"use strict";exports.id=975,exports.ids=[975],exports.modules={24975:(e,a,t)=>{t.r(a),t.d(a,{Durations:()=>Ta,KnownMonitorAudience:()=>ye,KnownMonitorLogsQueryAudience:()=>ge,KnownMonitorMetricsQueryAudience:()=>Ne,LogsQueryClient:()=>LogsQueryClient,LogsQueryResultStatus:()=>le,MetricsClient:()=>MetricsClient,MetricsQueryClient:()=>MetricsQueryClient});var r={};t.r(r),t.d(r,{BatchQueryRequest:()=>k,BatchQueryResponse:()=>V,BatchQueryResults:()=>Q,BatchRequest:()=>x,BatchResponse:()=>$,Column:()=>c,ErrorDetail:()=>u,ErrorInfo:()=>d,ErrorResponse:()=>y,MetadataApplication:()=>I,MetadataApplicationRelated:()=>R,MetadataCategory:()=>S,MetadataCategoryRelated:()=>z,MetadataFunction:()=>v,MetadataFunctionRelated:()=>T,MetadataPermissions:()=>E,MetadataPermissionsApplicationsItem:()=>_,MetadataPermissionsResourcesItem:()=>j,MetadataPermissionsWorkspacesItem:()=>B,MetadataQuery:()=>O,MetadataQueryRelated:()=>A,MetadataResourceType:()=>h,MetadataResourceTypeRelated:()=>M,MetadataResults:()=>N,MetadataSolution:()=>b,MetadataSolutionRelated:()=>q,MetadataTable:()=>C,MetadataTableColumnsItem:()=>P,MetadataTableRelated:()=>f,MetadataWorkspace:()=>w,MetadataWorkspaceRelated:()=>D,QueryBody:()=>g,QueryResults:()=>p,Table:()=>l});var i={};t.r(i),t.d(i,{ErrorAdditionalInfo:()=>Ae,ErrorContract:()=>Te,ErrorResponse:()=>Oe,LocalizableString:()=>Ce,MetadataValue:()=>fe,Metric:()=>qe,MetricValue:()=>ve,Response:()=>be,SubscriptionScopeMetricsRequestBodyParameters:()=>Ie,TimeSeriesElement:()=>Pe});var s={};t.r(s),t.d(s,{ErrorAdditionalInfo:()=>pa,ErrorContract:()=>oa,ErrorResponse:()=>ma,LocalizableString:()=>sa,MetricAvailability:()=>na,MetricDefinition:()=>ca,MetricDefinitionCollection:()=>la,SubscriptionScopeMetricDefinition:()=>ia,SubscriptionScopeMetricDefinitionCollection:()=>ra});var n={};t.r(n),t.d(n,{ErrorResponse:()=>Pa,MetricNamespace:()=>qa,MetricNamespaceCollection:()=>ba,MetricNamespaceName:()=>Ca});var o={};t.r(o),t.d(o,{ErrorAdditionalInfo:()=>$a,ErrorDetail:()=>ka,ErrorResponse:()=>xa,LocalizableString:()=>Ea,MetadataValue:()=>ja,Metric:()=>Da,MetricResultsResponse:()=>Ra,MetricResultsResponseValuesItem:()=>wa,MetricValue:()=>_a,MetricsBatchBatchExceptionHeaders:()=>Va,ResourceIdList:()=>Ia,TimeSeriesElement:()=>Ba});var m=t(987);const p={type:{name:"Composite",className:"QueryResults",modelProperties:{tables:{serializedName:"tables",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Table"}}}},statistics:{serializedName:"statistics",type:{name:"Dictionary",value:{type:{name:"any"}}}},render:{serializedName:"render",type:{name:"Dictionary",value:{type:{name:"any"}}}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorInfo"}}}}},l={type:{name:"Composite",className:"Table",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},columns:{serializedName:"columns",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Column"}}}},rows:{serializedName:"rows",required:!0,type:{name:"Sequence",element:{type:{name:"Sequence",element:{type:{name:"Dictionary",value:{type:{name:"any"}}}}}}}}}}},c={type:{name:"Composite",className:"Column",modelProperties:{name:{serializedName:"name",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}}}}},d={type:{name:"Composite",className:"ErrorInfo",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}},details:{serializedName:"details",type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorDetail"}}}},innerError:{serializedName:"innererror",type:{name:"Composite",className:"ErrorInfo"}},additionalProperties:{serializedName:"additionalProperties",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},u={type:{name:"Composite",className:"ErrorDetail",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}},target:{serializedName:"target",type:{name:"String"}},value:{serializedName:"value",type:{name:"String"}},resources:{serializedName:"resources",type:{name:"Sequence",element:{type:{name:"String"}}}},additionalProperties:{serializedName:"additionalProperties",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},y={type:{name:"Composite",className:"ErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorInfo"}}}}},g={type:{name:"Composite",className:"QueryBody",modelProperties:{query:{serializedName:"query",required:!0,type:{name:"String"}},timespan:{serializedName:"timespan",type:{name:"String"}},workspaces:{serializedName:"workspaces",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},N={type:{name:"Composite",className:"MetadataResults",modelProperties:{categories:{constraints:{UniqueItems:!0},serializedName:"categories",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataCategory"}}}},resourceTypes:{constraints:{UniqueItems:!0},serializedName:"resourceTypes",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataResourceType"}}}},solutions:{constraints:{UniqueItems:!0},serializedName:"solutions",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataSolution"}}}},tables:{constraints:{UniqueItems:!0},serializedName:"tables",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataTable"}}}},functions:{constraints:{UniqueItems:!0},serializedName:"functions",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataFunction"}}}},queries:{constraints:{UniqueItems:!0},serializedName:"queries",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataQuery"}}}},applications:{constraints:{UniqueItems:!0},serializedName:"applications",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataApplication"}}}},workspaces:{constraints:{UniqueItems:!0},serializedName:"workspaces",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataWorkspace"}}}},resources:{constraints:{UniqueItems:!0},serializedName:"resources",type:{name:"Sequence",element:{type:{name:"any"}}}},permissions:{constraints:{UniqueItems:!0},serializedName:"permissions",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataPermissions"}}}}}}},S={type:{name:"Composite",className:"MetadataCategory",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},displayName:{serializedName:"displayName",required:!0,type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}},related:{serializedName:"related",type:{name:"Composite",className:"MetadataCategoryRelated"}}}}},z={type:{name:"Composite",className:"MetadataCategoryRelated",modelProperties:{tables:{serializedName:"tables",type:{name:"Sequence",element:{type:{name:"String"}}}},functions:{serializedName:"functions",type:{name:"Sequence",element:{type:{name:"String"}}}},resourceTypes:{serializedName:"resourceTypes",type:{name:"Sequence",element:{type:{name:"String"}}}},queries:{serializedName:"queries",type:{name:"Sequence",element:{type:{name:"String"}}}},solutions:{serializedName:"solutions",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},h={type:{name:"Composite",className:"MetadataResourceType",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},type:{serializedName:"type",required:!0,type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}},labels:{serializedName:"labels",type:{name:"Sequence",element:{type:{name:"String"}}}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"any"}}}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}},related:{serializedName:"related",type:{name:"Composite",className:"MetadataResourceTypeRelated"}}}}},M={type:{name:"Composite",className:"MetadataResourceTypeRelated",modelProperties:{tables:{serializedName:"tables",type:{name:"Sequence",element:{type:{name:"String"}}}},functions:{serializedName:"functions",type:{name:"Sequence",element:{type:{name:"String"}}}},categories:{serializedName:"categories",type:{name:"Sequence",element:{type:{name:"String"}}}},queries:{serializedName:"queries",type:{name:"Sequence",element:{type:{name:"String"}}}},workspaces:{serializedName:"workspaces",type:{name:"Sequence",element:{type:{name:"String"}}}},resources:{serializedName:"resources",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},b={type:{name:"Composite",className:"MetadataSolution",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},name:{serializedName:"name",required:!0,type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"any"}}}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}},related:{serializedName:"related",type:{name:"Composite",className:"MetadataSolutionRelated"}}}}},q={type:{name:"Composite",className:"MetadataSolutionRelated",modelProperties:{tables:{serializedName:"tables",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},functions:{serializedName:"functions",type:{name:"Sequence",element:{type:{name:"String"}}}},categories:{serializedName:"categories",type:{name:"Sequence",element:{type:{name:"String"}}}},queries:{serializedName:"queries",type:{name:"Sequence",element:{type:{name:"String"}}}},workspaces:{serializedName:"workspaces",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},C={type:{name:"Composite",className:"MetadataTable",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},name:{serializedName:"name",required:!0,type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}},timespanColumn:{serializedName:"timespanColumn",type:{name:"String"}},labels:{serializedName:"labels",type:{name:"Sequence",element:{type:{name:"String"}}}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"any"}}}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}},columns:{serializedName:"columns",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataTableColumnsItem"}}}},related:{serializedName:"related",type:{name:"Composite",className:"MetadataTableRelated"}}}}},P={type:{name:"Composite",className:"MetadataTableColumnsItem",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}},type:{serializedName:"type",required:!0,type:{name:"String"}},isPreferredFacet:{serializedName:"isPreferredFacet",type:{name:"Boolean"}},source:{serializedName:"source",type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},f={type:{name:"Composite",className:"MetadataTableRelated",modelProperties:{categories:{serializedName:"categories",type:{name:"Sequence",element:{type:{name:"String"}}}},solutions:{serializedName:"solutions",type:{name:"Sequence",element:{type:{name:"String"}}}},resourceTypes:{serializedName:"resourceTypes",type:{name:"Sequence",element:{type:{name:"String"}}}},workspaces:{serializedName:"workspaces",type:{name:"Sequence",element:{type:{name:"String"}}}},functions:{serializedName:"functions",type:{name:"Sequence",element:{type:{name:"String"}}}},queries:{serializedName:"queries",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},v={type:{name:"Composite",className:"MetadataFunction",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},name:{serializedName:"name",required:!0,type:{name:"String"}},parameters:{serializedName:"parameters",type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}},body:{serializedName:"body",required:!0,type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"any"}}}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}},related:{serializedName:"related",type:{name:"Composite",className:"MetadataFunctionRelated"}}}}},T={type:{name:"Composite",className:"MetadataFunctionRelated",modelProperties:{tables:{serializedName:"tables",type:{name:"Sequence",element:{type:{name:"String"}}}},solutions:{serializedName:"solutions",type:{name:"Sequence",element:{type:{name:"String"}}}},resourceTypes:{serializedName:"resourceTypes",type:{name:"Sequence",element:{type:{name:"String"}}}},categories:{serializedName:"categories",type:{name:"Sequence",element:{type:{name:"String"}}}},workspaces:{serializedName:"workspaces",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},O={type:{name:"Composite",className:"MetadataQuery",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}},body:{serializedName:"body",required:!0,type:{name:"String"}},labels:{serializedName:"labels",type:{name:"Sequence",element:{type:{name:"String"}}}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"any"}}}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"any"}}}},related:{serializedName:"related",type:{name:"Composite",className:"MetadataQueryRelated"}}}}},A={type:{name:"Composite",className:"MetadataQueryRelated",modelProperties:{categories:{serializedName:"categories",type:{name:"Sequence",element:{type:{name:"String"}}}},solutions:{serializedName:"solutions",type:{name:"Sequence",element:{type:{name:"String"}}}},resourceTypes:{serializedName:"resourceTypes",type:{name:"Sequence",element:{type:{name:"String"}}}},tables:{serializedName:"tables",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},I={type:{name:"Composite",className:"MetadataApplication",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},resourceId:{serializedName:"resourceId",required:!0,type:{name:"String"}},name:{serializedName:"name",required:!0,type:{name:"String"}},region:{serializedName:"region",required:!0,type:{name:"String"}},related:{serializedName:"related",type:{name:"Composite",className:"MetadataApplicationRelated"}}}}},R={type:{name:"Composite",className:"MetadataApplicationRelated",modelProperties:{tables:{serializedName:"tables",type:{name:"Sequence",element:{type:{name:"String"}}}},functions:{serializedName:"functions",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},w={type:{name:"Composite",className:"MetadataWorkspace",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},resourceId:{serializedName:"resourceId",required:!0,type:{name:"String"}},name:{serializedName:"name",required:!0,type:{name:"String"}},region:{serializedName:"region",required:!0,type:{name:"String"}},related:{serializedName:"related",type:{name:"Composite",className:"MetadataWorkspaceRelated"}}}}},D={type:{name:"Composite",className:"MetadataWorkspaceRelated",modelProperties:{tables:{serializedName:"tables",type:{name:"Sequence",element:{type:{name:"String"}}}},solutions:{serializedName:"solutions",type:{name:"Sequence",element:{type:{name:"String"}}}},resourceTypes:{serializedName:"resourceTypes",type:{name:"Sequence",element:{type:{name:"String"}}}},functions:{serializedName:"functions",type:{name:"Sequence",element:{type:{name:"String"}}}},resources:{serializedName:"resources",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},E={type:{name:"Composite",className:"MetadataPermissions",modelProperties:{workspaces:{serializedName:"workspaces",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataPermissionsWorkspacesItem"}}}},resources:{serializedName:"resources",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataPermissionsResourcesItem"}}}},applications:{serializedName:"applications",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataPermissionsApplicationsItem"}}}}}}},B={type:{name:"Composite",className:"MetadataPermissionsWorkspacesItem",modelProperties:{resourceId:{serializedName:"resourceId",required:!0,type:{name:"String"}},denyTables:{serializedName:"denyTables",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},j={type:{name:"Composite",className:"MetadataPermissionsResourcesItem",modelProperties:{resourceId:{serializedName:"resourceId",required:!0,type:{name:"String"}},denyTables:{serializedName:"denyTables",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},_={type:{name:"Composite",className:"MetadataPermissionsApplicationsItem",modelProperties:{resourceId:{serializedName:"resourceId",required:!0,type:{name:"String"}}}}},x={type:{name:"Composite",className:"BatchRequest",modelProperties:{requests:{serializedName:"requests",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"BatchQueryRequest"}}}}}}},k={type:{name:"Composite",className:"BatchQueryRequest",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},headers:{serializedName:"headers",type:{name:"Dictionary",value:{type:{name:"String"}}}},body:{serializedName:"body",type:{name:"Composite",className:"QueryBody"}},path:{defaultValue:"/query",isConstant:!0,serializedName:"path",type:{name:"String"}},method:{defaultValue:"POST",isConstant:!0,serializedName:"method",type:{name:"String"}},workspace:{serializedName:"workspace",required:!0,type:{name:"String"}}}}},$={type:{name:"Composite",className:"BatchResponse",modelProperties:{responses:{serializedName:"responses",type:{name:"Sequence",element:{type:{name:"Composite",className:"BatchQueryResponse"}}}}}}},V={type:{name:"Composite",className:"BatchQueryResponse",modelProperties:{id:{serializedName:"id",type:{name:"String"}},status:{serializedName:"status",type:{name:"Number"}},body:{serializedName:"body",type:{name:"Composite",className:"BatchQueryResults"}},headers:{serializedName:"headers",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},Q={type:{name:"Composite",className:"BatchQueryResults",modelProperties:{tables:{serializedName:"tables",type:{name:"Sequence",element:{type:{name:"Composite",className:"Table"}}}},statistics:{serializedName:"statistics",type:{name:"Dictionary",value:{type:{name:"any"}}}},render:{serializedName:"render",type:{name:"Dictionary",value:{type:{name:"any"}}}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorInfo"}}}}},U={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},F={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},L={parameterPath:"workspaceId",mapper:{serializedName:"workspaceId",required:!0,type:{name:"String"}}},G={parameterPath:"query",mapper:{serializedName:"query",required:!0,type:{name:"String"}}},H={parameterPath:["options","timespan"],mapper:{serializedName:"timespan",type:{name:"TimeSpan"}}},W={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},J={parameterPath:"body",mapper:g},K={parameterPath:["options","prefer"],mapper:{serializedName:"Prefer",type:{name:"String"}}},X={parameterPath:"resourceId",mapper:{serializedName:"resourceId",required:!0,type:{name:"String"}},skipEncoding:!0},Y={parameterPath:"body",mapper:x};class QueryImpl{constructor(e){this.client=e}get(e,a,t){return this.client.sendOperationRequest({workspaceId:e,query:a,options:t},ee)}execute(e,a,t){return this.client.sendOperationRequest({workspaceId:e,body:a,options:t},ae)}resourceGet(e,a,t){return this.client.sendOperationRequest({resourceId:e,query:a,options:t},te)}resourceExecute(e,a,t){return this.client.sendOperationRequest({resourceId:e,body:a,options:t},re)}batch(e,a){return this.client.sendOperationRequest({body:e,options:a},ie)}resourceGetXms(e,a,t){return this.client.sendOperationRequest({resourceId:e,query:a,options:t},se)}resourceExecuteXms(e,a,t){return this.client.sendOperationRequest({resourceId:e,body:a,options:t},ne)}}const Z=m.rl(r,!1),ee={path:"/workspaces/{workspaceId}/query",httpMethod:"GET",responses:{200:{bodyMapper:p},default:{bodyMapper:y}},queryParameters:[G,H],urlParameters:[F,L],headerParameters:[U],serializer:Z},ae={path:"/workspaces/{workspaceId}/query",httpMethod:"POST",responses:{200:{bodyMapper:p},default:{bodyMapper:y}},requestBody:J,urlParameters:[F,L],headerParameters:[U,W,K],mediaType:"json",serializer:Z},te={path:"/{resourceId}/query",httpMethod:"GET",responses:{200:{bodyMapper:p},default:{bodyMapper:y}},queryParameters:[G,H],urlParameters:[F,X],headerParameters:[U],serializer:Z},re={path:"/{resourceId}/query",httpMethod:"POST",responses:{200:{bodyMapper:p},default:{bodyMapper:y}},requestBody:J,urlParameters:[F,X],headerParameters:[U,W,K],mediaType:"json",serializer:Z},ie={path:"/$batch",httpMethod:"POST",responses:{200:{bodyMapper:$},default:{bodyMapper:y}},requestBody:Y,urlParameters:[F],headerParameters:[U,W],mediaType:"json",serializer:Z},se={path:"/{resourceId}/query",httpMethod:"GET",responses:{200:{bodyMapper:p},default:{bodyMapper:y}},queryParameters:[G,H],urlParameters:[F,X],headerParameters:[U],serializer:Z},ne={path:"/{resourceId}/query",httpMethod:"POST",responses:{200:{bodyMapper:p},default:{bodyMapper:y}},requestBody:J,urlParameters:[F,X],headerParameters:[U,W,K],mediaType:"json",serializer:Z};class MetadataImpl{constructor(e){this.client=e}get(e,a){return this.client.sendOperationRequest({workspaceId:e,options:a},me)}post(e,a){return this.client.sendOperationRequest({workspaceId:e,options:a},pe)}}const oe=m.rl(r,!1),me={path:"/workspaces/{workspaceId}/metadata",httpMethod:"GET",responses:{200:{bodyMapper:N},default:{bodyMapper:y}},urlParameters:[F,L],headerParameters:[U],serializer:oe},pe={path:"/workspaces/{workspaceId}/metadata",httpMethod:"POST",responses:{200:{bodyMapper:N},default:{bodyMapper:y}},urlParameters:[F,L],headerParameters:[U],serializer:oe};class AzureLogAnalyticsContext extends m.Nl{constructor(e){e||(e={});const a="azsdk-js-monitor-log-query/1.3.2",t=e.userAgentOptions&&e.userAgentOptions.userAgentPrefix?`${e.userAgentOptions.userAgentPrefix} ${a}`:`${a}`;super(Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8"}),e),{userAgentOptions:{userAgentPrefix:t},baseUri:e.endpoint||"https://api.loganalytics.io/v1"})),this.$host=e.$host||"https://api.loganalytics.io/v1"}}class AzureLogAnalytics extends AzureLogAnalyticsContext{constructor(e){super(e),this.query=new QueryImpl(this),this.metadata=new MetadataImpl(this)}}var le;!function(e){e.PartialFailure="PartialFailure",e.Failure="Failure",e.Success="Success"}(le||(le={}));var ce=t(31635);function formatPreferHeader(e){if(!e)return;const a=[];return null!=e.serverTimeoutInSeconds&&a.push(`wait=${e.serverTimeoutInSeconds}`),e.includeQueryStatistics&&a.push("include-statistics=true"),e.includeVisualization&&a.push("include-render=true"),a.length>0?{Prefer:a.join(",")}:void 0}function getMetricByName(e){return this.metrics.find(a=>a.name===e)}var de=t(45769);function convertTimespanToInterval(e){if((0,de.TA)(e,["startTime","endTime","duration"]))throw new TypeError("Invalid Timespan - contains startTime, endTime, and duration.");if((0,de.TA)(e,["startTime","endTime"]))return`${e.startTime.toISOString()}/${e.endTime.toISOString()}`;if((0,de.TA)(e,["startTime","duration"]))return`${e.startTime.toISOString()}/${e.duration}`;if((0,de.TA)(e,["duration","endTime"]))return`${e.duration}/${e.endTime.toISOString()}`;if((0,de.TA)(e,["duration"]))return e.duration;throw new TypeError("Invalid Timespan - no valid fields assigned.")}function convertIntervalToTimeIntervalObject(e){if(e.includes("/")){const a=e.split("/");return Date.parse(a[0])&&Date.parse(a[1])?{startTime:new Date(a[0]),endTime:new Date(a[1])}:Date.parse(a[0])&&!Date.parse(a[1])?{startTime:new Date(a[0]),duration:a[1]}:!Date.parse(a[0])&&Date.parse(a[1])?{duration:a[0],endTime:new Date(a[1])}:{duration:e}}return{duration:e}}function convertResponseForQueryBatch(e,a){var t;const r=function fixInvalidBatchQueryResponse(e,a){var t;if(null==e.responses)return!1;let r=!1;const i=JSON.parse(a.bodyAsText);for(let a=0;a<e.responses.length;++a)null==(null===(t=e.responses[a].body)||void 0===t?void 0:t.error)&&(e.responses[a].body=i.responses[a].body,r=!0);return r}(e,a),i=e.responses||[],s=null===(t=null==i?void 0:i.sort((e,a)=>{let t=0;null!=e.id&&(t=parseInt(e.id,10));let r=0;return null!=a.id&&(r=parseInt(a.id,10)),t-r}))||void 0===t?void 0:t.map(e=>function convertBatchQueryResponseHelper(e){try{return computeResultType(JSON.parse(e.body))}catch(a){return e.body?computeResultType(e.body):{}}}(e));return s.__fixApplied=r,s}function convertResponseForMetrics(e){const a=e.value.map(e=>{const a=Object.assign(Object.assign({},e),{name:e.name.value,description:e.displayDescription,timeseries:e.timeseries.map(e=>{var a;return{data:e.data,metadataValues:null===(a=e.metadatavalues)||void 0===a?void 0:a.map(e=>{var a;return Object.assign(Object.assign({},e),{name:null===(a=e.name)||void 0===a?void 0:a.value})})}})});return delete a.displayDescription,a}),{resourceregion:t,value:r,interval:i,timespan:s}=e,n=(0,ce.__rest)(e,["resourceregion","value","interval","timespan"]),o=Object.assign(Object.assign({},n),{metrics:a,timespan:convertIntervalToTimeIntervalObject(s)});return t&&(o.resourceRegion=t),i&&(o.granularity=i),function createMetricsQueryResult(e){return Object.assign(Object.assign({},e),{getMetricByName})}(o)}function convertGeneratedTable(e){const a=[],t=[];for(let r=0;r<e.columns.length;++r)"datetime"===e.columns[r].type?t.push(r):"dynamic"===e.columns[r].type&&a.push(r);return Object.assign(Object.assign({},e),{rows:e.rows.map(e=>{for(const t of a)try{e[t]=JSON.parse(e[t])}catch(e){}for(const a of t)e[a]=new Date(e[a]);return e}),columnDescriptors:e.columns})}function computeResultType(e){var a,t;if(e.error){if(e.tables){return{visualization:e.render,status:le.PartialFailure,statistics:e.statistics,partialTables:null===(t=e.tables)||void 0===t?void 0:t.map(e=>convertGeneratedTable(e)),partialError:mapError(e.error)}}{const a=mapError(e.error);return Object.assign({status:le.Failure},a)}}return{visualization:e.render,status:le.Success,statistics:e.statistics,tables:(null===(a=e.tables)||void 0===a?void 0:a.map(e=>convertGeneratedTable(e)))||[]}}function mapError(e){let a=e;for(;a.innerError;)a=a.innerError;return{name:"Error",code:e.code,message:`${e.message}.  ${a.message}`}}const ue="1.3.2";var ye,ge,Ne;!function(e){e.AzureChina="https://metrics.monitor.azure.cn",e.AzureGovernment="https://metrics.monitor.azure.us",e.AzurePublicCloud="https://metrics.monitor.azure.com"}(ye||(ye={})),function(e){e.AzureChina="https://api.loganalytics.azure.cn",e.AzureGovernment="https://api.loganalytics.us",e.AzurePublicCloud="https://api.loganalytics.io"}(ge||(ge={})),function(e){e.AzureChina="https://management.chinacloudapi.cn",e.AzureGovernment="https://management.usgovcloudapi.net",e.AzurePublicCloud="https://management.azure.com/"}(Ne||(Ne={}));const Se=(0,t(11652).y)({namespace:"Microsoft.Monitor",packageName:"@azure/monitor-query",packageVersion:ue});class LogsQueryClient{constructor(e,a){const t=(null==a?void 0:a.audience)?`${a.audience}/.default`:`${ge.AzurePublicCloud}/.default`;let r=null==a?void 0:a.endpoint;(null==a?void 0:a.endpoint)&&(r=function getLogQueryEndpoint(e){if(!e.endpoint)throw new Error("options.endpoint is required");const a=new URL(e.endpoint);return a.pathname="/v1",a.toString()}(a));const i=`azsdk-js-monitor-query/${ue}`,s=(null==a?void 0:a.userAgentOptions)&&(null==a?void 0:a.userAgentOptions.userAgentPrefix)?`${null==a?void 0:a.userAgentOptions.userAgentPrefix} ${i}`:`${i}`;this._logAnalytics=new AzureLogAnalytics(Object.assign(Object.assign({},a),{$host:r,endpoint:r,credentialScopes:t,credential:e,userAgentOptions:{userAgentPrefix:s}}))}async queryWorkspace(e,a,t,r={}){let i="";return Se.withSpan("LogsQueryClient.queryWorkspace",r,async s=>{var n;t&&(i=convertTimespanToInterval(t));const{flatResponse:o,rawResponse:m}=await getRawResponse(t=>this._logAnalytics.query.execute(e,{query:a,timespan:i,workspaces:null==r?void 0:r.additionalWorkspaces},t),Object.assign(Object.assign({},s),{requestOptions:Object.assign(Object.assign({},s.requestOptions),{customHeaders:Object.assign(Object.assign({},null===(n=s.requestOptions)||void 0===n?void 0:n.customHeaders),formatPreferHeader(r))})})),p=JSON.parse(m.bodyAsText);o.tables=p.tables;const l={tables:o.tables.map(convertGeneratedTable),statistics:o.statistics,visualization:o.render};if(o.error){return{partialTables:l.tables,status:le.PartialFailure,partialError:mapError(o.error),statistics:l.statistics,visualization:l.visualization}}return{tables:l.tables,statistics:l.statistics,visualization:l.visualization,status:le.Success}})}async queryBatch(e,a={}){return Se.withSpan("LogsQueryClient.queryBatch",a,async a=>{const t=function convertRequestForQueryBatch(e){let a=0;const t=e.map(e=>{const t={workspaceId:e.workspaceId,query:e.query};e.additionalWorkspaces&&(t.workspaces=e.additionalWorkspaces.map(e=>e)),e.timespan&&(t.timespan=convertTimespanToInterval(e.timespan)),delete t.workspaceId,delete t.includeQueryStatistics,delete t.includeVisualization,delete t.additionalWorkspaces,delete t.serverTimeoutInSeconds;const r={id:a.toString(),workspace:e.workspaceId,headers:formatPreferHeader(e),body:t};return++a,r});return{requests:t}}(e),{flatResponse:r,rawResponse:i}=await getRawResponse(e=>this._logAnalytics.query.batch(t,e),a||{});return convertResponseForQueryBatch(r,i)})}async queryResource(e,a,t,r={}){let i="";return Se.withSpan("LogsQueryClient.queryResource",r,async s=>{var n;i=convertTimespanToInterval(t),e.startsWith("/")&&(e=e.substring(1));const{flatResponse:o,rawResponse:m}=await getRawResponse(t=>this._logAnalytics.query.resourceExecute(e,{query:a,timespan:i,workspaces:null==r?void 0:r.additionalWorkspaces},t),Object.assign(Object.assign({},s),{requestOptions:Object.assign(Object.assign({},s.requestOptions),{customHeaders:Object.assign(Object.assign({},null===(n=s.requestOptions)||void 0===n?void 0:n.customHeaders),formatPreferHeader(r))})})),p=JSON.parse(m.bodyAsText);o.tables=p.tables;const l={tables:o.tables.map(convertGeneratedTable),statistics:o.statistics,visualization:o.render};if(o.error){return{partialTables:l.tables,status:le.PartialFailure,partialError:mapError(o.error),statistics:l.statistics,visualization:l.visualization}}return{tables:l.tables,statistics:l.statistics,visualization:l.visualization,status:le.Success}})}}async function getRawResponse(e,a){const{onResponse:t}=a||{};let r;return{flatResponse:await e(Object.assign(Object.assign({},a),{onResponse:(e,a)=>{r=e,null==t||t(e,a)}})),rawResponse:r}}var ze,he,Me;!function(e){e.TwoThousandTwentyFour0201="2024-02-01"}(ze||(ze={})),function(e){e.Data="Data",e.Metadata="Metadata"}(he||(he={})),function(e){e.Count="Count",e.Bytes="Bytes",e.Seconds="Seconds",e.CountPerSecond="CountPerSecond",e.BytesPerSecond="BytesPerSecond",e.Percent="Percent",e.MilliSeconds="MilliSeconds",e.ByteSeconds="ByteSeconds",e.Unspecified="Unspecified",e.Cores="Cores",e.MilliCores="MilliCores",e.NanoCores="NanoCores",e.BitsPerSecond="BitsPerSecond"}(Me||(Me={}));const be={type:{name:"Composite",className:"Response",modelProperties:{cost:{constraints:{InclusiveMinimum:0},serializedName:"cost",type:{name:"Number"}},timespan:{serializedName:"timespan",required:!0,type:{name:"String"}},interval:{serializedName:"interval",type:{name:"String"}},namespace:{serializedName:"namespace",type:{name:"String"}},resourceregion:{serializedName:"resourceregion",type:{name:"String"}},value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Metric"}}}}}}},qe={type:{name:"Composite",className:"Metric",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},type:{serializedName:"type",required:!0,type:{name:"String"}},name:{serializedName:"name",type:{name:"Composite",className:"LocalizableString"}},displayDescription:{serializedName:"displayDescription",type:{name:"String"}},errorCode:{serializedName:"errorCode",type:{name:"String"}},errorMessage:{serializedName:"errorMessage",type:{name:"String"}},unit:{serializedName:"unit",required:!0,type:{name:"String"}},timeseries:{serializedName:"timeseries",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TimeSeriesElement"}}}}}}},Ce={type:{name:"Composite",className:"LocalizableString",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"String"}},localizedValue:{serializedName:"localizedValue",type:{name:"String"}}}}},Pe={type:{name:"Composite",className:"TimeSeriesElement",modelProperties:{metadatavalues:{serializedName:"metadatavalues",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataValue"}}}},data:{serializedName:"data",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetricValue"}}}}}}},fe={type:{name:"Composite",className:"MetadataValue",modelProperties:{name:{serializedName:"name",type:{name:"Composite",className:"LocalizableString"}},value:{serializedName:"value",type:{name:"String"}}}}},ve={type:{name:"Composite",className:"MetricValue",modelProperties:{timeStamp:{serializedName:"timeStamp",required:!0,type:{name:"DateTime"}},average:{serializedName:"average",type:{name:"Number"}},minimum:{serializedName:"minimum",type:{name:"Number"}},maximum:{serializedName:"maximum",type:{name:"Number"}},total:{serializedName:"total",type:{name:"Number"}},count:{serializedName:"count",type:{name:"Number"}}}}},Te={type:{name:"Composite",className:"ErrorContract",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}}}}},Oe={type:{name:"Composite",className:"ErrorResponse",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorResponse"}}}},additionalInfo:{serializedName:"additionalInfo",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorAdditionalInfo"}}}}}}},Ae={type:{name:"Composite",className:"ErrorAdditionalInfo",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},info:{serializedName:"info",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},Ie={type:{name:"Composite",className:"SubscriptionScopeMetricsRequestBodyParameters",modelProperties:{timespan:{serializedName:"timespan",type:{name:"String"}},interval:{serializedName:"interval",type:{name:"String"}},metricNames:{serializedName:"metricNames",type:{name:"String"}},aggregation:{serializedName:"aggregation",type:{name:"String"}},filter:{serializedName:"filter",type:{name:"String"}},top:{serializedName:"top",type:{name:"Number"}},orderBy:{serializedName:"orderBy",type:{name:"String"}},rollUpBy:{serializedName:"rollUpBy",type:{name:"String"}},resultType:{serializedName:"resultType",type:{name:"String"}},metricNamespace:{serializedName:"metricNamespace",type:{name:"String"}},autoAdjustTimegrain:{serializedName:"autoAdjustTimegrain",type:{name:"Boolean"}},validateDimensions:{serializedName:"validateDimensions",type:{name:"Boolean"}}}}},Re={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},we={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},De={parameterPath:"subscriptionId",mapper:{constraints:{MinLength:1},serializedName:"subscriptionId",required:!0,type:{name:"String"}}},Ee={parameterPath:"apiVersion",mapper:{serializedName:"api-version",required:!0,type:{name:"String"}}},Be={parameterPath:"region",mapper:{serializedName:"region",required:!0,type:{name:"String"}}},je={parameterPath:["options","timespan"],mapper:{serializedName:"timespan",type:{name:"String"}}},_e={parameterPath:["options","interval"],mapper:{serializedName:"interval",type:{name:"String"}}},xe={parameterPath:["options","metricnames"],mapper:{serializedName:"metricnames",type:{name:"String"}}},ke={parameterPath:["options","aggregation"],mapper:{serializedName:"aggregation",type:{name:"String"}}},$e={parameterPath:["options","top"],mapper:{serializedName:"top",type:{name:"Number"}}},Ve={parameterPath:["options","orderby"],mapper:{serializedName:"orderby",type:{name:"String"}}},Qe={parameterPath:["options","filter"],mapper:{serializedName:"$filter",type:{name:"String"}}},Ue={parameterPath:["options","resultType"],mapper:{serializedName:"resultType",type:{name:"String"}}},Fe={parameterPath:["options","metricnamespace"],mapper:{serializedName:"metricnamespace",type:{name:"String"}}},Le={parameterPath:["options","autoAdjustTimegrain"],mapper:{serializedName:"AutoAdjustTimegrain",type:{name:"Boolean"}}},Ge={parameterPath:["options","validateDimensions"],mapper:{serializedName:"ValidateDimensions",type:{name:"Boolean"}}},He={parameterPath:["options","rollupby"],mapper:{serializedName:"rollupby",type:{name:"String"}}},We={parameterPath:["options","body"],mapper:Ie};class MetricsImpl{constructor(e){this.client=e}listAtSubscriptionScope(e,a,t){return this.client.sendOperationRequest({subscriptionId:e,region:a,options:t},Ke)}listAtSubscriptionScopePost(e,a,t){return this.client.sendOperationRequest({subscriptionId:e,region:a,options:t},Xe)}list(e,a){return this.client.sendOperationRequest({resourceUri:e,options:a},Ye)}}const Je=m.rl(i,!1),Ke={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Insights/metrics",httpMethod:"GET",responses:{200:{bodyMapper:be},default:{bodyMapper:Te}},queryParameters:[Ee,Be,je,_e,xe,ke,$e,Ve,Qe,Ue,Fe,Le,Ge,He],urlParameters:[we,De],headerParameters:[Re],serializer:Je},Xe={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Insights/metrics",httpMethod:"POST",responses:{200:{bodyMapper:be},default:{bodyMapper:Te}},requestBody:We,queryParameters:[Ee,Be,je,_e,xe,ke,$e,Ve,Qe,Ue,Fe,Le,Ge,He],urlParameters:[we,De],headerParameters:[Re,{parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}}],mediaType:"json",serializer:Je},Ye={path:"/{resourceUri}/providers/Microsoft.Insights/metrics",httpMethod:"GET",responses:{200:{bodyMapper:be},default:{bodyMapper:Oe}},queryParameters:[Ee,je,_e,xe,ke,$e,Ve,Qe,Fe,Le,Ge,He,{parameterPath:["options","resultType"],mapper:{serializedName:"resultType",type:{name:"Enum",allowedValues:["Data","Metadata"]}}}],urlParameters:[we,{parameterPath:"resourceUri",mapper:{serializedName:"resourceUri",required:!0,type:{name:"String"}},skipEncoding:!0}],headerParameters:[Re],serializer:Je};class MonitorManagementClientContext extends m.Nl{constructor(e,a){if(void 0===e)throw new Error("'apiVersion' cannot be null");a||(a={});const t="azsdk-js-monitor-metrics/1.3.2",r=a.userAgentOptions&&a.userAgentOptions.userAgentPrefix?`${a.userAgentOptions.userAgentPrefix} ${t}`:`${t}`;super(Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8"}),a),{userAgentOptions:{userAgentPrefix:r},baseUri:a.endpoint||"https://management.azure.com"})),this.apiVersion=e,this.$host=a.$host||"https://management.azure.com"}}class MonitorManagementClient extends MonitorManagementClientContext{constructor(e,a){super(e,a),this.metrics=new MetricsImpl(this)}}var Ze,ea,aa,ta;!function(e){e.TwoThousandTwentyFour0201="2024-02-01"}(Ze||(Ze={})),function(e){e.Availability="Availability",e.Transactions="Transactions",e.Errors="Errors",e.Latency="Latency",e.Saturation="Saturation"}(ea||(ea={})),function(e){e.Count="Count",e.Bytes="Bytes",e.Seconds="Seconds",e.CountPerSecond="CountPerSecond",e.BytesPerSecond="BytesPerSecond",e.Percent="Percent",e.MilliSeconds="MilliSeconds",e.ByteSeconds="ByteSeconds",e.Unspecified="Unspecified",e.Cores="Cores",e.MilliCores="MilliCores",e.NanoCores="NanoCores",e.BitsPerSecond="BitsPerSecond"}(aa||(aa={})),function(e){e.None="None",e.Average="Average",e.Count="Count",e.Minimum="Minimum",e.Maximum="Maximum",e.Total="Total"}(ta||(ta={}));const ra={type:{name:"Composite",className:"SubscriptionScopeMetricDefinitionCollection",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"SubscriptionScopeMetricDefinition"}}}}}}},ia={type:{name:"Composite",className:"SubscriptionScopeMetricDefinition",modelProperties:{isDimensionRequired:{serializedName:"isDimensionRequired",type:{name:"Boolean"}},resourceId:{serializedName:"resourceId",type:{name:"String"}},namespace:{serializedName:"namespace",type:{name:"String"}},name:{serializedName:"name",type:{name:"Composite",className:"LocalizableString"}},displayDescription:{serializedName:"displayDescription",type:{name:"String"}},category:{serializedName:"category",type:{name:"String"}},metricClass:{serializedName:"metricClass",type:{name:"String"}},unit:{serializedName:"unit",type:{name:"String"}},primaryAggregationType:{serializedName:"primaryAggregationType",type:{name:"String"}},supportedAggregationTypes:{serializedName:"supportedAggregationTypes",type:{name:"Sequence",element:{type:{name:"String"}}}},metricAvailabilities:{serializedName:"metricAvailabilities",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetricAvailability"}}}},id:{serializedName:"id",type:{name:"String"}},dimensions:{serializedName:"dimensions",type:{name:"Sequence",element:{type:{name:"Composite",className:"LocalizableString"}}}}}}},sa={type:{name:"Composite",className:"LocalizableString",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"String"}},localizedValue:{serializedName:"localizedValue",type:{name:"String"}}}}},na={type:{name:"Composite",className:"MetricAvailability",modelProperties:{timeGrain:{serializedName:"timeGrain",type:{name:"TimeSpan"}},retention:{serializedName:"retention",type:{name:"TimeSpan"}}}}},oa={type:{name:"Composite",className:"ErrorContract",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorResponse"}}}}},ma={type:{name:"Composite",className:"ErrorResponse",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorResponse"}}}},additionalInfo:{serializedName:"additionalInfo",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorAdditionalInfo"}}}}}}},pa={type:{name:"Composite",className:"ErrorAdditionalInfo",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},info:{serializedName:"info",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},la={type:{name:"Composite",className:"MetricDefinitionCollection",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"MetricDefinition"}}}}}}},ca={type:{name:"Composite",className:"MetricDefinition",modelProperties:{isDimensionRequired:{serializedName:"isDimensionRequired",type:{name:"Boolean"}},resourceId:{serializedName:"resourceId",type:{name:"String"}},namespace:{serializedName:"namespace",type:{name:"String"}},name:{serializedName:"name",type:{name:"Composite",className:"LocalizableString"}},displayDescription:{serializedName:"displayDescription",type:{name:"String"}},category:{serializedName:"category",type:{name:"String"}},metricClass:{serializedName:"metricClass",type:{name:"String"}},unit:{serializedName:"unit",type:{name:"String"}},primaryAggregationType:{serializedName:"primaryAggregationType",type:{name:"Enum",allowedValues:["None","Average","Count","Minimum","Maximum","Total"]}},supportedAggregationTypes:{serializedName:"supportedAggregationTypes",type:{name:"Sequence",element:{type:{name:"Enum",allowedValues:["None","Average","Count","Minimum","Maximum","Total"]}}}},metricAvailabilities:{serializedName:"metricAvailabilities",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetricAvailability"}}}},id:{serializedName:"id",type:{name:"String"}},dimensions:{serializedName:"dimensions",type:{name:"Sequence",element:{type:{name:"Composite",className:"LocalizableString"}}}}}}},da={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},ua={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},ya={parameterPath:"apiVersion",mapper:{serializedName:"api-version",required:!0,type:{name:"String"}}},ga={parameterPath:["options","metricnamespace"],mapper:{serializedName:"metricnamespace",type:{name:"String"}}};class MetricDefinitionsImpl{constructor(e){this.client=e}listAtSubscriptionScope(e,a,t){return this.client.sendOperationRequest({subscriptionId:e,region:a,options:t},Sa)}list(e,a){return this.client.sendOperationRequest({resourceUri:e,options:a},za)}}const Na=m.rl(s,!1),Sa={path:"/subscriptions/{subscriptionId}/providers/Microsoft.Insights/metricDefinitions",httpMethod:"GET",responses:{200:{bodyMapper:ra},default:{bodyMapper:oa}},queryParameters:[ya,{parameterPath:"region",mapper:{serializedName:"region",required:!0,type:{name:"String"}}},ga],urlParameters:[ua,{parameterPath:"subscriptionId",mapper:{constraints:{MinLength:1},serializedName:"subscriptionId",required:!0,type:{name:"String"}}}],headerParameters:[da],serializer:Na},za={path:"/{resourceUri}/providers/Microsoft.Insights/metricDefinitions",httpMethod:"GET",responses:{200:{bodyMapper:la},default:{bodyMapper:ma}},queryParameters:[ya,ga],urlParameters:[ua,{parameterPath:"resourceUri",mapper:{serializedName:"resourceUri",required:!0,type:{name:"String"}},skipEncoding:!0}],headerParameters:[da],serializer:Na};class monitorManagementClientContext_MonitorManagementClientContext extends m.Nl{constructor(e,a){if(void 0===e)throw new Error("'apiVersion' cannot be null");a||(a={});const t="azsdk-js-monitor-metrics-definitions/1.3.2",r=a.userAgentOptions&&a.userAgentOptions.userAgentPrefix?`${a.userAgentOptions.userAgentPrefix} ${t}`:`${t}`;super(Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8"}),a),{userAgentOptions:{userAgentPrefix:r},baseUri:a.endpoint||"https://management.azure.com"})),this.apiVersion=e,this.$host=a.$host||"https://management.azure.com"}}class monitorManagementClient_MonitorManagementClient extends monitorManagementClientContext_MonitorManagementClientContext{constructor(e,a){super(e,a),this.metricDefinitions=new MetricDefinitionsImpl(this)}}var ha,Ma;!function(e){e.TwoThousandTwentyFour0201="2024-02-01"}(ha||(ha={})),function(e){e.Platform="Platform",e.Custom="Custom",e.Qos="Qos"}(Ma||(Ma={}));const ba={type:{name:"Composite",className:"MetricNamespaceCollection",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"MetricNamespace"}}}}}}},qa={type:{name:"Composite",className:"MetricNamespace",modelProperties:{id:{serializedName:"id",type:{name:"String"}},type:{serializedName:"type",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},classification:{serializedName:"classification",type:{name:"String"}},properties:{serializedName:"properties",type:{name:"Composite",className:"MetricNamespaceName"}}}}},Ca={type:{name:"Composite",className:"MetricNamespaceName",modelProperties:{metricNamespaceName:{serializedName:"metricNamespaceName",type:{name:"String"}}}}},Pa={type:{name:"Composite",className:"ErrorResponse",modelProperties:{code:{serializedName:"code",type:{name:"String"}},message:{serializedName:"message",type:{name:"String"}}}}};class MetricNamespacesImpl{constructor(e){this.client=e}list(e,a){return this.client.sendOperationRequest({resourceUri:e,options:a},va)}}const fa=m.rl(n,!1),va={path:"/{resourceUri}/providers/microsoft.insights/metricNamespaces",httpMethod:"GET",responses:{200:{bodyMapper:ba},default:{bodyMapper:Pa}},queryParameters:[{parameterPath:"apiVersion",mapper:{serializedName:"api-version",required:!0,type:{name:"String"}}},{parameterPath:["options","startTime"],mapper:{serializedName:"startTime",type:{name:"String"}}}],urlParameters:[{parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},{parameterPath:"resourceUri",mapper:{serializedName:"resourceUri",required:!0,type:{name:"String"}},skipEncoding:!0}],headerParameters:[{parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}}],serializer:fa};class src_monitorManagementClientContext_MonitorManagementClientContext extends m.Nl{constructor(e,a){if(void 0===e)throw new Error("'apiVersion' cannot be null");a||(a={});const t="azsdk-js-monitor-metrics-namespaces/1.3.2",r=a.userAgentOptions&&a.userAgentOptions.userAgentPrefix?`${a.userAgentOptions.userAgentPrefix} ${t}`:`${t}`;super(Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8"}),a),{userAgentOptions:{userAgentPrefix:r},baseUri:a.endpoint||"https://management.azure.com"})),this.apiVersion=e,this.$host=a.$host||"https://management.azure.com"}}class src_monitorManagementClient_MonitorManagementClient extends src_monitorManagementClientContext_MonitorManagementClientContext{constructor(e,a){super(e,a),this.metricNamespaces=new MetricNamespacesImpl(this)}}class MetricsQueryClient{constructor(e,a){const t=(null==a?void 0:a.audience)?`${a.audience}/.default`:`${Ne.AzurePublicCloud}/.default`,r=`azsdk-js-monitor-query/${ue}`,i=(null==a?void 0:a.userAgentOptions)&&(null==a?void 0:a.userAgentOptions.userAgentPrefix)?`${null==a?void 0:a.userAgentOptions.userAgentPrefix} ${r}`:`${r}`,s=Object.assign(Object.assign({},a),{$host:null==a?void 0:a.endpoint,endpoint:null==a?void 0:a.endpoint,credentialScopes:t,credential:e,userAgentOptions:{userAgentPrefix:i}});this._metricsClient=new MonitorManagementClient(ze.TwoThousandTwentyFour0201,s),this._definitionsClient=new monitorManagementClient_MonitorManagementClient(Ze.TwoThousandTwentyFour0201,s),this._namespacesClient=new src_monitorManagementClient_MonitorManagementClient(ha.TwoThousandTwentyFour0201,s)}async queryResource(e,a,t={}){return Se.withSpan("MetricsQueryClient.queryResource",t,async t=>{const r=await this._metricsClient.metrics.list(e,function convertRequestForMetrics(e,a){if(!a)return{};const{orderBy:t,aggregations:r,metricNamespace:i,timespan:s,granularity:n,rollUpBy:o}=a,m=(0,ce.__rest)(a,["orderBy","aggregations","metricNamespace","timespan","granularity","rollUpBy"]),p=Object.assign({},m);return s&&(p.timespan=convertTimespanToInterval(s)),t&&(p.orderby=t),e&&(p.metricnames=e.join(",")),r&&(p.aggregation=r.join(",")),i&&(p.metricnamespace=i),n&&(p.interval=n),o&&(p.rollupby=o),p}(a,t));return convertResponseForMetrics(r)})}listSegmentOfMetricDefinitions(e){return(0,ce.__asyncGenerator)(this,arguments,function*listSegmentOfMetricDefinitions_1(e,a={}){const t=yield(0,ce.__await)(Se.withSpan("MetricsQueryClient.listSegmentOfMetricDefinitions",a,async a=>this._definitionsClient.metricDefinitions.list(e,function convertRequestOptionsForMetricsDefinitions(e){if(!e)return{};const{metricNamespace:a}=e,t=(0,ce.__rest)(e,["metricNamespace"]),r=Object.assign({},t);return a&&(r.metricnamespace=a),r}(a))));yield yield(0,ce.__await)(function convertResponseForMetricsDefinitions(e){return null==e?void 0:e.map(e=>{const{name:a,dimensions:t,displayDescription:r,metricAvailabilities:i}=e,s=(0,ce.__rest)(e,["name","dimensions","displayDescription","metricAvailabilities"]),n=Object.assign({},s);r&&(n.description=r),(null==a?void 0:a.value)&&(n.name=a.value);const o=null==i?void 0:i.map(e=>({granularity:e.timeGrain,retention:e.retention}));o&&(n.metricAvailabilities=o);const m=null==t?void 0:t.map(e=>e.value);return m&&(n.dimensions=m),n})}(t.value))})}listItemsOfMetricDefinitions(e,a){return(0,ce.__asyncGenerator)(this,arguments,function*listItemsOfMetricDefinitions_1(){var t,r,i,s;try{for(var n,o=!0,m=(0,ce.__asyncValues)(this.listSegmentOfMetricDefinitions(e,a));!(t=(n=yield(0,ce.__await)(m.next())).done);o=!0){s=n.value,o=!1;const e=s;e&&(yield(0,ce.__await)(yield*(0,ce.__asyncDelegator)((0,ce.__asyncValues)(e))))}}catch(e){r={error:e}}finally{try{o||t||!(i=m.return)||(yield(0,ce.__await)(i.call(m)))}finally{if(r)throw r.error}}})}listMetricDefinitions(e,a){const t=this.listItemsOfMetricDefinitions(e,a);return{next:()=>t.next(),[Symbol.asyncIterator](){return this},byPage:()=>this.listSegmentOfMetricDefinitions(e,a)}}listSegmentOfMetricNamespaces(e){return(0,ce.__asyncGenerator)(this,arguments,function*listSegmentOfMetricNamespaces_1(e,a={}){const t=yield(0,ce.__await)(Se.withSpan("MetricsQueryClient.listSegmentOfMetricNamespaces",a,async a=>this._namespacesClient.metricNamespaces.list(e,a)));yield yield(0,ce.__await)(function convertResponseForMetricNamespaces(e){return null==e?void 0:e.map(e=>{const{properties:a}=e,t=(0,ce.__rest)(e,["properties"]),r=Object.assign({},t);return a&&(r.metricNamespaceName=a.metricNamespaceName),r})}(t.value))})}listItemsOfMetricNamespaces(e,a){return(0,ce.__asyncGenerator)(this,arguments,function*listItemsOfMetricNamespaces_1(){var t,r,i,s;try{for(var n,o=!0,m=(0,ce.__asyncValues)(this.listSegmentOfMetricNamespaces(e,a));!(t=(n=yield(0,ce.__await)(m.next())).done);o=!0){s=n.value,o=!1;const e=s;e&&(yield(0,ce.__await)(yield*(0,ce.__asyncDelegator)((0,ce.__asyncValues)(e))))}}catch(e){r={error:e}}finally{try{o||t||!(i=m.return)||(yield(0,ce.__await)(i.call(m)))}finally{if(r)throw r.error}}})}listMetricNamespaces(e,a){const t=this.listItemsOfMetricNamespaces(e,a);return{next:()=>t.next(),[Symbol.asyncIterator](){return this},byPage:()=>this.listSegmentOfMetricNamespaces(e,a)}}}const Ta={sevenDays:"P7D",threeDays:"P3D",twoDays:"P2D",oneDay:"P1D",oneHour:"PT1H",fourHours:"PT4H",twentyFourHours:"PT24H",fortyEightHours:"PT48H",fourtyEightHours:"PT48H",thirtyMinutes:"PT30M",fiveMinutes:"PT5M"};var Oa,Aa;!function(e){e.TwoThousandTwentyFour0201="2024-02-01"}(Oa||(Oa={})),function(e){e.Count="Count",e.Bytes="Bytes",e.Seconds="Seconds",e.CountPerSecond="CountPerSecond",e.BytesPerSecond="BytesPerSecond",e.Percent="Percent",e.MilliSeconds="MilliSeconds",e.ByteSeconds="ByteSeconds",e.Unspecified="Unspecified",e.Cores="Cores",e.MilliCores="MilliCores",e.NanoCores="NanoCores",e.BitsPerSecond="BitsPerSecond"}(Aa||(Aa={}));const Ia={type:{name:"Composite",className:"ResourceIdList",modelProperties:{resourceids:{serializedName:"resourceids",type:{name:"Sequence",element:{type:{name:"String"}}}}}}},Ra={type:{name:"Composite",className:"MetricResultsResponse",modelProperties:{values:{serializedName:"values",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetricResultsResponseValuesItem"}}}}}}},wa={type:{name:"Composite",className:"MetricResultsResponseValuesItem",modelProperties:{starttime:{serializedName:"starttime",required:!0,type:{name:"String"}},endtime:{serializedName:"endtime",required:!0,type:{name:"String"}},interval:{serializedName:"interval",type:{name:"String"}},namespace:{serializedName:"namespace",type:{name:"String"}},resourceregion:{serializedName:"resourceregion",type:{name:"String"}},resourceid:{serializedName:"resourceid",type:{name:"String"}},value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Metric"}}}}}}},Da={type:{name:"Composite",className:"Metric",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},type:{serializedName:"type",required:!0,type:{name:"String"}},name:{serializedName:"name",type:{name:"Composite",className:"LocalizableString"}},displayDescription:{serializedName:"displayDescription",type:{name:"String"}},errorCode:{serializedName:"errorCode",type:{name:"String"}},errorMessage:{serializedName:"errorMessage",type:{name:"String"}},unit:{serializedName:"unit",required:!0,type:{name:"String"}},timeseries:{serializedName:"timeseries",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TimeSeriesElement"}}}}}}},Ea={type:{name:"Composite",className:"LocalizableString",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"String"}},localizedValue:{serializedName:"localizedValue",type:{name:"String"}}}}},Ba={type:{name:"Composite",className:"TimeSeriesElement",modelProperties:{metadatavalues:{serializedName:"metadatavalues",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetadataValue"}}}},data:{serializedName:"data",type:{name:"Sequence",element:{type:{name:"Composite",className:"MetricValue"}}}}}}},ja={type:{name:"Composite",className:"MetadataValue",modelProperties:{name:{serializedName:"name",type:{name:"Composite",className:"LocalizableString"}},value:{serializedName:"value",type:{name:"String"}}}}},_a={type:{name:"Composite",className:"MetricValue",modelProperties:{timeStamp:{serializedName:"timeStamp",required:!0,type:{name:"DateTime"}},average:{serializedName:"average",type:{name:"Number"}},minimum:{serializedName:"minimum",type:{name:"Number"}},maximum:{serializedName:"maximum",type:{name:"Number"}},total:{serializedName:"total",type:{name:"Number"}},count:{serializedName:"count",type:{name:"Number"}}}}},xa={type:{name:"Composite",className:"ErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorDetail"}}}}},ka={type:{name:"Composite",className:"ErrorDetail",modelProperties:{code:{serializedName:"code",readOnly:!0,type:{name:"String"}},message:{serializedName:"message",readOnly:!0,type:{name:"String"}},target:{serializedName:"target",readOnly:!0,type:{name:"String"}},details:{serializedName:"details",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorDetail"}}}},additionalInfo:{serializedName:"additionalInfo",readOnly:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorAdditionalInfo"}}}}}}},$a={type:{name:"Composite",className:"ErrorAdditionalInfo",modelProperties:{type:{serializedName:"type",readOnly:!0,type:{name:"String"}},info:{serializedName:"info",readOnly:!0,type:{name:"Dictionary",value:{type:{name:"any"}}}}}}},Va={type:{name:"Composite",className:"MetricsBatchBatchExceptionHeaders",modelProperties:{xMsErrorCode:{serializedName:"x-ms-error-code",type:{name:"String"}}}}},Qa={parameterPath:"batchRequest",mapper:Ia};class MetricsBatchImpl{constructor(e){this.client=e}batch(e,a,t,r,i){return this.client.sendOperationRequest({subscriptionId:e,metricnamespace:a,metricnames:t,batchRequest:r,options:i},Fa)}}const Ua=m.rl(o,!1),Fa={path:"/subscriptions/{subscriptionId}/metrics:getBatch",httpMethod:"POST",responses:{200:{bodyMapper:Ra},default:{bodyMapper:xa,headersMapper:Va}},requestBody:Qa,queryParameters:[{parameterPath:["options","starttime"],mapper:{serializedName:"starttime",type:{name:"String"}}},{parameterPath:["options","endtime"],mapper:{serializedName:"endtime",type:{name:"String"}}},{parameterPath:["options","interval"],mapper:{defaultValue:"PT1M",serializedName:"interval",type:{name:"String"}}},{parameterPath:"metricnamespace",mapper:{serializedName:"metricnamespace",required:!0,type:{name:"String"}}},{parameterPath:"metricnames",mapper:{serializedName:"metricnames",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},collectionFormat:"CSV"},{parameterPath:["options","aggregation"],mapper:{serializedName:"aggregation",type:{name:"String"}}},{parameterPath:["options","top"],mapper:{serializedName:"top",type:{name:"Number"}}},{parameterPath:["options","orderby"],mapper:{serializedName:"orderby",type:{name:"String"}}},{parameterPath:["options","filter"],mapper:{serializedName:"filter",type:{name:"String"}}},{parameterPath:["options","rollupby"],mapper:{serializedName:"rollupby",type:{name:"String"}}},{parameterPath:"apiVersion",mapper:{serializedName:"api-version",required:!0,type:{name:"String"}}}],urlParameters:[{parameterPath:"endpoint",mapper:{serializedName:"endpoint",required:!0,type:{name:"String"}},skipEncoding:!0},{parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"Uuid"}}}],headerParameters:[{parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},{parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}}],mediaType:"json",serializer:Ua};class AzureMonitorMetricBatchContext extends m.Nl{constructor(e,a,t){if(void 0===e)throw new Error("'endpoint' cannot be null");if(void 0===a)throw new Error("'apiVersion' cannot be null");t||(t={});const r="azsdk-js-monitor-metric-batch/1.2.0",i=t.userAgentOptions&&t.userAgentOptions.userAgentPrefix?`${t.userAgentOptions.userAgentPrefix} ${r}`:`${r}`;super(Object.assign(Object.assign(Object.assign({},{requestContentType:"application/json; charset=utf-8"}),t),{userAgentOptions:{userAgentPrefix:i},baseUri:t.endpoint||"{endpoint}"})),this.endpoint=e,this.apiVersion=a}}class AzureMonitorMetricBatch extends AzureMonitorMetricBatchContext{constructor(e,a,t){super(e,a,t),this.metricsBatch=new MetricsBatchImpl(this)}}class MetricsClient{constructor(e,a,t){const r=(null==t?void 0:t.audience)?`${t.audience}/.default`:`${ye.AzurePublicCloud}/.default`,i=`azsdk-js-monitor-query/${ue}`,s=(null==t?void 0:t.userAgentOptions)&&(null==t?void 0:t.userAgentOptions.userAgentPrefix)?`${null==t?void 0:t.userAgentOptions.userAgentPrefix} ${i}`:`${i}`,n=Object.assign(Object.assign({},t),{$host:e,endpoint:e,credentialScopes:r,credential:a,userAgentOptions:{userAgentPrefix:s}});this._baseUrl=e,this._metricBatchClient=new AzureMonitorMetricBatch(this._baseUrl,Oa.TwoThousandTwentyFour0201,n)}async queryResources(e,a,t,r={}){if(0===e.length)throw new Error("Resource IDs can not be empty");return Se.withSpan("MetricsQueryClient.batch",r,async r=>{const i=function(e){const a=e.indexOf("subscriptions/")+14;return e.substring(a,e.indexOf("/",a))}(e[0]);return function convertResponseForMetricBatch(e){var a;const t=[];return null===(a=null==e?void 0:e.values)||void 0===a||a.forEach(e=>{const a={timespan:{startTime:new Date(e.starttime),endTime:new Date(e.endtime)},granularity:e.interval,namespace:e.namespace,resourceRegion:e.resourceregion,resourceId:e.resourceid,metrics:e.value.map(e=>{var a;return Object.assign(Object.assign({},e),{description:null!==(a=e.displayDescription)&&void 0!==a?a:"",name:e.name.value})}),getMetricByName};t.push(a)}),t}(await this._metricBatchClient.metricsBatch.batch(i,t,a,{resourceids:e},function convertRequestForMetricsBatchQuery(e){var a,t;return e?Object.assign({starttime:null===(a=e.startTime)||void 0===a?void 0:a.toISOString(),endtime:null===(t=e.endTime)||void 0===t?void 0:t.toISOString(),rollupby:e.rollUpBy},e):{}}(r)))})}}}};