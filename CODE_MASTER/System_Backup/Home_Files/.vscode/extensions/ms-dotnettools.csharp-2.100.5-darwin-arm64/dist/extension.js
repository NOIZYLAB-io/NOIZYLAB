"use strict";var Uje=Object.create;var fN=Object.defineProperty;var Hje=Object.getOwnPropertyDescriptor;var Wje=Object.getOwnPropertyNames;var Bje=Object.getPrototypeOf,$je=Object.prototype.hasOwnProperty;var Ti=(r,e)=>()=>(r&&(e=r(r=0)),e);var P=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),NO=(r,e)=>{for(var t in e)fN(r,t,{get:e[t],enumerable:!0})},xce=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Wje(e))!$je.call(r,i)&&i!==t&&fN(r,i,{get:()=>e[i],enumerable:!(n=Hje(e,i))||n.enumerable});return r};var be=(r,e,t)=>(t=r!=null?Uje(Bje(r)):{},xce(e||!r||!r.__esModule?fN(t,"default",{value:r,enumerable:!0}):t,r)),WS=r=>xce(fN({},"__esModule",{value:!0}),r);var zO=P((yOt,qce)=>{var Vje="2.0.0",Gje=Number.MAX_SAFE_INTEGER||9007199254740991,Kje=16,Yje=250,Jje=["major","premajor","minor","preminor","patch","prepatch","prerelease"];qce.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Kje,MAX_SAFE_BUILD_LENGTH:Yje,MAX_SAFE_INTEGER:Gje,RELEASE_TYPES:Jje,SEMVER_SPEC_VERSION:Vje,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var UO=P((bOt,jce)=>{var Xje=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};jce.exports=Xje});var z0=P((Z_,zce)=>{var{MAX_SAFE_COMPONENT_LENGTH:EV,MAX_SAFE_BUILD_LENGTH:Qje,MAX_LENGTH:Zje}=zO(),eze=UO();Z_=zce.exports={};var tze=Z_.re=[],rze=Z_.safeRe=[],pn=Z_.src=[],hn=Z_.t={},nze=0,OV="[a-zA-Z0-9-]",ize=[["\\s",1],["\\d",Zje],[OV,Qje]],oze=r=>{for(let[e,t]of ize)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},Qi=(r,e,t)=>{let n=oze(e),i=nze++;eze(r,i,e),hn[r]=i,pn[i]=e,tze[i]=new RegExp(e,t?"g":void 0),rze[i]=new RegExp(n,t?"g":void 0)};Qi("NUMERICIDENTIFIER","0|[1-9]\\d*");Qi("NUMERICIDENTIFIERLOOSE","\\d+");Qi("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${OV}*`);Qi("MAINVERSION",`(${pn[hn.NUMERICIDENTIFIER]})\\.(${pn[hn.NUMERICIDENTIFIER]})\\.(${pn[hn.NUMERICIDENTIFIER]})`);Qi("MAINVERSIONLOOSE",`(${pn[hn.NUMERICIDENTIFIERLOOSE]})\\.(${pn[hn.NUMERICIDENTIFIERLOOSE]})\\.(${pn[hn.NUMERICIDENTIFIERLOOSE]})`);Qi("PRERELEASEIDENTIFIER",`(?:${pn[hn.NUMERICIDENTIFIER]}|${pn[hn.NONNUMERICIDENTIFIER]})`);Qi("PRERELEASEIDENTIFIERLOOSE",`(?:${pn[hn.NUMERICIDENTIFIERLOOSE]}|${pn[hn.NONNUMERICIDENTIFIER]})`);Qi("PRERELEASE",`(?:-(${pn[hn.PRERELEASEIDENTIFIER]}(?:\\.${pn[hn.PRERELEASEIDENTIFIER]})*))`);Qi("PRERELEASELOOSE",`(?:-?(${pn[hn.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${pn[hn.PRERELEASEIDENTIFIERLOOSE]})*))`);Qi("BUILDIDENTIFIER",`${OV}+`);Qi("BUILD",`(?:\\+(${pn[hn.BUILDIDENTIFIER]}(?:\\.${pn[hn.BUILDIDENTIFIER]})*))`);Qi("FULLPLAIN",`v?${pn[hn.MAINVERSION]}${pn[hn.PRERELEASE]}?${pn[hn.BUILD]}?`);Qi("FULL",`^${pn[hn.FULLPLAIN]}$`);Qi("LOOSEPLAIN",`[v=\\s]*${pn[hn.MAINVERSIONLOOSE]}${pn[hn.PRERELEASELOOSE]}?${pn[hn.BUILD]}?`);Qi("LOOSE",`^${pn[hn.LOOSEPLAIN]}$`);Qi("GTLT","((?:<|>)?=?)");Qi("XRANGEIDENTIFIERLOOSE",`${pn[hn.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Qi("XRANGEIDENTIFIER",`${pn[hn.NUMERICIDENTIFIER]}|x|X|\\*`);Qi("XRANGEPLAIN",`[v=\\s]*(${pn[hn.XRANGEIDENTIFIER]})(?:\\.(${pn[hn.XRANGEIDENTIFIER]})(?:\\.(${pn[hn.XRANGEIDENTIFIER]})(?:${pn[hn.PRERELEASE]})?${pn[hn.BUILD]}?)?)?`);Qi("XRANGEPLAINLOOSE",`[v=\\s]*(${pn[hn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pn[hn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pn[hn.XRANGEIDENTIFIERLOOSE]})(?:${pn[hn.PRERELEASELOOSE]})?${pn[hn.BUILD]}?)?)?`);Qi("XRANGE",`^${pn[hn.GTLT]}\\s*${pn[hn.XRANGEPLAIN]}$`);Qi("XRANGELOOSE",`^${pn[hn.GTLT]}\\s*${pn[hn.XRANGEPLAINLOOSE]}$`);Qi("COERCE",`(^|[^\\d])(\\d{1,${EV}})(?:\\.(\\d{1,${EV}}))?(?:\\.(\\d{1,${EV}}))?(?:$|[^\\d])`);Qi("COERCERTL",pn[hn.COERCE],!0);Qi("LONETILDE","(?:~>?)");Qi("TILDETRIM",`(\\s*)${pn[hn.LONETILDE]}\\s+`,!0);Z_.tildeTrimReplace="$1~";Qi("TILDE",`^${pn[hn.LONETILDE]}${pn[hn.XRANGEPLAIN]}$`);Qi("TILDELOOSE",`^${pn[hn.LONETILDE]}${pn[hn.XRANGEPLAINLOOSE]}$`);Qi("LONECARET","(?:\\^)");Qi("CARETTRIM",`(\\s*)${pn[hn.LONECARET]}\\s+`,!0);Z_.caretTrimReplace="$1^";Qi("CARET",`^${pn[hn.LONECARET]}${pn[hn.XRANGEPLAIN]}$`);Qi("CARETLOOSE",`^${pn[hn.LONECARET]}${pn[hn.XRANGEPLAINLOOSE]}$`);Qi("COMPARATORLOOSE",`^${pn[hn.GTLT]}\\s*(${pn[hn.LOOSEPLAIN]})$|^$`);Qi("COMPARATOR",`^${pn[hn.GTLT]}\\s*(${pn[hn.FULLPLAIN]})$|^$`);Qi("COMPARATORTRIM",`(\\s*)${pn[hn.GTLT]}\\s*(${pn[hn.LOOSEPLAIN]}|${pn[hn.XRANGEPLAIN]})`,!0);Z_.comparatorTrimReplace="$1$2$3";Qi("HYPHENRANGE",`^\\s*(${pn[hn.XRANGEPLAIN]})\\s+-\\s+(${pn[hn.XRANGEPLAIN]})\\s*$`);Qi("HYPHENRANGELOOSE",`^\\s*(${pn[hn.XRANGEPLAINLOOSE]})\\s+-\\s+(${pn[hn.XRANGEPLAINLOOSE]})\\s*$`);Qi("STAR","(<|>)?=?\\s*\\*");Qi("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Qi("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var hN=P((_Ot,Uce)=>{var sze=Object.freeze({loose:!0}),aze=Object.freeze({}),cze=r=>r?typeof r!="object"?sze:r:aze;Uce.exports=cze});var IV=P((wOt,Bce)=>{var Hce=/^[0-9]+$/,Wce=(r,e)=>{let t=Hce.test(r),n=Hce.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},uze=(r,e)=>Wce(e,r);Bce.exports={compareIdentifiers:Wce,rcompareIdentifiers:uze}});var Ef=P((SOt,Kce)=>{var mN=UO(),{MAX_LENGTH:$ce,MAX_SAFE_INTEGER:gN}=zO(),{safeRe:Vce,t:Gce}=z0(),lze=hN(),{compareIdentifiers:U0}=IV(),kV=class r{constructor(e,t){if(t=lze(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>$ce)throw new TypeError(`version is longer than ${$ce} characters`);mN("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?Vce[Gce.LOOSE]:Vce[Gce.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>gN||this.major<0)throw new TypeError("Invalid major version");if(this.minor>gN||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>gN||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<gN)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(mN("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),U0(this.major,e.major)||U0(this.minor,e.minor)||U0(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(mN("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return U0(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(mN("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return U0(n,i)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),U0(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Kce.exports=kV});var $S=P((COt,Jce)=>{var Yce=Ef(),dze=(r,e,t=!1)=>{if(r instanceof Yce)return r;try{return new Yce(r,e)}catch(n){if(!t)return null;throw n}};Jce.exports=dze});var Qce=P((DOt,Xce)=>{var fze=$S(),pze=(r,e)=>{let t=fze(r,e);return t?t.version:null};Xce.exports=pze});var eue=P((TOt,Zce)=>{var hze=$S(),mze=(r,e)=>{let t=hze(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};Zce.exports=mze});var nue=P((POt,rue)=>{var tue=Ef(),gze=(r,e,t,n,i)=>{typeof t=="string"&&(i=n,n=t,t=void 0);try{return new tue(r instanceof tue?r.version:r,t).inc(e,n,i).version}catch{return null}};rue.exports=gze});var sue=P((ROt,oue)=>{var iue=$S(),vze=(r,e)=>{let t=iue(r,null,!0),n=iue(e,null,!0),i=t.compare(n);if(i===0)return null;let o=i>0,s=o?t:n,a=o?n:t,c=!!s.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let l=c?"pre":"";return t.major!==n.major?l+"major":t.minor!==n.minor?l+"minor":t.patch!==n.patch?l+"patch":"prerelease"};oue.exports=vze});var cue=P((xOt,aue)=>{var yze=Ef(),bze=(r,e)=>new yze(r,e).major;aue.exports=bze});var lue=P((EOt,uue)=>{var _ze=Ef(),wze=(r,e)=>new _ze(r,e).minor;uue.exports=wze});var fue=P((OOt,due)=>{var Sze=Ef(),Cze=(r,e)=>new Sze(r,e).patch;due.exports=Cze});var hue=P((IOt,pue)=>{var Dze=$S(),Tze=(r,e)=>{let t=Dze(r,e);return t&&t.prerelease.length?t.prerelease:null};pue.exports=Tze});var Jg=P((kOt,gue)=>{var mue=Ef(),Pze=(r,e,t)=>new mue(r,t).compare(new mue(e,t));gue.exports=Pze});var yue=P((AOt,vue)=>{var Rze=Jg(),xze=(r,e,t)=>Rze(e,r,t);vue.exports=xze});var _ue=P((MOt,bue)=>{var Eze=Jg(),Oze=(r,e)=>Eze(r,e,!0);bue.exports=Oze});var vN=P((LOt,Sue)=>{var wue=Ef(),Ize=(r,e,t)=>{let n=new wue(r,t),i=new wue(e,t);return n.compare(i)||n.compareBuild(i)};Sue.exports=Ize});var Due=P((NOt,Cue)=>{var kze=vN(),Aze=(r,e)=>r.sort((t,n)=>kze(t,n,e));Cue.exports=Aze});var Pue=P((FOt,Tue)=>{var Mze=vN(),Lze=(r,e)=>r.sort((t,n)=>Mze(n,t,e));Tue.exports=Lze});var HO=P((qOt,Rue)=>{var Nze=Jg(),Fze=(r,e,t)=>Nze(r,e,t)>0;Rue.exports=Fze});var yN=P((jOt,xue)=>{var qze=Jg(),jze=(r,e,t)=>qze(r,e,t)<0;xue.exports=jze});var AV=P((zOt,Eue)=>{var zze=Jg(),Uze=(r,e,t)=>zze(r,e,t)===0;Eue.exports=Uze});var MV=P((UOt,Oue)=>{var Hze=Jg(),Wze=(r,e,t)=>Hze(r,e,t)!==0;Oue.exports=Wze});var bN=P((HOt,Iue)=>{var Bze=Jg(),$ze=(r,e,t)=>Bze(r,e,t)>=0;Iue.exports=$ze});var _N=P((WOt,kue)=>{var Vze=Jg(),Gze=(r,e,t)=>Vze(r,e,t)<=0;kue.exports=Gze});var LV=P((BOt,Aue)=>{var Kze=AV(),Yze=MV(),Jze=HO(),Xze=bN(),Qze=yN(),Zze=_N(),eUe=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Kze(r,t,n);case"!=":return Yze(r,t,n);case">":return Jze(r,t,n);case">=":return Xze(r,t,n);case"<":return Qze(r,t,n);case"<=":return Zze(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Aue.exports=eUe});var Lue=P(($Ot,Mue)=>{var tUe=Ef(),rUe=$S(),{safeRe:wN,t:SN}=z0(),nUe=(r,e)=>{if(r instanceof tUe)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(wN[SN.COERCE]);else{let n;for(;(n=wN[SN.COERCERTL].exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),wN[SN.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;wN[SN.COERCERTL].lastIndex=-1}return t===null?null:rUe(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,e)};Mue.exports=nUe});var Fue=P((VOt,Nue)=>{"use strict";Nue.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var jue=P((GOt,que)=>{"use strict";que.exports=os;os.Node=qD;os.create=os;function os(r){var e=this;if(e instanceof os||(e=new os),e.tail=null,e.head=null,e.length=0,r&&typeof r.forEach=="function")r.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)e.push(arguments[t]);return e}os.prototype.removeNode=function(r){if(r.list!==this)throw new Error("removing node which does not belong to this list");var e=r.next,t=r.prev;return e&&(e.prev=t),t&&(t.next=e),r===this.head&&(this.head=e),r===this.tail&&(this.tail=t),r.list.length--,r.next=null,r.prev=null,r.list=null,e};os.prototype.unshiftNode=function(r){if(r!==this.head){r.list&&r.list.removeNode(r);var e=this.head;r.list=this,r.next=e,e&&(e.prev=r),this.head=r,this.tail||(this.tail=r),this.length++}};os.prototype.pushNode=function(r){if(r!==this.tail){r.list&&r.list.removeNode(r);var e=this.tail;r.list=this,r.prev=e,e&&(e.next=r),this.tail=r,this.head||(this.head=r),this.length++}};os.prototype.push=function(){for(var r=0,e=arguments.length;r<e;r++)oUe(this,arguments[r]);return this.length};os.prototype.unshift=function(){for(var r=0,e=arguments.length;r<e;r++)sUe(this,arguments[r]);return this.length};os.prototype.pop=function(){if(this.tail){var r=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,r}};os.prototype.shift=function(){if(this.head){var r=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,r}};os.prototype.forEach=function(r,e){e=e||this;for(var t=this.head,n=0;t!==null;n++)r.call(e,t.value,n,this),t=t.next};os.prototype.forEachReverse=function(r,e){e=e||this;for(var t=this.tail,n=this.length-1;t!==null;n--)r.call(e,t.value,n,this),t=t.prev};os.prototype.get=function(r){for(var e=0,t=this.head;t!==null&&e<r;e++)t=t.next;if(e===r&&t!==null)return t.value};os.prototype.getReverse=function(r){for(var e=0,t=this.tail;t!==null&&e<r;e++)t=t.prev;if(e===r&&t!==null)return t.value};os.prototype.map=function(r,e){e=e||this;for(var t=new os,n=this.head;n!==null;)t.push(r.call(e,n.value,this)),n=n.next;return t};os.prototype.mapReverse=function(r,e){e=e||this;for(var t=new os,n=this.tail;n!==null;)t.push(r.call(e,n.value,this)),n=n.prev;return t};os.prototype.reduce=function(r,e){var t,n=this.head;if(arguments.length>1)t=e;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)t=r(t,n.value,i),n=n.next;return t};os.prototype.reduceReverse=function(r,e){var t,n=this.tail;if(arguments.length>1)t=e;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)t=r(t,n.value,i),n=n.prev;return t};os.prototype.toArray=function(){for(var r=new Array(this.length),e=0,t=this.head;t!==null;e++)r[e]=t.value,t=t.next;return r};os.prototype.toArrayReverse=function(){for(var r=new Array(this.length),e=0,t=this.tail;t!==null;e++)r[e]=t.value,t=t.prev;return r};os.prototype.slice=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new os;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)t.push(i.value);return t};os.prototype.sliceReverse=function(r,e){e=e||this.length,e<0&&(e+=this.length),r=r||0,r<0&&(r+=this.length);var t=new os;if(e<r||e<0)return t;r<0&&(r=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>r;n--,i=i.prev)t.push(i.value);return t};os.prototype.splice=function(r,e,...t){r>this.length&&(r=this.length-1),r<0&&(r=this.length+r);for(var n=0,i=this.head;i!==null&&n<r;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<t.length;n++)i=iUe(this,i,t[n]);return o};os.prototype.reverse=function(){for(var r=this.head,e=this.tail,t=r;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=e,this.tail=r,this};function iUe(r,e,t){var n=e===r.head?new qD(t,null,e,r):new qD(t,e,e.next,r);return n.next===null&&(r.tail=n),n.prev===null&&(r.head=n),r.length++,n}function oUe(r,e){r.tail=new qD(e,r.tail,null,r),r.head||(r.head=r.tail),r.length++}function sUe(r,e){r.head=new qD(e,null,r.head,r),r.tail||(r.tail=r.head),r.length++}function qD(r,e,t,n){if(!(this instanceof qD))return new qD(r,e,t,n);this.list=n,this.value=r,e?(e.next=this,this.prev=e):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Fue()(os)}catch{}});var Bue=P((KOt,Wue)=>{"use strict";var aUe=jue(),jD=Symbol("max"),tw=Symbol("length"),H0=Symbol("lengthCalculator"),BO=Symbol("allowStale"),zD=Symbol("maxAge"),ew=Symbol("dispose"),zue=Symbol("noDisposeOnSet"),Kl=Symbol("lruList"),ny=Symbol("cache"),Hue=Symbol("updateAgeOnGet"),NV=()=>1,qV=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let t=this[jD]=e.max||1/0,n=e.length||NV;if(this[H0]=typeof n!="function"?NV:n,this[BO]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[zD]=e.maxAge||0,this[ew]=e.dispose,this[zue]=e.noDisposeOnSet||!1,this[Hue]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[jD]=e||1/0,WO(this)}get max(){return this[jD]}set allowStale(e){this[BO]=!!e}get allowStale(){return this[BO]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[zD]=e,WO(this)}get maxAge(){return this[zD]}set lengthCalculator(e){typeof e!="function"&&(e=NV),e!==this[H0]&&(this[H0]=e,this[tw]=0,this[Kl].forEach(t=>{t.length=this[H0](t.value,t.key),this[tw]+=t.length})),WO(this)}get lengthCalculator(){return this[H0]}get length(){return this[tw]}get itemCount(){return this[Kl].length}rforEach(e,t){t=t||this;for(let n=this[Kl].tail;n!==null;){let i=n.prev;Uue(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(let n=this[Kl].head;n!==null;){let i=n.next;Uue(this,e,n,t),n=i}}keys(){return this[Kl].toArray().map(e=>e.key)}values(){return this[Kl].toArray().map(e=>e.value)}reset(){this[ew]&&this[Kl]&&this[Kl].length&&this[Kl].forEach(e=>this[ew](e.key,e.value)),this[ny]=new Map,this[Kl]=new aUe,this[tw]=0}dump(){return this[Kl].map(e=>CN(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Kl]}set(e,t,n){if(n=n||this[zD],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[H0](t,e);if(this[ny].has(e)){if(o>this[jD])return W0(this,this[ny].get(e)),!1;let c=this[ny].get(e).value;return this[ew]&&(this[zue]||this[ew](e,c.value)),c.now=i,c.maxAge=n,c.value=t,this[tw]+=o-c.length,c.length=o,this.get(e),WO(this),!0}let s=new jV(e,t,o,i,n);return s.length>this[jD]?(this[ew]&&this[ew](e,t),!1):(this[tw]+=s.length,this[Kl].unshift(s),this[ny].set(e,this[Kl].head),WO(this),!0)}has(e){if(!this[ny].has(e))return!1;let t=this[ny].get(e).value;return!CN(this,t)}get(e){return FV(this,e,!0)}peek(e){return FV(this,e,!1)}pop(){let e=this[Kl].tail;return e?(W0(this,e),e.value):null}del(e){W0(this,this[ny].get(e))}load(e){this.reset();let t=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-t;s>0&&this.set(i.k,i.v,s)}}}prune(){this[ny].forEach((e,t)=>FV(this,t,!1))}},FV=(r,e,t)=>{let n=r[ny].get(e);if(n){let i=n.value;if(CN(r,i)){if(W0(r,n),!r[BO])return}else t&&(r[Hue]&&(n.value.now=Date.now()),r[Kl].unshiftNode(n));return i.value}},CN=(r,e)=>{if(!e||!e.maxAge&&!r[zD])return!1;let t=Date.now()-e.now;return e.maxAge?t>e.maxAge:r[zD]&&t>r[zD]},WO=r=>{if(r[tw]>r[jD])for(let e=r[Kl].tail;r[tw]>r[jD]&&e!==null;){let t=e.prev;W0(r,e),e=t}},W0=(r,e)=>{if(e){let t=e.value;r[ew]&&r[ew](t.key,t.value),r[tw]-=t.length,r[ny].delete(t.key),r[Kl].removeNode(e)}},jV=class{constructor(e,t,n,i,o){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=o||0}},Uue=(r,e,t,n)=>{let i=t.value;CN(r,i)&&(W0(r,t),r[BO]||(i=void 0)),i&&e.call(n,i.value,i.key,r)};Wue.exports=qV});var Xg=P((YOt,Kue)=>{var zV=class r{constructor(e,t){if(t=uUe(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof UV)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Vue(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&gUe(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&hUe)|(this.options.loose&&mUe))+":"+e,i=$ue.get(n);if(i)return i;let o=this.options.loose,s=o?qh[Ap.HYPHENRANGELOOSE]:qh[Ap.HYPHENRANGE];e=e.replace(s,PUe(this.options.includePrerelease)),xa("hyphen replace",e),e=e.replace(qh[Ap.COMPARATORTRIM],dUe),xa("comparator trim",e),e=e.replace(qh[Ap.TILDETRIM],fUe),xa("tilde trim",e),e=e.replace(qh[Ap.CARETTRIM],pUe),xa("caret trim",e);let a=e.split(" ").map(d=>vUe(d,this.options)).join(" ").split(/\s+/).map(d=>TUe(d,this.options));o&&(a=a.filter(d=>(xa("loose invalid filter",d,this.options),!!d.match(qh[Ap.COMPARATORLOOSE])))),xa("range list",a);let c=new Map,u=a.map(d=>new UV(d,this.options));for(let d of u){if(Vue(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return $ue.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>Gue(n,t)&&e.set.some(i=>Gue(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new lUe(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(RUe(this.set[t],e,this.options))return!0;return!1}};Kue.exports=zV;var cUe=Bue(),$ue=new cUe({max:1e3}),uUe=hN(),UV=$O(),xa=UO(),lUe=Ef(),{safeRe:qh,t:Ap,comparatorTrimReplace:dUe,tildeTrimReplace:fUe,caretTrimReplace:pUe}=z0(),{FLAG_INCLUDE_PRERELEASE:hUe,FLAG_LOOSE:mUe}=zO(),Vue=r=>r.value==="<0.0.0-0",gUe=r=>r.value==="",Gue=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},vUe=(r,e)=>(xa("comp",r,e),r=_Ue(r,e),xa("caret",r),r=yUe(r,e),xa("tildes",r),r=SUe(r,e),xa("xrange",r),r=DUe(r,e),xa("stars",r),r),Mp=r=>!r||r.toLowerCase()==="x"||r==="*",yUe=(r,e)=>r.trim().split(/\s+/).map(t=>bUe(t,e)).join(" "),bUe=(r,e)=>{let t=e.loose?qh[Ap.TILDELOOSE]:qh[Ap.TILDE];return r.replace(t,(n,i,o,s,a)=>{xa("tilde",r,n,i,o,s,a);let c;return Mp(i)?c="":Mp(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Mp(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(xa("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,xa("tilde return",c),c})},_Ue=(r,e)=>r.trim().split(/\s+/).map(t=>wUe(t,e)).join(" "),wUe=(r,e)=>{xa("caret",r,e);let t=e.loose?qh[Ap.CARETLOOSE]:qh[Ap.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{xa("caret",r,i,o,s,a,c);let u;return Mp(o)?u="":Mp(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Mp(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(xa("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(xa("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),xa("caret return",u),u})},SUe=(r,e)=>(xa("replaceXRanges",r,e),r.split(/\s+/).map(t=>CUe(t,e)).join(" ")),CUe=(r,e)=>{r=r.trim();let t=e.loose?qh[Ap.XRANGELOOSE]:qh[Ap.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{xa("xRange",r,n,i,o,s,a,c);let u=Mp(o),l=u||Mp(s),d=l||Mp(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),xa("xRange return",n),n})},DUe=(r,e)=>(xa("replaceStars",r,e),r.trim().replace(qh[Ap.STAR],"")),TUe=(r,e)=>(xa("replaceGTE0",r,e),r.trim().replace(qh[e.includePrerelease?Ap.GTE0PRE:Ap.GTE0],"")),PUe=r=>(e,t,n,i,o,s,a,c,u,l,d,f,y)=>(Mp(n)?t="":Mp(i)?t=`>=${n}.0.0${r?"-0":""}`:Mp(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,Mp(u)?c="":Mp(l)?c=`<${+u+1}.0.0-0`:Mp(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),RUe=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(xa(r[n].semver),r[n].semver!==UV.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var $O=P((JOt,ele)=>{var VO=Symbol("SemVer ANY"),BV=class r{static get ANY(){return VO}constructor(e,t){if(t=Yue(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),WV("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===VO?this.value="":this.value=this.operator+this.semver.version,WV("comp",this)}parse(e){let t=this.options.loose?Jue[Xue.COMPARATORLOOSE]:Jue[Xue.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Que(n[2],this.options.loose):this.semver=VO}toString(){return this.value}test(e){if(WV("Comparator.test",e,this.options.loose),this.semver===VO||e===VO)return!0;if(typeof e=="string")try{e=new Que(e,this.options)}catch{return!1}return HV(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Zue(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new Zue(this.value,t).test(e.semver):(t=Yue(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||HV(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||HV(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};ele.exports=BV;var Yue=hN(),{safeRe:Jue,t:Xue}=z0(),HV=LV(),WV=UO(),Que=Ef(),Zue=Xg()});var B0=P((XOt,tle)=>{var xUe=Xg(),EUe=(r,e,t)=>{try{e=new xUe(e,t)}catch{return!1}return e.test(r)};tle.exports=EUe});var nle=P((QOt,rle)=>{var OUe=Xg(),IUe=(r,e)=>new OUe(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));rle.exports=IUe});var ole=P((ZOt,ile)=>{var kUe=Ef(),AUe=Xg(),MUe=(r,e,t)=>{let n=null,i=null,o=null;try{o=new AUe(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new kUe(n,t))}),n};ile.exports=MUe});var ale=P((eIt,sle)=>{var LUe=Ef(),NUe=Xg(),FUe=(r,e,t)=>{let n=null,i=null,o=null;try{o=new NUe(e,t)}catch{return null}return r.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new LUe(n,t))}),n};sle.exports=FUe});var lle=P((tIt,ule)=>{var $V=Ef(),qUe=Xg(),cle=HO(),jUe=(r,e)=>{r=new qUe(r,e);let t=new $V("0.0.0");if(r.test(t)||(t=new $V("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let i=r.set[n],o=null;i.forEach(s=>{let a=new $V(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||cle(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!t||cle(t,o))&&(t=o)}return t&&r.test(t)?t:null};ule.exports=jUe});var fle=P((rIt,dle)=>{var zUe=Xg(),UUe=(r,e)=>{try{return new zUe(r,e).range||"*"}catch{return null}};dle.exports=UUe});var DN=P((nIt,gle)=>{var HUe=Ef(),mle=$O(),{ANY:WUe}=mle,BUe=Xg(),$Ue=B0(),ple=HO(),hle=yN(),VUe=_N(),GUe=bN(),KUe=(r,e,t,n)=>{r=new HUe(r,n),e=new BUe(e,n);let i,o,s,a,c;switch(t){case">":i=ple,o=VUe,s=hle,a=">",c=">=";break;case"<":i=hle,o=GUe,s=ple,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if($Ue(r,e,n))return!1;for(let u=0;u<e.set.length;++u){let l=e.set[u],d=null,f=null;if(l.forEach(y=>{y.semver===WUe&&(y=new mle(">=0.0.0")),d=d||y,f=f||y,i(y.semver,d.semver,n)?d=y:s(y.semver,f.semver,n)&&(f=y)}),d.operator===a||d.operator===c||(!f.operator||f.operator===a)&&o(r,f.semver))return!1;if(f.operator===c&&s(r,f.semver))return!1}return!0};gle.exports=KUe});var yle=P((iIt,vle)=>{var YUe=DN(),JUe=(r,e,t)=>YUe(r,e,">",t);vle.exports=JUe});var _le=P((oIt,ble)=>{var XUe=DN(),QUe=(r,e,t)=>XUe(r,e,"<",t);ble.exports=QUe});var Cle=P((sIt,Sle)=>{var wle=Xg(),ZUe=(r,e,t)=>(r=new wle(r,t),e=new wle(e,t),r.intersects(e,t));Sle.exports=ZUe});var Tle=P((aIt,Dle)=>{var eHe=B0(),tHe=Jg();Dle.exports=(r,e,t)=>{let n=[],i=null,o=null,s=r.sort((l,d)=>tHe(l,d,t));for(let l of s)eHe(l,e,t)?(o=l,i||(i=l)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[l,d]of n)l===d?a.push(l):!d&&l===s[0]?a.push("*"):d?l===s[0]?a.push(`<=${d}`):a.push(`${l} - ${d}`):a.push(`>=${l}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var Ile=P((cIt,Ole)=>{var Ple=Xg(),GV=$O(),{ANY:VV}=GV,GO=B0(),KV=Jg(),rHe=(r,e,t={})=>{if(r===e)return!0;r=new Ple(r,t),e=new Ple(e,t);let n=!1;e:for(let i of r.set){for(let o of e.set){let s=iHe(i,o,t);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},nHe=[new GV(">=0.0.0-0")],Rle=[new GV(">=0.0.0")],iHe=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===VV){if(e.length===1&&e[0].semver===VV)return!0;t.includePrerelease?r=nHe:r=Rle}if(e.length===1&&e[0].semver===VV){if(t.includePrerelease)return!0;e=Rle}let n=new Set,i,o;for(let y of r)y.operator===">"||y.operator===">="?i=xle(i,y,t):y.operator==="<"||y.operator==="<="?o=Ele(o,y,t):n.add(y.semver);if(n.size>1)return null;let s;if(i&&o){if(s=KV(i.semver,o.semver,t),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let y of n){if(i&&!GO(y,String(i),t)||o&&!GO(y,String(o),t))return null;for(let b of e)if(!GO(y,String(b),t))return!1;return!0}let a,c,u,l,d=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,f=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let y of e){if(l=l||y.operator===">"||y.operator===">=",u=u||y.operator==="<"||y.operator==="<=",i){if(f&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===f.major&&y.semver.minor===f.minor&&y.semver.patch===f.patch&&(f=!1),y.operator===">"||y.operator===">="){if(a=xle(i,y,t),a===y&&a!==i)return!1}else if(i.operator===">="&&!GO(i.semver,String(y),t))return!1}if(o){if(d&&y.semver.prerelease&&y.semver.prerelease.length&&y.semver.major===d.major&&y.semver.minor===d.minor&&y.semver.patch===d.patch&&(d=!1),y.operator==="<"||y.operator==="<="){if(c=Ele(o,y,t),c===y&&c!==o)return!1}else if(o.operator==="<="&&!GO(o.semver,String(y),t))return!1}if(!y.operator&&(o||i)&&s!==0)return!1}return!(i&&u&&!o&&s!==0||o&&l&&!i&&s!==0||f||d)},xle=(r,e,t)=>{if(!r)return e;let n=KV(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},Ele=(r,e,t)=>{if(!r)return e;let n=KV(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};Ole.exports=rHe});var VS=P((uIt,Mle)=>{var YV=z0(),kle=zO(),oHe=Ef(),Ale=IV(),sHe=$S(),aHe=Qce(),cHe=eue(),uHe=nue(),lHe=sue(),dHe=cue(),fHe=lue(),pHe=fue(),hHe=hue(),mHe=Jg(),gHe=yue(),vHe=_ue(),yHe=vN(),bHe=Due(),_He=Pue(),wHe=HO(),SHe=yN(),CHe=AV(),DHe=MV(),THe=bN(),PHe=_N(),RHe=LV(),xHe=Lue(),EHe=$O(),OHe=Xg(),IHe=B0(),kHe=nle(),AHe=ole(),MHe=ale(),LHe=lle(),NHe=fle(),FHe=DN(),qHe=yle(),jHe=_le(),zHe=Cle(),UHe=Tle(),HHe=Ile();Mle.exports={parse:sHe,valid:aHe,clean:cHe,inc:uHe,diff:lHe,major:dHe,minor:fHe,patch:pHe,prerelease:hHe,compare:mHe,rcompare:gHe,compareLoose:vHe,compareBuild:yHe,sort:bHe,rsort:_He,gt:wHe,lt:SHe,eq:CHe,neq:DHe,gte:THe,lte:PHe,cmp:RHe,coerce:xHe,Comparator:EHe,Range:OHe,satisfies:IHe,toComparators:kHe,maxSatisfying:AHe,minSatisfying:MHe,minVersion:LHe,validRange:NHe,outside:FHe,gtr:qHe,ltr:jHe,intersects:zHe,simplifyRange:UHe,subset:HHe,SemVer:oHe,re:YV.re,src:YV.src,tokens:YV.t,SEMVER_SPEC_VERSION:kle.SEMVER_SPEC_VERSION,RELEASE_TYPES:kle.RELEASE_TYPES,compareIdentifiers:Ale.compareIdentifiers,rcompareIdentifiers:Ale.rcompareIdentifiers}});var Yl=P(ZV=>{"use strict";ZV.fromCallback=function(r){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")r.apply(this,e);else return new Promise((t,n)=>{r.call(this,...e,(i,o)=>i!=null?n(i):t(o))})},"name",{value:r.name})};ZV.fromPromise=function(r){return Object.defineProperty(function(...e){let t=e[e.length-1];if(typeof t!="function")return r.apply(this,e);r.apply(this,e.slice(0,-1)).then(n=>t(null,n),t)},"name",{value:r.name})}});var Vle=P((PIt,$le)=>{var JS=require("constants"),XHe=process.cwd,FN=null,QHe=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return FN||(FN=XHe.call(process)),FN};try{process.cwd()}catch{}typeof process.chdir=="function"&&(e4=process.chdir,process.chdir=function(r){FN=null,e4.call(process,r)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,e4));var e4;$le.exports=ZHe;function ZHe(r){JS.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(r),r.lutimes||t(r),r.chown=o(r.chown),r.fchown=o(r.fchown),r.lchown=o(r.lchown),r.chmod=n(r.chmod),r.fchmod=n(r.fchmod),r.lchmod=n(r.lchmod),r.chownSync=s(r.chownSync),r.fchownSync=s(r.fchownSync),r.lchownSync=s(r.lchownSync),r.chmodSync=i(r.chmodSync),r.fchmodSync=i(r.fchmodSync),r.lchmodSync=i(r.lchmodSync),r.stat=a(r.stat),r.fstat=a(r.fstat),r.lstat=a(r.lstat),r.statSync=c(r.statSync),r.fstatSync=c(r.fstatSync),r.lstatSync=c(r.lstatSync),r.chmod&&!r.lchmod&&(r.lchmod=function(l,d,f){f&&process.nextTick(f)},r.lchmodSync=function(){}),r.chown&&!r.lchown&&(r.lchown=function(l,d,f,y){y&&process.nextTick(y)},r.lchownSync=function(){}),QHe==="win32"&&(r.rename=typeof r.rename!="function"?r.rename:function(l){function d(f,y,b){var T=Date.now(),k=0;l(f,y,function z(A){if(A&&(A.code==="EACCES"||A.code==="EPERM"||A.code==="EBUSY")&&Date.now()-T<6e4){setTimeout(function(){r.stat(y,function(U,ne){U&&U.code==="ENOENT"?l(f,y,z):b(A)})},k),k<100&&(k+=10);return}b&&b(A)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.rename)),r.read=typeof r.read!="function"?r.read:function(l){function d(f,y,b,T,k,z){var A;if(z&&typeof z=="function"){var U=0;A=function(ne,de,ve){if(ne&&ne.code==="EAGAIN"&&U<10)return U++,l.call(r,f,y,b,T,k,A);z.apply(this,arguments)}}return l.call(r,f,y,b,T,k,A)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,l),d}(r.read),r.readSync=typeof r.readSync!="function"?r.readSync:function(l){return function(d,f,y,b,T){for(var k=0;;)try{return l.call(r,d,f,y,b,T)}catch(z){if(z.code==="EAGAIN"&&k<10){k++;continue}throw z}}}(r.readSync);function e(l){l.lchmod=function(d,f,y){l.open(d,JS.O_WRONLY|JS.O_SYMLINK,f,function(b,T){if(b){y&&y(b);return}l.fchmod(T,f,function(k){l.close(T,function(z){y&&y(k||z)})})})},l.lchmodSync=function(d,f){var y=l.openSync(d,JS.O_WRONLY|JS.O_SYMLINK,f),b=!0,T;try{T=l.fchmodSync(y,f),b=!1}finally{if(b)try{l.closeSync(y)}catch{}else l.closeSync(y)}return T}}function t(l){JS.hasOwnProperty("O_SYMLINK")&&l.futimes?(l.lutimes=function(d,f,y,b){l.open(d,JS.O_SYMLINK,function(T,k){if(T){b&&b(T);return}l.futimes(k,f,y,function(z){l.close(k,function(A){b&&b(z||A)})})})},l.lutimesSync=function(d,f,y){var b=l.openSync(d,JS.O_SYMLINK),T,k=!0;try{T=l.futimesSync(b,f,y),k=!1}finally{if(k)try{l.closeSync(b)}catch{}else l.closeSync(b)}return T}):l.futimes&&(l.lutimes=function(d,f,y,b){b&&process.nextTick(b)},l.lutimesSync=function(){})}function n(l){return l&&function(d,f,y){return l.call(r,d,f,function(b){u(b)&&(b=null),y&&y.apply(this,arguments)})}}function i(l){return l&&function(d,f){try{return l.call(r,d,f)}catch(y){if(!u(y))throw y}}}function o(l){return l&&function(d,f,y,b){return l.call(r,d,f,y,function(T){u(T)&&(T=null),b&&b.apply(this,arguments)})}}function s(l){return l&&function(d,f,y){try{return l.call(r,d,f,y)}catch(b){if(!u(b))throw b}}}function a(l){return l&&function(d,f,y){typeof f=="function"&&(y=f,f=null);function b(T,k){k&&(k.uid<0&&(k.uid+=4294967296),k.gid<0&&(k.gid+=4294967296)),y&&y.apply(this,arguments)}return f?l.call(r,d,f,b):l.call(r,d,b)}}function c(l){return l&&function(d,f){var y=f?l.call(r,d,f):l.call(r,d);return y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),y}}function u(l){if(!l||l.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(l.code==="EINVAL"||l.code==="EPERM"))}}});var Yle=P((RIt,Kle)=>{var Gle=require("stream").Stream;Kle.exports=eWe;function eWe(r){return{ReadStream:e,WriteStream:t};function e(n,i){if(!(this instanceof e))return new e(n,i);Gle.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}r.open(this.path,this.flags,this.mode,function(l,d){if(l){o.emit("error",l),o.readable=!1;return}o.fd=d,o.emit("open",d),o._read()})}function t(n,i){if(!(this instanceof t))return new t(n,i);Gle.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=r.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Xle=P((xIt,Jle)=>{"use strict";Jle.exports=rWe;var tWe=Object.getPrototypeOf||function(r){return r.__proto__};function rWe(r){if(r===null||typeof r!="object")return r;if(r instanceof Object)var e={__proto__:tWe(r)};else var e=Object.create(null);return Object.getOwnPropertyNames(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),e}});var Y0=P((EIt,n4)=>{var Tc=require("fs"),nWe=Vle(),iWe=Yle(),oWe=Xle(),qN=require("util"),Hd,zN;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Hd=Symbol.for("graceful-fs.queue"),zN=Symbol.for("graceful-fs.previous")):(Hd="___graceful-fs.queue",zN="___graceful-fs.previous");function sWe(){}function ede(r,e){Object.defineProperty(r,Hd,{get:function(){return e}})}var VD=sWe;qN.debuglog?VD=qN.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(VD=function(){var r=qN.format.apply(qN,arguments);r="GFS4: "+r.split(/\n/).join(`
GFS4: `),console.error(r)});Tc[Hd]||(Qle=global[Hd]||[],ede(Tc,Qle),Tc.close=function(r){function e(t,n){return r.call(Tc,t,function(i){i||Zle(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,zN,{value:r}),e}(Tc.close),Tc.closeSync=function(r){function e(t){r.apply(Tc,arguments),Zle()}return Object.defineProperty(e,zN,{value:r}),e}(Tc.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){VD(Tc[Hd]),require("assert").equal(Tc[Hd].length,0)}));var Qle;global[Hd]||ede(global,Tc[Hd]);n4.exports=t4(oWe(Tc));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Tc.__patched&&(n4.exports=t4(Tc),Tc.__patched=!0);function t4(r){nWe(r),r.gracefulify=t4,r.createReadStream=de,r.createWriteStream=ve;var e=r.readFile;r.readFile=t;function t(ee,Pe,se){return typeof Pe=="function"&&(se=Pe,Pe=null),ue(ee,Pe,se);function ue(Fe,Le,ce,Ce){return e(Fe,Le,function(we){we&&(we.code==="EMFILE"||we.code==="ENFILE")?K0([ue,[Fe,Le,ce],we,Ce||Date.now(),Date.now()]):typeof ce=="function"&&ce.apply(this,arguments)})}}var n=r.writeFile;r.writeFile=i;function i(ee,Pe,se,ue){return typeof se=="function"&&(ue=se,se=null),Fe(ee,Pe,se,ue);function Fe(Le,ce,Ce,we,Ee){return n(Le,ce,Ce,function(Ne){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?K0([Fe,[Le,ce,Ce,we],Ne,Ee||Date.now(),Date.now()]):typeof we=="function"&&we.apply(this,arguments)})}}var o=r.appendFile;o&&(r.appendFile=s);function s(ee,Pe,se,ue){return typeof se=="function"&&(ue=se,se=null),Fe(ee,Pe,se,ue);function Fe(Le,ce,Ce,we,Ee){return o(Le,ce,Ce,function(Ne){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?K0([Fe,[Le,ce,Ce,we],Ne,Ee||Date.now(),Date.now()]):typeof we=="function"&&we.apply(this,arguments)})}}var a=r.copyFile;a&&(r.copyFile=c);function c(ee,Pe,se,ue){return typeof se=="function"&&(ue=se,se=0),Fe(ee,Pe,se,ue);function Fe(Le,ce,Ce,we,Ee){return a(Le,ce,Ce,function(Ne){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?K0([Fe,[Le,ce,Ce,we],Ne,Ee||Date.now(),Date.now()]):typeof we=="function"&&we.apply(this,arguments)})}}var u=r.readdir;r.readdir=d;var l=/^v[0-5]\./;function d(ee,Pe,se){typeof Pe=="function"&&(se=Pe,Pe=null);var ue=l.test(process.version)?function(ce,Ce,we,Ee){return u(ce,Fe(ce,Ce,we,Ee))}:function(ce,Ce,we,Ee){return u(ce,Ce,Fe(ce,Ce,we,Ee))};return ue(ee,Pe,se);function Fe(Le,ce,Ce,we){return function(Ee,Ne){Ee&&(Ee.code==="EMFILE"||Ee.code==="ENFILE")?K0([ue,[Le,ce,Ce],Ee,we||Date.now(),Date.now()]):(Ne&&Ne.sort&&Ne.sort(),typeof Ce=="function"&&Ce.call(this,Ee,Ne))}}}if(process.version.substr(0,4)==="v0.8"){var f=iWe(r);z=f.ReadStream,U=f.WriteStream}var y=r.ReadStream;y&&(z.prototype=Object.create(y.prototype),z.prototype.open=A);var b=r.WriteStream;b&&(U.prototype=Object.create(b.prototype),U.prototype.open=ne),Object.defineProperty(r,"ReadStream",{get:function(){return z},set:function(ee){z=ee},enumerable:!0,configurable:!0}),Object.defineProperty(r,"WriteStream",{get:function(){return U},set:function(ee){U=ee},enumerable:!0,configurable:!0});var T=z;Object.defineProperty(r,"FileReadStream",{get:function(){return T},set:function(ee){T=ee},enumerable:!0,configurable:!0});var k=U;Object.defineProperty(r,"FileWriteStream",{get:function(){return k},set:function(ee){k=ee},enumerable:!0,configurable:!0});function z(ee,Pe){return this instanceof z?(y.apply(this,arguments),this):z.apply(Object.create(z.prototype),arguments)}function A(){var ee=this;W(ee.path,ee.flags,ee.mode,function(Pe,se){Pe?(ee.autoClose&&ee.destroy(),ee.emit("error",Pe)):(ee.fd=se,ee.emit("open",se),ee.read())})}function U(ee,Pe){return this instanceof U?(b.apply(this,arguments),this):U.apply(Object.create(U.prototype),arguments)}function ne(){var ee=this;W(ee.path,ee.flags,ee.mode,function(Pe,se){Pe?(ee.destroy(),ee.emit("error",Pe)):(ee.fd=se,ee.emit("open",se))})}function de(ee,Pe){return new r.ReadStream(ee,Pe)}function ve(ee,Pe){return new r.WriteStream(ee,Pe)}var $=r.open;r.open=W;function W(ee,Pe,se,ue){return typeof se=="function"&&(ue=se,se=null),Fe(ee,Pe,se,ue);function Fe(Le,ce,Ce,we,Ee){return $(Le,ce,Ce,function(Ne,$e){Ne&&(Ne.code==="EMFILE"||Ne.code==="ENFILE")?K0([Fe,[Le,ce,Ce,we],Ne,Ee||Date.now(),Date.now()]):typeof we=="function"&&we.apply(this,arguments)})}}return r}function K0(r){VD("ENQUEUE",r[0].name,r[1]),Tc[Hd].push(r),r4()}var jN;function Zle(){for(var r=Date.now(),e=0;e<Tc[Hd].length;++e)Tc[Hd][e].length>2&&(Tc[Hd][e][3]=r,Tc[Hd][e][4]=r);r4()}function r4(){if(clearTimeout(jN),jN=void 0,Tc[Hd].length!==0){var r=Tc[Hd].shift(),e=r[0],t=r[1],n=r[2],i=r[3],o=r[4];if(i===void 0)VD("RETRY",e.name,t),e.apply(null,t);else if(Date.now()-i>=6e4){VD("TIMEOUT",e.name,t);var s=t.pop();typeof s=="function"&&s.call(null,n)}else{var a=Date.now()-o,c=Math.max(o-i,1),u=Math.min(c*1.2,100);a>=u?(VD("RETRY",e.name,t),e.apply(null,t.concat([i]))):Tc[Hd].push(r)}jN===void 0&&(jN=setTimeout(r4,0))}}});var Np=P(nw=>{"use strict";var tde=Yl().fromCallback,Lp=Y0(),aWe=["access","appendFile","chmod","chown","close","copyFile","cp","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","glob","lchmod","lchown","lutimes","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","statfs","symlink","truncate","unlink","utimes","writeFile"].filter(r=>typeof Lp[r]=="function");Object.assign(nw,Lp);aWe.forEach(r=>{nw[r]=tde(Lp[r])});nw.exists=function(r,e){return typeof e=="function"?Lp.exists(r,e):new Promise(t=>Lp.exists(r,t))};nw.read=function(r,e,t,n,i,o){return typeof o=="function"?Lp.read(r,e,t,n,i,o):new Promise((s,a)=>{Lp.read(r,e,t,n,i,(c,u,l)=>{if(c)return a(c);s({bytesRead:u,buffer:l})})})};nw.write=function(r,e,...t){return typeof t[t.length-1]=="function"?Lp.write(r,e,...t):new Promise((n,i)=>{Lp.write(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffer:a})})})};nw.readv=function(r,e,...t){return typeof t[t.length-1]=="function"?Lp.readv(r,e,...t):new Promise((n,i)=>{Lp.readv(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesRead:s,buffers:a})})})};nw.writev=function(r,e,...t){return typeof t[t.length-1]=="function"?Lp.writev(r,e,...t):new Promise((n,i)=>{Lp.writev(r,e,...t,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffers:a})})})};typeof Lp.realpath.native=="function"?nw.realpath.native=tde(Lp.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var nde=P((IIt,rde)=>{"use strict";var cWe=require("path");rde.exports.checkPath=function(e){if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(cWe.parse(e).root,""))){let n=new Error(`Path contains invalid characters: ${e}`);throw n.code="EINVAL",n}}});var ade=P((kIt,i4)=>{"use strict";var ide=Np(),{checkPath:ode}=nde(),sde=r=>{let e={mode:511};return typeof r=="number"?r:{...e,...r}.mode};i4.exports.makeDir=async(r,e)=>(ode(r),ide.mkdir(r,{mode:sde(e),recursive:!0}));i4.exports.makeDirSync=(r,e)=>(ode(r),ide.mkdirSync(r,{mode:sde(e),recursive:!0}))});var iy=P((AIt,cde)=>{"use strict";var uWe=Yl().fromPromise,{makeDir:lWe,makeDirSync:o4}=ade(),s4=uWe(lWe);cde.exports={mkdirs:s4,mkdirsSync:o4,mkdirp:s4,mkdirpSync:o4,ensureDir:s4,ensureDirSync:o4}});var XS=P((MIt,lde)=>{"use strict";var dWe=Yl().fromPromise,ude=Np();function fWe(r){return ude.access(r).then(()=>!0).catch(()=>!1)}lde.exports={pathExists:dWe(fWe),pathExistsSync:ude.existsSync}});var a4=P((LIt,dde)=>{"use strict";var J0=Np(),pWe=Yl().fromPromise;async function hWe(r,e,t){let n=await J0.open(r,"r+"),i=null;try{await J0.futimes(n,e,t)}finally{try{await J0.close(n)}catch(o){i=o}}if(i)throw i}function mWe(r,e,t){let n=J0.openSync(r,"r+");return J0.futimesSync(n,e,t),J0.closeSync(n)}dde.exports={utimesMillis:pWe(hWe),utimesMillisSync:mWe}});var GD=P((NIt,mde)=>{"use strict";var X0=Np(),Jl=require("path"),fde=Yl().fromPromise;function gWe(r,e,t){let n=t.dereference?i=>X0.stat(i,{bigint:!0}):i=>X0.lstat(i,{bigint:!0});return Promise.all([n(r),n(e).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,o])=>({srcStat:i,destStat:o}))}function vWe(r,e,t){let n,i=t.dereference?s=>X0.statSync(s,{bigint:!0}):s=>X0.lstatSync(s,{bigint:!0}),o=i(r);try{n=i(e)}catch(s){if(s.code==="ENOENT")return{srcStat:o,destStat:null};throw s}return{srcStat:o,destStat:n}}async function yWe(r,e,t,n){let{srcStat:i,destStat:o}=await gWe(r,e,n);if(o){if(XO(i,o)){let s=Jl.basename(r),a=Jl.basename(e);if(t==="move"&&s!==a&&s.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${r}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${r}'.`)}if(i.isDirectory()&&c4(r,e))throw new Error(UN(r,e,t));return{srcStat:i,destStat:o}}function bWe(r,e,t,n){let{srcStat:i,destStat:o}=vWe(r,e,n);if(o){if(XO(i,o)){let s=Jl.basename(r),a=Jl.basename(e);if(t==="move"&&s!==a&&s.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${r}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${r}'.`)}if(i.isDirectory()&&c4(r,e))throw new Error(UN(r,e,t));return{srcStat:i,destStat:o}}async function pde(r,e,t,n){let i=Jl.resolve(Jl.dirname(r)),o=Jl.resolve(Jl.dirname(t));if(o===i||o===Jl.parse(o).root)return;let s;try{s=await X0.stat(o,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(XO(e,s))throw new Error(UN(r,t,n));return pde(r,e,o,n)}function hde(r,e,t,n){let i=Jl.resolve(Jl.dirname(r)),o=Jl.resolve(Jl.dirname(t));if(o===i||o===Jl.parse(o).root)return;let s;try{s=X0.statSync(o,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(XO(e,s))throw new Error(UN(r,t,n));return hde(r,e,o,n)}function XO(r,e){return e.ino&&e.dev&&e.ino===r.ino&&e.dev===r.dev}function c4(r,e){let t=Jl.resolve(r).split(Jl.sep).filter(i=>i),n=Jl.resolve(e).split(Jl.sep).filter(i=>i);return t.every((i,o)=>n[o]===i)}function UN(r,e,t){return`Cannot ${t} '${r}' to a subdirectory of itself, '${e}'.`}mde.exports={checkPaths:fde(yWe),checkPathsSync:bWe,checkParentPaths:fde(pde),checkParentPathsSync:hde,isSrcSubdir:c4,areIdentical:XO}});var _de=P((FIt,bde)=>{"use strict";var Of=Np(),QO=require("path"),{mkdirs:_We}=iy(),{pathExists:wWe}=XS(),{utimesMillis:SWe}=a4(),ZO=GD();async function CWe(r,e,t={}){typeof t=="function"&&(t={filter:t}),t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");let{srcStat:n,destStat:i}=await ZO.checkPaths(r,e,"copy",t);if(await ZO.checkParentPaths(r,n,e,"copy"),!await vde(r,e,t))return;let s=QO.dirname(e);await wWe(s)||await _We(s),await yde(i,r,e,t)}async function vde(r,e,t){return t.filter?t.filter(r,e):!0}async function yde(r,e,t,n){let o=await(n.dereference?Of.stat:Of.lstat)(e);if(o.isDirectory())return RWe(o,r,e,t,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return DWe(o,r,e,t,n);if(o.isSymbolicLink())return xWe(r,e,t,n);throw o.isSocket()?new Error(`Cannot copy a socket file: ${e}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${e}`):new Error(`Unknown file: ${e}`)}async function DWe(r,e,t,n,i){if(!e)return gde(r,t,n,i);if(i.overwrite)return await Of.unlink(n),gde(r,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}async function gde(r,e,t,n){if(await Of.copyFile(e,t),n.preserveTimestamps){TWe(r.mode)&&await PWe(t,r.mode);let i=await Of.stat(e);await SWe(t,i.atime,i.mtime)}return Of.chmod(t,r.mode)}function TWe(r){return(r&128)===0}function PWe(r,e){return Of.chmod(r,e|128)}async function RWe(r,e,t,n,i){e||await Of.mkdir(n);let o=[];for await(let s of await Of.opendir(t)){let a=QO.join(t,s.name),c=QO.join(n,s.name);o.push(vde(a,c,i).then(u=>{if(u)return ZO.checkPaths(a,c,"copy",i).then(({destStat:l})=>yde(l,a,c,i))}))}await Promise.all(o),e||await Of.chmod(n,r.mode)}async function xWe(r,e,t,n){let i=await Of.readlink(e);if(n.dereference&&(i=QO.resolve(process.cwd(),i)),!r)return Of.symlink(i,t);let o=null;try{o=await Of.readlink(t)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return Of.symlink(i,t);throw s}if(n.dereference&&(o=QO.resolve(process.cwd(),o)),ZO.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(ZO.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return await Of.unlink(t),Of.symlink(i,t)}bde.exports=CWe});var Tde=P((qIt,Dde)=>{"use strict";var Fp=Y0(),eI=require("path"),EWe=iy().mkdirsSync,OWe=a4().utimesMillisSync,tI=GD();function IWe(r,e,t){typeof t=="function"&&(t={filter:t}),t=t||{},t.clobber="clobber"in t?!!t.clobber:!0,t.overwrite="overwrite"in t?!!t.overwrite:t.clobber,t.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:n,destStat:i}=tI.checkPathsSync(r,e,"copy",t);if(tI.checkParentPathsSync(r,n,e,"copy"),t.filter&&!t.filter(r,e))return;let o=eI.dirname(e);return Fp.existsSync(o)||EWe(o),wde(i,r,e,t)}function wde(r,e,t,n){let o=(n.dereference?Fp.statSync:Fp.lstatSync)(e);if(o.isDirectory())return qWe(o,r,e,t,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return kWe(o,r,e,t,n);if(o.isSymbolicLink())return UWe(r,e,t,n);throw o.isSocket()?new Error(`Cannot copy a socket file: ${e}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${e}`):new Error(`Unknown file: ${e}`)}function kWe(r,e,t,n,i){return e?AWe(r,t,n,i):Sde(r,t,n,i)}function AWe(r,e,t,n){if(n.overwrite)return Fp.unlinkSync(t),Sde(r,e,t,n);if(n.errorOnExist)throw new Error(`'${t}' already exists`)}function Sde(r,e,t,n){return Fp.copyFileSync(e,t),n.preserveTimestamps&&MWe(r.mode,e,t),u4(t,r.mode)}function MWe(r,e,t){return LWe(r)&&NWe(t,r),FWe(e,t)}function LWe(r){return(r&128)===0}function NWe(r,e){return u4(r,e|128)}function u4(r,e){return Fp.chmodSync(r,e)}function FWe(r,e){let t=Fp.statSync(r);return OWe(e,t.atime,t.mtime)}function qWe(r,e,t,n,i){return e?Cde(t,n,i):jWe(r.mode,t,n,i)}function jWe(r,e,t,n){return Fp.mkdirSync(t),Cde(e,t,n),u4(t,r)}function Cde(r,e,t){let n=Fp.opendirSync(r);try{let i;for(;(i=n.readSync())!==null;)zWe(i.name,r,e,t)}finally{n.closeSync()}}function zWe(r,e,t,n){let i=eI.join(e,r),o=eI.join(t,r);if(n.filter&&!n.filter(i,o))return;let{destStat:s}=tI.checkPathsSync(i,o,"copy",n);return wde(s,i,o,n)}function UWe(r,e,t,n){let i=Fp.readlinkSync(e);if(n.dereference&&(i=eI.resolve(process.cwd(),i)),r){let o;try{o=Fp.readlinkSync(t)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return Fp.symlinkSync(i,t);throw s}if(n.dereference&&(o=eI.resolve(process.cwd(),o)),tI.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(tI.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return HWe(i,t)}else return Fp.symlinkSync(i,t)}function HWe(r,e){return Fp.unlinkSync(e),Fp.symlinkSync(r,e)}Dde.exports=IWe});var HN=P((jIt,Pde)=>{"use strict";var WWe=Yl().fromPromise;Pde.exports={copy:WWe(_de()),copySync:Tde()}});var rI=P((zIt,xde)=>{"use strict";var Rde=Y0(),BWe=Yl().fromCallback;function $We(r,e){Rde.rm(r,{recursive:!0,force:!0},e)}function VWe(r){Rde.rmSync(r,{recursive:!0,force:!0})}xde.exports={remove:BWe($We),removeSync:VWe}});var Nde=P((UIt,Lde)=>{"use strict";var GWe=Yl().fromPromise,Ide=Np(),kde=require("path"),Ade=iy(),Mde=rI(),Ede=GWe(async function(e){let t;try{t=await Ide.readdir(e)}catch{return Ade.mkdirs(e)}return Promise.all(t.map(n=>Mde.remove(kde.join(e,n))))});function Ode(r){let e;try{e=Ide.readdirSync(r)}catch{return Ade.mkdirsSync(r)}e.forEach(t=>{t=kde.join(r,t),Mde.removeSync(t)})}Lde.exports={emptyDirSync:Ode,emptydirSync:Ode,emptyDir:Ede,emptydir:Ede}});var zde=P((HIt,jde)=>{"use strict";var KWe=Yl().fromPromise,Fde=require("path"),iw=Np(),qde=iy();async function YWe(r){let e;try{e=await iw.stat(r)}catch{}if(e&&e.isFile())return;let t=Fde.dirname(r),n=null;try{n=await iw.stat(t)}catch(i){if(i.code==="ENOENT"){await qde.mkdirs(t),await iw.writeFile(r,"");return}else throw i}n.isDirectory()?await iw.writeFile(r,""):await iw.readdir(t)}function JWe(r){let e;try{e=iw.statSync(r)}catch{}if(e&&e.isFile())return;let t=Fde.dirname(r);try{iw.statSync(t).isDirectory()||iw.readdirSync(t)}catch(n){if(n&&n.code==="ENOENT")qde.mkdirsSync(t);else throw n}iw.writeFileSync(r,"")}jde.exports={createFile:KWe(YWe),createFileSync:JWe}});var $de=P((WIt,Bde)=>{"use strict";var XWe=Yl().fromPromise,Ude=require("path"),QS=Np(),Hde=iy(),{pathExists:QWe}=XS(),{areIdentical:Wde}=GD();async function ZWe(r,e){let t;try{t=await QS.lstat(e)}catch{}let n;try{n=await QS.lstat(r)}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}if(t&&Wde(n,t))return;let i=Ude.dirname(e);await QWe(i)||await Hde.mkdirs(i),await QS.link(r,e)}function eBe(r,e){let t;try{t=QS.lstatSync(e)}catch{}try{let o=QS.lstatSync(r);if(t&&Wde(o,t))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let n=Ude.dirname(e);return QS.existsSync(n)||Hde.mkdirsSync(n),QS.linkSync(r,e)}Bde.exports={createLink:XWe(ZWe),createLinkSync:eBe}});var Gde=P((BIt,Vde)=>{"use strict";var ZS=require("path"),nI=Np(),{pathExists:tBe}=XS(),rBe=Yl().fromPromise;async function nBe(r,e){if(ZS.isAbsolute(r)){try{await nI.lstat(r)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:r,toDst:r}}let t=ZS.dirname(e),n=ZS.join(t,r);if(await tBe(n))return{toCwd:n,toDst:r};try{await nI.lstat(r)}catch(o){throw o.message=o.message.replace("lstat","ensureSymlink"),o}return{toCwd:r,toDst:ZS.relative(t,r)}}function iBe(r,e){if(ZS.isAbsolute(r)){if(!nI.existsSync(r))throw new Error("absolute srcpath does not exist");return{toCwd:r,toDst:r}}let t=ZS.dirname(e),n=ZS.join(t,r);if(nI.existsSync(n))return{toCwd:n,toDst:r};if(!nI.existsSync(r))throw new Error("relative srcpath does not exist");return{toCwd:r,toDst:ZS.relative(t,r)}}Vde.exports={symlinkPaths:rBe(nBe),symlinkPathsSync:iBe}});var Jde=P(($It,Yde)=>{"use strict";var Kde=Np(),oBe=Yl().fromPromise;async function sBe(r,e){if(e)return e;let t;try{t=await Kde.lstat(r)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}function aBe(r,e){if(e)return e;let t;try{t=Kde.lstatSync(r)}catch{return"file"}return t&&t.isDirectory()?"dir":"file"}Yde.exports={symlinkType:oBe(sBe),symlinkTypeSync:aBe}});var efe=P((VIt,Zde)=>{"use strict";var cBe=Yl().fromPromise,Xde=require("path"),Cb=Np(),{mkdirs:uBe,mkdirsSync:lBe}=iy(),{symlinkPaths:dBe,symlinkPathsSync:fBe}=Gde(),{symlinkType:pBe,symlinkTypeSync:hBe}=Jde(),{pathExists:mBe}=XS(),{areIdentical:Qde}=GD();async function gBe(r,e,t){let n;try{n=await Cb.lstat(e)}catch{}if(n&&n.isSymbolicLink()){let[a,c]=await Promise.all([Cb.stat(r),Cb.stat(e)]);if(Qde(a,c))return}let i=await dBe(r,e);r=i.toDst;let o=await pBe(i.toCwd,t),s=Xde.dirname(e);return await mBe(s)||await uBe(s),Cb.symlink(r,e,o)}function vBe(r,e,t){let n;try{n=Cb.lstatSync(e)}catch{}if(n&&n.isSymbolicLink()){let a=Cb.statSync(r),c=Cb.statSync(e);if(Qde(a,c))return}let i=fBe(r,e);r=i.toDst,t=hBe(i.toCwd,t);let o=Xde.dirname(e);return Cb.existsSync(o)||lBe(o),Cb.symlinkSync(r,e,t)}Zde.exports={createSymlink:cBe(gBe),createSymlinkSync:vBe}});var cfe=P((GIt,afe)=>{"use strict";var{createFile:tfe,createFileSync:rfe}=zde(),{createLink:nfe,createLinkSync:ife}=$de(),{createSymlink:ofe,createSymlinkSync:sfe}=efe();afe.exports={createFile:tfe,createFileSync:rfe,ensureFile:tfe,ensureFileSync:rfe,createLink:nfe,createLinkSync:ife,ensureLink:nfe,ensureLinkSync:ife,createSymlink:ofe,createSymlinkSync:sfe,ensureSymlink:ofe,ensureSymlinkSync:sfe}});var WN=P((KIt,ufe)=>{function yBe(r,{EOL:e=`
`,finalEOL:t=!0,replacer:n=null,spaces:i}={}){let o=t?e:"";return JSON.stringify(r,n,i).replace(/\n/g,e)+o}function bBe(r){return Buffer.isBuffer(r)&&(r=r.toString("utf8")),r.replace(/^\uFEFF/,"")}ufe.exports={stringify:yBe,stripBom:bBe}});var pfe=P((YIt,ffe)=>{var Q0;try{Q0=Y0()}catch{Q0=require("fs")}var BN=Yl(),{stringify:lfe,stripBom:dfe}=WN();async function _Be(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||Q0,n="throws"in e?e.throws:!0,i=await BN.fromCallback(t.readFile)(r,e);i=dfe(i);let o;try{o=JSON.parse(i,e?e.reviver:null)}catch(s){if(n)throw s.message=`${r}: ${s.message}`,s;return null}return o}var wBe=BN.fromPromise(_Be);function SBe(r,e={}){typeof e=="string"&&(e={encoding:e});let t=e.fs||Q0,n="throws"in e?e.throws:!0;try{let i=t.readFileSync(r,e);return i=dfe(i),JSON.parse(i,e.reviver)}catch(i){if(n)throw i.message=`${r}: ${i.message}`,i;return null}}async function CBe(r,e,t={}){let n=t.fs||Q0,i=lfe(e,t);await BN.fromCallback(n.writeFile)(r,i,t)}var DBe=BN.fromPromise(CBe);function TBe(r,e,t={}){let n=t.fs||Q0,i=lfe(e,t);return n.writeFileSync(r,i,t)}var PBe={readFile:wBe,readFileSync:SBe,writeFile:DBe,writeFileSync:TBe};ffe.exports=PBe});var mfe=P((JIt,hfe)=>{"use strict";var $N=pfe();hfe.exports={readJson:$N.readFile,readJsonSync:$N.readFileSync,writeJson:$N.writeFile,writeJsonSync:$N.writeFileSync}});var VN=P((XIt,yfe)=>{"use strict";var RBe=Yl().fromPromise,l4=Np(),gfe=require("path"),vfe=iy(),xBe=XS().pathExists;async function EBe(r,e,t="utf-8"){let n=gfe.dirname(r);return await xBe(n)||await vfe.mkdirs(n),l4.writeFile(r,e,t)}function OBe(r,...e){let t=gfe.dirname(r);l4.existsSync(t)||vfe.mkdirsSync(t),l4.writeFileSync(r,...e)}yfe.exports={outputFile:RBe(EBe),outputFileSync:OBe}});var _fe=P((QIt,bfe)=>{"use strict";var{stringify:IBe}=WN(),{outputFile:kBe}=VN();async function ABe(r,e,t={}){let n=IBe(e,t);await kBe(r,n,t)}bfe.exports=ABe});var Sfe=P((ZIt,wfe)=>{"use strict";var{stringify:MBe}=WN(),{outputFileSync:LBe}=VN();function NBe(r,e,t){let n=MBe(e,t);LBe(r,n,t)}wfe.exports=NBe});var Dfe=P((ekt,Cfe)=>{"use strict";var FBe=Yl().fromPromise,qp=mfe();qp.outputJson=FBe(_fe());qp.outputJsonSync=Sfe();qp.outputJSON=qp.outputJson;qp.outputJSONSync=qp.outputJsonSync;qp.writeJSON=qp.writeJson;qp.writeJSONSync=qp.writeJsonSync;qp.readJSON=qp.readJson;qp.readJSONSync=qp.readJsonSync;Cfe.exports=qp});var Efe=P((tkt,xfe)=>{"use strict";var qBe=Np(),Tfe=require("path"),{copy:jBe}=HN(),{remove:Rfe}=rI(),{mkdirp:zBe}=iy(),{pathExists:UBe}=XS(),Pfe=GD();async function HBe(r,e,t={}){let n=t.overwrite||t.clobber||!1,{srcStat:i,isChangingCase:o=!1}=await Pfe.checkPaths(r,e,"move",t);await Pfe.checkParentPaths(r,i,e,"move");let s=Tfe.dirname(e);return Tfe.parse(s).root!==s&&await zBe(s),WBe(r,e,n,o)}async function WBe(r,e,t,n){if(!n){if(t)await Rfe(e);else if(await UBe(e))throw new Error("dest already exists.")}try{await qBe.rename(r,e)}catch(i){if(i.code!=="EXDEV")throw i;await BBe(r,e,t)}}async function BBe(r,e,t){return await jBe(r,e,{overwrite:t,errorOnExist:!0,preserveTimestamps:!0}),Rfe(r)}xfe.exports=HBe});var Mfe=P((rkt,Afe)=>{"use strict";var Ife=Y0(),f4=require("path"),$Be=HN().copySync,kfe=rI().removeSync,VBe=iy().mkdirpSync,Ofe=GD();function GBe(r,e,t){t=t||{};let n=t.overwrite||t.clobber||!1,{srcStat:i,isChangingCase:o=!1}=Ofe.checkPathsSync(r,e,"move",t);return Ofe.checkParentPathsSync(r,i,e,"move"),KBe(e)||VBe(f4.dirname(e)),YBe(r,e,n,o)}function KBe(r){let e=f4.dirname(r);return f4.parse(e).root===e}function YBe(r,e,t,n){if(n)return d4(r,e,t);if(t)return kfe(e),d4(r,e,t);if(Ife.existsSync(e))throw new Error("dest already exists.");return d4(r,e,t)}function d4(r,e,t){try{Ife.renameSync(r,e)}catch(n){if(n.code!=="EXDEV")throw n;return JBe(r,e,t)}}function JBe(r,e,t){return $Be(r,e,{overwrite:t,errorOnExist:!0,preserveTimestamps:!0}),kfe(r)}Afe.exports=GBe});var Nfe=P((nkt,Lfe)=>{"use strict";var XBe=Yl().fromPromise;Lfe.exports={move:XBe(Efe()),moveSync:Mfe()}});var eC=P((ikt,Ffe)=>{"use strict";Ffe.exports={...Np(),...HN(),...Nde(),...cfe(),...Dfe(),...iy(),...Nfe(),...VN(),...XS(),...rI()}});var eP=P(S4=>{"use strict";Object.defineProperty(S4,"__esModule",{value:!0});function e$e(r){return typeof r=="function"}S4.isFunction=e$e});var sI=P(D4=>{"use strict";Object.defineProperty(D4,"__esModule",{value:!0});var C4=!1;D4.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){if(r){var e=new Error;console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+e.stack)}else C4&&console.log("RxJS: Back to a better error behavior. Thank you. <3");C4=r},get useDeprecatedSynchronousErrorHandling(){return C4}}});var XN=P(T4=>{"use strict";Object.defineProperty(T4,"__esModule",{value:!0});function t$e(r){setTimeout(function(){throw r},0)}T4.hostReportError=t$e});var R4=P(P4=>{"use strict";Object.defineProperty(P4,"__esModule",{value:!0});var r$e=sI(),n$e=XN();P4.empty={closed:!0,next:function(r){},error:function(r){if(r$e.config.useDeprecatedSynchronousErrorHandling)throw r;n$e.hostReportError(r)},complete:function(){}}});var zp=P(x4=>{"use strict";Object.defineProperty(x4,"__esModule",{value:!0});x4.isArray=function(){return Array.isArray||function(r){return r&&typeof r.length=="number"}}()});var QN=P(E4=>{"use strict";Object.defineProperty(E4,"__esModule",{value:!0});function i$e(r){return r!==null&&typeof r=="object"}E4.isObject=i$e});var I4=P(O4=>{"use strict";Object.defineProperty(O4,"__esModule",{value:!0});var o$e=function(){function r(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return r.prototype=Object.create(Error.prototype),r}();O4.UnsubscriptionError=o$e});var ml=P(k4=>{"use strict";Object.defineProperty(k4,"__esModule",{value:!0});var s$e=zp(),a$e=QN(),c$e=eP(),ZN=I4(),u$e=function(){function r(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return r.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this,n=t._parentOrParents,i=t._ctorUnsubscribe,o=t._unsubscribe,s=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof r)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(c$e.isFunction(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(d){e=d instanceof ZN.UnsubscriptionError?Ufe(d.errors):[d]}}if(s$e.isArray(s))for(var a=-1,u=s.length;++a<u;){var l=s[a];if(a$e.isObject(l))try{l.unsubscribe()}catch(f){e=e||[],f instanceof ZN.UnsubscriptionError?e=e.concat(Ufe(f.errors)):e.push(f)}}if(e)throw new ZN.UnsubscriptionError(e)}},r.prototype.add=function(e){var t=e;if(!e)return r.EMPTY;switch(typeof e){case"function":t=new r(e);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof r)){var n=t;t=new r,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=t._parentOrParents;if(i===null)t._parentOrParents=this;else if(i instanceof r){if(i===this)return t;t._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return t;var o=this._subscriptions;return o===null?this._subscriptions=[t]:o.push(t),t},r.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);n!==-1&&t.splice(n,1)}},r.EMPTY=function(e){return e.closed=!0,e}(new r),r}();k4.Subscription=u$e;function Ufe(r){return r.reduce(function(e,t){return e.concat(t instanceof ZN.UnsubscriptionError?t.errors:t)},[])}});var eF=P(aI=>{"use strict";Object.defineProperty(aI,"__esModule",{value:!0});aI.rxSubscriber=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();aI.$$rxSubscriber=aI.rxSubscriber});var mi=P(rP=>{"use strict";var Wfe=rP&&rP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(rP,"__esModule",{value:!0});var Hfe=eP(),A4=R4(),l$e=ml(),d$e=eF(),tP=sI(),tF=XN(),Bfe=function(r){Wfe(e,r);function e(t,n,i){var o=r.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=A4.empty;break;case 1:if(!t){o.destination=A4.empty;break}if(typeof t=="object"){t instanceof e?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(o)):(o.syncErrorThrowable=!0,o.destination=new M4(o,t));break}default:o.syncErrorThrowable=!0,o.destination=new M4(o,t,n,i);break}return o}return e.prototype[d$e.rxSubscriber]=function(){return this},e.create=function(t,n,i){var o=new e(t,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(l$e.Subscription);rP.Subscriber=Bfe;var M4=function(r){Wfe(e,r);function e(t,n,i,o){var s=r.call(this)||this;s._parentSubscriber=t;var a,c=s;return Hfe.isFunction(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==A4.empty&&(c=Object.create(n),Hfe.isFunction(c.unsubscribe)&&s.add(c.unsubscribe.bind(c)),c.unsubscribe=s.unsubscribe.bind(s))),s._context=c,s._next=a,s._error=i,s._complete=o,s}return e.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!tP.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},e.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,i=tP.config.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=t,n.syncErrorThrown=!0):tF.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;tF.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return t._complete.call(t._context)};!tP.config.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(i){if(this.unsubscribe(),tP.config.useDeprecatedSynchronousErrorHandling)throw i;tF.hostReportError(i)}},e.prototype.__tryOrSetError=function(t,n,i){if(!tP.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(o){return tP.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=o,t.syncErrorThrown=!0,!0):(tF.hostReportError(o),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Bfe);rP.SafeSubscriber=M4});var rF=P(L4=>{"use strict";Object.defineProperty(L4,"__esModule",{value:!0});var f$e=mi();function p$e(r){for(;r;){var e=r,t=e.closed,n=e.destination,i=e.isStopped;if(t||i)return!1;n&&n instanceof f$e.Subscriber?r=n:r=null}return!0}L4.canReportError=p$e});var Vfe=P(F4=>{"use strict";Object.defineProperty(F4,"__esModule",{value:!0});var N4=mi(),$fe=eF(),h$e=R4();function m$e(r,e,t){if(r){if(r instanceof N4.Subscriber)return r;if(r[$fe.rxSubscriber])return r[$fe.rxSubscriber]()}return!r&&!e&&!t?new N4.Subscriber(h$e.empty):new N4.Subscriber(r,e,t)}F4.toSubscriber=m$e});var YD=P(q4=>{"use strict";Object.defineProperty(q4,"__esModule",{value:!0});q4.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var nC=P(j4=>{"use strict";Object.defineProperty(j4,"__esModule",{value:!0});function g$e(r){return r}j4.identity=g$e});var iF=P(nF=>{"use strict";Object.defineProperty(nF,"__esModule",{value:!0});var v$e=nC();function y$e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Gfe(r)}nF.pipe=y$e;function Gfe(r){return r.length===0?v$e.identity:r.length===1?r[0]:function(t){return r.reduce(function(n,i){return i(n)},t)}}nF.pipeFromArray=Gfe});var No=P(z4=>{"use strict";Object.defineProperty(z4,"__esModule",{value:!0});var b$e=rF(),_$e=Vfe(),w$e=YD(),S$e=iF(),oF=sI(),C$e=function(){function r(e){this._isScalar=!1,e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var i=this.operator,o=_$e.toSubscriber(e,t,n);if(i?o.add(i.call(o,this.source)):o.add(this.source||oF.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),oF.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){oF.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),b$e.canReportError(e)?e.error(t):console.warn(t)}},r.prototype.forEach=function(e,t){var n=this;return t=Kfe(t),new t(function(i,o){var s;s=n.subscribe(function(a){try{e(a)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})},r.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},r.prototype[w$e.observable]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length===0?this:S$e.pipeFromArray(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=Kfe(e),new e(function(n,i){var o;t.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},r.create=function(e){return new r(e)},r}();z4.Observable=C$e;function Kfe(r){if(r||(r=oF.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}});var cI=P(U4=>{"use strict";Object.defineProperty(U4,"__esModule",{value:!0});var D$e=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}();U4.ObjectUnsubscribedError=D$e});var H4=P(uI=>{"use strict";var T$e=uI&&uI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(uI,"__esModule",{value:!0});var P$e=ml(),R$e=function(r){T$e(e,r);function e(t,n){var i=r.call(this)||this;return i.subject=t,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(P$e.Subscription);uI.SubjectSubscription=R$e});var If=P(JD=>{"use strict";var $4=JD&&JD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(JD,"__esModule",{value:!0});var Yfe=No(),x$e=mi(),W4=ml(),lI=cI(),E$e=H4(),O$e=eF(),Jfe=function(r){$4(e,r);function e(t){var n=r.call(this,t)||this;return n.destination=t,n}return e}(x$e.Subscriber);JD.SubjectSubscriber=Jfe;var Xfe=function(r){$4(e,r);function e(){var t=r.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype[O$e.rxSubscriber]=function(){return new Jfe(this)},e.prototype.lift=function(t){var n=new B4(this,this);return n.operator=t,n},e.prototype.next=function(t){if(this.closed)throw new lI.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].next(t)},e.prototype.error=function(t){if(this.closed)throw new lI.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),s=0;s<i;s++)o[s].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new lI.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(t){if(this.closed)throw new lI.ObjectUnsubscribedError;return r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){if(this.closed)throw new lI.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),W4.Subscription.EMPTY):this.isStopped?(t.complete(),W4.Subscription.EMPTY):(this.observers.push(t),new E$e.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new Yfe.Observable;return t.source=this,t},e.create=function(t,n){return new B4(t,n)},e}(Yfe.Observable);JD.Subject=Xfe;var B4=function(r){$4(e,r);function e(t,n){var i=r.call(this)||this;return i.destination=t,i.source=n,i}return e.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},e.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):W4.Subscription.EMPTY},e}(Xfe);JD.AnonymousSubject=B4});var sF=P(dI=>{"use strict";var I$e=dI&&dI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dI,"__esModule",{value:!0});var k$e=mi();function A$e(){return function(e){return e.lift(new M$e(e))}}dI.refCount=A$e;var M$e=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new L$e(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),L$e=function(r){I$e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(k$e.Subscriber)});var G4=P(nP=>{"use strict";var V4=nP&&nP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(nP,"__esModule",{value:!0});var N$e=If(),F$e=No(),q$e=mi(),Qfe=ml(),j$e=sF(),Zfe=function(r){V4(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Qfe.Subscription,t.add(this.source.subscribe(new z$e(this.getSubject(),this))),t.closed&&(this._connection=null,t=Qfe.Subscription.EMPTY)),t},e.prototype.refCount=function(){return j$e.refCount()(this)},e}(F$e.Observable);nP.ConnectableObservable=Zfe;nP.connectableObservableDescriptor=function(){var r=Zfe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:r._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}}}();var z$e=function(r){V4(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._error=function(t){this._unsubscribe(),r.prototype._error.call(this,t)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var n=t._connection;t._refCount=0,t._subject=null,t._connection=null,n&&n.unsubscribe()}},e}(N$e.SubjectSubscriber),Ekt=function(){function r(e){this.connectable=e}return r.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var i=new U$e(e,n),o=t.subscribe(i);return i.closed||(i.connection=n.connect()),o},r}(),U$e=function(r){V4(e,r);function e(t,n){var i=r.call(this,t)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var n=t._refCount;if(n<=0){this.connection=null;return}if(t._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=t._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(q$e.Subscriber)});var Y4=P(iP=>{"use strict";var aF=iP&&iP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iP,"__esModule",{value:!0});var epe=mi(),tpe=ml(),H$e=No(),W$e=If();function B$e(r,e,t,n){return function(i){return i.lift(new $$e(r,e,t,n))}}iP.groupBy=B$e;var $$e=function(){function r(e,t,n,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=i}return r.prototype.call=function(e,t){return t.subscribe(new V$e(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},r}(),V$e=function(r){aF(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=o,a.subjectSelector=s,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(t){var n;try{n=this.keySelector(t)}catch(i){this.error(i);return}this._group(t,n)},e.prototype._group=function(t,n){var i=this.groups;i||(i=this.groups=new Map);var o=i.get(n),s;if(this.elementSelector)try{s=this.elementSelector(t)}catch(u){this.error(u)}else s=t;if(!o){o=this.subjectSelector?this.subjectSelector():new W$e.Subject,i.set(n,o);var a=new K4(n,o,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new K4(n,o))}catch(u){this.error(u);return}this.add(c.subscribe(new G$e(n,o,this)))}}o.closed||o.next(s)},e.prototype._error=function(t){var n=this.groups;n&&(n.forEach(function(i,o){i.error(t)}),n.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(n,i){n.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&r.prototype.unsubscribe.call(this))},e}(epe.Subscriber),G$e=function(r){aF(e,r);function e(t,n,i){var o=r.call(this,n)||this;return o.key=t,o.group=n,o.parent=i,o}return e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,n=t.parent,i=t.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(epe.Subscriber),K4=function(r){aF(e,r);function e(t,n,i){var o=r.call(this)||this;return o.key=t,o.groupSubject=n,o.refCountSubscription=i,o}return e.prototype._subscribe=function(t){var n=new tpe.Subscription,i=this,o=i.refCountSubscription,s=i.groupSubject;return o&&!o.closed&&n.add(new K$e(o)),n.add(s.subscribe(t)),n},e}(H$e.Observable);iP.GroupedObservable=K4;var K$e=function(r){aF(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,t.count++,n}return e.prototype.unsubscribe=function(){var t=this.parent;!t.closed&&!this.closed&&(r.prototype.unsubscribe.call(this),t.count-=1,t.count===0&&t.attemptedToUnsubscribe&&t.unsubscribe())},e}(tpe.Subscription)});var J4=P(fI=>{"use strict";var Y$e=fI&&fI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fI,"__esModule",{value:!0});var J$e=If(),X$e=cI(),Q$e=function(r){Y$e(e,r);function e(t){var n=r.call(this)||this;return n._value=t,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(t){var n=r.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new X$e.ObjectUnsubscribedError;return this._value},e.prototype.next=function(t){r.prototype.next.call(this,this._value=t)},e}(J$e.Subject);fI.BehaviorSubject=Q$e});var rpe=P(pI=>{"use strict";var Z$e=pI&&pI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pI,"__esModule",{value:!0});var e3e=ml(),t3e=function(r){Z$e(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},e}(e3e.Subscription);pI.Action=t3e});var oP=P(hI=>{"use strict";var r3e=hI&&hI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(hI,"__esModule",{value:!0});var n3e=rpe(),i3e=function(r){r3e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),this.closed)return this;this.state=t;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),setInterval(t.flush.bind(t,this),i)},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var i=!1,o=void 0;try{this.work(t)}catch(s){i=!0,o=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},e}(n3e.Action);hI.AsyncAction=i3e});var npe=P(mI=>{"use strict";var o3e=mI&&mI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mI,"__esModule",{value:!0});var s3e=oP(),a3e=function(r){o3e(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?r.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},e.prototype.execute=function(t,n){return n>0||this.closed?r.prototype.execute.call(this,t,n):this._execute(t,n)},e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?r.prototype.requestAsyncId.call(this,t,n,i):t.flush(this)},e}(s3e.AsyncAction);mI.QueueAction=a3e});var Q4=P(X4=>{"use strict";Object.defineProperty(X4,"__esModule",{value:!0});var c3e=function(){function r(e,t){t===void 0&&(t=r.now),this.SchedulerAction=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},r.now=function(){return Date.now()},r}();X4.Scheduler=c3e});var sP=P(gI=>{"use strict";var u3e=gI&&gI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gI,"__esModule",{value:!0});var ipe=Q4(),l3e=function(r){u3e(e,r);function e(t,n){n===void 0&&(n=ipe.Scheduler.now);var i=r.call(this,t,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(t,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,i):r.prototype.schedule.call(this,t,n,i)},e.prototype.flush=function(t){var n=this.actions;if(this.active){n.push(t);return}var i;this.active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},e}(ipe.Scheduler);gI.AsyncScheduler=l3e});var ope=P(vI=>{"use strict";var d3e=vI&&vI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vI,"__esModule",{value:!0});var f3e=sP(),p3e=function(r){d3e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(f3e.AsyncScheduler);vI.QueueScheduler=p3e});var Z4=P(yI=>{"use strict";Object.defineProperty(yI,"__esModule",{value:!0});var h3e=npe(),m3e=ope();yI.queueScheduler=new m3e.QueueScheduler(h3e.QueueAction);yI.queue=yI.queueScheduler});var oy=P(bI=>{"use strict";Object.defineProperty(bI,"__esModule",{value:!0});var spe=No();bI.EMPTY=new spe.Observable(function(r){return r.complete()});function g3e(r){return r?v3e(r):bI.EMPTY}bI.empty=g3e;function v3e(r){return new spe.Observable(function(e){return r.schedule(function(){return e.complete()})})}});var sy=P(e6=>{"use strict";Object.defineProperty(e6,"__esModule",{value:!0});function y3e(r){return r&&typeof r.schedule=="function"}e6.isScheduler=y3e});var r6=P(t6=>{"use strict";Object.defineProperty(t6,"__esModule",{value:!0});t6.subscribeToArray=function(r){return function(e){for(var t=0,n=r.length;t<n&&!e.closed;t++)e.next(r[t]);e.complete()}}});var cF=P(n6=>{"use strict";Object.defineProperty(n6,"__esModule",{value:!0});var b3e=No(),_3e=ml();function w3e(r,e){return new b3e.Observable(function(t){var n=new _3e.Subscription,i=0;return n.add(e.schedule(function(){if(i===r.length){t.complete();return}t.next(r[i++]),t.closed||n.add(this.schedule())})),n})}n6.scheduleArray=w3e});var aP=P(i6=>{"use strict";Object.defineProperty(i6,"__esModule",{value:!0});var S3e=No(),C3e=r6(),D3e=cF();function T3e(r,e){return e?D3e.scheduleArray(r,e):new S3e.Observable(C3e.subscribeToArray(r))}i6.fromArray=T3e});var _I=P(o6=>{"use strict";Object.defineProperty(o6,"__esModule",{value:!0});var P3e=sy(),R3e=aP(),x3e=cF();function E3e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return P3e.isScheduler(t)?(r.pop(),x3e.scheduleArray(r,t)):R3e.fromArray(r)}o6.of=E3e});var uF=P(s6=>{"use strict";Object.defineProperty(s6,"__esModule",{value:!0});var ape=No();function O3e(r,e){return e?new ape.Observable(function(t){return e.schedule(I3e,0,{error:r,subscriber:t})}):new ape.Observable(function(t){return t.error(r)})}s6.throwError=O3e;function I3e(r){var e=r.error,t=r.subscriber;t.error(e)}});var SI=P(wI=>{"use strict";Object.defineProperty(wI,"__esModule",{value:!0});var k3e=oy(),A3e=_I(),M3e=uF(),L3e;(function(r){r.NEXT="N",r.ERROR="E",r.COMPLETE="C"})(L3e=wI.NotificationKind||(wI.NotificationKind={}));var N3e=function(){function r(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue=e==="N"}return r.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},r.prototype.do=function(e,t,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},r.prototype.accept=function(e,t,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,t,n)},r.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return A3e.of(this.value);case"E":return M3e.throwError(this.error);case"C":return k3e.empty()}throw new Error("unexpected notification kind value")},r.createNext=function(e){return typeof e<"u"?new r("N",e):r.undefinedValueNotification},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r}();wI.Notification=N3e});var c6=P(iC=>{"use strict";var F3e=iC&&iC.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iC,"__esModule",{value:!0});var q3e=mi(),a6=SI();function j3e(r,e){return e===void 0&&(e=0),function(n){return n.lift(new cpe(r,e))}}iC.observeOn=j3e;var cpe=function(){function r(e,t){t===void 0&&(t=0),this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return t.subscribe(new upe(e,this.scheduler,this.delay))},r}();iC.ObserveOnOperator=cpe;var upe=function(r){F3e(e,r);function e(t,n,i){i===void 0&&(i=0);var o=r.call(this,t)||this;return o.scheduler=n,o.delay=i,o}return e.dispatch=function(t){var n=t.notification,i=t.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(t){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new lpe(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(a6.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(a6.Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(a6.Notification.createComplete()),this.unsubscribe()},e}(q3e.Subscriber);iC.ObserveOnSubscriber=upe;var lpe=function(){function r(e,t){this.notification=e,this.destination=t}return r}();iC.ObserveOnMessage=lpe});var lF=P(CI=>{"use strict";var z3e=CI&&CI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(CI,"__esModule",{value:!0});var U3e=If(),H3e=Z4(),W3e=ml(),B3e=c6(),$3e=cI(),V3e=H4(),G3e=function(r){z3e(e,r);function e(t,n,i){t===void 0&&(t=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var o=r.call(this)||this;return o.scheduler=i,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=t<1?1:t,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return e.prototype.nextInfiniteTimeWindow=function(t){if(!this.isStopped){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}r.prototype.next.call(this,t)},e.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new K3e(this._getNow(),t)),this._trimBufferThenGetEvents()),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,s=i.length,a;if(this.closed)throw new $3e.ObjectUnsubscribedError;if(this.isStopped||this.hasError?a=W3e.Subscription.EMPTY:(this.observers.push(t),a=new V3e.SubjectSubscription(this,t)),o&&t.add(t=new B3e.ObserveOnSubscriber(t,o)),n)for(var c=0;c<s&&!t.closed;c++)t.next(i[c]);else for(var c=0;c<s&&!t.closed;c++)t.next(i[c].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a},e.prototype._getNow=function(){return(this.scheduler||H3e.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),n=this._bufferSize,i=this._windowTime,o=this._events,s=o.length,a=0;a<s&&!(t-o[a].time<i);)a++;return s>n&&(a=Math.max(a,s-n)),a>0&&o.splice(0,a),o},e}(U3e.Subject);CI.ReplaySubject=G3e;var K3e=function(){function r(e,t){this.time=e,this.value=t}return r}()});var TI=P(DI=>{"use strict";var Y3e=DI&&DI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(DI,"__esModule",{value:!0});var J3e=If(),dpe=ml(),X3e=function(r){Y3e(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return e.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),dpe.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),dpe.Subscription.EMPTY):r.prototype._subscribe.call(this,t)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(t){this.hasCompleted||r.prototype.error.call(this,t)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&r.prototype.next.call(this,this.value),r.prototype.complete.call(this)},e}(J3e.Subject);DI.AsyncSubject=X3e});var ppe=P(fF=>{"use strict";Object.defineProperty(fF,"__esModule",{value:!0});var Q3e=1,Z3e=function(){return Promise.resolve()}(),dF={};function fpe(r){return r in dF?(delete dF[r],!0):!1}fF.Immediate={setImmediate:function(r){var e=Q3e++;return dF[e]=!0,Z3e.then(function(){return fpe(e)&&r()}),e},clearImmediate:function(r){fpe(r)}};fF.TestTools={pending:function(){return Object.keys(dF).length}}});var mpe=P(PI=>{"use strict";var eVe=PI&&PI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(PI,"__esModule",{value:!0});var hpe=ppe(),tVe=oP(),rVe=function(r){eVe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=hpe.Immediate.setImmediate(t.flush.bind(t,null))))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(hpe.Immediate.clearImmediate(n),t.scheduled=void 0)},e}(tVe.AsyncAction);PI.AsapAction=rVe});var gpe=P(RI=>{"use strict";var nVe=RI&&RI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(RI,"__esModule",{value:!0});var iVe=sP(),oVe=function(r){nVe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(iVe.AsyncScheduler);RI.AsapScheduler=oVe});var u6=P(xI=>{"use strict";Object.defineProperty(xI,"__esModule",{value:!0});var sVe=mpe(),aVe=gpe();xI.asapScheduler=new aVe.AsapScheduler(sVe.AsapAction);xI.asap=xI.asapScheduler});var Up=P(EI=>{"use strict";Object.defineProperty(EI,"__esModule",{value:!0});var cVe=oP(),uVe=sP();EI.asyncScheduler=new uVe.AsyncScheduler(cVe.AsyncAction);EI.async=EI.asyncScheduler});var vpe=P(OI=>{"use strict";var lVe=OI&&OI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(OI,"__esModule",{value:!0});var dVe=oP(),fVe=function(r){lVe(e,r);function e(t,n){var i=r.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return e.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?r.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},e.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return r.prototype.recycleAsyncId.call(this,t,n,i);t.actions.length===0&&(cancelAnimationFrame(n),t.scheduled=void 0)},e}(dVe.AsyncAction);OI.AnimationFrameAction=fVe});var ype=P(II=>{"use strict";var pVe=II&&II.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(II,"__esModule",{value:!0});var hVe=sP(),mVe=function(r){pVe(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var n=this.actions,i,o=-1,s=n.length;t=t||n.shift();do if(i=t.execute(t.state,t.delay))break;while(++o<s&&(t=n.shift()));if(this.active=!1,i){for(;++o<s&&(t=n.shift());)t.unsubscribe();throw i}},e}(hVe.AsyncScheduler);II.AnimationFrameScheduler=mVe});var bpe=P(kI=>{"use strict";Object.defineProperty(kI,"__esModule",{value:!0});var gVe=vpe(),vVe=ype();kI.animationFrameScheduler=new vVe.AnimationFrameScheduler(gVe.AnimationFrameAction);kI.animationFrame=kI.animationFrameScheduler});var Spe=P(cP=>{"use strict";var _pe=cP&&cP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cP,"__esModule",{value:!0});var yVe=oP(),bVe=sP(),_Ve=function(r){_pe(e,r);function e(t,n){t===void 0&&(t=wpe),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=r.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,o,s;(s=n[0])&&s.delay<=i&&(n.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=n.shift();)s.unsubscribe();throw o}},e.frameTimeFactor=10,e}(bVe.AsyncScheduler);cP.VirtualTimeScheduler=_Ve;var wpe=function(r){_pe(e,r);function e(t,n,i){i===void 0&&(i=t.index+=1);var o=r.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=i,o.active=!0,o.index=t.index=i,o}return e.prototype.schedule=function(t,n){if(n===void 0&&(n=0),!this.id)return r.prototype.schedule.call(this,t,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(t,n)},e.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,n,i){i===void 0&&(i=0)},e.prototype._execute=function(t,n){if(this.active===!0)return r.prototype._execute.call(this,t,n)},e.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},e}(yVe.AsyncAction);cP.VirtualAction=wpe});var pF=P(l6=>{"use strict";Object.defineProperty(l6,"__esModule",{value:!0});function wVe(){}l6.noop=wVe});var Cpe=P(d6=>{"use strict";Object.defineProperty(d6,"__esModule",{value:!0});var SVe=No();function CVe(r){return!!r&&(r instanceof SVe.Observable||typeof r.lift=="function"&&typeof r.subscribe=="function")}d6.isObservable=CVe});var uP=P(f6=>{"use strict";Object.defineProperty(f6,"__esModule",{value:!0});var DVe=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}();f6.ArgumentOutOfRangeError=DVe});var lP=P(p6=>{"use strict";Object.defineProperty(p6,"__esModule",{value:!0});var TVe=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}();p6.EmptyError=TVe});var m6=P(h6=>{"use strict";Object.defineProperty(h6,"__esModule",{value:!0});var PVe=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}();h6.TimeoutError=PVe});var Hm=P(dP=>{"use strict";var RVe=dP&&dP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dP,"__esModule",{value:!0});var xVe=mi();function EVe(r,e){return function(n){if(typeof r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Dpe(r,e))}}dP.map=EVe;var Dpe=function(){function r(e,t){this.project=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new OVe(e,this.project,this.thisArg))},r}();dP.MapOperator=Dpe;var OVe=function(r){RVe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=i||o,o}return e.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(xVe.Subscriber)});var Rpe=P(g6=>{"use strict";Object.defineProperty(g6,"__esModule",{value:!0});var IVe=No(),Tpe=TI(),kVe=Hm(),AVe=rF(),MVe=zp(),LVe=sy();function Ppe(r,e,t){if(e)if(LVe.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ppe(r,t).apply(void 0,n).pipe(kVe.map(function(o){return MVe.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=this,s,a={context:o,subject:s,callbackFunc:r,scheduler:t};return new IVe.Observable(function(c){if(t){var l={args:n,subscriber:c,params:a};return t.schedule(NVe,0,l)}else{if(!s){s=new Tpe.AsyncSubject;var u=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];s.next(d.length<=1?d[0]:d),s.complete()};try{r.apply(o,n.concat([u]))}catch(d){AVe.canReportError(s)?s.error(d):console.warn(d)}}return s.subscribe(c)}})}}g6.bindCallback=Ppe;function NVe(r){var e=this,t=this,n=r.args,i=r.subscriber,o=r.params,s=o.callbackFunc,a=o.context,c=o.scheduler,u=o.subject;if(!u){u=o.subject=new Tpe.AsyncSubject;var l=function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var y=d.length<=1?d[0]:d;e.add(c.schedule(FVe,0,{value:y,subject:u}))};try{s.apply(a,n.concat([l]))}catch(d){u.error(d)}}this.add(u.subscribe(i))}function FVe(r){var e=r.value,t=r.subject;t.next(e),t.complete()}});var Ipe=P(v6=>{"use strict";Object.defineProperty(v6,"__esModule",{value:!0});var qVe=No(),Epe=TI(),jVe=Hm(),zVe=rF(),UVe=sy(),HVe=zp();function Ope(r,e,t){if(e)if(UVe.isScheduler(e))t=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ope(r,t).apply(void 0,n).pipe(jVe.map(function(o){return HVe.isArray(o)?e.apply(void 0,o):e(o)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={subject:void 0,args:n,callbackFunc:r,scheduler:t,context:this};return new qVe.Observable(function(s){var a=o.context,c=o.subject;if(t)return t.schedule(WVe,0,{params:o,subscriber:s,context:a});if(!c){c=o.subject=new Epe.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f){c.error(f);return}c.next(l.length<=1?l[0]:l),c.complete()};try{r.apply(a,n.concat([u]))}catch(l){zVe.canReportError(c)?c.error(l):console.warn(l)}}return c.subscribe(s)})}}v6.bindNodeCallback=Ope;function WVe(r){var e=this,t=r.params,n=r.subscriber,i=r.context,o=t.callbackFunc,s=t.args,a=t.scheduler,c=t.subject;if(!c){c=t.subject=new Epe.AsyncSubject;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];var f=l.shift();if(f)e.add(a.schedule(xpe,0,{err:f,subject:c}));else{var y=l.length<=1?l[0]:l;e.add(a.schedule(BVe,0,{value:y,subject:c}))}};try{o.apply(i,s.concat([u]))}catch(l){this.add(a.schedule(xpe,0,{err:l,subject:c}))}}this.add(c.subscribe(n))}function BVe(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function xpe(r){var e=r.err,t=r.subject;t.error(e)}});var oC=P(AI=>{"use strict";var $Ve=AI&&AI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(AI,"__esModule",{value:!0});var VVe=mi(),GVe=function(r){$Ve(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(n)},e.prototype.notifyError=function(t,n){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(VVe.Subscriber);AI.OuterSubscriber=GVe});var kpe=P(MI=>{"use strict";var KVe=MI&&MI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(MI,"__esModule",{value:!0});var YVe=mi(),JVe=function(r){KVe(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o.index=0,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(YVe.Subscriber);MI.InnerSubscriber=JVe});var Ape=P(y6=>{"use strict";Object.defineProperty(y6,"__esModule",{value:!0});var XVe=XN();y6.subscribeToPromise=function(r){return function(e){return r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,XVe.hostReportError),e}}});var pP=P(fP=>{"use strict";Object.defineProperty(fP,"__esModule",{value:!0});function Mpe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}fP.getSymbolIterator=Mpe;fP.iterator=Mpe();fP.$$iterator=fP.iterator});var Lpe=P(b6=>{"use strict";Object.defineProperty(b6,"__esModule",{value:!0});var QVe=pP();b6.subscribeToIterable=function(r){return function(e){var t=r[QVe.iterator]();do{var n=void 0;try{n=t.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof t.return=="function"&&e.add(function(){t.return&&t.return()}),e}}});var Npe=P(_6=>{"use strict";Object.defineProperty(_6,"__esModule",{value:!0});var ZVe=YD();_6.subscribeToObservable=function(r){return function(e){var t=r[ZVe.observable]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)}}});var S6=P(w6=>{"use strict";Object.defineProperty(w6,"__esModule",{value:!0});w6.isArrayLike=function(r){return r&&typeof r.length=="number"&&typeof r!="function"}});var D6=P(C6=>{"use strict";Object.defineProperty(C6,"__esModule",{value:!0});function e4e(r){return!!r&&typeof r.subscribe!="function"&&typeof r.then=="function"}C6.isPromise=e4e});var LI=P(T6=>{"use strict";Object.defineProperty(T6,"__esModule",{value:!0});var t4e=r6(),r4e=Ape(),n4e=Lpe(),i4e=Npe(),o4e=S6(),s4e=D6(),a4e=QN(),c4e=pP(),u4e=YD();T6.subscribeTo=function(r){if(r&&typeof r[u4e.observable]=="function")return i4e.subscribeToObservable(r);if(o4e.isArrayLike(r))return t4e.subscribeToArray(r);if(s4e.isPromise(r))return r4e.subscribeToPromise(r);if(r&&typeof r[c4e.iterator]=="function")return n4e.subscribeToIterable(r);var e=a4e.isObject(r)?"an invalid object":"'"+r+"'",t="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)}});var sC=P(P6=>{"use strict";Object.defineProperty(P6,"__esModule",{value:!0});var l4e=kpe(),d4e=LI(),f4e=No();function p4e(r,e,t,n,i){if(i===void 0&&(i=new l4e.InnerSubscriber(r,t,n)),!i.closed)return e instanceof f4e.Observable?e.subscribe(i):d4e.subscribeTo(e)(i)}P6.subscribeToResult=p4e});var hF=P(XD=>{"use strict";var h4e=XD&&XD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(XD,"__esModule",{value:!0});var m4e=sy(),g4e=zp(),v4e=oC(),y4e=sC(),b4e=aP(),Fpe={};function _4e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0,n=void 0;return m4e.isScheduler(r[r.length-1])&&(n=r.pop()),typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&g4e.isArray(r[0])&&(r=r[0]),b4e.fromArray(r,n).lift(new qpe(t))}XD.combineLatest=_4e;var qpe=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new jpe(e,this.resultSelector))},r}();XD.CombineLatestOperator=qpe;var jpe=function(r){h4e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(t){this.values.push(Fpe),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=t[i];this.add(y4e.subscribeToResult(this,o,void 0,i))}}},e.prototype.notifyComplete=function(t){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(t,n,i){var o=this.values,s=o[i],a=this.toRespond?s===Fpe?--this.toRespond:this.toRespond:0;o[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(v4e.OuterSubscriber);XD.CombineLatestSubscriber=jpe});var zpe=P(R6=>{"use strict";Object.defineProperty(R6,"__esModule",{value:!0});var w4e=No(),S4e=ml(),C4e=YD();function D4e(r,e){return new w4e.Observable(function(t){var n=new S4e.Subscription;return n.add(e.schedule(function(){var i=r[C4e.observable]();n.add(i.subscribe({next:function(o){n.add(e.schedule(function(){return t.next(o)}))},error:function(o){n.add(e.schedule(function(){return t.error(o)}))},complete:function(){n.add(e.schedule(function(){return t.complete()}))}}))})),n})}R6.scheduleObservable=D4e});var Upe=P(x6=>{"use strict";Object.defineProperty(x6,"__esModule",{value:!0});var T4e=No(),P4e=ml();function R4e(r,e){return new T4e.Observable(function(t){var n=new P4e.Subscription;return n.add(e.schedule(function(){return r.then(function(i){n.add(e.schedule(function(){t.next(i),n.add(e.schedule(function(){return t.complete()}))}))},function(i){n.add(e.schedule(function(){return t.error(i)}))})})),n})}x6.schedulePromise=R4e});var Hpe=P(E6=>{"use strict";Object.defineProperty(E6,"__esModule",{value:!0});var x4e=No(),E4e=ml(),O4e=pP();function I4e(r,e){if(!r)throw new Error("Iterable cannot be null");return new x4e.Observable(function(t){var n=new E4e.Subscription,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=r[O4e.iterator](),n.add(e.schedule(function(){if(!t.closed){var o,s;try{var a=i.next();o=a.value,s=a.done}catch(c){t.error(c);return}s?t.complete():(t.next(o),this.schedule())}}))})),n})}E6.scheduleIterable=I4e});var Wpe=P(O6=>{"use strict";Object.defineProperty(O6,"__esModule",{value:!0});var k4e=YD();function A4e(r){return r&&typeof r[k4e.observable]=="function"}O6.isInteropObservable=A4e});var Bpe=P(I6=>{"use strict";Object.defineProperty(I6,"__esModule",{value:!0});var M4e=pP();function L4e(r){return r&&typeof r[M4e.iterator]=="function"}I6.isIterable=L4e});var A6=P(k6=>{"use strict";Object.defineProperty(k6,"__esModule",{value:!0});var N4e=zpe(),F4e=Upe(),q4e=cF(),j4e=Hpe(),z4e=Wpe(),U4e=D6(),H4e=S6(),W4e=Bpe();function B4e(r,e){if(r!=null){if(z4e.isInteropObservable(r))return N4e.scheduleObservable(r,e);if(U4e.isPromise(r))return F4e.schedulePromise(r,e);if(H4e.isArrayLike(r))return q4e.scheduleArray(r,e);if(W4e.isIterable(r)||typeof r=="string")return j4e.scheduleIterable(r,e)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")}k6.scheduled=B4e});var ay=P(M6=>{"use strict";Object.defineProperty(M6,"__esModule",{value:!0});var $pe=No(),$4e=LI(),V4e=A6();function G4e(r,e){return e?V4e.scheduled(r,e):r instanceof $pe.Observable?r:new $pe.Observable($4e.subscribeTo(r))}M6.from=G4e});var Pc=P(ow=>{"use strict";var mF=ow&&ow.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ow,"__esModule",{value:!0});var gF=mi(),K4e=No(),Y4e=LI(),J4e=function(r){mF(e,r);function e(t){var n=r.call(this)||this;return n.parent=t,n}return e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(gF.Subscriber);ow.SimpleInnerSubscriber=J4e;var X4e=function(r){mF(e,r);function e(t,n,i){var o=r.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=i,o}return e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(gF.Subscriber);ow.ComplexInnerSubscriber=X4e;var Q4e=function(r){mF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(gF.Subscriber);ow.SimpleOuterSubscriber=Q4e;var Z4e=function(r){mF(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.notifyNext=function(t,n,i,o){this.destination.next(n)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(gF.Subscriber);ow.ComplexOuterSubscriber=Z4e;function e6e(r,e){if(!e.closed){if(r instanceof K4e.Observable)return r.subscribe(e);var t;try{t=Y4e.subscribeTo(r)(e)}catch(n){e.error(n)}return t}}ow.innerSubscribe=e6e});var NI=P(aC=>{"use strict";var t6e=aC&&aC.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(aC,"__esModule",{value:!0});var r6e=Hm(),n6e=ay(),L6=Pc();function N6(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(N6(function(i,o){return n6e.from(r(i,o)).pipe(r6e.map(function(s,a){return e(i,s,o,a)}))},t))}:(typeof e=="number"&&(t=e),function(n){return n.lift(new Vpe(r,t))})}aC.mergeMap=N6;var Vpe=function(){function r(e,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return r.prototype.call=function(e,t){return t.subscribe(new Gpe(e,this.project,this.concurrent))},r}();aC.MergeMapOperator=Vpe;var Gpe=function(r){t6e(e,r);function e(t,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var o=r.call(this,t)||this;return o.project=n,o.concurrent=i,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new L6.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=L6.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(L6.SimpleOuterSubscriber);aC.MergeMapSubscriber=Gpe;aC.flatMap=N6});var vF=P(F6=>{"use strict";Object.defineProperty(F6,"__esModule",{value:!0});var i6e=NI(),o6e=nC();function s6e(r){return r===void 0&&(r=Number.POSITIVE_INFINITY),i6e.mergeMap(o6e.identity,r)}F6.mergeAll=s6e});var j6=P(q6=>{"use strict";Object.defineProperty(q6,"__esModule",{value:!0});var a6e=vF();function c6e(){return a6e.mergeAll(1)}q6.concatAll=c6e});var FI=P(z6=>{"use strict";Object.defineProperty(z6,"__esModule",{value:!0});var u6e=_I(),l6e=j6();function d6e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return l6e.concatAll()(u6e.of.apply(void 0,r))}z6.concat=d6e});var yF=P(U6=>{"use strict";Object.defineProperty(U6,"__esModule",{value:!0});var f6e=No(),p6e=ay(),h6e=oy();function m6e(r){return new f6e.Observable(function(e){var t;try{t=r()}catch(i){e.error(i);return}var n=t?p6e.from(t):h6e.empty();return n.subscribe(e)})}U6.defer=m6e});var Ype=P(H6=>{"use strict";Object.defineProperty(H6,"__esModule",{value:!0});var g6e=No(),Kpe=zp(),v6e=Hm(),y6e=QN(),b6e=ay();function _6e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1){var t=r[0];if(Kpe.isArray(t))return bF(t,null);if(y6e.isObject(t)&&Object.getPrototypeOf(t)===Object.prototype){var n=Object.keys(t);return bF(n.map(function(o){return t[o]}),n)}}if(typeof r[r.length-1]=="function"){var i=r.pop();return r=r.length===1&&Kpe.isArray(r[0])?r[0]:r,bF(r,null).pipe(v6e.map(function(o){return i.apply(void 0,o)}))}return bF(r,null)}H6.forkJoin=_6e;function bF(r,e){return new g6e.Observable(function(t){var n=r.length;if(n===0){t.complete();return}for(var i=new Array(n),o=0,s=0,a=function(u){var l=b6e.from(r[u]),d=!1;t.add(l.subscribe({next:function(f){d||(d=!0,s++),i[u]=f},error:function(f){return t.error(f)},complete:function(){o++,(o===n||!d)&&(s===n&&t.next(e?e.reduce(function(f,y,b){return f[y]=i[b],f},{}):i),t.complete())}}))},c=0;c<n;c++)a(c)})}});var Qpe=P(W6=>{"use strict";Object.defineProperty(W6,"__esModule",{value:!0});var w6e=No(),S6e=zp(),C6e=eP(),D6e=Hm();function Jpe(r,e,t,n){return C6e.isFunction(t)&&(n=t,t=void 0),n?Jpe(r,e,t).pipe(D6e.map(function(i){return S6e.isArray(i)?n.apply(void 0,i):n(i)})):new w6e.Observable(function(i){function o(s){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(s)}Xpe(r,e,o,i,t)})}W6.fromEvent=Jpe;function Xpe(r,e,t,n,i){var o;if(R6e(r)){var s=r;r.addEventListener(e,t,i),o=function(){return s.removeEventListener(e,t,i)}}else if(P6e(r)){var a=r;r.on(e,t),o=function(){return a.off(e,t)}}else if(T6e(r)){var c=r;r.addListener(e,t),o=function(){return c.removeListener(e,t)}}else if(r&&r.length)for(var u=0,l=r.length;u<l;u++)Xpe(r[u],e,t,n,i);else throw new TypeError("Invalid event target");n.add(o)}function T6e(r){return r&&typeof r.addListener=="function"&&typeof r.removeListener=="function"}function P6e(r){return r&&typeof r.on=="function"&&typeof r.off=="function"}function R6e(r){return r&&typeof r.addEventListener=="function"&&typeof r.removeEventListener=="function"}});var ehe=P(B6=>{"use strict";Object.defineProperty(B6,"__esModule",{value:!0});var x6e=No(),E6e=zp(),O6e=eP(),I6e=Hm();function Zpe(r,e,t){return t?Zpe(r,e).pipe(I6e.map(function(n){return E6e.isArray(n)?t.apply(void 0,n):t(n)})):new x6e.Observable(function(n){var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return n.next(s.length===1?s[0]:s)},o;try{o=r(i)}catch(s){n.error(s);return}if(O6e.isFunction(e))return function(){return e(i,o)}})}B6.fromEventPattern=Zpe});var rhe=P($6=>{"use strict";Object.defineProperty($6,"__esModule",{value:!0});var k6e=No(),the=nC(),A6e=sy();function M6e(r,e,t,n,i){var o,s;if(arguments.length==1){var a=r;s=a.initialState,e=a.condition,t=a.iterate,o=a.resultSelector||the.identity,i=a.scheduler}else n===void 0||A6e.isScheduler(n)?(s=r,o=the.identity,i=n):(s=r,o=n);return new k6e.Observable(function(c){var u=s;if(i)return i.schedule(L6e,0,{subscriber:c,iterate:t,condition:e,resultSelector:o,state:u});do{if(e){var l=void 0;try{l=e(u)}catch(f){c.error(f);return}if(!l){c.complete();break}}var d=void 0;try{d=o(u)}catch(f){c.error(f);return}if(c.next(d),c.closed)break;try{u=t(u)}catch(f){c.error(f);return}}while(!0)})}$6.generate=M6e;function L6e(r){var e=r.subscriber,t=r.condition;if(!e.closed){if(r.needIterate)try{r.state=r.iterate(r.state)}catch(o){e.error(o);return}else r.needIterate=!0;if(t){var n=void 0;try{n=t(r.state)}catch(o){e.error(o);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=r.resultSelector(r.state)}catch(o){e.error(o);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(r)}}});var ihe=P(V6=>{"use strict";Object.defineProperty(V6,"__esModule",{value:!0});var N6e=yF(),nhe=oy();function F6e(r,e,t){return e===void 0&&(e=nhe.EMPTY),t===void 0&&(t=nhe.EMPTY),N6e.defer(function(){return r()?e:t})}V6.iif=F6e});var qI=P(G6=>{"use strict";Object.defineProperty(G6,"__esModule",{value:!0});var q6e=zp();function j6e(r){return!q6e.isArray(r)&&r-parseFloat(r)+1>=0}G6.isNumeric=j6e});var she=P(K6=>{"use strict";Object.defineProperty(K6,"__esModule",{value:!0});var z6e=No(),ohe=Up(),U6e=qI();function H6e(r,e){return r===void 0&&(r=0),e===void 0&&(e=ohe.async),(!U6e.isNumeric(r)||r<0)&&(r=0),(!e||typeof e.schedule!="function")&&(e=ohe.async),new z6e.Observable(function(t){return t.add(e.schedule(W6e,r,{subscriber:t,counter:0,period:r})),t})}K6.interval=H6e;function W6e(r){var e=r.subscriber,t=r.counter,n=r.period;e.next(t),this.schedule({subscriber:e,counter:t+1,period:n},n)}});var J6=P(Y6=>{"use strict";Object.defineProperty(Y6,"__esModule",{value:!0});var B6e=No(),$6e=sy(),V6e=vF(),G6e=aP();function K6e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Number.POSITIVE_INFINITY,n=null,i=r[r.length-1];return $6e.isScheduler(i)?(n=r.pop(),r.length>1&&typeof r[r.length-1]=="number"&&(t=r.pop())):typeof i=="number"&&(t=r.pop()),n===null&&r.length===1&&r[0]instanceof B6e.Observable?r[0]:V6e.mergeAll(t)(G6e.fromArray(r,n))}Y6.merge=K6e});var X6=P(jI=>{"use strict";Object.defineProperty(jI,"__esModule",{value:!0});var Y6e=No(),J6e=pF();jI.NEVER=new Y6e.Observable(J6e.noop);function X6e(){return jI.NEVER}jI.never=X6e});var ahe=P(Z6=>{"use strict";Object.defineProperty(Z6,"__esModule",{value:!0});var Q6e=No(),Z6e=ay(),e5e=zp(),t5e=oy();function Q6(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===0)return t5e.EMPTY;var t=r[0],n=r.slice(1);return r.length===1&&e5e.isArray(t)?Q6.apply(void 0,t):new Q6e.Observable(function(i){var o=function(){return i.add(Q6.apply(void 0,n).subscribe(i))};return Z6e.from(t).subscribe({next:function(s){i.next(s)},error:o,complete:o})})}Z6.onErrorResumeNext=Q6});var lhe=P(_F=>{"use strict";Object.defineProperty(_F,"__esModule",{value:!0});var che=No(),r5e=ml();function n5e(r,e){return e?new che.Observable(function(t){var n=Object.keys(r),i=new r5e.Subscription;return i.add(e.schedule(uhe,0,{keys:n,index:0,subscriber:t,subscription:i,obj:r})),i}):new che.Observable(function(t){for(var n=Object.keys(r),i=0;i<n.length&&!t.closed;i++){var o=n[i];r.hasOwnProperty(o)&&t.next([o,r[o]])}t.complete()})}_F.pairs=n5e;function uhe(r){var e=r.keys,t=r.index,n=r.subscriber,i=r.subscription,o=r.obj;if(!n.closed)if(t<e.length){var s=e[t];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:t+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}_F.dispatch=uhe});var t5=P(e5=>{"use strict";Object.defineProperty(e5,"__esModule",{value:!0});function i5e(r,e){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=r,t.thisArg=e,t}e5.not=i5e});var QD=P(zI=>{"use strict";var o5e=zI&&zI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zI,"__esModule",{value:!0});var s5e=mi();function a5e(r,e){return function(n){return n.lift(new c5e(r,e))}}zI.filter=a5e;var c5e=function(){function r(e,t){this.predicate=e,this.thisArg=t}return r.prototype.call=function(e,t){return t.subscribe(new u5e(e,this.predicate,this.thisArg))},r}(),u5e=function(r){o5e(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.thisArg=i,o.count=0,o}return e.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(t)},e}(s5e.Subscriber)});var hhe=P(r5=>{"use strict";Object.defineProperty(r5,"__esModule",{value:!0});var l5e=t5(),dhe=LI(),fhe=QD(),phe=No();function d5e(r,e,t){return[fhe.filter(e,t)(new phe.Observable(dhe.subscribeTo(r))),fhe.filter(l5e.not(e,t))(new phe.Observable(dhe.subscribeTo(r)))]}r5.partition=d5e});var n5=P(ZD=>{"use strict";var f5e=ZD&&ZD.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ZD,"__esModule",{value:!0});var p5e=zp(),h5e=aP(),m5e=oC(),g5e=sC();function v5e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(r.length===1)if(p5e.isArray(r[0]))r=r[0];else return r[0];return h5e.fromArray(r,void 0).lift(new mhe)}ZD.race=v5e;var mhe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new ghe(e))},r}();ZD.RaceOperator=mhe;var ghe=function(r){f5e(e,r);function e(t){var n=r.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,n=t.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var o=t[i],s=g5e.subscribeToResult(this,o,void 0,i);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(t,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==i){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(n)},e}(m5e.OuterSubscriber);ZD.RaceSubscriber=ghe});var yhe=P(wF=>{"use strict";Object.defineProperty(wF,"__esModule",{value:!0});var y5e=No();function b5e(r,e,t){return r===void 0&&(r=0),new y5e.Observable(function(n){e===void 0&&(e=r,r=0);var i=0,o=r;if(t)return t.schedule(vhe,0,{index:i,count:e,start:r,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}while(!0)})}wF.range=b5e;function vhe(r){var e=r.start,t=r.index,n=r.count,i=r.subscriber;if(t>=n){i.complete();return}i.next(e),!i.closed&&(r.index=t+1,r.start=e+1,this.schedule(r))}wF.dispatch=vhe});var o5=P(i5=>{"use strict";Object.defineProperty(i5,"__esModule",{value:!0});var _5e=No(),w5e=Up(),bhe=qI(),_he=sy();function S5e(r,e,t){r===void 0&&(r=0);var n=-1;return bhe.isNumeric(e)?n=Number(e)<1&&1||Number(e):_he.isScheduler(e)&&(t=e),_he.isScheduler(t)||(t=w5e.async),new _5e.Observable(function(i){var o=bhe.isNumeric(r)?r:+r-t.now();return t.schedule(C5e,o,{index:0,period:n,subscriber:i})})}i5.timer=S5e;function C5e(r){var e=r.index,t=r.period,n=r.subscriber;if(n.next(e),!n.closed){if(t===-1)return n.complete();r.index=e+1,this.schedule(r,t)}}});var whe=P(s5=>{"use strict";Object.defineProperty(s5,"__esModule",{value:!0});var D5e=No(),T5e=ay(),P5e=oy();function R5e(r,e){return new D5e.Observable(function(t){var n;try{n=r()}catch(a){t.error(a);return}var i;try{i=e(n)}catch(a){t.error(a);return}var o=i?T5e.from(i):P5e.EMPTY,s=o.subscribe(t);return function(){s.unsubscribe(),n&&n.unsubscribe()}})}s5.using=R5e});var CF=P(eT=>{"use strict";var She=eT&&eT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(eT,"__esModule",{value:!0});var x5e=aP(),E5e=zp(),O5e=mi(),SF=pP(),a5=Pc();function I5e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return typeof t=="function"&&r.pop(),x5e.fromArray(r,void 0).lift(new Che(t))}eT.zip=I5e;var Che=function(){function r(e){this.resultSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new Dhe(e,this.resultSelector))},r}();eT.ZipOperator=Che;var Dhe=function(r){She(e,r);function e(t,n,i){i===void 0&&(i=Object.create(null));var o=r.call(this,t)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector=typeof n=="function"?n:void 0,o}return e.prototype._next=function(t){var n=this.iterators;E5e.isArray(t)?n.push(new A5e(t)):typeof t[SF.iterator]=="function"?n.push(new k5e(t[SF.iterator]())):n.push(new M5e(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,n=t.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var o=t[i];if(o.stillUnsubscribed){var s=this.destination;s.add(o.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,n=t.length,i=this.destination,o=0;o<n;o++){var s=t[o];if(typeof s.hasValue=="function"&&!s.hasValue())return}for(var a=!1,c=[],o=0;o<n;o++){var s=t[o],u=s.next();if(s.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(O5e.Subscriber);eT.ZipSubscriber=Dhe;var k5e=function(){function r(e){this.iterator=e,this.nextResult=e.next()}return r.prototype.hasValue=function(){return!0},r.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},r.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},r}(),A5e=function(){function r(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return r.prototype[SF.iterator]=function(){return this},r.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},r.prototype.hasValue=function(){return this.array.length>this.index},r.prototype.hasCompleted=function(){return this.array.length===this.index},r}(),M5e=function(r){She(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.parent=n,o.observable=i,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return e.prototype[SF.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return t.length===0&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return a5.innerSubscribe(this.observable,new a5.SimpleInnerSubscriber(this))},e}(a5.SimpleOuterSubscriber)});var cC=P(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});var L5e=No();mn.Observable=L5e.Observable;var N5e=G4();mn.ConnectableObservable=N5e.ConnectableObservable;var F5e=Y4();mn.GroupedObservable=F5e.GroupedObservable;var q5e=YD();mn.observable=q5e.observable;var j5e=If();mn.Subject=j5e.Subject;var z5e=J4();mn.BehaviorSubject=z5e.BehaviorSubject;var U5e=lF();mn.ReplaySubject=U5e.ReplaySubject;var H5e=TI();mn.AsyncSubject=H5e.AsyncSubject;var The=u6();mn.asap=The.asap;mn.asapScheduler=The.asapScheduler;var Phe=Up();mn.async=Phe.async;mn.asyncScheduler=Phe.asyncScheduler;var Rhe=Z4();mn.queue=Rhe.queue;mn.queueScheduler=Rhe.queueScheduler;var xhe=bpe();mn.animationFrame=xhe.animationFrame;mn.animationFrameScheduler=xhe.animationFrameScheduler;var Ehe=Spe();mn.VirtualTimeScheduler=Ehe.VirtualTimeScheduler;mn.VirtualAction=Ehe.VirtualAction;var W5e=Q4();mn.Scheduler=W5e.Scheduler;var B5e=ml();mn.Subscription=B5e.Subscription;var $5e=mi();mn.Subscriber=$5e.Subscriber;var Ohe=SI();mn.Notification=Ohe.Notification;mn.NotificationKind=Ohe.NotificationKind;var V5e=iF();mn.pipe=V5e.pipe;var G5e=pF();mn.noop=G5e.noop;var K5e=nC();mn.identity=K5e.identity;var Y5e=Cpe();mn.isObservable=Y5e.isObservable;var J5e=uP();mn.ArgumentOutOfRangeError=J5e.ArgumentOutOfRangeError;var X5e=lP();mn.EmptyError=X5e.EmptyError;var Q5e=cI();mn.ObjectUnsubscribedError=Q5e.ObjectUnsubscribedError;var Z5e=I4();mn.UnsubscriptionError=Z5e.UnsubscriptionError;var e8e=m6();mn.TimeoutError=e8e.TimeoutError;var t8e=Rpe();mn.bindCallback=t8e.bindCallback;var r8e=Ipe();mn.bindNodeCallback=r8e.bindNodeCallback;var n8e=hF();mn.combineLatest=n8e.combineLatest;var i8e=FI();mn.concat=i8e.concat;var o8e=yF();mn.defer=o8e.defer;var s8e=oy();mn.empty=s8e.empty;var a8e=Ype();mn.forkJoin=a8e.forkJoin;var c8e=ay();mn.from=c8e.from;var u8e=Qpe();mn.fromEvent=u8e.fromEvent;var l8e=ehe();mn.fromEventPattern=l8e.fromEventPattern;var d8e=rhe();mn.generate=d8e.generate;var f8e=ihe();mn.iif=f8e.iif;var p8e=she();mn.interval=p8e.interval;var h8e=J6();mn.merge=h8e.merge;var m8e=X6();mn.never=m8e.never;var g8e=_I();mn.of=g8e.of;var v8e=ahe();mn.onErrorResumeNext=v8e.onErrorResumeNext;var y8e=lhe();mn.pairs=y8e.pairs;var b8e=hhe();mn.partition=b8e.partition;var _8e=n5();mn.race=_8e.race;var w8e=yhe();mn.range=w8e.range;var S8e=uF();mn.throwError=S8e.throwError;var C8e=o5();mn.timer=C8e.timer;var D8e=whe();mn.using=D8e.using;var T8e=CF();mn.zip=T8e.zip;var P8e=A6();mn.scheduled=P8e.scheduled;var R8e=oy();mn.EMPTY=R8e.EMPTY;var x8e=X6();mn.NEVER=x8e.NEVER;var E8e=sI();mn.config=E8e.config});var Yhe=P(kF=>{"use strict";Object.defineProperty(kF,"__esModule",{value:!0});kF.BaseTelemetryReporter=void 0;var g5=class{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendRawTelemetryEvent(e,t,n){let i={...t};for(let o of Object.keys(i??{})){let s=i[o];typeof o=="string"&&s!==void 0&&(i[o]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(e,i,n)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}};kF.BaseTelemetryReporter=g5});var Jhe=P(AF=>{"use strict";Object.defineProperty(AF,"__esModule",{value:!0});AF.BaseTelemetrySender=void 0;var sw;(function(r){r[r.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",r[r.INSTANTIATING=1]="INSTANTIATING",r[r.INSTANTIATED=2]="INSTANTIATED"})(sw||(sw={}));var v5=class{constructor(e,t){this._instantiationStatus=sw.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==sw.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==sw.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}let n={stack:e.stack,message:e.message,name:e.name};t?t.properties={...t.properties,...n}:t={properties:n},this._telemetryClient.logEvent("unhandlederror",t)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===sw.NOT_INSTANTIATED&&(this._instantiationStatus=sw.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=sw.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=sw.INSTANTIATED}))}};AF.BaseTelemetrySender=v5});var b5=P(MF=>{"use strict";Object.defineProperty(MF,"__esModule",{value:!0});MF.TelemetryUtil=void 0;var y5=class r{static applyReplacements(e,t){for(let n of Object.keys(e))for(let i of t)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.0"}}static getInstance(){return r._instance||(r._instance=new r),r._instance}};MF.TelemetryUtil=y5});var Qhe=P((LF,Xhe)=>{(function(r,e){typeof LF=="object"&&typeof Xhe<"u"?e(LF):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(LF,function(r){"use strict";var e="function",t="object",n="undefined",i="prototype",o=Object,s=o[i],a=void 0,c=null,u="",l="boolean",d="function",f="number",y="object",b="prototype",T="__proto__",k="string",z="undefined",A="constructor",U="Symbol",ne="_polyfill",de="indexOf",ve="length",$="done",W="value",ee="name",Pe="slice",se=Object,ue=se[b],Fe=String,Le=Fe[b],ce=Math,Ce=Array,we=Ce[b];function Ee(h,_){var O=_;try{O=h()}catch{}return O}var Ne=[k,f,l,z,"symbol","bigint"];function $e(h){return function(_){return typeof _===h}}function Ct(h){var _="[object "+h+"]";return function(O){return!!(O&&ze(O)===_)}}function ze(h){return ue.toString.call(h)}function st(h,_){return typeof h===_}function at(h){return typeof h===z||h===z}function tt(h){return h===c||at(h)}function pr(h){return h===c||!Ar(h)}function Ar(h){return!!h||h!==a}var jr=function(h){return h!==y&&Ne.indexOf(h)!==-1},lr=$e(k),Et=$e(d);function hr(h){return!h&&tt(h)?!1:!!h&&typeof h===y}var Lt=Ce.isArray,on=Ct("Date"),un=$e(f),En=$e(l),Er=Ct("Error");function Un(h){return!!h&&Et(h.then)}function Br(h){return!h||!Ee(function(){return h&&0+h},h)}function ln(h){return!(!h||Ee(function(){return!(h&&0+h)},!h))}var ni=se.getOwnPropertyDescriptor;function $r(h,_){return h&&ue.hasOwnProperty.call(h,_)}var kn=se.hasOwn||Ei;function Ei(h,_){return $r(h,_)||!!ni(h,_)}function Vr(h,_,O){if(h&&hr(h)){for(var q in h)if(kn(h,q)&&_.call(O||h,q,h[q])===-1)break}}function Yi(h,_,O,q){var V={};return Vr(h,function(ie,ge){V[ie]=_?ge:ie,V[ge]=O?ge:ie}),q(V)}function ii(h){throw new Error(h)}function dn(h){throw new TypeError(h)}var Oe=se.freeze,oe=function(h){return h},Q=function(h){return h[T]||c},_e=se.assign;function Ke(h){return(!hr(h)||h===c)&&dn("objKeys called on non-object"),se.keys(h)}function ft(h){return Oe&&Vr(h,function(_,O){(Lt(O)||hr(O))&&Oe(O)}),Jt(h)}var Jt=Oe||oe,nr=se.seal||oe,Xt=se.getPrototypeOf||Q;function Vt(h){return Yi(h,1,0,ft)}function kt(h){return Yi(h,0,0,ft)}var K=kt({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),qe=Fe,Wt="__tsUtils$gblCfg",Dr;function He(){var h;return typeof globalThis!==z&&(h=globalThis),!h&&typeof self!==z&&(h=self),!h&&typeof window!==z&&(h=window),!h&&typeof global!==z&&(h=global),h}function re(){if(!Dr){var h=He()||{};Dr=h[Wt]=h[Wt]||{}}return Dr}function xe(h,_){var O=u;if(Er(h))O="{ stack: '"+h.stack+"', message: '"+h.message+"', name: '"+h.name+"'";else try{O=JSON.stringify(h,c,_?un(_)?_:4:a)}catch(q){O=" - "+xe(q,_)}return ze(h)+": "+O}var je=we[Pe],pe=function(h,_){dn("'"+qe(h)+"' not defined for "+xe(_))},S=function(h){return function(_){return _[h].apply(_,je.call(arguments,1))}},fe=function(h,_){var O=_&&_[h];return function(q){var V=q&&q[h]||O;if(V)return V.apply(q,je.call(arguments,1));pe(h,q)}},Je=function(h,_,O){var q=_&&_[h];return function(V){var ie=V&&V[h]||q;if(ie||O){var ge=arguments;return(ie||O).apply(V,ie?je.call(ge,1):ge)}pe(h,V)}};function Cr(h){return function(_){return _[h]}}var Wr=ce.max,Xr=fe(Pe,Le),Fn=fe("substring",Le),Oi=Je("substr",Le,Ts);function Ts(h,_,O){return tt(h)&&dn("'polyStrSubstr called with invalid "+xe(h)),O<0?u:(_=_||0,_<0&&(_=Wr(_+h[ve],0)),at(O)?Xr(h,_):Xr(h,_,_+O))}function _n(h,_){return Fn(h,0,_)}var Xo=Je("startsWith",Le,Ns);function Ns(h,_,O){lr(h)||dn("'"+xe(h)+"' is not a string");var q=lr(_)?_:qe(_),V=q[ve],ie=O>0?O:0;return Fn(h,ie,ie+V)===q}var Ys="_urid",Ao;function Do(){if(!Ao){var h=re();Ao=h.gblSym=h.gblSym||{k:{},s:{}}}return Ao}var H={};function Ue(h){var _={description:qe(h),toString:function(){return U+"("+h+")"}};return _[ne]=!0,_}function vt(h){var _=Do();if(!kn(_.k,h)){var O=Ue(h),q=Ke(_.s).length;O[Ys]=function(){return q+"_"+O.toString()},_.k[h]=O,_.s[O[Ys]()]=qe(h)}return _.k[h]}function Fr(h){var _,O=K[h];return O&&(_=H[O]=H[O]||Ue(U+"."+O)),_}var io={e:"enumerable",c:"configurable",v:W,w:"writable",g:"get",s:"set"};function Hi(h){var _={};if(_[io.c]=!0,_[io.e]=!0,h.l){_.get=function(){return h.l.v};var O=ni(h.l,"v");O&&O.set&&(_.set=function(q){h.l.v=q})}return Vr(h,function(q,V){_[io[q]]=at(V)?_[io[q]]:V}),_}var L=se.defineProperty;function Me(h,_,O,q,V,ie){var ge={e:ie,c:V};return O&&(ge.g=O),q&&(ge.s=q),L(h,_,Hi(ge))}function rt(h,_,O){return L(h,_,Hi(O))}var Ut,An=function(){Ut=re(),An=c};function wn(h){var _={};return An&&An(),_.b=Ut.lzy,L(_,"v",{configurable:!0,get:function(){var O=h();return Ut.lzy||(L(_,"v",{value:O}),_.b&&delete _.b),Ut.lzy&&_.b!==Ut.lzy&&(_.b=Ut.lzy),O}}),_}function Ln(h,_){return wn(function(){return Ee(h,_)})}var oo="window",qi,To,$i,Yn,su,Qo,go=function(h){return Ln(function(){return Mi(h)||a},a)},Qu=function(h){return(!qi||h===!1||Ut&&Ut.lzy&&!qi.b)&&(qi=Ln(He,c)),qi.v},Mi=function(h,_){var O=!qi||_===!1?Qu(_):qi.v;return O&&O[h]?O[h]:h===oo&&To?To.v:c},Ua=function(){return!!Ha()},Ha=function(){return(!$i||Ut&&Ut.lzy&&!$i.b)&&($i=go("document")),$i.v},aa=function(){return!!Zu()},Zu=function(){return(!To||Ut&&Ut.lzy&&!To.b)&&(To=go(oo)),To.v},ip=function(){return!!pc()},pc=function(){return(!Yn||Ut&&Ut.lzy&&!Yn.b)&&(Yn=go("navigator")),Yn.v},Js=function(){return!!au()},au=function(){return(!su||Ut&&Ut.lzy&&!su.b)&&(su=go("history")),su.v},op=function(){return!Qo&&(Qo=Ln(function(){return!!(process&&(process.versions||{}).node)},!1)),Qo.v},qo,Fs,Cn;function qs(h){return Ln(function(){return qo.v?qo.v[h]:a},a)}function cu(){return!!oi()}function oi(){var h=!qo||Ut&&Ut.lzy&&!qo.b;return h&&(qo=go(U)),(!Fs||h)&&(Fs=qs("for")),(!Cn||h)&&(Cn=qs("keyFor")),qo.v}function ga(h,_){var O=K[h];return(!qo||Ut.lzy&&!qo.b)&&oi(),qo.v?qo.v[O||h]:_?a:Fr(h)}function zc(h,_){return(!qo||Ut.lzy&&!qo.b)&&oi(),qo.v?qo.v(h):_?c:Ue(h)}function sp(h){return(!Fs||Ut.lzy&&!qo.b)&&oi(),(Fs.v||vt)(h)}function Zd(h){return!!h&&Et(h.next)}function rh(h){return!pr(h)&&Et(h[ga(3)])}var ef;function nh(h,_,O){if(h&&(Zd(h)||(!ef&&(ef=wn(function(){return ga(3)})),h=h[ef.v]?h[ef.v]():null),Zd(h))){var q=void 0,V=void 0;try{for(var ie=0;!(V=h.next())[$]&&_.call(O||h,V[W],ie,h)!==-1;)ie++}catch(ge){q={e:ge},h.throw&&(V=null,h.throw(q))}finally{try{V&&!V[$]&&h.return&&h.return(V)}finally{if(q)throw q.e}}}}var tf=S("apply");function wl(h,_){return!at(_)&&h&&(Lt(_)?tf(h.push,h,_):Zd(_)||rh(_)?nh(_,function(O){h.push(O)}):h.push(_)),h}function Jn(h,_,O){if(h)for(var q=h[ve]>>>0,V=0;V<q&&!(V in h&&_.call(O||h,h[V],V,h)===-1);V++);}var js=fe(de,we),Sl=fe("map",we),so=fe(Pe,we),ap=S("call");function cp(h,_,O){return js(h,_,O)!==-1}var zs=Je("includes",we,cp),uu=fe("reduce",we),up=se.create,dd=up||gs;function gs(h){if(!h)return{};var _=typeof h;if(_!==y&&_!==d)throw new TypeError("Prototype must be an Object or function: "+xe(h));function O(){}return O[b]=h,new O}var Cl;function Uc(h,_){var O=se.setPrototypeOf||function(q,V){!Cl&&(Cl=wn(function(){var ie;return ie={},ie[T]=[],ie instanceof Array})),Cl.v?q[T]=V:Vr(V,function(ie,ge){return q[ie]=ge})};return O(h,_)}var om=function(h,_,O){rf(_,h),_=Uc(_,O);function q(){this.constructor=_,rf(this,h)}return _[b]=O===c?dd(O):(q[b]=O[b],new q),_},fd=function(h,_){try{_&&(h[ee]=_)}catch{}},rf=function(h,_){try{rt(h,ee,{v:_,c:!0,e:!1})}catch{}};function nf(h,_,O){var q=O||Error,V=q[b][ee],ie=Error.captureStackTrace;return om(h,function(){var ge=this;try{fd(q,h);var Ie=tf(q,ge,so(arguments))||ge;if(Ie!==ge){var We=Xt(ge);We!==Xt(Ie)&&Uc(Ie,We)}return ie&&ie(Ie,ge[A]),_&&_(Ie,arguments),Ie}finally{fd(q,V)}},q)}function hc(){return(Date.now||vo)()}function vo(){return new Date().getTime()}function ih(h){return function(O){return tt(O)&&dn("strTrim called ["+xe(O)+"]"),O&&O.replace&&(O=O.replace(h,u)),O}}var of=ih(/^\s+|(?=\s)\s+$/g),Xs=Je("trim",Le,of),el,lu,Rv;function Qs(h){if(!h||typeof h!==y)return!1;Rv||(Rv=aa()?Zu():!0);var _=!1;if(h!==Rv){lu||(el=Function[b].toString,lu=ap(el,se));try{var O=Xt(h);_=!O,_||($r(O,A)&&(O=O[A]),_=O&&typeof O===d&&el.call(O)===lu)}catch{}}return _}var By=function(h){return h.value&&Tl(h),!0},xu=[hd,Tl,oh,dp];function pd(h,_,O,q){var V;return Jn(h,function(ie){if(ie.k===_)return V=ie,-1}),V||(V={k:_,v:_},h.push(V),q(V)),V.v}function jo(h,_,O,q){var V=O.handler,ie=O.path?q?O.path.concat(q):O.path:[],ge={handler:O.handler,src:O.src,path:ie},Ie=typeof _,We=!1,et=!1;_&&Ie===y?We=Qs(_):et=_===c||jr(Ie);var Ve={type:Ie,isPrim:et,isPlain:We,value:_,result:_,path:ie,origin:O.src,copy:function(wt,ot){return jo(h,wt,ot?ge:O,ot)},copyTo:function(wt,ot){return Dl(h,wt,ot,ge)}};return Ve.isPrim?V&&ap(V,O,Ve)?Ve.result:_:pd(h,_,ie,function(wt){rt(Ve,"result",{g:function(){return wt.v},s:function(it){wt.v=it}});for(var ot=0,bt=V;!ap(bt||(ot<xu.length?xu[ot++]:By),O,Ve);)bt=c})}function Dl(h,_,O,q){if(!tt(O))for(var V in O)_[V]=jo(h,O[V],q,V);return _}function lp(h,_,O){var q={handler:O,src:_,path:[]};return Dl([],h,_,q)}function mg(h,_){var O={handler:_,src:h};return jo([],h,O)}function hd(h){var _=h.value;if(Lt(_)){var O=h.result=[];return O.length=_.length,h.copyTo(O,_),!0}return!1}function dp(h){var _=h.value;return on(_)?(h.result=new Date(_.getTime()),!0):!1}function oh(h){return h.type===d}function Tl(h){var _=h.value;if(_&&h.isPlain){var O=h.result={};return h.copyTo(O,_),!0}return!1}function sh(h,_){return Jn(_,function(O){lp(h,O)}),h}function Eu(h,_,O,q,V,ie,ge){return sh(mg(h)||{},so(arguments))}var fp=Cr(ve),du;function sf(){return(!du||!du.b&&Ut&&Ut.lzy)&&(du=go("performance")),du.v}function md(){var h=sf();return h&&h.now?h.now():hc()}var af=Je("endsWith",Le,gd);function gd(h,_,O){lr(h)||dn("'"+xe(h)+"' is not a string");var q=lr(_)?_:qe(_),V=q[ve],ie=h[ve],ge=!at(O)&&O<ie?O:ie;return Fn(h,ge-V,ge)===q}var Us=fe(de,Le),va="ref",Po="un"+va,Hc="hasRef",Wa="enabled";function gg(h,_,O){var q,V=!0,ie=h?_(c):c,ge,Ie=function(){return V=!1,ie&&ie[Po]&&ie[Po](),ge},We=function(){return V=!0,ie&&ie[va]&&ie[va](),ge},et=function(){return ie&&ie[Hc]?ie[Hc]():V},Ve=function(){return ie=_(ie),V||Ie(),ge},wt=function(){ie&&O(ie),ie=c},ot=function(bt){!bt&&ie&&wt(),bt&&!ie&&Ve()};return ge=(q={cancel:wt,refresh:Ve},q[Hc]=et,q[va]=We,q[Po]=Ie,q[Wa]=!1,q),L(ge,Wa,{get:function(){return!!ie},set:ot}),{h:ge,dn:function(){ie=c}}}function Ou(h,_,O,q){var V=Lt(O),ie=V?O.length:0,ge=(ie>0?O[0]:V?a:O)||setTimeout,Ie=(ie>1?O[1]:a)||clearTimeout,We=q[0];q[0]=function(){et.dn(),tf(We,h,so(arguments))};var et=gg(_,function(Ve){if(Ve){if(Ve.refresh)return Ve.refresh(),Ve;tf(Ie,h,[Ve])}return tf(ge,h,q)},function(Ve){tf(Ie,h,[Ve])});return et.h}function Hs(h,_){return Ou(this,!0,a,so(arguments))}function Pl(h,_){return Ou(this,!1,a,so(arguments))}(Qu()||{}).Symbol,(Qu()||{}).Reflect;var ah="hasOwnProperty",fu=function(h,_){return fu=o.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,q){O.__proto__=q}||function(O,q){for(var V in q)q[ah](V)&&(O[V]=q[V])},fu(h,_)};function tl(h,_){typeof _!==e&&_!==null&&dn("Class extends value "+String(_)+" is not a constructor or null"),fu(h,_);function O(){this.constructor=h}h[i]=_===null?dd(_):(O[i]=_[i],new O)}function pp(h,_){for(var O=0,q=_.length,V=h.length;O<q;O++,V++)h[V]=_[O];return h}var mc,Iu="constructor",vs="prototype",Wc="function",ku="_dynInstFuncs",Au="_isDynProxy",Zs="_dynClass",vg="_dynCls$",Ba="_dynInstChk",rl=Ba,zo="_dfOpts",Uo="_unknown_",cf="__proto__",Mu="_dyn"+cf,uf="__dynProto$Gbl",Mo="_dynInstProto",Rl="useBaseInst",lf="setInstFuncs",ca=Object,pu=ca.getPrototypeOf,ea=ca.getOwnPropertyNames,Ps=Qu(),xl=Ps[uf]||(Ps[uf]={o:(mc={},mc[lf]=!0,mc[Rl]=!0,mc),n:1e3});function xv(h){return h&&(h===ca[vs]||h===Array[vs])}function us(h){return xv(h)||h===Function[vs]}function Bc(h){var _;if(h){if(pu)return pu(h);var O=h[cf]||h[vs]||(h[Iu]?h[Iu][vs]:null);_=h[Mu]||O,$r(h,Mu)||(delete h[Mo],_=h[Mu]=h[Mo]||h[Mu],h[Mo]=O)}return _}function nl(h,_){var O=[];if(ea)O=ea(h);else for(var q in h)typeof q=="string"&&$r(h,q)&&O.push(q);if(O&&O.length>0)for(var V=0;V<O.length;V++)_(O[V])}function hp(h,_,O){return _!==Iu&&typeof h[_]===Wc&&(O||$r(h,_))}function vd(h){dn("DynamicProto: "+h)}function ch(h){var _={};return nl(h,function(O){!_[O]&&hp(h,O,!1)&&(_[O]=h[O])}),_}function $a(h,_){for(var O=h.length-1;O>=0;O--)if(h[O]===_)return!0;return!1}function sm(h,_,O,q){function V(We,et,Ve){var wt=et[Ve];if(wt[Au]&&q){var ot=We[ku]||{};ot[rl]!==!1&&(wt=(ot[et[Zs]]||{})[Ve]||wt)}return function(){return wt.apply(We,arguments)}}var ie={};nl(O,function(We){ie[We]=V(_,O,We)});for(var ge=Bc(h),Ie=[];ge&&!us(ge)&&!$a(Ie,ge);)nl(ge,function(We){!ie[We]&&hp(ge,We,!pu)&&(ie[We]=V(_,ge,We))}),Ie.push(ge),ge=Bc(ge);return ie}function ji(h,_,O,q){var V=null;if(h&&$r(O,Zs)){var ie=h[ku]||{};if(V=(ie[O[Zs]]||{})[_],V||vd("Missing ["+_+"] "+Wc),!V[Ba]&&ie[rl]!==!1){for(var ge=!$r(h,_),Ie=Bc(h),We=[];ge&&Ie&&!us(Ie)&&!$a(We,Ie);){var et=Ie[_];if(et){ge=et===q;break}We.push(Ie),Ie=Bc(Ie)}try{ge&&(h[_]=V),V[Ba]=1}catch{ie[rl]=!1}}}return V}function Zo(h,_,O){var q=_[h];return q===O&&(q=Bc(_)[h]),typeof q!==Wc&&vd("["+h+"] is not a "+Wc),q}function Lu(h,_,O,q,V){function ie(We,et){var Ve=function(){var wt=ji(this,et,We,Ve)||Zo(et,We,Ve);return wt.apply(this,arguments)};return Ve[Au]=1,Ve}if(!xv(h)){var ge=O[ku]=O[ku]||{},Ie=ge[_]=ge[_]||{};ge[rl]!==!1&&(ge[rl]=!!V),nl(O,function(We){hp(O,We,!1)&&O[We]!==q[We]&&(Ie[We]=O[We],delete O[We],(!$r(h,We)||h[We]&&!h[We][Au])&&(h[We]=ie(h,We)))})}}function gc(h,_){if(pu){for(var O=[],q=Bc(_);q&&!us(q)&&!$a(O,q);){if(q===h)return!0;O.push(q),q=Bc(q)}return!1}return!0}function vc(h,_){return $r(h,vs)?h.name||_||Uo:((h||{})[Iu]||{}).name||_||Uo}function ta(h,_,O,q){$r(h,vs)||vd("theClass is an invalid class definition.");var V=h[vs];gc(V,_)||vd("["+vc(h)+"] not in hierarchy of ["+vc(_)+"]");var ie=null;$r(V,Zs)?ie=V[Zs]:(ie=vg+vc(h,"_")+"$"+xl.n,xl.n++,V[Zs]=ie);var ge=ta[zo],Ie=!!ge[Rl];Ie&&q&&q[Rl]!==void 0&&(Ie=!!q[Rl]);var We=ch(_),et=sm(V,_,We,Ie);O(_,et);var Ve=!!pu&&!!ge[lf];Ve&&q&&(Ve=!!q[lf]),Lu(V,ie,_,We,Ve!==!1)}ta[zo]=xl.o;var il=100,Vi=Vt,df=Vi({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),Si="toLowerCase",ya="blkVal",Hn="length",yd="rdOnly",El="notify",yc="warnToConsole",Ho="throwInternal",Va="setDf",ra="watch",ao="logger",hu="apply",Nn="push",$c="splice",Ro="hdlr",si="cancel",Ol="initialize",ba="identifier",ua="isInitialized",na="getPlugin",Il="pollInternalLogs",Ga="name",bd="time",ys="processNext",Vc="getProcessTelContext",ol="getNotifyMgr",kl="addNotificationListener",_d="removeNotificationListener",m="enabled",g="stopPollingInternalLogs",R="unload",E="onComplete",N="version",J="loggingLevelConsole",Z="createNew",he="teardown",ke="messageId",Qe="message",pt="isAsync",Ht="diagLog",Sr="_doTeardown",sn="update",qr="getNext",Wn="setNextPlugin",Ws="userAgent",Ka="split",mu="nodeType",uh="replace",am="logInternalMessage",_a="type",lh="handler",mp="isChildEvt",wd="getCtx",gu="setCtx",yg="complete",$y="traceId",dh="spanId",fh="traceFlags",Vy;function Gy(h,_){Vy||(Vy=nf("AggregationError",function(q,V){V[Hn]>1&&(q.errors=V[1])}));var O=h||"One or more errors occurred.";throw Jn(_,function(q,V){O+=`
`.concat(V," > ").concat(xe(q))}),new Vy(O,_||[])}function Ky(h,_){return w_(h,function(O){_&&_({value:O,rejected:!1})},function(O){_&&_({rejected:!0,reason:O})})}function w_(h,_,O,q){var V=h;return Un(h)?(_||O)&&(V=h.then(_,O)):_&&_(h),q&&(V=cm(V,q)),V}function cm(h,_){var O=h;return _&&(Un(h)?h.finally?O=h.finally(_):O=h.then(function(q){return _(),q},function(q){throw _(),q}):_()),O}var Ev=["pending","resolving","resolved","rejected"],Yy="dispatchEvent",Jy;function um(h,_,O,q){var V=Ha();!Jy&&(Jy=Ln(function(){var We;return V&&V.createEvent&&(We=V.createEvent("Event")),!!We&&We.initEvent},null));var ie=Jy.v?V.createEvent("Event"):q?new Event(_):{};if(O&&O(ie),Jy.v&&ie.initEvent(_,!1,!0),ie&&h[Yy])h[Yy](ie);else{var ge=h["on"+_];if(ge)ge(ie);else{var Ie=Mi("console");Ie&&(Ie.error||Ie.log)(_,xe(ie))}}}var ph="Promise",S_="unhandledRejection",Xy=S_.toLowerCase(),hh=10,Ov;function Sd(h){return Et(h)?h.toString():xe(h)}function Ji(h,_,O){var q=so(arguments,3),V=0,ie=!1,ge,Ie=[],We=!1,et=null,Ve;!Ov&&(Ov=go(ph+"RejectionEvent"));var wt=function(Or,Mn){try{We=!0,et&&et.cancel(),et=null;var Ii=h(function(Eo,Ge){Ie.push(function(){try{var At=V===2?Or:Mn,er=at(At)?ge:Et(At)?At(ge):At;Un(er)?er.then(Eo,Ge):At?Eo(er):V===3?Ge(er):Eo(er)}catch(fr){Ge(fr)}}),ie&&Zt()},q);return Ii}finally{}},ot=function(Or){return wt(void 0,Or)},bt=function(Or){var Mn=Or,Ii=Or;return Et(Or)&&(Mn=function(Eo){return Or&&Or(),Eo},Ii=function(Eo){throw Or&&Or(),Eo}),wt(Mn,Ii)},it=function(){return Ev[V]},Zt=function(){if(Ie.length>0){var Or=Ie.slice();Ie=[],We=!0,_(Or),et&&et.cancel(),et=null}},Gt=function(Or,Mn){return function(Ii){if(V===Mn){if(Or===2&&Un(Ii)){V=1,Ii.then(Gt(2,1),Gt(3,1));return}V=Or,ie=!0,ge=Ii,Zt(),!We&&Or===3&&!et&&(et=Hs(br,hh))}}},br=function(){if(!We)if(op())process.emit(S_,ge,Ve);else{var Or=Zu()||Qu();um(Or,Xy,function(Mn){return rt(Mn,"promise",{g:function(){return Ve}}),Mn.reason=ge,Mn},!!Ov.v)}};Ve={then:wt,catch:ot,finally:bt},L(Ve,"state",{get:it}),cu()&&(Ve[ga(11)]="IPromise");var Rr=function(){return"IPromise "+it()+(ie?" - "+Sd(ge):"")};return Ve.toString=Rr,function(){Et(O)||dn(ph+": executor is not a function - "+Sd(O));var Mn=Gt(3,0);try{O.call(Ve,Gt(2,0),Mn)}catch(Ii){Mn(Ii)}}(),Ve}function lm(h){return function(_){var O=so(arguments,1);return h(function(q,V){try{var ie=[],ge=1;Jn(_,function(Ie,We){Ie&&(ge++,w_(Ie,function(et){ie[We]=et,--ge===0&&q(ie)},V))}),ge--,ge===0&&q(ie)}catch(Ie){V(Ie)}},O)}}var co=function(h){Jn(h,function(_){try{_()}catch{}})};function Qy(h){var _=un(h)?h:0;return function(O){Hs(function(){co(O)},_)}}function Iv(h,_){return Ji(Iv,Qy(_),h,_)}var Cd;function mh(h,_){!Cd&&(Cd=go(ph));var O=Cd.v;if(!O)return Iv(h);Et(h)||dn(ph+": executor is not a function - "+xe(h));var q=0;function V(){return Ev[q]}var ie=new O(function(ge,Ie){function We(Ve){q=2,ge(Ve)}function et(Ve){q=3,Ie(Ve)}h(We,et)});return L(ie,"state",{get:V}),ie}var Gc;function Dd(h,_){return!Gc&&(Gc=wn(function(){return mh})),Gc.v.call(this,h,_)}var Td=lm(Dd),Rs=void 0,di="",vu="channels",es="core",Pd="createPerfMgr",dm="disabled",gh="extensionConfig",vh="extensions",ff="processTelemetry",Zy="priority",fm="eventsSent",pm="eventsDiscarded",wa="eventsSendRequest",Rd="perfEvent",bc="getPerfMgr",yu="domain",hm="path",sl="Not dynamic - ",mm=/-([a-z])/g,bg=/([^\w\d_$])/g,yh=/^(\d+[\w\d_$])/;function Dn(h){return!tt(h)}function xd(h){var _=h;return _&&lr(_)&&(_=_[uh](mm,function(O,q){return q.toUpperCase()}),_=_[uh](bg,"_"),_=_[uh](yh,function(O,q){return"_"+q})),_}function xs(h,_){return h&&_?Us(h,_)!==-1:!1}function pf(h){return h&&h.toISOString()||""}function kv(h){return Er(h)?h[Ga]:di}function Ya(h,_,O,q,V){var ie=O;return h&&(ie=h[_],ie!==O&&(!V||V(ie))&&(!q||q(O))&&(ie=O,h[_]=ie)),ie}function Ed(h,_,O){var q;return h?(q=h[_],!q&&tt(q)&&(q=at(O)?{}:O,h[_]=q)):q=at(O)?{}:O,q}function bh(h,_){var O=null,q=null;return Et(h)?O=h:q=h,function(){var V=arguments;if(O&&(q=O()),q)return q[_][hu](q,V)}}function Av(h,_,O){if(h&&_&&hr(h)&&hr(_)){var q=function(ie){if(lr(ie)){var ge=_[ie];Et(ge)?(!O||O(ie,!0,_,h))&&(h[ie]=bh(_,ie)):(!O||O(ie,!1,_,h))&&(kn(h,ie)&&delete h[ie],rt(h,ie,{g:function(){return _[ie]},s:function(Ie){_[ie]=Ie}}))}};for(var V in _)q(V)}return h}function al(h,_,O,q,V){h&&_&&O&&(V!==!1||at(h[_]))&&(h[_]=bh(O,q))}function _g(h,_,O,q){return h&&_&&hr(h)&&Lt(O)&&Jn(O,function(V){lr(V)&&al(h,V,_,V,q)}),h}function gm(h){return h&&_e&&(h=o(_e({},h))),h}var Mv="documentMode",wg="location",Od="console",hf="JSON",vm="crypto",_h="msCrypto",Sg="ReactNative",Kc="msie",Ja="trident/",mf="XMLHttpRequest",Nu=null,bu=null,gp=!1,Id=null,Cg=null;function wh(h,_){var O=!1;if(h){try{if(O=_ in h,!O){var q=h[i];q&&(O=_ in q)}}catch{}if(!O)try{var V=new h;O=!at(V[_])}catch{}}return O}function Sh(h){gp=h}function vp(h){if(h&&gp){var _=Mi("__mockLocation");if(_)return _}return typeof location===t&&location?location:Mi(wg)}function kd(){return typeof console!==n?console:Mi(Od)}function ym(){return!!(typeof JSON===t&&JSON||Mi(hf)!==null)}function Ch(){return ym()?JSON||Mi(hf):null}function bm(){return Mi(vm)}function gf(){return Mi(_h)}function yp(){var h=pc();return h&&h.product?h.product===Sg:!1}function _m(){var h=pc();if(h&&(h[Ws]!==bu||Nu===null)){bu=h[Ws];var _=(bu||di)[Si]();Nu=xs(_,Kc)||xs(_,Ja)}return Nu}function C_(h){if(h===void 0&&(h=null),!h){var _=pc()||{};h=_?(_.userAgent||di)[Si]():di}var O=(h||di)[Si]();if(xs(O,Kc)){var q=Ha()||{};return Math.max(parseInt(O[Ka](Kc)[1]),q[Mv]||0)}else if(xs(O,Ja)){var V=parseInt(O[Ka](Ja)[1]);if(V)return V+4}return null}function Xa(h){return(Cg===null||h===!1)&&(Cg=ip()&&!!pc().sendBeacon),Cg}function Lv(h){var _=!1;try{_=!!Mi("fetch");var O=Mi("Request");_&&h&&O&&(_=wh(O,"keepalive"))}catch{}return _}function Ad(){return Id===null&&(Id=typeof XDomainRequest!==n,Id&&Dg()&&(Id=Id&&!wh(Mi(mf),"withCredentials"))),Id}function Dg(){var h=!1;try{var _=Mi(mf);h=!!_}catch{}return h}function Md(h,_){if(h)for(var O=0;O<h[Hn];O++){var q=h[O];if(q[Ga]&&q[Ga]===_)return q}return{}}function vf(h){var _=Ha();return _&&h?Md(_.querySelectorAll("meta"),h).content:null}function wm(h){var _,O=sf();if(O){var q=O.getEntriesByType("navigation")||[];_=Md((q[Hn]>0?q[0]:{}).serverTiming,h).description}return _}var Tg=4294967296,_c=4294967295,cl=123456789,Pg=987654321,Nv=!1,Ld=cl,Dh=Pg;function bp(h){h<0&&(h>>>=0),Ld=cl+h&_c,Dh=Pg-h&_c,Nv=!0}function D_(){try{var h=hc()&2147483647;bp((Math.random()*Tg^h)+h)}catch{}}function TS(h){return h>0?Math.floor(Nd()/_c*(h+1))>>>0:0}function Nd(h){var _=0,O=bm()||gf();return O&&O.getRandomValues&&(_=O.getRandomValues(new Uint32Array(1))[0]&_c),_===0&&_m()&&(Nv||D_(),_=Fv()&_c),_===0&&(_=Math.floor(Tg*Math.random()|0)),h||(_>>>=0),_}function Fv(h){Dh=36969*(Dh&65535)+(Dh>>16)&_c,Ld=18e3*(Ld&65535)+(Ld>>16)&_c;var _=(Dh<<16)+(Ld&65535)>>>0&_c|0;return h||(_>>>=0),_}function qv(h){h===void 0&&(h=22);for(var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=Nd()>>>0,q=0,V=di;V[Hn]<h;)q++,V+=_.charAt(O&63),O>>>=6,q===5&&(O=(Nd()<<2&4294967295|O&3)>>>0,q=0);return V}var jv="3.0.5",Rg="."+qv(6),hD=0;function xg(h){return h[mu]===1||h[mu]===9||!+h[mu]}function mD(h,_){var O=_[h.id];if(!O){O={};try{xg(_)&&rt(_,h.id,{e:!1,v:O})}catch{}}return O}function Al(h,_){return _===void 0&&(_=!1),xd(h+hD+++(_?"."+jv:di)+Rg)}function _p(h){var _={id:Al("_aiData-"+(h||di)+"."+jv),accept:function(O){return xg(O)},get:function(O,q,V,ie){var ge=O[_.id];return ge?ge[xd(q)]:(ie&&(ge=mD(_,O),ge[xd(q)]=V),V)},kill:function(O,q){if(O&&O[q])try{delete O[q]}catch{}}};return _}function Sm(h){return h&&hr(h)&&(h.isVal||h.fb||kn(h,"v")||kn(h,"mrg")||kn(h,"ref")||h.set)}function eb(h,_,O){var q,V=O.dfVal||Ar;if(_&&O.fb){var ie=O.fb;Lt(ie)||(ie=[ie]);for(var ge=0;ge<ie[Hn];ge++){var Ie=ie[ge],We=_[Ie];if(V(We)?q=We:h&&(We=h.cfg[Ie],V(We)&&(q=We),h.set(h.cfg,qe(Ie),We)),V(q))break}}return!V(q)&&V(O.v)&&(q=O.v),q}function Cm(h,_,O){var q=O;if(O&&Sm(O)&&(q=eb(h,_,O)),q){Sm(q)&&(q=Cm(h,_,q));var V;Lt(q)?(V=[],V[Hn]=q[Hn]):Qs(q)&&(V={}),V&&(Vr(q,function(ie,ge){ge&&Sm(ge)&&(ge=Cm(h,_,ge)),V[ie]=ge}),q=V)}return q}function Ml(h,_,O,q){var V,ie,ge,Ie=q,We,et,Ve,wt;Sm(Ie)?(V=Ie.isVal,ie=Ie.set,Ve=Ie[yd],wt=Ie[ya],We=Ie.mrg,et=Ie.ref,!et&&at(et)&&(et=!!We),ge=eb(h,_,Ie)):ge=q,wt&&h[ya](_,O);var ot,bt=!0,it=_[O];(it||!tt(it))&&(ot=it,bt=!1,V&&ot!==ge&&!V(ot)&&(ot=ge,bt=!0),ie&&(ot=ie(ot,ge,_),bt=ot===ge)),bt?ge?ot=Cm(h,_,ge):ot=ge:(Qs(ot)||Lt(ge))&&We&&ge&&(Qs(ge)||Lt(ge))&&Vr(ge,function(Zt,Gt){Ml(h,ot,Zt,Gt)}),h.set(_,O,ot),et&&h.ref(_,O),Ve&&h[yd](_,O)}var ul=sp("[[ai_dynCfg_1]]"),yf=sp("[[ai_blkDynCfg_1]]"),bf=sp("[[ai_frcDynCfg_1]]");function zv(h){if(h){var _;if(Lt(h)?(_=[],_[Hn]=h[Hn]):Qs(h)&&(_={}),_)return Vr(h,function(O,q){_[O]=zv(q)}),_}return h}function Th(h){if(h){var _=h[ul]||h;if(_.cfg&&(_.cfg===h||_.cfg[ul]===_))return _}return null}function Sa(h){if(h&&(Qs(h)||Lt(h)))try{h[yf]=!0}catch{}return h}function wp(h){if(h)try{h[bf]=!0}catch{}return h}function Sp(h,_,O){var q=!1;return O&&!h[_.blkVal]&&(q=O[bf],!q&&!O[yf]&&(q=Qs(O)||Lt(O))),q}function tb(h){dn("InvalidAccess:"+h)}var PS=["push","pop","shift","unshift","splice"],Cp=function(h,_,O,q){h&&h[Ho](3,108,"".concat(O," [").concat(_,"] failed - ")+xe(q))};function RS(h,_,O){Lt(_)&&Jn(PS,function(q){var V=_[q];_[q]=function(){for(var ie=[],ge=0;ge<arguments.length;ge++)ie[ge]=arguments[ge];var Ie=V[hu](this,ie);return Ph(h,_,O,"Patching"),Ie}})}function Dm(h,_){var O=ni(h,_);return O&&O.get}function Dp(h,_,O,q){var V={n:O,h:[],trk:function(et){et&&et.fn&&(js(V.h,et)===-1&&V.h[Nn](et),h.trk(et,V))},clr:function(et){var Ve=js(V.h,et);Ve!==-1&&V.h[$c](Ve,1)}},ie=!0,ge=!1;function Ie(){ie&&(ge=ge||Sp(Ie,h,q),q&&!q[ul]&&ge&&(q=Ph(h,q,O,"Converting")),ie=!1);var et=h.act;return et&&V.trk(et),q}Ie[h.prop]={chng:function(){h.add(V)}};function We(et){if(q!==et){Ie[h.ro]&&!h.upd&&tb("["+O+"] is read-only:"+xe(_)),ie&&(ge=ge||Sp(Ie,h,q),ie=!1);var Ve=ge&&Ie[h.rf];if(ge)if(Ve){Vr(q,function(ot){q[ot]=et?et[ot]:Rs});try{Vr(et,function(ot,bt){Ll(h,q,ot,bt)}),et=q}catch(ot){Cp((h.hdlr||{})[ao],O,"Assigning",ot),ge=!1}}else q&&q[ul]&&Vr(q,function(ot){var bt=Dm(q,ot);if(bt){var it=bt[h.prop];it&&it.chng()}});if(et!==q){var wt=et&&Sp(Ie,h,et);!Ve&&wt&&(et=Ph(h,et,O,"Converting")),q=et,ge=wt}h.add(V)}}rt(_,V.n,{g:Ie,s:We})}function Ll(h,_,O,q){if(_){var V=Dm(_,O),ie=V&&!!V[h.prop];ie?_[O]=q:Dp(h,_,O,q)}return _}function Eg(h,_,O,q){if(_){var V=Dm(_,O),ie=V&&!!V[h.prop],ge=q&&q[0],Ie=q&&q[1],We=q&&q[2];if(!ie){if(We)try{Sa(_)}catch(et){Cp((h.hdlr||{})[ao],O,"Blocking",et)}try{Ll(h,_,O,_[O]),V=Dm(_,O)}catch(et){Cp((h.hdlr||{})[ao],O,"State",et)}}ge&&(V[h.rf]=ge),Ie&&(V[h.ro]=Ie),We&&(V[h.blkVal]=!0)}return _}function Ph(h,_,O,q){try{Vr(_,function(V,ie){Ll(h,_,V,ie)}),_[ul]||(L(_,ul,{get:function(){return h[Ro]}}),RS(h,_,O))}catch(V){Cp((h.hdlr||{})[ao],O,q,V)}return _}var Tm="[[ai_",Og="]]";function T_(h){var _,O=zc(Tm+"get"+h.uid+Og),q=zc(Tm+"ro"+h.uid+Og),V=zc(Tm+"rf"+h.uid+Og),ie=zc(Tm+"blkVal"+h.uid+Og),ge=zc(Tm+"dtl"+h.uid+Og),Ie=null,We=null,et;function Ve(it,Zt){var Gt=et.act;try{et.act=it,it&&it[ge]&&(Jn(it[ge],function(Rr){Rr.clr(it)}),it[ge]=[]),Zt({cfg:h.cfg,set:h.set.bind(h),setDf:h[Va].bind(h),ref:h.ref.bind(h),rdOnly:h[yd].bind(h)})}catch(Rr){var br=h[ao];throw br&&br[Ho](1,107,xe(Rr)),Rr}finally{et.act=Gt||null}}function wt(){if(Ie){var it=Ie;Ie=null,We&&We[si](),We=null;var Zt=[];if(Jn(it,function(Gt){if(Gt&&(Gt[ge]&&(Jn(Gt[ge],function(br){br.clr(Gt)}),Gt[ge]=null),Gt.fn))try{Ve(Gt,Gt.fn)}catch(br){Zt[Nn](br)}}),Ie)try{wt()}catch(Gt){Zt[Nn](Gt)}Zt[Hn]>0&&Gy("Watcher error(s): ",Zt)}}function ot(it){if(it&&it.h[Hn]>0){Ie||(Ie=[]),We||(We=Hs(function(){We=null,wt()},0));for(var Zt=0;Zt<it.h[Hn];Zt++){var Gt=it.h[Zt];Gt&&js(Ie,Gt)===-1&&Ie[Nn](Gt)}}}function bt(it,Zt){if(it){var Gt=it[ge]=it[ge]||[];js(Gt,Zt)===-1&&Gt[Nn](Zt)}}return et=(_={prop:O,ro:q,rf:V},_[ya]=ie,_[Ro]=h,_.add=ot,_[El]=wt,_.use=Ve,_.trk=bt,_),et}function gD(h,_){var O={fn:_,rm:function(){O.fn=null,h=null,_=null}};return h.use(O,_),O}function Pm(h,_,O){var q,V=Th(_);if(V)return V;var ie=Al("dyncfg",!0),ge=_&&O!==!1?_:zv(_),Ie;function We(){Ie[El]()}function et(br,Rr,Or){try{br=Ll(Ie,br,Rr,Or)}catch(Mn){Cp(h,Rr,"Setting value",Mn)}return br[Rr]}function Ve(br){return gD(Ie,br)}function wt(br,Rr){Ie.use(null,function(Or){var Mn=Ie.upd;try{at(Rr)||(Ie.upd=Rr),br(Or)}finally{Ie.upd=Mn}})}function ot(br,Rr){var Or;return Eg(Ie,br,Rr,(Or={},Or[0]=!0,Or))[Rr]}function bt(br,Rr){var Or;return Eg(Ie,br,Rr,(Or={},Or[1]=!0,Or))[Rr]}function it(br,Rr){var Or;return Eg(Ie,br,Rr,(Or={},Or[2]=!0,Or))[Rr]}function Zt(br,Rr){return Rr&&Vr(Rr,function(Or,Mn){Ml(Gt,br,Or,Mn)}),br}var Gt=(q={uid:null,cfg:ge},q[ao]=h,q[El]=We,q.set=et,q[Va]=Zt,q[ra]=Ve,q.ref=ot,q[yd]=bt,q[ya]=it,q._block=wt,q);return rt(Gt,"uid",{c:!1,e:!1,w:!1,v:ie}),Ie=T_(Gt),Ph(Ie,ge,"config","Creating"),Gt}function xS(h,_){h?(h[yc](_),h[Ho](2,108,_)):tb(_)}function Qa(h,_,O,q){var V=Pm(O,h||{},q);return _&&V[Va](V.cfg,_),V}function Rm(h,_,O){var q=h[ul]||h;return q.cfg&&(q.cfg===h||q.cfg[ul]===q)?q[ra](_):(xS(O,sl+xe(h)),Qa(h,null,O)[ra](_))}function xm(h,_){if(h&&h[R])return h[R](_)}function ES(h,_,O){var q;return O||(q=Dd(function(V){O=V})),h&&fp(h)>0?Ky(xm(h[0],_),function(){ES(so(h,1),_,O)}):O(),q}var vD=500;function Nl(h){return{mrg:!0,v:h}}var Za=[fm,pm,wa,Rd],Fl=null,Em;function Ig(h,_){return function(){var O=arguments,q=yn(_);if(q){var V=q.listener;V&&V[h]&&V[h][hu](V,O)}}}function rb(){var h=Mi("Microsoft");return h&&(Fl=h.ApplicationInsights),Fl}function yn(h){var _=Fl;return!_&&h.disableDbgExt!==!0&&(_=Fl||rb()),_?_.ChromeDbgExt:null}function Uv(h){if(!Em){Em={};for(var _=0;_<Za[Hn];_++)Em[Za[_]]=Ig(Za[_],h)}return Em}var Rh,_f="warnToConsole",Om="AI (Internal): ",Ca="AI: ",nb="AITR_",kg={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},ib=(Rh={},Rh[0]=null,Rh[1]="errorToConsole",Rh[2]=_f,Rh[3]="debugToConsole",Rh);function ql(h){return h?'"'+h[uh](/\"/g,di)+'"':di}function Im(h,_){var O=kd();if(O){var q="log";O[h]&&(q=h),Et(O[q])&&O[q](_)}}var Tp=function(){function h(_,O,q,V){q===void 0&&(q=!1);var ie=this;ie[ke]=_,ie[Qe]=(q?Ca:Om)+_;var ge=di;ym()&&(ge=Ch().stringify(V));var Ie=(O?" message:"+ql(O):di)+(V?" props:"+ql(ge):di);ie[Qe]+=Ie}return h.dataType="MessageData",h}();function Ag(h,_){return(h||{})[ao]||new km(_)}var km=function(){function h(_){this.identifier="DiagnosticLogger",this.queue=[];var O=0,q={},V,ie,ge,Ie,We;ta(h,this,function(et){We=wt(_||{}),et.consoleLoggingLevel=function(){return V},et[Ho]=function(it,Zt,Gt,br,Rr){Rr===void 0&&(Rr=!1);var Or=new Tp(Zt,Gt,Rr,br);if(Ie)throw xe(Or);var Mn=ib[it]||_f;if(at(Or[Qe]))bt("throw"+(it===1?"Critical":"Warning"),Or);else{if(Rr){var Ii=+Or[ke];!q[Ii]&&V>=it&&(et[Mn](Or[Qe]),q[Ii]=!0)}else V>=it&&et[Mn](Or[Qe]);Ve(it,Or)}},et.debugToConsole=function(it){Im("debug",it),bt("warning",it)},et[yc]=function(it){Im("warn",it),bt("warning",it)},et.errorToConsole=function(it){Im("error",it),bt("error",it)},et.resetInternalMessageCount=function(){O=0,q={}},et[am]=Ve,et[R]=function(it){We&&We.rm(),We=null};function Ve(it,Zt){if(!ot()){var Gt=!0,br=nb+Zt[ke];if(q[br]?Gt=!1:q[br]=!0,Gt&&(it<=ie&&(et.queue[Nn](Zt),O++,bt(it===1?"error":"warn",Zt)),O===ge)){var Rr="Internal events throttle limit per PageView reached for this app.",Or=new Tp(23,Rr,!1);et.queue[Nn](Or),it===1?et.errorToConsole(Rr):et[yc](Rr)}}}function wt(it){return Rm(Qa(it,kg,et).cfg,function(Zt){var Gt=Zt.cfg;V=Gt[J],ie=Gt.loggingLevelTelemetry,ge=Gt.maxMessageLimit,Ie=Gt.enableDebug})}function ot(){return O>=ge}function bt(it,Zt){var Gt=yn(_||{});Gt&&Gt[Ht]&&Gt[Ht](it,Zt)}})}return h.__ieDyn=1,h}();function _u(h){return h||new km}function Fd(h,_,O,q,V,ie){ie===void 0&&(ie=!1),_u(h)[Ho](_,O,q,V,ie)}function P_(h,_){_u(h)[yc](_)}function jl(h,_,O){_u(h)[am](_,O)}var Hv,zl,R_="toGMTString",Wv="toUTCString",Ul="cookie",x_="expires",E_="isCookieUseDisabled",ob="disableCookiesUsage",wf="_ckMgr",Am=null,O_=null,Sf=null,ec,Wo={},ll={},Mg=(Hv={cookieCfg:Nl((zl={},zl[yu]={fb:"cookieDomain",dfVal:Dn},zl.path={fb:"cookiePath",dfVal:Dn},zl.enabled=Rs,zl.ignoreCookies=Rs,zl.blockedCookies=Rs,zl)),cookieDomain:Rs,cookiePath:Rs},Hv[ob]=Rs,Hv);function Hl(){!ec&&(ec=wn(function(){return Ha()}))}function Cf(h,_){var O=xh[wf]||ll[wf];return O||(O=xh[wf]=xh(h,_),ll[wf]=O),O}function wu(h){return h?h.isEnabled():!0}function Lg(h,_){return _&&h&&Lt(h.ignoreCookies)?js(h.ignoreCookies,_)!==-1:!1}function Bv(h,_){return _&&h&&Lt(h.blockedCookies)&&js(h.blockedCookies,_)!==-1?!0:Lg(h,_)}function I_(h,_){var O=_[m];if(tt(O)){var q=void 0;at(h[E_])||(q=!h[E_]),at(h[ob])||(q=!h[ob]),O=q}return O}function sb(h,_){var O;if(h)O=h.getCookieMgr();else if(_){var q=_.cookieCfg;q&&q[wf]?O=q[wf]:O=xh(_)}return O||(O=Cf(_,(h||{})[ao])),O}function xh(h,_){var O,q,V,ie,ge,Ie,We,et,Ve;h=Qa(h||ll,null,_).cfg,ge=Rm(h,function(ot){ot[Va](ot.cfg,Mg),q=ot.ref(ot.cfg,"cookieCfg"),V=q[hm]||"/",ie=q[yu],Ie=I_(h,q)!==!1,We=q.getCookie||IS,et=q.setCookie||D,Ve=q.delCookie||D},_);var wt=(O={isEnabled:function(){var ot=I_(h,q)!==!1&&Ie&&Ng(_),bt=ll[wf];return ot&&bt&&wt!==bt&&(ot=wu(bt)),ot},setEnabled:function(ot){Ie=ot!==!1,q[m]=ot},set:function(ot,bt,it,Zt,Gt){var br=!1;if(wu(wt)&&!Bv(q,ot)){var Rr={},Or=Xs(bt||di),Mn=Us(Or,";");if(Mn!==-1&&(Or=Xs(_n(bt,Mn)),Rr=OS(Fn(bt,Mn+1))),Ya(Rr,yu,Zt||ie,ln,at),!tt(it)){var Ii=_m();if(at(Rr[x_])){var Eo=hc(),Ge=Eo+it*1e3;if(Ge>0){var At=new Date;At.setTime(Ge),Ya(Rr,x_,k_(At,Ii?R_:Wv)||k_(At,Ii?R_:Wv)||di,ln)}}Ii||Ya(Rr,"max-age",di+it,null,at)}var er=vp();er&&er.protocol==="https:"&&(Ya(Rr,"secure",null,null,at),O_===null&&(O_=!I((pc()||{})[Ws])),O_&&Ya(Rr,"SameSite","None",null,at)),Ya(Rr,hm,Gt||V,null,at),et(ot,A_(Or,Rr)),br=!0}return br},get:function(ot){var bt=di;return wu(wt)&&!Lg(q,ot)&&(bt=We(ot)),bt},del:function(ot,bt){var it=!1;return wu(wt)&&(it=wt.purge(ot,bt)),it},purge:function(ot,bt){var it,Zt=!1;if(Ng(_)){var Gt=(it={},it[hm]=bt||"/",it[x_]="Thu, 01 Jan 1970 00:00:01 GMT",it);_m()||(Gt["max-age"]="0"),Ve(ot,A_(di,Gt)),Zt=!0}return Zt}},O[R]=function(ot){ge&&ge.rm(),ge=null},O);return wt[wf]=wt,wt}function Ng(h){if(Am===null){Am=!1,!ec&&Hl();try{var _=ec.v||{};Am=_[Ul]!==void 0}catch(O){Fd(h,2,68,"Cannot access document.cookie - "+kv(O),{exception:xe(O)})}}return Am}function OS(h){var _={};if(h&&h[Hn]){var O=Xs(h)[Ka](";");Jn(O,function(q){if(q=Xs(q||di),q){var V=Us(q,"=");V===-1?_[q]=null:_[Xs(_n(q,V))]=Xs(Fn(q,V+1))}})}return _}function k_(h,_){return Et(h[_])?h[_]():null}function A_(h,_){var O=h||di;return Vr(_,function(q,V){O+="; "+q+(tt(V)?di:"="+V)}),O}function IS(h){var _=di;if(!ec&&Hl(),ec.v){var O=ec.v[Ul]||di;Sf!==O&&(Wo=OS(O),Sf=O),_=Xs(Wo[h]||di)}return _}function D(h,_){!ec&&Hl(),ec.v&&(ec.v[Ul]=h+"="+_)}function I(h){return lr(h)?!!(xs(h,"CPU iPhone OS 12")||xs(h,"iPad; CPU OS 12")||xs(h,"Macintosh; Intel Mac OS X 10_14")&&xs(h,"Version/")&&xs(h,"Safari")||xs(h,"Macintosh; Intel Mac OS X 10_14")&&af(h,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||xs(h,"Chrome/5")||xs(h,"Chrome/6")||xs(h,"UnrealEngine")&&!xs(h,"Chrome")||xs(h,"UCBrowser/12")||xs(h,"UCBrowser/11")):!1}var j={perfEvtsSendAll:!1};function Y(h,_,O,q){Jn(h,function(V){if(V&&V[_])if(O)Hs(function(){return q(V)},0);else try{q(V)}catch{}})}var ye=function(){function h(_){this.listeners=[];var O,q,V=[],ie=Qa(_,j);q=ie[ra](function(ge){O=!!ge.cfg.perfEvtsSendAll}),ta(h,this,function(ge){rt(ge,"listeners",{g:function(){return V}}),ge[kl]=function(Ie){V[Nn](Ie)},ge[_d]=function(Ie){for(var We=js(V,Ie);We>-1;)V[$c](We,1),We=js(V,Ie)},ge[fm]=function(Ie){Y(V,fm,!0,function(We){We[fm](Ie)})},ge[pm]=function(Ie,We){Y(V,pm,!0,function(et){et[pm](Ie,We)})},ge[wa]=function(Ie,We){Y(V,wa,We,function(et){et[wa](Ie,We)})},ge[Rd]=function(Ie){Ie&&(O||!Ie[mp]())&&Y(V,Rd,!1,function(We){Ie[pt]?Hs(function(){return We[Rd](Ie)},0):We[Rd](Ie)})},ge[R]=function(Ie){var We=function(){q&&q.rm(),q=null,V=[]},et;if(Y(V,"unload",!1,function(Ve){var wt=Ve[R](Ie);wt&&(et||(et=[]),et[Nn](wt))}),et)return Dd(function(Ve){return Ky(Td(et),function(){We(),Ve()})});We()}})}return h.__ieDyn=1,h}(),Be="ctx",Ze="ParentContextKey",ct="ChildrenContextKey",Tt=null,Yt=function(){function h(_,O,q){var V=this;if(V.start=hc(),V[Ga]=_,V[pt]=q,V[mp]=function(){return!1},Et(O)){var ie;rt(V,"payload",{g:function(){return!ie&&Et(O)&&(ie=O(),O=null),ie}})}V[wd]=function(ge){return ge?ge===h[Ze]||ge===h[ct]?V[ge]:(V[Be]||{})[ge]:null},V[gu]=function(ge,Ie){if(ge)if(ge===h[Ze])V[ge]||(V[mp]=function(){return!0}),V[ge]=Ie;else if(ge===h[ct])V[ge]=Ie;else{var We=V[Be]=V[Be]||{};We[ge]=Ie}},V[yg]=function(){var ge=0,Ie=V[wd](h[ct]);if(Lt(Ie))for(var We=0;We<Ie[Hn];We++){var et=Ie[We];et&&(ge+=et[bd])}V[bd]=hc()-V.start,V.exTime=V[bd]-ge,V[yg]=function(){}}}return h.ParentContextKey="parent",h.ChildrenContextKey="childEvts",h}(),kr=function(){function h(_){this.ctx={},ta(h,this,function(O){O.create=function(q,V,ie){return new Yt(q,V,ie)},O.fire=function(q){q&&(q[yg](),_&&Et(_[Rd])&&_[Rd](q))},O[gu]=function(q,V){if(q){var ie=O[Be]=O[Be]||{};ie[q]=V}},O[wd]=function(q){return(O[Be]||{})[q]}})}return h.__ieDyn=1,h}(),qn="CoreUtils.doPerf";function On(h,_,O,q,V){if(h){var ie=h;if(ie[bc]&&(ie=ie[bc]()),ie){var ge=void 0,Ie=ie[wd](qn);try{if(ge=ie.create(_(),q,V),ge){if(Ie&&ge[gu]&&(ge[gu](Yt[Ze],Ie),Ie[wd]&&Ie[gu])){var We=Ie[wd](Yt[ct]);We||(We=[],Ie[gu](Yt[ct],We)),We[Nn](ge)}return ie[gu](qn,ge),O(ge)}}catch(et){ge&&ge[gu]&&ge[gu]("exception",et)}finally{ge&&ie.fire(ge),ie[gu](qn,Ie)}}}return O()}function Xn(){return Tt}function Qr(){var h=Qn();return Fn(h,0,8)+"-"+Fn(h,8,12)+"-"+Fn(h,12,16)+"-"+Fn(h,16,20)+"-"+Fn(h,20)}function Qn(){for(var h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],_=di,O,q=0;q<4;q++)O=Nd(),_+=h[O&15]+h[O>>4&15]+h[O>>8&15]+h[O>>12&15]+h[O>>16&15]+h[O>>20&15]+h[O>>24&15]+h[O>>28&15];var V=h[8+(Nd()&3)|0];return Oi(_,0,8)+Oi(_,9,4)+"4"+Oi(_,13,3)+V+Oi(_,16,3)+Oi(_,19,12)}var _r=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Ci="00",Bn="ff",Tn="00000000000000000000000000000000",ts="0000000000000000",tc=1;function Da(h,_,O){return h&&h[Hn]===_&&h!==O?!!h.match(/^[\da-f]*$/i):!1}function Fg(h,_,O){return Da(h,_)?h:O}function Mm(h){(isNaN(h)||h<0||h>255)&&(h=1);for(var _=h.toString(16);_[Hn]<2;)_="0"+_;return _}function $v(h,_,O,q){var V;return V={},V[N]=Da(q,2,Bn)?q:Ci,V[$y]=Pp(h)?h:Qn(),V[dh]=Vv(_)?_:_n(Qn(),16),V.traceFlags=O>=0&&O<=255?O:1,V}function Wl(h,_){var O;if(!h||(Lt(h)&&(h=h[0]||""),!h||!lr(h)||h[Hn]>8192))return null;if(h.indexOf(",")!==-1){var q=h[Ka](",");h=q[_>0&&q[Hn]>_?_:0]}var V=_r.exec(Xs(h));return!V||V[1]===Bn||V[2]===Tn||V[3]===ts?null:(O={version:(V[1]||di)[Si](),traceId:(V[2]||di)[Si](),spanId:(V[3]||di)[Si]()},O[fh]=parseInt(V[4],16),O)}function Pp(h){return Da(h,32,Tn)}function Vv(h){return Da(h,16,ts)}function Gv(h){return!(!h||!Da(h[N],2,Bn)||!Da(h[$y],32,Tn)||!Da(h[dh],16,ts)||!Da(Mm(h[fh]),2))}function sr(h){return Gv(h)?(h[fh]&tc)===tc:!1}function cn(h){if(h){var _=Mm(h[fh]);Da(_,2)||(_="01");var O=h[N]||Ci;return O!=="00"&&O!=="ff"&&(O=Ci),"".concat(O.toLowerCase(),"-").concat(Fg(h.traceId,32,Tn).toLowerCase(),"-").concat(Fg(h.spanId,16,ts).toLowerCase(),"-").concat(_.toLowerCase())}return""}function fi(h){var _="traceparent",O=Wl(vf(_),h);return O||(O=Wl(wm(_),h)),O}var rs=_p("plugin");function bs(h){return rs.get(h,"state",{},!0)}function _s(h,_){for(var O=[],q=null,V=h[qr](),ie;V;){var ge=V[na]();if(ge){q&&q[Wn]&&ge[ff]&&q[Wn](ge),ie=bs(ge);var Ie=!!ie[ua];ge[ua]&&(Ie=ge[ua]()),Ie||O[Nn](ge),q=ge,V=V[qr]()}}Jn(O,function(We){var et=h[es]();We[Ol](h.getCfg(),et,_,h[qr]()),ie=bs(We),!We[es]&&!ie[es]&&(ie[es]=et),ie[ua]=!0,delete ie[he]})}function Es(h){return h.sort(function(_,O){var q=0;if(O){var V=O[ff];_[ff]?q=V?_[Zy]-O[Zy]:1:V&&(q=-1)}else q=_?1:-1;return q})}function Lm(h){var _={};return{getName:function(){return _[Ga]},setName:function(O){h&&h.setName(O),_[Ga]=O},getTraceId:function(){return _[$y]},setTraceId:function(O){h&&h.setTraceId(O),Pp(O)&&(_[$y]=O)},getSpanId:function(){return _[dh]},setSpanId:function(O){h&&h.setSpanId(O),Vv(O)&&(_[dh]=O)},getTraceFlags:function(){return _[fh]},setTraceFlags:function(O){h&&h.setTraceFlags(O),_[fh]=O}}}var Eh="TelemetryPluginChain",Oh="_hasRun",M_="_getTelCtx",Nm=0;function Rp(h,_,O){for(;h;){if(h[na]()===O)return h;h=h[qr]()}return qg([O],_.config||{},_)}function Kv(h,_,O,q){var V=null,ie=[];_||(_=Qa({},null,O[ao])),q!==null&&(V=q?Rp(h,O,q):h);var ge={_next:We,ctx:{core:function(){return O},diagLog:function(){return Ag(O,_.cfg)},getCfg:function(){return _.cfg},getExtCfg:Ve,getConfig:wt,hasNext:function(){return!!V},getNext:function(){return V},setNext:function(bt){V=bt},iterate:ot,onComplete:Ie}};function Ie(bt,it){for(var Zt=[],Gt=2;Gt<arguments.length;Gt++)Zt[Gt-2]=arguments[Gt];bt&&ie[Nn]({func:bt,self:at(it)?ge.ctx:it,args:Zt})}function We(){var bt=V;if(V=bt?bt[qr]():null,!bt){var it=ie;it&&it[Hn]>0&&(Jn(it,function(Zt){try{Zt.func.call(Zt.self,Zt.args)}catch(Gt){Fd(O[ao],2,73,"Unexpected Exception during onComplete - "+xe(Gt))}}),ie=[])}return bt}function et(bt,it){var Zt=null,Gt=_.cfg;if(Gt&&bt){var br=Gt[gh];!br&&it&&(br={}),Gt[gh]=br,br=_.ref(Gt,gh),br&&(Zt=br[bt],!Zt&&it&&(Zt={}),br[bt]=Zt,Zt=_.ref(br,bt))}return Zt}function Ve(bt,it){var Zt=et(bt,!0);return it&&Vr(it,function(Gt,br){if(tt(Zt[Gt])){var Rr=_.cfg[Gt];(Rr||!tt(Rr))&&(Zt[Gt]=Rr)}Ml(_,Zt,Gt,br)}),_[Va](Zt,it)}function wt(bt,it,Zt){Zt===void 0&&(Zt=!1);var Gt,br=et(bt,!1),Rr=_.cfg;return br&&(br[it]||!tt(br[it]))?Gt=br[it]:(Rr[it]||!tt(Rr[it]))&&(Gt=Rr[it]),Gt||!tt(Gt)?Gt:Zt}function ot(bt){for(var it;it=ge._next();){var Zt=it[na]();Zt&&bt(Zt)}}return ge}function Su(h,_,O,q){var V=Qa(_),ie=Kv(h,V,O,q),ge=ie.ctx;function Ie(et){var Ve=ie._next();return Ve&&Ve[ff](et,ge),!Ve}function We(et,Ve){return et===void 0&&(et=null),Lt(et)&&(et=qg(et,V.cfg,O,Ve)),Su(et||ge[qr](),V.cfg,O,Ve)}return ge[ys]=Ie,ge[Z]=We,ge}function Fm(h,_,O){var q=Qa(_.config),V=Kv(h,q,_,O),ie=V.ctx;function ge(We){var et=V._next();return et&&et[R](ie,We),!et}function Ie(We,et){return We===void 0&&(We=null),Lt(We)&&(We=qg(We,q.cfg,_,et)),Fm(We||ie[qr](),_,et)}return ie[ys]=ge,ie[Z]=Ie,ie}function xp(h,_,O){var q=Qa(_.config),V=Kv(h,q,_,O),ie=V.ctx;function ge(We){return ie.iterate(function(et){Et(et[sn])&&et[sn](ie,We)})}function Ie(We,et){return We===void 0&&(We=null),Lt(We)&&(We=qg(We,q.cfg,_,et)),xp(We||ie[qr](),_,et)}return ie[ys]=ge,ie[Z]=Ie,ie}function qg(h,_,O,q){var V=null,ie=!q;if(Lt(h)&&h[Hn]>0){var ge=null;Jn(h,function(Ie){if(!ie&&q===Ie&&(ie=!0),ie&&Ie&&Et(Ie[ff])){var We=x0(Ie,_,O);V||(V=We),ge&&ge._setNext(We),ge=We}})}return q&&!V?qg([q],_,O):V}function x0(h,_,O){var q=null,V=Et(h[ff]),ie=Et(h[Wn]),ge;h?ge=h[ba]+"-"+h[Zy]+"-"+Nm++:ge="Unknown-0-"+Nm++;var Ie={getPlugin:function(){return h},getNext:function(){return q},processTelemetry:Ve,unload:wt,update:ot,_id:ge,_setNext:function(bt){q=bt}};function We(){var bt;return h&&Et(h[M_])&&(bt=h[M_]()),bt||(bt=Su(Ie,_,O)),bt}function et(bt,it,Zt,Gt,br){var Rr=!1,Or=h?h[ba]:Eh,Mn=bt[Oh];return Mn||(Mn=bt[Oh]={}),bt.setNext(q),h&&On(bt[es](),function(){return Or+":"+Zt},function(){Mn[ge]=!0;try{var Ii=q?q._id:di;Ii&&(Mn[Ii]=!1),Rr=it(bt)}catch(Ge){var Eo=q?Mn[q._id]:!0;Eo&&(Rr=!0),(!q||!Eo)&&Fd(bt[Ht](),1,73,"Plugin ["+Or+"] failed during "+Zt+" - "+xe(Ge)+", run flags: "+xe(Mn))}},Gt,br),Rr}function Ve(bt,it){it=it||We();function Zt(Gt){if(!h||!V)return!1;var br=bs(h);return br[he]||br[dm]?!1:(ie&&h[Wn](q),h[ff](bt,Gt),!0)}et(it,Zt,"processTelemetry",function(){return{item:bt}},!bt.sync)||it[ys](bt)}function wt(bt,it){function Zt(){var Gt=!1;if(h){var br=bs(h),Rr=h[es]||br[es];h&&(!Rr||Rr===bt.core())&&!br[he]&&(br[es]=null,br[he]=!0,br[ua]=!1,h[he]&&h[he](bt,it)===!0&&(Gt=!0))}return Gt}et(bt,Zt,"unload",function(){},it[pt])||bt[ys](it)}function ot(bt,it){function Zt(){var Gt=!1;if(h){var br=bs(h),Rr=h[es]||br[es];h&&(!Rr||Rr===bt.core())&&!br[he]&&h[sn]&&h[sn](bt,it)===!0&&(Gt=!0)}return Gt}et(bt,Zt,"update",function(){},!1)||bt[ys](it)}return Jt(Ie)}var jg=function(){function h(_,O,q,V){var ie=this,ge=Su(_,O,q,V);_g(ie,ge,Ke(ge))}return h}();function Fu(){var h=[];function _(q){q&&h[Nn](q)}function O(q,V){Jn(h,function(ie){try{ie(q,V)}catch(ge){Fd(q[Ht](),2,73,"Unexpected error calling unload handler - "+xe(ge))}}),h=[]}return{add:_,run:O}}function dl(){var h=[];function _(q){var V=h;h=[],Jn(V,function(ie){try{(ie.rm||ie.remove).call(ie)}catch(ge){Fd(q,2,73,"Unloading:"+xe(ge))}})}function O(q){q&&wl(h,q)}return{run:_,add:O}}var Yv,Df="getPlugin",yD=(Yv={},Yv[gh]={isVal:Dn,v:{}},Yv),kS=function(){function h(){var _=this,O,q,V,ie,ge;et(),ta(h,_,function(Ve){Ve[Ol]=function(wt,ot,bt,it){We(wt,ot,it),O=!0},Ve[he]=function(wt,ot){var bt,it=Ve[es];if(!it||wt&&it!==wt[es]())return;var Zt,Gt=!1,br=wt||Fm(null,it,V&&V[Df]?V[Df]():V),Rr=ot||(bt={reason:0},bt[pt]=!1,bt);function Or(){Gt||(Gt=!0,ie.run(br,ot),ge.run(br[Ht]()),Zt===!0&&br[ys](Rr),et())}return!Ve[Sr]||Ve[Sr](br,Rr,Or)!==!0?Or():Zt=!0,Zt},Ve[sn]=function(wt,ot){var bt=Ve[es];if(!bt||wt&&bt!==wt[es]())return;var it,Zt=!1,Gt=wt||xp(null,bt,V&&V[Df]?V[Df]():V),br=ot||{reason:0};function Rr(){Zt||(Zt=!0,We(Gt.getCfg(),Gt.core(),Gt[qr]()))}return!Ve._doUpdate||Ve._doUpdate(Gt,br,Rr)!==!0?Rr():it=!0,it},al(Ve,"_addUnloadCb",function(){return ie},"add"),al(Ve,"_addHook",function(){return ge},"add"),rt(Ve,"_unloadHooks",{g:function(){return ge}})}),_[Ht]=function(Ve){return Ie(Ve)[Ht]()},_[ua]=function(){return O},_.setInitialized=function(Ve){O=Ve},_[Wn]=function(Ve){V=Ve},_[ys]=function(Ve,wt){wt?wt[ys](Ve):V&&Et(V[ff])&&V[ff](Ve,null)},_._getTelCtx=Ie;function Ie(Ve){Ve===void 0&&(Ve=null);var wt=Ve;if(!wt){var ot=q||Su(null,{},_[es]);V&&V[Df]?wt=ot[Z](null,V[Df]):wt=ot[Z](null,V)}return wt}function We(Ve,wt,ot){Qa(Ve,yD,Ag(wt)),!ot&&wt&&(ot=wt[Vc]()[qr]());var bt=V;V&&V[Df]&&(bt=V[Df]()),_[es]=wt,q=Su(ot,Ve,wt,bt)}function et(){O=!1,_[es]=null,q=null,V=null,ge=dl(),ie=Fu()}}return h.__ieDyn=1,h}();function E0(h,_,O){var q={id:_,fn:O};wl(h,q);var V={remove:function(){Jn(h,function(ie,ge){if(ie.id===q.id)return h[$c](ge,1),-1})}};return V}function O0(h,_,O){for(var q=!1,V=h[Hn],ie=0;ie<V;++ie){var ge=h[ie];if(ge)try{if(ge.fn[hu](null,[_])===!1){q=!0;break}}catch(Ie){Fd(O,2,64,"Telemetry initializer failed: "+kv(Ie),{exception:xe(Ie)},!0)}}return!q}var AS=function(h){tl(_,h);function _(){var O=h.call(this)||this;O.identifier="TelemetryInitializerPlugin",O.priority=199;var q,V;ie(),ta(_,O,function(ge,Ie){ge.addTelemetryInitializer=function(We){return E0(V,q++,We)},ge[ff]=function(We,et){O0(V,We,et?et[Ht]():ge[Ht]())&&ge[ys](We,et)},ge[Sr]=function(){ie()}});function ie(){q=0,V=[]}return O}return _.__ieDyn=1,_}(kS),Tf,bD="Plugins must provide initialize method",ab="_notificationManager",L_="SDK is still unloading...",N_="SDK is not initialized",F_=ft((Tf={cookieCfg:{}},Tf[vh]={rdOnly:!0,ref:!0,v:[]},Tf[vu]={rdOnly:!0,ref:!0,v:[]},Tf[gh]={ref:!0,v:{}},Tf[Pd]=Rs,Tf.loggingLevelConsole=0,Tf.diagnosticLogInterval=Rs,Tf));function MS(h,_){return new kr(_)}function cb(h,_,O){var q,V=[],ie=[],ge={};return Jn(O,function(Ie){(tt(Ie)||tt(Ie[Ol]))&&ii(bD);var We=Ie[Zy],et=Ie[ba];Ie&&We&&(tt(ge[We])?ge[We]=et:P_(h,"Two extensions have same priority #"+We+" - "+ge[We]+", "+et)),!We||We<_?V[Nn](Ie):ie[Nn](Ie)}),q={},q[es]=V,q[vu]=ie,q}function Pf(h,_){var O=!1;return Jn(_,function(q){if(q===h)return O=!0,-1}),O}function ub(h,_,O,q){O&&Vr(O,function(V,ie){q&&Qs(ie)&&Qs(_[V])&&ub(h,_[V],ie,q),q&&Qs(ie)&&Qs(_[V])?ub(h,_[V],ie,q):h.set(_,V,ie)})}function q_(h,_){var O=null,q=-1;return Jn(h,function(V,ie){if(V.w===_)return O=V,q=ie,-1}),{i:q,l:O}}function eo(h,_){var O=q_(h,_).l;return O||(O={w:_,rm:function(){var q=q_(h,_);q.i!==-1&&h[$c](q.i,1)}},h[Nn](O)),O}function LS(h,_,O){Jn(_,function(q){var V=Rm(h,q.w,O);delete q.w,q.rm=function(){V.rm()}})}var zg=function(){function h(){var _,O,q,V,ie,ge,Ie,We,et,Ve,wt,ot,bt,it,Zt,Gt,br,Rr,Or,Mn,Ii,Eo,Ge,At,er,fr,rn,Zn;ta(h,this,function(St){Ot(),St._getDbgPlgTargets=function(){return[Ge]},St[ua]=function(){return O},St[Ol]=function($t,Gr,ci,$n){bt&&ii(L_),St[ua]()&&ii("Core cannot be initialized more than once"),_=Qa($t,F_,ci||St[ao],!1),$t=_.cfg,V_(_[ra](function(ns){Ii=ns.cfg.instrumentationKey;var Cc=ns.ref(ns.cfg,gh);Vr(Cc,function(Cu){ns.ref(Cc,Cu)}),tt(Ii)&&ii("Please provide instrumentation key")})),ie=$n,qd(),gb(),St[ao]=ci;var hi=$t[vh];if(Ve=[],Ve[Nn].apply(Ve,pp(pp([],Gr,!1),hi)),wt=$t[vu],xr(null),(!ot||ot[Hn]===0)&&ii("No "+vu+" available"),wt&&wt[Hn]>1){var Lo=St[na]("TeeChannelController");(!Lo||!Lo.plugin)&&Fd(q,1,28,"TeeChannel required")}LS($t,Eo,q),Eo=null,O=!0,St.releaseQueue(),St[Il]()},St.getChannels=function(){var $t=[];return ot&&Jn(ot,function(Gr){$t[Nn](Gr)}),Jt($t)},St.track=function($t){On(St[bc](),function(){return"AppInsightsCore:track"},function(){$t===null&&(ED($t),ii("Invalid telemetry item")),!$t[Ga]&&tt($t[Ga])&&(ED($t),ii("telemetry name required")),$t.iKey=$t.iKey||Ii,$t[bd]=$t[bd]||pf(new Date),$t.ver=$t.ver||"4.0",!bt&&St[ua]()?gr()[ys]($t):V[Nn]($t)},function(){return{item:$t}},!$t.sync)},St[Vc]=gr,St[ol]=function(){return ie||(ie=new ye(_.cfg),St[ab]=ie),ie},St[kl]=function($t){St[ol]()[kl]($t)},St[_d]=function($t){ie&&ie[_d]($t)},St.getCookieMgr=function(){return We||(We=xh(_.cfg,St[ao])),We},St.setCookieMgr=function($t){We!==$t&&(xm(We,!1),We=$t)},St[bc]=function(){return!ge&&!Ie&&V_(_[ra](function($t){if($t.cfg.enablePerfMgr){var Gr=$t.cfg[Pd];Et(Gr)&&(Ie=Gr(St,St[ol]()))}})),ge||Ie||Xn()},St.setPerfMgr=function($t){ge=$t},St.eventCnt=function(){return V[Hn]},St.releaseQueue=function(){if(O&&V[Hn]>0){var $t=V;V=[],Jn($t,function(Gr){gr()[ys](Gr)})}},St[Il]=function($t){return Zt=$t||null,Zn=!1,fr&&fr[si](),nt(!0)};function nt($t){if((!fr||!fr[m])&&!Zn){var Gr=$t||q&&q.queue[Hn]>0;Gr&&(rn||(rn=!0,V_(_[ra](function(ci){var $n=ci.cfg.diagnosticLogInterval;(!$n||!($n>0))&&($n=1e4);var hi=!1;fr&&(hi=fr[m],fr[si]()),fr=Pl(yo,$n),fr.unref(),fr[m]=hi}))),fr[m]=!0)}return fr}St[g]=function(){Zn=!0,fr&&fr[si](),yo()},_g(St,function(){return it},["addTelemetryInitializer"]),St[R]=function($t,Gr,ci){var $n;$t===void 0&&($t=!0),O||ii(N_),bt&&ii(L_);var hi=($n={reason:50},$n[pt]=$t,$n.flushComplete=!1,$n),Lo;$t&&!Gr&&(Lo=Dd(function(Cu){Gr=Cu}));var ns=Fm(ei(),St);ns[E](function(){Rr.run(St[ao]),ES([We,ie,q],$t,function(){Ot(),Gr&&Gr(hi)})},St);function Cc(Cu){hi.flushComplete=Cu,bt=!0,br.run(ns,hi),St[g](),ns[ys](hi)}return yo(),kp($t,Cc,6,ci),Lo},St[na]=Lr,St.addPlugin=function($t,Gr,ci,$n){if(!$t){$n&&$n(!1),Fh(bD);return}var hi=Lr($t[ba]);if(hi&&!Gr){$n&&$n(!1),Fh("Plugin ["+$t[ba]+"] is already loaded!");return}var Lo={reason:16};function ns(Yg){Ve[Nn]($t),Lo.added=[$t],xr(Lo),$n&&$n(!0)}if(hi){var Cc=[hi.plugin],Cu={reason:2,isAsync:!!ci};$o(Cc,Cu,function(Yg){Yg?(Lo.removed=Cc,Lo.reason|=32,ns()):$n&&$n(!1)})}else ns()},St.updateCfg=function($t,Gr){Gr===void 0&&(Gr=!0);var ci;if(St[ua]()){ci={reason:1,cfg:_.cfg,oldCfg:Eu({},_.cfg),newConfig:Eu({},$t),merge:Gr},$t=ci.newConfig;var $n=_.cfg;$t[vh]=$n[vh],$t[vu]=$n[vu]}_._block(function(hi){var Lo=hi.cfg;ub(hi,Lo,$t,Gr),Gr||Vr(Lo,function(ns){kn($t,ns)||hi.set(Lo,ns,Rs)}),hi[Va](Lo,F_)},!0),_[El](),ci&&xf(ci)},St.evtNamespace=function(){return Gt},St.flush=kp,St.getTraceCtx=function($t){return Mn||(Mn=Lm()),Mn},St.setTraceCtx=function($t){Mn=$t||null},St.addUnloadHook=V_,al(St,"addUnloadCb",function(){return br},"add"),St.onCfgChange=function($t){var Gr;return O?Gr=Rm(_.cfg,$t,St[ao]):Gr=eo(Eo,$t),{rm:function(){Gr.rm()}}},St.getWParam=function(){return Ua()||_.cfg.enableWParam?0:-1};function Dt(){var $t={};At=[];var Gr=function(ci){ci&&Jn(ci,function($n){if($n[ba]&&$n[N]&&!$t[$n.identifier]){var hi=$n[ba]+"="+$n[N];At[Nn](hi),$t[$n.identifier]=$n}})};Gr(ot),wt&&Jn(wt,function(ci){Gr(ci)}),Gr(Ve)}function Ot(){O=!1,_=Qa({},F_,St[ao]),_.cfg[J]=1,rt(St,"config",{g:function(){return _.cfg},s:function(Gr){St.updateCfg(Gr,!1)}}),rt(St,"pluginVersionStringArr",{g:function(){return At||Dt(),At}}),rt(St,"pluginVersionString",{g:function(){return er||(At||Dt(),er=At.join(";")),er||di}}),rt(St,"logger",{g:function(){return q||(q=new km(_.cfg),_[ao]=q),q},s:function(Gr){_[ao]=Gr,q!==Gr&&(xm(q,!1),q=Gr)}}),St[ao]=new km(_.cfg),Ge=[];var $t=St.config[vh]||[];$t.splice(0,$t[Hn]),wl($t,Ge),it=new AS,V=[],xm(ie,!1),ie=null,ge=null,Ie=null,xm(We,!1),We=null,et=null,Ve=[],wt=null,ot=null,bt=!1,Zt=null,Gt=Al("AIBaseCore",!0),br=Fu(),Mn=null,Ii=null,Rr=dl(),Eo=[],er=null,At=null,Zn=!1}function gr(){var $t=Su(ei(),_.cfg,St);return $t[E](nt),$t}function xr($t){var Gr=cb(St[ao],vD,Ve);et=null,er=null,At=null,ot=(wt||[])[0]||[],ot=Es(wl(ot,Gr[vu]));var ci=wl(Es(Gr[es]),ot);Ge=Jt(ci);var $n=St.config[vh]||[];$n.splice(0,$n[Hn]),wl($n,Ge);var hi=gr();ot&&ot[Hn]>0&&_s(hi[Z](ot),ci),_s(hi,ci),$t&&xf($t)}function Lr($t){var Gr=null,ci=null,$n=[];return Jn(Ge,function(hi){if(hi[ba]===$t&&hi!==it)return ci=hi,-1;hi.getChannel&&$n[Nn](hi)}),!ci&&$n[Hn]>0&&Jn($n,function(hi){if(ci=hi.getChannel($t),!ci)return-1}),ci&&(Gr={plugin:ci,setEnabled:function(hi){bs(ci)[dm]=!hi},isEnabled:function(){var hi=bs(ci);return!hi[he]&&!hi[dm]},remove:function(hi,Lo){var ns;hi===void 0&&(hi=!0);var Cc=[ci],Cu=(ns={reason:1},ns[pt]=hi,ns);$o(Cc,Cu,function(Yg){Yg&&xr({reason:32,removed:Cc}),Lo&&Lo(Yg)})}}),Gr}function ei(){if(!et){var $t=(Ge||[]).slice();js($t,it)===-1&&$t[Nn](it),et=qg(Es($t),_.cfg,St)}return et}function $o($t,Gr,ci){if($t&&$t[Hn]>0){var $n=qg($t,_.cfg,St),hi=Fm($n,St);hi[E](function(){var Lo=!1,ns=[];Jn(Ve,function(Cu,Yg){Pf(Cu,$t)?Lo=!0:ns[Nn](Cu)}),Ve=ns,er=null,At=null;var Cc=[];wt&&(Jn(wt,function(Cu,Yg){var ey=[];Jn(Cu,function(A0){Pf(A0,$t)?Lo=!0:ey[Nn](A0)}),Cc[Nn](ey)}),wt=Cc),ci&&ci(Lo),nt()}),hi[ys](Gr)}else ci(!1)}function yo(){if(q&&q.queue){var $t=q.queue.slice(0);q.queue[Hn]=0,Jn($t,function(Gr){var ci,$n=(ci={},ci[Ga]=Zt||"InternalMessageId: "+Gr[ke],ci.iKey=Ii,ci[bd]=pf(new Date),ci.baseType=Tp.dataType,ci.baseData={message:Gr[Qe]},ci);St.track($n)})}}function kp($t,Gr,ci,$n){var hi=1,Lo=!1,ns=null;$n=$n||5e3;function Cc(){hi--,Lo&&hi===0&&(ns&&ns[si](),ns=null,Gr&&Gr(Lo),Gr=null)}if(ot&&ot[Hn]>0){var Cu=gr()[Z](ot);Cu.iterate(function(Yg){if(Yg.flush){hi++;var ey=!1;Yg.flush($t,function(){ey=!0,Cc()},ci)||ey||($t&&ns==null?ns=Hs(function(){ns=null,Cc()},$n):Cc())}})}return Lo=!0,Cc(),!0}function qd(){!ie&&St[ol](),V_(_[ra](function($t){var Gr=$t.cfg.disableDbgExt;Gr===!0&&Or&&(ie[_d](Or),Or=null),ie&&!Or&&Gr!==!0&&(Or=Uv($t.cfg),ie[kl](Or))}))}function gb(){V_(_[ra](function($t){var Gr=$t.cfg.enablePerfMgr;!Gr&&Ie&&(Ie=null),Gr&&Ed($t.cfg,Pd,MS)}))}function xf($t){var Gr=xp(ei(),St);Gr[E](nt),(!St._updateHook||St._updateHook(Gr,$t)!==!0)&&Gr[ys]($t)}function Fh($t){var Gr=St[ao];Gr?(Fd(Gr,2,73,$t),nt()):ii($t)}function ED($t){var Gr=St[ol]();Gr&&Gr[pm]([$t],2)}function V_($t){Rr.add($t)}})}return h.__ieDyn=1,h}(),Jv="on",I0="attachEvent",Rf="addEventListener",Bl="detachEvent",NS="removeEventListener",Ep="events",Ug="visibilitychange",Ih="pagehide",fl="pageshow",Op="unload",kh="beforeunload",Hg=Al("aiEvtPageHide"),Ah=Al("aiEvtPageShow"),j_=/\.[\.]+/g,FS=/[\.]+$/,_D=1,lb=_p("events"),Xv=/^([^.]*)(?:\.(.+)|)/;function Wg(h){return h&&h[uh]?h[uh](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,di):h}function Qv(h,_){var O;if(_){var q=di;Lt(_)?(q=di,Jn(_,function(ie){ie=Wg(ie),ie&&(ie[0]!=="."&&(ie="."+ie),q+=ie)})):q=Wg(_),q&&(q[0]!=="."&&(q="."+q),h=(h||di)+q)}var V=Xv.exec(h||di)||[];return O={},O[_a]=V[1],O.ns=(V[2]||di).replace(j_,".").replace(FS,di)[Ka](".").sort().join("."),O}function z_(h,_,O){var q=[],V=lb.get(h,Ep,{},!1),ie=Qv(_,O);return Vr(V,function(ge,Ie){Jn(Ie,function(We){var et;(!ie[_a]||ie[_a]===We.evtName[_a])&&(!ie.ns||ie.ns===ie.ns)&&q[Nn]((et={},et[Ga]=We.evtName[_a]+(We.evtName.ns?"."+We.evtName.ns:di),et.handler=We[lh],et))})}),q}function Bg(h,_,O){O===void 0&&(O=!0);var q=lb.get(h,Ep,{},O),V=q[_];return V||(V=q[_]=[]),V}function db(h,_,O,q){h&&_&&_[_a]&&(h[NS]?h[NS](_[_a],O,q):h[Bl]&&h[Bl](Jv+_[_a],O))}function U_(h,_,O,q){var V=!1;return h&&_&&_[_a]&&O&&(h[Rf]?(h[Rf](_[_a],O,q),V=!0):h[I0]&&(h[I0](Jv+_[_a],O),V=!0)),V}function fb(h,_,O,q){for(var V=_[Hn];V--;){var ie=_[V];ie&&(!O.ns||O.ns===ie.evtName.ns)&&(!q||q(ie))&&(db(h,ie.evtName,ie[lh],ie.capture),_[$c](V,1))}}function k0(h,_,O){if(_[_a])fb(h,Bg(h,_[_a]),_,O);else{var q=lb.get(h,Ep,{});Vr(q,function(V,ie){fb(h,ie,_,O)}),Ke(q)[Hn]===0&&lb.kill(h,Ep)}}function H_(h,_){var O;return _?(Lt(_)?O=[h].concat(_):O=[h,_],O=Qv("xx",O).ns[Ka](".")):O=h,O}function Ta(h,_,O,q,V){var ie;V===void 0&&(V=!1);var ge=!1;if(h)try{var Ie=Qv(_,q);if(ge=U_(h,Ie,O,V),ge&&lb.accept(h)){var We=(ie={guid:_D++,evtName:Ie},ie[lh]=O,ie.capture=V,ie);Bg(h,Ie.type)[Nn](We)}}catch{}return ge}function Mh(h,_,O,q,V){if(V===void 0&&(V=!1),h)try{var ie=Qv(_,q),ge=!1;k0(h,ie,function(Ie){return ie.ns&&!O||Ie[lh]===O?(ge=!0,!0):!1}),ge||db(h,ie,O,V)}catch{}}function $g(h,_,O,q){return q===void 0&&(q=!1),Ta(h,_,O,null,q)}function wD(h,_,O,q){q===void 0&&(q=!1),Mh(h,_,O,null,q)}function qm(h,_,O){var q=!1,V=Zu();V&&(q=Ta(V,h,_,O),q=Ta(V.body,h,_,O)||q);var ie=Ha();return ie&&(q=Ta(ie,h,_,O)||q),q}function Vg(h,_,O){var q=Zu();q&&(Mh(q,h,_,O),Mh(q.body,h,_,O));var V=Ha();V&&Mh(V,h,_,O)}function pb(h,_,O,q){var V=!1;return _&&h&&h[Hn]>0&&Jn(h,function(ie){ie&&(!O||js(O,ie)===-1)&&(V=qm(ie,_,q)||V)}),V}function W_(h,_,O,q){var V=!1;return _&&h&&Lt(h)&&(V=pb(h,_,O,q),!V&&O&&O[Hn]>0&&(V=pb(h,_,null,q))),V}function Gg(h,_,O){h&&Lt(h)&&Jn(h,function(q){q&&Vg(q,_,O)})}function Kg(h,_,O){return W_([kh,Op,Ih],h,_,O)}function SD(h,_){Gg([kh,Op,Ih],h,_)}function CD(h,_,O){function q(ge){var Ie=Ha();h&&Ie&&Ie.visibilityState==="hidden"&&h(ge)}var V=H_(Hg,O),ie=pb([Ih],h,_,V);return(!_||js(_,Ug)===-1)&&(ie=pb([Ug],q,_,V)||ie),!ie&&_&&(ie=CD(h,null,O)),ie}function hb(h,_){var O=H_(Hg,_);Gg([Ih],h,O),Gg([Ug],null,O)}function DD(h,_,O){function q(ge){var Ie=Ha();h&&Ie&&Ie.visibilityState==="visible"&&h(ge)}var V=H_(Ah,O),ie=pb([fl],h,_,V);return ie=pb([Ug],q,_,V)||ie,!ie&&_&&(ie=DD(h,null,O)),ie}function OO(h,_){var O=H_(Ah,_);Gg([fl],h,O),Gg([Ug],null,O)}var IO=Vi({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),jm="",kO="https://browser.events.data.microsoft.com/OneCollector/1.0/",B_="version",Zv="properties",qS="initialize",jS="logger",$_="indexOf",zm="timings",TD="pollInternalLogs",Bs="value",Ip="kind",$s="length",PD="processTelemetryStart",RD="handleField",xD="rmSanitizer",C="rmFieldSanitizer",M="canHandle",B,X="4.0.4",ae="1DS-Web-JS-"+X,Se=s.hasOwnProperty,De="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Xe="withCredentials",lt="timeout",gt=(B={},B[0]=0,B[2]=6,B[1]=1,B[3]=7,B[4098]=6,B[4097]=1,B[4099]=7,B),zt=null,Pr=Ua(),wr=aa();function Mt(h){return!(h===jm||tt(h))}function Rt(h){if(h){var _=Us(h,"-");if(_>-1)return _n(h,_)}return jm}function jt(){return zt===null&&(zt=!at(Uint8Array)&&!xo()&&!yp()),zt}function Pt(h){return!!(h&&un(h)&&h>=1&&h<=4)}function dr(h,_,O){if(!_&&!Mt(_)||typeof h!="string")return null;var q=typeof _;if(q==="string"||q==="number"||q==="boolean"||Lt(_))_={value:_};else if(q==="object"&&!Se.call(_,"value"))_={value:O?JSON.stringify(_):_};else if(tt(_[Bs])||_[Bs]===jm||!lr(_[Bs])&&!un(_[Bs])&&!En(_[Bs])&&!Lt(_[Bs]))return null;if(Lt(_[Bs])&&!Os(_[Bs]))return null;if(!tt(_[Ip])){if(Lt(_[Bs])||!uo(_[Ip]))return null;_[Bs]=_[Bs].toString()}return _}function ir(h,_,O){var q=-1;if(!at(h))if(_>0&&(_===32?q=8192:_<=13&&(q=_<<5)),Bo(O))q===-1&&(q=0),q|=O;else{var V=gt[Xi(h)]||-1;q!==-1&&V!==-1?q|=V:V===6&&(q=V)}return q}function yr(h,_,O){O===void 0&&(O=!0);var q;return h&&(q=h.get(_),O&&q&&decodeURIComponent&&(q=decodeURIComponent(q))),q||jm}function fn(h){h===void 0&&(h="D");var _=Qr();return h==="B"?_="{"+_+"}":h==="P"?_="("+_+")":h==="N"&&(_=_.replace(/-/g,jm)),_}function pi(h,_,O,q,V){var ie={},ge=!1,Ie=0,We=arguments[$s],et=arguments;for(En(et[0])&&(ge=et[0],Ie++);Ie<We;Ie++){var h=et[Ie];Vr(h,function(wt,ot){ge&&ot&&hr(ot)?Lt(ot)?(ie[wt]=ie[wt]||[],Jn(ot,function(bt,it){bt&&hr(bt)?ie[wt][it]=pi(!0,ie[wt][it],bt):ie[wt][it]=bt})):ie[wt]=pi(!0,ie[wt],ot):ie[wt]=ot})}return ie}var ai=md;function uo(h){return h===0||h>0&&h<=13||h===32}function Bo(h){return h>=0&&h<=9}function xo(){var h=pc();if(!at(h)&&h.userAgent){var _=h.userAgent.toLowerCase();if((_[$_]("safari")>=0||_[$_]("firefox")>=0)&&_[$_]("chrome")<0)return!0}return!1}function Os(h){return h[$s]>0}function rc(h,_){var O=h;O[zm]=O[zm]||{},O[zm][PD]=O[zm][PD]||{},O[zm][PD][_]=ai()}function Xi(h){var _=0;if(h!=null){var O=typeof h;O==="string"?_=1:O==="number"?_=2:O==="boolean"?_=3:O===t&&(_=4,Lt(h)?(_=4096,h[$s]>0&&(_|=Xi(h[0]))):Se.call(h,"value")&&(_=8192|Xi(h[Bs])))}return _}function wc(){return!!Mi("chrome")}function Sc(h,_,O,q,V,ie){q===void 0&&(q=!1),V===void 0&&(V=!1);function ge(We,et,Ve){try{We[et]=Ve}catch{}}var Ie=new XMLHttpRequest;return q&&ge(Ie,De,q),O&&ge(Ie,Xe,O),Ie.open(h,_,!V),O&&ge(Ie,Xe,O),!V&&ie&&ge(Ie,lt,ie),Ie}function ia(h){return h>0}var pl=ft({endpointUrl:kO,propertyStorageOverride:{isVal:la}});function la(h){return h&&(!h.getProperty||!h.setProperty)&&ii("Invalid property storage override passed."),!0}var da=function(h){tl(_,h);function _(){var O=h.call(this)||this;return ta(_,O,function(q,V){q[qS]=function(ie,ge,Ie,We){On(q,function(){return"AppInsightsCore.initialize"},function(){try{V[qS](Qa(ie,pl,Ie||q[jS],!1).cfg,ge,Ie,We)}catch(wt){var et=q[jS],Ve=xe(wt);Ve[$_]("channels")!==-1&&(Ve+=`
 - Channels must be provided through config.channels only!`),Fd(et,1,514,"SDK Initialization Failed - no telemetry will be sent: "+Ve)}},function(){return{config:ie,extensions:ge,logger:Ie,notificationManager:We}})},q.track=function(ie){On(q,function(){return"AppInsightsCore.track"},function(){var ge=ie;if(ge){ge[zm]=ge[zm]||{},ge[zm].trackStart=ai(),Pt(ge.latency)||(ge.latency=1);var Ie=ge.ext=ge.ext||{};Ie.sdk=Ie.sdk||{},Ie.sdk.ver=ae;var We=ge.baseData=ge.baseData||{};We[Zv]=We[Zv]||{};var et=We[Zv];et[B_]=et[B_]||q.pluginVersionString||jm}V.track(ge)},function(){return{item:ie}},!ie.sync)},q[TD]=function(ie){return V[TD](ie||"InternalLog")}}),O}return _.__ieDyn=1,_}(zg),Di=Vi({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),to=Vi({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),$l=Vi({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),mb=Vi({Normal:1,Critical:2}),Lh=Vi({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),Nh=function(){function h(_){var O=this,q={},V=[],ie=[];_&&ie.push(_);function ge(Ve,wt){var ot,bt=q[Ve];if(bt&&(ot=bt[wt]),!ot&&ot!==null){if(lr(Ve)&&lr(wt))if(ie[$s]>0){for(var it=0;it<ie[$s];it++)if(ie[it][RD](Ve,wt)){ot={canHandle:!0,fieldHandler:ie[it]};break}}else V[$s]===0&&(ot={canHandle:!0});if(!ot&&ot!==null){ot=null;for(var it=0;it<V[$s];it++)if(V[it][RD](Ve,wt)){ot={canHandle:!0,handler:V[it],fieldHandler:null};break}}bt||(bt=q[Ve]={}),bt[wt]=ot}return ot}O.clearCache=function(){q={}},O.addSanitizer=function(Ve){Ve&&(zs(V,Ve)||V.push(Ve),q={})},O.addFieldSanitizer=function(Ve){Ve&&(zs(ie,Ve)||ie.push(Ve),q={})},O[xD]=function(Ve){if(Ve){var wt=js(V,Ve);wt!==-1&&(V.splice(wt,1),q={}),Jn(V,function(ot){ot&&ot[xD]&&ot[xD](Ve)})}},O[C]=function(Ve){if(Ve){var wt=js(ie,Ve);wt!==-1&&(ie.splice(wt,1),q={}),Jn(V,function(ot){ot&&ot[C]&&ot[C](Ve)})}},O.isEmpty=function(){return fp(V)+fp(ie)===0},O[RD]=function(Ve,wt){var ot=ge(Ve,wt);return ot?ot[M]:!1},O[Bs]=function(Ve,wt,ot,bt){var it=ge(Ve,wt);if(it&&it[M]){if(!it||!it[M])return null;if(it.handler)return it.handler[Bs](Ve,wt,ot,bt);if(!lr(wt)||tt(ot)||ot===jm)return null;var Zt=null,Gt=Xi(ot);if((Gt&8192)===8192){var br=Gt&-8193;if(Zt=ot,!Mt(Zt[Bs])||br!==1&&br!==2&&br!==3&&(br&4096)!==4096)return null}else Gt===1||Gt===2||Gt===3||(Gt&4096)===4096?Zt=We(Ve,wt,ot):Gt===4&&(Zt=We(Ve,wt,bt?JSON.stringify(ot):ot));if(Zt)return Ie(it,Ve,wt,Gt,Zt,bt)}return null},O.property=function(Ve,wt,ot,bt){var it=ge(Ve,wt);if(!it||!it[M]||!lr(wt)||tt(ot)||!Mt(ot[Bs]))return null;var Zt=Xi(ot[Bs]);return Zt===0?null:Ie(it,Ve,wt,Zt,ot,bt)};function Ie(Ve,wt,ot,bt,it,Zt){if(Ve.handler)return Ve.handler.property(wt,ot,it,Zt);if(!tt(it[Ip])){if((bt&4096)===4096||!uo(it[Ip]))return null;it[Bs]=it[Bs].toString()}return et(Ve.fieldHandler,wt,ot,bt,it)}function We(Ve,wt,ot){return Mt(ot)?{value:ot}:null}function et(Ve,wt,ot,bt,it){if(it&&Ve){var Zt=Ve.getSanitizer(wt,ot,bt,it[Ip],it.propertyType);if(Zt)if(bt===4){var Gt={},br=it[Bs];Vr(br,function(Or,Mn){var Ii=wt+"."+ot;if(Mt(Mn)){var Eo=We(Ii,Or,Mn);Eo=et(Ve,Ii,Or,Xi(Mn),Eo),Eo&&(Gt[Or]=Eo[Bs])}}),it[Bs]=Gt}else{var Rr={path:wt,name:ot,type:bt,prop:it,sanitizer:O};it=Zt.call(O,Rr)}}return it}}return h.getFieldType=Xi,h}();r.AppInsightsCore=da,r.BaseTelemetryPlugin=kS,r.DiagnosticLogger=km,r.EventLatency=to,r.EventPersistence=mb,r.EventPropertyType=$l,r.EventsDiscardedReason=df,r.FullVersionString=ae,r.InternalAppInsightsCore=zg,r.LoggingSeverity=IO,r.MinChannelPriorty=il,r.NotificationManager=ye,r.PerfEvent=Yt,r.PerfManager=kr,r.ProcessTelemetryContext=jg,r.TraceLevel=Lh,r.Undefined=n,r.ValueKind=Di,r.ValueSanitizer=Nh,r.Version=X,r._InternalLogMessage=Tp,r.__getRegisteredEvents=z_,r._logInternalMessage=jl,r._throwInternal=Fd,r._warnToConsole=P_,r.addEventHandler=qm,r.addEventListeners=W_,r.addPageHideEventListener=CD,r.addPageShowEventListener=DD,r.addPageUnloadEventListener=Kg,r.areCookiesSupported=Ng,r.arrForEach=Jn,r.arrIndexOf=js,r.arrMap=Sl,r.arrReduce=uu,r.attachEvent=$g,r.blockDynamicConversion=Sa,r.cookieAvailable=Ng,r.createCookieMgr=xh,r.createDynamicConfig=Qa,r.createEnumStyle=Vi,r.createGuid=fn,r.createProcessTelemetryContext=Su,r.createTraceParent=$v,r.createUniqueNamespace=Al,r.createUnloadHandlerContainer=Fu,r.dateNow=hc,r.detachEvent=wD,r.disallowsSameSiteNone=I,r.doPerf=On,r.dumpObj=xe,r.eventOff=Mh,r.eventOn=Ta,r.extend=pi,r.findW3cTraceParent=fi,r.forceDynamicConversion=wp,r.formatTraceParent=cn,r.generateW3CId=Qn,r.getCommonSchemaMetaData=ir,r.getConsole=kd,r.getCookieValue=yr,r.getCrypto=bm,r.getDocument=Ha,r.getDynamicConfigHandler=Th,r.getExceptionName=kv,r.getFieldValueType=Xi,r.getGlobal=Qu,r.getGlobalInst=Mi,r.getHistory=au,r.getIEVersion=C_,r.getISOString=pf,r.getJSON=Ch,r.getLocation=vp,r.getMsCrypto=gf,r.getNavigator=pc,r.getPerformance=sf,r.getSetValue=Ed,r.getTenantId=Rt,r.getTime=ai,r.getWindow=Zu,r.hasDocument=Ua,r.hasHistory=Js,r.hasJSON=ym,r.hasNavigator=ip,r.hasOwnProperty=$r,r.hasWindow=aa,r.isArray=Lt,r.isArrayValid=Os,r.isBeaconsSupported=Xa,r.isBoolean=En,r.isChromium=wc,r.isDate=on,r.isDocumentObjectAvailable=Pr,r.isError=Er,r.isFetchSupported=Lv,r.isFunction=Et,r.isGreaterThanZero=ia,r.isIE=_m,r.isLatency=Pt,r.isNotTruthy=Br,r.isNullOrUndefined=tt,r.isNumber=un,r.isObject=hr,r.isReactNative=yp,r.isSampledFlag=sr,r.isString=lr,r.isTruthy=ln,r.isTypeof=st,r.isUint8ArrayAvailable=jt,r.isUndefined=at,r.isValidSpanId=Vv,r.isValidTraceId=Pp,r.isValidTraceParent=Gv,r.isValueAssigned=Mt,r.isValueKind=uo,r.isWindowObjectAvailable=wr,r.isXhrSupported=Dg,r.mergeEvtNamespace=H_,r.newGuid=Qr,r.newId=qv,r.normalizeJsName=xd,r.objDefineAccessors=Me,r.objForEachKey=Vr,r.objFreeze=Jt,r.objKeys=Ke,r.objSeal=nr,r.onConfigChange=Rm,r.openXhr=Sc,r.optimizeObject=gm,r.parseTraceParent=Wl,r.perfNow=md,r.proxyAssign=Av,r.proxyFunctionAs=al,r.proxyFunctions=_g,r.random32=Nd,r.randomValue=TS,r.removeEventHandler=Vg,r.removeEventListeners=Gg,r.removePageHideEventListener=hb,r.removePageShowEventListener=OO,r.removePageUnloadEventListener=SD,r.safeGetCookieMgr=sb,r.safeGetLogger=Ag,r.sanitizeProperty=dr,r.setEnableEnvMocks=Sh,r.setProcessTelemetryTimings=rc,r.setValue=Ya,r.strContains=xs,r.strEndsWith=af,r.strFunction=e,r.strObject=t,r.strPrototype=i,r.strStartsWith=Xo,r.strTrim=Xs,r.strUndefined=n,r.throwError=ii,r.toISOString=pf,r.useXDomainRequest=Ad})});var eme=P((NF,Zhe)=>{(function(r,e){typeof NF=="object"&&typeof Zhe<"u"?e(NF):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.oneDS=r.oneDS||{}))})(NF,function(r){"use strict";var e="REAL_TIME",t="NEAR_REAL_TIME",n="BEST_EFFORT",i="function",o="object",s="undefined",a="prototype",c=Object,u=c[a],l=void 0,d=null,f="",y="boolean",b="function",T="number",k="object",z="prototype",A="__proto__",U="string",ne="undefined",de="constructor",ve="Symbol",$="_polyfill",W="indexOf",ee="length",Pe="done",se="value",ue="name",Fe="slice",Le=Object,ce=Le[z],Ce=String,we=Ce[z],Ee=Math,Ne=Array,$e=Ne[z];function Ct(C,M){var B=M;try{B=C()}catch{}return B}function ze(C){return function(M){return typeof M===C}}function st(C){var M="[object "+C+"]";return function(B){return!!(B&&at(B)===M)}}function at(C){return ce.toString.call(C)}function tt(C){return typeof C===ne||C===ne}function pr(C){return C===d||tt(C)}function Ar(C){return C===d||!jr(C)}function jr(C){return!!C||C!==l}var lr=ze(U),Et=ze(b);function hr(C){return!C&&pr(C)?!1:!!C&&typeof C===k}var Lt=Ne.isArray,on=ze(T),un=ze(y),En=st("Error");function Er(C){return!!C&&Et(C.then)}var Un=Le.getOwnPropertyDescriptor;function Br(C,M){return C&&ce.hasOwnProperty.call(C,M)}var ln=Le.hasOwn||ni;function ni(C,M){return Br(C,M)||!!Un(C,M)}function $r(C,M,B){if(C&&hr(C)){for(var X in C)if(ln(C,X)&&M.call(B||C,X,C[X])===-1)break}}function kn(C,M,B,X){var ae={};return $r(C,function(Se,De){ae[Se]=M?De:Se,ae[De]=B?De:Se}),X(ae)}function Ei(C){throw new TypeError(C)}var Vr=Le.freeze,Yi=function(C){return C},ii=function(C){return C[A]||d},dn=Le.assign;function Oe(C){return(!hr(C)||C===d)&&Ei("objKeys called on non-object"),Le.keys(C)}function oe(C){return Vr&&$r(C,function(M,B){(Lt(B)||hr(B))&&Vr(B)}),Q(C)}var Q=Vr||Yi,_e=Le.getPrototypeOf||ii;function Ke(C){return kn(C,1,0,oe)}function ft(C){return kn(C,0,0,oe)}var Jt=ft({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),nr=Ce,Xt="__tsUtils$gblCfg",Vt;function kt(){var C;return typeof globalThis!==ne&&(C=globalThis),!C&&typeof self!==ne&&(C=self),!C&&typeof window!==ne&&(C=window),!C&&typeof global!==ne&&(C=global),C}function K(){if(!Vt){var C=kt()||{};Vt=C[Xt]=C[Xt]||{}}return Vt}function qe(C,M){var B=f;if(En(C))B="{ stack: '"+C.stack+"', message: '"+C.message+"', name: '"+C.name+"'";else try{B=JSON.stringify(C,d,M?on(M)?M:4:l)}catch(X){B=" - "+qe(X,M)}return at(C)+": "+B}var Wt=$e[Fe],Dr=function(C,M){Ei("'"+nr(C)+"' not defined for "+qe(M))},He=function(C){return function(M){return M[C].apply(M,Wt.call(arguments,1))}},re=function(C,M){var B=M&&M[C];return function(X){var ae=X&&X[C]||B;if(ae)return ae.apply(X,Wt.call(arguments,1));Dr(C,X)}},xe=function(C,M,B){var X=M&&M[C];return function(ae){var Se=ae&&ae[C]||X;if(Se||B){var De=arguments;return(Se||B).apply(ae,Se?Wt.call(De,1):De)}Dr(C,ae)}},je=Ee.max,pe=re(Fe,we),S=re("substring",we),fe=xe("substr",we,Je);function Je(C,M,B){return pr(C)&&Ei("'polyStrSubstr called with invalid "+qe(C)),B<0?f:(M=M||0,M<0&&(M=je(M+C[ee],0)),tt(B)?pe(C,M):pe(C,M,M+B))}function Cr(C,M){return S(C,0,M)}var Wr=xe("startsWith",we,Xr);function Xr(C,M,B){lr(C)||Ei("'"+qe(C)+"' is not a string");var X=lr(M)?M:nr(M),ae=X[ee],Se=B>0?B:0;return S(C,Se,Se+ae)===X}var Fn="_urid",Oi;function Ts(){if(!Oi){var C=K();Oi=C.gblSym=C.gblSym||{k:{},s:{}}}return Oi}var _n={};function Xo(C){var M={description:nr(C),toString:function(){return ve+"("+C+")"}};return M[$]=!0,M}function Ns(C){var M=Ts();if(!ln(M.k,C)){var B=Xo(C),X=Oe(M.s).length;B[Fn]=function(){return X+"_"+B.toString()},M.k[C]=B,M.s[B[Fn]()]=nr(C)}return M.k[C]}function Ys(C){var M,B=Jt[C];return B&&(M=_n[B]=_n[B]||Xo(ve+"."+B)),M}var Ao={e:"enumerable",c:"configurable",v:se,w:"writable",g:"get",s:"set"};function Do(C){var M={};if(M[Ao.c]=!0,M[Ao.e]=!0,C.l){M.get=function(){return C.l.v};var B=Un(C.l,"v");B&&B.set&&(M.set=function(X){C.l.v=X})}return $r(C,function(X,ae){M[Ao[X]]=tt(ae)?M[Ao[X]]:ae}),M}var H=Le.defineProperty;function Ue(C,M,B){return H(C,M,Do(B))}var vt,Fr=function(){vt=K(),Fr=d};function io(C){var M={};return Fr&&Fr(),M.b=vt.lzy,H(M,"v",{configurable:!0,get:function(){var B=C();return vt.lzy||(H(M,"v",{value:B}),M.b&&delete M.b),vt.lzy&&M.b!==vt.lzy&&(M.b=vt.lzy),B}}),M}function Hi(C,M){return io(function(){return Ct(C,M)})}var L="window",Me,rt,Ut,An,wn,Ln=function(C){return Hi(function(){return qi(C)||l},l)},oo=function(C){return(!Me||C===!1||vt&&vt.lzy&&!Me.b)&&(Me=Hi(kt,d)),Me.v},qi=function(C,M){var B=!Me||M===!1?oo(M):Me.v;return B&&B[C]?B[C]:C===L&&rt?rt.v:d},To=function(){return!!$i()},$i=function(){return(!Ut||vt&&vt.lzy&&!Ut.b)&&(Ut=Ln("document")),Ut.v},Yn=function(){return!!su()},su=function(){return(!rt||vt&&vt.lzy&&!rt.b)&&(rt=Ln(L)),rt.v},Qo=function(){return!!go()},go=function(){return(!An||vt&&vt.lzy&&!An.b)&&(An=Ln("navigator")),An.v},Qu=function(){return!wn&&(wn=Hi(function(){return!!(process&&(process.versions||{}).node)},!1)),wn.v},Mi,Ua,Ha;function aa(C){return Hi(function(){return Mi.v?Mi.v[C]:l},l)}function Zu(){return!!ip()}function ip(){var C=!Mi||vt&&vt.lzy&&!Mi.b;return C&&(Mi=Ln(ve)),(!Ua||C)&&(Ua=aa("for")),(!Ha||C)&&(Ha=aa("keyFor")),Mi.v}function pc(C,M){var B=Jt[C];return(!Mi||vt.lzy&&!Mi.b)&&ip(),Mi.v?Mi.v[B||C]:M?l:Ys(C)}function Js(C,M){return(!Mi||vt.lzy&&!Mi.b)&&ip(),Mi.v?Mi.v(C):M?d:Xo(C)}function au(C){return(!Ua||vt.lzy&&!Mi.b)&&ip(),(Ua.v||Ns)(C)}function op(C){return!!C&&Et(C.next)}function qo(C){return!Ar(C)&&Et(C[pc(3)])}var Fs;function Cn(C,M,B){if(C&&(op(C)||(!Fs&&(Fs=io(function(){return pc(3)})),C=C[Fs.v]?C[Fs.v]():null),op(C))){var X=void 0,ae=void 0;try{for(var Se=0;!(ae=C.next())[Pe]&&M.call(B||C,ae[se],Se,C)!==-1;)Se++}catch(De){X={e:De},C.throw&&(ae=null,C.throw(X))}finally{try{ae&&!ae[Pe]&&C.return&&C.return(ae)}finally{if(X)throw X.e}}}}var qs=He("apply");function cu(C,M){return!tt(M)&&C&&(Lt(M)?qs(C.push,C,M):op(M)||qo(M)?Cn(M,function(B){C.push(B)}):C.push(M)),C}function oi(C,M,B){if(C)for(var X=C[ee]>>>0,ae=0;ae<X&&!(ae in C&&M.call(B||C,C[ae],ae,C)===-1);ae++);}var ga=re(W,$e),zc=re(Fe,$e),sp=He("call"),Zd=Le.create,rh=Zd||ef;function ef(C){if(!C)return{};var M=typeof C;if(M!==k&&M!==b)throw new TypeError("Prototype must be an Object or function: "+qe(C));function B(){}return B[z]=C,new B}var nh;function tf(C,M){var B=Le.setPrototypeOf||function(X,ae){!nh&&(nh=io(function(){var Se;return Se={},Se[A]=[],Se instanceof Array})),nh.v?X[A]=ae:$r(ae,function(Se,De){return X[Se]=De})};return B(C,M)}var wl=function(C,M,B){js(M,C),M=tf(M,B);function X(){this.constructor=M,js(this,C)}return M[z]=B===d?rh(B):(X[z]=B[z],new X),M},Jn=function(C,M){try{M&&(C[ue]=M)}catch{}},js=function(C,M){try{Ue(C,ue,{v:M,c:!0,e:!1})}catch{}};function Sl(C,M,B){var X=B||Error,ae=X[z][ue],Se=Error.captureStackTrace;return wl(C,function(){var De=this;try{Jn(X,C);var Xe=qs(X,De,zc(arguments))||De;if(Xe!==De){var lt=_e(De);lt!==_e(Xe)&&tf(Xe,lt)}return Se&&Se(Xe,De[de]),M&&M(Xe,arguments),Xe}finally{Jn(X,ae)}},X)}function so(){return(Date.now||ap)()}function ap(){return new Date().getTime()}function cp(C){return function(B){return pr(B)&&Ei("strTrim called ["+qe(B)+"]"),B&&B.replace&&(B=B.replace(C,f)),B}}var zs=cp(/^\s+|(?=\s)\s+$/g),uu=xe("trim",we,zs),up,dd,gs;function Cl(C){if(!C||typeof C!==k)return!1;gs||(gs=Yn()?su():!0);var M=!1;if(C!==gs){dd||(up=Function[z].toString,dd=sp(up,Le));try{var B=_e(C);M=!B,M||(Br(B,de)&&(B=B[de]),M=B&&typeof B===b&&up.call(B)===dd)}catch{}}return M}var Uc;function om(){return(!Uc||!Uc.b&&vt&&vt.lzy)&&(Uc=Ln("performance")),Uc.v}function fd(){var C=om();return C&&C.now?C.now():so()}var rf=re(W,we),nf="ref",hc="un"+nf,vo="hasRef",ih="enabled";function of(C,M,B){var X,ae=!0,Se=C?M(d):d,De,Xe=function(){return ae=!1,Se&&Se[hc]&&Se[hc](),De},lt=function(){return ae=!0,Se&&Se[nf]&&Se[nf](),De},gt=function(){return Se&&Se[vo]?Se[vo]():ae},zt=function(){return Se=M(Se),ae||Xe(),De},Pr=function(){Se&&B(Se),Se=d},wr=function(Mt){!Mt&&Se&&Pr(),Mt&&!Se&&zt()};return De=(X={cancel:Pr,refresh:zt},X[vo]=gt,X[nf]=lt,X[hc]=Xe,X[ih]=!1,X),H(De,ih,{get:function(){return!!Se},set:wr}),{h:De,dn:function(){Se=d}}}function Xs(C,M,B,X){var ae=Lt(B),Se=ae?B.length:0,De=(Se>0?B[0]:ae?l:B)||setTimeout,Xe=(Se>1?B[1]:l)||clearTimeout,lt=X[0];X[0]=function(){gt.dn(),qs(lt,C,zc(arguments))};var gt=of(M,function(zt){if(zt){if(zt.refresh)return zt.refresh(),zt;qs(Xe,C,[zt])}return qs(De,C,X)},function(zt){qs(Xe,C,[zt])});return gt.h}function el(C,M){return Xs(this,!0,l,zc(arguments))}function lu(C,M,B){return Xs(this,!0,C,zc(arguments,1))}(oo()||{}).Symbol,(oo()||{}).Reflect;var Rv="hasOwnProperty",Qs=function(C,M){return Qs=c.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,X){B.__proto__=X}||function(B,X){for(var ae in X)X[Rv](ae)&&(B[ae]=X[ae])},Qs(C,M)};function By(C,M){typeof M!==i&&M!==null&&Ei("Class extends value "+String(M)+" is not a constructor or null"),Qs(C,M);function B(){this.constructor=C}C[a]=M===null?rh(M):(B[a]=M[a],new B)}var xu,pd="constructor",jo="prototype",Dl="function",lp="_dynInstFuncs",mg="_isDynProxy",hd="_dynClass",dp="_dynCls$",oh="_dynInstChk",Tl=oh,sh="_dfOpts",Eu="_unknown_",fp="__proto__",du="_dyn"+fp,sf="__dynProto$Gbl",md="_dynInstProto",af="useBaseInst",gd="setInstFuncs",Us=Object,va=Us.getPrototypeOf,Po=Us.getOwnPropertyNames,Hc=oo(),Wa=Hc[sf]||(Hc[sf]={o:(xu={},xu[gd]=!0,xu[af]=!0,xu),n:1e3});function gg(C){return C&&(C===Us[jo]||C===Array[jo])}function Ou(C){return gg(C)||C===Function[jo]}function Hs(C){var M;if(C){if(va)return va(C);var B=C[fp]||C[jo]||(C[pd]?C[pd][jo]:null);M=C[du]||B,Br(C,du)||(delete C[md],M=C[du]=C[md]||C[du],C[md]=B)}return M}function Pl(C,M){var B=[];if(Po)B=Po(C);else for(var X in C)typeof X=="string"&&Br(C,X)&&B.push(X);if(B&&B.length>0)for(var ae=0;ae<B.length;ae++)M(B[ae])}function ah(C,M,B){return M!==pd&&typeof C[M]===Dl&&(B||Br(C,M))}function fu(C){Ei("DynamicProto: "+C)}function tl(C){var M={};return Pl(C,function(B){!M[B]&&ah(C,B,!1)&&(M[B]=C[B])}),M}function pp(C,M){for(var B=C.length-1;B>=0;B--)if(C[B]===M)return!0;return!1}function mc(C,M,B,X){function ae(lt,gt,zt){var Pr=gt[zt];if(Pr[mg]&&X){var wr=lt[lp]||{};wr[Tl]!==!1&&(Pr=(wr[gt[hd]]||{})[zt]||Pr)}return function(){return Pr.apply(lt,arguments)}}var Se={};Pl(B,function(lt){Se[lt]=ae(M,B,lt)});for(var De=Hs(C),Xe=[];De&&!Ou(De)&&!pp(Xe,De);)Pl(De,function(lt){!Se[lt]&&ah(De,lt,!va)&&(Se[lt]=ae(M,De,lt))}),Xe.push(De),De=Hs(De);return Se}function Iu(C,M,B,X){var ae=null;if(C&&Br(B,hd)){var Se=C[lp]||{};if(ae=(Se[B[hd]]||{})[M],ae||fu("Missing ["+M+"] "+Dl),!ae[oh]&&Se[Tl]!==!1){for(var De=!Br(C,M),Xe=Hs(C),lt=[];De&&Xe&&!Ou(Xe)&&!pp(lt,Xe);){var gt=Xe[M];if(gt){De=gt===X;break}lt.push(Xe),Xe=Hs(Xe)}try{De&&(C[M]=ae),ae[oh]=1}catch{Se[Tl]=!1}}}return ae}function vs(C,M,B){var X=M[C];return X===B&&(X=Hs(M)[C]),typeof X!==Dl&&fu("["+C+"] is not a "+Dl),X}function Wc(C,M,B,X,ae){function Se(lt,gt){var zt=function(){var Pr=Iu(this,gt,lt,zt)||vs(gt,lt,zt);return Pr.apply(this,arguments)};return zt[mg]=1,zt}if(!gg(C)){var De=B[lp]=B[lp]||{},Xe=De[M]=De[M]||{};De[Tl]!==!1&&(De[Tl]=!!ae),Pl(B,function(lt){ah(B,lt,!1)&&B[lt]!==X[lt]&&(Xe[lt]=B[lt],delete B[lt],(!Br(C,lt)||C[lt]&&!C[lt][mg])&&(C[lt]=Se(C,lt)))})}}function ku(C,M){if(va){for(var B=[],X=Hs(M);X&&!Ou(X)&&!pp(B,X);){if(X===C)return!0;B.push(X),X=Hs(X)}return!1}return!0}function Au(C,M){return Br(C,jo)?C.name||M||Eu:((C||{})[pd]||{}).name||M||Eu}function Zs(C,M,B,X){Br(C,jo)||fu("theClass is an invalid class definition.");var ae=C[jo];ku(ae,M)||fu("["+Au(C)+"] not in hierarchy of ["+Au(M)+"]");var Se=null;Br(ae,hd)?Se=ae[hd]:(Se=dp+Au(C,"_")+"$"+Wa.n,Wa.n++,ae[hd]=Se);var De=Zs[sh],Xe=!!De[af];Xe&&X&&X[af]!==void 0&&(Xe=!!X[af]);var lt=tl(M),gt=mc(ae,M,lt,Xe);B(M,gt);var zt=!!va&&!!De[gd];zt&&X&&(zt=!!X[gd]),Wc(ae,Se,M,lt,zt!==!1)}Zs[sh]=Wa.o;var vg=Ke,Ba=vg({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),rl="toLowerCase",zo="blkVal",Uo="length",cf="rdOnly",Mu="notify",uf="warnToConsole",Mo="throwInternal",Rl="setDf",lf="watch",ca="logger",pu="apply",ea="push",Ps="splice",xl="hdlr",xv="cancel",us="initialize",Bc="identifier",nl="isInitialized",hp="getPlugin",vd="name",ch="time",$a="processNext",sm="getProcessTelContext",ji="unload",Zo="loggingLevelConsole",Lu="createNew",gc="teardown",vc="messageId",ta="message",il="isAsync",Vi="diagLog",df="_doTeardown",Si="update",ya="getNext",Hn="setNextPlugin",yd="userAgent",El="split",yc="nodeType",Ho="replace",Va="logInternalMessage",ra="type",ao="handler",hu="isChildEvt",Nn="getCtx",$c="setCtx",Ro="complete",si;function Ol(C,M){si||(si=Sl("AggregationError",function(X,ae){ae[Uo]>1&&(X.errors=ae[1])}));var B=C||"One or more errors occurred.";throw oi(M,function(X,ae){B+=`
`.concat(ae," > ").concat(qe(X))}),new si(B,M||[])}var ba=["pending","resolving","resolved","rejected"],ua="dispatchEvent",na;function Il(C,M,B,X){var ae=$i();!na&&(na=Hi(function(){var lt;return ae&&ae.createEvent&&(lt=ae.createEvent("Event")),!!lt&&lt.initEvent},null));var Se=na.v?ae.createEvent("Event"):X?new Event(M):{};if(B&&B(Se),na.v&&Se.initEvent(M,!1,!0),Se&&C[ua])C[ua](Se);else{var De=C["on"+M];if(De)De(Se);else{var Xe=qi("console");Xe&&(Xe.error||Xe.log)(M,qe(Se))}}}var Ga="Promise",bd="unhandledRejection",ys=bd.toLowerCase(),Vc=10,ol;function kl(C){return Et(C)?C.toString():qe(C)}function _d(C,M,B){var X=zc(arguments,3),ae=0,Se=!1,De,Xe=[],lt=!1,gt=null,zt;!ol&&(ol=Ln(Ga+"RejectionEvent"));var Pr=function(yr,fn){try{lt=!0,gt&&gt.cancel(),gt=null;var pi=C(function(ai,uo){Xe.push(function(){try{var Bo=ae===2?yr:fn,xo=tt(Bo)?De:Et(Bo)?Bo(De):Bo;Er(xo)?xo.then(ai,uo):Bo?ai(xo):ae===3?uo(xo):ai(xo)}catch(Os){uo(Os)}}),Se&&jt()},X);return pi}finally{}},wr=function(yr){return Pr(void 0,yr)},Mt=function(yr){var fn=yr,pi=yr;return Et(yr)&&(fn=function(ai){return yr&&yr(),ai},pi=function(ai){throw yr&&yr(),ai}),Pr(fn,pi)},Rt=function(){return ba[ae]},jt=function(){if(Xe.length>0){var yr=Xe.slice();Xe=[],lt=!0,M(yr),gt&&gt.cancel(),gt=null}},Pt=function(yr,fn){return function(pi){if(ae===fn){if(yr===2&&Er(pi)){ae=1,pi.then(Pt(2,1),Pt(3,1));return}ae=yr,Se=!0,De=pi,jt(),!lt&&yr===3&&!gt&&(gt=el(dr,Vc))}}},dr=function(){if(!lt)if(Qu())process.emit(bd,De,zt);else{var yr=su()||oo();Il(yr,ys,function(fn){return Ue(fn,"promise",{g:function(){return zt}}),fn.reason=De,fn},!!ol.v)}};zt={then:Pr,catch:wr,finally:Mt},H(zt,"state",{get:Rt}),Zu()&&(zt[pc(11)]="IPromise");var ir=function(){return"IPromise "+Rt()+(Se?" - "+kl(De):"")};return zt.toString=ir,function(){Et(B)||Ei(Ga+": executor is not a function - "+kl(B));var fn=Pt(3,0);try{B.call(zt,Pt(2,0),fn)}catch(pi){fn(pi)}}(),zt}var m=function(C){oi(C,function(M){try{M()}catch{}})};function g(C){var M=on(C)?C:0;return function(B){el(function(){m(B)},M)}}function R(C,M){return _d(R,g(M),C,M)}var E;function N(C,M){!E&&(E=Ln(Ga));var B=E.v;if(!B)return R(C);Et(C)||Ei(Ga+": executor is not a function - "+qe(C));var X=0;function ae(){return ba[X]}var Se=new B(function(De,Xe){function lt(zt){X=2,De(zt)}function gt(zt){X=3,Xe(zt)}C(lt,gt)});return H(Se,"state",{get:ae}),Se}var J;function Z(C,M){return!J&&(J=io(function(){return N})),J.v.call(this,C,M)}var he=void 0,ke="",Qe="core",pt="disabled",Ht="extensionConfig",Sr="processTelemetry",sn="priority",qr="getPerfMgr",Wn="Not dynamic - ",Ws=/-([a-z])/g,Ka=/([^\w\d_$])/g,mu=/^(\d+[\w\d_$])/;function uh(C){return!pr(C)}function am(C){var M=C;return M&&lr(M)&&(M=M[Ho](Ws,function(B,X){return X.toUpperCase()}),M=M[Ho](Ka,"_"),M=M[Ho](mu,function(B,X){return"_"+X})),M}function _a(C,M){return C&&M?rf(C,M)!==-1:!1}function lh(C,M){var B=null,X=null;return Et(C)?B=C:X=C,function(){var ae=arguments;if(B&&(X=B()),X)return X[M][pu](X,ae)}}function mp(C,M,B,X,ae){C&&M&&B&&(ae!==!1||tt(C[M]))&&(C[M]=lh(B,X))}function wd(C,M,B,X){return C&&M&&hr(C)&&Lt(B)&&oi(B,function(ae){lr(ae)&&mp(C,ae,M,ae,X)}),C}function gu(C){return C&&dn&&(C=c(dn({},C))),C}var yg="location",$y="console",dh="JSON",fh="crypto",Vy="msCrypto",Gy="ReactNative",Ky="msie",w_="trident/",cm="XMLHttpRequest",Ev=null,Yy=null,Jy=!1,um=null,ph=null;function S_(C,M){var B=!1;if(C){try{if(B=M in C,!B){var X=C[a];X&&(B=M in X)}}catch{}if(!B)try{var ae=new C;B=!tt(ae[M])}catch{}}return B}function Xy(C){if(C&&Jy){var M=qi("__mockLocation");if(M)return M}return typeof location===o&&location?location:qi(yg)}function hh(){return typeof console!==s?console:qi($y)}function Ov(){return!!(typeof JSON===o&&JSON||qi(dh)!==null)}function Sd(){return Ov()?JSON||qi(dh):null}function Ji(){return qi(fh)}function lm(){return qi(Vy)}function co(){var C=go();return C&&C.product?C.product===Gy:!1}function Qy(){var C=go();if(C&&(C[yd]!==Yy||Ev===null)){Yy=C[yd];var M=(Yy||ke)[rl]();Ev=_a(M,Ky)||_a(M,w_)}return Ev}function Iv(C){return(ph===null||C===!1)&&(ph=Qo()&&!!go().sendBeacon),ph}function Cd(C){var M=!1;try{M=!!qi("fetch");var B=qi("Request");M&&C&&B&&(M=S_(B,"keepalive"))}catch{}return M}function mh(){return um===null&&(um=typeof XDomainRequest!==s,um&&Gc()&&(um=um&&!S_(qi(cm),"withCredentials"))),um}function Gc(){var C=!1;try{var M=qi(cm);C=!!M}catch{}return C}var Dd=4294967296,Td=4294967295,Rs=123456789,di=987654321,vu=!1,es=Rs,Pd=di;function dm(C){C<0&&(C>>>=0),es=Rs+C&Td,Pd=di-C&Td,vu=!0}function gh(){try{var C=so()&2147483647;dm((Math.random()*Dd^C)+C)}catch{}}function vh(C){var M=0,B=Ji()||lm();return B&&B.getRandomValues&&(M=B.getRandomValues(new Uint32Array(1))[0]&Td),M===0&&Qy()&&(vu||gh(),M=ff()&Td),M===0&&(M=Math.floor(Dd*Math.random()|0)),C||(M>>>=0),M}function ff(C){Pd=36969*(Pd&65535)+(Pd>>16)&Td,es=18e3*(es&65535)+(es>>16)&Td;var M=(Pd<<16)+(es&65535)>>>0&Td|0;return C||(M>>>=0),M}function Zy(C){C===void 0&&(C=22);for(var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=vh()>>>0,X=0,ae=ke;ae[Uo]<C;)X++,ae+=M.charAt(B&63),B>>>=6,X===5&&(B=(vh()<<2&4294967295|B&3)>>>0,X=0);return ae}var fm="3.0.5",pm="."+Zy(6),wa=0;function Rd(C){return C[yc]===1||C[yc]===9||!+C[yc]}function bc(C,M){var B=M[C.id];if(!B){B={};try{Rd(M)&&Ue(M,C.id,{e:!1,v:B})}catch{}}return B}function yu(C,M){return M===void 0&&(M=!1),am(C+wa+++(M?"."+fm:ke)+pm)}function hm(C){var M={id:yu("_aiData-"+(C||ke)+"."+fm),accept:function(B){return Rd(B)},get:function(B,X,ae,Se){var De=B[M.id];return De?De[am(X)]:(Se&&(De=bc(M,B),De[am(X)]=ae),ae)},kill:function(B,X){if(B&&B[X])try{delete B[X]}catch{}}};return M}function sl(C){return C&&hr(C)&&(C.isVal||C.fb||ln(C,"v")||ln(C,"mrg")||ln(C,"ref")||C.set)}function mm(C,M,B){var X,ae=B.dfVal||jr;if(M&&B.fb){var Se=B.fb;Lt(Se)||(Se=[Se]);for(var De=0;De<Se[Uo];De++){var Xe=Se[De],lt=M[Xe];if(ae(lt)?X=lt:C&&(lt=C.cfg[Xe],ae(lt)&&(X=lt),C.set(C.cfg,nr(Xe),lt)),ae(X))break}}return!ae(X)&&ae(B.v)&&(X=B.v),X}function bg(C,M,B){var X=B;if(B&&sl(B)&&(X=mm(C,M,B)),X){sl(X)&&(X=bg(C,M,X));var ae;Lt(X)?(ae=[],ae[Uo]=X[Uo]):Cl(X)&&(ae={}),ae&&($r(X,function(Se,De){De&&sl(De)&&(De=bg(C,M,De)),ae[Se]=De}),X=ae)}return X}function yh(C,M,B,X){var ae,Se,De,Xe=X,lt,gt,zt,Pr;sl(Xe)?(ae=Xe.isVal,Se=Xe.set,zt=Xe[cf],Pr=Xe[zo],lt=Xe.mrg,gt=Xe.ref,!gt&&tt(gt)&&(gt=!!lt),De=mm(C,M,Xe)):De=X,Pr&&C[zo](M,B);var wr,Mt=!0,Rt=M[B];(Rt||!pr(Rt))&&(wr=Rt,Mt=!1,ae&&wr!==De&&!ae(wr)&&(wr=De,Mt=!0),Se&&(wr=Se(wr,De,M),Mt=wr===De)),Mt?De?wr=bg(C,M,De):wr=De:(Cl(wr)||Lt(De))&&lt&&De&&(Cl(De)||Lt(De))&&$r(De,function(jt,Pt){yh(C,wr,jt,Pt)}),C.set(M,B,wr),gt&&C.ref(M,B),zt&&C[cf](M,B)}var Dn=au("[[ai_dynCfg_1]]"),xd=au("[[ai_blkDynCfg_1]]"),xs=au("[[ai_frcDynCfg_1]]");function pf(C){if(C){var M;if(Lt(C)?(M=[],M[Uo]=C[Uo]):Cl(C)&&(M={}),M)return $r(C,function(B,X){M[B]=pf(X)}),M}return C}function kv(C){if(C){var M=C[Dn]||C;if(M.cfg&&(M.cfg===C||M.cfg[Dn]===M))return M}return null}function Ya(C){if(C&&(Cl(C)||Lt(C)))try{C[xd]=!0}catch{}return C}function Ed(C,M,B){var X=!1;return B&&!C[M.blkVal]&&(X=B[xs],!X&&!B[xd]&&(X=Cl(B)||Lt(B))),X}function bh(C){Ei("InvalidAccess:"+C)}var Av=["push","pop","shift","unshift","splice"],al=function(C,M,B,X){C&&C[Mo](3,108,"".concat(B," [").concat(M,"] failed - ")+qe(X))};function _g(C,M,B){Lt(M)&&oi(Av,function(X){var ae=M[X];M[X]=function(){for(var Se=[],De=0;De<arguments.length;De++)Se[De]=arguments[De];var Xe=ae[pu](this,Se);return hf(C,M,B,"Patching"),Xe}})}function gm(C,M){var B=Un(C,M);return B&&B.get}function Mv(C,M,B,X){var ae={n:B,h:[],trk:function(gt){gt&&gt.fn&&(ga(ae.h,gt)===-1&&ae.h[ea](gt),C.trk(gt,ae))},clr:function(gt){var zt=ga(ae.h,gt);zt!==-1&&ae.h[Ps](zt,1)}},Se=!0,De=!1;function Xe(){Se&&(De=De||Ed(Xe,C,X),X&&!X[Dn]&&De&&(X=hf(C,X,B,"Converting")),Se=!1);var gt=C.act;return gt&&ae.trk(gt),X}Xe[C.prop]={chng:function(){C.add(ae)}};function lt(gt){if(X!==gt){Xe[C.ro]&&!C.upd&&bh("["+B+"] is read-only:"+qe(M)),Se&&(De=De||Ed(Xe,C,X),Se=!1);var zt=De&&Xe[C.rf];if(De)if(zt){$r(X,function(wr){X[wr]=gt?gt[wr]:he});try{$r(gt,function(wr,Mt){wg(C,X,wr,Mt)}),gt=X}catch(wr){al((C.hdlr||{})[ca],B,"Assigning",wr),De=!1}}else X&&X[Dn]&&$r(X,function(wr){var Mt=gm(X,wr);if(Mt){var Rt=Mt[C.prop];Rt&&Rt.chng()}});if(gt!==X){var Pr=gt&&Ed(Xe,C,gt);!zt&&Pr&&(gt=hf(C,gt,B,"Converting")),X=gt,De=Pr}C.add(ae)}}Ue(M,ae.n,{g:Xe,s:lt})}function wg(C,M,B,X){if(M){var ae=gm(M,B),Se=ae&&!!ae[C.prop];Se?M[B]=X:Mv(C,M,B,X)}return M}function Od(C,M,B,X){if(M){var ae=gm(M,B),Se=ae&&!!ae[C.prop],De=X&&X[0],Xe=X&&X[1],lt=X&&X[2];if(!Se){if(lt)try{Ya(M)}catch(gt){al((C.hdlr||{})[ca],B,"Blocking",gt)}try{wg(C,M,B,M[B]),ae=gm(M,B)}catch(gt){al((C.hdlr||{})[ca],B,"State",gt)}}De&&(ae[C.rf]=De),Xe&&(ae[C.ro]=Xe),lt&&(ae[C.blkVal]=!0)}return M}function hf(C,M,B,X){try{$r(M,function(ae,Se){wg(C,M,ae,Se)}),M[Dn]||(H(M,Dn,{get:function(){return C[xl]}}),_g(C,M,B))}catch(ae){al((C.hdlr||{})[ca],B,X,ae)}return M}var vm="[[ai_",_h="]]";function Sg(C){var M,B=Js(vm+"get"+C.uid+_h),X=Js(vm+"ro"+C.uid+_h),ae=Js(vm+"rf"+C.uid+_h),Se=Js(vm+"blkVal"+C.uid+_h),De=Js(vm+"dtl"+C.uid+_h),Xe=null,lt=null,gt;function zt(Rt,jt){var Pt=gt.act;try{gt.act=Rt,Rt&&Rt[De]&&(oi(Rt[De],function(ir){ir.clr(Rt)}),Rt[De]=[]),jt({cfg:C.cfg,set:C.set.bind(C),setDf:C[Rl].bind(C),ref:C.ref.bind(C),rdOnly:C[cf].bind(C)})}catch(ir){var dr=C[ca];throw dr&&dr[Mo](1,107,qe(ir)),ir}finally{gt.act=Pt||null}}function Pr(){if(Xe){var Rt=Xe;Xe=null,lt&&lt[xv](),lt=null;var jt=[];if(oi(Rt,function(Pt){if(Pt&&(Pt[De]&&(oi(Pt[De],function(dr){dr.clr(Pt)}),Pt[De]=null),Pt.fn))try{zt(Pt,Pt.fn)}catch(dr){jt[ea](dr)}}),Xe)try{Pr()}catch(Pt){jt[ea](Pt)}jt[Uo]>0&&Ol("Watcher error(s): ",jt)}}function wr(Rt){if(Rt&&Rt.h[Uo]>0){Xe||(Xe=[]),lt||(lt=el(function(){lt=null,Pr()},0));for(var jt=0;jt<Rt.h[Uo];jt++){var Pt=Rt.h[jt];Pt&&ga(Xe,Pt)===-1&&Xe[ea](Pt)}}}function Mt(Rt,jt){if(Rt){var Pt=Rt[De]=Rt[De]||[];ga(Pt,jt)===-1&&Pt[ea](jt)}}return gt=(M={prop:B,ro:X,rf:ae},M[zo]=Se,M[xl]=C,M.add=wr,M[Mu]=Pr,M.use=zt,M.trk=Mt,M),gt}function Kc(C,M){var B={fn:M,rm:function(){B.fn=null,C=null,M=null}};return C.use(B,M),B}function Ja(C,M,B){var X,ae=kv(M);if(ae)return ae;var Se=yu("dyncfg",!0),De=M&&B!==!1?M:pf(M),Xe;function lt(){Xe[Mu]()}function gt(dr,ir,yr){try{dr=wg(Xe,dr,ir,yr)}catch(fn){al(C,ir,"Setting value",fn)}return dr[ir]}function zt(dr){return Kc(Xe,dr)}function Pr(dr,ir){Xe.use(null,function(yr){var fn=Xe.upd;try{tt(ir)||(Xe.upd=ir),dr(yr)}finally{Xe.upd=fn}})}function wr(dr,ir){var yr;return Od(Xe,dr,ir,(yr={},yr[0]=!0,yr))[ir]}function Mt(dr,ir){var yr;return Od(Xe,dr,ir,(yr={},yr[1]=!0,yr))[ir]}function Rt(dr,ir){var yr;return Od(Xe,dr,ir,(yr={},yr[2]=!0,yr))[ir]}function jt(dr,ir){return ir&&$r(ir,function(yr,fn){yh(Pt,dr,yr,fn)}),dr}var Pt=(X={uid:null,cfg:De},X[ca]=C,X[Mu]=lt,X.set=gt,X[Rl]=jt,X[lf]=zt,X.ref=wr,X[cf]=Mt,X[zo]=Rt,X._block=Pr,X);return Ue(Pt,"uid",{c:!1,e:!1,w:!1,v:Se}),Xe=Sg(Pt),hf(Xe,De,"config","Creating"),Pt}function mf(C,M){C?(C[uf](M),C[Mo](2,108,M)):bh(M)}function Nu(C,M,B,X){var ae=Ja(B,C||{},X);return M&&ae[Rl](ae.cfg,M),ae}function bu(C,M,B){var X=C[Dn]||C;return X.cfg&&(X.cfg===C||X.cfg[Dn]===X)?X[lf](M):(mf(B,Wn+qe(C)),Nu(C,null,B)[lf](M))}var gp=null;function Id(){var C=qi("Microsoft");return C&&(gp=C.ApplicationInsights),gp}function Cg(C){var M=gp;return!M&&C.disableDbgExt!==!0&&(M=gp||Id()),M?M.ChromeDbgExt:null}var wh,Sh="warnToConsole",vp="AI (Internal): ",kd="AI: ",ym="AITR_",Ch={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},bm=(wh={},wh[0]=null,wh[1]="errorToConsole",wh[2]=Sh,wh[3]="debugToConsole",wh);function gf(C){return C?'"'+C[Ho](/\"/g,ke)+'"':ke}function yp(C,M){var B=hh();if(B){var X="log";B[C]&&(X=C),Et(B[X])&&B[X](M)}}var _m=function(){function C(M,B,X,ae){X===void 0&&(X=!1);var Se=this;Se[vc]=M,Se[ta]=(X?kd:vp)+M;var De=ke;Ov()&&(De=Sd().stringify(ae));var Xe=(B?" message:"+gf(B):ke)+(ae?" props:"+gf(De):ke);Se[ta]+=Xe}return C.dataType="MessageData",C}();function C_(C,M){return(C||{})[ca]||new Xa(M)}var Xa=function(){function C(M){this.identifier="DiagnosticLogger",this.queue=[];var B=0,X={},ae,Se,De,Xe,lt;Zs(C,this,function(gt){lt=Pr(M||{}),gt.consoleLoggingLevel=function(){return ae},gt[Mo]=function(Rt,jt,Pt,dr,ir){ir===void 0&&(ir=!1);var yr=new _m(jt,Pt,ir,dr);if(Xe)throw qe(yr);var fn=bm[Rt]||Sh;if(tt(yr[ta]))Mt("throw"+(Rt===1?"Critical":"Warning"),yr);else{if(ir){var pi=+yr[vc];!X[pi]&&ae>=Rt&&(gt[fn](yr[ta]),X[pi]=!0)}else ae>=Rt&&gt[fn](yr[ta]);zt(Rt,yr)}},gt.debugToConsole=function(Rt){yp("debug",Rt),Mt("warning",Rt)},gt[uf]=function(Rt){yp("warn",Rt),Mt("warning",Rt)},gt.errorToConsole=function(Rt){yp("error",Rt),Mt("error",Rt)},gt.resetInternalMessageCount=function(){B=0,X={}},gt[Va]=zt,gt[ji]=function(Rt){lt&&lt.rm(),lt=null};function zt(Rt,jt){if(!wr()){var Pt=!0,dr=ym+jt[vc];if(X[dr]?Pt=!1:X[dr]=!0,Pt&&(Rt<=Se&&(gt.queue[ea](jt),B++,Mt(Rt===1?"error":"warn",jt)),B===De)){var ir="Internal events throttle limit per PageView reached for this app.",yr=new _m(23,ir,!1);gt.queue[ea](yr),Rt===1?gt.errorToConsole(ir):gt[uf](ir)}}}function Pr(Rt){return bu(Nu(Rt,Ch,gt).cfg,function(jt){var Pt=jt.cfg;ae=Pt[Zo],Se=Pt.loggingLevelTelemetry,De=Pt.maxMessageLimit,Xe=Pt.enableDebug})}function wr(){return B>=De}function Mt(Rt,jt){var Pt=Cg(M||{});Pt&&Pt[Vi]&&Pt[Vi](Rt,jt)}})}return C.__ieDyn=1,C}();function Lv(C){return C||new Xa}function Ad(C,M,B,X,ae,Se){Se===void 0&&(Se=!1),Lv(C)[Mo](M,B,X,ae,Se)}function Dg(C,M){Lv(C)[uf](M)}var Md="ctx",vf="ParentContextKey",wm="ChildrenContextKey",Tg=function(){function C(M,B,X){var ae=this;if(ae.start=so(),ae[vd]=M,ae[il]=X,ae[hu]=function(){return!1},Et(B)){var Se;Ue(ae,"payload",{g:function(){return!Se&&Et(B)&&(Se=B(),B=null),Se}})}ae[Nn]=function(De){return De?De===C[vf]||De===C[wm]?ae[De]:(ae[Md]||{})[De]:null},ae[$c]=function(De,Xe){if(De)if(De===C[vf])ae[De]||(ae[hu]=function(){return!0}),ae[De]=Xe;else if(De===C[wm])ae[De]=Xe;else{var lt=ae[Md]=ae[Md]||{};lt[De]=Xe}},ae[Ro]=function(){var De=0,Xe=ae[Nn](C[wm]);if(Lt(Xe))for(var lt=0;lt<Xe[Uo];lt++){var gt=Xe[lt];gt&&(De+=gt[ch])}ae[ch]=so()-ae.start,ae.exTime=ae[ch]-De,ae[Ro]=function(){}}}return C.ParentContextKey="parent",C.ChildrenContextKey="childEvts",C}(),_c="CoreUtils.doPerf";function cl(C,M,B,X,ae){if(C){var Se=C;if(Se[qr]&&(Se=Se[qr]()),Se){var De=void 0,Xe=Se[Nn](_c);try{if(De=Se.create(M(),X,ae),De){if(Xe&&De[$c]&&(De[$c](Tg[vf],Xe),Xe[Nn]&&Xe[$c])){var lt=Xe[Nn](Tg[wm]);lt||(lt=[],Xe[$c](Tg[wm],lt)),lt[ea](De)}return Se[$c](_c,De),B(De)}}catch(gt){De&&De[$c]&&De[$c]("exception",gt)}finally{De&&Se.fire(De),Se[$c](_c,Xe)}}}return B()}var Pg=hm("plugin");function Nv(C){return Pg.get(C,"state",{},!0)}var Ld="TelemetryPluginChain",Dh="_hasRun",bp="_getTelCtx",D_=0;function TS(C,M,B){for(;C;){if(C[hp]()===B)return C;C=C[ya]()}return Rg([B],M.config||{},M)}function Nd(C,M,B,X){var ae=null,Se=[];M||(M=Nu({},null,B[ca])),X!==null&&(ae=X?TS(C,B,X):C);var De={_next:lt,ctx:{core:function(){return B},diagLog:function(){return C_(B,M.cfg)},getCfg:function(){return M.cfg},getExtCfg:zt,getConfig:Pr,hasNext:function(){return!!ae},getNext:function(){return ae},setNext:function(Mt){ae=Mt},iterate:wr,onComplete:Xe}};function Xe(Mt,Rt){for(var jt=[],Pt=2;Pt<arguments.length;Pt++)jt[Pt-2]=arguments[Pt];Mt&&Se[ea]({func:Mt,self:tt(Rt)?De.ctx:Rt,args:jt})}function lt(){var Mt=ae;if(ae=Mt?Mt[ya]():null,!Mt){var Rt=Se;Rt&&Rt[Uo]>0&&(oi(Rt,function(jt){try{jt.func.call(jt.self,jt.args)}catch(Pt){Ad(B[ca],2,73,"Unexpected Exception during onComplete - "+qe(Pt))}}),Se=[])}return Mt}function gt(Mt,Rt){var jt=null,Pt=M.cfg;if(Pt&&Mt){var dr=Pt[Ht];!dr&&Rt&&(dr={}),Pt[Ht]=dr,dr=M.ref(Pt,Ht),dr&&(jt=dr[Mt],!jt&&Rt&&(jt={}),dr[Mt]=jt,jt=M.ref(dr,Mt))}return jt}function zt(Mt,Rt){var jt=gt(Mt,!0);return Rt&&$r(Rt,function(Pt,dr){if(pr(jt[Pt])){var ir=M.cfg[Pt];(ir||!pr(ir))&&(jt[Pt]=ir)}yh(M,jt,Pt,dr)}),M[Rl](jt,Rt)}function Pr(Mt,Rt,jt){jt===void 0&&(jt=!1);var Pt,dr=gt(Mt,!1),ir=M.cfg;return dr&&(dr[Rt]||!pr(dr[Rt]))?Pt=dr[Rt]:(ir[Rt]||!pr(ir[Rt]))&&(Pt=ir[Rt]),Pt||!pr(Pt)?Pt:jt}function wr(Mt){for(var Rt;Rt=De._next();){var jt=Rt[hp]();jt&&Mt(jt)}}return De}function Fv(C,M,B,X){var ae=Nu(M),Se=Nd(C,ae,B,X),De=Se.ctx;function Xe(gt){var zt=Se._next();return zt&&zt[Sr](gt,De),!zt}function lt(gt,zt){return gt===void 0&&(gt=null),Lt(gt)&&(gt=Rg(gt,ae.cfg,B,zt)),Fv(gt||De[ya](),ae.cfg,B,zt)}return De[$a]=Xe,De[Lu]=lt,De}function qv(C,M,B){var X=Nu(M.config),ae=Nd(C,X,M,B),Se=ae.ctx;function De(lt){var gt=ae._next();return gt&&gt[ji](Se,lt),!gt}function Xe(lt,gt){return lt===void 0&&(lt=null),Lt(lt)&&(lt=Rg(lt,X.cfg,M,gt)),qv(lt||Se[ya](),M,gt)}return Se[$a]=De,Se[Lu]=Xe,Se}function jv(C,M,B){var X=Nu(M.config),ae=Nd(C,X,M,B),Se=ae.ctx;function De(lt){return Se.iterate(function(gt){Et(gt[Si])&&gt[Si](Se,lt)})}function Xe(lt,gt){return lt===void 0&&(lt=null),Lt(lt)&&(lt=Rg(lt,X.cfg,M,gt)),jv(lt||Se[ya](),M,gt)}return Se[$a]=De,Se[Lu]=Xe,Se}function Rg(C,M,B,X){var ae=null,Se=!X;if(Lt(C)&&C[Uo]>0){var De=null;oi(C,function(Xe){if(!Se&&X===Xe&&(Se=!0),Se&&Xe&&Et(Xe[Sr])){var lt=hD(Xe,M,B);ae||(ae=lt),De&&De._setNext(lt),De=lt}})}return X&&!ae?Rg([X],M,B):ae}function hD(C,M,B){var X=null,ae=Et(C[Sr]),Se=Et(C[Hn]),De;C?De=C[Bc]+"-"+C[sn]+"-"+D_++:De="Unknown-0-"+D_++;var Xe={getPlugin:function(){return C},getNext:function(){return X},processTelemetry:zt,unload:Pr,update:wr,_id:De,_setNext:function(Mt){X=Mt}};function lt(){var Mt;return C&&Et(C[bp])&&(Mt=C[bp]()),Mt||(Mt=Fv(Xe,M,B)),Mt}function gt(Mt,Rt,jt,Pt,dr){var ir=!1,yr=C?C[Bc]:Ld,fn=Mt[Dh];return fn||(fn=Mt[Dh]={}),Mt.setNext(X),C&&cl(Mt[Qe](),function(){return yr+":"+jt},function(){fn[De]=!0;try{var pi=X?X._id:ke;pi&&(fn[pi]=!1),ir=Rt(Mt)}catch(uo){var ai=X?fn[X._id]:!0;ai&&(ir=!0),(!X||!ai)&&Ad(Mt[Vi](),1,73,"Plugin ["+yr+"] failed during "+jt+" - "+qe(uo)+", run flags: "+qe(fn))}},Pt,dr),ir}function zt(Mt,Rt){Rt=Rt||lt();function jt(Pt){if(!C||!ae)return!1;var dr=Nv(C);return dr[gc]||dr[pt]?!1:(Se&&C[Hn](X),C[Sr](Mt,Pt),!0)}gt(Rt,jt,"processTelemetry",function(){return{item:Mt}},!Mt.sync)||Rt[$a](Mt)}function Pr(Mt,Rt){function jt(){var Pt=!1;if(C){var dr=Nv(C),ir=C[Qe]||dr[Qe];C&&(!ir||ir===Mt.core())&&!dr[gc]&&(dr[Qe]=null,dr[gc]=!0,dr[nl]=!1,C[gc]&&C[gc](Mt,Rt)===!0&&(Pt=!0))}return Pt}gt(Mt,jt,"unload",function(){},Rt[il])||Mt[$a](Rt)}function wr(Mt,Rt){function jt(){var Pt=!1;if(C){var dr=Nv(C),ir=C[Qe]||dr[Qe];C&&(!ir||ir===Mt.core())&&!dr[gc]&&C[Si]&&C[Si](Mt,Rt)===!0&&(Pt=!0)}return Pt}gt(Mt,jt,"update",function(){},!1)||Mt[$a](Rt)}return Q(Xe)}function xg(){var C=[];function M(X){X&&C[ea](X)}function B(X,ae){oi(C,function(Se){try{Se(X,ae)}catch(De){Ad(X[Vi](),2,73,"Unexpected error calling unload handler - "+qe(De))}}),C=[]}return{add:M,run:B}}function mD(){var C=[];function M(X){var ae=C;C=[],oi(ae,function(Se){try{(Se.rm||Se.remove).call(Se)}catch(De){Ad(X,2,73,"Unloading:"+qe(De))}})}function B(X){X&&cu(C,X)}return{run:M,add:B}}var Al,_p="getPlugin",Sm=(Al={},Al[Ht]={isVal:uh,v:{}},Al),eb=function(){function C(){var M=this,B,X,ae,Se,De;gt(),Zs(C,M,function(zt){zt[us]=function(Pr,wr,Mt,Rt){lt(Pr,wr,Rt),B=!0},zt[gc]=function(Pr,wr){var Mt,Rt=zt[Qe];if(!Rt||Pr&&Rt!==Pr[Qe]())return;var jt,Pt=!1,dr=Pr||qv(null,Rt,ae&&ae[_p]?ae[_p]():ae),ir=wr||(Mt={reason:0},Mt[il]=!1,Mt);function yr(){Pt||(Pt=!0,Se.run(dr,wr),De.run(dr[Vi]()),jt===!0&&dr[$a](ir),gt())}return!zt[df]||zt[df](dr,ir,yr)!==!0?yr():jt=!0,jt},zt[Si]=function(Pr,wr){var Mt=zt[Qe];if(!Mt||Pr&&Mt!==Pr[Qe]())return;var Rt,jt=!1,Pt=Pr||jv(null,Mt,ae&&ae[_p]?ae[_p]():ae),dr=wr||{reason:0};function ir(){jt||(jt=!0,lt(Pt.getCfg(),Pt.core(),Pt[ya]()))}return!zt._doUpdate||zt._doUpdate(Pt,dr,ir)!==!0?ir():Rt=!0,Rt},mp(zt,"_addUnloadCb",function(){return Se},"add"),mp(zt,"_addHook",function(){return De},"add"),Ue(zt,"_unloadHooks",{g:function(){return De}})}),M[Vi]=function(zt){return Xe(zt)[Vi]()},M[nl]=function(){return B},M.setInitialized=function(zt){B=zt},M[Hn]=function(zt){ae=zt},M[$a]=function(zt,Pr){Pr?Pr[$a](zt):ae&&Et(ae[Sr])&&ae[Sr](zt,null)},M._getTelCtx=Xe;function Xe(zt){zt===void 0&&(zt=null);var Pr=zt;if(!Pr){var wr=X||Fv(null,{},M[Qe]);ae&&ae[_p]?Pr=wr[Lu](null,ae[_p]):Pr=wr[Lu](null,ae)}return Pr}function lt(zt,Pr,wr){Nu(zt,Sm,C_(Pr)),!wr&&Pr&&(wr=Pr[sm]()[ya]());var Mt=ae;ae&&ae[_p]&&(Mt=ae[_p]()),M[Qe]=Pr,X=Fv(wr,zt,Pr,Mt)}function gt(){B=!1,M[Qe]=null,X=null,ae=null,De=mD(),Se=xg()}}return C.__ieDyn=1,C}(),Cm="on",Ml="attachEvent",ul="addEventListener",yf="detachEvent",bf="removeEventListener",zv="events",Th="visibilitychange",Sa="pagehide",wp="pageshow",Sp="unload",tb="beforeunload",PS=yu("aiEvtPageHide"),Cp=yu("aiEvtPageShow"),RS=/\.[\.]+/g,Dm=/[\.]+$/,Dp=1,Ll=hm("events"),Eg=/^([^.]*)(?:\.(.+)|)/;function Ph(C){return C&&C[Ho]?C[Ho](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,ke):C}function Tm(C,M){var B;if(M){var X=ke;Lt(M)?(X=ke,oi(M,function(Se){Se=Ph(Se),Se&&(Se[0]!=="."&&(Se="."+Se),X+=Se)})):X=Ph(M),X&&(X[0]!=="."&&(X="."+X),C=(C||ke)+X)}var ae=Eg.exec(C||ke)||[];return B={},B[ra]=ae[1],B.ns=(ae[2]||ke).replace(RS,".").replace(Dm,ke)[El](".").sort().join("."),B}function Og(C,M,B){B===void 0&&(B=!0);var X=Ll.get(C,zv,{},B),ae=X[M];return ae||(ae=X[M]=[]),ae}function T_(C,M,B,X){C&&M&&M[ra]&&(C[bf]?C[bf](M[ra],B,X):C[yf]&&C[yf](Cm+M[ra],B))}function gD(C,M,B,X){var ae=!1;return C&&M&&M[ra]&&B&&(C[ul]?(C[ul](M[ra],B,X),ae=!0):C[Ml]&&(C[Ml](Cm+M[ra],B),ae=!0)),ae}function Pm(C,M,B,X){for(var ae=M[Uo];ae--;){var Se=M[ae];Se&&(!B.ns||B.ns===Se.evtName.ns)&&(!X||X(Se))&&(T_(C,Se.evtName,Se[ao],Se.capture),M[Ps](ae,1))}}function xS(C,M,B){if(M[ra])Pm(C,Og(C,M[ra]),M,B);else{var X=Ll.get(C,zv,{});$r(X,function(ae,Se){Pm(C,Se,M,B)}),Oe(X)[Uo]===0&&Ll.kill(C,zv)}}function Qa(C,M){var B;return M?(Lt(M)?B=[C].concat(M):B=[C,M],B=Tm("xx",B).ns[El](".")):B=C,B}function Rm(C,M,B,X,ae){var Se;ae===void 0&&(ae=!1);var De=!1;if(C)try{var Xe=Tm(M,X);if(De=gD(C,Xe,B,ae),De&&Ll.accept(C)){var lt=(Se={guid:Dp++,evtName:Xe},Se[ao]=B,Se.capture=ae,Se);Og(C,Xe.type)[ea](lt)}}catch{}return De}function xm(C,M,B,X,ae){if(ae===void 0&&(ae=!1),C)try{var Se=Tm(M,X),De=!1;xS(C,Se,function(Xe){return Se.ns&&!B||Xe[ao]===B?(De=!0,!0):!1}),De||T_(C,Se,B,ae)}catch{}}function ES(C,M,B){var X=!1,ae=su();ae&&(X=Rm(ae,C,M,B),X=Rm(ae.body,C,M,B)||X);var Se=$i();return Se&&(X=Rm(Se,C,M,B)||X),X}function vD(C,M,B){var X=su();X&&(xm(X,C,M,B),xm(X.body,C,M,B));var ae=$i();ae&&xm(ae,C,M,B)}function Nl(C,M,B,X){var ae=!1;return M&&C&&C[Uo]>0&&oi(C,function(Se){Se&&(!B||ga(B,Se)===-1)&&(ae=ES(Se,M,X)||ae)}),ae}function Za(C,M,B,X){var ae=!1;return M&&C&&Lt(C)&&(ae=Nl(C,M,B,X),!ae&&B&&B[Uo]>0&&(ae=Nl(C,M,null,X))),ae}function Fl(C,M,B){C&&Lt(C)&&oi(C,function(X){X&&vD(X,M,B)})}function Em(C,M,B){return Za([tb,Sp,Sa],C,M,B)}function Ig(C,M){Fl([tb,Sp,Sa],C,M)}function rb(C,M,B){function X(De){var Xe=$i();C&&Xe&&Xe.visibilityState==="hidden"&&C(De)}var ae=Qa(PS,B),Se=Nl([Sa],C,M,ae);return(!M||ga(M,Th)===-1)&&(Se=Nl([Th],X,M,ae)||Se),!Se&&M&&(Se=rb(C,null,B)),Se}function yn(C,M){var B=Qa(PS,M);Fl([Sa],C,B),Fl([Th],null,B)}function Uv(C,M,B){function X(De){var Xe=$i();C&&Xe&&Xe.visibilityState==="visible"&&C(De)}var ae=Qa(Cp,B),Se=Nl([wp],C,M,ae);return Se=Nl([Th],X,M,ae)||Se,!Se&&M&&(Se=Uv(C,null,B)),Se}function Rh(C,M){var B=Qa(Cp,M);Fl([wp],C,B),Fl([Th],null,B)}var _f="",Om="timings",Ca="value",nb="kind",kg="length",ib="processTelemetryStart",ql,Im="4.0.4",Tp="1DS-Web-JS-"+Im,Ag=u.hasOwnProperty,km="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",_u="withCredentials",Fd="timeout",P_=(ql={},ql[0]=0,ql[2]=6,ql[1]=1,ql[3]=7,ql[4098]=6,ql[4097]=1,ql[4099]=7,ql);To(),Yn();function jl(C){return!(C===_f||pr(C))}function Hv(C){if(C){var M=rf(C,"-");if(M>-1)return Cr(C,M)}return _f}function zl(C,M,B){if(!M&&!jl(M)||typeof C!="string")return null;var X=typeof M;if(X==="string"||X==="number"||X==="boolean"||Lt(M))M={value:M};else if(X==="object"&&!Ag.call(M,"value"))M={value:B?JSON.stringify(M):M};else if(pr(M[Ca])||M[Ca]===_f||!lr(M[Ca])&&!on(M[Ca])&&!un(M[Ca])&&!Lt(M[Ca]))return null;if(Lt(M[Ca])&&!ob(M[Ca]))return null;if(!pr(M[nb])){if(Lt(M[Ca])||!x_(M[nb]))return null;M[Ca]=M[Ca].toString()}return M}function R_(C,M,B){var X=-1;if(!tt(C))if(M>0&&(M===32?X=8192:M<=13&&(X=M<<5)),E_(B))X===-1&&(X=0),X|=B;else{var ae=P_[Am(C)]||-1;X!==-1&&ae!==-1?X|=ae:ae===6&&(X=ae)}return X}function Wv(C,M,B,X,ae){var Se={},De=!1,Xe=0,lt=arguments[kg],gt=arguments;for(un(gt[0])&&(De=gt[0],Xe++);Xe<lt;Xe++){var C=gt[Xe];$r(C,function(Pr,wr){De&&wr&&hr(wr)?Lt(wr)?(Se[Pr]=Se[Pr]||[],oi(wr,function(Mt,Rt){Mt&&hr(Mt)?Se[Pr][Rt]=Wv(!0,Se[Pr][Rt],Mt):Se[Pr][Rt]=Mt})):Se[Pr]=Wv(!0,Se[Pr],wr):Se[Pr]=wr})}return Se}var Ul=fd;function x_(C){return C===0||C>0&&C<=13||C===32}function E_(C){return C>=0&&C<=9}function ob(C){return C[kg]>0}function wf(C,M){var B=C;B[Om]=B[Om]||{},B[Om][ib]=B[Om][ib]||{},B[Om][ib][M]=Ul()}function Am(C){var M=0;if(C!=null){var B=typeof C;B==="string"?M=1:B==="number"?M=2:B==="boolean"?M=3:B===o&&(M=4,Lt(C)?(M=4096,C[kg]>0&&(M|=Am(C[0]))):Ag.call(C,"value")&&(M=8192|Am(C[Ca])))}return M}function O_(){return!!qi("chrome")}function Sf(C,M,B,X,ae,Se){X===void 0&&(X=!1),ae===void 0&&(ae=!1);function De(lt,gt,zt){try{lt[gt]=zt}catch{}}var Xe=new XMLHttpRequest;return X&&De(Xe,km,X),B&&De(Xe,_u,B),Xe.open(C,M,!ae),B&&De(Xe,_u,B),!ae&&Se&&De(Xe,Fd,Se),Xe}function ec(C){return C>0}var Wo="",ll="POST",Mg="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Hl="drop",Cf="send",wu="requeue",Lg="rspFail",Bv="oth",I_="no-cache, no-store",sb="application/x-json-stream",xh="cache-control",Ng="content-type",OS="kill-tokens",k_="kill-duration",A_="kill-duration-seconds",IS="time-delta-millis",D="client-version",I="client-id",j="time-delta-to-apply-millis",Y="upload-time",ye="apikey",Be="AuthMsaDeviceTicket",Ze="AuthXToken",ct="NoResponseBody",Tt="msfpc",Yt="trace",kr="user",qn="allowRequestSending",On="firstRequestSent",Xn="shouldAddClockSkewHeaders",Qr="getClockSkewHeaderValue",Qn="setClockSkew",_r="length",Ci="concat",Bn="iKey",Tn="count",ts="events",tc="push",Da="split",Fg="splice",Mm="toLowerCase",$v="hdrs",Wl="useHdrs",Pp="initialize",Vv="setTimeoutOverride",Gv="clearTimeoutOverride",sr="payloadPreprocessor",cn="overrideEndpointUrl",fi="avoidOptions",rs="disableEventTimings",bs="stringifyObjects",_s="enableCompoundKey",Es="disableXhrSync",Lm="disableFetchKeepAlive",Eh="useSendBeacon",Oh="alwaysUseXhrOverride",M_="unloadTransports",Nm="urlString",Rp="timeout",Kv="ontimeout",Su="data",Fm="_sendReason",xp="headers",qg="getResponseHeader",x0="getAllResponseHeaders",jg="_thePayload",Fu="batches",dl="sendType",Yv="canSendRequest",Df="sendQueuedRequests",yD="isCompletelyIdle",kS="setUnloading",E0="isTenantKilled",O0="sendSynchronousBatch",AS="_transport",Tf="getWParam",bD="isBeacon",ab="timings",L_="isTeardown",N_="isSync",F_="sendPOST",MS="setKillSwitchTenants",cb="_backOffTransmission",Pf="identifier",ub="disableOptimizeObj",q_="ignoreMc1Ms0CookieProcessing",eo="eventsLimitInMem",LS="autoFlushEventsLimit",zg="disableAutoBatchFlushLimit",Jv="overrideInstrumentationKey",I0="disableTelemetry",Rf="sendAttempt",Bl="latency",NS="baseData",Ep="sync";function Ug(C){var M=(C.ext||{}).intweb;return M&&jl(M[Tt])?M[Tt]:null}function Ih(C){for(var M=null,B=0;M===null&&B<C[_r];B++)M=Ug(C[B]);return M}var fl=function(){function C(M,B){var X=B?[][Ci](B):[],ae=this,Se=Ih(X);ae[Bn]=function(){return M},ae.Msfpc=function(){return Se||Wo},ae[Tn]=function(){return X[_r]},ae[ts]=function(){return X},ae.addEvent=function(De){return De?(X[tc](De),Se||(Se=Ug(De)),!0):!1},ae[Da]=function(De,Xe){var lt;if(De<X[_r]){var gt=X[_r]-De;pr(Xe)||(gt=Xe<gt?Xe:gt),lt=X[Fg](De,gt),Se=Ih(X)}return new C(M,lt)}}return C.create=function(M,B){return new C(M,B)},C}(),Op=function(){function C(){var M=!0,B=!0,X=!0,ae="use-collector-delta",Se=!1;Zs(C,this,function(De){De[qn]=function(){return M},De[On]=function(){X&&(X=!1,Se||(M=!1))},De[Xn]=function(){return B},De[Qr]=function(){return ae},De[Qn]=function(Xe){Se||(Xe?(ae=Xe,B=!0,Se=!0):B=!1,M=!0)}})}return C.__ieDyn=1,C}(),kh=1e3,Hg=function(){function C(){var M={};function B(X){var ae=[];return X&&oi(X,function(Se){ae[tc](uu(Se))}),ae}Zs(C,this,function(X){X[MS]=function(ae,Se){if(ae&&Se)try{var De=B(ae[Da](","));if(Se==="this-request-only")return De;for(var Xe=parseInt(Se,10)*kh,lt=0;lt<De[_r];++lt)M[De[lt]]=so()+Xe}catch{return[]}return[]},X[E0]=function(ae){var Se=M,De=uu(ae);return Se[De]!==void 0&&Se[De]>so()?!0:(delete Se[De],!1)}})}return C.__ieDyn=1,C}(),Ah=.8,j_=1.2,FS=3e3,_D=6e5;function lb(C){return!(C>=300&&C<500&&C!=408&&C!=429||C==501||C==505)}function Xv(C){var M=0,B=FS*Ah,X=FS*j_,ae=Math.floor(Math.random()*(X-B))+B;return M=Math.pow(2,C)*ae,Math.min(M,_D)}var Wg=20,Qv=3984588,z_=65e3,Bg=2e6,db=Math.min(Bg,z_),U_="metadata",fb="f",k0=/\./,H_=function(){function C(M,B,X,ae){var Se="data",De="baseData",Xe="ext",lt=!!ae,gt=!0,zt=B,Pr={};Zs(C,this,function(wr){wr.createPayload=function(jt,Pt,dr,ir,yr,fn){return{apiKeys:[],payloadBlob:Wo,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:jt,isTeardown:Pt,isSync:dr,isBeacon:ir,sendType:fn,sendReason:yr}},wr.appendPayload=function(jt,Pt,dr){var ir=jt&&Pt&&!jt.overflow;return ir&&cl(M,function(){return"Serializer:appendPayload"},function(){for(var yr=Pt.events(),fn=jt.payloadBlob,pi=jt.numEvents,ai=!1,uo=[],Bo=[],xo=jt.isBeacon,Os=xo?z_:Qv,rc=xo?db:Bg,Xi=0,wc=0;Xi<yr.length;){var Sc=yr[Xi];if(Sc){if(pi>=dr){jt.overflow=Pt.split(Xi);break}var ia=wr.getEventBlob(Sc);if(ia&&ia.length<=rc){var pl=ia.length,la=fn.length;if(la+pl>Os){jt.overflow=Pt.split(Xi);break}fn&&(fn+=`
`),fn+=ia,wc++,wc>Wg&&(fe(fn,0,1),wc=0),ai=!0,pi++}else ia?uo.push(Sc):Bo.push(Sc),yr.splice(Xi,1),Xi--}Xi++}if(uo.length>0&&jt.sizeExceed.push(fl.create(Pt.iKey(),uo)),Bo.length>0&&jt.failedEvts.push(fl.create(Pt.iKey(),Bo)),ai){jt.batches.push(Pt),jt.payloadBlob=fn,jt.numEvents=pi;var da=Pt.iKey();ga(jt.apiKeys,da)===-1&&jt.apiKeys.push(da)}},function(){return{payload:jt,theBatch:{iKey:Pt.iKey(),evts:Pt.events()},max:dr}}),ir},wr.getEventBlob=function(jt){try{return cl(M,function(){return"Serializer.getEventBlob"},function(){var Pt={};Pt.name=jt.name,Pt.time=jt.time,Pt.ver=jt.ver,Pt.iKey="o:"+Hv(jt.iKey);var dr={},ir=jt[Xe];ir&&(Pt[Xe]=dr,$r(ir,function(pi,ai){var uo=dr[pi]={};Rt(ai,uo,"ext."+pi,!0,null,null,!0)}));var yr=Pt[Se]={};yr.baseType=jt.baseType;var fn=yr[De]={};return Rt(jt.baseData,fn,De,!1,[De],function(pi,ai,uo){Ta(dr,pi,ai,uo)},gt),Rt(jt.data,yr,Se,!1,[],function(pi,ai,uo){Ta(dr,pi,ai,uo)},gt),JSON.stringify(Pt)},function(){return{item:jt}})}catch{return null}};function Mt(jt,Pt){var dr=Pr[jt];return dr===void 0&&(jt.length>=7&&(dr=Wr(jt,"ext.metadata")||Wr(jt,"ext.web")),Pr[jt]=dr),dr}function Rt(jt,Pt,dr,ir,yr,fn,pi){$r(jt,function(ai,uo){var Bo=null;if(uo||jl(uo)){var xo=dr,Os=ai,rc=yr,Xi=Pt;if(lt&&!ir&&k0.test(ai)){var wc=ai.split("."),Sc=wc.length;if(Sc>1){rc&&(rc=rc.slice());for(var ia=0;ia<Sc-1;ia++){var pl=wc[ia];Xi=Xi[pl]=Xi[pl]||{},xo+="."+pl,rc&&rc.push(pl)}Os=wc[Sc-1]}}var la=ir&&Mt(xo);if(!la&&zt&&zt.handleField(xo,Os)?Bo=zt.value(xo,Os,uo,X):Bo=zl(Os,uo,X),Bo){var da=Bo.value;if(Xi[Os]=da,fn&&fn(rc,Os,Bo),pi&&typeof da=="object"&&!Lt(da)){var Di=rc;Di&&(Di=Di.slice(),Di.push(Os)),Rt(uo,da,xo+"."+Os,ir,Di,fn,pi)}}}})}})}return C.__ieDyn=1,C}();function Ta(C,M,B,X){if(X&&C){var ae=R_(X.value,X.kind,X.propertyType);if(ae>-1){var Se=C[U_];Se||(Se=C[U_]={f:{}});var De=Se[fb];if(De||(De=Se[fb]={}),M)for(var Xe=0;Xe<M.length;Xe++){var lt=M[Xe];De[lt]||(De[lt]={f:{}});var gt=De[lt][fb];gt||(gt=De[lt][fb]={}),De=gt}De=De[B]={},Lt(X.value)?De.a={t:ae}:De.t=ae}}}function Mh(C,M){return{set:function(B,X){for(var ae=[],Se=2;Se<arguments.length;Se++)ae[Se-2]=arguments[Se];return lu([C,M],B,X,ae)}}}var $g,wD="sendAttempt",qm="&"+ct+"=true",Vg="?cors=true&"+Ng[Mm]()+"="+sb,pb=($g={},$g[1]=wu,$g[100]=wu,$g[200]="sent",$g[8004]=Hl,$g[8003]=Hl,$g),W_={},Gg={};function Kg(C,M,B){W_[C]=M,B!==!1&&(Gg[M]=C)}Kg(Be,Be,!1),Kg(D,D),Kg(I,"Client-Id"),Kg(ye,ye),Kg(j,j),Kg(Y,Y),Kg(Ze,Ze);function SD(C){try{return C.responseText}catch{}return Wo}function CD(C,M){var B=!1;if(C&&M){var X=Oe(C);if(X&&X[_r]>0)for(var ae=M[Mm](),Se=0;Se<X[_r];Se++){var De=X[Se];if(De&&Br(M,De)&&De[Mm]()===ae){B=!0;break}}}return B}function hb(C,M,B,X){M&&B&&B[_r]>0&&(X&&W_[M]?(C[$v][W_[M]]=B,C[Wl]=!0):C.url+="&"+M+"="+B)}function DD(C,M){return M&&(on(M)?C=[M][Ci](C):Lt(M)&&(C=M[Ci](C))),C}function OO(C,M,B){for(var X=0;X<C[_r];X++)if(C[X].name===M){C[X].value=B;return}C[tc]({name:M,value:B})}function IO(C,M){for(var B=0;B<C[_r];B++)if(C[B].name===M){C[Fg](B,1);return}}var jm=function(){function C(M,B,X,ae){var Se,De=new Hg,Xe=!1,lt=new Op,gt=!1,zt=0,Pr,wr,Mt,Rt,jt=!0,Pt=[],dr={},ir=[],yr=null,fn=!1,pi,ai=!1,uo=!1,Bo,xo,Os,rc,Xi,wc=[],Sc,ia,pl=[],la,da;Zs(C,this,function(Di){Lh();var to=!0;Di[Pp]=function(Ge,At,er){la||(Rt=At,pi=At.getCookieMgr(),Pr=er,wr=Pr.diagLog(),cu(wc,bu(Ge,function(fr){var rn,Zn=fr.cfg,St=fr.cfg.extensionConfig[er.identifier];da=Mh(St[Vv],St[Gv]),jl(Zn.anonCookieName)?OO(Pt,"anoncknm",Zn.anonCookieName):IO(Pt,"anoncknm"),Sc=St[sr],ia=St.payloadListener;var nt=St.httpXHROverride,Dt=St[cn]?St[cn]:Zn.endpointUrl;Se=Dt+Vg,uo=tt(St[fi])?!0:!St[fi],fn=!St[rs];var Ot=St.valueSanitizer,gr=St[bs],xr=!!Zn[_s];tt(St[_s])||(xr=!!St[_s]),Bo=St.xhrTimeout,xo=!!St[Es],Os=!!St[Lm],Xi=St.addNoResponse!==!1,At.getPlugin("LocalStorage")&&(Os=!0),gt=!co(),yr=new H_(Rt,Ot,gr,xr),pr(St[Eh])||(gt=!!St[Eh]);var Lr=nt,ei=St[Oh]?nt:null,$o=St[Oh]?nt:null,yo=[3,2];if(!nt){jt=!1;var kp=Xy();kp&&kp.protocol&&kp.protocol[Mm]()==="file:"&&(to=!1);var qd=[];co()?(qd=[2,1],yo=[2,1,3]):qd=[1,2,3],qd=DD(qd,St.transports),nt=$l(qd,!1),nt||Dg(wr,"No available transport to send events"),Lr=$l(qd,!0)}ei||(yo=DD(yo,St[M_]),ei=$l(yo,!0)),rc=!jt&&(gt&&Iv()||!Os&&Cd(!0)),Mt=(rn={},rn[0]=nt,rn[1]=Lr||$l([1,2,3],!0),rn[2]=ei||Lr||$l([1],!0),rn[3]=$o||$l([2,3],!0)||Lr||$l([1],!0),rn)})),la=!0)},Di.addResponseHandler=function(Ge){return pl[tc](Ge),{rm:function(){var At=pl.indexOf(Ge);At>=0&&pl[Fg](At,1)}}};function $l(Ge,At){for(var er=0,fr=null,rn=0;fr==null&&rn<Ge[_r];)er=Ge[rn],er===1?mh()?fr=mb:Gc()&&(fr=h):er===2&&Cd(At)&&(!At||At&&!Os)?fr=Nh:gt&&er===3&&Iv()&&(fr=O),rn++;return fr?{_transport:er,_isSync:At,sendPOST:fr}:null}Di._getDbgPlgTargets=function(){return[Mt[0],De,yr,Mt]};function mb(Ge,At,er){var fr=new XDomainRequest;fr.open(ll,Ge[Nm]),Ge[Rp]&&(fr[Rp]=Ge[Rp]),fr.onload=function(){var rn=SD(fr);_(At,200,{},rn),Mn(rn)},fr.onerror=function(){_(At,400,{})},fr[Kv]=function(){_(At,500,{})},fr.onprogress=function(){},er?fr.send(Ge[Su]):da.set(function(){fr.send(Ge[Su])},0)}function Lh(){var Ge;Se=null,De=new Hg,Xe=!1,lt=new Op,gt=!1,zt=0,Pr=null,wr=null,Mt=null,Rt=null,jt=!0,Pt=[],dr={},ir=[],yr=null,fn=!1,pi=null,ai=!1,uo=!1,Bo=Ge,xo=Ge,Os=Ge,rc=Ge,Xi=Ge,wc=[],Sc=Ge,ia=Ge,pl=[],la=!1,da=Mh()}function Nh(Ge,At,er){var fr,rn=Ge[Nm],Zn=!1,St=!1,nt=(fr={body:Ge[Su],method:ll},fr[Mg]=!0,fr);er&&(nt.keepalive=!0,Ge[Fm]===2&&(Zn=!0,Xi&&(rn+=qm))),to&&(nt.credentials="include"),Ge.headers&&Oe(Ge.headers)[_r]>0&&(nt[xp]=Ge[xp]);var Dt=function(gr,xr,Lr){St||(St=!0,_(At,gr,xr,Lr),Mn(Lr))},Ot=function(){St||(St=!0,_(At,0,{}))};fetch(rn,nt).then(function(gr){var xr={},Lr=Wo,ei=gr[xp];ei&&ei.forEach(function($o,yo){xr[yo]=$o}),gr.body?gr.text().then(function($o){Lr=$o,Dt(gr.status,xr,Lr)},Ot):Dt(gr.status,xr,"")}).catch(Ot),Zn&&!St&&(St=!0,_(At,200,{})),!St&&Ge[Rp]>0&&da.set(function(){St||(St=!0,_(At,500,{}))},Ge[Rp])}function h(Ge,At,er){var fr=Ge[Nm];function rn(Dt,Ot,gr){if(!Dt[gr]&&Ot&&Ot[qg]){var xr=Ot[qg](gr);xr&&(Dt[gr]=uu(xr))}return Dt}function Zn(Dt){var Ot={};return Dt[x0]?Ot=Rr(Dt[x0]()):(Ot=rn(Ot,Dt,IS),Ot=rn(Ot,Dt,k_),Ot=rn(Ot,Dt,A_)),Ot}function St(Dt,Ot){_(At,Dt.status,Zn(Dt),Ot)}er&&Ge[Es]&&(er=!1);var nt=Sf(ll,fr,to,!0,er,Ge[Rp]);$r(Ge[xp],function(Dt,Ot){nt.setRequestHeader(Dt,Ot)}),nt.onload=function(){var Dt=SD(nt);St(nt,Dt),Mn(Dt)},nt.onerror=function(){St(nt)},nt[Kv]=function(){St(nt)},nt.send(Ge[Su])}function _(Ge,At,er,fr){try{Ge(At,er,fr)}catch(rn){Ad(wr,2,518,qe(rn))}}function O(Ge,At,er){var fr=Ge,rn=200,Zn=fr[jg],St=Ge[Nm]+(Xi?qm:Wo);try{var nt=go();if(!nt.sendBeacon(St,Ge[Su]))if(Zn){var Dt=!!Rt.getPlugin("LocalStorage"),Ot=[],gr=[];oi(Zn[Fu],function(xr){if(Ot&&xr&&xr[Tn]()>0)for(var Lr=xr[ts](),ei=0;ei<Lr[_r];ei++)if(nt.sendBeacon(St,yr.getEventBlob(Lr[ei])))gr[tc](xr[ei]);else{Ot[tc](xr[Da](ei));break}else Ot[tc](xr[Da](0))}),gr[_r]>0&&(Zn.sentEvts=gr),Dt||Ii(Ot,8003,Zn[dl],!0)}else rn=0}catch(xr){Dg(wr,"Failed to send telemetry using sendBeacon API. Ex:"+qe(xr)),rn=0}finally{_(At,rn,{},Wo)}}function q(Ge){return Ge===2||Ge===3}function V(Ge){return ai&&q(Ge)&&(Ge=2),Ge}Di.addHeader=function(Ge,At){dr[Ge]=At},Di[Yv]=function(){return ie()&&lt[qn]()},Di[Df]=function(Ge,At){tt(Ge)&&(Ge=0),ai&&(Ge=V(Ge),At=2),Ie(ir,Ge,0)&&et(ge(),0,!1,Ge,At||0)},Di[yD]=function(){return!Xe&&zt===0&&ir[_r]===0},Di[kS]=function(Ge){ai=Ge},Di.addBatch=function(Ge){if(Ge&&Ge[Tn]()>0){if(De.isTenantKilled(Ge[Bn]()))return!1;ir[tc](Ge)}return!0},Di.teardown=function(){ir[_r]>0&&et(ge(),0,!0,2,2),oi(wc,function(Ge){Ge&&Ge.rm&&Ge.rm()}),wc=[]},Di.pause=function(){Xe=!0},Di.resume=function(){Xe=!1,Di[Df](0,4)},Di[O0]=function(Ge,At,er){Ge&&Ge[Tn]()>0&&(pr(At)&&(At=1),ai&&(At=V(At),er=2),et([Ge],0,!1,At,er||0))};function ie(){return!Xe&&zt<B}function ge(){var Ge=ir;return ir=[],Ge}function Ie(Ge,At,er){var fr=!1;return Ge&&Ge[_r]>0&&!Xe&&Mt[At]&&yr&&(fr=At!==0||ie()&&(er>0||lt[qn]())),fr}function We(Ge){var At={};return Ge&&oi(Ge,function(er,fr){At[fr]={iKey:er[Bn](),evts:er[ts]()}}),At}function et(Ge,At,er,fr,rn){if(!(!Ge||Ge[_r]===0)){if(Xe){Ii(Ge,1,fr);return}fr=V(fr);try{var Zn=Ge,St=fr!==0;cl(Rt,function(){return"HttpManager:_sendBatches"},function(nt){nt&&(Ge=Ge.slice(0));for(var Dt=[],Ot=null,gr=Ul(),xr=Mt[fr]||(St?Mt[1]:Mt[0]),Lr=xr&&xr[AS],ei=rc&&(ai||q(fr)||Lr===3||xr._isSync&&Lr===2);Ie(Ge,fr,At);){var $o=Ge.shift();$o&&$o[Tn]()>0&&(De.isTenantKilled($o[Bn]())?Dt[tc]($o):(Ot=Ot||yr.createPayload(At,er,St,ei,rn,fr),yr.appendPayload(Ot,$o,M)?Ot.overflow!==null&&(Ge=[Ot.overflow][Ci](Ge),Ot.overflow=null,ot(Ot,gr,Ul(),rn),gr=Ul(),Ot=null):(ot(Ot,gr,Ul(),rn),gr=Ul(),Ge=[$o][Ci](Ge),Ot=null)))}Ot&&ot(Ot,gr,Ul(),rn),Ge[_r]>0&&(ir=Ge[Ci](ir)),Ii(Dt,8004,fr)},function(){return{batches:We(Zn),retryCount:At,isTeardown:er,isSynchronous:St,sendReason:rn,useSendBeacon:q(fr),sendType:fr}},!St)}catch(nt){Ad(wr,2,48,"Unexpected Exception sending batch: "+qe(nt))}}}function Ve(Ge,At){var er={url:Se,hdrs:{},useHdrs:!1};At?(er[$v]=Wv(er[$v],dr),er.useHdrs=Oe(er.hdrs)[_r]>0):$r(dr,function(nt,Dt){Gg[nt]?hb(er,Gg[nt],Dt,!1):(er[$v][nt]=Dt,er[Wl]=!0)}),hb(er,I,"NO_AUTH",At),hb(er,D,Tp,At);var fr=Wo;oi(Ge.apiKeys,function(nt){fr[_r]>0&&(fr+=","),fr+=nt}),hb(er,ye,fr,At),hb(er,Y,so().toString(),At);var rn=Or(Ge);if(jl(rn)&&(er.url+="&ext.intweb.msfpc="+rn),lt[Xn]()&&hb(er,j,lt[Qr](),At),Rt[Tf]){var Zn=Rt[Tf]();Zn>=0&&(er.url+="&w="+Zn)}for(var St=0;St<Pt[_r];St++)er.url+="&"+Pt[St].name+"="+Pt[St].value;return er}function wt(Ge,At,er){Ge[At]=Ge[At]||{},Ge[At][Pr.identifier]=er}function ot(Ge,At,er,fr){if(Ge&&Ge.payloadBlob&&Ge.payloadBlob[_r]>0){var rn=!!Sc,Zn=Mt[Ge.sendType];!q(Ge[dl])&&Ge[bD]&&Ge.sendReason===2&&(Zn=Mt[2]||Mt[3]||Zn);var St=uo;(Ge.isBeacon||Zn[AS]===3)&&(St=!1);var nt=Ve(Ge,St);St=St||nt[Wl];var Dt=Ul();cl(Rt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ot=0;Ot<Ge.batches[_r];Ot++)for(var gr=Ge[Fu][Ot],xr=gr[ts](),Lr=0;Lr<xr[_r];Lr++){var ei=xr[Lr];if(fn){var $o=ei[ab]=ei[ab]||{};wt($o,"sendEventStart",Dt),wt($o,"serializationStart",At),wt($o,"serializationCompleted",er)}ei[wD]>0?ei[wD]++:ei[wD]=1}Ii(Ge[Fu],1e3+(fr||0),Ge[dl],!0);var yo={data:Ge.payloadBlob,urlString:nt.url,headers:nt[$v],_thePayload:Ge,_sendReason:fr,timeout:Bo,disableXhrSync:xo,disableFetchKeepAlive:Os};St&&(CD(yo[xp],xh)||(yo[xp][xh]=I_),CD(yo[xp],Ng)||(yo[xp][Ng]=sb));var kp=null;Zn&&(kp=function(qd){lt[On]();var gb=function(Fh,ED){it(Fh,ED,Ge,fr)},xf=Ge[L_]||Ge[N_];try{Zn[F_](qd,gb,xf),ia&&ia(yo,qd,xf,Ge[bD])}catch(Fh){Dg(wr,"Unexpected exception sending payload. Ex:"+qe(Fh)),_(gb,0,{})}}),cl(Rt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(kp)if(Ge[dl]===0&&zt++,rn&&!Ge.isBeacon&&Zn[AS]!==3){var qd={data:yo[Su],urlString:yo[Nm],headers:Wv({},yo[xp]),timeout:yo[Rp],disableXhrSync:yo[Es],disableFetchKeepAlive:yo[Lm]},gb=!1;cl(Rt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{Sc(qd,function(xf){gb=!0,!jt&&!xf[jg]&&(xf[jg]=xf[jg]||yo[jg],xf[Fm]=xf[Fm]||yo[Fm]),kp(xf)},Ge.isSync||Ge[L_])}catch{gb||kp(yo)}})}else kp(yo)})},function(){return{thePayload:Ge,serializationStart:At,serializationCompleted:er,sendReason:fr}},Ge[N_])}Ge.sizeExceed&&Ge.sizeExceed[_r]>0&&Ii(Ge.sizeExceed,8003,Ge[dl]),Ge.failedEvts&&Ge.failedEvts[_r]>0&&Ii(Ge.failedEvts,8002,Ge[dl])}function bt(Ge,At){fn&&oi(Ge,function(er){var fr=er[ab]=er[ab]||{};wt(fr,"sendEventCompleted",At)})}function it(Ge,At,er,fr){var rn=9e3,Zn=null,St=!1,nt=!1;try{var Dt=!0;if(typeof Ge!==s){if(At){lt[Qn](At[IS]);var Ot=At[k_]||At["kill-duration-seconds"];oi(De[MS](At[OS],Ot),function(xr){oi(er[Fu],function(Lr){if(Lr[Bn]()===xr){Zn=Zn||[];var ei=Lr[Da](0);er.numEvents-=ei[Tn](),Zn[tc](ei)}})})}if(Ge==200||Ge==204){rn=200;return}(!lb(Ge)||er.numEvents<=0)&&(Dt=!1),rn=9e3+Ge%1e3}if(Dt){rn=100;var gr=er.retryCnt;er[dl]===0&&(gr<X?(St=!0,br(function(){er[dl]===0&&zt--,et(er[Fu],gr+1,er[L_],ai?2:er[dl],5)},ai,Xv(gr))):(nt=!0,ai&&(rn=8001)))}}finally{St||(lt[Qn](),Zt(er,rn,fr,nt)),Ii(Zn,8004,er[dl])}}function Zt(Ge,At,er,fr){try{fr&&Pr[cb]();var rn=Ge[Fu];At===200&&(rn=Ge.sentEvts||Ge[Fu],!fr&&!Ge[N_]&&Pr._clearBackOff(),Gt(rn)),Ii(rn,At,Ge[dl],!0)}finally{Ge[dl]===0&&(zt--,er!==5&&Di.sendQueuedRequests(Ge[dl],er))}}function Gt(Ge){if(fn){var At=Ul();oi(Ge,function(er){er&&er[Tn]()>0&&bt(er[ts](),At)})}}function br(Ge,At,er){At?Ge():da.set(Ge,er)}function Rr(Ge){var At={};if(lr(Ge)){var er=uu(Ge)[Da](/[\r\n]+/);oi(er,function(fr){if(fr){var rn=fr.indexOf(": ");if(rn!==-1){var Zn=uu(fr.substring(0,rn))[Mm](),St=uu(fr.substring(rn+1));At[Zn]=St}else At[uu(fr)]=1}})}return At}function Or(Ge){for(var At=0;At<Ge.batches[_r];At++){var er=Ge[Fu][At].Msfpc();if(er)return encodeURIComponent(er)}return Wo}function Mn(Ge){var At=pl;try{for(var er=0;er<At[_r];er++)try{At[er](Ge)}catch(rn){Ad(wr,1,519,"Response handler failed: "+rn)}if(Ge){var fr=JSON.parse(Ge);jl(fr.webResult)&&jl(fr.webResult[Tt])&&pi.set("MSFPC",fr.webResult[Tt],365*86400)}}catch{}}function Ii(Ge,At,er,fr){if(Ge&&Ge[_r]>0&&ae){var rn=ae[Eo(At)];if(rn){var Zn=er!==0;cl(Rt,function(){return"HttpManager:_sendBatchesNotification"},function(){br(function(){try{rn.call(ae,Ge,At,Zn,er)}catch(St){Ad(wr,1,74,"send request notification failed: "+St)}},fr||Zn,0)},function(){return{batches:We(Ge),reason:At,isSync:Zn,sendSync:fr,sendType:er}},!Zn)}}}function Eo(Ge){var At=pb[Ge];return jl(At)||(At=Bv,Ge>=9e3&&Ge<=9999?At=Lg:Ge>=8e3&&Ge<=8999?At=Hl:Ge>=1e3&&Ge<=1999&&(At=Cf)),At}})}return C.__ieDyn=1,C}(),kO=.25,B_=500,Zv=20,qS=6,jS=2,$_=4,zm=2,TD=1,Bs=1e4,Ip="eventsDiscarded",$s=void 0,PD=oe({eventsLimitInMem:{isVal:ec,v:Bs},immediateEventLimit:{isVal:ec,v:500},autoFlushEventsLimit:{isVal:ec,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:RD,v:$s},overrideInstrumentationKey:$s,overrideEndpointUrl:$s,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:$s,clearTimeoutOverride:$s,payloadPreprocessor:$s,payloadListener:$s,disableEventTimings:$s,valueSanitizer:$s,stringifyObjects:$s,enableCompoundKey:$s,disableOptimizeObj:!1,transports:$s,unloadTransports:$s,useSendBeacon:$s,disableFetchKeepAlive:$s,avoidOptions:!1,xhrTimeout:$s,disableXhrSync:$s,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:on,v:qS},maxUnloadEventRetryAttempts:{isVal:on,v:jS},addNoResponse:$s});function RD(C){return C&&C[F_]}var xD=function(C){By(M,C);function M(){var B=C.call(this)||this;B.identifier="PostChannel",B.priority=1011,B.version="4.0.4";var X,ae=!1,Se=[],De,Xe=!1,lt=0,gt,zt=0,Pr,wr={},Mt=e,Rt,jt,Pt,dr,ir,yr,fn,pi,ai,uo,Bo,xo,Os,rc,Xi,wc,Sc,ia,pl,la,da,Di;return Zs(M,B,function(to,$l){ie(),to._getDbgPlgTargets=function(){return[ir,X]},to[Pp]=function(nt,Dt,Ot){cl(Dt,function(){return"PostChannel:initialize"},function(){$l[Pp](nt,Dt,Ot),pl=Dt.getNotifyMgr();try{Xi=Qa(yu(to[Pf]),Dt.evtNamespace&&Dt.evtNamespace()),to._addHook(bu(nt,function(gr){var xr=gr.cfg,Lr=Fv(null,xr,Dt);X=Lr.getExtCfg(to[Pf],PD),wc=Mh(X[Vv],X[Gv]),Bo=!X[ub]&&O_(),Sc=X[q_],Lh(Dt),Pr=X[eo],gt=X.immediateEventLimit,fn=X[LS],Os=X.maxEventRetryAttempts,rc=X.maxUnloadEventRetryAttempts,ia=X[zg],St(),da=X[Jv],Di=!!X[I0],la&&mb();var ei=xr.disablePageUnloadEvents||[];la=Em(Nh,ei,Xi),la=rb(Nh,ei,Xi)||la,la=Uv(h,xr.disablePageShowEvents,Xi)||la})),ir[Pp](nt,to.core,to)}catch(gr){throw to.setInitialized(!1),gr}},function(){return{theConfig:nt,core:Dt,extensions:Ot}})},to.processTelemetry=function(nt,Dt){wf(nt,to[Pf]),Dt=Dt||to._getTelCtx(Dt);var Ot=nt;!Di&&!ae&&(da&&(Ot[Bn]=da),_(Ot,!0),xo?We(2,2):V()),to.processNext(Ot,Dt)},to._doTeardown=function(nt,Dt){We(2,2),ae=!0,ir.teardown(),mb(),ie()};function mb(){Ig(null,Xi),yn(null,Xi),Rh(null,Xi)}function Lh(nt){var Dt=nt[Tf];nt[Tf]=function(){var Ot=0;return Sc&&(Ot=Ot|2),Ot|Dt.call(nt)}}function Nh(nt){var Dt=nt||su().event;Dt.type!=="beforeunload"&&(xo=!0,ir[kS](xo)),We(2,2)}function h(nt){xo=!1,ir[kS](xo)}function _(nt,Dt){if(nt[Rf]||(nt[Rf]=0),nt[Bl]||(nt[Bl]=1),nt.ext&&nt.ext[Yt]&&delete nt.ext[Yt],nt.ext&&nt.ext[kr]&&nt.ext[kr].id&&delete nt.ext[kr].id,Bo&&(nt.ext=gu(nt.ext),nt[NS]&&(nt[NS]=gu(nt[NS])),nt[Su]&&(nt[Su]=gu(nt[Su]))),nt[Ep]){if(Pt||Xe)nt[Bl]=3,nt[Ep]=!1;else if(ir){Bo&&(nt=gu(nt)),ir[O0](fl.create(nt[Bn],[nt]),nt[Ep]===!0?1:nt[Ep],3);return}}var Ot=nt[Bl],gr=zt,xr=Pr;Ot===4&&(gr=lt,xr=gt);var Lr=!1;if(gr<xr)Lr=!ot(nt,Dt);else{var ei=1,$o=Zv;Ot===4&&(ei=4,$o=1),Lr=!0,bt(nt[Bn],nt[Bl],ei,$o)&&(Lr=!ot(nt,Dt))}Lr&&Eo(Ip,[nt],Ba.QueueFull)}to.setEventQueueLimits=function(nt,Dt){X[eo]=Pr=ec(nt)?nt:Bs,X[LS]=fn=ec(Dt)?Dt:0,St();var Ot=zt>nt;if(!Ot&&pi>0)for(var gr=1;!Ot&&gr<=3;gr++){var xr=yr[gr];xr&&xr[Fu]&&oi(xr[Fu],function(Lr){Lr&&Lr[Tn]()>=pi&&(Ot=!0)})}wt(!0,Ot)},to.pause=function(){Ie(),Xe=!0,ir.pause()},to.resume=function(){Xe=!1,ir.resume(),V()},to._loadTransmitProfiles=function(nt){Rr(),$r(nt,function(Dt,Ot){var gr=Ot[_r];if(gr>=2){var xr=gr>2?Ot[2]:0;if(Ot[Fg](0,gr-2),Ot[1]<0&&(Ot[0]=-1),Ot[1]>0&&Ot[0]>0){var Lr=Ot[0]/Ot[1];Ot[0]=Math.ceil(Lr)*Ot[1]}xr>=0&&Ot[1]>=0&&xr>Ot[1]&&(xr=Ot[1]),Ot[tc](xr),wr[Dt]=Ot}})},to.flush=function(nt,Dt,Ot){nt===void 0&&(nt=!0);var gr;if(!Xe)if(Ot=Ot||1,nt)Dt||(gr=Z(function(Lr){Dt=Lr})),De==null?(Ie(),Zt(1,0,Ot),De=ge(function(){De=null,Gt(Dt,Ot)},0)):Se[tc](Dt);else{var xr=Ie();O(1,1,Ot),Dt&&Dt(),xr&&V()}return gr},to.setMsaAuthTicket=function(nt){ir.addHeader(Be,nt)},to.hasEvents=q,to._setTransmitProfile=function(nt){Mt!==nt&&wr[nt]!==void 0&&(Ie(),Mt=nt,V())},wd(to,function(){return ir},["addResponseHandler"]);function O(nt,Dt,Ot){var gr=Zt(nt,Dt,Ot);return ir[Df](Dt,Ot),gr}function q(){return zt>0}function V(){if(ai>=0&&Zt(ai,0,uo)&&ir[Df](0,uo),lt>0&&!jt&&!Xe){var nt=wr[Mt][2];nt>=0&&(jt=ge(function(){jt=null,O(4,0,1),V()},nt))}var Dt=wr[Mt][1];!Rt&&!De&&Dt>=0&&!Xe&&(q()?Rt=ge(function(){Rt=null,O(dr===0?3:1,0,1),dr++,dr%=2,V()},Dt):dr=0)}to[cb]=function(){Pt<$_&&(Pt++,Ie(),V())},to._clearBackOff=function(){Pt&&(Pt=0,Ie(),V())};function ie(){X=null,ae=!1,Se=[],De=null,Xe=!1,lt=0,gt=500,zt=0,Pr=Bs,wr={},Mt=e,Rt=null,jt=null,Pt=0,dr=0,yr={},fn=0,la=!1,pi=0,ai=-1,uo=null,Bo=!0,xo=!1,Os=qS,rc=jS,Xi=null,da=null,Di=!1,wc=Mh(),ir=new jm(B_,zm,TD,{requeue:Mn,send:At,sent:er,drop:fr,rspFail:rn,oth:Zn}),Or(),et(),St()}function ge(nt,Dt){Dt===0&&Pt&&(Dt=1);var Ot=1e3;return Pt&&(Ot=Xv(Pt-1)),wc.set(nt,Dt*Ot)}function Ie(){return Rt!==null?(Rt.cancel(),Rt=null,dr=0,!0):!1}function We(nt,Dt){Ie(),De&&(De.cancel(),De=null),Xe||O(1,nt,Dt)}function et(){yr[4]={batches:[],iKeyMap:{}},yr[3]={batches:[],iKeyMap:{}},yr[2]={batches:[],iKeyMap:{}},yr[1]={batches:[],iKeyMap:{}}}function Ve(nt,Dt,Ot){var gr=yr[Dt];gr||(Dt=1,gr=yr[Dt]);var xr=gr.iKeyMap[nt];return!xr&&Ot&&(xr=fl.create(nt),gr.batches[tc](xr),gr.iKeyMap[nt]=xr),xr}function wt(nt,Dt){ir[Yv]()&&!Pt&&(fn>0&&zt>fn&&(Dt=!0),Dt&&De==null&&to.flush(nt,function(){},20))}function ot(nt,Dt){Bo&&(nt=gu(nt));var Ot=nt[Bl],gr=Ve(nt[Bn],Ot,!0);return gr.addEvent(nt)?(Ot!==4?(zt++,Dt&&nt[Rf]===0&&wt(!nt.sync,pi>0&&gr[Tn]()>=pi)):lt++,!0):!1}function bt(nt,Dt,Ot,gr){for(;Ot<=Dt;){var xr=Ve(nt,Dt,!0);if(xr&&xr[Tn]()>0){var Lr=xr[Da](0,gr),ei=Lr[Tn]();if(ei>0)return Ot===4?lt-=ei:zt-=ei,Ge(Ip,[Lr],Ba.QueueFull),!0}Ot++}return it(),!1}function it(){for(var nt=0,Dt=0,Ot=function(xr){var Lr=yr[xr];Lr&&Lr[Fu]&&oi(Lr[Fu],function(ei){xr===4?nt+=ei[Tn]():Dt+=ei[Tn]()})},gr=1;gr<=4;gr++)Ot(gr);zt=Dt,lt=nt}function Zt(nt,Dt,Ot){var gr=!1,xr=Dt===0;return!xr||ir[Yv]()?cl(to.core,function(){return"PostChannel._queueBatches"},function(){for(var Lr=[],ei=4;ei>=nt;){var $o=yr[ei];$o&&$o.batches&&$o.batches[_r]>0&&(oi($o[Fu],function(yo){ir.addBatch(yo)?gr=gr||yo&&yo[Tn]()>0:Lr=Lr[Ci](yo[ts]()),ei===4?lt-=yo[Tn]():zt-=yo[Tn]()}),$o[Fu]=[],$o.iKeyMap={}),ei--}Lr[_r]>0&&Eo(Ip,Lr,Ba.KillSwitch),gr&&ai>=nt&&(ai=-1,uo=0)},function(){return{latency:nt,sendType:Dt,sendReason:Ot}},!xr):(ai=ai>=0?Math.min(ai,nt):nt,uo=Math.max(uo,Ot)),gr}function Gt(nt,Dt){O(1,0,Dt),it(),br(function(){nt&&nt(),Se[_r]>0?De=ge(function(){De=null,Gt(Se.shift(),Dt)},0):(De=null,V())})}function br(nt){ir[yD]()?nt():De=ge(function(){De=null,br(nt)},kO)}function Rr(){Ie(),Or(),Mt=e,V()}function Or(){wr={},wr[e]=[2,1,0],wr[t]=[6,3,0],wr[n]=[18,9,0]}function Mn(nt,Dt){var Ot=[],gr=Os;xo&&(gr=rc),oi(nt,function(xr){xr&&xr[Tn]()>0&&oi(xr[ts](),function(Lr){Lr&&(Lr[Ep]&&(Lr[Bl]=4,Lr[Ep]=!1),Lr[Rf]<gr?(wf(Lr,to[Pf]),_(Lr,!1)):Ot[tc](Lr))})}),Ot[_r]>0&&Eo(Ip,Ot,Ba.NonRetryableStatus),xo&&We(2,2)}function Ii(nt,Dt){var Ot=pl||{},gr=Ot[nt];if(gr)try{gr.apply(Ot,Dt)}catch(xr){Ad(to.diagLog(),1,74,nt+" notification failed: "+xr)}}function Eo(nt,Dt){for(var Ot=[],gr=2;gr<arguments.length;gr++)Ot[gr-2]=arguments[gr];Dt&&Dt[_r]>0&&Ii(nt,[Dt][Ci](Ot))}function Ge(nt,Dt){for(var Ot=[],gr=2;gr<arguments.length;gr++)Ot[gr-2]=arguments[gr];Dt&&Dt[_r]>0&&oi(Dt,function(xr){xr&&xr[Tn]()>0&&Ii(nt,[xr.events()][Ci](Ot))})}function At(nt,Dt,Ot){nt&&nt[_r]>0&&Ii("eventsSendRequest",[Dt>=1e3&&Dt<=1999?Dt-1e3:0,Ot!==!0])}function er(nt,Dt){Ge("eventsSent",nt,Dt),V()}function fr(nt,Dt){Ge(Ip,nt,Dt>=8e3&&Dt<=8999?Dt-8e3:Ba.Unknown)}function rn(nt){Ge(Ip,nt,Ba.NonRetryableStatus),V()}function Zn(nt,Dt){Ge(Ip,nt,Ba.Unknown),V()}function St(){ia?pi=0:pi=Math.max(B_*(zm+1),Pr/6)}}),B}return M.__ieDyn=1,M}(eb);r.BE_PROFILE=n,r.NRT_PROFILE=t,r.PostChannel=xD,r.RT_PROFILE=e})});var rme=P(Pb=>{"use strict";var M8e=Pb&&Pb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),L8e=Pb&&Pb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tme=Pb&&Pb.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&M8e(e,r,t);return L8e(e,r),e};Object.defineProperty(Pb,"__esModule",{value:!0});Pb.oneDataSystemClientFactory=void 0;var N8e=async(r,e,t)=>{let n=await Promise.resolve().then(()=>tme(Qhe())),i=await Promise.resolve().then(()=>tme(eme())),o=new n.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:r,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(t){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:t};a.extensionConfig[s.identifier]=l}let u=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{u&&(l.ext=l.ext??{},l.ext.utc=l.ext.utc??{},l.ext.utc.flags=8462029)}),o},F8e=async(r,e,t)=>{let n=await N8e(r,e,t);return{logEvent:(s,a)=>{try{n?.track({name:s,baseData:{name:s,properties:a?.properties,measurements:a?.measurements}})}catch(c){throw new Error(`Failed to log event to app insights!
`+c.message)}},flush:async()=>{try{return new Promise((a,c)=>{if(!n){a();return}n.flush(!0,u=>{if(!u){c("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(a=>{if(!n){a();return}n.unload(!1,()=>{a(),n=void 0},1e3)})}};Pb.oneDataSystemClientFactory=F8e});var ime=P((FF,nme)=>{(function(r,e){typeof FF=="object"&&typeof nme<"u"?e(FF):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(FF,function(r){"use strict";var e=void 0,t=null,n="",i="function",o="number",s="object",a="prototype",c="__proto__",u="string",l="undefined",d="constructor",f="Symbol",y="_polyfill",b="indexOf",T="length",k="value",z="name",A="slice",U=Object,ne=U[a],de=String,ve=de[a],$=Math,W=Array,ee=W[a];function Pe(D,I){var j=I;try{j=D()}catch{}return j}function se(D){return function(I){return typeof I===D}}function ue(D){var I="[object "+D+"]";return function(j){return!!(j&&Fe(j)===I)}}function Fe(D){return ne.toString.call(D)}function Le(D){return typeof D===l||D===l}function ce(D){return D===t||Le(D)}function Ce(D){return!!D||D!==e}var we=se(u),Ee=se(i);function Ne(D){return!D&&ce(D)?!1:!!D&&typeof D===s}var $e=W.isArray,Ct=se(o),ze=ue("Error"),st=U.getOwnPropertyDescriptor;function at(D,I){return D&&ne.hasOwnProperty.call(D,I)}var tt=U.hasOwn||pr;function pr(D,I){return at(D,I)||!!st(D,I)}function Ar(D,I,j){if(D&&Ne(D)){for(var Y in D)if(tt(D,Y)&&I.call(j||D,Y,D[Y])===-1)break}}function jr(D,I,j,Y){var ye={};return Ar(D,function(Be,Ze){ye[Be]=I?Ze:Be,ye[Ze]=j?Ze:Be}),Y(ye)}function lr(D){throw new Error(D)}function Et(D){throw new TypeError(D)}var hr=U.freeze,Lt=function(D){return D},on=function(D){return D[c]||t},un=U.assign;function En(D){return(!Ne(D)||D===t)&&Et("objKeys called on non-object"),U.keys(D)}function Er(D){return hr&&Ar(D,function(I,j){($e(j)||Ne(j))&&hr(j)}),Un(D)}var Un=hr||Lt,Br=U.getPrototypeOf||on;function ln(D){return jr(D,1,0,Er)}function ni(D){var I={};return Ar(D,function(j,Y){I[j]=Y[1],I[Y[0]]=Y[1]}),Er(I)}function $r(D){return ni(D)}var kn=de,Ei="__tsUtils$gblCfg",Vr;function Yi(){var D;return typeof globalThis!==l&&(D=globalThis),!D&&typeof self!==l&&(D=self),!D&&typeof window!==l&&(D=window),!D&&typeof global!==l&&(D=global),D}function ii(){if(!Vr){var D=Yi()||{};Vr=D[Ei]=D[Ei]||{}}return Vr}function dn(D,I){var j=n;if(ze(D))j="{ stack: '"+D.stack+"', message: '"+D.message+"', name: '"+D.name+"'";else try{j=JSON.stringify(D,t,I?Ct(I)?I:4:e)}catch(Y){j=" - "+dn(Y,I)}return Fe(D)+": "+j}var Oe=ee[A],oe=function(D,I){Et("'"+kn(D)+"' not defined for "+dn(I))},Q=function(D){return function(I){return I[D].apply(I,Oe.call(arguments,1))}},_e=function(D,I){var j=I&&I[D];return function(Y){var ye=Y&&Y[D]||j;if(ye)return ye.apply(Y,Oe.call(arguments,1));oe(D,Y)}},Ke=function(D,I,j){var Y=I&&I[D];return function(ye){var Be=ye&&ye[D]||Y;if(Be||j){var Ze=arguments;return(Be||j).apply(ye,Be?Oe.call(Ze,1):Ze)}oe(D,ye)}},ft=$.max,Jt=_e(A,ve),nr=_e("substring",ve),Xt=Ke("substr",ve,Vt);function Vt(D,I,j){return ce(D)&&Et("'polyStrSubstr called with invalid "+dn(D)),j<0?n:(I=I||0,I<0&&(I=ft(I+D[T],0)),Le(j)?Jt(D,I):Jt(D,I,I+j))}function kt(D,I){return nr(D,0,I)}var K="_urid",qe;function Wt(){if(!qe){var D=ii();qe=D.gblSym=D.gblSym||{k:{},s:{}}}return qe}function Dr(D){var I={description:kn(D),toString:function(){return f+"("+D+")"}};return I[y]=!0,I}function He(D){var I=Wt();if(!tt(I.k,D)){var j=Dr(D),Y=En(I.s).length;j[K]=function(){return Y+"_"+j.toString()},I.k[D]=j,I.s[j[K]()]=kn(D)}return I.k[D]}var re={e:"enumerable",c:"configurable",v:k,w:"writable",g:"get",s:"set"};function xe(D){var I={};if(I[re.c]=!0,I[re.e]=!0,D.l){I.get=function(){return D.l.v};var j=st(D.l,"v");j&&j.set&&(I.set=function(Y){D.l.v=Y})}return Ar(D,function(Y,ye){I[re[Y]]=Le(ye)?I[re[Y]]:ye}),I}var je=U.defineProperty;function pe(D,I,j){return je(D,I,xe(j))}var S,fe=function(){S=ii(),fe=t};function Je(D){var I={};return fe&&fe(),I.b=S.lzy,je(I,"v",{configurable:!0,get:function(){var j=D();return S.lzy||(je(I,"v",{value:j}),I.b&&delete I.b),S.lzy&&I.b!==S.lzy&&(I.b=S.lzy),j}}),I}function Cr(D,I){return Je(function(){return Pe(D,I)})}var Wr="window",Xr,Fn,Oi,Ts,_n=function(D){return Cr(function(){return Ns(D)||e},e)},Xo=function(D){return(!Xr||D===!1||S&&S.lzy&&!Xr.b)&&(Xr=Cr(Yi,t)),Xr.v},Ns=function(D,I){var j=!Xr||I===!1?Xo(I):Xr.v;return j&&j[D]?j[D]:D===Wr&&Fn?Fn.v:t},Ys=function(){return(!Oi||S&&S.lzy&&!Oi.b)&&(Oi=_n("document")),Oi.v},Ao=function(){return!!Do()},Do=function(){return(!Fn||S&&S.lzy&&!Fn.b)&&(Fn=_n(Wr)),Fn.v},H=function(){return!!Ue()},Ue=function(){return(!Ts||S&&S.lzy&&!Ts.b)&&(Ts=_n("navigator")),Ts.v},vt,Fr,io;function Hi(D){return Cr(function(){return vt.v?vt.v[D]:e},e)}function L(){var D=!vt||S&&S.lzy&&!vt.b;return D&&(vt=_n(f)),(!Fr||D)&&(Fr=Hi("for")),(!io||D)&&(io=Hi("keyFor")),vt.v}function Me(D,I){return(!vt||S.lzy&&!vt.b)&&L(),vt.v?vt.v(D):I?t:Dr(D)}function rt(D){return(!Fr||S.lzy&&!vt.b)&&L(),(Fr.v||He)(D)}var Ut=Q("apply");function An(D,I,j){if(D)for(var Y=D[T]>>>0,ye=0;ye<Y&&!(ye in D&&I.call(j||D,D[ye],ye,D)===-1);ye++);}var wn=_e(b,ee),Ln=_e("map",ee),oo=_e(A,ee),qi=Q("call"),To=_e("reduce",ee),$i=U.create,Yn=$i||su;function su(D){if(!D)return{};var I=typeof D;if(I!==s&&I!==i)throw new TypeError("Prototype must be an Object or function: "+dn(D));function j(){}return j[a]=D,new j}var Qo;function go(D,I){var j=U.setPrototypeOf||function(Y,ye){!Qo&&(Qo=Je(function(){var Be;return Be={},Be[c]=[],Be instanceof Array})),Qo.v?Y[c]=ye:Ar(ye,function(Be,Ze){return Y[Be]=Ze})};return j(D,I)}var Qu=function(D,I,j){Ua(I,D),I=go(I,j);function Y(){this.constructor=I,Ua(this,D)}return I[a]=j===t?Yn(j):(Y[a]=j[a],new Y),I},Mi=function(D,I){try{I&&(D[z]=I)}catch{}},Ua=function(D,I){try{pe(D,z,{v:I,c:!0,e:!1})}catch{}};function Ha(D,I,j){var Y=j||Error,ye=Y[a][z],Be=Error.captureStackTrace;return Qu(D,function(){var Ze=this;try{Mi(Y,D);var ct=Ut(Y,Ze,oo(arguments))||Ze;if(ct!==Ze){var Tt=Br(Ze);Tt!==Br(ct)&&go(ct,Tt)}return Be&&Be(ct,Ze[d]),I&&I(ct,arguments),ct}finally{Mi(Y,ye)}},Y)}function aa(){return(Date.now||Zu)()}function Zu(){return new Date().getTime()}function ip(D){return function(j){return ce(j)&&Et("strTrim called ["+dn(j)+"]"),j&&j.replace&&(j=j.replace(D,n)),j}}var pc=ip(/^\s+|(?=\s)\s+$/g),Js=Ke("trim",ve,pc),au,op,qo;function Fs(D){if(!D||typeof D!==s)return!1;qo||(qo=Ao()?Do():!0);var I=!1;if(D!==qo){op||(au=Function[a].toString,op=qi(au,U));try{var j=Br(D);I=!j,I||(at(j,d)&&(j=j[d]),I=j&&typeof j===i&&au.call(j)===op)}catch{}}return I}var Cn;function qs(){return(!Cn||!Cn.b&&S&&S.lzy)&&(Cn=_n("performance")),Cn.v}var cu=Ke("endsWith",ve,oi);function oi(D,I,j){we(D)||Et("'"+dn(D)+"' is not a string");var Y=we(I)?I:kn(I),ye=Y[T],Be=D[T],Ze=!Le(j)&&j<Be?j:Be;return nr(D,Ze-ye,Ze)===Y}var ga=_e(b,ve),zc="ref",sp="un"+zc,Zd="hasRef",rh="enabled";function ef(D,I,j){var Y,ye=!0,Be=D?I(t):t,Ze,ct=function(){return ye=!1,Be&&Be[sp]&&Be[sp](),Ze},Tt=function(){return ye=!0,Be&&Be[zc]&&Be[zc](),Ze},Yt=function(){return Be&&Be[Zd]?Be[Zd]():ye},kr=function(){return Be=I(Be),ye||ct(),Ze},qn=function(){Be&&j(Be),Be=t},On=function(Xn){!Xn&&Be&&qn(),Xn&&!Be&&kr()};return Ze=(Y={cancel:qn,refresh:kr},Y[Zd]=Yt,Y[zc]=Tt,Y[sp]=ct,Y[rh]=!1,Y),je(Ze,rh,{get:function(){return!!Be},set:On}),{h:Ze,dn:function(){Be=t}}}function nh(D,I,j,Y){var ye=$e(j),Be=ye?j.length:0,Ze=(Be>0?j[0]:ye?e:j)||setTimeout,ct=(Be>1?j[1]:e)||clearTimeout,Tt=Y[0];Y[0]=function(){Yt.dn(),Ut(Tt,D,oo(arguments))};var Yt=ef(I,function(kr){if(kr){if(kr.refresh)return kr.refresh(),kr;Ut(ct,D,[kr])}return Ut(Ze,D,Y)},function(kr){Ut(ct,D,[kr])});return Yt.h}function tf(D,I){return nh(this,!0,e,oo(arguments))}var wl=ln,Jn=$r,js="toLowerCase",Sl="blkVal",so="length",ap="rdOnly",cp="notify",zs="warnToConsole",uu="throwInternal",up="setDf",dd="watch",gs="logger",Cl="apply",Uc="push",om="splice",fd="hdlr",rf="cancel",nf="name",hc="unload",vo="version",ih="loggingLevelConsole",of="messageId",Xs="message",el="diagLog",lu="userAgent",Rv="split",Qs="replace",By="logInternalMessage",xu="traceId",pd="spanId",jo="traceFlags",Dl;function lp(D,I){Dl||(Dl=Ha("AggregationError",function(Y,ye){ye[so]>1&&(Y.errors=ye[1])}));var j=D||"One or more errors occurred.";throw An(I,function(Y,ye){j+=`
`.concat(ye," > ").concat(dn(Y))}),new Dl(j,I||[])}var mg="function",hd="object",dp="undefined",oh="prototype",Tl=Object,sh=Tl[oh];(Xo()||{}).Symbol,(Xo()||{}).Reflect;var Eu="hasOwnProperty",fp=function(D){for(var I,j=1,Y=arguments.length;j<Y;j++){I=arguments[j];for(var ye in I)sh[Eu].call(I,ye)&&(D[ye]=I[ye])}return D},du=un||fp,sf=function(D,I){return sf=Tl.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,Y){j.__proto__=Y}||function(j,Y){for(var ye in Y)Y[Eu](ye)&&(j[ye]=Y[ye])},sf(D,I)};function md(D,I){typeof I!==mg&&I!==null&&Et("Class extends value "+String(I)+" is not a constructor or null"),sf(D,I);function j(){this.constructor=D}D[oh]=I===null?Yn(I):(j[oh]=I[oh],new j)}var af,gd="constructor",Us="prototype",va="function",Po="_dynInstFuncs",Hc="_isDynProxy",Wa="_dynClass",gg="_dynCls$",Ou="_dynInstChk",Hs=Ou,Pl="_dfOpts",ah="_unknown_",fu="__proto__",tl="_dyn"+fu,pp="__dynProto$Gbl",mc="_dynInstProto",Iu="useBaseInst",vs="setInstFuncs",Wc=Object,ku=Wc.getPrototypeOf,Au=Wc.getOwnPropertyNames,Zs=Xo(),vg=Zs[pp]||(Zs[pp]={o:(af={},af[vs]=!0,af[Iu]=!0,af),n:1e3});function Ba(D){return D&&(D===Wc[Us]||D===Array[Us])}function rl(D){return Ba(D)||D===Function[Us]}function zo(D){var I;if(D){if(ku)return ku(D);var j=D[fu]||D[Us]||(D[gd]?D[gd][Us]:null);I=D[tl]||j,at(D,tl)||(delete D[mc],I=D[tl]=D[mc]||D[tl],D[mc]=j)}return I}function Uo(D,I){var j=[];if(Au)j=Au(D);else for(var Y in D)typeof Y=="string"&&at(D,Y)&&j.push(Y);if(j&&j.length>0)for(var ye=0;ye<j.length;ye++)I(j[ye])}function cf(D,I,j){return I!==gd&&typeof D[I]===va&&(j||at(D,I))}function Mu(D){Et("DynamicProto: "+D)}function uf(D){var I={};return Uo(D,function(j){!I[j]&&cf(D,j,!1)&&(I[j]=D[j])}),I}function Mo(D,I){for(var j=D.length-1;j>=0;j--)if(D[j]===I)return!0;return!1}function Rl(D,I,j,Y){function ye(Tt,Yt,kr){var qn=Yt[kr];if(qn[Hc]&&Y){var On=Tt[Po]||{};On[Hs]!==!1&&(qn=(On[Yt[Wa]]||{})[kr]||qn)}return function(){return qn.apply(Tt,arguments)}}var Be={};Uo(j,function(Tt){Be[Tt]=ye(I,j,Tt)});for(var Ze=zo(D),ct=[];Ze&&!rl(Ze)&&!Mo(ct,Ze);)Uo(Ze,function(Tt){!Be[Tt]&&cf(Ze,Tt,!ku)&&(Be[Tt]=ye(I,Ze,Tt))}),ct.push(Ze),Ze=zo(Ze);return Be}function lf(D,I,j,Y){var ye=null;if(D&&at(j,Wa)){var Be=D[Po]||{};if(ye=(Be[j[Wa]]||{})[I],ye||Mu("Missing ["+I+"] "+va),!ye[Ou]&&Be[Hs]!==!1){for(var Ze=!at(D,I),ct=zo(D),Tt=[];Ze&&ct&&!rl(ct)&&!Mo(Tt,ct);){var Yt=ct[I];if(Yt){Ze=Yt===Y;break}Tt.push(ct),ct=zo(ct)}try{Ze&&(D[I]=ye),ye[Ou]=1}catch{Be[Hs]=!1}}}return ye}function ca(D,I,j){var Y=I[D];return Y===j&&(Y=zo(I)[D]),typeof Y!==va&&Mu("["+D+"] is not a "+va),Y}function pu(D,I,j,Y,ye){function Be(Tt,Yt){var kr=function(){var qn=lf(this,Yt,Tt,kr)||ca(Yt,Tt,kr);return qn.apply(this,arguments)};return kr[Hc]=1,kr}if(!Ba(D)){var Ze=j[Po]=j[Po]||{},ct=Ze[I]=Ze[I]||{};Ze[Hs]!==!1&&(Ze[Hs]=!!ye),Uo(j,function(Tt){cf(j,Tt,!1)&&j[Tt]!==Y[Tt]&&(ct[Tt]=j[Tt],delete j[Tt],(!at(D,Tt)||D[Tt]&&!D[Tt][Hc])&&(D[Tt]=Be(D,Tt)))})}}function ea(D,I){if(ku){for(var j=[],Y=zo(I);Y&&!rl(Y)&&!Mo(j,Y);){if(Y===D)return!0;j.push(Y),Y=zo(Y)}return!1}return!0}function Ps(D,I){return at(D,Us)?D.name||I||ah:((D||{})[gd]||{}).name||I||ah}function xl(D,I,j,Y){at(D,Us)||Mu("theClass is an invalid class definition.");var ye=D[Us];ea(ye,I)||Mu("["+Ps(D)+"] not in hierarchy of ["+Ps(I)+"]");var Be=null;at(ye,Wa)?Be=ye[Wa]:(Be=gg+Ps(D,"_")+"$"+vg.n,vg.n++,ye[Wa]=Be);var Ze=xl[Pl],ct=!!Ze[Iu];ct&&Y&&Y[Iu]!==void 0&&(ct=!!Y[Iu]);var Tt=uf(I),Yt=Rl(ye,I,Tt,ct);j(I,Yt);var kr=!!ku&&!!Ze[vs];kr&&Y&&(kr=!!Y[vs]),pu(ye,Be,I,Tt,kr!==!1)}xl[Pl]=vg.o;var xv=void 0,us="",Bc="Not dynamic - ",nl=/-([a-z])/g,hp=/([^\w\d_$])/g,vd=/^(\d+[\w\d_$])/;function ch(D){return!ce(D)}function $a(D){var I=D;return I&&we(I)&&(I=I[Qs](nl,function(j,Y){return Y.toUpperCase()}),I=I[Qs](hp,"_"),I=I[Qs](vd,function(j,Y){return"_"+Y})),I}function sm(D,I){return D&&I?ga(D,I)!==-1:!1}function ji(D){return D&&D.toISOString()||""}function Zo(D){return ze(D)?D[nf]:us}function Lu(D){return function(){function I(){var j=this;D&&Ar(D,function(Y,ye){j[Y]=ye})}return I}()}var gc="console",vc="JSON",ta="crypto",il="msCrypto",Vi="msie",df="trident/",Si=null,ya=null,Hn=null;function yd(){return typeof console!==dp?console:Ns(gc)}function El(){return!!(typeof JSON===hd&&JSON||Ns(vc)!==null)}function yc(){return El()?JSON||Ns(vc):null}function Ho(){return Ns(ta)}function Va(){return Ns(il)}function ra(){var D=Ue();if(D&&(D[lu]!==ya||Si===null)){ya=D[lu];var I=(ya||us)[js]();Si=sm(I,Vi)||sm(I,df)}return Si}function ao(D){return(Hn===null||D===!1)&&(Hn=H()&&!!Ue().sendBeacon),Hn}function hu(D,I){if(D)for(var j=0;j<D[so];j++){var Y=D[j];if(Y[nf]&&Y[nf]===I)return Y}return{}}function Nn(D){var I=Ys();return I&&D?hu(I.querySelectorAll("meta"),D).content:null}function $c(D){var I,j=qs();if(j){var Y=j.getEntriesByType("navigation")||[];I=hu((Y[so]>0?Y[0]:{}).serverTiming,D).description}return I}var Ro=4294967296,si=4294967295,Ol=123456789,ba=987654321,ua=!1,na=Ol,Il=ba;function Ga(D){D<0&&(D>>>=0),na=Ol+D&si,Il=ba-D&si,ua=!0}function bd(){try{var D=aa()&2147483647;Ga((Math.random()*Ro^D)+D)}catch{}}function ys(D){return D>0?Math.floor(Vc()/si*(D+1))>>>0:0}function Vc(D){var I=0,j=Ho()||Va();return j&&j.getRandomValues&&(I=j.getRandomValues(new Uint32Array(1))[0]&si),I===0&&ra()&&(ua||bd(),I=ol()&si),I===0&&(I=Math.floor(Ro*Math.random()|0)),D||(I>>>=0),I}function ol(D){Il=36969*(Il&65535)+(Il>>16)&si,na=18e3*(na&65535)+(na>>16)&si;var I=(Il<<16)+(na&65535)>>>0&si|0;return D||(I>>>=0),I}function kl(D){D===void 0&&(D=22);for(var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=Vc()>>>0,Y=0,ye=us;ye[so]<D;)Y++,ye+=I.charAt(j&63),j>>>=6,Y===5&&(j=(Vc()<<2&4294967295|j&3)>>>0,Y=0);return ye}var _d="3.0.5",m="."+kl(6),g=0;function R(D,I){return I===void 0&&(I=!1),$a(D+g+++(I?"."+_d:us)+m)}function E(D){return D&&Ne(D)&&(D.isVal||D.fb||tt(D,"v")||tt(D,"mrg")||tt(D,"ref")||D.set)}function N(D,I,j){var Y,ye=j.dfVal||Ce;if(I&&j.fb){var Be=j.fb;$e(Be)||(Be=[Be]);for(var Ze=0;Ze<Be[so];Ze++){var ct=Be[Ze],Tt=I[ct];if(ye(Tt)?Y=Tt:D&&(Tt=D.cfg[ct],ye(Tt)&&(Y=Tt),D.set(D.cfg,kn(ct),Tt)),ye(Y))break}}return!ye(Y)&&ye(j.v)&&(Y=j.v),Y}function J(D,I,j){var Y=j;if(j&&E(j)&&(Y=N(D,I,j)),Y){E(Y)&&(Y=J(D,I,Y));var ye;$e(Y)?(ye=[],ye[so]=Y[so]):Fs(Y)&&(ye={}),ye&&(Ar(Y,function(Be,Ze){Ze&&E(Ze)&&(Ze=J(D,I,Ze)),ye[Be]=Ze}),Y=ye)}return Y}function Z(D,I,j,Y){var ye,Be,Ze,ct=Y,Tt,Yt,kr,qn;E(ct)?(ye=ct.isVal,Be=ct.set,kr=ct[ap],qn=ct[Sl],Tt=ct.mrg,Yt=ct.ref,!Yt&&Le(Yt)&&(Yt=!!Tt),Ze=N(D,I,ct)):Ze=Y,qn&&D[Sl](I,j);var On,Xn=!0,Qr=I[j];(Qr||!ce(Qr))&&(On=Qr,Xn=!1,ye&&On!==Ze&&!ye(On)&&(On=Ze,Xn=!0),Be&&(On=Be(On,Ze,I),Xn=On===Ze)),Xn?Ze?On=J(D,I,Ze):On=Ze:(Fs(On)||$e(Ze))&&Tt&&Ze&&(Fs(Ze)||$e(Ze))&&Ar(Ze,function(Qn,_r){Z(D,On,Qn,_r)}),D.set(I,j,On),Yt&&D.ref(I,j),kr&&D[ap](I,j)}var he=rt("[[ai_dynCfg_1]]"),ke=rt("[[ai_blkDynCfg_1]]"),Qe=rt("[[ai_frcDynCfg_1]]");function pt(D){if(D){var I;if($e(D)?(I=[],I[so]=D[so]):Fs(D)&&(I={}),I)return Ar(D,function(j,Y){I[j]=pt(Y)}),I}return D}function Ht(D){if(D){var I=D[he]||D;if(I.cfg&&(I.cfg===D||I.cfg[he]===I))return I}return null}function Sr(D){if(D&&(Fs(D)||$e(D)))try{D[ke]=!0}catch{}return D}function sn(D,I,j){var Y=!1;return j&&!D[I.blkVal]&&(Y=j[Qe],!Y&&!j[ke]&&(Y=Fs(j)||$e(j))),Y}function qr(D){Et("InvalidAccess:"+D)}var Wn=["push","pop","shift","unshift","splice"],Ws=function(D,I,j,Y){D&&D[uu](3,108,"".concat(j," [").concat(I,"] failed - ")+dn(Y))};function Ka(D,I,j){$e(I)&&An(Wn,function(Y){var ye=I[Y];I[Y]=function(){for(var Be=[],Ze=0;Ze<arguments.length;Ze++)Be[Ze]=arguments[Ze];var ct=ye[Cl](this,Be);return lh(D,I,j,"Patching"),ct}})}function mu(D,I){var j=st(D,I);return j&&j.get}function uh(D,I,j,Y){var ye={n:j,h:[],trk:function(Yt){Yt&&Yt.fn&&(wn(ye.h,Yt)===-1&&ye.h[Uc](Yt),D.trk(Yt,ye))},clr:function(Yt){var kr=wn(ye.h,Yt);kr!==-1&&ye.h[om](kr,1)}},Be=!0,Ze=!1;function ct(){Be&&(Ze=Ze||sn(ct,D,Y),Y&&!Y[he]&&Ze&&(Y=lh(D,Y,j,"Converting")),Be=!1);var Yt=D.act;return Yt&&ye.trk(Yt),Y}ct[D.prop]={chng:function(){D.add(ye)}};function Tt(Yt){if(Y!==Yt){ct[D.ro]&&!D.upd&&qr("["+j+"] is read-only:"+dn(I)),Be&&(Ze=Ze||sn(ct,D,Y),Be=!1);var kr=Ze&&ct[D.rf];if(Ze)if(kr){Ar(Y,function(On){Y[On]=Yt?Yt[On]:xv});try{Ar(Yt,function(On,Xn){am(D,Y,On,Xn)}),Yt=Y}catch(On){Ws((D.hdlr||{})[gs],j,"Assigning",On),Ze=!1}}else Y&&Y[he]&&Ar(Y,function(On){var Xn=mu(Y,On);if(Xn){var Qr=Xn[D.prop];Qr&&Qr.chng()}});if(Yt!==Y){var qn=Yt&&sn(ct,D,Yt);!kr&&qn&&(Yt=lh(D,Yt,j,"Converting")),Y=Yt,Ze=qn}D.add(ye)}}pe(I,ye.n,{g:ct,s:Tt})}function am(D,I,j,Y){if(I){var ye=mu(I,j),Be=ye&&!!ye[D.prop];Be?I[j]=Y:uh(D,I,j,Y)}return I}function _a(D,I,j,Y){if(I){var ye=mu(I,j),Be=ye&&!!ye[D.prop],Ze=Y&&Y[0],ct=Y&&Y[1],Tt=Y&&Y[2];if(!Be){if(Tt)try{Sr(I)}catch(Yt){Ws((D.hdlr||{})[gs],j,"Blocking",Yt)}try{am(D,I,j,I[j]),ye=mu(I,j)}catch(Yt){Ws((D.hdlr||{})[gs],j,"State",Yt)}}Ze&&(ye[D.rf]=Ze),ct&&(ye[D.ro]=ct),Tt&&(ye[D.blkVal]=!0)}return I}function lh(D,I,j,Y){try{Ar(I,function(ye,Be){am(D,I,ye,Be)}),I[he]||(je(I,he,{get:function(){return D[fd]}}),Ka(D,I,j))}catch(ye){Ws((D.hdlr||{})[gs],j,Y,ye)}return I}var mp="[[ai_",wd="]]";function gu(D){var I,j=Me(mp+"get"+D.uid+wd),Y=Me(mp+"ro"+D.uid+wd),ye=Me(mp+"rf"+D.uid+wd),Be=Me(mp+"blkVal"+D.uid+wd),Ze=Me(mp+"dtl"+D.uid+wd),ct=null,Tt=null,Yt;function kr(Qr,Qn){var _r=Yt.act;try{Yt.act=Qr,Qr&&Qr[Ze]&&(An(Qr[Ze],function(Bn){Bn.clr(Qr)}),Qr[Ze]=[]),Qn({cfg:D.cfg,set:D.set.bind(D),setDf:D[up].bind(D),ref:D.ref.bind(D),rdOnly:D[ap].bind(D)})}catch(Bn){var Ci=D[gs];throw Ci&&Ci[uu](1,107,dn(Bn)),Bn}finally{Yt.act=_r||null}}function qn(){if(ct){var Qr=ct;ct=null,Tt&&Tt[rf](),Tt=null;var Qn=[];if(An(Qr,function(_r){if(_r&&(_r[Ze]&&(An(_r[Ze],function(Ci){Ci.clr(_r)}),_r[Ze]=null),_r.fn))try{kr(_r,_r.fn)}catch(Ci){Qn[Uc](Ci)}}),ct)try{qn()}catch(_r){Qn[Uc](_r)}Qn[so]>0&&lp("Watcher error(s): ",Qn)}}function On(Qr){if(Qr&&Qr.h[so]>0){ct||(ct=[]),Tt||(Tt=tf(function(){Tt=null,qn()},0));for(var Qn=0;Qn<Qr.h[so];Qn++){var _r=Qr.h[Qn];_r&&wn(ct,_r)===-1&&ct[Uc](_r)}}}function Xn(Qr,Qn){if(Qr){var _r=Qr[Ze]=Qr[Ze]||[];wn(_r,Qn)===-1&&_r[Uc](Qn)}}return Yt=(I={prop:j,ro:Y,rf:ye},I[Sl]=Be,I[fd]=D,I.add=On,I[cp]=qn,I.use=kr,I.trk=Xn,I),Yt}function yg(D,I){var j={fn:I,rm:function(){j.fn=null,D=null,I=null}};return D.use(j,I),j}function $y(D,I,j){var Y,ye=Ht(I);if(ye)return ye;var Be=R("dyncfg",!0),Ze=I&&j!==!1?I:pt(I),ct;function Tt(){ct[cp]()}function Yt(Ci,Bn,Tn){try{Ci=am(ct,Ci,Bn,Tn)}catch(ts){Ws(D,Bn,"Setting value",ts)}return Ci[Bn]}function kr(Ci){return yg(ct,Ci)}function qn(Ci,Bn){ct.use(null,function(Tn){var ts=ct.upd;try{Le(Bn)||(ct.upd=Bn),Ci(Tn)}finally{ct.upd=ts}})}function On(Ci,Bn){var Tn;return _a(ct,Ci,Bn,(Tn={},Tn[0]=!0,Tn))[Bn]}function Xn(Ci,Bn){var Tn;return _a(ct,Ci,Bn,(Tn={},Tn[1]=!0,Tn))[Bn]}function Qr(Ci,Bn){var Tn;return _a(ct,Ci,Bn,(Tn={},Tn[2]=!0,Tn))[Bn]}function Qn(Ci,Bn){return Bn&&Ar(Bn,function(Tn,ts){Z(_r,Ci,Tn,ts)}),Ci}var _r=(Y={uid:null,cfg:Ze},Y[gs]=D,Y[cp]=Tt,Y.set=Yt,Y[up]=Qn,Y[dd]=kr,Y.ref=On,Y[ap]=Xn,Y[Sl]=Qr,Y._block=qn,Y);return pe(_r,"uid",{c:!1,e:!1,w:!1,v:Be}),ct=gu(_r),lh(ct,Ze,"config","Creating"),_r}function dh(D,I){D?(D[zs](I),D[uu](2,108,I)):qr(I)}function fh(D,I,j,Y){var ye=$y(j,D||{},Y);return I&&ye[up](ye.cfg,I),ye}function Vy(D,I,j){var Y=D[he]||D;return Y.cfg&&(Y.cfg===D||Y.cfg[he]===Y)?Y[dd](I):(dh(j,Bc+dn(D)),fh(D,null,j)[dd](I))}var Gy=null;function Ky(){var D=Ns("Microsoft");return D&&(Gy=D.ApplicationInsights),Gy}function w_(D){var I=Gy;return!I&&D.disableDbgExt!==!0&&(I=Gy||Ky()),I?I.ChromeDbgExt:null}var cm,Ev="warnToConsole",Yy="AI (Internal): ",Jy="AI: ",um="AITR_",ph={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},S_=(cm={},cm[0]=null,cm[1]="errorToConsole",cm[2]=Ev,cm[3]="debugToConsole",cm);function Xy(D){return D?'"'+D[Qs](/\"/g,us)+'"':us}function hh(D,I){var j=yd();if(j){var Y="log";j[D]&&(Y=D),Ee(j[Y])&&j[Y](I)}}var Ov=function(){function D(I,j,Y,ye){Y===void 0&&(Y=!1);var Be=this;Be[of]=I,Be[Xs]=(Y?Jy:Yy)+I;var Ze=us;El()&&(Ze=yc().stringify(ye));var ct=(j?" message:"+Xy(j):us)+(ye?" props:"+Xy(Ze):us);Be[Xs]+=ct}return D.dataType="MessageData",D}();function Sd(D,I){return(D||{})[gs]||new Ji(I)}var Ji=function(){function D(I){this.identifier="DiagnosticLogger",this.queue=[];var j=0,Y={},ye,Be,Ze,ct,Tt;xl(D,this,function(Yt){Tt=qn(I||{}),Yt.consoleLoggingLevel=function(){return ye},Yt[uu]=function(Qr,Qn,_r,Ci,Bn){Bn===void 0&&(Bn=!1);var Tn=new Ov(Qn,_r,Bn,Ci);if(ct)throw dn(Tn);var ts=S_[Qr]||Ev;if(Le(Tn[Xs]))Xn("throw"+(Qr===1?"Critical":"Warning"),Tn);else{if(Bn){var tc=+Tn[of];!Y[tc]&&ye>=Qr&&(Yt[ts](Tn[Xs]),Y[tc]=!0)}else ye>=Qr&&Yt[ts](Tn[Xs]);kr(Qr,Tn)}},Yt.debugToConsole=function(Qr){hh("debug",Qr),Xn("warning",Qr)},Yt[zs]=function(Qr){hh("warn",Qr),Xn("warning",Qr)},Yt.errorToConsole=function(Qr){hh("error",Qr),Xn("error",Qr)},Yt.resetInternalMessageCount=function(){j=0,Y={}},Yt[By]=kr,Yt[hc]=function(Qr){Tt&&Tt.rm(),Tt=null};function kr(Qr,Qn){if(!On()){var _r=!0,Ci=um+Qn[of];if(Y[Ci]?_r=!1:Y[Ci]=!0,_r&&(Qr<=Be&&(Yt.queue[Uc](Qn),j++,Xn(Qr===1?"error":"warn",Qn)),j===Ze)){var Bn="Internal events throttle limit per PageView reached for this app.",Tn=new Ov(23,Bn,!1);Yt.queue[Uc](Tn),Qr===1?Yt.errorToConsole(Bn):Yt[zs](Bn)}}}function qn(Qr){return Vy(fh(Qr,ph,Yt).cfg,function(Qn){var _r=Qn.cfg;ye=_r[ih],Be=_r.loggingLevelTelemetry,Ze=_r.maxMessageLimit,ct=_r.enableDebug})}function On(){return j>=Ze}function Xn(Qr,Qn){var _r=w_(I||{});_r&&_r[el]&&_r[el](Qr,Qn)}})}return D.__ieDyn=1,D}();function lm(D){return D||new Ji}function co(D,I,j,Y,ye,Be){Be===void 0&&(Be=!1),lm(D)[uu](I,j,Y,ye,Be)}function Qy(){for(var D=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],I=us,j,Y=0;Y<4;Y++)j=Vc(),I+=D[j&15]+D[j>>4&15]+D[j>>8&15]+D[j>>12&15]+D[j>>16&15]+D[j>>20&15]+D[j>>24&15]+D[j>>28&15];var ye=D[8+(Vc()&3)|0];return Xt(I,0,8)+Xt(I,9,4)+"4"+Xt(I,13,3)+ye+Xt(I,16,3)+Xt(I,19,12)}var Iv=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Cd="00",mh="ff",Gc="00000000000000000000000000000000",Dd="0000000000000000",Td=1;function Rs(D,I,j){return D&&D[so]===I&&D!==j?!!D.match(/^[\da-f]*$/i):!1}function di(D,I,j){return Rs(D,I)?D:j}function vu(D){(isNaN(D)||D<0||D>255)&&(D=1);for(var I=D.toString(16);I[so]<2;)I="0"+I;return I}function es(D,I,j,Y){var ye;return ye={},ye[vo]=Rs(Y,2,mh)?Y:Cd,ye[xu]=dm(D)?D:Qy(),ye[pd]=gh(I)?I:kt(Qy(),16),ye.traceFlags=j>=0&&j<=255?j:1,ye}function Pd(D,I){var j;if(!D||($e(D)&&(D=D[0]||""),!D||!we(D)||D[so]>8192))return null;if(D.indexOf(",")!==-1){var Y=D[Rv](",");D=Y[I>0&&Y[so]>I?I:0]}var ye=Iv.exec(Js(D));return!ye||ye[1]===mh||ye[2]===Gc||ye[3]===Dd?null:(j={version:(ye[1]||us)[js](),traceId:(ye[2]||us)[js](),spanId:(ye[3]||us)[js]()},j[jo]=parseInt(ye[4],16),j)}function dm(D){return Rs(D,32,Gc)}function gh(D){return Rs(D,16,Dd)}function vh(D){return!(!D||!Rs(D[vo],2,mh)||!Rs(D[xu],32,Gc)||!Rs(D[pd],16,Dd)||!Rs(vu(D[jo]),2))}function ff(D){return vh(D)?(D[jo]&Td)===Td:!1}function Zy(D){if(D){var I=vu(D[jo]);Rs(I,2)||(I="01");var j=D[vo]||Cd;return j!=="00"&&j!=="ff"&&(j=Cd),"".concat(j.toLowerCase(),"-").concat(di(D.traceId,32,Gc).toLowerCase(),"-").concat(di(D.spanId,16,Dd).toLowerCase(),"-").concat(I.toLowerCase())}return""}function fm(D){var I="traceparent",j=Pd(Nn(I),D);return j||(j=Pd($c(I),D)),j}var pm="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",wa="sampleRate",Rd="ProcessLegacy",bc="http.method",yu="https://dc.services.visualstudio.com",hm="/v2/track",sl="not_specified",mm="iKey",bg=Jn({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),yh="split",Dn="length",xd="toLowerCase",xs="ingestionendpoint",pf="toString",kv="removeItem",Ya="name",Ed="message",bh="count",Av="preTriggerDate",al="disabled",_g="interval",gm="daysOfMonth",Mv="date",wg="getUTCDate",Od="stringify",hf="pathname",vm="correlationHeaderExcludePatterns",_h="extensionConfig",Sg="exceptions",Kc="parsedStack",Ja="properties",mf="measurements",Nu="sizeInBytes",bu="typeName",gp="severityLevel",Id="problemGroup",Cg="isManual",wh="CreateFromInterface",Sh="assembly",vp="fileName",kd="hasFullStack",ym="level",Ch="method",bm="line",gf="duration",yp="receivedResponse";function _m(D,I,j){var Y=I[Dn],ye=C_(D,I);if(ye[Dn]!==Y){for(var Be=0,Ze=ye;j[Ze]!==void 0;)Be++,Ze=nr(ye,0,147)+_c(Be);ye=Ze}return ye}function C_(D,I){var j;return I&&(I=Js(kn(I)),I[Dn]>150&&(j=nr(I,0,150),co(D,2,57,"name is too long.  It has been truncated to 150 characters.",{name:I},!0))),j||I}function Xa(D,I,j){j===void 0&&(j=1024);var Y;return I&&(j=j||1024,I=Js(kn(I)),I[Dn]>j&&(Y=nr(I,0,j),co(D,2,61,"string value is too long. It has been truncated to "+j+" characters.",{value:I},!0))),Y||I}function Lv(D,I){return Tg(D,I,2048,66)}function Ad(D,I){var j;return I&&I[Dn]>32768&&(j=nr(I,0,32768),co(D,2,56,"message is too long, it has been truncated to 32768 characters.",{message:I},!0)),j||I}function Dg(D,I){var j;if(I){var Y=""+I;Y[Dn]>32768&&(j=nr(Y,0,32768),co(D,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:I},!0))}return j||I}function Md(D,I){if(I){var j={};Ar(I,function(Y,ye){if(Ne(ye)&&El())try{ye=yc()[Od](ye)}catch(Be){co(D,2,49,"custom property is not valid",{exception:Be},!0)}ye=Xa(D,ye,8192),Y=_m(D,Y,j),j[Y]=ye}),I=j}return I}function vf(D,I){if(I){var j={};Ar(I,function(Y,ye){Y=_m(D,Y,j),j[Y]=ye}),I=j}return I}function wm(D,I){return I&&Tg(D,I,128,69)[pf]()}function Tg(D,I,j,Y){var ye;return I&&(I=Js(kn(I)),I[Dn]>j&&(ye=nr(I,0,j),co(D,2,Y,"input is too long, it has been truncated to "+j+" characters.",{data:I},!0))),ye||I}function _c(D){var I="00"+D;return Xt(I,I[Dn]-3)}var cl=Ys()||{},Pg=0,Nv=[null,null,null,null,null];function Ld(D){var I=Pg,j=Nv,Y=j[I];return cl.createElement?j[I]||(Y=j[I]=cl.createElement("a")):Y={host:TS(D,!0)},Y.href=D,I++,I>=j[Dn]&&(I=0),Pg=I,Y}function Dh(D){var I,j=Ld(D);return j&&(I=j.href),I}function bp(D){var I,j=Ld(D);return j&&(I=j[hf]),I}function D_(D,I){return D?D.toUpperCase()+" "+I:I}function TS(D,I){var j=Nd(D,I)||"";if(j){var Y=j.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[Dn]>3&&we(Y[2])&&Y[2][Dn]>0)return Y[2]+(Y[3]||"")}return j}function Nd(D,I){var j=null;if(D){var Y=D.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(Y!=null&&Y[Dn]>2&&we(Y[2])&&Y[2][Dn]>0&&(j=Y[2]||"",I&&Y[Dn]>2)){var ye=(Y[1]||"")[xd](),Be=Y[3]||"";(ye==="http"&&Be===":80"||ye==="https"&&Be===":443")&&(Be=""),j+=Be}}return j}var Fv=[yu+hm,"https://breeze.aimon.applicationinsights.io"+hm,"https://dc-int.services.visualstudio.com"+hm],qv="cid-v1:";function jv(D){return wn(Fv,D[xd]())!==-1}function Rg(D){qv=D}function hD(){return qv}function xg(D,I,j){if(!I||D&&D.disableCorrelationHeaders)return!1;if(D&&D[vm]){for(var Y=0;Y<D.correlationHeaderExcludePatterns[Dn];Y++)if(D[vm][Y].test(I))return!1}var ye=Ld(I).host[xd]();if(ye&&(ga(ye,":443")!==-1||ga(ye,":80")!==-1)&&(ye=(Nd(I,!0)||"")[xd]()),(!D||!D.enableCorsCorrelation)&&ye&&ye!==j)return!1;var Be=D&&D.correlationHeaderDomains;if(Be){var Ze;if(An(Be,function(Yt){var kr=new RegExp(Yt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));Ze=Ze||kr.test(ye)}),!Ze)return!1}var ct=D&&D.correlationHeaderExcludedDomains;if(!ct||ct[Dn]===0)return!0;for(var Y=0;Y<ct[Dn];Y++){var Tt=new RegExp(ct[Y].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Tt.test(ye))return!1}return ye&&ye[Dn]>0}function mD(D){if(D){var I=Al(D,bg[1]);if(I&&I!==qv)return I}}function Al(D,I){if(D)for(var j=D[yh](","),Y=0;Y<j[Dn];++Y){var ye=j[Y][yh]("=");if(ye[Dn]===2&&ye[0]===I)return ye[1]}}function _p(D,I,j,Y){var ye,Be=Y,Ze=Y;if(I&&I[Dn]>0){var ct=Ld(I);if(ye=ct.host,!Be)if(ct[hf]!=null){var Tt=ct.pathname[Dn]===0?"/":ct[hf];Tt.charAt(0)!=="/"&&(Tt="/"+Tt),Ze=ct[hf],Be=Xa(D,j?j+" "+Tt:Tt)}else Be=Xa(D,I)}else ye=Y,Be=Y;return{target:ye,name:Be,data:Ze}}function Sm(){var D=qs();if(D&&D.now&&D.timing){var I=D.now()+D.timing.navigationStart;if(I>0)return I}return aa()}function eb(D,I){var j=null;return D!==0&&I!==0&&!ce(D)&&!ce(I)&&(j=I-D),j}function Cm(D,I){var j=D||{};return{getName:function(){return j[Ya]},setName:function(Y){I&&I.setName(Y),j[Ya]=Y},getTraceId:function(){return j.traceID},setTraceId:function(Y){I&&I.setTraceId(Y),dm(Y)&&(j.traceID=Y)},getSpanId:function(){return j.parentID},setSpanId:function(Y){I&&I.setSpanId(Y),gh(Y)&&(j.parentID=Y)},getTraceFlags:function(){return j.traceFlags},setTraceFlags:function(Y){I&&I.setTraceFlags(Y),j.traceFlags=Y}}}var Ml=wl({LocalStorage:0,SessionStorage:1}),ul=wl({AI:0,AI_AND_W3C:1,W3C:2}),yf=void 0,bf=void 0,zv="";function Th(){return Cp()?Sa(Ml.LocalStorage):null}function Sa(D){try{if(ce(Xo()))return null;var I=new Date()[pf](),j=Ns(D===Ml.LocalStorage?"localStorage":"sessionStorage"),Y=zv+I;j.setItem(Y,I);var ye=j.getItem(Y)!==I;if(j[kv](Y),!ye)return j}catch{}return null}function wp(){return Ll()?Sa(Ml.SessionStorage):null}function Sp(){yf=!1,bf=!1}function tb(D){zv=D||""}function PS(){yf=Cp(!0),bf=Ll(!0)}function Cp(D){return(D||yf===void 0)&&(yf=!!Sa(Ml.LocalStorage)),yf}function RS(D,I){var j=Th();if(j!==null)try{return j.getItem(I)}catch(Y){yf=!1,co(D,2,1,"Browser failed read of local storage. "+Zo(Y),{exception:dn(Y)})}return null}function Dm(D,I,j){var Y=Th();if(Y!==null)try{return Y.setItem(I,j),!0}catch(ye){yf=!1,co(D,2,3,"Browser failed write to local storage. "+Zo(ye),{exception:dn(ye)})}return!1}function Dp(D,I){var j=Th();if(j!==null)try{return j[kv](I),!0}catch(Y){yf=!1,co(D,2,5,"Browser failed removal of local storage item. "+Zo(Y),{exception:dn(Y)})}return!1}function Ll(D){return(D||bf===void 0)&&(bf=!!Sa(Ml.SessionStorage)),bf}function Eg(){var D=[];return Ll()&&Ar(Ns("sessionStorage"),function(I){D.push(I)}),D}function Ph(D,I){var j=wp();if(j!==null)try{return j.getItem(I)}catch(Y){bf=!1,co(D,2,2,"Browser failed read of session storage. "+Zo(Y),{exception:dn(Y)})}return null}function Tm(D,I,j){var Y=wp();if(Y!==null)try{return Y.setItem(I,j),!0}catch(ye){bf=!1,co(D,2,4,"Browser failed write to session storage. "+Zo(ye),{exception:dn(ye)})}return!1}function Og(D,I){var j=wp();if(j!==null)try{return j[kv](I),!0}catch(Y){bf=!1,co(D,2,6,"Browser failed removal of session storage item. "+Zo(Y),{exception:dn(Y)})}return!1}var T_="appInsightsThrottle",gD=function(){function D(I,j){var Y=this,ye,Be,Ze,ct,Tt,Yt,kr,qn=!1,On=!1;Qr(),Y._getDbgPlgTargets=function(){return[kr]},Y.getConfig=function(){return Ze},Y.canThrottle=function(sr){var cn=Pp(sr),fi=Qn(sr);return Bn(fi,ye,cn)},Y.isTriggered=function(sr){return Vv(sr)},Y.isReady=function(){return qn},Y.flush=function(sr){try{var cn=Gv(sr);if(cn&&cn[Dn]>0){var fi=cn.slice(0);return kr[sr]=[],An(fi,function(rs){Xn(rs.msgID,rs[Ed],rs.severity,!1)}),!0}}catch{}return!1},Y.flushAll=function(){try{if(kr){var sr=!0;return Ar(kr,function(cn){var fi=Y.flush(parseInt(cn));sr=sr&&fi}),sr}}catch{}return!1},Y.onReadyState=function(sr,cn){return cn===void 0&&(cn=!0),qn=ce(sr)?!0:sr,qn&&cn?Y.flushAll():null},Y.sendMessage=function(sr,cn,fi){return Xn(sr,cn,fi,!0)};function Xn(sr,cn,fi,rs){if(qn){var bs=Wl(sr);if(!bs)return;var _s=Qn(sr),Es=Pp(sr),Lm=Bn(_s,ye,Es),Eh=!1,Oh=0,M_=Vv(sr);try{Lm&&!M_?(Oh=Math.min(_s.limit.maxSendNumber,Es[bh]+1),Es[bh]=0,Eh=!0,Tt[sr]=!0,Es[Av]=new Date):(Tt[sr]=Lm,Es[bh]+=1);var Nm=Tn(sr);Fg(Be,Nm,Es);for(var Rp=0;Rp<Oh;Rp++)$v(sr,Be,cn,fi)}catch{}return{isThrottled:Eh,throttleNum:Oh}}else if(rs){var Kv=Gv(sr);Kv.push({msgID:sr,message:cn,severity:fi})}return null}function Qr(){Be=Sd(I),Tt={},ct={},kr={},Ze={},_r(109),Yt=ch(j)?j:"",I.addUnloadHook(Vy(I.config,function(sr){var cn=sr.cfg;ye=Cp();var fi=cn.throttleMgrCfg||{};Ar(fi,function(rs,bs){_r(parseInt(rs),bs)})}))}function Qn(sr){return Ze[sr]||Ze[109]}function _r(sr,cn){var fi,rs;try{var bs=cn||{},_s={};_s[al]=!!bs[al];var Es=bs[_g]||{};On=Es?.daysOfMonth&&Es?.daysOfMonth[Dn]>0,_s[_g]=Ci(Es);var Lm={samplingRate:((fi=bs.limit)===null||fi===void 0?void 0:fi.samplingRate)||100,maxSendNumber:((rs=bs.limit)===null||rs===void 0?void 0:rs.maxSendNumber)||1};_s.limit=Lm,Ze[sr]=_s}catch{}}function Ci(sr){sr=sr||{};var cn=sr?.monthInterval,fi=sr?.dayInterval;return ce(cn)&&ce(fi)&&(sr.monthInterval=3,On||(sr[gm]=[28],On=!0)),sr={monthInterval:sr?.monthInterval,dayInterval:sr?.dayInterval,daysOfMonth:sr?.daysOfMonth},sr}function Bn(sr,cn,fi){if(sr&&!sr[al]&&cn&&ch(fi)){var rs=Da(),bs=fi[Mv],_s=sr[_g],Es=1;if(_s?.monthInterval){var Lm=(rs.getUTCFullYear()-bs.getUTCFullYear())*12+rs.getUTCMonth()-bs.getUTCMonth();Es=Mm(_s.monthInterval,0,Lm)}var Eh=1;if(On)Eh=wn(_s[gm],rs[wg]());else if(_s?.dayInterval){var Oh=Math.floor((rs.getTime()-bs.getTime())/864e5);Eh=Mm(_s.dayInterval,0,Oh)}return Es>=0&&Eh>=0}return!1}function Tn(sr,cn){var fi=ch(cn)?cn:"";return sr?T_+fi+"-"+sr:null}function ts(sr){try{if(sr){var cn=new Date;return sr.getUTCFullYear()===cn.getUTCFullYear()&&sr.getUTCMonth()===cn.getUTCMonth()&&sr[wg]()===cn[wg]()}}catch{}return!1}function tc(sr,cn,fi){try{var rs={date:Da(),count:0};if(sr){var bs=JSON.parse(sr),_s={date:Da(bs[Mv])||rs[Mv],count:bs[bh]||rs[bh],preTriggerDate:bs.preTriggerDate?Da(bs[Av]):void 0};return _s}else return Fg(cn,fi,rs),rs}catch{}return null}function Da(sr){try{if(sr){var cn=new Date(sr);if(!isNaN(cn.getDate()))return cn}else return new Date}catch{}return null}function Fg(sr,cn,fi){try{return Dm(sr,cn,Js(JSON[Od](fi)))}catch{}return!1}function Mm(sr,cn,fi){return sr<=0?1:fi>=cn&&(fi-cn)%sr==0?Math.floor((fi-cn)/sr)+1:-1}function $v(sr,cn,fi,rs){co(cn,rs||1,sr,fi)}function Wl(sr){try{var cn=Qn(sr);return ys(1e6)<=cn.limit.samplingRate}catch{}return!1}function Pp(sr){try{var cn=ct[sr];if(!cn){var fi=Tn(sr,Yt);cn=tc(RS(Be,fi),Be,fi),ct[sr]=cn}return ct[sr]}catch{}return null}function Vv(sr){var cn=Tt[sr];if(ce(cn)){cn=!1;var fi=Pp(sr);fi&&(cn=ts(fi[Av])),Tt[sr]=cn}return Tt[sr]}function Gv(sr){return kr=kr||{},ce(kr[sr])&&(kr[sr]=[]),kr[sr]}}return D}(),Pm=";",xS="=";function Qa(D){if(!D)return{};var I=D[yh](Pm),j=To(I,function(ye,Be){var Ze=Be[yh](xS);if(Ze[Dn]===2){var ct=Ze[0][xd](),Tt=Ze[1];ye[ct]=Tt}return ye},{});if(En(j)[Dn]>0){if(j.endpointsuffix){var Y=j.location?j.location+".":"";j[xs]=j[xs]||"https://"+Y+"dc."+j.endpointsuffix}j[xs]=j[xs]||yu,cu(j[xs],"/")&&(j[xs]=j[xs].slice(0,-1))}return j}var Rm={parse:Qa},xm=function(){function D(I,j,Y){var ye=this,Be=this;Be.ver=1,Be.sampleRate=100,Be.tags={},Be[Ya]=Xa(I,Y)||sl,Be.data=j,Be.time=ji(new Date),Be.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ye.sampleRate===100?4:1},tags:1,data:1}}return D}(),ES=function(){function D(I,j,Y,ye){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Be=this;Be.ver=2,Be[Ya]=Xa(I,j)||sl,Be[Ja]=Md(I,Y),Be[mf]=vf(I,ye)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.Event",D.dataType="EventData",D}(),vD="<no_method>",Nl="error",Za="stack",Fl="stackDetails",Em="errorSrc",Ig="message",rb="description";function yn(D,I){var j=D;return j&&!we(j)&&(JSON&&JSON[Od]?(j=JSON[Od](D),I&&(!j||j==="{}")&&(Ee(D[pf])?j=D[pf]():j=""+D)):j=""+D+" - (Missing JSON.stringify)"),j||""}function Uv(D,I){var j=D;return D&&(j&&!we(j)&&(j=D[Ig]||D[rb]||j),j&&!we(j)&&(j=yn(j,!0)),D.filename&&(j=j+" @"+(D.filename||"")+":"+(D.lineno||"?")+":"+(D.colno||"?"))),I&&I!=="String"&&I!=="Object"&&I!=="Error"&&ga(j||"",I)===-1&&(j=I+": "+j),j||""}function Rh(D){try{if(Ne(D))return"hasFullStack"in D&&"typeName"in D}catch{}return!1}function _f(D){try{if(Ne(D))return"ver"in D&&"exceptions"in D&&"properties"in D}catch{}return!1}function Om(D){return D&&D.src&&we(D.src)&&D.obj&&$e(D.obj)}function Ca(D){var I=D||"";we(I)||(we(I[Za])?I=I[Za]:I=""+I);var j=I[yh](`
`);return{src:I,obj:j}}function nb(D){for(var I=[],j=D[yh](`
`),Y=0;Y<j[Dn];Y++){var ye=j[Y];j[Y+1]&&(ye+="@"+j[Y+1],Y++),I.push(ye)}return{src:D,obj:I}}function kg(D){var I=null;if(D)try{if(D[Za])I=Ca(D[Za]);else if(D[Nl]&&D[Nl][Za])I=Ca(D[Nl][Za]);else if(D.exception&&D.exception[Za])I=Ca(D.exception[Za]);else if(Om(D))I=D;else if(Om(D[Fl]))I=D[Fl];else if(Do()&&Do().opera&&D[Ig])I=nb(D[Ed]);else if(D.reason&&D.reason[Za])I=Ca(D.reason[Za]);else if(we(D))I=Ca(D);else{var j=D[Ig]||D[rb]||"";we(D[Em])&&(j&&(j+=`
`),j+=" from "+D[Em]),j&&(I=Ca(j))}}catch(Y){I=Ca(Y)}return I||{src:"",obj:null}}function ib(D){var I="";return D&&(D.obj?An(D.obj,function(j){I+=j+`
`}):I=D.src||""),I}function ql(D){var I,j=D.obj;if(j&&j[Dn]>0){I=[];var Y=0,ye=0;An(j,function(Qr){var Qn=Qr[pf]();if(_u.regex.test(Qn)){var _r=new _u(Qn,Y++);ye+=_r[Nu],I.push(_r)}});var Be=32*1024;if(ye>Be)for(var Ze=0,ct=I[Dn]-1,Tt=0,Yt=Ze,kr=ct;Ze<ct;){var qn=I[Ze][Nu],On=I[ct][Nu];if(Tt+=qn+On,Tt>Be){var Xn=kr-Yt+1;I.splice(Yt,Xn);break}Yt=Ze,kr=ct,Ze++,ct--}}return I}function Im(D){var I="";if(D&&(I=D.typeName||D[Ya]||"",!I))try{var j=/function (.{1,200})\(/,Y=j.exec(D.constructor[pf]());I=Y&&Y[Dn]>1?Y[1]:""}catch{}return I}function Tp(D){if(D)try{if(!we(D)){var I=Im(D),j=yn(D,!1);return(!j||j==="{}")&&(D[Nl]&&(D=D[Nl],I=Im(D)),j=yn(D,!0)),ga(j,I)!==0&&I!=="String"?I+":"+j:j}}catch{}return""+(D||"")}var Ag=function(){function D(I,j,Y,ye,Be,Ze){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var ct=this;ct.ver=2,_f(j)?(ct[Sg]=j[Sg]||[],ct[Ja]=j[Ja],ct[mf]=j[mf],j[gp]&&(ct[gp]=j[gp]),j.id&&(ct.id=j.id),j[Id]&&(ct[Id]=j[Id]),ce(j[Cg])||(ct[Cg]=j[Cg])):(Y||(Y={}),ct[Sg]=[new km(I,j,Y)],ct[Ja]=Md(I,Y),ct[mf]=vf(I,ye),Be&&(ct[gp]=Be),Ze&&(ct.id=Ze))}return D.CreateAutoException=function(I,j,Y,ye,Be,Ze,ct,Tt){var Yt,kr=Im(Be||Ze||I);return Yt={},Yt[Ed]=Uv(I,kr),Yt.url=j,Yt.lineNumber=Y,Yt.columnNumber=ye,Yt.error=Tp(Be||Ze||I),Yt.evt=Tp(Ze||I),Yt[bu]=kr,Yt.stackDetails=kg(ct||Be||Ze),Yt.errorSrc=Tt,Yt},D.CreateFromInterface=function(I,j,Y,ye){var Be=j[Sg]&&Ln(j[Sg],function(ct){return km[wh](I,ct)}),Ze=new D(I,du(du({},j),{exceptions:Be}),Y,ye);return Ze},D.prototype.toInterface=function(){var I,j=this,Y=j.exceptions,ye=j.properties,Be=j.measurements,Ze=j.severityLevel,ct=j.problemGroup,Tt=j.id,Yt=j.isManual,kr=Y instanceof Array&&Ln(Y,function(qn){return qn.toInterface()})||void 0;return I={ver:"4.0"},I[Sg]=kr,I.severityLevel=Ze,I.properties=ye,I.measurements=Be,I.problemGroup=ct,I.id=Tt,I.isManual=Yt,I},D.CreateSimpleException=function(I,j,Y,ye,Be,Ze){var ct;return{exceptions:[(ct={},ct[kd]=!0,ct.message=I,ct.stack=Be,ct.typeName=j,ct)]}},D.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",D.dataType="ExceptionData",D.formatError=Tp,D}(),km=function(){function D(I,j,Y){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ye=this;if(Rh(j))ye[bu]=j[bu],ye[Ed]=j[Ed],ye[Za]=j[Za],ye[Kc]=j[Kc]||[],ye[kd]=j[kd];else{var Be=j,Ze=Be&&Be.evt;ze(Be)||(Be=Be[Nl]||Ze||Be),ye[bu]=Xa(I,Im(Be))||sl,ye[Ed]=Ad(I,Uv(j||Be,ye[bu]))||sl;var ct=j[Fl]||kg(j);ye[Kc]=ql(ct),$e(ye[Kc])&&Ln(ye[Kc],function(Tt){Tt[Sh]=Xa(I,Tt[Sh]),Tt[vp]=Xa(I,Tt[vp])}),ye[Za]=Dg(I,ib(ct)),ye.hasFullStack=$e(ye.parsedStack)&&ye.parsedStack[Dn]>0,Y&&(Y[bu]=Y[bu]||ye[bu])}}return D.prototype.toInterface=function(){var I,j=this,Y=j[Kc]instanceof Array&&Ln(j[Kc],function(Be){return Be.toInterface()}),ye=(I={id:j.id,outerId:j.outerId,typeName:j[bu],message:j[Ed],hasFullStack:j[kd],stack:j[Za]},I[Kc]=Y||void 0,I);return ye},D.CreateFromInterface=function(I,j){var Y=j[Kc]instanceof Array&&Ln(j[Kc],function(Be){return _u[wh](Be)})||j[Kc],ye=new D(I,du(du({},j),{parsedStack:Y}));return ye},D}(),_u=function(){function D(I,j){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var Y=this;if(Y[Nu]=0,typeof I=="string"){var ye=I;Y[ym]=j,Y[Ch]=vD,Y[Sh]=Js(ye),Y[vp]="",Y[bm]=0;var Be=ye.match(D.regex);Be&&Be[Dn]>=5&&(Y[Ch]=Js(Be[2])||Y[Ch],Y[vp]=Js(Be[4]),Y[bm]=parseInt(Be[5])||0)}else Y[ym]=I[ym],Y[Ch]=I[Ch],Y[Sh]=I[Sh],Y[vp]=I[vp],Y[bm]=I[bm],Y[Nu]=0;Y.sizeInBytes+=Y.method[Dn],Y.sizeInBytes+=Y.fileName[Dn],Y.sizeInBytes+=Y.assembly[Dn],Y[Nu]+=D.baseSize,Y.sizeInBytes+=Y.level.toString()[Dn],Y.sizeInBytes+=Y.line.toString()[Dn]}return D.CreateFromInterface=function(I){return new D(I,null)},D.prototype.toInterface=function(){var I=this;return{level:I[ym],method:I[Ch],assembly:I[Sh],fileName:I[vp],line:I[bm]}},D.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,D.baseSize=58,D}(),Fd=function(){function D(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return D}(),P_=function(){function D(I,j,Y,ye,Be,Ze,ct,Tt,Yt){this.aiDataContract={ver:1,metrics:1,properties:0};var kr=this;kr.ver=2;var qn=new Fd;qn[bh]=ye>0?ye:void 0,qn.max=isNaN(Ze)||Ze===null?void 0:Ze,qn.min=isNaN(Be)||Be===null?void 0:Be,qn[Ya]=Xa(I,j)||sl,qn.value=Y,qn.stdDev=isNaN(ct)||ct===null?void 0:ct,kr.metrics=[qn],kr[Ja]=Md(I,Tt),kr[mf]=vf(I,Yt)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",D.dataType="MetricData",D}(),jl="";function Hv(D,I){return I===void 0&&(I=!1),D==null?I:D.toString()[xd]()==="true"}function zl(D){(isNaN(D)||D<0)&&(D=0),D=Math.round(D);var I=jl+D%1e3,j=jl+Math.floor(D/1e3)%60,Y=jl+Math.floor(D/(1e3*60))%60,ye=jl+Math.floor(D/(1e3*60*60))%24,Be=Math.floor(D/(1e3*60*60*24));return I=I[Dn]===1?"00"+I:I[Dn]===2?"0"+I:I,j=j[Dn]<2?"0"+j:j,Y=Y[Dn]<2?"0"+Y:Y,ye=ye[Dn]<2?"0"+ye:ye,(Be>0?Be+".":jl)+ye+":"+Y+":"+j+"."+I}function R_(D,I){var j=null;return An(D,function(Y){if(Y.identifier===I)return j=Y,-1}),j}function Wv(D,I,j,Y,ye){return!ye&&we(D)&&(D==="Script error."||D==="Script error")}var Ul=function(){function D(I,j,Y,ye,Be,Ze,ct){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Tt=this;Tt.ver=2,Tt.id=wm(I,ct),Tt.url=Lv(I,Y),Tt[Ya]=Xa(I,j)||sl,isNaN(ye)||(Tt[gf]=zl(ye)),Tt[Ja]=Md(I,Be),Tt[mf]=vf(I,Ze)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",D.dataType="PageviewData",D}(),x_=function(){function D(I,j,Y,ye,Be,Ze,ct,Tt,Yt,kr,qn,On){Yt===void 0&&(Yt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Xn=this;Xn.ver=2,Xn.id=j,Xn[gf]=zl(Be),Xn.success=Ze,Xn.resultCode=ct+"",Xn.type=Xa(I,Yt);var Qr=_p(I,Y,Tt,ye);Xn.data=Lv(I,ye)||Qr.data,Xn.target=Xa(I,Qr.target),kr&&(Xn.target="".concat(Xn.target," | ").concat(kr)),Xn[Ya]=Xa(I,Qr[Ya]),Xn[Ja]=Md(I,qn),Xn[mf]=vf(I,On)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",D.dataType="RemoteDependencyData",D}(),E_=function(){function D(I,j,Y,ye,Be){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var Ze=this;Ze.ver=2,j=j||sl,Ze[Ed]=Ad(I,j),Ze[Ja]=Md(I,ye),Ze[mf]=vf(I,Be),Y&&(Ze[gp]=Y)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.Message",D.dataType="MessageData",D}(),ob=function(){function D(I,j,Y,ye,Be,Ze,ct){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Tt=this;Tt.ver=2,Tt.url=Lv(I,Y),Tt[Ya]=Xa(I,j)||sl,Tt[Ja]=Md(I,Be),Tt[mf]=vf(I,Ze),ct&&(Tt.domProcessing=ct.domProcessing,Tt[gf]=ct[gf],Tt.networkConnect=ct.networkConnect,Tt.perfTotal=ct.perfTotal,Tt[yp]=ct[yp],Tt.sentRequest=ct.sentRequest)}return D.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",D.dataType="PageviewPerformanceData",D}(),wf=function(){function D(I,j){this.aiDataContract={baseType:1,baseData:1},this.baseType=I,this.baseData=j}return D}(),Am=wl({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),O_=function(){function D(){}return D.getConfig=function(I,j,Y,ye){ye===void 0&&(ye=!1);var Be;return Y&&I[_h]&&I[_h][Y]&&!ce(I[_h][Y][j])?Be=I[_h][Y][j]:Be=I[j],ce(Be)?ye:Be},D}();function Sf(D){var I="ai."+D+".";return function(j){return I+j}}var ec=Sf("application"),Wo=Sf("device"),ll=Sf("location"),Mg=Sf("operation"),Hl=Sf("session"),Cf=Sf("user"),wu=Sf("cloud"),Lg=Sf("internal"),Bv=function(D){md(I,D);function I(){return D.call(this)||this}return I}(Lu({applicationVersion:ec("ver"),applicationBuild:ec("build"),applicationTypeId:ec("typeId"),applicationId:ec("applicationId"),applicationLayer:ec("layer"),deviceId:Wo("id"),deviceIp:Wo("ip"),deviceLanguage:Wo("language"),deviceLocale:Wo("locale"),deviceModel:Wo("model"),deviceFriendlyName:Wo("friendlyName"),deviceNetwork:Wo("network"),deviceNetworkName:Wo("networkName"),deviceOEMName:Wo("oemName"),deviceOS:Wo("os"),deviceOSVersion:Wo("osVersion"),deviceRoleInstance:Wo("roleInstance"),deviceRoleName:Wo("roleName"),deviceScreenResolution:Wo("screenResolution"),deviceType:Wo("type"),deviceMachineName:Wo("machineName"),deviceVMName:Wo("vmName"),deviceBrowser:Wo("browser"),deviceBrowserVersion:Wo("browserVersion"),locationIp:ll("ip"),locationCountry:ll("country"),locationProvince:ll("province"),locationCity:ll("city"),operationId:Mg("id"),operationName:Mg("name"),operationParentId:Mg("parentId"),operationRootId:Mg("rootId"),operationSyntheticSource:Mg("syntheticSource"),operationCorrelationVector:Mg("correlationVector"),sessionId:Hl("id"),sessionIsFirst:Hl("isFirst"),sessionIsNew:Hl("isNew"),userAccountAcquisitionDate:Cf("accountAcquisitionDate"),userAccountId:Cf("accountId"),userAgent:Cf("userAgent"),userId:Cf("id"),userStoreRegion:Cf("storeRegion"),userAuthUserId:Cf("authUserId"),userAnonymousUserAcquisitionDate:Cf("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Cf("authUserAcquisitionDate"),cloudName:wu("name"),cloudRole:wu("role"),cloudRoleVer:wu("roleVer"),cloudRoleInstance:wu("roleInstance"),cloudEnvironment:wu("environment"),cloudLocation:wu("location"),cloudDeploymentUnit:wu("deploymentUnit"),internalNodeName:Lg("nodeName"),internalSdkVersion:Lg("sdkVersion"),internalAgentVersion:Lg("agentVersion"),internalSnippet:Lg("snippet"),internalSdkSrc:Lg("sdkSrc")}));function I_(D,I,j,Y,ye,Be){var Ze;j=Xa(Y,j)||sl,(ce(D)||ce(I)||ce(j))&&lr("Input doesn't contain all required fields");var ct="";D[mm]&&(ct=D[mm],delete D[mm]);var Tt=(Ze={},Ze[Ya]=j,Ze.time=ji(new Date),Ze.iKey=ct,Ze.ext=Be||{},Ze.tags=[],Ze.data={},Ze.baseType=I,Ze.baseData=D,Ze);return ce(ye)||Ar(ye,function(Yt,kr){Tt.data[Yt]=kr}),Tt}var sb=function(){function D(){}return D.create=I_,D}(),xh={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ng=new Bv;function OS(D){var I=null;if(Ee(Event))I=new Event(D);else{var j=Ys();j&&j.createEvent&&(I=j.createEvent("Event"),I.initEvent(D,!0,!0))}return I}var k_="AppInsightsPropertiesPlugin",A_="AppInsightsChannelPlugin",IS="ApplicationInsightsAnalytics";r.AnalyticsPluginIdentifier=IS,r.BreezeChannelIdentifier=A_,r.ConfigurationManager=O_,r.ConnectionStringParser=Rm,r.ContextTagKeys=Bv,r.CtxTagKeys=Ng,r.DEFAULT_BREEZE_ENDPOINT=yu,r.DEFAULT_BREEZE_PATH=hm,r.Data=wf,r.DisabledPropertyName=pm,r.DistributedTracingModes=ul,r.Envelope=xm,r.Event=ES,r.Exception=Ag,r.Extensions=xh,r.HttpMethod=bc,r.Metric=P_,r.PageView=Ul,r.PageViewPerformance=ob,r.ProcessLegacy=Rd,r.PropertiesPluginIdentifier=k_,r.RemoteDependencyData=x_,r.RequestHeaders=bg,r.SampleRate=wa,r.SeverityLevel=Am,r.TelemetryItemCreator=sb,r.ThrottleMgr=gD,r.Trace=E_,r.correlationIdCanIncludeCorrelationHeader=xg,r.correlationIdGetCorrelationContext=mD,r.correlationIdGetCorrelationContextValue=Al,r.correlationIdGetPrefix=hD,r.correlationIdSetPrefix=Rg,r.createDistributedTraceContextFromTrace=Cm,r.createDomEvent=OS,r.createTelemetryItem=I_,r.createTraceParent=es,r.dataSanitizeException=Dg,r.dataSanitizeId=wm,r.dataSanitizeInput=Tg,r.dataSanitizeKey=C_,r.dataSanitizeKeyAndAddUniqueness=_m,r.dataSanitizeMeasurements=vf,r.dataSanitizeMessage=Ad,r.dataSanitizeProperties=Md,r.dataSanitizeString=Xa,r.dataSanitizeUrl=Lv,r.dateTimeUtilsDuration=eb,r.dateTimeUtilsNow=Sm,r.dsPadNumber=_c,r.findW3cTraceParent=fm,r.formatTraceParent=Zy,r.getExtensionByName=R_,r.isBeaconApiSupported=ao,r.isCrossOriginError=Wv,r.isInternalApplicationInsightsEndpoint=jv,r.isSampledFlag=ff,r.isValidSpanId=gh,r.isValidTraceId=dm,r.isValidTraceParent=vh,r.msToTimeSpan=zl,r.parseConnectionString=Qa,r.parseTraceParent=Pd,r.strNotSpecified=sl,r.stringToBoolOrDefault=Hv,r.urlGetAbsoluteUrl=Dh,r.urlGetCompleteUrl=D_,r.urlGetPathName=bp,r.urlParseFullHost=Nd,r.urlParseHost=TS,r.urlParseUrl=Ld,r.utlCanUseLocalStorage=Cp,r.utlCanUseSessionStorage=Ll,r.utlDisableStorage=Sp,r.utlEnableStorage=PS,r.utlGetLocalStorage=RS,r.utlGetSessionStorage=Ph,r.utlGetSessionStorageKeys=Eg,r.utlRemoveSessionStorage=Og,r.utlRemoveStorage=Dp,r.utlSetLocalStorage=Dm,r.utlSetSessionStorage=Tm,r.utlSetStoragePrefix=tb})});var sme=P((qF,ome)=>{(function(r,e){typeof qF=="object"&&typeof ome<"u"?e(qF):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e((r.Microsoft=r.Microsoft||{},r.Microsoft.ApplicationInsights=r.Microsoft.ApplicationInsights||{})))})(qF,function(r){"use strict";var e=void 0,t=null,n="",i="boolean",o="function",s="number",a="object",c="prototype",u="__proto__",l="string",d="undefined",f="constructor",y="Symbol",b="_polyfill",T="indexOf",k="length",z="done",A="value",U="name",ne="slice",de=Object,ve=de[c],$=String,W=$[c],ee=Math,Pe=Array,se=Pe[c];function ue(p,v){var w=v;try{w=p()}catch{}return w}var Fe=[l,s,i,d,"symbol","bigint"];function Le(p){return function(v){return typeof v===p}}function ce(p){var v="[object "+p+"]";return function(w){return!!(w&&Ce(w)===v)}}function Ce(p){return ve.toString.call(p)}function we(p){return typeof p===d||p===d}function Ee(p){return p===t||we(p)}function Ne(p){return p===t||!$e(p)}function $e(p){return!!p||p!==e}var Ct=function(p){return p!==a&&Fe.indexOf(p)!==-1},ze=Le(l),st=Le(o);function at(p){return!p&&Ee(p)?!1:!!p&&typeof p===a}var tt=Pe.isArray,pr=ce("Date"),Ar=Le(s),jr=Le(i),lr=ce("Error");function Et(p){return!!p&&st(p.then)}function hr(p){return!(!p||ue(function(){return!(p&&0+p)},!p))}var Lt=de.getOwnPropertyDescriptor;function on(p,v){return p&&ve.hasOwnProperty.call(p,v)}var un=de.hasOwn||En;function En(p,v){return on(p,v)||!!Lt(p,v)}function Er(p,v,w){if(p&&at(p)){for(var x in p)if(un(p,x)&&v.call(w||p,x,p[x])===-1)break}}function Un(p,v,w,x){var F={};return Er(p,function(G,te){F[G]=v?te:G,F[te]=w?te:G}),x(F)}function Br(p){throw new Error(p)}function ln(p){throw new TypeError(p)}var ni=de.freeze,$r=function(p){return p},kn=function(p){return p[u]||t},Ei=de.assign;function Vr(p){return(!at(p)||p===t)&&ln("objKeys called on non-object"),de.keys(p)}function Yi(p){return ni&&Er(p,function(v,w){(tt(w)||at(w))&&ni(w)}),ii(p)}var ii=ni||$r,dn=de.getPrototypeOf||kn;function Oe(p){return Un(p,1,0,Yi)}function oe(p){return Un(p,0,0,Yi)}function Q(p){var v={};return Er(p,function(w,x){v[w]=x[1],v[x[0]]=x[1]}),Yi(v)}function _e(p){return Q(p)}var Ke=oe({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),ft=$,Jt="__tsUtils$gblCfg",nr;function Xt(){var p;return typeof globalThis!==d&&(p=globalThis),!p&&typeof self!==d&&(p=self),!p&&typeof window!==d&&(p=window),!p&&typeof global!==d&&(p=global),p}function Vt(){if(!nr){var p=Xt()||{};nr=p[Jt]=p[Jt]||{}}return nr}function kt(p,v){var w=n;if(lr(p))w="{ stack: '"+p.stack+"', message: '"+p.message+"', name: '"+p.name+"'";else try{w=JSON.stringify(p,t,v?Ar(v)?v:4:e)}catch(x){w=" - "+kt(x,v)}return Ce(p)+": "+w}var K=se[ne],qe=function(p,v){ln("'"+ft(p)+"' not defined for "+kt(v))},Wt=function(p){return function(v){return v[p].apply(v,K.call(arguments,1))}},Dr=function(p,v){var w=v&&v[p];return function(x){var F=x&&x[p]||w;if(F)return F.apply(x,K.call(arguments,1));qe(p,x)}},He=function(p,v,w){var x=v&&v[p];return function(F){var G=F&&F[p]||x;if(G||w){var te=arguments;return(G||w).apply(F,G?K.call(te,1):te)}qe(p,F)}};function re(p){return function(v){return v[p]}}var xe=ee.max,je=Dr(ne,W),pe=Dr("substring",W),S=He("substr",W,fe);function fe(p,v,w){return Ee(p)&&ln("'polyStrSubstr called with invalid "+kt(p)),w<0?n:(v=v||0,v<0&&(v=xe(v+p[k],0)),we(w)?je(p,v):je(p,v,v+w))}function Je(p,v){return pe(p,0,v)}var Cr="_urid",Wr;function Xr(){if(!Wr){var p=Vt();Wr=p.gblSym=p.gblSym||{k:{},s:{}}}return Wr}var Fn={};function Oi(p){var v={description:ft(p),toString:function(){return y+"("+p+")"}};return v[b]=!0,v}function Ts(p){var v=Xr();if(!un(v.k,p)){var w=Oi(p),x=Vr(v.s).length;w[Cr]=function(){return x+"_"+w.toString()},v.k[p]=w,v.s[w[Cr]()]=ft(p)}return v.k[p]}function _n(p){var v,w=Ke[p];return w&&(v=Fn[w]=Fn[w]||Oi(y+"."+w)),v}var Xo={e:"enumerable",c:"configurable",v:A,w:"writable",g:"get",s:"set"};function Ns(p){var v={};if(v[Xo.c]=!0,v[Xo.e]=!0,p.l){v.get=function(){return p.l.v};var w=Lt(p.l,"v");w&&w.set&&(v.set=function(x){p.l.v=x})}return Er(p,function(x,F){v[Xo[x]]=we(F)?v[Xo[x]]:F}),v}var Ys=de.defineProperty;function Ao(p,v,w){return Ys(p,v,Ns(w))}var Do,H=function(){Do=Vt(),H=t};function Ue(p){var v={};return H&&H(),v.b=Do.lzy,Ys(v,"v",{configurable:!0,get:function(){var w=p();return Do.lzy||(Ys(v,"v",{value:w}),v.b&&delete v.b),Do.lzy&&v.b!==Do.lzy&&(v.b=Do.lzy),w}}),v}function vt(p,v){return Ue(function(){return ue(p,v)})}var Fr="window",io,Hi,L,Me,rt,Ut=function(p){return vt(function(){return wn(p)||e},e)},An=function(p){return(!io||p===!1||Do&&Do.lzy&&!io.b)&&(io=vt(Xt,t)),io.v},wn=function(p,v){var w=!io||v===!1?An(v):io.v;return w&&w[p]?w[p]:p===Fr&&Hi?Hi.v:t},Ln=function(){return!!oo()},oo=function(){return(!L||Do&&Do.lzy&&!L.b)&&(L=Ut("document")),L.v},qi=function(){return!!To()},To=function(){return(!Hi||Do&&Do.lzy&&!Hi.b)&&(Hi=Ut(Fr)),Hi.v},$i=function(){return!!Yn()},Yn=function(){return(!Me||Do&&Do.lzy&&!Me.b)&&(Me=Ut("navigator")),Me.v},su=function(){return!rt&&(rt=vt(function(){return!!(process&&(process.versions||{}).node)},!1)),rt.v},Qo,go,Qu;function Mi(p){return vt(function(){return Qo.v?Qo.v[p]:e},e)}function Ua(){return!!Ha()}function Ha(){var p=!Qo||Do&&Do.lzy&&!Qo.b;return p&&(Qo=Ut(y)),(!go||p)&&(go=Mi("for")),(!Qu||p)&&(Qu=Mi("keyFor")),Qo.v}function aa(p,v){var w=Ke[p];return(!Qo||Do.lzy&&!Qo.b)&&Ha(),Qo.v?Qo.v[w||p]:v?e:_n(p)}function Zu(p,v){return(!Qo||Do.lzy&&!Qo.b)&&Ha(),Qo.v?Qo.v(p):v?t:Oi(p)}function ip(p){return(!go||Do.lzy&&!Qo.b)&&Ha(),(go.v||Ts)(p)}function pc(p){return!!p&&st(p.next)}function Js(p){return!Ne(p)&&st(p[aa(3)])}var au;function op(p,v,w){if(p&&(pc(p)||(!au&&(au=Ue(function(){return aa(3)})),p=p[au.v]?p[au.v]():null),pc(p))){var x=void 0,F=void 0;try{for(var G=0;!(F=p.next())[z]&&v.call(w||p,F[A],G,p)!==-1;)G++}catch(te){x={e:te},p.throw&&(F=null,p.throw(x))}finally{try{F&&!F[z]&&p.return&&p.return(F)}finally{if(x)throw x.e}}}}var qo=Wt("apply");function Fs(p,v){return!we(v)&&p&&(tt(v)?qo(p.push,p,v):pc(v)||Js(v)?op(v,function(w){p.push(w)}):p.push(v)),p}function Cn(p,v,w){if(p)for(var x=p[k]>>>0,F=0;F<x&&!(F in p&&v.call(w||p,p[F],F,p)===-1);F++);}var qs=Dr(T,se),cu=Dr("map",se),oi=Dr(ne,se),ga=Wt("call"),zc=Dr("reduce",se),sp=de.create,Zd=sp||rh;function rh(p){if(!p)return{};var v=typeof p;if(v!==a&&v!==o)throw new TypeError("Prototype must be an Object or function: "+kt(p));function w(){}return w[c]=p,new w}var ef;function nh(p,v){var w=de.setPrototypeOf||function(x,F){!ef&&(ef=Ue(function(){var G;return G={},G[u]=[],G instanceof Array})),ef.v?x[u]=F:Er(F,function(G,te){return x[G]=te})};return w(p,v)}var tf=function(p,v,w){Jn(v,p),v=nh(v,w);function x(){this.constructor=v,Jn(this,p)}return v[c]=w===t?Zd(w):(x[c]=w[c],new x),v},wl=function(p,v){try{v&&(p[U]=v)}catch{}},Jn=function(p,v){try{Ao(p,U,{v,c:!0,e:!1})}catch{}};function js(p,v,w){var x=w||Error,F=x[c][U],G=Error.captureStackTrace;return tf(p,function(){var te=this;try{wl(x,p);var le=qo(x,te,oi(arguments))||te;if(le!==te){var Te=dn(te);Te!==dn(le)&&nh(le,Te)}return G&&G(le,te[f]),v&&v(le,arguments),le}finally{wl(x,F)}},x)}function Sl(){return(Date.now||so)()}function so(){return new Date().getTime()}function ap(p){return function(w){return Ee(w)&&ln("strTrim called ["+kt(w)+"]"),w&&w.replace&&(w=w.replace(p,n)),w}}var cp=ap(/^\s+|(?=\s)\s+$/g),zs=He("trim",W,cp),uu,up,dd;function gs(p){if(!p||typeof p!==a)return!1;dd||(dd=qi()?To():!0);var v=!1;if(p!==dd){up||(uu=Function[c].toString,up=ga(uu,de));try{var w=dn(p);v=!w,v||(on(w,f)&&(w=w[f]),v=w&&typeof w===o&&uu.call(w)===up)}catch{}}return v}var Cl=function(p){return p.value&&Xs(p),!0},Uc=[vo,Xs,of,ih];function om(p,v,w,x){var F;return Cn(p,function(G){if(G.k===v)return F=G,-1}),F||(F={k:v,v},p.push(F),x(F)),F.v}function fd(p,v,w,x){var F=w.handler,G=w.path?x?w.path.concat(x):w.path:[],te={handler:w.handler,src:w.src,path:G},le=typeof v,Te=!1,Ae=!1;v&&le===a?Te=gs(v):Ae=v===t||Ct(le);var Ye={type:le,isPrim:Ae,isPlain:Te,value:v,result:v,path:G,origin:w.src,copy:function(_t,It){return fd(p,_t,It?te:w,It)},copyTo:function(_t,It){return rf(p,_t,It,te)}};return Ye.isPrim?F&&ga(F,w,Ye)?Ye.result:v:om(p,v,G,function(_t){Ao(Ye,"result",{g:function(){return _t.v},s:function(ut){_t.v=ut}});for(var It=0,yt=F;!ga(yt||(It<Uc.length?Uc[It++]:Cl),w,Ye);)yt=t})}function rf(p,v,w,x){if(!Ee(w))for(var F in w)v[F]=fd(p,w[F],x,F);return v}function nf(p,v,w){var x={handler:w,src:v,path:[]};return rf([],p,v,x)}function hc(p,v){var w={handler:v,src:p};return fd([],p,w)}function vo(p){var v=p.value;if(tt(v)){var w=p.result=[];return w.length=v.length,p.copyTo(w,v),!0}return!1}function ih(p){var v=p.value;return pr(v)?(p.result=new Date(v.getTime()),!0):!1}function of(p){return p.type===o}function Xs(p){var v=p.value;if(v&&p.isPlain){var w=p.result={};return p.copyTo(w,v),!0}return!1}function el(p,v){return Cn(v,function(w){nf(p,w)}),p}function lu(p,v,w,x,F,G,te){return el(hc(p)||{},oi(arguments))}var Rv=re(k),Qs=He("endsWith",W,By);function By(p,v,w){ze(p)||ln("'"+kt(p)+"' is not a string");var x=ze(v)?v:ft(v),F=x[k],G=p[k],te=!we(w)&&w<G?w:G;return pe(p,te-F,te)===x}var xu=Dr(T,W),pd="ref",jo="un"+pd,Dl="hasRef",lp="enabled";function mg(p,v,w){var x,F=!0,G=p?v(t):t,te,le=function(){return F=!1,G&&G[jo]&&G[jo](),te},Te=function(){return F=!0,G&&G[pd]&&G[pd](),te},Ae=function(){return G&&G[Dl]?G[Dl]():F},Ye=function(){return G=v(G),F||le(),te},_t=function(){G&&w(G),G=t},It=function(yt){!yt&&G&&_t(),yt&&!G&&Ye()};return te=(x={cancel:_t,refresh:Ye},x[Dl]=Ae,x[pd]=Te,x[jo]=le,x[lp]=!1,x),Ys(te,lp,{get:function(){return!!G},set:It}),{h:te,dn:function(){G=t}}}function hd(p,v,w,x){var F=tt(w),G=F?w.length:0,te=(G>0?w[0]:F?e:w)||setTimeout,le=(G>1?w[1]:e)||clearTimeout,Te=x[0];x[0]=function(){Ae.dn(),qo(Te,p,oi(arguments))};var Ae=mg(v,function(Ye){if(Ye){if(Ye.refresh)return Ye.refresh(),Ye;qo(le,p,[Ye])}return qo(te,p,x)},function(Ye){qo(le,p,[Ye])});return Ae.h}function dp(p,v){return hd(this,!0,e,oi(arguments))}function oh(p,v){return hd(this,!1,e,oi(arguments))}var Tl,sh="constructor",Eu="prototype",fp="function",du="_dynInstFuncs",sf="_isDynProxy",md="_dynClass",af="_dynCls$",gd="_dynInstChk",Us=gd,va="_dfOpts",Po="_unknown_",Hc="__proto__",Wa="_dyn"+Hc,gg="__dynProto$Gbl",Ou="_dynInstProto",Hs="useBaseInst",Pl="setInstFuncs",ah=Object,fu=ah.getPrototypeOf,tl=ah.getOwnPropertyNames,pp=An(),mc=pp[gg]||(pp[gg]={o:(Tl={},Tl[Pl]=!0,Tl[Hs]=!0,Tl),n:1e3});function Iu(p){return p&&(p===ah[Eu]||p===Array[Eu])}function vs(p){return Iu(p)||p===Function[Eu]}function Wc(p){var v;if(p){if(fu)return fu(p);var w=p[Hc]||p[Eu]||(p[sh]?p[sh][Eu]:null);v=p[Wa]||w,on(p,Wa)||(delete p[Ou],v=p[Wa]=p[Ou]||p[Wa],p[Ou]=w)}return v}function ku(p,v){var w=[];if(tl)w=tl(p);else for(var x in p)typeof x=="string"&&on(p,x)&&w.push(x);if(w&&w.length>0)for(var F=0;F<w.length;F++)v(w[F])}function Au(p,v,w){return v!==sh&&typeof p[v]===fp&&(w||on(p,v))}function Zs(p){ln("DynamicProto: "+p)}function vg(p){var v={};return ku(p,function(w){!v[w]&&Au(p,w,!1)&&(v[w]=p[w])}),v}function Ba(p,v){for(var w=p.length-1;w>=0;w--)if(p[w]===v)return!0;return!1}function rl(p,v,w,x){function F(Te,Ae,Ye){var _t=Ae[Ye];if(_t[sf]&&x){var It=Te[du]||{};It[Us]!==!1&&(_t=(It[Ae[md]]||{})[Ye]||_t)}return function(){return _t.apply(Te,arguments)}}var G={};ku(w,function(Te){G[Te]=F(v,w,Te)});for(var te=Wc(p),le=[];te&&!vs(te)&&!Ba(le,te);)ku(te,function(Te){!G[Te]&&Au(te,Te,!fu)&&(G[Te]=F(v,te,Te))}),le.push(te),te=Wc(te);return G}function zo(p,v,w,x){var F=null;if(p&&on(w,md)){var G=p[du]||{};if(F=(G[w[md]]||{})[v],F||Zs("Missing ["+v+"] "+fp),!F[gd]&&G[Us]!==!1){for(var te=!on(p,v),le=Wc(p),Te=[];te&&le&&!vs(le)&&!Ba(Te,le);){var Ae=le[v];if(Ae){te=Ae===x;break}Te.push(le),le=Wc(le)}try{te&&(p[v]=F),F[gd]=1}catch{G[Us]=!1}}}return F}function Uo(p,v,w){var x=v[p];return x===w&&(x=Wc(v)[p]),typeof x!==fp&&Zs("["+p+"] is not a "+fp),x}function cf(p,v,w,x,F){function G(Te,Ae){var Ye=function(){var _t=zo(this,Ae,Te,Ye)||Uo(Ae,Te,Ye);return _t.apply(this,arguments)};return Ye[sf]=1,Ye}if(!Iu(p)){var te=w[du]=w[du]||{},le=te[v]=te[v]||{};te[Us]!==!1&&(te[Us]=!!F),ku(w,function(Te){Au(w,Te,!1)&&w[Te]!==x[Te]&&(le[Te]=w[Te],delete w[Te],(!on(p,Te)||p[Te]&&!p[Te][sf])&&(p[Te]=G(p,Te)))})}}function Mu(p,v){if(fu){for(var w=[],x=Wc(v);x&&!vs(x)&&!Ba(w,x);){if(x===p)return!0;w.push(x),x=Wc(x)}return!1}return!0}function uf(p,v){return on(p,Eu)?p.name||v||Po:((p||{})[sh]||{}).name||v||Po}function Mo(p,v,w,x){on(p,Eu)||Zs("theClass is an invalid class definition.");var F=p[Eu];Mu(F,v)||Zs("["+uf(p)+"] not in hierarchy of ["+uf(v)+"]");var G=null;on(F,md)?G=F[md]:(G=af+uf(p,"_")+"$"+mc.n,mc.n++,F[md]=G);var te=Mo[va],le=!!te[Hs];le&&x&&x[Hs]!==void 0&&(le=!!x[Hs]);var Te=vg(v),Ae=rl(F,v,Te,le);w(v,Ae);var Ye=!!fu&&!!te[Pl];Ye&&x&&(Ye=!!x[Pl]),cf(F,G,v,Te,Ye!==!1)}Mo[va]=mc.o;var Rl="function",lf="object",ca="undefined",pu="prototype",ea=Object,Ps=ea[pu];(An()||{}).Symbol,(An()||{}).Reflect;var xl="hasOwnProperty",xv=function(p){for(var v,w=1,x=arguments.length;w<x;w++){v=arguments[w];for(var F in v)Ps[xl].call(v,F)&&(p[F]=v[F])}return p},us=Ei||xv,Bc=function(p,v){return Bc=ea.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,x){w.__proto__=x}||function(w,x){for(var F in x)x[xl](F)&&(w[F]=x[F])},Bc(p,v)};function nl(p,v){typeof v!==Rl&&v!==null&&ln("Class extends value "+String(v)+" is not a constructor or null"),Bc(p,v);function w(){this.constructor=p}p[pu]=v===null?Zd(v):(w[pu]=v[pu],new w)}function hp(p,v){for(var w=0,x=v.length,F=p.length;w<x;w++,F++)p[F]=v[w];return p}var vd=Oe,ch=_e,$a="toLowerCase",sm="blkVal",ji="length",Zo="rdOnly",Lu="notify",gc="warnToConsole",vc="throwInternal",ta="setDf",il="watch",Vi="logger",df="apply",Si="push",ya="splice",Hn="hdlr",yd="cancel",El="initialize",yc="identifier",Ho="isInitialized",Va="getPlugin",ra="pollInternalLogs",ao="name",hu="time",Nn="processNext",$c="getProcessTelContext",Ro="getNotifyMgr",si="addNotificationListener",Ol="removeNotificationListener",ba="enabled",ua="stopPollingInternalLogs",na="unload",Il="onComplete",Ga="version",bd="loggingLevelConsole",ys="createNew",Vc="teardown",ol="messageId",kl="message",_d="isAsync",m="diagLog",g="_doTeardown",R="update",E="getNext",N="setNextPlugin",J="userAgent",Z="split",he="nodeType",ke="replace",Qe="logInternalMessage",pt="type",Ht="handler",Sr="isChildEvt",sn="getCtx",qr="setCtx",Wn="complete",Ws="traceId",Ka="spanId",mu="traceFlags",uh;function am(p,v){uh||(uh=js("AggregationError",function(x,F){F[ji]>1&&(x.errors=F[1])}));var w=p||"One or more errors occurred.";throw Cn(v,function(x,F){w+=`
`.concat(F," > ").concat(kt(x))}),new uh(w,v||[])}function _a(p,v){return lh(p,function(w){v&&v({value:w,rejected:!1})},function(w){v&&v({rejected:!0,reason:w})})}function lh(p,v,w,x){var F=p;return Et(p)?(v||w)&&(F=p.then(v,w)):v&&v(p),x&&(F=mp(F,x)),F}function mp(p,v){var w=p;return v&&(Et(p)?p.finally?w=p.finally(v):w=p.then(function(x){return v(),x},function(x){throw v(),x}):v()),w}var wd=["pending","resolving","resolved","rejected"],gu="dispatchEvent",yg;function $y(p,v,w,x){var F=oo();!yg&&(yg=vt(function(){var Te;return F&&F.createEvent&&(Te=F.createEvent("Event")),!!Te&&Te.initEvent},null));var G=yg.v?F.createEvent("Event"):x?new Event(v):{};if(w&&w(G),yg.v&&G.initEvent(v,!1,!0),G&&p[gu])p[gu](G);else{var te=p["on"+v];if(te)te(G);else{var le=wn("console");le&&(le.error||le.log)(v,kt(G))}}}var dh="Promise",fh="unhandledRejection",Vy=fh.toLowerCase(),Gy=10,Ky;function w_(p){return st(p)?p.toString():kt(p)}function cm(p,v,w){var x=oi(arguments,3),F=0,G=!1,te,le=[],Te=!1,Ae=null,Ye;!Ky&&(Ky=Ut(dh+"RejectionEvent"));var _t=function(ur,nn){try{Te=!0,Ae&&Ae.cancel(),Ae=null;var ki=p(function(is,Dc){le.push(function(){try{var Pa=F===2?ur:nn,Gl=we(Pa)?te:st(Pa)?Pa(te):Pa;Et(Gl)?Gl.then(is,Dc):Pa?is(Gl):F===3?Dc(Gl):is(Gl)}catch(ju){Dc(ju)}}),G&&ar()},x);return ki}finally{}},It=function(ur){return _t(void 0,ur)},yt=function(ur){var nn=ur,ki=ur;return st(ur)&&(nn=function(is){return ur&&ur(),is},ki=function(is){throw ur&&ur(),is}),_t(nn,ki)},ut=function(){return wd[F]},ar=function(){if(le.length>0){var ur=le.slice();le=[],Te=!0,v(ur),Ae&&Ae.cancel(),Ae=null}},Nt=function(ur,nn){return function(ki){if(F===nn){if(ur===2&&Et(ki)){F=1,ki.then(Nt(2,1),Nt(3,1));return}F=ur,G=!0,te=ki,ar(),!Te&&ur===3&&!Ae&&(Ae=dp(mr,Gy))}}},mr=function(){if(!Te)if(su())process.emit(fh,te,Ye);else{var ur=To()||An();$y(ur,Vy,function(nn){return Ao(nn,"promise",{g:function(){return Ye}}),nn.reason=te,nn},!!Ky.v)}};Ye={then:_t,catch:It,finally:yt},Ys(Ye,"state",{get:ut}),Ua()&&(Ye[aa(11)]="IPromise");var tr=function(){return"IPromise "+ut()+(G?" - "+w_(te):"")};return Ye.toString=tr,function(){st(w)||ln(dh+": executor is not a function - "+w_(w));var nn=Nt(3,0);try{w.call(Ye,Nt(2,0),nn)}catch(ki){nn(ki)}}(),Ye}function Ev(p){return function(v){var w=oi(arguments,1);return p(function(x,F){try{var G=[],te=1;Cn(v,function(le,Te){le&&(te++,lh(le,function(Ae){G[Te]=Ae,--te===0&&x(G)},F))}),te--,te===0&&x(G)}catch(le){F(le)}},w)}}var Yy=function(p){Cn(p,function(v){try{v()}catch{}})};function Jy(p){var v=Ar(p)?p:0;return function(w){dp(function(){Yy(w)},v)}}function um(p,v){return cm(um,Jy(v),p,v)}var ph;function S_(p,v){!ph&&(ph=Ut(dh));var w=ph.v;if(!w)return um(p);st(p)||ln(dh+": executor is not a function - "+kt(p));var x=0;function F(){return wd[x]}var G=new w(function(te,le){function Te(Ye){x=2,te(Ye)}function Ae(Ye){x=3,le(Ye)}p(Te,Ae)});return Ys(G,"state",{get:F}),G}var Xy;function hh(p,v){return!Xy&&(Xy=Ue(function(){return S_})),Xy.v.call(this,p,v)}var Ov=Ev(hh),Sd=void 0,Ji="",lm="channels",co="core",Qy="createPerfMgr",Iv="disabled",Cd="extensionConfig",mh="extensions",Gc="processTelemetry",Dd="priority",Td="eventsSent",Rs="eventsDiscarded",di="eventsSendRequest",vu="perfEvent",es="getPerfMgr",Pd="domain",dm="path",gh="Not dynamic - ",vh=/-([a-z])/g,ff=/([^\w\d_$])/g,Zy=/^(\d+[\w\d_$])/;function fm(p){return!Ee(p)}function pm(p){var v=p;return v&&ze(v)&&(v=v[ke](vh,function(w,x){return x.toUpperCase()}),v=v[ke](ff,"_"),v=v[ke](Zy,function(w,x){return"_"+x})),v}function wa(p,v){return p&&v?xu(p,v)!==-1:!1}function Rd(p){return p&&p.toISOString()||""}function bc(p){return lr(p)?p[ao]:Ji}function yu(p,v,w,x,F){var G=w;return p&&(G=p[v],G!==w&&(!F||F(G))&&(!x||x(w))&&(G=w,p[v]=G)),G}function hm(p,v,w){var x;return p?(x=p[v],!x&&Ee(x)&&(x=we(w)?{}:w,p[v]=x)):x=we(w)?{}:w,x}function sl(p,v){var w=null,x=null;return st(p)?w=p:x=p,function(){var F=arguments;if(w&&(x=w()),x)return x[v][df](x,F)}}function mm(p,v,w,x,F){p&&v&&w&&(F!==!1||we(p[v]))&&(p[v]=sl(w,x))}function bg(p,v,w,x){return p&&v&&at(p)&&tt(w)&&Cn(w,function(F){ze(F)&&mm(p,F,v,F,x)}),p}function yh(p){return function(){function v(){var w=this;p&&Er(p,function(x,F){w[x]=F})}return v}()}function Dn(p){return p&&Ei&&(p=ea(Ei({},p))),p}function xd(p,v,w,x,F,G){var te=arguments,le=te[0]||{},Te=te[ji],Ae=!1,Ye=1;for(Te>0&&jr(le)&&(Ae=le,le=te[Ye]||{},Ye++),at(le)||(le={});Ye<Te;Ye++){var _t=te[Ye],It=tt(_t),yt=at(_t);for(var ut in _t){var ar=It&&ut in _t||yt&&un(_t,ut);if(ar){var Nt=_t[ut],mr=void 0;if(Ae&&Nt&&((mr=tt(Nt))||gs(Nt))){var tr=le[ut];mr?tt(tr)||(tr=[]):gs(tr)||(tr={}),Nt=xd(Ae,tr,Nt)}Nt!==void 0&&(le[ut]=Nt)}}}return le}var xs="documentMode",pf="location",kv="console",Ya="JSON",Ed="crypto",bh="msCrypto",Av="msie",al="trident/",_g="XMLHttpRequest",gm=null,Mv=null,wg=!1,Od=null,hf=null;function vm(p,v){var w=!1;if(p){try{if(w=v in p,!w){var x=p[pu];x&&(w=v in x)}}catch{}if(!w)try{var F=new p;w=!we(F[v])}catch{}}return w}function _h(p){if(p&&wg){var v=wn("__mockLocation");if(v)return v}return typeof location===lf&&location?location:wn(pf)}function Sg(){return typeof console!==ca?console:wn(kv)}function Kc(){return!!(typeof JSON===lf&&JSON||wn(Ya)!==null)}function Ja(){return Kc()?JSON||wn(Ya):null}function mf(){return wn(Ed)}function Nu(){return wn(bh)}function bu(){var p=Yn();if(p&&(p[J]!==Mv||gm===null)){Mv=p[J];var v=(Mv||Ji)[$a]();gm=wa(v,Av)||wa(v,al)}return gm}function gp(p){if(p===void 0&&(p=null),!p){var v=Yn()||{};p=v?(v.userAgent||Ji)[$a]():Ji}var w=(p||Ji)[$a]();if(wa(w,Av)){var x=oo()||{};return Math.max(parseInt(w[Z](Av)[1]),x[xs]||0)}else if(wa(w,al)){var F=parseInt(w[Z](al)[1]);if(F)return F+4}return null}function Id(p){return(hf===null||p===!1)&&(hf=$i()&&!!Yn().sendBeacon),hf}function Cg(p){var v=!1;try{v=!!wn("fetch");var w=wn("Request");v&&p&&w&&(v=vm(w,"keepalive"))}catch{}return v}function wh(){return Od===null&&(Od=typeof XDomainRequest!==ca,Od&&Sh()&&(Od=Od&&!vm(wn(_g),"withCredentials"))),Od}function Sh(){var p=!1;try{var v=wn(_g);p=!!v}catch{}return p}var vp=4294967296,kd=4294967295,ym=123456789,Ch=987654321,bm=!1,gf=ym,yp=Ch;function _m(p){p<0&&(p>>>=0),gf=ym+p&kd,yp=Ch-p&kd,bm=!0}function C_(){try{var p=Sl()&2147483647;_m((Math.random()*vp^p)+p)}catch{}}function Xa(p){var v=0,w=mf()||Nu();return w&&w.getRandomValues&&(v=w.getRandomValues(new Uint32Array(1))[0]&kd),v===0&&bu()&&(bm||C_(),v=Lv()&kd),v===0&&(v=Math.floor(vp*Math.random()|0)),p||(v>>>=0),v}function Lv(p){yp=36969*(yp&65535)+(yp>>16)&kd,gf=18e3*(gf&65535)+(gf>>16)&kd;var v=(yp<<16)+(gf&65535)>>>0&kd|0;return p||(v>>>=0),v}function Ad(p){p===void 0&&(p=22);for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=Xa()>>>0,x=0,F=Ji;F[ji]<p;)x++,F+=v.charAt(w&63),w>>>=6,x===5&&(w=(Xa()<<2&4294967295|w&3)>>>0,x=0);return F}var Dg="3.0.5",Md="."+Ad(6),vf=0;function wm(p){return p[he]===1||p[he]===9||!+p[he]}function Tg(p,v){var w=v[p.id];if(!w){w={};try{wm(v)&&Ao(v,p.id,{e:!1,v:w})}catch{}}return w}function _c(p,v){return v===void 0&&(v=!1),pm(p+vf+++(v?"."+Dg:Ji)+Md)}function cl(p){var v={id:_c("_aiData-"+(p||Ji)+"."+Dg),accept:function(w){return wm(w)},get:function(w,x,F,G){var te=w[v.id];return te?te[pm(x)]:(G&&(te=Tg(v,w),te[pm(x)]=F),F)},kill:function(w,x){if(w&&w[x])try{delete w[x]}catch{}}};return v}function Pg(p){return p&&at(p)&&(p.isVal||p.fb||un(p,"v")||un(p,"mrg")||un(p,"ref")||p.set)}function Nv(p,v,w){var x,F=w.dfVal||$e;if(v&&w.fb){var G=w.fb;tt(G)||(G=[G]);for(var te=0;te<G[ji];te++){var le=G[te],Te=v[le];if(F(Te)?x=Te:p&&(Te=p.cfg[le],F(Te)&&(x=Te),p.set(p.cfg,ft(le),Te)),F(x))break}}return!F(x)&&F(w.v)&&(x=w.v),x}function Ld(p,v,w){var x=w;if(w&&Pg(w)&&(x=Nv(p,v,w)),x){Pg(x)&&(x=Ld(p,v,x));var F;tt(x)?(F=[],F[ji]=x[ji]):gs(x)&&(F={}),F&&(Er(x,function(G,te){te&&Pg(te)&&(te=Ld(p,v,te)),F[G]=te}),x=F)}return x}function Dh(p,v,w,x){var F,G,te,le=x,Te,Ae,Ye,_t;Pg(le)?(F=le.isVal,G=le.set,Ye=le[Zo],_t=le[sm],Te=le.mrg,Ae=le.ref,!Ae&&we(Ae)&&(Ae=!!Te),te=Nv(p,v,le)):te=x,_t&&p[sm](v,w);var It,yt=!0,ut=v[w];(ut||!Ee(ut))&&(It=ut,yt=!1,F&&It!==te&&!F(It)&&(It=te,yt=!0),G&&(It=G(It,te,v),yt=It===te)),yt?te?It=Ld(p,v,te):It=te:(gs(It)||tt(te))&&Te&&te&&(gs(te)||tt(te))&&Er(te,function(ar,Nt){Dh(p,It,ar,Nt)}),p.set(v,w,It),Ae&&p.ref(v,w),Ye&&p[Zo](v,w)}var bp=ip("[[ai_dynCfg_1]]"),D_=ip("[[ai_blkDynCfg_1]]"),TS=ip("[[ai_frcDynCfg_1]]");function Nd(p){if(p){var v;if(tt(p)?(v=[],v[ji]=p[ji]):gs(p)&&(v={}),v)return Er(p,function(w,x){v[w]=Nd(x)}),v}return p}function Fv(p){if(p){var v=p[bp]||p;if(v.cfg&&(v.cfg===p||v.cfg[bp]===v))return v}return null}function qv(p){if(p&&(gs(p)||tt(p)))try{p[D_]=!0}catch{}return p}function jv(p,v,w){var x=!1;return w&&!p[v.blkVal]&&(x=w[TS],!x&&!w[D_]&&(x=gs(w)||tt(w))),x}function Rg(p){ln("InvalidAccess:"+p)}var hD=["push","pop","shift","unshift","splice"],xg=function(p,v,w,x){p&&p[vc](3,108,"".concat(w," [").concat(v,"] failed - ")+kt(x))};function mD(p,v,w){tt(v)&&Cn(hD,function(x){var F=v[x];v[x]=function(){for(var G=[],te=0;te<arguments.length;te++)G[te]=arguments[te];var le=F[df](this,G);return Cm(p,v,w,"Patching"),le}})}function Al(p,v){var w=Lt(p,v);return w&&w.get}function _p(p,v,w,x){var F={n:w,h:[],trk:function(Ae){Ae&&Ae.fn&&(qs(F.h,Ae)===-1&&F.h[Si](Ae),p.trk(Ae,F))},clr:function(Ae){var Ye=qs(F.h,Ae);Ye!==-1&&F.h[ya](Ye,1)}},G=!0,te=!1;function le(){G&&(te=te||jv(le,p,x),x&&!x[bp]&&te&&(x=Cm(p,x,w,"Converting")),G=!1);var Ae=p.act;return Ae&&F.trk(Ae),x}le[p.prop]={chng:function(){p.add(F)}};function Te(Ae){if(x!==Ae){le[p.ro]&&!p.upd&&Rg("["+w+"] is read-only:"+kt(v)),G&&(te=te||jv(le,p,x),G=!1);var Ye=te&&le[p.rf];if(te)if(Ye){Er(x,function(It){x[It]=Ae?Ae[It]:Sd});try{Er(Ae,function(It,yt){Sm(p,x,It,yt)}),Ae=x}catch(It){xg((p.hdlr||{})[Vi],w,"Assigning",It),te=!1}}else x&&x[bp]&&Er(x,function(It){var yt=Al(x,It);if(yt){var ut=yt[p.prop];ut&&ut.chng()}});if(Ae!==x){var _t=Ae&&jv(le,p,Ae);!Ye&&_t&&(Ae=Cm(p,Ae,w,"Converting")),x=Ae,te=_t}p.add(F)}}Ao(v,F.n,{g:le,s:Te})}function Sm(p,v,w,x){if(v){var F=Al(v,w),G=F&&!!F[p.prop];G?v[w]=x:_p(p,v,w,x)}return v}function eb(p,v,w,x){if(v){var F=Al(v,w),G=F&&!!F[p.prop],te=x&&x[0],le=x&&x[1],Te=x&&x[2];if(!G){if(Te)try{qv(v)}catch(Ae){xg((p.hdlr||{})[Vi],w,"Blocking",Ae)}try{Sm(p,v,w,v[w]),F=Al(v,w)}catch(Ae){xg((p.hdlr||{})[Vi],w,"State",Ae)}}te&&(F[p.rf]=te),le&&(F[p.ro]=le),Te&&(F[p.blkVal]=!0)}return v}function Cm(p,v,w,x){try{Er(v,function(F,G){Sm(p,v,F,G)}),v[bp]||(Ys(v,bp,{get:function(){return p[Hn]}}),mD(p,v,w))}catch(F){xg((p.hdlr||{})[Vi],w,x,F)}return v}var Ml="[[ai_",ul="]]";function yf(p){var v,w=Zu(Ml+"get"+p.uid+ul),x=Zu(Ml+"ro"+p.uid+ul),F=Zu(Ml+"rf"+p.uid+ul),G=Zu(Ml+"blkVal"+p.uid+ul),te=Zu(Ml+"dtl"+p.uid+ul),le=null,Te=null,Ae;function Ye(ut,ar){var Nt=Ae.act;try{Ae.act=ut,ut&&ut[te]&&(Cn(ut[te],function(tr){tr.clr(ut)}),ut[te]=[]),ar({cfg:p.cfg,set:p.set.bind(p),setDf:p[ta].bind(p),ref:p.ref.bind(p),rdOnly:p[Zo].bind(p)})}catch(tr){var mr=p[Vi];throw mr&&mr[vc](1,107,kt(tr)),tr}finally{Ae.act=Nt||null}}function _t(){if(le){var ut=le;le=null,Te&&Te[yd](),Te=null;var ar=[];if(Cn(ut,function(Nt){if(Nt&&(Nt[te]&&(Cn(Nt[te],function(mr){mr.clr(Nt)}),Nt[te]=null),Nt.fn))try{Ye(Nt,Nt.fn)}catch(mr){ar[Si](mr)}}),le)try{_t()}catch(Nt){ar[Si](Nt)}ar[ji]>0&&am("Watcher error(s): ",ar)}}function It(ut){if(ut&&ut.h[ji]>0){le||(le=[]),Te||(Te=dp(function(){Te=null,_t()},0));for(var ar=0;ar<ut.h[ji];ar++){var Nt=ut.h[ar];Nt&&qs(le,Nt)===-1&&le[Si](Nt)}}}function yt(ut,ar){if(ut){var Nt=ut[te]=ut[te]||[];qs(Nt,ar)===-1&&Nt[Si](ar)}}return Ae=(v={prop:w,ro:x,rf:F},v[sm]=G,v[Hn]=p,v.add=It,v[Lu]=_t,v.use=Ye,v.trk=yt,v),Ae}function bf(p,v){var w={fn:v,rm:function(){w.fn=null,p=null,v=null}};return p.use(w,v),w}function zv(p,v,w){var x,F=Fv(v);if(F)return F;var G=_c("dyncfg",!0),te=v&&w!==!1?v:Nd(v),le;function Te(){le[Lu]()}function Ae(mr,tr,ur){try{mr=Sm(le,mr,tr,ur)}catch(nn){xg(p,tr,"Setting value",nn)}return mr[tr]}function Ye(mr){return bf(le,mr)}function _t(mr,tr){le.use(null,function(ur){var nn=le.upd;try{we(tr)||(le.upd=tr),mr(ur)}finally{le.upd=nn}})}function It(mr,tr){var ur;return eb(le,mr,tr,(ur={},ur[0]=!0,ur))[tr]}function yt(mr,tr){var ur;return eb(le,mr,tr,(ur={},ur[1]=!0,ur))[tr]}function ut(mr,tr){var ur;return eb(le,mr,tr,(ur={},ur[2]=!0,ur))[tr]}function ar(mr,tr){return tr&&Er(tr,function(ur,nn){Dh(Nt,mr,ur,nn)}),mr}var Nt=(x={uid:null,cfg:te},x[Vi]=p,x[Lu]=Te,x.set=Ae,x[ta]=ar,x[il]=Ye,x.ref=It,x[Zo]=yt,x[sm]=ut,x._block=_t,x);return Ao(Nt,"uid",{c:!1,e:!1,w:!1,v:G}),le=yf(Nt),Cm(le,te,"config","Creating"),Nt}function Th(p,v){p?(p[gc](v),p[vc](2,108,v)):Rg(v)}function Sa(p,v,w,x){var F=zv(w,p||{},x);return v&&F[ta](F.cfg,v),F}function wp(p,v,w){var x=p[bp]||p;return x.cfg&&(x.cfg===p||x.cfg[bp]===x)?x[il](v):(Th(w,gh+kt(p)),Sa(p,null,w)[il](v))}function Sp(p,v){if(p&&p[na])return p[na](v)}function tb(p,v,w){var x;return w||(x=hh(function(F){w=F})),p&&Rv(p)>0?_a(Sp(p[0],v),function(){tb(oi(p,1),v,w)}):w(),x}var PS=500;function Cp(p,v,w){return!p&&Ee(p)?v:jr(p)?p:ft(p)[$a]()==="true"}function RS(p){return{mrg:!0,v:p}}function Dm(p,v,w){return{fb:w,isVal:p,v}}function Dp(p,v){return{fb:v,set:Cp,v:!!p}}var Ll=[Td,Rs,di,vu],Eg=null,Ph;function Tm(p,v){return function(){var w=arguments,x=T_(v);if(x){var F=x.listener;F&&F[p]&&F[p][df](F,w)}}}function Og(){var p=wn("Microsoft");return p&&(Eg=p.ApplicationInsights),Eg}function T_(p){var v=Eg;return!v&&p.disableDbgExt!==!0&&(v=Eg||Og()),v?v.ChromeDbgExt:null}function gD(p){if(!Ph){Ph={};for(var v=0;v<Ll[ji];v++)Ph[Ll[v]]=Tm(Ll[v],p)}return Ph}var Pm,xS="warnToConsole",Qa="AI (Internal): ",Rm="AI: ",xm="AITR_",ES={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},vD=(Pm={},Pm[0]=null,Pm[1]="errorToConsole",Pm[2]=xS,Pm[3]="debugToConsole",Pm);function Nl(p){return p?'"'+p[ke](/\"/g,Ji)+'"':Ji}function Za(p,v){var w=Sg();if(w){var x="log";w[p]&&(x=p),st(w[x])&&w[x](v)}}var Fl=function(){function p(v,w,x,F){x===void 0&&(x=!1);var G=this;G[ol]=v,G[kl]=(x?Rm:Qa)+v;var te=Ji;Kc()&&(te=Ja().stringify(F));var le=(w?" message:"+Nl(w):Ji)+(F?" props:"+Nl(te):Ji);G[kl]+=le}return p.dataType="MessageData",p}();function Em(p,v){return(p||{})[Vi]||new Ig(v)}var Ig=function(){function p(v){this.identifier="DiagnosticLogger",this.queue=[];var w=0,x={},F,G,te,le,Te;Mo(p,this,function(Ae){Te=_t(v||{}),Ae.consoleLoggingLevel=function(){return F},Ae[vc]=function(ut,ar,Nt,mr,tr){tr===void 0&&(tr=!1);var ur=new Fl(ar,Nt,tr,mr);if(le)throw kt(ur);var nn=vD[ut]||xS;if(we(ur[kl]))yt("throw"+(ut===1?"Critical":"Warning"),ur);else{if(tr){var ki=+ur[ol];!x[ki]&&F>=ut&&(Ae[nn](ur[kl]),x[ki]=!0)}else F>=ut&&Ae[nn](ur[kl]);Ye(ut,ur)}},Ae.debugToConsole=function(ut){Za("debug",ut),yt("warning",ut)},Ae[gc]=function(ut){Za("warn",ut),yt("warning",ut)},Ae.errorToConsole=function(ut){Za("error",ut),yt("error",ut)},Ae.resetInternalMessageCount=function(){w=0,x={}},Ae[Qe]=Ye,Ae[na]=function(ut){Te&&Te.rm(),Te=null};function Ye(ut,ar){if(!It()){var Nt=!0,mr=xm+ar[ol];if(x[mr]?Nt=!1:x[mr]=!0,Nt&&(ut<=G&&(Ae.queue[Si](ar),w++,yt(ut===1?"error":"warn",ar)),w===te)){var tr="Internal events throttle limit per PageView reached for this app.",ur=new Fl(23,tr,!1);Ae.queue[Si](ur),ut===1?Ae.errorToConsole(tr):Ae[gc](tr)}}}function _t(ut){return wp(Sa(ut,ES,Ae).cfg,function(ar){var Nt=ar.cfg;F=Nt[bd],G=Nt.loggingLevelTelemetry,te=Nt.maxMessageLimit,le=Nt.enableDebug})}function It(){return w>=te}function yt(ut,ar){var Nt=T_(v||{});Nt&&Nt[m]&&Nt[m](ut,ar)}})}return p.__ieDyn=1,p}();function rb(p){return p||new Ig}function yn(p,v,w,x,F,G){G===void 0&&(G=!1),rb(p)[vc](v,w,x,F,G)}function Uv(p,v){rb(p)[gc](v)}var Rh,_f,Om="toGMTString",Ca="toUTCString",nb="cookie",kg="expires",ib="isCookieUseDisabled",ql="disableCookiesUsage",Im="_ckMgr",Tp=null,Ag=null,km=null,_u,Fd={},P_={},jl=(Rh={cookieCfg:RS((_f={},_f[Pd]={fb:"cookieDomain",dfVal:fm},_f.path={fb:"cookiePath",dfVal:fm},_f.enabled=Sd,_f.ignoreCookies=Sd,_f.blockedCookies=Sd,_f)),cookieDomain:Sd,cookiePath:Sd},Rh[ql]=Sd,Rh);function Hv(){!_u&&(_u=Ue(function(){return oo()}))}function zl(p){return p?p.isEnabled():!0}function R_(p,v){return v&&p&&tt(p.ignoreCookies)?qs(p.ignoreCookies,v)!==-1:!1}function Wv(p,v){return v&&p&&tt(p.blockedCookies)&&qs(p.blockedCookies,v)!==-1?!0:R_(p,v)}function Ul(p,v){var w=v[ba];if(Ee(w)){var x=void 0;we(p[ib])||(x=!p[ib]),we(p[ql])||(x=!p[ql]),w=x}return w}function x_(p,v){var w,x,F,G,te,le,Te,Ae,Ye;p=Sa(p||P_,null,v).cfg,te=wp(p,function(It){It[ta](It.cfg,jl),x=It.ref(It.cfg,"cookieCfg"),F=x[dm]||"/",G=x[Pd],le=Ul(p,x)!==!1,Te=x.getCookie||O_,Ae=x.setCookie||Sf,Ye=x.delCookie||Sf},v);var _t=(w={isEnabled:function(){var It=Ul(p,x)!==!1&&le&&E_(v),yt=P_[Im];return It&&yt&&_t!==yt&&(It=zl(yt)),It},setEnabled:function(It){le=It!==!1,x[ba]=It},set:function(It,yt,ut,ar,Nt){var mr=!1;if(zl(_t)&&!Wv(x,It)){var tr={},ur=zs(yt||Ji),nn=xu(ur,";");if(nn!==-1&&(ur=zs(Je(yt,nn)),tr=ob(pe(yt,nn+1))),yu(tr,Pd,ar||G,hr,we),!Ee(ut)){var ki=bu();if(we(tr[kg])){var is=Sl(),Dc=is+ut*1e3;if(Dc>0){var Pa=new Date;Pa.setTime(Dc),yu(tr,kg,wf(Pa,ki?Om:Ca)||wf(Pa,ki?Om:Ca)||Ji,hr)}}ki||yu(tr,"max-age",Ji+ut,null,we)}var Gl=_h();Gl&&Gl.protocol==="https:"&&(yu(tr,"secure",null,null,we),Ag===null&&(Ag=!ec((Yn()||{})[J])),Ag&&yu(tr,"SameSite","None",null,we)),yu(tr,dm,Nt||F,null,we),Ae(It,Am(ur,tr)),mr=!0}return mr},get:function(It){var yt=Ji;return zl(_t)&&!R_(x,It)&&(yt=Te(It)),yt},del:function(It,yt){var ut=!1;return zl(_t)&&(ut=_t.purge(It,yt)),ut},purge:function(It,yt){var ut,ar=!1;if(E_(v)){var Nt=(ut={},ut[dm]=yt||"/",ut[kg]="Thu, 01 Jan 1970 00:00:01 GMT",ut);bu()||(Nt["max-age"]="0"),Ye(It,Am(Ji,Nt)),ar=!0}return ar}},w[na]=function(It){te&&te.rm(),te=null},w);return _t[Im]=_t,_t}function E_(p){if(Tp===null){Tp=!1,!_u&&Hv();try{var v=_u.v||{};Tp=v[nb]!==void 0}catch(w){yn(p,2,68,"Cannot access document.cookie - "+bc(w),{exception:kt(w)})}}return Tp}function ob(p){var v={};if(p&&p[ji]){var w=zs(p)[Z](";");Cn(w,function(x){if(x=zs(x||Ji),x){var F=xu(x,"=");F===-1?v[x]=null:v[zs(Je(x,F))]=zs(pe(x,F+1))}})}return v}function wf(p,v){return st(p[v])?p[v]():null}function Am(p,v){var w=p||Ji;return Er(v,function(x,F){w+="; "+x+(Ee(F)?Ji:"="+F)}),w}function O_(p){var v=Ji;if(!_u&&Hv(),_u.v){var w=_u.v[nb]||Ji;km!==w&&(Fd=ob(w),km=w),v=zs(Fd[p]||Ji)}return v}function Sf(p,v){!_u&&Hv(),_u.v&&(_u.v[nb]=p+"="+v)}function ec(p){return ze(p)?!!(wa(p,"CPU iPhone OS 12")||wa(p,"iPad; CPU OS 12")||wa(p,"Macintosh; Intel Mac OS X 10_14")&&wa(p,"Version/")&&wa(p,"Safari")||wa(p,"Macintosh; Intel Mac OS X 10_14")&&Qs(p,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||wa(p,"Chrome/5")||wa(p,"Chrome/6")||wa(p,"UnrealEngine")&&!wa(p,"Chrome")||wa(p,"UCBrowser/12")||wa(p,"UCBrowser/11")):!1}var Wo={perfEvtsSendAll:!1};function ll(p,v,w,x){Cn(p,function(F){if(F&&F[v])if(w)dp(function(){return x(F)},0);else try{x(F)}catch{}})}var Mg=function(){function p(v){this.listeners=[];var w,x,F=[],G=Sa(v,Wo);x=G[il](function(te){w=!!te.cfg.perfEvtsSendAll}),Mo(p,this,function(te){Ao(te,"listeners",{g:function(){return F}}),te[si]=function(le){F[Si](le)},te[Ol]=function(le){for(var Te=qs(F,le);Te>-1;)F[ya](Te,1),Te=qs(F,le)},te[Td]=function(le){ll(F,Td,!0,function(Te){Te[Td](le)})},te[Rs]=function(le,Te){ll(F,Rs,!0,function(Ae){Ae[Rs](le,Te)})},te[di]=function(le,Te){ll(F,di,Te,function(Ae){Ae[di](le,Te)})},te[vu]=function(le){le&&(w||!le[Sr]())&&ll(F,vu,!1,function(Te){le[_d]?dp(function(){return Te[vu](le)},0):Te[vu](le)})},te[na]=function(le){var Te=function(){x&&x.rm(),x=null,F=[]},Ae;if(ll(F,"unload",!1,function(Ye){var _t=Ye[na](le);_t&&(Ae||(Ae=[]),Ae[Si](_t))}),Ae)return hh(function(Ye){return _a(Ov(Ae),function(){Te(),Ye()})});Te()}})}return p.__ieDyn=1,p}(),Hl="ctx",Cf="ParentContextKey",wu="ChildrenContextKey",Lg=null,Bv=function(){function p(v,w,x){var F=this;if(F.start=Sl(),F[ao]=v,F[_d]=x,F[Sr]=function(){return!1},st(w)){var G;Ao(F,"payload",{g:function(){return!G&&st(w)&&(G=w(),w=null),G}})}F[sn]=function(te){return te?te===p[Cf]||te===p[wu]?F[te]:(F[Hl]||{})[te]:null},F[qr]=function(te,le){if(te)if(te===p[Cf])F[te]||(F[Sr]=function(){return!0}),F[te]=le;else if(te===p[wu])F[te]=le;else{var Te=F[Hl]=F[Hl]||{};Te[te]=le}},F[Wn]=function(){var te=0,le=F[sn](p[wu]);if(tt(le))for(var Te=0;Te<le[ji];Te++){var Ae=le[Te];Ae&&(te+=Ae[hu])}F[hu]=Sl()-F.start,F.exTime=F[hu]-te,F[Wn]=function(){}}}return p.ParentContextKey="parent",p.ChildrenContextKey="childEvts",p}(),I_=function(){function p(v){this.ctx={},Mo(p,this,function(w){w.create=function(x,F,G){return new Bv(x,F,G)},w.fire=function(x){x&&(x[Wn](),v&&st(v[vu])&&v[vu](x))},w[qr]=function(x,F){if(x){var G=w[Hl]=w[Hl]||{};G[x]=F}},w[sn]=function(x){return(w[Hl]||{})[x]}})}return p.__ieDyn=1,p}(),sb="CoreUtils.doPerf";function xh(p,v,w,x,F){if(p){var G=p;if(G[es]&&(G=G[es]()),G){var te=void 0,le=G[sn](sb);try{if(te=G.create(v(),x,F),te){if(le&&te[qr]&&(te[qr](Bv[Cf],le),le[sn]&&le[qr])){var Te=le[sn](Bv[wu]);Te||(Te=[],le[qr](Bv[wu],Te)),Te[Si](te)}return G[qr](sb,te),w(te)}}catch(Ae){te&&te[qr]&&te[qr]("exception",Ae)}finally{te&&G.fire(te),G[qr](sb,le)}}}return w()}function Ng(){return Lg}var OS="00000000000000000000000000000000",k_="0000000000000000";function A_(p,v,w){return p&&p[ji]===v&&p!==w?!!p.match(/^[\da-f]*$/i):!1}function IS(p){return A_(p,32,OS)}function D(p){return A_(p,16,k_)}var I=cl("plugin");function j(p){return I.get(p,"state",{},!0)}function Y(p,v){for(var w=[],x=null,F=p[E](),G;F;){var te=F[Va]();if(te){x&&x[N]&&te[Gc]&&x[N](te),G=j(te);var le=!!G[Ho];te[Ho]&&(le=te[Ho]()),le||w[Si](te),x=te,F=F[E]()}}Cn(w,function(Te){var Ae=p[co]();Te[El](p.getCfg(),Ae,v,p[E]()),G=j(Te),!Te[co]&&!G[co]&&(G[co]=Ae),G[Ho]=!0,delete G[Vc]})}function ye(p){return p.sort(function(v,w){var x=0;if(w){var F=w[Gc];v[Gc]?x=F?v[Dd]-w[Dd]:1:F&&(x=-1)}else x=v?1:-1;return x})}function Be(p){var v={};return{getName:function(){return v[ao]},setName:function(w){p&&p.setName(w),v[ao]=w},getTraceId:function(){return v[Ws]},setTraceId:function(w){p&&p.setTraceId(w),IS(w)&&(v[Ws]=w)},getSpanId:function(){return v[Ka]},setSpanId:function(w){p&&p.setSpanId(w),D(w)&&(v[Ka]=w)},getTraceFlags:function(){return v[mu]},setTraceFlags:function(w){p&&p.setTraceFlags(w),v[mu]=w}}}var Ze="TelemetryPluginChain",ct="_hasRun",Tt="_getTelCtx",Yt=0;function kr(p,v,w){for(;p;){if(p[Va]()===w)return p;p=p[E]()}return Qn([w],v.config||{},v)}function qn(p,v,w,x){var F=null,G=[];v||(v=Sa({},null,w[Vi])),x!==null&&(F=x?kr(p,w,x):p);var te={_next:Te,ctx:{core:function(){return w},diagLog:function(){return Em(w,v.cfg)},getCfg:function(){return v.cfg},getExtCfg:Ye,getConfig:_t,hasNext:function(){return!!F},getNext:function(){return F},setNext:function(yt){F=yt},iterate:It,onComplete:le}};function le(yt,ut){for(var ar=[],Nt=2;Nt<arguments.length;Nt++)ar[Nt-2]=arguments[Nt];yt&&G[Si]({func:yt,self:we(ut)?te.ctx:ut,args:ar})}function Te(){var yt=F;if(F=yt?yt[E]():null,!yt){var ut=G;ut&&ut[ji]>0&&(Cn(ut,function(ar){try{ar.func.call(ar.self,ar.args)}catch(Nt){yn(w[Vi],2,73,"Unexpected Exception during onComplete - "+kt(Nt))}}),G=[])}return yt}function Ae(yt,ut){var ar=null,Nt=v.cfg;if(Nt&&yt){var mr=Nt[Cd];!mr&&ut&&(mr={}),Nt[Cd]=mr,mr=v.ref(Nt,Cd),mr&&(ar=mr[yt],!ar&&ut&&(ar={}),mr[yt]=ar,ar=v.ref(mr,yt))}return ar}function Ye(yt,ut){var ar=Ae(yt,!0);return ut&&Er(ut,function(Nt,mr){if(Ee(ar[Nt])){var tr=v.cfg[Nt];(tr||!Ee(tr))&&(ar[Nt]=tr)}Dh(v,ar,Nt,mr)}),v[ta](ar,ut)}function _t(yt,ut,ar){ar===void 0&&(ar=!1);var Nt,mr=Ae(yt,!1),tr=v.cfg;return mr&&(mr[ut]||!Ee(mr[ut]))?Nt=mr[ut]:(tr[ut]||!Ee(tr[ut]))&&(Nt=tr[ut]),Nt||!Ee(Nt)?Nt:ar}function It(yt){for(var ut;ut=te._next();){var ar=ut[Va]();ar&&yt(ar)}}return te}function On(p,v,w,x){var F=Sa(v),G=qn(p,F,w,x),te=G.ctx;function le(Ae){var Ye=G._next();return Ye&&Ye[Gc](Ae,te),!Ye}function Te(Ae,Ye){return Ae===void 0&&(Ae=null),tt(Ae)&&(Ae=Qn(Ae,F.cfg,w,Ye)),On(Ae||te[E](),F.cfg,w,Ye)}return te[Nn]=le,te[ys]=Te,te}function Xn(p,v,w){var x=Sa(v.config),F=qn(p,x,v,w),G=F.ctx;function te(Te){var Ae=F._next();return Ae&&Ae[na](G,Te),!Ae}function le(Te,Ae){return Te===void 0&&(Te=null),tt(Te)&&(Te=Qn(Te,x.cfg,v,Ae)),Xn(Te||G[E](),v,Ae)}return G[Nn]=te,G[ys]=le,G}function Qr(p,v,w){var x=Sa(v.config),F=qn(p,x,v,w),G=F.ctx;function te(Te){return G.iterate(function(Ae){st(Ae[R])&&Ae[R](G,Te)})}function le(Te,Ae){return Te===void 0&&(Te=null),tt(Te)&&(Te=Qn(Te,x.cfg,v,Ae)),Qr(Te||G[E](),v,Ae)}return G[Nn]=te,G[ys]=le,G}function Qn(p,v,w,x){var F=null,G=!x;if(tt(p)&&p[ji]>0){var te=null;Cn(p,function(le){if(!G&&x===le&&(G=!0),G&&le&&st(le[Gc])){var Te=_r(le,v,w);F||(F=Te),te&&te._setNext(Te),te=Te}})}return x&&!F?Qn([x],v,w):F}function _r(p,v,w){var x=null,F=st(p[Gc]),G=st(p[N]),te;p?te=p[yc]+"-"+p[Dd]+"-"+Yt++:te="Unknown-0-"+Yt++;var le={getPlugin:function(){return p},getNext:function(){return x},processTelemetry:Ye,unload:_t,update:It,_id:te,_setNext:function(yt){x=yt}};function Te(){var yt;return p&&st(p[Tt])&&(yt=p[Tt]()),yt||(yt=On(le,v,w)),yt}function Ae(yt,ut,ar,Nt,mr){var tr=!1,ur=p?p[yc]:Ze,nn=yt[ct];return nn||(nn=yt[ct]={}),yt.setNext(x),p&&xh(yt[co](),function(){return ur+":"+ar},function(){nn[te]=!0;try{var ki=x?x._id:Ji;ki&&(nn[ki]=!1),tr=ut(yt)}catch(Dc){var is=x?nn[x._id]:!0;is&&(tr=!0),(!x||!is)&&yn(yt[m](),1,73,"Plugin ["+ur+"] failed during "+ar+" - "+kt(Dc)+", run flags: "+kt(nn))}},Nt,mr),tr}function Ye(yt,ut){ut=ut||Te();function ar(Nt){if(!p||!F)return!1;var mr=j(p);return mr[Vc]||mr[Iv]?!1:(G&&p[N](x),p[Gc](yt,Nt),!0)}Ae(ut,ar,"processTelemetry",function(){return{item:yt}},!yt.sync)||ut[Nn](yt)}function _t(yt,ut){function ar(){var Nt=!1;if(p){var mr=j(p),tr=p[co]||mr[co];p&&(!tr||tr===yt.core())&&!mr[Vc]&&(mr[co]=null,mr[Vc]=!0,mr[Ho]=!1,p[Vc]&&p[Vc](yt,ut)===!0&&(Nt=!0))}return Nt}Ae(yt,ar,"unload",function(){},ut[_d])||yt[Nn](ut)}function It(yt,ut){function ar(){var Nt=!1;if(p){var mr=j(p),tr=p[co]||mr[co];p&&(!tr||tr===yt.core())&&!mr[Vc]&&p[R]&&p[R](yt,ut)===!0&&(Nt=!0)}return Nt}Ae(yt,ar,"update",function(){},!1)||yt[Nn](ut)}return ii(le)}function Ci(){var p=[];function v(x){x&&p[Si](x)}function w(x,F){Cn(p,function(G){try{G(x,F)}catch(te){yn(x[m](),2,73,"Unexpected error calling unload handler - "+kt(te))}}),p=[]}return{add:v,run:w}}function Bn(){var p=[];function v(x){var F=p;p=[],Cn(F,function(G){try{(G.rm||G.remove).call(G)}catch(te){yn(x,2,73,"Unloading:"+kt(te))}})}function w(x){x&&Fs(p,x)}return{run:v,add:w}}var Tn,ts="getPlugin",tc=(Tn={},Tn[Cd]={isVal:fm,v:{}},Tn),Da=function(){function p(){var v=this,w,x,F,G,te;Ae(),Mo(p,v,function(Ye){Ye[El]=function(_t,It,yt,ut){Te(_t,It,ut),w=!0},Ye[Vc]=function(_t,It){var yt,ut=Ye[co];if(!ut||_t&&ut!==_t[co]())return;var ar,Nt=!1,mr=_t||Xn(null,ut,F&&F[ts]?F[ts]():F),tr=It||(yt={reason:0},yt[_d]=!1,yt);function ur(){Nt||(Nt=!0,G.run(mr,It),te.run(mr[m]()),ar===!0&&mr[Nn](tr),Ae())}return!Ye[g]||Ye[g](mr,tr,ur)!==!0?ur():ar=!0,ar},Ye[R]=function(_t,It){var yt=Ye[co];if(!yt||_t&&yt!==_t[co]())return;var ut,ar=!1,Nt=_t||Qr(null,yt,F&&F[ts]?F[ts]():F),mr=It||{reason:0};function tr(){ar||(ar=!0,Te(Nt.getCfg(),Nt.core(),Nt[E]()))}return!Ye._doUpdate||Ye._doUpdate(Nt,mr,tr)!==!0?tr():ut=!0,ut},mm(Ye,"_addUnloadCb",function(){return G},"add"),mm(Ye,"_addHook",function(){return te},"add"),Ao(Ye,"_unloadHooks",{g:function(){return te}})}),v[m]=function(Ye){return le(Ye)[m]()},v[Ho]=function(){return w},v.setInitialized=function(Ye){w=Ye},v[N]=function(Ye){F=Ye},v[Nn]=function(Ye,_t){_t?_t[Nn](Ye):F&&st(F[Gc])&&F[Gc](Ye,null)},v._getTelCtx=le;function le(Ye){Ye===void 0&&(Ye=null);var _t=Ye;if(!_t){var It=x||On(null,{},v[co]);F&&F[ts]?_t=It[ys](null,F[ts]):_t=It[ys](null,F)}return _t}function Te(Ye,_t,It){Sa(Ye,tc,Em(_t)),!It&&_t&&(It=_t[$c]()[E]());var yt=F;F&&F[ts]&&(yt=F[ts]()),v[co]=_t,x=On(It,Ye,_t,yt)}function Ae(){w=!1,v[co]=null,x=null,F=null,te=Bn(),G=Ci()}}return p.__ieDyn=1,p}();function Fg(p,v,w){var x={id:v,fn:w};Fs(p,x);var F={remove:function(){Cn(p,function(G,te){if(G.id===x.id)return p[ya](te,1),-1})}};return F}function Mm(p,v,w){for(var x=!1,F=p[ji],G=0;G<F;++G){var te=p[G];if(te)try{if(te.fn[df](null,[v])===!1){x=!0;break}}catch(le){yn(w,2,64,"Telemetry initializer failed: "+bc(le),{exception:kt(le)},!0)}}return!x}var $v=function(p){nl(v,p);function v(){var w=p.call(this)||this;w.identifier="TelemetryInitializerPlugin",w.priority=199;var x,F;G(),Mo(v,w,function(te,le){te.addTelemetryInitializer=function(Te){return Fg(F,x++,Te)},te[Gc]=function(Te,Ae){Mm(F,Te,Ae?Ae[m]():te[m]())&&te[Nn](Te,Ae)},te[g]=function(){G()}});function G(){x=0,F=[]}return w}return v.__ieDyn=1,v}(Da),Wl,Pp="Plugins must provide initialize method",Vv="_notificationManager",Gv="SDK is still unloading...",sr="SDK is not initialized",cn=Yi((Wl={cookieCfg:{}},Wl[mh]={rdOnly:!0,ref:!0,v:[]},Wl[lm]={rdOnly:!0,ref:!0,v:[]},Wl[Cd]={ref:!0,v:{}},Wl[Qy]=Sd,Wl.loggingLevelConsole=0,Wl.diagnosticLogInterval=Sd,Wl));function fi(p,v){return new I_(v)}function rs(p,v,w){var x,F=[],G=[],te={};return Cn(w,function(le){(Ee(le)||Ee(le[El]))&&Br(Pp);var Te=le[Dd],Ae=le[yc];le&&Te&&(Ee(te[Te])?te[Te]=Ae:Uv(p,"Two extensions have same priority #"+Te+" - "+te[Te]+", "+Ae)),!Te||Te<v?F[Si](le):G[Si](le)}),x={},x[co]=F,x[lm]=G,x}function bs(p,v){var w=!1;return Cn(v,function(x){if(x===p)return w=!0,-1}),w}function _s(p,v,w,x){w&&Er(w,function(F,G){x&&gs(G)&&gs(v[F])&&_s(p,v[F],G,x),x&&gs(G)&&gs(v[F])?_s(p,v[F],G,x):p.set(v,F,G)})}function Es(p,v){var w=null,x=-1;return Cn(p,function(F,G){if(F.w===v)return w=F,x=G,-1}),{i:x,l:w}}function Lm(p,v){var w=Es(p,v).l;return w||(w={w:v,rm:function(){var x=Es(p,v);x.i!==-1&&p[ya](x.i,1)}},p[Si](w)),w}function Eh(p,v,w){Cn(v,function(x){var F=wp(p,x.w,w);delete x.w,x.rm=function(){F.rm()}})}var Oh=function(){function p(){var v,w,x,F,G,te,le,Te,Ae,Ye,_t,It,yt,ut,ar,Nt,mr,tr,ur,nn,ki,is,Dc,Pa,Gl,ju,M0,vb;Mo(p,this,function(zr){vr(),zr._getDbgPlgTargets=function(){return[Dc]},zr[Ho]=function(){return w},zr[El]=function(Bt,Kr,_i,ui){yt&&Br(Gv),zr[Ho]()&&Br("Core cannot be initialized more than once"),v=Sa(Bt,cn,_i||zr[Vi],!1),Bt=v.cfg,Y_(v[il](function(Ss){ki=Ss.cfg.instrumentationKey;var Yc=Ss.ref(Ss.cfg,Cd);Er(Yc,function(zu){Ss.ref(Yc,zu)}),Ee(ki)&&Br("Please provide instrumentation key")})),G=ui,MO(),cN(),zr[Vi]=_i;var ti=Bt[mh];if(Ye=[],Ye[Si].apply(Ye,hp(hp([],Kr,!1),ti)),_t=Bt[lm],AO(null),(!It||It[ji]===0)&&Br("No "+lm+" available"),_t&&_t[ji]>1){var ws=zr[Va]("TeeChannelController");(!ws||!ws.plugin)&&yn(x,1,28,"TeeChannel required")}Eh(Bt,is,x),is=null,w=!0,zr.releaseQueue(),zr[ra]()},zr.getChannels=function(){var Bt=[];return It&&Cn(It,function(Kr){Bt[Si](Kr)}),ii(Bt)},zr.track=function(Bt){xh(zr[es](),function(){return"AppInsightsCore:track"},function(){Bt===null&&(uN(Bt),Br("Invalid telemetry item")),!Bt[ao]&&Ee(Bt[ao])&&(uN(Bt),Br("telemetry name required")),Bt.iKey=Bt.iKey||ki,Bt[hu]=Bt[hu]||Rd(new Date),Bt.ver=Bt.ver||"4.0",!yt&&zr[Ho]()?AD()[Nn](Bt):F[Si](Bt)},function(){return{item:Bt}},!Bt.sync)},zr[$c]=AD,zr[Ro]=function(){return G||(G=new Mg(v.cfg),zr[Vv]=G),G},zr[si]=function(Bt){zr[Ro]()[si](Bt)},zr[Ol]=function(Bt){G&&G[Ol](Bt)},zr.getCookieMgr=function(){return Te||(Te=x_(v.cfg,zr[Vi])),Te},zr.setCookieMgr=function(Bt){Te!==Bt&&(Sp(Te,!1),Te=Bt)},zr[es]=function(){return!te&&!le&&Y_(v[il](function(Bt){if(Bt.cfg.enablePerfMgr){var Kr=Bt.cfg[Qy];st(Kr)&&(le=Kr(zr,zr[Ro]()))}})),te||le||Ng()},zr.setPerfMgr=function(Bt){te=Bt},zr.eventCnt=function(){return F[ji]},zr.releaseQueue=function(){if(w&&F[ji]>0){var Bt=F;F=[],Cn(Bt,function(Kr){AD()[Nn](Kr)})}},zr[ra]=function(Bt){return ar=Bt||null,vb=!1,ju&&ju[yd](),yb(!0)};function yb(Bt){if((!ju||!ju[ba])&&!vb){var Kr=Bt||x&&x.queue[ji]>0;Kr&&(M0||(M0=!0,Y_(v[il](function(_i){var ui=_i.cfg.diagnosticLogInterval;(!ui||!(ui>0))&&(ui=1e4);var ti=!1;ju&&(ti=ju[ba],ju[yd]()),ju=oh(LD,ui),ju.unref(),ju[ba]=ti}))),ju[ba]=!0)}return ju}zr[ua]=function(){vb=!0,ju&&ju[yd](),LD()},bg(zr,function(){return ut},["addTelemetryInitializer"]),zr[na]=function(Bt,Kr,_i){var ui;Bt===void 0&&(Bt=!0),w||Br(sr),yt&&Br(Gv);var ti=(ui={reason:50},ui[_d]=Bt,ui.flushComplete=!1,ui),ws;Bt&&!Kr&&(ws=hh(function(zu){Kr=zu}));var Ss=Xn(MD(),zr);Ss[Il](function(){tr.run(zr[Vi]),tb([Te,G,x],Bt,function(){vr(),Kr&&Kr(ti)})},zr);function Yc(zu){ti.flushComplete=zu,yt=!0,mr.run(Ss,ti),zr[ua](),Ss[Nn](ti)}return LD(),aN(Bt,Yc,6,_i),ws},zr[Va]=L0,zr.addPlugin=function(Bt,Kr,_i,ui){if(!Bt){ui&&ui(!1),K_(Pp);return}var ti=L0(Bt[yc]);if(ti&&!Kr){ui&&ui(!1),K_("Plugin ["+Bt[yc]+"] is already loaded!");return}var ws={reason:16};function Ss(Um){Ye[Si](Bt),ws.added=[Bt],AO(ws),ui&&ui(!0)}if(ti){var Yc=[ti.plugin],zu={reason:2,isAsync:!!_i};N0(Yc,zu,function(Um){Um?(ws.removed=Yc,ws.reason|=32,Ss()):ui&&ui(!1)})}else Ss()},zr.updateCfg=function(Bt,Kr){Kr===void 0&&(Kr=!0);var _i;if(zr[Ho]()){_i={reason:1,cfg:v.cfg,oldCfg:lu({},v.cfg),newConfig:lu({},Bt),merge:Kr},Bt=_i.newConfig;var ui=v.cfg;Bt[mh]=ui[mh],Bt[lm]=ui[lm]}v._block(function(ti){var ws=ti.cfg;_s(ti,ws,Bt,Kr),Kr||Er(ws,function(Ss){un(Bt,Ss)||ti.set(ws,Ss,Sd)}),ti[ta](ws,cn)},!0),v[Lu](),_i&&LO(_i)},zr.evtNamespace=function(){return Nt},zr.flush=aN,zr.getTraceCtx=function(Bt){return nn||(nn=Be()),nn},zr.setTraceCtx=function(Bt){nn=Bt||null},zr.addUnloadHook=Y_,mm(zr,"addUnloadCb",function(){return mr},"add"),zr.onCfgChange=function(Bt){var Kr;return w?Kr=wp(v.cfg,Bt,zr[Vi]):Kr=Lm(is,Bt),{rm:function(){Kr.rm()}}},zr.getWParam=function(){return Ln()||v.cfg.enableWParam?0:-1};function bb(){var Bt={};Pa=[];var Kr=function(_i){_i&&Cn(_i,function(ui){if(ui[yc]&&ui[Ga]&&!Bt[ui.identifier]){var ti=ui[yc]+"="+ui[Ga];Pa[Si](ti),Bt[ui.identifier]=ui}})};Kr(It),_t&&Cn(_t,function(_i){Kr(_i)}),Kr(Ye)}function vr(){w=!1,v=Sa({},cn,zr[Vi]),v.cfg[bd]=1,Ao(zr,"config",{g:function(){return v.cfg},s:function(Kr){zr.updateCfg(Kr,!1)}}),Ao(zr,"pluginVersionStringArr",{g:function(){return Pa||bb(),Pa}}),Ao(zr,"pluginVersionString",{g:function(){return Gl||(Pa||bb(),Gl=Pa.join(";")),Gl||Ji}}),Ao(zr,"logger",{g:function(){return x||(x=new Ig(v.cfg),v[Vi]=x),x},s:function(Kr){v[Vi]=Kr,x!==Kr&&(Sp(x,!1),x=Kr)}}),zr[Vi]=new Ig(v.cfg),Dc=[];var Bt=zr.config[mh]||[];Bt.splice(0,Bt[ji]),Fs(Bt,Dc),ut=new $v,F=[],Sp(G,!1),G=null,te=null,le=null,Sp(Te,!1),Te=null,Ae=null,Ye=[],_t=null,It=null,yt=!1,ar=null,Nt=_c("AIBaseCore",!0),mr=Ci(),nn=null,ki=null,tr=Bn(),is=[],Gl=null,Pa=null,vb=!1}function AD(){var Bt=On(MD(),v.cfg,zr);return Bt[Il](yb),Bt}function AO(Bt){var Kr=rs(zr[Vi],PS,Ye);Ae=null,Gl=null,Pa=null,It=(_t||[])[0]||[],It=ye(Fs(It,Kr[lm]));var _i=Fs(ye(Kr[co]),It);Dc=ii(_i);var ui=zr.config[mh]||[];ui.splice(0,ui[ji]),Fs(ui,Dc);var ti=AD();It&&It[ji]>0&&Y(ti[ys](It),_i),Y(ti,_i),Bt&&LO(Bt)}function L0(Bt){var Kr=null,_i=null,ui=[];return Cn(Dc,function(ti){if(ti[yc]===Bt&&ti!==ut)return _i=ti,-1;ti.getChannel&&ui[Si](ti)}),!_i&&ui[ji]>0&&Cn(ui,function(ti){if(_i=ti.getChannel(Bt),!_i)return-1}),_i&&(Kr={plugin:_i,setEnabled:function(ti){j(_i)[Iv]=!ti},isEnabled:function(){var ti=j(_i);return!ti[Vc]&&!ti[Iv]},remove:function(ti,ws){var Ss;ti===void 0&&(ti=!0);var Yc=[_i],zu=(Ss={reason:1},Ss[_d]=ti,Ss);N0(Yc,zu,function(Um){Um&&AO({reason:32,removed:Yc}),ws&&ws(Um)})}}),Kr}function MD(){if(!Ae){var Bt=(Dc||[]).slice();qs(Bt,ut)===-1&&Bt[Si](ut),Ae=Qn(ye(Bt),v.cfg,zr)}return Ae}function N0(Bt,Kr,_i){if(Bt&&Bt[ji]>0){var ui=Qn(Bt,v.cfg,zr),ti=Xn(ui,zr);ti[Il](function(){var ws=!1,Ss=[];Cn(Ye,function(zu,Um){bs(zu,Bt)?ws=!0:Ss[Si](zu)}),Ye=Ss,Gl=null,Pa=null;var Yc=[];_t&&(Cn(_t,function(zu,Um){var J_=[];Cn(zu,function(lN){bs(lN,Bt)?ws=!0:J_[Si](lN)}),Yc[Si](J_)}),_t=Yc),_i&&_i(ws),yb()}),ti[Nn](Kr)}else _i(!1)}function LD(){if(x&&x.queue){var Bt=x.queue.slice(0);x.queue[ji]=0,Cn(Bt,function(Kr){var _i,ui=(_i={},_i[ao]=ar||"InternalMessageId: "+Kr[ol],_i.iKey=ki,_i[hu]=Rd(new Date),_i.baseType=Fl.dataType,_i.baseData={message:Kr[kl]},_i);zr.track(ui)})}}function aN(Bt,Kr,_i,ui){var ti=1,ws=!1,Ss=null;ui=ui||5e3;function Yc(){ti--,ws&&ti===0&&(Ss&&Ss[yd](),Ss=null,Kr&&Kr(ws),Kr=null)}if(It&&It[ji]>0){var zu=AD()[ys](It);zu.iterate(function(Um){if(Um.flush){ti++;var J_=!1;Um.flush(Bt,function(){J_=!0,Yc()},_i)||J_||(Bt&&Ss==null?Ss=dp(function(){Ss=null,Yc()},ui):Yc())}})}return ws=!0,Yc(),!0}function MO(){!G&&zr[Ro](),Y_(v[il](function(Bt){var Kr=Bt.cfg.disableDbgExt;Kr===!0&&ur&&(G[Ol](ur),ur=null),G&&!ur&&Kr!==!0&&(ur=gD(Bt.cfg),G[si](ur))}))}function cN(){Y_(v[il](function(Bt){var Kr=Bt.cfg.enablePerfMgr;!Kr&&le&&(le=null),Kr&&hm(Bt.cfg,Qy,fi)}))}function LO(Bt){var Kr=Qr(MD(),zr);Kr[Il](yb),(!zr._updateHook||zr._updateHook(Kr,Bt)!==!0)&&Kr[Nn](Bt)}function K_(Bt){var Kr=zr[Vi];Kr?(yn(Kr,2,73,Bt),yb()):Br(Bt)}function uN(Bt){var Kr=zr[Ro]();Kr&&Kr[Rs]([Bt],2)}function Y_(Bt){tr.add(Bt)}})}return p.__ieDyn=1,p}(),M_="on",Nm="attachEvent",Rp="addEventListener",Kv="detachEvent",Su="removeEventListener",Fm="events";_c("aiEvtPageHide"),_c("aiEvtPageShow");var xp=/\.[\.]+/g,qg=/[\.]+$/,x0=1,jg=cl("events"),Fu=/^([^.]*)(?:\.(.+)|)/;function dl(p){return p&&p[ke]?p[ke](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ji):p}function Yv(p,v){var w;if(v){var x=Ji;tt(v)?(x=Ji,Cn(v,function(G){G=dl(G),G&&(G[0]!=="."&&(G="."+G),x+=G)})):x=dl(v),x&&(x[0]!=="."&&(x="."+x),p=(p||Ji)+x)}var F=Fu.exec(p||Ji)||[];return w={},w[pt]=F[1],w.ns=(F[2]||Ji).replace(xp,".").replace(qg,Ji)[Z](".").sort().join("."),w}function Df(p,v,w){w===void 0&&(w=!0);var x=jg.get(p,Fm,{},w),F=x[v];return F||(F=x[v]=[]),F}function yD(p,v,w,x){p&&v&&v[pt]&&(p[Su]?p[Su](v[pt],w,x):p[Kv]&&p[Kv](M_+v[pt],w))}function kS(p,v,w,x){var F=!1;return p&&v&&v[pt]&&w&&(p[Rp]?(p[Rp](v[pt],w,x),F=!0):p[Nm]&&(p[Nm](M_+v[pt],w),F=!0)),F}function E0(p,v,w,x){for(var F=v[ji];F--;){var G=v[F];G&&(!w.ns||w.ns===G.evtName.ns)&&(!x||x(G))&&(yD(p,G.evtName,G[Ht],G.capture),v[ya](F,1))}}function O0(p,v,w){if(v[pt])E0(p,Df(p,v[pt]),v,w);else{var x=jg.get(p,Fm,{});Er(x,function(F,G){E0(p,G,v,w)}),Vr(x)[ji]===0&&jg.kill(p,Fm)}}function AS(p,v){var w;return v?(tt(v)?w=[p].concat(v):w=[p,v],w=Yv("xx",w).ns[Z](".")):w=p,w}function Tf(p,v,w,x,F){var G;F===void 0&&(F=!1);var te=!1;if(p)try{var le=Yv(v,x);if(te=kS(p,le,w,F),te&&jg.accept(p)){var Te=(G={guid:x0++,evtName:le},G[Ht]=w,G.capture=F,G);Df(p,le.type)[Si](Te)}}catch{}return te}function bD(p,v,w,x,F){if(F===void 0&&(F=!1),p)try{var G=Yv(v,x),te=!1;O0(p,G,function(le){return G.ns&&!w||le[Ht]===w?(te=!0,!0):!1}),te||yD(p,G,w,F)}catch{}}var ab="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",L_="sampleRate",N_="ProcessLegacy",F_="http.method",MS="https://dc.services.visualstudio.com",cb="/v2/track",Pf="not_specified",ub=ch({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),q_="split",eo="length",LS="toLowerCase",zg="ingestionendpoint",Jv="toString",I0="removeItem",Rf="name",Bl="message",NS="count",Ep="stringify",Ug="pathname",Ih="exceptions",fl="parsedStack",Op="properties",kh="measurements",Hg="sizeInBytes",Ah="typeName",j_="severityLevel",FS="problemGroup",_D="isManual",lb="CreateFromInterface",Xv="assembly",Wg="fileName",Qv="hasFullStack",z_="level",Bg="method",db="line",U_="duration",fb="receivedResponse";function k0(p,v,w){var x=v[eo],F=H_(p,v);if(F[eo]!==x){for(var G=0,te=F;w[te]!==void 0;)G++,te=pe(F,0,147)+Gg(G);F=te}return F}function H_(p,v){var w;return v&&(v=zs(ft(v)),v[eo]>150&&(w=pe(v,0,150),yn(p,2,57,"name is too long.  It has been truncated to 150 characters.",{name:v},!0))),w||v}function Ta(p,v,w){w===void 0&&(w=1024);var x;return v&&(w=w||1024,v=zs(ft(v)),v[eo]>w&&(x=pe(v,0,w),yn(p,2,61,"string value is too long. It has been truncated to "+w+" characters.",{value:v},!0))),x||v}function Mh(p,v){return W_(p,v,2048,66)}function $g(p,v){var w;return v&&v[eo]>32768&&(w=pe(v,0,32768),yn(p,2,56,"message is too long, it has been truncated to 32768 characters.",{message:v},!0)),w||v}function wD(p,v){var w;if(v){var x=""+v;x[eo]>32768&&(w=pe(x,0,32768),yn(p,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:v},!0))}return w||v}function qm(p,v){if(v){var w={};Er(v,function(x,F){if(at(F)&&Kc())try{F=Ja()[Ep](F)}catch(G){yn(p,2,49,"custom property is not valid",{exception:G},!0)}F=Ta(p,F,8192),x=k0(p,x,w),w[x]=F}),v=w}return v}function Vg(p,v){if(v){var w={};Er(v,function(x,F){x=k0(p,x,w),w[x]=F}),v=w}return v}function pb(p,v){return v&&W_(p,v,128,69)[Jv]()}function W_(p,v,w,x){var F;return v&&(v=zs(ft(v)),v[eo]>w&&(F=pe(v,0,w),yn(p,2,x,"input is too long, it has been truncated to "+w+" characters.",{data:v},!0))),F||v}function Gg(p){var v="00"+p;return S(v,v[eo]-3)}var Kg=oo()||{},SD=0,CD=[null,null,null,null,null];function hb(p){var v=SD,w=CD,x=w[v];return Kg.createElement?w[v]||(x=w[v]=Kg.createElement("a")):x={host:DD(p,!0)},x.href=p,v++,v>=w[eo]&&(v=0),SD=v,x}function DD(p,v){var w=OO(p,v)||"";if(w){var x=w.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(x!=null&&x[eo]>3&&ze(x[2])&&x[2][eo]>0)return x[2]+(x[3]||"")}return w}function OO(p,v){var w=null;if(p){var x=p.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(x!=null&&x[eo]>2&&ze(x[2])&&x[2][eo]>0&&(w=x[2]||"",v&&x[eo]>2)){var F=(x[1]||"")[LS](),G=x[3]||"";(F==="http"&&G===":80"||F==="https"&&G===":443")&&(G=""),w+=G}}return w}var IO=[MS+cb,"https://breeze.aimon.applicationinsights.io"+cb,"https://dc-int.services.visualstudio.com"+cb];function jm(p){return qs(IO,p[LS]())!==-1}function kO(p,v,w,x){var F,G=x,te=x;if(v&&v[eo]>0){var le=hb(v);if(F=le.host,!G)if(le[Ug]!=null){var Te=le.pathname[eo]===0?"/":le[Ug];Te.charAt(0)!=="/"&&(Te="/"+Te),te=le[Ug],G=Ta(p,w?w+" "+Te:Te)}else G=Ta(p,v)}else F=x,G=x;return{target:F,name:G,data:te}}var B_=vd({LocalStorage:0,SessionStorage:1});vd({AI:0,AI_AND_W3C:1,W3C:2});var Zv=void 0,qS="";function jS(p){try{if(Ee(An()))return null;var v=new Date()[Jv](),w=wn(p===B_.LocalStorage?"localStorage":"sessionStorage"),x=qS+v;w.setItem(x,v);var F=w.getItem(x)!==v;if(w[I0](x),!F)return w}catch{}return null}function $_(){return TD()?jS(B_.SessionStorage):null}function zm(p){qS=p||""}function TD(p){return(p||Zv===void 0)&&(Zv=!!jS(B_.SessionStorage)),Zv}function Bs(p,v){var w=$_();if(w!==null)try{return w.getItem(v)}catch(x){Zv=!1,yn(p,2,2,"Browser failed read of session storage. "+bc(x),{exception:kt(x)})}return null}function Ip(p,v,w){var x=$_();if(x!==null)try{return x.setItem(v,w),!0}catch(F){Zv=!1,yn(p,2,4,"Browser failed write to session storage. "+bc(F),{exception:kt(F)})}return!1}var $s=";",PD="=";function RD(p){if(!p)return{};var v=p[q_]($s),w=zc(v,function(F,G){var te=G[q_](PD);if(te[eo]===2){var le=te[0][LS](),Te=te[1];F[le]=Te}return F},{});if(Vr(w)[eo]>0){if(w.endpointsuffix){var x=w.location?w.location+".":"";w[zg]=w[zg]||"https://"+x+"dc."+w.endpointsuffix}w[zg]=w[zg]||MS,Qs(w[zg],"/")&&(w[zg]=w[zg].slice(0,-1))}return w}var xD=function(){function p(v,w,x){var F=this,G=this;G.ver=1,G.sampleRate=100,G.tags={},G[Rf]=Ta(v,x)||Pf,G.data=w,G.time=Rd(new Date),G.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return F.sampleRate===100?4:1},tags:1,data:1}}return p}(),C=function(){function p(v,w,x,F){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var G=this;G.ver=2,G[Rf]=Ta(v,w)||Pf,G[Op]=qm(v,x),G[kh]=Vg(v,F)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Event",p.dataType="EventData",p}(),M="<no_method>",B="error",X="stack",ae="stackDetails",Se="errorSrc",De="message",Xe="description";function lt(p,v){var w=p;return w&&!ze(w)&&(JSON&&JSON[Ep]?(w=JSON[Ep](p),v&&(!w||w==="{}")&&(st(p[Jv])?w=p[Jv]():w=""+p)):w=""+p+" - (Missing JSON.stringify)"),w||""}function gt(p,v){var w=p;return p&&(w&&!ze(w)&&(w=p[De]||p[Xe]||w),w&&!ze(w)&&(w=lt(w,!0)),p.filename&&(w=w+" @"+(p.filename||"")+":"+(p.lineno||"?")+":"+(p.colno||"?"))),v&&v!=="String"&&v!=="Object"&&v!=="Error"&&xu(w||"",v)===-1&&(w=v+": "+w),w||""}function zt(p){try{if(at(p))return"hasFullStack"in p&&"typeName"in p}catch{}return!1}function Pr(p){try{if(at(p))return"ver"in p&&"exceptions"in p&&"properties"in p}catch{}return!1}function wr(p){return p&&p.src&&ze(p.src)&&p.obj&&tt(p.obj)}function Mt(p){var v=p||"";ze(v)||(ze(v[X])?v=v[X]:v=""+v);var w=v[q_](`
`);return{src:v,obj:w}}function Rt(p){for(var v=[],w=p[q_](`
`),x=0;x<w[eo];x++){var F=w[x];w[x+1]&&(F+="@"+w[x+1],x++),v.push(F)}return{src:p,obj:v}}function jt(p){var v=null;if(p)try{if(p[X])v=Mt(p[X]);else if(p[B]&&p[B][X])v=Mt(p[B][X]);else if(p.exception&&p.exception[X])v=Mt(p.exception[X]);else if(wr(p))v=p;else if(wr(p[ae]))v=p[ae];else if(To()&&To().opera&&p[De])v=Rt(p[Bl]);else if(p.reason&&p.reason[X])v=Mt(p.reason[X]);else if(ze(p))v=Mt(p);else{var w=p[De]||p[Xe]||"";ze(p[Se])&&(w&&(w+=`
`),w+=" from "+p[Se]),w&&(v=Mt(w))}}catch(x){v=Mt(x)}return v||{src:"",obj:null}}function Pt(p){var v="";return p&&(p.obj?Cn(p.obj,function(w){v+=w+`
`}):v=p.src||""),v}function dr(p){var v,w=p.obj;if(w&&w[eo]>0){v=[];var x=0,F=0;Cn(w,function(ut){var ar=ut[Jv]();if(ai.regex.test(ar)){var Nt=new ai(ar,x++);F+=Nt[Hg],v.push(Nt)}});var G=32*1024;if(F>G)for(var te=0,le=v[eo]-1,Te=0,Ae=te,Ye=le;te<le;){var _t=v[te][Hg],It=v[le][Hg];if(Te+=_t+It,Te>G){var yt=Ye-Ae+1;v.splice(Ae,yt);break}Ae=te,Ye=le,te++,le--}}return v}function ir(p){var v="";if(p&&(v=p.typeName||p[Rf]||"",!v))try{var w=/function (.{1,200})\(/,x=w.exec(p.constructor[Jv]());v=x&&x[eo]>1?x[1]:""}catch{}return v}function yr(p){if(p)try{if(!ze(p)){var v=ir(p),w=lt(p,!1);return(!w||w==="{}")&&(p[B]&&(p=p[B],v=ir(p)),w=lt(p,!0)),xu(w,v)!==0&&v!=="String"?v+":"+w:w}}catch{}return""+(p||"")}var fn=function(){function p(v,w,x,F,G,te){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var le=this;le.ver=2,Pr(w)?(le[Ih]=w[Ih]||[],le[Op]=w[Op],le[kh]=w[kh],w[j_]&&(le[j_]=w[j_]),w.id&&(le.id=w.id),w[FS]&&(le[FS]=w[FS]),Ee(w[_D])||(le[_D]=w[_D])):(x||(x={}),le[Ih]=[new pi(v,w,x)],le[Op]=qm(v,x),le[kh]=Vg(v,F),G&&(le[j_]=G),te&&(le.id=te))}return p.CreateAutoException=function(v,w,x,F,G,te,le,Te){var Ae,Ye=ir(G||te||v);return Ae={},Ae[Bl]=gt(v,Ye),Ae.url=w,Ae.lineNumber=x,Ae.columnNumber=F,Ae.error=yr(G||te||v),Ae.evt=yr(te||v),Ae[Ah]=Ye,Ae.stackDetails=jt(le||G||te),Ae.errorSrc=Te,Ae},p.CreateFromInterface=function(v,w,x,F){var G=w[Ih]&&cu(w[Ih],function(le){return pi[lb](v,le)}),te=new p(v,us(us({},w),{exceptions:G}),x,F);return te},p.prototype.toInterface=function(){var v,w=this,x=w.exceptions,F=w.properties,G=w.measurements,te=w.severityLevel,le=w.problemGroup,Te=w.id,Ae=w.isManual,Ye=x instanceof Array&&cu(x,function(_t){return _t.toInterface()})||void 0;return v={ver:"4.0"},v[Ih]=Ye,v.severityLevel=te,v.properties=F,v.measurements=G,v.problemGroup=le,v.id=Te,v.isManual=Ae,v},p.CreateSimpleException=function(v,w,x,F,G,te){var le;return{exceptions:[(le={},le[Qv]=!0,le.message=v,le.stack=G,le.typeName=w,le)]}},p.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",p.dataType="ExceptionData",p.formatError=yr,p}(),pi=function(){function p(v,w,x){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var F=this;if(zt(w))F[Ah]=w[Ah],F[Bl]=w[Bl],F[X]=w[X],F[fl]=w[fl]||[],F[Qv]=w[Qv];else{var G=w,te=G&&G.evt;lr(G)||(G=G[B]||te||G),F[Ah]=Ta(v,ir(G))||Pf,F[Bl]=$g(v,gt(w||G,F[Ah]))||Pf;var le=w[ae]||jt(w);F[fl]=dr(le),tt(F[fl])&&cu(F[fl],function(Te){Te[Xv]=Ta(v,Te[Xv]),Te[Wg]=Ta(v,Te[Wg])}),F[X]=wD(v,Pt(le)),F.hasFullStack=tt(F.parsedStack)&&F.parsedStack[eo]>0,x&&(x[Ah]=x[Ah]||F[Ah])}}return p.prototype.toInterface=function(){var v,w=this,x=w[fl]instanceof Array&&cu(w[fl],function(G){return G.toInterface()}),F=(v={id:w.id,outerId:w.outerId,typeName:w[Ah],message:w[Bl],hasFullStack:w[Qv],stack:w[X]},v[fl]=x||void 0,v);return F},p.CreateFromInterface=function(v,w){var x=w[fl]instanceof Array&&cu(w[fl],function(G){return ai[lb](G)})||w[fl],F=new p(v,us(us({},w),{parsedStack:x}));return F},p}(),ai=function(){function p(v,w){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var x=this;if(x[Hg]=0,typeof v=="string"){var F=v;x[z_]=w,x[Bg]=M,x[Xv]=zs(F),x[Wg]="",x[db]=0;var G=F.match(p.regex);G&&G[eo]>=5&&(x[Bg]=zs(G[2])||x[Bg],x[Wg]=zs(G[4]),x[db]=parseInt(G[5])||0)}else x[z_]=v[z_],x[Bg]=v[Bg],x[Xv]=v[Xv],x[Wg]=v[Wg],x[db]=v[db],x[Hg]=0;x.sizeInBytes+=x.method[eo],x.sizeInBytes+=x.fileName[eo],x.sizeInBytes+=x.assembly[eo],x[Hg]+=p.baseSize,x.sizeInBytes+=x.level.toString()[eo],x.sizeInBytes+=x.line.toString()[eo]}return p.CreateFromInterface=function(v){return new p(v,null)},p.prototype.toInterface=function(){var v=this;return{level:v[z_],method:v[Bg],assembly:v[Xv],fileName:v[Wg],line:v[db]}},p.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,p.baseSize=58,p}(),uo=function(){function p(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return p}(),Bo=function(){function p(v,w,x,F,G,te,le,Te,Ae){this.aiDataContract={ver:1,metrics:1,properties:0};var Ye=this;Ye.ver=2;var _t=new uo;_t[NS]=F>0?F:void 0,_t.max=isNaN(te)||te===null?void 0:te,_t.min=isNaN(G)||G===null?void 0:G,_t[Rf]=Ta(v,w)||Pf,_t.value=x,_t.stdDev=isNaN(le)||le===null?void 0:le,Ye.metrics=[_t],Ye[Op]=qm(v,Te),Ye[kh]=Vg(v,Ae)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",p.dataType="MetricData",p}(),xo="";function Os(p){(isNaN(p)||p<0)&&(p=0),p=Math.round(p);var v=xo+p%1e3,w=xo+Math.floor(p/1e3)%60,x=xo+Math.floor(p/(1e3*60))%60,F=xo+Math.floor(p/(1e3*60*60))%24,G=Math.floor(p/(1e3*60*60*24));return v=v[eo]===1?"00"+v:v[eo]===2?"0"+v:v,w=w[eo]<2?"0"+w:w,x=x[eo]<2?"0"+x:x,F=F[eo]<2?"0"+F:F,(G>0?G+".":xo)+F+":"+x+":"+w+"."+v}var rc=function(){function p(v,w,x,F,G,te,le){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Te=this;Te.ver=2,Te.id=pb(v,le),Te.url=Mh(v,x),Te[Rf]=Ta(v,w)||Pf,isNaN(F)||(Te[U_]=Os(F)),Te[Op]=qm(v,G),Te[kh]=Vg(v,te)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",p.dataType="PageviewData",p}(),Xi=function(){function p(v,w,x,F,G,te,le,Te,Ae,Ye,_t,It){Ae===void 0&&(Ae="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var yt=this;yt.ver=2,yt.id=w,yt[U_]=Os(G),yt.success=te,yt.resultCode=le+"",yt.type=Ta(v,Ae);var ut=kO(v,x,Te,F);yt.data=Mh(v,F)||ut.data,yt.target=Ta(v,ut.target),Ye&&(yt.target="".concat(yt.target," | ").concat(Ye)),yt[Rf]=Ta(v,ut[Rf]),yt[Op]=qm(v,_t),yt[kh]=Vg(v,It)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",p.dataType="RemoteDependencyData",p}(),wc=function(){function p(v,w,x,F,G){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var te=this;te.ver=2,w=w||Pf,te[Bl]=$g(v,w),te[Op]=qm(v,F),te[kh]=Vg(v,G),x&&(te[j_]=x)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Message",p.dataType="MessageData",p}(),Sc=function(){function p(v,w,x,F,G,te,le){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Te=this;Te.ver=2,Te.url=Mh(v,x),Te[Rf]=Ta(v,w)||Pf,Te[Op]=qm(v,G),Te[kh]=Vg(v,te),le&&(Te.domProcessing=le.domProcessing,Te[U_]=le[U_],Te.networkConnect=le.networkConnect,Te.perfTotal=le.perfTotal,Te[fb]=le[fb],Te.sentRequest=le.sentRequest)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",p.dataType="PageviewPerformanceData",p}(),ia=function(){function p(v,w){this.aiDataContract={baseType:1,baseData:1},this.baseType=v,this.baseData=w}return p}(),pl=vd({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function la(p){var v="ai."+p+".";return function(w){return v+w}}var da=la("application"),Di=la("device"),to=la("location"),$l=la("operation"),mb=la("session"),Lh=la("user"),Nh=la("cloud"),h=la("internal"),_=function(p){nl(v,p);function v(){return p.call(this)||this}return v}(yh({applicationVersion:da("ver"),applicationBuild:da("build"),applicationTypeId:da("typeId"),applicationId:da("applicationId"),applicationLayer:da("layer"),deviceId:Di("id"),deviceIp:Di("ip"),deviceLanguage:Di("language"),deviceLocale:Di("locale"),deviceModel:Di("model"),deviceFriendlyName:Di("friendlyName"),deviceNetwork:Di("network"),deviceNetworkName:Di("networkName"),deviceOEMName:Di("oemName"),deviceOS:Di("os"),deviceOSVersion:Di("osVersion"),deviceRoleInstance:Di("roleInstance"),deviceRoleName:Di("roleName"),deviceScreenResolution:Di("screenResolution"),deviceType:Di("type"),deviceMachineName:Di("machineName"),deviceVMName:Di("vmName"),deviceBrowser:Di("browser"),deviceBrowserVersion:Di("browserVersion"),locationIp:to("ip"),locationCountry:to("country"),locationProvince:to("province"),locationCity:to("city"),operationId:$l("id"),operationName:$l("name"),operationParentId:$l("parentId"),operationRootId:$l("rootId"),operationSyntheticSource:$l("syntheticSource"),operationCorrelationVector:$l("correlationVector"),sessionId:mb("id"),sessionIsFirst:mb("isFirst"),sessionIsNew:mb("isNew"),userAccountAcquisitionDate:Lh("accountAcquisitionDate"),userAccountId:Lh("accountId"),userAgent:Lh("userAgent"),userId:Lh("id"),userStoreRegion:Lh("storeRegion"),userAuthUserId:Lh("authUserId"),userAnonymousUserAcquisitionDate:Lh("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Lh("authUserAcquisitionDate"),cloudName:Nh("name"),cloudRole:Nh("role"),cloudRoleVer:Nh("roleVer"),cloudRoleInstance:Nh("roleInstance"),cloudEnvironment:Nh("environment"),cloudLocation:Nh("location"),cloudDeploymentUnit:Nh("deploymentUnit"),internalNodeName:h("nodeName"),internalSdkVersion:h("sdkVersion"),internalAgentVersion:h("agentVersion"),internalSnippet:h("snippet"),internalSdkSrc:h("sdkSrc")})),O=new _,q="AppInsightsChannelPlugin",V="duration",ie="tags",ge="deviceType",Ie="data",We="name",et="traceID",Ve="length",wt="stringify",ot="measurements",bt="dataType",it="envelopeType",Zt="toString",Gt="onLine",br="isOnline",Rr="_get",Or="enqueue",Mn="count",Ii="eventsLimitInMem",Eo="push",Ge="emitLineDelimitedJson",At="clear",er="batchPayloads",fr="createNew",rn="markAsSent",Zn="clearSent",St="bufferOverride",nt="BUFFER_KEY",Dt="SENT_BUFFER_KEY",Ot="MAX_BUFFER_SIZE",gr="sendPOST",xr="triggerSend",Lr="diagLog",ei="_sender",$o="customHeaders",yo="maxBatchSizeInBytes",kp="onunloadDisableBeacon",qd="isBeaconApiDisabled",gb="alwaysUseXhrOverride",xf="enableSessionStorageBuffer",Fh="_buffer",ED="onunloadDisableFetch",V_="instrumentationKey",$t="convertUndefined",Gr="maxBatchInterval",ci="baseType",$n="sampleRate",hi="_xhrReadyStateChange",Lo="_onError",ns="_onPartialSuccess",Cc="_onSuccess",Cu="itemsAccepted",Yg="itemsReceived",ey="oriPayload",A0="setRequestHeader",gce="eventsSendRequest",vce="getSamplingScore",gje="getHashCodeScore",_V="baseType",nc="baseData",Vl="properties",yce="true";function qu(p,v,w){return yu(p,v,w,hr)}function vje(p,v,w){var x=w[ie]=w[ie]||{},F=v.ext=v.ext||{},G=v[ie]=v[ie]||[],te=F.user;te&&(qu(x,O.userAuthUserId,te.authId),qu(x,O.userId,te.id||te.localId));var le=F.app;le&&qu(x,O.sessionId,le.sesId);var Te=F.device;Te&&(qu(x,O.deviceId,Te.id||Te.localId),qu(x,O[ge],Te.deviceClass),qu(x,O.deviceIp,Te.ip),qu(x,O.deviceModel,Te.model),qu(x,O[ge],Te[ge]));var Ae=v.ext.web;if(Ae){qu(x,O.deviceLanguage,Ae.browserLang),qu(x,O.deviceBrowserVersion,Ae.browserVer),qu(x,O.deviceBrowser,Ae.browser);var Ye=w[Ie]=w[Ie]||{},_t=Ye[nc]=Ye[nc]||{},It=_t[Vl]=_t[Vl]||{};qu(It,"domain",Ae.domain),qu(It,"isManual",Ae.isManual?yce:null),qu(It,"screenRes",Ae.screenRes),qu(It,"userConsent",Ae.userConsent?yce:null)}var yt=F.os;yt&&qu(x,O.deviceOS,yt[We]);var ut=F.trace;ut&&(qu(x,O.operationParentId,ut.parentID),qu(x,O.operationName,Ta(p,ut[We])),qu(x,O.operationId,ut[et]));for(var ar={},Nt=G[Ve]-1;Nt>=0;Nt--){var mr=G[Nt];Er(mr,function(ur,nn){ar[ur]=nn}),G.splice(Nt,1)}Er(G,function(ur,nn){ar[ur]=nn});var tr=us(us({},x),ar);tr[O.internalSdkVersion]||(tr[O.internalSdkVersion]=Ta(p,"javascript:".concat(yje.Version),64)),w[ie]=Dn(tr)}function zS(p,v,w){Ee(p)||Er(p,function(x,F){Ar(F)?w[x]=F:ze(F)?v[x]=F:Kc()&&(v[x]=Ja()[wt](F))})}function OD(p,v){Ee(p)||Er(p,function(w,x){p[w]=x||v})}function ID(p,v,w,x){var F=new xD(p,x,v);qu(F,"sampleRate",w[L_]),(w[nc]||{}).startTime&&(F.time=Rd(w[nc].startTime)),F.iKey=w.iKey;var G=w.iKey.replace(/-/g,"");return F[We]=F[We].replace("{0}",G),vje(p,w,F),w[ie]=w[ie]||[],Dn(F)}function kD(p,v){Ee(v[nc])&&yn(p,1,46,"telemetryItem.baseData cannot be null.")}var yje={Version:"3.0.5"};function bje(p,v,w){kD(p,v);var x=v[nc][ot]||{},F=v[nc][Vl]||{};zS(v[Ie],F,x),Ee(w)||OD(F,w);var G=v[nc];if(Ee(G))return Uv(p,"Invalid input for dependency data"),null;var te=G[Vl]&&G[Vl][F_]?G[Vl][F_]:"GET",le=new Xi(p,G.id,G.target,G[We],G[V],G.success,G.responseCode,te,G.type,G.correlationContext,F,x),Te=new ia(Xi[bt],le);return ID(p,Xi[it],v,Te)}function bce(p,v,w){kD(p,v);var x={},F={};v[_V]!==C[bt]&&(x.baseTypeSource=v[_V]),v[_V]===C[bt]?(x=v[nc][Vl]||{},F=v[nc][ot]||{}):v[nc]&&zS(v[nc],x,F),zS(v[Ie],x,F),Ee(w)||OD(x,w);var G=v[nc][We],te=new C(p,G,x,F),le=new ia(C[bt],te);return ID(p,C[it],v,le)}function _je(p,v,w){kD(p,v);var x=v[nc][ot]||{},F=v[nc][Vl]||{};zS(v[Ie],F,x),Ee(w)||OD(F,w);var G=v[nc],te=fn.CreateFromInterface(p,G,F,x),le=new ia(fn[bt],te);return ID(p,fn[it],v,le)}function wje(p,v,w){kD(p,v);var x=v[nc],F=x[Vl]||{},G=x[ot]||{};zS(v[Ie],F,G),Ee(w)||OD(F,w);var te=new Bo(p,x[We],x.average,x.sampleCount,x.min,x.max,x.stdDev,F,G),le=new ia(Bo[bt],te);return ID(p,Bo[it],v,le)}function Sje(p,v,w){kD(p,v);var x,F=v[nc];!Ee(F)&&!Ee(F[Vl])&&!Ee(F[Vl][V])?(x=F[Vl][V],delete F[Vl][V]):!Ee(v[Ie])&&!Ee(v[Ie][V])&&(x=v[Ie][V],delete v[Ie][V]);var G=v[nc],te;((v.ext||{}).trace||{})[et]&&(te=v.ext.trace[et]);var le=G.id||te,Te=G[We],Ae=G.uri,Ye=G[Vl]||{},_t=G[ot]||{};if(Ee(G.refUri)||(Ye.refUri=G.refUri),Ee(G.pageType)||(Ye.pageType=G.pageType),Ee(G.isLoggedIn)||(Ye.isLoggedIn=G.isLoggedIn[Zt]()),!Ee(G[Vl])){var It=G[Vl];Er(It,function(ar,Nt){Ye[ar]=Nt})}zS(v[Ie],Ye,_t),Ee(w)||OD(Ye,w);var yt=new rc(p,Te,Ae,x,Ye,_t,le),ut=new ia(rc[bt],yt);return ID(p,rc[it],v,ut)}function Cje(p,v,w){kD(p,v);var x=v[nc],F=x[We],G=x.uri||x.url,te=x[Vl]||{},le=x[ot]||{};zS(v[Ie],te,le),Ee(w)||OD(te,w);var Te=new Sc(p,F,G,void 0,te,le,x),Ae=new ia(Sc[bt],Te);return ID(p,Sc[it],v,Ae)}function Dje(p,v,w){kD(p,v);var x=v[nc].message,F=v[nc].severityLevel,G=v[nc][Vl]||{},te=v[nc][ot]||{};zS(v[Ie],G,te),Ee(w)||OD(G,w);var le=new wc(p,x,F,G,te),Te=new ia(wc[bt],le);return ID(p,wc[it],v,Te)}function _ce(p,v){bD(p,null,null,v)}function Tje(p){var v,w=oo(),x=Yn(),F=!1,G=!0,te=AS(_c("OfflineListener"),p);try{if(Te(To())&&(F=!0),w){var le=w.body||w;le.ononline&&Te(le)&&(F=!0)}F&&x&&!Ee(x[Gt])&&(G=x[Gt])}catch{F=!1}function Te(yt){var ut=!1;return yt&&(ut=Tf(yt,"online",Ae,te),ut&&Tf(yt,"offline",Ye,te)),ut}function Ae(){G=!0}function Ye(){G=!1}function _t(){var yt=!0;return F?yt=G:x&&!Ee(x[Gt])&&(yt=x[Gt]),yt}function It(){var yt=To();if(yt&&F){if(_ce(yt,te),w){var ut=w.body||w;we(ut.ononline)||_ce(ut,te)}F=!1}}return v={},v[br]=_t,v.isListening=function(){return F},v.unload=It,v}var wce=function(){function p(v,w){var x=[],F=!1;this[Rr]=function(){return x},this._set=function(G){return x=G,x},Mo(p,this,function(G){G[Or]=function(te){if(G[Mn]()>=w[Ii]){F||(yn(v,2,105,"Maximum in-memory buffer size reached: "+G[Mn](),!0),F=!0);return}x[Eo](te)},G[Mn]=function(){return x[Ve]},G.size=function(){for(var te=x[Ve],le=0;le<x[Ve];le++)te+=x[le][Ve];return w[Ge]||(te+=2),te},G[At]=function(){x=[],F=!1},G.getItems=function(){return x.slice(0)},G[er]=function(te){if(te&&te[Ve]>0){var le=w[Ge]?te.join(`
`):"["+te.join(",")+"]";return le}return null},G[fr]=function(te,le,Te){var Ae=x.slice(0);te=te||v,le=le||{};var Ye=Te?new Sce(te,le):new wV(te,le);return Cn(Ae,function(_t){Ye[Or](_t)}),Ye}})}return p.__ieDyn=1,p}(),wV=function(p){nl(v,p);function v(w,x){var F=p.call(this,w,x)||this;return Mo(v,F,function(G,te){G[rn]=function(le){te[At]()},G[Zn]=function(le){}}),F}return v.__ieDyn=1,v}(wce),Sce=function(p){nl(v,p);function v(w,x){var F=p.call(this,w,x)||this,G=!1,te=x?.namePrefix,le=x[St]||{getItem:Bs,setItem:Ip},Te=le.getItem,Ae=le.setItem;return Mo(v,F,function(Ye,_t){var It=Nt(v[nt]),yt=Nt(v[Dt]),ut=Ye._set(It.concat(yt));ut[Ve]>v[Ot]&&(ut[Ve]=v[Ot]),mr(v[Dt],[]),mr(v[nt],ut),Ye[Or]=function(tr){if(Ye[Mn]()>=v[Ot]){G||(yn(w,2,67,"Maximum buffer size reached: "+Ye[Mn](),!0),G=!0);return}_t[Or](tr),mr(v.BUFFER_KEY,Ye[Rr]())},Ye[At]=function(){_t[At](),mr(v.BUFFER_KEY,Ye[Rr]()),mr(v[Dt],[]),G=!1},Ye[rn]=function(tr){mr(v[nt],Ye._set(ar(tr,Ye[Rr]())));var ur=Nt(v[Dt]);ur instanceof Array&&tr instanceof Array&&(ur=ur.concat(tr),ur[Ve]>v[Ot]&&(yn(w,1,67,"Sent buffer reached its maximum size: "+ur[Ve],!0),ur[Ve]=v[Ot]),mr(v[Dt],ur))},Ye[Zn]=function(tr){var ur=Nt(v[Dt]);ur=ar(tr,ur),mr(v[Dt],ur)},Ye[fr]=function(tr,ur,nn){nn=!!nn;var ki=Ye[Rr]().slice(0),is=Nt(v[Dt]).slice(0);tr=tr||w,ur=ur||{},Ye[At]();var Dc=nn?new v(tr,ur):new wV(tr,ur);return Cn(ki,function(Pa){Dc[Or](Pa)}),nn&&Dc[rn](is),Dc};function ar(tr,ur){var nn=[];return Cn(ur,function(ki){!st(ki)&&qs(tr,ki)===-1&&nn[Eo](ki)}),nn}function Nt(tr){var ur=tr;try{ur=te?te+"_"+ur:ur;var nn=Te(w,ur);if(nn){var ki=Ja().parse(nn);if(ze(ki)&&(ki=Ja().parse(ki)),ki&&tt(ki))return ki}}catch(is){yn(w,1,42," storage key: "+ur+", "+bc(is),{exception:kt(is)})}return[]}function mr(tr,ur){var nn=tr;try{nn=te?te+"_"+nn:nn;var ki=JSON[wt](ur);Ae(w,nn,ki)}catch(is){Ae(w,nn,JSON[wt]([])),yn(w,2,41," storage key: "+nn+", "+bc(is)+". Buffer cleared",{exception:kt(is)})}}}),F}return v.BUFFER_KEY="AI_buffer",v.SENT_BUFFER_KEY="AI_sentBuffer",v.MAX_BUFFER_SIZE=2e3,v}(wce),Pje=function(){function p(v){Mo(p,this,function(w){w.serialize=function(te){var le=x(te,"root");try{return Ja()[wt](le)}catch(Te){yn(v,1,48,Te&&st(Te[Zt])?Te[Zt]():"Error serializing object",null,!0)}};function x(te,le){var Te="__aiCircularRefCheck",Ae={};if(!te)return yn(v,1,48,"cannot serialize object because it is null or undefined",{name:le},!0),Ae;if(te[Te])return yn(v,2,50,"Circular reference detected while serializing object",{name:le},!0),Ae;if(!te.aiDataContract){if(le==="measurements")Ae=G(te,"number",le);else if(le==="properties")Ae=G(te,"string",le);else if(le==="tags")Ae=G(te,"string",le);else if(tt(te))Ae=F(te,le);else{yn(v,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:le},!0);try{Ja()[wt](te),Ae=te}catch(Ye){yn(v,1,48,Ye&&st(Ye[Zt])?Ye[Zt]():"Error serializing object",null,!0)}}return Ae}return te[Te]=!0,Er(te.aiDataContract,function(Ye,_t){var It=st(_t)?_t()&1:_t&1,yt=st(_t)?_t()&4:_t&4,ut=_t&2,ar=te[Ye]!==void 0,Nt=at(te[Ye])&&te[Ye]!==null;if(It&&!ar&&!ut)yn(v,1,24,"Missing required field specification. The field is required but not present on source",{field:Ye,name:le});else if(!yt){var mr=void 0;Nt?ut?mr=F(te[Ye],Ye):mr=x(te[Ye],Ye):mr=te[Ye],mr!==void 0&&(Ae[Ye]=mr)}}),delete te[Te],Ae}function F(te,le){var Te;if(te)if(!tt(te))yn(v,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:le},!0);else{Te=[];for(var Ae=0;Ae<te[Ve];Ae++){var Ye=te[Ae],_t=x(Ye,le+"["+Ae+"]");Te[Eo](_t)}}return Te}function G(te,le,Te){var Ae;return te&&(Ae={},Er(te,function(Ye,_t){if(le==="string")_t===void 0?Ae[Ye]="undefined":_t===null?Ae[Ye]="null":_t[Zt]?Ae[Ye]=_t[Zt]():Ae[Ye]="invalid field: toString() is not defined.";else if(le==="number")if(_t===void 0)Ae[Ye]="undefined";else if(_t===null)Ae[Ye]="null";else{var It=parseFloat(_t);isNaN(It)?Ae[Ye]="NaN":Ae[Ye]=It}else Ae[Ye]="invalid field: "+Te+" is of unknown type.",yn(v,1,Ae[Ye],null,!0)})),Ae}})}return p.__ieDyn=1,p}(),Rje=8,xje=function(){function p(){}return p.prototype.getHashCodeScore=function(v){var w=this.getHashCode(v)/p.INT_MAX_VALUE;return w*100},p.prototype.getHashCode=function(v){if(v==="")return 0;for(;v[Ve]<Rje;)v=v.concat(v);for(var w=5381,x=0;x<v[Ve];++x)w=(w<<5)+w+v.charCodeAt(x),w=w&w;return Math.abs(w)},p.INT_MAX_VALUE=2147483647,p}(),Eje=function(){function p(){var v=this,w=new xje,x=new _;v[vce]=function(F){var G=0;return F[ie]&&F[ie][x.userId]?G=w.getHashCodeScore(F[ie][x.userId]):F.ext&&F.ext.user&&F.ext.user.id?G=w[gje](F.ext.user.id):F[ie]&&F[ie][x.operationId]?G=w.getHashCodeScore(F[ie][x.operationId]):F.ext&&F.ext.telemetryTrace&&F.ext.telemetryTrace[et]?G=w.getHashCodeScore(F.ext.telemetryTrace[et]):G=Math.random()*100,G}}return p}(),Oje=function(){function p(v,w){this.INT_MAX_VALUE=2147483647;var x=w||Em(null);(v>100||v<0)&&(x.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:v},!0),v=100),this[$n]=v,this.samplingScoreGenerator=new Eje}return p.prototype.isSampledIn=function(v){var w=this[$n],x=!1;return w==null||w>=100||v.baseType===Bo[bt]?!0:(x=this.samplingScoreGenerator[vce](v)<w,x)},p}(),Du,G_,US=void 0,Ije=65e3;function sN(p){try{return p.responseText}catch{}return null}function kje(p){return p&&p[gr]}var Cce=Yi((Du={endpointUrl:Dm(hr,MS+cb)},Du[Ge]=Dp(),Du[Gr]=15e3,Du[yo]=102400,Du.disableTelemetry=Dp(),Du[xf]=Dp(!0),Du.isRetryDisabled=Dp(),Du[qd]=Dp(!0),Du.disableXhr=Dp(),Du[ED]=Dp(),Du[kp]=Dp(),Du[V_]=US,Du.namePrefix=US,Du.samplingPercentage=Dm(Aje,100),Du[$o]=US,Du[$t]=US,Du[Ii]=1e4,Du[St]=!1,Du.httpXHROverride={isVal:kje,v:US},Du[gb]=Dp(),Du));function Aje(p){return!isNaN(p)&&p>0&&p<=100}var Mje=(G_={},G_[C.dataType]=bce,G_[wc.dataType]=Dje,G_[rc.dataType]=Sje,G_[Sc.dataType]=Cje,G_[fn.dataType]=_je,G_[Bo.dataType]=wje,G_[Xi.dataType]=bje,G_),Dce=function(p){nl(v,p);function v(){var w=p.call(this)||this;w.priority=1001,w.identifier=q;var x,F,G,te,le,Te,Ae,Ye=0,_t,It,yt,ut,ar,Nt,mr,tr,ur,nn,ki,is,Dc,Pa,Gl,ju,M0,vb,zr,yb,bb;return Mo(v,w,function(vr,AD){Pce(),vr.pause=function(){zu(),G=!0},vr.resume=function(){G&&(G=!1,F=null,MO(),Yc())},vr.flush=function(mt,rr,Ur){if(mt===void 0&&(mt=!0),!G){zu();try{return vr[xr](mt,null,Ur||1)}catch(Zr){yn(vr[Lr](),1,22,"flush failed, telemetry will not be collected: "+bc(Zr),{exception:kt(Zr)})}}},vr.onunloadFlush=function(){if(!G)if(mr||vb)try{return vr[xr](!0,uN,2)}catch(mt){yn(vr[Lr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+bc(mt),{exception:kt(mt)})}else vr.flush(!1)},vr.addHeader=function(mt,rr){Ae[mt]=rr},vr.initialize=function(mt,rr,Ur,Zr){vr.isInitialized()&&yn(vr[Lr](),1,28,"Sender is already initialized"),AD.initialize(mt,rr,Ur,Zr);var Sn=vr.identifier;le=new Pje(rr.logger),x=0,F=null,vr[ei]=null,Te=0;var In=vr[Lr]();yt=AS(_c("Sender"),rr.evtNamespace&&rr.evtNamespace()),It=Tje(yt),vr._addHook(wp(mt,function(bo){var lo=bo.cfg;lo.storagePrefix&&zm(lo.storagePrefix);var Ra=On(null,lo,rr),Vn=Ra.getExtCfg(Sn,Cce);Ao(vr,"_senderConfig",{g:function(){return Vn}}),ar!==Vn.endpointUrl&&(ut=ar=Vn.endpointUrl),tr&&tr!==Vn[$o]&&Cn(tr,function(Jc){delete Ae[Jc.header]}),Nt=Vn[yo],mr=(Vn[kp]===!1||Vn[qd]===!1)&&Id(),vb=Vn[gb],zr=!!Vn.disableXhr;var ty=Vn[St],_b=!!Vn[xf]&&(!!ty||TD()),F0=Vn.namePrefix,dN=_b!==Pa||_b&&ju!==F0||_b&&Gl!==ty;if(vr[Fh]){if(dN)try{vr._buffer=vr._buffer[fr](In,Vn,_b)}catch(Jc){yn(vr[Lr](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+bc(Jc),{exception:kt(Jc)})}MO()}else vr[Fh]=_b?new Sce(In,Vn):new wV(In,Vn);ju=F0,Pa=_b,Gl=ty,yb=!Vn[ED]&&Cg(!0),vr._sample=new Oje(Vn.samplingPercentage,In),nn=Vn[V_],zje(nn,lo)||yn(In,1,100,"Invalid Instrumentation key "+nn),tr=Vn[$o],!jm(ut)&&tr&&tr[Ve]>0?Cn(tr,function(Jc){w.addHeader(Jc.header,Jc.value)}):tr=null,M0=Vn.enableSendPromise;var wb=Vn.httpXHROverride,HS=null,q0=null;HS=L0([1,2],!1);var jd={sendPOST:Kr};bb=function(Jc,ND){return N0(jd,Jc,ND)},!Vn[qd]&&Id()&&(HS=L0([3],!1)),HS=vb?wb:HS||wb||jd,vr[ei]=function(Jc,ND){return N0(HS,Jc,ND)},yb&&(_t=_i),q0=vb?wb:L0([3,1],!0)||wb,(vb||!_t)&&q0&&(_t=function(Jc,ND){return N0(q0,Jc,ND)}),_t||(_t=bb),ur=Vn.disableTelemetry,ki=Vn[$t]||US,is=Vn.isRetryDisabled,Dc=Vn[Gr]}))},vr.processTelemetry=function(mt,rr){rr=vr._getTelCtx(rr);var Ur=rr[Lr]();try{if(ur)return;if(!mt){yn(Ur,1,7,"Cannot send empty telemetry");return}if(mt.baseData&&!mt[ci]){yn(Ur,1,70,"Cannot send telemetry without baseData and baseType");return}if(mt[ci]||(mt[ci]="EventData"),!vr[ei]){yn(Ur,1,28,"Sender was not initialized");return}if(AO(mt))mt[L_]=vr._sample[$n];else{yn(Ur,2,33,"Telemetry item was sampled out and not sent",{SampleRate:vr._sample[$n]});return}var Zr=mt.iKey||nn,Sn=v.constructEnvelope(mt,Zr,Ur,ki);if(!Sn){yn(Ur,1,47,"Unable to create an AppInsights envelope");return}var In=!1;if(mt[ie]&&mt[ie][N_]&&(Cn(mt[ie][N_],function(Ra){try{Ra&&Ra(Sn)===!1&&(In=!0,Uv(Ur,"Telemetry processor check returns false"))}catch(Vn){yn(Ur,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+bc(Vn),{exception:kt(Vn)},!0)}}),delete mt[ie][N_]),In)return;var bo=le.serialize(Sn),lo=vr[Fh];MO(bo),lo[Or](bo),Yc()}catch(Ra){yn(Ur,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+bc(Ra),{exception:kt(Ra)})}vr.processNext(mt,rr)},vr[hi]=function(mt,rr,Ur){mt.readyState===4&&cN(mt.status,rr,mt.responseURL,Ur,J_(mt),sN(mt)||mt.response)},vr[xr]=function(mt,rr,Ur){mt===void 0&&(mt=!0);var Zr;if(!G)try{var Sn=vr[Fh];if(ur)Sn[At]();else if(Sn[Mn]()>0){var In=Sn.getItems();jje(Ur||0,mt),rr?Zr=rr.call(vr,In,mt):Zr=vr[ei](In,mt)}zu()}catch(lo){var bo=gp();(!bo||bo>9)&&yn(vr[Lr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+bc(lo),{exception:kt(lo)})}return Zr},vr._doTeardown=function(mt,rr){vr.onunloadFlush(),Sp(It,!1),Pce()},vr[Lo]=function(mt,rr,Ur){yn(vr[Lr](),2,26,"Failed to send telemetry.",{message:rr}),vr._buffer&&vr._buffer[Zn](mt)},vr[ns]=function(mt,rr){for(var Ur=[],Zr=[],Sn=rr.errors.reverse(),In=0,bo=Sn;In<bo.length;In++){var lo=bo[In],Ra=mt.splice(lo.index,1)[0];Um(lo.statusCode)?Zr[Eo](Ra):Ur[Eo](Ra)}mt[Ve]>0&&vr[Cc](mt,rr[Cu]),Ur[Ve]>0&&vr[Lo](Ur,J_(null,["partial success",rr[Cu],"of",rr.itemsReceived].join(" "))),Zr[Ve]>0&&(ws(Zr),yn(vr[Lr](),2,40,"Partial success. Delivered: "+mt[Ve]+", Failed: "+Ur[Ve]+". Will retry to send "+Zr[Ve]+" our of "+rr[Yg]+" items"))},vr[Cc]=function(mt,rr){vr._buffer&&vr._buffer[Zn](mt)},vr._xdrOnLoad=function(mt,rr){var Ur=sN(mt);if(mt&&(Ur+""=="200"||Ur===""))x=0,vr[Cc](rr,0);else{var Zr=ti(Ur);Zr&&Zr.itemsReceived&&Zr.itemsReceived>Zr[Cu]&&!is?vr[ns](rr,Zr):vr[Lo](rr,Tce(mt))}};function AO(mt){return vr._sample.isSampledIn(mt)}function L0(mt,rr){for(var Ur,Zr=null,Sn=null,In=0;Sn==null&&In<mt[Ve];)Zr=mt[In],!zr&&Zr===1?wh()?Sn=lN:Sh()&&(Sn=Kr):Zr===2&&Cg(rr)?Sn=aN:Id()&&Zr===3&&(Sn=Bt),In++;return Sn?(Ur={},Ur[gr]=Sn,Ur):null}function MD(mt,rr,Ur,Zr){rr===200&&mt&&vr._onSuccess(mt,mt[Ve]),Zr&&vr[Lo](mt,Zr)}function N0(mt,rr,Ur){var Zr=function(bo,lo,Ra){return MD(rr,bo,lo,Ra)},Sn=LD(rr),In=mt&&mt[gr];return In&&Sn?(vr._buffer[rn](rr),In(Sn,Zr,!Ur)):null}function LD(mt){var rr;if(tt(mt)&&mt[Ve]>0){var Ur=vr._buffer[er](mt),Zr=(rr={},rr[Ie]=Ur,rr.urlString=ut,rr.headers=Ae,rr.disableXhrSync=zr,rr.disableFetchKeepAlive=!yb,rr[ey]=mt,rr);return Zr}return null}function aN(mt,rr,Ur){return ui(mt,rr,!1)}function MO(mt){var rr=mt?mt[Ve]:0;return vr[Fh].size()+rr>Nt?((!It||It[br]())&&vr[xr](!0,null,10),!0):!1}function cN(mt,rr,Ur,Zr,Sn,In){var bo=null;if(vr._appId||(bo=ti(In),bo&&bo.appId&&(vr._appId=bo.appId)),(mt<200||mt>=300)&&mt!==0){if((mt===301||mt===307||mt===308)&&!LO(Ur)){vr[Lo](rr,Sn);return}!is&&Um(mt)?(ws(rr),yn(vr[Lr](),2,40,". Response code "+mt+". Will retry to send "+rr[Ve]+" items.")):vr[Lo](rr,Sn)}else if(It&&!It[br]()){if(!is){var lo=10;ws(rr,lo),yn(vr[Lr](),2,40,". Offline - Response Code: ".concat(mt,". Offline status: ").concat(!It.isOnline(),". Will retry to send ").concat(rr.length," items."))}}else LO(Ur),mt===206?(bo||(bo=ti(In)),bo&&!is?vr[ns](rr,bo):vr[Lo](rr,Sn)):(x=0,vr[Cc](rr,Zr))}function LO(mt){return Te>=10?!1:!Ee(mt)&&mt!==""&&mt!==ut?(ut=mt,++Te,!0):!1}function K_(mt,rr,Ur,Zr){try{mt(rr,Ur,Zr)}catch{}}function uN(mt,rr){var Ur=function(Sn,In,bo){return MD(mt,Sn,In,bo)};if(_t)_t(mt,!1);else{var Zr=LD(mt);Bt(Zr,Ur)}}function Y_(mt,rr){var Ur=Yn(),Zr=ut,Sn=new Blob([mt],{type:"text/plain;charset=UTF-8"}),In=Ur.sendBeacon(Zr,Sn);return In&&rr(200,{},mt),In}function Bt(mt,rr,Ur){var Zr=mt,Sn=Zr&&Zr[Ie];if(ze(Sn)&&Sn[Ve]>0&&!Y_(Sn,rr)){var In=[],bo=Zr[ey];if(bo[Ve]>0)for(var lo=0;lo<Sn[Ve];lo++){var Ra=mt[lo],Vn=vr._buffer[er](Ra);Y_(Vn,rr)||In[Eo](Ra)}In[Ve]>0&&(bb&&bb(In,!0),yn(vr[Lr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Kr(mt,rr,Ur){var Zr=mt,Sn,In,bo,lo=new XMLHttpRequest,Ra=ut;try{lo[ab]=!0}catch{}return lo.open("POST",Ra,!Ur),lo[A0]("Content-type","application/json"),jm(Ra)&&lo[A0](ub[6],ub[7]),Cn(Vr(Ae),function(Vn){lo[A0](Vn,Ae[Vn])}),lo.onreadystatechange=function(){var Vn=Zr[ey];vr._xhrReadyStateChange(lo,Vn,Vn[Ve]),lo.readyState===4&&In&&In(!0)},lo.onerror=function(Vn){K_(rr,400,{},J_(lo)),bo&&bo(Vn)},!Ur&&M0&&(Sn=hh(function(Vn,ty){In=Vn,bo=ty})),lo.send(mt[Ie]),Sn}function _i(mt,rr){var Ur=function(bo,lo,Ra){return MD(mt,bo,lo,Ra)};if(tt(mt)){for(var Zr=mt[Ve],Sn=0;Sn<mt[Ve];Sn++)Zr+=mt[Sn][Ve];var In=LD(mt);Ye+Zr<=Ije?ui(In,Ur,!0):Id()?Bt(In,Ur):(bb&&bb(mt,!0),yn(vr[Lr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function ui(mt,rr,Ur){var Zr,Sn=ut,In=mt,bo=In[Ie],lo=new Blob([bo],{type:"application/json"}),Ra,Vn,ty,_b=new Headers,F0=bo[Ve],dN=!1,wb=!1;jm(Sn)&&_b.append(ub[6],ub[7]),Cn(Vr(Ae),function(jd){_b.append(jd,Ae[jd])});var HS=(Zr={method:"POST",headers:_b,body:lo},Zr[ab]=!0,Zr);Ur&&(HS.keepalive=!0,dN=!0,Ye+=F0);var q0=new Request(Sn,HS);try{q0[ab]=!0}catch{}!Ur&&M0&&(Ra=hh(function(jd,Jc){Vn=jd,ty=Jc}));try{_a(fetch(q0),function(jd){if(Ur&&(Ye-=F0,F0=0),!wb)if(wb=!0,jd.rejected)K_(rr,400,{},jd.reason&&jd.reason.message),ty&&ty(jd.reason);else{var Jc=jd.value;Jc.ok?_a(Jc.text(),function(ND){var Rce=In[ey];cN(Jc.status,Rce,Jc.url,Rce[Ve],Jc.statusText,ND.value||""),Vn&&Vn(!0)}):(K_(rr,400,{},Jc.statusText),Vn&&Vn(!1))}})}catch(jd){wb||(K_(rr,400,{},kt(jd)),ty&&ty(jd))}return dN&&!wb&&(wb=!0,K_(rr,200,{}),Vn&&Vn(!0)),Ra}function ti(mt){try{if(mt&&mt!==""){var rr=Ja().parse(mt);if(rr&&rr.itemsReceived&&rr.itemsReceived>=rr[Cu]&&rr.itemsReceived-rr.itemsAccepted===rr.errors[Ve])return rr}}catch(Ur){yn(vr[Lr](),1,43,"Cannot parse the response. "+bc(Ur),{response:mt})}return null}function ws(mt,rr){if(rr===void 0&&(rr=1),!(!mt||mt[Ve]===0)){var Ur=vr[Fh];Ur[Zn](mt),x++;for(var Zr=0,Sn=mt;Zr<Sn.length;Zr++){var In=Sn[Zr];Ur[Or](In)}Ss(rr),Yc()}}function Ss(mt){var rr=10,Ur;if(x<=1)Ur=rr;else{var Zr=(Math.pow(2,x)-1)/2,Sn=Math.floor(Math.random()*Zr*rr)+1;Sn=mt*Sn,Ur=Math.max(Math.min(Sn,3600),rr)}var In=Sl()+Ur*1e3;F=In}function Yc(){if(!te&&!G){var mt=F?Math.max(0,F-Sl()):0,rr=Math.max(Dc,mt);te=dp(function(){te=null,vr[xr](!0,null,1)},rr)}}function zu(){te&&te.cancel(),te=null,F=null}function Um(mt){return mt===401||mt===403||mt===408||mt===429||mt===500||mt===502||mt===503||mt===504}function J_(mt,rr){return mt?"XMLHttpRequest,Status:"+mt.status+",Response:"+sN(mt)||mt.response||"":rr}function lN(mt,rr,Ur){var Zr=mt,Sn=To(),In=new XDomainRequest,bo=Zr[Ie];In.onload=function(){var Vn=Zr[ey];vr._xdrOnLoad(In,Vn)},In.onerror=function(){K_(rr,400,{},Tce(In))};var lo=Sn&&Sn.location&&Sn.location.protocol||"";if(ut.lastIndexOf(lo,0)!==0){yn(vr[Lr](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),vr._buffer[At]();return}var Ra=ut.replace(/^(https?:)/,"");In.open("POST",Ra),In.send(bo)}function Tce(mt,rr){return mt?"XDomainRequest,Response:"+sN(mt)||"":rr}function qje(){var mt="getNotifyMgr";return vr.core[mt]?vr.core[mt]():vr.core._notificationManager}function jje(mt,rr){var Ur=qje();if(Ur&&Ur[gce])try{Ur[gce](mt,rr)}catch(Zr){yn(vr[Lr](),1,74,"send request notification failed: "+bc(Zr),{exception:kt(Zr)})}}function zje(mt,rr){var Ur=rr.disableInstrumentationKeyValidation,Zr=Ee(Ur)?!1:Ur;if(Zr)return!0;var Sn="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",In=new RegExp(Sn);return In.test(mt)}function Pce(){vr[ei]=null,vr[Fh]=null,vr._appId=null,vr._sample=null,Ae={},It=null,x=0,F=null,G=!1,te=null,le=null,Te=0,Ye=0,_t=null,yt=null,ut=null,ar=null,Nt=0,mr=!1,tr=null,ur=!1,nn=null,ki=US,is=!1,Pa=null,ju=US,zr=!1,yb=!1,bb=null,Ao(vr,"_senderConfig",{g:function(){return xd({},Cce)}})}}),w}return v.constructEnvelope=function(w,x,F,G){var te;x!==w.iKey&&!Ee(x)?te=us(us({},w),{iKey:x}):te=w;var le=Mje[te.baseType]||bce;return le(F,te,G)},v}(Da),SV="instrumentationKey",CV="connectionString",Lje={diagnosticLogInterval:Dm(Nje,1e4)};function Nje(p){return p&&p>0}var Fje=function(){function p(v){var w=new Oh,x;(Ee(v)||Ee(v[SV])&&Ee(v[CV]))&&Br("Invalid input configuration"),Mo(p,this,function(G){Ao(G,"config",{g:function(){return x}}),te(),G.initialize=te,G.track=F,bg(G,w,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function te(){var le=Sa(v||{},Lje);x=le.cfg,w.addUnloadHook(wp(le,function(){if(x[CV]){var Te=RD(x[CV]),Ae=Te.ingestionendpoint;x.endpointUrl=Ae?Ae+cb:x.endpointUrl,x[SV]=Te.instrumentationkey||x[SV]}})),w.initialize(x,[new Dce])}});function F(G){G&&(G.baseData=G.baseData||{},G.baseType=G.baseType||"EventData"),w.track(G)}}return p.__ieDyn=1,p}();r.AppInsightsCore=Oh,r.ApplicationInsights=Fje,r.Sender=Dce,r.SeverityLevel=pl,r.arrForEach=Cn,r.isNullOrUndefined=Ee,r.proxyFunctions=bg,r.throwError=Br})});var ame=P(Rb=>{"use strict";var q8e=Rb&&Rb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),j8e=Rb&&Rb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),z8e=Rb&&Rb.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&q8e(e,r,t);return j8e(e,r),e};Object.defineProperty(Rb,"__esModule",{value:!0});Rb.appInsightsClientFactory=void 0;var U8e=ime(),H8e=b5(),W8e=async(r,e,t)=>{let n;try{let o=await Promise.resolve().then(()=>z8e(sme()));if(n=new o.ApplicationInsights({instrumentationKey:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),e){n.config.extensionConfig={};let s={alwaysUseXhrOverride:!0,httpXHROverride:e};n.config.extensionConfig[U8e.BreezeChannelIdentifier]=s}}catch(o){return Promise.reject(o)}return{logEvent:(o,s)=>{let a={...s?.properties,...s?.measurements};t?.length&&H8e.TelemetryUtil.applyReplacements(a,t),n?.track({name:o,data:a,baseType:"EventData",baseData:{name:o,properties:s?.properties,measurements:s?.measurements}})},flush:async()=>{n?.flush(!1)},dispose:async()=>new Promise(s=>{n?.unload(!0,()=>{s(),n=void 0},1e3)})}};Rb.appInsightsClientFactory=W8e});var dme=P(aw=>{"use strict";var B8e=aw&&aw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$8e=aw&&aw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),S5=aw&&aw.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&B8e(e,r,t);return $8e(e,r),e};Object.defineProperty(aw,"__esModule",{value:!0});var _5=S5(require("os")),cme=S5(require("vscode")),V8e=S5(require("https")),G8e=Yhe(),K8e=Jhe(),ume=b5(),Y8e=rme(),J8e=ame();function lme(){return{sendPOST:(e,t)=>{let n={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{let i=V8e.request(e.urlString,n,o=>{o.on("data",function(s){t(o.statusCode??200,o.headers,s.toString())}),o.on("error",function(){t(0,{})})});i.write(e.data,o=>{o&&t(0,{})}),i.end()}catch{t(0,{})}}}}var w5=class extends G8e.BaseTelemetryReporter{constructor(e,t){let n=s=>(0,J8e.appInsightsClientFactory)(s,lme(),t);ume.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(n=s=>(0,Y8e.oneDataSystemClientFactory)(s,cme,lme()));let i={release:_5.release(),platform:_5.platform(),architecture:_5.arch()},o=new K8e.BaseTelemetrySender(e,n);if(e&&e.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,cme,{additionalCommonProperties:ume.TelemetryUtil.getAdditionalCommonProperties(i)})}};aw.default=w5});var D5=P(BI=>{"use strict";var X8e=BI&&BI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(BI,"__esModule",{value:!0});var C5=Pc();function Q8e(r){return function(t){return t.lift(new Z8e(r))}}BI.audit=Q8e;var Z8e=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new eGe(e,this.durationSelector))},r}(),eGe=function(r){X8e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(t)}catch(s){return this.destination.error(s)}var o=C5.innerSubscribe(n,new C5.SimpleInnerSubscriber(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}},e.prototype.clearThrottle=function(){var t=this,n=t.value,i=t.hasValue,o=t.throttled;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(C5.SimpleOuterSubscriber)});var pme=P(T5=>{"use strict";Object.defineProperty(T5,"__esModule",{value:!0});var tGe=Up(),rGe=D5(),nGe=o5();function iGe(r,e){return e===void 0&&(e=tGe.async),rGe.audit(function(){return nGe.timer(r,e)})}T5.auditTime=iGe});var hme=P($I=>{"use strict";var oGe=$I&&$I.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty($I,"__esModule",{value:!0});var P5=Pc();function sGe(r){return function(t){return t.lift(new aGe(r))}}$I.buffer=sGe;var aGe=function(){function r(e){this.closingNotifier=e}return r.prototype.call=function(e,t){return t.subscribe(new cGe(e,this.closingNotifier))},r}(),cGe=function(r){oGe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.buffer=[],i.add(P5.innerSubscribe(n,new P5.SimpleInnerSubscriber(i))),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(P5.SimpleOuterSubscriber)});var vme=P(VI=>{"use strict";var mme=VI&&VI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(VI,"__esModule",{value:!0});var gme=mi();function uGe(r,e){return e===void 0&&(e=null),function(n){return n.lift(new lGe(r,e))}}VI.bufferCount=uGe;var lGe=function(){function r(e,t){this.bufferSize=e,this.startBufferEvery=t,!t||e===t?this.subscriberClass=dGe:this.subscriberClass=fGe}return r.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},r}(),dGe=function(r){mme(e,r);function e(t,n){var i=r.call(this,t)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(t){var n=this.buffer;n.push(t),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),r.prototype._complete.call(this)},e}(gme.Subscriber),fGe=function(r){mme(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.bufferSize=n,o.startBufferEvery=i,o.buffers=[],o.count=0,o}return e.prototype._next=function(t){var n=this,i=n.bufferSize,o=n.startBufferEvery,s=n.buffers,a=n.count;this.count++,a%o===0&&s.push([]);for(var c=s.length;c--;){var u=s[c];u.push(t),u.length===i&&(s.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var t=this,n=t.buffers,i=t.destination;n.length>0;){var o=n.shift();o.length>0&&i.next(o)}r.prototype._complete.call(this)},e}(gme.Subscriber)});var _me=P(GI=>{"use strict";var pGe=GI&&GI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(GI,"__esModule",{value:!0});var hGe=Up(),mGe=mi(),gGe=sy();function vGe(r){var e=arguments.length,t=hGe.async;gGe.isScheduler(arguments[arguments.length-1])&&(t=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(s){return s.lift(new yGe(r,n,i,t))}}GI.bufferTime=vGe;var yGe=function(){function r(e,t,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new _Ge(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},r}(),bGe=function(){function r(){this.buffer=[]}return r}(),_Ge=function(r){pGe(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=o,a.scheduler=s,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=s.schedule(yme,n,u))}else{var l={subscriber:a,context:c},d={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:s};a.add(c.closeAction=s.schedule(bme,n,l)),a.add(s.schedule(wGe,i,d))}return a}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o,s=0;s<i;s++){var a=n[s],c=a.buffer;c.push(t),c.length==this.maxBufferSize&&(o=a)}o&&this.onBufferFull(o)},e.prototype._error=function(t){this.contexts.length=0,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this,n=t.contexts,i=t.destination;n.length>0;){var o=n.shift();i.next(o.buffer)}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var n=t.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){t=this.openContext();var i=this.bufferTimeSpan,o={subscriber:this,context:t,bufferTimeSpan:i};this.add(t.closeAction=this.scheduler.schedule(yme,i,o))}},e.prototype.openContext=function(){var t=new bGe;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var n=this.contexts,i=n?n.indexOf(t):-1;i>=0&&n.splice(n.indexOf(t),1)},e}(mGe.Subscriber);function yme(r){var e=r.subscriber,t=r.context;t&&e.closeContext(t),e.closed||(r.context=e.openContext(),r.context.closeAction=this.schedule(r,r.bufferTimeSpan))}function wGe(r){var e=r.bufferCreationInterval,t=r.bufferTimeSpan,n=r.subscriber,i=r.scheduler,o=n.openContext(),s=this;n.closed||(n.add(o.closeAction=i.schedule(bme,t,{subscriber:n,context:o})),s.schedule(r,e))}function bme(r){var e=r.subscriber,t=r.context;e.closeContext(t)}});var Sme=P(KI=>{"use strict";var SGe=KI&&KI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(KI,"__esModule",{value:!0});var CGe=ml(),wme=sC(),DGe=oC();function TGe(r,e){return function(n){return n.lift(new PGe(r,e))}}KI.bufferToggle=TGe;var PGe=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new RGe(e,this.openings,this.closingSelector))},r}(),RGe=function(r){SGe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.closingSelector=i,o.contexts=[],o.add(wme.subscribeToResult(o,n)),o}return e.prototype._next=function(t){for(var n=this.contexts,i=n.length,o=0;o<i;o++)n[o].buffer.push(t)},e.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,r.prototype._error.call(this,t)},e.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,r.prototype._complete.call(this)},e.prototype.notifyNext=function(t,n){t?this.closeBuffer(t):this.openBuffer(n)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var n=this.closingSelector,i=n.call(this,t);i&&this.trySubscribe(i)}catch(o){this._error(o)}},e.prototype.closeBuffer=function(t){var n=this.contexts;if(n&&t){var i=t.buffer,o=t.subscription;this.destination.next(i),n.splice(n.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var n=this.contexts,i=[],o=new CGe.Subscription,s={buffer:i,subscription:o};n.push(s);var a=wme.subscribeToResult(this,t,s);!a||a.closed?this.closeBuffer(s):(a.context=s,this.add(a),o.add(a))},e}(DGe.OuterSubscriber)});var Cme=P(YI=>{"use strict";var xGe=YI&&YI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(YI,"__esModule",{value:!0});var EGe=ml(),R5=Pc();function OGe(r){return function(e){return e.lift(new IGe(r))}}YI.bufferWhen=OGe;var IGe=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new kGe(e,this.closingSelector))},r}(),kGe=function(r){xGe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var o=this.closingSelector;i=o()}catch(s){return this.error(s)}t=new EGe.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(R5.innerSubscribe(i,new R5.SimpleInnerSubscriber(this))),this.subscribing=!1},e}(R5.SimpleOuterSubscriber)});var Dme=P(JI=>{"use strict";var AGe=JI&&JI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(JI,"__esModule",{value:!0});var x5=Pc();function MGe(r){return function(t){var n=new LGe(r),i=t.lift(n);return n.caught=i}}JI.catchError=MGe;var LGe=function(){function r(e){this.selector=e}return r.prototype.call=function(e,t){return t.subscribe(new NGe(e,this.selector,this.caught))},r}(),NGe=function(r){AGe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.selector=n,o.caught=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(s){r.prototype.error.call(this,s);return}this._unsubscribeAndRecycle();var i=new x5.SimpleInnerSubscriber(this);this.add(i);var o=x5.innerSubscribe(n,i);o!==i&&this.add(o)}},e}(x5.SimpleOuterSubscriber)});var Tme=P(E5=>{"use strict";Object.defineProperty(E5,"__esModule",{value:!0});var FGe=hF();function qGe(r){return function(e){return e.lift(new FGe.CombineLatestOperator(r))}}E5.combineAll=qGe});var Pme=P(O5=>{"use strict";Object.defineProperty(O5,"__esModule",{value:!0});var jGe=zp(),zGe=hF(),UGe=ay();function HGe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=null;return typeof r[r.length-1]=="function"&&(t=r.pop()),r.length===1&&jGe.isArray(r[0])&&(r=r[0].slice()),function(n){return n.lift.call(UGe.from([n].concat(r)),new zGe.CombineLatestOperator(t))}}O5.combineLatest=HGe});var Rme=P(I5=>{"use strict";Object.defineProperty(I5,"__esModule",{value:!0});var WGe=FI();function BGe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(WGe.concat.apply(void 0,[t].concat(r)))}}I5.concat=BGe});var A5=P(k5=>{"use strict";Object.defineProperty(k5,"__esModule",{value:!0});var $Ge=NI();function VGe(r,e){return $Ge.mergeMap(r,e,1)}k5.concatMap=VGe});var xme=P(M5=>{"use strict";Object.defineProperty(M5,"__esModule",{value:!0});var GGe=A5();function KGe(r,e){return GGe.concatMap(function(){return r},e)}M5.concatMapTo=KGe});var Eme=P(XI=>{"use strict";var YGe=XI&&XI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(XI,"__esModule",{value:!0});var JGe=mi();function XGe(r){return function(e){return e.lift(new QGe(r,e))}}XI.count=XGe;var QGe=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new ZGe(e,this.predicate,this.source))},r}(),ZGe=function(r){YGe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.count=0,o.index=0,o}return e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var n;try{n=this.predicate(t,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(JGe.Subscriber)});var Ome=P(QI=>{"use strict";var eKe=QI&&QI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(QI,"__esModule",{value:!0});var L5=Pc();function tKe(r){return function(e){return e.lift(new rKe(r))}}QI.debounce=tKe;var rKe=function(){function r(e){this.durationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new nKe(e,this.durationSelector))},r}(),nKe=function(r){eKe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(t){try{var n=this.durationSelector.call(this,t);n&&this._tryNext(t,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,n){var i=this.durationSubscription;this.value=t,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=L5.innerSubscribe(n,new L5.SimpleInnerSubscriber(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,r.prototype._next.call(this,t)}},e}(L5.SimpleOuterSubscriber)});var Ime=P(ZI=>{"use strict";var iKe=ZI&&ZI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ZI,"__esModule",{value:!0});var oKe=mi(),sKe=Up();function aKe(r,e){return e===void 0&&(e=sKe.async),function(t){return t.lift(new cKe(r,e))}}ZI.debounceTime=aKe;var cKe=function(){function r(e,t){this.dueTime=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new uKe(e,this.dueTime,this.scheduler))},r}(),uKe=function(r){iKe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.dueTime=n,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(lKe,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;t!==null&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(oKe.Subscriber);function lKe(r){r.debouncedNext()}});var mP=P(ek=>{"use strict";var dKe=ek&&ek.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ek,"__esModule",{value:!0});var fKe=mi();function pKe(r){return r===void 0&&(r=null),function(e){return e.lift(new hKe(r))}}ek.defaultIfEmpty=pKe;var hKe=function(){function r(e){this.defaultValue=e}return r.prototype.call=function(e,t){return t.subscribe(new mKe(e,this.defaultValue))},r}(),mKe=function(r){dKe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(fKe.Subscriber)});var F5=P(N5=>{"use strict";Object.defineProperty(N5,"__esModule",{value:!0});function gKe(r){return r instanceof Date&&!isNaN(+r)}N5.isDate=gKe});var Ame=P(tk=>{"use strict";var vKe=tk&&tk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(tk,"__esModule",{value:!0});var yKe=Up(),bKe=F5(),_Ke=mi(),kme=SI();function wKe(r,e){e===void 0&&(e=yKe.async);var t=bKe.isDate(r),n=t?+r-e.now():Math.abs(r);return function(i){return i.lift(new SKe(n,e))}}tk.delay=wKe;var SKe=function(){function r(e,t){this.delay=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new CKe(e,this.delay,this.scheduler))},r}(),CKe=function(r){vKe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.delay=n,o.scheduler=i,o.queue=[],o.active=!1,o.errored=!1,o}return e.dispatch=function(t){for(var n=t.source,i=n.queue,o=t.scheduler,s=t.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(s);if(i.length>0){var a=Math.max(0,i[0].time-o.now());this.schedule(t,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(t){this.active=!0;var n=this.destination;n.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(this.errored!==!0){var n=this.scheduler,i=new DKe(n.now()+this.delay,t);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(t){this.scheduleNotification(kme.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(kme.Notification.createComplete()),this.unsubscribe()},e}(_Ke.Subscriber),DKe=function(){function r(e,t){this.time=e,this.notification=t}return r}()});var Lme=P(rk=>{"use strict";var q5=rk&&rk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(rk,"__esModule",{value:!0});var TKe=mi(),PKe=No(),RKe=oC(),xKe=sC();function EKe(r,e){return e?function(t){return new IKe(t,e).lift(new Mme(r))}:function(t){return t.lift(new Mme(r))}}rk.delayWhen=EKe;var Mme=function(){function r(e){this.delayDurationSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new OKe(e,this.delayDurationSelector))},r}(),OKe=function(r){q5(e,r);function e(t,n){var i=r.call(this,t)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(t,n,i,o,s){this.destination.next(t),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(t,n){this._error(t)},e.prototype.notifyComplete=function(t){var n=this.removeSubscription(t);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(t){var n=this.index++;try{var i=this.delayDurationSelector(t,n);i&&this.tryDelay(i,t)}catch(o){this.destination.error(o)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(t);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),t.outerValue},e.prototype.tryDelay=function(t,n){var i=xKe.subscribeToResult(this,t,n);if(i&&!i.closed){var o=this.destination;o.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(RKe.OuterSubscriber),IKe=function(r){q5(e,r);function e(t,n){var i=r.call(this)||this;return i.source=t,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new kKe(t,this.source))},e}(PKe.Observable),kKe=function(r){q5(e,r);function e(t,n){var i=r.call(this)||this;return i.parent=t,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(TKe.Subscriber)});var Nme=P(nk=>{"use strict";var AKe=nk&&nk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(nk,"__esModule",{value:!0});var MKe=mi();function LKe(){return function(e){return e.lift(new NKe)}}nk.dematerialize=LKe;var NKe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new FKe(e))},r}(),FKe=function(r){AKe(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){t.observe(this.destination)},e}(MKe.Subscriber)});var qme=P(gP=>{"use strict";var qKe=gP&&gP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gP,"__esModule",{value:!0});var j5=Pc();function jKe(r,e){return function(t){return t.lift(new zKe(r,e))}}gP.distinct=jKe;var zKe=function(){function r(e,t){this.keySelector=e,this.flushes=t}return r.prototype.call=function(e,t){return t.subscribe(new Fme(e,this.keySelector,this.flushes))},r}(),Fme=function(r){qKe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=n,o.values=new Set,i&&o.add(j5.innerSubscribe(i,new j5.SimpleInnerSubscriber(o))),o}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var n,i=this.destination;try{n=this.keySelector(t)}catch(o){i.error(o);return}this._finalizeNext(n,t)},e.prototype._finalizeNext=function(t,n){var i=this.values;i.has(t)||(i.add(t),this.destination.next(n))},e}(j5.SimpleOuterSubscriber);gP.DistinctSubscriber=Fme});var z5=P(ik=>{"use strict";var UKe=ik&&ik.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ik,"__esModule",{value:!0});var HKe=mi();function WKe(r,e){return function(t){return t.lift(new BKe(r,e))}}ik.distinctUntilChanged=WKe;var BKe=function(){function r(e,t){this.compare=e,this.keySelector=t}return r.prototype.call=function(e,t){return t.subscribe(new $Ke(e,this.compare,this.keySelector))},r}(),$Ke=function(r){UKe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.keySelector=i,o.hasKey=!1,typeof n=="function"&&(o.compare=n),o}return e.prototype.compare=function(t,n){return t===n},e.prototype._next=function(t){var n;try{var i=this.keySelector;n=i?i(t):t}catch(a){return this.destination.error(a)}var o=!1;if(this.hasKey)try{var s=this.compare;o=s(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;o||(this.key=n,this.destination.next(t))},e}(HKe.Subscriber)});var jme=P(U5=>{"use strict";Object.defineProperty(U5,"__esModule",{value:!0});var VKe=z5();function GKe(r,e){return VKe.distinctUntilChanged(function(t,n){return e?e(t[r],n[r]):t[r]===n[r]})}U5.distinctUntilKeyChanged=GKe});var sk=P(ok=>{"use strict";var KKe=ok&&ok.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ok,"__esModule",{value:!0});var YKe=lP(),JKe=mi();function XKe(r){return r===void 0&&(r=e9e),function(e){return e.lift(new QKe(r))}}ok.throwIfEmpty=XKe;var QKe=function(){function r(e){this.errorFactory=e}return r.prototype.call=function(e,t){return t.subscribe(new ZKe(e,this.errorFactory))},r}(),ZKe=function(r){KKe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)},e}(JKe.Subscriber);function e9e(){return new YKe.EmptyError}});var zF=P(ak=>{"use strict";var t9e=ak&&ak.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ak,"__esModule",{value:!0});var r9e=mi(),n9e=uP(),i9e=oy();function o9e(r){return function(e){return r===0?i9e.empty():e.lift(new s9e(r))}}ak.take=o9e;var s9e=function(){function r(e){if(this.total=e,this.total<0)throw new n9e.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new a9e(e,this.total))},r}(),a9e=function(r){t9e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){var n=this.total,i=++this.count;i<=n&&(this.destination.next(t),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(r9e.Subscriber)});var Ume=P(H5=>{"use strict";Object.defineProperty(H5,"__esModule",{value:!0});var zme=uP(),c9e=QD(),u9e=sk(),l9e=mP(),d9e=zF();function f9e(r,e){if(r<0)throw new zme.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(n){return n.pipe(c9e.filter(function(i,o){return o===r}),d9e.take(1),t?l9e.defaultIfEmpty(e):u9e.throwIfEmpty(function(){return new zme.ArgumentOutOfRangeError}))}}H5.elementAt=f9e});var Hme=P(W5=>{"use strict";Object.defineProperty(W5,"__esModule",{value:!0});var p9e=FI(),h9e=_I();function m9e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return p9e.concat(t,h9e.of.apply(void 0,r))}}W5.endWith=m9e});var Wme=P(ck=>{"use strict";var g9e=ck&&ck.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(ck,"__esModule",{value:!0});var v9e=mi();function y9e(r,e){return function(t){return t.lift(new b9e(r,e,t))}}ck.every=y9e;var b9e=function(){function r(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return r.prototype.call=function(e,t){return t.subscribe(new _9e(e,this.predicate,this.thisArg,this.source))},r}(),_9e=function(r){g9e(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.predicate=n,s.thisArg=i,s.source=o,s.index=0,s.thisArg=i||s,s}return e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var n=!1;try{n=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(v9e.Subscriber)});var Bme=P(uk=>{"use strict";var w9e=uk&&uk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(uk,"__esModule",{value:!0});var B5=Pc();function S9e(){return function(r){return r.lift(new C9e)}}uk.exhaust=S9e;var C9e=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new D9e(e))},r}(),D9e=function(r){w9e(e,r);function e(t){var n=r.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(B5.innerSubscribe(t,new B5.SimpleInnerSubscriber(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(B5.SimpleOuterSubscriber)});var Vme=P(lk=>{"use strict";var T9e=lk&&lk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(lk,"__esModule",{value:!0});var P9e=Hm(),R9e=ay(),$5=Pc();function $me(r,e){return e?function(t){return t.pipe($me(function(n,i){return R9e.from(r(n,i)).pipe(P9e.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new x9e(r))}}lk.exhaustMap=$me;var x9e=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new E9e(e,this.project))},r}(),E9e=function(r){T9e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(t){var n=new $5.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=$5.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}($5.SimpleOuterSubscriber)});var Yme=P(nT=>{"use strict";var O9e=nT&&nT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(nT,"__esModule",{value:!0});var V5=Pc();function I9e(r,e,t){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new Gme(r,e,t))}}nT.expand=I9e;var Gme=function(){function r(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return r.prototype.call=function(e,t){return t.subscribe(new Kme(e,this.project,this.concurrent,this.scheduler))},r}();nT.ExpandOperator=Gme;var Kme=function(r){O9e(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.project=n,s.concurrent=i,s.scheduler=o,s.index=0,s.active=0,s.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(s.buffer=[]),s}return e.dispatch=function(t){var n=t.subscriber,i=t.result,o=t.value,s=t.index;n.subscribeToProjection(i,o,s)},e.prototype._next=function(t){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(t);try{var o=this.project,s=o(t,i);if(!this.scheduler)this.subscribeToProjection(s,t,i);else{var a={subscriber:this,result:s,value:t,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,n,i){this.active++;var o=this.destination;o.add(V5.innerSubscribe(t,new V5.SimpleInnerSubscriber(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(V5.SimpleOuterSubscriber);nT.ExpandSubscriber=Kme});var Jme=P(dk=>{"use strict";var k9e=dk&&dk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(dk,"__esModule",{value:!0});var A9e=mi(),M9e=ml();function L9e(r){return function(e){return e.lift(new N9e(r))}}dk.finalize=L9e;var N9e=function(){function r(e){this.callback=e}return r.prototype.call=function(e,t){return t.subscribe(new F9e(e,this.callback))},r}(),F9e=function(r){k9e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.add(new M9e.Subscription(n)),i}return e}(A9e.Subscriber)});var G5=P(iT=>{"use strict";var q9e=iT&&iT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(iT,"__esModule",{value:!0});var j9e=mi();function z9e(r,e){if(typeof r!="function")throw new TypeError("predicate is not a function");return function(t){return t.lift(new Xme(r,t,!1,e))}}iT.find=z9e;var Xme=function(){function r(e,t,n,i){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=i}return r.prototype.call=function(e,t){return t.subscribe(new Qme(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},r}();iT.FindValueOperator=Xme;var Qme=function(r){q9e(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.predicate=n,a.source=i,a.yieldIndex=o,a.thisArg=s,a.index=0,a}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete(),this.unsubscribe()},e.prototype._next=function(t){var n=this,i=n.predicate,o=n.thisArg,s=this.index++;try{var a=i.call(o||this,t,s,this.source);a&&this.notifyComplete(this.yieldIndex?s:t)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(j9e.Subscriber);iT.FindValueSubscriber=Qme});var Zme=P(K5=>{"use strict";Object.defineProperty(K5,"__esModule",{value:!0});var U9e=G5();function H9e(r,e){return function(t){return t.lift(new U9e.FindValueOperator(r,t,!0,e))}}K5.findIndex=H9e});var ege=P(Y5=>{"use strict";Object.defineProperty(Y5,"__esModule",{value:!0});var W9e=lP(),B9e=QD(),$9e=zF(),V9e=mP(),G9e=sk(),K9e=nC();function Y9e(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?B9e.filter(function(i,o){return r(i,o,n)}):K9e.identity,$9e.take(1),t?V9e.defaultIfEmpty(e):G9e.throwIfEmpty(function(){return new W9e.EmptyError}))}}Y5.first=Y9e});var tge=P(fk=>{"use strict";var J9e=fk&&fk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(fk,"__esModule",{value:!0});var X9e=mi();function Q9e(){return function(e){return e.lift(new Z9e)}}fk.ignoreElements=Q9e;var Z9e=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new e7e(e))},r}(),e7e=function(r){J9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype._next=function(t){},e}(X9e.Subscriber)});var rge=P(pk=>{"use strict";var t7e=pk&&pk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(pk,"__esModule",{value:!0});var r7e=mi();function n7e(){return function(r){return r.lift(new i7e)}}pk.isEmpty=n7e;var i7e=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new o7e(e))},r}(),o7e=function(r){t7e(e,r);function e(t){return r.call(this,t)||this}return e.prototype.notifyComplete=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(r7e.Subscriber)});var UF=P(hk=>{"use strict";var s7e=hk&&hk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(hk,"__esModule",{value:!0});var a7e=mi(),c7e=uP(),u7e=oy();function l7e(r){return function(t){return r===0?u7e.empty():t.lift(new d7e(r))}}hk.takeLast=l7e;var d7e=function(){function r(e){if(this.total=e,this.total<0)throw new c7e.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return t.subscribe(new f7e(e,this.total))},r}(),f7e=function(r){s7e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(t){var n=this.ring,i=this.total,o=this.count++;if(n.length<i)n.push(t);else{var s=o%i;n[s]=t}},e.prototype._complete=function(){var t=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,o=this.ring,s=0;s<i;s++){var a=n++%i;t.next(o[a])}t.complete()},e}(a7e.Subscriber)});var nge=P(J5=>{"use strict";Object.defineProperty(J5,"__esModule",{value:!0});var p7e=lP(),h7e=QD(),m7e=UF(),g7e=sk(),v7e=mP(),y7e=nC();function b7e(r,e){var t=arguments.length>=2;return function(n){return n.pipe(r?h7e.filter(function(i,o){return r(i,o,n)}):y7e.identity,m7e.takeLast(1),t?v7e.defaultIfEmpty(e):g7e.throwIfEmpty(function(){return new p7e.EmptyError}))}}J5.last=b7e});var ige=P(mk=>{"use strict";var _7e=mk&&mk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(mk,"__esModule",{value:!0});var w7e=mi();function S7e(r){return function(e){return e.lift(new C7e(r))}}mk.mapTo=S7e;var C7e=function(){function r(e){this.value=e}return r.prototype.call=function(e,t){return t.subscribe(new D7e(e,this.value))},r}(),D7e=function(r){_7e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.value=n,i}return e.prototype._next=function(t){this.destination.next(this.value)},e}(w7e.Subscriber)});var oge=P(gk=>{"use strict";var T7e=gk&&gk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(gk,"__esModule",{value:!0});var P7e=mi(),X5=SI();function R7e(){return function(e){return e.lift(new x7e)}}gk.materialize=R7e;var x7e=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new E7e(e))},r}(),E7e=function(r){T7e(e,r);function e(t){return r.call(this,t)||this}return e.prototype._next=function(t){this.destination.next(X5.Notification.createNext(t))},e.prototype._error=function(t){var n=this.destination;n.next(X5.Notification.createError(t)),n.complete()},e.prototype._complete=function(){var t=this.destination;t.next(X5.Notification.createComplete()),t.complete()},e}(P7e.Subscriber)});var HF=P(vk=>{"use strict";var O7e=vk&&vk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vk,"__esModule",{value:!0});var I7e=mi();function k7e(r,e){var t=!1;return arguments.length>=2&&(t=!0),function(i){return i.lift(new A7e(r,e,t))}}vk.scan=k7e;var A7e=function(){function r(e,t,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return r.prototype.call=function(e,t){return t.subscribe(new M7e(e,this.accumulator,this.seed,this.hasSeed))},r}(),M7e=function(r){O7e(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s._seed=i,s.hasSeed=o,s.index=0,s}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(!this.hasSeed)this.seed=t,this.destination.next(t);else return this._tryNext(t)},e.prototype._tryNext=function(t){var n=this.index++,i;try{i=this.accumulator(this.seed,t,n)}catch(o){this.destination.error(o)}this.seed=i,this.destination.next(i)},e}(I7e.Subscriber)});var yk=P(Q5=>{"use strict";Object.defineProperty(Q5,"__esModule",{value:!0});var sge=HF(),age=UF(),L7e=mP(),cge=iF();function N7e(r,e){return arguments.length>=2?function(n){return cge.pipe(sge.scan(r,e),age.takeLast(1),L7e.defaultIfEmpty(e))(n)}:function(n){return cge.pipe(sge.scan(function(i,o,s){return r(i,o,s+1)}),age.takeLast(1))(n)}}Q5.reduce=N7e});var uge=P(Z5=>{"use strict";Object.defineProperty(Z5,"__esModule",{value:!0});var F7e=yk();function q7e(r){var e=typeof r=="function"?function(t,n){return r(t,n)>0?t:n}:function(t,n){return t>n?t:n};return F7e.reduce(e)}Z5.max=q7e});var lge=P(e8=>{"use strict";Object.defineProperty(e8,"__esModule",{value:!0});var j7e=J6();function z7e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return t.lift.call(j7e.merge.apply(void 0,[t].concat(r)))}}e8.merge=z7e});var fge=P(t8=>{"use strict";Object.defineProperty(t8,"__esModule",{value:!0});var dge=NI();function U7e(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof e=="function"?dge.mergeMap(function(){return r},e,t):(typeof e=="number"&&(t=e),dge.mergeMap(function(){return r},t))}t8.mergeMapTo=U7e});var mge=P(oT=>{"use strict";var H7e=oT&&oT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(oT,"__esModule",{value:!0});var r8=Pc();function W7e(r,e,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),function(n){return n.lift(new pge(r,e,t))}}oT.mergeScan=W7e;var pge=function(){function r(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return r.prototype.call=function(e,t){return t.subscribe(new hge(e,this.accumulator,this.seed,this.concurrent))},r}();oT.MergeScanOperator=pge;var hge=function(r){H7e(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.accumulator=n,s.acc=i,s.concurrent=o,s.hasValue=!1,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(t){if(this.active<this.concurrent){var n=this.index++,i=this.destination,o=void 0;try{var s=this.accumulator;o=s(this.acc,t,n)}catch(a){return i.error(a)}this.active++,this._innerSub(o)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var n=new r8.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=r8.innerSubscribe(t,n);o!==n&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var n=this.destination;this.acc=t,this.hasValue=!0,n.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(r8.SimpleOuterSubscriber);oT.MergeScanSubscriber=hge});var gge=P(n8=>{"use strict";Object.defineProperty(n8,"__esModule",{value:!0});var B7e=yk();function $7e(r){var e=typeof r=="function"?function(t,n){return r(t,n)<0?t:n}:function(t,n){return t<n?t:n};return B7e.reduce(e)}n8.min=$7e});var sT=P(WF=>{"use strict";Object.defineProperty(WF,"__esModule",{value:!0});var V7e=G4();function G7e(r,e){return function(n){var i;if(typeof r=="function"?i=r:i=function(){return r},typeof e=="function")return n.lift(new vge(i,e));var o=Object.create(n,V7e.connectableObservableDescriptor);return o.source=n,o.subjectFactory=i,o}}WF.multicast=G7e;var vge=function(){function r(e,t){this.subjectFactory=e,this.selector=t}return r.prototype.call=function(e,t){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(t.subscribe(i)),o},r}();WF.MulticastOperator=vge});var _ge=P(vP=>{"use strict";var K7e=vP&&vP.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(vP,"__esModule",{value:!0});var Y7e=ay(),yge=zp(),i8=Pc();function J7e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length===1&&yge.isArray(r[0])&&(r=r[0]),function(t){return t.lift(new bge(r))}}vP.onErrorResumeNext=J7e;function X7e(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=void 0;return r.length===1&&yge.isArray(r[0])&&(r=r[0]),t=r.shift(),Y7e.from(t).lift(new bge(r))}vP.onErrorResumeNextStatic=X7e;var bge=function(){function r(e){this.nextSources=e}return r.prototype.call=function(e,t){return t.subscribe(new Q7e(e,this.nextSources))},r}(),Q7e=function(r){K7e(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var n=new i8.SimpleInnerSubscriber(this),i=this.destination;i.add(n);var o=i8.innerSubscribe(t,n);o!==n&&i.add(o)}else this.destination.complete()},e}(i8.SimpleOuterSubscriber)});var wge=P(bk=>{"use strict";var Z7e=bk&&bk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(bk,"__esModule",{value:!0});var eYe=mi();function tYe(){return function(r){return r.lift(new rYe)}}bk.pairwise=tYe;var rYe=function(){function r(){}return r.prototype.call=function(e,t){return t.subscribe(new nYe(e))},r}(),nYe=function(r){Z7e(e,r);function e(t){var n=r.call(this,t)||this;return n.hasPrev=!1,n}return e.prototype._next=function(t){var n;this.hasPrev?n=[this.prev,t]:this.hasPrev=!0,this.prev=t,n&&this.destination.next(n)},e}(eYe.Subscriber)});var Cge=P(o8=>{"use strict";Object.defineProperty(o8,"__esModule",{value:!0});var iYe=t5(),Sge=QD();function oYe(r,e){return function(t){return[Sge.filter(r,e)(t),Sge.filter(iYe.not(r,e))(t)]}}o8.partition=oYe});var Dge=P(s8=>{"use strict";Object.defineProperty(s8,"__esModule",{value:!0});var sYe=Hm();function aYe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.length;if(t===0)throw new Error("list of properties cannot be empty.");return function(n){return sYe.map(cYe(r,t))(n)}}s8.pluck=aYe;function cYe(r,e){var t=function(n){for(var i=n,o=0;o<e;o++){var s=i?.[r[o]];if(s!==void 0)i=s;else return}return i};return t}});var Rge=P(a8=>{"use strict";Object.defineProperty(a8,"__esModule",{value:!0});var Tge=If(),Pge=sT();function uYe(r){return r?Pge.multicast(function(){return new Tge.Subject},r):Pge.multicast(new Tge.Subject)}a8.publish=uYe});var xge=P(c8=>{"use strict";Object.defineProperty(c8,"__esModule",{value:!0});var lYe=J4(),dYe=sT();function fYe(r){return function(e){return dYe.multicast(new lYe.BehaviorSubject(r))(e)}}c8.publishBehavior=fYe});var Ege=P(u8=>{"use strict";Object.defineProperty(u8,"__esModule",{value:!0});var pYe=TI(),hYe=sT();function mYe(){return function(r){return hYe.multicast(new pYe.AsyncSubject)(r)}}u8.publishLast=mYe});var Oge=P(l8=>{"use strict";Object.defineProperty(l8,"__esModule",{value:!0});var gYe=lF(),vYe=sT();function yYe(r,e,t,n){t&&typeof t!="function"&&(n=t);var i=typeof t=="function"?t:void 0,o=new gYe.ReplaySubject(r,e,n);return function(s){return vYe.multicast(function(){return o},i)(s)}}l8.publishReplay=yYe});var Ige=P(d8=>{"use strict";Object.defineProperty(d8,"__esModule",{value:!0});var bYe=zp(),_Ye=n5();function wYe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return r.length===1&&bYe.isArray(r[0])&&(r=r[0]),n.lift.call(_Ye.race.apply(void 0,[n].concat(r)))}}d8.race=wYe});var Age=P(_k=>{"use strict";var SYe=_k&&_k.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(_k,"__esModule",{value:!0});var CYe=mi(),DYe=oy();function TYe(r){return r===void 0&&(r=-1),function(e){return r===0?DYe.empty():r<0?e.lift(new kge(-1,e)):e.lift(new kge(r-1,e))}}_k.repeat=TYe;var kge=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new PYe(e,this.count,this.source))},r}(),PYe=function(r){SYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.complete=function(){if(!this.isStopped){var t=this,n=t.source,i=t.count;if(i===0)return r.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(CYe.Subscriber)});var Mge=P(wk=>{"use strict";var RYe=wk&&wk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(wk,"__esModule",{value:!0});var xYe=If(),f8=Pc();function EYe(r){return function(e){return e.lift(new OYe(r))}}wk.repeatWhen=EYe;var OYe=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new IYe(e,this.notifier,t))},r}(),IYe=function(r){RYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o.sourceIsBeingSubscribedTo=!0,o}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return r.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return r.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this,n=t.notifications,i=t.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,r.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},e.prototype.subscribeToRetries=function(){this.notifications=new xYe.Subject;var t;try{var n=this.notifier;t=n(this.notifications)}catch{return r.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=f8.innerSubscribe(t,new f8.SimpleInnerSubscriber(this))},e}(f8.SimpleOuterSubscriber)});var Lge=P(Sk=>{"use strict";var kYe=Sk&&Sk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Sk,"__esModule",{value:!0});var AYe=mi();function MYe(r){return r===void 0&&(r=-1),function(e){return e.lift(new LYe(r,e))}}Sk.retry=MYe;var LYe=function(){function r(e,t){this.count=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new NYe(e,this.count,this.source))},r}(),NYe=function(r){kYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.count=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this,i=n.source,o=n.count;if(o===0)return r.prototype.error.call(this,t);o>-1&&(this.count=o-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(AYe.Subscriber)});var Nge=P(Ck=>{"use strict";var FYe=Ck&&Ck.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ck,"__esModule",{value:!0});var qYe=If(),p8=Pc();function jYe(r){return function(e){return e.lift(new zYe(r,e))}}Ck.retryWhen=jYe;var zYe=function(){function r(e,t){this.notifier=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new UYe(e,this.notifier,this.source))},r}(),UYe=function(r){FYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.notifier=n,o.source=i,o}return e.prototype.error=function(t){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new qYe.Subject;try{var s=this.notifier;i=s(n)}catch(a){return r.prototype.error.call(this,a)}o=p8.innerSubscribe(i,new p8.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(t)}},e.prototype._unsubscribe=function(){var t=this,n=t.errors,i=t.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(p8.SimpleOuterSubscriber)});var Fge=P(Dk=>{"use strict";var HYe=Dk&&Dk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Dk,"__esModule",{value:!0});var h8=Pc();function WYe(r){return function(e){return e.lift(new BYe(r))}}Dk.sample=WYe;var BYe=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new $Ye(e),i=t.subscribe(n);return i.add(h8.innerSubscribe(this.notifier,new h8.SimpleInnerSubscriber(n))),i},r}(),$Ye=function(r){HYe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.hasValue=!1,t}return e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(h8.SimpleOuterSubscriber)});var qge=P(Tk=>{"use strict";var VYe=Tk&&Tk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Tk,"__esModule",{value:!0});var GYe=mi(),KYe=Up();function YYe(r,e){return e===void 0&&(e=KYe.async),function(t){return t.lift(new JYe(r,e))}}Tk.sampleTime=YYe;var JYe=function(){function r(e,t){this.period=e,this.scheduler=t}return r.prototype.call=function(e,t){return t.subscribe(new XYe(e,this.period,this.scheduler))},r}(),XYe=function(r){VYe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.period=n,o.scheduler=i,o.hasValue=!1,o.add(i.schedule(QYe,n,{subscriber:o,period:n})),o}return e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(GYe.Subscriber);function QYe(r){var e=r.subscriber,t=r.period;e.notifyNext(),this.schedule(r,t)}});var Wge=P(aT=>{"use strict";var jge=aT&&aT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(aT,"__esModule",{value:!0});var zge=mi();function ZYe(r,e){return function(t){return t.lift(new Uge(r,e))}}aT.sequenceEqual=ZYe;var Uge=function(){function r(e,t){this.compareTo=e,this.comparator=t}return r.prototype.call=function(e,t){return t.subscribe(new Hge(e,this.compareTo,this.comparator))},r}();aT.SequenceEqualOperator=Uge;var Hge=function(r){jge(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.compareTo=n,o.comparator=i,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new eJe(t,o))),o}return e.prototype._next=function(t){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this,n=t._a,i=t._b,o=t.comparator;n.length>0&&i.length>0;){var s=n.shift(),a=i.shift(),c=!1;try{c=o?o(s,a):s===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(t){var n=this.destination;n.next(t),n.complete()},e.prototype.nextB=function(t){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(zge.Subscriber);aT.SequenceEqualSubscriber=Hge;var eJe=function(r){jge(e,r);function e(t,n){var i=r.call(this,t)||this;return i.parent=n,i}return e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(zge.Subscriber)});var Bge=P(m8=>{"use strict";Object.defineProperty(m8,"__esModule",{value:!0});var tJe=sT(),rJe=sF(),nJe=If();function iJe(){return new nJe.Subject}function oJe(){return function(r){return rJe.refCount()(tJe.multicast(iJe)(r))}}m8.share=oJe});var $ge=P(g8=>{"use strict";Object.defineProperty(g8,"__esModule",{value:!0});var sJe=lF();function aJe(r,e,t){var n;return r&&typeof r=="object"?n=r:n={bufferSize:r,windowTime:e,refCount:!1,scheduler:t},function(i){return i.lift(cJe(n))}}g8.shareReplay=aJe;function cJe(r){var e=r.bufferSize,t=e===void 0?Number.POSITIVE_INFINITY:e,n=r.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,o=r.refCount,s=r.scheduler,a,c=0,u,l=!1,d=!1;return function(y){c++;var b;!a||l?(l=!1,a=new sJe.ReplaySubject(t,i,s),b=a.subscribe(this),u=y.subscribe({next:function(T){a.next(T)},error:function(T){l=!0,a.error(T)},complete:function(){d=!0,u=void 0,a.complete()}}),d&&(u=void 0)):b=a.subscribe(this),this.add(function(){c--,b.unsubscribe(),b=void 0,u&&!d&&o&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}});var Vge=P(Pk=>{"use strict";var uJe=Pk&&Pk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Pk,"__esModule",{value:!0});var lJe=mi(),dJe=lP();function fJe(r){return function(e){return e.lift(new pJe(r,e))}}Pk.single=fJe;var pJe=function(){function r(e,t){this.predicate=e,this.source=t}return r.prototype.call=function(e,t){return t.subscribe(new hJe(e,this.predicate,this.source))},r}(),hJe=function(r){uJe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.source=i,o.seenValue=!1,o.index=0,o}return e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var n=this.index++;this.predicate?this.tryNext(t,n):this.applySingleValue(t)},e.prototype.tryNext=function(t,n){try{this.predicate(t,n,this.source)&&this.applySingleValue(t)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new dJe.EmptyError)},e}(lJe.Subscriber)});var Gge=P(Rk=>{"use strict";var mJe=Rk&&Rk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Rk,"__esModule",{value:!0});var gJe=mi();function vJe(r){return function(e){return e.lift(new yJe(r))}}Rk.skip=vJe;var yJe=function(){function r(e){this.total=e}return r.prototype.call=function(e,t){return t.subscribe(new bJe(e,this.total))},r}(),bJe=function(r){mJe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(gJe.Subscriber)});var Yge=P(xk=>{"use strict";var _Je=xk&&xk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(xk,"__esModule",{value:!0});var Kge=mi(),wJe=uP();function SJe(r){return function(e){return e.lift(new CJe(r))}}xk.skipLast=SJe;var CJe=function(){function r(e){if(this._skipCount=e,this._skipCount<0)throw new wJe.ArgumentOutOfRangeError}return r.prototype.call=function(e,t){return this._skipCount===0?t.subscribe(new Kge.Subscriber(e)):t.subscribe(new DJe(e,this._skipCount))},r}(),DJe=function(r){_Je(e,r);function e(t,n){var i=r.call(this,t)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(t){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=t;else{var o=i%n,s=this._ring,a=s[o];s[o]=t,this.destination.next(a)}},e}(Kge.Subscriber)});var Jge=P(Ek=>{"use strict";var TJe=Ek&&Ek.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ek,"__esModule",{value:!0});var v8=Pc();function PJe(r){return function(e){return e.lift(new RJe(r))}}Ek.skipUntil=PJe;var RJe=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){return t.subscribe(new xJe(e,this.notifier))},r}(),xJe=function(r){TJe(e,r);function e(t,n){var i=r.call(this,t)||this;i.hasValue=!1;var o=new v8.SimpleInnerSubscriber(i);i.add(o),i.innerSubscription=o;var s=v8.innerSubscribe(n,o);return s!==o&&(i.add(s),i.innerSubscription=s),i}return e.prototype._next=function(t){this.hasValue&&r.prototype._next.call(this,t)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(v8.SimpleOuterSubscriber)});var Xge=P(Ok=>{"use strict";var EJe=Ok&&Ok.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ok,"__esModule",{value:!0});var OJe=mi();function IJe(r){return function(e){return e.lift(new kJe(r))}}Ok.skipWhile=IJe;var kJe=function(){function r(e){this.predicate=e}return r.prototype.call=function(e,t){return t.subscribe(new AJe(e,this.predicate))},r}(),AJe=function(r){EJe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(t){var n=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||n.next(t)},e.prototype.tryCallPredicate=function(t){try{var n=this.predicate(t,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(OJe.Subscriber)});var Zge=P(y8=>{"use strict";Object.defineProperty(y8,"__esModule",{value:!0});var Qge=FI(),MJe=sy();function LJe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r[r.length-1];return MJe.isScheduler(t)?(r.pop(),function(n){return Qge.concat(r,n,t)}):function(n){return Qge.concat(r,n)}}y8.startWith=LJe});var eve=P(Ik=>{"use strict";var NJe=Ik&&Ik.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ik,"__esModule",{value:!0});var FJe=No(),b8=u6(),qJe=qI(),jJe=function(r){NJe(e,r);function e(t,n,i){n===void 0&&(n=0),i===void 0&&(i=b8.asap);var o=r.call(this)||this;return o.source=t,o.delayTime=n,o.scheduler=i,(!qJe.isNumeric(n)||n<0)&&(o.delayTime=0),(!i||typeof i.schedule!="function")&&(o.scheduler=b8.asap),o}return e.create=function(t,n,i){return n===void 0&&(n=0),i===void 0&&(i=b8.asap),new e(t,n,i)},e.dispatch=function(t){var n=t.source,i=t.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(t){var n=this.delayTime,i=this.source,o=this.scheduler;return o.schedule(e.dispatch,n,{source:i,subscriber:t})},e}(FJe.Observable);Ik.SubscribeOnObservable=jJe});var tve=P(_8=>{"use strict";Object.defineProperty(_8,"__esModule",{value:!0});var zJe=eve();function UJe(r,e){return e===void 0&&(e=0),function(n){return n.lift(new HJe(r,e))}}_8.subscribeOn=UJe;var HJe=function(){function r(e,t){this.scheduler=e,this.delay=t}return r.prototype.call=function(e,t){return new zJe.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},r}()});var BF=P(kk=>{"use strict";var WJe=kk&&kk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(kk,"__esModule",{value:!0});var BJe=Hm(),$Je=ay(),w8=Pc();function rve(r,e){return typeof e=="function"?function(t){return t.pipe(rve(function(n,i){return $Je.from(r(n,i)).pipe(BJe.map(function(o,s){return e(n,o,i,s)}))}))}:function(t){return t.lift(new VJe(r))}}kk.switchMap=rve;var VJe=function(){function r(e){this.project=e}return r.prototype.call=function(e,t){return t.subscribe(new GJe(e,this.project))},r}(),GJe=function(r){WJe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(t){var n,i=this.index++;try{n=this.project(t,i)}catch(o){this.destination.error(o);return}this._innerSub(n)},e.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var i=new w8.SimpleInnerSubscriber(this),o=this.destination;o.add(i),this.innerSubscription=w8.innerSubscribe(t,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&r.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&r.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(w8.SimpleOuterSubscriber)});var nve=P(S8=>{"use strict";Object.defineProperty(S8,"__esModule",{value:!0});var KJe=BF(),YJe=nC();function JJe(){return KJe.switchMap(YJe.identity)}S8.switchAll=JJe});var ove=P(C8=>{"use strict";Object.defineProperty(C8,"__esModule",{value:!0});var ive=BF();function XJe(r,e){return e?ive.switchMap(function(){return r},e):ive.switchMap(function(){return r})}C8.switchMapTo=XJe});var sve=P(Ak=>{"use strict";var QJe=Ak&&Ak.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Ak,"__esModule",{value:!0});var D8=Pc();function ZJe(r){return function(e){return e.lift(new eXe(r))}}Ak.takeUntil=ZJe;var eXe=function(){function r(e){this.notifier=e}return r.prototype.call=function(e,t){var n=new tXe(e),i=D8.innerSubscribe(this.notifier,new D8.SimpleInnerSubscriber(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n},r}(),tXe=function(r){QJe(e,r);function e(t){var n=r.call(this,t)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(D8.SimpleOuterSubscriber)});var ave=P(Mk=>{"use strict";var rXe=Mk&&Mk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Mk,"__esModule",{value:!0});var nXe=mi();function iXe(r,e){return e===void 0&&(e=!1),function(t){return t.lift(new oXe(r,e))}}Mk.takeWhile=iXe;var oXe=function(){function r(e,t){this.predicate=e,this.inclusive=t}return r.prototype.call=function(e,t){return t.subscribe(new sXe(e,this.predicate,this.inclusive))},r}(),sXe=function(r){rXe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.predicate=n,o.inclusive=i,o.index=0,o}return e.prototype._next=function(t){var n=this.destination,i;try{i=this.predicate(t,this.index++)}catch(o){n.error(o);return}this.nextOrComplete(t,i)},e.prototype.nextOrComplete=function(t,n){var i=this.destination;n?i.next(t):(this.inclusive&&i.next(t),i.complete())},e}(nXe.Subscriber)});var cve=P(Lk=>{"use strict";var aXe=Lk&&Lk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Lk,"__esModule",{value:!0});var cXe=mi(),uC=pF(),uXe=eP();function lXe(r,e,t){return function(i){return i.lift(new dXe(r,e,t))}}Lk.tap=lXe;var dXe=function(){function r(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return r.prototype.call=function(e,t){return t.subscribe(new fXe(e,this.nextOrObserver,this.error,this.complete))},r}(),fXe=function(r){aXe(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s._tapNext=uC.noop,s._tapError=uC.noop,s._tapComplete=uC.noop,s._tapError=i||uC.noop,s._tapComplete=o||uC.noop,uXe.isFunction(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||uC.noop,s._tapError=n.error||uC.noop,s._tapComplete=n.complete||uC.noop),s}return e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(n){this.destination.error(n);return}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()},e}(cXe.Subscriber)});var P8=P(cT=>{"use strict";var pXe=cT&&cT.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(cT,"__esModule",{value:!0});var T8=Pc();cT.defaultThrottleConfig={leading:!0,trailing:!1};function hXe(r,e){return e===void 0&&(e=cT.defaultThrottleConfig),function(t){return t.lift(new mXe(r,!!e.leading,!!e.trailing))}}cT.throttle=hXe;var mXe=function(){function r(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return r.prototype.call=function(e,t){return t.subscribe(new gXe(e,this.durationSelector,this.leading,this.trailing))},r}(),gXe=function(r){pXe(e,r);function e(t,n,i,o){var s=r.call(this,t)||this;return s.destination=t,s.durationSelector=n,s._leading=i,s._trailing=o,s._hasValue=!1,s}return e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this,n=t._hasValue,i=t._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var n=this.tryDurationSelector(t);n&&this.add(this._throttled=T8.innerSubscribe(n,new T8.SimpleInnerSubscriber(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var t=this,n=t._throttled,i=t._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(T8.SimpleOuterSubscriber)});var uve=P(Nk=>{"use strict";var vXe=Nk&&Nk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Nk,"__esModule",{value:!0});var yXe=mi(),bXe=Up(),_Xe=P8();function wXe(r,e,t){return e===void 0&&(e=bXe.async),t===void 0&&(t=_Xe.defaultThrottleConfig),function(n){return n.lift(new SXe(r,e,t.leading,t.trailing))}}Nk.throttleTime=wXe;var SXe=function(){function r(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}return r.prototype.call=function(e,t){return t.subscribe(new CXe(e,this.duration,this.scheduler,this.leading,this.trailing))},r}(),CXe=function(r){vXe(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.duration=n,a.scheduler=i,a.leading=o,a.trailing=s,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(DXe,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(yXe.Subscriber);function DXe(r){var e=r.subscriber;e.clearThrottle()}});var dve=P($F=>{"use strict";Object.defineProperty($F,"__esModule",{value:!0});var TXe=Up(),PXe=HF(),RXe=yF(),xXe=Hm();function EXe(r){return r===void 0&&(r=TXe.async),function(e){return RXe.defer(function(){return e.pipe(PXe.scan(function(t,n){var i=t.current;return{value:n,current:r.now(),last:i}},{current:r.now(),value:void 0,last:void 0}),xXe.map(function(t){var n=t.current,i=t.last,o=t.value;return new lve(o,n-i)}))})}}$F.timeInterval=EXe;var lve=function(){function r(e,t){this.value=e,this.interval=t}return r}();$F.TimeInterval=lve});var x8=P(Fk=>{"use strict";var OXe=Fk&&Fk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Fk,"__esModule",{value:!0});var IXe=Up(),kXe=F5(),R8=Pc();function AXe(r,e,t){return t===void 0&&(t=IXe.async),function(n){var i=kXe.isDate(r),o=i?+r-t.now():Math.abs(r);return n.lift(new MXe(o,i,e,t))}}Fk.timeoutWith=AXe;var MXe=function(){function r(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new LXe(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},r}(),LXe=function(r){OXe(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=o,a.scheduler=s,a.scheduleTimeout(),a}return e.dispatchTimeout=function(t){var n=t.withObservable;t._unsubscribeAndRecycle(),t.add(R8.innerSubscribe(n,new R8.SimpleInnerSubscriber(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),r.prototype._next.call(this,t)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(R8.SimpleOuterSubscriber)});var fve=P(E8=>{"use strict";Object.defineProperty(E8,"__esModule",{value:!0});var NXe=Up(),FXe=m6(),qXe=x8(),jXe=uF();function zXe(r,e){return e===void 0&&(e=NXe.async),qXe.timeoutWith(r,jXe.throwError(new FXe.TimeoutError),e)}E8.timeout=zXe});var hve=P(VF=>{"use strict";Object.defineProperty(VF,"__esModule",{value:!0});var UXe=Up(),HXe=Hm();function WXe(r){return r===void 0&&(r=UXe.async),HXe.map(function(e){return new pve(e,r.now())})}VF.timestamp=WXe;var pve=function(){function r(e,t){this.value=e,this.timestamp=t}return r}();VF.Timestamp=pve});var mve=P(O8=>{"use strict";Object.defineProperty(O8,"__esModule",{value:!0});var BXe=yk();function $Xe(r,e,t){return t===0?[e]:(r.push(e),r)}function VXe(){return BXe.reduce($Xe,[])}O8.toArray=VXe});var vve=P(qk=>{"use strict";var GXe=qk&&qk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(qk,"__esModule",{value:!0});var gve=If(),I8=Pc();function KXe(r){return function(t){return t.lift(new YXe(r))}}qk.window=KXe;var YXe=function(){function r(e){this.windowBoundaries=e}return r.prototype.call=function(e,t){var n=new JXe(e),i=t.subscribe(n);return i.closed||n.add(I8.innerSubscribe(this.windowBoundaries,new I8.SimpleInnerSubscriber(n))),i},r}(),JXe=function(r){GXe(e,r);function e(t){var n=r.call(this,t)||this;return n.window=new gve.Subject,t.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var n=this.destination,i=this.window=new gve.Subject;n.next(i)},e}(I8.SimpleOuterSubscriber)});var bve=P(jk=>{"use strict";var XXe=jk&&jk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(jk,"__esModule",{value:!0});var QXe=mi(),yve=If();function ZXe(r,e){return e===void 0&&(e=0),function(n){return n.lift(new eQe(r,e))}}jk.windowCount=ZXe;var eQe=function(){function r(e,t){this.windowSize=e,this.startWindowEvery=t}return r.prototype.call=function(e,t){return t.subscribe(new tQe(e,this.windowSize,this.startWindowEvery))},r}(),tQe=function(r){XXe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.destination=t,o.windowSize=n,o.startWindowEvery=i,o.windows=[new yve.Subject],o.count=0,t.next(o.windows[0]),o}return e.prototype._next=function(t){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,o=this.windowSize,s=this.windows,a=s.length,c=0;c<a&&!this.closed;c++)s[c].next(t);var u=this.count-o+1;if(u>=0&&u%n===0&&!this.closed&&s.shift().complete(),++this.count%n===0&&!this.closed){var l=new yve.Subject;s.push(l),i.next(l)}},e.prototype._error=function(t){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(QXe.Subscriber)});var Cve=P(zk=>{"use strict";var wve=zk&&zk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(zk,"__esModule",{value:!0});var rQe=If(),nQe=Up(),iQe=mi(),_ve=qI(),k8=sy();function oQe(r){var e=nQe.async,t=null,n=Number.POSITIVE_INFINITY;return k8.isScheduler(arguments[3])&&(e=arguments[3]),k8.isScheduler(arguments[2])?e=arguments[2]:_ve.isNumeric(arguments[2])&&(n=Number(arguments[2])),k8.isScheduler(arguments[1])?e=arguments[1]:_ve.isNumeric(arguments[1])&&(t=Number(arguments[1])),function(o){return o.lift(new sQe(r,t,n,e))}}zk.windowTime=oQe;var sQe=function(){function r(e,t,n,i){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=i}return r.prototype.call=function(e,t){return t.subscribe(new cQe(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},r}(),aQe=function(r){wve(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return e.prototype.next=function(t){this._numberOfNextedValues++,r.prototype.next.call(this,t)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(rQe.Subject),cQe=function(r){wve(e,r);function e(t,n,i,o,s){var a=r.call(this,t)||this;a.destination=t,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=o,a.scheduler=s,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},l={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:s};a.add(s.schedule(Sve,n,u)),a.add(s.schedule(lQe,i,l))}else{var d={subscriber:a,window:c,windowTimeSpan:n};a.add(s.schedule(uQe,n,d))}return a}return e.prototype._next=function(t){for(var n=this.windows,i=n.length,o=0;o<i;o++){var s=n[o];s.closed||(s.next(t),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(t){for(var n=this.windows;n.length>0;)n.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var n=t.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new aQe;this.windows.push(t);var n=this.destination;return n.next(t),t},e.prototype.closeWindow=function(t){t.complete();var n=this.windows;n.splice(n.indexOf(t),1)},e}(iQe.Subscriber);function uQe(r){var e=r.subscriber,t=r.windowTimeSpan,n=r.window;n&&e.closeWindow(n),r.window=e.openWindow(),this.schedule(r,t)}function lQe(r){var e=r.windowTimeSpan,t=r.subscriber,n=r.scheduler,i=r.windowCreationInterval,o=t.openWindow(),s=this,a={action:s,subscription:null},c={subscriber:t,window:o,context:a};a.subscription=n.schedule(Sve,e,c),s.add(a.subscription),s.schedule(r,i)}function Sve(r){var e=r.subscriber,t=r.window,n=r.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(t)}});var Tve=P(Uk=>{"use strict";var dQe=Uk&&Uk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Uk,"__esModule",{value:!0});var fQe=If(),pQe=ml(),hQe=oC(),Dve=sC();function mQe(r,e){return function(t){return t.lift(new gQe(r,e))}}Uk.windowToggle=mQe;var gQe=function(){function r(e,t){this.openings=e,this.closingSelector=t}return r.prototype.call=function(e,t){return t.subscribe(new vQe(e,this.openings,this.closingSelector))},r}(),vQe=function(r){dQe(e,r);function e(t,n,i){var o=r.call(this,t)||this;return o.openings=n,o.closingSelector=i,o.contexts=[],o.add(o.openSubscription=Dve.subscribeToResult(o,n,n)),o}return e.prototype._next=function(t){var n=this.contexts;if(n)for(var i=n.length,o=0;o<i;o++)n[o].window.next(t)},e.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,o=-1;++o<i;){var s=n[o];s.window.error(t),s.subscription.unsubscribe()}r.prototype._error.call(this,t)},e.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.complete(),o.subscription.unsubscribe()}r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,i=-1;++i<n;){var o=t[i];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,n,i,o,s){if(t===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(y){return this.error(y)}var u=new fQe.Subject,l=new pQe.Subscription,d={window:u,subscription:l};this.contexts.push(d);var f=Dve.subscribeToResult(this,a,d);f.closed?this.closeWindow(this.contexts.length-1):(f.context=d,l.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(t!==-1){var n=this.contexts,i=n[t],o=i.window,s=i.subscription;n.splice(t,1),o.complete(),s.unsubscribe()}},e}(hQe.OuterSubscriber)});var Pve=P(Hk=>{"use strict";var yQe=Hk&&Hk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Hk,"__esModule",{value:!0});var bQe=If(),_Qe=oC(),wQe=sC();function SQe(r){return function(t){return t.lift(new CQe(r))}}Hk.windowWhen=SQe;var CQe=function(){function r(e){this.closingSelector=e}return r.prototype.call=function(e,t){return t.subscribe(new DQe(e,this.closingSelector))},r}(),DQe=function(r){yQe(e,r);function e(t,n){var i=r.call(this,t)||this;return i.destination=t,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(t,n,i,o,s){this.openWindow(s)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){t===void 0&&(t=null),t&&(this.remove(t),t.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new bQe.Subject;this.destination.next(i);var o;try{var s=this.closingSelector;o=s()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=wQe.subscribeToResult(this,o))},e}(_Qe.OuterSubscriber)});var Rve=P(Wk=>{"use strict";var TQe=Wk&&Wk.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Wk,"__esModule",{value:!0});var PQe=oC(),RQe=sC();function xQe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){var n;typeof r[r.length-1]=="function"&&(n=r.pop());var i=r;return t.lift(new EQe(i,n))}}Wk.withLatestFrom=xQe;var EQe=function(){function r(e,t){this.observables=e,this.project=t}return r.prototype.call=function(e,t){return t.subscribe(new OQe(e,this.observables,this.project))},r}(),OQe=function(r){TQe(e,r);function e(t,n,i){var o=r.call(this,t)||this;o.observables=n,o.project=i,o.toRespond=[];var s=n.length;o.values=new Array(s);for(var a=0;a<s;a++)o.toRespond.push(a);for(var a=0;a<s;a++){var c=n[a];o.add(RQe.subscribeToResult(o,c,void 0,a))}return o}return e.prototype.notifyNext=function(t,n,i){this.values[i]=n;var o=this.toRespond;if(o.length>0){var s=o.indexOf(i);s!==-1&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(this.toRespond.length===0){var n=[t].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(t){var n;try{n=this.project.apply(this,t)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(PQe.OuterSubscriber)});var xve=P(A8=>{"use strict";Object.defineProperty(A8,"__esModule",{value:!0});var IQe=CF();function kQe(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(n){return n.lift.call(IQe.zip.apply(void 0,[n].concat(r)))}}A8.zip=kQe});var Eve=P(M8=>{"use strict";Object.defineProperty(M8,"__esModule",{value:!0});var AQe=CF();function MQe(r){return function(e){return e.lift(new AQe.ZipOperator(r))}}M8.zipAll=MQe});var Bk=P(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});var LQe=D5();or.audit=LQe.audit;var NQe=pme();or.auditTime=NQe.auditTime;var FQe=hme();or.buffer=FQe.buffer;var qQe=vme();or.bufferCount=qQe.bufferCount;var jQe=_me();or.bufferTime=jQe.bufferTime;var zQe=Sme();or.bufferToggle=zQe.bufferToggle;var UQe=Cme();or.bufferWhen=UQe.bufferWhen;var HQe=Dme();or.catchError=HQe.catchError;var WQe=Tme();or.combineAll=WQe.combineAll;var BQe=Pme();or.combineLatest=BQe.combineLatest;var $Qe=Rme();or.concat=$Qe.concat;var VQe=j6();or.concatAll=VQe.concatAll;var GQe=A5();or.concatMap=GQe.concatMap;var KQe=xme();or.concatMapTo=KQe.concatMapTo;var YQe=Eme();or.count=YQe.count;var JQe=Ome();or.debounce=JQe.debounce;var XQe=Ime();or.debounceTime=XQe.debounceTime;var QQe=mP();or.defaultIfEmpty=QQe.defaultIfEmpty;var ZQe=Ame();or.delay=ZQe.delay;var eZe=Lme();or.delayWhen=eZe.delayWhen;var tZe=Nme();or.dematerialize=tZe.dematerialize;var rZe=qme();or.distinct=rZe.distinct;var nZe=z5();or.distinctUntilChanged=nZe.distinctUntilChanged;var iZe=jme();or.distinctUntilKeyChanged=iZe.distinctUntilKeyChanged;var oZe=Ume();or.elementAt=oZe.elementAt;var sZe=Hme();or.endWith=sZe.endWith;var aZe=Wme();or.every=aZe.every;var cZe=Bme();or.exhaust=cZe.exhaust;var uZe=Vme();or.exhaustMap=uZe.exhaustMap;var lZe=Yme();or.expand=lZe.expand;var dZe=QD();or.filter=dZe.filter;var fZe=Jme();or.finalize=fZe.finalize;var pZe=G5();or.find=pZe.find;var hZe=Zme();or.findIndex=hZe.findIndex;var mZe=ege();or.first=mZe.first;var gZe=Y4();or.groupBy=gZe.groupBy;var vZe=tge();or.ignoreElements=vZe.ignoreElements;var yZe=rge();or.isEmpty=yZe.isEmpty;var bZe=nge();or.last=bZe.last;var _Ze=Hm();or.map=_Ze.map;var wZe=ige();or.mapTo=wZe.mapTo;var SZe=oge();or.materialize=SZe.materialize;var CZe=uge();or.max=CZe.max;var DZe=lge();or.merge=DZe.merge;var TZe=vF();or.mergeAll=TZe.mergeAll;var Ove=NI();or.mergeMap=Ove.mergeMap;or.flatMap=Ove.flatMap;var PZe=fge();or.mergeMapTo=PZe.mergeMapTo;var RZe=mge();or.mergeScan=RZe.mergeScan;var xZe=gge();or.min=xZe.min;var EZe=sT();or.multicast=EZe.multicast;var OZe=c6();or.observeOn=OZe.observeOn;var IZe=_ge();or.onErrorResumeNext=IZe.onErrorResumeNext;var kZe=wge();or.pairwise=kZe.pairwise;var AZe=Cge();or.partition=AZe.partition;var MZe=Dge();or.pluck=MZe.pluck;var LZe=Rge();or.publish=LZe.publish;var NZe=xge();or.publishBehavior=NZe.publishBehavior;var FZe=Ege();or.publishLast=FZe.publishLast;var qZe=Oge();or.publishReplay=qZe.publishReplay;var jZe=Ige();or.race=jZe.race;var zZe=yk();or.reduce=zZe.reduce;var UZe=Age();or.repeat=UZe.repeat;var HZe=Mge();or.repeatWhen=HZe.repeatWhen;var WZe=Lge();or.retry=WZe.retry;var BZe=Nge();or.retryWhen=BZe.retryWhen;var $Ze=sF();or.refCount=$Ze.refCount;var VZe=Fge();or.sample=VZe.sample;var GZe=qge();or.sampleTime=GZe.sampleTime;var KZe=HF();or.scan=KZe.scan;var YZe=Wge();or.sequenceEqual=YZe.sequenceEqual;var JZe=Bge();or.share=JZe.share;var XZe=$ge();or.shareReplay=XZe.shareReplay;var QZe=Vge();or.single=QZe.single;var ZZe=Gge();or.skip=ZZe.skip;var eet=Yge();or.skipLast=eet.skipLast;var tet=Jge();or.skipUntil=tet.skipUntil;var ret=Xge();or.skipWhile=ret.skipWhile;var net=Zge();or.startWith=net.startWith;var iet=tve();or.subscribeOn=iet.subscribeOn;var oet=nve();or.switchAll=oet.switchAll;var set=BF();or.switchMap=set.switchMap;var aet=ove();or.switchMapTo=aet.switchMapTo;var cet=zF();or.take=cet.take;var uet=UF();or.takeLast=uet.takeLast;var det=sve();or.takeUntil=det.takeUntil;var fet=ave();or.takeWhile=fet.takeWhile;var pet=cve();or.tap=pet.tap;var het=P8();or.throttle=het.throttle;var met=uve();or.throttleTime=met.throttleTime;var get=sk();or.throwIfEmpty=get.throwIfEmpty;var vet=dve();or.timeInterval=vet.timeInterval;var yet=fve();or.timeout=yet.timeout;var bet=x8();or.timeoutWith=bet.timeoutWith;var _et=hve();or.timestamp=_et.timestamp;var wet=mve();or.toArray=wet.toArray;var Cet=vve();or.window=Cet.window;var Det=bve();or.windowCount=Det.windowCount;var Tet=Cve();or.windowTime=Tet.windowTime;var Pet=Tve();or.windowToggle=Pet.windowToggle;var Ret=Pve();or.windowWhen=Ret.windowWhen;var xet=Rve();or.withLatestFrom=xet.withLatestFrom;var Eet=xve();or.zip=Eet.zip;var Oet=Eve();or.zipAll=Oet.zipAll});var Mve=P((ZLt,Ave)=>{var yP=1e3,bP=yP*60,_P=bP*60,uT=_P*24,Iet=uT*7,ket=uT*365.25;Ave.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return Aet(r);if(t==="number"&&isFinite(r))return e.long?Let(r):Met(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function Aet(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(e){var t=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return t*ket;case"weeks":case"week":case"w":return t*Iet;case"days":case"day":case"d":return t*uT;case"hours":case"hour":case"hrs":case"hr":case"h":return t*_P;case"minutes":case"minute":case"mins":case"min":case"m":return t*bP;case"seconds":case"second":case"secs":case"sec":case"s":return t*yP;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function Met(r){var e=Math.abs(r);return e>=uT?Math.round(r/uT)+"d":e>=_P?Math.round(r/_P)+"h":e>=bP?Math.round(r/bP)+"m":e>=yP?Math.round(r/yP)+"s":r+"ms"}function Let(r){var e=Math.abs(r);return e>=uT?GF(r,e,uT,"day"):e>=_P?GF(r,e,_P,"hour"):e>=bP?GF(r,e,bP,"minute"):e>=yP?GF(r,e,yP,"second"):r+" ms"}function GF(r,e,t,n){var i=e>=t*1.5;return Math.round(r/t)+" "+n+(i?"s":"")}});var N8=P((eNt,Lve)=>{function Net(r){t.debug=t,t.default=t,t.coerce=c,t.disable=o,t.enable=i,t.enabled=s,t.humanize=Mve(),t.destroy=u,Object.keys(r).forEach(l=>{t[l]=r[l]}),t.names=[],t.skips=[],t.formatters={};function e(l){let d=0;for(let f=0;f<l.length;f++)d=(d<<5)-d+l.charCodeAt(f),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(l){let d,f=null,y,b;function T(...k){if(!T.enabled)return;let z=T,A=Number(new Date),U=A-(d||A);z.diff=U,z.prev=d,z.curr=A,d=A,k[0]=t.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let ne=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(ve,$)=>{if(ve==="%%")return"%";ne++;let W=t.formatters[$];if(typeof W=="function"){let ee=k[ne];ve=W.call(z,ee),k.splice(ne,1),ne--}return ve}),t.formatArgs.call(z,k),(z.log||t.log).apply(z,k)}return T.namespace=l,T.useColors=t.useColors(),T.color=t.selectColor(l),T.extend=n,T.destroy=t.destroy,Object.defineProperty(T,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(y!==t.namespaces&&(y=t.namespaces,b=t.enabled(l)),b),set:k=>{f=k}}),typeof t.init=="function"&&t.init(T),T}function n(l,d){let f=t(this.namespace+(typeof d>"u"?":":d)+l);return f.log=this.log,f}function i(l){t.save(l),t.namespaces=l,t.names=[],t.skips=[];let d,f=(typeof l=="string"?l:"").split(/[\s,]+/),y=f.length;for(d=0;d<y;d++)f[d]&&(l=f[d].replace(/\*/g,".*?"),l[0]==="-"?t.skips.push(new RegExp("^"+l.slice(1)+"$")):t.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...t.names.map(a),...t.skips.map(a).map(d=>"-"+d)].join(",");return t.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let d,f;for(d=0,f=t.skips.length;d<f;d++)if(t.skips[d].test(l))return!1;for(d=0,f=t.names.length;d<f;d++)if(t.names[d].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}Lve.exports=Net});var Nve=P((Wm,KF)=>{Wm.formatArgs=qet;Wm.save=jet;Wm.load=zet;Wm.useColors=Fet;Wm.storage=Uet();Wm.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Wm.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Fet(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function qet(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+KF.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,n=0;r[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(t++,i==="%c"&&(n=t))}),r.splice(n,0,e)}Wm.log=console.debug||console.log||(()=>{});function jet(r){try{r?Wm.storage.setItem("debug",r):Wm.storage.removeItem("debug")}catch{}}function zet(){let r;try{r=Wm.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function Uet(){try{return localStorage}catch{}}KF.exports=N8()(Wm);var{formatters:Het}=KF.exports;Het.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var qve=P((tNt,Fve)=>{"use strict";Fve.exports=(r,e)=>{e=e||process.argv;let t=r.startsWith("-")?"":r.length===1?"-":"--",n=e.indexOf(t+r),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var zve=P((rNt,jve)=>{"use strict";var Wet=require("os"),cy=qve(),Af=process.env,wP;cy("no-color")||cy("no-colors")||cy("color=false")?wP=!1:(cy("color")||cy("colors")||cy("color=true")||cy("color=always"))&&(wP=!0);"FORCE_COLOR"in Af&&(wP=Af.FORCE_COLOR.length===0||parseInt(Af.FORCE_COLOR,10)!==0);function Bet(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function $et(r){if(wP===!1)return 0;if(cy("color=16m")||cy("color=full")||cy("color=truecolor"))return 3;if(cy("color=256"))return 2;if(r&&!r.isTTY&&wP!==!0)return 0;let e=wP?1:0;if(process.platform==="win32"){let t=Wet.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in Af)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in Af)||Af.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Af)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Af.TEAMCITY_VERSION)?1:0;if(Af.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Af){let t=parseInt((Af.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Af.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Af.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Af.TERM)||"COLORTERM"in Af?1:(Af.TERM==="dumb",e)}function F8(r){let e=$et(r);return Bet(e)}jve.exports={supportsColor:F8,stdout:F8(process.stdout),stderr:F8(process.stderr)}});var Hve=P((Ql,JF)=>{var Vet=require("tty"),YF=require("util");Ql.init=Zet;Ql.log=Jet;Ql.formatArgs=Ket;Ql.save=Xet;Ql.load=Qet;Ql.useColors=Get;Ql.destroy=YF.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ql.colors=[6,2,3,4,5,1];try{let r=zve();r&&(r.stderr||r).level>=2&&(Ql.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ql.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,e)=>{let t=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[t]=n,r},{});function Get(){return"colors"in Ql.inspectOpts?!!Ql.inspectOpts.colors:Vet.isatty(process.stderr.fd)}function Ket(r){let{namespace:e,useColors:t}=this;if(t){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;r[0]=o+r[0].split(`
`).join(`
`+o),r.push(i+"m+"+JF.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=Yet()+e+" "+r[0]}function Yet(){return Ql.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Jet(...r){return process.stderr.write(YF.formatWithOptions(Ql.inspectOpts,...r)+`
`)}function Xet(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function Qet(){return process.env.DEBUG}function Zet(r){r.inspectOpts={};let e=Object.keys(Ql.inspectOpts);for(let t=0;t<e.length;t++)r.inspectOpts[e[t]]=Ql.inspectOpts[e[t]]}JF.exports=N8()(Ql);var{formatters:Uve}=JF.exports;Uve.o=function(r){return this.inspectOpts.colors=this.useColors,YF.inspect(r,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};Uve.O=function(r){return this.inspectOpts.colors=this.useColors,YF.inspect(r,this.inspectOpts)}});var XF=P((nNt,q8)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?q8.exports=Nve():q8.exports=Hve()});var $ve=P(zh=>{"use strict";var ett=zh&&zh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ttt=zh&&zh.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Wve=zh&&zh.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&ett(e,r,t);return ttt(e,r),e};Object.defineProperty(zh,"__esModule",{value:!0});zh.req=zh.json=zh.toBuffer=void 0;var rtt=Wve(require("http")),ntt=Wve(require("https"));async function Bve(r){let e=0,t=[];for await(let n of r)e+=n.length,t.push(n);return Buffer.concat(t,e)}zh.toBuffer=Bve;async function itt(r){let t=(await Bve(r)).toString("utf8");try{return JSON.parse(t)}catch(n){let i=n;throw i.message+=` (input: ${t})`,i}}zh.json=itt;function ott(r,e={}){let n=((typeof r=="string"?r:r.href).startsWith("https:")?ntt:rtt).request(r,e),i=new Promise((o,s)=>{n.once("response",o).once("error",s).end()});return n.then=i.then.bind(i),n}zh.req=ott});var z8=P(Bm=>{"use strict";var Gve=Bm&&Bm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),stt=Bm&&Bm.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),att=Bm&&Bm.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Gve(e,r,t);return stt(e,r),e},ctt=Bm&&Bm.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Gve(e,r,t)};Object.defineProperty(Bm,"__esModule",{value:!0});Bm.Agent=void 0;var Vve=att(require("http"));ctt($ve(),Bm);var xb=Symbol("AgentBaseInternalState"),j8=class extends Vve.Agent{constructor(e){super(e),this[xb]={}}isSecureEndpoint(e){if(e){if(typeof e.secureEndpoint=="boolean")return e.secureEndpoint;if(typeof e.protocol=="string")return e.protocol==="https:"}let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(n=>n.indexOf("(https.js:")!==-1||n.indexOf("node:https:")!==-1)}createSocket(e,t,n){let i={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then(()=>this.connect(e,i)).then(o=>{if(o instanceof Vve.Agent)return o.addRequest(e,i);this[xb].currentSocket=o,super.createSocket(e,t,n)},n)}createConnection(){let e=this[xb].currentSocket;if(this[xb].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[xb].defaultPort??(this.protocol==="https:"?443:80)}set defaultPort(e){this[xb]&&(this[xb].defaultPort=e)}get protocol(){return this[xb].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[xb]&&(this[xb].protocol=e)}};Bm.Agent=j8});var Yve=P(Qg=>{"use strict";var utt=Qg&&Qg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ltt=Qg&&Qg.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Kve=Qg&&Qg.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&utt(e,r,t);return ltt(e,r),e},dtt=Qg&&Qg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qg,"__esModule",{value:!0});Qg.HttpProxyAgent=void 0;var ftt=Kve(require("net")),ptt=Kve(require("tls")),htt=dtt(XF()),mtt=require("events"),gtt=z8(),SP=(0,htt.default)("http-proxy-agent"),QF=class extends gtt.Agent{constructor(e,t){super(t),this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},SP("Creating new HttpProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={...t?vtt(t,"headers"):null,host:n,port:i}}addRequest(e,t){e._header=null,this.setRequestProps(e,t),super.addRequest(e,t)}setRequestProps(e,t){let{proxy:n}=this,i=t.secureEndpoint?"https:":"http:",o=e.getHeader("host")||"localhost",s=`${i}//${o}`,a=new URL(e.path,s);t.port!==80&&(a.port=String(t.port)),e.path=String(a);let c=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){let u=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;c["Proxy-Authorization"]=`Basic ${Buffer.from(u).toString("base64")}`}c["Proxy-Connection"]||(c["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let u of Object.keys(c)){let l=c[u];l&&e.setHeader(u,l)}}async connect(e,t){e._header=null,e.path.includes("://")||this.setRequestProps(e,t);let n,i;SP("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(SP("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,i=n.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+n.substring(i),SP("Output buffer: %o",e.outputData[0].data));let o;return this.proxy.protocol==="https:"?(SP("Creating `tls.Socket`: %o",this.connectOpts),o=ptt.connect(this.connectOpts)):(SP("Creating `net.Socket`: %o",this.connectOpts),o=ftt.connect(this.connectOpts)),await(0,mtt.once)(o,"connect"),o}};QF.protocols=["http","https"];Qg.HttpProxyAgent=QF;function vtt(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var Jve=P(CP=>{"use strict";var ytt=CP&&CP.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(CP,"__esModule",{value:!0});CP.parseProxyResponse=void 0;var btt=ytt(XF()),ZF=(0,btt.default)("https-proxy-agent:parse-proxy-response");function _tt(r){return new Promise((e,t)=>{let n=0,i=[];function o(){let l=r.read();l?u(l):r.once("readable",o)}function s(){r.removeListener("end",a),r.removeListener("error",c),r.removeListener("readable",o)}function a(){s(),ZF("onend"),t(new Error("Proxy connection ended before receiving CONNECT response"))}function c(l){s(),ZF("onerror %o",l),t(l)}function u(l){i.push(l),n+=l.length;let d=Buffer.concat(i,n),f=d.indexOf(`\r
\r
`);if(f===-1){ZF("have not received end of HTTP headers yet..."),o();return}let y=d.slice(0,f).toString("ascii").split(`\r
`),b=y.shift();if(!b)return r.destroy(),t(new Error("No header received from proxy CONNECT response"));let T=b.split(" "),k=+T[1],z=T.slice(2).join(" "),A={};for(let U of y){if(!U)continue;let ne=U.indexOf(":");if(ne===-1)return r.destroy(),t(new Error(`Invalid header from proxy CONNECT response: "${U}"`));let de=U.slice(0,ne).toLowerCase(),ve=U.slice(ne+1).trimStart(),$=A[de];typeof $=="string"?A[de]=[$,ve]:Array.isArray($)?$.push(ve):A[de]=ve}ZF("got proxy server response: %o %o",b,A),s(),e({connect:{statusCode:k,statusText:z,headers:A},buffered:d})}r.on("error",c),r.on("end",a),o()})}CP.parseProxyResponse=_tt});var tye=P(Zg=>{"use strict";var wtt=Zg&&Zg.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Stt=Zg&&Zg.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Zve=Zg&&Zg.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&wtt(e,r,t);return Stt(e,r),e},eye=Zg&&Zg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zg,"__esModule",{value:!0});Zg.HttpsProxyAgent=void 0;var $k=Zve(require("net")),Xve=Zve(require("tls")),Ctt=eye(require("assert")),Dtt=eye(XF()),Ttt=z8(),Ptt=Jve(),Vk=(0,Dtt.default)("https-proxy-agent"),eq=class extends Ttt.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy=typeof e=="string"?new URL(e):e,this.proxyHeaders=t?.headers??{},Vk("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):this.proxy.protocol==="https:"?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?Qve(t,"headers"):null,host:n,port:i}}async connect(e,t){let{proxy:n}=this;if(!t.host)throw new TypeError('No "host" provided');let i;if(n.protocol==="https:"){Vk("Creating `tls.Socket`: %o",this.connectOpts);let f=this.connectOpts.servername||this.connectOpts.host;i=Xve.connect({...this.connectOpts,servername:f&&$k.isIP(f)?void 0:f})}else Vk("Creating `net.Socket`: %o",this.connectOpts),i=$k.connect(this.connectOpts);let o=typeof this.proxyHeaders=="function"?this.proxyHeaders():{...this.proxyHeaders},s=$k.isIPv6(t.host)?`[${t.host}]`:t.host,a=`CONNECT ${s}:${t.port} HTTP/1.1\r
`;if(n.username||n.password){let f=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(f).toString("base64")}`}o.Host=`${s}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(let f of Object.keys(o))a+=`${f}: ${o[f]}\r
`;let c=(0,Ptt.parseProxyResponse)(i);i.write(`${a}\r
`);let{connect:u,buffered:l}=await c;if(e.emit("proxyConnect",u),this.emit("proxyConnect",u,e),u.statusCode===200){if(e.once("socket",Rtt),t.secureEndpoint){Vk("Upgrading socket connection to TLS");let f=t.servername||t.host;return Xve.connect({...Qve(t,"host","path","port"),socket:i,servername:$k.isIP(f)?void 0:f})}return i}i.destroy();let d=new $k.Socket({writable:!1});return d.readable=!0,e.once("socket",f=>{Vk("Replaying proxy buffer for failed request"),(0,Ctt.default)(f.listenerCount("data")>0),f.push(l),f.push(null)}),d}};eq.protocols=["http","https"];Zg.HttpsProxyAgent=eq;function Rtt(r){r.resume()}function Qve(r,...e){let t={},n;for(n in r)e.includes(n)||(t[n]=r[n]);return t}});var lye=P((gNt,uye)=>{uye.exports=rq;function rq(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}rq.prototype.go=function(r){this.pending<this.max?cye(this,r):this.waiting.push(r)};rq.prototype.wait=function(r){this.pending===0?r(this.error):this.listeners.push(r)};rq.prototype.hold=function(){return aye(this)};function aye(r){r.pending+=1;var e=!1;return t;function t(i){if(e)throw new Error("callback called twice");if(e=!0,r.error=r.error||i,r.pending-=1,r.waiting.length>0&&r.pending<r.max)cye(r,r.waiting.shift());else if(r.pending===0){var o=r.listeners;r.listeners=[],o.forEach(n)}}function n(i){i(r.error)}}function cye(r,e){e(aye(r))}});var fye=P(Kk=>{var Gk=require("fs"),nq=require("util"),H8=require("stream"),dye=H8.Readable,W8=H8.Writable,Ett=H8.PassThrough,Ott=lye(),iq=require("events").EventEmitter;Kk.createFromBuffer=Itt;Kk.createFromFd=ktt;Kk.BufferSlicer=uw;Kk.FdSlicer=cw;nq.inherits(cw,iq);function cw(r,e){e=e||{},iq.call(this),this.fd=r,this.pend=new Ott,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}cw.prototype.read=function(r,e,t,n,i){var o=this;o.pend.go(function(s){Gk.read(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};cw.prototype.write=function(r,e,t,n,i){var o=this;o.pend.go(function(s){Gk.write(o.fd,r,e,t,n,function(a,c,u){s(),i(a,c,u)})})};cw.prototype.createReadStream=function(r){return new oq(this,r)};cw.prototype.createWriteStream=function(r){return new sq(this,r)};cw.prototype.ref=function(){this.refCount+=1};cw.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.autoClose&&Gk.close(r.fd,e);function e(t){t?r.emit("error",t):r.emit("close")}};nq.inherits(oq,dye);function oq(r,e){e=e||{},dye.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}oq.prototype._read=function(r){var e=this;if(!e.destroyed){var t=Math.min(e._readableState.highWaterMark,r);if(e.endOffset!=null&&(t=Math.min(t,e.endOffset-e.pos)),t<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=new Buffer(t);Gk.read(e.context.fd,i,0,t,e.pos,function(o,s){o?e.destroy(o):s===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=s,e.push(i.slice(0,s))),n()})})}};oq.prototype.destroy=function(r){this.destroyed||(r=r||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",r),this.context.unref())};nq.inherits(sq,W8);function sq(r,e){e=e||{},W8.call(this,e),this.context=r,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}sq.prototype._write=function(r,e,t){var n=this;if(!n.destroyed){if(n.pos+r.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),t(i);return}n.context.pend.go(function(o){if(n.destroyed)return o();Gk.write(n.context.fd,r,0,r.length,n.pos,function(s,a){s?(n.destroy(),o(),t(s)):(n.bytesWritten+=a,n.pos+=a,n.emit("progress"),o(),t())})})}};sq.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};nq.inherits(uw,iq);function uw(r,e){iq.call(this),e=e||{},this.refCount=0,this.buffer=r,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}uw.prototype.read=function(r,e,t,n,i){var o=n+t,s=o-this.buffer.length,a=s>0?s:t;this.buffer.copy(r,e,n,o),setImmediate(function(){i(null,a)})};uw.prototype.write=function(r,e,t,n,i){r.copy(this.buffer,n,e,e+t),setImmediate(function(){i(null,t,r)})};uw.prototype.createReadStream=function(r){r=r||{};var e=new Ett(r);e.destroyed=!1,e.start=r.start||0,e.endOffset=r.end,e.pos=e.endOffset||this.buffer.length;for(var t=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=t.length){n<t.length&&e.write(t.slice(n,t.length));break}e.write(t.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};uw.prototype.createWriteStream=function(r){var e=this;r=r||{};var t=new W8(r);return t.start=r.start||0,t.endOffset=r.end==null?this.buffer.length:+r.end,t.bytesWritten=0,t.pos=t.start,t.destroyed=!1,t._write=function(n,i,o){if(!t.destroyed){var s=t.pos+n.length;if(s>t.endOffset){var a=new Error("maximum file length exceeded");a.code="ETOOBIG",t.destroyed=!0,o(a);return}n.copy(e.buffer,t.pos,0,n.length),t.bytesWritten+=n.length,t.pos=s,t.emit("progress"),o()}},t.destroy=function(){t.destroyed=!0},t};uw.prototype.ref=function(){this.refCount+=1};uw.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Itt(r,e){return new uw(r,e)}function ktt(r,e){return new cw(r,e)}});var mye=P((yNt,hye)=>{var lC=require("buffer").Buffer,B8=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(B8=new Int32Array(B8));function pye(r){if(lC.isBuffer(r))return r;var e=typeof lC.alloc=="function"&&typeof lC.from=="function";if(typeof r=="number")return e?lC.alloc(r):new lC(r);if(typeof r=="string")return e?lC.from(r):new lC(r);throw new Error("input must be buffer, number, or string, received "+typeof r)}function Att(r){var e=pye(4);return e.writeInt32BE(r,0),e}function $8(r,e){r=pye(r),lC.isBuffer(e)&&(e=e.readUInt32BE(0));for(var t=~~e^-1,n=0;n<r.length;n++)t=B8[(t^r[n])&255]^t>>>8;return t^-1}function V8(){return Att($8.apply(null,arguments))}V8.signed=function(){return $8.apply(null,arguments)};V8.unsigned=function(){return $8.apply(null,arguments)>>>0};hye.exports=V8});var Sye=P(Ob=>{var G8=require("fs"),Mtt=require("zlib"),gye=fye(),Ltt=mye(),uq=require("util"),lq=require("events").EventEmitter,vye=require("stream").Transform,K8=require("stream").PassThrough,Ntt=require("stream").Writable;Ob.open=Ftt;Ob.fromFd=yye;Ob.fromBuffer=qtt;Ob.fromRandomAccessReader=Y8;Ob.dosDateTimeToDate=_ye;Ob.validateFileName=wye;Ob.ZipFile=dC;Ob.Entry=Yk;Ob.RandomAccessReader=fC;function Ftt(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=cq),G8.open(r,"r",function(n,i){if(n)return t(n);yye(i,e,function(o,s){o&&G8.close(i,cq),t(o,s)})})}function yye(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),t==null&&(t=cq),G8.fstat(r,function(n,i){if(n)return t(n);var o=gye.createFromFd(r,{autoClose:!0});Y8(o,i.size,e,t)})}function qtt(r,e,t){typeof e=="function"&&(t=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=gye.createFromBuffer(r,{maxChunkSize:65536});Y8(n,r.length,e,t)}function Y8(r,e,t,n){typeof t=="function"&&(n=t,t=null),t==null&&(t={}),t.autoClose==null&&(t.autoClose=!0),t.lazyEntries==null&&(t.lazyEntries=!1),t.decodeStrings==null&&(t.decodeStrings=!0);var i=!!t.decodeStrings;if(t.validateEntrySizes==null&&(t.validateEntrySizes=!0),t.strictFileNames==null&&(t.strictFileNames=!1),n==null&&(n=cq),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");r.ref();var o=22,s=65535,a=Math.min(o+s,e),c=Eb(a),u=e-c.length;DP(r,c,0,a,u,function(l){if(l)return n(l);for(var d=a-o;d>=0;d-=1)if(c.readUInt32LE(d)===101010256){var f=c.slice(d),y=f.readUInt16LE(4);if(y!==0)return n(new Error("multi-disk zip files are not supported: found disk number: "+y));var b=f.readUInt16LE(10),T=f.readUInt32LE(16),k=f.readUInt16LE(20),z=f.length-o;if(k!==z)return n(new Error("invalid comment length. expected: "+z+". found: "+k));var A=i?aq(f,22,f.length,!1):f.slice(22);if(!(b===65535||T===4294967295))return n(null,new dC(r,T,e,b,A,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames));var U=Eb(20),ne=u+d-U.length;DP(r,U,0,U.length,ne,function(de){if(de)return n(de);if(U.readUInt32LE(0)!==117853008)return n(new Error("invalid zip64 end of central directory locator signature"));var ve=TP(U,8),$=Eb(56);DP(r,$,0,$.length,ve,function(W){return W?n(W):$.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(b=TP($,32),T=TP($,48),n(null,new dC(r,T,e,b,A,t.autoClose,t.lazyEntries,i,t.validateEntrySizes,t.strictFileNames)))})});return}n(new Error("end of central directory record signature not found"))})}uq.inherits(dC,lq);function dC(r,e,t,n,i,o,s,a,c,u){var l=this;lq.call(l),l.reader=r,l.reader.on("error",function(d){bye(l,d)}),l.reader.once("close",function(){l.emit("close")}),l.readEntryCursor=e,l.fileSize=t,l.entryCount=n,l.comment=i,l.entriesRead=0,l.autoClose=!!o,l.lazyEntries=!!s,l.decodeStrings=!!a,l.validateEntrySizes=!!c,l.strictFileNames=!!u,l.isOpen=!0,l.emittedError=!1,l.lazyEntries||l._readEntry()}dC.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function uy(r,e){r.autoClose&&r.close(),bye(r,e)}function bye(r,e){r.emittedError||(r.emittedError=!0,r.emit("error",e))}dC.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};dC.prototype._readEntry=function(){var r=this;if(r.entryCount===r.entriesRead){setImmediate(function(){r.autoClose&&r.close(),!r.emittedError&&r.emit("end")});return}if(!r.emittedError){var e=Eb(46);DP(r.reader,e,0,e.length,r.readEntryCursor,function(t){if(t)return uy(r,t);if(!r.emittedError){var n=new Yk,i=e.readUInt32LE(0);if(i!==33639248)return uy(r,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return uy(r,new Error("strong encryption is not supported"));r.readEntryCursor+=46,e=Eb(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),DP(r.reader,e,0,e.length,r.readEntryCursor,function(o){if(o)return uy(r,o);if(!r.emittedError){var s=(n.generalPurposeBitFlag&2048)!==0;n.fileName=r.decodeStrings?aq(e,0,n.fileNameLength,s):e.slice(0,n.fileNameLength);var a=n.fileNameLength+n.extraFieldLength,c=e.slice(n.fileNameLength,a);n.extraFields=[];for(var u=0;u<c.length-3;){var l=c.readUInt16LE(u+0),d=c.readUInt16LE(u+2),f=u+4,y=f+d;if(y>c.length)return uy(r,new Error("extra field length exceeds extra field buffer size"));var b=Eb(d);c.copy(b,0,f,y),n.extraFields.push({id:l,data:b}),u=y}if(n.fileComment=r.decodeStrings?aq(e,a,a+n.fileCommentLength,s):e.slice(a,a+n.fileCommentLength),n.comment=n.fileComment,r.readEntryCursor+=e.length,r.entriesRead+=1,n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){for(var T=null,u=0;u<n.extraFields.length;u++){var k=n.extraFields[u];if(k.id===1){T=k.data;break}}if(T==null)return uy(r,new Error("expected zip64 extended information extra field"));var z=0;if(n.uncompressedSize===4294967295){if(z+8>T.length)return uy(r,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=TP(T,z),z+=8}if(n.compressedSize===4294967295){if(z+8>T.length)return uy(r,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=TP(T,z),z+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(z+8>T.length)return uy(r,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=TP(T,z),z+=8}}if(r.decodeStrings)for(var u=0;u<n.extraFields.length;u++){var k=n.extraFields[u];if(k.id===28789){if(k.data.length<6||k.data.readUInt8(0)!==1)continue;var A=k.data.readUInt32LE(1);if(Ltt.unsigned(e.slice(0,n.fileNameLength))!==A)continue;n.fileName=aq(k.data,5,k.data.length,!0);break}}if(r.validateEntrySizes&&n.compressionMethod===0){var U=n.uncompressedSize;if(n.isEncrypted()&&(U+=12),n.compressedSize!==U){var ne="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return uy(r,new Error(ne))}}if(r.decodeStrings){r.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var de=wye(n.fileName,r.validateFileNameOptions);if(de!=null)return uy(r,new Error(de))}r.emit("entry",n),r.lazyEntries||r._readEntry()}})}})}};dC.prototype.openReadStream=function(r,e,t){var n=this,i=0,o=r.compressedSize;if(t==null)t=e,e={};else{if(e.decrypt!=null){if(!r.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(r.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!r.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(r.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(r.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>r.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(o=e.end,o<0)throw new Error("options.end < 0");if(o>r.compressedSize)throw new Error("options.end > entry.compressedSize");if(o<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return t(new Error("closed"));if(r.isEncrypted()&&e.decrypt!==!1)return t(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var s=Eb(30);DP(n.reader,s,0,s.length,r.relativeOffsetOfLocalHeader,function(a){try{if(a)return t(a);var c=s.readUInt32LE(0);if(c!==67324752)return t(new Error("invalid local file header signature: 0x"+c.toString(16)));var u=s.readUInt16LE(26),l=s.readUInt16LE(28),d=r.relativeOffsetOfLocalHeader+s.length+u+l,f;if(r.compressionMethod===0)f=!1;else if(r.compressionMethod===8)f=e.decompress!=null?e.decompress:!0;else return t(new Error("unsupported compression method: "+r.compressionMethod));var y=d,b=y+r.compressedSize;if(r.compressedSize!==0&&b>n.fileSize)return t(new Error("file data overflows file bounds: "+y+" + "+r.compressedSize+" > "+n.fileSize));var T=n.reader.createReadStream({start:y+i,end:y+o}),k=T;if(f){var z=!1,A=Mtt.createInflateRaw();T.on("error",function(U){setImmediate(function(){z||A.emit("error",U)})}),T.pipe(A),n.validateEntrySizes?(k=new Jk(r.uncompressedSize),A.on("error",function(U){setImmediate(function(){z||k.emit("error",U)})}),A.pipe(k)):k=A,k.destroy=function(){z=!0,A!==k&&A.unpipe(k),T.unpipe(A),T.destroy()}}t(null,k)}finally{n.reader.unref()}})};function Yk(){}Yk.prototype.getLastModDate=function(){return _ye(this.lastModFileDate,this.lastModFileTime)};Yk.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Yk.prototype.isCompressed=function(){return this.compressionMethod===8};function _ye(r,e){var t=r&31,n=(r>>5&15)-1,i=(r>>9&127)+1980,o=0,s=(e&31)*2,a=e>>5&63,c=e>>11&31;return new Date(i,n,t,c,a,s,o)}function wye(r){return r.indexOf("\\")!==-1?"invalid characters in fileName: "+r:/^[a-zA-Z]:/.test(r)||/^\//.test(r)?"absolute path: "+r:r.split("/").indexOf("..")!==-1?"invalid relative path: "+r:null}function DP(r,e,t,n,i,o){if(n===0)return setImmediate(function(){o(null,Eb(0))});r.read(e,t,n,i,function(s,a){if(s)return o(s);if(a<n)return o(new Error("unexpected EOF"));o()})}uq.inherits(Jk,vye);function Jk(r){vye.call(this),this.actualByteCount=0,this.expectedByteCount=r}Jk.prototype._transform=function(r,e,t){if(this.actualByteCount+=r.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return t(new Error(n))}t(null,r)};Jk.prototype._flush=function(r){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return r(new Error(e))}r()};uq.inherits(fC,lq);function fC(){lq.call(this),this.refCount=0}fC.prototype.ref=function(){this.refCount+=1};fC.prototype.unref=function(){var r=this;if(r.refCount-=1,r.refCount>0)return;if(r.refCount<0)throw new Error("invalid unref");r.close(e);function e(t){if(t)return r.emit("error",t);r.emit("close")}};fC.prototype.createReadStream=function(r){var e=r.start,t=r.end;if(e===t){var n=new K8;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,t),o=!1,s=new dq(this);i.on("error",function(c){setImmediate(function(){o||s.emit("error",c)})}),s.destroy=function(){i.unpipe(s),s.unref(),i.destroy()};var a=new Jk(t-e);return s.on("error",function(c){setImmediate(function(){o||a.emit("error",c)})}),a.destroy=function(){o=!0,s.unpipe(a),s.destroy()},i.pipe(s).pipe(a)};fC.prototype._readStreamForRange=function(r,e){throw new Error("not implemented")};fC.prototype.read=function(r,e,t,n,i){var o=this.createReadStream({start:n,end:n+t}),s=new Ntt,a=0;s._write=function(c,u,l){c.copy(r,e+a,0,c.length),a+=c.length,l()},s.on("finish",i),o.on("error",function(c){i(c)}),o.pipe(s)};fC.prototype.close=function(r){setImmediate(r)};uq.inherits(dq,K8);function dq(r){K8.call(this),this.context=r,this.context.ref(),this.unreffedYet=!1}dq.prototype._flush=function(r){this.unref(),r()};dq.prototype.unref=function(r){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var jtt="\0\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function aq(r,e,t,n){if(n)return r.toString("utf8",e,t);for(var i="",o=e;o<t;o++)i+=jtt[r[o]];return i}function TP(r,e){var t=r.readUInt32LE(e),n=r.readUInt32LE(e+4);return n*4294967296+t}var Eb;typeof Buffer.allocUnsafe=="function"?Eb=function(r){return Buffer.allocUnsafe(r)}:Eb=function(r){return new Buffer(r)};function cq(r){if(r)throw r}});var zP=P(hw=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0});hw.boolean=mrt;hw.string=Lbe;hw.number=grt;hw.error=vrt;hw.func=yrt;hw.array=Nbe;hw.stringArray=brt;function mrt(r){return r===!0||r===!1}function Lbe(r){return typeof r=="string"||r instanceof String}function grt(r){return typeof r=="number"||r instanceof Number}function vrt(r){return r instanceof Error}function yrt(r){return typeof r=="function"}function Nbe(r){return Array.isArray(r)}function brt(r){return Nbe(r)&&r.every(e=>Lbe(e))}});var IG=P(gn=>{"use strict";var _rt=gn&&gn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wrt=gn&&gn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Srt=gn&&gn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&_rt(t,e,n[i]);return wrt(t,e),t}}();Object.defineProperty(gn,"__esModule",{value:!0});gn.Message=gn.NotificationType9=gn.NotificationType8=gn.NotificationType7=gn.NotificationType6=gn.NotificationType5=gn.NotificationType4=gn.NotificationType3=gn.NotificationType2=gn.NotificationType1=gn.NotificationType0=gn.NotificationType=gn.RequestType9=gn.RequestType8=gn.RequestType7=gn.RequestType6=gn.RequestType5=gn.RequestType4=gn.RequestType3=gn.RequestType2=gn.RequestType1=gn.RequestType=gn.RequestType0=gn.AbstractMessageSignature=gn.ParameterStructures=gn.ResponseError=gn.ErrorCodes=void 0;var fT=Srt(zP()),aG;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(aG||(gn.ErrorCodes=aG={}));var cG=class r extends Error{code;data;constructor(e,t,n){super(t),this.code=fT.number(e)?e:aG.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};gn.ResponseError=cG;var gC=class r{kind;static auto=new r("auto");static byPosition=new r("byPosition");static byName=new r("byName");constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};gn.ParameterStructures=gC;var Ea=class{method;numberOfParams;constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return gC.auto}};gn.AbstractMessageSignature=Ea;var uG=class extends Ea{_;constructor(e){super(e,0)}};gn.RequestType0=uG;var lG=class extends Ea{_parameterStructures;_;constructor(e,t=gC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};gn.RequestType=lG;var dG=class extends Ea{_parameterStructures;_;constructor(e,t=gC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};gn.RequestType1=dG;var fG=class extends Ea{_;constructor(e){super(e,2)}};gn.RequestType2=fG;var pG=class extends Ea{_;constructor(e){super(e,3)}};gn.RequestType3=pG;var hG=class extends Ea{_;constructor(e){super(e,4)}};gn.RequestType4=hG;var mG=class extends Ea{_;constructor(e){super(e,5)}};gn.RequestType5=mG;var gG=class extends Ea{_;constructor(e){super(e,6)}};gn.RequestType6=gG;var vG=class extends Ea{_;constructor(e){super(e,7)}};gn.RequestType7=vG;var yG=class extends Ea{_;constructor(e){super(e,8)}};gn.RequestType8=yG;var bG=class extends Ea{_;constructor(e){super(e,9)}};gn.RequestType9=bG;var _G=class extends Ea{_parameterStructures;_;constructor(e,t=gC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};gn.NotificationType=_G;var wG=class extends Ea{_;constructor(e){super(e,0)}};gn.NotificationType0=wG;var SG=class extends Ea{_parameterStructures;_;constructor(e,t=gC.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};gn.NotificationType1=SG;var CG=class extends Ea{_;constructor(e){super(e,2)}};gn.NotificationType2=CG;var DG=class extends Ea{_;constructor(e){super(e,3)}};gn.NotificationType3=DG;var TG=class extends Ea{_;constructor(e){super(e,4)}};gn.NotificationType4=TG;var PG=class extends Ea{_;constructor(e){super(e,5)}};gn.NotificationType5=PG;var RG=class extends Ea{_;constructor(e){super(e,6)}};gn.NotificationType6=RG;var xG=class extends Ea{_;constructor(e){super(e,7)}};gn.NotificationType7=xG;var EG=class extends Ea{_;constructor(e){super(e,8)}};gn.NotificationType8=EG;var OG=class extends Ea{_;constructor(e){super(e,9)}};gn.NotificationType9=OG;var Fbe;(function(r){function e(i){let o=i;return o&&fT.string(o.method)&&(fT.string(o.id)||fT.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&fT.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(fT.string(o.id)||fT.number(o.id)||o.id===null)}r.isResponse=n})(Fbe||(gn.Message=Fbe={}))});var AG=P(vC=>{"use strict";Object.defineProperty(vC,"__esModule",{value:!0});vC.LRUCache=vC.LinkedMap=vC.Touch=void 0;var Mf;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Mf||(vC.Touch=Mf={}));var L2=class{[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}before(e){let t=this._map.get(e);return t?t.previous?.value:void 0}after(e){let t=this._map.get(e);return t?t.next?.value:void 0}has(e){return this._map.has(e)}get(e,t=Mf.None){let n=this._map.get(e);if(n)return t!==Mf.None&&this.touch(n,t),n.value}set(e,t,n=Mf.None){let i=this._map.get(e);if(i)i.value=t,n!==Mf.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Mf.None:this.addItemLast(i);break;case Mf.First:this.addItemFirst(i);break;case Mf.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Mf.First&&t!==Mf.Last)){if(t===Mf.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Mf.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};vC.LinkedMap=L2;var kG=class extends L2{_limit;_ratio;constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Mf.AsNew){return super.get(e,t)}peek(e){return super.get(e,Mf.None)}set(e,t){return super.set(e,t,Mf.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};vC.LRUCache=kG});var jbe=P(N2=>{"use strict";Object.defineProperty(N2,"__esModule",{value:!0});N2.Disposable=void 0;var qbe;(function(r){function e(t){return{dispose:t}}r.create=e})(qbe||(N2.Disposable=qbe={}))});var yC=P(NG=>{"use strict";Object.defineProperty(NG,"__esModule",{value:!0});var MG;function LG(){if(MG===void 0)throw new Error("No runtime abstraction layer installed");return MG}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");MG=t}r.install=e})(LG||(LG={}));NG.default=LG});var UP=P(bC=>{"use strict";var Crt=bC&&bC.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bC,"__esModule",{value:!0});bC.Emitter=bC.Event=void 0;var Drt=Crt(yC()),zbe;(function(r){let e={dispose(){}};r.None=function(){return e}})(zbe||(bC.Event=zbe={}));var FG=class{_callbacks;_contexts;add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,Drt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},qG=class r{_options;static _noop=function(){};_event;_callbacks;constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new FG),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};bC.Emitter=qG});var j2=P(Hh=>{"use strict";var Trt=Hh&&Hh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Prt=Hh&&Hh.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Rrt=Hh&&Hh.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Trt(t,e,n[i]);return Prt(t,e),t}}(),xrt=Hh&&Hh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.CancellationTokenSource=Hh.CancellationToken=void 0;var Ert=xrt(yC()),Ort=Rrt(zP()),jG=UP(),F2;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:jG.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:jG.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||Ort.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(F2||(Hh.CancellationToken=F2={}));var Irt=Object.freeze(function(r,e){let t=(0,Ert.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),q2=class{_isCancelled=!1;_emitter;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Irt:(this._emitter||(this._emitter=new jG.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},zG=class{_token;get token(){return this._token||(this._token=new q2),this._token}cancel(){this._token?this._token.cancel():this._token=F2.Cancelled}dispose(){this._token?this._token instanceof q2&&this._token.dispose():this._token=F2.None}};Hh.CancellationTokenSource=zG});var Ube=P(HP=>{"use strict";Object.defineProperty(HP,"__esModule",{value:!0});HP.SharedArrayReceiverStrategy=HP.SharedArraySenderStrategy=void 0;var krt=j2(),a1;(function(r){r.Continue=0,r.Cancelled=1})(a1||(a1={}));var UG=class{buffers;constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=a1.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,a1.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};HP.SharedArraySenderStrategy=UG;var HG=class{data;constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===a1.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},WG=class{token;constructor(e){this.token=new HG(e)}cancel(){}dispose(){}},BG=class{kind="request";createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new krt.CancellationTokenSource:new WG(t)}};HP.SharedArrayReceiverStrategy=BG});var VG=P(WP=>{"use strict";var Art=WP&&WP.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(WP,"__esModule",{value:!0});WP.Semaphore=void 0;var Mrt=Art(yC()),$G=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Mrt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("Too many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};WP.Semaphore=$G});var Wbe=P(Lf=>{"use strict";var Lrt=Lf&&Lf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Nrt=Lf&&Lf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Frt=Lf&&Lf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Lrt(t,e,n[i]);return Nrt(t,e),t}}(),qrt=Lf&&Lf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.ReadableStreamMessageReader=Lf.AbstractMessageReader=Lf.MessageReader=void 0;var KG=qrt(yC()),BP=Frt(zP()),GG=UP(),jrt=VG(),Hbe;(function(r){function e(t){let n=t;return n&&BP.func(n.listen)&&BP.func(n.dispose)&&BP.func(n.onError)&&BP.func(n.onClose)&&BP.func(n.onPartialMessage)}r.is=e})(Hbe||(Lf.MessageReader=Hbe={}));var z2=class{errorEmitter;closeEmitter;partialMessageEmitter;constructor(){this.errorEmitter=new GG.Emitter,this.closeEmitter=new GG.Emitter,this.partialMessageEmitter=new GG.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose(),this.partialMessageEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${BP.string(e.message)?e.message:"unknown"}`)}};Lf.AbstractMessageReader=z2;var YG;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,KG.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(YG||(YG={}));var JG=class extends z2{readable;options;callback;nextMessageLength;messageToken;buffer;partialMessageTimer;_partialMessageTimeout;readSemaphore;constructor(e,t){super(),this.readable=e,this.options=YG.fromOptions(t),this.buffer=(0,KG.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new jrt.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(t){this.fireError(t)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,KG.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Lf.ReadableStreamMessageReader=JG});var Kbe=P(Nf=>{"use strict";var zrt=Nf&&Nf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Urt=Nf&&Nf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Hrt=Nf&&Nf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&zrt(t,e,n[i]);return Urt(t,e),t}}(),Wrt=Nf&&Nf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nf,"__esModule",{value:!0});Nf.WriteableStreamMessageWriter=Nf.AbstractMessageWriter=Nf.MessageWriter=void 0;var Bbe=Wrt(yC()),c1=Hrt(zP()),Brt=VG(),$be=UP(),$rt="Content-Length: ",Vbe=`\r
`,Gbe;(function(r){function e(t){let n=t;return n&&c1.func(n.dispose)&&c1.func(n.onClose)&&c1.func(n.onError)&&c1.func(n.write)}r.is=e})(Gbe||(Nf.MessageWriter=Gbe={}));var U2=class{errorEmitter;closeEmitter;constructor(){this.errorEmitter=new $be.Emitter,this.closeEmitter=new $be.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${c1.string(e.message)?e.message:"unknown"}`)}};Nf.AbstractMessageWriter=U2;var XG;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,Bbe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,Bbe.default)().applicationJson.encoder}}r.fromOptions=e})(XG||(XG={}));var QG=class extends U2{writable;options;errorCount;writeSemaphore;constructor(e,t){super(),this.writable=e,this.options=XG.fromOptions(t),this.errorCount=0,this.writeSemaphore=new Brt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push($rt,n.byteLength.toString(),Vbe),i.push(Vbe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};Nf.WriteableStreamMessageWriter=QG});var Ybe=P(H2=>{"use strict";Object.defineProperty(H2,"__esModule",{value:!0});H2.AbstractMessageBuffer=void 0;var Vrt=13,Grt=10,Krt=`\r
`,ZG=class{_encoding;_chunks;_totalLength;constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case Vrt:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case Grt:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(Krt);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${l}`);let f=l.substr(0,d),y=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,y)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};H2.AbstractMessageBuffer=ZG});var Zbe=P(Gn=>{"use strict";var Yrt=Gn&&Gn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jrt=Gn&&Gn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Xrt=Gn&&Gn.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Yrt(t,e,n[i]);return Jrt(t,e),t}}(),Qrt=Gn&&Gn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.ConnectionOptions=Gn.MessageStrategy=Gn.CancellationStrategy=Gn.CancellationSenderStrategy=Gn.CancellationReceiverStrategy=Gn.RequestCancellationReceiverStrategy=Gn.IdCancellationReceiverStrategy=Gn.ConnectionStrategy=Gn.ConnectionError=Gn.ConnectionErrors=Gn.LogTraceNotification=Gn.SetTraceNotification=Gn.TraceFormat=Gn.TraceValues=Gn.TraceValue=Gn.Trace=Gn.NullLogger=Gn.ProgressType=Gn.ProgressToken=void 0;Gn.createMessageConnection=Zrt;var Jbe=Qrt(yC()),Rc=Xrt(zP()),Li=IG(),Xbe=AG(),u1=UP(),eK=j2(),f1;(function(r){r.type=new Li.NotificationType("$/cancelRequest")})(f1||(f1={}));var tK;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(tK||(Gn.ProgressToken=tK={}));var l1;(function(r){r.type=new Li.NotificationType("$/progress")})(l1||(l1={}));var rK=class{__;_pr;constructor(){}};Gn.ProgressType=rK;var nK;(function(r){function e(t){return Rc.func(t)}r.is=e})(nK||(nK={}));Gn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ls;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(ls||(Gn.Trace=ls={}));var iK;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(iK||(Gn.TraceValue=iK={}));Gn.TraceValues=iK;(function(r){function e(n){if(!Rc.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(ls||(Gn.Trace=ls={}));var $m;(function(r){r.Text="text",r.JSON="json"})($m||(Gn.TraceFormat=$m={}));(function(r){function e(t){return Rc.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})($m||(Gn.TraceFormat=$m={}));var oK;(function(r){r.type=new Li.NotificationType("$/setTrace")})(oK||(Gn.SetTraceNotification=oK={}));var W2;(function(r){r.type=new Li.NotificationType("$/logTrace")})(W2||(Gn.LogTraceNotification=W2={}));var d1;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(d1||(Gn.ConnectionErrors=d1={}));var $P=class r extends Error{code;constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};Gn.ConnectionError=$P;var sK;(function(r){function e(t){let n=t;return n&&Rc.func(n.cancelUndispatched)}r.is=e})(sK||(Gn.ConnectionStrategy=sK={}));var B2;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&Rc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Rc.func(n.dispose))}r.is=e})(B2||(Gn.IdCancellationReceiverStrategy=B2={}));var aK;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&Rc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||Rc.func(n.dispose))}r.is=e})(aK||(Gn.RequestCancellationReceiverStrategy=aK={}));var $2;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new eK.CancellationTokenSource}});function e(t){return B2.is(t)||aK.is(t)}r.is=e})($2||(Gn.CancellationReceiverStrategy=$2={}));var V2;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(f1.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&Rc.func(n.sendCancellation)&&Rc.func(n.cleanup)}r.is=e})(V2||(Gn.CancellationSenderStrategy=V2={}));var G2;(function(r){r.Message=Object.freeze({receiver:$2.Message,sender:V2.Message});function e(t){let n=t;return n&&$2.is(n.receiver)&&V2.is(n.sender)}r.is=e})(G2||(Gn.CancellationStrategy=G2={}));var K2;(function(r){function e(t){let n=t;return n&&Rc.func(n.handleMessage)}r.is=e})(K2||(Gn.MessageStrategy=K2={}));var Qbe;(function(r){function e(t){let n=t;return n&&(G2.is(n.cancellationStrategy)||sK.is(n.connectionStrategy)||K2.is(n.messageStrategy)||Rc.number(n.maxParallelism))}r.is=e})(Qbe||(Gn.ConnectionOptions=Qbe={}));var dy;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(dy||(dy={}));function Zrt(r,e,t,n){let i=t!==void 0?t:Gn.NullLogger,o=0,s=0,a=0,c="2.0",u=n?.maxParallelism??-1,l=0,d,f=new Map,y,b=new Map,T=new Map,k,z=new Xbe.LinkedMap,A=new Map,U=new Set,ne=new Map,de=ls.Off,ve=$m.Text,$,W=dy.New,ee=new u1.Emitter,Pe=new u1.Emitter,se=new u1.Emitter,ue=new u1.Emitter,Fe=new u1.Emitter,Le=n&&n.cancellationStrategy?n.cancellationStrategy:G2.Message;function ce(Q){}function Ce(){return W===dy.Listening}function we(){return W===dy.Closed}function Ee(){return W===dy.Disposed}function Ne(){(W===dy.New||W===dy.Listening)&&(W=dy.Closed,Pe.fire(void 0))}function $e(Q){ee.fire([Q,void 0,void 0])}function Ct(Q){ee.fire(Q)}r.onClose(Ne),r.onError($e),e.onClose(Ne),e.onError(Ct);function ze(Q){if(Q===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Q.toString()}function st(Q){return Q===null?"res-unknown-"+(++a).toString():"res-"+Q.toString()}function at(){return"not-"+(++s).toString()}function tt(Q,_e){Li.Message.isRequest(_e)?Q.set(ze(_e.id),_e):Li.Message.isResponse(_e)?u===-1?Q.set(st(_e.id),_e):Et(_e):Q.set(at(),_e)}function pr(){k||z.size===0||u!==-1&&l>=u||(k=(0,Jbe.default)().timer.setImmediate(async()=>{if(k=void 0,z.size===0||u!==-1&&l>=u)return;let Q=z.shift(),_e;try{l++;let Ke=n?.messageStrategy;K2.is(Ke)?_e=Ke.handleMessage(Q,Ar):_e=Ar(Q)}catch(Ke){i.error(`Processing message queue failed: ${Ke.toString()}`)}finally{_e instanceof Promise?_e.then(()=>{l--,pr()}).catch(Ke=>{i.error(`Processing message queue failed: ${Ke.toString()}`)}):l--,pr()}}))}async function Ar(Q){return Li.Message.isRequest(Q)?lr(Q):Li.Message.isNotification(Q)?hr(Q):Li.Message.isResponse(Q)?Et(Q):Lt(Q)}let jr=Q=>{try{if(Li.Message.isNotification(Q)&&Q.method===f1.type.method){let _e=Q.params.id,Ke=ze(_e),ft=z.get(Ke);if(Li.Message.isRequest(ft)){let nr=n?.connectionStrategy,Xt=nr&&nr.cancelUndispatched?nr.cancelUndispatched(ft,ce):void 0;if(Xt&&(Xt.error!==void 0||Xt.result!==void 0)){z.delete(Ke),ne.delete(_e),Xt.id=ft.id,Er(Xt,Q.method,Date.now()),e.write(Xt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Jt=ne.get(_e);if(Jt!==void 0){Jt.cancel(),Br(Q);return}else U.add(_e)}tt(z,Q)}finally{pr()}};async function lr(Q){if(Ee())return Promise.resolve();function _e(Vt,kt,K){let qe={jsonrpc:c,id:Q.id};return Vt instanceof Li.ResponseError?qe.error=Vt.toJson():qe.result=Vt===void 0?null:Vt,Er(qe,kt,K),e.write(qe)}function Ke(Vt,kt,K){let qe={jsonrpc:c,id:Q.id,error:Vt.toJson()};return Er(qe,kt,K),e.write(qe)}Un(Q);let ft=f.get(Q.method),Jt,nr;ft&&(Jt=ft.type,nr=ft.handler);let Xt=Date.now();if(nr||d){let Vt=Q.id??String(Date.now()),kt=B2.is(Le.receiver)?Le.receiver.createCancellationTokenSource(Vt):Le.receiver.createCancellationTokenSource(Q);Q.id!==null&&U.has(Q.id)&&kt.cancel(),Q.id!==null&&ne.set(Vt,kt);try{let K;if(nr)if(Q.params===void 0){if(Jt!==void 0&&Jt.numberOfParams!==0)return Ke(new Li.ResponseError(Li.ErrorCodes.InvalidParams,`Request ${Q.method} defines ${Jt.numberOfParams} params but received none.`),Q.method,Xt);K=nr(kt.token)}else if(Array.isArray(Q.params)){if(Jt!==void 0&&Jt.parameterStructures===Li.ParameterStructures.byName)return Ke(new Li.ResponseError(Li.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by name but received parameters by position`),Q.method,Xt);K=nr(...Q.params,kt.token)}else{if(Jt!==void 0&&Jt.parameterStructures===Li.ParameterStructures.byPosition)return Ke(new Li.ResponseError(Li.ErrorCodes.InvalidParams,`Request ${Q.method} defines parameters by position but received parameters by name`),Q.method,Xt);K=nr(Q.params,kt.token)}else d&&(K=d(Q.method,Q.params,kt.token));let qe=await K;await _e(qe,Q.method,Xt)}catch(K){K instanceof Li.ResponseError?await _e(K,Q.method,Xt):K&&Rc.string(K.message)?await Ke(new Li.ResponseError(Li.ErrorCodes.InternalError,`Request ${Q.method} failed with message: ${K.message}`),Q.method,Xt):await Ke(new Li.ResponseError(Li.ErrorCodes.InternalError,`Request ${Q.method} failed unexpectedly without providing any details.`),Q.method,Xt)}finally{ne.delete(Vt)}}else await Ke(new Li.ResponseError(Li.ErrorCodes.MethodNotFound,`Unhandled method ${Q.method}`),Q.method,Xt)}function Et(Q){if(!Ee())if(Q.id===null)Q.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Q.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let _e=Q.id,Ke=A.get(_e);if(ln(Q,Ke),Ke!==void 0){A.delete(_e);try{if(Q.error){let ft=Q.error;Ke.reject(new Li.ResponseError(ft.code,ft.message,ft.data))}else if(Q.result!==void 0)Ke.resolve(Q.result);else throw new Error("Should never happen.")}catch(ft){ft.message?i.error(`Response handler '${Ke.method}' failed with message: ${ft.message}`):i.error(`Response handler '${Ke.method}' failed unexpectedly.`)}}}}async function hr(Q){if(Ee())return;let _e,Ke;if(Q.method===f1.type.method){let ft=Q.params.id;U.delete(ft),Br(Q);return}else{let ft=b.get(Q.method);ft&&(Ke=ft.handler,_e=ft.type)}if(Ke||y)try{if(Br(Q),Ke)if(Q.params===void 0)_e!==void 0&&_e.numberOfParams!==0&&_e.parameterStructures!==Li.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines ${_e.numberOfParams} params but received none.`),await Ke();else if(Array.isArray(Q.params)){let ft=Q.params;Q.method===l1.type.method&&ft.length===2&&tK.is(ft[0])?await Ke({token:ft[0],value:ft[1]}):(_e!==void 0&&(_e.parameterStructures===Li.ParameterStructures.byName&&i.error(`Notification ${Q.method} defines parameters by name but received parameters by position`),_e.numberOfParams!==Q.params.length&&i.error(`Notification ${Q.method} defines ${_e.numberOfParams} params but received ${ft.length} arguments`)),await Ke(...ft))}else _e!==void 0&&_e.parameterStructures===Li.ParameterStructures.byPosition&&i.error(`Notification ${Q.method} defines parameters by position but received parameters by name`),await Ke(Q.params);else y&&await y(Q.method,Q.params)}catch(ft){ft.message?i.error(`Notification handler '${Q.method}' failed with message: ${ft.message}`):i.error(`Notification handler '${Q.method}' failed unexpectedly.`)}else se.fire(Q)}function Lt(Q){if(!Q){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Q,null,4)}`);let _e=Q;if(Rc.string(_e.id)||Rc.number(_e.id)){let Ke=_e.id,ft=A.get(Ke);ft&&ft.reject(new Error("The received response has neither a result nor an error property."))}}function on(Q){if(Q!=null)switch(de){case ls.Verbose:return JSON.stringify(Q,null,4);case ls.Compact:return JSON.stringify(Q);default:return}}function un(Q){if(!(de===ls.Off||!$))if(ve===$m.Text){let _e;(de===ls.Verbose||de===ls.Compact)&&Q.params&&(_e=`Params: ${on(Q.params)}`),$.log(`Sending request '${Q.method} - (${Q.id})'.`,_e)}else ni("send-request",Q)}function En(Q){if(!(de===ls.Off||!$))if(ve===$m.Text){let _e;(de===ls.Verbose||de===ls.Compact)&&(Q.params?_e=`Params: ${on(Q.params)}`:_e="No parameters provided."),$.log(`Sending notification '${Q.method}'.`,_e)}else ni("send-notification",Q)}function Er(Q,_e,Ke){if(!(de===ls.Off||!$))if(ve===$m.Text){let ft;(de===ls.Verbose||de===ls.Compact)&&(Q.error&&Q.error.data?ft=`Error data: ${on(Q.error.data)}`:Q.result?ft=`Result: ${on(Q.result)}`:Q.error===void 0&&(ft="No result returned.")),$.log(`Sending response '${_e} - (${Q.id})'. Processing request took ${Date.now()-Ke}ms`,ft)}else ni("send-response",Q)}function Un(Q){if(!(de===ls.Off||!$))if(ve===$m.Text){let _e;(de===ls.Verbose||de===ls.Compact)&&Q.params&&(_e=`Params: ${on(Q.params)}`),$.log(`Received request '${Q.method} - (${Q.id})'.`,_e)}else ni("receive-request",Q)}function Br(Q){if(!(de===ls.Off||!$||Q.method===W2.type.method))if(ve===$m.Text){let _e;(de===ls.Verbose||de===ls.Compact)&&(Q.params?_e=`Params: ${on(Q.params)}`:_e="No parameters provided."),$.log(`Received notification '${Q.method}'.`,_e)}else ni("receive-notification",Q)}function ln(Q,_e){if(!(de===ls.Off||!$))if(ve===$m.Text){let Ke;if((de===ls.Verbose||de===ls.Compact)&&(Q.error&&Q.error.data?Ke=`Error data: ${on(Q.error.data)}`:Q.result?Ke=`Result: ${on(Q.result)}`:Q.error===void 0&&(Ke="No result returned.")),_e){let ft=Q.error?` Request failed: ${Q.error.message} (${Q.error.code}).`:"";$.log(`Received response '${_e.method} - (${Q.id})' in ${Date.now()-_e.timerStart}ms.${ft}`,Ke)}else $.log(`Received response ${Q.id} without active response promise.`,Ke)}else ni("receive-response",Q)}function ni(Q,_e){if(!$||de===ls.Off)return;let Ke={isLSPMessage:!0,type:Q,message:_e,timestamp:Date.now()};$.log(Ke)}function $r(){if(we())throw new $P(d1.Closed,"Connection is closed.");if(Ee())throw new $P(d1.Disposed,"Connection is disposed.")}function kn(){if(Ce())throw new $P(d1.AlreadyListening,"Connection is already listening")}function Ei(){if(!Ce())throw new Error("Call listen() first.")}function Vr(Q){return Q===void 0?null:Q}function Yi(Q){if(Q!==null)return Q}function ii(Q){return Q!=null&&!Array.isArray(Q)&&typeof Q=="object"}function dn(Q,_e){switch(Q){case Li.ParameterStructures.auto:return ii(_e)?Yi(_e):[Vr(_e)];case Li.ParameterStructures.byName:if(!ii(_e))throw new Error("Received parameters by name but param is not an object literal.");return Yi(_e);case Li.ParameterStructures.byPosition:return[Vr(_e)];default:throw new Error(`Unknown parameter structure ${Q.toString()}`)}}function Oe(Q,_e){let Ke,ft=Q.numberOfParams;switch(ft){case 0:Ke=void 0;break;case 1:Ke=dn(Q.parameterStructures,_e[0]);break;default:Ke=[];for(let Jt=0;Jt<_e.length&&Jt<ft;Jt++)Ke.push(Vr(_e[Jt]));if(_e.length<ft)for(let Jt=_e.length;Jt<ft;Jt++)Ke.push(null);break}return Ke}let oe={sendNotification:(Q,..._e)=>{$r();let Ke,ft;if(Rc.string(Q)){Ke=Q;let nr=_e[0],Xt=0,Vt=Li.ParameterStructures.auto;Li.ParameterStructures.is(nr)&&(Xt=1,Vt=nr);let kt=_e.length,K=kt-Xt;switch(K){case 0:ft=void 0;break;case 1:ft=dn(Vt,_e[Xt]);break;default:if(Vt===Li.ParameterStructures.byName)throw new Error(`Received ${K} parameters for 'by Name' notification parameter structure.`);ft=_e.slice(Xt,kt).map(qe=>Vr(qe));break}}else{let nr=_e;Ke=Q.method,ft=Oe(Q,nr)}let Jt={jsonrpc:c,method:Ke,params:ft};return En(Jt),e.write(Jt).catch(nr=>{throw i.error("Sending notification failed."),nr})},onNotification:(Q,_e)=>{$r();let Ke;return Rc.func(Q)?y=Q:_e&&(Rc.string(Q)?(Ke=Q,b.set(Q,{type:void 0,handler:_e})):(Ke=Q.method,b.set(Q.method,{type:Q,handler:_e}))),{dispose:()=>{Ke!==void 0?b.get(Ke)?.handler===_e&&b.delete(Ke):y===Q&&(y=void 0)}}},onProgress:(Q,_e,Ke)=>{if(T.has(_e))throw new Error(`Progress handler for token ${_e} already registered`);return T.set(_e,Ke),{dispose:()=>{T.get(_e)===Ke&&T.delete(_e)}}},sendProgress:(Q,_e,Ke)=>oe.sendNotification(l1.type,{token:_e,value:Ke}),onUnhandledProgress:ue.event,sendRequest:(Q,..._e)=>{$r(),Ei();function Ke(qe,Wt){let Dr=Le.sender.sendCancellation(qe,Wt);Dr===void 0?i.log(`Received no promise from cancellation strategy when cancelling id ${Wt}`):Dr.catch(()=>{i.log(`Sending cancellation messages for id ${Wt} failed.`)})}let ft,Jt,nr;if(Rc.string(Q)){ft=Q;let qe=_e[0],Wt=_e[_e.length-1],Dr=0,He=Li.ParameterStructures.auto;Li.ParameterStructures.is(qe)&&(Dr=1,He=qe);let re=_e.length;eK.CancellationToken.is(Wt)&&(re=re-1,nr=Wt);let xe=re-Dr;switch(xe){case 0:Jt=void 0;break;case 1:Jt=dn(He,_e[Dr]);break;default:if(He===Li.ParameterStructures.byName)throw new Error(`Received ${xe} parameters for 'by Name' request parameter structure.`);Jt=_e.slice(Dr,re).map(je=>Vr(je));break}}else{let qe=_e;ft=Q.method,Jt=Oe(Q,qe);let Wt=Q.numberOfParams;nr=eK.CancellationToken.is(qe[Wt])?qe[Wt]:void 0}let Xt=o++,Vt,kt=!1;nr!==void 0&&(nr.isCancellationRequested?kt=!0:Vt=nr.onCancellationRequested(()=>{Ke(oe,Xt)}));let K={jsonrpc:c,id:Xt,method:ft,params:Jt};return un(K),typeof Le.sender.enableCancellation=="function"&&Le.sender.enableCancellation(K),new Promise(async(qe,Wt)=>{let Dr=xe=>{qe(xe),Le.sender.cleanup(Xt),Vt?.dispose()},He=xe=>{Wt(xe),Le.sender.cleanup(Xt),Vt?.dispose()},re={method:ft,timerStart:Date.now(),resolve:Dr,reject:He};try{A.set(Xt,re),await e.write(K),kt&&Ke(oe,Xt)}catch(xe){throw A.delete(Xt),re.reject(new Li.ResponseError(Li.ErrorCodes.MessageWriteError,xe.message?xe.message:"Unknown reason")),i.error("Sending request failed."),xe}})},onRequest:(Q,_e)=>{$r();let Ke=null;return nK.is(Q)?(Ke=void 0,d=Q):Rc.string(Q)?(Ke=null,_e!==void 0&&(Ke=Q,f.set(Q,{handler:_e,type:void 0}))):_e!==void 0&&(Ke=Q.method,f.set(Q.method,{type:Q,handler:_e})),{dispose:()=>{Ke!==null&&(Ke!==void 0?f.get(Ke)?.handler===_e&&f.delete(Ke):d===Q&&(d=void 0))}}},hasPendingResponse:()=>A.size>0,trace:async(Q,_e,Ke)=>{let ft=!1,Jt=$m.Text;Ke!==void 0&&(Rc.boolean(Ke)?ft=Ke:(ft=Ke.sendNotification||!1,Jt=Ke.traceFormat||$m.Text)),de=Q,ve=Jt,de===ls.Off?$=void 0:$=_e,ft&&!we()&&!Ee()&&await oe.sendNotification(oK.type,{value:ls.toString(Q)})},onError:ee.event,onClose:Pe.event,onUnhandledNotification:se.event,onDispose:Fe.event,end:()=>{e.end()},dispose:()=>{if(Ee())return;W=dy.Disposed,Fe.fire(void 0);let Q=new Li.ResponseError(Li.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let _e of A.values())_e.reject(Q);A=new Map,ne=new Map,U=new Set,z=new Xbe.LinkedMap,Rc.func(e.dispose)&&e.dispose(),Rc.func(r.dispose)&&r.dispose()},listen:()=>{$r(),kn(),W=dy.Listening,r.listen(jr)},inspect:()=>{(0,Jbe.default)().console.log("inspect")}};return oe.onNotification(W2.type,Q=>{if(de===ls.Off||!$)return;let _e=de===ls.Verbose||de===ls.Compact;$.log(Q.message,_e?Q.verbose:void 0)}),oe.onNotification(l1.type,async Q=>{let _e=T.get(Q.token);_e?await _e(Q.value):ue.fire(Q)}),oe}});var Wu=P(xt=>{"use strict";var ent=xt&&xt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xt,"__esModule",{value:!0});xt.ProgressType=xt.ProgressToken=xt.createMessageConnection=xt.NullLogger=xt.ConnectionOptions=xt.ConnectionStrategy=xt.AbstractMessageBuffer=xt.WriteableStreamMessageWriter=xt.AbstractMessageWriter=xt.MessageWriter=xt.ReadableStreamMessageReader=xt.AbstractMessageReader=xt.MessageReader=xt.SharedArrayReceiverStrategy=xt.SharedArraySenderStrategy=xt.CancellationToken=xt.CancellationTokenSource=xt.Emitter=xt.Event=xt.Disposable=xt.LRUCache=xt.Touch=xt.LinkedMap=xt.ParameterStructures=xt.NotificationType9=xt.NotificationType8=xt.NotificationType7=xt.NotificationType6=xt.NotificationType5=xt.NotificationType4=xt.NotificationType3=xt.NotificationType2=xt.NotificationType1=xt.NotificationType0=xt.NotificationType=xt.ErrorCodes=xt.ResponseError=xt.RequestType9=xt.RequestType8=xt.RequestType7=xt.RequestType6=xt.RequestType5=xt.RequestType4=xt.RequestType3=xt.RequestType2=xt.RequestType1=xt.RequestType0=xt.RequestType=xt.Message=xt.RAL=void 0;xt.MessageStrategy=xt.CancellationStrategy=xt.CancellationSenderStrategy=xt.RequestCancellationReceiverStrategy=xt.IdCancellationReceiverStrategy=xt.CancellationReceiverStrategy=xt.ConnectionError=xt.ConnectionErrors=xt.LogTraceNotification=xt.SetTraceNotification=xt.TraceFormat=xt.TraceValues=xt.TraceValue=xt.Trace=void 0;var pa=IG();Object.defineProperty(xt,"Message",{enumerable:!0,get:function(){return pa.Message}});Object.defineProperty(xt,"RequestType",{enumerable:!0,get:function(){return pa.RequestType}});Object.defineProperty(xt,"RequestType0",{enumerable:!0,get:function(){return pa.RequestType0}});Object.defineProperty(xt,"RequestType1",{enumerable:!0,get:function(){return pa.RequestType1}});Object.defineProperty(xt,"RequestType2",{enumerable:!0,get:function(){return pa.RequestType2}});Object.defineProperty(xt,"RequestType3",{enumerable:!0,get:function(){return pa.RequestType3}});Object.defineProperty(xt,"RequestType4",{enumerable:!0,get:function(){return pa.RequestType4}});Object.defineProperty(xt,"RequestType5",{enumerable:!0,get:function(){return pa.RequestType5}});Object.defineProperty(xt,"RequestType6",{enumerable:!0,get:function(){return pa.RequestType6}});Object.defineProperty(xt,"RequestType7",{enumerable:!0,get:function(){return pa.RequestType7}});Object.defineProperty(xt,"RequestType8",{enumerable:!0,get:function(){return pa.RequestType8}});Object.defineProperty(xt,"RequestType9",{enumerable:!0,get:function(){return pa.RequestType9}});Object.defineProperty(xt,"ResponseError",{enumerable:!0,get:function(){return pa.ResponseError}});Object.defineProperty(xt,"ErrorCodes",{enumerable:!0,get:function(){return pa.ErrorCodes}});Object.defineProperty(xt,"NotificationType",{enumerable:!0,get:function(){return pa.NotificationType}});Object.defineProperty(xt,"NotificationType0",{enumerable:!0,get:function(){return pa.NotificationType0}});Object.defineProperty(xt,"NotificationType1",{enumerable:!0,get:function(){return pa.NotificationType1}});Object.defineProperty(xt,"NotificationType2",{enumerable:!0,get:function(){return pa.NotificationType2}});Object.defineProperty(xt,"NotificationType3",{enumerable:!0,get:function(){return pa.NotificationType3}});Object.defineProperty(xt,"NotificationType4",{enumerable:!0,get:function(){return pa.NotificationType4}});Object.defineProperty(xt,"NotificationType5",{enumerable:!0,get:function(){return pa.NotificationType5}});Object.defineProperty(xt,"NotificationType6",{enumerable:!0,get:function(){return pa.NotificationType6}});Object.defineProperty(xt,"NotificationType7",{enumerable:!0,get:function(){return pa.NotificationType7}});Object.defineProperty(xt,"NotificationType8",{enumerable:!0,get:function(){return pa.NotificationType8}});Object.defineProperty(xt,"NotificationType9",{enumerable:!0,get:function(){return pa.NotificationType9}});Object.defineProperty(xt,"ParameterStructures",{enumerable:!0,get:function(){return pa.ParameterStructures}});var cK=AG();Object.defineProperty(xt,"LinkedMap",{enumerable:!0,get:function(){return cK.LinkedMap}});Object.defineProperty(xt,"LRUCache",{enumerable:!0,get:function(){return cK.LRUCache}});Object.defineProperty(xt,"Touch",{enumerable:!0,get:function(){return cK.Touch}});var tnt=jbe();Object.defineProperty(xt,"Disposable",{enumerable:!0,get:function(){return tnt.Disposable}});var e_e=UP();Object.defineProperty(xt,"Event",{enumerable:!0,get:function(){return e_e.Event}});Object.defineProperty(xt,"Emitter",{enumerable:!0,get:function(){return e_e.Emitter}});var t_e=j2();Object.defineProperty(xt,"CancellationTokenSource",{enumerable:!0,get:function(){return t_e.CancellationTokenSource}});Object.defineProperty(xt,"CancellationToken",{enumerable:!0,get:function(){return t_e.CancellationToken}});var r_e=Ube();Object.defineProperty(xt,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return r_e.SharedArraySenderStrategy}});Object.defineProperty(xt,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return r_e.SharedArrayReceiverStrategy}});var uK=Wbe();Object.defineProperty(xt,"MessageReader",{enumerable:!0,get:function(){return uK.MessageReader}});Object.defineProperty(xt,"AbstractMessageReader",{enumerable:!0,get:function(){return uK.AbstractMessageReader}});Object.defineProperty(xt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return uK.ReadableStreamMessageReader}});var lK=Kbe();Object.defineProperty(xt,"MessageWriter",{enumerable:!0,get:function(){return lK.MessageWriter}});Object.defineProperty(xt,"AbstractMessageWriter",{enumerable:!0,get:function(){return lK.AbstractMessageWriter}});Object.defineProperty(xt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return lK.WriteableStreamMessageWriter}});var rnt=Ybe();Object.defineProperty(xt,"AbstractMessageBuffer",{enumerable:!0,get:function(){return rnt.AbstractMessageBuffer}});var Hu=Zbe();Object.defineProperty(xt,"ConnectionStrategy",{enumerable:!0,get:function(){return Hu.ConnectionStrategy}});Object.defineProperty(xt,"ConnectionOptions",{enumerable:!0,get:function(){return Hu.ConnectionOptions}});Object.defineProperty(xt,"NullLogger",{enumerable:!0,get:function(){return Hu.NullLogger}});Object.defineProperty(xt,"createMessageConnection",{enumerable:!0,get:function(){return Hu.createMessageConnection}});Object.defineProperty(xt,"ProgressToken",{enumerable:!0,get:function(){return Hu.ProgressToken}});Object.defineProperty(xt,"ProgressType",{enumerable:!0,get:function(){return Hu.ProgressType}});Object.defineProperty(xt,"Trace",{enumerable:!0,get:function(){return Hu.Trace}});Object.defineProperty(xt,"TraceValue",{enumerable:!0,get:function(){return Hu.TraceValue}});Object.defineProperty(xt,"TraceFormat",{enumerable:!0,get:function(){return Hu.TraceFormat}});Object.defineProperty(xt,"SetTraceNotification",{enumerable:!0,get:function(){return Hu.SetTraceNotification}});Object.defineProperty(xt,"LogTraceNotification",{enumerable:!0,get:function(){return Hu.LogTraceNotification}});Object.defineProperty(xt,"ConnectionErrors",{enumerable:!0,get:function(){return Hu.ConnectionErrors}});Object.defineProperty(xt,"ConnectionError",{enumerable:!0,get:function(){return Hu.ConnectionError}});Object.defineProperty(xt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Hu.CancellationReceiverStrategy}});Object.defineProperty(xt,"IdCancellationReceiverStrategy",{enumerable:!0,get:function(){return Hu.IdCancellationReceiverStrategy}});Object.defineProperty(xt,"RequestCancellationReceiverStrategy",{enumerable:!0,get:function(){return Hu.RequestCancellationReceiverStrategy}});Object.defineProperty(xt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Hu.CancellationSenderStrategy}});Object.defineProperty(xt,"CancellationStrategy",{enumerable:!0,get:function(){return Hu.CancellationStrategy}});Object.defineProperty(xt,"MessageStrategy",{enumerable:!0,get:function(){return Hu.MessageStrategy}});Object.defineProperty(xt,"TraceValues",{enumerable:!0,get:function(){return Hu.TraceValues}});var nnt=ent(yC());xt.RAL=nnt.default});var oj={};NO(oj,{AnnotatedTextEdit:()=>mw,ApplyKind:()=>kK,ChangeAnnotation:()=>_C,ChangeAnnotationIdentifier:()=>Zl,CodeAction:()=>KK,CodeActionContext:()=>GK,CodeActionKind:()=>VK,CodeActionTag:()=>tj,CodeActionTriggerKind:()=>b1,CodeDescription:()=>_K,CodeLens:()=>YK,Color:()=>J2,ColorInformation:()=>hK,ColorPresentation:()=>mK,Command:()=>pT,CompletionItem:()=>MK,CompletionItemKind:()=>RK,CompletionItemLabelDetails:()=>AK,CompletionItemTag:()=>EK,CompletionList:()=>LK,CreateFile:()=>GP,DeleteFile:()=>YP,Diagnostic:()=>m1,DiagnosticRelatedInformation:()=>X2,DiagnosticSeverity:()=>yK,DiagnosticTag:()=>bK,DocumentHighlight:()=>zK,DocumentHighlightKind:()=>jK,DocumentLink:()=>XK,DocumentSymbol:()=>$K,DocumentUri:()=>dK,EOL:()=>int,FoldingRange:()=>vK,FoldingRangeKind:()=>gK,FormattingOptions:()=>JK,Hover:()=>NK,InlayHint:()=>s9,InlayHintKind:()=>rj,InlayHintLabelPart:()=>nj,InlineCompletionContext:()=>d9,InlineCompletionItem:()=>a9,InlineCompletionList:()=>c9,InlineCompletionTriggerKind:()=>u9,InlineValueContext:()=>o9,InlineValueEvaluatableExpression:()=>i9,InlineValueText:()=>r9,InlineValueVariableLookup:()=>n9,InsertReplaceEdit:()=>OK,InsertTextFormat:()=>xK,InsertTextMode:()=>IK,LanguageKind:()=>TK,Location:()=>h1,LocationLink:()=>pK,MarkedString:()=>y1,MarkupContent:()=>JP,MarkupKind:()=>ej,OptionalVersionedTextDocumentIdentifier:()=>v1,ParameterInformation:()=>FK,Position:()=>rv,Range:()=>xc,RenameFile:()=>KP,SelectedCompletionInfo:()=>l9,SelectionRange:()=>QK,SemanticTokenModifiers:()=>e9,SemanticTokenTypes:()=>ZK,SemanticTokens:()=>t9,SignatureInformation:()=>qK,SnippetTextEdit:()=>wK,StringValue:()=>ij,SymbolInformation:()=>WK,SymbolKind:()=>UK,SymbolTag:()=>HK,TextDocument:()=>p9,TextDocumentEdit:()=>g1,TextDocumentIdentifier:()=>CK,TextDocumentItem:()=>PK,TextEdit:()=>Ib,URI:()=>Y2,VersionedTextDocumentIdentifier:()=>DK,WorkspaceChange:()=>SK,WorkspaceEdit:()=>Q2,WorkspaceFolder:()=>f9,WorkspaceSymbol:()=>BK,integer:()=>fK,uinteger:()=>p1});var dK,Y2,fK,p1,rv,xc,h1,pK,J2,hK,mK,gK,vK,X2,yK,bK,_K,m1,pT,Ib,_C,Zl,mw,g1,GP,KP,YP,Q2,VP,wK,Z2,SK,CK,DK,v1,TK,PK,ej,JP,RK,xK,EK,OK,IK,kK,AK,MK,LK,y1,NK,FK,qK,jK,zK,UK,HK,WK,BK,$K,VK,b1,GK,tj,KK,YK,JK,XK,QK,ZK,e9,t9,r9,n9,i9,o9,rj,nj,s9,ij,a9,c9,u9,l9,d9,f9,int,p9,h9,dt,sj=Ti(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})(dK||(dK={}));(function(r){function e(t){return typeof t=="string"}r.is=e})(Y2||(Y2={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(fK||(fK={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(p1||(p1={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=p1.MAX_VALUE),i===Number.MAX_VALUE&&(i=p1.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.line)&&dt.uinteger(i.character)}r.is=t})(rv||(rv={}));(function(r){function e(n,i,o,s){if(dt.uinteger(n)&&dt.uinteger(i)&&dt.uinteger(o)&&dt.uinteger(s))return{start:rv.create(n,i),end:rv.create(o,s)};if(rv.is(n)&&rv.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&rv.is(i.start)&&rv.is(i.end)}r.is=t})(xc||(xc={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&xc.is(i.range)&&(dt.string(i.uri)||dt.undefined(i.uri))}r.is=t})(h1||(h1={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&xc.is(i.targetRange)&&dt.string(i.targetUri)&&xc.is(i.targetSelectionRange)&&(xc.is(i.originSelectionRange)||dt.undefined(i.originSelectionRange))}r.is=t})(pK||(pK={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.numberRange(i.red,0,1)&&dt.numberRange(i.green,0,1)&&dt.numberRange(i.blue,0,1)&&dt.numberRange(i.alpha,0,1)}r.is=t})(J2||(J2={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&xc.is(i.range)&&J2.is(i.color)}r.is=t})(hK||(hK={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.undefined(i.textEdit)||Ib.is(i))&&(dt.undefined(i.additionalTextEdits)||dt.typedArray(i.additionalTextEdits,Ib.is))}r.is=t})(mK||(mK={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(gK||(gK={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return dt.defined(o)&&(u.startCharacter=o),dt.defined(s)&&(u.endCharacter=s),dt.defined(a)&&(u.kind=a),dt.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.uinteger(i.startLine)&&dt.uinteger(i.startLine)&&(dt.undefined(i.startCharacter)||dt.uinteger(i.startCharacter))&&(dt.undefined(i.endCharacter)||dt.uinteger(i.endCharacter))&&(dt.undefined(i.kind)||dt.string(i.kind))}r.is=t})(vK||(vK={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&h1.is(i.location)&&dt.string(i.message)}r.is=t})(X2||(X2={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(yK||(yK={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(bK||(bK={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&dt.string(n.href)}r.is=e})(_K||(_K={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return dt.defined(o)&&(u.severity=o),dt.defined(s)&&(u.code=s),dt.defined(a)&&(u.source=a),dt.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return dt.defined(o)&&xc.is(o.range)&&dt.string(o.message)&&(dt.number(o.severity)||dt.undefined(o.severity))&&(dt.integer(o.code)||dt.string(o.code)||dt.undefined(o.code))&&(dt.undefined(o.codeDescription)||dt.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(dt.string(o.source)||dt.undefined(o.source))&&(dt.undefined(o.relatedInformation)||dt.typedArray(o.relatedInformation,X2.is))}r.is=t})(m1||(m1={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return dt.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.title)&&(i.tooltip===void 0||dt.string(i.tooltip))&&dt.string(i.command)}r.is=t})(pT||(pT={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return dt.objectLiteral(s)&&dt.string(s.newText)&&xc.is(s.range)}r.is=i})(Ib||(Ib={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&dt.string(i.label)&&(dt.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(dt.string(i.description)||i.description===void 0)}r.is=t})(_C||(_C={}));(function(r){function e(t){let n=t;return dt.string(n)}r.is=e})(Zl||(Zl={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return Ib.is(s)&&(_C.is(s.annotationId)||Zl.is(s.annotationId))}r.is=i})(mw||(mw={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&v1.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})(g1||(g1={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&dt.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Zl.is(i.annotationId))}r.is=t})(GP||(GP={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&dt.string(i.oldUri)&&dt.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||dt.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||dt.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Zl.is(i.annotationId))}r.is=t})(KP||(KP={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&dt.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||dt.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||dt.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Zl.is(i.annotationId))}r.is=t})(YP||(YP={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>dt.string(i.kind)?GP.is(i)||KP.is(i)||YP.is(i):g1.is(i)))}r.is=e})(Q2||(Q2={}));VP=class{constructor(e,t){this.edits=e,this.changeAnnotations=t}insert(e,t,n){let i,o;if(n===void 0?i=Ib.insert(e,t):Zl.is(n)?(o=n,i=mw.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=mw.insert(e,t,o)),this.edits.push(i),o!==void 0)return o}replace(e,t,n){let i,o;if(n===void 0?i=Ib.replace(e,t):Zl.is(n)?(o=n,i=mw.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=mw.replace(e,t,o)),this.edits.push(i),o!==void 0)return o}delete(e,t){let n,i;if(t===void 0?n=Ib.del(e):Zl.is(t)?(i=t,n=mw.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(t),n=mw.del(e,i)),this.edits.push(n),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}};(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&xc.is(n.range)&&ij.isSnippet(n.snippet)&&(n.annotationId===void 0||_C.is(n.annotationId)||Zl.is(n.annotationId))}r.is=e})(wK||(wK={}));Z2=class{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,t){let n;if(Zl.is(e)?n=e:(n=this.nextId(),t=e),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(t===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=t,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},SK=class{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Z2(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(t=>{if(g1.is(t)){let n=new VP(t.edits,this._changeAnnotations);this._textEditChanges[t.textDocument.uri]=n}})):e.changes&&Object.keys(e.changes).forEach(t=>{let n=new VP(e.changes[t]);this._textEditChanges[t]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(v1.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let t={uri:e.uri,version:e.version},n=this._textEditChanges[t.uri];if(!n){let i=[],o={textDocument:t,edits:i};this._workspaceEdit.documentChanges.push(o),n=new VP(i,this._changeAnnotations),this._textEditChanges[t.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let t=this._textEditChanges[e];if(!t){let n=[];this._workspaceEdit.changes[e]=n,t=new VP(n),this._textEditChanges[e]=t}return t}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Z2,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;_C.is(t)||Zl.is(t)?i=t:n=t;let o,s;if(i===void 0?o=GP.create(e,n):(s=Zl.is(i)?i:this._changeAnnotations.manage(i),o=GP.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(e,t,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;_C.is(n)||Zl.is(n)?o=n:i=n;let s,a;if(o===void 0?s=KP.create(e,t,i):(a=Zl.is(o)?o:this._changeAnnotations.manage(o),s=KP.create(e,t,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}deleteFile(e,t,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;_C.is(t)||Zl.is(t)?i=t:n=t;let o,s;if(i===void 0?o=YP.create(e,n):(s=Zl.is(i)?i:this._changeAnnotations.manage(i),o=YP.create(e,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}};(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)}r.is=t})(CK||(CK={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.integer(i.version)}r.is=t})(DK||(DK={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&(i.version===null||dt.integer(i.version))}r.is=t})(v1||(v1={}));(function(r){r.ABAP="abap",r.WindowsBat="bat",r.BibTeX="bibtex",r.Clojure="clojure",r.Coffeescript="coffeescript",r.C="c",r.CPP="cpp",r.CSharp="csharp",r.CSS="css",r.D="d",r.Delphi="pascal",r.Diff="diff",r.Dart="dart",r.Dockerfile="dockerfile",r.Elixir="elixir",r.Erlang="erlang",r.FSharp="fsharp",r.GitCommit="git-commit",r.GitRebase="rebase",r.Go="go",r.Groovy="groovy",r.Handlebars="handlebars",r.Haskell="haskell",r.HTML="html",r.Ini="ini",r.Java="java",r.JavaScript="javascript",r.JavaScriptReact="javascriptreact",r.JSON="json",r.LaTeX="latex",r.Less="less",r.Lua="lua",r.Makefile="makefile",r.Markdown="markdown",r.ObjectiveC="objective-c",r.ObjectiveCPP="objective-cpp",r.Pascal="pascal",r.Perl="perl",r.Perl6="perl6",r.PHP="php",r.Powershell="powershell",r.Pug="jade",r.Python="python",r.R="r",r.Razor="razor",r.Ruby="ruby",r.Rust="rust",r.SCSS="scss",r.SASS="sass",r.Scala="scala",r.ShaderLab="shaderlab",r.ShellScript="shellscript",r.SQL="sql",r.Swift="swift",r.TypeScript="typescript",r.TypeScriptReact="typescriptreact",r.TeX="tex",r.VisualBasic="vb",r.XML="xml",r.XSL="xsl",r.YAML="yaml"})(TK||(TK={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.string(i.uri)&&dt.string(i.languageId)&&dt.integer(i.version)&&dt.string(i.text)}r.is=t})(PK||(PK={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})(ej||(ej={}));(function(r){function e(t){let n=t;return dt.objectLiteral(t)&&ej.is(n.kind)&&dt.string(n.value)}r.is=e})(JP||(JP={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(RK||(RK={}));(function(r){r.PlainText=1,r.Snippet=2})(xK||(xK={}));(function(r){r.Deprecated=1})(EK||(EK={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&dt.string(i.newText)&&xc.is(i.insert)&&xc.is(i.replace)}r.is=t})(OK||(OK={}));(function(r){r.asIs=1,r.adjustIndentation=2})(IK||(IK={}));(function(r){r.Replace=1,r.Merge=2})(kK||(kK={}));(function(r){function e(t){let n=t;return n&&(dt.string(n.detail)||n.detail===void 0)&&(dt.string(n.description)||n.description===void 0)}r.is=e})(AK||(AK={}));(function(r){function e(t){return{label:t}}r.create=e})(MK||(MK={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})(LK||(LK={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return dt.string(i)||dt.objectLiteral(i)&&dt.string(i.language)&&dt.string(i.value)}r.is=t})(y1||(y1={}));(function(r){function e(t){let n=t;return!!n&&dt.objectLiteral(n)&&(JP.is(n.contents)||y1.is(n.contents)||dt.typedArray(n.contents,y1.is))&&(t.range===void 0||xc.is(t.range))}r.is=e})(NK||(NK={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})(FK||(FK={}));(function(r){function e(t,n,...i){let o={label:t};return dt.defined(n)&&(o.documentation=n),dt.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(qK||(qK={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(jK||(jK={}));(function(r){function e(t,n){let i={range:t};return dt.number(n)&&(i.kind=n),i}r.create=e})(zK||(zK={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(UK||(UK={}));(function(r){r.Deprecated=1})(HK||(HK={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(WK||(WK={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(BK||(BK={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&dt.string(i.name)&&dt.number(i.kind)&&xc.is(i.range)&&xc.is(i.selectionRange)&&(i.detail===void 0||dt.string(i.detail))&&(i.deprecated===void 0||dt.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})($K||($K={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorMove="refactor.move",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll",r.Notebook="notebook"})(VK||(VK={}));(function(r){r.Invoked=1,r.Automatic=2})(b1||(b1={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.typedArray(i.diagnostics,m1.is)&&(i.only===void 0||dt.typedArray(i.only,dt.string))&&(i.triggerKind===void 0||i.triggerKind===b1.Invoked||i.triggerKind===b1.Automatic)}r.is=t})(GK||(GK={}));(function(r){r.LLMGenerated=1;function e(t){return dt.defined(t)&&t===r.LLMGenerated}r.is=e})(tj||(tj={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):pT.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&dt.string(i.title)&&(i.diagnostics===void 0||dt.typedArray(i.diagnostics,m1.is))&&(i.kind===void 0||dt.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||pT.is(i.command))&&(i.isPreferred===void 0||dt.boolean(i.isPreferred))&&(i.edit===void 0||Q2.is(i.edit))&&(i.tags===void 0||dt.typedArray(i.tags,tj.is))}r.is=t})(KK||(KK={}));(function(r){function e(n,i){let o={range:n};return dt.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return dt.defined(i)&&xc.is(i.range)&&(dt.undefined(i.command)||pT.is(i.command))}r.is=t})(YK||(YK={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&dt.uinteger(i.tabSize)&&dt.boolean(i.insertSpaces)}r.is=t})(JK||(JK={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return dt.defined(i)&&xc.is(i.range)&&(dt.undefined(i.target)||dt.string(i.target))}r.is=t})(XK||(XK={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&xc.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(QK||(QK={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator",r.label="label"})(ZK||(ZK={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(e9||(e9={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(t9||(t9={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&xc.is(i.range)&&dt.string(i.text)}r.is=t})(r9||(r9={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&xc.is(i.range)&&dt.boolean(i.caseSensitiveLookup)&&(dt.string(i.variableName)||i.variableName===void 0)}r.is=t})(n9||(n9={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&xc.is(i.range)&&(dt.string(i.expression)||i.expression===void 0)}r.is=t})(i9||(i9={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return dt.defined(i)&&xc.is(n.stoppedLocation)}r.is=t})(o9||(o9={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(rj||(rj={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&(i.tooltip===void 0||dt.string(i.tooltip)||JP.is(i.tooltip))&&(i.location===void 0||h1.is(i.location))&&(i.command===void 0||pT.is(i.command))}r.is=t})(nj||(nj={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return dt.objectLiteral(i)&&rv.is(i.position)&&(dt.string(i.label)||dt.typedArray(i.label,nj.is))&&(i.kind===void 0||rj.is(i.kind))&&i.textEdits===void 0||dt.typedArray(i.textEdits,Ib.is)&&(i.tooltip===void 0||dt.string(i.tooltip)||JP.is(i.tooltip))&&(i.paddingLeft===void 0||dt.boolean(i.paddingLeft))&&(i.paddingRight===void 0||dt.boolean(i.paddingRight))}r.is=t})(s9||(s9={}));(function(r){function e(n){return{kind:"snippet",value:n}}r.createSnippet=e;function t(n){let i=n;return dt.objectLiteral(i)&&i.kind==="snippet"&&dt.string(i.value)}r.isSnippet=t})(ij||(ij={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(a9||(a9={}));(function(r){function e(t){return{items:t}}r.create=e})(c9||(c9={}));(function(r){r.Invoked=1,r.Automatic=2})(u9||(u9={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(l9||(l9={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})(d9||(d9={}));(function(r){function e(t){let n=t;return dt.objectLiteral(n)&&Y2.is(n.uri)&&dt.string(n.name)}r.is=e})(f9||(f9={}));int=[`
`,`\r
`,"\r"];(function(r){function e(o,s,a,c){return new h9(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(dt.defined(s)&&dt.string(s.uri)&&(dt.undefined(s.languageId)||dt.string(s.languageId))&&dt.uinteger(s.lineCount)&&dt.func(s.getText)&&dt.func(s.positionAt)&&dt.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),y=o.offsetAt(d.range.end);if(y<=u)a=a.substring(0,f)+d.newText+a.substring(y,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(p9||(p9={}));h9=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return rv.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return rv.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(y){return typeof y<"u"}r.defined=t;function n(y){return typeof y>"u"}r.undefined=n;function i(y){return y===!0||y===!1}r.boolean=i;function o(y){return e.call(y)==="[object String]"}r.string=o;function s(y){return e.call(y)==="[object Number]"}r.number=s;function a(y,b,T){return e.call(y)==="[object Number]"&&b<=y&&y<=T}r.numberRange=a;function c(y){return e.call(y)==="[object Number]"&&-2147483648<=y&&y<=2147483647}r.integer=c;function u(y){return e.call(y)==="[object Number]"&&0<=y&&y<=2147483647}r.uinteger=u;function l(y){return e.call(y)==="[object Function]"}r.func=l;function d(y){return y!==null&&typeof y=="object"}r.objectLiteral=d;function f(y,b){return Array.isArray(y)&&y.every(b)}r.typedArray=f})(dt||(dt={}))});var Oa=P(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.CM=Ff.ProtocolNotificationType=Ff.ProtocolNotificationType0=Ff.ProtocolRequestType=Ff.ProtocolRequestType0=Ff.RegistrationType=Ff.MessageDirection=void 0;var XP=Wu(),n_e;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})(n_e||(Ff.MessageDirection=n_e={}));var m9=class{____;method;constructor(e){this.method=e}};Ff.RegistrationType=m9;var g9=class extends XP.RequestType0{__;___;____;_pr;constructor(e){super(e)}};Ff.ProtocolRequestType0=g9;var v9=class extends XP.RequestType{__;___;____;_pr;constructor(e){super(e,XP.ParameterStructures.byName)}};Ff.ProtocolRequestType=v9;var y9=class extends XP.NotificationType0{___;____;constructor(e){super(e)}};Ff.ProtocolNotificationType0=y9;var b9=class extends XP.NotificationType{___;____;constructor(e){super(e,XP.ParameterStructures.byName)}};Ff.ProtocolNotificationType=b9;var i_e;(function(r){function e(t,n){return{client:t,server:n}}r.create=e})(i_e||(Ff.CM=i_e={}))});var aj=P(fy=>{"use strict";Object.defineProperty(fy,"__esModule",{value:!0});fy.boolean=ont;fy.string=o_e;fy.number=snt;fy.error=ant;fy.func=cnt;fy.array=s_e;fy.stringArray=unt;fy.typedArray=lnt;fy.objectLiteral=dnt;function ont(r){return r===!0||r===!1}function o_e(r){return typeof r=="string"||r instanceof String}function snt(r){return typeof r=="number"||r instanceof Number}function ant(r){return r instanceof Error}function cnt(r){return typeof r=="function"}function s_e(r){return Array.isArray(r)}function unt(r){return s_e(r)&&r.every(e=>o_e(e))}function lnt(r,e){return Array.isArray(r)&&r.every(e)}function dnt(r){return r!==null&&typeof r=="object"}});var c_e=P(cj=>{"use strict";Object.defineProperty(cj,"__esModule",{value:!0});cj.ImplementationRequest=void 0;var _9=Oa(),a_e;(function(r){r.method="textDocument/implementation",r.messageDirection=_9.MessageDirection.clientToServer,r.type=new _9.ProtocolRequestType(r.method),r.capabilities=_9.CM.create("textDocument.implementation","implementationProvider")})(a_e||(cj.ImplementationRequest=a_e={}))});var l_e=P(uj=>{"use strict";Object.defineProperty(uj,"__esModule",{value:!0});uj.TypeDefinitionRequest=void 0;var w9=Oa(),u_e;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=w9.MessageDirection.clientToServer,r.type=new w9.ProtocolRequestType(r.method),r.capabilities=w9.CM.create("textDocument.typeDefinition","typeDefinitionProvider")})(u_e||(uj.TypeDefinitionRequest=u_e={}))});var p_e=P(ZP=>{"use strict";Object.defineProperty(ZP,"__esModule",{value:!0});ZP.DidChangeWorkspaceFoldersNotification=ZP.WorkspaceFoldersRequest=void 0;var QP=Oa(),d_e;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=QP.MessageDirection.serverToClient,r.type=new QP.ProtocolRequestType0(r.method),r.capabilities=QP.CM.create("workspace.workspaceFolders","workspace.workspaceFolders")})(d_e||(ZP.WorkspaceFoldersRequest=d_e={}));var f_e;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=QP.MessageDirection.clientToServer,r.type=new QP.ProtocolNotificationType(r.method),r.capabilities=QP.CM.create(void 0,"workspace.workspaceFolders.changeNotifications")})(f_e||(ZP.DidChangeWorkspaceFoldersNotification=f_e={}))});var m_e=P(lj=>{"use strict";Object.defineProperty(lj,"__esModule",{value:!0});lj.ConfigurationRequest=void 0;var S9=Oa(),h_e;(function(r){r.method="workspace/configuration",r.messageDirection=S9.MessageDirection.serverToClient,r.type=new S9.ProtocolRequestType(r.method),r.capabilities=S9.CM.create("workspace.configuration",void 0)})(h_e||(lj.ConfigurationRequest=h_e={}))});var y_e=P(eR=>{"use strict";Object.defineProperty(eR,"__esModule",{value:!0});eR.ColorPresentationRequest=eR.DocumentColorRequest=void 0;var _1=Oa(),g_e;(function(r){r.method="textDocument/documentColor",r.messageDirection=_1.MessageDirection.clientToServer,r.type=new _1.ProtocolRequestType(r.method),r.capabilities=_1.CM.create("textDocument.colorProvider","colorProvider")})(g_e||(eR.DocumentColorRequest=g_e={}));var v_e;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=_1.MessageDirection.clientToServer,r.type=new _1.ProtocolRequestType(r.method)})(v_e||(eR.ColorPresentationRequest=v_e={}))});var S_e=P(rR=>{"use strict";Object.defineProperty(rR,"__esModule",{value:!0});rR.FoldingRangeRefreshRequest=rR.FoldingRangeRequest=void 0;var tR=Oa(),b_e;(function(r){r.method="textDocument/foldingRange",r.messageDirection=tR.MessageDirection.clientToServer,r.type=new tR.ProtocolRequestType(r.method),r.capabilities=tR.CM.create("textDocument.foldingRange","foldingRangeProvider")})(b_e||(rR.FoldingRangeRequest=b_e={}));var w_e;(function(r){r.method="workspace/foldingRange/refresh",r.messageDirection=tR.MessageDirection.serverToClient,r.type=new tR.ProtocolRequestType0(r.method),r.capabilities=tR.CM.create("workspace.foldingRange.refreshSupport",void 0)})(w_e||(rR.FoldingRangeRefreshRequest=w_e={}))});var D_e=P(dj=>{"use strict";Object.defineProperty(dj,"__esModule",{value:!0});dj.DeclarationRequest=void 0;var C9=Oa(),C_e;(function(r){r.method="textDocument/declaration",r.messageDirection=C9.MessageDirection.clientToServer,r.type=new C9.ProtocolRequestType(r.method),r.capabilities=C9.CM.create("textDocument.declaration","declarationProvider")})(C_e||(dj.DeclarationRequest=C_e={}))});var P_e=P(fj=>{"use strict";Object.defineProperty(fj,"__esModule",{value:!0});fj.SelectionRangeRequest=void 0;var D9=Oa(),T_e;(function(r){r.method="textDocument/selectionRange",r.messageDirection=D9.MessageDirection.clientToServer,r.type=new D9.ProtocolRequestType(r.method),r.capabilities=D9.CM.create("textDocument.selectionRange","selectionRangeProvider")})(T_e||(fj.SelectionRangeRequest=T_e={}))});var O_e=P(wC=>{"use strict";Object.defineProperty(wC,"__esModule",{value:!0});wC.WorkDoneProgressCancelNotification=wC.WorkDoneProgressCreateRequest=wC.WorkDoneProgress=void 0;var fnt=Wu(),w1=Oa(),R_e;(function(r){r.type=new fnt.ProgressType;function e(t){return t===r.type}r.is=e})(R_e||(wC.WorkDoneProgress=R_e={}));var x_e;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=w1.MessageDirection.serverToClient,r.type=new w1.ProtocolRequestType(r.method),r.capabilities=w1.CM.create("window.workDoneProgress",void 0)})(x_e||(wC.WorkDoneProgressCreateRequest=x_e={}));var E_e;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=w1.MessageDirection.clientToServer,r.type=new w1.ProtocolNotificationType(r.method)})(E_e||(wC.WorkDoneProgressCancelNotification=E_e={}))});var M_e=P(SC=>{"use strict";Object.defineProperty(SC,"__esModule",{value:!0});SC.CallHierarchyOutgoingCallsRequest=SC.CallHierarchyIncomingCallsRequest=SC.CallHierarchyPrepareRequest=void 0;var hT=Oa(),I_e;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=hT.MessageDirection.clientToServer,r.type=new hT.ProtocolRequestType(r.method),r.capabilities=hT.CM.create("textDocument.callHierarchy","callHierarchyProvider")})(I_e||(SC.CallHierarchyPrepareRequest=I_e={}));var k_e;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=hT.MessageDirection.clientToServer,r.type=new hT.ProtocolRequestType(r.method)})(k_e||(SC.CallHierarchyIncomingCallsRequest=k_e={}));var A_e;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=hT.MessageDirection.clientToServer,r.type=new hT.ProtocolRequestType(r.method)})(A_e||(SC.CallHierarchyOutgoingCallsRequest=A_e={}))});var z_e=P(Wh=>{"use strict";Object.defineProperty(Wh,"__esModule",{value:!0});Wh.SemanticTokensRefreshRequest=Wh.SemanticTokensRangeRequest=Wh.SemanticTokensDeltaRequest=Wh.SemanticTokensRequest=Wh.SemanticTokensRegistrationType=Wh.TokenFormat=void 0;var Vm=Oa(),L_e;(function(r){r.Relative="relative"})(L_e||(Wh.TokenFormat=L_e={}));var S1;(function(r){r.method="textDocument/semanticTokens",r.type=new Vm.RegistrationType(r.method)})(S1||(Wh.SemanticTokensRegistrationType=S1={}));var N_e;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=Vm.MessageDirection.clientToServer,r.type=new Vm.ProtocolRequestType(r.method),r.registrationMethod=S1.method,r.capabilities=Vm.CM.create("textDocument.semanticTokens","semanticTokensProvider")})(N_e||(Wh.SemanticTokensRequest=N_e={}));var F_e;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=Vm.MessageDirection.clientToServer,r.type=new Vm.ProtocolRequestType(r.method),r.registrationMethod=S1.method,r.capabilities=Vm.CM.create("textDocument.semanticTokens.requests.full.delta","semanticTokensProvider.full.delta")})(F_e||(Wh.SemanticTokensDeltaRequest=F_e={}));var q_e;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=Vm.MessageDirection.clientToServer,r.type=new Vm.ProtocolRequestType(r.method),r.registrationMethod=S1.method,r.capabilities=Vm.CM.create("textDocument.semanticTokens.requests.range","semanticTokensProvider.range")})(q_e||(Wh.SemanticTokensRangeRequest=q_e={}));var j_e;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=Vm.MessageDirection.serverToClient,r.type=new Vm.ProtocolRequestType0(r.method),r.capabilities=Vm.CM.create("workspace.semanticTokens.refreshSupport",void 0)})(j_e||(Wh.SemanticTokensRefreshRequest=j_e={}))});var H_e=P(pj=>{"use strict";Object.defineProperty(pj,"__esModule",{value:!0});pj.ShowDocumentRequest=void 0;var T9=Oa(),U_e;(function(r){r.method="window/showDocument",r.messageDirection=T9.MessageDirection.serverToClient,r.type=new T9.ProtocolRequestType(r.method),r.capabilities=T9.CM.create("window.showDocument.support",void 0)})(U_e||(pj.ShowDocumentRequest=U_e={}))});var B_e=P(hj=>{"use strict";Object.defineProperty(hj,"__esModule",{value:!0});hj.LinkedEditingRangeRequest=void 0;var P9=Oa(),W_e;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=P9.MessageDirection.clientToServer,r.type=new P9.ProtocolRequestType(r.method),r.capabilities=P9.CM.create("textDocument.linkedEditingRange","linkedEditingRangeProvider")})(W_e||(hj.LinkedEditingRangeRequest=W_e={}))});var Q_e=P(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});qf.WillDeleteFilesRequest=qf.DidDeleteFilesNotification=qf.DidRenameFilesNotification=qf.WillRenameFilesRequest=qf.DidCreateFilesNotification=qf.WillCreateFilesRequest=qf.FileOperationPatternKind=void 0;var ed=Oa(),$_e;(function(r){r.file="file",r.folder="folder"})($_e||(qf.FileOperationPatternKind=$_e={}));var V_e;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=ed.MessageDirection.clientToServer,r.type=new ed.ProtocolRequestType(r.method),r.capabilities=ed.CM.create("workspace.fileOperations.willCreate","workspace.fileOperations.willCreate")})(V_e||(qf.WillCreateFilesRequest=V_e={}));var G_e;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=ed.MessageDirection.clientToServer,r.type=new ed.ProtocolNotificationType(r.method),r.capabilities=ed.CM.create("workspace.fileOperations.didCreate","workspace.fileOperations.didCreate")})(G_e||(qf.DidCreateFilesNotification=G_e={}));var K_e;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=ed.MessageDirection.clientToServer,r.type=new ed.ProtocolRequestType(r.method),r.capabilities=ed.CM.create("workspace.fileOperations.willRename","workspace.fileOperations.willRename")})(K_e||(qf.WillRenameFilesRequest=K_e={}));var Y_e;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=ed.MessageDirection.clientToServer,r.type=new ed.ProtocolNotificationType(r.method),r.capabilities=ed.CM.create("workspace.fileOperations.didRename","workspace.fileOperations.didRename")})(Y_e||(qf.DidRenameFilesNotification=Y_e={}));var J_e;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=ed.MessageDirection.clientToServer,r.type=new ed.ProtocolNotificationType(r.method),r.capabilities=ed.CM.create("workspace.fileOperations.didDelete","workspace.fileOperations.didDelete")})(J_e||(qf.DidDeleteFilesNotification=J_e={}));var X_e;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=ed.MessageDirection.clientToServer,r.type=new ed.ProtocolRequestType(r.method),r.capabilities=ed.CM.create("workspace.fileOperations.willDelete","workspace.fileOperations.willDelete")})(X_e||(qf.WillDeleteFilesRequest=X_e={}))});var rwe=P(CC=>{"use strict";Object.defineProperty(CC,"__esModule",{value:!0});CC.MonikerRequest=CC.MonikerKind=CC.UniquenessLevel=void 0;var R9=Oa(),Z_e;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(Z_e||(CC.UniquenessLevel=Z_e={}));var ewe;(function(r){r.$import="import",r.$export="export",r.local="local"})(ewe||(CC.MonikerKind=ewe={}));var twe;(function(r){r.method="textDocument/moniker",r.messageDirection=R9.MessageDirection.clientToServer,r.type=new R9.ProtocolRequestType(r.method),r.capabilities=R9.CM.create("textDocument.moniker","monikerProvider")})(twe||(CC.MonikerRequest=twe={}))});var swe=P(DC=>{"use strict";Object.defineProperty(DC,"__esModule",{value:!0});DC.TypeHierarchySubtypesRequest=DC.TypeHierarchySupertypesRequest=DC.TypeHierarchyPrepareRequest=void 0;var mT=Oa(),nwe;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=mT.MessageDirection.clientToServer,r.type=new mT.ProtocolRequestType(r.method),r.capabilities=mT.CM.create("textDocument.typeHierarchy","typeHierarchyProvider")})(nwe||(DC.TypeHierarchyPrepareRequest=nwe={}));var iwe;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=mT.MessageDirection.clientToServer,r.type=new mT.ProtocolRequestType(r.method)})(iwe||(DC.TypeHierarchySupertypesRequest=iwe={}));var owe;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=mT.MessageDirection.clientToServer,r.type=new mT.ProtocolRequestType(r.method)})(owe||(DC.TypeHierarchySubtypesRequest=owe={}))});var uwe=P(iR=>{"use strict";Object.defineProperty(iR,"__esModule",{value:!0});iR.InlineValueRefreshRequest=iR.InlineValueRequest=void 0;var nR=Oa(),awe;(function(r){r.method="textDocument/inlineValue",r.messageDirection=nR.MessageDirection.clientToServer,r.type=new nR.ProtocolRequestType(r.method),r.capabilities=nR.CM.create("textDocument.inlineValue","inlineValueProvider")})(awe||(iR.InlineValueRequest=awe={}));var cwe;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=nR.MessageDirection.serverToClient,r.type=new nR.ProtocolRequestType0(r.method),r.capabilities=nR.CM.create("workspace.inlineValue.refreshSupport",void 0)})(cwe||(iR.InlineValueRefreshRequest=cwe={}))});var pwe=P(TC=>{"use strict";Object.defineProperty(TC,"__esModule",{value:!0});TC.InlayHintRefreshRequest=TC.InlayHintResolveRequest=TC.InlayHintRequest=void 0;var gw=Oa(),lwe;(function(r){r.method="textDocument/inlayHint",r.messageDirection=gw.MessageDirection.clientToServer,r.type=new gw.ProtocolRequestType(r.method),r.capabilities=gw.CM.create("textDocument.inlayHint","inlayHintProvider")})(lwe||(TC.InlayHintRequest=lwe={}));var dwe;(function(r){r.method="inlayHint/resolve",r.messageDirection=gw.MessageDirection.clientToServer,r.type=new gw.ProtocolRequestType(r.method),r.capabilities=gw.CM.create("textDocument.inlayHint.resolveSupport","inlayHintProvider.resolveProvider")})(dwe||(TC.InlayHintResolveRequest=dwe={}));var fwe;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=gw.MessageDirection.serverToClient,r.type=new gw.ProtocolRequestType0(r.method),r.capabilities=gw.CM.create("workspace.inlayHint.refreshSupport",void 0)})(fwe||(TC.InlayHintRefreshRequest=fwe={}))});var _we=P(td=>{"use strict";var pnt=td&&td.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),hnt=td&&td.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),mnt=td&&td.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&pnt(t,e,n[i]);return hnt(t,e),t}}();Object.defineProperty(td,"__esModule",{value:!0});td.DiagnosticRefreshRequest=td.WorkspaceDiagnosticRequest=td.DocumentDiagnosticRequest=td.DocumentDiagnosticReportKind=td.DiagnosticServerCancellationData=void 0;var bwe=Wu(),gnt=mnt(aj()),vw=Oa(),hwe;(function(r){function e(t){let n=t;return n&&gnt.boolean(n.retriggerRequest)}r.is=e})(hwe||(td.DiagnosticServerCancellationData=hwe={}));var mwe;(function(r){r.Full="full",r.Unchanged="unchanged"})(mwe||(td.DocumentDiagnosticReportKind=mwe={}));var gwe;(function(r){r.method="textDocument/diagnostic",r.messageDirection=vw.MessageDirection.clientToServer,r.type=new vw.ProtocolRequestType(r.method),r.partialResult=new bwe.ProgressType,r.capabilities=vw.CM.create("textDocument.diagnostic","diagnosticProvider")})(gwe||(td.DocumentDiagnosticRequest=gwe={}));var vwe;(function(r){r.method="workspace/diagnostic",r.messageDirection=vw.MessageDirection.clientToServer,r.type=new vw.ProtocolRequestType(r.method),r.partialResult=new bwe.ProgressType,r.capabilities=vw.CM.create("workspace.diagnostics","diagnosticProvider.workspaceDiagnostics")})(vwe||(td.WorkspaceDiagnosticRequest=vwe={}));var ywe;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=vw.MessageDirection.serverToClient,r.type=new vw.ProtocolRequestType0(r.method),r.capabilities=vw.CM.create("workspace.diagnostics.refreshSupport",void 0)})(ywe||(td.DiagnosticRefreshRequest=ywe={}))});var Rwe=P(Gs=>{"use strict";var vnt=Gs&&Gs.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ynt=Gs&&Gs.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),bnt=Gs&&Gs.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&vnt(t,e,n[i]);return ynt(t,e),t}}();Object.defineProperty(Gs,"__esModule",{value:!0});Gs.DidCloseNotebookDocumentNotification=Gs.DidSaveNotebookDocumentNotification=Gs.DidChangeNotebookDocumentNotification=Gs.NotebookCellArrayChange=Gs.DidOpenNotebookDocumentNotification=Gs.NotebookDocumentSyncRegistrationType=Gs.NotebookDocument=Gs.NotebookCell=Gs.ExecutionSummary=Gs.NotebookCellKind=void 0;var C1=(sj(),WS(oj)),py=bnt(aj()),kb=Oa(),x9;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(x9||(Gs.NotebookCellKind=x9={}));var E9;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return py.objectLiteral(o)&&C1.uinteger.is(o.executionOrder)&&(o.success===void 0||py.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(E9||(Gs.ExecutionSummary=E9={}));var mj;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return py.objectLiteral(s)&&x9.is(s.kind)&&C1.DocumentUri.is(s.document)&&(s.metadata===void 0||py.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!E9.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(py.objectLiteral(o)&&py.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(mj||(Gs.NotebookCell=mj={}));var wwe;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return py.objectLiteral(i)&&py.string(i.uri)&&C1.integer.is(i.version)&&py.typedArray(i.cells,mj.is)}r.is=t})(wwe||(Gs.NotebookDocument=wwe={}));var oR;(function(r){r.method="notebookDocument/sync",r.messageDirection=kb.MessageDirection.clientToServer,r.type=new kb.RegistrationType(r.method)})(oR||(Gs.NotebookDocumentSyncRegistrationType=oR={}));var Swe;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=kb.MessageDirection.clientToServer,r.type=new kb.ProtocolNotificationType(r.method),r.registrationMethod=oR.method})(Swe||(Gs.DidOpenNotebookDocumentNotification=Swe={}));var Cwe;(function(r){function e(n){let i=n;return py.objectLiteral(i)&&C1.uinteger.is(i.start)&&C1.uinteger.is(i.deleteCount)&&(i.cells===void 0||py.typedArray(i.cells,mj.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})(Cwe||(Gs.NotebookCellArrayChange=Cwe={}));var Dwe;(function(r){r.method="notebookDocument/didChange",r.messageDirection=kb.MessageDirection.clientToServer,r.type=new kb.ProtocolNotificationType(r.method),r.registrationMethod=oR.method})(Dwe||(Gs.DidChangeNotebookDocumentNotification=Dwe={}));var Twe;(function(r){r.method="notebookDocument/didSave",r.messageDirection=kb.MessageDirection.clientToServer,r.type=new kb.ProtocolNotificationType(r.method),r.registrationMethod=oR.method})(Twe||(Gs.DidSaveNotebookDocumentNotification=Twe={}));var Pwe;(function(r){r.method="notebookDocument/didClose",r.messageDirection=kb.MessageDirection.clientToServer,r.type=new kb.ProtocolNotificationType(r.method),r.registrationMethod=oR.method})(Pwe||(Gs.DidCloseNotebookDocumentNotification=Pwe={}))});var Ewe=P(gj=>{"use strict";Object.defineProperty(gj,"__esModule",{value:!0});gj.InlineCompletionRequest=void 0;var O9=Oa(),xwe;(function(r){r.method="textDocument/inlineCompletion",r.messageDirection=O9.MessageDirection.clientToServer,r.type=new O9.ProtocolRequestType(r.method),r.capabilities=O9.CM.create("textDocument.inlineCompletion","inlineCompletionProvider")})(xwe||(gj.InlineCompletionRequest=xwe={}))});var kwe=P(sR=>{"use strict";Object.defineProperty(sR,"__esModule",{value:!0});sR.TextDocumentContentRefreshRequest=sR.TextDocumentContentRequest=void 0;var D1=Oa(),Owe;(function(r){r.method="workspace/textDocumentContent",r.messageDirection=D1.MessageDirection.clientToServer,r.type=new D1.ProtocolRequestType(r.method),r.capabilities=D1.CM.create("workspace.textDocumentContent","workspace.textDocumentContent")})(Owe||(sR.TextDocumentContentRequest=Owe={}));var Iwe;(function(r){r.method="workspace/textDocumentContent/refresh",r.messageDirection=D1.MessageDirection.serverToClient,r.type=new D1.ProtocolRequestType(r.method)})(Iwe||(sR.TextDocumentContentRefreshRequest=Iwe={}))});var VSe=P(Re=>{"use strict";var _nt=Re&&Re.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wnt=Re&&Re.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Snt=Re&&Re.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&_nt(t,e,n[i]);return wnt(t,e),t}}();Object.defineProperty(Re,"__esModule",{value:!0});Re.CodeActionRequest=Re.DocumentSymbolRequest=Re.DocumentHighlightRequest=Re.ReferencesRequest=Re.DefinitionRequest=Re.SignatureHelpRequest=Re.SignatureHelpTriggerKind=Re.HoverRequest=Re.CompletionResolveRequest=Re.CompletionRequest=Re.CompletionTriggerKind=Re.PublishDiagnosticsNotification=Re.WatchKind=Re.GlobPattern=Re.RelativePattern=Re.FileChangeType=Re.DidChangeWatchedFilesNotification=Re.WillSaveTextDocumentWaitUntilRequest=Re.WillSaveTextDocumentNotification=Re.TextDocumentSaveReason=Re.DidSaveTextDocumentNotification=Re.DidCloseTextDocumentNotification=Re.DidChangeTextDocumentNotification=Re.TextDocumentContentChangeEvent=Re.DidOpenTextDocumentNotification=Re.TextDocumentSyncKind=Re.TelemetryEventNotification=Re.LogMessageNotification=Re.ShowMessageRequest=Re.ShowMessageNotification=Re.MessageType=Re.DidChangeConfigurationNotification=Re.ExitNotification=Re.ShutdownRequest=Re.InitializedNotification=Re.InitializeErrorCodes=Re.InitializeRequest=Re.WorkDoneProgressOptions=Re.TextDocumentRegistrationOptions=Re.StaticRegistrationOptions=Re.PositionEncodingKind=Re.RegularExpressionEngineKind=Re.FailureHandlingKind=Re.ResourceOperationKind=Re.UnregistrationRequest=Re.RegistrationRequest=Re.DocumentSelector=Re.NotebookCellTextDocumentFilter=Re.NotebookDocumentFilter=Re.TextDocumentFilter=void 0;Re.UniquenessLevel=Re.WillDeleteFilesRequest=Re.DidDeleteFilesNotification=Re.WillRenameFilesRequest=Re.DidRenameFilesNotification=Re.WillCreateFilesRequest=Re.DidCreateFilesNotification=Re.FileOperationPatternKind=Re.LinkedEditingRangeRequest=Re.ShowDocumentRequest=Re.SemanticTokensRegistrationType=Re.SemanticTokensRefreshRequest=Re.SemanticTokensRangeRequest=Re.SemanticTokensDeltaRequest=Re.SemanticTokensRequest=Re.TokenFormat=Re.CallHierarchyPrepareRequest=Re.CallHierarchyOutgoingCallsRequest=Re.CallHierarchyIncomingCallsRequest=Re.WorkDoneProgressCancelNotification=Re.WorkDoneProgressCreateRequest=Re.WorkDoneProgress=Re.SelectionRangeRequest=Re.DeclarationRequest=Re.FoldingRangeRefreshRequest=Re.FoldingRangeRequest=Re.ColorPresentationRequest=Re.DocumentColorRequest=Re.ConfigurationRequest=Re.DidChangeWorkspaceFoldersNotification=Re.WorkspaceFoldersRequest=Re.TypeDefinitionRequest=Re.ImplementationRequest=Re.ApplyWorkspaceEditRequest=Re.ExecuteCommandRequest=Re.PrepareRenameRequest=Re.RenameRequest=Re.PrepareSupportDefaultBehavior=Re.DocumentOnTypeFormattingRequest=Re.DocumentRangesFormattingRequest=Re.DocumentRangeFormattingRequest=Re.DocumentFormattingRequest=Re.DocumentLinkResolveRequest=Re.DocumentLinkRequest=Re.CodeLensRefreshRequest=Re.CodeLensResolveRequest=Re.CodeLensRequest=Re.WorkspaceSymbolResolveRequest=Re.WorkspaceSymbolRequest=Re.CodeActionResolveRequest=void 0;Re.TextDocumentContentRefreshRequest=Re.TextDocumentContentRequest=Re.InlineCompletionRequest=Re.DidCloseNotebookDocumentNotification=Re.DidSaveNotebookDocumentNotification=Re.DidChangeNotebookDocumentNotification=Re.NotebookCellArrayChange=Re.DidOpenNotebookDocumentNotification=Re.NotebookDocumentSyncRegistrationType=Re.NotebookDocument=Re.NotebookCell=Re.ExecutionSummary=Re.NotebookCellKind=Re.DiagnosticRefreshRequest=Re.WorkspaceDiagnosticRequest=Re.DocumentDiagnosticRequest=Re.DocumentDiagnosticReportKind=Re.DiagnosticServerCancellationData=Re.InlayHintRefreshRequest=Re.InlayHintResolveRequest=Re.InlayHintRequest=Re.InlineValueRefreshRequest=Re.InlineValueRequest=Re.TypeHierarchySupertypesRequest=Re.TypeHierarchySubtypesRequest=Re.TypeHierarchyPrepareRequest=Re.MonikerRequest=Re.MonikerKind=void 0;var Ft=Oa(),Awe=(sj(),WS(oj)),rd=Snt(aj()),Cnt=c_e();Object.defineProperty(Re,"ImplementationRequest",{enumerable:!0,get:function(){return Cnt.ImplementationRequest}});var Dnt=l_e();Object.defineProperty(Re,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Dnt.TypeDefinitionRequest}});var USe=p_e();Object.defineProperty(Re,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return USe.WorkspaceFoldersRequest}});Object.defineProperty(Re,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return USe.DidChangeWorkspaceFoldersNotification}});var Tnt=m_e();Object.defineProperty(Re,"ConfigurationRequest",{enumerable:!0,get:function(){return Tnt.ConfigurationRequest}});var HSe=y_e();Object.defineProperty(Re,"DocumentColorRequest",{enumerable:!0,get:function(){return HSe.DocumentColorRequest}});Object.defineProperty(Re,"ColorPresentationRequest",{enumerable:!0,get:function(){return HSe.ColorPresentationRequest}});var WSe=S_e();Object.defineProperty(Re,"FoldingRangeRequest",{enumerable:!0,get:function(){return WSe.FoldingRangeRequest}});Object.defineProperty(Re,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return WSe.FoldingRangeRefreshRequest}});var Pnt=D_e();Object.defineProperty(Re,"DeclarationRequest",{enumerable:!0,get:function(){return Pnt.DeclarationRequest}});var Rnt=P_e();Object.defineProperty(Re,"SelectionRangeRequest",{enumerable:!0,get:function(){return Rnt.SelectionRangeRequest}});var F9=O_e();Object.defineProperty(Re,"WorkDoneProgress",{enumerable:!0,get:function(){return F9.WorkDoneProgress}});Object.defineProperty(Re,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return F9.WorkDoneProgressCreateRequest}});Object.defineProperty(Re,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return F9.WorkDoneProgressCancelNotification}});var q9=M_e();Object.defineProperty(Re,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return q9.CallHierarchyIncomingCallsRequest}});Object.defineProperty(Re,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return q9.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(Re,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return q9.CallHierarchyPrepareRequest}});var aR=z_e();Object.defineProperty(Re,"TokenFormat",{enumerable:!0,get:function(){return aR.TokenFormat}});Object.defineProperty(Re,"SemanticTokensRequest",{enumerable:!0,get:function(){return aR.SemanticTokensRequest}});Object.defineProperty(Re,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return aR.SemanticTokensDeltaRequest}});Object.defineProperty(Re,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return aR.SemanticTokensRangeRequest}});Object.defineProperty(Re,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return aR.SemanticTokensRefreshRequest}});Object.defineProperty(Re,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return aR.SemanticTokensRegistrationType}});var xnt=H_e();Object.defineProperty(Re,"ShowDocumentRequest",{enumerable:!0,get:function(){return xnt.ShowDocumentRequest}});var Ent=B_e();Object.defineProperty(Re,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Ent.LinkedEditingRangeRequest}});var gT=Q_e();Object.defineProperty(Re,"FileOperationPatternKind",{enumerable:!0,get:function(){return gT.FileOperationPatternKind}});Object.defineProperty(Re,"DidCreateFilesNotification",{enumerable:!0,get:function(){return gT.DidCreateFilesNotification}});Object.defineProperty(Re,"WillCreateFilesRequest",{enumerable:!0,get:function(){return gT.WillCreateFilesRequest}});Object.defineProperty(Re,"DidRenameFilesNotification",{enumerable:!0,get:function(){return gT.DidRenameFilesNotification}});Object.defineProperty(Re,"WillRenameFilesRequest",{enumerable:!0,get:function(){return gT.WillRenameFilesRequest}});Object.defineProperty(Re,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return gT.DidDeleteFilesNotification}});Object.defineProperty(Re,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return gT.WillDeleteFilesRequest}});var j9=rwe();Object.defineProperty(Re,"UniquenessLevel",{enumerable:!0,get:function(){return j9.UniquenessLevel}});Object.defineProperty(Re,"MonikerKind",{enumerable:!0,get:function(){return j9.MonikerKind}});Object.defineProperty(Re,"MonikerRequest",{enumerable:!0,get:function(){return j9.MonikerRequest}});var z9=swe();Object.defineProperty(Re,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return z9.TypeHierarchyPrepareRequest}});Object.defineProperty(Re,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return z9.TypeHierarchySubtypesRequest}});Object.defineProperty(Re,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return z9.TypeHierarchySupertypesRequest}});var BSe=uwe();Object.defineProperty(Re,"InlineValueRequest",{enumerable:!0,get:function(){return BSe.InlineValueRequest}});Object.defineProperty(Re,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return BSe.InlineValueRefreshRequest}});var U9=pwe();Object.defineProperty(Re,"InlayHintRequest",{enumerable:!0,get:function(){return U9.InlayHintRequest}});Object.defineProperty(Re,"InlayHintResolveRequest",{enumerable:!0,get:function(){return U9.InlayHintResolveRequest}});Object.defineProperty(Re,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return U9.InlayHintRefreshRequest}});var T1=_we();Object.defineProperty(Re,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return T1.DiagnosticServerCancellationData}});Object.defineProperty(Re,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return T1.DocumentDiagnosticReportKind}});Object.defineProperty(Re,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return T1.DocumentDiagnosticRequest}});Object.defineProperty(Re,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return T1.WorkspaceDiagnosticRequest}});Object.defineProperty(Re,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return T1.DiagnosticRefreshRequest}});var Ab=Rwe();Object.defineProperty(Re,"NotebookCellKind",{enumerable:!0,get:function(){return Ab.NotebookCellKind}});Object.defineProperty(Re,"ExecutionSummary",{enumerable:!0,get:function(){return Ab.ExecutionSummary}});Object.defineProperty(Re,"NotebookCell",{enumerable:!0,get:function(){return Ab.NotebookCell}});Object.defineProperty(Re,"NotebookDocument",{enumerable:!0,get:function(){return Ab.NotebookDocument}});Object.defineProperty(Re,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Ab.NotebookDocumentSyncRegistrationType}});Object.defineProperty(Re,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Ab.DidOpenNotebookDocumentNotification}});Object.defineProperty(Re,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Ab.NotebookCellArrayChange}});Object.defineProperty(Re,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Ab.DidChangeNotebookDocumentNotification}});Object.defineProperty(Re,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Ab.DidSaveNotebookDocumentNotification}});Object.defineProperty(Re,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Ab.DidCloseNotebookDocumentNotification}});var Ont=Ewe();Object.defineProperty(Re,"InlineCompletionRequest",{enumerable:!0,get:function(){return Ont.InlineCompletionRequest}});var $Se=kwe();Object.defineProperty(Re,"TextDocumentContentRequest",{enumerable:!0,get:function(){return $Se.TextDocumentContentRequest}});Object.defineProperty(Re,"TextDocumentContentRefreshRequest",{enumerable:!0,get:function(){return $Se.TextDocumentContentRefreshRequest}});var I9;(function(r){function e(t){let n=t;return rd.string(n)||rd.string(n.language)||rd.string(n.scheme)||N9.is(n.pattern)}r.is=e})(I9||(Re.TextDocumentFilter=I9={}));var k9;(function(r){function e(t){let n=t;return rd.objectLiteral(n)&&(rd.string(n.notebookType)||rd.string(n.scheme)||rd.string(n.pattern))}r.is=e})(k9||(Re.NotebookDocumentFilter=k9={}));var A9;(function(r){function e(t){let n=t;return rd.objectLiteral(n)&&(rd.string(n.notebook)||k9.is(n.notebook))&&(n.language===void 0||rd.string(n.language))}r.is=e})(A9||(Re.NotebookCellTextDocumentFilter=A9={}));var M9;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!rd.string(n)&&!I9.is(n)&&!A9.is(n))return!1;return!0}r.is=e})(M9||(Re.DocumentSelector=M9={}));var Mwe;(function(r){r.method="client/registerCapability",r.messageDirection=Ft.MessageDirection.serverToClient,r.type=new Ft.ProtocolRequestType(r.method)})(Mwe||(Re.RegistrationRequest=Mwe={}));var Lwe;(function(r){r.method="client/unregisterCapability",r.messageDirection=Ft.MessageDirection.serverToClient,r.type=new Ft.ProtocolRequestType(r.method)})(Lwe||(Re.UnregistrationRequest=Lwe={}));var Nwe;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(Nwe||(Re.ResourceOperationKind=Nwe={}));var Fwe;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(Fwe||(Re.FailureHandlingKind=Fwe={}));var qwe;(function(r){r.ES2020="ES2020"})(qwe||(Re.RegularExpressionEngineKind=qwe={}));var jwe;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(jwe||(Re.PositionEncodingKind=jwe={}));var zwe;(function(r){function e(t){let n=t;return n&&rd.string(n.id)&&n.id.length>0}r.hasId=e})(zwe||(Re.StaticRegistrationOptions=zwe={}));var Uwe;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||M9.is(n.documentSelector))}r.is=e})(Uwe||(Re.TextDocumentRegistrationOptions=Uwe={}));var Hwe;(function(r){function e(n){let i=n;return rd.objectLiteral(i)&&(i.workDoneProgress===void 0||rd.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&rd.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(Hwe||(Re.WorkDoneProgressOptions=Hwe={}));var Wwe;(function(r){r.method="initialize",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method)})(Wwe||(Re.InitializeRequest=Wwe={}));var Bwe;(function(r){r.unknownProtocolVersion=1})(Bwe||(Re.InitializeErrorCodes=Bwe={}));var $we;(function(r){r.method="initialized",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolNotificationType(r.method)})($we||(Re.InitializedNotification=$we={}));var Vwe;(function(r){r.method="shutdown",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType0(r.method)})(Vwe||(Re.ShutdownRequest=Vwe={}));var Gwe;(function(r){r.method="exit",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolNotificationType0(r.method)})(Gwe||(Re.ExitNotification=Gwe={}));var Kwe;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolNotificationType(r.method),r.capabilities=Ft.CM.create("workspace.didChangeConfiguration",void 0)})(Kwe||(Re.DidChangeConfigurationNotification=Kwe={}));var Ywe;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4,r.Debug=5})(Ywe||(Re.MessageType=Ywe={}));var Jwe;(function(r){r.method="window/showMessage",r.messageDirection=Ft.MessageDirection.serverToClient,r.type=new Ft.ProtocolNotificationType(r.method),r.capabilities=Ft.CM.create("window.showMessage",void 0)})(Jwe||(Re.ShowMessageNotification=Jwe={}));var Xwe;(function(r){r.method="window/showMessageRequest",r.messageDirection=Ft.MessageDirection.serverToClient,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("window.showMessage",void 0)})(Xwe||(Re.ShowMessageRequest=Xwe={}));var Qwe;(function(r){r.method="window/logMessage",r.messageDirection=Ft.MessageDirection.serverToClient,r.type=new Ft.ProtocolNotificationType(r.method)})(Qwe||(Re.LogMessageNotification=Qwe={}));var Zwe;(function(r){r.method="telemetry/event",r.messageDirection=Ft.MessageDirection.serverToClient,r.type=new Ft.ProtocolNotificationType(r.method)})(Zwe||(Re.TelemetryEventNotification=Zwe={}));var eSe;(function(r){r.None=0,r.Full=1,r.Incremental=2})(eSe||(Re.TextDocumentSyncKind=eSe={}));var tSe;(function(r){r.method="textDocument/didOpen",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolNotificationType(r.method),r.capabilities=Ft.CM.create("textDocument.synchronization","textDocumentSync.openClose")})(tSe||(Re.DidOpenTextDocumentNotification=tSe={}));var rSe;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(rSe||(Re.TextDocumentContentChangeEvent=rSe={}));var nSe;(function(r){r.method="textDocument/didChange",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolNotificationType(r.method),r.capabilities=Ft.CM.create("textDocument.synchronization","textDocumentSync")})(nSe||(Re.DidChangeTextDocumentNotification=nSe={}));var iSe;(function(r){r.method="textDocument/didClose",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolNotificationType(r.method),r.capabilities=Ft.CM.create("textDocument.synchronization","textDocumentSync.openClose")})(iSe||(Re.DidCloseTextDocumentNotification=iSe={}));var oSe;(function(r){r.method="textDocument/didSave",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolNotificationType(r.method),r.capabilities=Ft.CM.create("textDocument.synchronization.didSave","textDocumentSync.save")})(oSe||(Re.DidSaveTextDocumentNotification=oSe={}));var sSe;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(sSe||(Re.TextDocumentSaveReason=sSe={}));var aSe;(function(r){r.method="textDocument/willSave",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolNotificationType(r.method),r.capabilities=Ft.CM.create("textDocument.synchronization.willSave","textDocumentSync.willSave")})(aSe||(Re.WillSaveTextDocumentNotification=aSe={}));var cSe;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.synchronization.willSaveWaitUntil","textDocumentSync.willSaveWaitUntil")})(cSe||(Re.WillSaveTextDocumentWaitUntilRequest=cSe={}));var uSe;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolNotificationType(r.method),r.capabilities=Ft.CM.create("workspace.didChangeWatchedFiles",void 0)})(uSe||(Re.DidChangeWatchedFilesNotification=uSe={}));var lSe;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(lSe||(Re.FileChangeType=lSe={}));var L9;(function(r){function e(t){let n=t;return rd.objectLiteral(n)&&(Awe.URI.is(n.baseUri)||Awe.WorkspaceFolder.is(n.baseUri))&&rd.string(n.pattern)}r.is=e})(L9||(Re.RelativePattern=L9={}));var N9;(function(r){function e(t){let n=t;return rd.string(n)||L9.is(n)}r.is=e})(N9||(Re.GlobPattern=N9={}));var dSe;(function(r){r.Create=1,r.Change=2,r.Delete=4})(dSe||(Re.WatchKind=dSe={}));var fSe;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=Ft.MessageDirection.serverToClient,r.type=new Ft.ProtocolNotificationType(r.method),r.capabilities=Ft.CM.create("textDocument.publishDiagnostics",void 0)})(fSe||(Re.PublishDiagnosticsNotification=fSe={}));var pSe;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(pSe||(Re.CompletionTriggerKind=pSe={}));var hSe;(function(r){r.method="textDocument/completion",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.completion","completionProvider")})(hSe||(Re.CompletionRequest=hSe={}));var mSe;(function(r){r.method="completionItem/resolve",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.completion.completionItem.resolveSupport","completionProvider.resolveProvider")})(mSe||(Re.CompletionResolveRequest=mSe={}));var gSe;(function(r){r.method="textDocument/hover",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.hover","hoverProvider")})(gSe||(Re.HoverRequest=gSe={}));var vSe;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(vSe||(Re.SignatureHelpTriggerKind=vSe={}));var ySe;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.signatureHelp","signatureHelpProvider")})(ySe||(Re.SignatureHelpRequest=ySe={}));var bSe;(function(r){r.method="textDocument/definition",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.definition","definitionProvider")})(bSe||(Re.DefinitionRequest=bSe={}));var _Se;(function(r){r.method="textDocument/references",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.references","referencesProvider")})(_Se||(Re.ReferencesRequest=_Se={}));var wSe;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.documentHighlight","documentHighlightProvider")})(wSe||(Re.DocumentHighlightRequest=wSe={}));var SSe;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.documentSymbol","documentSymbolProvider")})(SSe||(Re.DocumentSymbolRequest=SSe={}));var CSe;(function(r){r.method="textDocument/codeAction",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.codeAction","codeActionProvider")})(CSe||(Re.CodeActionRequest=CSe={}));var DSe;(function(r){r.method="codeAction/resolve",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.codeAction.resolveSupport","codeActionProvider.resolveProvider")})(DSe||(Re.CodeActionResolveRequest=DSe={}));var TSe;(function(r){r.method="workspace/symbol",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("workspace.symbol","workspaceSymbolProvider")})(TSe||(Re.WorkspaceSymbolRequest=TSe={}));var PSe;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("workspace.symbol.resolveSupport","workspaceSymbolProvider.resolveProvider")})(PSe||(Re.WorkspaceSymbolResolveRequest=PSe={}));var RSe;(function(r){r.method="textDocument/codeLens",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.codeLens","codeLensProvider")})(RSe||(Re.CodeLensRequest=RSe={}));var xSe;(function(r){r.method="codeLens/resolve",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.codeLens.resolveSupport","codeLensProvider.resolveProvider")})(xSe||(Re.CodeLensResolveRequest=xSe={}));var ESe;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=Ft.MessageDirection.serverToClient,r.type=new Ft.ProtocolRequestType0(r.method),r.capabilities=Ft.CM.create("workspace.codeLens",void 0)})(ESe||(Re.CodeLensRefreshRequest=ESe={}));var OSe;(function(r){r.method="textDocument/documentLink",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.documentLink","documentLinkProvider")})(OSe||(Re.DocumentLinkRequest=OSe={}));var ISe;(function(r){r.method="documentLink/resolve",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.documentLink","documentLinkProvider.resolveProvider")})(ISe||(Re.DocumentLinkResolveRequest=ISe={}));var kSe;(function(r){r.method="textDocument/formatting",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.formatting","documentFormattingProvider")})(kSe||(Re.DocumentFormattingRequest=kSe={}));var ASe;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.rangeFormatting","documentRangeFormattingProvider")})(ASe||(Re.DocumentRangeFormattingRequest=ASe={}));var MSe;(function(r){r.method="textDocument/rangesFormatting",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.rangeFormatting.rangesSupport","documentRangeFormattingProvider.rangesSupport")})(MSe||(Re.DocumentRangesFormattingRequest=MSe={}));var LSe;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.onTypeFormatting","documentOnTypeFormattingProvider")})(LSe||(Re.DocumentOnTypeFormattingRequest=LSe={}));var NSe;(function(r){r.Identifier=1})(NSe||(Re.PrepareSupportDefaultBehavior=NSe={}));var FSe;(function(r){r.method="textDocument/rename",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.rename","renameProvider")})(FSe||(Re.RenameRequest=FSe={}));var qSe;(function(r){r.method="textDocument/prepareRename",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("textDocument.rename.prepareSupport","renameProvider.prepareProvider")})(qSe||(Re.PrepareRenameRequest=qSe={}));var jSe;(function(r){r.method="workspace/executeCommand",r.messageDirection=Ft.MessageDirection.clientToServer,r.type=new Ft.ProtocolRequestType(r.method),r.capabilities=Ft.CM.create("workspace.executeCommand","executeCommandProvider")})(jSe||(Re.ExecuteCommandRequest=jSe={}));var zSe;(function(r){r.method="workspace/applyEdit",r.messageDirection=Ft.MessageDirection.serverToClient,r.type=new Ft.ProtocolRequestType("workspace/applyEdit"),r.capabilities=Ft.CM.create("workspace.applyEdit",void 0)})(zSe||(Re.ApplyWorkspaceEditRequest=zSe={}))});var KSe=P(H9=>{"use strict";Object.defineProperty(H9,"__esModule",{value:!0});H9.createProtocolConnection=Int;var GSe=Wu();function Int(r,e,t,n){return GSe.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,GSe.createMessageConnection)(r,e,t,n)}});var Jr=P(Bh=>{"use strict";var knt=Bh&&Bh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vj=Bh&&Bh.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&knt(e,r,t)};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.LSPErrorCodes=Bh.createProtocolConnection=void 0;vj(Wu(),Bh);vj((sj(),WS(oj)),Bh);vj(Oa(),Bh);vj(VSe(),Bh);var Ant=KSe();Object.defineProperty(Bh,"createProtocolConnection",{enumerable:!0,get:function(){return Ant.createProtocolConnection}});var YSe;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(YSe||(Bh.LSPErrorCodes=YSe={}))});var iv=P(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});nv.boolean=Mnt;nv.string=JSe;nv.number=Lnt;nv.error=Nnt;nv.func=XSe;nv.array=QSe;nv.stringArray=Fnt;nv.typedArray=qnt;nv.thenable=ZSe;nv.asPromise=jnt;function Mnt(r){return r===!0||r===!1}function JSe(r){return typeof r=="string"||r instanceof String}function Lnt(r){return typeof r=="number"||r instanceof Number}function Nnt(r){return r instanceof Error}function XSe(r){return typeof r=="function"}function QSe(r){return Array.isArray(r)}function Fnt(r){return QSe(r)&&r.every(e=>JSe(e))}function qnt(r,e){return Array.isArray(r)&&r.every(e)}function ZSe(r){return r&&XSe(r.then)}function jnt(r){return r instanceof Promise?r:ZSe(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}});var yj=P(hy=>{"use strict";Object.defineProperty(hy,"__esModule",{value:!0});hy.Semaphore=hy.Delayer=void 0;hy.setTestMode=znt;hy.clearTestMode=Unt;hy.map=Hnt;hy.mapAsync=Wnt;hy.forEach=Bnt;var R1=Jr(),W9=class{defaultDelay;timeout;completionPromise;onSuccess;task;constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;let n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,R1.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};hy.Delayer=W9;var B9=class{_capacity;_active;_waiting;constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,R1.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};hy.Semaphore=B9;var $9=!1;function znt(){$9=!0}function Unt(){$9=!1}var eCe=15,P1=class{yieldAfter;startTime;counter;total;counterInterval;constructor(e=eCe){this.yieldAfter=$9===!0?Math.max(e,2):Math.max(e,eCe),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function Hnt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new P1(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,R1.RAL)().timer.setImmediate(()=>{t!==void 0&&t.isCancellationRequested?c(-1):c(s(a))})});return i}async function Wnt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new P1(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,R1.RAL)().timer.setImmediate(()=>{t!==void 0&&t.isCancellationRequested?c(-1):c(s(a))})});return i}async function Bnt(r,e,t,n){if(r.length===0)return;let i=new P1(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,R1.RAL)().timer.setImmediate(()=>{t!==void 0&&t.isCancellationRequested?a(-1):a(o(s))})})}});var G9=P(yw=>{"use strict";var $nt=yw&&yw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Vnt=yw&&yw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Gnt=yw&&yw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&$nt(t,e,n[i]);return Vnt(t,e),t}}();Object.defineProperty(yw,"__esModule",{value:!0});var Knt=Gnt(require("vscode")),V9=class extends Knt.CompletionItem{data;fromEdit;documentationFormat;originalItemKind;deprecated;insertTextMode;constructor(e){super(e)}};yw.default=V9});var Y9=P(bw=>{"use strict";var Ynt=bw&&bw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jnt=bw&&bw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Xnt=bw&&bw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Ynt(t,e,n[i]);return Jnt(t,e),t}}();Object.defineProperty(bw,"__esModule",{value:!0});var Qnt=Xnt(require("vscode")),K9=class extends Qnt.CodeLens{data;constructor(e){super(e)}};bw.default=K9});var X9=P(_w=>{"use strict";var Znt=_w&&_w.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),eit=_w&&_w.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tit=_w&&_w.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Znt(t,e,n[i]);return eit(t,e),t}}();Object.defineProperty(_w,"__esModule",{value:!0});var rit=tit(require("vscode")),J9=class extends rit.DocumentLink{data;constructor(e,t){super(e,t)}};_w.default=J9});var Z9=P(ww=>{"use strict";var nit=ww&&ww.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),iit=ww&&ww.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),oit=ww&&ww.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&nit(t,e,n[i]);return iit(t,e),t}}();Object.defineProperty(ww,"__esModule",{value:!0});var sit=oit(require("vscode")),Q9=class extends sit.CodeAction{data;constructor(e,t){super(e),this.data=t}};ww.default=Q9});var r7=P(ov=>{"use strict";var ait=ov&&ov.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cit=ov&&ov.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),rCe=ov&&ov.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ait(t,e,n[i]);return cit(t,e),t}}();Object.defineProperty(ov,"__esModule",{value:!0});ov.ProtocolDiagnostic=ov.DiagnosticCode=void 0;var uit=rCe(require("vscode")),e7=rCe(iv()),tCe;(function(r){function e(t){let n=t;return n!=null&&(e7.number(n.value)||e7.string(n.value))&&e7.string(n.target)}r.is=e})(tCe||(ov.DiagnosticCode=tCe={}));var t7=class extends uit.Diagnostic{data;hasDiagnosticCode;constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};ov.ProtocolDiagnostic=t7});var i7=P(Sw=>{"use strict";var lit=Sw&&Sw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),dit=Sw&&Sw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),fit=Sw&&Sw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&lit(t,e,n[i]);return dit(t,e),t}}();Object.defineProperty(Sw,"__esModule",{value:!0});var pit=fit(require("vscode")),n7=class extends pit.CallHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};Sw.default=n7});var s7=P(Cw=>{"use strict";var hit=Cw&&Cw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mit=Cw&&Cw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),git=Cw&&Cw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&hit(t,e,n[i]);return mit(t,e),t}}();Object.defineProperty(Cw,"__esModule",{value:!0});var vit=git(require("vscode")),o7=class extends vit.TypeHierarchyItem{data;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};Cw.default=o7});var c7=P(Dw=>{"use strict";var yit=Dw&&Dw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bit=Dw&&Dw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_it=Dw&&Dw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&yit(t,e,n[i]);return bit(t,e),t}}();Object.defineProperty(Dw,"__esModule",{value:!0});var bj=_it(require("vscode")),a7=class extends bj.SymbolInformation{data;hasRange;constructor(e,t,n,i,o){let s=!(i instanceof bj.Uri);super(e,t,n,s?i:new bj.Location(i,new bj.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};Dw.default=a7});var l7=P(Tw=>{"use strict";var wit=Tw&&Tw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Sit=Tw&&Tw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Cit=Tw&&Tw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&wit(t,e,n[i]);return Sit(t,e),t}}();Object.defineProperty(Tw,"__esModule",{value:!0});var Dit=Cit(require("vscode")),u7=class extends Dit.InlayHint{data;constructor(e,t,n){super(e,t,n)}};Tw.default=u7});var sCe=P(my=>{"use strict";var Tit=my&&my.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Pit=my&&my.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),_j=my&&my.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Tit(t,e,n[i]);return Pit(t,e),t}}(),PC=my&&my.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(my,"__esModule",{value:!0});my.createConverter=Mit;var Xc=_j(require("vscode")),Pi=_j(Jr()),vT=_j(iv()),nCe=_j(yj()),Rit=PC(G9()),xit=PC(Y9()),Eit=PC(X9()),iCe=PC(Z9()),oCe=r7(),Oit=PC(i7()),Iit=PC(s7()),kit=PC(c7()),Ait=PC(l7()),d7;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(d7||(d7={}));function Mit(r){let t=r||(S=>S.toString());function n(S){return t(S)}function i(S){return{uri:t(S.uri)}}function o(S){return{uri:t(S.uri),languageId:S.languageId,version:S.version,text:S.getText()}}function s(S){return{uri:t(S.uri),version:S.version}}function a(S){return{textDocument:o(S)}}function c(S){let fe=S;return!!fe.document&&!!fe.contentChanges}function u(S){let fe=S;return!!fe.uri&&!!fe.version}function l(S,fe,Je){if(u(S))return{textDocument:{uri:t(S.uri),version:S.version},contentChanges:[{text:S.getText()}]};if(c(S)){let Cr=fe,Wr=Je;return{textDocument:{uri:t(Cr),version:Wr},contentChanges:S.contentChanges.map(Fn=>{let Oi=Fn.range;return{range:{start:{line:Oi.start.line,character:Oi.start.character},end:{line:Oi.end.line,character:Oi.end.character}},rangeLength:Fn.rangeLength,text:Fn.text}})}}else throw Error("Unsupported text document change parameter")}function d(S){return{textDocument:i(S)}}function f(S,fe=!1){let Je={textDocument:i(S)};return fe&&(Je.text=S.getText()),Je}function y(S){switch(S){case Xc.TextDocumentSaveReason.Manual:return Pi.TextDocumentSaveReason.Manual;case Xc.TextDocumentSaveReason.AfterDelay:return Pi.TextDocumentSaveReason.AfterDelay;case Xc.TextDocumentSaveReason.FocusOut:return Pi.TextDocumentSaveReason.FocusOut}return Pi.TextDocumentSaveReason.Manual}function b(S){return{textDocument:i(S.document),reason:y(S.reason)}}function T(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function k(S){return{files:S.files.map(fe=>({oldUri:t(fe.oldUri),newUri:t(fe.newUri)}))}}function z(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function A(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function U(S){return{files:S.files.map(fe=>({oldUri:t(fe.oldUri),newUri:t(fe.newUri)}))}}function ne(S){return{files:S.files.map(fe=>({uri:t(fe)}))}}function de(S,fe){return{textDocument:i(S),position:ce(fe)}}function ve(S){switch(S){case Xc.CompletionTriggerKind.TriggerCharacter:return Pi.CompletionTriggerKind.TriggerCharacter;case Xc.CompletionTriggerKind.TriggerForIncompleteCompletions:return Pi.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Pi.CompletionTriggerKind.Invoked}}function $(S,fe,Je){return{textDocument:i(S),position:ce(fe),context:{triggerKind:ve(Je.triggerKind),triggerCharacter:Je.triggerCharacter}}}function W(S){switch(S){case Xc.SignatureHelpTriggerKind.Invoke:return Pi.SignatureHelpTriggerKind.Invoked;case Xc.SignatureHelpTriggerKind.TriggerCharacter:return Pi.SignatureHelpTriggerKind.TriggerCharacter;case Xc.SignatureHelpTriggerKind.ContentChange:return Pi.SignatureHelpTriggerKind.ContentChange}}function ee(S){return{label:S.label}}function Pe(S){return S.map(ee)}function se(S){return{label:S.label,parameters:Pe(S.parameters)}}function ue(S){return S.map(se)}function Fe(S){return S===void 0?S:{signatures:ue(S.signatures),activeSignature:S.activeSignature,activeParameter:S.activeParameter}}function Le(S,fe,Je){return{textDocument:i(S),position:ce(fe),context:{isRetrigger:Je.isRetrigger,triggerCharacter:Je.triggerCharacter,triggerKind:W(Je.triggerKind),activeSignatureHelp:Fe(Je.activeSignatureHelp)}}}function ce(S){return{line:S.line,character:S.character}}function Ce(S){return S==null?S:{line:S.line>Pi.uinteger.MAX_VALUE?Pi.uinteger.MAX_VALUE:S.line,character:S.character>Pi.uinteger.MAX_VALUE?Pi.uinteger.MAX_VALUE:S.character}}function we(S,fe){return nCe.map(S,Ce,fe)}function Ee(S){return S.map(Ce)}function Ne(S){return S==null?S:{start:Ce(S.start),end:Ce(S.end)}}function $e(S){return S.map(Ne)}function Ct(S){return S==null?S:Pi.Location.create(n(S.uri),Ne(S.range))}function ze(S){switch(S){case Xc.DiagnosticSeverity.Error:return Pi.DiagnosticSeverity.Error;case Xc.DiagnosticSeverity.Warning:return Pi.DiagnosticSeverity.Warning;case Xc.DiagnosticSeverity.Information:return Pi.DiagnosticSeverity.Information;case Xc.DiagnosticSeverity.Hint:return Pi.DiagnosticSeverity.Hint}}function st(S){if(!S)return;let fe=[];for(let Je of S){let Cr=at(Je);Cr!==void 0&&fe.push(Cr)}return fe.length>0?fe:void 0}function at(S){switch(S){case Xc.DiagnosticTag.Unnecessary:return Pi.DiagnosticTag.Unnecessary;case Xc.DiagnosticTag.Deprecated:return Pi.DiagnosticTag.Deprecated;default:return}}function tt(S){return{message:S.message,location:Ct(S.location)}}function pr(S){return S.map(tt)}function Ar(S){if(S!=null)return vT.number(S)||vT.string(S)?S:{value:S.value,target:n(S.target)}}function jr(S){let fe=Pi.Diagnostic.create(Ne(S.range),S.message),Je=S instanceof oCe.ProtocolDiagnostic?S:void 0;Je!==void 0&&Je.data!==void 0&&(fe.data=Je.data);let Cr=Ar(S.code);return oCe.DiagnosticCode.is(Cr)?Je!==void 0&&Je.hasDiagnosticCode?fe.code=Cr:(fe.code=Cr.value,fe.codeDescription={href:Cr.target}):fe.code=Cr,vT.number(S.severity)&&(fe.severity=ze(S.severity)),Array.isArray(S.tags)&&(fe.tags=st(S.tags)),S.relatedInformation&&(fe.relatedInformation=pr(S.relatedInformation)),S.source&&(fe.source=S.source),fe}function lr(S,fe){return S==null?S:nCe.map(S,jr,fe)}function Et(S){return S==null?S:S.map(jr)}function hr(S,fe){switch(S){case"$string":return fe;case Pi.MarkupKind.PlainText:return{kind:S,value:fe};case Pi.MarkupKind.Markdown:return{kind:S,value:fe.value};default:return`Unsupported Markup content received. Kind is: ${S}`}}function Lt(S){switch(S){case Xc.CompletionItemTag.Deprecated:return Pi.CompletionItemTag.Deprecated}}function on(S){if(S===void 0)return S;let fe=[];for(let Je of S){let Cr=Lt(Je);Cr!==void 0&&fe.push(Cr)}return fe}function un(S,fe){return fe!==void 0?fe:S+1}function En(S,fe=!1){let Je,Cr;vT.string(S.label)?Je=S.label:(Je=S.label.label,fe&&(S.label.detail!==void 0||S.label.description!==void 0)&&(Cr={detail:S.label.detail,description:S.label.description}));let Wr={label:Je};Cr!==void 0&&(Wr.labelDetails=Cr);let Xr=S instanceof Rit.default?S:void 0;S.detail&&(Wr.detail=S.detail),S.documentation&&(!Xr||Xr.documentationFormat==="$string"?Wr.documentation=S.documentation:Wr.documentation=hr(Xr.documentationFormat,S.documentation)),S.filterText&&(Wr.filterText=S.filterText),Er(Wr,S),vT.number(S.kind)&&(Wr.kind=un(S.kind,Xr&&Xr.originalItemKind)),S.sortText&&(Wr.sortText=S.sortText),S.additionalTextEdits&&(Wr.additionalTextEdits=ln(S.additionalTextEdits)),S.commitCharacters&&(Wr.commitCharacters=S.commitCharacters.slice()),S.command&&(Wr.command=nr(S.command)),(S.preselect===!0||S.preselect===!1)&&(Wr.preselect=S.preselect);let Fn=on(S.tags);if(Xr){if(Xr.data!==void 0&&(Wr.data=Xr.data),Xr.deprecated===!0||Xr.deprecated===!1){if(Xr.deprecated===!0&&Fn!==void 0&&Fn.length>0){let Oi=Fn.indexOf(Xc.CompletionItemTag.Deprecated);Oi!==-1&&Fn.splice(Oi,1)}Wr.deprecated=Xr.deprecated}Xr.insertTextMode!==void 0&&(Wr.insertTextMode=Xr.insertTextMode)}return Fn!==void 0&&Fn.length>0&&(Wr.tags=Fn),Wr.insertTextMode===void 0&&S.keepWhitespace===!0&&(Wr.insertTextMode=Pi.InsertTextMode.adjustIndentation),Wr}function Er(S,fe){let Je=Pi.InsertTextFormat.PlainText,Cr,Wr;fe.textEdit?(Cr=fe.textEdit.newText,Wr=fe.textEdit.range):fe.insertText instanceof Xc.SnippetString?(Je=Pi.InsertTextFormat.Snippet,Cr=fe.insertText.value):Cr=fe.insertText,fe.range&&(Wr=fe.range),S.insertTextFormat=Je,fe.fromEdit&&Cr!==void 0&&Wr!==void 0?S.textEdit=Un(Cr,Wr):S.insertText=Cr}function Un(S,fe){return d7.is(fe)?Pi.InsertReplaceEdit.create(S,Ne(fe.inserting),Ne(fe.replacing)):{newText:S,range:Ne(fe)}}function Br(S){return{range:Ne(S.range),newText:S.newText}}function ln(S){return S==null?S:S.map(Br)}function ni(S){return S<=Xc.SymbolKind.TypeParameter?S+1:Pi.SymbolKind.Property}function $r(S){return S}function kn(S){return S.map($r)}function Ei(S,fe,Je){return{textDocument:i(S),position:ce(fe),context:{includeDeclaration:Je.includeDeclaration}}}async function Vr(S,fe){let Je=Pi.CodeAction.create(S.title);if(S instanceof iCe.default&&S.data!==void 0&&(Je.data=S.data),S.kind!==void 0&&(Je.kind=oe(S.kind)),S.diagnostics!==void 0&&(Je.diagnostics=await lr(S.diagnostics,fe)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(Je.command=nr(S.command)),S.isPreferred!==void 0&&(Je.isPreferred=S.isPreferred),S.disabled!==void 0&&(Je.disabled={reason:S.disabled.reason}),S.isAI&&(Je.tags??=[],Je.tags.push(Pi.CodeActionTag.LLMGenerated)),Je}function Yi(S){let fe=Pi.CodeAction.create(S.title);if(S instanceof iCe.default&&S.data!==void 0&&(fe.data=S.data),S.kind!==void 0&&(fe.kind=oe(S.kind)),S.diagnostics!==void 0&&(fe.diagnostics=Et(S.diagnostics)),S.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return S.command!==void 0&&(fe.command=nr(S.command)),S.isPreferred!==void 0&&(fe.isPreferred=S.isPreferred),S.disabled!==void 0&&(fe.disabled={reason:S.disabled.reason}),S.isAI&&(fe.tags??=[],fe.tags.push(Pi.CodeActionTag.LLMGenerated)),fe}async function ii(S,fe){if(S==null)return S;let Je;return S.only&&vT.string(S.only.value)&&(Je=[S.only.value]),Pi.CodeActionContext.create(await lr(S.diagnostics,fe),Je,Oe(S.triggerKind))}function dn(S){if(S==null)return S;let fe;return S.only&&vT.string(S.only.value)&&(fe=[S.only.value]),Pi.CodeActionContext.create(Et(S.diagnostics),fe,Oe(S.triggerKind))}function Oe(S){switch(S){case Xc.CodeActionTriggerKind.Invoke:return Pi.CodeActionTriggerKind.Invoked;case Xc.CodeActionTriggerKind.Automatic:return Pi.CodeActionTriggerKind.Automatic;default:return}}function oe(S){if(S!=null)return S.value}function Q(S){return Pi.InlineValueContext.create(S.frameId,Ne(S.stoppedLocation))}function _e(S,fe,Je){return{textDocument:i(S),position:Ce(fe),context:Ke(Je)}}function Ke(S){return{triggerKind:ft(S.triggerKind),selectedCompletionInfo:Jt(S.selectedCompletionInfo)}}function ft(S){switch(S){case Xc.InlineCompletionTriggerKind.Invoke:return Pi.InlineCompletionTriggerKind.Invoked;case Xc.InlineCompletionTriggerKind.Automatic:return Pi.InlineCompletionTriggerKind.Automatic}}function Jt(S){if(S!=null)return{range:Ne(S.range),text:S.text}}function nr(S){let fe=Pi.Command.create(S.title,S.command);return S.tooltip&&(fe.tooltip=S.tooltip),S.arguments&&(fe.arguments=S.arguments),fe}function Xt(S){let fe=Pi.CodeLens.create(Ne(S.range));return S.command&&(fe.command=nr(S.command)),S instanceof xit.default&&S.data&&(fe.data=S.data),fe}function Vt(S,fe){let Je={tabSize:S.tabSize,insertSpaces:S.insertSpaces};return fe.trimTrailingWhitespace&&(Je.trimTrailingWhitespace=!0),fe.trimFinalNewlines&&(Je.trimFinalNewlines=!0),fe.insertFinalNewline&&(Je.insertFinalNewline=!0),Je}function kt(S){return{textDocument:i(S)}}function K(S){return{textDocument:i(S)}}function qe(S){let fe=Pi.DocumentLink.create(Ne(S.range));S.target&&(fe.target=n(S.target)),S.tooltip!==void 0&&(fe.tooltip=S.tooltip);let Je=S instanceof Eit.default?S:void 0;return Je&&Je.data&&(fe.data=Je.data),fe}function Wt(S){return{textDocument:i(S)}}function Dr(S){let fe={name:S.name,kind:ni(S.kind),uri:n(S.uri),range:Ne(S.range),selectionRange:Ne(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(fe.detail=S.detail),S.tags!==void 0&&(fe.tags=kn(S.tags)),S instanceof Oit.default&&S.data!==void 0&&(fe.data=S.data),fe}function He(S){let fe={name:S.name,kind:ni(S.kind),uri:n(S.uri),range:Ne(S.range),selectionRange:Ne(S.selectionRange)};return S.detail!==void 0&&S.detail.length>0&&(fe.detail=S.detail),S.tags!==void 0&&(fe.tags=kn(S.tags)),S instanceof Iit.default&&S.data!==void 0&&(fe.data=S.data),fe}function re(S){let fe=S instanceof kit.default?{name:S.name,kind:ni(S.kind),location:S.hasRange?Ct(S.location):{uri:t(S.location.uri)},data:S.data}:{name:S.name,kind:ni(S.kind),location:Ct(S.location)};return S.tags!==void 0&&(fe.tags=kn(S.tags)),S.containerName!==""&&(fe.containerName=S.containerName),fe}function xe(S){let fe=typeof S.label=="string"?S.label:S.label.map(je),Je=Pi.InlayHint.create(Ce(S.position),fe);return S.kind!==void 0&&(Je.kind=S.kind),S.textEdits!==void 0&&(Je.textEdits=ln(S.textEdits)),S.tooltip!==void 0&&(Je.tooltip=pe(S.tooltip)),S.paddingLeft!==void 0&&(Je.paddingLeft=S.paddingLeft),S.paddingRight!==void 0&&(Je.paddingRight=S.paddingRight),S instanceof Ait.default&&S.data!==void 0&&(Je.data=S.data),Je}function je(S){let fe=Pi.InlayHintLabelPart.create(S.value);return S.location!==void 0&&(fe.location=Ct(S.location)),S.command!==void 0&&(fe.command=nr(S.command)),S.tooltip!==void 0&&(fe.tooltip=pe(S.tooltip)),fe}function pe(S){return typeof S=="string"?S:{kind:Pi.MarkupKind.Markdown,value:S.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:b,asDidCreateFilesParams:T,asDidRenameFilesParams:k,asDidDeleteFilesParams:z,asWillCreateFilesParams:A,asWillRenameFilesParams:U,asWillDeleteFilesParams:ne,asTextDocumentPositionParams:de,asCompletionParams:$,asSignatureHelpParams:Le,asWorkerPosition:ce,asRange:Ne,asRanges:$e,asPosition:Ce,asPositions:we,asPositionsSync:Ee,asLocation:Ct,asDiagnosticSeverity:ze,asDiagnosticTag:at,asDiagnostic:jr,asDiagnostics:lr,asDiagnosticsSync:Et,asCompletionItem:En,asTextEdit:Br,asSymbolKind:ni,asSymbolTag:$r,asSymbolTags:kn,asReferenceParams:Ei,asCodeAction:Vr,asCodeActionSync:Yi,asCodeActionContext:ii,asCodeActionContextSync:dn,asInlineValueContext:Q,asCommand:nr,asCodeLens:Xt,asFormattingOptions:Vt,asDocumentSymbolParams:kt,asCodeLensParams:K,asDocumentLink:qe,asDocumentLinkParams:Wt,asCallHierarchyItem:Dr,asTypeHierarchyItem:He,asInlayHint:xe,asWorkspaceSymbol:re,asInlineCompletionParams:_e,asInlineCompletionContext:Ke}}});var Cj=P(gy=>{"use strict";var Lit=gy&&gy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Nit=gy&&gy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Sj=gy&&gy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Lit(t,e,n[i]);return Nit(t,e),t}}(),RC=gy&&gy.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gy,"__esModule",{value:!0});gy.createConverter=$it;var Ir=Sj(require("vscode")),zn=Sj(Jr()),Gm=Sj(iv()),Vo=Sj(yj()),Fit=RC(G9()),qit=RC(Y9()),jit=RC(X9()),zit=RC(Z9()),aCe=r7(),Uit=RC(i7()),Hit=RC(s7()),Wit=RC(c7()),Bit=RC(l7()),cCe=Jr(),wj;(function(r){function e(t){let n=t;return n&&Gm.string(n.language)&&Gm.string(n.value)}r.is=e})(wj||(wj={}));function $it(r,e,t,n){let o=r||(L=>Ir.Uri.parse(L));function s(L){return o(L)}function a(L){let Me=[];for(let rt of L)if(typeof rt=="string")Me.push(rt);else if(cCe.NotebookCellTextDocumentFilter.is(rt))if(typeof rt.notebook=="string")Me.push({notebookType:rt.notebook,language:rt.language});else{let Ut=rt.notebook.notebookType??"*";Me.push({notebookType:Ut,scheme:rt.notebook.scheme,pattern:Fr(rt.notebook.pattern),language:rt.language})}else cCe.TextDocumentFilter.is(rt)&&Me.push({language:rt.language,scheme:rt.scheme,pattern:Fr(rt.pattern)});return Me}async function c(L,Me){return Vo.map(L,l,Me)}function u(L){let Me=new Array(L.length);for(let rt=0;rt<L.length;rt++)Me[rt]=l(L[rt]);return Me}function l(L){let Me=new aCe.ProtocolDiagnostic(T(L.range),L.message,z(L.severity),L.data);if(L.code!==void 0){if(typeof L.code=="string"||typeof L.code=="number")zn.CodeDescription.is(L.codeDescription)?Me.code={value:L.code,target:s(L.codeDescription.href)}:Me.code=L.code;else if(aCe.DiagnosticCode.is(L.code)){Me.hasDiagnosticCode=!0;let rt=L.code;Me.code={value:rt.value,target:s(rt.target)}}}return L.source&&(Me.source=L.source),L.relatedInformation&&(Me.relatedInformation=d(L.relatedInformation)),Array.isArray(L.tags)&&(Me.tags=f(L.tags)),Me}function d(L){let Me=new Array(L.length);for(let rt=0;rt<L.length;rt++){let Ut=L[rt];Me[rt]=new Ir.DiagnosticRelatedInformation(tt(Ut.location),Ut.message)}return Me}function f(L){if(!L)return;let Me=[];for(let rt of L){let Ut=y(rt);Ut!==void 0&&Me.push(Ut)}return Me.length>0?Me:void 0}function y(L){switch(L){case zn.DiagnosticTag.Unnecessary:return Ir.DiagnosticTag.Unnecessary;case zn.DiagnosticTag.Deprecated:return Ir.DiagnosticTag.Deprecated;default:return}}function b(L){return L?new Ir.Position(L.line,L.character):void 0}function T(L){return L?new Ir.Range(L.start.line,L.start.character,L.end.line,L.end.character):void 0}async function k(L,Me){return Vo.map(L,rt=>new Ir.Range(rt.start.line,rt.start.character,rt.end.line,rt.end.character),Me)}function z(L){if(L==null)return Ir.DiagnosticSeverity.Error;switch(L){case zn.DiagnosticSeverity.Error:return Ir.DiagnosticSeverity.Error;case zn.DiagnosticSeverity.Warning:return Ir.DiagnosticSeverity.Warning;case zn.DiagnosticSeverity.Information:return Ir.DiagnosticSeverity.Information;case zn.DiagnosticSeverity.Hint:return Ir.DiagnosticSeverity.Hint}return Ir.DiagnosticSeverity.Error}function A(L){if(Gm.string(L))return ne(L);if(wj.is(L))return ne().appendCodeblock(L.value,L.language);if(Array.isArray(L)){let Me=[];for(let rt of L){let Ut=ne();wj.is(rt)?Ut.appendCodeblock(rt.value,rt.language):Ut.appendMarkdown(rt),Me.push(Ut)}return Me}else return ne(L)}function U(L){if(Gm.string(L))return L;switch(L.kind){case zn.MarkupKind.Markdown:return ne(L.value);case zn.MarkupKind.PlainText:return L.value;default:return`Unsupported Markup content received. Kind is: ${L.kind}`}}function ne(L){let Me;if(L===void 0||typeof L=="string")Me=new Ir.MarkdownString(L);else switch(L.kind){case zn.MarkupKind.Markdown:Me=new Ir.MarkdownString(L.value);break;case zn.MarkupKind.PlainText:Me=new Ir.MarkdownString,Me.appendText(L.value);break;default:Me=new Ir.MarkdownString,Me.appendText(`Unsupported Markup content received. Kind is: ${L.kind}`);break}return Me.isTrusted=e,Me.supportHtml=t,Me.supportThemeIcons=n,Me}function de(L){if(L)return new Ir.Hover(A(L.contents),T(L.range))}async function ve(L,Me,rt){if(!L)return;if(Array.isArray(L))return Vo.map(L,oo=>se(oo,Me),rt);let Ut=L,{defaultRange:An,commitCharacters:wn}=$(Ut,Me),Ln=await Vo.map(Ut.items,oo=>se(oo,wn,Ut.applyKind?.commitCharacters,An,Ut.itemDefaults?.insertTextMode,Ut.itemDefaults?.insertTextFormat,Ut.itemDefaults?.data,Ut.applyKind?.data),rt);return new Ir.CompletionList(Ln,Ut.isIncomplete)}function $(L,Me){let rt=L.itemDefaults?.editRange,Ut=L.itemDefaults?.commitCharacters??Me;return zn.Range.is(rt)?{defaultRange:T(rt),commitCharacters:Ut}:rt!==void 0?{defaultRange:{inserting:T(rt.insert),replacing:T(rt.replace)},commitCharacters:Ut}:{defaultRange:void 0,commitCharacters:Ut}}function W(L){return zn.CompletionItemKind.Text<=L&&L<=zn.CompletionItemKind.TypeParameter?[L-1,void 0]:[Ir.CompletionItemKind.Text,L]}function ee(L){switch(L){case zn.CompletionItemTag.Deprecated:return Ir.CompletionItemTag.Deprecated}}function Pe(L){if(L==null)return[];let Me=[];for(let rt of L){let Ut=ee(rt);Ut!==void 0&&Me.push(Ut)}return Me}function se(L,Me,rt,Ut,An,wn,Ln,oo){let qi=Pe(L.tags),To=Le(L),$i=new Fit.default(To);L.detail&&($i.detail=L.detail),L.documentation&&($i.documentation=U(L.documentation),$i.documentationFormat=Gm.string(L.documentation)?"$string":L.documentation.kind),L.filterText&&($i.filterText=L.filterText);let Yn=ce(L,Ut,wn);if(Yn&&($i.insertText=Yn.text,$i.range=Yn.range,$i.fromEdit=Yn.fromEdit),Gm.number(L.kind)){let[Qu,Mi]=W(L.kind);$i.kind=Qu,Mi&&($i.originalItemKind=Mi)}L.sortText&&($i.sortText=L.sortText),L.additionalTextEdits&&($i.additionalTextEdits=Ne(L.additionalTextEdits));let su=ue(L,Me,rt);su&&($i.commitCharacters=su.slice()),L.command&&($i.command=kn(L.command)),(L.deprecated===!0||L.deprecated===!1)&&($i.deprecated=L.deprecated,L.deprecated===!0&&qi.push(Ir.CompletionItemTag.Deprecated)),(L.preselect===!0||L.preselect===!1)&&($i.preselect=L.preselect);let Qo=Fe(L,Ln,oo);Qo!==void 0&&($i.data=Qo),qi.length>0&&($i.tags=qi);let go=L.insertTextMode??An;return go!==void 0&&($i.insertTextMode=go,go===zn.InsertTextMode.asIs&&($i.keepWhitespace=!0)),$i}function ue(L,Me,rt){if(rt===zn.ApplyKind.Merge){if(!Me&&!L.commitCharacters)return;let Ut=new Set;if(Me)for(let An of Me)Ut.add(An);if(Gm.stringArray(L.commitCharacters))for(let An of L.commitCharacters)Ut.add(An);return Array.from(Ut)}return L.commitCharacters!==void 0?Gm.stringArray(L.commitCharacters)?L.commitCharacters:void 0:Me}function Fe(L,Me,rt){if(rt===zn.ApplyKind.Merge){let Ut={...Me};return L.data&&Object.entries(L.data).forEach(([An,wn])=>{wn!=null&&(Ut[An]=wn)}),Ut}return L.data??Me}function Le(L){return zn.CompletionItemLabelDetails.is(L.labelDetails)?{label:L.label,detail:L.labelDetails.detail,description:L.labelDetails.description}:L.label}function ce(L,Me,rt){let Ut=L.insertTextFormat??rt;if(L.textEdit!==void 0||Me!==void 0){let[An,wn]=L.textEdit!==void 0?Ce(L.textEdit):[Me,L.textEditText??L.label];return Ut===zn.InsertTextFormat.Snippet?{text:new Ir.SnippetString(wn),range:An,fromEdit:!0}:{text:wn,range:An,fromEdit:!0}}else return L.insertText?Ut===zn.InsertTextFormat.Snippet?{text:new Ir.SnippetString(L.insertText),fromEdit:!1}:{text:L.insertText,fromEdit:!1}:void 0}function Ce(L){return zn.InsertReplaceEdit.is(L)?[{inserting:T(L.insert),replacing:T(L.replace)},L.newText]:[T(L.range),L.newText]}function we(L){if(L)return new Ir.TextEdit(T(L.range),L.newText)}async function Ee(L,Me){if(L)return Vo.map(L,we,Me)}function Ne(L){if(!L)return;let Me=new Array(L.length);for(let rt=0;rt<L.length;rt++)Me[rt]=we(L[rt]);return Me}async function $e(L,Me){if(!L)return;let rt=new Ir.SignatureHelp;return Gm.number(L.activeSignature)?rt.activeSignature=L.activeSignature:rt.activeSignature=0,Gm.number(L.activeParameter)?rt.activeParameter=L.activeParameter:L.activeParameter===null?rt.activeParameter=-1:rt.activeParameter=0,L.signatures&&(rt.signatures=await Ct(L.signatures,Me)),rt}async function Ct(L,Me){return Vo.mapAsync(L,ze,Me)}async function ze(L,Me){let rt=new Ir.SignatureInformation(L.label);return L.documentation!==void 0&&(rt.documentation=U(L.documentation)),L.parameters!==void 0&&(rt.parameters=await st(L.parameters,Me)),L.activeParameter!==void 0&&(rt.activeParameter=L.activeParameter??-1),rt}function st(L,Me){return Vo.map(L,at,Me)}function at(L){let Me=new Ir.ParameterInformation(L.label);return L.documentation&&(Me.documentation=U(L.documentation)),Me}function tt(L){return L?new Ir.Location(o(L.uri),T(L.range)):void 0}async function pr(L,Me){if(L)return lr(L,Me)}async function Ar(L,Me){if(L)return lr(L,Me)}function jr(L){if(!L)return;let Me={targetUri:o(L.targetUri),targetRange:T(L.targetRange),originSelectionRange:T(L.originSelectionRange),targetSelectionRange:T(L.targetSelectionRange)};if(!Me.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Me}async function lr(L,Me){if(L)if(Gm.array(L)){if(L.length===0)return[];if(zn.LocationLink.is(L[0])){let rt=L;return Vo.map(rt,jr,Me)}else{let rt=L;return Vo.map(rt,tt,Me)}}else return zn.LocationLink.is(L)?[jr(L)]:tt(L)}async function Et(L,Me){if(L)return Vo.map(L,tt,Me)}async function hr(L,Me){if(L)return Vo.map(L,Lt,Me)}function Lt(L){let Me=new Ir.DocumentHighlight(T(L.range));return Gm.number(L.kind)&&(Me.kind=on(L.kind)),Me}function on(L){switch(L){case zn.DocumentHighlightKind.Text:return Ir.DocumentHighlightKind.Text;case zn.DocumentHighlightKind.Read:return Ir.DocumentHighlightKind.Read;case zn.DocumentHighlightKind.Write:return Ir.DocumentHighlightKind.Write}return Ir.DocumentHighlightKind.Text}async function un(L,Me){if(L)return Vo.map(L,Br,Me)}function En(L){return L<=zn.SymbolKind.TypeParameter?L-1:Ir.SymbolKind.Property}function Er(L){switch(L){case zn.SymbolTag.Deprecated:return Ir.SymbolTag.Deprecated;default:return}}function Un(L){if(L==null)return;let Me=[];for(let rt of L){let Ut=Er(rt);Ut!==void 0&&Me.push(Ut)}return Me.length===0?void 0:Me}function Br(L){let Me=L.data,rt=L.location,Ut=rt.range===void 0||Me!==void 0?new Wit.default(L.name,En(L.kind),L.containerName??"",rt.range===void 0?o(rt.uri):new Ir.Location(o(L.location.uri),T(rt.range)),Me):new Ir.SymbolInformation(L.name,En(L.kind),L.containerName??"",new Ir.Location(o(L.location.uri),T(rt.range)));return $r(Ut,L),Ut}async function ln(L,Me){if(L!=null)return Vo.map(L,ni,Me)}function ni(L){let Me=new Ir.DocumentSymbol(L.name,L.detail||"",En(L.kind),T(L.range),T(L.selectionRange));if($r(Me,L),L.children!==void 0&&L.children.length>0){let rt=[];for(let Ut of L.children)rt.push(ni(Ut));Me.children=rt}return Me}function $r(L,Me){L.tags=Un(Me.tags),Me.deprecated&&(L.tags?L.tags.includes(Ir.SymbolTag.Deprecated)||(L.tags=L.tags.concat(Ir.SymbolTag.Deprecated)):L.tags=[Ir.SymbolTag.Deprecated])}function kn(L){let Me={title:L.title,command:L.command};return L.tooltip&&(Me.tooltip=L.tooltip),L.arguments&&(Me.arguments=L.arguments),Me}async function Ei(L,Me){if(L)return Vo.map(L,kn,Me)}let Vr=new Map;Vr.set(zn.CodeActionKind.Empty,Ir.CodeActionKind.Empty),Vr.set(zn.CodeActionKind.QuickFix,Ir.CodeActionKind.QuickFix),Vr.set(zn.CodeActionKind.Refactor,Ir.CodeActionKind.Refactor),Vr.set(zn.CodeActionKind.RefactorExtract,Ir.CodeActionKind.RefactorExtract),Vr.set(zn.CodeActionKind.RefactorInline,Ir.CodeActionKind.RefactorInline),Vr.set(zn.CodeActionKind.RefactorRewrite,Ir.CodeActionKind.RefactorRewrite),Vr.set(zn.CodeActionKind.Source,Ir.CodeActionKind.Source),Vr.set(zn.CodeActionKind.SourceOrganizeImports,Ir.CodeActionKind.SourceOrganizeImports);function Yi(L){if(L==null)return;let Me=Vr.get(L);if(Me)return Me;let rt=L.split(".");Me=Ir.CodeActionKind.Empty;for(let Ut of rt)Me=Me.append(Ut);return Me}function ii(L){if(L!=null)return L.map(Me=>Yi(Me))}function dn(L){if(L!=null)return L.map(Me=>({kind:Yi(Me.kind),command:kn(Me.command)}))}async function Oe(L,Me){if(L==null)return;let rt=new zit.default(L.title,L.data);return L.kind!==void 0&&(rt.kind=Yi(L.kind)),L.diagnostics!==void 0&&(rt.diagnostics=u(L.diagnostics)),L.edit!==void 0&&(rt.edit=await Ke(L.edit,Me)),L.command!==void 0&&(rt.command=kn(L.command)),L.isPreferred!==void 0&&(rt.isPreferred=L.isPreferred),L.disabled!==void 0&&(rt.disabled={reason:L.disabled.reason}),L.tags?.includes(zn.CodeActionTag.LLMGenerated)&&(rt.isAI=!0),rt}function oe(L,Me){return Vo.mapAsync(L,async rt=>zn.Command.is(rt)?kn(rt):Oe(rt,Me),Me)}function Q(L){if(!L)return;let Me=new qit.default(T(L.range));return L.command&&(Me.command=kn(L.command)),L.data!==void 0&&L.data!==null&&(Me.data=L.data),Me}async function _e(L,Me){if(L)return Vo.map(L,Q,Me)}async function Ke(L,Me){if(!L)return;let rt=new Map;if(L.changeAnnotations!==void 0){let wn=L.changeAnnotations;await Vo.forEach(Object.keys(wn),Ln=>{let oo=ft(wn[Ln]);rt.set(Ln,oo)},Me)}let Ut=wn=>{if(wn!==void 0)return rt.get(wn)},An=new Ir.WorkspaceEdit;if(L.documentChanges){let wn=L.documentChanges;await Vo.forEach(wn,Ln=>{if(zn.CreateFile.is(Ln))An.createFile(o(Ln.uri),Ln.options,Ut(Ln.annotationId));else if(zn.RenameFile.is(Ln))An.renameFile(o(Ln.oldUri),o(Ln.newUri),Ln.options,Ut(Ln.annotationId));else if(zn.DeleteFile.is(Ln))An.deleteFile(o(Ln.uri),Ln.options,Ut(Ln.annotationId));else if(zn.TextDocumentEdit.is(Ln)){let oo=o(Ln.textDocument.uri),qi=[];for(let To of Ln.edits)zn.AnnotatedTextEdit.is(To)?qi.push([new Ir.TextEdit(T(To.range),To.newText),Ut(To.annotationId)]):zn.SnippetTextEdit.is(To)?qi.push([new Ir.SnippetTextEdit(T(To.range),new Ir.SnippetString(To.snippet.value)),Ut(To.annotationId)]):qi.push([new Ir.TextEdit(T(To.range),To.newText),void 0]);An.set(oo,qi)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(Ln,void 0,4)}`)},Me)}else if(L.changes){let wn=L.changes;await Vo.forEach(Object.keys(wn),Ln=>{An.set(o(Ln),Ne(wn[Ln]))},Me)}return An}function ft(L){if(L!==void 0)return{label:L.label,needsConfirmation:!!L.needsConfirmation,description:L.description}}function Jt(L){let Me=T(L.range),rt=L.target?s(L.target):void 0,Ut=new jit.default(Me,rt);return L.tooltip!==void 0&&(Ut.tooltip=L.tooltip),L.data!==void 0&&L.data!==null&&(Ut.data=L.data),Ut}async function nr(L,Me){if(L)return Vo.map(L,Jt,Me)}function Xt(L){return new Ir.Color(L.red,L.green,L.blue,L.alpha)}function Vt(L){return new Ir.ColorInformation(T(L.range),Xt(L.color))}async function kt(L,Me){if(L)return Vo.map(L,Vt,Me)}function K(L){let Me=new Ir.ColorPresentation(L.label);return Me.additionalTextEdits=Ne(L.additionalTextEdits),L.textEdit&&(Me.textEdit=we(L.textEdit)),Me}async function qe(L,Me){if(L)return Vo.map(L,K,Me)}function Wt(L){if(L)switch(L){case zn.FoldingRangeKind.Comment:return Ir.FoldingRangeKind.Comment;case zn.FoldingRangeKind.Imports:return Ir.FoldingRangeKind.Imports;case zn.FoldingRangeKind.Region:return Ir.FoldingRangeKind.Region}}function Dr(L){return new Ir.FoldingRange(L.startLine,L.endLine,Wt(L.kind))}async function He(L,Me){if(L)return Vo.map(L,Dr,Me)}function re(L){return new Ir.SelectionRange(T(L.range),L.parent?re(L.parent):void 0)}async function xe(L,Me){return Array.isArray(L)?Vo.map(L,re,Me):[]}function je(L){return zn.InlineValueText.is(L)?new Ir.InlineValueText(T(L.range),L.text):zn.InlineValueVariableLookup.is(L)?new Ir.InlineValueVariableLookup(T(L.range),L.variableName,L.caseSensitiveLookup):new Ir.InlineValueEvaluatableExpression(T(L.range),L.expression)}async function pe(L,Me){return Array.isArray(L)?Vo.map(L,je,Me):[]}async function S(L,Me){let rt=typeof L.label=="string"?L.label:await Vo.map(L.label,fe,Me),Ut=new Bit.default(b(L.position),rt);return L.kind!==void 0&&(Ut.kind=L.kind),L.textEdits!==void 0&&(Ut.textEdits=await Ee(L.textEdits,Me)),L.tooltip!==void 0&&(Ut.tooltip=Je(L.tooltip)),L.paddingLeft!==void 0&&(Ut.paddingLeft=L.paddingLeft),L.paddingRight!==void 0&&(Ut.paddingRight=L.paddingRight),L.data!==void 0&&(Ut.data=L.data),Ut}function fe(L){let Me=new Ir.InlayHintLabelPart(L.value);return L.location!==void 0&&(Me.location=tt(L.location)),L.tooltip!==void 0&&(Me.tooltip=Je(L.tooltip)),L.command!==void 0&&(Me.command=kn(L.command)),Me}function Je(L){return typeof L=="string"?L:ne(L)}async function Cr(L,Me){if(Array.isArray(L))return Vo.mapAsync(L,S,Me)}function Wr(L){if(L===null)return;let Me=new Uit.default(En(L.kind),L.name,L.detail||"",s(L.uri),T(L.range),T(L.selectionRange),L.data);return L.tags!==void 0&&(Me.tags=Un(L.tags)),Me}async function Xr(L,Me){if(L!==null)return Vo.map(L,Wr,Me)}async function Fn(L,Me){return new Ir.CallHierarchyIncomingCall(Wr(L.from),await k(L.fromRanges,Me))}async function Oi(L,Me){if(L!==null)return Vo.mapAsync(L,Fn,Me)}async function Ts(L,Me){return new Ir.CallHierarchyOutgoingCall(Wr(L.to),await k(L.fromRanges,Me))}async function _n(L,Me){if(L!==null)return Vo.mapAsync(L,Ts,Me)}async function Xo(L,Me){if(L!=null)return new Ir.SemanticTokens(new Uint32Array(L.data),L.resultId)}function Ns(L){return new Ir.SemanticTokensEdit(L.start,L.deleteCount,L.data!==void 0?new Uint32Array(L.data):void 0)}async function Ys(L,Me){if(L!=null)return new Ir.SemanticTokensEdits(L.edits.map(Ns),L.resultId)}function Ao(L){return L}async function Do(L,Me){if(L!=null)return new Ir.LinkedEditingRanges(await k(L.ranges,Me),H(L.wordPattern))}function H(L){if(L!=null)return new RegExp(L)}function Ue(L){if(L===null)return;let Me=new Hit.default(En(L.kind),L.name,L.detail||"",s(L.uri),T(L.range),T(L.selectionRange),L.data);return L.tags!==void 0&&(Me.tags=Un(L.tags)),Me}async function vt(L,Me){if(L!==null)return Vo.map(L,Ue,Me)}function Fr(L){if(Gm.string(L))return L;if(zn.RelativePattern.is(L)){if(zn.URI.is(L.baseUri))return new Ir.RelativePattern(s(L.baseUri),L.pattern);if(zn.WorkspaceFolder.is(L.baseUri)){let Me=Ir.workspace.getWorkspaceFolder(s(L.baseUri.uri));return Me!==void 0?new Ir.RelativePattern(Me,L.pattern):void 0}}}async function io(L,Me){if(!L)return;if(Array.isArray(L))return Vo.map(L,An=>Hi(An),Me);let rt=L,Ut=await Vo.map(rt.items,An=>Hi(An),Me);return new Ir.InlineCompletionList(Ut)}function Hi(L){let Me;typeof L.insertText=="string"?Me=L.insertText:Me=new Ir.SnippetString(L.insertText.value);let rt;L.command&&(rt=kn(L.command));let Ut=new Ir.InlineCompletionItem(Me,T(L.range),rt);return L.filterText&&(Ut.filterText=L.filterText),Ut}return{asUri:s,asDocumentSelector:a,asDiagnostics:c,asDiagnostic:l,asRange:T,asRanges:k,asPosition:b,asDiagnosticSeverity:z,asDiagnosticTag:y,asHover:de,asCompletionResult:ve,asCompletionItem:se,asTextEdit:we,asTextEdits:Ee,asSignatureHelp:$e,asSignatureInformations:Ct,asSignatureInformation:ze,asParameterInformations:st,asParameterInformation:at,asDeclarationResult:pr,asDefinitionResult:Ar,asLocation:tt,asReferences:Et,asDocumentHighlights:hr,asDocumentHighlight:Lt,asDocumentHighlightKind:on,asSymbolKind:En,asSymbolTag:Er,asSymbolTags:Un,asSymbolInformations:un,asSymbolInformation:Br,asDocumentSymbols:ln,asDocumentSymbol:ni,asCommand:kn,asCommands:Ei,asCodeAction:Oe,asCodeActionKind:Yi,asCodeActionKinds:ii,asCodeActionDocumentations:dn,asCodeActionResult:oe,asCodeLens:Q,asCodeLenses:_e,asWorkspaceEdit:Ke,asDocumentLink:Jt,asDocumentLinks:nr,asFoldingRangeKind:Wt,asFoldingRange:Dr,asFoldingRanges:He,asColor:Xt,asColorInformation:Vt,asColorInformations:kt,asColorPresentation:K,asColorPresentations:qe,asSelectionRange:re,asSelectionRanges:xe,asInlineValue:je,asInlineValues:pe,asInlayHint:S,asInlayHints:Cr,asSemanticTokensLegend:Ao,asSemanticTokens:Xo,asSemanticTokensEdit:Ns,asSemanticTokensEdits:Ys,asCallHierarchyItem:Wr,asCallHierarchyItems:Xr,asCallHierarchyIncomingCall:Fn,asCallHierarchyIncomingCalls:Oi,asCallHierarchyOutgoingCall:Ts,asCallHierarchyOutgoingCalls:_n,asLinkedEditingRanges:Do,asTypeHierarchyItem:Ue,asTypeHierarchyItems:vt,asGlobPattern:Fr,asInlineCompletionResult:io,asInlineCompletionItem:Hi}}});var Ia=P(xC=>{"use strict";Object.defineProperty(xC,"__esModule",{value:!0});xC.empty=void 0;xC.v4=uCe;xC.isUUID=lCe;xC.parse=Git;xC.generateUuid=Kit;var x1=class{_value;constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},f7=class r extends x1{static _chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];static _timeHighBits=["8","9","a","b"];static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}};xC.empty=new x1("00000000-0000-0000-0000-000000000000");function uCe(){return new f7}var Vit=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function lCe(r){return Vit.test(r)}function Git(r){if(!lCe(r))throw new Error("invalid uuid");return new x1(r)}function Kit(){return uCe().asHex()}});var h7=P(Mb=>{"use strict";var Yit=Mb&&Mb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jit=Mb&&Mb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Xit=Mb&&Mb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Yit(t,e,n[i]);return Jit(t,e),t}}();Object.defineProperty(Mb,"__esModule",{value:!0});Mb.ProgressPart=void 0;var dCe=require("vscode"),fCe=Jr(),pCe=Xit(iv()),p7=class{_client;_token;_infinite;_reported;_lspProgressDisposable;_progress;_cancellationToken;_tokenDisposable;_resolve;_reject;constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(fCe.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&dCe.window.withProgress({location:dCe.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(fCe.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&pCe.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(pCe.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};Mb.ProgressPart=p7});var Oo=P(Ec=>{"use strict";var Qit=Ec&&Ec.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zit=Ec&&Ec.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vCe=Ec&&Ec.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Qit(t,e,n[i]);return Zit(t,e),t}}();Object.defineProperty(Ec,"__esModule",{value:!0});Ec.WorkspaceFeature=Ec.TextDocumentLanguageFeature=Ec.TextDocumentEventFeature=Ec.DynamicDocumentFeature=Ec.DynamicFeature=Ec.StaticFeature=Ec.LSPCancellationError=void 0;Ec.ensure=eot;var EC=require("vscode"),m7=Jr(),Wp=vCe(iv()),hCe=vCe(Ia()),g7=class extends EC.CancellationError{data;constructor(e){super(),this.data=e}};Ec.LSPCancellationError=g7;function eot(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var mCe;(function(r){function e(t){let n=t;return n!=null&&Wp.func(n.fillClientCapabilities)&&Wp.func(n.initialize)&&Wp.func(n.getState)&&Wp.func(n.clear)&&(n.fillInitializeParams===void 0||Wp.func(n.fillInitializeParams))}r.is=e})(mCe||(Ec.StaticFeature=mCe={}));var gCe;(function(r){function e(t){let n=t;return n!=null&&Wp.func(n.fillClientCapabilities)&&Wp.func(n.initialize)&&Wp.func(n.getState)&&Wp.func(n.clear)&&(n.fillInitializeParams===void 0||Wp.func(n.fillInitializeParams))&&Wp.func(n.register)&&Wp.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(gCe||(Ec.DynamicFeature=gCe={}));var E1=class{_client;constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of EC.workspace.textDocuments)if(EC.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};Ec.DynamicDocumentFeature=E1;var v7=class extends E1{_event;_type;_middleware;_createParams;_textDocument;_selectorFilter;_listener;_selectors;_onNotificationSent;static textDocumentFilter(e,t){for(let n of e)if(EC.languages.match(n,t)>0)return!0;return!1}constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new EC.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(n),this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._onNotificationSent=new EC.EventEmitter,this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(EC.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};Ec.TextDocumentEventFeature=v7;var y7=class extends E1{_registrationType;_registrations;constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(m7.TextDocumentRegistrationOptions.is(t)){let n=m7.StaticRegistrationOptions.hasId(t)?t.id:hCe.generateUuid(),i=t.documentSelector??e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(Wp.boolean(t)&&t===!0||m7.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=Wp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[hCe.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return Wp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&EC.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};Ec.TextDocumentLanguageFeature=y7;var b7=class{_client;_registrationType;_registrations;constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};Ec.WorkspaceFeature=b7});var _7=P((M2t,wCe)=>{"use strict";wCe.exports=bCe;function bCe(r,e,t){r instanceof RegExp&&(r=yCe(r,t)),e instanceof RegExp&&(e=yCe(e,t));var n=_Ce(r,e,t);return n&&{start:n[0],end:n[1],pre:t.slice(0,n[0]),body:t.slice(n[0]+r.length,n[1]),post:t.slice(n[1]+e.length)}}function yCe(r,e){var t=e.match(r);return t?t[0]:null}bCe.range=_Ce;function _Ce(r,e,t){var n,i,o,s,a,c=t.indexOf(r),u=t.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(n=[],o=t.length;l>=0&&!a;)l==c?(n.push(l),c=t.indexOf(r,l+1)):n.length==1?a=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,s=u),u=t.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}});var ECe=P((L2t,xCe)=>{var SCe=_7();xCe.exports=not;var CCe="\0SLASH"+Math.random()+"\0",DCe="\0OPEN"+Math.random()+"\0",S7="\0CLOSE"+Math.random()+"\0",TCe="\0COMMA"+Math.random()+"\0",PCe="\0PERIOD"+Math.random()+"\0";function w7(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function tot(r){return r.split("\\\\").join(CCe).split("\\{").join(DCe).split("\\}").join(S7).split("\\,").join(TCe).split("\\.").join(PCe)}function rot(r){return r.split(CCe).join("\\").split(DCe).join("{").split(S7).join("}").split(TCe).join(",").split(PCe).join(".")}function RCe(r){if(!r)return[""];var e=[],t=SCe("{","}",r);if(!t)return r.split(",");var n=t.pre,i=t.body,o=t.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=RCe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function not(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),O1(tot(r),!0).map(rot)):[]}function iot(r){return"{"+r+"}"}function oot(r){return/^-?0\d/.test(r)}function sot(r,e){return r<=e}function aot(r,e){return r>=e}function O1(r,e){var t=[],n=SCe("{","}",r);if(!n)return[r];var i=n.pre,o=n.post.length?O1(n.post,!1):[""];if(/\$$/.test(n.pre))for(var s=0;s<o.length;s++){var a=i+"{"+n.body+"}"+o[s];t.push(a)}else{var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),l=c||u,d=n.body.indexOf(",")>=0;if(!l&&!d)return n.post.match(/,(?!,).*\}/)?(r=n.pre+"{"+n.body+S7+n.post,O1(r)):[r];var f;if(l)f=n.body.split(/\.\./);else if(f=RCe(n.body),f.length===1&&(f=O1(f[0],!1).map(iot),f.length===1))return o.map(function(Pe){return n.pre+f[0]+Pe});var y;if(l){var b=w7(f[0]),T=w7(f[1]),k=Math.max(f[0].length,f[1].length),z=f.length==3?Math.abs(w7(f[2])):1,A=sot,U=T<b;U&&(z*=-1,A=aot);var ne=f.some(oot);y=[];for(var de=b;A(de,T);de+=z){var ve;if(u)ve=String.fromCharCode(de),ve==="\\"&&(ve="");else if(ve=String(de),ne){var $=k-ve.length;if($>0){var W=new Array($+1).join("0");de<0?ve="-"+W+ve.slice(1):ve=W+ve}}y.push(ve)}}else{y=[];for(var ee=0;ee<f.length;ee++)y.push.apply(y,O1(f[ee],!1))}for(var ee=0;ee<y.length;ee++)for(var s=0;s<o.length;s++){var a=i+y[ee]+o[s];(!e||l||a)&&t.push(a)}}return t}});var OCe=P(Dj=>{"use strict";Object.defineProperty(Dj,"__esModule",{value:!0});Dj.assertValidPattern=void 0;var cot=1024*64,uot=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>cot)throw new TypeError("pattern is too long")};Dj.assertValidPattern=uot});var kCe=P(Tj=>{"use strict";Object.defineProperty(Tj,"__esModule",{value:!0});Tj.parseClass=void 0;var lot={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},I1=r=>r.replace(/[[\]\\-]/g,"\\$&"),dot=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),ICe=r=>r.join(""),fot=(r,e)=>{let t=e;if(r.charAt(t)!=="[")throw new Error("not in a brace expression");let n=[],i=[],o=t+1,s=!1,a=!1,c=!1,u=!1,l=t,d="";e:for(;o<r.length;){let T=r.charAt(o);if((T==="!"||T==="^")&&o===t+1){u=!0,o++;continue}if(T==="]"&&s&&!c){l=o+1;break}if(s=!0,T==="\\"&&!c){c=!0,o++;continue}if(T==="["&&!c){for(let[k,[z,A,U]]of Object.entries(lot))if(r.startsWith(k,o)){if(d)return["$.",!1,r.length-t,!0];o+=k.length,U?i.push(z):n.push(z),a=a||A;continue e}}if(c=!1,d){T>d?n.push(I1(d)+"-"+I1(T)):T===d&&n.push(I1(T)),d="",o++;continue}if(r.startsWith("-]",o+1)){n.push(I1(T+"-")),o+=2;continue}if(r.startsWith("-",o+1)){d=T,o+=2;continue}n.push(I1(T)),o++}if(l<o)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,r.length-t,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!u){let T=n[0].length===2?n[0].slice(-1):n[0];return[dot(T),!1,l-t,!1]}let f="["+(u?"^":"")+ICe(n)+"]",y="["+(u?"":"^")+ICe(i)+"]";return[n.length&&i.length?"("+f+"|"+y+")":n.length?f:y,a,l-t,!0]};Tj.parseClass=fot});var Rj=P(Pj=>{"use strict";Object.defineProperty(Pj,"__esModule",{value:!0});Pj.unescape=void 0;var pot=(r,{windowsPathsNoEscape:e=!1}={})=>e?r.replace(/\[([^\/\\])\]/g,"$1"):r.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Pj.unescape=pot});var T7=P(Oj=>{"use strict";Object.defineProperty(Oj,"__esModule",{value:!0});Oj.AST=void 0;var hot=kCe(),xj=Rj(),mot=new Set(["!","?","+","*","@"]),ACe=r=>mot.has(r),got="(?!(?:^|/)\\.\\.?(?:$|/))",Ej="(?!\\.)",vot=new Set(["[","."]),yot=new Set(["..","."]),bot=new Set("().*{}+?[]^$\\!"),_ot=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),D7="[^/]",MCe=D7+"*?",LCe=D7+"+?",C7=class r{type;#t;#n;#o=!1;#e=[];#r;#s;#c;#a=!1;#i;#u;#d=!1;constructor(e,t,n={}){this.type=e,e&&(this.#n=!0),this.#r=t,this.#t=this.#r?this.#r.#t:this,this.#i=this.#t===this?n:this.#t.#i,this.#c=this.#t===this?[]:this.#t.#c,e==="!"&&!this.#t.#a&&this.#c.push(this),this.#s=this.#r?this.#r.#e.length:0}get hasMagic(){if(this.#n!==void 0)return this.#n;for(let e of this.#e)if(typeof e!="string"&&(e.type||e.hasMagic))return this.#n=!0;return this.#n}toString(){return this.#u!==void 0?this.#u:this.type?this.#u=this.type+"("+this.#e.map(e=>String(e)).join("|")+")":this.#u=this.#e.map(e=>String(e)).join("")}#p(){if(this!==this.#t)throw new Error("should only call on root");if(this.#a)return this;this.toString(),this.#a=!0;let e;for(;e=this.#c.pop();){if(e.type!=="!")continue;let t=e,n=t.#r;for(;n;){for(let i=t.#s+1;!n.type&&i<n.#e.length;i++)for(let o of e.#e){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(n.#e[i])}t=n,n=t.#r}}return this}push(...e){for(let t of e)if(t!==""){if(typeof t!="string"&&!(t instanceof r&&t.#r===this))throw new Error("invalid part: "+t);this.#e.push(t)}}toJSON(){let e=this.type===null?this.#e.slice().map(t=>typeof t=="string"?t:t.toJSON()):[this.type,...this.#e.map(t=>t.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#t||this.#t.#a&&this.#r?.type==="!")&&e.push({}),e}isStart(){if(this.#t===this)return!0;if(!this.#r?.isStart())return!1;if(this.#s===0)return!0;let e=this.#r;for(let t=0;t<this.#s;t++){let n=e.#e[t];if(!(n instanceof r&&n.type==="!"))return!1}return!0}isEnd(){if(this.#t===this||this.#r?.type==="!")return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();let e=this.#r?this.#r.#e.length:0;return this.#s===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){let t=new r(this.type,e);for(let n of this.#e)t.copyIn(n);return t}static#l(e,t,n,i){let o=!1,s=!1,a=-1,c=!1;if(t.type===null){let y=n,b="";for(;y<e.length;){let T=e.charAt(y++);if(o||T==="\\"){o=!o,b+=T;continue}if(s){y===a+1?(T==="^"||T==="!")&&(c=!0):T==="]"&&!(y===a+2&&c)&&(s=!1),b+=T;continue}else if(T==="["){s=!0,a=y,c=!1,b+=T;continue}if(!i.noext&&ACe(T)&&e.charAt(y)==="("){t.push(b),b="";let k=new r(T,t);y=r.#l(e,k,y,i),t.push(k);continue}b+=T}return t.push(b),y}let u=n+1,l=new r(null,t),d=[],f="";for(;u<e.length;){let y=e.charAt(u++);if(o||y==="\\"){o=!o,f+=y;continue}if(s){u===a+1?(y==="^"||y==="!")&&(c=!0):y==="]"&&!(u===a+2&&c)&&(s=!1),f+=y;continue}else if(y==="["){s=!0,a=u,c=!1,f+=y;continue}if(ACe(y)&&e.charAt(u)==="("){l.push(f),f="";let b=new r(y,l);l.push(b),u=r.#l(e,b,u,i);continue}if(y==="|"){l.push(f),f="",d.push(l),l=new r(null,t);continue}if(y===")")return f===""&&t.#e.length===0&&(t.#d=!0),l.push(f),f="",t.push(...d,l),u;f+=y}return t.type=null,t.#n=void 0,t.#e=[e.substring(n-1)],u}static fromGlob(e,t={}){let n=new r(null,void 0,t);return r.#l(e,n,0,t),n}toMMPattern(){if(this!==this.#t)return this.#t.toMMPattern();let e=this.toString(),[t,n,i,o]=this.toRegExpSource();if(!(i||this.#n||this.#i.nocase&&!this.#i.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;let a=(this.#i.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${t}$`,a),{_src:t,_glob:e})}get options(){return this.#i}toRegExpSource(e){let t=e??!!this.#i.dot;if(this.#t===this&&this.#p(),!this.type){let c=this.isStart()&&this.isEnd(),u=this.#e.map(y=>{let[b,T,k,z]=typeof y=="string"?r.#h(y,this.#n,c):y.toRegExpSource(e);return this.#n=this.#n||k,this.#o=this.#o||z,b}).join(""),l="";if(this.isStart()&&typeof this.#e[0]=="string"&&!(this.#e.length===1&&yot.has(this.#e[0]))){let b=vot,T=t&&b.has(u.charAt(0))||u.startsWith("\\.")&&b.has(u.charAt(2))||u.startsWith("\\.\\.")&&b.has(u.charAt(4)),k=!t&&!e&&b.has(u.charAt(0));l=T?got:k?Ej:""}let d="";return this.isEnd()&&this.#t.#a&&this.#r?.type==="!"&&(d="(?:$|\\/)"),[l+u+d,(0,xj.unescape)(u),this.#n=!!this.#n,this.#o]}let n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:",o=this.#f(t);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){let c=this.toString();return this.#e=[c],this.type=null,this.#n=void 0,[c,(0,xj.unescape)(this.toString()),!1,!1]}let s=!n||e||t||!Ej?"":this.#f(!0);s===o&&(s=""),s&&(o=`(?:${o})(?:${s})*?`);let a="";if(this.type==="!"&&this.#d)a=(this.isStart()&&!t?Ej:"")+LCe;else{let c=this.type==="!"?"))"+(this.isStart()&&!t&&!e?Ej:"")+MCe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&s?")":this.type==="*"&&s?")?":`)${this.type}`;a=i+o+c}return[a,(0,xj.unescape)(o),this.#n=!!this.#n,this.#o]}#f(e){return this.#e.map(t=>{if(typeof t=="string")throw new Error("string type in extglob ast??");let[n,i,o,s]=t.toRegExpSource(e);return this.#o=this.#o||s,n}).filter(t=>!(this.isStart()&&this.isEnd())||!!t).join("|")}static#h(e,t,n=!1){let i=!1,o="",s=!1;for(let a=0;a<e.length;a++){let c=e.charAt(a);if(i){i=!1,o+=(bot.has(c)?"\\":"")+c;continue}if(c==="\\"){a===e.length-1?o+="\\\\":i=!0;continue}if(c==="["){let[u,l,d,f]=(0,hot.parseClass)(e,a);if(d){o+=u,s=s||l,a+=d-1,t=t||f;continue}}if(c==="*"){n&&e==="*"?o+=LCe:o+=MCe,t=!0;continue}if(c==="?"){o+=D7,t=!0;continue}o+=_ot(c)}return[o,(0,xj.unescape)(e),!!t,s]}};Oj.AST=C7});var P7=P(Ij=>{"use strict";Object.defineProperty(Ij,"__esModule",{value:!0});Ij.escape=void 0;var wot=(r,{windowsPathsNoEscape:e=!1}={})=>e?r.replace(/[?*()[\]]/g,"[$&]"):r.replace(/[?*()[\]\\]/g,"\\$&");Ij.escape=wot});var R7=P(vn=>{"use strict";var Sot=vn&&vn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vn,"__esModule",{value:!0});vn.unescape=vn.escape=vn.AST=vn.Minimatch=vn.match=vn.makeRe=vn.braceExpand=vn.defaults=vn.filter=vn.GLOBSTAR=vn.sep=vn.minimatch=void 0;var Cot=Sot(ECe()),kj=OCe(),qCe=T7(),Dot=P7(),Tot=Rj(),Pot=(r,e,t={})=>((0,kj.assertValidPattern)(e),!t.nocomment&&e.charAt(0)==="#"?!1:new yT(e,t).match(r));vn.minimatch=Pot;var Rot=/^\*+([^+@!?\*\[\(]*)$/,xot=r=>e=>!e.startsWith(".")&&e.endsWith(r),Eot=r=>e=>e.endsWith(r),Oot=r=>(r=r.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(r)),Iot=r=>(r=r.toLowerCase(),e=>e.toLowerCase().endsWith(r)),kot=/^\*+\.\*+$/,Aot=r=>!r.startsWith(".")&&r.includes("."),Mot=r=>r!=="."&&r!==".."&&r.includes("."),Lot=/^\.\*+$/,Not=r=>r!=="."&&r!==".."&&r.startsWith("."),Fot=/^\*+$/,qot=r=>r.length!==0&&!r.startsWith("."),jot=r=>r.length!==0&&r!=="."&&r!=="..",zot=/^\?+([^+@!?\*\[\(]*)?$/,Uot=([r,e=""])=>{let t=jCe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},Hot=([r,e=""])=>{let t=zCe([r]);return e?(e=e.toLowerCase(),n=>t(n)&&n.toLowerCase().endsWith(e)):t},Wot=([r,e=""])=>{let t=zCe([r]);return e?n=>t(n)&&n.endsWith(e):t},Bot=([r,e=""])=>{let t=jCe([r]);return e?n=>t(n)&&n.endsWith(e):t},jCe=([r])=>{let e=r.length;return t=>t.length===e&&!t.startsWith(".")},zCe=([r])=>{let e=r.length;return t=>t.length===e&&t!=="."&&t!==".."},UCe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",NCe={win32:{sep:"\\"},posix:{sep:"/"}};vn.sep=UCe==="win32"?NCe.win32.sep:NCe.posix.sep;vn.minimatch.sep=vn.sep;vn.GLOBSTAR=Symbol("globstar **");vn.minimatch.GLOBSTAR=vn.GLOBSTAR;var $ot="[^/]",Vot=$ot+"*?",Got="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Kot="(?:(?!(?:\\/|^)\\.).)*?",Yot=(r,e={})=>t=>(0,vn.minimatch)(t,r,e);vn.filter=Yot;vn.minimatch.filter=vn.filter;var sv=(r,e={})=>Object.assign({},r,e),Jot=r=>{if(!r||typeof r!="object"||!Object.keys(r).length)return vn.minimatch;let e=vn.minimatch;return Object.assign((n,i,o={})=>e(n,i,sv(r,o)),{Minimatch:class extends e.Minimatch{constructor(i,o={}){super(i,sv(r,o))}static defaults(i){return e.defaults(sv(r,i)).Minimatch}},AST:class extends e.AST{constructor(i,o,s={}){super(i,o,sv(r,s))}static fromGlob(i,o={}){return e.AST.fromGlob(i,sv(r,o))}},unescape:(n,i={})=>e.unescape(n,sv(r,i)),escape:(n,i={})=>e.escape(n,sv(r,i)),filter:(n,i={})=>e.filter(n,sv(r,i)),defaults:n=>e.defaults(sv(r,n)),makeRe:(n,i={})=>e.makeRe(n,sv(r,i)),braceExpand:(n,i={})=>e.braceExpand(n,sv(r,i)),match:(n,i,o={})=>e.match(n,i,sv(r,o)),sep:e.sep,GLOBSTAR:vn.GLOBSTAR})};vn.defaults=Jot;vn.minimatch.defaults=vn.defaults;var Xot=(r,e={})=>((0,kj.assertValidPattern)(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:(0,Cot.default)(r));vn.braceExpand=Xot;vn.minimatch.braceExpand=vn.braceExpand;var Qot=(r,e={})=>new yT(r,e).makeRe();vn.makeRe=Qot;vn.minimatch.makeRe=vn.makeRe;var Zot=(r,e,t={})=>{let n=new yT(e,t);return r=r.filter(i=>n.match(i)),n.options.nonull&&!r.length&&r.push(e),r};vn.match=Zot;vn.minimatch.match=vn.match;var FCe=/[?*]|[+@!]\(.*?\)|\[|\]/,est=r=>r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),yT=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,kj.assertValidPattern)(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||UCe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=t.windowsNoMagicRoot!==void 0?t.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let e of this.set)for(let t of e)if(typeof t!="string")return!0;return!1}debug(...e){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...o)=>console.error(...o)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map((o,s,a)=>{if(this.isWindows&&this.windowsNoMagicRoot){let c=o[0]===""&&o[1]===""&&(o[2]==="?"||!FCe.test(o[2]))&&!FCe.test(o[3]),u=/^[a-z]:/i.test(o[0]);if(c)return[...o.slice(0,4),...o.slice(4).map(l=>this.parse(l))];if(u)return[o[0],...o.slice(1).map(l=>this.parse(l))]}return o.map(c=>this.parse(c))});if(this.debug(this.pattern,i),this.set=i.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){let s=this.set[o];s[0]===""&&s[1]===""&&this.globParts[o][2]==="?"&&typeof s[3]=="string"&&/^[a-z]:$/i.test(s[3])&&(s[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let n=0;n<e.length;n++)for(let i=0;i<e[n].length;i++)e[n][i]==="**"&&(e[n][i]="*");let{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):t>=1?e=this.levelOneOptimize(e):e=this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(t=>{let n=-1;for(;(n=t.indexOf("**",n+1))!==-1;){let i=n;for(;t[i+1]==="**";)i++;i!==n&&t.splice(n,i-n)}return t})}levelOneOptimize(e){return e.map(t=>(t=t.reduce((n,i)=>{let o=n[n.length-1];return i==="**"&&o==="**"?n:i===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(n.pop(),n):(n.push(i),n)},[]),t.length===0?[""]:t))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let i=1;i<e.length-1;i++){let o=e[i];i===1&&o===""&&e[0]===""||(o==="."||o==="")&&(t=!0,e.splice(i,1),i--)}e[0]==="."&&e.length===2&&(e[1]==="."||e[1]==="")&&(t=!0,e.pop())}let n=0;for(;(n=e.indexOf("..",n+1))!==-1;){let i=e[n-1];i&&i!=="."&&i!==".."&&i!=="**"&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let i=-1;for(;(i=n.indexOf("**",i+1))!==-1;){let s=i;for(;n[s+1]==="**";)s++;s>i&&n.splice(i+1,s-i);let a=n[i+1],c=n[i+2],u=n[i+3];if(a!==".."||!c||c==="."||c===".."||!u||u==="."||u==="..")continue;t=!0,n.splice(i,1);let l=n.slice(0);l[i]="**",e.push(l),i--}if(!this.preserveMultipleSlashes){for(let s=1;s<n.length-1;s++){let a=n[s];s===1&&a===""&&n[0]===""||(a==="."||a==="")&&(t=!0,n.splice(s,1),s--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(t=!0,n.pop())}let o=0;for(;(o=n.indexOf("..",o+1))!==-1;){let s=n[o-1];if(s&&s!=="."&&s!==".."&&s!=="**"){t=!0;let c=o===1&&n[o+1]==="**"?["."]:[];n.splice(o-1,2,...c),n.length===0&&n.push(""),o-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){let i=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);if(i){e[t]=[],e[n]=i;break}}return e.filter(t=>t.length)}partsMatch(e,t,n=!1){let i=0,o=0,s=[],a="";for(;i<e.length&&o<t.length;)if(e[i]===t[o])s.push(a==="b"?t[o]:e[i]),i++,o++;else if(n&&e[i]==="**"&&t[o]===e[i+1])s.push(e[i]),i++;else if(n&&t[o]==="**"&&e[i]===t[o+1])s.push(t[o]),o++;else if(e[i]==="*"&&t[o]&&(this.options.dot||!t[o].startsWith("."))&&t[o]!=="**"){if(a==="b")return!1;a="a",s.push(e[i]),i++,o++}else if(t[o]==="*"&&e[i]&&(this.options.dot||!e[i].startsWith("."))&&e[i]!=="**"){if(a==="a")return!1;a="b",s.push(t[o]),i++,o++}else return!1;return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;let e=this.pattern,t=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n=!1){let i=this.options;if(this.isWindows){let T=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),k=!T&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),z=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),A=!z&&t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),U=k?3:T?0:void 0,ne=A?3:z?0:void 0;if(typeof U=="number"&&typeof ne=="number"){let[de,ve]=[e[U],t[ne]];de.toLowerCase()===ve.toLowerCase()&&(t[ne]=de,ne>U?t=t.slice(ne):U>ne&&(e=e.slice(U)))}}let{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,a=0,c=e.length,u=t.length;s<c&&a<u;s++,a++){this.debug("matchOne loop");var l=t[a],d=e[s];if(this.debug(t,l,d),l===!1)return!1;if(l===vn.GLOBSTAR){this.debug("GLOBSTAR",[t,l,d]);var f=s,y=a+1;if(y===u){for(this.debug("** at the end");s<c;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;f<c;){var b=e[f];if(this.debug(`
globstar while`,e,f,t,y,b),this.matchOne(e.slice(f),t.slice(y),n))return this.debug("globstar found match!",f,c,b),!0;if(b==="."||b===".."||!i.dot&&b.charAt(0)==="."){this.debug("dot detected!",e,f,t,y);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,f,t,y),f===c))}let T;if(typeof l=="string"?(T=d===l,this.debug("string match",l,d,T)):(T=l.test(d),this.debug("pattern match",l,d,T)),!T)return!1}if(s===c&&a===u)return!0;if(s===c)return n;if(a===u)return s===c-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return(0,vn.braceExpand)(this.pattern,this.options)}parse(e){(0,kj.assertValidPattern)(e);let t=this.options;if(e==="**")return vn.GLOBSTAR;if(e==="")return"";let n,i=null;(n=e.match(Fot))?i=t.dot?jot:qot:(n=e.match(Rot))?i=(t.nocase?t.dot?Iot:Oot:t.dot?Eot:xot)(n[1]):(n=e.match(zot))?i=(t.nocase?t.dot?Hot:Uot:t.dot?Wot:Bot)(n):(n=e.match(kot))?i=t.dot?Mot:Aot:(n=e.match(Lot))&&(i=Not);let o=qCe.AST.fromGlob(e,this.options).toMMPattern();return i&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:i}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,n=t.noglobstar?Vot:t.dot?Got:Kot,i=new Set(t.nocase?["i"]:[]),o=e.map(c=>{let u=c.map(l=>{if(l instanceof RegExp)for(let d of l.flags.split(""))i.add(d);return typeof l=="string"?est(l):l===vn.GLOBSTAR?vn.GLOBSTAR:l._src});return u.forEach((l,d)=>{let f=u[d+1],y=u[d-1];l!==vn.GLOBSTAR||y===vn.GLOBSTAR||(y===void 0?f!==void 0&&f!==vn.GLOBSTAR?u[d+1]="(?:\\/|"+n+"\\/)?"+f:u[d]=n:f===void 0?u[d-1]=y+"(?:\\/|"+n+")?":f!==vn.GLOBSTAR&&(u[d-1]=y+"(?:\\/|\\/"+n+"\\/)"+f,u[d+1]=vn.GLOBSTAR))}),u.filter(l=>l!==vn.GLOBSTAR).join("/")}).join("|"),[s,a]=e.length>1?["(?:",")"]:["",""];o="^"+s+o+a+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...i].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;let n=this.options;this.isWindows&&(e=e.split("\\").join("/"));let i=this.slashSplit(e);this.debug(this.pattern,"split",i);let o=this.set;this.debug(this.pattern,"set",o);let s=i[i.length-1];if(!s)for(let a=i.length-2;!s&&a>=0;a--)s=i[a];for(let a=0;a<o.length;a++){let c=o[a],u=i;if(n.matchBase&&c.length===1&&(u=[s]),this.matchOne(u,c,t))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return vn.minimatch.defaults(e).Minimatch}};vn.Minimatch=yT;var tst=T7();Object.defineProperty(vn,"AST",{enumerable:!0,get:function(){return tst.AST}});var rst=P7();Object.defineProperty(vn,"escape",{enumerable:!0,get:function(){return rst.escape}});var nst=Rj();Object.defineProperty(vn,"unescape",{enumerable:!0,get:function(){return nst.unescape}});vn.minimatch.AST=qCe.AST;vn.minimatch.Minimatch=yT;vn.minimatch.escape=Dot.escape;vn.minimatch.unescape=Tot.unescape});var x7=P(Pw=>{"use strict";var ist=Pw&&Pw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ost=Pw&&Pw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sst=Pw&&Pw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&ist(t,e,n[i]);return ost(t,e),t}}();Object.defineProperty(Pw,"__esModule",{value:!0});Pw.matchGlobPattern=ust;var ast=sst(R7()),cst=require("vscode");function ust(r,e){let t;if(typeof r=="string")t=r.replace(/\\/g,"/");else try{let i=cst.Uri.parse(typeof r.baseUri=="string"?r.baseUri:r.baseUri.uri);t=i.with({path:i.path+"/"+r.pattern}).fsPath.replace(/\\/g,"/")}catch{return!1}let n=new ast.Minimatch(t,{noext:!0});return n.makeRe()?n.match(e.fsPath):!1}});var Mj=P(OC=>{"use strict";Object.defineProperty(OC,"__esModule",{value:!0});OC.DiagnosticFeature=OC.DiagnosticPullMode=OC.vsdiag=void 0;var ic=require("vscode"),ka=Jr(),lst=Ia(),dst=x7(),E7=Oo();function Aj(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var av;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})(av||(OC.vsdiag=av={}));var k1;(function(r){r.onType="onType",r.onSave="onSave",r.onFocus="onFocus"})(k1||(OC.DiagnosticPullMode=k1={}));var jf;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(jf||(jf={}));var nd;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(nd||(nd={}));var Rw;(function(r){function e(t){return t instanceof ic.Uri?t.toString():t.uri.toString()}r.asKey=e})(Rw||(Rw={}));var O7=class{documentPullStates;workspacePullStates;constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===nd.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof ic.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===nd.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof ic.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=Rw.asKey(t);(e===nd.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=Rw.asKey(t);return(e===nd.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=Rw.asKey(t);return(e===nd.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},I7=class{isDisposed;client;tabs;options;onDidChangeDiagnosticsEmitter;provider;diagnostics;openRequests;documentStates;workspaceErrorCounter;workspaceCancellation;workspaceTimeout;constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new ic.EventEmitter,this.provider=this.createProvider(),this.diagnostics=ic.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new O7,this.workspaceErrorCounter=0}knows(e,t){let n=t instanceof ic.Uri?t:t.uri;return this.documentStates.tracks(e,t)||this.openRequests.has(n.toString())}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof ic.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof ic.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(nd.document,e,t):this.documentStates.track(nd.document,e);if(s===void 0){let c=new ic.CancellationTokenSource;this.openRequests.set(o,{state:jf.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:av.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof E7.LSPCancellationError&&ka.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:jf.outDated,document:e}),l===void 0&&d instanceof ic.CancellationError)l={state:jf.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(nd.document,e);return}if(l.state===jf.outDated)return;u!==void 0&&(u.kind===av.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===jf.reschedule&&this.pull(e)}else s.state===jf.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:jf.reschedule,document:s.document})):s.state===jf.outDated&&this.openRequests.set(o,{state:jf.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof ic.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:jf.reschedule,document:e}):this.pull(e,()=>{this.forget(nd.document,e)}):(i!==void 0&&(i.state===jf.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:jf.outDated,document:e})),this.diagnostics.delete(t),this.forget(nd.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,ka.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof E7.LSPCancellationError)&&!ka.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,ka.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new ic.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===av.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(nd.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(nd.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof ic.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:av.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(ka.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:av.DocumentDiagnosticReportKind.full,items:[]}:d.kind===ka.DocumentDiagnosticReportKind.Full?{kind:av.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:av.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(ka.DocumentDiagnosticRequest.type,u,d,{kind:av.DocumentDiagnosticReportKind.full,items:[]},!0,!0))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===ka.DocumentDiagnosticReportKind.Full?{kind:av.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:av.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l,d)=>{let f=(0,lst.generateUuid)(),y=this.client.onProgress(ka.WorkspaceDiagnosticRequest.partialResult,f,async T=>{if(T==null){d(null);return}let k={items:[]};for(let z of T.items)try{k.items.push(await o(z))}catch(A){this.client.error("Converting workspace diagnostics failed.",A)}d(k)}),b={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:f};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(ka.WorkspaceDiagnosticRequest.type,b,l).then(async T=>{if(l.isCancellationRequested)return{items:[]};let k={items:[]};for(let z of T.items)k.items.push(await o(z));return y.dispose(),d(k),{items:[]}},T=>(y.dispose(),this.client.handleFailedRequest(ka.DocumentDiagnosticRequest.type,l,T,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===jf.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:jf.outDated,document:t.document});this.diagnostics.dispose()}},k7=class{client;diagnosticRequestor;lastDocumentToPull;documents;timeoutHandle;isDisposed;constructor(e,t){this.client=e,this.diagnosticRequestor=t,this.documents=new ka.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=Rw.asKey(e);this.documents.has(t)||(this.documents.set(t,e,ka.Touch.Last),this.lastDocumentToPull=e)}remove(e){let t=Rw.asKey(e);if(this.documents.delete(t),this.documents.size===0){this.stop();return}else if(t===this.lastDocumentToPullKey()){let n=this.documents.before(t);n===void 0?this.stop():this.lastDocumentToPull=n}}trigger(){this.lastDocumentToPull=this.documents.last,this.runLoop()}runLoop(){if(this.isDisposed!==!0){if(this.documents.size===0){this.stop();return}this.lastDocumentToPull!==void 0&&this.timeoutHandle===void 0&&(this.timeoutHandle=(0,ka.RAL)().timer.setTimeout(()=>{let e=this.documents.first;if(e===void 0)return;let t=Rw.asKey(e);this.diagnosticRequestor.pullAsync(e).catch(n=>{this.client.error(`Document pull failed for text document ${t}`,n,!1)}).finally(()=>{this.timeoutHandle=void 0,this.documents.set(t,e,ka.Touch.Last),t!==this.lastDocumentToPullKey()&&this.runLoop()})},500))}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear(),this.lastDocumentToPull=void 0}stop(){this.timeoutHandle?.dispose(),this.timeoutHandle=void 0,this.lastDocumentToPull=void 0}lastDocumentToPullKey(){return this.lastDocumentToPull!==void 0?Rw.asKey(this.lastDocumentToPull):void 0}},A7=class{disposable;diagnosticRequestor;activeTextDocument;backgroundScheduler;constructor(e,t,n){let i=Object.assign({onChange:!1,onSave:!1,onFocus:!1},e.clientOptions.diagnosticPullOptions),o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=(A,U)=>!(typeof A=="string"||A.language!==void 0&&A.language!=="*"||A.scheme!==void 0&&A.scheme!=="*"&&A.scheme!==U.scheme||A.pattern!==void 0&&!(0,dst.matchGlobPattern)(A.pattern,U)),c=A=>{let U=n.documentSelector;if(i.match!==void 0)return i.match(U,A);for(let ne of U)if(ka.TextDocumentFilter.is(ne)&&a(ne,A))return!0;return!1},u=A=>A instanceof ic.Uri?c(A):ic.languages.match(o,A)>0&&t.isVisible(A),l=A=>ic.languages.match(o,A.document)>0&&t.isVisible(A.notebook.uri),d=A=>A instanceof ic.Uri?this.activeTextDocument?.uri.toString()===A.toString():this.activeTextDocument===A;this.diagnosticRequestor=new I7(e,t,n),this.backgroundScheduler=new k7(e,this.diagnosticRequestor);let f=A=>{!u(A)||!n.interFileDependencies||d(A)||i.onChange===!1||this.backgroundScheduler.add(A)},y=(A,U)=>(i.filter===void 0||!i.filter(A,U))&&this.diagnosticRequestor.knows(nd.document,A);this.activeTextDocument=ic.window.activeTextEditor?.document,s.push(ic.window.onDidChangeActiveTextEditor(A=>{let U=this.activeTextDocument;this.activeTextDocument=A?.document,U!==void 0&&f(U),this.activeTextDocument!==void 0&&(this.backgroundScheduler.remove(this.activeTextDocument),i.onFocus===!0&&u(this.activeTextDocument)&&y(this.activeTextDocument,k1.onFocus)&&this.diagnosticRequestor.pull(this.activeTextDocument))}));let b=e.getFeature(ka.DidOpenTextDocumentNotification.method);s.push(b.onNotificationSent(A=>{let U=A.textDocument;this.diagnosticRequestor.knows(nd.document,U)||u(U)&&this.diagnosticRequestor.pull(U,()=>{f(U)})}));let T=e.getFeature(ka.NotebookDocumentSyncRegistrationType.method);s.push(T.onOpenNotificationSent(A=>{for(let U of A.getCells())l(U)&&this.diagnosticRequestor.pull(U.document,()=>{f(U.document)})})),s.push(t.onOpen(A=>{for(let U of A){if(this.diagnosticRequestor.knows(nd.document,U))continue;let ne=U.toString(),de;for(let ve of ic.workspace.textDocuments)if(ne===ve.uri.toString()){de=ve;break}de!==void 0&&u(de)&&this.diagnosticRequestor.pull(de,()=>{f(de)})}}));let k=new Set;for(let A of ic.workspace.textDocuments)u(A)&&(this.diagnosticRequestor.pull(A,()=>{f(A)}),k.add(A.uri.toString()));for(let A of ic.workspace.notebookDocuments)for(let U of A.getCells())l(U)&&(this.diagnosticRequestor.pull(U.document,()=>{f(U.document)}),k.add(U.document.uri.toString()));if(i.onTabs===!0)for(let A of t.getTabResources())!k.has(A.toString())&&u(A)&&this.diagnosticRequestor.pull(A,()=>{f(A)});if(i.onChange===!0){let A=e.getFeature(ka.DidChangeTextDocumentNotification.method);s.push(A.onNotificationSent(async U=>{let ne=U.textDocument;y(ne,k1.onType)&&this.diagnosticRequestor.pull(ne,()=>{this.backgroundScheduler.trigger()})})),s.push(T.onChangeNotificationSent(async U=>{let de=(U.cells?.textContent||[]).map(W=>U.notebook.getCells().find(ee=>ee.document.uri.toString()===W.document.uri.toString()));for(let W of de)W&&l(W)&&this.diagnosticRequestor.pull(W.document,()=>{this.backgroundScheduler.trigger()});let ve=U.cells?.structure?.didClose||[];for(let W of ve)this.diagnosticRequestor.forgetDocument(W.document);let $=U.cells?.structure?.didOpen||[];for(let W of $)l(W)&&this.diagnosticRequestor.pull(W.document,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let A=e.getFeature(ka.DidSaveTextDocumentNotification.method);s.push(A.onNotificationSent(U=>{let ne=U.textDocument;y(ne,k1.onSave)&&this.diagnosticRequestor.pull(U.textDocument)})),s.push(T.onSaveNotificationSent(U=>{for(let ne of U.getCells())l(ne)&&this.diagnosticRequestor.pull(ne.document)}))}let z=e.getFeature(ka.DidCloseTextDocumentNotification.method);s.push(z.onNotificationSent(A=>{this.cleanUpDocument(A.textDocument)})),s.push(T.onCloseNotificationSent(A=>{for(let U of A.getCells())this.cleanUpDocument(U.document)})),t.onClose(A=>{for(let U of A)this.cleanUpDocument(U)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let A of ic.workspace.textDocuments)u(A)&&this.diagnosticRequestor.pull(A)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=ic.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}forget(e){this.cleanUpDocument(e)}cleanUpDocument(e){this.backgroundScheduler.remove(e),this.diagnosticRequestor.knows(nd.document,e)&&this.diagnosticRequestor.forgetDocument(e)}},M7=class extends E7.TextDocumentLanguageFeature{constructor(e){super(e,ka.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=Aj(Aj(e,"textDocument"),"diagnostic");t.relatedInformation=!0,t.tagSupport={valueSet:[ka.DiagnosticTag.Unnecessary,ka.DiagnosticTag.Deprecated]},t.codeDescriptionSupport=!0,t.dataSupport=!0,t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,Aj(Aj(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(ka.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}clear(){super.clear()}refresh(){for(let e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}registerLanguageProvider(e){let t=new A7(this._client,this._client.tabsModel,e);return[t.disposable,t]}};OC.DiagnosticFeature=M7});var F7=P(Lb=>{"use strict";var fst=Lb&&Lb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pst=Lb&&Lb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),qj=Lb&&Lb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&fst(t,e,n[i]);return pst(t,e),t}}();Object.defineProperty(Lb,"__esModule",{value:!0});Lb.NotebookDocumentSyncFeature=void 0;var oc=qj(require("vscode")),xw=qj(Jr()),hst=qj(Ia()),HCe=qj(iv()),mst=x7();function WCe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var cR;(function(r){let e;(function(t){function n(f,y){return{version:f.version,uri:y.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,y,b){let T=xw.NotebookDocument.create(b.asUri(f.uri),f.notebookType,f.version,o(y,b));return Object.keys(f.metadata).length>0&&(T.metadata=s(f.metadata)),T}t.asNotebookDocument=i;function o(f,y){return f.map(b=>a(b,y))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,y){let b=xw.NotebookCell.create(c(f.kind),y.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(b.metadata=s(f.metadata)),f.executionSummary!==void 0&&HCe.number(f.executionSummary.executionOrder)&&HCe.boolean(f.executionSummary.success)&&(b.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),b}t.asNotebookCell=a;function c(f){switch(f){case oc.NotebookCellKind.Markup:return xw.NotebookCellKind.Markup;case oc.NotebookCellKind.Code:return xw.NotebookCellKind.Code}}function u(f,y){if(f.has(y))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(y)){let b=[];for(let T of y)if(T!==null&&typeof T=="object"||Array.isArray(T))b.push(u(f,T));else{if(T instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");b.push(T)}return b}else{let b=Object.keys(y),T=Object.create(null);for(let k of b){let z=y[k];if(z!==null&&typeof z=="object"||Array.isArray(z))T[k]=u(f,z);else{if(z instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");T[k]=z}}return T}}function l(f,y){let b=y.asChangeTextDocumentParams(f,f.document.uri,f.document.version);return{document:b.textDocument,changes:b.contentChanges}}t.asTextContentChange=l;function d(f,y){let b=Object.create(null);if(f.metadata&&(b.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let T=Object.create(null),k=f.cells;k.structure&&(T.structure={array:{start:k.structure.array.start,deleteCount:k.structure.array.deleteCount,cells:k.structure.array.cells!==void 0?k.structure.array.cells.map(z=>r.c2p.asNotebookCell(z,y)):void 0},didOpen:k.structure.didOpen!==void 0?k.structure.didOpen.map(z=>y.asOpenTextDocumentParams(z.document).textDocument):void 0,didClose:k.structure.didClose!==void 0?k.structure.didClose.map(z=>y.asCloseTextDocumentParams(z.document).textDocument):void 0}),k.data!==void 0&&(T.data=k.data.map(z=>r.c2p.asNotebookCell(z,y))),k.textContent!==void 0&&(T.textContent=k.textContent.map(z=>r.c2p.asTextContentChange(z,y))),Object.keys(T).length>0&&(b.cells=T)}return b}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(cR||(cR={}));var L7;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let y=l-1,b=d-1;for(;y>=0&&b>=0&&t(a[y],c[b],u);)y--,b--;let T=y+1-f,k=f===b+1?void 0:c.slice(f,b+1);return k!==void 0?{start:f,deleteCount:T,cells:k}:{start:f,deleteCount:T}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let y=0;y<d.length;y++){let b=d[y];if(!o(a[b],c[b]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(L7||(L7={}));var Lj;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;return!(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme||t.pattern!==void 0&&!(0,mst.matchGlobPattern)(t.pattern,i))}r.matchNotebook=e})(Lj||(Lj={}));var Nj;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(Nj||(Nj={}));var Fj;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(Fj||(Fj={}));var uR=class{client;options;notebookSyncInfo;notebookDidOpen;disposables;selector;onChangeNotificationSent;onOpenNotificationSent;onCloseNotificationSent;onSaveNotificationSent;constructor(e,t,n,i,o,s){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(Nj.asDocumentSelector(t)),this.onChangeNotificationSent=n,this.onOpenNotificationSent=i,this.onCloseNotificationSent=o,this.onSaveNotificationSent=s,oc.workspace.onDidOpenNotebookDocument(a=>{this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a)},void 0,this.disposables);for(let a of oc.workspace.notebookDocuments)this.notebookDidOpen.add(a.uri.toString()),this.didOpen(a);oc.workspace.onDidChangeNotebookDocument(a=>this.didChangeNotebookDocument(a),void 0,this.disposables),this.options.save===!0&&oc.workspace.onDidSaveNotebookDocument(a=>this.didSave(a),void 0,this.disposables),oc.workspace.onDidCloseNotebookDocument(a=>{this.didClose(a),this.notebookDidOpen.delete(a.uri.toString())},void 0,this.disposables)}getState(){for(let e of oc.workspace.notebookDocuments)if(this.getMatchingCellsConsideringSyncInfo(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){if(oc.languages.match(this.selector,e)>0)return!0;let t=e.uri.toString();for(let n of this.notebookSyncInfo.values())if(n.uris.has(t))return!0;return!1}didOpenNotebookCellTextDocument(e,t){if(oc.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.getSyncInfo(e),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.mergeCells(e,n,[t]);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t,n){if(oc.languages.match(this.selector,n.document)===0)return;let i=this.getSyncInfo(e);i===void 0||!i.uris.has(t.document.uri.toString())||this.doSendChange({notebook:e,cells:{textContent:[n]}},i.cells).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.getSyncInfo(e);if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t,n=this.getSyncInfo(e)){if(n!==void 0)if(t===void 0&&(t=n.cells.slice()),t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t=this.getMatchingCells(e),t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.getSyncInfo(t);if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCellsFromEvent(t,n,e);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.getSyncInfo(e)!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.getSyncInfo(e)){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){if(this.getSyncInfo(e)!==void 0)throw new Error(`Notebook document ${e.uri.toString()} is already open`);let n=this.getMatchingCells(e);if(n!==void 0)return this.doSendOpen(e,n)}async doSendOpen(e,t){let n=async(o,s)=>{let a=s.map(c=>this.client.code2ProtocolConverter.asTextDocumentItem(c.document));try{await this.client.sendNotification(xw.DidOpenNotebookDocumentNotification.type,{notebookDocument:cR.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),cellTextDocuments:a}),this.onOpenNotificationSent.fire(o)}catch(c){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",c),c}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),Fj.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e.notebook);if(t===void 0)throw new Error(`Received changed event for un-synced notebook ${e.notebook.uri.toString()}`);return this.doSendChange(e,t)}async doSendChange(e,t){let n=async o=>{try{await this.client.sendNotification(xw.DidChangeNotebookDocumentNotification.type,{notebookDocument:cR.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:cR.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)}),this.onChangeNotificationSent.fire(o)}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),Fj.create(t)),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(xw.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}}),this.onSaveNotificationSent.fire(i)}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){let t=this.getMatchingCellsFromSyncInfo(e);if(t===void 0)throw new Error(`Received close event for un-synced notebook ${e.uri.toString()}`);return this.doSendClose(e,t)}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(xw.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))}),this.onCloseNotificationSent.fire(o)}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}getSynchronizedCells(e){return this.getSyncInfo(e)?.cells}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=cR.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=L7.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(b=>[b.document.uri.toString(),b])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(b=>[b.document.uri.toString(),b]));for(let b of Array.from(d.keys()))l.has(b)&&(d.delete(b),l.delete(b));o.cells=o.cells??{};let f=[],y=[];if(l.size>0||d.size>0){for(let b of l.values())f.push(b);for(let b of d.values())y.push(b)}o.cells.structure={array:u,didOpen:f,didClose:y}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||Lj.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}getMatchingCellsFromEvent(e,t,n){if(this.options.notebookSelector===void 0)return;let i;for(let c of this.options.notebookSelector)if(c.notebook===void 0||Lj.matchNotebook(c.notebook,e)){i=c;break}if(i===void 0)return;if((n.cellChanges===void 0||n.cellChanges.length===0)&&(n.contentChanges===void 0||n.contentChanges.length===0))return t.cells;let o;if(n.cellChanges!==void 0&&n.cellChanges.length>0){let c=n.cellChanges.map(l=>l.cell),u=this.filterCells(e,c,i.cells);if(u.length!==c.length){o=new Set(t.uris);for(let l of c)o.delete(l.document.uri.toString());for(let l of u)o.add(l.document.uri.toString())}}if(n.contentChanges!==void 0&&n.contentChanges.length>0){o===void 0&&(o=new Set(t.uris));for(let c of n.contentChanges){for(let l of c.removedCells)o.delete(l.document.uri.toString());let u=this.filterCells(e,new Array(...c.addedCells),i.cells);for(let l of u)o.add(l.document.uri.toString())}}if(o===void 0)return t.cells;let s=[],a=e.getCells();for(let c of a)o.has(c.document.uri.toString())&&s.push(c);return s}getMatchingCellsFromSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:void 0}getMatchingCellsConsideringSyncInfo(e){let t=this.getSyncInfo(e);return t!==void 0?t.cells:this.getMatchingCells(e)}mergeCells(e,t,n){let i=[],o=new Set(t.uris);for(let s of n)o.add(s.document.uri.toString());for(let s of e.getCells())o.has(s.document.uri.toString())&&i.push(s);return i}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}getSyncInfo(e){return this.notebookSyncInfo.get(e.uri.toString())}},N7=class r{static CellScheme="vscode-notebook-cell";client;registrations;dedicatedChannel;_onChangeNotificationSent;_onOpenNotificationSent;_onCloseNotificationSent;_onSaveNotificationSent;constructor(e){this.client=e,this.registrations=new Map,this.registrationType=xw.NotebookDocumentSyncRegistrationType.type,this._onChangeNotificationSent=new oc.EventEmitter,this._onOpenNotificationSent=new oc.EventEmitter,this._onCloseNotificationSent=new oc.EventEmitter,this._onSaveNotificationSent=new oc.EventEmitter,oc.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof uR&&o.didOpenNotebookCellTextDocument(n,i)}),oc.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i,o]=this.findNotebookDocumentAndCell(n);if(!(i===void 0||o===void 0))for(let s of this.registrations.values())s instanceof uR&&s.didChangeNotebookCellTextDocument(i,o,t)}),oc.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof uR&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}registrationType;get onOpenNotificationSent(){return this._onOpenNotificationSent.event}get onChangeNotificationSent(){return this._onChangeNotificationSent.event}get onCloseNotificationSent(){return this._onCloseNotificationSent.event}get onSaveNotificationSent(){return this._onSaveNotificationSent.event}fillClientCapabilities(e){let t=WCe(WCe(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(Nj.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??hst.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new uR(this.client,e.registerOptions,this._onChangeNotificationSent,this._onOpenNotificationSent,this._onCloseNotificationSent,this._onSaveNotificationSent);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t!==void 0&&(this.registrations.delete(e),t.dispose())}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear(),this._onChangeNotificationSent.dispose(),this._onChangeNotificationSent=new oc.EventEmitter,this._onOpenNotificationSent.dispose(),this._onOpenNotificationSent=new oc.EventEmitter,this._onCloseNotificationSent.dispose(),this._onCloseNotificationSent=new oc.EventEmitter,this._onSaveNotificationSent.dispose(),this._onSaveNotificationSent=new oc.EventEmitter}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&oc.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of oc.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};Lb.NotebookDocumentSyncFeature=N7});var VCe=P(Km=>{"use strict";var gst=Km&&Km.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),vst=Km&&Km.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$Ce=Km&&Km.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&gst(t,e,n[i]);return vst(t,e),t}}();Object.defineProperty(Km,"__esModule",{value:!0});Km.SyncConfigurationFeature=Km.ConfigurationFeature=void 0;Km.toJSONObject=bT;var lR=require("vscode"),A1=Jr(),yst=$Ce(iv()),bst=$Ce(Ia()),BCe=Oo(),q7=class{_client;constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(A1.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=bT(lR.workspace.getConfiguration(void 0,e).get(t));else{let o=lR.workspace.getConfiguration(t.substr(0,i),e);o&&(n=bT(o.get(t.substr(i+1))))}}else{let i=lR.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=bT(i.get(o)))}return n===void 0&&(n=null),n}clear(){}};Km.ConfigurationFeature=q7;function bT(r){if(r){if(Array.isArray(r))return r.map(bT);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=bT(r[t]));return e}}return r}var j7=class{_client;isCleared;_listeners;constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return A1.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,BCe.ensure)((0,BCe.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:bst.generateUuid(),registerOptions:{section:e}})}register(e){let t=lR.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,t){if(this.isCleared)return;let n;if(yst.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(A1.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(A1.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${A1.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=lR.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=lR.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=bT(c)}}return i}};Km.SyncConfigurationFeature=j7});var GCe=P(Bu=>{"use strict";var _st=Bu&&Bu.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),wst=Bu&&Bu.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Sst=Bu&&Bu.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&_st(t,e,n[i]);return wst(t,e),t}}();Object.defineProperty(Bu,"__esModule",{value:!0});Bu.DidSaveTextDocumentFeature=Bu.WillSaveWaitUntilFeature=Bu.WillSaveFeature=Bu.DidChangeTextDocumentFeature=Bu.DidCloseTextDocumentFeature=Bu.DidOpenTextDocumentFeature=void 0;var $h=require("vscode"),oa=Jr(),Oc=Oo(),dR=Sst(Ia()),z7=class extends Oc.TextDocumentEventFeature{_syncedDocuments;_pendingOpenNotifications;_delayOpen;_pendingOpenListeners;constructor(e,t){super(e,$h.workspace.onDidOpenTextDocument,oa.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,Oc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingOpenNotifications=new Map,this._delayOpen=e.clientOptions.textSynchronization?.delayOpenNotifications??!1}async callback(e){if(this._delayOpen){if(!this.matches(e))return;if(this._client.tabsModel.isVisible(e))return super.callback(e);this._pendingOpenNotifications.set(e.uri.toString(),e)}else return super.callback(e)}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Oc.ensure)((0,Oc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:dR.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return oa.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);if($h.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&$h.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n))if(this._client.tabsModel.isVisible(n)){let s=this._client.middleware,a=c=>this._client.sendNotification(this._type,this._createParams(c));(s.didOpen?s.didOpen(n,a):a(n)).catch(c=>{this._client.error(`Sending document notification ${this._type.method} failed`,c)}),this._syncedDocuments.set(i,n)}else this._pendingOpenNotifications.set(i,n)}),this._delayOpen&&this._pendingOpenListeners===void 0){this._pendingOpenListeners=[];let n=this._client.tabsModel;this._pendingOpenListeners.push(n.onClose(i=>{for(let o of i)this._pendingOpenNotifications.delete(o.toString())})),this._pendingOpenListeners.push(n.onOpen(i=>{for(let o of i){let s=this._pendingOpenNotifications.get(o.toString());s!==void 0&&(super.callback(s).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._pendingOpenNotifications.delete(o.toString()))}})),this._pendingOpenListeners.push($h.workspace.onDidCloseTextDocument(i=>{this._pendingOpenNotifications.delete(i.uri.toString())}))}}async sendPendingOpenNotifications(e){let t=Array.from(this._pendingOpenNotifications.values());this._pendingOpenNotifications.clear();for(let n of t)e!==void 0&&n.uri.toString()===e||await super.callback(n)}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,t,n)}clear(){if(this._pendingOpenNotifications.clear(),this._pendingOpenListeners!==void 0){for(let e of this._pendingOpenListeners)e.dispose();this._pendingOpenListeners=void 0}super.clear()}};Bu.DidOpenTextDocumentFeature=z7;var U7=class extends Oc.TextDocumentEventFeature{_syncedDocuments;_pendingTextDocumentChanges;constructor(e,t,n){super(e,$h.workspace.onDidCloseTextDocument,oa.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,Oc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingTextDocumentChanges=n}get registrationType(){return oa.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Oc.ensure)((0,Oc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:dR.generateUuid(),registerOptions:{documentSelector:t}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,t,n)}unregister(e){let t=this._selectors.get(e);if(t===void 0)return;super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if($h.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};Bu.DidCloseTextDocumentFeature=U7;var H7=class extends Oc.DynamicDocumentFeature{_listener;_changeData;_onNotificationSent;_onPendingChangeAdded;_pendingTextDocumentChanges;_syncKind;constructor(e,t){super(e),this._changeData=new Map,this._onNotificationSent=new $h.EventEmitter,this._onPendingChangeAdded=new $h.EventEmitter,this._pendingTextDocumentChanges=t,this._syncKind=oa.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return oa.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Oc.ensure)((0,Oc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==oa.TextDocumentSyncKind.None&&this.register({id:dR.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=$h.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=e.document.uri,n=e.document.version,i=[];for(let o of this._changeData.values())if($h.languages.match(o.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let s=this._client.middleware;if(o.syncKind===oa.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,t,n);await this._client.sendNotification(oa.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,oa.DidChangeTextDocumentNotification.type,u)};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}else if(o.syncKind===oa.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire()};i.push(s.didChange?s.didChange(e,c=>a(c)):a(e))}}return Promise.all(i).then(void 0,o=>{throw this._client.error(`Sending document notification ${oa.DidChangeTextDocumentNotification.type.method} failed`,o),o})}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=oa.TextDocumentSyncKind.None;else{this._syncKind=oa.TextDocumentSyncKind.None;for(let t of this._changeData.values())if(this.updateSyncKind(t.syncKind),this._syncKind===oa.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=oa.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return[];let t;if(e.size===0)t=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{t=[];for(let n of this._pendingTextDocumentChanges)e.has(n[0])||(t.push(n[1]),this._pendingTextDocumentChanges.delete(n[0]))}return t}getProvider(e){for(let t of this._changeData.values())if($h.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}updateSyncKind(e){if(this._syncKind!==oa.TextDocumentSyncKind.Full)switch(e){case oa.TextDocumentSyncKind.Full:this._syncKind=e;break;case oa.TextDocumentSyncKind.Incremental:this._syncKind===oa.TextDocumentSyncKind.None&&(this._syncKind=oa.TextDocumentSyncKind.Incremental);break}}};Bu.DidChangeTextDocumentFeature=H7;var W7=class extends Oc.TextDocumentEventFeature{constructor(e){super(e,$h.workspace.onWillSaveTextDocument,oa.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>Oc.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return oa.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Oc.ensure)((0,Oc.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:dR.generateUuid(),registerOptions:{documentSelector:t}})}getTextDocument(e){return e.document}};Bu.WillSaveFeature=W7;var B7=class extends Oc.DynamicDocumentFeature{_listener;_selectors;constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return oa.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Oc.ensure)((0,Oc.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:dR.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=$h.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Oc.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(oa.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};Bu.WillSaveWaitUntilFeature=B7;var $7=class extends Oc.TextDocumentEventFeature{_includeText;constructor(e){super(e,$h.workspace.onDidSaveTextDocument,oa.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Oc.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return oa.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Oc.ensure)((0,Oc.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:dR.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}};Bu.DidSaveTextDocumentFeature=$7});var KCe=P(Nb=>{"use strict";var Cst=Nb&&Nb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Dst=Nb&&Nb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Tst=Nb&&Nb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Cst(t,e,n[i]);return Dst(t,e),t}}();Object.defineProperty(Nb,"__esModule",{value:!0});Nb.CompletionItemFeature=void 0;var Pst=require("vscode"),_o=Jr(),V7=Oo(),Rst=Tst(Ia()),xst=[_o.CompletionItemKind.Text,_o.CompletionItemKind.Method,_o.CompletionItemKind.Function,_o.CompletionItemKind.Constructor,_o.CompletionItemKind.Field,_o.CompletionItemKind.Variable,_o.CompletionItemKind.Class,_o.CompletionItemKind.Interface,_o.CompletionItemKind.Module,_o.CompletionItemKind.Property,_o.CompletionItemKind.Unit,_o.CompletionItemKind.Value,_o.CompletionItemKind.Enum,_o.CompletionItemKind.Keyword,_o.CompletionItemKind.Snippet,_o.CompletionItemKind.Color,_o.CompletionItemKind.File,_o.CompletionItemKind.Reference,_o.CompletionItemKind.Folder,_o.CompletionItemKind.EnumMember,_o.CompletionItemKind.Constant,_o.CompletionItemKind.Struct,_o.CompletionItemKind.Event,_o.CompletionItemKind.Operator,_o.CompletionItemKind.TypeParameter],G7=class extends V7.TextDocumentLanguageFeature{labelDetailsSupport;constructor(e){super(e,_o.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,V7.ensure)((0,V7.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[_o.MarkupKind.Markdown,_o.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[_o.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[_o.InsertTextMode.asIs,_o.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=_o.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:xst},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"],applyKindSupport:!0}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:Rst.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,y=(b,T,k,z)=>d.sendRequest(_o.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(b,T,k),z).then(A=>z.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(A,i,z),A=>d.handleFailedRequest(_o.CompletionRequest.type,z,A,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,y):y(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,y)=>u.sendRequest(_o.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),y).then(b=>y.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(b),b=>u.handleFailedRequest(_o.CompletionResolveRequest.type,y,b,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[Pst.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};Nb.CompletionItemFeature=G7});var YCe=P(Fb=>{"use strict";var Est=Fb&&Fb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ost=Fb&&Fb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ist=Fb&&Fb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Est(t,e,n[i]);return Ost(t,e),t}}();Object.defineProperty(Fb,"__esModule",{value:!0});Fb.HoverFeature=void 0;var kst=require("vscode"),M1=Jr(),K7=Oo(),Ast=Ist(Ia()),Y7=class extends K7.TextDocumentLanguageFeature{constructor(e){super(e,M1.HoverRequest.type)}fillClientCapabilities(e){let t=(0,K7.ensure)((0,K7.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[M1.MarkupKind.Markdown,M1.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:Ast.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(M1.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(y),y=>a.handleFailedRequest(M1.HoverRequest.type,f,y,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return kst.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Fb.HoverFeature=Y7});var JCe=P(qb=>{"use strict";var Mst=qb&&qb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Lst=qb&&qb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Nst=qb&&qb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Mst(t,e,n[i]);return Lst(t,e),t}}();Object.defineProperty(qb,"__esModule",{value:!0});qb.DefinitionFeature=void 0;var Fst=require("vscode"),J7=Jr(),X7=Oo(),qst=Nst(Ia()),Q7=class extends X7.TextDocumentLanguageFeature{constructor(e){super(e,J7.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,X7.ensure)((0,X7.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:qst.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(J7.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(y,f),y=>a.handleFailedRequest(J7.DefinitionRequest.type,f,y,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Fst.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};qb.DefinitionFeature=Q7});var QCe=P(jb=>{"use strict";var jst=jb&&jb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),zst=jb&&jb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ust=jb&&jb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&jst(t,e,n[i]);return zst(t,e),t}}();Object.defineProperty(jb,"__esModule",{value:!0});jb.SignatureHelpFeature=void 0;var XCe=require("vscode"),L1=Jr(),Z7=Oo(),Hst=Ust(Ia()),eY=class extends Z7.TextDocumentLanguageFeature{constructor(e){super(e,L1.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,Z7.ensure)((0,Z7.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[L1.MarkupKind.Markdown,L1.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.signatureInformation.noActiveParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:Hst.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,y)=>a.sendRequest(L1.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),y).then(b=>y.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(b,y),b=>a.handleFailedRequest(L1.SignatureHelpRequest.type,y,b,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return XCe.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return XCe.languages.registerSignatureHelpProvider(n,t,i)}}};jb.SignatureHelpFeature=eY});var ZCe=P(zb=>{"use strict";var Wst=zb&&zb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Bst=zb&&zb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),$st=zb&&zb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Wst(t,e,n[i]);return Bst(t,e),t}}();Object.defineProperty(zb,"__esModule",{value:!0});zb.DocumentHighlightFeature=void 0;var Vst=require("vscode"),tY=Jr(),rY=Oo(),Gst=$st(Ia()),nY=class extends rY.TextDocumentLanguageFeature{constructor(e){super(e,tY.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,rY.ensure)((0,rY.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:Gst.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(tY.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(y,f),y=>a.handleFailedRequest(tY.DocumentHighlightRequest.type,f,y,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[Vst.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};zb.DocumentHighlightFeature=nY});var sY=P(zf=>{"use strict";var Kst=zf&&zf.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Yst=zf&&zf.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Jst=zf&&zf.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Kst(t,e,n[i]);return Yst(t,e),t}}();Object.defineProperty(zf,"__esModule",{value:!0});zf.DocumentSymbolFeature=zf.SupportedSymbolTags=zf.SupportedSymbolKinds=void 0;var Xst=require("vscode"),ds=Jr(),iY=Oo(),Qst=Jst(Ia());zf.SupportedSymbolKinds=[ds.SymbolKind.File,ds.SymbolKind.Module,ds.SymbolKind.Namespace,ds.SymbolKind.Package,ds.SymbolKind.Class,ds.SymbolKind.Method,ds.SymbolKind.Property,ds.SymbolKind.Field,ds.SymbolKind.Constructor,ds.SymbolKind.Enum,ds.SymbolKind.Interface,ds.SymbolKind.Function,ds.SymbolKind.Variable,ds.SymbolKind.Constant,ds.SymbolKind.String,ds.SymbolKind.Number,ds.SymbolKind.Boolean,ds.SymbolKind.Array,ds.SymbolKind.Object,ds.SymbolKind.Key,ds.SymbolKind.Null,ds.SymbolKind.EnumMember,ds.SymbolKind.Struct,ds.SymbolKind.Event,ds.SymbolKind.Operator,ds.SymbolKind.TypeParameter];zf.SupportedSymbolTags=[ds.SymbolTag.Deprecated];var oY=class extends iY.TextDocumentLanguageFeature{constructor(e){super(e,ds.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,iY.ensure)((0,iY.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:zf.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:zf.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:Qst.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(ds.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d);if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let y=f[0];return ds.DocumentSymbol.is(y)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}}catch(f){return a.handleFailedRequest(ds.DocumentSymbolRequest.type,d,f,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[Xst.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};zf.DocumentSymbolFeature=oY});var tDe=P(Ub=>{"use strict";var Zst=Ub&&Ub.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),eat=Ub&&Ub.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tat=Ub&&Ub.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Zst(t,e,n[i]);return eat(t,e),t}}();Object.defineProperty(Ub,"__esModule",{value:!0});Ub.WorkspaceSymbolFeature=void 0;var rat=require("vscode"),N1=Jr(),aY=Oo(),eDe=sY(),nat=tat(Ia()),cY=class extends aY.WorkspaceFeature{constructor(e){super(e,N1.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,aY.ensure)((0,aY.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:eDe.SupportedSymbolKinds},t.tagSupport={valueSet:eDe.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:nat.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(N1.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(N1.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(N1.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(N1.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[rat.languages.registerWorkspaceSymbolProvider(t),t]}};Ub.WorkspaceSymbolFeature=cY});var rDe=P(Hb=>{"use strict";var iat=Hb&&Hb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),oat=Hb&&Hb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sat=Hb&&Hb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&iat(t,e,n[i]);return oat(t,e),t}}();Object.defineProperty(Hb,"__esModule",{value:!0});Hb.ReferencesFeature=void 0;var aat=require("vscode"),uY=Jr(),lY=Oo(),cat=sat(Ia()),dY=class extends lY.TextDocumentLanguageFeature{constructor(e){super(e,uY.ReferencesRequest.type)}fillClientCapabilities(e){(0,lY.ensure)((0,lY.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:cat.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,y,b)=>c.sendRequest(uY.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,y),b).then(T=>b.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(T,b),T=>c.handleFailedRequest(uY.ReferencesRequest.type,b,T,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return aat.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Hb.ReferencesFeature=dY});var nDe=P(jj=>{"use strict";Object.defineProperty(jj,"__esModule",{value:!0});jj.TypeDefinitionFeature=void 0;var uat=require("vscode"),fY=Jr(),F1=Oo(),pY=class extends F1.TextDocumentLanguageFeature{constructor(e){super(e,fY.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,F1.ensure)((0,F1.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,F1.ensure)((0,F1.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(fY.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(y,f),y=>a.handleFailedRequest(fY.TypeDefinitionRequest.type,f,y,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return uat.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};jj.TypeDefinitionFeature=pY});var iDe=P(zj=>{"use strict";Object.defineProperty(zj,"__esModule",{value:!0});zj.ImplementationFeature=void 0;var lat=require("vscode"),hY=Jr(),mY=Oo(),gY=class extends mY.TextDocumentLanguageFeature{constructor(e){super(e,hY.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,mY.ensure)((0,mY.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(hY.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(y,f),y=>a.handleFailedRequest(hY.ImplementationRequest.type,f,y,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return lat.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};zj.ImplementationFeature=gY});var bY=P(Uj=>{"use strict";Object.defineProperty(Uj,"__esModule",{value:!0});Uj.ColorProviderFeature=void 0;var dat=require("vscode"),q1=Jr(),vY=Oo(),yY=class extends vY.TextDocumentLanguageFeature{constructor(e){super(e,q1.DocumentColorRequest.type)}fillClientCapabilities(e){(0,vY.ensure)((0,vY.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let y={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(q1.ColorPresentationRequest.type,y,f).then(b=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(b,f),b=>a.handleFailedRequest(q1.ColorPresentationRequest.type,f,b,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(q1.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(q1.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[dat.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Uj.ColorProviderFeature=yY});var oDe=P(Wb=>{"use strict";var fat=Wb&&Wb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pat=Wb&&Wb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),hat=Wb&&Wb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&fat(t,e,n[i]);return pat(t,e),t}}();Object.defineProperty(Wb,"__esModule",{value:!0});Wb.CodeActionFeature=void 0;var mat=require("vscode"),Uf=Jr(),gat=hat(Ia()),_Y=Oo(),wY=class extends _Y.TextDocumentLanguageFeature{constructor(e){super(e,Uf.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,_Y.ensure)((0,_Y.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit","command"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[Uf.CodeActionKind.Empty,Uf.CodeActionKind.QuickFix,Uf.CodeActionKind.Refactor,Uf.CodeActionKind.RefactorExtract,Uf.CodeActionKind.RefactorInline,Uf.CodeActionKind.RefactorMove,Uf.CodeActionKind.RefactorRewrite,Uf.CodeActionKind.Source,Uf.CodeActionKind.SourceOrganizeImports,Uf.CodeActionKind.Notebook]}},t.honorsChangeAnnotations=!0,t.documentationSupport=!0,t.tagSupport={valueSet:[Uf.CodeActionTag.LLMGenerated]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:gat.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,y,b)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:c.code2ProtocolConverter.asCodeActionContextSync(y)};return c.sendRequest(Uf.CodeActionRequest.type,T,b).then(k=>b.isCancellationRequested||k===null||k===void 0?null:c.protocol2CodeConverter.asCodeActionResult(k,b),k=>c.handleFailedRequest(Uf.CodeActionRequest.type,b,k,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(Uf.CodeActionResolveRequest.type,s.code2ProtocolConverter.asCodeActionSync(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(Uf.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[mat.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,this.getMetadata(e)),n]}getMetadata(e){if(!(e.codeActionKinds===void 0&&e.documentation===void 0))return{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds),documentation:this._client.protocol2CodeConverter.asCodeActionDocumentations(e.documentation)}}};Wb.CodeActionFeature=wY});var aDe=P(Bb=>{"use strict";var vat=Bb&&Bb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),yat=Bb&&Bb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),bat=Bb&&Bb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&vat(t,e,n[i]);return yat(t,e),t}}();Object.defineProperty(Bb,"__esModule",{value:!0});Bb.CodeLensFeature=void 0;var sDe=require("vscode"),fR=Jr(),_at=bat(Ia()),j1=Oo(),SY=class extends j1.TextDocumentLanguageFeature{constructor(e){super(e,fR.CodeLensRequest.type)}fillClientCapabilities(e){let t=(0,j1.ensure)((0,j1.ensure)(e,"textDocument"),"codeLens");t.dynamicRegistration=!0,t.resolveSupport={properties:["command"]},(0,j1.ensure)((0,j1.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(fR.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:_at.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new sDe.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(fR.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(fR.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(fR.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(fR.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[sDe.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};Bb.CodeLensFeature=SY});var cDe=P(Vh=>{"use strict";var wat=Vh&&Vh.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Sat=Vh&&Vh.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Cat=Vh&&Vh.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&wat(t,e,n[i]);return Sat(t,e),t}}();Object.defineProperty(Vh,"__esModule",{value:!0});Vh.DocumentOnTypeFormattingFeature=Vh.DocumentRangeFormattingFeature=Vh.DocumentFormattingFeature=void 0;var Hj=require("vscode"),vy=Jr(),PY=Cat(Ia()),Ew=Oo(),pR;(function(r){function e(t){let n=Hj.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(pR||(pR={}));var CY=class extends Ew.TextDocumentLanguageFeature{constructor(e){super(e,vy.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Ew.ensure)((0,Ew.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:PY.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let y={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,pR.fromConfiguration(l))};return a.sendRequest(vy.DocumentFormattingRequest.type,y,f).then(b=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(b,f),b=>a.handleFailedRequest(vy.DocumentFormattingRequest.type,f,b,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[Hj.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Vh.DocumentFormattingFeature=CY;var DY=class extends Ew.TextDocumentLanguageFeature{constructor(e){super(e,vy.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){let t=(0,Ew.ensure)((0,Ew.ensure)(e,"textDocument"),"rangeFormatting");t.dynamicRegistration=!0,t.rangesSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:PY.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,y,b)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(y,pR.fromConfiguration(d))};return c.sendRequest(vy.DocumentRangeFormattingRequest.type,T,b).then(k=>b.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(k,b),k=>c.handleFailedRequest(vy.DocumentRangeFormattingRequest.type,b,k,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return e.rangesSupport&&(n.provideDocumentRangesFormattingEdits=(i,o,s,a)=>{let c=this._client,u=(d,f,y,b)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),ranges:c.code2ProtocolConverter.asRanges(f),options:c.code2ProtocolConverter.asFormattingOptions(y,pR.fromConfiguration(d))};return c.sendRequest(vy.DocumentRangesFormattingRequest.type,T,b).then(k=>b.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(k,b),k=>c.handleFailedRequest(vy.DocumentRangesFormattingRequest.type,b,k,null))},l=c.middleware;return l.provideDocumentRangesFormattingEdits?l.provideDocumentRangesFormattingEdits(i,o,s,a,u):u(i,o,s,a)}),[Hj.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Vh.DocumentRangeFormattingFeature=DY;var TY=class extends Ew.TextDocumentLanguageFeature{constructor(e){super(e,vy.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Ew.ensure)((0,Ew.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:PY.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(y,b,T,k,z)=>{let A={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(y),position:l.code2ProtocolConverter.asPosition(b),ch:T,options:l.code2ProtocolConverter.asFormattingOptions(k,pR.fromConfiguration(y))};return l.sendRequest(vy.DocumentOnTypeFormattingRequest.type,A,z).then(U=>z.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(U,z),U=>l.handleFailedRequest(vy.DocumentOnTypeFormattingRequest.type,z,U,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[Hj.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};Vh.DocumentOnTypeFormattingFeature=TY});var dDe=P($b=>{"use strict";var Dat=$b&&$b.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Tat=$b&&$b.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),lDe=$b&&$b.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Dat(t,e,n[i]);return Tat(t,e),t}}();Object.defineProperty($b,"__esModule",{value:!0});$b.RenameFeature=void 0;var Pat=require("vscode"),_T=Jr(),Rat=lDe(Ia()),uDe=lDe(iv()),RY=Oo(),xY=class extends RY.TextDocumentLanguageFeature{constructor(e){super(e,_T.RenameRequest.type)}fillClientCapabilities(e){let t=(0,RY.ensure)((0,RY.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=_T.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(uDe.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:Rat.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,y,b)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:y};return c.sendRequest(_T.RenameRequest.type,T,b).then(k=>b.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(k,b),k=>c.handleFailedRequest(_T.RenameRequest.type,b,k,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let y={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(_T.PrepareRenameRequest.type,y,f).then(b=>f.isCancellationRequested?null:_T.Range.is(b)?a.protocol2CodeConverter.asRange(b):this.isDefaultBehavior(b)?b.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):b&&_T.Range.is(b.range)?{range:a.protocol2CodeConverter.asRange(b.range),placeholder:b.placeholder}:Promise.reject(new Error("The element can't be renamed.")),b=>{throw typeof b.message=="string"?new Error(b.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Pat.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&uDe.boolean(t.defaultBehavior)}};$b.RenameFeature=xY});var IY=P(Vb=>{"use strict";var xat=Vb&&Vb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Eat=Vb&&Vb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Oat=Vb&&Vb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&xat(t,e,n[i]);return Eat(t,e),t}}();Object.defineProperty(Vb,"__esModule",{value:!0});Vb.DocumentLinkFeature=void 0;var Iat=require("vscode"),z1=Jr(),EY=Oo(),kat=Oat(Ia()),OY=class extends EY.TextDocumentLanguageFeature{constructor(e){super(e,z1.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,EY.ensure)((0,EY.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:kat.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(z1.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(z1.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(z1.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(z1.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[Iat.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Vb.DocumentLinkFeature=OY});var pDe=P(Gb=>{"use strict";var Aat=Gb&&Gb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Mat=Gb&&Gb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Lat=Gb&&Gb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Aat(t,e,n[i]);return Mat(t,e),t}}();Object.defineProperty(Gb,"__esModule",{value:!0});Gb.ExecuteCommandFeature=void 0;var Nat=require("vscode"),kY=Jr(),Fat=Lat(Ia()),fDe=Oo(),AY=class{_client;_commands;constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return kY.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,fDe.ensure)((0,fDe.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:Fat.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(kY.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(kY.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(Nat.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&(this._commands.delete(e),t.forEach(n=>n.dispose()))}clear(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};Gb.ExecuteCommandFeature=AY});var mDe=P(Wj=>{"use strict";Object.defineProperty(Wj,"__esModule",{value:!0});Wj.FoldingRangeFeature=void 0;var hDe=require("vscode"),wT=Jr(),U1=Oo(),MY=class extends U1.TextDocumentLanguageFeature{constructor(e){super(e,wT.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,U1.ensure)((0,U1.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[wT.FoldingRangeKind.Comment,wT.FoldingRangeKind.Imports,wT.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1},(0,U1.ensure)((0,U1.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,t){this._client.onRequest(wT.FoldingRangeRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeFoldingRange.fire()});let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new hDe.EventEmitter,i={onDidChangeFoldingRanges:n.event,provideFoldingRanges:(o,s,a)=>{let c=this._client,u=(d,f,y)=>{let b={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d)};return c.sendRequest(wT.FoldingRangeRequest.type,b,y).then(T=>y.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(T,y),T=>c.handleFailedRequest(wT.FoldingRangeRequest.type,y,T,null))},l=c.middleware;return l.provideFoldingRanges?l.provideFoldingRanges(o,s,a,u):u(o,s,a)}};return[hDe.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeFoldingRange:n}]}};Wj.FoldingRangeFeature=MY});var qY=P(Bj=>{"use strict";Object.defineProperty(Bj,"__esModule",{value:!0});Bj.DeclarationFeature=void 0;var qat=require("vscode"),LY=Jr(),NY=Oo(),FY=class extends NY.TextDocumentLanguageFeature{constructor(e){super(e,LY.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,NY.ensure)((0,NY.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(LY.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(y,f),y=>a.handleFailedRequest(LY.DeclarationRequest.type,f,y,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return qat.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Bj.DeclarationFeature=FY});var HY=P($j=>{"use strict";Object.defineProperty($j,"__esModule",{value:!0});$j.SelectionRangeFeature=void 0;var jat=require("vscode"),jY=Jr(),zY=Oo(),UY=class extends zY.TextDocumentLanguageFeature{constructor(e){super(e,jY.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,zY.ensure)((0,zY.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let y={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:a.code2ProtocolConverter.asPositionsSync(d,f)};return a.sendRequest(jY.SelectionRangeRequest.type,y,f).then(b=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(b,f),b=>a.handleFailedRequest(jY.SelectionRangeRequest.type,f,b,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return jat.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};$j.SelectionRangeFeature=UY});var VY=P(Vj=>{"use strict";Object.defineProperty(Vj,"__esModule",{value:!0});Vj.CallHierarchyFeature=void 0;var zat=require("vscode"),ST=Jr(),WY=Oo(),BY=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(ST.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest(ST.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(ST.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest(ST.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest(ST.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest(ST.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},$Y=class extends WY.TextDocumentLanguageFeature{constructor(e){super(e,ST.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,WY.ensure)((0,WY.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new BY(t);return[zat.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};Vj.CallHierarchyFeature=$Y});var vDe=P(Kb=>{"use strict";var Uat=Kb&&Kb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Hat=Kb&&Kb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),gDe=Kb&&Kb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Uat(t,e,n[i]);return Hat(t,e),t}}();Object.defineProperty(Kb,"__esModule",{value:!0});Kb.SemanticTokensFeature=void 0;var Gj=gDe(require("vscode")),Ni=Jr(),H1=Oo(),Wat=gDe(iv()),GY=class extends H1.TextDocumentLanguageFeature{constructor(e){super(e,Ni.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,H1.ensure)((0,H1.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[Ni.SemanticTokenTypes.namespace,Ni.SemanticTokenTypes.type,Ni.SemanticTokenTypes.class,Ni.SemanticTokenTypes.enum,Ni.SemanticTokenTypes.interface,Ni.SemanticTokenTypes.struct,Ni.SemanticTokenTypes.typeParameter,Ni.SemanticTokenTypes.parameter,Ni.SemanticTokenTypes.variable,Ni.SemanticTokenTypes.property,Ni.SemanticTokenTypes.enumMember,Ni.SemanticTokenTypes.event,Ni.SemanticTokenTypes.function,Ni.SemanticTokenTypes.method,Ni.SemanticTokenTypes.macro,Ni.SemanticTokenTypes.keyword,Ni.SemanticTokenTypes.modifier,Ni.SemanticTokenTypes.comment,Ni.SemanticTokenTypes.string,Ni.SemanticTokenTypes.number,Ni.SemanticTokenTypes.regexp,Ni.SemanticTokenTypes.operator,Ni.SemanticTokenTypes.decorator,Ni.SemanticTokenTypes.label],t.tokenModifiers=[Ni.SemanticTokenModifiers.declaration,Ni.SemanticTokenModifiers.definition,Ni.SemanticTokenModifiers.readonly,Ni.SemanticTokenModifiers.static,Ni.SemanticTokenModifiers.deprecated,Ni.SemanticTokenModifiers.abstract,Ni.SemanticTokenModifiers.async,Ni.SemanticTokenModifiers.modification,Ni.SemanticTokenModifiers.documentation,Ni.SemanticTokenModifiers.defaultLibrary],t.formats=[Ni.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,H1.ensure)((0,H1.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Ni.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=Wat.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new Gj.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(y,b)=>{let T=this._client,k=T.middleware,z=(A,U)=>{let ne={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(A)};return T.sendRequest(Ni.SemanticTokensRequest.type,ne,U).then(de=>U.isCancellationRequested?null:T.protocol2CodeConverter.asSemanticTokens(de,U),de=>T.handleFailedRequest(Ni.SemanticTokensRequest.type,U,de,null))};return k.provideDocumentSemanticTokens?k.provideDocumentSemanticTokens(y,b,z):z(y,b)},provideDocumentSemanticTokensEdits:i?(y,b,T)=>{let k=this._client,z=k.middleware,A=(U,ne,de)=>{let ve={textDocument:k.code2ProtocolConverter.asTextDocumentIdentifier(U),previousResultId:ne};return k.sendRequest(Ni.SemanticTokensDeltaRequest.type,ve,de).then(async $=>de.isCancellationRequested?null:Ni.SemanticTokens.is($)?await k.protocol2CodeConverter.asSemanticTokens($,de):await k.protocol2CodeConverter.asSemanticTokensEdits($,de),$=>k.handleFailedRequest(Ni.SemanticTokensDeltaRequest.type,de,$,null))};return z.provideDocumentSemanticTokensEdits?z.provideDocumentSemanticTokensEdits(y,b,T,A):A(y,b,T)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(y,b,T)=>{let k=this._client,z=k.middleware,A=(U,ne,de)=>{let ve={textDocument:k.code2ProtocolConverter.asTextDocumentIdentifier(U),range:k.code2ProtocolConverter.asRange(ne)};return k.sendRequest(Ni.SemanticTokensRangeRequest.type,ve,de).then($=>de.isCancellationRequested?null:k.protocol2CodeConverter.asSemanticTokens($,de),$=>k.handleFailedRequest(Ni.SemanticTokensRangeRequest.type,de,$,null))};return z.provideDocumentRangeSemanticTokens?z.provideDocumentRangeSemanticTokens(y,b,T,A):A(y,b,T)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push(Gj.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push(Gj.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new Gj.Disposable(()=>u.forEach(y=>y.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};Kb.SemanticTokensFeature=GY});var bDe=P(Yb=>{"use strict";var Bat=Yb&&Yb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),$at=Yb&&Yb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),yDe=Yb&&Yb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Bat(t,e,n[i]);return $at(t,e),t}}();Object.defineProperty(Yb,"__esModule",{value:!0});Yb.LinkedEditingFeature=void 0;var Vat=yDe(require("vscode")),KY=yDe(Jr()),YY=Oo(),JY=class extends YY.TextDocumentLanguageFeature{constructor(e){super(e,KY.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,YY.ensure)((0,YY.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(KY.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(y,f),y=>a.handleFailedRequest(KY.LinkedEditingRangeRequest.type,f,y,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Vat.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Yb.LinkedEditingFeature=JY});var eJ=P(Kj=>{"use strict";Object.defineProperty(Kj,"__esModule",{value:!0});Kj.TypeHierarchyFeature=void 0;var Gat=require("vscode"),CT=Jr(),XY=Oo(),QY=class{client;middleware;constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(CT.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(CT.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(CT.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(CT.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(CT.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(CT.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},ZY=class extends XY.TextDocumentLanguageFeature{constructor(e){super(e,CT.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,XY.ensure)((0,XY.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new QY(t);return[Gat.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};Kj.TypeHierarchyFeature=ZY});var rJ=P(Jj=>{"use strict";Object.defineProperty(Jj,"__esModule",{value:!0});Jj.InlineValueFeature=void 0;var _De=require("vscode"),Yj=Jr(),W1=Oo(),tJ=class extends W1.TextDocumentLanguageFeature{constructor(e){super(e,Yj.InlineValueRequest.type)}fillClientCapabilities(e){(0,W1.ensure)((0,W1.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,W1.ensure)((0,W1.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(Yj.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new _De.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,y,b,T)=>{let k={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(y),context:u.code2ProtocolConverter.asInlineValueContext(b)};return u.sendRequest(Yj.InlineValueRequest.type,k,T).then(z=>T.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(z,T),z=>u.handleFailedRequest(Yj.InlineValueRequest.type,T,z,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return _De.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Jj.InlineValueFeature=tJ});var SDe=P(Xj=>{"use strict";Object.defineProperty(Xj,"__esModule",{value:!0});Xj.InlayHintsFeature=void 0;var wDe=require("vscode"),hR=Jr(),B1=Oo(),nJ=class extends B1.TextDocumentLanguageFeature{constructor(e){super(e,hR.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,B1.ensure)((0,B1.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,B1.ensure)((0,B1.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(hR.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new wDe.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,y)=>{let b={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let T=await c.sendRequest(hR.InlayHintRequest.type,b,y);return y.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(T,y)}catch(T){return c.handleFailedRequest(hR.InlayHintRequest.type,y,T,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(hR.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let y=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:y}catch(f){return a.handleFailedRequest(hR.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return wDe.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Xj.InlayHintsFeature=nJ});var aJ=P(yy=>{"use strict";var Kat=yy&&yy.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Yat=yy&&yy.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Jat=yy&&yy.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Kat(t,e,n[i]);return Yat(t,e),t}}();Object.defineProperty(yy,"__esModule",{value:!0});yy.WorkspaceFoldersFeature=void 0;yy.arrayDiff=oJ;var Xat=Jat(Ia()),Qj=require("vscode"),$1=Jr();function iJ(r,e){if(r!=null)return r[e]}function oJ(r,e){return r.filter(t=>e.indexOf(t)<0)}var sJ=class{_client;_listeners;_initialFolders;constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return $1.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=Qj.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest($1.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=Qj.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=iJ(iJ(iJ(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=Xat.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=oJ(this._initialFolders,e),i=oJ(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${$1.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification($1.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=Qj.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${$1.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(Qj.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};yy.WorkspaceFoldersFeature=sJ});var TDe=P($u=>{"use strict";var Qat=$u&&$u.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Zat=$u&&$u.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),tz=$u&&$u.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Qat(t,e,n[i]);return Zat(t,e),t}}();Object.defineProperty($u,"__esModule",{value:!0});$u.WillDeleteFilesFeature=$u.WillRenameFilesFeature=$u.WillCreateFilesFeature=$u.DidDeleteFilesFeature=$u.DidRenameFilesFeature=$u.DidCreateFilesFeature=void 0;var cv=tz(require("vscode")),ect=tz(R7()),Ow=tz(Jr()),tct=tz(Ia());function CDe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function rct(r,e){return r[e]}function DDe(r,e,t){r[e]=t}var V1=class r{_client;_event;_registrationType;_clientCapability;_serverCapability;_listener;_filters;constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=CDe(CDe(e,"workspace"),"fileOperations");DDe(t,"dynamicRegistration",!0),DDe(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?rct(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:tct.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new ect.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.info(`Unable to determine file type for ${s.toString()}. Treating as a match.`),!0;if(l===cv.FileType.File&&u.kind===Ow.FileOperationPatternKind.file||l===cv.FileType.Directory&&u.kind===Ow.FileOperationPatternKind.folder)return!0}else if(u.kind===Ow.FileOperationPatternKind.folder&&await r.getFileType(s)===cv.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await cv.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let t={dot:!0};return e?.ignoreCase===!0&&(t.nocase=!0),t}},Zj=class extends V1{_notificationType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},ez=class extends Zj{_willListener;_fsPathFileTypes=new Map;async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await V1.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},cJ=class extends Zj{constructor(e){super(e,cv.workspace.onDidCreateFiles,Ow.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};$u.DidCreateFilesFeature=cJ;var uJ=class extends ez{constructor(e){super(e,cv.workspace.onDidRenameFiles,Ow.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=cv.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};$u.DidRenameFilesFeature=uJ;var lJ=class extends ez{constructor(e){super(e,cv.workspace.onDidDeleteFiles,Ow.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=cv.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};$u.DidDeleteFilesFeature=lJ;var G1=class extends V1{_requestType;_accessUri;_createParams;constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},dJ=class extends G1{constructor(e){super(e,cv.workspace.onWillCreateFiles,Ow.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};$u.WillCreateFilesFeature=dJ;var fJ=class extends G1{constructor(e){super(e,cv.workspace.onWillRenameFiles,Ow.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};$u.WillRenameFilesFeature=fJ;var pJ=class extends G1{constructor(e){super(e,cv.workspace.onWillDeleteFiles,Ow.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};$u.WillDeleteFilesFeature=pJ});var PDe=P(Jb=>{"use strict";var nct=Jb&&Jb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),ict=Jb&&Jb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),oct=Jb&&Jb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&nct(t,e,n[i]);return ict(t,e),t}}();Object.defineProperty(Jb,"__esModule",{value:!0});Jb.InlineCompletionItemFeature=void 0;var sct=require("vscode"),hJ=Jr(),mJ=Oo(),act=oct(Ia()),gJ=class extends mJ.TextDocumentLanguageFeature{constructor(e){super(e,hJ.InlineCompletionRequest.type)}fillClientCapabilities(e){let t=(0,mJ.ensure)((0,mJ.ensure)(e,"textDocument"),"inlineCompletion");t.dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.inlineCompletionProvider);n&&this.register({id:act.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideInlineCompletionItems:(i,o,s,a)=>{let c=this._client,u=this._client.middleware,l=(d,f,y,b)=>c.sendRequest(hJ.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(d,f,y),b).then(T=>b.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(T,b),T=>c.handleFailedRequest(hJ.InlineCompletionRequest.type,b,T,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,o,s,a,l):l(i,o,s,a)}};return[sct.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};Jb.InlineCompletionItemFeature=gJ});var EDe=P(Xb=>{"use strict";var cct=Xb&&Xb.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uct=Xb&&Xb.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xDe=Xb&&Xb.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&cct(t,e,n[i]);return uct(t,e),t}}();Object.defineProperty(Xb,"__esModule",{value:!0});Xb.TextDocumentContentFeature=void 0;var vJ=xDe(require("vscode")),mR=Jr(),RDe=Oo(),lct=xDe(Ia()),yJ=class{_client;_registrations=new Map;constructor(e){this._client=e}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:mR.TextDocumentContentRequest.method,registrations:e}}get registrationType(){return mR.TextDocumentContentRequest.type}getProviders(){let e=[];for(let t of this._registrations.values())e.push(...t.providers);return e}fillClientCapabilities(e){let t=(0,RDe.ensure)((0,RDe.ensure)(e,"workspace"),"textDocumentContent");t.dynamicRegistration=!0}initialize(e){let t=this._client;if(t.onRequest(mR.TextDocumentContentRefreshRequest.type,async o=>{let s=t.protocol2CodeConverter.asUri(o.uri);for(let a of this._registrations.values())for(let c of a.providers)c.scheme!==s.scheme&&c.onDidChangeEmitter.fire(s)}),!e?.workspace?.textDocumentContent)return;let n=e.workspace.textDocumentContent,i=mR.StaticRegistrationOptions.hasId(n)?n.id:lct.generateUuid();this.register({id:i,registerOptions:n})}register(e){let t=[],n=[];for(let i of e.registerOptions.schemes){let[o,s]=this.registerTextDocumentContentProvider(i);t.push(s),n.push(o)}this._registrations.set(e.id,{disposable:vJ.Disposable.from(...n),providers:t})}registerTextDocumentContentProvider(e){let t=new vJ.EventEmitter,n={onDidChange:t.event,provideTextDocumentContent:(i,o)=>{let s=this._client,a=(u,l)=>{let d={uri:s.code2ProtocolConverter.asUri(u)};return s.sendRequest(mR.TextDocumentContentRequest.type,d,l).then(f=>l.isCancellationRequested?null:f.text,f=>s.handleFailedRequest(mR.TextDocumentContentRequest.type,l,f,null))},c=s.middleware;return c.provideTextDocumentContent?c.provideTextDocumentContent(i,o,a):a(i,o)}};return[vJ.workspace.registerTextDocumentContentProvider(e,n),{scheme:e,onDidChangeEmitter:t,provider:n}]}unregister(e){let t=this._registrations.get(e);t!==void 0&&(this._registrations.delete(e),t.disposable.dispose())}clear(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}};Xb.TextDocumentContentFeature=yJ});var ODe=P(nz=>{"use strict";Object.defineProperty(nz,"__esModule",{value:!0});nz.FileSystemWatcherFeature=void 0;var dct=require("vscode"),DT=Jr(),rz=Oo(),bJ=class{_client;_notifyFileEvent;_watchers;constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return DT.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,rz.ensure)((0,rz.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,rz.ensure)((0,rz.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&DT.WatchKind.Create)!==0,s=(n.kind&DT.WatchKind.Change)!==0,a=(n.kind&DT.WatchKind.Delete)!==0);let c=dct.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:DT.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:DT.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:DT.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t){this._watchers.delete(e);for(let n of t)n.dispose()}}clear(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};nz.FileSystemWatcherFeature=bJ});var kDe=P(iz=>{"use strict";Object.defineProperty(iz,"__esModule",{value:!0});iz.ProgressFeature=void 0;var IDe=Jr(),fct=h7();function pct(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var _J=class{_client;activeParts;constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:IDe.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){pct(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new fct.ProgressPart(this._client,i.token,t))};e.onRequest(IDe.WorkDoneProgressCreateRequest.type,n)}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};iz.ProgressFeature=_J});var EJ=P(Ks=>{"use strict";var hct=Ks&&Ks.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),mct=Ks&&Ks.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),az=Ks&&Ks.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&hct(t,e,n[i]);return mct(t,e),t}}();Object.defineProperty(Ks,"__esModule",{value:!0});Ks.ProposedFeatures=Ks.LanguageClient=Ks.BaseLanguageClient=Ks.ShutdownMode=Ks.MessageTransports=Ks.SuspendMode=Ks.State=Ks.CloseAction=Ks.ErrorAction=Ks.RevealOutputChannelOn=void 0;var Ri=require("vscode"),cr=Jr(),gct=az(sCe()),vct=az(Cj()),by=az(iv()),oz=yj(),ADe=az(Ia()),yct=h7(),Ym=Oo(),bct=Mj(),SJ=F7(),MDe=VCe(),gR=GCe(),_ct=KCe(),wct=YCe(),Sct=JCe(),Cct=QCe(),Dct=ZCe(),Tct=sY(),Pct=tDe(),Rct=rDe(),xct=nDe(),Ect=iDe(),Oct=bY(),Ict=oDe(),kct=aDe(),wJ=cDe(),Act=dDe(),Mct=IY(),Lct=pDe(),Nct=mDe(),Fct=qY(),qct=HY(),jct=VY(),zct=vDe(),Uct=bDe(),Hct=eJ(),Wct=rJ(),Bct=SDe(),$ct=aJ(),vR=TDe(),Vct=PDe(),Gct=EDe(),Kct=ODe(),Yct=kDe(),TT;(function(r){r[r.Debug=0]="Debug",r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(TT||(Ks.RevealOutputChannelOn=TT={}));var K1;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(K1||(Ks.ErrorAction=K1={}));var kC;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(kC||(Ks.CloseAction=kC={}));var yR;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.StartFailed=4]="StartFailed",r[r.Running=2]="Running"})(yR||(Ks.State=yR={}));var LDe;(function(r){r.off="off",r.on="on"})(LDe||(Ks.SuspendMode=LDe={}));var CJ;(function(r){function e(t){return t==null?!1:typeof t=="boolean"||typeof t=="object"&&t!==null&&by.stringArray(t.enabledCommands)?t:!1}r.sanitizeIsTrusted=e})(CJ||(CJ={}));var DJ=class{client;maxRestartCount;restarts;constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:K1.Continue}:{action:K1.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:kC.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:kC.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:kC.Restart})}},ro;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(ro||(ro={}));var NDe;(function(r){function e(t){return t&&cr.MessageReader.is(t.reader)&&cr.MessageWriter.is(t.writer)}r.is=e})(NDe||(Ks.MessageTransports=NDe={}));var IC;(function(r){r.Restart="restart",r.Stop="stop"})(IC||(Ks.ShutdownMode=IC={}));var TJ=class r{open;_onOpen;_onClose;disposable;constructor(){this.open=new Set,this._onOpen=new Ri.EventEmitter,this._onClose=new Ri.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(Ri.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(Ri.Uri.parse(c));this._onOpen.fire(a)}};Ri.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=Ri.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof Ri.Uri?Ri.window.activeTextEditor?.document.uri===e:Ri.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof Ri.Uri?e:e.uri;return t.scheme===SJ.NotebookDocumentSyncFeature.CellScheme?Ri.workspace.notebookDocuments.some(n=>this.open.has(n.uri.toString())?n.getCells().find(o=>o.document.uri.toString()===t.toString())!==void 0:!1):this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of Ri.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof Ri.TabInputText?a=s.uri:s instanceof Ri.TabInputTextDiff?a=s.modified:(s instanceof Ri.TabInputCustom||s instanceof Ri.TabInputNotebook)&&(a=s.uri),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},sz=class r{_id;_name;_clientOptions;_state;_onStart;_onStop;_connection;_idleInterval;_ignoredRegistrations;_listeners;_disposed;_notificationHandlers;_notificationDisposables;_pendingNotificationHandlers;_requestHandlers;_requestDisposables;_pendingRequestHandlers;_progressHandlers;_pendingProgressHandlers;_progressDisposables;_initializeResult;_outputChannel;_disposeOutputChannel;_traceOutputChannel;_traceLogLevel;_capabilities;_diagnostics;_syncedDocuments;_didChangeTextDocumentFeature;_inFlightOpenNotifications;_pendingChangeSemaphore;_pendingChangeDelayer;_didOpenTextDocumentFeature;_fileEvents;_fileEventDelayer;_telemetryEmitter;_stateChangeEmitter;_trace;_traceFormat=cr.TraceFormat.Text;_tracer;_c2p;_p2c;_tabsModel;constructor(e,t,n){this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1,supportThemeIcons:!1};n.markdown!==void 0&&(i.isTrusted=CJ.sanitizeIsTrusted(n.markdown.isTrusted),i.supportHtml=n.markdown.supportHtml===!0,i.supportThemeIcons=n.markdown.supportThemeIcons===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??TT.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{},textSynchronization:this.createTextSynchronizationOptions(n.textSynchronization)},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=ro.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1,this._traceLogLevel=this._outputChannel.logLevel):(this._outputChannel=void 0,this._disposeOutputChannel=!0,this._traceLogLevel=Ri.LogLevel.Info),this._traceOutputChannel=n.traceOutputChannel,this._traceOutputChannel!==void 0&&(this._traceLogLevel=this._traceOutputChannel.logLevel),this._diagnostics=void 0,this._inFlightOpenNotifications=new Set,this._pendingChangeSemaphore=new oz.Semaphore(1),this._pendingChangeDelayer=new oz.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new oz.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new cr.Emitter,this._stateChangeEmitter=new cr.Emitter,this._trace=cr.Trace.Off,this._tracer={log:(o,s)=>{by.string(o)?this.trace(o,s):this.traceObject(o)}},this._c2p=gct.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=vct.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml,this._clientOptions.markdown.supportThemeIcons),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}createTextSynchronizationOptions(e){return e?typeof e.delayOpenNotifications=="boolean"?{delayOpenNotifications:e.delayOpenNotifications}:{delayOpenNotifications:!1}:{delayOpenNotifications:!1}}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get tabsModel(){return this._tabsModel===void 0&&(this._tabsModel=new TJ),this._tabsModel}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Ri.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name,{log:!0}),this._traceOutputChannel===void 0&&(this._traceLogLevel=this._outputChannel.logLevel)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case ro.Starting:return yR.Starting;case ro.Running:return yR.Running;case ro.StartFailed:return yR.StartFailed;default:return yR.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===ro.StartFailed||this.$state===ro.Stopping||this.$state===ro.Stopped)return Promise.reject(new cr.ResponseError(cr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(),this._didChangeTextDocumentFeature.syncKind===cr.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(n);let i,o;if(t.length===1?cr.CancellationToken.is(t[0])?o=t[0]:i=t[0]:t.length===2&&(i=t[0],o=t[1]),o!==void 0&&o.isCancellationRequested)return Promise.reject(new cr.ResponseError(cr.LSPErrorCodes.RequestCancelled,"Request got cancelled"));let s=this._clientOptions.middleware?.sendRequest;return s!==void 0?s(e,i,o,(a,c,u)=>{let l=[];return c!==void 0&&l.push(c),u!==void 0&&l.push(u),n.sendRequest(a,...l)}):n.sendRequest(e,...t)}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===ro.StartFailed||this.$state===ro.Stopping||this.$state===ro.Stopped)return Promise.reject(new cr.ResponseError(cr.ErrorCodes.ConnectionInactive,"Client is not running"));let n=this._didChangeTextDocumentFeature.syncKind===cr.TextDocumentSyncKind.Full,i;n&&typeof e!="string"&&e.method===cr.DidOpenTextDocumentNotification.method&&(i=t?.textDocument.uri,this._inFlightOpenNotifications.add(i));let o;typeof e!="string"&&e.method===cr.DidCloseTextDocumentNotification.method&&(o=t.textDocument.uri);let s=await this.$start();await this._didOpenTextDocumentFeature.sendPendingOpenNotifications(o),n&&await this.sendPendingFullTextDocumentChanges(s),i!==void 0&&this._inFlightOpenNotifications.delete(i);let a=this._clientOptions.middleware?.sendNotification;return a?a(e,s.sendNotification.bind(s),t):s.sendNotification(e,t)}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===ro.StartFailed||this.$state===ro.Stopping||this.$state===ro.Stopped)return Promise.reject(new cr.ResponseError(cr.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=cr.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new DJ(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof cr.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?by.string(e.stack)?e.stack:e.message:by.string(e)?e:e.toString()}error(e,t,n=!0){this.outputChannel.error(this.getLogMessage(e,t)),(n==="force"||n&&this._clientOptions.revealOutputChannelOn<=TT.Error)&&this.showNotificationMessage(cr.MessageType.Error,e,t)}warn(e,t,n=!0){this.outputChannel.warn(this.getLogMessage(e,t)),n&&this._clientOptions.revealOutputChannelOn<=TT.Warn&&this.showNotificationMessage(cr.MessageType.Warning,e,t)}info(e,t,n=!0){this.outputChannel.info(this.getLogMessage(e,t)),n&&this._clientOptions.revealOutputChannelOn<=TT.Info&&this.showNotificationMessage(cr.MessageType.Info,e,t)}debug(e,t,n=!0){this.outputChannel.debug(this.getLogMessage(e,t)),n&&this._clientOptions.revealOutputChannelOn<=TT.Debug&&this.showNotificationMessage(cr.MessageType.Debug,e,t)}trace(e,t){this.traceOutputChannel.trace(this.getLogMessage(e,t))}traceObject(e){this.traceOutputChannel.trace(JSON.stringify(e))}showNotificationMessage(e,t,n){t=t??"A request has failed. See the output for more information.",n&&(t+=`
`+this.data2String(n)),(e===cr.MessageType.Error?Ri.window.showErrorMessage:e===cr.MessageType.Warning?Ri.window.showWarningMessage:Ri.window.showInformationMessage)(t,"Go to output").then(o=>{o!==void 0&&this.outputChannel.show(!0)})}getLogMessage(e,t){return t!=null?`${e}
${this.data2String(t)}`:e}needsStart(){return this.$state===ro.Initial||this.$state===ro.Stopping||this.$state===ro.Stopped}needsStop(){return this.$state===ro.Starting||this.$state===ro.Running}activeConnection(){return this.$state===ro.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===ro.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===ro.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=Ri.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName??this._id));for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=ro.Starting;try{let i=await this.createConnection();i.onNotification(cr.LogMessageNotification.type,o=>{switch(o.type){case cr.MessageType.Error:this.error(o.message,void 0,!1);break;case cr.MessageType.Warning:this.warn(o.message,void 0,!1);break;case cr.MessageType.Info:this.info(o.message,void 0,!1);break;case cr.MessageType.Debug:this.debug(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(cr.ShowMessageNotification.type,o=>{switch(o.type){case cr.MessageType.Error:Ri.window.showErrorMessage(o.message);break;case cr.MessageType.Warning:Ri.window.showWarningMessage(o.message);break;case cr.MessageType.Info:Ri.window.showInformationMessage(o.message);break;default:Ri.window.showInformationMessage(o.message)}}),i.onRequest(cr.ShowMessageRequest.type,o=>{let s;switch(o.type){case cr.MessageType.Error:s=Ri.window.showErrorMessage;break;case cr.MessageType.Warning:s=Ri.window.showWarningMessage;break;case cr.MessageType.Info:s=Ri.window.showInformationMessage;break;default:s=Ri.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(cr.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(cr.ShowDocumentRequest.type,async(o,s)=>{let a=async u=>{let l=this.protocol2CodeConverter.asUri(u.uri);try{if(u.external===!0)return{success:await Ri.env.openExternal(l)};{let d={};return u.selection!==void 0&&(d.selection=this.protocol2CodeConverter.asRange(u.selection)),u.takeFocus===void 0||u.takeFocus===!1?d.preserveFocus=!0:u.takeFocus===!0&&(d.preserveFocus=!1),await Ri.window.showTextDocument(l,d),{success:!0}}}catch{return{success:!1}}},c=this._clientOptions.middleware.window?.showDocument;return c!==void 0?c(o,s,a):a(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=ro.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:Ri.env.appName,version:Ri.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(Ri.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:by.func(t)?t():t,trace:cr.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=ADe.generateUuid(),a=new yct.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==cr.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=ro.Running;let i;by.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===cr.TextDocumentSyncKind.None?i={openClose:!1,change:cr.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(cr.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(cr.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(cr.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(cr.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(cr.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookLogLevelChanged(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof cr.ResponseError&&n.data&&n.data.retry?Ri.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&Ri.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=Ri.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown(IC.Stop,e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t=2e3){if(this.$state===ro.Stopped||this.$state===ro.Initial)return;if(this.$state===ro.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==ro.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=ro.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,cr.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=ro.Stopped,e===IC.Stop&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.clear();(e===IC.Stop||e===IC.Restart)&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=t._fileEvents;t._fileEvents=[];try{await t.sendNotification(cr.DidChangeWatchedFilesNotification.type,{changes:s})}catch(a){throw t._fileEvents.push(...s),a}})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notifying file events failed.",o)})}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let t=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._inFlightOpenNotifications);if(t.length===0)return;for(let n of t){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(n);await e.sendNotification(cr.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(n,cr.DidChangeTextDocumentNotification.type,i)}}catch(t){throw this.error("Sending pending changes failed",t,!1),t}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e)}).catch(e=>this.error("Delivering pending changes failed",e,!1))}_diagnosticQueue=new Map;_diagnosticQueueState={state:"idle"};handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,cr.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new Ri.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).catch(o=>{this.error("Processing diagnostic queue failed.",o)}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}getLocale(){return Ri.env.language}async $start(){if(this.$state===ro.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s).catch(a=>this.error("Handling connection error failed",a))},t=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i))},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=Jct(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===ro.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:kC.DoNotRestart};if(this.$state!==ro.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===kC.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp(IC.Stop),this.$state===ro.Starting?this.$state=ro.StartFailed:this.$state=ro.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===kC.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",void 0,!e.handled),this.cleanUp(IC.Restart),this.$state=ro.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}async handleConnectionError(e,t,n){let i=await this._clientOptions.errorHandler.error(e,t,n);i.action===K1.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force")}hookConfigurationChanged(e){this._listeners.push(Ri.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}hookLogLevelChanged(e){this._listeners.push(this.traceOutputChannel.onDidChangeLogLevel(t=>{this._traceLogLevel=t,this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=Ri.workspace.getConfiguration(this._id),i=this._traceLogLevel!==Ri.LogLevel.Trace?cr.Trace.Off:cr.Trace.Messages,o=cr.TraceFormat.Text;if(n&&i!==cr.Trace.Off){let s=n.get("trace.server","messages");typeof s=="string"?(i=cr.Trace.fromString(s),i===cr.Trace.Off&&(i=cr.Trace.Messages)):(i=cr.Trace.fromString(n.get("trace.server.verbosity","messages")),i===cr.Trace.Off&&(i=cr.Trace.Messages),o=cr.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;by.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(cr.DidChangeWatchedFilesNotification.type.method).registerRaw(ADe.generateUuid(),n)}_features=[];_dynamicFeatures=new Map;registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),Ym.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(cr.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof SJ.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new MDe.ConfigurationFeature(this)),this._didOpenTextDocumentFeature=new gR.DidOpenTextDocumentFeature(this,this._syncedDocuments),this.registerFeature(this._didOpenTextDocumentFeature),this._didChangeTextDocumentFeature=new gR.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery()}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new gR.WillSaveFeature(this)),this.registerFeature(new gR.WillSaveWaitUntilFeature(this)),this.registerFeature(new gR.DidSaveTextDocumentFeature(this)),this.registerFeature(new gR.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new Kct.FileSystemWatcherFeature(this,t=>this.notifyFileEvent(t))),this.registerFeature(new _ct.CompletionItemFeature(this)),this.registerFeature(new wct.HoverFeature(this)),this.registerFeature(new Cct.SignatureHelpFeature(this)),this.registerFeature(new Sct.DefinitionFeature(this)),this.registerFeature(new Rct.ReferencesFeature(this)),this.registerFeature(new Dct.DocumentHighlightFeature(this)),this.registerFeature(new Tct.DocumentSymbolFeature(this)),this.registerFeature(new Pct.WorkspaceSymbolFeature(this)),this.registerFeature(new Ict.CodeActionFeature(this)),this.registerFeature(new kct.CodeLensFeature(this)),this.registerFeature(new wJ.DocumentFormattingFeature(this)),this.registerFeature(new wJ.DocumentRangeFormattingFeature(this)),this.registerFeature(new wJ.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new Act.RenameFeature(this)),this.registerFeature(new Mct.DocumentLinkFeature(this)),this.registerFeature(new Lct.ExecuteCommandFeature(this)),this.registerFeature(new MDe.SyncConfigurationFeature(this)),this.registerFeature(new xct.TypeDefinitionFeature(this)),this.registerFeature(new Ect.ImplementationFeature(this)),this.registerFeature(new Oct.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new $ct.WorkspaceFoldersFeature(this)),this.registerFeature(new Nct.FoldingRangeFeature(this)),this.registerFeature(new Fct.DeclarationFeature(this)),this.registerFeature(new qct.SelectionRangeFeature(this)),this.registerFeature(new Yct.ProgressFeature(this)),this.registerFeature(new jct.CallHierarchyFeature(this)),this.registerFeature(new zct.SemanticTokensFeature(this)),this.registerFeature(new Uct.LinkedEditingFeature(this)),this.registerFeature(new vR.DidCreateFilesFeature(this)),this.registerFeature(new vR.DidRenameFilesFeature(this)),this.registerFeature(new vR.DidDeleteFilesFeature(this)),this.registerFeature(new vR.WillCreateFilesFeature(this)),this.registerFeature(new vR.WillRenameFilesFeature(this)),this.registerFeature(new vR.WillDeleteFilesFeature(this)),this.registerFeature(new Hct.TypeHierarchyFeature(this)),this.registerFeature(new Wct.InlineValueFeature(this)),this.registerFeature(new Bct.InlayHintsFeature(this)),this.registerFeature(new bct.DiagnosticFeature(this)),this.registerFeature(new SJ.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(xJ.createAll(this))}fillInitializeParams(e){for(let t of this._features)by.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,Ym.ensure)(e,"workspace").applyEdit=!0;let t=(0,Ym.ensure)((0,Ym.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[cr.ResourceOperationKind.Create,cr.ResourceOperationKind.Rename,cr.ResourceOperationKind.Delete],t.failureHandling=cr.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0},t.metadataSupport=!0,t.snippetEditSupport=!0;let n=(0,Ym.ensure)((0,Ym.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[cr.DiagnosticTag.Unnecessary,cr.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,Ym.ensure)((0,Ym.ensure)(e,"textDocument"),"filters");i.relativePatternSupport=!0;let o=(0,Ym.ensure)(e,"window"),s=(0,Ym.ensure)(o,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let a=(0,Ym.ensure)(o,"showDocument");a.support=!0;let c=(0,Ym.ensure)(e,"general");c.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},c.regularExpressions={engine:"ECMAScript",version:"ES2020"},c.markdown={parser:"marked",version:"1.1.0"},c.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(c.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let u of this._features)u.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)by.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){let t=this.clientOptions.middleware?.handleRegisterCapability;return t?t(e,n=>this.doRegisterCapability(n)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){let t=this.clientOptions.middleware?.handleUnregisterCapability;return t?t(e,n=>this.doUnregisterCapability(n)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=this.clientOptions.middleware?.workspace?.handleApplyEdit;if(t){let n=await t(e,i=>this.doHandleApplyWorkspaceEdit(i));return n instanceof cr.ResponseError?Promise.reject(n):n}else return this.doHandleApplyWorkspaceEdit(e)}workspaceEditLock=new oz.Semaphore(1);async doHandleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;Ri.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(cr.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=this._p2c.asUri(s.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):by.asPromise(Ri.workspace.applyEdit(n,{isRefactoring:e.metadata?.isRefactoring}).then(s=>({applied:s})))}static RequestsToCancelOnContentModified=new Set([cr.SemanticTokensRequest.method,cr.SemanticTokensRangeRequest.method,cr.SemanticTokensDeltaRequest.method]);static CancellableResolveCalls=new Set([cr.CompletionResolveRequest.method,cr.CodeLensResolveRequest.method,cr.CodeActionResolveRequest.method,cr.InlayHintResolveRequest.method,cr.DocumentLinkResolveRequest.method,cr.WorkspaceSymbolResolveRequest.method]);handleFailedRequest(e,t,n,i,o=!0,s=!1){if(n instanceof cr.ResponseError){if(n.code===cr.ErrorCodes.PendingResponseRejected||n.code===cr.ErrorCodes.ConnectionInactive)return i;if(n.code===cr.LSPErrorCodes.RequestCancelled||n.code===cr.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested&&!s)return i;throw n.data!==void 0?new Ym.LSPCancellationError(n.data):new Ri.CancellationError}else if(n.code===cr.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method)||r.CancellableResolveCalls.has(e.method))throw new Ri.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};Ks.BaseLanguageClient=sz;var PJ=class extends sz{serverOptions;constructor(e,t,n,i){super(e,t,i),this.serverOptions=n}async createMessageTransports(e){return this.serverOptions()}};Ks.LanguageClient=PJ;var RJ=class{error(e){(0,cr.RAL)().console.error(e)}warn(e){(0,cr.RAL)().console.warn(e)}info(e){(0,cr.RAL)().console.info(e)}log(e){(0,cr.RAL)().console.log(e)}};function Jct(r,e,t,n,i){let o=new RJ,s=(0,cr.createProtocolConnection)(r,e,o,i);return s.onError(c=>{t(c[0],c[1],c[2])}),s.onClose(n),{listen:()=>s.listen(),sendRequest:s.sendRequest,onRequest:s.onRequest,hasPendingResponse:s.hasPendingResponse,sendNotification:s.sendNotification,onNotification:s.onNotification,onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(c,u,l)=>{let d={sendNotification:!1,traceFormat:cr.TraceFormat.Text};return l===void 0?s.trace(c,u,d):(by.boolean(l),s.trace(c,u,l))},initialize:c=>s.sendRequest(cr.InitializeRequest.type,c),shutdown:()=>s.sendRequest(cr.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(cr.ExitNotification.type),end:()=>s.end(),dispose:()=>s.dispose()}}var xJ;(function(r){function e(t){return[new Vct.InlineCompletionItemFeature(t),new Gct.TextDocumentContentFeature(t)]}r.createAll=e})(xJ||(Ks.ProposedFeatures=xJ={}))});var qDe=P(Iw=>{"use strict";var Xct=Iw&&Iw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qct=Iw&&Iw.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Zct=Iw&&Iw.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&Xct(t,e,n[i]);return Qct(t,e),t}}();Object.defineProperty(Iw,"__esModule",{value:!0});Iw.terminate=iut;var FDe=Zct(require("child_process")),eut=require("path"),tut=process.platform==="win32",rut=process.platform==="darwin",nut=process.platform==="linux";function iut(r,e){if(tut)try{let t={stdio:["pipe","pipe","ignore"]};return e&&(t.cwd=e),FDe.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],t),!0}catch{return!1}else if(nut||rut)try{let t=(0,eut.join)(__dirname,"terminateProcess.sh");return!FDe.spawnSync(t,[r.pid.toString()]).error}catch{return!1}else return r.kill("SIGKILL"),!0}});var UDe=P(MJ=>{"use strict";Object.defineProperty(MJ,"__esModule",{value:!0});var jDe=require("util"),kw=Wu(),OJ=class r extends kw.AbstractMessageBuffer{static emptyBuffer=Buffer.allocUnsafe(0);constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new jDe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}},IJ=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),kw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),kw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),kw.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),kw.Disposable.create(()=>this.stream.off("data",e))}},kJ=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),kw.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),kw.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),kw.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},zDe=Object.freeze({messageBuffer:Object.freeze({create:r=>new OJ(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new jDe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new IJ(r),asWritableStream:r=>new kJ(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function AJ(){return zDe}(function(r){function e(){kw.RAL.install(zDe)}r.install=e})(AJ||(AJ={}));MJ.default=AJ});var zJ=P(Io=>{"use strict";var WDe=Io&&Io.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),out=Io&&Io.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),jJ=Io&&Io.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&WDe(t,e,n[i]);return out(t,e),t}}(),sut=Io&&Io.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&WDe(e,r,t)},aut=Io&&Io.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Io,"__esModule",{value:!0});Io.StreamMessageWriter=Io.StreamMessageReader=Io.SocketMessageWriter=Io.SocketMessageReader=Io.PortMessageWriter=Io.PortMessageReader=Io.IPCMessageWriter=Io.IPCMessageReader=void 0;Io.generateRandomPipeName=put;Io.createClientPipeTransport=hut;Io.createServerPipeTransport=mut;Io.createClientSocketTransport=gut;Io.createServerSocketTransport=vut;Io.createMessageConnection=_ut;var Y1=aut(UDe());Y1.default.install();var cut=jJ(require("path")),uut=jJ(require("os")),lut=jJ(require("fs")),HDe=require("crypto"),lz=require("net"),Jm=Wu();sut(Wu(),Io);var LJ=class extends Jm.AbstractMessageReader{process;constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Jm.Disposable.create(()=>this.process.off("message",e))}};Io.IPCMessageReader=LJ;var NJ=class extends Jm.AbstractMessageWriter{process;errorCount;constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Io.IPCMessageWriter=NJ;var FJ=class extends Jm.AbstractMessageReader{onData;constructor(e){super(),this.onData=new Jm.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};Io.PortMessageReader=FJ;var qJ=class extends Jm.AbstractMessageWriter{port;errorCount;constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};Io.PortMessageWriter=qJ;var PT=class extends Jm.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,Y1.default)().stream.asReadableStream(e),t)}};Io.SocketMessageReader=PT;var RT=class extends Jm.WriteableStreamMessageWriter{socket;constructor(e,t){super((0,Y1.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};Io.SocketMessageWriter=RT;var cz=class extends Jm.ReadableStreamMessageReader{constructor(e,t){super((0,Y1.default)().stream.asReadableStream(e),t)}};Io.StreamMessageReader=cz;var uz=class extends Jm.WriteableStreamMessageWriter{constructor(e,t){super((0,Y1.default)().stream.asWritableStream(e),t)}};Io.StreamMessageWriter=uz;var dut=process.env.XDG_RUNTIME_DIR,fut=new Map([["linux",107],["darwin",103]]);function put(){if(process.platform==="win32")return`\\\\.\\pipe\\lsp-${(0,HDe.randomBytes)(16).toString("hex")}-sock`;let r=32,e=9,t=lut.realpathSync(dut??uut.tmpdir()),n=fut.get(process.platform);if(n!==void 0&&(r=Math.min(n-t.length-e,r)),r<16)throw new Error(`Unable to generate a random pipe name with ${r} characters.`);let i=(0,HDe.randomBytes)(Math.floor(r/2)).toString("hex");return cut.join(t,`lsp-${i}.sock`)}function hut(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,lz.createServer)(a=>{s.close(),t([new PT(a,e),new RT(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function mut(r,e="utf-8"){let t=(0,lz.createConnection)(r);return[new PT(t,e),new RT(t,e)]}function gut(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,lz.createServer)(a=>{s.close(),t([new PT(a,e),new RT(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}function vut(r,e="utf-8"){let t=(0,lz.createConnection)(r,"127.0.0.1");return[new PT(t,e),new RT(t,e)]}function yut(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function but(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function _ut(r,e,t,n){t||(t=Jm.NullLogger);let i=yut(r)?new cz(r):r,o=but(e)?new uz(e):e;return Jm.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Jm.createMessageConnection)(i,o,t,n)}});var UJ=P(Aw=>{"use strict";var wut=Aw&&Aw.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),BDe=Aw&&Aw.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wut(e,r,t)};Object.defineProperty(Aw,"__esModule",{value:!0});Aw.createProtocolConnection=Cut;var Sut=zJ();BDe(zJ(),Aw);BDe(Jr(),Aw);function Cut(r,e,t,n){return(0,Sut.createMessageConnection)(r,e,t,n)}});var J1=P((kjt,$De)=>{var Dut=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};$De.exports=Dut});var dz=P((Ajt,VDe)=>{var Tut="2.0.0",Put=Number.MAX_SAFE_INTEGER||9007199254740991,Rut=16,xut=250,Eut=["major","premajor","minor","preminor","patch","prepatch","prerelease"];VDe.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Rut,MAX_SAFE_BUILD_LENGTH:xut,MAX_SAFE_INTEGER:Put,RELEASE_TYPES:Eut,SEMVER_SPEC_VERSION:Tut,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var fz=P((Qb,GDe)=>{var{MAX_SAFE_COMPONENT_LENGTH:HJ,MAX_SAFE_BUILD_LENGTH:Out,MAX_LENGTH:Iut}=dz(),kut=J1();Qb=GDe.exports={};var Aut=Qb.re=[],Mut=Qb.safeRe=[],en=Qb.src=[],Lut=Qb.safeSrc=[],tn=Qb.t={},Nut=0,WJ="[a-zA-Z0-9-]",Fut=[["\\s",1],["\\d",Iut],[WJ,Out]],qut=r=>{for(let[e,t]of Fut)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},zi=(r,e,t)=>{let n=qut(e),i=Nut++;kut(r,i,e),tn[r]=i,en[i]=e,Lut[i]=n,Aut[i]=new RegExp(e,t?"g":void 0),Mut[i]=new RegExp(n,t?"g":void 0)};zi("NUMERICIDENTIFIER","0|[1-9]\\d*");zi("NUMERICIDENTIFIERLOOSE","\\d+");zi("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${WJ}*`);zi("MAINVERSION",`(${en[tn.NUMERICIDENTIFIER]})\\.(${en[tn.NUMERICIDENTIFIER]})\\.(${en[tn.NUMERICIDENTIFIER]})`);zi("MAINVERSIONLOOSE",`(${en[tn.NUMERICIDENTIFIERLOOSE]})\\.(${en[tn.NUMERICIDENTIFIERLOOSE]})\\.(${en[tn.NUMERICIDENTIFIERLOOSE]})`);zi("PRERELEASEIDENTIFIER",`(?:${en[tn.NUMERICIDENTIFIER]}|${en[tn.NONNUMERICIDENTIFIER]})`);zi("PRERELEASEIDENTIFIERLOOSE",`(?:${en[tn.NUMERICIDENTIFIERLOOSE]}|${en[tn.NONNUMERICIDENTIFIER]})`);zi("PRERELEASE",`(?:-(${en[tn.PRERELEASEIDENTIFIER]}(?:\\.${en[tn.PRERELEASEIDENTIFIER]})*))`);zi("PRERELEASELOOSE",`(?:-?(${en[tn.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${en[tn.PRERELEASEIDENTIFIERLOOSE]})*))`);zi("BUILDIDENTIFIER",`${WJ}+`);zi("BUILD",`(?:\\+(${en[tn.BUILDIDENTIFIER]}(?:\\.${en[tn.BUILDIDENTIFIER]})*))`);zi("FULLPLAIN",`v?${en[tn.MAINVERSION]}${en[tn.PRERELEASE]}?${en[tn.BUILD]}?`);zi("FULL",`^${en[tn.FULLPLAIN]}$`);zi("LOOSEPLAIN",`[v=\\s]*${en[tn.MAINVERSIONLOOSE]}${en[tn.PRERELEASELOOSE]}?${en[tn.BUILD]}?`);zi("LOOSE",`^${en[tn.LOOSEPLAIN]}$`);zi("GTLT","((?:<|>)?=?)");zi("XRANGEIDENTIFIERLOOSE",`${en[tn.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);zi("XRANGEIDENTIFIER",`${en[tn.NUMERICIDENTIFIER]}|x|X|\\*`);zi("XRANGEPLAIN",`[v=\\s]*(${en[tn.XRANGEIDENTIFIER]})(?:\\.(${en[tn.XRANGEIDENTIFIER]})(?:\\.(${en[tn.XRANGEIDENTIFIER]})(?:${en[tn.PRERELEASE]})?${en[tn.BUILD]}?)?)?`);zi("XRANGEPLAINLOOSE",`[v=\\s]*(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:\\.(${en[tn.XRANGEIDENTIFIERLOOSE]})(?:${en[tn.PRERELEASELOOSE]})?${en[tn.BUILD]}?)?)?`);zi("XRANGE",`^${en[tn.GTLT]}\\s*${en[tn.XRANGEPLAIN]}$`);zi("XRANGELOOSE",`^${en[tn.GTLT]}\\s*${en[tn.XRANGEPLAINLOOSE]}$`);zi("COERCEPLAIN",`(^|[^\\d])(\\d{1,${HJ}})(?:\\.(\\d{1,${HJ}}))?(?:\\.(\\d{1,${HJ}}))?`);zi("COERCE",`${en[tn.COERCEPLAIN]}(?:$|[^\\d])`);zi("COERCEFULL",en[tn.COERCEPLAIN]+`(?:${en[tn.PRERELEASE]})?(?:${en[tn.BUILD]})?(?:$|[^\\d])`);zi("COERCERTL",en[tn.COERCE],!0);zi("COERCERTLFULL",en[tn.COERCEFULL],!0);zi("LONETILDE","(?:~>?)");zi("TILDETRIM",`(\\s*)${en[tn.LONETILDE]}\\s+`,!0);Qb.tildeTrimReplace="$1~";zi("TILDE",`^${en[tn.LONETILDE]}${en[tn.XRANGEPLAIN]}$`);zi("TILDELOOSE",`^${en[tn.LONETILDE]}${en[tn.XRANGEPLAINLOOSE]}$`);zi("LONECARET","(?:\\^)");zi("CARETTRIM",`(\\s*)${en[tn.LONECARET]}\\s+`,!0);Qb.caretTrimReplace="$1^";zi("CARET",`^${en[tn.LONECARET]}${en[tn.XRANGEPLAIN]}$`);zi("CARETLOOSE",`^${en[tn.LONECARET]}${en[tn.XRANGEPLAINLOOSE]}$`);zi("COMPARATORLOOSE",`^${en[tn.GTLT]}\\s*(${en[tn.LOOSEPLAIN]})$|^$`);zi("COMPARATOR",`^${en[tn.GTLT]}\\s*(${en[tn.FULLPLAIN]})$|^$`);zi("COMPARATORTRIM",`(\\s*)${en[tn.GTLT]}\\s*(${en[tn.LOOSEPLAIN]}|${en[tn.XRANGEPLAIN]})`,!0);Qb.comparatorTrimReplace="$1$2$3";zi("HYPHENRANGE",`^\\s*(${en[tn.XRANGEPLAIN]})\\s+-\\s+(${en[tn.XRANGEPLAIN]})\\s*$`);zi("HYPHENRANGELOOSE",`^\\s*(${en[tn.XRANGEPLAINLOOSE]})\\s+-\\s+(${en[tn.XRANGEPLAINLOOSE]})\\s*$`);zi("STAR","(<|>)?=?\\s*\\*");zi("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");zi("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var pz=P((Mjt,KDe)=>{var jut=Object.freeze({loose:!0}),zut=Object.freeze({}),Uut=r=>r?typeof r!="object"?jut:r:zut;KDe.exports=Uut});var QDe=P((Ljt,XDe)=>{var YDe=/^[0-9]+$/,JDe=(r,e)=>{let t=YDe.test(r),n=YDe.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},Hut=(r,e)=>JDe(e,r);XDe.exports={compareIdentifiers:JDe,rcompareIdentifiers:Hut}});var X1=P((Njt,rTe)=>{var hz=J1(),{MAX_LENGTH:ZDe,MAX_SAFE_INTEGER:mz}=dz(),{safeRe:eTe,safeSrc:tTe,t:gz}=fz(),Wut=pz(),{compareIdentifiers:bR}=QDe(),BJ=class r{constructor(e,t){if(t=Wut(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>ZDe)throw new TypeError(`version is longer than ${ZDe} characters`);hz("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?eTe[gz.LOOSE]:eTe[gz.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>mz||this.major<0)throw new TypeError("Invalid major version");if(this.minor>mz||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>mz||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<mz)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(hz("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),bR(this.major,e.major)||bR(this.minor,e.minor)||bR(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],i=e.prerelease[t];if(hz("prerelease compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return bR(n,i)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],i=e.build[t];if(hz("build compare",t,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return bR(n,i)}while(++t)}inc(e,t,n){if(e.startsWith("pre")){if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(t){let i=new RegExp(`^${this.options.loose?tTe[gz.PRERELEASELOOSE]:tTe[gz.PRERELEASE]}$`),o=`-${t}`.match(i);if(!o||o[1]!==t)throw new Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(t){let o=[t,i];n===!1&&(o=[t]),bR(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};rTe.exports=BJ});var oTe=P((Fjt,iTe)=>{var nTe=X1(),But=(r,e,t=!1)=>{if(r instanceof nTe)return r;try{return new nTe(r,e)}catch(n){if(!t)return null;throw n}};iTe.exports=But});var aTe=P((qjt,sTe)=>{var $J=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,t)}return this}};sTe.exports=$J});var xT=P((jjt,uTe)=>{var cTe=X1(),$ut=(r,e,t)=>new cTe(r,t).compare(new cTe(e,t));uTe.exports=$ut});var dTe=P((zjt,lTe)=>{var Vut=xT(),Gut=(r,e,t)=>Vut(r,e,t)===0;lTe.exports=Gut});var pTe=P((Ujt,fTe)=>{var Kut=xT(),Yut=(r,e,t)=>Kut(r,e,t)!==0;fTe.exports=Yut});var mTe=P((Hjt,hTe)=>{var Jut=xT(),Xut=(r,e,t)=>Jut(r,e,t)>0;hTe.exports=Xut});var vTe=P((Wjt,gTe)=>{var Qut=xT(),Zut=(r,e,t)=>Qut(r,e,t)>=0;gTe.exports=Zut});var bTe=P((Bjt,yTe)=>{var elt=xT(),tlt=(r,e,t)=>elt(r,e,t)<0;yTe.exports=tlt});var wTe=P(($jt,_Te)=>{var rlt=xT(),nlt=(r,e,t)=>rlt(r,e,t)<=0;_Te.exports=nlt});var CTe=P((Vjt,STe)=>{var ilt=dTe(),olt=pTe(),slt=mTe(),alt=vTe(),clt=bTe(),ult=wTe(),llt=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return ilt(r,t,n);case"!=":return olt(r,t,n);case">":return slt(r,t,n);case">=":return alt(r,t,n);case"<":return clt(r,t,n);case"<=":return ult(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};STe.exports=llt});var OTe=P((Gjt,ETe)=>{var Q1=Symbol("SemVer ANY"),KJ=class r{static get ANY(){return Q1}constructor(e,t){if(t=DTe(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),GJ("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Q1?this.value="":this.value=this.operator+this.semver.version,GJ("comp",this)}parse(e){let t=this.options.loose?TTe[PTe.COMPARATORLOOSE]:TTe[PTe.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new RTe(n[2],this.options.loose):this.semver=Q1}toString(){return this.value}test(e){if(GJ("Comparator.test",e,this.options.loose),this.semver===Q1||e===Q1)return!0;if(typeof e=="string")try{e=new RTe(e,this.options)}catch{return!1}return VJ(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new xTe(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new xTe(this.value,t).test(e.semver):(t=DTe(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||VJ(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||VJ(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};ETe.exports=KJ;var DTe=pz(),{safeRe:TTe,t:PTe}=fz(),VJ=CTe(),GJ=J1(),RTe=X1(),xTe=YJ()});var YJ=P((Kjt,MTe)=>{var dlt=/\s+/g,JJ=class r{constructor(e,t){if(t=plt(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof XJ)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(dlt," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!kTe(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&_lt(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let n=0;n<t.length;n++)n>0&&(this.formatted+=" "),this.formatted+=t[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&ylt)|(this.options.loose&&blt))+":"+e,i=ITe.get(n);if(i)return i;let o=this.options.loose,s=o?Gh[Bp.HYPHENRANGELOOSE]:Gh[Bp.HYPHENRANGE];e=e.replace(s,Olt(this.options.includePrerelease)),Aa("hyphen replace",e),e=e.replace(Gh[Bp.COMPARATORTRIM],mlt),Aa("comparator trim",e),e=e.replace(Gh[Bp.TILDETRIM],glt),Aa("tilde trim",e),e=e.replace(Gh[Bp.CARETTRIM],vlt),Aa("caret trim",e);let a=e.split(" ").map(d=>wlt(d,this.options)).join(" ").split(/\s+/).map(d=>Elt(d,this.options));o&&(a=a.filter(d=>(Aa("loose invalid filter",d,this.options),!!d.match(Gh[Bp.COMPARATORLOOSE])))),Aa("range list",a);let c=new Map,u=a.map(d=>new XJ(d,this.options));for(let d of u){if(kTe(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let l=[...c.values()];return ITe.set(n,l),l}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>ATe(n,t)&&e.set.some(i=>ATe(i,t)&&n.every(o=>i.every(s=>o.intersects(s,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new hlt(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Ilt(this.set[t],e,this.options))return!0;return!1}};MTe.exports=JJ;var flt=aTe(),ITe=new flt,plt=pz(),XJ=OTe(),Aa=J1(),hlt=X1(),{safeRe:Gh,t:Bp,comparatorTrimReplace:mlt,tildeTrimReplace:glt,caretTrimReplace:vlt}=fz(),{FLAG_INCLUDE_PRERELEASE:ylt,FLAG_LOOSE:blt}=dz(),kTe=r=>r.value==="<0.0.0-0",_lt=r=>r.value==="",ATe=(r,e)=>{let t=!0,n=r.slice(),i=n.pop();for(;t&&n.length;)t=n.every(o=>i.intersects(o,e)),i=n.pop();return t},wlt=(r,e)=>(Aa("comp",r,e),r=Dlt(r,e),Aa("caret",r),r=Slt(r,e),Aa("tildes",r),r=Plt(r,e),Aa("xrange",r),r=xlt(r,e),Aa("stars",r),r),$p=r=>!r||r.toLowerCase()==="x"||r==="*",Slt=(r,e)=>r.trim().split(/\s+/).map(t=>Clt(t,e)).join(" "),Clt=(r,e)=>{let t=e.loose?Gh[Bp.TILDELOOSE]:Gh[Bp.TILDE];return r.replace(t,(n,i,o,s,a)=>{Aa("tilde",r,n,i,o,s,a);let c;return $p(i)?c="":$p(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:$p(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Aa("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Aa("tilde return",c),c})},Dlt=(r,e)=>r.trim().split(/\s+/).map(t=>Tlt(t,e)).join(" "),Tlt=(r,e)=>{Aa("caret",r,e);let t=e.loose?Gh[Bp.CARETLOOSE]:Gh[Bp.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(i,o,s,a,c)=>{Aa("caret",r,i,o,s,a,c);let u;return $p(o)?u="":$p(s)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:$p(a)?o==="0"?u=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(Aa("replaceCaret pr",c),o==="0"?s==="0"?u=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(Aa("no pr"),o==="0"?s==="0"?u=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:u=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:u=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Aa("caret return",u),u})},Plt=(r,e)=>(Aa("replaceXRanges",r,e),r.split(/\s+/).map(t=>Rlt(t,e)).join(" ")),Rlt=(r,e)=>{r=r.trim();let t=e.loose?Gh[Bp.XRANGELOOSE]:Gh[Bp.XRANGE];return r.replace(t,(n,i,o,s,a,c)=>{Aa("xRange",r,n,i,o,s,a,c);let u=$p(o),l=u||$p(s),d=l||$p(a),f=d;return i==="="&&f&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&f?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),Aa("xRange return",n),n})},xlt=(r,e)=>(Aa("replaceStars",r,e),r.trim().replace(Gh[Bp.STAR],"")),Elt=(r,e)=>(Aa("replaceGTE0",r,e),r.trim().replace(Gh[e.includePrerelease?Bp.GTE0PRE:Bp.GTE0],"")),Olt=r=>(e,t,n,i,o,s,a,c,u,l,d,f)=>($p(n)?t="":$p(i)?t=`>=${n}.0.0${r?"-0":""}`:$p(o)?t=`>=${n}.${i}.0${r?"-0":""}`:s?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,$p(u)?c="":$p(l)?c=`<${+u+1}.0.0-0`:$p(d)?c=`<${u}.${+l+1}.0-0`:f?c=`<=${u}.${l}.${d}-${f}`:r?c=`<${u}.${l}.${+d+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),Ilt=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(Aa(r[n].semver),r[n].semver!==XJ.ANY&&r[n].semver.prerelease.length>0){let i=r[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var NTe=P((Yjt,LTe)=>{var klt=YJ(),Alt=(r,e,t)=>{try{e=new klt(e,t)}catch{return!1}return e.test(r)};LTe.exports=Alt});var Z1=P(Xm=>{"use strict";var Mlt=Xm&&Xm.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),QJ=Xm&&Xm.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Mlt(e,r,t)};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.DiagnosticPullMode=Xm.vsdiag=void 0;QJ(Jr(),Xm);QJ(Oo(),Xm);var FTe=Mj();Object.defineProperty(Xm,"vsdiag",{enumerable:!0,get:function(){return FTe.vsdiag}});Object.defineProperty(Xm,"DiagnosticPullMode",{enumerable:!0,get:function(){return FTe.DiagnosticPullMode}});QJ(EJ(),Xm)});var Lw=P(id=>{"use strict";var UTe=id&&id.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Llt=id&&id.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),eA=id&&id.__importStar||function(){var r=function(e){return r=Object.getOwnPropertyNames||function(t){var n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[n.length]=i);return n},r(e)};return function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=r(e),i=0;i<n.length;i++)n[i]!=="default"&&UTe(t,e,n[i]);return Llt(t,e),t}}(),HTe=id&&id.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&UTe(e,r,t)};Object.defineProperty(id,"__esModule",{value:!0});id.SettingMonitor=id.LanguageClient=id.TransportKind=void 0;var Mw=eA(require("child_process")),ZJ=eA(require("fs")),eX=eA(require("path")),qTe=eA(require("readline")),MC=require("vscode"),wR=eA(iv()),jTe=EJ(),Nlt=qDe(),Ic=UJ(),Flt=oTe(),qlt=NTe();HTe(UJ(),id);HTe(Z1(),id);var zTe="^1.91.0",kc;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(kc||(id.TransportKind=kc={}));var AC;(function(r){function e(t){let n=t;return n&&n.kind===kc.socket&&wR.number(n.port)}r.isSocket=e})(AC||(AC={}));var tX;(function(r){function e(t){return wR.string(t.command)}r.is=e})(tX||(tX={}));var rX;(function(r){function e(t){return wR.string(t.module)}r.is=e})(rX||(rX={}));var nX;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(nX||(nX={}));var iX;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})(iX||(iX={}));var oX=class extends jTe.BaseLanguageClient{_serverOptions;_forceDebug;_serverProcess;_isDetached;_isInDebugMode;constructor(e,t,n,i,o){let s,a,c,u,l;wR.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw wR.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=Flt(MC.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${MC.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!qlt(e,zTe))throw new Error(`The language client requires VS Code version ${zTe} but received version ${MC.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}shutdown(e,t=2e3){return super.shutdown(e,t).finally(()=>{if(this._serverProcess){let n=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(n),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,Nlt.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(f,y){if(!f&&!y)return;let b=Object.create(null);return Object.keys(process.env).forEach(T=>b[T]=process.env[T]),y&&(b.ELECTRON_RUN_AS_NODE="1",b.ELECTRON_NO_ASAR="1"),f&&Object.keys(f).forEach(T=>b[T]=f[T]),b}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let f=process.execArgv;return f?f.some(y=>n.some(b=>y.startsWith(b))||i.some(b=>y===b)):!1}function s(f){if(f.stdin===null||f.stdout===null||f.stderr===null)throw new Error("Process created without stdio streams")}function a(f,y){qTe.createInterface({input:f,crlfDelay:1/0,terminal:!1,historySize:0}).on("line",b=>y.info(b))}function c(f,y){qTe.createInterface({input:f,crlfDelay:1/0,terminal:!1,historySize:0}).on("line",b=>y.error(b))}let u=this._serverOptions;if(wR.func(u))return u().then(f=>{if(jTe.MessageTransports.is(f))return this._isDetached=!!f.detached,f;if(nX.is(f))return this._isDetached=!!f.detached,{reader:new Ic.StreamMessageReader(f.reader),writer:new Ic.StreamMessageWriter(f.writer)};{let y;return iX.is(f)?(y=f.process,this._isDetached=f.detached):(y=f,this._isDetached=!1),c(y.stderr,this.outputChannel),{reader:new Ic.StreamMessageReader(y.stdout),writer:new Ic.StreamMessageWriter(y.stdin)}}});let l,d=u;return d.run||d.debug?this._forceDebug||o()?(l=d.debug,this._isInDebugMode=!0):(l=d.run,this._isInDebugMode=!1):l=u,this._getServerWorkingDir(l.options).then(f=>{if(rX.is(l)&&l.module){let y=l,b=y.transport||kc.stdio;if(y.runtime){let T=[],k=y.options??Object.create(null);k.execArgv&&k.execArgv.forEach(ne=>T.push(ne)),T.push(y.module),y.args&&y.args.forEach(ne=>T.push(ne));let z=Object.create(null);z.cwd=f,z.env=t(k.env,!1);let A=this._getRuntimePath(y.runtime,f),U;if(b===kc.ipc?(z.stdio=[null,null,null,"ipc"],T.push("--node-ipc")):b===kc.stdio?T.push("--stdio"):b===kc.pipe?(U=(0,Ic.generateRandomPipeName)(),T.push(`--pipe=${U}`)):AC.isSocket(b)&&T.push(`--socket=${b.port}`),T.push(`--clientProcessId=${process.pid.toString()}`),b===kc.ipc||b===kc.stdio){let ne=Mw.spawn(A,T,z);return!ne||!ne.pid?_R(ne,`Launching server using runtime ${A} failed.`):(this._serverProcess=ne,c(ne.stderr,this.outputChannel),b===kc.ipc?(a(ne.stdout,this.outputChannel),Promise.resolve({reader:new Ic.IPCMessageReader(ne),writer:new Ic.IPCMessageWriter(ne)})):Promise.resolve({reader:new Ic.StreamMessageReader(ne.stdout),writer:new Ic.StreamMessageWriter(ne.stdin)}))}else{if(b===kc.pipe)return(0,Ic.createClientPipeTransport)(U).then(ne=>{let de=Mw.spawn(A,T,z);return!de||!de.pid?_R(de,`Launching server using runtime ${A} failed.`):(this._serverProcess=de,c(de.stderr,this.outputChannel),a(de.stdout,this.outputChannel),ne.onConnected().then(ve=>({reader:ve[0],writer:ve[1]})))});if(AC.isSocket(b))return(0,Ic.createClientSocketTransport)(b.port).then(ne=>{let de=Mw.spawn(A,T,z);return!de||!de.pid?_R(de,`Launching server using runtime ${A} failed.`):(this._serverProcess=de,c(de.stderr,this.outputChannel),a(de.stdout,this.outputChannel),ne.onConnected().then(ve=>({reader:ve[0],writer:ve[1]})))})}}else{let T;return new Promise((k,z)=>{let A=(y.args&&y.args.slice())??[];b===kc.ipc?A.push("--node-ipc"):b===kc.stdio?A.push("--stdio"):b===kc.pipe?(T=(0,Ic.generateRandomPipeName)(),A.push(`--pipe=${T}`)):AC.isSocket(b)&&A.push(`--socket=${b.port}`),A.push(`--clientProcessId=${process.pid.toString()}`);let U=y.options??Object.create(null);if(U.env=t(U.env,!0),U.execArgv=U.execArgv||[],U.cwd=f,U.silent=!0,b===kc.ipc||b===kc.stdio){let ne=Mw.fork(y.module,A||[],U);s(ne),this._serverProcess=ne,c(ne.stderr,this.outputChannel),b===kc.ipc?(a(ne.stdout,this.outputChannel),k({reader:new Ic.IPCMessageReader(this._serverProcess),writer:new Ic.IPCMessageWriter(this._serverProcess)})):k({reader:new Ic.StreamMessageReader(ne.stdout),writer:new Ic.StreamMessageWriter(ne.stdin)})}else b===kc.pipe?(0,Ic.createClientPipeTransport)(T).then(ne=>{let de=Mw.fork(y.module,A||[],U);s(de),this._serverProcess=de,c(de.stderr,this.outputChannel),a(de.stdout,this.outputChannel),ne.onConnected().then(ve=>{k({reader:ve[0],writer:ve[1]})},z)},z):AC.isSocket(b)&&(0,Ic.createClientSocketTransport)(b.port).then(ne=>{let de=Mw.fork(y.module,A||[],U);s(de),this._serverProcess=de,c(de.stderr,this.outputChannel),a(de.stdout,this.outputChannel),ne.onConnected().then(ve=>{k({reader:ve[0],writer:ve[1]})},z)},z)})}}else if(tX.is(l)&&l.command){let y=l,b=l.args!==void 0?l.args.slice(0):[],T,k=l.transport;if(k===kc.stdio)b.push("--stdio");else if(k===kc.pipe)T=(0,Ic.generateRandomPipeName)(),b.push(`--pipe=${T}`);else if(AC.isSocket(k))b.push(`--socket=${k.port}`);else if(k===kc.ipc)throw new Error("Transport kind ipc is not support for command executable");let z=Object.assign({},y.options);if(z.cwd=z.cwd||f,k===void 0||k===kc.stdio){let A=Mw.spawn(y.command,b,z);return!A||!A.pid?_R(A,`Launching server using command ${y.command} failed.`):(c(A.stderr,this.outputChannel),this._serverProcess=A,this._isDetached=!!z.detached,Promise.resolve({reader:new Ic.StreamMessageReader(A.stdout),writer:new Ic.StreamMessageWriter(A.stdin)}))}else{if(k===kc.pipe)return(0,Ic.createClientPipeTransport)(T).then(A=>{let U=Mw.spawn(y.command,b,z);return!U||!U.pid?_R(U,`Launching server using command ${y.command} failed.`):(this._serverProcess=U,this._isDetached=!!z.detached,c(U.stderr,this.outputChannel),a(U.stdout,this.outputChannel),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))});if(AC.isSocket(k))return(0,Ic.createClientSocketTransport)(k.port).then(A=>{let U=Mw.spawn(y.command,b,z);return!U||!U.pid?_R(U,`Launching server using command ${y.command} failed.`):(this._serverProcess=U,this._isDetached=!!z.detached,c(U.stderr,this.outputChannel),a(U.stdout,this.outputChannel),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(u,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(f,y)=>{f===0?this.info("Server process exited successfully",void 0,!1):f!==null&&this.error(`Server process exited with code ${f}.`,void 0,!1),y!==null&&this.error(`Server process exited with signal ${y}.`,void 0,!1)})})}_getRuntimePath(e,t){if(eX.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=eX.join(n,e);if(ZJ.existsSync(i))return i}if(t!==void 0){let i=eX.join(t,e);if(ZJ.existsSync(i))return i}return e}_mainGetRootPath(){let e=MC.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{ZJ.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}};id.LanguageClient=oX;var sX=class{_client;_setting;_listeners;constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return MC.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new MC.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?MC.workspace.getConfiguration(t).get(n,!1):MC.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};id.SettingMonitor=sX;function _R(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var tPe=P((MA,MX)=>{(function(r,e){typeof MA=="object"&&typeof MX=="object"?MX.exports=e(require("child_process"),require("crypto")):typeof define=="function"&&define.amd?define(["child_process","crypto"],e):typeof MA=="object"?MA["electron-machine-id"]=e(require("child_process"),require("crypto")):r["electron-machine-id"]=e(r.child_process,r.crypto)})(MA,function(r,e){return function(t){function n(o){if(i[o])return i[o].exports;var s=i[o]={exports:{},id:o,loaded:!1};return t[o].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var i={};return n.m=t,n.c=i,n.p="",n(0)}([function(t,n,i){t.exports=i(34)},function(t,n,i){var o=i(29)("wks"),s=i(33),a=i(2).Symbol,c=typeof a=="function",u=t.exports=function(l){return o[l]||(o[l]=c&&a[l]||(c?a:s)("Symbol."+l))};u.store=o},function(t,n){var i=t.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=i)},function(t,n,i){var o=i(9);t.exports=function(s){if(!o(s))throw TypeError(s+" is not an object!");return s}},function(t,n,i){t.exports=!i(24)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(t,n,i){var o=i(12),s=i(17);t.exports=i(4)?function(a,c,u){return o.f(a,c,s(1,u))}:function(a,c,u){return a[c]=u,a}},function(t,n){var i=t.exports={version:"2.4.0"};typeof __e=="number"&&(__e=i)},function(t,n,i){var o=i(14);t.exports=function(s,a,c){if(o(s),a===void 0)return s;switch(c){case 1:return function(u){return s.call(a,u)};case 2:return function(u,l){return s.call(a,u,l)};case 3:return function(u,l,d){return s.call(a,u,l,d)}}return function(){return s.apply(a,arguments)}}},function(t,n){var i={}.hasOwnProperty;t.exports=function(o,s){return i.call(o,s)}},function(t,n){t.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},function(t,n){t.exports={}},function(t,n){var i={}.toString;t.exports=function(o){return i.call(o).slice(8,-1)}},function(t,n,i){var o=i(3),s=i(26),a=i(32),c=Object.defineProperty;n.f=i(4)?Object.defineProperty:function(u,l,d){if(o(u),l=a(l,!0),o(d),s)try{return c(u,l,d)}catch{}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");return"value"in d&&(u[l]=d.value),u}},function(t,n,i){var o=i(42),s=i(15);t.exports=function(a){return o(s(a))}},function(t,n){t.exports=function(i){if(typeof i!="function")throw TypeError(i+" is not a function!");return i}},function(t,n){t.exports=function(i){if(i==null)throw TypeError("Can't call method on  "+i);return i}},function(t,n,i){var o=i(9),s=i(2).document,a=o(s)&&o(s.createElement);t.exports=function(c){return a?s.createElement(c):{}}},function(t,n){t.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},function(t,n,i){var o=i(12).f,s=i(8),a=i(1)("toStringTag");t.exports=function(c,u,l){c&&!s(c=l?c:c.prototype,a)&&o(c,a,{configurable:!0,value:u})}},function(t,n,i){var o=i(29)("keys"),s=i(33);t.exports=function(a){return o[a]||(o[a]=s(a))}},function(t,n){var i=Math.ceil,o=Math.floor;t.exports=function(s){return isNaN(s=+s)?0:(s>0?o:i)(s)}},function(t,n,i){var o=i(11),s=i(1)("toStringTag"),a=o(function(){return arguments}())=="Arguments",c=function(u,l){try{return u[l]}catch{}};t.exports=function(u){var l,d,f;return u===void 0?"Undefined":u===null?"Null":typeof(d=c(l=Object(u),s))=="string"?d:a?o(l):(f=o(l))=="Object"&&typeof l.callee=="function"?"Arguments":f}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n,i){var o=i(2),s=i(6),a=i(7),c=i(5),u="prototype",l=function(d,f,y){var b,T,k,z=d&l.F,A=d&l.G,U=d&l.S,ne=d&l.P,de=d&l.B,ve=d&l.W,$=A?s:s[f]||(s[f]={}),W=$[u],ee=A?o:U?o[f]:(o[f]||{})[u];A&&(y=f);for(b in y)T=!z&&ee&&ee[b]!==void 0,T&&b in $||(k=T?ee[b]:y[b],$[b]=A&&typeof ee[b]!="function"?y[b]:de&&T?a(k,o):ve&&ee[b]==k?function(Pe){var se=function(ue,Fe,Le){if(this instanceof Pe){switch(arguments.length){case 0:return new Pe;case 1:return new Pe(ue);case 2:return new Pe(ue,Fe)}return new Pe(ue,Fe,Le)}return Pe.apply(this,arguments)};return se[u]=Pe[u],se}(k):ne&&typeof k=="function"?a(Function.call,k):k,ne&&(($.virtual||($.virtual={}))[b]=k,d&l.R&&W&&!W[b]&&c(W,b,k)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,n){t.exports=function(i){try{return!!i()}catch{return!0}}},function(t,n,i){t.exports=i(2).document&&document.documentElement},function(t,n,i){t.exports=!i(4)&&!i(24)(function(){return Object.defineProperty(i(16)("div"),"a",{get:function(){return 7}}).a!=7})},function(t,n,i){"use strict";var o=i(28),s=i(23),a=i(57),c=i(5),u=i(8),l=i(10),d=i(45),f=i(18),y=i(52),b=i(1)("iterator"),T=!([].keys&&"next"in[].keys()),k="@@iterator",z="keys",A="values",U=function(){return this};t.exports=function(ne,de,ve,$,W,ee,Pe){d(ve,de,$);var se,ue,Fe,Le=function(st){if(!T&&st in Ee)return Ee[st];switch(st){case z:return function(){return new ve(this,st)};case A:return function(){return new ve(this,st)}}return function(){return new ve(this,st)}},ce=de+" Iterator",Ce=W==A,we=!1,Ee=ne.prototype,Ne=Ee[b]||Ee[k]||W&&Ee[W],$e=Ne||Le(W),Ct=W?Ce?Le("entries"):$e:void 0,ze=de=="Array"&&Ee.entries||Ne;if(ze&&(Fe=y(ze.call(new ne)),Fe!==Object.prototype&&(f(Fe,ce,!0),o||u(Fe,b)||c(Fe,b,U))),Ce&&Ne&&Ne.name!==A&&(we=!0,$e=function(){return Ne.call(this)}),o&&!Pe||!T&&!we&&Ee[b]||c(Ee,b,$e),l[de]=$e,l[ce]=U,W)if(se={values:Ce?$e:Le(A),keys:ee?$e:Le(z),entries:Ct},Pe)for(ue in se)ue in Ee||a(Ee,ue,se[ue]);else s(s.P+s.F*(T||we),de,se);return se}},function(t,n){t.exports=!0},function(t,n,i){var o=i(2),s="__core-js_shared__",a=o[s]||(o[s]={});t.exports=function(c){return a[c]||(a[c]={})}},function(t,n,i){var o,s,a,c=i(7),u=i(41),l=i(25),d=i(16),f=i(2),y=f.process,b=f.setImmediate,T=f.clearImmediate,k=f.MessageChannel,z=0,A={},U="onreadystatechange",ne=function(){var ve=+this;if(A.hasOwnProperty(ve)){var $=A[ve];delete A[ve],$()}},de=function(ve){ne.call(ve.data)};b&&T||(b=function(ve){for(var $=[],W=1;arguments.length>W;)$.push(arguments[W++]);return A[++z]=function(){u(typeof ve=="function"?ve:Function(ve),$)},o(z),z},T=function(ve){delete A[ve]},i(11)(y)=="process"?o=function(ve){y.nextTick(c(ne,ve,1))}:k?(s=new k,a=s.port2,s.port1.onmessage=de,o=c(a.postMessage,a,1)):f.addEventListener&&typeof postMessage=="function"&&!f.importScripts?(o=function(ve){f.postMessage(ve+"","*")},f.addEventListener("message",de,!1)):o=U in d("script")?function(ve){l.appendChild(d("script"))[U]=function(){l.removeChild(this),ne.call(ve)}}:function(ve){setTimeout(c(ne,ve,1),0)}),t.exports={set:b,clear:T}},function(t,n,i){var o=i(20),s=Math.min;t.exports=function(a){return a>0?s(o(a),9007199254740991):0}},function(t,n,i){var o=i(9);t.exports=function(s,a){if(!o(s))return s;var c,u;if(a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s))||typeof(c=s.valueOf)=="function"&&!o(u=c.call(s))||!a&&typeof(c=s.toString)=="function"&&!o(u=c.call(s)))return u;throw TypeError("Can't convert object to primitive value")}},function(t,n){var i=0,o=Math.random();t.exports=function(s){return"Symbol(".concat(s===void 0?"":s,")_",(++i+o).toString(36))}},function(t,n,i){"use strict";function o(U){return U&&U.__esModule?U:{default:U}}function s(){return process.platform!=="win32"?"":process.arch==="ia32"&&process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?"mixed":"native"}function a(U){return(0,b.createHash)("sha256").update(U).digest("hex")}function c(U){switch(k){case"darwin":return U.split("IOPlatformUUID")[1].split(`
`)[0].replace(/\=|\s+|\"/gi,"").toLowerCase();case"win32":return U.toString().split("REG_SZ")[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"linux":return U.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();case"freebsd":return U.toString().replace(/\r+|\n+|\s+/gi,"").toLowerCase();default:throw new Error("Unsupported platform: "+process.platform)}}function u(U){var ne=c((0,y.execSync)(A[k]).toString());return U?ne:a(ne)}function l(U){return new f.default(function(ne,de){return(0,y.exec)(A[k],{},function(ve,$,W){if(ve)return de(new Error("Error while obtaining machine id: "+ve.stack));var ee=c($.toString());return ne(U?ee:a(ee))})})}Object.defineProperty(n,"__esModule",{value:!0});var d=i(35),f=o(d);n.machineIdSync=u,n.machineId=l;var y=i(70),b=i(71),T=process,k=T.platform,z={native:"%windir%\\System32",mixed:"%windir%\\sysnative\\cmd.exe /c %windir%\\System32"},A={darwin:"ioreg -rd1 -c IOPlatformExpertDevice",win32:z[s()]+"\\REG.exe QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",linux:"( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :",freebsd:"kenv -q smbios.system.uuid || sysctl -n kern.hostuuid"}},function(t,n,i){t.exports={default:i(36),__esModule:!0}},function(t,n,i){i(66),i(68),i(69),i(67),t.exports=i(6).Promise},function(t,n){t.exports=function(){}},function(t,n){t.exports=function(i,o,s,a){if(!(i instanceof o)||a!==void 0&&a in i)throw TypeError(s+": incorrect invocation!");return i}},function(t,n,i){var o=i(13),s=i(31),a=i(62);t.exports=function(c){return function(u,l,d){var f,y=o(u),b=s(y.length),T=a(d,b);if(c&&l!=l){for(;b>T;)if(f=y[T++],f!=f)return!0}else for(;b>T;T++)if((c||T in y)&&y[T]===l)return c||T||0;return!c&&-1}}},function(t,y,i){var o=i(7),s=i(44),a=i(43),c=i(3),u=i(31),l=i(64),d={},f={},y=t.exports=function(b,T,k,z,A){var U,ne,de,ve,$=A?function(){return b}:l(b),W=o(k,z,T?2:1),ee=0;if(typeof $!="function")throw TypeError(b+" is not iterable!");if(a($)){for(U=u(b.length);U>ee;ee++)if(ve=T?W(c(ne=b[ee])[0],ne[1]):W(b[ee]),ve===d||ve===f)return ve}else for(de=$.call(b);!(ne=de.next()).done;)if(ve=s(de,W,ne.value,T),ve===d||ve===f)return ve};y.BREAK=d,y.RETURN=f},function(t,n){t.exports=function(i,o,s){var a=s===void 0;switch(o.length){case 0:return a?i():i.call(s);case 1:return a?i(o[0]):i.call(s,o[0]);case 2:return a?i(o[0],o[1]):i.call(s,o[0],o[1]);case 3:return a?i(o[0],o[1],o[2]):i.call(s,o[0],o[1],o[2]);case 4:return a?i(o[0],o[1],o[2],o[3]):i.call(s,o[0],o[1],o[2],o[3])}return i.apply(s,o)}},function(t,n,i){var o=i(11);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(s){return o(s)=="String"?s.split(""):Object(s)}},function(t,n,i){var o=i(10),s=i(1)("iterator"),a=Array.prototype;t.exports=function(c){return c!==void 0&&(o.Array===c||a[s]===c)}},function(t,n,i){var o=i(3);t.exports=function(s,a,c,u){try{return u?a(o(c)[0],c[1]):a(c)}catch(d){var l=s.return;throw l!==void 0&&o(l.call(s)),d}}},function(t,n,i){"use strict";var o=i(49),s=i(17),a=i(18),c={};i(5)(c,i(1)("iterator"),function(){return this}),t.exports=function(u,l,d){u.prototype=o(c,{next:s(1,d)}),a(u,l+" Iterator")}},function(t,n,i){var o=i(1)("iterator"),s=!1;try{var a=[7][o]();a.return=function(){s=!0},Array.from(a,function(){throw 2})}catch{}t.exports=function(c,u){if(!u&&!s)return!1;var l=!1;try{var d=[7],f=d[o]();f.next=function(){return{done:l=!0}},d[o]=function(){return f},c(d)}catch{}return l}},function(t,n){t.exports=function(i,o){return{value:o,done:!!i}}},function(t,n,i){var o=i(2),s=i(30).set,a=o.MutationObserver||o.WebKitMutationObserver,c=o.process,u=o.Promise,l=i(11)(c)=="process";t.exports=function(){var d,f,y,b=function(){var A,U;for(l&&(A=c.domain)&&A.exit();d;){U=d.fn,d=d.next;try{U()}catch(ne){throw d?y():f=void 0,ne}}f=void 0,A&&A.enter()};if(l)y=function(){c.nextTick(b)};else if(a){var T=!0,k=document.createTextNode("");new a(b).observe(k,{characterData:!0}),y=function(){k.data=T=!T}}else if(u&&u.resolve){var z=u.resolve();y=function(){z.then(b)}}else y=function(){s.call(o,b)};return function(A){var U={fn:A,next:void 0};f&&(f.next=U),d||(d=U,y()),f=U}}},function(t,n,i){var o=i(3),s=i(50),a=i(22),c=i(19)("IE_PROTO"),u=function(){},l="prototype",d=function(){var f,y=i(16)("iframe"),b=a.length,T=">";for(y.style.display="none",i(25).appendChild(y),y.src="javascript:",f=y.contentWindow.document,f.open(),f.write("<script>document.F=Object</script"+T),f.close(),d=f.F;b--;)delete d[l][a[b]];return d()};t.exports=Object.create||function(f,y){var b;return f!==null?(u[l]=o(f),b=new u,u[l]=null,b[c]=f):b=d(),y===void 0?b:s(b,y)}},function(t,n,i){var o=i(12),s=i(3),a=i(54);t.exports=i(4)?Object.defineProperties:function(c,u){s(c);for(var l,d=a(u),f=d.length,y=0;f>y;)o.f(c,l=d[y++],u[l]);return c}},function(t,n,i){var o=i(55),s=i(17),a=i(13),c=i(32),u=i(8),l=i(26),d=Object.getOwnPropertyDescriptor;n.f=i(4)?d:function(f,y){if(f=a(f),y=c(y,!0),l)try{return d(f,y)}catch{}if(u(f,y))return s(!o.f.call(f,y),f[y])}},function(t,n,i){var o=i(8),s=i(63),a=i(19)("IE_PROTO"),c=Object.prototype;t.exports=Object.getPrototypeOf||function(u){return u=s(u),o(u,a)?u[a]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?c:null}},function(t,n,i){var o=i(8),s=i(13),a=i(39)(!1),c=i(19)("IE_PROTO");t.exports=function(u,l){var d,f=s(u),y=0,b=[];for(d in f)d!=c&&o(f,d)&&b.push(d);for(;l.length>y;)o(f,d=l[y++])&&(~a(b,d)||b.push(d));return b}},function(t,n,i){var o=i(53),s=i(22);t.exports=Object.keys||function(a){return o(a,s)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,i){var o=i(5);t.exports=function(s,a,c){for(var u in a)c&&s[u]?s[u]=a[u]:o(s,u,a[u]);return s}},function(t,n,i){t.exports=i(5)},function(t,n,i){var o=i(9),s=i(3),a=function(c,u){if(s(c),!o(u)&&u!==null)throw TypeError(u+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(c,u,l){try{l=i(7)(Function.call,i(51).f(Object.prototype,"__proto__").set,2),l(c,[]),u=!(c instanceof Array)}catch{u=!0}return function(d,f){return a(d,f),u?d.__proto__=f:l(d,f),d}}({},!1):void 0),check:a}},function(t,n,i){"use strict";var o=i(2),s=i(6),a=i(12),c=i(4),u=i(1)("species");t.exports=function(l){var d=typeof s[l]=="function"?s[l]:o[l];c&&d&&!d[u]&&a.f(d,u,{configurable:!0,get:function(){return this}})}},function(t,n,i){var o=i(3),s=i(14),a=i(1)("species");t.exports=function(c,u){var l,d=o(c).constructor;return d===void 0||(l=o(d)[a])==null?u:s(l)}},function(t,n,i){var o=i(20),s=i(15);t.exports=function(a){return function(c,u){var l,d,f=String(s(c)),y=o(u),b=f.length;return y<0||y>=b?a?"":void 0:(l=f.charCodeAt(y),l<55296||l>56319||y+1===b||(d=f.charCodeAt(y+1))<56320||d>57343?a?f.charAt(y):l:a?f.slice(y,y+2):(l-55296<<10)+(d-56320)+65536)}}},function(t,n,i){var o=i(20),s=Math.max,a=Math.min;t.exports=function(c,u){return c=o(c),c<0?s(c+u,0):a(c,u)}},function(t,n,i){var o=i(15);t.exports=function(s){return Object(o(s))}},function(t,n,i){var o=i(21),s=i(1)("iterator"),a=i(10);t.exports=i(6).getIteratorMethod=function(c){if(c!=null)return c[s]||c["@@iterator"]||a[o(c)]}},function(t,n,i){"use strict";var o=i(37),s=i(47),a=i(10),c=i(13);t.exports=i(27)(Array,"Array",function(u,l){this._t=c(u),this._i=0,this._k=l},function(){var u=this._t,l=this._k,d=this._i++;return!u||d>=u.length?(this._t=void 0,s(1)):l=="keys"?s(0,d):l=="values"?s(0,u[d]):s(0,[d,u[d]])},"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(t,n){},function(t,n,i){"use strict";var o,s,a,c=i(28),u=i(2),l=i(7),d=i(21),f=i(23),y=i(9),b=(i(3),i(14)),T=i(38),k=i(40),z=(i(58).set,i(60)),A=i(30).set,U=i(48)(),ne="Promise",de=u.TypeError,$=u.process,ve=u[ne],$=u.process,W=d($)=="process",ee=function(){},Pe=!!function(){try{var ze=ve.resolve(1),st=(ze.constructor={})[i(1)("species")]=function(at){at(ee,ee)};return(W||typeof PromiseRejectionEvent=="function")&&ze.then(ee)instanceof st}catch{}}(),se=function(ze,st){return ze===st||ze===ve&&st===a},ue=function(ze){var st;return!(!y(ze)||typeof(st=ze.then)!="function")&&st},Fe=function(ze){return se(ve,ze)?new Le(ze):new s(ze)},Le=s=function(ze){var st,at;this.promise=new ze(function(tt,pr){if(st!==void 0||at!==void 0)throw de("Bad Promise constructor");st=tt,at=pr}),this.resolve=b(st),this.reject=b(at)},ce=function(ze){try{ze()}catch(st){return{error:st}}},Ce=function(ze,st){if(!ze._n){ze._n=!0;var at=ze._c;U(function(){for(var tt=ze._v,pr=ze._s==1,Ar=0,jr=function(lr){var Et,hr,Lt=pr?lr.ok:lr.fail,on=lr.resolve,un=lr.reject,En=lr.domain;try{Lt?(pr||(ze._h==2&&Ne(ze),ze._h=1),Lt===!0?Et=tt:(En&&En.enter(),Et=Lt(tt),En&&En.exit()),Et===lr.promise?un(de("Promise-chain cycle")):(hr=ue(Et))?hr.call(Et,on,un):on(Et)):un(tt)}catch(Er){un(Er)}};at.length>Ar;)jr(at[Ar++]);ze._c=[],ze._n=!1,st&&!ze._h&&we(ze)})}},we=function(ze){A.call(u,function(){var st,at,tt,pr=ze._v;if(Ee(ze)&&(st=ce(function(){W?$.emit("unhandledRejection",pr,ze):(at=u.onunhandledrejection)?at({promise:ze,reason:pr}):(tt=u.console)&&tt.error&&tt.error("Unhandled promise rejection",pr)}),ze._h=W||Ee(ze)?2:1),ze._a=void 0,st)throw st.error})},Ee=function(ze){if(ze._h==1)return!1;for(var st,at=ze._a||ze._c,tt=0;at.length>tt;)if(st=at[tt++],st.fail||!Ee(st.promise))return!1;return!0},Ne=function(ze){A.call(u,function(){var st;W?$.emit("rejectionHandled",ze):(st=u.onrejectionhandled)&&st({promise:ze,reason:ze._v})})},$e=function(ze){var st=this;st._d||(st._d=!0,st=st._w||st,st._v=ze,st._s=2,st._a||(st._a=st._c.slice()),Ce(st,!0))},Ct=function(ze){var st,at=this;if(!at._d){at._d=!0,at=at._w||at;try{if(at===ze)throw de("Promise can't be resolved itself");(st=ue(ze))?U(function(){var tt={_w:at,_d:!1};try{st.call(ze,l(Ct,tt,1),l($e,tt,1))}catch(pr){$e.call(tt,pr)}}):(at._v=ze,at._s=1,Ce(at,!1))}catch(tt){$e.call({_w:at,_d:!1},tt)}}};Pe||(ve=function(ze){T(this,ve,ne,"_h"),b(ze),o.call(this);try{ze(l(Ct,this,1),l($e,this,1))}catch(st){$e.call(this,st)}},o=function(ze){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},o.prototype=i(56)(ve.prototype,{then:function(ze,st){var at=Fe(z(this,ve));return at.ok=typeof ze!="function"||ze,at.fail=typeof st=="function"&&st,at.domain=W?$.domain:void 0,this._c.push(at),this._a&&this._a.push(at),this._s&&Ce(this,!1),at.promise},catch:function(ze){return this.then(void 0,ze)}}),Le=function(){var ze=new o;this.promise=ze,this.resolve=l(Ct,ze,1),this.reject=l($e,ze,1)}),f(f.G+f.W+f.F*!Pe,{Promise:ve}),i(18)(ve,ne),i(59)(ne),a=i(6)[ne],f(f.S+f.F*!Pe,ne,{reject:function(ze){var st=Fe(this),at=st.reject;return at(ze),st.promise}}),f(f.S+f.F*(c||!Pe),ne,{resolve:function(ze){if(ze instanceof ve&&se(ze.constructor,this))return ze;var st=Fe(this),at=st.resolve;return at(ze),st.promise}}),f(f.S+f.F*!(Pe&&i(46)(function(ze){ve.all(ze).catch(ee)})),ne,{all:function(ze){var st=this,at=Fe(st),tt=at.resolve,pr=at.reject,Ar=ce(function(){var jr=[],lr=0,Et=1;k(ze,!1,function(hr){var Lt=lr++,on=!1;jr.push(void 0),Et++,st.resolve(hr).then(function(un){on||(on=!0,jr[Lt]=un,--Et||tt(jr))},pr)}),--Et||tt(jr)});return Ar&&pr(Ar.error),at.promise},race:function(ze){var st=this,at=Fe(st),tt=at.reject,pr=ce(function(){k(ze,!1,function(Ar){st.resolve(Ar).then(at.resolve,tt)})});return pr&&tt(pr.error),at.promise}})},function(t,n,i){"use strict";var o=i(61)(!0);i(27)(String,"String",function(s){this._t=String(s),this._i=0},function(){var s,a=this._t,c=this._i;return c>=a.length?{value:void 0,done:!0}:(s=o(a,c),this._i+=s.length,{value:s,done:!1})})},function(t,n,i){i(65);for(var o=i(2),s=i(5),a=i(10),c=i(1)("toStringTag"),u=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],l=0;l<5;l++){var d=u[l],f=o[d],y=f&&f.prototype;y&&!y[c]&&s(y,c,d),a[d]=a.Array}},function(t,n){t.exports=require("child_process")},function(t,n){t.exports=require("crypto")}])})});var LX=P(NR=>{"use strict";Object.defineProperty(NR,"__esModule",{value:!0});NR.JS_DEBUG_NAME=NR.SERVER_APP_NAME=void 0;NR.SERVER_APP_NAME=".NET Application Server";NR.JS_DEBUG_NAME="Debug Blazor Web Assembly in Browser"});var FX=P((J$t,uPe)=>{"use strict";var Ydt=require("util"),sPe=require("path"),aPe=require("child_process"),NX=1e3*1e3*10,cPe=Ydt.promisify(aPe.execFile),Jdt=async()=>{let r;switch(process.arch){case"x64":r="fastlist-0.3.0-x64.exe";break;case"ia32":r="fastlist-0.3.0-x86.exe";break;default:throw new Error(`Unsupported architecture: ${process.arch}`)}let e=sPe.join(__dirname,"vendor",r),{stdout:t}=await cPe(e,{maxBuffer:NX,windowsHide:!0});return t.trim().split(`\r
`).map(n=>n.split("	")).map(([n,i,o])=>({pid:Number.parseInt(n,10),ppid:Number.parseInt(i,10),name:o}))},Xdt=async(r={})=>{let e=(r.all===!1?"":"a")+"wwxo",t={};return await Promise.all(["comm","args","ppid","uid","%cpu","%mem"].map(async n=>{let{stdout:i}=await cPe("ps",[e,`pid,${n}`],{maxBuffer:NX});for(let o of i.trim().split(`
`).slice(1)){o=o.trim();let[s]=o.split(" ",1),a=o.slice(s.length+1).trim();t[s]===void 0&&(t[s]={}),t[s][n]=a}})),Object.entries(t).filter(([,n])=>n.comm&&n.args&&n.ppid&&n.uid&&n["%cpu"]&&n["%mem"]).map(([n,i])=>({pid:Number.parseInt(n,10),name:sPe.basename(i.comm),cmd:i.args,ppid:Number.parseInt(i.ppid,10),uid:Number.parseInt(i.uid,10),cpu:Number.parseFloat(i["%cpu"]),memory:Number.parseFloat(i["%mem"])}))},oPe="ps output parsing failed",Qdt="pid,ppid,uid,%cpu,%mem,comm,args",Zdt=/^[ \t]*(?<pid>\d+)[ \t]+(?<ppid>\d+)[ \t]+(?<uid>\d+)[ \t]+(?<cpu>\d+\.\d+)[ \t]+(?<memory>\d+\.\d+)[ \t]+/,eft=async(r={})=>{let e=r.all===!1?"wwxo":"awwxo",[t,n]=await new Promise((l,d)=>{let f=aPe.execFile("ps",[e,Qdt],{maxBuffer:NX},(y,b)=>{y===null?l([f.pid,b]):d(y)})}),i=n.trim().split(`
`);i.shift();let o,s,a,c=i.map((l,d)=>{let f=Zdt.exec(l);if(f===null)throw new Error(oPe);let{pid:y,ppid:b,uid:T,cpu:k,memory:z}=f.groups,A={pid:Number.parseInt(y,10),ppid:Number.parseInt(b,10),uid:Number.parseInt(T,10),cpu:Number.parseFloat(k),memory:Number.parseFloat(z),name:void 0,cmd:void 0};return A.pid===t&&(o=d,s=l.indexOf("ps",f[0].length),a=l.indexOf("ps",s+2)),A});if(o===void 0||s===-1||a===-1)throw new Error(oPe);let u=a-s;for(let[l,d]of i.entries())c[l].name=d.slice(s,s+u).trim(),c[l].cmd=d.slice(a).trim();return c.splice(o,1),c},tft=async(r={})=>{try{return await eft(r)}catch{return Xdt(r)}};uPe.exports=process.platform==="win32"?Jdt:tft});var pPe=P(t_=>{"use strict";var dPe=t_&&t_.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(t_,"__esModule",{value:!0});t_.onDidTerminateDebugSession=t_.isValidEvent=void 0;var rft=FX(),lPe=LX(),nft=r=>r===lPe.JS_DEBUG_NAME||r===lPe.SERVER_APP_NAME;t_.isValidEvent=nft;var fPe=(r,e)=>{if(r)try{e.logVerbose(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};function ift(r,e,t){return dPe(this,void 0,void 0,function*(){t&&(typeof t=="number"?oft(r,e,t):yield sft(r,e,t))})}t_.onDidTerminateDebugSession=ift;function oft(r,e,t){(0,t_.isValidEvent)(r.name)&&fPe(t,e)}function sft(r,e,t){return dPe(this,void 0,void 0,function*(){if(!(0,t_.isValidEvent)(r.name))return;let n=[];try{n=yield rft()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&fPe(i.pid,e)})}});var mPe=P(FR=>{"use strict";var LA=FR&&FR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(FR,"__esModule",{value:!0});FR.BlazorDebugConfigurationProvider=void 0;var aft=require("fs"),cft=require("path"),hPe=require("url"),qX=LX(),uft=pPe(),jX=class{constructor(e,t){this.logger=e,this.vscodeType=t}resolveDebugConfiguration(e,t){var n;return LA(this,void 0,void 0,function*(){t.request==="launch"&&(yield this.launchApp(e,t));let i="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",o="https://localhost:5001";try{if(e!==void 0){let s=t.cwd?t.cwd:(0,hPe.fileURLToPath)(e.uri.toString());s=s.replace("${workspaceFolder}",(0,hPe.fileURLToPath)(e.uri.toString()));let a=JSON.parse((0,aft.readFileSync)((0,cft.join)(s,"Properties","launchSettings.json"),"utf8"));a?.profiles&&(!((n=a?.profiles[Object.keys(a.profiles)[0]])===null||n===void 0)&&n.inspectUri)&&(i=a.profiles[Object.keys(a.profiles)[0]].inspectUri,o=a.profiles[Object.keys(a.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(s){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",s)}yield this.launchBrowser(e,t,i,o)})}launchApp(e,t){return LA(this,void 0,void 0,function*(){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s=Object.assign({name:qX.SERVER_APP_NAME,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:Object.assign({ASPNETCORE_ENVIRONMENT:"Development"},t.env),launchBrowser:{enabled:!1}},t.dotNetConfig);try{if(yield this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(c=>LA(this,void 0,void 0,function*(){let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;yield(0,uft.onDidTerminateDebugSession)(c,this.logger,f),a.dispose()}))}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}})}launchBrowser(e,t,n,i){return LA(this,void 0,void 0,function*(){let o=Object.assign(Object.assign({name:qX.JS_DEBUG_NAME,type:t.browser==="edge"?"pwa-msedge":"pwa-chrome",request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1},t.browserConfig),{cascadeTerminateToConfigurations:[qX.SERVER_APP_NAME]});try{yield this.vscodeType.debug.startDebugging(e,o)}catch(s){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",s),this.vscodeType.window.showErrorMessage("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info.","View Debug Docs","Ignore").then(c=>LA(this,void 0,void 0,function*(){c==="View Debug Docs"&&(yield this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug"))}))}})}};FR.BlazorDebugConfigurationProvider=jX});var gPe=P(qR=>{"use strict";Object.defineProperty(qR,"__esModule",{value:!0});qR.convertPositionFromSerializable=qR.convertPositionToSerializable=void 0;var lft=require("vscode");function dft(r){return{line:r.line,character:r.character}}qR.convertPositionToSerializable=dft;function fft(r){return new lft.Position(r.line,r.character)}qR.convertPositionFromSerializable=fft});var zR=P(jR=>{"use strict";Object.defineProperty(jR,"__esModule",{value:!0});jR.convertRangeFromSerializable=jR.convertRangeToSerializable=void 0;var pft=require("vscode"),Zz=gPe();function hft(r){return{start:(0,Zz.convertPositionToSerializable)(r.start),end:(0,Zz.convertPositionToSerializable)(r.end)}}jR.convertRangeToSerializable=hft;function mft(r){return new pft.Range((0,Zz.convertPositionFromSerializable)(r.start),(0,Zz.convertPositionFromSerializable)(r.end))}jR.convertRangeFromSerializable=mft});var NA=P(UR=>{"use strict";Object.defineProperty(UR,"__esModule",{value:!0});UR.convertTextEditFromSerializable=UR.convertTextEditToSerializable=void 0;var gft=require("vscode"),vPe=zR();function vft(r){return{range:(0,vPe.convertRangeToSerializable)(r.range),newText:r.newText}}UR.convertTextEditToSerializable=vft;function yft(r){return new gft.TextEdit((0,vPe.convertRangeFromSerializable)(r.range),r.newText)}UR.convertTextEditFromSerializable=yft});var bPe=P(eU=>{"use strict";Object.defineProperty(eU,"__esModule",{value:!0});eU.convertWorkspaceEditFromSerializable=void 0;var IT=require("vscode"),yPe=NA();function bft(r){let e=new IT.WorkspaceEdit;if(Array.isArray(r.documentChanges))for(let t of r.documentChanges)if(t.kind==="create")e.createFile(IT.Uri.parse(t.uri),t.options);else if(t.kind==="rename")e.renameFile(IT.Uri.parse(t.oldUri),IT.Uri.parse(t.newUri),t.options);else if(t.kind==="delete")e.deleteFile(IT.Uri.parse(t.uri),t.options);else{let n=t.edits.map(yPe.convertTextEditFromSerializable);e.set(IT.Uri.parse(t.textDocument.uri),n)}if(r.changes!==void 0)for(let t in r.changes){if(!r.changes.hasOwnProperty(t))continue;let n=r.changes[t].map(yPe.convertTextEditFromSerializable);e.set(IT.Uri.parse(t),n)}return e}eU.convertWorkspaceEditFromSerializable=bft});var wPe=P(HR=>{"use strict";var _ft=HR&&HR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(HR,"__esModule",{value:!0});HR.RazorCodeActionRunner=void 0;var zX=require("vscode"),_Pe=bPe(),FA=class r{constructor(e,t){this.serverClient=e,this.logger=t}register(){return zX.commands.registerCommand(r.razorCodeActionRunnerCommand,e=>this.runCodeAction(e),this)}runCodeAction(e){return _ft(this,void 0,void 0,function*(){let t=yield this.serverClient.sendRequest(r.codeActionResolveEndpoint,{data:e,title:e.action}),n,i;try{n=(0,_Pe.convertWorkspaceEditFromSerializable)({changes:t.edit.changes}),i=(0,_Pe.convertWorkspaceEditFromSerializable)({documentChanges:t.edit.documentChanges})}catch(o){return this.logger.logError(`Unexpected error deserializing code action for ${e.action}`,o),Promise.resolve(!1)}return zX.workspace.applyEdit(i).then(()=>zX.workspace.applyEdit(n))})}};HR.RazorCodeActionRunner=FA;FA.codeActionResolveEndpoint="textDocument/codeActionResolve";FA.razorCodeActionRunnerCommand="razor/runCodeAction"});var qw=P(qA=>{"use strict";Object.defineProperty(qA,"__esModule",{value:!0});qA.RazorDocumentChangeKind=void 0;var wft;(function(r){r[r.added=0]="added",r[r.removed=1]="removed",r[r.opened=2]="opened",r[r.closed=3]="closed",r[r.csharpChanged=4]="csharpChanged",r[r.htmlChanged=5]="htmlChanged"})(wft=qA.RazorDocumentChangeKind||(qA.RazorDocumentChangeKind={}))});var uv=P(jA=>{"use strict";Object.defineProperty(jA,"__esModule",{value:!0});jA.LanguageKind=void 0;var Sft;(function(r){r[r.CSharp=1]="CSharp",r[r.Html=2]="Html",r[r.Razor=3]="Razor"})(Sft=jA.LanguageKind||(jA.LanguageKind={}))});var eg=P(tU=>{"use strict";Object.defineProperty(tU,"__esModule",{value:!0});tU.getUriPath=void 0;function Cft(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}tU.getUriPath=Cft});var _y=P(WR=>{"use strict";var Dft=WR&&WR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(WR,"__esModule",{value:!0});WR.RazorLanguageFeatureBase=void 0;var UX=uv(),Tft=eg(),HX=class{constructor(e,t,n,i){this.documentSynchronizer=e,this.documentManager=t,this.serviceClient=n,this.logger=i}getProjection(e,t,n){return Dft(this,void 0,void 0,function*(){let i=yield this.serviceClient.languageQuery(t,e.uri);switch(i.kind){case UX.LanguageKind.CSharp:case UX.LanguageKind.Html:let o=yield this.documentManager.getDocument(e.uri),s=i.kind===UX.LanguageKind.CSharp?o.csharpDocument:o.htmlDocument;if(i.hostDocumentVersion===void 0)this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find a document version associated with the document '${(0,Tft.getUriPath)(e.uri)}'.`);else if(!(yield this.documentSynchronizer.trySynchronizeProjectedDocument(e,s,i.hostDocumentVersion,n)))return null;return{uri:s.uri,position:i.position,languageKind:i.kind};default:return null}})}};WR.RazorLanguageFeatureBase=HX});var SPe=P(rU=>{"use strict";Object.defineProperty(rU,"__esModule",{value:!0});rU.RazorCodeLens=void 0;var Pft=require("vscode"),WX=class extends Pft.CodeLens{constructor(e,t,n,i){super(e,i),this.uri=t,this.document=n}};rU.RazorCodeLens=WX});var TPe=P(BR=>{"use strict";var nU=BR&&BR.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(BR,"__esModule",{value:!0});BR.RazorCodeLensProvider=void 0;var iU=require("vscode"),Rft=qw(),xft=_y(),CPe=uv(),DPe=SPe(),BX=class extends xft.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i);let o=new iU.EventEmitter;this.onDidChangeCodeLenses=o.event,t.onChange(s=>nU(this,void 0,void 0,function*(){if(s.kind!==Rft.RazorDocumentChangeKind.added)return;iU.workspace.textDocuments.filter(c=>!c.isClosed).map(c=>c.uri).includes(s.document.uri)&&(yield new Promise(c=>setTimeout(c,5e3)),o.fire())}))}provideCodeLenses(e,t){return nU(this,void 0,void 0,function*(){try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return;let i=n.csharpDocument,o=yield iU.commands.executeCommand("vscode.executeCodeLensProvider",i.uri);if(!o)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(CPe.LanguageKind.CSharp,[a.range],n.uri);if(c&&c.ranges.length>0){let u=new DPe.RazorCodeLens(c.ranges[0],n.uri,e,a.command);s.push(u)}}return s}catch(n){return this.logger.logWarning(`provideCodeLens failed with ${n}`),[]}})}resolveCodeLens(e,t){return nU(this,void 0,void 0,function*(){if(e instanceof DPe.RazorCodeLens)return this.resolveRazorCodeLens(e,t)})}resolveRazorCodeLens(e,t){return nU(this,void 0,void 0,function*(){e.command={title:"",command:"",arguments:[]};try{let n=yield this.documentManager.getDocument(e.uri);if(!n)return e;let i=yield this.getProjection(e.document,e.range.start,t);if(!i||i.languageKind!==CPe.LanguageKind.CSharp)return e;let o=yield iU.commands.executeCommand("vscode.executeReferenceProvider",i.uri,i.position),s=o.length;return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[n.uri,e.range.start,o]},e}catch(n){return this.logger.logWarning(`resolveCodeLens failed with ${n}`),e}})}};BR.RazorCodeLensProvider=BX});var lv=P(Qc=>{"use strict";Object.defineProperty(Qc,"__esModule",{value:!0});Qc.asPromise=Qc.thenable=Qc.typedArray=Qc.stringArray=Qc.array=Qc.func=Qc.error=Qc.number=Qc.string=Qc.boolean=void 0;function Eft(r){return r===!0||r===!1}Qc.boolean=Eft;function PPe(r){return typeof r=="string"||r instanceof String}Qc.string=PPe;function Oft(r){return typeof r=="number"||r instanceof Number}Qc.number=Oft;function Ift(r){return r instanceof Error}Qc.error=Ift;function RPe(r){return typeof r=="function"}Qc.func=RPe;function xPe(r){return Array.isArray(r)}Qc.array=xPe;function kft(r){return xPe(r)&&r.every(e=>PPe(e))}Qc.stringArray=kft;function Aft(r,e){return Array.isArray(r)&&r.every(e)}Qc.typedArray=Aft;function EPe(r){return r&&RPe(r.then)}Qc.thenable=EPe;function Mft(r){return r instanceof Promise?r:EPe(r)?new Promise((e,t)=>{r.then(n=>e(n),n=>t(n))}):Promise.resolve(r)}Qc.asPromise=Mft});var jw=P(GX=>{"use strict";Object.defineProperty(GX,"__esModule",{value:!0});var $X;function VX(){if($X===void 0)throw new Error("No runtime abstraction layer installed");return $X}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");$X=t}r.install=e})(VX||(VX={}));GX.default=VX});var KX=P(zA=>{"use strict";Object.defineProperty(zA,"__esModule",{value:!0});zA.Disposable=void 0;var Lft;(function(r){function e(t){return{dispose:t}}r.create=e})(Lft=zA.Disposable||(zA.Disposable={}))});var OPe=P(oU=>{"use strict";Object.defineProperty(oU,"__esModule",{value:!0});oU.AbstractMessageBuffer=void 0;var Nft=13,Fft=10,qft=`\r
`,YX=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,t=0,n=0,i=0;e:for(;t<this._chunks.length;){let c=this._chunks[t];for(n=0;n<c.length;){switch(c[n]){case Nft:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case Fft:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}i+=c.byteLength,t++}if(e!==4)return;let o=this._read(i+n),s=new Map,a=this.toString(o,"ascii").split(qft);if(a.length<2)return s;for(let c=0;c<a.length-2;c++){let u=a[c],l=u.indexOf(":");if(l===-1)throw new Error("Message header must separate key and value using :");let d=u.substr(0,l),f=u.substr(l+1).trim();s.set(d,f)}return s}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};oU.AbstractMessageBuffer=YX});var APe=P(ZX=>{"use strict";Object.defineProperty(ZX,"__esModule",{value:!0});var jft=jw(),IPe=require("util"),kT=KX(),zft=OPe(),sU=class r extends zft.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new IPe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};sU.emptyBuffer=Buffer.allocUnsafe(0);var JX=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),kT.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),kT.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),kT.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),kT.Disposable.create(()=>this.stream.off("data",e))}},XX=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),kT.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),kT.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),kT.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},kPe=Object.freeze({messageBuffer:Object.freeze({create:r=>new sU(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new IPe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new JX(r),asWritableStream:r=>new XX(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function QX(){return kPe}(function(r){function e(){jft.default.install(kPe)}r.install=e})(QX||(QX={}));ZX.default=QX});var $R=P(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.stringArray=Bf.array=Bf.func=Bf.error=Bf.number=Bf.string=Bf.boolean=void 0;function Uft(r){return r===!0||r===!1}Bf.boolean=Uft;function MPe(r){return typeof r=="string"||r instanceof String}Bf.string=MPe;function Hft(r){return typeof r=="number"||r instanceof Number}Bf.number=Hft;function Wft(r){return r instanceof Error}Bf.error=Wft;function Bft(r){return typeof r=="function"}Bf.func=Bft;function LPe(r){return Array.isArray(r)}Bf.array=LPe;function $ft(r){return LPe(r)&&r.every(e=>MPe(e))}Bf.stringArray=$ft});var CQ=P(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.Message=Pn.NotificationType9=Pn.NotificationType8=Pn.NotificationType7=Pn.NotificationType6=Pn.NotificationType5=Pn.NotificationType4=Pn.NotificationType3=Pn.NotificationType2=Pn.NotificationType1=Pn.NotificationType0=Pn.NotificationType=Pn.RequestType9=Pn.RequestType8=Pn.RequestType7=Pn.RequestType6=Pn.RequestType5=Pn.RequestType4=Pn.RequestType3=Pn.RequestType2=Pn.RequestType1=Pn.RequestType=Pn.RequestType0=Pn.AbstractMessageSignature=Pn.ParameterStructures=Pn.ResponseError=Pn.ErrorCodes=void 0;var AT=$R(),NPe;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(NPe=Pn.ErrorCodes||(Pn.ErrorCodes={}));var eQ=class r extends Error{constructor(e,t,n){super(t),this.code=AT.number(e)?e:NPe.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Pn.ResponseError=eQ;var Jh=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};Pn.ParameterStructures=Jh;Jh.auto=new Jh("auto");Jh.byPosition=new Jh("byPosition");Jh.byName=new Jh("byName");var Na=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return Jh.auto}};Pn.AbstractMessageSignature=Na;var tQ=class extends Na{constructor(e){super(e,0)}};Pn.RequestType0=tQ;var rQ=class extends Na{constructor(e,t=Jh.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.RequestType=rQ;var nQ=class extends Na{constructor(e,t=Jh.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.RequestType1=nQ;var iQ=class extends Na{constructor(e){super(e,2)}};Pn.RequestType2=iQ;var oQ=class extends Na{constructor(e){super(e,3)}};Pn.RequestType3=oQ;var sQ=class extends Na{constructor(e){super(e,4)}};Pn.RequestType4=sQ;var aQ=class extends Na{constructor(e){super(e,5)}};Pn.RequestType5=aQ;var cQ=class extends Na{constructor(e){super(e,6)}};Pn.RequestType6=cQ;var uQ=class extends Na{constructor(e){super(e,7)}};Pn.RequestType7=uQ;var lQ=class extends Na{constructor(e){super(e,8)}};Pn.RequestType8=lQ;var dQ=class extends Na{constructor(e){super(e,9)}};Pn.RequestType9=dQ;var fQ=class extends Na{constructor(e,t=Jh.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.NotificationType=fQ;var pQ=class extends Na{constructor(e){super(e,0)}};Pn.NotificationType0=pQ;var hQ=class extends Na{constructor(e,t=Jh.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Pn.NotificationType1=hQ;var mQ=class extends Na{constructor(e){super(e,2)}};Pn.NotificationType2=mQ;var gQ=class extends Na{constructor(e){super(e,3)}};Pn.NotificationType3=gQ;var vQ=class extends Na{constructor(e){super(e,4)}};Pn.NotificationType4=vQ;var yQ=class extends Na{constructor(e){super(e,5)}};Pn.NotificationType5=yQ;var bQ=class extends Na{constructor(e){super(e,6)}};Pn.NotificationType6=bQ;var _Q=class extends Na{constructor(e){super(e,7)}};Pn.NotificationType7=_Q;var wQ=class extends Na{constructor(e){super(e,8)}};Pn.NotificationType8=wQ;var SQ=class extends Na{constructor(e){super(e,9)}};Pn.NotificationType9=SQ;var Vft;(function(r){function e(i){let o=i;return o&&AT.string(o.method)&&(AT.string(o.id)||AT.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&AT.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(AT.string(o.id)||AT.number(o.id)||o.id===null)}r.isResponse=n})(Vft=Pn.Message||(Pn.Message={}))});var TQ=P(zw=>{"use strict";var FPe;Object.defineProperty(zw,"__esModule",{value:!0});zw.LRUCache=zw.LinkedMap=zw.Touch=void 0;var Gp;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Gp=zw.Touch||(zw.Touch={}));var aU=class{constructor(){this[FPe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=Gp.None){let n=this._map.get(e);if(n)return t!==Gp.None&&this.touch(n,t),n.value}set(e,t,n=Gp.None){let i=this._map.get(e);if(i)i.value=t,n!==Gp.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Gp.None:this.addItemLast(i);break;case Gp.First:this.addItemFirst(i);break;case Gp.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(FPe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Gp.First&&t!==Gp.Last)){if(t===Gp.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Gp.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};zw.LinkedMap=aU;var DQ=class extends aU{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Gp.AsNew){return super.get(e,t)}peek(e){return super.get(e,Gp.None)}set(e,t){return super.set(e,t,Gp.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};zw.LRUCache=DQ});var VR=P(MT=>{"use strict";Object.defineProperty(MT,"__esModule",{value:!0});MT.Emitter=MT.Event=void 0;var Gft=jw(),Kft;(function(r){let e={dispose(){}};r.None=function(){return e}})(Kft=MT.Event||(MT.Event={}));var PQ=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,Gft.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},cU=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new PQ),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};MT.Emitter=cU;cU._noop=function(){}});var OQ=P(LT=>{"use strict";Object.defineProperty(LT,"__esModule",{value:!0});LT.CancellationTokenSource=LT.CancellationToken=void 0;var Yft=jw(),Jft=$R(),RQ=VR(),xQ;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:RQ.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:RQ.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||Jft.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(xQ=LT.CancellationToken||(LT.CancellationToken={}));var Xft=Object.freeze(function(r,e){let t=(0,Yft.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),uU=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Xft:(this._emitter||(this._emitter=new RQ.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},EQ=class{get token(){return this._token||(this._token=new uU),this._token}cancel(){this._token?this._token.cancel():this._token=xQ.Cancelled}dispose(){this._token?this._token instanceof uU&&this._token.dispose():this._token=xQ.None}};LT.CancellationTokenSource=EQ});var qPe=P(Uw=>{"use strict";Object.defineProperty(Uw,"__esModule",{value:!0});Uw.ReadableStreamMessageReader=Uw.AbstractMessageReader=Uw.MessageReader=void 0;var kQ=jw(),GR=$R(),IQ=VR(),Qft;(function(r){function e(t){let n=t;return n&&GR.func(n.listen)&&GR.func(n.dispose)&&GR.func(n.onError)&&GR.func(n.onClose)&&GR.func(n.onPartialMessage)}r.is=e})(Qft=Uw.MessageReader||(Uw.MessageReader={}));var lU=class{constructor(){this.errorEmitter=new IQ.Emitter,this.closeEmitter=new IQ.Emitter,this.partialMessageEmitter=new IQ.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${GR.string(e.message)?e.message:"unknown"}`)}};Uw.AbstractMessageReader=lU;var AQ;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,kQ.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(AQ||(AQ={}));var MQ=class extends lU{constructor(e,t){super(),this.readable=e,this.options=AQ.fromOptions(t),this.buffer=(0,kQ.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let o=i.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let s=parseInt(o);if(isNaN(s))throw new Error("Content-Length value must be a number.");this.nextMessageLength=s}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(t):n=Promise.resolve(t),n.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,kQ.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Uw.ReadableStreamMessageReader=MQ});var jPe=P(dU=>{"use strict";Object.defineProperty(dU,"__esModule",{value:!0});dU.Semaphore=void 0;var Zft=jw(),LQ=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Zft.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};dU.Semaphore=LQ});var WPe=P(Hw=>{"use strict";Object.defineProperty(Hw,"__esModule",{value:!0});Hw.WriteableStreamMessageWriter=Hw.AbstractMessageWriter=Hw.MessageWriter=void 0;var zPe=jw(),UA=$R(),ept=jPe(),UPe=VR(),tpt="Content-Length: ",HPe=`\r
`,rpt;(function(r){function e(t){let n=t;return n&&UA.func(n.dispose)&&UA.func(n.onClose)&&UA.func(n.onError)&&UA.func(n.write)}r.is=e})(rpt=Hw.MessageWriter||(Hw.MessageWriter={}));var fU=class{constructor(){this.errorEmitter=new UPe.Emitter,this.closeEmitter=new UPe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${UA.string(e.message)?e.message:"unknown"}`)}};Hw.AbstractMessageWriter=fU;var NQ;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,zPe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,zPe.default)().applicationJson.encoder}}r.fromOptions=e})(NQ||(NQ={}));var FQ=class extends fU{constructor(e,t){super(),this.writable=e,this.options=NQ.fromOptions(t),this.errorCount=0,this.writeSemaphore=new ept.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(tpt,n.byteLength.toString(),HPe),i.push(HPe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};Hw.WriteableStreamMessageWriter=FQ});var YPe=P(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.createMessageConnection=ri.ConnectionOptions=ri.CancellationStrategy=ri.CancellationSenderStrategy=ri.CancellationReceiverStrategy=ri.ConnectionStrategy=ri.ConnectionError=ri.ConnectionErrors=ri.LogTraceNotification=ri.SetTraceNotification=ri.TraceFormat=ri.TraceValues=ri.Trace=ri.NullLogger=ri.ProgressType=ri.ProgressToken=void 0;var BPe=jw(),vl=$R(),gi=CQ(),$Pe=TQ(),HA=VR(),qQ=OQ(),BA;(function(r){r.type=new gi.NotificationType("$/cancelRequest")})(BA||(BA={}));var VPe;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(VPe=ri.ProgressToken||(ri.ProgressToken={}));var WA;(function(r){r.type=new gi.NotificationType("$/progress")})(WA||(WA={}));var jQ=class{constructor(){}};ri.ProgressType=jQ;var zQ;(function(r){function e(t){return vl.func(t)}r.is=e})(zQ||(zQ={}));ri.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ks;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(ks=ri.Trace||(ri.Trace={}));var npt;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(npt=ri.TraceValues||(ri.TraceValues={}));(function(r){function e(n){if(!vl.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(ks=ri.Trace||(ri.Trace={}));var wy;(function(r){r.Text="text",r.JSON="json"})(wy=ri.TraceFormat||(ri.TraceFormat={}));(function(r){function e(t){return vl.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(wy=ri.TraceFormat||(ri.TraceFormat={}));var GPe;(function(r){r.type=new gi.NotificationType("$/setTrace")})(GPe=ri.SetTraceNotification||(ri.SetTraceNotification={}));var UQ;(function(r){r.type=new gi.NotificationType("$/logTrace")})(UQ=ri.LogTraceNotification||(ri.LogTraceNotification={}));var pU;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(pU=ri.ConnectionErrors||(ri.ConnectionErrors={}));var KR=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};ri.ConnectionError=KR;var KPe;(function(r){function e(t){let n=t;return n&&vl.func(n.cancelUndispatched)}r.is=e})(KPe=ri.ConnectionStrategy||(ri.ConnectionStrategy={}));var HQ;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new qQ.CancellationTokenSource}});function e(t){let n=t;return n&&vl.func(n.createCancellationTokenSource)}r.is=e})(HQ=ri.CancellationReceiverStrategy||(ri.CancellationReceiverStrategy={}));var WQ;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(BA.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&vl.func(n.sendCancellation)&&vl.func(n.cleanup)}r.is=e})(WQ=ri.CancellationSenderStrategy||(ri.CancellationSenderStrategy={}));var BQ;(function(r){r.Message=Object.freeze({receiver:HQ.Message,sender:WQ.Message});function e(t){let n=t;return n&&HQ.is(n.receiver)&&WQ.is(n.sender)}r.is=e})(BQ=ri.CancellationStrategy||(ri.CancellationStrategy={}));var ipt;(function(r){function e(t){let n=t;return n&&(BQ.is(n.cancellationStrategy)||KPe.is(n.connectionStrategy))}r.is=e})(ipt=ri.ConnectionOptions||(ri.ConnectionOptions={}));var Sy;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(Sy||(Sy={}));function opt(r,e,t,n){let i=t!==void 0?t:ri.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,y=new Map,b,T=new $Pe.LinkedMap,k=new Map,z=new Set,A=new Map,U=ks.Off,ne=wy.Text,de,ve=Sy.New,$=new HA.Emitter,W=new HA.Emitter,ee=new HA.Emitter,Pe=new HA.Emitter,se=new HA.Emitter,ue=n&&n.cancellationStrategy?n.cancellationStrategy:BQ.Message;function Fe(Oe){if(Oe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+Oe.toString()}function Le(Oe){return Oe===null?"res-unknown-"+(++a).toString():"res-"+Oe.toString()}function ce(){return"not-"+(++s).toString()}function Ce(Oe,oe){gi.Message.isRequest(oe)?Oe.set(Fe(oe.id),oe):gi.Message.isResponse(oe)?Oe.set(Le(oe.id),oe):Oe.set(ce(),oe)}function we(Oe){}function Ee(){return ve===Sy.Listening}function Ne(){return ve===Sy.Closed}function $e(){return ve===Sy.Disposed}function Ct(){(ve===Sy.New||ve===Sy.Listening)&&(ve=Sy.Closed,W.fire(void 0))}function ze(Oe){$.fire([Oe,void 0,void 0])}function st(Oe){$.fire(Oe)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(st);function at(){b||T.size===0||(b=(0,BPe.default)().timer.setImmediate(()=>{b=void 0,tt()}))}function tt(){if(T.size===0)return;let Oe=T.shift();try{gi.Message.isRequest(Oe)?Ar(Oe):gi.Message.isNotification(Oe)?lr(Oe):gi.Message.isResponse(Oe)?jr(Oe):Et(Oe)}finally{at()}}let pr=Oe=>{try{if(gi.Message.isNotification(Oe)&&Oe.method===BA.type.method){let oe=Oe.params.id,Q=Fe(oe),_e=T.get(Q);if(gi.Message.isRequest(_e)){let ft=n?.connectionStrategy,Jt=ft&&ft.cancelUndispatched?ft.cancelUndispatched(_e,we):void 0;if(Jt&&(Jt.error!==void 0||Jt.result!==void 0)){T.delete(Q),A.delete(oe),Jt.id=_e.id,un(Jt,Oe.method,Date.now()),e.write(Jt).catch(()=>i.error("Sending response for canceled message failed."));return}}let Ke=A.get(oe);if(Ke!==void 0){Ke.cancel(),Er(Oe);return}else z.add(oe)}Ce(T,Oe)}finally{at()}};function Ar(Oe){if($e())return;function oe(Xt,Vt,kt){let K={jsonrpc:c,id:Oe.id};Xt instanceof gi.ResponseError?K.error=Xt.toJson():K.result=Xt===void 0?null:Xt,un(K,Vt,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function Q(Xt,Vt,kt){let K={jsonrpc:c,id:Oe.id,error:Xt.toJson()};un(K,Vt,kt),e.write(K).catch(()=>i.error("Sending response failed."))}function _e(Xt,Vt,kt){Xt===void 0&&(Xt=null);let K={jsonrpc:c,id:Oe.id,result:Xt};un(K,Vt,kt),e.write(K).catch(()=>i.error("Sending response failed."))}En(Oe);let Ke=l.get(Oe.method),ft,Jt;Ke&&(ft=Ke.type,Jt=Ke.handler);let nr=Date.now();if(Jt||u){let Xt=Oe.id??String(Date.now()),Vt=ue.receiver.createCancellationTokenSource(Xt);Oe.id!==null&&z.has(Oe.id)&&Vt.cancel(),Oe.id!==null&&A.set(Xt,Vt);try{let kt;if(Jt)if(Oe.params===void 0){if(ft!==void 0&&ft.numberOfParams!==0){Q(new gi.ResponseError(gi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines ${ft.numberOfParams} params but received none.`),Oe.method,nr);return}kt=Jt(Vt.token)}else if(Array.isArray(Oe.params)){if(ft!==void 0&&ft.parameterStructures===gi.ParameterStructures.byName){Q(new gi.ResponseError(gi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines parameters by name but received parameters by position`),Oe.method,nr);return}kt=Jt(...Oe.params,Vt.token)}else{if(ft!==void 0&&ft.parameterStructures===gi.ParameterStructures.byPosition){Q(new gi.ResponseError(gi.ErrorCodes.InvalidParams,`Request ${Oe.method} defines parameters by position but received parameters by name`),Oe.method,nr);return}kt=Jt(Oe.params,Vt.token)}else u&&(kt=u(Oe.method,Oe.params,Vt.token));let K=kt;kt?K.then?K.then(qe=>{A.delete(Xt),oe(qe,Oe.method,nr)},qe=>{A.delete(Xt),qe instanceof gi.ResponseError?Q(qe,Oe.method,nr):qe&&vl.string(qe.message)?Q(new gi.ResponseError(gi.ErrorCodes.InternalError,`Request ${Oe.method} failed with message: ${qe.message}`),Oe.method,nr):Q(new gi.ResponseError(gi.ErrorCodes.InternalError,`Request ${Oe.method} failed unexpectedly without providing any details.`),Oe.method,nr)}):(A.delete(Xt),oe(kt,Oe.method,nr)):(A.delete(Xt),_e(kt,Oe.method,nr))}catch(kt){A.delete(Xt),kt instanceof gi.ResponseError?oe(kt,Oe.method,nr):kt&&vl.string(kt.message)?Q(new gi.ResponseError(gi.ErrorCodes.InternalError,`Request ${Oe.method} failed with message: ${kt.message}`),Oe.method,nr):Q(new gi.ResponseError(gi.ErrorCodes.InternalError,`Request ${Oe.method} failed unexpectedly without providing any details.`),Oe.method,nr)}}else Q(new gi.ResponseError(gi.ErrorCodes.MethodNotFound,`Unhandled method ${Oe.method}`),Oe.method,nr)}function jr(Oe){if(!$e())if(Oe.id===null)Oe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(Oe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let oe=Oe.id,Q=k.get(oe);if(Un(Oe,Q),Q!==void 0){k.delete(oe);try{if(Oe.error){let _e=Oe.error;Q.reject(new gi.ResponseError(_e.code,_e.message,_e.data))}else if(Oe.result!==void 0)Q.resolve(Oe.result);else throw new Error("Should never happen.")}catch(_e){_e.message?i.error(`Response handler '${Q.method}' failed with message: ${_e.message}`):i.error(`Response handler '${Q.method}' failed unexpectedly.`)}}}}function lr(Oe){if($e())return;let oe,Q;if(Oe.method===BA.type.method){let _e=Oe.params.id;z.delete(_e),Er(Oe);return}else{let _e=f.get(Oe.method);_e&&(Q=_e.handler,oe=_e.type)}if(Q||d)try{if(Er(Oe),Q)if(Oe.params===void 0)oe!==void 0&&oe.numberOfParams!==0&&oe.parameterStructures!==gi.ParameterStructures.byName&&i.error(`Notification ${Oe.method} defines ${oe.numberOfParams} params but received none.`),Q();else if(Array.isArray(Oe.params)){let _e=Oe.params;Oe.method===WA.type.method&&_e.length===2&&VPe.is(_e[0])?Q({token:_e[0],value:_e[1]}):(oe!==void 0&&(oe.parameterStructures===gi.ParameterStructures.byName&&i.error(`Notification ${Oe.method} defines parameters by name but received parameters by position`),oe.numberOfParams!==Oe.params.length&&i.error(`Notification ${Oe.method} defines ${oe.numberOfParams} params but received ${_e.length} arguments`)),Q(..._e))}else oe!==void 0&&oe.parameterStructures===gi.ParameterStructures.byPosition&&i.error(`Notification ${Oe.method} defines parameters by position but received parameters by name`),Q(Oe.params);else d&&d(Oe.method,Oe.params)}catch(_e){_e.message?i.error(`Notification handler '${Oe.method}' failed with message: ${_e.message}`):i.error(`Notification handler '${Oe.method}' failed unexpectedly.`)}else ee.fire(Oe)}function Et(Oe){if(!Oe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(Oe,null,4)}`);let oe=Oe;if(vl.string(oe.id)||vl.number(oe.id)){let Q=oe.id,_e=k.get(Q);_e&&_e.reject(new Error("The received response has neither a result nor an error property."))}}function hr(Oe){if(Oe!=null)switch(U){case ks.Verbose:return JSON.stringify(Oe,null,4);case ks.Compact:return JSON.stringify(Oe);default:return}}function Lt(Oe){if(!(U===ks.Off||!de))if(ne===wy.Text){let oe;(U===ks.Verbose||U===ks.Compact)&&Oe.params&&(oe=`Params: ${hr(Oe.params)}

`),de.log(`Sending request '${Oe.method} - (${Oe.id})'.`,oe)}else Br("send-request",Oe)}function on(Oe){if(!(U===ks.Off||!de))if(ne===wy.Text){let oe;(U===ks.Verbose||U===ks.Compact)&&(Oe.params?oe=`Params: ${hr(Oe.params)}

`:oe=`No parameters provided.

`),de.log(`Sending notification '${Oe.method}'.`,oe)}else Br("send-notification",Oe)}function un(Oe,oe,Q){if(!(U===ks.Off||!de))if(ne===wy.Text){let _e;(U===ks.Verbose||U===ks.Compact)&&(Oe.error&&Oe.error.data?_e=`Error data: ${hr(Oe.error.data)}

`:Oe.result?_e=`Result: ${hr(Oe.result)}

`:Oe.error===void 0&&(_e=`No result returned.

`)),de.log(`Sending response '${oe} - (${Oe.id})'. Processing request took ${Date.now()-Q}ms`,_e)}else Br("send-response",Oe)}function En(Oe){if(!(U===ks.Off||!de))if(ne===wy.Text){let oe;(U===ks.Verbose||U===ks.Compact)&&Oe.params&&(oe=`Params: ${hr(Oe.params)}

`),de.log(`Received request '${Oe.method} - (${Oe.id})'.`,oe)}else Br("receive-request",Oe)}function Er(Oe){if(!(U===ks.Off||!de||Oe.method===UQ.type.method))if(ne===wy.Text){let oe;(U===ks.Verbose||U===ks.Compact)&&(Oe.params?oe=`Params: ${hr(Oe.params)}

`:oe=`No parameters provided.

`),de.log(`Received notification '${Oe.method}'.`,oe)}else Br("receive-notification",Oe)}function Un(Oe,oe){if(!(U===ks.Off||!de))if(ne===wy.Text){let Q;if((U===ks.Verbose||U===ks.Compact)&&(Oe.error&&Oe.error.data?Q=`Error data: ${hr(Oe.error.data)}

`:Oe.result?Q=`Result: ${hr(Oe.result)}

`:Oe.error===void 0&&(Q=`No result returned.

`)),oe){let _e=Oe.error?` Request failed: ${Oe.error.message} (${Oe.error.code}).`:"";de.log(`Received response '${oe.method} - (${Oe.id})' in ${Date.now()-oe.timerStart}ms.${_e}`,Q)}else de.log(`Received response ${Oe.id} without active response promise.`,Q)}else Br("receive-response",Oe)}function Br(Oe,oe){if(!de||U===ks.Off)return;let Q={isLSPMessage:!0,type:Oe,message:oe,timestamp:Date.now()};de.log(Q)}function ln(){if(Ne())throw new KR(pU.Closed,"Connection is closed.");if($e())throw new KR(pU.Disposed,"Connection is disposed.")}function ni(){if(Ee())throw new KR(pU.AlreadyListening,"Connection is already listening")}function $r(){if(!Ee())throw new Error("Call listen() first.")}function kn(Oe){return Oe===void 0?null:Oe}function Ei(Oe){if(Oe!==null)return Oe}function Vr(Oe){return Oe!=null&&!Array.isArray(Oe)&&typeof Oe=="object"}function Yi(Oe,oe){switch(Oe){case gi.ParameterStructures.auto:return Vr(oe)?Ei(oe):[kn(oe)];case gi.ParameterStructures.byName:if(!Vr(oe))throw new Error("Received parameters by name but param is not an object literal.");return Ei(oe);case gi.ParameterStructures.byPosition:return[kn(oe)];default:throw new Error(`Unknown parameter structure ${Oe.toString()}`)}}function ii(Oe,oe){let Q,_e=Oe.numberOfParams;switch(_e){case 0:Q=void 0;break;case 1:Q=Yi(Oe.parameterStructures,oe[0]);break;default:Q=[];for(let Ke=0;Ke<oe.length&&Ke<_e;Ke++)Q.push(kn(oe[Ke]));if(oe.length<_e)for(let Ke=oe.length;Ke<_e;Ke++)Q.push(null);break}return Q}let dn={sendNotification:(Oe,...oe)=>{ln();let Q,_e;if(vl.string(Oe)){Q=Oe;let ft=oe[0],Jt=0,nr=gi.ParameterStructures.auto;gi.ParameterStructures.is(ft)&&(Jt=1,nr=ft);let Xt=oe.length,Vt=Xt-Jt;switch(Vt){case 0:_e=void 0;break;case 1:_e=Yi(nr,oe[Jt]);break;default:if(nr===gi.ParameterStructures.byName)throw new Error(`Received ${Vt} parameters for 'by Name' notification parameter structure.`);_e=oe.slice(Jt,Xt).map(kt=>kn(kt));break}}else{let ft=oe;Q=Oe.method,_e=ii(Oe,ft)}let Ke={jsonrpc:c,method:Q,params:_e};return on(Ke),e.write(Ke).catch(()=>i.error("Sending notification failed."))},onNotification:(Oe,oe)=>{ln();let Q;return vl.func(Oe)?d=Oe:oe&&(vl.string(Oe)?(Q=Oe,f.set(Oe,{type:void 0,handler:oe})):(Q=Oe.method,f.set(Oe.method,{type:Oe,handler:oe}))),{dispose:()=>{Q!==void 0?f.delete(Q):d=void 0}}},onProgress:(Oe,oe,Q)=>{if(y.has(oe))throw new Error(`Progress handler for token ${oe} already registered`);return y.set(oe,Q),{dispose:()=>{y.delete(oe)}}},sendProgress:(Oe,oe,Q)=>dn.sendNotification(WA.type,{token:oe,value:Q}),onUnhandledProgress:Pe.event,sendRequest:(Oe,...oe)=>{ln(),$r();let Q,_e,Ke;if(vl.string(Oe)){Q=Oe;let Xt=oe[0],Vt=oe[oe.length-1],kt=0,K=gi.ParameterStructures.auto;gi.ParameterStructures.is(Xt)&&(kt=1,K=Xt);let qe=oe.length;qQ.CancellationToken.is(Vt)&&(qe=qe-1,Ke=Vt);let Wt=qe-kt;switch(Wt){case 0:_e=void 0;break;case 1:_e=Yi(K,oe[kt]);break;default:if(K===gi.ParameterStructures.byName)throw new Error(`Received ${Wt} parameters for 'by Name' request parameter structure.`);_e=oe.slice(kt,qe).map(Dr=>kn(Dr));break}}else{let Xt=oe;Q=Oe.method,_e=ii(Oe,Xt);let Vt=Oe.numberOfParams;Ke=qQ.CancellationToken.is(Xt[Vt])?Xt[Vt]:void 0}let ft=o++,Jt;return Ke&&(Jt=Ke.onCancellationRequested(()=>{let Xt=ue.sender.sendCancellation(dn,ft);return Xt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ft}`),Promise.resolve()):Xt.catch(()=>{i.log(`Sending cancellation messages for id ${ft} failed`)})})),new Promise((Xt,Vt)=>{let kt={jsonrpc:c,id:ft,method:Q,params:_e},K=Dr=>{Xt(Dr),ue.sender.cleanup(ft),Jt?.dispose()},qe=Dr=>{Vt(Dr),ue.sender.cleanup(ft),Jt?.dispose()},Wt={method:Q,timerStart:Date.now(),resolve:K,reject:qe};Lt(kt);try{e.write(kt).catch(()=>i.error("Sending request failed."))}catch(Dr){Wt.reject(new gi.ResponseError(gi.ErrorCodes.MessageWriteError,Dr.message?Dr.message:"Unknown reason")),Wt=null}Wt&&k.set(ft,Wt)})},onRequest:(Oe,oe)=>{ln();let Q=null;return zQ.is(Oe)?(Q=void 0,u=Oe):vl.string(Oe)?(Q=null,oe!==void 0&&(Q=Oe,l.set(Oe,{handler:oe,type:void 0}))):oe!==void 0&&(Q=Oe.method,l.set(Oe.method,{type:Oe,handler:oe})),{dispose:()=>{Q!==null&&(Q!==void 0?l.delete(Q):u=void 0)}}},hasPendingResponse:()=>k.size>0,trace:async(Oe,oe,Q)=>{let _e=!1,Ke=wy.Text;Q!==void 0&&(vl.boolean(Q)?_e=Q:(_e=Q.sendNotification||!1,Ke=Q.traceFormat||wy.Text)),U=Oe,ne=Ke,U===ks.Off?de=void 0:de=oe,_e&&!Ne()&&!$e()&&await dn.sendNotification(GPe.type,{value:ks.toString(Oe)})},onError:$.event,onClose:W.event,onUnhandledNotification:ee.event,onDispose:se.event,end:()=>{e.end()},dispose:()=>{if($e())return;ve=Sy.Disposed,se.fire(void 0);let Oe=new gi.ResponseError(gi.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let oe of k.values())oe.reject(Oe);k=new Map,A=new Map,z=new Set,T=new $Pe.LinkedMap,vl.func(e.dispose)&&e.dispose(),vl.func(r.dispose)&&r.dispose()},listen:()=>{ln(),ni(),ve=Sy.Listening,r.listen(pr)},inspect:()=>{(0,BPe.default)().console.log("inspect")}};return dn.onNotification(UQ.type,Oe=>{if(U===ks.Off||!de)return;let oe=U===ks.Verbose||U===ks.Compact;de.log(Oe.message,oe?Oe.verbose:void 0)}),dn.onNotification(WA.type,Oe=>{let oe=y.get(Oe.token);oe?oe(Oe.value):Pe.fire(Oe)}),dn}ri.createMessageConnection=opt});var KQ=P(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.TraceFormat=Kt.TraceValues=Kt.Trace=Kt.ProgressType=Kt.ProgressToken=Kt.createMessageConnection=Kt.NullLogger=Kt.ConnectionOptions=Kt.ConnectionStrategy=Kt.WriteableStreamMessageWriter=Kt.AbstractMessageWriter=Kt.MessageWriter=Kt.ReadableStreamMessageReader=Kt.AbstractMessageReader=Kt.MessageReader=Kt.CancellationToken=Kt.CancellationTokenSource=Kt.Emitter=Kt.Event=Kt.Disposable=Kt.LRUCache=Kt.Touch=Kt.LinkedMap=Kt.ParameterStructures=Kt.NotificationType9=Kt.NotificationType8=Kt.NotificationType7=Kt.NotificationType6=Kt.NotificationType5=Kt.NotificationType4=Kt.NotificationType3=Kt.NotificationType2=Kt.NotificationType1=Kt.NotificationType0=Kt.NotificationType=Kt.ErrorCodes=Kt.ResponseError=Kt.RequestType9=Kt.RequestType8=Kt.RequestType7=Kt.RequestType6=Kt.RequestType5=Kt.RequestType4=Kt.RequestType3=Kt.RequestType2=Kt.RequestType1=Kt.RequestType0=Kt.RequestType=Kt.Message=Kt.RAL=void 0;Kt.CancellationStrategy=Kt.CancellationSenderStrategy=Kt.CancellationReceiverStrategy=Kt.ConnectionError=Kt.ConnectionErrors=Kt.LogTraceNotification=Kt.SetTraceNotification=void 0;var ha=CQ();Object.defineProperty(Kt,"Message",{enumerable:!0,get:function(){return ha.Message}});Object.defineProperty(Kt,"RequestType",{enumerable:!0,get:function(){return ha.RequestType}});Object.defineProperty(Kt,"RequestType0",{enumerable:!0,get:function(){return ha.RequestType0}});Object.defineProperty(Kt,"RequestType1",{enumerable:!0,get:function(){return ha.RequestType1}});Object.defineProperty(Kt,"RequestType2",{enumerable:!0,get:function(){return ha.RequestType2}});Object.defineProperty(Kt,"RequestType3",{enumerable:!0,get:function(){return ha.RequestType3}});Object.defineProperty(Kt,"RequestType4",{enumerable:!0,get:function(){return ha.RequestType4}});Object.defineProperty(Kt,"RequestType5",{enumerable:!0,get:function(){return ha.RequestType5}});Object.defineProperty(Kt,"RequestType6",{enumerable:!0,get:function(){return ha.RequestType6}});Object.defineProperty(Kt,"RequestType7",{enumerable:!0,get:function(){return ha.RequestType7}});Object.defineProperty(Kt,"RequestType8",{enumerable:!0,get:function(){return ha.RequestType8}});Object.defineProperty(Kt,"RequestType9",{enumerable:!0,get:function(){return ha.RequestType9}});Object.defineProperty(Kt,"ResponseError",{enumerable:!0,get:function(){return ha.ResponseError}});Object.defineProperty(Kt,"ErrorCodes",{enumerable:!0,get:function(){return ha.ErrorCodes}});Object.defineProperty(Kt,"NotificationType",{enumerable:!0,get:function(){return ha.NotificationType}});Object.defineProperty(Kt,"NotificationType0",{enumerable:!0,get:function(){return ha.NotificationType0}});Object.defineProperty(Kt,"NotificationType1",{enumerable:!0,get:function(){return ha.NotificationType1}});Object.defineProperty(Kt,"NotificationType2",{enumerable:!0,get:function(){return ha.NotificationType2}});Object.defineProperty(Kt,"NotificationType3",{enumerable:!0,get:function(){return ha.NotificationType3}});Object.defineProperty(Kt,"NotificationType4",{enumerable:!0,get:function(){return ha.NotificationType4}});Object.defineProperty(Kt,"NotificationType5",{enumerable:!0,get:function(){return ha.NotificationType5}});Object.defineProperty(Kt,"NotificationType6",{enumerable:!0,get:function(){return ha.NotificationType6}});Object.defineProperty(Kt,"NotificationType7",{enumerable:!0,get:function(){return ha.NotificationType7}});Object.defineProperty(Kt,"NotificationType8",{enumerable:!0,get:function(){return ha.NotificationType8}});Object.defineProperty(Kt,"NotificationType9",{enumerable:!0,get:function(){return ha.NotificationType9}});Object.defineProperty(Kt,"ParameterStructures",{enumerable:!0,get:function(){return ha.ParameterStructures}});var $Q=TQ();Object.defineProperty(Kt,"LinkedMap",{enumerable:!0,get:function(){return $Q.LinkedMap}});Object.defineProperty(Kt,"LRUCache",{enumerable:!0,get:function(){return $Q.LRUCache}});Object.defineProperty(Kt,"Touch",{enumerable:!0,get:function(){return $Q.Touch}});var spt=KX();Object.defineProperty(Kt,"Disposable",{enumerable:!0,get:function(){return spt.Disposable}});var JPe=VR();Object.defineProperty(Kt,"Event",{enumerable:!0,get:function(){return JPe.Event}});Object.defineProperty(Kt,"Emitter",{enumerable:!0,get:function(){return JPe.Emitter}});var XPe=OQ();Object.defineProperty(Kt,"CancellationTokenSource",{enumerable:!0,get:function(){return XPe.CancellationTokenSource}});Object.defineProperty(Kt,"CancellationToken",{enumerable:!0,get:function(){return XPe.CancellationToken}});var VQ=qPe();Object.defineProperty(Kt,"MessageReader",{enumerable:!0,get:function(){return VQ.MessageReader}});Object.defineProperty(Kt,"AbstractMessageReader",{enumerable:!0,get:function(){return VQ.AbstractMessageReader}});Object.defineProperty(Kt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return VQ.ReadableStreamMessageReader}});var GQ=WPe();Object.defineProperty(Kt,"MessageWriter",{enumerable:!0,get:function(){return GQ.MessageWriter}});Object.defineProperty(Kt,"AbstractMessageWriter",{enumerable:!0,get:function(){return GQ.AbstractMessageWriter}});Object.defineProperty(Kt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return GQ.WriteableStreamMessageWriter}});var $f=YPe();Object.defineProperty(Kt,"ConnectionStrategy",{enumerable:!0,get:function(){return $f.ConnectionStrategy}});Object.defineProperty(Kt,"ConnectionOptions",{enumerable:!0,get:function(){return $f.ConnectionOptions}});Object.defineProperty(Kt,"NullLogger",{enumerable:!0,get:function(){return $f.NullLogger}});Object.defineProperty(Kt,"createMessageConnection",{enumerable:!0,get:function(){return $f.createMessageConnection}});Object.defineProperty(Kt,"ProgressToken",{enumerable:!0,get:function(){return $f.ProgressToken}});Object.defineProperty(Kt,"ProgressType",{enumerable:!0,get:function(){return $f.ProgressType}});Object.defineProperty(Kt,"Trace",{enumerable:!0,get:function(){return $f.Trace}});Object.defineProperty(Kt,"TraceValues",{enumerable:!0,get:function(){return $f.TraceValues}});Object.defineProperty(Kt,"TraceFormat",{enumerable:!0,get:function(){return $f.TraceFormat}});Object.defineProperty(Kt,"SetTraceNotification",{enumerable:!0,get:function(){return $f.SetTraceNotification}});Object.defineProperty(Kt,"LogTraceNotification",{enumerable:!0,get:function(){return $f.LogTraceNotification}});Object.defineProperty(Kt,"ConnectionErrors",{enumerable:!0,get:function(){return $f.ConnectionErrors}});Object.defineProperty(Kt,"ConnectionError",{enumerable:!0,get:function(){return $f.ConnectionError}});Object.defineProperty(Kt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return $f.CancellationReceiverStrategy}});Object.defineProperty(Kt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return $f.CancellationSenderStrategy}});Object.defineProperty(Kt,"CancellationStrategy",{enumerable:!0,get:function(){return $f.CancellationStrategy}});var apt=jw();Kt.RAL=apt.default});var qT=P(ps=>{"use strict";var cpt=ps&&ps.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),upt=ps&&ps.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&cpt(e,r,t)};Object.defineProperty(ps,"__esModule",{value:!0});ps.createMessageConnection=ps.createServerSocketTransport=ps.createClientSocketTransport=ps.createServerPipeTransport=ps.createClientPipeTransport=ps.generateRandomPipeName=ps.StreamMessageWriter=ps.StreamMessageReader=ps.SocketMessageWriter=ps.SocketMessageReader=ps.IPCMessageWriter=ps.IPCMessageReader=void 0;var YR=APe();YR.default.install();var r_=KQ(),QPe=require("path"),lpt=require("os"),dpt=require("crypto"),gU=require("net");upt(KQ(),ps);var YQ=class extends r_.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),r_.Disposable.create(()=>this.process.off("message",e))}};ps.IPCMessageReader=YQ;var JQ=class extends r_.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};ps.IPCMessageWriter=JQ;var NT=class extends r_.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,YR.default)().stream.asReadableStream(e),t)}};ps.SocketMessageReader=NT;var FT=class extends r_.WriteableStreamMessageWriter{constructor(e,t){super((0,YR.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};ps.SocketMessageWriter=FT;var hU=class extends r_.ReadableStreamMessageReader{constructor(e,t){super((0,YR.default)().stream.asReadableStream(e),t)}};ps.StreamMessageReader=hU;var mU=class extends r_.WriteableStreamMessageWriter{constructor(e,t){super((0,YR.default)().stream.asWritableStream(e),t)}};ps.StreamMessageWriter=mU;var ZPe=process.env.XDG_RUNTIME_DIR,fpt=new Map([["linux",107],["darwin",103]]);function ppt(){let r=(0,dpt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;ZPe?e=QPe.join(ZPe,`vscode-ipc-${r}.sock`):e=QPe.join(lpt.tmpdir(),`vscode-${r}.sock`);let t=fpt.get(process.platform);return t!==void 0&&e.length>=t&&(0,YR.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}ps.generateRandomPipeName=ppt;function hpt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,gU.createServer)(a=>{s.close(),t([new NT(a,e),new FT(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}ps.createClientPipeTransport=hpt;function mpt(r,e="utf-8"){let t=(0,gU.createConnection)(r);return[new NT(t,e),new FT(t,e)]}ps.createServerPipeTransport=mpt;function gpt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,gU.createServer)(a=>{s.close(),t([new NT(a,e),new FT(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}ps.createClientSocketTransport=gpt;function vpt(r,e="utf-8"){let t=(0,gU.createConnection)(r,"127.0.0.1");return[new NT(t,e),new FT(t,e)]}ps.createServerSocketTransport=vpt;function ypt(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function bpt(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function _pt(r,e,t,n){t||(t=r_.NullLogger);let i=ypt(r)?new hU(r):r,o=bpt(e)?new mU(e):e;return r_.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,r_.createMessageConnection)(i,o,t,n)}ps.createMessageConnection=_pt});var XQ=P((P3t,eRe)=>{"use strict";eRe.exports=qT()});var yU=P((tRe,vU)=>{(function(r){if(typeof vU=="object"&&typeof vU.exports=="object"){var e=r(require,tRe);e!==void 0&&(vU.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],r)})(function(r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var t;(function(re){function xe(je){return typeof je=="string"}re.is=xe})(t=e.DocumentUri||(e.DocumentUri={}));var n;(function(re){function xe(je){return typeof je=="string"}re.is=xe})(n=e.URI||(e.URI={}));var i;(function(re){re.MIN_VALUE=-2147483648,re.MAX_VALUE=2147483647;function xe(je){return typeof je=="number"&&re.MIN_VALUE<=je&&je<=re.MAX_VALUE}re.is=xe})(i=e.integer||(e.integer={}));var o;(function(re){re.MIN_VALUE=0,re.MAX_VALUE=2147483647;function xe(je){return typeof je=="number"&&re.MIN_VALUE<=je&&je<=re.MAX_VALUE}re.is=xe})(o=e.uinteger||(e.uinteger={}));var s;(function(re){function xe(pe,S){return pe===Number.MAX_VALUE&&(pe=o.MAX_VALUE),S===Number.MAX_VALUE&&(S=o.MAX_VALUE),{line:pe,character:S}}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&He.uinteger(S.line)&&He.uinteger(S.character)}re.is=je})(s=e.Position||(e.Position={}));var a;(function(re){function xe(pe,S,fe,Je){if(He.uinteger(pe)&&He.uinteger(S)&&He.uinteger(fe)&&He.uinteger(Je))return{start:s.create(pe,S),end:s.create(fe,Je)};if(s.is(pe)&&s.is(S))return{start:pe,end:S};throw new Error("Range#create called with invalid arguments[".concat(pe,", ").concat(S,", ").concat(fe,", ").concat(Je,"]"))}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&s.is(S.start)&&s.is(S.end)}re.is=je})(a=e.Range||(e.Range={}));var c;(function(re){function xe(pe,S){return{uri:pe,range:S}}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&a.is(S.range)&&(He.string(S.uri)||He.undefined(S.uri))}re.is=je})(c=e.Location||(e.Location={}));var u;(function(re){function xe(pe,S,fe,Je){return{targetUri:pe,targetRange:S,targetSelectionRange:fe,originSelectionRange:Je}}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&a.is(S.targetRange)&&He.string(S.targetUri)&&a.is(S.targetSelectionRange)&&(a.is(S.originSelectionRange)||He.undefined(S.originSelectionRange))}re.is=je})(u=e.LocationLink||(e.LocationLink={}));var l;(function(re){function xe(pe,S,fe,Je){return{red:pe,green:S,blue:fe,alpha:Je}}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&He.numberRange(S.red,0,1)&&He.numberRange(S.green,0,1)&&He.numberRange(S.blue,0,1)&&He.numberRange(S.alpha,0,1)}re.is=je})(l=e.Color||(e.Color={}));var d;(function(re){function xe(pe,S){return{range:pe,color:S}}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&a.is(S.range)&&l.is(S.color)}re.is=je})(d=e.ColorInformation||(e.ColorInformation={}));var f;(function(re){function xe(pe,S,fe){return{label:pe,textEdit:S,additionalTextEdits:fe}}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&He.string(S.label)&&(He.undefined(S.textEdit)||de.is(S))&&(He.undefined(S.additionalTextEdits)||He.typedArray(S.additionalTextEdits,de.is))}re.is=je})(f=e.ColorPresentation||(e.ColorPresentation={}));var y;(function(re){re.Comment="comment",re.Imports="imports",re.Region="region"})(y=e.FoldingRangeKind||(e.FoldingRangeKind={}));var b;(function(re){function xe(pe,S,fe,Je,Cr,Wr){var Xr={startLine:pe,endLine:S};return He.defined(fe)&&(Xr.startCharacter=fe),He.defined(Je)&&(Xr.endCharacter=Je),He.defined(Cr)&&(Xr.kind=Cr),He.defined(Wr)&&(Xr.collapsedText=Wr),Xr}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&He.uinteger(S.startLine)&&He.uinteger(S.startLine)&&(He.undefined(S.startCharacter)||He.uinteger(S.startCharacter))&&(He.undefined(S.endCharacter)||He.uinteger(S.endCharacter))&&(He.undefined(S.kind)||He.string(S.kind))}re.is=je})(b=e.FoldingRange||(e.FoldingRange={}));var T;(function(re){function xe(pe,S){return{location:pe,message:S}}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&c.is(S.location)&&He.string(S.message)}re.is=je})(T=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var k;(function(re){re.Error=1,re.Warning=2,re.Information=3,re.Hint=4})(k=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var z;(function(re){re.Unnecessary=1,re.Deprecated=2})(z=e.DiagnosticTag||(e.DiagnosticTag={}));var A;(function(re){function xe(je){var pe=je;return He.objectLiteral(pe)&&He.string(pe.href)}re.is=xe})(A=e.CodeDescription||(e.CodeDescription={}));var U;(function(re){function xe(pe,S,fe,Je,Cr,Wr){var Xr={range:pe,message:S};return He.defined(fe)&&(Xr.severity=fe),He.defined(Je)&&(Xr.code=Je),He.defined(Cr)&&(Xr.source=Cr),He.defined(Wr)&&(Xr.relatedInformation=Wr),Xr}re.create=xe;function je(pe){var S,fe=pe;return He.defined(fe)&&a.is(fe.range)&&He.string(fe.message)&&(He.number(fe.severity)||He.undefined(fe.severity))&&(He.integer(fe.code)||He.string(fe.code)||He.undefined(fe.code))&&(He.undefined(fe.codeDescription)||He.string((S=fe.codeDescription)===null||S===void 0?void 0:S.href))&&(He.string(fe.source)||He.undefined(fe.source))&&(He.undefined(fe.relatedInformation)||He.typedArray(fe.relatedInformation,T.is))}re.is=je})(U=e.Diagnostic||(e.Diagnostic={}));var ne;(function(re){function xe(pe,S){for(var fe=[],Je=2;Je<arguments.length;Je++)fe[Je-2]=arguments[Je];var Cr={title:pe,command:S};return He.defined(fe)&&fe.length>0&&(Cr.arguments=fe),Cr}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&He.string(S.title)&&He.string(S.command)}re.is=je})(ne=e.Command||(e.Command={}));var de;(function(re){function xe(fe,Je){return{range:fe,newText:Je}}re.replace=xe;function je(fe,Je){return{range:{start:fe,end:fe},newText:Je}}re.insert=je;function pe(fe){return{range:fe,newText:""}}re.del=pe;function S(fe){var Je=fe;return He.objectLiteral(Je)&&He.string(Je.newText)&&a.is(Je.range)}re.is=S})(de=e.TextEdit||(e.TextEdit={}));var ve;(function(re){function xe(pe,S,fe){var Je={label:pe};return S!==void 0&&(Je.needsConfirmation=S),fe!==void 0&&(Je.description=fe),Je}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&He.string(S.label)&&(He.boolean(S.needsConfirmation)||S.needsConfirmation===void 0)&&(He.string(S.description)||S.description===void 0)}re.is=je})(ve=e.ChangeAnnotation||(e.ChangeAnnotation={}));var $;(function(re){function xe(je){var pe=je;return He.string(pe)}re.is=xe})($=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var W;(function(re){function xe(fe,Je,Cr){return{range:fe,newText:Je,annotationId:Cr}}re.replace=xe;function je(fe,Je,Cr){return{range:{start:fe,end:fe},newText:Je,annotationId:Cr}}re.insert=je;function pe(fe,Je){return{range:fe,newText:"",annotationId:Je}}re.del=pe;function S(fe){var Je=fe;return de.is(Je)&&(ve.is(Je.annotationId)||$.is(Je.annotationId))}re.is=S})(W=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var ee;(function(re){function xe(pe,S){return{textDocument:pe,edits:S}}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&Ne.is(S.textDocument)&&Array.isArray(S.edits)}re.is=je})(ee=e.TextDocumentEdit||(e.TextDocumentEdit={}));var Pe;(function(re){function xe(pe,S,fe){var Je={kind:"create",uri:pe};return S!==void 0&&(S.overwrite!==void 0||S.ignoreIfExists!==void 0)&&(Je.options=S),fe!==void 0&&(Je.annotationId=fe),Je}re.create=xe;function je(pe){var S=pe;return S&&S.kind==="create"&&He.string(S.uri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||$.is(S.annotationId))}re.is=je})(Pe=e.CreateFile||(e.CreateFile={}));var se;(function(re){function xe(pe,S,fe,Je){var Cr={kind:"rename",oldUri:pe,newUri:S};return fe!==void 0&&(fe.overwrite!==void 0||fe.ignoreIfExists!==void 0)&&(Cr.options=fe),Je!==void 0&&(Cr.annotationId=Je),Cr}re.create=xe;function je(pe){var S=pe;return S&&S.kind==="rename"&&He.string(S.oldUri)&&He.string(S.newUri)&&(S.options===void 0||(S.options.overwrite===void 0||He.boolean(S.options.overwrite))&&(S.options.ignoreIfExists===void 0||He.boolean(S.options.ignoreIfExists)))&&(S.annotationId===void 0||$.is(S.annotationId))}re.is=je})(se=e.RenameFile||(e.RenameFile={}));var ue;(function(re){function xe(pe,S,fe){var Je={kind:"delete",uri:pe};return S!==void 0&&(S.recursive!==void 0||S.ignoreIfNotExists!==void 0)&&(Je.options=S),fe!==void 0&&(Je.annotationId=fe),Je}re.create=xe;function je(pe){var S=pe;return S&&S.kind==="delete"&&He.string(S.uri)&&(S.options===void 0||(S.options.recursive===void 0||He.boolean(S.options.recursive))&&(S.options.ignoreIfNotExists===void 0||He.boolean(S.options.ignoreIfNotExists)))&&(S.annotationId===void 0||$.is(S.annotationId))}re.is=je})(ue=e.DeleteFile||(e.DeleteFile={}));var Fe;(function(re){function xe(je){var pe=je;return pe&&(pe.changes!==void 0||pe.documentChanges!==void 0)&&(pe.documentChanges===void 0||pe.documentChanges.every(function(S){return He.string(S.kind)?Pe.is(S)||se.is(S)||ue.is(S):ee.is(S)}))}re.is=xe})(Fe=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Le=function(){function re(xe,je){this.edits=xe,this.changeAnnotations=je}return re.prototype.insert=function(xe,je,pe){var S,fe;if(pe===void 0?S=de.insert(xe,je):$.is(pe)?(fe=pe,S=W.insert(xe,je,pe)):(this.assertChangeAnnotations(this.changeAnnotations),fe=this.changeAnnotations.manage(pe),S=W.insert(xe,je,fe)),this.edits.push(S),fe!==void 0)return fe},re.prototype.replace=function(xe,je,pe){var S,fe;if(pe===void 0?S=de.replace(xe,je):$.is(pe)?(fe=pe,S=W.replace(xe,je,pe)):(this.assertChangeAnnotations(this.changeAnnotations),fe=this.changeAnnotations.manage(pe),S=W.replace(xe,je,fe)),this.edits.push(S),fe!==void 0)return fe},re.prototype.delete=function(xe,je){var pe,S;if(je===void 0?pe=de.del(xe):$.is(je)?(S=je,pe=W.del(xe,je)):(this.assertChangeAnnotations(this.changeAnnotations),S=this.changeAnnotations.manage(je),pe=W.del(xe,S)),this.edits.push(pe),S!==void 0)return S},re.prototype.add=function(xe){this.edits.push(xe)},re.prototype.all=function(){return this.edits},re.prototype.clear=function(){this.edits.splice(0,this.edits.length)},re.prototype.assertChangeAnnotations=function(xe){if(xe===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},re}(),ce=function(){function re(xe){this._annotations=xe===void 0?Object.create(null):xe,this._counter=0,this._size=0}return re.prototype.all=function(){return this._annotations},Object.defineProperty(re.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),re.prototype.manage=function(xe,je){var pe;if($.is(xe)?pe=xe:(pe=this.nextId(),je=xe),this._annotations[pe]!==void 0)throw new Error("Id ".concat(pe," is already in use."));if(je===void 0)throw new Error("No annotation provided for id ".concat(pe));return this._annotations[pe]=je,this._size++,pe},re.prototype.nextId=function(){return this._counter++,this._counter.toString()},re}(),Ce=function(){function re(xe){var je=this;this._textEditChanges=Object.create(null),xe!==void 0?(this._workspaceEdit=xe,xe.documentChanges?(this._changeAnnotations=new ce(xe.changeAnnotations),xe.changeAnnotations=this._changeAnnotations.all(),xe.documentChanges.forEach(function(pe){if(ee.is(pe)){var S=new Le(pe.edits,je._changeAnnotations);je._textEditChanges[pe.textDocument.uri]=S}})):xe.changes&&Object.keys(xe.changes).forEach(function(pe){var S=new Le(xe.changes[pe]);je._textEditChanges[pe]=S})):this._workspaceEdit={}}return Object.defineProperty(re.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),re.prototype.getTextEditChange=function(xe){if(Ne.is(xe)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var je={uri:xe.uri,version:xe.version},pe=this._textEditChanges[je.uri];if(!pe){var S=[],fe={textDocument:je,edits:S};this._workspaceEdit.documentChanges.push(fe),pe=new Le(S,this._changeAnnotations),this._textEditChanges[je.uri]=pe}return pe}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var pe=this._textEditChanges[xe];if(!pe){var S=[];this._workspaceEdit.changes[xe]=S,pe=new Le(S),this._textEditChanges[xe]=pe}return pe}},re.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ce,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},re.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},re.prototype.createFile=function(xe,je,pe){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;ve.is(je)||$.is(je)?S=je:pe=je;var fe,Je;if(S===void 0?fe=Pe.create(xe,pe):(Je=$.is(S)?S:this._changeAnnotations.manage(S),fe=Pe.create(xe,pe,Je)),this._workspaceEdit.documentChanges.push(fe),Je!==void 0)return Je},re.prototype.renameFile=function(xe,je,pe,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var fe;ve.is(pe)||$.is(pe)?fe=pe:S=pe;var Je,Cr;if(fe===void 0?Je=se.create(xe,je,S):(Cr=$.is(fe)?fe:this._changeAnnotations.manage(fe),Je=se.create(xe,je,S,Cr)),this._workspaceEdit.documentChanges.push(Je),Cr!==void 0)return Cr},re.prototype.deleteFile=function(xe,je,pe){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S;ve.is(je)||$.is(je)?S=je:pe=je;var fe,Je;if(S===void 0?fe=ue.create(xe,pe):(Je=$.is(S)?S:this._changeAnnotations.manage(S),fe=ue.create(xe,pe,Je)),this._workspaceEdit.documentChanges.push(fe),Je!==void 0)return Je},re}();e.WorkspaceChange=Ce;var we;(function(re){function xe(pe){return{uri:pe}}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&He.string(S.uri)}re.is=je})(we=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var Ee;(function(re){function xe(pe,S){return{uri:pe,version:S}}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&He.string(S.uri)&&He.integer(S.version)}re.is=je})(Ee=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var Ne;(function(re){function xe(pe,S){return{uri:pe,version:S}}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&He.string(S.uri)&&(S.version===null||He.integer(S.version))}re.is=je})(Ne=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var $e;(function(re){function xe(pe,S,fe,Je){return{uri:pe,languageId:S,version:fe,text:Je}}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&He.string(S.uri)&&He.string(S.languageId)&&He.integer(S.version)&&He.string(S.text)}re.is=je})($e=e.TextDocumentItem||(e.TextDocumentItem={}));var Ct;(function(re){re.PlainText="plaintext",re.Markdown="markdown";function xe(je){var pe=je;return pe===re.PlainText||pe===re.Markdown}re.is=xe})(Ct=e.MarkupKind||(e.MarkupKind={}));var ze;(function(re){function xe(je){var pe=je;return He.objectLiteral(je)&&Ct.is(pe.kind)&&He.string(pe.value)}re.is=xe})(ze=e.MarkupContent||(e.MarkupContent={}));var st;(function(re){re.Text=1,re.Method=2,re.Function=3,re.Constructor=4,re.Field=5,re.Variable=6,re.Class=7,re.Interface=8,re.Module=9,re.Property=10,re.Unit=11,re.Value=12,re.Enum=13,re.Keyword=14,re.Snippet=15,re.Color=16,re.File=17,re.Reference=18,re.Folder=19,re.EnumMember=20,re.Constant=21,re.Struct=22,re.Event=23,re.Operator=24,re.TypeParameter=25})(st=e.CompletionItemKind||(e.CompletionItemKind={}));var at;(function(re){re.PlainText=1,re.Snippet=2})(at=e.InsertTextFormat||(e.InsertTextFormat={}));var tt;(function(re){re.Deprecated=1})(tt=e.CompletionItemTag||(e.CompletionItemTag={}));var pr;(function(re){function xe(pe,S,fe){return{newText:pe,insert:S,replace:fe}}re.create=xe;function je(pe){var S=pe;return S&&He.string(S.newText)&&a.is(S.insert)&&a.is(S.replace)}re.is=je})(pr=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var Ar;(function(re){re.asIs=1,re.adjustIndentation=2})(Ar=e.InsertTextMode||(e.InsertTextMode={}));var jr;(function(re){function xe(je){var pe=je;return pe&&(He.string(pe.detail)||pe.detail===void 0)&&(He.string(pe.description)||pe.description===void 0)}re.is=xe})(jr=e.CompletionItemLabelDetails||(e.CompletionItemLabelDetails={}));var lr;(function(re){function xe(je){return{label:je}}re.create=xe})(lr=e.CompletionItem||(e.CompletionItem={}));var Et;(function(re){function xe(je,pe){return{items:je||[],isIncomplete:!!pe}}re.create=xe})(Et=e.CompletionList||(e.CompletionList={}));var hr;(function(re){function xe(pe){return pe.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}re.fromPlainText=xe;function je(pe){var S=pe;return He.string(S)||He.objectLiteral(S)&&He.string(S.language)&&He.string(S.value)}re.is=je})(hr=e.MarkedString||(e.MarkedString={}));var Lt;(function(re){function xe(je){var pe=je;return!!pe&&He.objectLiteral(pe)&&(ze.is(pe.contents)||hr.is(pe.contents)||He.typedArray(pe.contents,hr.is))&&(je.range===void 0||a.is(je.range))}re.is=xe})(Lt=e.Hover||(e.Hover={}));var on;(function(re){function xe(je,pe){return pe?{label:je,documentation:pe}:{label:je}}re.create=xe})(on=e.ParameterInformation||(e.ParameterInformation={}));var un;(function(re){function xe(je,pe){for(var S=[],fe=2;fe<arguments.length;fe++)S[fe-2]=arguments[fe];var Je={label:je};return He.defined(pe)&&(Je.documentation=pe),He.defined(S)?Je.parameters=S:Je.parameters=[],Je}re.create=xe})(un=e.SignatureInformation||(e.SignatureInformation={}));var En;(function(re){re.Text=1,re.Read=2,re.Write=3})(En=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Er;(function(re){function xe(je,pe){var S={range:je};return He.number(pe)&&(S.kind=pe),S}re.create=xe})(Er=e.DocumentHighlight||(e.DocumentHighlight={}));var Un;(function(re){re.File=1,re.Module=2,re.Namespace=3,re.Package=4,re.Class=5,re.Method=6,re.Property=7,re.Field=8,re.Constructor=9,re.Enum=10,re.Interface=11,re.Function=12,re.Variable=13,re.Constant=14,re.String=15,re.Number=16,re.Boolean=17,re.Array=18,re.Object=19,re.Key=20,re.Null=21,re.EnumMember=22,re.Struct=23,re.Event=24,re.Operator=25,re.TypeParameter=26})(Un=e.SymbolKind||(e.SymbolKind={}));var Br;(function(re){re.Deprecated=1})(Br=e.SymbolTag||(e.SymbolTag={}));var ln;(function(re){function xe(je,pe,S,fe,Je){var Cr={name:je,kind:pe,location:{uri:fe,range:S}};return Je&&(Cr.containerName=Je),Cr}re.create=xe})(ln=e.SymbolInformation||(e.SymbolInformation={}));var ni;(function(re){function xe(je,pe,S,fe){return fe!==void 0?{name:je,kind:pe,location:{uri:S,range:fe}}:{name:je,kind:pe,location:{uri:S}}}re.create=xe})(ni=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var $r;(function(re){function xe(pe,S,fe,Je,Cr,Wr){var Xr={name:pe,detail:S,kind:fe,range:Je,selectionRange:Cr};return Wr!==void 0&&(Xr.children=Wr),Xr}re.create=xe;function je(pe){var S=pe;return S&&He.string(S.name)&&He.number(S.kind)&&a.is(S.range)&&a.is(S.selectionRange)&&(S.detail===void 0||He.string(S.detail))&&(S.deprecated===void 0||He.boolean(S.deprecated))&&(S.children===void 0||Array.isArray(S.children))&&(S.tags===void 0||Array.isArray(S.tags))}re.is=je})($r=e.DocumentSymbol||(e.DocumentSymbol={}));var kn;(function(re){re.Empty="",re.QuickFix="quickfix",re.Refactor="refactor",re.RefactorExtract="refactor.extract",re.RefactorInline="refactor.inline",re.RefactorRewrite="refactor.rewrite",re.Source="source",re.SourceOrganizeImports="source.organizeImports",re.SourceFixAll="source.fixAll"})(kn=e.CodeActionKind||(e.CodeActionKind={}));var Ei;(function(re){re.Invoked=1,re.Automatic=2})(Ei=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var Vr;(function(re){function xe(pe,S,fe){var Je={diagnostics:pe};return S!=null&&(Je.only=S),fe!=null&&(Je.triggerKind=fe),Je}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&He.typedArray(S.diagnostics,U.is)&&(S.only===void 0||He.typedArray(S.only,He.string))&&(S.triggerKind===void 0||S.triggerKind===Ei.Invoked||S.triggerKind===Ei.Automatic)}re.is=je})(Vr=e.CodeActionContext||(e.CodeActionContext={}));var Yi;(function(re){function xe(pe,S,fe){var Je={title:pe},Cr=!0;return typeof S=="string"?(Cr=!1,Je.kind=S):ne.is(S)?Je.command=S:Je.edit=S,Cr&&fe!==void 0&&(Je.kind=fe),Je}re.create=xe;function je(pe){var S=pe;return S&&He.string(S.title)&&(S.diagnostics===void 0||He.typedArray(S.diagnostics,U.is))&&(S.kind===void 0||He.string(S.kind))&&(S.edit!==void 0||S.command!==void 0)&&(S.command===void 0||ne.is(S.command))&&(S.isPreferred===void 0||He.boolean(S.isPreferred))&&(S.edit===void 0||Fe.is(S.edit))}re.is=je})(Yi=e.CodeAction||(e.CodeAction={}));var ii;(function(re){function xe(pe,S){var fe={range:pe};return He.defined(S)&&(fe.data=S),fe}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.command)||ne.is(S.command))}re.is=je})(ii=e.CodeLens||(e.CodeLens={}));var dn;(function(re){function xe(pe,S){return{tabSize:pe,insertSpaces:S}}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&He.uinteger(S.tabSize)&&He.boolean(S.insertSpaces)}re.is=je})(dn=e.FormattingOptions||(e.FormattingOptions={}));var Oe;(function(re){function xe(pe,S,fe){return{range:pe,target:S,data:fe}}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&a.is(S.range)&&(He.undefined(S.target)||He.string(S.target))}re.is=je})(Oe=e.DocumentLink||(e.DocumentLink={}));var oe;(function(re){function xe(pe,S){return{range:pe,parent:S}}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&a.is(S.range)&&(S.parent===void 0||re.is(S.parent))}re.is=je})(oe=e.SelectionRange||(e.SelectionRange={}));var Q;(function(re){re.namespace="namespace",re.type="type",re.class="class",re.enum="enum",re.interface="interface",re.struct="struct",re.typeParameter="typeParameter",re.parameter="parameter",re.variable="variable",re.property="property",re.enumMember="enumMember",re.event="event",re.function="function",re.method="method",re.macro="macro",re.keyword="keyword",re.modifier="modifier",re.comment="comment",re.string="string",re.number="number",re.regexp="regexp",re.operator="operator",re.decorator="decorator"})(Q=e.SemanticTokenTypes||(e.SemanticTokenTypes={}));var _e;(function(re){re.declaration="declaration",re.definition="definition",re.readonly="readonly",re.static="static",re.deprecated="deprecated",re.abstract="abstract",re.async="async",re.modification="modification",re.documentation="documentation",re.defaultLibrary="defaultLibrary"})(_e=e.SemanticTokenModifiers||(e.SemanticTokenModifiers={}));var Ke;(function(re){function xe(je){var pe=je;return He.objectLiteral(pe)&&(pe.resultId===void 0||typeof pe.resultId=="string")&&Array.isArray(pe.data)&&(pe.data.length===0||typeof pe.data[0]=="number")}re.is=xe})(Ke=e.SemanticTokens||(e.SemanticTokens={}));var ft;(function(re){function xe(pe,S){return{range:pe,text:S}}re.create=xe;function je(pe){var S=pe;return S!=null&&a.is(S.range)&&He.string(S.text)}re.is=je})(ft=e.InlineValueText||(e.InlineValueText={}));var Jt;(function(re){function xe(pe,S,fe){return{range:pe,variableName:S,caseSensitiveLookup:fe}}re.create=xe;function je(pe){var S=pe;return S!=null&&a.is(S.range)&&He.boolean(S.caseSensitiveLookup)&&(He.string(S.variableName)||S.variableName===void 0)}re.is=je})(Jt=e.InlineValueVariableLookup||(e.InlineValueVariableLookup={}));var nr;(function(re){function xe(pe,S){return{range:pe,expression:S}}re.create=xe;function je(pe){var S=pe;return S!=null&&a.is(S.range)&&(He.string(S.expression)||S.expression===void 0)}re.is=je})(nr=e.InlineValueEvaluatableExpression||(e.InlineValueEvaluatableExpression={}));var Xt;(function(re){function xe(pe,S){return{frameId:pe,stoppedLocation:S}}re.create=xe;function je(pe){var S=pe;return He.defined(S)&&a.is(pe.stoppedLocation)}re.is=je})(Xt=e.InlineValueContext||(e.InlineValueContext={}));var Vt;(function(re){re.Type=1,re.Parameter=2;function xe(je){return je===1||je===2}re.is=xe})(Vt=e.InlayHintKind||(e.InlayHintKind={}));var kt;(function(re){function xe(pe){return{value:pe}}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.location===void 0||c.is(S.location))&&(S.command===void 0||ne.is(S.command))}re.is=je})(kt=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var K;(function(re){function xe(pe,S,fe){var Je={position:pe,label:S};return fe!==void 0&&(Je.kind=fe),Je}re.create=xe;function je(pe){var S=pe;return He.objectLiteral(S)&&s.is(S.position)&&(He.string(S.label)||He.typedArray(S.label,kt.is))&&(S.kind===void 0||Vt.is(S.kind))&&S.textEdits===void 0||He.typedArray(S.textEdits,de.is)&&(S.tooltip===void 0||He.string(S.tooltip)||ze.is(S.tooltip))&&(S.paddingLeft===void 0||He.boolean(S.paddingLeft))&&(S.paddingRight===void 0||He.boolean(S.paddingRight))}re.is=je})(K=e.InlayHint||(e.InlayHint={}));var qe;(function(re){function xe(je){var pe=je;return He.objectLiteral(pe)&&n.is(pe.uri)&&He.string(pe.name)}re.is=xe})(qe=e.WorkspaceFolder||(e.WorkspaceFolder={})),e.EOL=[`
`,`\r
`,"\r"];var Wt;(function(re){function xe(fe,Je,Cr,Wr){return new Dr(fe,Je,Cr,Wr)}re.create=xe;function je(fe){var Je=fe;return!!(He.defined(Je)&&He.string(Je.uri)&&(He.undefined(Je.languageId)||He.string(Je.languageId))&&He.uinteger(Je.lineCount)&&He.func(Je.getText)&&He.func(Je.positionAt)&&He.func(Je.offsetAt))}re.is=je;function pe(fe,Je){for(var Cr=fe.getText(),Wr=S(Je,function(Xo,Ns){var Ys=Xo.range.start.line-Ns.range.start.line;return Ys===0?Xo.range.start.character-Ns.range.start.character:Ys}),Xr=Cr.length,Fn=Wr.length-1;Fn>=0;Fn--){var Oi=Wr[Fn],Ts=fe.offsetAt(Oi.range.start),_n=fe.offsetAt(Oi.range.end);if(_n<=Xr)Cr=Cr.substring(0,Ts)+Oi.newText+Cr.substring(_n,Cr.length);else throw new Error("Overlapping edit");Xr=Ts}return Cr}re.applyEdits=pe;function S(fe,Je){if(fe.length<=1)return fe;var Cr=fe.length/2|0,Wr=fe.slice(0,Cr),Xr=fe.slice(Cr);S(Wr,Je),S(Xr,Je);for(var Fn=0,Oi=0,Ts=0;Fn<Wr.length&&Oi<Xr.length;){var _n=Je(Wr[Fn],Xr[Oi]);_n<=0?fe[Ts++]=Wr[Fn++]:fe[Ts++]=Xr[Oi++]}for(;Fn<Wr.length;)fe[Ts++]=Wr[Fn++];for(;Oi<Xr.length;)fe[Ts++]=Xr[Oi++];return fe}})(Wt=e.TextDocument||(e.TextDocument={}));var Dr=function(){function re(xe,je,pe,S){this._uri=xe,this._languageId=je,this._version=pe,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(re.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(re.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),re.prototype.getText=function(xe){if(xe){var je=this.offsetAt(xe.start),pe=this.offsetAt(xe.end);return this._content.substring(je,pe)}return this._content},re.prototype.update=function(xe,je){this._content=xe.text,this._version=je,this._lineOffsets=void 0},re.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var xe=[],je=this._content,pe=!0,S=0;S<je.length;S++){pe&&(xe.push(S),pe=!1);var fe=je.charAt(S);pe=fe==="\r"||fe===`
`,fe==="\r"&&S+1<je.length&&je.charAt(S+1)===`
`&&S++}pe&&je.length>0&&xe.push(je.length),this._lineOffsets=xe}return this._lineOffsets},re.prototype.positionAt=function(xe){xe=Math.max(Math.min(xe,this._content.length),0);var je=this.getLineOffsets(),pe=0,S=je.length;if(S===0)return s.create(0,xe);for(;pe<S;){var fe=Math.floor((pe+S)/2);je[fe]>xe?S=fe:pe=fe+1}var Je=pe-1;return s.create(Je,xe-je[Je])},re.prototype.offsetAt=function(xe){var je=this.getLineOffsets();if(xe.line>=je.length)return this._content.length;if(xe.line<0)return 0;var pe=je[xe.line],S=xe.line+1<je.length?je[xe.line+1]:this._content.length;return Math.max(Math.min(pe+xe.character,S),pe)},Object.defineProperty(re.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),re}(),He;(function(re){var xe=Object.prototype.toString;function je(_n){return typeof _n<"u"}re.defined=je;function pe(_n){return typeof _n>"u"}re.undefined=pe;function S(_n){return _n===!0||_n===!1}re.boolean=S;function fe(_n){return xe.call(_n)==="[object String]"}re.string=fe;function Je(_n){return xe.call(_n)==="[object Number]"}re.number=Je;function Cr(_n,Xo,Ns){return xe.call(_n)==="[object Number]"&&Xo<=_n&&_n<=Ns}re.numberRange=Cr;function Wr(_n){return xe.call(_n)==="[object Number]"&&-2147483648<=_n&&_n<=2147483647}re.integer=Wr;function Xr(_n){return xe.call(_n)==="[object Number]"&&0<=_n&&_n<=2147483647}re.uinteger=Xr;function Fn(_n){return xe.call(_n)==="[object Function]"}re.func=Fn;function Oi(_n){return _n!==null&&typeof _n=="object"}re.objectLiteral=Oi;function Ts(_n,Xo){return Array.isArray(_n)&&_n.every(Xo)}re.typedArray=Ts})(He||(He={}))})});var Mc=P(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});Kp.ProtocolNotificationType=Kp.ProtocolNotificationType0=Kp.ProtocolRequestType=Kp.ProtocolRequestType0=Kp.RegistrationType=Kp.MessageDirection=void 0;var JR=qT(),wpt;(function(r){r.clientToServer="clientToServer",r.serverToClient="serverToClient",r.both="both"})(wpt=Kp.MessageDirection||(Kp.MessageDirection={}));var QQ=class{constructor(e){this.method=e}};Kp.RegistrationType=QQ;var ZQ=class extends JR.RequestType0{constructor(e){super(e)}};Kp.ProtocolRequestType0=ZQ;var eZ=class extends JR.RequestType{constructor(e){super(e,JR.ParameterStructures.byName)}};Kp.ProtocolRequestType=eZ;var tZ=class extends JR.NotificationType0{constructor(e){super(e)}};Kp.ProtocolNotificationType0=tZ;var rZ=class extends JR.NotificationType{constructor(e){super(e,JR.ParameterStructures.byName)}};Kp.ProtocolNotificationType=rZ});var bU=P(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.objectLiteral=Gu.typedArray=Gu.stringArray=Gu.array=Gu.func=Gu.error=Gu.number=Gu.string=Gu.boolean=void 0;function Spt(r){return r===!0||r===!1}Gu.boolean=Spt;function rRe(r){return typeof r=="string"||r instanceof String}Gu.string=rRe;function Cpt(r){return typeof r=="number"||r instanceof Number}Gu.number=Cpt;function Dpt(r){return r instanceof Error}Gu.error=Dpt;function Tpt(r){return typeof r=="function"}Gu.func=Tpt;function nRe(r){return Array.isArray(r)}Gu.array=nRe;function Ppt(r){return nRe(r)&&r.every(e=>rRe(e))}Gu.stringArray=Ppt;function Rpt(r,e){return Array.isArray(r)&&r.every(e)}Gu.typedArray=Rpt;function xpt(r){return r!==null&&typeof r=="object"}Gu.objectLiteral=xpt});var oRe=P($A=>{"use strict";Object.defineProperty($A,"__esModule",{value:!0});$A.ImplementationRequest=void 0;var iRe=Mc(),Ept;(function(r){r.method="textDocument/implementation",r.messageDirection=iRe.MessageDirection.clientToServer,r.type=new iRe.ProtocolRequestType(r.method)})(Ept=$A.ImplementationRequest||($A.ImplementationRequest={}))});var aRe=P(VA=>{"use strict";Object.defineProperty(VA,"__esModule",{value:!0});VA.TypeDefinitionRequest=void 0;var sRe=Mc(),Opt;(function(r){r.method="textDocument/typeDefinition",r.messageDirection=sRe.MessageDirection.clientToServer,r.type=new sRe.ProtocolRequestType(r.method)})(Opt=VA.TypeDefinitionRequest||(VA.TypeDefinitionRequest={}))});var cRe=P(UC=>{"use strict";Object.defineProperty(UC,"__esModule",{value:!0});UC.DidChangeWorkspaceFoldersNotification=UC.WorkspaceFoldersRequest=void 0;var _U=Mc(),Ipt;(function(r){r.method="workspace/workspaceFolders",r.messageDirection=_U.MessageDirection.serverToClient,r.type=new _U.ProtocolRequestType0(r.method)})(Ipt=UC.WorkspaceFoldersRequest||(UC.WorkspaceFoldersRequest={}));var kpt;(function(r){r.method="workspace/didChangeWorkspaceFolders",r.messageDirection=_U.MessageDirection.clientToServer,r.type=new _U.ProtocolNotificationType(r.method)})(kpt=UC.DidChangeWorkspaceFoldersNotification||(UC.DidChangeWorkspaceFoldersNotification={}))});var lRe=P(GA=>{"use strict";Object.defineProperty(GA,"__esModule",{value:!0});GA.ConfigurationRequest=void 0;var uRe=Mc(),Apt;(function(r){r.method="workspace/configuration",r.messageDirection=uRe.MessageDirection.serverToClient,r.type=new uRe.ProtocolRequestType(r.method)})(Apt=GA.ConfigurationRequest||(GA.ConfigurationRequest={}))});var dRe=P(HC=>{"use strict";Object.defineProperty(HC,"__esModule",{value:!0});HC.ColorPresentationRequest=HC.DocumentColorRequest=void 0;var wU=Mc(),Mpt;(function(r){r.method="textDocument/documentColor",r.messageDirection=wU.MessageDirection.clientToServer,r.type=new wU.ProtocolRequestType(r.method)})(Mpt=HC.DocumentColorRequest||(HC.DocumentColorRequest={}));var Lpt;(function(r){r.method="textDocument/colorPresentation",r.messageDirection=wU.MessageDirection.clientToServer,r.type=new wU.ProtocolRequestType(r.method)})(Lpt=HC.ColorPresentationRequest||(HC.ColorPresentationRequest={}))});var pRe=P(KA=>{"use strict";Object.defineProperty(KA,"__esModule",{value:!0});KA.FoldingRangeRequest=void 0;var fRe=Mc(),Npt;(function(r){r.method="textDocument/foldingRange",r.messageDirection=fRe.MessageDirection.clientToServer,r.type=new fRe.ProtocolRequestType(r.method)})(Npt=KA.FoldingRangeRequest||(KA.FoldingRangeRequest={}))});var mRe=P(YA=>{"use strict";Object.defineProperty(YA,"__esModule",{value:!0});YA.DeclarationRequest=void 0;var hRe=Mc(),Fpt;(function(r){r.method="textDocument/declaration",r.messageDirection=hRe.MessageDirection.clientToServer,r.type=new hRe.ProtocolRequestType(r.method)})(Fpt=YA.DeclarationRequest||(YA.DeclarationRequest={}))});var vRe=P(JA=>{"use strict";Object.defineProperty(JA,"__esModule",{value:!0});JA.SelectionRangeRequest=void 0;var gRe=Mc(),qpt;(function(r){r.method="textDocument/selectionRange",r.messageDirection=gRe.MessageDirection.clientToServer,r.type=new gRe.ProtocolRequestType(r.method)})(qpt=JA.SelectionRangeRequest||(JA.SelectionRangeRequest={}))});var yRe=P(Cy=>{"use strict";Object.defineProperty(Cy,"__esModule",{value:!0});Cy.WorkDoneProgressCancelNotification=Cy.WorkDoneProgressCreateRequest=Cy.WorkDoneProgress=void 0;var jpt=qT(),SU=Mc(),zpt;(function(r){r.type=new jpt.ProgressType;function e(t){return t===r.type}r.is=e})(zpt=Cy.WorkDoneProgress||(Cy.WorkDoneProgress={}));var Upt;(function(r){r.method="window/workDoneProgress/create",r.messageDirection=SU.MessageDirection.serverToClient,r.type=new SU.ProtocolRequestType(r.method)})(Upt=Cy.WorkDoneProgressCreateRequest||(Cy.WorkDoneProgressCreateRequest={}));var Hpt;(function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=SU.MessageDirection.clientToServer,r.type=new SU.ProtocolNotificationType(r.method)})(Hpt=Cy.WorkDoneProgressCancelNotification||(Cy.WorkDoneProgressCancelNotification={}))});var bRe=P(Dy=>{"use strict";Object.defineProperty(Dy,"__esModule",{value:!0});Dy.CallHierarchyOutgoingCallsRequest=Dy.CallHierarchyIncomingCallsRequest=Dy.CallHierarchyPrepareRequest=void 0;var XR=Mc(),Wpt;(function(r){r.method="textDocument/prepareCallHierarchy",r.messageDirection=XR.MessageDirection.clientToServer,r.type=new XR.ProtocolRequestType(r.method)})(Wpt=Dy.CallHierarchyPrepareRequest||(Dy.CallHierarchyPrepareRequest={}));var Bpt;(function(r){r.method="callHierarchy/incomingCalls",r.messageDirection=XR.MessageDirection.clientToServer,r.type=new XR.ProtocolRequestType(r.method)})(Bpt=Dy.CallHierarchyIncomingCallsRequest||(Dy.CallHierarchyIncomingCallsRequest={}));var $pt;(function(r){r.method="callHierarchy/outgoingCalls",r.messageDirection=XR.MessageDirection.clientToServer,r.type=new XR.ProtocolRequestType(r.method)})($pt=Dy.CallHierarchyOutgoingCallsRequest||(Dy.CallHierarchyOutgoingCallsRequest={}))});var _Re=P(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.SemanticTokensRefreshRequest=Ku.SemanticTokensRangeRequest=Ku.SemanticTokensDeltaRequest=Ku.SemanticTokensRequest=Ku.SemanticTokensRegistrationType=Ku.TokenFormat=void 0;var Ww=Mc(),Vpt;(function(r){r.Relative="relative"})(Vpt=Ku.TokenFormat||(Ku.TokenFormat={}));var CU;(function(r){r.method="textDocument/semanticTokens",r.type=new Ww.RegistrationType(r.method)})(CU=Ku.SemanticTokensRegistrationType||(Ku.SemanticTokensRegistrationType={}));var Gpt;(function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=Ww.MessageDirection.clientToServer,r.type=new Ww.ProtocolRequestType(r.method),r.registrationMethod=CU.method})(Gpt=Ku.SemanticTokensRequest||(Ku.SemanticTokensRequest={}));var Kpt;(function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=Ww.MessageDirection.clientToServer,r.type=new Ww.ProtocolRequestType(r.method),r.registrationMethod=CU.method})(Kpt=Ku.SemanticTokensDeltaRequest||(Ku.SemanticTokensDeltaRequest={}));var Ypt;(function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=Ww.MessageDirection.clientToServer,r.type=new Ww.ProtocolRequestType(r.method),r.registrationMethod=CU.method})(Ypt=Ku.SemanticTokensRangeRequest||(Ku.SemanticTokensRangeRequest={}));var Jpt;(function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=Ww.MessageDirection.clientToServer,r.type=new Ww.ProtocolRequestType0(r.method)})(Jpt=Ku.SemanticTokensRefreshRequest||(Ku.SemanticTokensRefreshRequest={}))});var SRe=P(XA=>{"use strict";Object.defineProperty(XA,"__esModule",{value:!0});XA.ShowDocumentRequest=void 0;var wRe=Mc(),Xpt;(function(r){r.method="window/showDocument",r.messageDirection=wRe.MessageDirection.serverToClient,r.type=new wRe.ProtocolRequestType(r.method)})(Xpt=XA.ShowDocumentRequest||(XA.ShowDocumentRequest={}))});var DRe=P(QA=>{"use strict";Object.defineProperty(QA,"__esModule",{value:!0});QA.LinkedEditingRangeRequest=void 0;var CRe=Mc(),Qpt;(function(r){r.method="textDocument/linkedEditingRange",r.messageDirection=CRe.MessageDirection.clientToServer,r.type=new CRe.ProtocolRequestType(r.method)})(Qpt=QA.LinkedEditingRangeRequest||(QA.LinkedEditingRangeRequest={}))});var TRe=P(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.WillDeleteFilesRequest=Lc.DidDeleteFilesNotification=Lc.DidRenameFilesNotification=Lc.WillRenameFilesRequest=Lc.DidCreateFilesNotification=Lc.WillCreateFilesRequest=Lc.FileOperationPatternKind=void 0;var dv=Mc(),Zpt;(function(r){r.file="file",r.folder="folder"})(Zpt=Lc.FileOperationPatternKind||(Lc.FileOperationPatternKind={}));var eht;(function(r){r.method="workspace/willCreateFiles",r.messageDirection=dv.MessageDirection.clientToServer,r.type=new dv.ProtocolRequestType(r.method)})(eht=Lc.WillCreateFilesRequest||(Lc.WillCreateFilesRequest={}));var tht;(function(r){r.method="workspace/didCreateFiles",r.messageDirection=dv.MessageDirection.clientToServer,r.type=new dv.ProtocolNotificationType(r.method)})(tht=Lc.DidCreateFilesNotification||(Lc.DidCreateFilesNotification={}));var rht;(function(r){r.method="workspace/willRenameFiles",r.messageDirection=dv.MessageDirection.clientToServer,r.type=new dv.ProtocolRequestType(r.method)})(rht=Lc.WillRenameFilesRequest||(Lc.WillRenameFilesRequest={}));var nht;(function(r){r.method="workspace/didRenameFiles",r.messageDirection=dv.MessageDirection.clientToServer,r.type=new dv.ProtocolNotificationType(r.method)})(nht=Lc.DidRenameFilesNotification||(Lc.DidRenameFilesNotification={}));var iht;(function(r){r.method="workspace/didDeleteFiles",r.messageDirection=dv.MessageDirection.clientToServer,r.type=new dv.ProtocolNotificationType(r.method)})(iht=Lc.DidDeleteFilesNotification||(Lc.DidDeleteFilesNotification={}));var oht;(function(r){r.method="workspace/willDeleteFiles",r.messageDirection=dv.MessageDirection.clientToServer,r.type=new dv.ProtocolRequestType(r.method)})(oht=Lc.WillDeleteFilesRequest||(Lc.WillDeleteFilesRequest={}))});var RRe=P(Ty=>{"use strict";Object.defineProperty(Ty,"__esModule",{value:!0});Ty.MonikerRequest=Ty.MonikerKind=Ty.UniquenessLevel=void 0;var PRe=Mc(),sht;(function(r){r.document="document",r.project="project",r.group="group",r.scheme="scheme",r.global="global"})(sht=Ty.UniquenessLevel||(Ty.UniquenessLevel={}));var aht;(function(r){r.$import="import",r.$export="export",r.local="local"})(aht=Ty.MonikerKind||(Ty.MonikerKind={}));var cht;(function(r){r.method="textDocument/moniker",r.messageDirection=PRe.MessageDirection.clientToServer,r.type=new PRe.ProtocolRequestType(r.method)})(cht=Ty.MonikerRequest||(Ty.MonikerRequest={}))});var xRe=P(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0});Py.TypeHierarchySubtypesRequest=Py.TypeHierarchySupertypesRequest=Py.TypeHierarchyPrepareRequest=void 0;var QR=Mc(),uht;(function(r){r.method="textDocument/prepareTypeHierarchy",r.messageDirection=QR.MessageDirection.clientToServer,r.type=new QR.ProtocolRequestType(r.method)})(uht=Py.TypeHierarchyPrepareRequest||(Py.TypeHierarchyPrepareRequest={}));var lht;(function(r){r.method="typeHierarchy/supertypes",r.messageDirection=QR.MessageDirection.clientToServer,r.type=new QR.ProtocolRequestType(r.method)})(lht=Py.TypeHierarchySupertypesRequest||(Py.TypeHierarchySupertypesRequest={}));var dht;(function(r){r.method="typeHierarchy/subtypes",r.messageDirection=QR.MessageDirection.clientToServer,r.type=new QR.ProtocolRequestType(r.method)})(dht=Py.TypeHierarchySubtypesRequest||(Py.TypeHierarchySubtypesRequest={}))});var ERe=P(WC=>{"use strict";Object.defineProperty(WC,"__esModule",{value:!0});WC.InlineValueRefreshRequest=WC.InlineValueRequest=void 0;var DU=Mc(),fht;(function(r){r.method="textDocument/inlineValue",r.messageDirection=DU.MessageDirection.clientToServer,r.type=new DU.ProtocolRequestType(r.method)})(fht=WC.InlineValueRequest||(WC.InlineValueRequest={}));var pht;(function(r){r.method="workspace/inlineValue/refresh",r.messageDirection=DU.MessageDirection.clientToServer,r.type=new DU.ProtocolRequestType0(r.method)})(pht=WC.InlineValueRefreshRequest||(WC.InlineValueRefreshRequest={}))});var ORe=P(Ry=>{"use strict";Object.defineProperty(Ry,"__esModule",{value:!0});Ry.InlayHintRefreshRequest=Ry.InlayHintResolveRequest=Ry.InlayHintRequest=void 0;var ZR=Mc(),hht;(function(r){r.method="textDocument/inlayHint",r.messageDirection=ZR.MessageDirection.clientToServer,r.type=new ZR.ProtocolRequestType(r.method)})(hht=Ry.InlayHintRequest||(Ry.InlayHintRequest={}));var mht;(function(r){r.method="inlayHint/resolve",r.messageDirection=ZR.MessageDirection.clientToServer,r.type=new ZR.ProtocolRequestType(r.method)})(mht=Ry.InlayHintResolveRequest||(Ry.InlayHintResolveRequest={}));var ght;(function(r){r.method="workspace/inlayHint/refresh",r.messageDirection=ZR.MessageDirection.clientToServer,r.type=new ZR.ProtocolRequestType0(r.method)})(ght=Ry.InlayHintRefreshRequest||(Ry.InlayHintRefreshRequest={}))});var kRe=P($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.DiagnosticRefreshRequest=$d.WorkspaceDiagnosticRequest=$d.DocumentDiagnosticRequest=$d.DocumentDiagnosticReportKind=$d.DiagnosticServerCancellationData=void 0;var IRe=qT(),vht=bU(),ex=Mc(),yht;(function(r){function e(t){let n=t;return n&&vht.boolean(n.retriggerRequest)}r.is=e})(yht=$d.DiagnosticServerCancellationData||($d.DiagnosticServerCancellationData={}));var bht;(function(r){r.Full="full",r.Unchanged="unchanged"})(bht=$d.DocumentDiagnosticReportKind||($d.DocumentDiagnosticReportKind={}));var _ht;(function(r){r.method="textDocument/diagnostic",r.messageDirection=ex.MessageDirection.clientToServer,r.type=new ex.ProtocolRequestType(r.method),r.partialResult=new IRe.ProgressType})(_ht=$d.DocumentDiagnosticRequest||($d.DocumentDiagnosticRequest={}));var wht;(function(r){r.method="workspace/diagnostic",r.messageDirection=ex.MessageDirection.clientToServer,r.type=new ex.ProtocolRequestType(r.method),r.partialResult=new IRe.ProgressType})(wht=$d.WorkspaceDiagnosticRequest||($d.WorkspaceDiagnosticRequest={}));var Sht;(function(r){r.method="workspace/diagnostic/refresh",r.messageDirection=ex.MessageDirection.clientToServer,r.type=new ex.ProtocolRequestType0(r.method)})(Sht=$d.DiagnosticRefreshRequest||($d.DiagnosticRefreshRequest={}))});var LRe=P(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.DidCloseNotebookDocumentNotification=as.DidSaveNotebookDocumentNotification=as.DidChangeNotebookDocumentNotification=as.NotebookCellArrayChange=as.DidOpenNotebookDocumentNotification=as.NotebookDocumentSyncRegistrationType=as.NotebookDocument=as.NotebookCell=as.ExecutionSummary=as.NotebookCellKind=void 0;var ZA=yU(),xy=bU(),n_=Mc(),ARe;(function(r){r.Markup=1,r.Code=2;function e(t){return t===1||t===2}r.is=e})(ARe=as.NotebookCellKind||(as.NotebookCellKind={}));var MRe;(function(r){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}r.create=e;function t(i){let o=i;return xy.objectLiteral(o)&&ZA.uinteger.is(o.executionOrder)&&(o.success===void 0||xy.boolean(o.success))}r.is=t;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}r.equals=n})(MRe=as.ExecutionSummary||(as.ExecutionSummary={}));var nZ;(function(r){function e(o,s){return{kind:o,document:s}}r.create=e;function t(o){let s=o;return xy.objectLiteral(s)&&ARe.is(s.kind)&&ZA.DocumentUri.is(s.document)&&(s.metadata===void 0||xy.objectLiteral(s.metadata))}r.is=t;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!MRe.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(xy.objectLiteral(o)&&xy.objectLiteral(s)){let u=Object.keys(o),l=Object.keys(s);if(u.length!==l.length||(u.sort(),l.sort(),!i(u,l)))return!1;for(let d=0;d<u.length;d++){let f=u[d];if(!i(o[f],s[f]))return!1}}return!0}})(nZ=as.NotebookCell||(as.NotebookCell={}));var Cht;(function(r){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}r.create=e;function t(n){let i=n;return xy.objectLiteral(i)&&xy.string(i.uri)&&ZA.integer.is(i.version)&&xy.typedArray(i.cells,nZ.is)}r.is=t})(Cht=as.NotebookDocument||(as.NotebookDocument={}));var eM;(function(r){r.method="notebookDocument/sync",r.messageDirection=n_.MessageDirection.clientToServer,r.type=new n_.RegistrationType(r.method)})(eM=as.NotebookDocumentSyncRegistrationType||(as.NotebookDocumentSyncRegistrationType={}));var Dht;(function(r){r.method="notebookDocument/didOpen",r.messageDirection=n_.MessageDirection.clientToServer,r.type=new n_.ProtocolNotificationType(r.method),r.registrationMethod=eM.method})(Dht=as.DidOpenNotebookDocumentNotification||(as.DidOpenNotebookDocumentNotification={}));var Tht;(function(r){function e(n){let i=n;return xy.objectLiteral(i)&&ZA.uinteger.is(i.start)&&ZA.uinteger.is(i.deleteCount)&&(i.cells===void 0||xy.typedArray(i.cells,nZ.is))}r.is=e;function t(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}r.create=t})(Tht=as.NotebookCellArrayChange||(as.NotebookCellArrayChange={}));var Pht;(function(r){r.method="notebookDocument/didChange",r.messageDirection=n_.MessageDirection.clientToServer,r.type=new n_.ProtocolNotificationType(r.method),r.registrationMethod=eM.method})(Pht=as.DidChangeNotebookDocumentNotification||(as.DidChangeNotebookDocumentNotification={}));var Rht;(function(r){r.method="notebookDocument/didSave",r.messageDirection=n_.MessageDirection.clientToServer,r.type=new n_.ProtocolNotificationType(r.method),r.registrationMethod=eM.method})(Rht=as.DidSaveNotebookDocumentNotification||(as.DidSaveNotebookDocumentNotification={}));var xht;(function(r){r.method="notebookDocument/didClose",r.messageDirection=n_.MessageDirection.clientToServer,r.type=new n_.ProtocolNotificationType(r.method),r.registrationMethod=eM.method})(xht=as.DidCloseNotebookDocumentNotification||(as.DidCloseNotebookDocumentNotification={}))});var BRe=P(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.WorkspaceSymbolRequest=me.CodeActionResolveRequest=me.CodeActionRequest=me.DocumentSymbolRequest=me.DocumentHighlightRequest=me.ReferencesRequest=me.DefinitionRequest=me.SignatureHelpRequest=me.SignatureHelpTriggerKind=me.HoverRequest=me.CompletionResolveRequest=me.CompletionRequest=me.CompletionTriggerKind=me.PublishDiagnosticsNotification=me.WatchKind=me.RelativePattern=me.FileChangeType=me.DidChangeWatchedFilesNotification=me.WillSaveTextDocumentWaitUntilRequest=me.WillSaveTextDocumentNotification=me.TextDocumentSaveReason=me.DidSaveTextDocumentNotification=me.DidCloseTextDocumentNotification=me.DidChangeTextDocumentNotification=me.TextDocumentContentChangeEvent=me.DidOpenTextDocumentNotification=me.TextDocumentSyncKind=me.TelemetryEventNotification=me.LogMessageNotification=me.ShowMessageRequest=me.ShowMessageNotification=me.MessageType=me.DidChangeConfigurationNotification=me.ExitNotification=me.ShutdownRequest=me.InitializedNotification=me.InitializeErrorCodes=me.InitializeRequest=me.WorkDoneProgressOptions=me.TextDocumentRegistrationOptions=me.StaticRegistrationOptions=me.PositionEncodingKind=me.FailureHandlingKind=me.ResourceOperationKind=me.UnregistrationRequest=me.RegistrationRequest=me.DocumentSelector=me.NotebookCellTextDocumentFilter=me.NotebookDocumentFilter=me.TextDocumentFilter=void 0;me.TypeHierarchySubtypesRequest=me.TypeHierarchyPrepareRequest=me.MonikerRequest=me.MonikerKind=me.UniquenessLevel=me.WillDeleteFilesRequest=me.DidDeleteFilesNotification=me.WillRenameFilesRequest=me.DidRenameFilesNotification=me.WillCreateFilesRequest=me.DidCreateFilesNotification=me.FileOperationPatternKind=me.LinkedEditingRangeRequest=me.ShowDocumentRequest=me.SemanticTokensRegistrationType=me.SemanticTokensRefreshRequest=me.SemanticTokensRangeRequest=me.SemanticTokensDeltaRequest=me.SemanticTokensRequest=me.TokenFormat=me.CallHierarchyPrepareRequest=me.CallHierarchyOutgoingCallsRequest=me.CallHierarchyIncomingCallsRequest=me.WorkDoneProgressCancelNotification=me.WorkDoneProgressCreateRequest=me.WorkDoneProgress=me.SelectionRangeRequest=me.DeclarationRequest=me.FoldingRangeRequest=me.ColorPresentationRequest=me.DocumentColorRequest=me.ConfigurationRequest=me.DidChangeWorkspaceFoldersNotification=me.WorkspaceFoldersRequest=me.TypeDefinitionRequest=me.ImplementationRequest=me.ApplyWorkspaceEditRequest=me.ExecuteCommandRequest=me.PrepareRenameRequest=me.RenameRequest=me.PrepareSupportDefaultBehavior=me.DocumentOnTypeFormattingRequest=me.DocumentRangeFormattingRequest=me.DocumentFormattingRequest=me.DocumentLinkResolveRequest=me.DocumentLinkRequest=me.CodeLensRefreshRequest=me.CodeLensResolveRequest=me.CodeLensRequest=me.WorkspaceSymbolResolveRequest=void 0;me.DidCloseNotebookDocumentNotification=me.DidSaveNotebookDocumentNotification=me.DidChangeNotebookDocumentNotification=me.NotebookCellArrayChange=me.DidOpenNotebookDocumentNotification=me.NotebookDocumentSyncRegistrationType=me.NotebookDocument=me.NotebookCell=me.ExecutionSummary=me.NotebookCellKind=me.DiagnosticRefreshRequest=me.WorkspaceDiagnosticRequest=me.DocumentDiagnosticRequest=me.DocumentDiagnosticReportKind=me.DiagnosticServerCancellationData=me.InlayHintRefreshRequest=me.InlayHintResolveRequest=me.InlayHintRequest=me.InlineValueRefreshRequest=me.InlineValueRequest=me.TypeHierarchySupertypesRequest=void 0;var Tr=Mc(),NRe=yU(),Vd=bU(),Eht=oRe();Object.defineProperty(me,"ImplementationRequest",{enumerable:!0,get:function(){return Eht.ImplementationRequest}});var Oht=aRe();Object.defineProperty(me,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Oht.TypeDefinitionRequest}});var FRe=cRe();Object.defineProperty(me,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return FRe.WorkspaceFoldersRequest}});Object.defineProperty(me,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return FRe.DidChangeWorkspaceFoldersNotification}});var Iht=lRe();Object.defineProperty(me,"ConfigurationRequest",{enumerable:!0,get:function(){return Iht.ConfigurationRequest}});var qRe=dRe();Object.defineProperty(me,"DocumentColorRequest",{enumerable:!0,get:function(){return qRe.DocumentColorRequest}});Object.defineProperty(me,"ColorPresentationRequest",{enumerable:!0,get:function(){return qRe.ColorPresentationRequest}});var kht=pRe();Object.defineProperty(me,"FoldingRangeRequest",{enumerable:!0,get:function(){return kht.FoldingRangeRequest}});var Aht=mRe();Object.defineProperty(me,"DeclarationRequest",{enumerable:!0,get:function(){return Aht.DeclarationRequest}});var Mht=vRe();Object.defineProperty(me,"SelectionRangeRequest",{enumerable:!0,get:function(){return Mht.SelectionRangeRequest}});var iZ=yRe();Object.defineProperty(me,"WorkDoneProgress",{enumerable:!0,get:function(){return iZ.WorkDoneProgress}});Object.defineProperty(me,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return iZ.WorkDoneProgressCreateRequest}});Object.defineProperty(me,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return iZ.WorkDoneProgressCancelNotification}});var oZ=bRe();Object.defineProperty(me,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return oZ.CallHierarchyIncomingCallsRequest}});Object.defineProperty(me,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return oZ.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(me,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return oZ.CallHierarchyPrepareRequest}});var tx=_Re();Object.defineProperty(me,"TokenFormat",{enumerable:!0,get:function(){return tx.TokenFormat}});Object.defineProperty(me,"SemanticTokensRequest",{enumerable:!0,get:function(){return tx.SemanticTokensRequest}});Object.defineProperty(me,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return tx.SemanticTokensDeltaRequest}});Object.defineProperty(me,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return tx.SemanticTokensRangeRequest}});Object.defineProperty(me,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return tx.SemanticTokensRefreshRequest}});Object.defineProperty(me,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return tx.SemanticTokensRegistrationType}});var Lht=SRe();Object.defineProperty(me,"ShowDocumentRequest",{enumerable:!0,get:function(){return Lht.ShowDocumentRequest}});var Nht=DRe();Object.defineProperty(me,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Nht.LinkedEditingRangeRequest}});var jT=TRe();Object.defineProperty(me,"FileOperationPatternKind",{enumerable:!0,get:function(){return jT.FileOperationPatternKind}});Object.defineProperty(me,"DidCreateFilesNotification",{enumerable:!0,get:function(){return jT.DidCreateFilesNotification}});Object.defineProperty(me,"WillCreateFilesRequest",{enumerable:!0,get:function(){return jT.WillCreateFilesRequest}});Object.defineProperty(me,"DidRenameFilesNotification",{enumerable:!0,get:function(){return jT.DidRenameFilesNotification}});Object.defineProperty(me,"WillRenameFilesRequest",{enumerable:!0,get:function(){return jT.WillRenameFilesRequest}});Object.defineProperty(me,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return jT.DidDeleteFilesNotification}});Object.defineProperty(me,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return jT.WillDeleteFilesRequest}});var sZ=RRe();Object.defineProperty(me,"UniquenessLevel",{enumerable:!0,get:function(){return sZ.UniquenessLevel}});Object.defineProperty(me,"MonikerKind",{enumerable:!0,get:function(){return sZ.MonikerKind}});Object.defineProperty(me,"MonikerRequest",{enumerable:!0,get:function(){return sZ.MonikerRequest}});var aZ=xRe();Object.defineProperty(me,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return aZ.TypeHierarchyPrepareRequest}});Object.defineProperty(me,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return aZ.TypeHierarchySubtypesRequest}});Object.defineProperty(me,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return aZ.TypeHierarchySupertypesRequest}});var jRe=ERe();Object.defineProperty(me,"InlineValueRequest",{enumerable:!0,get:function(){return jRe.InlineValueRequest}});Object.defineProperty(me,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return jRe.InlineValueRefreshRequest}});var cZ=ORe();Object.defineProperty(me,"InlayHintRequest",{enumerable:!0,get:function(){return cZ.InlayHintRequest}});Object.defineProperty(me,"InlayHintResolveRequest",{enumerable:!0,get:function(){return cZ.InlayHintResolveRequest}});Object.defineProperty(me,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return cZ.InlayHintRefreshRequest}});var tM=kRe();Object.defineProperty(me,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return tM.DiagnosticServerCancellationData}});Object.defineProperty(me,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return tM.DocumentDiagnosticReportKind}});Object.defineProperty(me,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return tM.DocumentDiagnosticRequest}});Object.defineProperty(me,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return tM.WorkspaceDiagnosticRequest}});Object.defineProperty(me,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return tM.DiagnosticRefreshRequest}});var i_=LRe();Object.defineProperty(me,"NotebookCellKind",{enumerable:!0,get:function(){return i_.NotebookCellKind}});Object.defineProperty(me,"ExecutionSummary",{enumerable:!0,get:function(){return i_.ExecutionSummary}});Object.defineProperty(me,"NotebookCell",{enumerable:!0,get:function(){return i_.NotebookCell}});Object.defineProperty(me,"NotebookDocument",{enumerable:!0,get:function(){return i_.NotebookDocument}});Object.defineProperty(me,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return i_.NotebookDocumentSyncRegistrationType}});Object.defineProperty(me,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return i_.DidOpenNotebookDocumentNotification}});Object.defineProperty(me,"NotebookCellArrayChange",{enumerable:!0,get:function(){return i_.NotebookCellArrayChange}});Object.defineProperty(me,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return i_.DidChangeNotebookDocumentNotification}});Object.defineProperty(me,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return i_.DidSaveNotebookDocumentNotification}});Object.defineProperty(me,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return i_.DidCloseNotebookDocumentNotification}});var zRe;(function(r){function e(t){let n=t;return Vd.string(n.language)||Vd.string(n.scheme)||Vd.string(n.pattern)}r.is=e})(zRe=me.TextDocumentFilter||(me.TextDocumentFilter={}));var URe;(function(r){function e(t){let n=t;return Vd.objectLiteral(n)&&(Vd.string(n.notebookType)||Vd.string(n.scheme)||Vd.string(n.pattern))}r.is=e})(URe=me.NotebookDocumentFilter||(me.NotebookDocumentFilter={}));var HRe;(function(r){function e(t){let n=t;return Vd.objectLiteral(n)&&(Vd.string(n.notebook)||URe.is(n.notebook))&&(n.language===void 0||Vd.string(n.language))}r.is=e})(HRe=me.NotebookCellTextDocumentFilter||(me.NotebookCellTextDocumentFilter={}));var WRe;(function(r){function e(t){if(!Array.isArray(t))return!1;for(let n of t)if(!Vd.string(n)&&!zRe.is(n)&&!HRe.is(n))return!1;return!0}r.is=e})(WRe=me.DocumentSelector||(me.DocumentSelector={}));var Fht;(function(r){r.method="client/registerCapability",r.messageDirection=Tr.MessageDirection.serverToClient,r.type=new Tr.ProtocolRequestType(r.method)})(Fht=me.RegistrationRequest||(me.RegistrationRequest={}));var qht;(function(r){r.method="client/unregisterCapability",r.messageDirection=Tr.MessageDirection.serverToClient,r.type=new Tr.ProtocolRequestType(r.method)})(qht=me.UnregistrationRequest||(me.UnregistrationRequest={}));var jht;(function(r){r.Create="create",r.Rename="rename",r.Delete="delete"})(jht=me.ResourceOperationKind||(me.ResourceOperationKind={}));var zht;(function(r){r.Abort="abort",r.Transactional="transactional",r.TextOnlyTransactional="textOnlyTransactional",r.Undo="undo"})(zht=me.FailureHandlingKind||(me.FailureHandlingKind={}));var Uht;(function(r){r.UTF8="utf-8",r.UTF16="utf-16",r.UTF32="utf-32"})(Uht=me.PositionEncodingKind||(me.PositionEncodingKind={}));var Hht;(function(r){function e(t){let n=t;return n&&Vd.string(n.id)&&n.id.length>0}r.hasId=e})(Hht=me.StaticRegistrationOptions||(me.StaticRegistrationOptions={}));var Wht;(function(r){function e(t){let n=t;return n&&(n.documentSelector===null||WRe.is(n.documentSelector))}r.is=e})(Wht=me.TextDocumentRegistrationOptions||(me.TextDocumentRegistrationOptions={}));var Bht;(function(r){function e(n){let i=n;return Vd.objectLiteral(i)&&(i.workDoneProgress===void 0||Vd.boolean(i.workDoneProgress))}r.is=e;function t(n){let i=n;return i&&Vd.boolean(i.workDoneProgress)}r.hasWorkDoneProgress=t})(Bht=me.WorkDoneProgressOptions||(me.WorkDoneProgressOptions={}));var $ht;(function(r){r.method="initialize",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})($ht=me.InitializeRequest||(me.InitializeRequest={}));var Vht;(function(r){r.unknownProtocolVersion=1})(Vht=me.InitializeErrorCodes||(me.InitializeErrorCodes={}));var Ght;(function(r){r.method="initialized",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolNotificationType(r.method)})(Ght=me.InitializedNotification||(me.InitializedNotification={}));var Kht;(function(r){r.method="shutdown",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType0(r.method)})(Kht=me.ShutdownRequest||(me.ShutdownRequest={}));var Yht;(function(r){r.method="exit",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolNotificationType0(r.method)})(Yht=me.ExitNotification||(me.ExitNotification={}));var Jht;(function(r){r.method="workspace/didChangeConfiguration",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolNotificationType(r.method)})(Jht=me.DidChangeConfigurationNotification||(me.DidChangeConfigurationNotification={}));var Xht;(function(r){r.Error=1,r.Warning=2,r.Info=3,r.Log=4})(Xht=me.MessageType||(me.MessageType={}));var Qht;(function(r){r.method="window/showMessage",r.messageDirection=Tr.MessageDirection.serverToClient,r.type=new Tr.ProtocolNotificationType(r.method)})(Qht=me.ShowMessageNotification||(me.ShowMessageNotification={}));var Zht;(function(r){r.method="window/showMessageRequest",r.messageDirection=Tr.MessageDirection.serverToClient,r.type=new Tr.ProtocolRequestType(r.method)})(Zht=me.ShowMessageRequest||(me.ShowMessageRequest={}));var emt;(function(r){r.method="window/logMessage",r.messageDirection=Tr.MessageDirection.serverToClient,r.type=new Tr.ProtocolNotificationType(r.method)})(emt=me.LogMessageNotification||(me.LogMessageNotification={}));var tmt;(function(r){r.method="telemetry/event",r.messageDirection=Tr.MessageDirection.serverToClient,r.type=new Tr.ProtocolNotificationType(r.method)})(tmt=me.TelemetryEventNotification||(me.TelemetryEventNotification={}));var rmt;(function(r){r.None=0,r.Full=1,r.Incremental=2})(rmt=me.TextDocumentSyncKind||(me.TextDocumentSyncKind={}));var nmt;(function(r){r.method="textDocument/didOpen",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolNotificationType(r.method)})(nmt=me.DidOpenTextDocumentNotification||(me.DidOpenTextDocumentNotification={}));var imt;(function(r){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r.isIncremental=e;function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r.isFull=t})(imt=me.TextDocumentContentChangeEvent||(me.TextDocumentContentChangeEvent={}));var omt;(function(r){r.method="textDocument/didChange",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolNotificationType(r.method)})(omt=me.DidChangeTextDocumentNotification||(me.DidChangeTextDocumentNotification={}));var smt;(function(r){r.method="textDocument/didClose",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolNotificationType(r.method)})(smt=me.DidCloseTextDocumentNotification||(me.DidCloseTextDocumentNotification={}));var amt;(function(r){r.method="textDocument/didSave",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolNotificationType(r.method)})(amt=me.DidSaveTextDocumentNotification||(me.DidSaveTextDocumentNotification={}));var cmt;(function(r){r.Manual=1,r.AfterDelay=2,r.FocusOut=3})(cmt=me.TextDocumentSaveReason||(me.TextDocumentSaveReason={}));var umt;(function(r){r.method="textDocument/willSave",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolNotificationType(r.method)})(umt=me.WillSaveTextDocumentNotification||(me.WillSaveTextDocumentNotification={}));var lmt;(function(r){r.method="textDocument/willSaveWaitUntil",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(lmt=me.WillSaveTextDocumentWaitUntilRequest||(me.WillSaveTextDocumentWaitUntilRequest={}));var dmt;(function(r){r.method="workspace/didChangeWatchedFiles",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolNotificationType(r.method)})(dmt=me.DidChangeWatchedFilesNotification||(me.DidChangeWatchedFilesNotification={}));var fmt;(function(r){r.Created=1,r.Changed=2,r.Deleted=3})(fmt=me.FileChangeType||(me.FileChangeType={}));var pmt;(function(r){function e(t){let n=t;return Vd.objectLiteral(n)&&(NRe.URI.is(n.baseUri)||NRe.WorkspaceFolder.is(n.baseUri))&&Vd.string(n.pattern)}r.is=e})(pmt=me.RelativePattern||(me.RelativePattern={}));var hmt;(function(r){r.Create=1,r.Change=2,r.Delete=4})(hmt=me.WatchKind||(me.WatchKind={}));var mmt;(function(r){r.method="textDocument/publishDiagnostics",r.messageDirection=Tr.MessageDirection.serverToClient,r.type=new Tr.ProtocolNotificationType(r.method)})(mmt=me.PublishDiagnosticsNotification||(me.PublishDiagnosticsNotification={}));var gmt;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.TriggerForIncompleteCompletions=3})(gmt=me.CompletionTriggerKind||(me.CompletionTriggerKind={}));var vmt;(function(r){r.method="textDocument/completion",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(vmt=me.CompletionRequest||(me.CompletionRequest={}));var ymt;(function(r){r.method="completionItem/resolve",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(ymt=me.CompletionResolveRequest||(me.CompletionResolveRequest={}));var bmt;(function(r){r.method="textDocument/hover",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(bmt=me.HoverRequest||(me.HoverRequest={}));var _mt;(function(r){r.Invoked=1,r.TriggerCharacter=2,r.ContentChange=3})(_mt=me.SignatureHelpTriggerKind||(me.SignatureHelpTriggerKind={}));var wmt;(function(r){r.method="textDocument/signatureHelp",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(wmt=me.SignatureHelpRequest||(me.SignatureHelpRequest={}));var Smt;(function(r){r.method="textDocument/definition",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Smt=me.DefinitionRequest||(me.DefinitionRequest={}));var Cmt;(function(r){r.method="textDocument/references",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Cmt=me.ReferencesRequest||(me.ReferencesRequest={}));var Dmt;(function(r){r.method="textDocument/documentHighlight",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Dmt=me.DocumentHighlightRequest||(me.DocumentHighlightRequest={}));var Tmt;(function(r){r.method="textDocument/documentSymbol",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Tmt=me.DocumentSymbolRequest||(me.DocumentSymbolRequest={}));var Pmt;(function(r){r.method="textDocument/codeAction",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Pmt=me.CodeActionRequest||(me.CodeActionRequest={}));var Rmt;(function(r){r.method="codeAction/resolve",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Rmt=me.CodeActionResolveRequest||(me.CodeActionResolveRequest={}));var xmt;(function(r){r.method="workspace/symbol",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(xmt=me.WorkspaceSymbolRequest||(me.WorkspaceSymbolRequest={}));var Emt;(function(r){r.method="workspaceSymbol/resolve",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Emt=me.WorkspaceSymbolResolveRequest||(me.WorkspaceSymbolResolveRequest={}));var Omt;(function(r){r.method="textDocument/codeLens",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Omt=me.CodeLensRequest||(me.CodeLensRequest={}));var Imt;(function(r){r.method="codeLens/resolve",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Imt=me.CodeLensResolveRequest||(me.CodeLensResolveRequest={}));var kmt;(function(r){r.method="workspace/codeLens/refresh",r.messageDirection=Tr.MessageDirection.serverToClient,r.type=new Tr.ProtocolRequestType0(r.method)})(kmt=me.CodeLensRefreshRequest||(me.CodeLensRefreshRequest={}));var Amt;(function(r){r.method="textDocument/documentLink",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Amt=me.DocumentLinkRequest||(me.DocumentLinkRequest={}));var Mmt;(function(r){r.method="documentLink/resolve",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Mmt=me.DocumentLinkResolveRequest||(me.DocumentLinkResolveRequest={}));var Lmt;(function(r){r.method="textDocument/formatting",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Lmt=me.DocumentFormattingRequest||(me.DocumentFormattingRequest={}));var Nmt;(function(r){r.method="textDocument/rangeFormatting",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Nmt=me.DocumentRangeFormattingRequest||(me.DocumentRangeFormattingRequest={}));var Fmt;(function(r){r.method="textDocument/onTypeFormatting",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Fmt=me.DocumentOnTypeFormattingRequest||(me.DocumentOnTypeFormattingRequest={}));var qmt;(function(r){r.Identifier=1})(qmt=me.PrepareSupportDefaultBehavior||(me.PrepareSupportDefaultBehavior={}));var jmt;(function(r){r.method="textDocument/rename",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(jmt=me.RenameRequest||(me.RenameRequest={}));var zmt;(function(r){r.method="textDocument/prepareRename",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(zmt=me.PrepareRenameRequest||(me.PrepareRenameRequest={}));var Umt;(function(r){r.method="workspace/executeCommand",r.messageDirection=Tr.MessageDirection.clientToServer,r.type=new Tr.ProtocolRequestType(r.method)})(Umt=me.ExecuteCommandRequest||(me.ExecuteCommandRequest={}));var Hmt;(function(r){r.method="workspace/applyEdit",r.messageDirection=Tr.MessageDirection.serverToClient,r.type=new Tr.ProtocolRequestType("workspace/applyEdit")})(Hmt=me.ApplyWorkspaceEditRequest||(me.ApplyWorkspaceEditRequest={}))});var VRe=P(TU=>{"use strict";Object.defineProperty(TU,"__esModule",{value:!0});TU.createProtocolConnection=void 0;var $Re=qT();function Wmt(r,e,t,n){return $Re.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,$Re.createMessageConnection)(r,e,t,n)}TU.createProtocolConnection=Wmt});var GRe=P(Yp=>{"use strict";var Bmt=Yp&&Yp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),PU=Yp&&Yp.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Bmt(e,r,t)};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.LSPErrorCodes=Yp.createProtocolConnection=void 0;PU(qT(),Yp);PU(yU(),Yp);PU(Mc(),Yp);PU(BRe(),Yp);var $mt=VRe();Object.defineProperty(Yp,"createProtocolConnection",{enumerable:!0,get:function(){return $mt.createProtocolConnection}});var Vmt;(function(r){r.lspReservedErrorRangeStart=-32899,r.RequestFailed=-32803,r.ServerCancelled=-32802,r.ContentModified=-32801,r.RequestCancelled=-32800,r.lspReservedErrorRangeEnd=-32800})(Vmt=Yp.LSPErrorCodes||(Yp.LSPErrorCodes={}))});var Fi=P(o_=>{"use strict";var Gmt=o_&&o_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),KRe=o_&&o_.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Gmt(e,r,t)};Object.defineProperty(o_,"__esModule",{value:!0});o_.createProtocolConnection=void 0;var Kmt=XQ();KRe(XQ(),o_);KRe(GRe(),o_);function Ymt(r,e,t,n){return(0,Kmt.createMessageConnection)(r,e,t,n)}o_.createProtocolConnection=Ymt});var iM=P(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.forEach=Vf.mapAsync=Vf.map=Vf.clearTestMode=Vf.setTestMode=Vf.Semaphore=Vf.Delayer=void 0;var nM=Fi(),uZ=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(n=>{this.onSuccess=n}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var n=this.task();return this.task=void 0,n})),(t>=0||this.timeout===void 0)&&(this.timeout=(0,nM.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0)}};Vf.Delayer=uZ;var lZ=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,nM.RAL)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};Vf.Semaphore=lZ;var dZ=!1;function Jmt(){dZ=!0}Vf.setTestMode=Jmt;function Xmt(){dZ=!1}Vf.clearTestMode=Xmt;var YRe=15,rM=class{constructor(e=YRe){this.yieldAfter=dZ===!0?Math.max(e,2):Math.max(e,YRe),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return!1}};async function Qmt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new rM(n?.yieldAfter);function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=e(r[u]),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,nM.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}Vf.map=Qmt;async function Zmt(r,e,t,n){if(r.length===0)return[];let i=new Array(r.length),o=new rM(n?.yieldAfter);async function s(c){o.start();for(let u=c;u<r.length;u++)if(i[u]=await e(r[u],t),o.shouldYield())return n?.yieldCallback&&n.yieldCallback(),u+1;return-1}let a=await s(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0,nM.RAL)().timer.setImmediate(()=>{c(s(a))})});return i}Vf.mapAsync=Zmt;async function egt(r,e,t,n){if(r.length===0)return;let i=new rM(n?.yieldAfter);function o(a){i.start();for(let c=a;c<r.length;c++)if(e(r[c]),i.shouldYield())return n?.yieldCallback&&n.yieldCallback(),c+1;return-1}let s=o(0);for(;s!==-1&&!(t!==void 0&&t.isCancellationRequested);)s=await new Promise(a=>{(0,nM.RAL)().timer.setImmediate(()=>{a(o(s))})})}Vf.forEach=egt});var hZ=P(pZ=>{"use strict";Object.defineProperty(pZ,"__esModule",{value:!0});var tgt=require("vscode"),fZ=class extends tgt.CompletionItem{constructor(e){super(e)}};pZ.default=fZ});var vZ=P(gZ=>{"use strict";Object.defineProperty(gZ,"__esModule",{value:!0});var rgt=require("vscode"),mZ=class extends rgt.CodeLens{constructor(e){super(e)}};gZ.default=mZ});var _Z=P(bZ=>{"use strict";Object.defineProperty(bZ,"__esModule",{value:!0});var ngt=require("vscode"),yZ=class extends ngt.DocumentLink{constructor(e,t){super(e,t)}};bZ.default=yZ});var CZ=P(SZ=>{"use strict";Object.defineProperty(SZ,"__esModule",{value:!0});var igt=require("vscode"),wZ=class extends igt.CodeAction{constructor(e,t){super(e),this.data=t}};SZ.default=wZ});var PZ=P(zT=>{"use strict";Object.defineProperty(zT,"__esModule",{value:!0});zT.ProtocolDiagnostic=zT.DiagnosticCode=void 0;var ogt=require("vscode"),DZ=lv(),sgt;(function(r){function e(t){let n=t;return n!=null&&(DZ.number(n.value)||DZ.string(n.value))&&DZ.string(n.target)}r.is=e})(sgt=zT.DiagnosticCode||(zT.DiagnosticCode={}));var TZ=class extends ogt.Diagnostic{constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}};zT.ProtocolDiagnostic=TZ});var EZ=P(xZ=>{"use strict";Object.defineProperty(xZ,"__esModule",{value:!0});var agt=require("vscode"),RZ=class extends agt.CallHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};xZ.default=RZ});var kZ=P(IZ=>{"use strict";Object.defineProperty(IZ,"__esModule",{value:!0});var cgt=require("vscode"),OZ=class extends cgt.TypeHierarchyItem{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o,s),a!==void 0&&(this.data=a)}};IZ.default=OZ});var LZ=P(MZ=>{"use strict";Object.defineProperty(MZ,"__esModule",{value:!0});var RU=require("vscode"),AZ=class extends RU.SymbolInformation{constructor(e,t,n,i,o){let s=!(i instanceof RU.Uri);super(e,t,n,s?i:new RU.Location(i,new RU.Range(0,0,0,0))),this.hasRange=s,o!==void 0&&(this.data=o)}};MZ.default=AZ});var qZ=P(FZ=>{"use strict";Object.defineProperty(FZ,"__esModule",{value:!0});var ugt=require("vscode"),NZ=class extends ugt.InlayHint{constructor(e,t,n){super(e,t,n)}};FZ.default=NZ});var QRe=P(xU=>{"use strict";Object.defineProperty(xU,"__esModule",{value:!0});xU.createConverter=void 0;var Yu=require("vscode"),Ki=Fi(),rx=lv(),JRe=iM(),lgt=hZ(),dgt=vZ(),fgt=_Z(),pgt=CZ(),XRe=PZ(),hgt=EZ(),mgt=kZ(),ggt=LZ(),vgt=qZ(),jZ;(function(r){function e(t){let n=t;return n&&!!n.inserting&&!!n.replacing}r.is=e})(jZ||(jZ={}));function ygt(r){let t=r||(K=>K.toString());function n(K){return t(K)}function i(K){return{uri:t(K.uri)}}function o(K){return{uri:t(K.uri),languageId:K.languageId,version:K.version,text:K.getText()}}function s(K){return{uri:t(K.uri),version:K.version}}function a(K){return{textDocument:o(K)}}function c(K){let qe=K;return!!qe.document&&!!qe.contentChanges}function u(K){let qe=K;return!!qe.uri&&!!qe.version}function l(K){if(u(K))return{textDocument:{uri:t(K.uri),version:K.version},contentChanges:[{text:K.getText()}]};if(c(K)){let qe=K.document;return{textDocument:{uri:t(qe.uri),version:qe.version},contentChanges:K.contentChanges.map(Dr=>{let He=Dr.range;return{range:{start:{line:He.start.line,character:He.start.character},end:{line:He.end.line,character:He.end.character}},rangeLength:Dr.rangeLength,text:Dr.text}})}}else throw Error("Unsupported text document change parameter")}function d(K){return{textDocument:i(K)}}function f(K,qe=!1){let Wt={textDocument:i(K)};return qe&&(Wt.text=K.getText()),Wt}function y(K){switch(K){case Yu.TextDocumentSaveReason.Manual:return Ki.TextDocumentSaveReason.Manual;case Yu.TextDocumentSaveReason.AfterDelay:return Ki.TextDocumentSaveReason.AfterDelay;case Yu.TextDocumentSaveReason.FocusOut:return Ki.TextDocumentSaveReason.FocusOut}return Ki.TextDocumentSaveReason.Manual}function b(K){return{textDocument:i(K.document),reason:y(K.reason)}}function T(K){return{files:K.files.map(qe=>({uri:t(qe)}))}}function k(K){return{files:K.files.map(qe=>({oldUri:t(qe.oldUri),newUri:t(qe.newUri)}))}}function z(K){return{files:K.files.map(qe=>({uri:t(qe)}))}}function A(K){return{files:K.files.map(qe=>({uri:t(qe)}))}}function U(K){return{files:K.files.map(qe=>({oldUri:t(qe.oldUri),newUri:t(qe.newUri)}))}}function ne(K){return{files:K.files.map(qe=>({uri:t(qe)}))}}function de(K,qe){return{textDocument:i(K),position:ce(qe)}}function ve(K){switch(K){case Yu.CompletionTriggerKind.TriggerCharacter:return Ki.CompletionTriggerKind.TriggerCharacter;case Yu.CompletionTriggerKind.TriggerForIncompleteCompletions:return Ki.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return Ki.CompletionTriggerKind.Invoked}}function $(K,qe,Wt){return{textDocument:i(K),position:ce(qe),context:{triggerKind:ve(Wt.triggerKind),triggerCharacter:Wt.triggerCharacter}}}function W(K){switch(K){case Yu.SignatureHelpTriggerKind.Invoke:return Ki.SignatureHelpTriggerKind.Invoked;case Yu.SignatureHelpTriggerKind.TriggerCharacter:return Ki.SignatureHelpTriggerKind.TriggerCharacter;case Yu.SignatureHelpTriggerKind.ContentChange:return Ki.SignatureHelpTriggerKind.ContentChange}}function ee(K){return{label:K.label}}function Pe(K){return K.map(ee)}function se(K){return{label:K.label,parameters:Pe(K.parameters)}}function ue(K){return K.map(se)}function Fe(K){return K===void 0?K:{signatures:ue(K.signatures),activeSignature:K.activeSignature,activeParameter:K.activeParameter}}function Le(K,qe,Wt){return{textDocument:i(K),position:ce(qe),context:{isRetrigger:Wt.isRetrigger,triggerCharacter:Wt.triggerCharacter,triggerKind:W(Wt.triggerKind),activeSignatureHelp:Fe(Wt.activeSignatureHelp)}}}function ce(K){return{line:K.line,character:K.character}}function Ce(K){return K==null?K:{line:K.line>Ki.uinteger.MAX_VALUE?Ki.uinteger.MAX_VALUE:K.line,character:K.character>Ki.uinteger.MAX_VALUE?Ki.uinteger.MAX_VALUE:K.character}}function we(K,qe){return JRe.map(K,Ce,qe)}function Ee(K){return K==null?K:{start:Ce(K.start),end:Ce(K.end)}}function Ne(K){return K==null?K:Ki.Location.create(n(K.uri),Ee(K.range))}function $e(K){switch(K){case Yu.DiagnosticSeverity.Error:return Ki.DiagnosticSeverity.Error;case Yu.DiagnosticSeverity.Warning:return Ki.DiagnosticSeverity.Warning;case Yu.DiagnosticSeverity.Information:return Ki.DiagnosticSeverity.Information;case Yu.DiagnosticSeverity.Hint:return Ki.DiagnosticSeverity.Hint}}function Ct(K){if(!K)return;let qe=[];for(let Wt of K){let Dr=ze(Wt);Dr!==void 0&&qe.push(Dr)}return qe.length>0?qe:void 0}function ze(K){switch(K){case Yu.DiagnosticTag.Unnecessary:return Ki.DiagnosticTag.Unnecessary;case Yu.DiagnosticTag.Deprecated:return Ki.DiagnosticTag.Deprecated;default:return}}function st(K){return{message:K.message,location:Ne(K.location)}}function at(K){return K.map(st)}function tt(K){if(K!=null)return rx.number(K)||rx.string(K)?K:{value:K.value,target:n(K.target)}}function pr(K){let qe=Ki.Diagnostic.create(Ee(K.range),K.message),Wt=K instanceof XRe.ProtocolDiagnostic?K:void 0;Wt!==void 0&&Wt.data!==void 0&&(qe.data=Wt.data);let Dr=tt(K.code);return XRe.DiagnosticCode.is(Dr)?Wt!==void 0&&Wt.hasDiagnosticCode?qe.code=Dr:(qe.code=Dr.value,qe.codeDescription={href:Dr.target}):qe.code=Dr,rx.number(K.severity)&&(qe.severity=$e(K.severity)),Array.isArray(K.tags)&&(qe.tags=Ct(K.tags)),K.relatedInformation&&(qe.relatedInformation=at(K.relatedInformation)),K.source&&(qe.source=K.source),qe}function Ar(K,qe){return K==null?K:JRe.map(K,pr,qe)}function jr(K,qe){switch(K){case"$string":return qe;case Ki.MarkupKind.PlainText:return{kind:K,value:qe};case Ki.MarkupKind.Markdown:return{kind:K,value:qe.value};default:return`Unsupported Markup content received. Kind is: ${K}`}}function lr(K){switch(K){case Yu.CompletionItemTag.Deprecated:return Ki.CompletionItemTag.Deprecated}}function Et(K){if(K===void 0)return K;let qe=[];for(let Wt of K){let Dr=lr(Wt);Dr!==void 0&&qe.push(Dr)}return qe}function hr(K,qe){return qe!==void 0?qe:K+1}function Lt(K,qe=!1){let Wt,Dr;rx.string(K.label)?Wt=K.label:(Wt=K.label.label,qe&&(K.label.detail!==void 0||K.label.description!==void 0)&&(Dr={detail:K.label.detail,description:K.label.description}));let He={label:Wt};Dr!==void 0&&(He.labelDetails=Dr);let re=K instanceof lgt.default?K:void 0;K.detail&&(He.detail=K.detail),K.documentation&&(!re||re.documentationFormat==="$string"?He.documentation=K.documentation:He.documentation=jr(re.documentationFormat,K.documentation)),K.filterText&&(He.filterText=K.filterText),on(He,K),rx.number(K.kind)&&(He.kind=hr(K.kind,re&&re.originalItemKind)),K.sortText&&(He.sortText=K.sortText),K.additionalTextEdits&&(He.additionalTextEdits=Er(K.additionalTextEdits)),K.commitCharacters&&(He.commitCharacters=K.commitCharacters.slice()),K.command&&(He.command=ii(K.command)),(K.preselect===!0||K.preselect===!1)&&(He.preselect=K.preselect);let xe=Et(K.tags);if(re){if(re.data!==void 0&&(He.data=re.data),re.deprecated===!0||re.deprecated===!1){if(re.deprecated===!0&&xe!==void 0&&xe.length>0){let je=xe.indexOf(Yu.CompletionItemTag.Deprecated);je!==-1&&xe.splice(je,1)}He.deprecated=re.deprecated}re.insertTextMode!==void 0&&(He.insertTextMode=re.insertTextMode)}return xe!==void 0&&xe.length>0&&(He.tags=xe),He.insertTextMode===void 0&&K.keepWhitespace===!0&&(He.insertTextMode=Ki.InsertTextMode.adjustIndentation),He}function on(K,qe){let Wt=Ki.InsertTextFormat.PlainText,Dr,He;qe.textEdit?(Dr=qe.textEdit.newText,He=qe.textEdit.range):qe.insertText instanceof Yu.SnippetString?(Wt=Ki.InsertTextFormat.Snippet,Dr=qe.insertText.value):Dr=qe.insertText,qe.range&&(He=qe.range),K.insertTextFormat=Wt,qe.fromEdit&&Dr!==void 0&&He!==void 0?K.textEdit=un(Dr,He):K.insertText=Dr}function un(K,qe){return jZ.is(qe)?Ki.InsertReplaceEdit.create(K,Ee(qe.inserting),Ee(qe.replacing)):{newText:K,range:Ee(qe)}}function En(K){return{range:Ee(K.range),newText:K.newText}}function Er(K){return K==null?K:K.map(En)}function Un(K){return K<=Yu.SymbolKind.TypeParameter?K+1:Ki.SymbolKind.Property}function Br(K){return K}function ln(K){return K.map(Br)}function ni(K,qe,Wt){return{textDocument:i(K),position:ce(qe),context:{includeDeclaration:Wt.includeDeclaration}}}async function $r(K,qe){let Wt=Ki.CodeAction.create(K.title);if(K instanceof pgt.default&&K.data!==void 0&&(Wt.data=K.data),K.kind!==void 0&&(Wt.kind=Vr(K.kind)),K.diagnostics!==void 0&&(Wt.diagnostics=await Ar(K.diagnostics,qe)),K.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return K.command!==void 0&&(Wt.command=ii(K.command)),K.isPreferred!==void 0&&(Wt.isPreferred=K.isPreferred),K.disabled!==void 0&&(Wt.disabled={reason:K.disabled.reason}),Wt}async function kn(K,qe){if(K==null)return K;let Wt;return K.only&&rx.string(K.only.value)&&(Wt=[K.only.value]),Ki.CodeActionContext.create(await Ar(K.diagnostics,qe),Wt,Ei(K.triggerKind))}function Ei(K){switch(K){case Yu.CodeActionTriggerKind.Invoke:return Ki.CodeActionTriggerKind.Invoked;case Yu.CodeActionTriggerKind.Automatic:return Ki.CodeActionTriggerKind.Automatic;default:return}}function Vr(K){if(K!=null)return K.value}function Yi(K){return K==null?K:Ki.InlineValueContext.create(K.frameId,Ee(K.stoppedLocation))}function ii(K){let qe=Ki.Command.create(K.title,K.command);return K.arguments&&(qe.arguments=K.arguments),qe}function dn(K){let qe=Ki.CodeLens.create(Ee(K.range));return K.command&&(qe.command=ii(K.command)),K instanceof dgt.default&&K.data&&(qe.data=K.data),qe}function Oe(K,qe){let Wt={tabSize:K.tabSize,insertSpaces:K.insertSpaces};return qe.trimTrailingWhitespace&&(Wt.trimTrailingWhitespace=!0),qe.trimFinalNewlines&&(Wt.trimFinalNewlines=!0),qe.insertFinalNewline&&(Wt.insertFinalNewline=!0),Wt}function oe(K){return{textDocument:i(K)}}function Q(K){return{textDocument:i(K)}}function _e(K){let qe=Ki.DocumentLink.create(Ee(K.range));K.target&&(qe.target=n(K.target)),K.tooltip!==void 0&&(qe.tooltip=K.tooltip);let Wt=K instanceof fgt.default?K:void 0;return Wt&&Wt.data&&(qe.data=Wt.data),qe}function Ke(K){return{textDocument:i(K)}}function ft(K){let qe={name:K.name,kind:Un(K.kind),uri:n(K.uri),range:Ee(K.range),selectionRange:Ee(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(qe.detail=K.detail),K.tags!==void 0&&(qe.tags=ln(K.tags)),K instanceof hgt.default&&K.data!==void 0&&(qe.data=K.data),qe}function Jt(K){let qe={name:K.name,kind:Un(K.kind),uri:n(K.uri),range:Ee(K.range),selectionRange:Ee(K.selectionRange)};return K.detail!==void 0&&K.detail.length>0&&(qe.detail=K.detail),K.tags!==void 0&&(qe.tags=ln(K.tags)),K instanceof mgt.default&&K.data!==void 0&&(qe.data=K.data),qe}function nr(K){let qe=K instanceof ggt.default?{name:K.name,kind:Un(K.kind),location:K.hasRange?Ne(K.location):{uri:t(K.location.uri)},data:K.data}:{name:K.name,kind:Un(K.kind),location:Ne(K.location)};return K.tags!==void 0&&(qe.tags=ln(K.tags)),K.containerName!==""&&(qe.containerName=K.containerName),qe}function Xt(K){let qe=typeof K.label=="string"?K.label:K.label.map(Vt),Wt=Ki.InlayHint.create(Ce(K.position),qe);return K.kind!==void 0&&(Wt.kind=K.kind),K.textEdits!==void 0&&(Wt.textEdits=Er(K.textEdits)),K.tooltip!==void 0&&(Wt.tooltip=kt(K.tooltip)),K.paddingLeft!==void 0&&(Wt.paddingLeft=K.paddingLeft),K.paddingRight!==void 0&&(Wt.paddingRight=K.paddingRight),K instanceof vgt.default&&K.data!==void 0&&(Wt.data=K.data),Wt}function Vt(K){let qe=Ki.InlayHintLabelPart.create(K.value);return K.location!==void 0&&(qe.location=Ne(K.location)),K.command!==void 0&&(qe.command=ii(K.command)),K.tooltip!==void 0&&(qe.tooltip=kt(K.tooltip)),qe}function kt(K){return typeof K=="string"?K:{kind:Ki.MarkupKind.Markdown,value:K.value}}return{asUri:n,asTextDocumentIdentifier:i,asTextDocumentItem:o,asVersionedTextDocumentIdentifier:s,asOpenTextDocumentParams:a,asChangeTextDocumentParams:l,asCloseTextDocumentParams:d,asSaveTextDocumentParams:f,asWillSaveTextDocumentParams:b,asDidCreateFilesParams:T,asDidRenameFilesParams:k,asDidDeleteFilesParams:z,asWillCreateFilesParams:A,asWillRenameFilesParams:U,asWillDeleteFilesParams:ne,asTextDocumentPositionParams:de,asCompletionParams:$,asSignatureHelpParams:Le,asWorkerPosition:ce,asRange:Ee,asPosition:Ce,asPositions:we,asLocation:Ne,asDiagnosticSeverity:$e,asDiagnosticTag:ze,asDiagnostic:pr,asDiagnostics:Ar,asCompletionItem:Lt,asTextEdit:En,asSymbolKind:Un,asSymbolTag:Br,asSymbolTags:ln,asReferenceParams:ni,asCodeAction:$r,asCodeActionContext:kn,asInlineValueContext:Yi,asCommand:ii,asCodeLens:dn,asFormattingOptions:Oe,asDocumentSymbolParams:oe,asCodeLensParams:Q,asDocumentLink:_e,asDocumentLinkParams:Ke,asCallHierarchyItem:ft,asTypeHierarchyItem:Jt,asInlayHint:Xt,asWorkspaceSymbol:nr}}xU.createConverter=ygt});var txe=P(OU=>{"use strict";Object.defineProperty(OU,"__esModule",{value:!0});OU.createConverter=void 0;var Hr=require("vscode"),vi=Fi(),fv=lv(),hs=iM(),bgt=hZ(),_gt=vZ(),wgt=_Z(),Sgt=CZ(),ZRe=PZ(),Cgt=EZ(),Dgt=kZ(),Tgt=LZ(),Pgt=qZ(),exe=Fi(),EU;(function(r){function e(t){let n=t;return n&&fv.string(n.language)&&fv.string(n.value)}r.is=e})(EU||(EU={}));function Rgt(r,e,t){let i=r||(H=>Hr.Uri.parse(H));function o(H){return i(H)}function s(H){let Ue=[];for(let vt of H)if(typeof vt=="string")Ue.push(vt);else if(exe.NotebookCellTextDocumentFilter.is(vt))if(typeof vt.notebook=="string")Ue.push({notebookType:vt.notebook,language:vt.language});else{let Fr=vt.notebook.notebookType??"*";Ue.push({notebookType:Fr,scheme:vt.notebook.scheme,pattern:vt.notebook.pattern,language:vt.language})}else exe.TextDocumentFilter.is(vt)&&Ue.push({language:vt.language,scheme:vt.scheme,pattern:vt.pattern});return Ue}async function a(H,Ue){return hs.map(H,u,Ue)}function c(H){let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++)Ue[vt]=u(H[vt]);return Ue}function u(H){let Ue=new ZRe.ProtocolDiagnostic(b(H.range),H.message,k(H.severity),H.data);if(H.code!==void 0){if(typeof H.code=="string"||typeof H.code=="number")vi.CodeDescription.is(H.codeDescription)?Ue.code={value:H.code,target:o(H.codeDescription.href)}:Ue.code=H.code;else if(ZRe.DiagnosticCode.is(H.code)){Ue.hasDiagnosticCode=!0;let vt=H.code;Ue.code={value:vt.value,target:o(vt.target)}}}return H.source&&(Ue.source=H.source),H.relatedInformation&&(Ue.relatedInformation=l(H.relatedInformation)),Array.isArray(H.tags)&&(Ue.tags=d(H.tags)),Ue}function l(H){let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++){let Fr=H[vt];Ue[vt]=new Hr.DiagnosticRelatedInformation(ze(Fr.location),Fr.message)}return Ue}function d(H){if(!H)return;let Ue=[];for(let vt of H){let Fr=f(vt);Fr!==void 0&&Ue.push(Fr)}return Ue.length>0?Ue:void 0}function f(H){switch(H){case vi.DiagnosticTag.Unnecessary:return Hr.DiagnosticTag.Unnecessary;case vi.DiagnosticTag.Deprecated:return Hr.DiagnosticTag.Deprecated;default:return}}function y(H){return H?new Hr.Position(H.line,H.character):void 0}function b(H){return H?new Hr.Range(H.start.line,H.start.character,H.end.line,H.end.character):void 0}async function T(H,Ue){return hs.map(H,vt=>new Hr.Range(vt.start.line,vt.start.character,vt.end.line,vt.end.character),Ue)}function k(H){if(H==null)return Hr.DiagnosticSeverity.Error;switch(H){case vi.DiagnosticSeverity.Error:return Hr.DiagnosticSeverity.Error;case vi.DiagnosticSeverity.Warning:return Hr.DiagnosticSeverity.Warning;case vi.DiagnosticSeverity.Information:return Hr.DiagnosticSeverity.Information;case vi.DiagnosticSeverity.Hint:return Hr.DiagnosticSeverity.Hint}return Hr.DiagnosticSeverity.Error}function z(H){if(fv.string(H))return U(H);if(EU.is(H))return U().appendCodeblock(H.value,H.language);if(Array.isArray(H)){let Ue=[];for(let vt of H){let Fr=U();EU.is(vt)?Fr.appendCodeblock(vt.value,vt.language):Fr.appendMarkdown(vt),Ue.push(Fr)}return Ue}else return U(H)}function A(H){if(fv.string(H))return H;switch(H.kind){case vi.MarkupKind.Markdown:return U(H.value);case vi.MarkupKind.PlainText:return H.value;default:return`Unsupported Markup content received. Kind is: ${H.kind}`}}function U(H){let Ue;if(H===void 0||typeof H=="string")Ue=new Hr.MarkdownString(H);else switch(H.kind){case vi.MarkupKind.Markdown:Ue=new Hr.MarkdownString(H.value);break;case vi.MarkupKind.PlainText:Ue=new Hr.MarkdownString,Ue.appendText(H.value);break;default:Ue=new Hr.MarkdownString,Ue.appendText(`Unsupported Markup content received. Kind is: ${H.kind}`);break}return Ue.isTrusted=e,Ue.supportHtml=t,Ue}function ne(H){if(H)return new Hr.Hover(z(H.contents),b(H.range))}async function de(H,Ue,vt){if(!H)return;if(Array.isArray(H))return hs.map(H,Me=>Pe(Me,Ue),vt);let Fr=H,{defaultRange:io,commitCharacters:Hi}=ve(Fr,Ue),L=await hs.map(Fr.items,Me=>Pe(Me,Hi,io,Fr.itemDefaults?.insertTextMode,Fr.itemDefaults?.insertTextFormat,Fr.itemDefaults?.data),vt);return new Hr.CompletionList(L,Fr.isIncomplete)}function ve(H,Ue){let vt=H.itemDefaults?.editRange,Fr=H.itemDefaults?.commitCharacters??Ue;return vi.Range.is(vt)?{defaultRange:b(vt),commitCharacters:Fr}:vt!==void 0?{defaultRange:{inserting:b(vt.insert),replacing:b(vt.replace)},commitCharacters:Fr}:{defaultRange:void 0,commitCharacters:Fr}}function $(H){return vi.CompletionItemKind.Text<=H&&H<=vi.CompletionItemKind.TypeParameter?[H-1,void 0]:[Hr.CompletionItemKind.Text,H]}function W(H){switch(H){case vi.CompletionItemTag.Deprecated:return Hr.CompletionItemTag.Deprecated}}function ee(H){if(H==null)return[];let Ue=[];for(let vt of H){let Fr=W(vt);Fr!==void 0&&Ue.push(Fr)}return Ue}function Pe(H,Ue,vt,Fr,io,Hi){let L=ee(H.tags),Me=se(H),rt=new bgt.default(Me);H.detail&&(rt.detail=H.detail),H.documentation&&(rt.documentation=A(H.documentation),rt.documentationFormat=fv.string(H.documentation)?"$string":H.documentation.kind),H.filterText&&(rt.filterText=H.filterText);let Ut=ue(H,vt,io);if(Ut&&(rt.insertText=Ut.text,rt.range=Ut.range,rt.fromEdit=Ut.fromEdit),fv.number(H.kind)){let[oo,qi]=$(H.kind);rt.kind=oo,qi&&(rt.originalItemKind=qi)}H.sortText&&(rt.sortText=H.sortText),H.additionalTextEdits&&(rt.additionalTextEdits=Ce(H.additionalTextEdits));let An=H.commitCharacters!==void 0?fv.stringArray(H.commitCharacters)?H.commitCharacters:void 0:Ue;An&&(rt.commitCharacters=An.slice()),H.command&&(rt.command=ln(H.command)),(H.deprecated===!0||H.deprecated===!1)&&(rt.deprecated=H.deprecated,H.deprecated===!0&&L.push(Hr.CompletionItemTag.Deprecated)),(H.preselect===!0||H.preselect===!1)&&(rt.preselect=H.preselect);let wn=H.data??Hi;wn!==void 0&&(rt.data=wn),L.length>0&&(rt.tags=L);let Ln=H.insertTextMode??Fr;return Ln!==void 0&&(rt.insertTextMode=Ln,Ln===vi.InsertTextMode.asIs&&(rt.keepWhitespace=!0)),rt}function se(H){return vi.CompletionItemLabelDetails.is(H.labelDetails)?{label:H.label,detail:H.labelDetails.detail,description:H.labelDetails.description}:H.label}function ue(H,Ue,vt){let Fr=H.insertTextFormat??vt;if(H.textEdit!==void 0||Ue!==void 0){let[io,Hi]=H.textEdit!==void 0?Fe(H.textEdit):[Ue,H.textEditText??H.label];return Fr===vi.InsertTextFormat.Snippet?{text:new Hr.SnippetString(Hi),range:io,fromEdit:!0}:{text:Hi,range:io,fromEdit:!0}}else return H.insertText?Fr===vi.InsertTextFormat.Snippet?{text:new Hr.SnippetString(H.insertText),fromEdit:!1}:{text:H.insertText,fromEdit:!1}:void 0}function Fe(H){return vi.InsertReplaceEdit.is(H)?[{inserting:b(H.insert),replacing:b(H.replace)},H.newText]:[b(H.range),H.newText]}function Le(H){if(H)return new Hr.TextEdit(b(H.range),H.newText)}async function ce(H,Ue){if(H)return hs.map(H,Le,Ue)}function Ce(H){if(!H)return;let Ue=new Array(H.length);for(let vt=0;vt<H.length;vt++)Ue[vt]=Le(H[vt]);return Ue}async function we(H,Ue){if(!H)return;let vt=new Hr.SignatureHelp;return fv.number(H.activeSignature)?vt.activeSignature=H.activeSignature:vt.activeSignature=0,fv.number(H.activeParameter)?vt.activeParameter=H.activeParameter:vt.activeParameter=0,H.signatures&&(vt.signatures=await Ee(H.signatures,Ue)),vt}async function Ee(H,Ue){return hs.mapAsync(H,Ne,Ue)}async function Ne(H,Ue){let vt=new Hr.SignatureInformation(H.label);return H.documentation!==void 0&&(vt.documentation=A(H.documentation)),H.parameters!==void 0&&(vt.parameters=await $e(H.parameters,Ue)),H.activeParameter!==void 0&&(vt.activeParameter=H.activeParameter),vt}function $e(H,Ue){return hs.map(H,Ct,Ue)}function Ct(H){let Ue=new Hr.ParameterInformation(H.label);return H.documentation&&(Ue.documentation=A(H.documentation)),Ue}function ze(H){return H?new Hr.Location(i(H.uri),b(H.range)):void 0}async function st(H,Ue){if(H)return pr(H,Ue)}async function at(H,Ue){if(H)return pr(H,Ue)}function tt(H){if(!H)return;let Ue={targetUri:i(H.targetUri),targetRange:b(H.targetRange),originSelectionRange:b(H.originSelectionRange),targetSelectionRange:b(H.targetSelectionRange)};if(!Ue.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return Ue}async function pr(H,Ue){if(H)if(fv.array(H)){if(H.length===0)return[];if(vi.LocationLink.is(H[0])){let vt=H;return hs.map(vt,tt,Ue)}else{let vt=H;return hs.map(vt,ze,Ue)}}else return vi.LocationLink.is(H)?[tt(H)]:ze(H)}async function Ar(H,Ue){if(H)return hs.map(H,ze,Ue)}async function jr(H,Ue){if(H)return hs.map(H,lr,Ue)}function lr(H){let Ue=new Hr.DocumentHighlight(b(H.range));return fv.number(H.kind)&&(Ue.kind=Et(H.kind)),Ue}function Et(H){switch(H){case vi.DocumentHighlightKind.Text:return Hr.DocumentHighlightKind.Text;case vi.DocumentHighlightKind.Read:return Hr.DocumentHighlightKind.Read;case vi.DocumentHighlightKind.Write:return Hr.DocumentHighlightKind.Write}return Hr.DocumentHighlightKind.Text}async function hr(H,Ue){if(H)return hs.map(H,En,Ue)}function Lt(H){return H<=vi.SymbolKind.TypeParameter?H-1:Hr.SymbolKind.Property}function on(H){switch(H){case vi.SymbolTag.Deprecated:return Hr.SymbolTag.Deprecated;default:return}}function un(H){if(H==null)return;let Ue=[];for(let vt of H){let Fr=on(vt);Fr!==void 0&&Ue.push(Fr)}return Ue.length===0?void 0:Ue}function En(H){let Ue=H.data,vt=H.location,Fr=vt.range===void 0||Ue!==void 0?new Tgt.default(H.name,Lt(H.kind),H.containerName??"",vt.range===void 0?i(vt.uri):new Hr.Location(i(H.location.uri),b(vt.range)),Ue):new Hr.SymbolInformation(H.name,Lt(H.kind),H.containerName??"",new Hr.Location(i(H.location.uri),b(vt.range)));return Br(Fr,H),Fr}async function Er(H,Ue){if(H!=null)return hs.map(H,Un,Ue)}function Un(H){let Ue=new Hr.DocumentSymbol(H.name,H.detail||"",Lt(H.kind),b(H.range),b(H.selectionRange));if(Br(Ue,H),H.children!==void 0&&H.children.length>0){let vt=[];for(let Fr of H.children)vt.push(Un(Fr));Ue.children=vt}return Ue}function Br(H,Ue){H.tags=un(Ue.tags),Ue.deprecated&&(H.tags?H.tags.includes(Hr.SymbolTag.Deprecated)||(H.tags=H.tags.concat(Hr.SymbolTag.Deprecated)):H.tags=[Hr.SymbolTag.Deprecated])}function ln(H){let Ue={title:H.title,command:H.command};return H.arguments&&(Ue.arguments=H.arguments),Ue}async function ni(H,Ue){if(H)return hs.map(H,ln,Ue)}let $r=new Map;$r.set(vi.CodeActionKind.Empty,Hr.CodeActionKind.Empty),$r.set(vi.CodeActionKind.QuickFix,Hr.CodeActionKind.QuickFix),$r.set(vi.CodeActionKind.Refactor,Hr.CodeActionKind.Refactor),$r.set(vi.CodeActionKind.RefactorExtract,Hr.CodeActionKind.RefactorExtract),$r.set(vi.CodeActionKind.RefactorInline,Hr.CodeActionKind.RefactorInline),$r.set(vi.CodeActionKind.RefactorRewrite,Hr.CodeActionKind.RefactorRewrite),$r.set(vi.CodeActionKind.Source,Hr.CodeActionKind.Source),$r.set(vi.CodeActionKind.SourceOrganizeImports,Hr.CodeActionKind.SourceOrganizeImports);function kn(H){if(H==null)return;let Ue=$r.get(H);if(Ue)return Ue;let vt=H.split(".");Ue=Hr.CodeActionKind.Empty;for(let Fr of vt)Ue=Ue.append(Fr);return Ue}function Ei(H){if(H!=null)return H.map(Ue=>kn(Ue))}async function Vr(H,Ue){if(H==null)return;let vt=new Sgt.default(H.title,H.data);return H.kind!==void 0&&(vt.kind=kn(H.kind)),H.diagnostics!==void 0&&(vt.diagnostics=c(H.diagnostics)),H.edit!==void 0&&(vt.edit=await Oe(H.edit,Ue)),H.command!==void 0&&(vt.command=ln(H.command)),H.isPreferred!==void 0&&(vt.isPreferred=H.isPreferred),H.disabled!==void 0&&(vt.disabled={reason:H.disabled.reason}),vt}function Yi(H,Ue){return hs.mapAsync(H,async vt=>vi.Command.is(vt)?ln(vt):Vr(vt,Ue),Ue)}function ii(H){if(!H)return;let Ue=new _gt.default(b(H.range));return H.command&&(Ue.command=ln(H.command)),H.data!==void 0&&H.data!==null&&(Ue.data=H.data),Ue}async function dn(H,Ue){if(H)return hs.map(H,ii,Ue)}async function Oe(H,Ue){if(!H)return;let vt=new Map;if(H.changeAnnotations!==void 0){let Hi=H.changeAnnotations;await hs.forEach(Object.keys(Hi),L=>{let Me=oe(Hi[L]);vt.set(L,Me)},Ue)}let Fr=Hi=>{if(Hi!==void 0)return vt.get(Hi)},io=new Hr.WorkspaceEdit;if(H.documentChanges){let Hi=H.documentChanges;await hs.forEach(Hi,L=>{if(vi.CreateFile.is(L))io.createFile(i(L.uri),L.options,Fr(L.annotationId));else if(vi.RenameFile.is(L))io.renameFile(i(L.oldUri),i(L.newUri),L.options,Fr(L.annotationId));else if(vi.DeleteFile.is(L))io.deleteFile(i(L.uri),L.options,Fr(L.annotationId));else if(vi.TextDocumentEdit.is(L)){let Me=i(L.textDocument.uri);for(let rt of L.edits)vi.AnnotatedTextEdit.is(rt)?io.replace(Me,b(rt.range),rt.newText,Fr(rt.annotationId)):io.replace(Me,b(rt.range),rt.newText)}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify(L,void 0,4)}`)},Ue)}else if(H.changes){let Hi=H.changes;await hs.forEach(Object.keys(Hi),L=>{io.set(i(L),Ce(Hi[L]))},Ue)}return io}function oe(H){if(H!==void 0)return{label:H.label,needsConfirmation:!!H.needsConfirmation,description:H.description}}function Q(H){let Ue=b(H.range),vt=H.target?o(H.target):void 0,Fr=new wgt.default(Ue,vt);return H.tooltip!==void 0&&(Fr.tooltip=H.tooltip),H.data!==void 0&&H.data!==null&&(Fr.data=H.data),Fr}async function _e(H,Ue){if(H)return hs.map(H,Q,Ue)}function Ke(H){return new Hr.Color(H.red,H.green,H.blue,H.alpha)}function ft(H){return new Hr.ColorInformation(b(H.range),Ke(H.color))}async function Jt(H,Ue){if(H)return hs.map(H,ft,Ue)}function nr(H){let Ue=new Hr.ColorPresentation(H.label);return Ue.additionalTextEdits=Ce(H.additionalTextEdits),H.textEdit&&(Ue.textEdit=Le(H.textEdit)),Ue}async function Xt(H,Ue){if(H)return hs.map(H,nr,Ue)}function Vt(H){if(H)switch(H){case vi.FoldingRangeKind.Comment:return Hr.FoldingRangeKind.Comment;case vi.FoldingRangeKind.Imports:return Hr.FoldingRangeKind.Imports;case vi.FoldingRangeKind.Region:return Hr.FoldingRangeKind.Region}}function kt(H){return new Hr.FoldingRange(H.startLine,H.endLine,Vt(H.kind))}async function K(H,Ue){if(H)return hs.map(H,kt,Ue)}function qe(H){return new Hr.SelectionRange(b(H.range),H.parent?qe(H.parent):void 0)}async function Wt(H,Ue){return Array.isArray(H)?hs.map(H,qe,Ue):[]}function Dr(H){return vi.InlineValueText.is(H)?new Hr.InlineValueText(b(H.range),H.text):vi.InlineValueVariableLookup.is(H)?new Hr.InlineValueVariableLookup(b(H.range),H.variableName,H.caseSensitiveLookup):new Hr.InlineValueEvaluatableExpression(b(H.range),H.expression)}async function He(H,Ue){return Array.isArray(H)?hs.map(H,Dr,Ue):[]}async function re(H,Ue){let vt=typeof H.label=="string"?H.label:await hs.map(H.label,xe,Ue),Fr=new Pgt.default(y(H.position),vt);return H.kind!==void 0&&(Fr.kind=H.kind),H.textEdits!==void 0&&(Fr.textEdits=await ce(H.textEdits,Ue)),H.tooltip!==void 0&&(Fr.tooltip=je(H.tooltip)),H.paddingLeft!==void 0&&(Fr.paddingLeft=H.paddingLeft),H.paddingRight!==void 0&&(Fr.paddingRight=H.paddingRight),H.data!==void 0&&(Fr.data=H.data),Fr}function xe(H){let Ue=new Hr.InlayHintLabelPart(H.value);return H.location!==void 0&&(Ue.location=ze(H.location)),H.tooltip!==void 0&&(Ue.tooltip=je(H.tooltip)),H.command!==void 0&&(Ue.command=ln(H.command)),Ue}function je(H){return typeof H=="string"?H:U(H)}async function pe(H,Ue){if(Array.isArray(H))return hs.mapAsync(H,re,Ue)}function S(H){if(H===null)return;let Ue=new Cgt.default(Lt(H.kind),H.name,H.detail||"",o(H.uri),b(H.range),b(H.selectionRange),H.data);return H.tags!==void 0&&(Ue.tags=un(H.tags)),Ue}async function fe(H,Ue){if(H!==null)return hs.map(H,S,Ue)}async function Je(H,Ue){return new Hr.CallHierarchyIncomingCall(S(H.from),await T(H.fromRanges,Ue))}async function Cr(H,Ue){if(H!==null)return hs.mapAsync(H,Je,Ue)}async function Wr(H,Ue){return new Hr.CallHierarchyOutgoingCall(S(H.to),await T(H.fromRanges,Ue))}async function Xr(H,Ue){if(H!==null)return hs.mapAsync(H,Wr,Ue)}async function Fn(H,Ue){if(H!=null)return new Hr.SemanticTokens(new Uint32Array(H.data),H.resultId)}function Oi(H){return new Hr.SemanticTokensEdit(H.start,H.deleteCount,H.data!==void 0?new Uint32Array(H.data):void 0)}async function Ts(H,Ue){if(H!=null)return new Hr.SemanticTokensEdits(H.edits.map(Oi),H.resultId)}function _n(H){return H}async function Xo(H,Ue){if(H!=null)return new Hr.LinkedEditingRanges(await T(H.ranges,Ue),Ns(H.wordPattern))}function Ns(H){if(H!=null)return new RegExp(H)}function Ys(H){if(H===null)return;let Ue=new Dgt.default(Lt(H.kind),H.name,H.detail||"",o(H.uri),b(H.range),b(H.selectionRange),H.data);return H.tags!==void 0&&(Ue.tags=un(H.tags)),Ue}async function Ao(H,Ue){if(H!==null)return hs.map(H,Ys,Ue)}function Do(H){if(fv.string(H))return H;if(vi.RelativePattern.is(H)){if(vi.URI.is(H.baseUri))return new Hr.RelativePattern(o(H.baseUri),H.pattern);if(vi.WorkspaceFolder.is(H.baseUri)){let Ue=Hr.workspace.getWorkspaceFolder(o(H.baseUri.uri));return Ue!==void 0?new Hr.RelativePattern(Ue,H.pattern):void 0}}}return{asUri:o,asDocumentSelector:s,asDiagnostics:a,asDiagnostic:u,asRange:b,asRanges:T,asPosition:y,asDiagnosticSeverity:k,asDiagnosticTag:f,asHover:ne,asCompletionResult:de,asCompletionItem:Pe,asTextEdit:Le,asTextEdits:ce,asSignatureHelp:we,asSignatureInformations:Ee,asSignatureInformation:Ne,asParameterInformations:$e,asParameterInformation:Ct,asDeclarationResult:st,asDefinitionResult:at,asLocation:ze,asReferences:Ar,asDocumentHighlights:jr,asDocumentHighlight:lr,asDocumentHighlightKind:Et,asSymbolKind:Lt,asSymbolTag:on,asSymbolTags:un,asSymbolInformations:hr,asSymbolInformation:En,asDocumentSymbols:Er,asDocumentSymbol:Un,asCommand:ln,asCommands:ni,asCodeAction:Vr,asCodeActionKind:kn,asCodeActionKinds:Ei,asCodeActionResult:Yi,asCodeLens:ii,asCodeLenses:dn,asWorkspaceEdit:Oe,asDocumentLink:Q,asDocumentLinks:_e,asFoldingRangeKind:Vt,asFoldingRange:kt,asFoldingRanges:K,asColor:Ke,asColorInformation:ft,asColorInformations:Jt,asColorPresentation:nr,asColorPresentations:Xt,asSelectionRange:qe,asSelectionRanges:Wt,asInlineValue:Dr,asInlineValues:He,asInlayHint:re,asInlayHints:pe,asSemanticTokensLegend:_n,asSemanticTokens:Fn,asSemanticTokensEdit:Oi,asSemanticTokensEdits:Ts,asCallHierarchyItem:S,asCallHierarchyItems:fe,asCallHierarchyIncomingCall:Je,asCallHierarchyIncomingCalls:Cr,asCallHierarchyOutgoingCall:Wr,asCallHierarchyOutgoingCalls:Xr,asLinkedEditingRanges:Xo,asTypeHierarchyItem:Ys,asTypeHierarchyItems:Ao,asGlobPattern:Do}}OU.createConverter=Rgt});var Nc=P(pv=>{"use strict";Object.defineProperty(pv,"__esModule",{value:!0});pv.generateUuid=pv.parse=pv.isUUID=pv.v4=pv.empty=void 0;var oM=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},sM=class r extends oM{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}};sM._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];sM._timeHighBits=["8","9","a","b"];pv.empty=new oM("00000000-0000-0000-0000-000000000000");function rxe(){return new sM}pv.v4=rxe;var xgt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function nxe(r){return xgt.test(r)}pv.isUUID=nxe;function Egt(r){if(!nxe(r))throw new Error("invalid uuid");return new oM(r)}pv.parse=Egt;function Ogt(){return rxe().asHex()}pv.generateUuid=Ogt});var UZ=P(IU=>{"use strict";Object.defineProperty(IU,"__esModule",{value:!0});IU.ProgressPart=void 0;var ixe=require("vscode"),oxe=Fi(),sxe=lv(),zZ=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(oxe.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),n&&n(this);break}})}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&ixe.window.withProgress({location:ixe.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,n)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(oxe.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((i,o)=>{this._resolve=i,this._reject=o})})}report(e){if(this._infinite&&sxe.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(sxe.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,this._progress!==void 0&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}};IU.ProgressPart=zZ});var Yo=P(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.WorkspaceFeature=Ju.TextDocumentLanguageFeature=Ju.TextDocumentEventFeature=Ju.DynamicDocumentFeature=Ju.DynamicFeature=Ju.StaticFeature=Ju.ensure=Ju.LSPCancellationError=void 0;var UT=require("vscode"),HZ=Fi(),Jp=lv(),axe=Nc(),WZ=class extends UT.CancellationError{constructor(e){super(),this.data=e}};Ju.LSPCancellationError=WZ;function Igt(r,e){return r[e]===void 0&&(r[e]={}),r[e]}Ju.ensure=Igt;var kgt;(function(r){function e(t){let n=t;return n!=null&&Jp.func(n.fillClientCapabilities)&&Jp.func(n.initialize)&&Jp.func(n.getState)&&Jp.func(n.dispose)&&(n.fillInitializeParams===void 0||Jp.func(n.fillInitializeParams))}r.is=e})(kgt=Ju.StaticFeature||(Ju.StaticFeature={}));var Agt;(function(r){function e(t){let n=t;return n!=null&&Jp.func(n.fillClientCapabilities)&&Jp.func(n.initialize)&&Jp.func(n.getState)&&Jp.func(n.dispose)&&(n.fillInitializeParams===void 0||Jp.func(n.fillInitializeParams))&&Jp.func(n.register)&&Jp.func(n.unregister)&&n.registrationType!==void 0}r.is=e})(Agt=Ju.DynamicFeature||(Ju.DynamicFeature={}));var aM=class{constructor(e){this._client=e}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of UT.workspace.textDocuments)if(UT.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}};Ju.DynamicDocumentFeature=aM;var BZ=class extends aM{constructor(e,t,n,i,o,s,a){super(e),this._event=t,this._type=n,this._middleware=i,this._createParams=o,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new UT.EventEmitter}static textDocumentFilter(e,t){for(let n of e)if(UT.languages.match(n,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(n=>{this._client.error(`Sending document notification ${this._type.method} failed.`,n)})})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){let t=async n=>{let i=this._createParams(n);await this._client.sendNotification(this._type,i).catch(),this.notificationSent(n,this._type,i)};if(this.matches(e)){let n=this._middleware();return n?n(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(let t of this._selectors.values())if(UT.languages.match(t,e)>0)return{send:n=>this.callback(n)}}};Ju.TextDocumentEventFeature=BZ;var $Z=class extends aM{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getRegistration(e,t){if(t){if(HZ.TextDocumentRegistrationOptions.is(t)){let n=HZ.StaticRegistrationOptions.hasId(t)?t.id:axe.generateUuid(),i=t.documentSelector||e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(Jp.boolean(t)&&t===!0||HZ.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=Jp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[axe.generateUuid(),n]}}else return[void 0,void 0];return[void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return Jp.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(n!==null&&UT.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};Ju.TextDocumentLanguageFeature=$Z;var VZ=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){let e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose()}dispose(){this._registrations.forEach(e=>{e.disposable.dispose()}),this._registrations.clear()}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};Ju.WorkspaceFeature=VZ});var uxe=P((hVt,cxe)=>{cxe.exports=function(r,e){for(var t=[],n=0;n<r.length;n++){var i=e(r[n],n);Mgt(i)?t.push.apply(t,i):t.push(i)}return t};var Mgt=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"}});var vxe=P((mVt,gxe)=>{var Lgt=uxe(),lxe=_7();gxe.exports=qgt;var dxe="\0SLASH"+Math.random()+"\0",fxe="\0OPEN"+Math.random()+"\0",KZ="\0CLOSE"+Math.random()+"\0",pxe="\0COMMA"+Math.random()+"\0",hxe="\0PERIOD"+Math.random()+"\0";function GZ(r){return parseInt(r,10)==r?parseInt(r,10):r.charCodeAt(0)}function Ngt(r){return r.split("\\\\").join(dxe).split("\\{").join(fxe).split("\\}").join(KZ).split("\\,").join(pxe).split("\\.").join(hxe)}function Fgt(r){return r.split(dxe).join("\\").split(fxe).join("{").split(KZ).join("}").split(pxe).join(",").split(hxe).join(".")}function mxe(r){if(!r)return[""];var e=[],t=lxe("{","}",r);if(!t)return r.split(",");var n=t.pre,i=t.body,o=t.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=mxe(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function qgt(r){return r?(r.substr(0,2)==="{}"&&(r="\\{\\}"+r.substr(2)),nx(Ngt(r),!0).map(Fgt)):[]}function jgt(r){return"{"+r+"}"}function zgt(r){return/^-?0\d/.test(r)}function Ugt(r,e){return r<=e}function Hgt(r,e){return r>=e}function nx(r,e){var t=[],n=lxe("{","}",r);if(!n||/\$$/.test(n.pre))return[r];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,(?!,).*\}/)?(r=n.pre+"{"+n.body+KZ+n.post,nx(r)):[r];var c;if(s)c=n.body.split(/\.\./);else if(c=mxe(n.body),c.length===1&&(c=nx(c[0],!1).map(jgt),c.length===1)){var l=n.post.length?nx(n.post,!1):[""];return l.map(function(se){return n.pre+c[0]+se})}var u=n.pre,l=n.post.length?nx(n.post,!1):[""],d;if(s){var f=GZ(c[0]),y=GZ(c[1]),b=Math.max(c[0].length,c[1].length),T=c.length==3?Math.abs(GZ(c[2])):1,k=Ugt,z=y<f;z&&(T*=-1,k=Hgt);var A=c.some(zgt);d=[];for(var U=f;k(U,y);U+=T){var ne;if(o)ne=String.fromCharCode(U),ne==="\\"&&(ne="");else if(ne=String(U),A){var de=b-ne.length;if(de>0){var ve=new Array(de+1).join("0");U<0?ne="-"+ve+ne.slice(1):ne=ve+ne}}d.push(ne)}}else d=Lgt(c,function(Pe){return nx(Pe,!1)});for(var $=0;$<d.length;$++)for(var W=0;W<l.length;W++){var ee=u+d[$]+l[W];(!e||s||ee)&&t.push(ee)}return t}});var MU=P((gVt,Sxe)=>{Sxe.exports=tg;tg.Minimatch=Gd;var cM=(()=>{try{return require("path")}catch{}})()||{sep:"/"};tg.sep=cM.sep;var XZ=tg.GLOBSTAR=Gd.GLOBSTAR={},Wgt=vxe(),yxe={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},YZ="[^/]",JZ=YZ+"*?",Bgt="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",$gt="(?:(?!(?:\\/|^)\\.).)*?",bxe=Vgt("().*{}+?[]^$\\!");function Vgt(r){return r.split("").reduce(function(e,t){return e[t]=!0,e},{})}var _xe=/\/+/;tg.filter=Ggt;function Ggt(r,e){return e=e||{},function(t,n,i){return tg(t,r,e)}}function BC(r,e){r=r||{},e=e||{};let t={};return Object.keys(r).forEach(function(n){t[n]=r[n]}),Object.keys(e).forEach(function(n){t[n]=e[n]}),t}tg.defaults=function(r){if(!r||typeof r!="object"||!Object.keys(r).length)return tg;let e=tg,t=function(i,o,s){return e(i,o,BC(r,s))};return t.Minimatch=function(i,o){return new e.Minimatch(i,BC(r,o))},t.Minimatch.defaults=n=>e.defaults(BC(r,n)).Minimatch,t.filter=function(i,o){return e.filter(i,BC(r,o))},t.defaults=function(i){return e.defaults(BC(r,i))},t.makeRe=function(i,o){return e.makeRe(i,BC(r,o))},t.braceExpand=function(i,o){return e.braceExpand(i,BC(r,o))},t.match=function(n,i,o){return e.match(n,i,BC(r,o))},t};Gd.defaults=function(r){return tg.defaults(r).Minimatch};function tg(r,e,t){return AU(e),t||(t={}),!t.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?r==="":new Gd(e,t).match(r)}function Gd(r,e){if(!(this instanceof Gd))return new Gd(r,e);AU(r),e||(e={}),r=r.trim(),cM.sep!=="/"&&(r=r.split(cM.sep).join("/")),this.options=e,this.set=[],this.pattern=r,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}Gd.prototype.debug=function(){};Gd.prototype.make=Kgt;function Kgt(){if(!this._made){var r=this.pattern,e=this.options;if(!e.nocomment&&r.charAt(0)==="#"){this.comment=!0;return}if(!r){this.empty=!0;return}this.parseNegate();var t=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,t),t=this.globParts=t.map(function(n){return n.split(_xe)}),this.debug(this.pattern,t),t=t.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,t),t=t.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,t),this.set=t}}Gd.prototype.parseNegate=Ygt;function Ygt(){var r=this.pattern,e=!1,t=this.options,n=0;if(!t.nonegate){for(var i=0,o=r.length;i<o&&r.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=r.substr(n)),this.negate=e}}tg.braceExpand=function(r,e){return wxe(r,e)};Gd.prototype.braceExpand=wxe;function wxe(r,e){return e||(this instanceof Gd?e=this.options:e={}),r=typeof r>"u"?this.pattern:r,AU(r),e.nobrace||!/\{(?:(?!\{).)*\}/.test(r)?[r]:Wgt(r)}var Jgt=1024*64,AU=r=>{if(typeof r!="string")throw new TypeError("invalid pattern");if(r.length>Jgt)throw new TypeError("pattern is too long")};Gd.prototype.parse=Xgt;var kU={};function Xgt(r,e){AU(r);var t=this.options;if(!t.noglobstar&&r==="**")return XZ;if(r==="")return"";var n="",i=!1,o=!1,s=[],a=[],c,u=!1,l=-1,d=-1,f=r.charAt(0)==="."?"":t.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function b(){if(c){switch(c){case"*":n+=JZ,i=!0;break;case"?":n+=YZ,i=!0;break;default:n+="\\"+c;break}y.debug("clearStateChar %j %j",c,n),c=!1}}for(var T=0,k=r.length,z;T<k&&(z=r.charAt(T));T++){if(this.debug("%s	%s %s %j",r,T,n,z),o&&bxe[z]){n+="\\"+z,o=!1;continue}switch(z){case"/":return!1;case"\\":b(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",r,T,n,z),u){this.debug("  in class"),z==="!"&&T===d+1&&(z="^"),n+=z;continue}y.debug("call clearStateChar %j",c),b(),c=z,t.noext&&b();continue;case"(":if(u){n+="(";continue}if(!c){n+="\\(";continue}s.push({type:c,start:T-1,reStart:n.length,open:yxe[c].open,close:yxe[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(u||!s.length){n+="\\)";continue}b(),i=!0;var A=s.pop();n+=A.close,A.type==="!"&&a.push(A),A.reEnd=n.length;continue;case"|":if(u||!s.length||o){n+="\\|",o=!1;continue}b(),n+="|";continue;case"[":if(b(),u){n+="\\"+z;continue}u=!0,d=T,l=n.length,n+=z;continue;case"]":if(T===d+1||!u){n+="\\"+z,o=!1;continue}if(u){var U=r.substring(d+1,T);try{RegExp("["+U+"]")}catch{var ne=this.parse(U,kU);n=n.substr(0,l)+"\\["+ne[0]+"\\]",i=i||ne[1],u=!1;continue}}i=!0,u=!1,n+=z;continue;default:b(),o?o=!1:bxe[z]&&!(z==="^"&&u)&&(n+="\\"),n+=z}}for(u&&(U=r.substr(d+1),ne=this.parse(U,kU),n=n.substr(0,l)+"\\["+ne[0],i=i||ne[1]),A=s.pop();A;A=s.pop()){var de=n.slice(A.reStart+A.open.length);this.debug("setting tail",n,A),de=de.replace(/((?:\\{2}){0,64})(\\?)\|/g,function($e,Ct,ze){return ze||(ze="\\"),Ct+Ct+ze+"|"}),this.debug(`tail=%j
   %s`,de,de,A,n);var ve=A.type==="*"?JZ:A.type==="?"?YZ:"\\"+A.type;i=!0,n=n.slice(0,A.reStart)+ve+"\\("+de}b(),o&&(n+="\\\\");var $=!1;switch(n.charAt(0)){case".":case"[":case"(":$=!0}for(var W=a.length-1;W>-1;W--){var ee=a[W],Pe=n.slice(0,ee.reStart),se=n.slice(ee.reStart,ee.reEnd-8),ue=n.slice(ee.reEnd-8,ee.reEnd),Fe=n.slice(ee.reEnd);ue+=Fe;var Le=Pe.split("(").length-1,ce=Fe;for(T=0;T<Le;T++)ce=ce.replace(/\)[+*?]?/,"");Fe=ce;var Ce="";Fe===""&&e!==kU&&(Ce="$");var we=Pe+se+Fe+Ce+ue;n=we}if(n!==""&&i&&(n="(?=.)"+n),$&&(n=f+n),e===kU)return[n,i];if(!i)return evt(r);var Ee=t.nocase?"i":"";try{var Ne=new RegExp("^"+n+"$",Ee)}catch{return new RegExp("$.")}return Ne._glob=r,Ne._src=n,Ne}tg.makeRe=function(r,e){return new Gd(r,e||{}).makeRe()};Gd.prototype.makeRe=Qgt;function Qgt(){if(this.regexp||this.regexp===!1)return this.regexp;var r=this.set;if(!r.length)return this.regexp=!1,this.regexp;var e=this.options,t=e.noglobstar?JZ:e.dot?Bgt:$gt,n=e.nocase?"i":"",i=r.map(function(o){return o.map(function(s){return s===XZ?t:typeof s=="string"?tvt(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}tg.match=function(r,e,t){t=t||{};let n=new Gd(e,t);return r=r.filter(function(i){return n.match(i)}),n.options.nonull&&!r.length&&r.push(e),r};Gd.prototype.match=Zgt;function Zgt(r,e){if(this.debug("match",r,this.pattern),this.comment)return!1;if(this.empty)return r==="";if(r==="/"&&e)return!0;var t=this.options;cM.sep!=="/"&&(r=r.split(cM.sep).join("/")),r=r.split(_xe),this.debug(this.pattern,"split",r);var n=this.set;this.debug(this.pattern,"set",n);var i,o;for(o=r.length-1;o>=0&&(i=r[o],!i);o--);for(o=0;o<n.length;o++){var s=n[o],a=r;t.matchBase&&s.length===1&&(a=[i]);var c=this.matchOne(a,s,e);if(c)return t.flipNegate?!0:!this.negate}return t.flipNegate?!1:this.negate}Gd.prototype.matchOne=function(r,e,t){var n=this.options;this.debug("matchOne",{this:this,file:r,pattern:e}),this.debug("matchOne",r.length,e.length);for(var i=0,o=0,s=r.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var c=e[o],u=r[i];if(this.debug(e,c,u),c===!1)return!1;if(c===XZ){this.debug("GLOBSTAR",[e,c,u]);var l=i,d=o+1;if(d===a){for(this.debug("** at the end");i<s;i++)if(r[i]==="."||r[i]===".."||!n.dot&&r[i].charAt(0)===".")return!1;return!0}for(;l<s;){var f=r[l];if(this.debug(`
globstar while`,r,l,e,d,f),this.matchOne(r.slice(l),e.slice(d),t))return this.debug("globstar found match!",l,s,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",r,l,e,d);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(t&&(this.debug(`
>>> no match, partial?`,r,l,e,d),l===s))}var y;if(typeof c=="string"?(n.nocase?y=u.toLowerCase()===c.toLowerCase():y=u===c,this.debug("string match",c,u,y)):(y=u.match(c),this.debug("pattern match",c,u,y)),!y)return!1}if(i===s&&o===a)return!0;if(i===s)return t;if(o===a)return i===s-1&&r[i]==="";throw new Error("wtf?")};function evt(r){return r.replace(/\\(.)/g,"$1")}function tvt(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var see=P(s_=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0});s_.DiagnosticFeature=s_.DiagnosticPullMode=s_.vsdiag=void 0;var rvt=MU(),ho=require("vscode"),Zc=Fi(),nvt=Nc(),QZ=Yo();function LU(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var Ey;(function(r){let e;(function(t){t.full="full",t.unChanged="unChanged"})(e=r.DocumentDiagnosticReportKind||(r.DocumentDiagnosticReportKind={}))})(Ey=s_.vsdiag||(s_.vsdiag={}));var ZZ;(function(r){r.onType="onType",r.onSave="onSave"})(ZZ=s_.DiagnosticPullMode||(s_.DiagnosticPullMode={}));var Gf;(function(r){r.active="open",r.reschedule="reschedule",r.outDated="drop"})(Gf||(Gf={}));var eee=class r{constructor(){this.open=new Set,this._onOpen=new ho.EventEmitter,this._onClose=new ho.EventEmitter,r.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let n=this.open,i=new Set;r.fillTabResources(i);let o=new Set,s=new Set(i);for(let a of n.values())i.has(a)?s.delete(a):o.add(a);if(this.open=i,o.size>0){let a=new Set;for(let c of o)a.add(ho.Uri.parse(c));this._onClose.fire(a)}if(s.size>0){let a=new Set;for(let c of s)a.add(ho.Uri.parse(c));this._onOpen.fire(a)}};ho.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=ho.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof ho.Uri?ho.window.activeTextEditor?.document.uri===e:ho.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof ho.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){let e=new Set;return r.fillTabResources(new Set,e),e}static fillTabResources(e,t){let n=e??new Set;for(let i of ho.window.tabGroups.all)for(let o of i.tabs){let s=o.input,a;s instanceof ho.TabInputText?a=s.uri:s instanceof ho.TabInputTextDiff&&(a=s.modified),a!==void 0&&!n.has(a.toString())&&(n.add(a.toString()),t!==void 0&&t.add(a))}}},od;(function(r){r[r.document=1]="document",r[r.workspace=2]="workspace"})(od||(od={}));var tee=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){let i=e===od.document?this.documentPullStates:this.workspacePullStates,[o,s,a]=t instanceof ho.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version],c=i.get(o);return c===void 0&&(c={document:s,pulledVersion:a,resultId:void 0},i.set(o,c)),c}update(e,t,n,i){let o=e===od.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof ho.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n],l=o.get(s);l===void 0?(l={document:a,pulledVersion:c,resultId:u},o.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){let n=t instanceof ho.Uri?t.toString():t.uri.toString();(e===od.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){let n=t instanceof ho.Uri?t.toString():t.uri.toString();return(e===od.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){let n=t instanceof ho.Uri?t.toString():t.uri.toString();return(e===od.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){let e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),n.resultId!==void 0&&e.push({uri:t,value:n.resultId});return e}},ree=class{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new ho.EventEmitter,this.provider=this.createProvider(),this.diagnostics=ho.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new tee,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;let n=e instanceof ho.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t()},i=>{this.client.error(`Document pull failed for text document ${n.toString()}`,i,!1)})}async pullAsync(e,t){if(this.isDisposed)return;let n=e instanceof ho.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;let s=this.openRequests.get(o),a=n?this.documentStates.track(od.document,e,t):this.documentStates.track(od.document,e);if(s===void 0){let c=new ho.CancellationTokenSource;this.openRequests.set(o,{state:Gf.active,document:e,version:t,tokenSource:c});let u,l;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:Ey.DocumentDiagnosticReportKind.full,items:[]}}catch(d){if(d instanceof QZ.LSPCancellationError&&Zc.DiagnosticServerCancellationData.is(d.data)&&d.data.retriggerRequest===!1&&(l={state:Gf.outDated,document:e}),l===void 0&&d instanceof ho.CancellationError)l={state:Gf.reschedule,document:e};else throw d}if(l=l??this.openRequests.get(o),l===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(o),!this.tabs.isVisible(e)){this.documentStates.unTrack(od.document,e);return}if(l.state===Gf.outDated)return;u!==void 0&&(u.kind===Ey.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),l.state===Gf.reschedule&&this.pull(e)}else s.state===Gf.active?(s.tokenSource.cancel(),this.openRequests.set(o,{state:Gf.reschedule,document:s.document})):s.state===Gf.outDated&&this.openRequests.set(o,{state:Gf.reschedule,document:s.document})}forgetDocument(e){let t=e instanceof ho.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(n,{state:Gf.reschedule,document:e}):this.pull(e,()=>{this.forget(od.document,e)}):(i!==void 0&&(i.state===Gf.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:Gf.outDated,document:e})),this.diagnostics.delete(t),this.forget(od.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0,Zc.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3)},e=>{!(e instanceof QZ.LSPCancellationError)&&!Zc.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,Zc.RAL)().timer.setTimeout(()=>{this.pullWorkspace()},2e3))})}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new ho.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let n of t.items)n.kind===Ey.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(od.document,n.uri)||this.diagnostics.set(n.uri,n.items)),this.documentStates.update(od.workspace,n.uri,n.version??void 0,n.resultId)})}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,n,i)=>{let o=(a,c,u)=>{let l={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof ho.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:Ey.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(Zc.DocumentDiagnosticRequest.type,l,u).then(async d=>d==null||this.isDisposed||u.isCancellationRequested?{kind:Ey.DocumentDiagnosticReportKind.full,items:[]}:d.kind===Zc.DocumentDiagnosticReportKind.Full?{kind:Ey.DocumentDiagnosticReportKind.full,resultId:d.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(d.items,u)}:{kind:Ey.DocumentDiagnosticReportKind.unChanged,resultId:d.resultId},d=>this.client.handleFailedRequest(Zc.DocumentDiagnosticRequest.type,u,d,{kind:Ey.DocumentDiagnosticReportKind.full,items:[]}))},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(t,n,i,o):o(t,n,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,n,i)=>{let o=async u=>u.kind===Zc.DocumentDiagnosticReportKind.Full?{kind:Ey.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,n)}:{kind:Ey.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},s=u=>{let l=[];for(let d of u)l.push({uri:this.client.code2ProtocolConverter.asUri(d.uri),value:d.value});return l},a=(u,l)=>{let d=(0,nvt.generateUuid)(),f=this.client.onProgress(Zc.WorkspaceDiagnosticRequest.partialResult,d,async b=>{if(b==null){i(null);return}let T={items:[]};for(let k of b.items)try{T.items.push(await o(k))}catch(z){this.client.error("Converting workspace diagnostics failed.",z)}i(T)}),y={identifier:this.options.identifier,previousResultIds:s(u),partialResultToken:d};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(Zc.WorkspaceDiagnosticRequest.type,y,l).then(async b=>{if(l.isCancellationRequested)return{items:[]};let T={items:[]};for(let k of b.items)T.items.push(await o(k));return f.dispose(),i(T),{items:[]}},b=>(f.dispose(),this.client.handleFailedRequest(Zc.DocumentDiagnosticRequest.type,l,b,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,n,i,a):a(t,n,i)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===Gf.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:Gf.outDated,document:t.document});this.diagnostics.dispose()}},nee=class{constructor(e){this.diagnosticRequestor=e,this.documents=new Zc.LinkedMap,this.isDisposed=!1}add(e){if(this.isDisposed===!0)return;let t=e instanceof ho.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,Zc.Touch.Last),this.trigger())}remove(e){let t=e instanceof ho.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),this.documents.size===0?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0,Zc.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let t=e instanceof ho.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,Zc.Touch.Last),e===this.endDocument&&this.stop()}},200)}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}},iee=class{constructor(e,t,n){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},o=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),s=[],a=b=>{let T=n.documentSelector;if(i.match!==void 0)return i.match(T,b);for(let k of T)if(Zc.TextDocumentFilter.is(k)){if(typeof k=="string"||k.language!==void 0&&k.language!=="*"||k.scheme!==void 0&&k.scheme!=="*"&&k.scheme!==b.scheme)return!1;if(k.pattern!==void 0){let z=new rvt.Minimatch(k.pattern,{noext:!0});if(!z.makeRe()||!z.match(b.fsPath))return!1}}return!0},c=b=>b instanceof ho.Uri?a(b):ho.languages.match(o,b)>0&&t.isVisible(b),u=b=>b instanceof ho.Uri?this.activeTextDocument?.uri.toString()===b.toString():this.activeTextDocument===b;this.diagnosticRequestor=new ree(e,t,n),this.backgroundScheduler=new nee(this.diagnosticRequestor);let l=b=>{!c(b)||!n.interFileDependencies||u(b)||this.backgroundScheduler.add(b)};this.activeTextDocument=ho.window.activeTextEditor?.document,ho.window.onDidChangeActiveTextEditor(b=>{let T=this.activeTextDocument;this.activeTextDocument=b?.document,T!==void 0&&l(T),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument)});let d=e.getFeature(Zc.DidOpenTextDocumentNotification.method);s.push(d.onNotificationSent(b=>{let T=b.original;c(T)&&this.diagnosticRequestor.pull(T,()=>{l(T)})}));let f=new Set;for(let b of ho.workspace.textDocuments)c(b)&&(this.diagnosticRequestor.pull(b,()=>{l(b)}),f.add(b.uri.toString()));if(i.onTabs===!0)for(let b of t.getTabResources())!f.has(b.toString())&&c(b)&&this.diagnosticRequestor.pull(b,()=>{l(b)});if(t.onOpen(b=>{for(let T of b)c(T)&&!this.diagnosticRequestor.knows(od.document,T)&&this.diagnosticRequestor.pull(T,()=>{l(T)})}),i.onChange===!0){let b=e.getFeature(Zc.DidChangeTextDocumentNotification.method);s.push(b.onNotificationSent(async T=>{let k=T.original.document;(i.filter===void 0||!i.filter(k,ZZ.onType))&&this.diagnosticRequestor.knows(od.document,k)&&T.original.contentChanges.length>0&&this.diagnosticRequestor.pull(k,()=>{this.backgroundScheduler.trigger()})}))}if(i.onSave===!0){let b=e.getFeature(Zc.DidSaveTextDocumentNotification.method);s.push(b.onNotificationSent(T=>{let k=T.original;(i.filter===void 0||!i.filter(k,ZZ.onSave))&&this.diagnosticRequestor.knows(od.document,k)&&this.diagnosticRequestor.pull(T.original,()=>{this.backgroundScheduler.trigger()})}))}let y=e.getFeature(Zc.DidCloseTextDocumentNotification.method);s.push(y.onNotificationSent(b=>{this.cleanUpDocument(b.original)})),t.onClose(b=>{for(let T of b)this.cleanUpDocument(T)}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let b of ho.workspace.textDocuments)c(b)&&this.diagnosticRequestor.pull(b)}),n.workspaceDiagnostics===!0&&n.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=ho.Disposable.from(...s,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(od.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}},oee=class extends QZ.TextDocumentLanguageFeature{constructor(e){super(e,Zc.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=LU(LU(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,LU(LU(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(Zc.DiagnosticRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeDiagnosticsEmitter.fire()});let[i,o]=this.getRegistration(t,e.diagnosticProvider);!i||!o||this.register({id:i,registerOptions:o})}dispose(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new eee);let t=new iee(this._client,this.tabs,e);return[t.disposable,t]}};s_.DiagnosticFeature=oee});var Txe=P(jU=>{"use strict";Object.defineProperty(jU,"__esModule",{value:!0});jU.NotebookDocumentSyncFeature=void 0;var Kf=require("vscode"),ivt=MU(),Bw=Fi(),ovt=Nc(),Cxe=lv();function Dxe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}var ix;(function(r){let e;(function(t){function n(f,y){return{version:f.version,uri:y.asUri(f.uri)}}t.asVersionedNotebookDocumentIdentifier=n;function i(f,y,b){let T=Bw.NotebookDocument.create(b.asUri(f.uri),f.notebookType,f.version,o(y,b));return Object.keys(f.metadata).length>0&&(T.metadata=s(f.metadata)),T}t.asNotebookDocument=i;function o(f,y){return f.map(b=>a(b,y))}t.asNotebookCells=o;function s(f){return u(new Set,f)}t.asMetadata=s;function a(f,y){let b=Bw.NotebookCell.create(c(f.kind),y.asUri(f.document.uri));return Object.keys(f.metadata).length>0&&(b.metadata=s(f.metadata)),f.executionSummary!==void 0&&Cxe.number(f.executionSummary.executionOrder)&&Cxe.boolean(f.executionSummary.success)&&(b.executionSummary={executionOrder:f.executionSummary.executionOrder,success:f.executionSummary.success}),b}t.asNotebookCell=a;function c(f){switch(f){case Kf.NotebookCellKind.Markup:return Bw.NotebookCellKind.Markup;case Kf.NotebookCellKind.Code:return Bw.NotebookCellKind.Code}}function u(f,y){if(f.has(y))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(y)){let b=[];for(let T of y)if(T!==null&&typeof T=="object"||Array.isArray(T))b.push(u(f,T));else{if(T instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");b.push(T)}return b}else{let b=Object.keys(y),T=Object.create(null);for(let k of b){let z=y[k];if(z!==null&&typeof z=="object"||Array.isArray(z))T[k]=u(f,z);else{if(z instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");T[k]=z}}return T}}function l(f,y){let b=y.asChangeTextDocumentParams(f);return{document:b.textDocument,changes:b.contentChanges}}t.asTextContentChange=l;function d(f,y){let b=Object.create(null);if(f.metadata&&(b.metadata=r.c2p.asMetadata(f.metadata)),f.cells!==void 0){let T=Object.create(null),k=f.cells;k.structure&&(T.structure={array:{start:k.structure.array.start,deleteCount:k.structure.array.deleteCount,cells:k.structure.array.cells!==void 0?k.structure.array.cells.map(z=>r.c2p.asNotebookCell(z,y)):void 0},didOpen:k.structure.didOpen!==void 0?k.structure.didOpen.map(z=>y.asOpenTextDocumentParams(z.document).textDocument):void 0,didClose:k.structure.didClose!==void 0?k.structure.didClose.map(z=>y.asCloseTextDocumentParams(z.document).textDocument):void 0}),k.data!==void 0&&(T.data=k.data.map(z=>r.c2p.asNotebookCell(z,y))),k.textContent!==void 0&&(T.textContent=k.textContent.map(z=>r.c2p.asTextContentChange(z,y))),Object.keys(T).length>0&&(b.cells=T)}return b}t.asNotebookDocumentChangeEvent=d})(e=r.c2p||(r.c2p={}))})(ix||(ix={}));var aee;(function(r){function e(a,c,u){let l=a.length,d=c.length,f=0;for(;f<d&&f<l&&t(a[f],c[f],u);)f++;if(f<d&&f<l){let y=l-1,b=d-1;for(;y>=0&&b>=0&&t(a[y],c[b],u);)y--,b--;let T=y+1-f,k=f===b+1?void 0:c.slice(f,b+1);return k!==void 0?{start:f,deleteCount:T,cells:k}:{start:f,deleteCount:T}}else return f<d?{start:f,deleteCount:0,cells:c.slice(f)}:f<l?{start:f,deleteCount:l-f}:void 0}r.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!n(a.executionSummary,c.executionSummary)?!1:!u||u&&o(a.metadata,c.metadata)}function n(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function o(a,c){if(a===c)return!0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return!1;let u=Array.isArray(a),l=Array.isArray(c);if(u!==l)return!1;if(u&&l){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++)if(!o(a[d],c[d]))return!1}if(s(a)&&s(c)){let d=Object.keys(a),f=Object.keys(c);if(d.length!==f.length||(d.sort(),f.sort(),!o(d,f)))return!1;for(let y=0;y<d.length;y++){let b=d[y];if(!o(a[b],c[b]))return!1}return!0}return!1}function s(a){return a!==null&&typeof a=="object"}r.isObjectLiteral=s})(aee||(aee={}));var cee;(function(r){function e(t,n){if(typeof t=="string")return t==="*"||n.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&n.notebookType!==t.notebookType)return!1;let i=n.uri;if(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme)return!1;if(t.pattern!==void 0){let o=new ivt.Minimatch(t.pattern,{noext:!0});if(!o.makeRe()||!o.match(i.fsPath))return!1}return!0}r.matchNotebook=e})(cee||(cee={}));var NU;(function(r){function e(n){let i=n.notebookSelector,o=[];for(let s of i){let a=(typeof s.notebook=="string"?s.notebook:s.notebook?.notebookType)??"*",c=typeof s.notebook=="string"?void 0:s.notebook?.scheme,u=typeof s.notebook=="string"?void 0:s.notebook?.pattern;if(s.cells!==void 0)for(let l of s.cells)o.push(t(a,c,u,l.language));else o.push(t(a,c,u,void 0))}return o}r.asDocumentSelector=e;function t(n,i,o,s){return i===void 0&&o===void 0?{notebook:n,language:s}:{notebook:{notebookType:n,scheme:i,pattern:o},language:s}}})(NU||(NU={}));var FU;(function(r){function e(t){return{cells:t,uris:new Set(t.map(n=>n.document.uri.toString()))}}r.create=e})(FU||(FU={}));var ox=class{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(NU.asDocumentSelector(t)),Kf.workspace.onDidOpenNotebookDocument(n=>{this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n)},void 0,this.disposables);for(let n of Kf.workspace.notebookDocuments)this.notebookDidOpen.add(n.uri.toString()),this.didOpen(n);Kf.workspace.onDidChangeNotebookDocument(n=>this.didChangeNotebookDocument(n),void 0,this.disposables),this.options.save===!0&&Kf.workspace.onDidSaveNotebookDocument(n=>this.didSave(n),void 0,this.disposables),Kf.workspace.onDidCloseNotebookDocument(n=>{this.didClose(n),this.notebookDidOpen.delete(n.uri.toString())},void 0,this.disposables)}getState(){for(let e of Kf.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return Kf.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(Kf.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let n=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(n!==void 0){let o=n.uris.has(t.document.uri.toString());if(i&&o||!i&&!o)return;if(i){let s=this.getMatchingCells(e);if(s!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,n,s);a!==void 0&&this.doSendChange(a,s).catch(()=>{})}}}else i&&this.doSendOpen(e,[t]).catch(()=>{})}didChangeNotebookCellTextDocument(e,t){Kf.languages.match(this.selector,t.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch(()=>{})}didCloseNotebookCellTextDocument(e,t){let n=this.notebookSyncInfo.get(e.uri.toString());if(n===void 0)return;let i=t.document.uri,o=n.cells.findIndex(s=>s.document.uri.toString()===i.toString());if(o!==-1)if(o===0&&n.cells.length===1)this.doSendClose(e,n.cells).catch(()=>{});else{let s=n.cells.slice(),a=s.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:a}}},s).catch(()=>{})}}dispose(){for(let e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(n!==void 0)if(t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{})}else this.doSendClose(e,[]).catch(()=>{});else{if(t===void 0)return;this.doSendOpen(e,t).catch(()=>{})}}didChangeNotebookDocument(e){let t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(n===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,n)}else{let i=this.getMatchingCells(t);if(i===void 0){this.didClose(t,n);return}let o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);o!==void 0&&this.doSendChange(o,i).catch(()=>{})}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{})}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(t===void 0)return;let n=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,n).catch(()=>{})}async sendDidOpenNotebookDocument(e){let t=this.getMatchingCells(e);if(t!==void 0)return this.doSendOpen(e,t)}async doSendOpen(e,t){let n=async(o,s)=>{let a=ix.c2p.asNotebookDocument(o,s,this.client.code2ProtocolConverter),c=s.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(Bw.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c})}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),FU.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){let n=async o=>{try{await this.client.sendNotification(Bw.DidChangeNotebookDocumentNotification.type,{notebookDocument:ix.c2p.asVersionedNotebookDocumentIdentifier(o.notebook,this.client.code2ProtocolConverter),change:ix.c2p.asNotebookDocumentChangeEvent(o,this.client.code2ProtocolConverter)})}catch(s){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",s),s}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),FU.create(t??[])),i?.didChange!==void 0?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(Bw.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}})}catch(o){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",o),o}},n=this.client.middleware?.notebooks;return n?.didSave!==void 0?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){let n=async(o,s)=>{try{await this.client.sendNotification(Bw.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(o.uri)},cellTextDocuments:s.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))})}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let o={notebook:e};t?.metadata!==void 0&&(o.metadata=ix.c2p.asMetadata(t.metadata));let s;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];s=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)s.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(o.cells=o.cells??{},o.cells.data=a)}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&n!==void 0&&i!==void 0){let a=n.cells,c=i,u=aee.computeDiff(a,c,!1),l,d;if(u!==void 0){l=u.cells===void 0?new Map:new Map(u.cells.map(b=>[b.document.uri.toString(),b])),d=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(b=>[b.document.uri.toString(),b]));for(let b of Array.from(d.keys()))l.has(b)&&(d.delete(b),l.delete(b));o.cells=o.cells??{};let f=[],y=[];if(l.size>0||d.size>0){for(let b of l.values())f.push(b);for(let b of d.values())y.push(b)}o.cells.structure={array:u,didOpen:f,didClose:y}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let n of this.options.notebookSelector)if(n.notebook===void 0||cee.matchNotebook(n.notebook,e)){let i=this.filterCells(e,t,n.cells);return i.length===0?void 0:i}}}cellMatches(e,t){let n=this.getMatchingCells(e,[t]);return n!==void 0&&n[0]===t}filterCells(e,t,n){let i=n!==void 0?t.filter(o=>{let s=o.document.languageId;return n.some(a=>a.language==="*"||s===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},qU=class r{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Bw.NotebookDocumentSyncRegistrationType.type,Kf.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof ox&&o.didOpenNotebookCellTextDocument(n,i)}),Kf.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let n=t.document;if(n.uri.scheme!==r.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(n);if(i!==void 0)for(let o of this.registrations.values())o instanceof ox&&o.didChangeNotebookCellTextDocument(i,t)}),Kf.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==r.CellScheme)return;let[n,i]=this.findNotebookDocumentAndCell(t);if(!(n===void 0||i===void 0))for(let o of this.registrations.values())o instanceof ox&&o.didCloseNotebookCellTextDocument(n,i)})}getState(){if(this.registrations.size===0)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let t=Dxe(Dxe(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(NU.asDocumentSelector(t)))}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let n=t.id??ovt.generateUuid();this.register({id:n,registerOptions:t})}register(e){let t=new ox(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){let t=this.registrations.get(e);t&&t.dispose()}dispose(){for(let e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==r.CellScheme)return!1;if(this.dedicatedChannel!==void 0&&Kf.languages.match(this.dedicatedChannel,e)>0)return!0;for(let t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let n of Kf.workspace.notebookDocuments)for(let i of n.getCells())if(i.document.uri.toString()===t)return[n,i];return[void 0,void 0]}};jU.NotebookDocumentSyncFeature=qU;qU.CellScheme="vscode-notebook-cell"});var Rxe=P($C=>{"use strict";Object.defineProperty($C,"__esModule",{value:!0});$C.SyncConfigurationFeature=$C.toJSONObject=$C.ConfigurationFeature=void 0;var sx=require("vscode"),uM=Fi(),svt=lv(),avt=Nc(),Pxe=Yo(),uee=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(uM.ConfigurationRequest.type,(t,n)=>{let i=s=>{let a=[];for(let c of s.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0))}return a},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,i):i(t,n)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(i===-1)n=HT(sx.workspace.getConfiguration(void 0,e).get(t));else{let o=sx.workspace.getConfiguration(t.substr(0,i),e);o&&(n=HT(o.get(t.substr(i+1))))}}else{let i=sx.workspace.getConfiguration(void 0,e);n={};for(let o of Object.keys(i))i.has(o)&&(n[o]=HT(i.get(o)))}return n===void 0&&(n=null),n}dispose(){}};$C.ConfigurationFeature=uee;function HT(r){if(r){if(Array.isArray(r))return r.map(HT);if(typeof r=="object"){let e=Object.create(null);for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=HT(r[t]));return e}}return r}$C.toJSONObject=HT;var lee=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return uM.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,Pxe.ensure)((0,Pxe.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:avt.generateUuid(),registerOptions:{section:e}})}register(e){let t=sx.workspace.onDidChangeConfiguration(n=>{this.onDidChangeConfiguration(e.registerOptions.section,n)});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(svt.string(e)?n=[e]:n=e,n!==void 0&&t!==void 0&&!n.some(a=>t.affectsConfiguration(a)))return;let i=async s=>s===void 0?this._client.sendNotification(uM.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(uM.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(s)}),o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch(s=>{this._client.error(`Sending notification ${uM.DidChangeConfigurationNotification.type.method} failed`,s)})}extractSettingsInformation(e){function t(o,s){let a=o;for(let c=0;c<s.length-1;c++){let u=a[s[c]];u||(u=Object.create(null),a[s[c]]=u),a=u}return a}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),c=null;if(a>=0?c=sx.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):c=sx.workspace.getConfiguration(void 0,n).get(s),c){let u=e[o].split(".");t(i,u)[u[u.length-1]]=HT(c)}}return i}};$C.SyncConfigurationFeature=lee});var xxe=P(Xh=>{"use strict";Object.defineProperty(Xh,"__esModule",{value:!0});Xh.DidSaveTextDocumentFeature=Xh.WillSaveWaitUntilFeature=Xh.WillSaveFeature=Xh.DidChangeTextDocumentFeature=Xh.DidCloseTextDocumentFeature=Xh.DidOpenTextDocumentFeature=void 0;var hv=require("vscode"),yl=Fi(),Fc=Yo(),cvt=iM(),ax=Nc(),dee=class extends Fc.TextDocumentEventFeature{constructor(e,t){super(e,hv.workspace.onDidOpenTextDocument,yl.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,n=>e.code2ProtocolConverter.asOpenTextDocumentParams(n),n=>n,Fc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,Fc.ensure)((0,Fc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:ax.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return yl.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);hv.workspace.textDocuments.forEach(n=>{let i=n.uri.toString();if(!this._syncedDocuments.has(i)&&hv.languages.match(t,n)>0&&!this._client.hasDedicatedTextSynchronizationFeature(n)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));(o.didOpen?o.didOpen(n,s):s(n)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)}),this._syncedDocuments.set(i,n)}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.set(e.uri.toString(),e)}};Xh.DidOpenTextDocumentFeature=dee;var fee=class extends Fc.TextDocumentEventFeature{constructor(e,t){super(e,hv.workspace.onDidCloseTextDocument,yl.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,n=>e.code2ProtocolConverter.asCloseTextDocumentParams(n),n=>n,Fc.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return yl.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,Fc.ensure)((0,Fc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:ax.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(i=>{if(hv.languages.match(t,i)>0&&!this._selectorFilter(n,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let o=this._client.middleware,s=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(o.didClose?o.didClose(i,s):s(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a)})}})}};Xh.DidCloseTextDocumentFeature=fee;var pee=class extends Fc.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new hv.EventEmitter}get registrationType(){return yl.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,Fc.ensure)((0,Fc.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.change!==void 0&&n.change!==yl.TextDocumentSyncKind.None&&this.register({id:ax.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=hv.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector}async callback(e){if(e.contentChanges.length===0)return;let t=[];for(let n of this._changeData.values())if(hv.languages.match(n.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let i=this._client.middleware;if(n.syncKind===yl.TextDocumentSyncKind.Incremental){let o=async s=>{let a=this._client.code2ProtocolConverter.asChangeTextDocumentParams(s);await this._client.sendNotification(yl.DidChangeTextDocumentNotification.type,a),this.notificationSent(s,yl.DidChangeTextDocumentNotification.type,a)};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}else if(n.syncKind===yl.TextDocumentSyncKind.Full){let o=async s=>{let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c.document);await this._client.sendNotification(yl.DidChangeTextDocumentNotification.type,u),this.notificationSent(c,yl.DidChangeTextDocumentNotification.type,u)};return this._changeDelayer?(this._changeDelayer.uri!==s.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=s.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>a(s))):(this._changeDelayer={uri:s.document.uri.toString(),delayer:new cvt.Delayer(200)},this._changeDelayer.delayer.trigger(()=>a(s),-1))};t.push(i.didChange?i.didChange(e,s=>o(s)):o(e))}}return Promise.all(t).then(void 0,n=>{throw this._client.error(`Sending document notification ${yl.DidChangeTextDocumentNotification.type.method} failed`,n),n})}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._changeData.delete(e),this._changeData.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer!==void 0&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!(this._forcingDelivery||!this._changeDelayer))try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(let t of this._changeData.values())if(hv.languages.match(t.documentSelector,e)>0)return{send:n=>this.callback(n)}}};Xh.DidChangeTextDocumentFeature=pee;var hee=class extends Fc.TextDocumentEventFeature{constructor(e){super(e,hv.workspace.onWillSaveTextDocument,yl.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,n)=>Fc.TextDocumentEventFeature.textDocumentFilter(t,n.document))}get registrationType(){return yl.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0,Fc.ensure)((0,Fc.ensure)(e,"textDocument"),"synchronization");t.willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:ax.generateUuid(),registerOptions:{documentSelector:t}})}};Xh.WillSaveFeature=hee;var mee=class extends Fc.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return yl.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0,Fc.ensure)((0,Fc.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:ax.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=hv.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(Fc.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=i=>this._client.sendRequest(yl.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async o=>{let s=await this._client.protocol2CodeConverter.asTextEdits(o);return s===void 0?[]:s});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}};Xh.WillSaveWaitUntilFeature=mee;var gee=class extends Fc.TextDocumentEventFeature{constructor(e){super(e,hv.workspace.onDidSaveTextDocument,yl.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,Fc.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return yl.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,Fc.ensure)((0,Fc.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;if(t&&n&&n.save){let i=typeof n.save=="boolean"?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:ax.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}};Xh.DidSaveTextDocumentFeature=gee});var Exe=P(zU=>{"use strict";Object.defineProperty(zU,"__esModule",{value:!0});zU.CompletionItemFeature=void 0;var uvt=require("vscode"),wo=Fi(),vee=Yo(),lvt=Nc(),dvt=[wo.CompletionItemKind.Text,wo.CompletionItemKind.Method,wo.CompletionItemKind.Function,wo.CompletionItemKind.Constructor,wo.CompletionItemKind.Field,wo.CompletionItemKind.Variable,wo.CompletionItemKind.Class,wo.CompletionItemKind.Interface,wo.CompletionItemKind.Module,wo.CompletionItemKind.Property,wo.CompletionItemKind.Unit,wo.CompletionItemKind.Value,wo.CompletionItemKind.Enum,wo.CompletionItemKind.Keyword,wo.CompletionItemKind.Snippet,wo.CompletionItemKind.Color,wo.CompletionItemKind.File,wo.CompletionItemKind.Reference,wo.CompletionItemKind.Folder,wo.CompletionItemKind.EnumMember,wo.CompletionItemKind.Constant,wo.CompletionItemKind.Struct,wo.CompletionItemKind.Event,wo.CompletionItemKind.Operator,wo.CompletionItemKind.TypeParameter],yee=class extends vee.TextDocumentLanguageFeature{constructor(e){super(e,wo.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,vee.ensure)((0,vee.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[wo.MarkupKind.Markdown,wo.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[wo.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[wo.InsertTextMode.asIs,wo.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=wo.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:dvt},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){let n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:lvt.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let n=e.triggerCharacters??[],i=e.allCommitCharacters,o=e.documentSelector,s={provideCompletionItems:(a,c,u,l)=>{let d=this._client,f=this._client.middleware,y=(b,T,k,z)=>d.sendRequest(wo.CompletionRequest.type,d.code2ProtocolConverter.asCompletionParams(b,T,k),z).then(A=>z.isCancellationRequested?null:d.protocol2CodeConverter.asCompletionResult(A,i,z),A=>d.handleFailedRequest(wo.CompletionRequest.type,z,A,null));return f.provideCompletionItem?f.provideCompletionItem(a,c,l,u,y):y(a,c,l,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,l=this._client.middleware,d=(f,y)=>u.sendRequest(wo.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(f,!!this.labelDetailsSupport.get(t)),y).then(b=>y.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(b),b=>u.handleFailedRequest(wo.CompletionResolveRequest.type,y,b,f));return l.resolveCompletionItem?l.resolveCompletionItem(a,c,d):d(a,c)}:void 0};return[uvt.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),s,...n),s]}};zU.CompletionItemFeature=yee});var Oxe=P(UU=>{"use strict";Object.defineProperty(UU,"__esModule",{value:!0});UU.HoverFeature=void 0;var fvt=require("vscode"),lM=Fi(),bee=Yo(),pvt=Nc(),_ee=class extends bee.TextDocumentLanguageFeature{constructor(e){super(e,lM.HoverRequest.type)}fillClientCapabilities(e){let t=(0,bee.ensure)((0,bee.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[lM.MarkupKind.Markdown,lM.MarkupKind.PlainText]}initialize(e,t){let n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:pvt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideHover:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(lM.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asHover(y),y=>a.handleFailedRequest(lM.HoverRequest.type,f,y,null)),u=a.middleware;return u.provideHover?u.provideHover(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return fvt.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};UU.HoverFeature=_ee});var Ixe=P(HU=>{"use strict";Object.defineProperty(HU,"__esModule",{value:!0});HU.DefinitionFeature=void 0;var hvt=require("vscode"),wee=Fi(),See=Yo(),mvt=Nc(),Cee=class extends See.TextDocumentLanguageFeature{constructor(e){super(e,wee.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,See.ensure)((0,See.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:mvt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(wee.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(y,f),y=>a.handleFailedRequest(wee.DefinitionRequest.type,f,y,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return hvt.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};HU.DefinitionFeature=Cee});var Axe=P(WU=>{"use strict";Object.defineProperty(WU,"__esModule",{value:!0});WU.SignatureHelpFeature=void 0;var kxe=require("vscode"),dM=Fi(),Dee=Yo(),gvt=Nc(),Tee=class extends Dee.TextDocumentLanguageFeature{constructor(e){super(e,dM.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,Dee.ensure)((0,Dee.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[dM.MarkupKind.Markdown,dM.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:gvt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t={provideSignatureHelp:(n,i,o,s)=>{let a=this._client,c=(l,d,f,y)=>a.sendRequest(dM.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(l,d,f),y).then(b=>y.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(b,y),b=>a.handleFailedRequest(dM.SignatureHelpRequest.type,y,b,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(n,i,s,o,c):c(n,i,s,o)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){let n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return kxe.languages.registerSignatureHelpProvider(n,t,...i)}else{let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return kxe.languages.registerSignatureHelpProvider(n,t,i)}}};WU.SignatureHelpFeature=Tee});var Mxe=P(BU=>{"use strict";Object.defineProperty(BU,"__esModule",{value:!0});BU.DocumentHighlightFeature=void 0;var vvt=require("vscode"),Pee=Fi(),Ree=Yo(),yvt=Nc(),xee=class extends Ree.TextDocumentLanguageFeature{constructor(e){super(e,Pee.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,Ree.ensure)((0,Ree.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:yvt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentHighlights:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Pee.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(y,f),y=>a.handleFailedRequest(Pee.DocumentHighlightRequest.type,f,y,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,o,s,c):c(i,o,s)}};return[vvt.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};BU.DocumentHighlightFeature=xee});var Iee=P(a_=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});a_.DocumentSymbolFeature=a_.SupportedSymbolTags=a_.SupportedSymbolKinds=void 0;var bvt=require("vscode"),ms=Fi(),Eee=Yo(),_vt=Nc();a_.SupportedSymbolKinds=[ms.SymbolKind.File,ms.SymbolKind.Module,ms.SymbolKind.Namespace,ms.SymbolKind.Package,ms.SymbolKind.Class,ms.SymbolKind.Method,ms.SymbolKind.Property,ms.SymbolKind.Field,ms.SymbolKind.Constructor,ms.SymbolKind.Enum,ms.SymbolKind.Interface,ms.SymbolKind.Function,ms.SymbolKind.Variable,ms.SymbolKind.Constant,ms.SymbolKind.String,ms.SymbolKind.Number,ms.SymbolKind.Boolean,ms.SymbolKind.Array,ms.SymbolKind.Object,ms.SymbolKind.Key,ms.SymbolKind.Null,ms.SymbolKind.EnumMember,ms.SymbolKind.Struct,ms.SymbolKind.Event,ms.SymbolKind.Operator,ms.SymbolKind.TypeParameter];a_.SupportedSymbolTags=[ms.SymbolTag.Deprecated];var Oee=class extends Eee.TextDocumentLanguageFeature{constructor(e){super(e,ms.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=(0,Eee.ensure)((0,Eee.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:a_.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:a_.SupportedSymbolTags},t.labelSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:_vt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentSymbols:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(ms.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(l),d).then(async f=>{if(d.isCancellationRequested||f===void 0||f===null)return null;if(f.length===0)return[];{let y=f[0];return ms.DocumentSymbol.is(y)?await a.protocol2CodeConverter.asDocumentSymbols(f,d):await a.protocol2CodeConverter.asSymbolInformations(f,d)}},f=>a.handleFailedRequest(ms.DocumentSymbolRequest.type,d,f,null)),u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(o,s,c):c(o,s)}},i=e.label!==void 0?{label:e.label}:void 0;return[bvt.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}};a_.DocumentSymbolFeature=Oee});var Nxe=P($U=>{"use strict";Object.defineProperty($U,"__esModule",{value:!0});$U.WorkspaceSymbolFeature=void 0;var wvt=require("vscode"),fM=Fi(),kee=Yo(),Lxe=Iee(),Svt=Nc(),Aee=class extends kee.WorkspaceFeature{constructor(e){super(e,fM.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,kee.ensure)((0,kee.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Lxe.SupportedSymbolKinds},t.tagSupport={valueSet:Lxe.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:Svt.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(fM.WorkspaceSymbolRequest.type,{query:c},u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformations(l,u),l=>o.handleFailedRequest(fM.WorkspaceSymbolRequest.type,u,l,null)),a=o.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(n,i,s):s(n,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(n,i)=>{let o=this._client,s=(c,u)=>o.sendRequest(fM.WorkspaceSymbolResolveRequest.type,o.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(l=>u.isCancellationRequested?null:o.protocol2CodeConverter.asSymbolInformation(l),l=>o.handleFailedRequest(fM.WorkspaceSymbolResolveRequest.type,u,l,null)),a=o.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(n,i,s):s(n,i)}:void 0};return[wvt.languages.registerWorkspaceSymbolProvider(t),t]}};$U.WorkspaceSymbolFeature=Aee});var Fxe=P(VU=>{"use strict";Object.defineProperty(VU,"__esModule",{value:!0});VU.ReferencesFeature=void 0;var Cvt=require("vscode"),Mee=Fi(),Lee=Yo(),Dvt=Nc(),Nee=class extends Lee.TextDocumentLanguageFeature{constructor(e){super(e,Mee.ReferencesRequest.type)}fillClientCapabilities(e){(0,Lee.ensure)((0,Lee.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:Dvt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideReferences:(i,o,s,a)=>{let c=this._client,u=(d,f,y,b)=>c.sendRequest(Mee.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(d,f,y),b).then(T=>b.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(T,b),T=>c.handleFailedRequest(Mee.ReferencesRequest.type,b,T,null)),l=c.middleware;return l.provideReferences?l.provideReferences(i,o,s,a,u):u(i,o,s,a)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Cvt.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};VU.ReferencesFeature=Nee});var qxe=P(GU=>{"use strict";Object.defineProperty(GU,"__esModule",{value:!0});GU.CodeActionFeature=void 0;var Tvt=require("vscode"),rg=Fi(),Pvt=Nc(),Fee=Yo(),qee=class extends Fee.TextDocumentLanguageFeature{constructor(e){super(e,rg.CodeActionRequest.type)}fillClientCapabilities(e){let t=(0,Fee.ensure)((0,Fee.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[rg.CodeActionKind.Empty,rg.CodeActionKind.QuickFix,rg.CodeActionKind.Refactor,rg.CodeActionKind.RefactorExtract,rg.CodeActionKind.RefactorInline,rg.CodeActionKind.RefactorRewrite,rg.CodeActionKind.Source,rg.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){let n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:Pvt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideCodeActions:(i,o,s,a)=>{let c=this._client,u=async(d,f,y,b)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),context:await c.code2ProtocolConverter.asCodeActionContext(y,b)};return c.sendRequest(rg.CodeActionRequest.type,T,b).then(k=>b.isCancellationRequested||k===null||k===void 0?null:c.protocol2CodeConverter.asCodeActionResult(k,b),k=>c.handleFailedRequest(rg.CodeActionRequest.type,b,k,null))},l=c.middleware;return l.provideCodeActions?l.provideCodeActions(i,o,s,a,u):u(i,o,s,a)},resolveCodeAction:e.resolveProvider?(i,o)=>{let s=this._client,a=this._client.middleware,c=async(u,l)=>s.sendRequest(rg.CodeActionResolveRequest.type,await s.code2ProtocolConverter.asCodeAction(u,l),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asCodeAction(d,l),d=>s.handleFailedRequest(rg.CodeActionResolveRequest.type,l,d,u));return a.resolveCodeAction?a.resolveCodeAction(i,o,c):c(i,o)}:void 0};return[Tvt.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}};GU.CodeActionFeature=qee});var zxe=P(KU=>{"use strict";Object.defineProperty(KU,"__esModule",{value:!0});KU.CodeLensFeature=void 0;var jxe=require("vscode"),cx=Fi(),Rvt=Nc(),pM=Yo(),jee=class extends pM.TextDocumentLanguageFeature{constructor(e){super(e,cx.CodeLensRequest.type)}fillClientCapabilities(e){(0,pM.ensure)((0,pM.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,pM.ensure)((0,pM.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(cx.CodeLensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeCodeLensEmitter.fire()});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:Rvt.generateUuid(),registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new jxe.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(cx.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(l),d).then(f=>d.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(f,d),f=>a.handleFailedRequest(cx.CodeLensRequest.type,d,f,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(o,s,c):c(o,s)},resolveCodeLens:e.resolveProvider?(o,s)=>{let a=this._client,c=(l,d)=>a.sendRequest(cx.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(l),d).then(f=>d.isCancellationRequested?l:a.protocol2CodeConverter.asCodeLens(f),f=>a.handleFailedRequest(cx.CodeLensResolveRequest.type,d,f,l)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(o,s,c):c(o,s)}:void 0};return[jxe.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}};KU.CodeLensFeature=jee});var Uxe=P(VC=>{"use strict";Object.defineProperty(VC,"__esModule",{value:!0});VC.DocumentOnTypeFormattingFeature=VC.DocumentRangeFormattingFeature=VC.DocumentFormattingFeature=void 0;var YU=require("vscode"),$w=Fi(),Wee=Nc(),Vw=Yo(),hM;(function(r){function e(t){let n=YU.workspace.getConfiguration("files",t);return{trimTrailingWhitespace:n.get("trimTrailingWhitespace"),trimFinalNewlines:n.get("trimFinalNewlines"),insertFinalNewline:n.get("insertFinalNewline")}}r.fromConfiguration=e})(hM||(hM={}));var zee=class extends Vw.TextDocumentLanguageFeature{constructor(e){super(e,$w.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,Vw.ensure)((0,Vw.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:Wee.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentFormattingEdits:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let y={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),options:a.code2ProtocolConverter.asFormattingOptions(d,hM.fromConfiguration(l))};return a.sendRequest($w.DocumentFormattingRequest.type,y,f).then(b=>f.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(b,f),b=>a.handleFailedRequest($w.DocumentFormattingRequest.type,f,b,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,o,s,c):c(i,o,s)}};return[YU.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};VC.DocumentFormattingFeature=zee;var Uee=class extends Vw.TextDocumentLanguageFeature{constructor(e){super(e,$w.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,Vw.ensure)((0,Vw.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:Wee.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,y,b)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f),options:c.code2ProtocolConverter.asFormattingOptions(y,hM.fromConfiguration(d))};return c.sendRequest($w.DocumentRangeFormattingRequest.type,T,b).then(k=>b.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(k,b),k=>c.handleFailedRequest($w.DocumentRangeFormattingRequest.type,b,k,null))},l=c.middleware;return l.provideDocumentRangeFormattingEdits?l.provideDocumentRangeFormattingEdits(i,o,s,a,u):u(i,o,s,a)}};return[YU.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};VC.DocumentRangeFormattingFeature=Uee;var Hee=class extends Vw.TextDocumentLanguageFeature{constructor(e){super(e,$w.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,Vw.ensure)((0,Vw.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:Wee.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideOnTypeFormattingEdits:(o,s,a,c,u)=>{let l=this._client,d=(y,b,T,k,z)=>{let A={textDocument:l.code2ProtocolConverter.asTextDocumentIdentifier(y),position:l.code2ProtocolConverter.asPosition(b),ch:T,options:l.code2ProtocolConverter.asFormattingOptions(k,hM.fromConfiguration(y))};return l.sendRequest($w.DocumentOnTypeFormattingRequest.type,A,z).then(U=>z.isCancellationRequested?null:l.protocol2CodeConverter.asTextEdits(U,z),U=>l.handleFailedRequest($w.DocumentOnTypeFormattingRequest.type,z,U,null))},f=l.middleware;return f.provideOnTypeFormattingEdits?f.provideOnTypeFormattingEdits(o,s,a,c,u,d):d(o,s,a,c,u)}},i=e.moreTriggerCharacter||[];return[YU.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}};VC.DocumentOnTypeFormattingFeature=Hee});var Wxe=P(JU=>{"use strict";Object.defineProperty(JU,"__esModule",{value:!0});JU.RenameFeature=void 0;var xvt=require("vscode"),WT=Fi(),Evt=Nc(),Hxe=lv(),Bee=Yo(),$ee=class extends Bee.TextDocumentLanguageFeature{constructor(e){super(e,WT.RenameRequest.type)}fillClientCapabilities(e){let t=(0,Bee.ensure)((0,Bee.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=WT.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.renameProvider);n&&(Hxe.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:Evt.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=e.documentSelector,n={provideRenameEdits:(i,o,s,a)=>{let c=this._client,u=(d,f,y,b)=>{let T={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),position:c.code2ProtocolConverter.asPosition(f),newName:y};return c.sendRequest(WT.RenameRequest.type,T,b).then(k=>b.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(k,b),k=>c.handleFailedRequest(WT.RenameRequest.type,b,k,null,!1))},l=c.middleware;return l.provideRenameEdits?l.provideRenameEdits(i,o,s,a,u):u(i,o,s,a)},prepareRename:e.prepareProvider?(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let y={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),position:a.code2ProtocolConverter.asPosition(d)};return a.sendRequest(WT.PrepareRenameRequest.type,y,f).then(b=>f.isCancellationRequested?null:WT.Range.is(b)?a.protocol2CodeConverter.asRange(b):this.isDefaultBehavior(b)?b.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):b&&WT.Range.is(b.range)?{range:a.protocol2CodeConverter.asRange(b.range),placeholder:b.placeholder}:Promise.reject(new Error("The element can't be renamed.")),b=>{throw typeof b.message=="string"?new Error(b.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,o,s,c):c(i,o,s)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return xvt.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&Hxe.boolean(t.defaultBehavior)}};JU.RenameFeature=$ee});var Bxe=P(XU=>{"use strict";Object.defineProperty(XU,"__esModule",{value:!0});XU.DocumentLinkFeature=void 0;var Ovt=require("vscode"),mM=Fi(),Vee=Yo(),Ivt=Nc(),Gee=class extends Vee.TextDocumentLanguageFeature{constructor(e){super(e,mM.DocumentLinkRequest.type)}fillClientCapabilities(e){let t=(0,Vee.ensure)((0,Vee.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){let n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:Ivt.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDocumentLinks:(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(mM.DocumentLinkRequest.type,s.code2ProtocolConverter.asDocumentLinkParams(u),l).then(d=>l.isCancellationRequested?null:s.protocol2CodeConverter.asDocumentLinks(d,l),d=>s.handleFailedRequest(mM.DocumentLinkRequest.type,l,d,null)),c=s.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,o,a):a(i,o)},resolveDocumentLink:e.resolveProvider?(i,o)=>{let s=this._client,a=(u,l)=>s.sendRequest(mM.DocumentLinkResolveRequest.type,s.code2ProtocolConverter.asDocumentLink(u),l).then(d=>l.isCancellationRequested?u:s.protocol2CodeConverter.asDocumentLink(d),d=>s.handleFailedRequest(mM.DocumentLinkResolveRequest.type,l,d,u)),c=s.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,o,a):a(i,o)}:void 0};return[Ovt.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};XU.DocumentLinkFeature=Gee});var Vxe=P(QU=>{"use strict";Object.defineProperty(QU,"__esModule",{value:!0});QU.ExecuteCommandFeature=void 0;var kvt=require("vscode"),Kee=Fi(),Avt=Nc(),$xe=Yo(),Yee=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return Kee.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,$xe.ensure)((0,$xe.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:Avt.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){let t=this._client,n=t.middleware,i=(o,s)=>{let a={command:o,arguments:s};return t.sendRequest(Kee.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(Kee.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let o=[];for(let s of e.registerOptions.commands)o.push(kvt.commands.registerCommand(s,(...a)=>n.executeCommand?n.executeCommand(s,a,i):i(s,a)));this._commands.set(e.id,o)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(n=>n.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(t=>t.dispose())}),this._commands.clear()}};QU.ExecuteCommandFeature=Yee});var Gxe=P(eH=>{"use strict";Object.defineProperty(eH,"__esModule",{value:!0});eH.FileSystemWatcherFeature=void 0;var Mvt=require("vscode"),BT=Fi(),ZU=Yo(),Jee=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return BT.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,ZU.ensure)((0,ZU.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,ZU.ensure)((0,ZU.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let n of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(i===void 0)continue;let o=!0,s=!0,a=!0;n.kind!==void 0&&n.kind!==null&&(o=(n.kind&BT.WatchKind.Create)!==0,s=(n.kind&BT.WatchKind.Change)!==0,a=(n.kind&BT.WatchKind.Delete)!==0);let c=Mvt.workspace.createFileSystemWatcher(i,!o,!s,!a);this.hookListeners(c,o,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let i of t)this.hookListeners(i,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,o){t&&e.onDidCreate(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:BT.FileChangeType.Created}),null,o),n&&e.onDidChange(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:BT.FileChangeType.Changed}),null,o),i&&e.onDidDelete(s=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(s),type:BT.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let n of t)n.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}};eH.FileSystemWatcherFeature=Jee});var Kxe=P(tH=>{"use strict";Object.defineProperty(tH,"__esModule",{value:!0});tH.ColorProviderFeature=void 0;var Lvt=require("vscode"),gM=Fi(),Xee=Yo(),Qee=class extends Xee.TextDocumentLanguageFeature{constructor(e){super(e,gM.DocumentColorRequest.type)}fillClientCapabilities(e){(0,Xee.ensure)((0,Xee.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideColorPresentations:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let y={color:l,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(d.document),range:a.code2ProtocolConverter.asRange(d.range)};return a.sendRequest(gM.ColorPresentationRequest.type,y,f).then(b=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(b,f),b=>a.handleFailedRequest(gM.ColorPresentationRequest.type,f,b,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,o,s,c):c(i,o,s)},provideDocumentColors:(i,o)=>{let s=this._client,a=(u,l)=>{let d={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(u)};return s.sendRequest(gM.DocumentColorRequest.type,d,l).then(f=>l.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(f,l),f=>s.handleFailedRequest(gM.DocumentColorRequest.type,l,f,null))},c=s.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,o,a):a(i,o)}};return[Lvt.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};tH.ColorProviderFeature=Qee});var Yxe=P(rH=>{"use strict";Object.defineProperty(rH,"__esModule",{value:!0});rH.ImplementationFeature=void 0;var Nvt=require("vscode"),Zee=Fi(),ete=Yo(),tte=class extends ete.TextDocumentLanguageFeature{constructor(e){super(e,Zee.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,ete.ensure)((0,ete.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideImplementation:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Zee.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(y,f),y=>a.handleFailedRequest(Zee.ImplementationRequest.type,f,y,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Nvt.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};rH.ImplementationFeature=tte});var Jxe=P(nH=>{"use strict";Object.defineProperty(nH,"__esModule",{value:!0});nH.TypeDefinitionFeature=void 0;var Fvt=require("vscode"),rte=Fi(),vM=Yo(),nte=class extends vM.TextDocumentLanguageFeature{constructor(e){super(e,rte.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,vM.ensure)((0,vM.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,vM.ensure)((0,vM.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideTypeDefinition:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(rte.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(y,f),y=>a.handleFailedRequest(rte.TypeDefinitionRequest.type,f,y,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Fvt.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};nH.TypeDefinitionFeature=nte});var Xxe=P(ux=>{"use strict";Object.defineProperty(ux,"__esModule",{value:!0});ux.WorkspaceFoldersFeature=ux.arrayDiff=void 0;var qvt=Nc(),iH=require("vscode"),yM=Fi();function ite(r,e){if(r!==void 0)return r[e]}function ote(r,e){return r.filter(t=>e.indexOf(t)<0)}ux.arrayDiff=ote;var ste=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return yM.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=iH.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(n=>this.asProtocol(n))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(yM.WorkspaceFoldersRequest.type,o=>{let s=()=>{let c=iH.workspace.workspaceFolders;return c===void 0?null:c.map(l=>this.asProtocol(l))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(o,s):s(o)});let n=ite(ite(ite(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof n=="string"?i=n:n===!0&&(i=qvt.generateUuid()),i&&this.register({id:i,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){let n=ote(this._initialFolders,e),i=ote(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(n=>{this._client.error(`Sending notification ${yM.DidChangeWorkspaceFoldersNotification.type.method} failed`,n)})}doSendEvent(e,t){let n={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(yM.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=iH.workspace.onDidChangeWorkspaceFolders(o=>{let s=u=>this.doSendEvent(u.added,u.removed),a=n.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(o,s):s(o)).catch(u=>{this._client.error(`Sending notification ${yM.DidChangeWorkspaceFoldersNotification.type.method} failed`,u)})});this._listeners.set(t,i),this.sendInitialEvent(iH.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};ux.WorkspaceFoldersFeature=ste});var Qxe=P(oH=>{"use strict";Object.defineProperty(oH,"__esModule",{value:!0});oH.FoldingRangeFeature=void 0;var jvt=require("vscode"),lx=Fi(),ate=Yo(),cte=class extends ate.TextDocumentLanguageFeature{constructor(e){super(e,lx.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,ate.ensure)((0,ate.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[lx.FoldingRangeKind.Comment,lx.FoldingRangeKind.Imports,lx.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[n,i]=this.getRegistration(t,e.foldingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideFoldingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>{let y={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l)};return a.sendRequest(lx.FoldingRangeRequest.type,y,f).then(b=>f.isCancellationRequested?null:a.protocol2CodeConverter.asFoldingRanges(b,f),b=>a.handleFailedRequest(lx.FoldingRangeRequest.type,f,b,null))},u=a.middleware;return u.provideFoldingRanges?u.provideFoldingRanges(i,o,s,c):c(i,o,s)}};return[jvt.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}};oH.FoldingRangeFeature=cte});var Zxe=P(sH=>{"use strict";Object.defineProperty(sH,"__esModule",{value:!0});sH.DeclarationFeature=void 0;var zvt=require("vscode"),ute=Fi(),lte=Yo(),dte=class extends lte.TextDocumentLanguageFeature{constructor(e){super(e,ute.DeclarationRequest.type)}fillClientCapabilities(e){let t=(0,lte.ensure)((0,lte.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.declarationProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideDeclaration:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(ute.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(y,f),y=>a.handleFailedRequest(ute.DeclarationRequest.type,f,y,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return zvt.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};sH.DeclarationFeature=dte});var eEe=P(aH=>{"use strict";Object.defineProperty(aH,"__esModule",{value:!0});aH.SelectionRangeFeature=void 0;var Uvt=require("vscode"),fte=Fi(),pte=Yo(),hte=class extends pte.TextDocumentLanguageFeature{constructor(e){super(e,fte.SelectionRangeRequest.type)}fillClientCapabilities(e){let t=(0,pte.ensure)((0,pte.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.selectionRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideSelectionRanges:(i,o,s)=>{let a=this._client,c=async(l,d,f)=>{let y={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(l),positions:await a.code2ProtocolConverter.asPositions(d,f)};return a.sendRequest(fte.SelectionRangeRequest.type,y,f).then(b=>f.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(b,f),b=>a.handleFailedRequest(fte.SelectionRangeRequest.type,f,b,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Uvt.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};aH.SelectionRangeFeature=hte});var rEe=P(cH=>{"use strict";Object.defineProperty(cH,"__esModule",{value:!0});cH.ProgressFeature=void 0;var tEe=Fi(),Hvt=UZ();function Wvt(r,e){return r[e]===void 0&&(r[e]=Object.create(null)),r[e]}var mte=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:tEe.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){Wvt(e,"window").workDoneProgress=!0}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i)},n=i=>{this.activeParts.add(new Hvt.ProgressPart(this._client,i.token,t))};e.onRequest(tEe.WorkDoneProgressCreateRequest.type,n)}dispose(){for(let e of this.activeParts)e.done();this.activeParts.clear()}};cH.ProgressFeature=mte});var nEe=P(uH=>{"use strict";Object.defineProperty(uH,"__esModule",{value:!0});uH.CallHierarchyFeature=void 0;var Bvt=require("vscode"),$T=Fi(),gte=Yo(),vte=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest($T.CallHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(d,u),d=>i.handleFailedRequest($T.CallHierarchyPrepareRequest.type,u,d,null))};return o.prepareCallHierarchy?o.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest($T.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>n.handleFailedRequest($T.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,o):o(e,t)}provideCallHierarchyOutgoingCalls(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asCallHierarchyItem(s)};return n.sendRequest($T.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>n.handleFailedRequest($T.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,o):o(e,t)}},yte=class extends gte.TextDocumentLanguageFeature{constructor(e){super(e,$T.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=e,n=(0,gte.ensure)((0,gte.ensure)(t,"textDocument"),"callHierarchy");n.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.callHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new vte(t);return[Bvt.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};uH.CallHierarchyFeature=yte});var iEe=P(dH=>{"use strict";Object.defineProperty(dH,"__esModule",{value:!0});dH.SemanticTokensFeature=void 0;var lH=require("vscode"),Ui=Fi(),bM=Yo(),$vt=lv(),bte=class extends bM.TextDocumentLanguageFeature{constructor(e){super(e,Ui.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){let t=(0,bM.ensure)((0,bM.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[Ui.SemanticTokenTypes.namespace,Ui.SemanticTokenTypes.type,Ui.SemanticTokenTypes.class,Ui.SemanticTokenTypes.enum,Ui.SemanticTokenTypes.interface,Ui.SemanticTokenTypes.struct,Ui.SemanticTokenTypes.typeParameter,Ui.SemanticTokenTypes.parameter,Ui.SemanticTokenTypes.variable,Ui.SemanticTokenTypes.property,Ui.SemanticTokenTypes.enumMember,Ui.SemanticTokenTypes.event,Ui.SemanticTokenTypes.function,Ui.SemanticTokenTypes.method,Ui.SemanticTokenTypes.macro,Ui.SemanticTokenTypes.keyword,Ui.SemanticTokenTypes.modifier,Ui.SemanticTokenTypes.comment,Ui.SemanticTokenTypes.string,Ui.SemanticTokenTypes.number,Ui.SemanticTokenTypes.regexp,Ui.SemanticTokenTypes.operator,Ui.SemanticTokenTypes.decorator],t.tokenModifiers=[Ui.SemanticTokenModifiers.declaration,Ui.SemanticTokenModifiers.definition,Ui.SemanticTokenModifiers.readonly,Ui.SemanticTokenModifiers.static,Ui.SemanticTokenModifiers.deprecated,Ui.SemanticTokenModifiers.abstract,Ui.SemanticTokenModifiers.async,Ui.SemanticTokenModifiers.modification,Ui.SemanticTokenModifiers.documentation,Ui.SemanticTokenModifiers.defaultLibrary],t.formats=[Ui.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,bM.ensure)((0,bM.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(Ui.SemanticTokensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeSemanticTokensEmitter.fire()});let[i,o]=this.getRegistration(t,e.semanticTokensProvider);!i||!o||this.register({id:i,registerOptions:o})}registerLanguageProvider(e){let t=e.documentSelector,n=$vt.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,o=new lH.EventEmitter,s=n?{onDidChangeSemanticTokens:o.event,provideDocumentSemanticTokens:(y,b)=>{let T=this._client,k=T.middleware,z=(A,U)=>{let ne={textDocument:T.code2ProtocolConverter.asTextDocumentIdentifier(A)};return T.sendRequest(Ui.SemanticTokensRequest.type,ne,U).then(de=>U.isCancellationRequested?null:T.protocol2CodeConverter.asSemanticTokens(de,U),de=>T.handleFailedRequest(Ui.SemanticTokensRequest.type,U,de,null))};return k.provideDocumentSemanticTokens?k.provideDocumentSemanticTokens(y,b,z):z(y,b)},provideDocumentSemanticTokensEdits:i?(y,b,T)=>{let k=this._client,z=k.middleware,A=(U,ne,de)=>{let ve={textDocument:k.code2ProtocolConverter.asTextDocumentIdentifier(U),previousResultId:ne};return k.sendRequest(Ui.SemanticTokensDeltaRequest.type,ve,de).then(async $=>de.isCancellationRequested?null:Ui.SemanticTokens.is($)?await k.protocol2CodeConverter.asSemanticTokens($,de):await k.protocol2CodeConverter.asSemanticTokensEdits($,de),$=>k.handleFailedRequest(Ui.SemanticTokensDeltaRequest.type,de,$,null))};return z.provideDocumentSemanticTokensEdits?z.provideDocumentSemanticTokensEdits(y,b,T,A):A(y,b,T)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(y,b,T)=>{let k=this._client,z=k.middleware,A=(U,ne,de)=>{let ve={textDocument:k.code2ProtocolConverter.asTextDocumentIdentifier(U),range:k.code2ProtocolConverter.asRange(ne)};return k.sendRequest(Ui.SemanticTokensRangeRequest.type,ve,de).then($=>de.isCancellationRequested?null:k.protocol2CodeConverter.asSemanticTokens($,de),$=>k.handleFailedRequest(Ui.SemanticTokensRangeRequest.type,de,$,null))};return z.provideDocumentRangeSemanticTokens?z.provideDocumentRangeSemanticTokens(y,b,T,A):A(y,b,T)}}:void 0,u=[],l=this._client,d=l.protocol2CodeConverter.asSemanticTokensLegend(e.legend),f=l.protocol2CodeConverter.asDocumentSelector(t);return s!==void 0&&u.push(lH.languages.registerDocumentSemanticTokensProvider(f,s,d)),c!==void 0&&u.push(lH.languages.registerDocumentRangeSemanticTokensProvider(f,c,d)),[new lH.Disposable(()=>u.forEach(y=>y.dispose())),{range:c,full:s,onDidChangeSemanticTokensEmitter:o}]}};dH.SemanticTokensFeature=bte});var aEe=P(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});Qh.WillDeleteFilesFeature=Qh.WillRenameFilesFeature=Qh.WillCreateFilesFeature=Qh.DidDeleteFilesFeature=Qh.DidRenameFilesFeature=Qh.DidCreateFilesFeature=void 0;var mv=require("vscode"),Vvt=MU(),Gw=Fi(),Gvt=Nc();function oEe(r,e){return r[e]===void 0&&(r[e]={}),r[e]}function Kvt(r,e){return r[e]}function sEe(r,e,t){r[e]=t}var _M=class r{constructor(e,t,n,i,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=oEe(oEe(e,"workspace"),"fileOperations");sEe(t,"dynamicRegistration",!0),sEe(t,this._clientCapability,!0)}initialize(e){let t=e.workspace?.fileOperations,n=t!==void 0?Kvt(t,this._serverCapability):void 0;if(n?.filters!==void 0)try{this.register({id:Gvt.generateUuid(),registerOptions:{filters:n.filters}})}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(n=>{let i=new Vvt.Minimatch(n.pattern.glob,r.asMinimatchOptions(n.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${n.pattern.glob}!`);return{scheme:n.scheme,matcher:i,kind:n.pattern.matches}});this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return r.getFileType(e)}async filter(e,t){let n=await Promise.all(e.files.map(async o=>{let s=t(o),a=s.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==s.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return!0;let l=await this.getFileType(s);if(l===void 0)return this._client.error(`Failed to determine file type for ${s.toString()}.`),!0;if(l===mv.FileType.File&&u.kind===Gw.FileOperationPatternKind.file||l===mv.FileType.Directory&&u.kind===Gw.FileOperationPatternKind.folder)return!0}else if(u.kind===Gw.FileOperationPatternKind.folder&&await r.getFileType(s)===mv.FileType.Directory&&u.matcher.match(`${a}/`))return!0}return!1})),i=e.files.filter((o,s)=>n[s]);return{...e,files:i}}static async getFileType(e){try{return(await mv.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){if(e!==void 0&&e.ignoreCase===!0)return{nocase:!0}}},fH=class extends _M{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._notificationType=n,this._accessUri=s,this._createParams=a}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,n)}}},pH=class extends fH{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let n=await _M.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}},_te=class extends fH{constructor(e){super(e,mv.workspace.onDidCreateFiles,Gw.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}};Qh.DidCreateFilesFeature=_te;var wte=class extends pH{constructor(e){super(e,mv.workspace.onDidRenameFiles,Gw.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=mv.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}};Qh.DidRenameFilesFeature=wte;var Ste=class extends pH{constructor(e){super(e,mv.workspace.onDidDeleteFiles,Gw.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=mv.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t))}doSend(e,t){this.clearFileTypeCache();let n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};Qh.DidDeleteFilesFeature=Ste;var wM=class extends _M{constructor(e,t,n,i,o,s,a){super(e,t,n,i,o),this._requestType=n,this._accessUri=s,this._createParams=a}async send(e){let t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let n=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,n)}else return}},Cte=class extends wM{constructor(e){super(e,mv.workspace.onWillCreateFiles,Gw.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}};Qh.WillCreateFilesFeature=Cte;var Dte=class extends wM{constructor(e){super(e,mv.workspace.onWillRenameFiles,Gw.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}};Qh.WillRenameFilesFeature=Dte;var Tte=class extends wM{constructor(e){super(e,mv.workspace.onWillDeleteFiles,Gw.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){let n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}};Qh.WillDeleteFilesFeature=Tte});var cEe=P(hH=>{"use strict";Object.defineProperty(hH,"__esModule",{value:!0});hH.LinkedEditingFeature=void 0;var Yvt=require("vscode"),Pte=Fi(),Rte=Yo(),xte=class extends Rte.TextDocumentLanguageFeature{constructor(e){super(e,Pte.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){let t=(0,Rte.ensure)((0,Rte.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n={provideLinkedEditingRanges:(i,o,s)=>{let a=this._client,c=(l,d,f)=>a.sendRequest(Pte.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(l,d),f).then(y=>f.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(y,f),y=>a.handleFailedRequest(Pte.LinkedEditingRangeRequest.type,f,y,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,o,s,c):c(i,o,s)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return Yvt.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};hH.LinkedEditingFeature=xte});var uEe=P(mH=>{"use strict";Object.defineProperty(mH,"__esModule",{value:!0});mH.TypeHierarchyFeature=void 0;var Jvt=require("vscode"),VT=Fi(),Ete=Yo(),Ote=class{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){let i=this.client,o=this.middleware,s=(a,c,u)=>{let l=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(VT.TypeHierarchyPrepareRequest.type,l,u).then(d=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(d,u),d=>i.handleFailedRequest(VT.TypeHierarchyPrepareRequest.type,u,d,null))};return o.prepareTypeHierarchy?o.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(VT.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(VT.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,o):o(e,t)}provideTypeHierarchySubtypes(e,t){let n=this.client,i=this.middleware,o=(s,a)=>{let c={item:n.code2ProtocolConverter.asTypeHierarchyItem(s)};return n.sendRequest(VT.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>n.handleFailedRequest(VT.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,o):o(e,t)}},Ite=class extends Ete.TextDocumentLanguageFeature{constructor(e){super(e,VT.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){let t=(0,Ete.ensure)((0,Ete.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeHierarchyProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=this._client,n=new Ote(t);return[Jvt.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}};mH.TypeHierarchyFeature=Ite});var dEe=P(vH=>{"use strict";Object.defineProperty(vH,"__esModule",{value:!0});vH.InlineValueFeature=void 0;var lEe=require("vscode"),gH=Fi(),SM=Yo(),kte=class extends SM.TextDocumentLanguageFeature{constructor(e){super(e,gH.InlineValueRequest.type)}fillClientCapabilities(e){(0,SM.ensure)((0,SM.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,SM.ensure)((0,SM.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(gH.InlineValueRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlineValues.fire()});let[n,i]=this.getRegistration(t,e.inlineValueProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new lEe.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(o,s,a,c)=>{let u=this._client,l=(f,y,b,T)=>{let k={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(f),range:u.code2ProtocolConverter.asRange(y),context:u.code2ProtocolConverter.asInlineValueContext(b)};return u.sendRequest(gH.InlineValueRequest.type,k,T).then(z=>T.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(z,T),z=>u.handleFailedRequest(gH.InlineValueRequest.type,T,z,null))},d=u.middleware;return d.provideInlineValues?d.provideInlineValues(o,s,a,c,l):l(o,s,a,c)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return lEe.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};vH.InlineValueFeature=kte});var pEe=P(yH=>{"use strict";Object.defineProperty(yH,"__esModule",{value:!0});yH.InlayHintsFeature=void 0;var fEe=require("vscode"),dx=Fi(),CM=Yo(),Ate=class extends CM.TextDocumentLanguageFeature{constructor(e){super(e,dx.InlayHintRequest.type)}fillClientCapabilities(e){let t=(0,CM.ensure)((0,CM.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,CM.ensure)((0,CM.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(dx.InlayHintRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeInlayHints.fire()});let[n,i]=this.getRegistration(t,e.inlayHintProvider);!n||!i||this.register({id:n,registerOptions:i})}registerLanguageProvider(e){let t=e.documentSelector,n=new fEe.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(o,s,a)=>{let c=this._client,u=async(d,f,y)=>{let b={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(d),range:c.code2ProtocolConverter.asRange(f)};try{let T=await c.sendRequest(dx.InlayHintRequest.type,b,y);return y.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(T,y)}catch(T){return c.handleFailedRequest(dx.InlayHintRequest.type,y,T,null)}},l=c.middleware;return l.provideInlayHints?l.provideInlayHints(o,s,a,u):u(o,s,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(o,s)=>{let a=this._client,c=async(l,d)=>{try{let f=await a.sendRequest(dx.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(l),d);if(d.isCancellationRequested)return null;let y=a.protocol2CodeConverter.asInlayHint(f,d);return d.isCancellationRequested?null:y}catch(f){return a.handleFailedRequest(dx.InlayHintResolveRequest.type,d,f,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(o,s,c):c(o,s)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return fEe.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};yH.InlayHintsFeature=Ate});var Fte=P(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.ProposedFeatures=Fa.BaseLanguageClient=Fa.MessageTransports=Fa.SuspendMode=Fa.State=Fa.CloseAction=Fa.ErrorAction=Fa.RevealOutputChannelOn=void 0;var As=require("vscode"),Mr=Fi(),Xvt=QRe(),Qvt=txe(),gv=lv(),hEe=iM(),mEe=Nc(),Zvt=UZ(),Oy=Yo(),eyt=see(),gEe=Txe(),vEe=Rxe(),fx=xxe(),tyt=Exe(),ryt=Oxe(),nyt=Ixe(),iyt=Axe(),oyt=Mxe(),syt=Iee(),ayt=Nxe(),cyt=Fxe(),uyt=qxe(),lyt=zxe(),Mte=Uxe(),dyt=Wxe(),fyt=Bxe(),pyt=Vxe(),hyt=Gxe(),myt=Kxe(),gyt=Yxe(),vyt=Jxe(),yyt=Xxe(),byt=Qxe(),_yt=Zxe(),wyt=eEe(),Syt=rEe(),Cyt=nEe(),Dyt=iEe(),px=aEe(),Tyt=cEe(),Pyt=uEe(),Ryt=dEe(),xyt=pEe(),DM;(function(r){r[r.Info=1]="Info",r[r.Warn=2]="Warn",r[r.Error=3]="Error",r[r.Never=4]="Never"})(DM=Fa.RevealOutputChannelOn||(Fa.RevealOutputChannelOn={}));var _H;(function(r){r[r.Continue=1]="Continue",r[r.Shutdown=2]="Shutdown"})(_H=Fa.ErrorAction||(Fa.ErrorAction={}));var GT;(function(r){r[r.DoNotRestart=1]="DoNotRestart",r[r.Restart=2]="Restart"})(GT=Fa.CloseAction||(Fa.CloseAction={}));var bH;(function(r){r[r.Stopped=1]="Stopped",r[r.Starting=3]="Starting",r[r.Running=2]="Running"})(bH=Fa.State||(Fa.State={}));var Eyt;(function(r){r.off="off",r.on="on"})(Eyt=Fa.SuspendMode||(Fa.SuspendMode={}));var Lte=class{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:_H.Continue}:{action:_H.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:GT.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:GT.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:GT.Restart})}},mo;(function(r){r.Initial="initial",r.Starting="starting",r.StartFailed="startFailed",r.Running="running",r.Stopping="stopping",r.Stopped="stopped"})(mo||(mo={}));var Oyt;(function(r){function e(t){return t&&Mr.MessageReader.is(t.reader)&&Mr.MessageWriter.is(t.writer)}r.is=e})(Oyt=Fa.MessageTransports||(Fa.MessageTransports={}));var wH=class r{constructor(e,t,n){this._traceFormat=Mr.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new hEe.Semaphore(1),this._id=e,this._name=t,n=n||{};let i={isTrusted:!1,supportHtml:!1};n.markdown!==void 0&&(i.isTrusted=n.markdown.isTrusted===!0,i.supportHtml=n.markdown.supportHtml===!0),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??DM.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=mo.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new hEe.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new Mr.Emitter,this._stateChangeEmitter=new Mr.Emitter,this._trace=Mr.Trace.Off,this._tracer={log:(o,s)=>{gv.string(o)?this.logTrace(o,s):this.logObjectTrace(o)}},this._c2p=Xvt.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=Qvt.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=As.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case mo.Starting:return bH.Starting;case mo.Running:return bH.Running;default:return bH.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===mo.StartFailed||this.$state===mo.Stopping||this.$state===mo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendRequest(e,...t)}catch(n){throw this.error(`Sending request ${gv.string(e)?e:e.method} failed.`,n),n}}onRequest(e,t){let n=typeof e=="string"?e:e.method;this._requestHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._requestDisposables.set(n,i.onRequest(e,t)),o={dispose:()=>{let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);let s=this._requestDisposables.get(n);s!==void 0&&(s.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===mo.StartFailed||this.$state===mo.Stopping||this.$state===mo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{let n=await this.$start();return await this.forceDocumentSync(),n.sendNotification(e,t)}catch(n){throw this.error(`Sending notification ${gv.string(e)?e:e.method} failed.`,n),n}}onNotification(e,t){let n=typeof e=="string"?e:e.method;this._notificationHandlers.set(n,t);let i=this.activeConnection(),o;return i!==void 0?(this._notificationDisposables.set(n,i.onNotification(e,t)),o={dispose:()=>{let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);let s=this._notificationDisposables.get(n);s!==void 0&&(s.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===mo.StartFailed||this.$state===mo.Stopping||this.$state===mo.Stopped)return Promise.reject(new Mr.ResponseError(Mr.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});let i=this.activeConnection(),o,s=this._clientOptions.middleware?.handleWorkDoneProgress,a=Mr.WorkDoneProgress.is(e)&&s!==void 0?c=>{s(t,c,()=>n(c))}:n;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),o={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),o={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),o.dispose()}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new Lte(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof Mr.ResponseError){let t=e;return`  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?gv.string(e.stack)?e.stack:e.message:gv.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=DM.Info&&this.showNotificationMessage(Mr.MessageType.Info,e)}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=DM.Warn&&this.showNotificationMessage(Mr.MessageType.Warning,e)}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${new Date().toLocaleTimeString()}] ${e}`),t!=null&&this.outputChannel.appendLine(this.data2String(t)),(n==="force"||n&&this._clientOptions.revealOutputChannelOn<=DM.Error)&&this.showNotificationMessage(Mr.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===Mr.MessageType.Error?As.window.showErrorMessage:e===Mr.MessageType.Warning?As.window.showWarningMessage:As.window.showInformationMessage)(t,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===mo.Initial||this.$state===mo.Stopping||this.$state===mo.Stopped}needsStop(){return this.$state===mo.Starting||this.$state===mo.Running}activeConnection(){return this.$state===mo.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===mo.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===mo.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,n]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?As.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):As.languages.createDiagnosticCollection());for(let[i,o]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,o);for(let[i,o]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,o);for(let[i,o]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,o);this.$state=mo.Starting;try{let i=await this.createConnection();i.onNotification(Mr.LogMessageNotification.type,o=>{switch(o.type){case Mr.MessageType.Error:this.error(o.message,void 0,!1);break;case Mr.MessageType.Warning:this.warn(o.message,void 0,!1);break;case Mr.MessageType.Info:this.info(o.message,void 0,!1);break;default:this.outputChannel.appendLine(o.message)}}),i.onNotification(Mr.ShowMessageNotification.type,o=>{switch(o.type){case Mr.MessageType.Error:As.window.showErrorMessage(o.message);break;case Mr.MessageType.Warning:As.window.showWarningMessage(o.message);break;case Mr.MessageType.Info:As.window.showInformationMessage(o.message);break;default:As.window.showInformationMessage(o.message)}}),i.onRequest(Mr.ShowMessageRequest.type,o=>{let s;switch(o.type){case Mr.MessageType.Error:s=As.window.showErrorMessage;break;case Mr.MessageType.Warning:s=As.window.showWarningMessage;break;case Mr.MessageType.Info:s=As.window.showInformationMessage;break;default:s=As.window.showInformationMessage}let a=o.actions||[];return s(o.message,...a)}),i.onNotification(Mr.TelemetryEventNotification.type,o=>{this._telemetryEmitter.fire(o)}),i.onRequest(Mr.ShowDocumentRequest.type,async o=>{let s=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return{success:await As.env.openExternal(u)};{let l={};return c.selection!==void 0&&(l.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?l.preserveFocus=!0:c.takeFocus===!0&&(l.preserveFocus=!1),await As.window.showTextDocument(u,l),{success:!0}}}catch{return{success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(o,s):s(o)}),i.listen(),await this.initialize(i),t()}catch(i){this.$state=mo.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),n(i)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise((i,o)=>{e=i,t=o}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[n,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:As.env.appName,version:As.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(As.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:gv.func(t)?t():t,trace:Mr.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(o),this._clientOptions.progressOnInitialization){let s=mEe.generateUuid(),a=new Zvt.ProgressPart(e,s);o.workDoneToken=s;try{let c=await this.doInitialize(e,o);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,o)}async doInitialize(e,t){try{let n=await e.initialize(t);if(n.capabilities.positionEncoding!==void 0&&n.capabilities.positionEncoding!==Mr.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=n,this.$state=mo.Running;let i;gv.number(n.capabilities.textDocumentSync)?n.capabilities.textDocumentSync===Mr.TextDocumentSyncKind.None?i={openClose:!1,change:Mr.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:n.capabilities.textDocumentSync!==void 0&&n.capabilities.textDocumentSync!==null&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(Mr.PublishDiagnosticsNotification.type,o=>this.handleDiagnostics(o)),e.onRequest(Mr.RegistrationRequest.type,o=>this.handleRegistrationRequest(o)),e.onRequest("client/registerFeature",o=>this.handleRegistrationRequest(o)),e.onRequest(Mr.UnregistrationRequest.type,o=>this.handleUnregistrationRequest(o)),e.onRequest("client/unregisterFeature",o=>this.handleUnregistrationRequest(o)),e.onRequest(Mr.ApplyWorkspaceEditRequest.type,o=>this.handleApplyWorkspaceEdit(o));for(let[o,s]of this._pendingNotificationHandlers)this._notificationDisposables.set(o,e.onNotification(o,s));this._pendingNotificationHandlers.clear();for(let[o,s]of this._pendingRequestHandlers)this._requestDisposables.set(o,e.onRequest(o,s));this._pendingRequestHandlers.clear();for(let[o,s]of this._pendingProgressHandlers)this._progressDisposables.set(o,e.onProgress(s.type,o,s.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(Mr.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(n){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(n)?this.initialize(e):this.stop():n instanceof Mr.ResponseError&&n.data&&n.data.retry?As.window.showErrorMessage(n.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop()}):(n&&n.message&&As.window.showErrorMessage(n.message),this.error("Server initialization failed.",n),this.stop()),n}}_clientGetRootPath(){let e=As.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===mo.Stopped||this.$state===mo.Initial)return;if(this.$state===mo.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let n=this.activeConnection();if(n===void 0||this.$state!==mo.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=mo.Stopping,this.cleanUp(e);let i=new Promise(s=>{(0,Mr.RAL)().timer.setTimeout(s,t)}),o=(async s=>(await s.shutdown(),await s.exit(),s))(n);return this._onStop=Promise.race([i,o]).then(s=>{if(s!==void 0)s.end(),s.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},s=>{throw this.error("Stopping server failed",s,!1),s}).finally(()=>{this.$state=mo.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let n of t)n.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let n of Array.from(this._features.entries()).map(i=>i[1]).reverse())n.dispose();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){let t=this;async function n(o){return t._fileEvents.push(o),t._fileEventDelayer.trigger(async()=>{let s=await t.$start();await t.forceDocumentSync();let a=s.sendNotification(Mr.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],a})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch(o=>{t.error("Notify file events failed.",o)})}async forceDocumentSync(){return this._didChangeTextDocumentFeature===void 0&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(Mr.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,Mr.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue()})}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,n]=e.value;this._diagnosticQueue.delete(t);let i=new As.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(n,i.token).then(o=>{if(!i.token.isCancellationRequested){let s=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(s,o,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(s,o)}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()})}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===mo.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,o,s)=>{this.handleConnectionError(i,o,s)},t=()=>{this.handleConnectionClosed()},n=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=Iyt(n.reader,n.writer,e,t,this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===mo.Stopped)return;try{this._connection!==void 0&&this._connection.dispose()}catch{}let e={action:GT.DoNotRestart};if(this.$state!==mo.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch{}this._connection=void 0,e.action===GT.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===mo.Starting?this.$state=mo.StartFailed:this.$state=mo.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===GT.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=mo.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")))}handleConnectionError(e,t,n){let i=this._clientOptions.errorHandler.error(e,t,n);i.action===_H.Shutdown&&(this.error(i.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch(o=>{this.error("Stopping server failed",o,!1)}))}hookConfigurationChanged(e){this._listeners.push(As.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)}))}refreshTrace(e,t=!1){let n=As.workspace.getConfiguration(this._id),i=Mr.Trace.Off,o=Mr.TraceFormat.Text;if(n){let s=n.get("trace.server","off");typeof s=="string"?i=Mr.Trace.fromString(s):(i=Mr.Trace.fromString(n.get("trace.server.verbosity","off")),o=Mr.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(s=>{this.error("Updating trace failed with error",s,!1)})}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let n;gv.array(t)?n=t:n=[t],n&&this._dynamicFeatures.get(Mr.DidChangeWatchedFilesNotification.type.method).registerRaw(mEe.generateUuid(),n)}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),Oy.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(Mr.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof gEe.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new vEe.ConfigurationFeature(this)),this.registerFeature(new fx.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new fx.DidChangeTextDocumentFeature(this)),this.registerFeature(new fx.WillSaveFeature(this)),this.registerFeature(new fx.WillSaveWaitUntilFeature(this)),this.registerFeature(new fx.DidSaveTextDocumentFeature(this)),this.registerFeature(new fx.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new hyt.FileSystemWatcherFeature(this,e=>this.notifyFileEvent(e))),this.registerFeature(new tyt.CompletionItemFeature(this)),this.registerFeature(new ryt.HoverFeature(this)),this.registerFeature(new iyt.SignatureHelpFeature(this)),this.registerFeature(new nyt.DefinitionFeature(this)),this.registerFeature(new cyt.ReferencesFeature(this)),this.registerFeature(new oyt.DocumentHighlightFeature(this)),this.registerFeature(new syt.DocumentSymbolFeature(this)),this.registerFeature(new ayt.WorkspaceSymbolFeature(this)),this.registerFeature(new uyt.CodeActionFeature(this)),this.registerFeature(new lyt.CodeLensFeature(this)),this.registerFeature(new Mte.DocumentFormattingFeature(this)),this.registerFeature(new Mte.DocumentRangeFormattingFeature(this)),this.registerFeature(new Mte.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new dyt.RenameFeature(this)),this.registerFeature(new fyt.DocumentLinkFeature(this)),this.registerFeature(new pyt.ExecuteCommandFeature(this)),this.registerFeature(new vEe.SyncConfigurationFeature(this)),this.registerFeature(new vyt.TypeDefinitionFeature(this)),this.registerFeature(new gyt.ImplementationFeature(this)),this.registerFeature(new myt.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new yyt.WorkspaceFoldersFeature(this)),this.registerFeature(new byt.FoldingRangeFeature(this)),this.registerFeature(new _yt.DeclarationFeature(this)),this.registerFeature(new wyt.SelectionRangeFeature(this)),this.registerFeature(new Syt.ProgressFeature(this)),this.registerFeature(new Cyt.CallHierarchyFeature(this)),this.registerFeature(new Dyt.SemanticTokensFeature(this)),this.registerFeature(new Tyt.LinkedEditingFeature(this)),this.registerFeature(new px.DidCreateFilesFeature(this)),this.registerFeature(new px.DidRenameFilesFeature(this)),this.registerFeature(new px.DidDeleteFilesFeature(this)),this.registerFeature(new px.WillCreateFilesFeature(this)),this.registerFeature(new px.WillRenameFilesFeature(this)),this.registerFeature(new px.WillDeleteFilesFeature(this)),this.registerFeature(new Pyt.TypeHierarchyFeature(this)),this.registerFeature(new Ryt.InlineValueFeature(this)),this.registerFeature(new xyt.InlayHintsFeature(this)),this.registerFeature(new eyt.DiagnosticFeature(this)),this.registerFeature(new gEe.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(yEe.createAll(this))}fillInitializeParams(e){for(let t of this._features)gv.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};(0,Oy.ensure)(e,"workspace").applyEdit=!0;let t=(0,Oy.ensure)((0,Oy.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[Mr.ResourceOperationKind.Create,Mr.ResourceOperationKind.Rename,Mr.ResourceOperationKind.Delete],t.failureHandling=Mr.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};let n=(0,Oy.ensure)((0,Oy.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[Mr.DiagnosticTag.Unnecessary,Mr.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;let i=(0,Oy.ensure)(e,"window"),o=(0,Oy.ensure)(i,"showMessage");o.messageActionItem={additionalPropertiesSupport:!0};let s=(0,Oy.ensure)(i,"showDocument");s.support=!0;let a=(0,Oy.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(r.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)gv.func(n.preInitialize)&&n.preInitialize(this._capabilities,t);for(let n of this._features)n.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let n=this._dynamicFeatures.get(t.method);if(n===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let o={id:t.id,registerOptions:i};try{n.register(o)}catch(s){return Promise.reject(s)}}}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let n=this._dynamicFeatures.get(t.method);if(!n)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));n.unregister(t.id)}}async handleApplyWorkspaceEdit(e){let t=e.edit,n=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;As.workspace.textDocuments.forEach(s=>i.set(s.uri.toString(),s));let o=!1;if(t.documentChanges){for(let s of t.documentChanges)if(Mr.TextDocumentEdit.is(s)&&s.textDocument.version&&s.textDocument.version>=0){let a=i.get(s.textDocument.uri);if(a&&a.version!==s.textDocument.version){o=!0;break}}}return o?Promise.resolve({applied:!1}):gv.asPromise(As.workspace.applyEdit(n).then(s=>({applied:s})))}handleFailedRequest(e,t,n,i,o=!0){if(n instanceof Mr.ResponseError){if(n.code===Mr.ErrorCodes.PendingResponseRejected||n.code===Mr.ErrorCodes.ConnectionInactive)return i;if(n.code===Mr.LSPErrorCodes.RequestCancelled||n.code===Mr.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested)return i;throw n.data!==void 0?new Oy.LSPCancellationError(n.data):new As.CancellationError}else if(n.code===Mr.LSPErrorCodes.ContentModified){if(r.RequestsToCancelOnContentModified.has(e.method))throw new As.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,o),n}};Fa.BaseLanguageClient=wH;wH.RequestsToCancelOnContentModified=new Set([Mr.SemanticTokensRequest.method,Mr.SemanticTokensRangeRequest.method,Mr.SemanticTokensDeltaRequest.method]);var Nte=class{error(e){(0,Mr.RAL)().console.error(e)}warn(e){(0,Mr.RAL)().console.warn(e)}info(e){(0,Mr.RAL)().console.info(e)}log(e){(0,Mr.RAL)().console.log(e)}};function Iyt(r,e,t,n,i){let o=-1,s=new Nte,a=(0,Mr.createProtocolConnection)(r,e,s,i);return a.onError(u=>{t(u[0],u[1],u[2])}),a.onClose(n),{get lastUsed(){return o},resetLastUsed:()=>{o=-1},listen:()=>a.listen(),sendRequest:(u,...l)=>(o=Date.now(),a.sendRequest(u,...l)),onRequest:(u,l)=>a.onRequest(u,l),hasPendingResponse:()=>a.hasPendingResponse(),sendNotification:(u,l)=>(o=Date.now(),a.sendNotification(u,l)),onNotification:(u,l)=>a.onNotification(u,l),onProgress:a.onProgress,sendProgress:a.sendProgress,trace:(u,l,d)=>{let f={sendNotification:!1,traceFormat:Mr.TraceFormat.Text};return d===void 0?a.trace(u,l,f):(gv.boolean(d),a.trace(u,l,d))},initialize:u=>(o=Date.now(),a.sendRequest(Mr.InitializeRequest.type,u)),shutdown:()=>(o=Date.now(),a.sendRequest(Mr.ShutdownRequest.type,void 0)),exit:()=>(o=Date.now(),a.sendNotification(Mr.ExitNotification.type)),end:()=>a.end(),dispose:()=>a.dispose()}}var yEe;(function(r){function e(t){return[]}r.createAll=e})(yEe=Fa.ProposedFeatures||(Fa.ProposedFeatures={}))});var _Ee=P(SH=>{"use strict";Object.defineProperty(SH,"__esModule",{value:!0});SH.terminate=void 0;var bEe=require("child_process"),kyt=require("path"),Ayt=process.platform==="win32",Myt=process.platform==="darwin",Lyt=process.platform==="linux";function Nyt(r,e){if(Ayt)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),bEe.execFileSync("taskkill",["/T","/F","/PID",r.pid.toString()],i),!0}catch{return!1}else if(Lyt||Myt)try{var t=(0,kyt.join)(__dirname,"terminateProcess.sh"),n=bEe.spawnSync(t,[r.pid.toString()]);return!n.error}catch{return!1}else return r.kill("SIGKILL"),!0}SH.terminate=Nyt});var qte=P((ZVt,wEe)=>{"use strict";wEe.exports=Fi()});var CEe=P(ng=>{"use strict";var Fyt=ng&&ng.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),jte=ng&&ng.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Fyt(e,r,t)};Object.defineProperty(ng,"__esModule",{value:!0});ng.DiagnosticPullMode=ng.vsdiag=void 0;jte(Fi(),ng);jte(Yo(),ng);var SEe=see();Object.defineProperty(ng,"vsdiag",{enumerable:!0,get:function(){return SEe.vsdiag}});Object.defineProperty(ng,"DiagnosticPullMode",{enumerable:!0,get:function(){return SEe.DiagnosticPullMode}});jte(Fte(),ng)});var c_=P(Xp=>{"use strict";var qyt=Xp&&Xp.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),PEe=Xp&&Xp.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&qyt(e,r,t)};Object.defineProperty(Xp,"__esModule",{value:!0});Xp.SettingMonitor=Xp.LanguageClient=Xp.TransportKind=void 0;var Kw=require("child_process"),zte=require("fs"),Ute=require("path"),KC=require("vscode"),ac=lv(),DEe=Fte(),jyt=_Ee(),qc=qte(),zyt=$S(),Uyt=B0();PEe(qte(),Xp);PEe(CEe(),Xp);var TEe="^1.67.0",eu;(function(r){r[r.stdio=0]="stdio",r[r.ipc=1]="ipc",r[r.pipe=2]="pipe",r[r.socket=3]="socket"})(eu=Xp.TransportKind||(Xp.TransportKind={}));var GC;(function(r){function e(t){let n=t;return n&&n.kind===eu.socket&&ac.number(n.port)}r.isSocket=e})(GC||(GC={}));var Hte;(function(r){function e(t){return ac.string(t.command)}r.is=e})(Hte||(Hte={}));var Wte;(function(r){function e(t){return ac.string(t.module)}r.is=e})(Wte||(Wte={}));var Bte;(function(r){function e(t){let n=t;return n&&n.writer!==void 0&&n.reader!==void 0}r.is=e})(Bte||(Bte={}));var $te;(function(r){function e(t){let n=t;return n&&n.process!==void 0&&typeof n.detached=="boolean"}r.is=e})($te||($te={}));var Vte=class extends DEe.BaseLanguageClient{constructor(e,t,n,i,o){let s,a,c,u,l;ac.string(t)?(s=e,a=t,c=n,u=i,l=!!o):(s=e.toLowerCase(),a=e,c=t,u=n,l=i),l===void 0&&(l=!1),super(s,a,u),this._serverOptions=c,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(d){throw ac.string(d.message)&&this.outputChannel.appendLine(d.message),d}}checkVersion(){let e=zyt(KC.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${KC.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!Uyt(e,TEe))throw new Error(`The language client requires VS Code version ${TEe} but received version ${KC.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let t=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(t),this._isDetached=void 0}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,jyt.terminate)(e))}catch{}},2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid)}createMessageTransports(e){function t(l,d){if(!l&&!d)return;let f=Object.create(null);return Object.keys(process.env).forEach(y=>f[y]=process.env[y]),d&&(f.ELECTRON_RUN_AS_NODE="1",f.ELECTRON_NO_ASAR="1"),l&&Object.keys(l).forEach(y=>f[y]=l[y]),f}let n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(){let l=process.execArgv;return l?l.some(d=>n.some(f=>d.startsWith(f))||i.some(f=>d===f)):!1}function s(l){if(l.stdin===null||l.stdout===null||l.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(ac.func(a))return a().then(l=>{if(DEe.MessageTransports.is(l))return this._isDetached=!!l.detached,l;if(Bte.is(l))return this._isDetached=!!l.detached,{reader:new qc.StreamMessageReader(l.reader),writer:new qc.StreamMessageWriter(l.writer)};{let d;return $te.is(l)?(d=l.process,this._isDetached=l.detached):(d=l,this._isDetached=!1),d.stderr.on("data",f=>this.outputChannel.append(ac.string(f)?f:f.toString(e))),{reader:new qc.StreamMessageReader(d.stdout),writer:new qc.StreamMessageWriter(d.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||o()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(l=>{if(Wte.is(c)&&c.module){let d=c,f=d.transport||eu.stdio;if(d.runtime){let y=[],b=d.options??Object.create(null);b.execArgv&&b.execArgv.forEach(A=>y.push(A)),y.push(d.module),d.args&&d.args.forEach(A=>y.push(A));let T=Object.create(null);T.cwd=l,T.env=t(b.env,!1);let k=this._getRuntimePath(d.runtime,l),z;if(f===eu.ipc?(T.stdio=[null,null,null,"ipc"],y.push("--node-ipc")):f===eu.stdio?y.push("--stdio"):f===eu.pipe?(z=(0,qc.generateRandomPipeName)(),y.push(`--pipe=${z}`)):GC.isSocket(f)&&y.push(`--socket=${f.port}`),y.push(`--clientProcessId=${process.pid.toString()}`),f===eu.ipc||f===eu.stdio){let A=Kw.spawn(k,y,T);return!A||!A.pid?hx(A,`Launching server using runtime ${k} failed.`):(this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(ac.string(U)?U:U.toString(e))),f===eu.ipc?(A.stdout.on("data",U=>this.outputChannel.append(ac.string(U)?U:U.toString(e))),Promise.resolve({reader:new qc.IPCMessageReader(A),writer:new qc.IPCMessageWriter(A)})):Promise.resolve({reader:new qc.StreamMessageReader(A.stdout),writer:new qc.StreamMessageWriter(A.stdin)}))}else{if(f===eu.pipe)return(0,qc.createClientPipeTransport)(z).then(A=>{let U=Kw.spawn(k,y,T);return!U||!U.pid?hx(U,`Launching server using runtime ${k} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(ac.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(ac.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))});if(GC.isSocket(f))return(0,qc.createClientSocketTransport)(f.port).then(A=>{let U=Kw.spawn(k,y,T);return!U||!U.pid?hx(U,`Launching server using runtime ${k} failed.`):(this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(ac.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(ac.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>({reader:ne[0],writer:ne[1]})))})}}else{let y;return new Promise((b,T)=>{let k=(d.args&&d.args.slice())??[];f===eu.ipc?k.push("--node-ipc"):f===eu.stdio?k.push("--stdio"):f===eu.pipe?(y=(0,qc.generateRandomPipeName)(),k.push(`--pipe=${y}`)):GC.isSocket(f)&&k.push(`--socket=${f.port}`),k.push(`--clientProcessId=${process.pid.toString()}`);let z=d.options??Object.create(null);if(z.env=t(z.env,!0),z.execArgv=z.execArgv||[],z.cwd=l,z.silent=!0,f===eu.ipc||f===eu.stdio){let A=Kw.fork(d.module,k||[],z);s(A),this._serverProcess=A,A.stderr.on("data",U=>this.outputChannel.append(ac.string(U)?U:U.toString(e))),f===eu.ipc?(A.stdout.on("data",U=>this.outputChannel.append(ac.string(U)?U:U.toString(e))),b({reader:new qc.IPCMessageReader(this._serverProcess),writer:new qc.IPCMessageWriter(this._serverProcess)})):b({reader:new qc.StreamMessageReader(A.stdout),writer:new qc.StreamMessageWriter(A.stdin)})}else f===eu.pipe?(0,qc.createClientPipeTransport)(y).then(A=>{let U=Kw.fork(d.module,k||[],z);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(ac.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(ac.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{b({reader:ne[0],writer:ne[1]})},T)},T):GC.isSocket(f)&&(0,qc.createClientSocketTransport)(f.port).then(A=>{let U=Kw.fork(d.module,k||[],z);s(U),this._serverProcess=U,U.stderr.on("data",ne=>this.outputChannel.append(ac.string(ne)?ne:ne.toString(e))),U.stdout.on("data",ne=>this.outputChannel.append(ac.string(ne)?ne:ne.toString(e))),A.onConnected().then(ne=>{b({reader:ne[0],writer:ne[1]})},T)},T)})}}else if(Hte.is(c)&&c.command){let d=c,f=c.args!==void 0?c.args.slice(0):[],y,b=c.transport;if(b===eu.stdio)f.push("--stdio");else if(b===eu.pipe)y=(0,qc.generateRandomPipeName)(),f.push(`--pipe=${y}`);else if(GC.isSocket(b))f.push(`--socket=${b.port}`);else if(b===eu.ipc)throw new Error("Transport kind ipc is not support for command executable");let T=Object.assign({},d.options);if(T.cwd=T.cwd||l,b===void 0||b===eu.stdio){let k=Kw.spawn(d.command,f,T);return!k||!k.pid?hx(k,`Launching server using command ${d.command} failed.`):(k.stderr.on("data",z=>this.outputChannel.append(ac.string(z)?z:z.toString(e))),this._serverProcess=k,this._isDetached=!!T.detached,Promise.resolve({reader:new qc.StreamMessageReader(k.stdout),writer:new qc.StreamMessageWriter(k.stdin)}))}else{if(b===eu.pipe)return(0,qc.createClientPipeTransport)(y).then(k=>{let z=Kw.spawn(d.command,f,T);return!z||!z.pid?hx(z,`Launching server using command ${d.command} failed.`):(this._serverProcess=z,this._isDetached=!!T.detached,z.stderr.on("data",A=>this.outputChannel.append(ac.string(A)?A:A.toString(e))),z.stdout.on("data",A=>this.outputChannel.append(ac.string(A)?A:A.toString(e))),k.onConnected().then(A=>({reader:A[0],writer:A[1]})))});if(GC.isSocket(b))return(0,qc.createClientSocketTransport)(b.port).then(k=>{let z=Kw.spawn(d.command,f,T);return!z||!z.pid?hx(z,`Launching server using command ${d.command} failed.`):(this._serverProcess=z,this._isDetached=!!T.detached,z.stderr.on("data",A=>this.outputChannel.append(ac.string(A)?A:A.toString(e))),z.stdout.on("data",A=>this.outputChannel.append(ac.string(A)?A:A.toString(e))),k.onConnected().then(A=>({reader:A[0],writer:A[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))})}_getRuntimePath(e,t){if(Ute.isAbsolute(e))return e;let n=this._mainGetRootPath();if(n!==void 0){let i=Ute.join(n,e);if(zte.existsSync(i))return i}if(t!==void 0){let i=Ute.join(t,e);if(zte.existsSync(i))return i}return e}_mainGetRootPath(){let e=KC.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(n=>{zte.lstat(t,(i,o)=>{n(!i&&o.isDirectory()?t:void 0)})}):Promise.resolve(void 0)}getLocale(){let e=process.env.VSCODE_NLS_CONFIG;if(e===void 0)return"en";let t;try{t=JSON.parse(e)}catch{}return t===void 0||typeof t.locale!="string"?"en":t.locale}};Xp.LanguageClient=Vte;var Gte=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return KC.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new KC.Disposable(()=>{this._client.needsStop()&&this._client.stop()})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?KC.workspace.getConfiguration(t).get(n,!1):KC.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(o=>this._client.error("Start failed after configuration change",o,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(o=>this._client.error("Stop failed after configuration change",o,"force"))}};Xp.SettingMonitor=Gte;function hx(r,e){return r===null?Promise.reject(e):new Promise((t,n)=>{r.on("error",i=>{n(`${e} ${i}`)}),setImmediate(()=>n(e))})}});var REe=P(CH=>{"use strict";Object.defineProperty(CH,"__esModule",{value:!0});CH.ColorPresentationContext=void 0;var Kte=class{constructor(e,t){this.uri=e,this.range=t}};CH.ColorPresentationContext=Kte});var xEe=P(DH=>{"use strict";Object.defineProperty(DH,"__esModule",{value:!0});DH.SerializableColorPresentation=void 0;var Yte=class{constructor(e,t,n){this.label=e,this.textEdit=t,this.additionalTextEdits=n}};DH.SerializableColorPresentation=Yte});var IEe=P(mx=>{"use strict";var EEe=mx&&mx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(mx,"__esModule",{value:!0});mx.ColorPresentationHandler=void 0;var Jte=require("vscode"),Hyt=c_(),OEe=NA(),Wyt=REe(),Byt=xEe(),TH=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.colorPresentationRequestType=new Hyt.RequestType(r.provideHtmlColorPresentation),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.colorPresentationRequestType,(e,t)=>EEe(this,void 0,void 0,function*(){return this.provideHtmlColorPresentation(e,t)}))}provideHtmlColorPresentation(e,t){return EEe(this,void 0,void 0,function*(){try{let n=Jte.Uri.parse(`${e.textDocument.uri}`,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=new Jte.Color(e.color.red,e.color.green,e.color.blue,e.color.alpha),s=i.htmlDocument.uri,a=yield Jte.commands.executeCommand("vscode.executeColorPresentationProvider",o,new Wyt.ColorPresentationContext(s,e.range));return this.SerializeColorPresentations(a)}catch(n){this.logger.logWarning(`${r.provideHtmlColorPresentation} failed with ${n}`)}return this.emptyColorInformationResponse})}SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=(0,OEe.convertTextEditToSerializable)(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=(0,OEe.convertTextEditToSerializable)(a);o.push(c)}let s=new Byt.SerializableColorPresentation(n.label,i,o);t.push(s)}return t}};mx.ColorPresentationHandler=TH;TH.provideHtmlColorPresentation="razor/provideHtmlColorPresentation"});var YC=P(PH=>{"use strict";var kEe;Object.defineProperty(PH,"__esModule",{value:!0});PH.RazorLanguage=void 0;var u_=class{};PH.RazorLanguage=u_;kEe=u_;u_.id="aspnetcorerazor";u_.fileExtensions=["cshtml","razor"];u_.globbingPattern=`**/*.{${u_.fileExtensions.join(",")}}`;u_.documentSelector={language:kEe.id,pattern:u_.globbingPattern}});var Qte=P(gx=>{"use strict";var AEe=gx&&gx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(gx,"__esModule",{value:!0});gx.RazorCompletionItemProvider=void 0;var JC=require("vscode"),$yt=_y(),Vyt=eg(),Xte=class r extends $yt.RazorLanguageFeatureBase{constructor(e,t,n,i,o){super(e,t,n,o),this.provisionalCompletionOrchestrator=i}static getCompletions(e,t,n,i){return AEe(this,void 0,void 0,function*(){if(e){let o=i==="@"?void 0:i,s=yield JC.commands.executeCommand("vscode.executeCompletionItemProvider",e,n,o),a=s instanceof Array?s:s?s.items:[],c=n.character-t.character;for(let l of a){let d=l.documentation;if(d){let f=new JC.MarkdownString(d.value);f.isTrusted=!1,l.documentation=f}if(l.range){let f=l.range,y=f.inserting;if(y){let T=this.offsetColumn(c,t.line,y.start),k=this.offsetColumn(c,t.line,y.end);f.inserting=new JC.Range(T,k)}let b=f.replacing;if(b){let T=this.offsetColumn(c,t.line,b.start),k=this.offsetColumn(c,t.line,b.end);f.replacing=new JC.Range(T,k)}if(f instanceof JC.Range&&f.start&&f.end){let T=this.offsetColumn(c,t.line,f.start),k=this.offsetColumn(c,t.line,f.end);l.range=new JC.Range(T,k)}}l.textEdit=void 0,i==="@"&&l.commitCharacters&&(l.commitCharacters=l.commitCharacters.filter(f=>f!=="{"&&f!=="("&&f!=="*"))}let u=s instanceof Array?!1:s?s.isIncomplete:!1;return new JC.CompletionList(a,u)}})}static offsetColumn(e,t,n){return new JC.Position(t,n.character-e)}provideCompletionItems(e,t,n,i){return AEe(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,n);if(this.logger.verboseEnabled&&this.logger.logVerbose(`Providing completions for document ${(0,Vyt.getUriPath)(e.uri)} at location (${t.line}, ${t.character})`),!o)return{isIncomplete:!0,items:[]};let s=yield this.provisionalCompletionOrchestrator.tryGetProvisionalCompletions(e.uri,o,i);return s||(yield r.getCompletions(o.uri,t,o.position,i.triggerCharacter))})}};gx.RazorCompletionItemProvider=Xte});var LEe=P(vx=>{"use strict";var RH=vx&&vx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(vx,"__esModule",{value:!0});vx.ProvisionalCompletionOrchestrator=void 0;var Yw=require("vscode"),Gyt=YC(),MEe=uv(),Kyt=Qte(),Zte=class{constructor(e,t,n,i){this.documentManager=e,this.projectedCSharpProvider=t,this.serviceClient=n,this.logger=i,this.provisionalDotsMayBeActive=!1}register(){Yw.window.activeTextEditor&&(this.currentActiveDocument=Yw.window.activeTextEditor.document);let e=Yw.window.onDidChangeTextEditorSelection(i=>this.tryRemoveProvisionalDot(i.textEditor.document)),t=Yw.workspace.onDidChangeTextDocument(i=>RH(this,void 0,void 0,function*(){i.contentChanges.length===1&&i.contentChanges[0].text==="."||(yield this.tryRemoveProvisionalDot(i.document))})),n=Yw.window.onDidChangeActiveTextEditor(i=>RH(this,void 0,void 0,function*(){this.currentActiveDocument&&(yield this.tryRemoveProvisionalDot(this.currentActiveDocument)),i?this.currentActiveDocument=i.document:this.currentActiveDocument=void 0}));return Yw.Disposable.from(t,e,n)}tryGetProvisionalCompletions(e,t,n){return RH(this,void 0,void 0,function*(){if(t.languageKind!==MEe.LanguageKind.Html||n.triggerCharacter!==".")return null;let i=t.position;if(i.character===0)return null;let o=new Yw.Position(i.line,i.character-1),s=yield this.serviceClient.languageQuery(o,e);if(s.kind!==MEe.LanguageKind.CSharp)return null;let c=(yield this.documentManager.getDocument(e)).csharpDocument,u=s.positionIndex;this.logger.verboseEnabled&&this.logger.logVerbose(`Applying provisional completion on ${c.uri} at (${s.position.line}, ${s.position.character})`),c.addProvisionalDotAt(u),this.projectedCSharpProvider.ensureDocumentContent(c.uri),yield(yield Yw.workspace.openTextDocument(c.uri)).save();let d=new Yw.Position(s.position.line,s.position.character+1),f=yield Kyt.RazorCompletionItemProvider.getCompletions(c.uri,i,d,n.triggerCharacter);return this.provisionalDotsMayBeActive=!0,f})}tryRemoveProvisionalDot(e){return RH(this,void 0,void 0,function*(){if(!this.provisionalDotsMayBeActive||e.languageId!==Gyt.RazorLanguage.id)return;let t=yield this.documentManager.getActiveDocument();if(!t)return;let n=t.csharpDocument;n.removeProvisionalDot()&&(this.projectedCSharpProvider.ensureDocumentContent(n.uri),this.logger.verboseEnabled&&this.logger.logVerbose(`Ensured removal of provisional completion on ${n.uri}.`)),this.provisionalDotsMayBeActive=!1})}};vx.ProvisionalCompletionOrchestrator=Zte});var FEe=P(yx=>{"use strict";var Yyt=yx&&yx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(yx,"__esModule",{value:!0});yx.listenToConfigurationChanges=void 0;var NEe=require("vscode");function Jyt(r){return NEe.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("razor.trace")&&Xyt(r)})}yx.listenToConfigurationChanges=Jyt;function Xyt(r){let e="Would you like to restart the Razor Language Server to enable the Razor trace configuration change?",t="Restart";NEe.window.showInformationMessage(e,t).then(n=>Yyt(this,void 0,void 0,function*(){n===t&&(yield r.stop(),r.updateTraceLevel(),yield r.start())}))}});var jEe=P(_x=>{"use strict";var TM=_x&&_x.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(_x,"__esModule",{value:!0});_x.CSharpPreviewPanel=void 0;var bx=require("vscode"),ere=qw(),qEe=eg(),xH=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return TM(this,void 0,void 0,function*(){this.panel?this.panel.reveal(bx.ViewColumn.Two):(this.panel=bx.window.createWebviewPanel(r.viewType,"Razor C# Preview",bx.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return TM(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return TM(this,void 0,void 0,function*(){this.panel&&(e.kind===ere.RazorDocumentChangeKind.csharpChanged||e.kind===ere.RazorDocumentChangeKind.opened||e.kind===ere.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){bx.window.showErrorMessage("Unexpected error when attaching to C# preview window.");return}this.panel.webview.onDidReceiveMessage(e=>TM(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.csharpContent)return;yield bx.env.clipboard.writeText(this.csharpContent),bx.window.showInformationMessage("Razor C# copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return TM(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.csharpContent=e.csharpDocument.getContent(),t=(0,qEe.getUriPath)(e.uri),n=(0,qEe.getUriPath)(e.csharpDocument.uri)):this.csharpContent=void 0;let i=this.csharpContent?this.csharpContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p
    <p><button onclick="copy()">Copy C#</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};_x.CSharpPreviewPanel=xH;xH.viewType="razorCSharpPreview"});var OH=P(wx=>{"use strict";var Qyt=wx&&wx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(wx,"__esModule",{value:!0});wx.CSharpProjectedDocumentContentProvider=void 0;var tre=qw(),zEe=eg(),EH=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){return Qyt(this,void 0,void 0,function*(){let t=this.findRazorDocument(e);return t?`${t.csharpDocument.getContent()}
// ${t.csharpDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,zEe.getUriPath)(e)}' when updating the C# buffer. This typically happens when a document is removed.`),"")})}ensureDocumentContent(e){this.onDidChangeEmitter.fire(e)}documentChanged(e){(e.kind===tre.RazorDocumentChangeKind.csharpChanged||e.kind===tre.RazorDocumentChangeKind.opened||e.kind===tre.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.csharpDocument.uri)}findRazorDocument(e){let t=(0,zEe.getUriPath)(e);return this.documentManager.documents.find(n=>n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};wx.CSharpProjectedDocumentContentProvider=EH;EH.scheme="virtualCSharp-razor"});var WEe=P(Sx=>{"use strict";var Zyt=Sx&&Sx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Sx,"__esModule",{value:!0});Sx.RazorCSharpFeature=void 0;var PM=require("vscode"),UEe=jEe(),HEe=OH(),rre=class{constructor(e,t,n){this.projectionProvider=new HEe.CSharpProjectedDocumentContentProvider(e,t,n),this.csharpPreviewPanel=new UEe.CSharpPreviewPanel(e)}register(){let e=[PM.workspace.registerTextDocumentContentProvider(HEe.CSharpProjectedDocumentContentProvider.scheme,this.projectionProvider),PM.commands.registerCommand("extension.showRazorCSharpWindow",()=>this.csharpPreviewPanel.show())];return PM.window.registerWebviewPanelSerializer&&e.push(PM.window.registerWebviewPanelSerializer(UEe.CSharpPreviewPanel.viewType,{deserializeWebviewPanel:t=>Zyt(this,void 0,void 0,function*(){yield this.csharpPreviewPanel.revive(t)})})),PM.Disposable.from(...e)}};Sx.RazorCSharpFeature=rre});var RM=P(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.getRazorDocumentUri=Xu.isRazorHtmlFile=Xu.isRazorCSharpFile=Xu.backgroundVirtualCSharpSuffix=Xu.virtualCSharpSuffix=Xu.virtualHtmlSuffix=void 0;var ebt=require("vscode"),nre=eg();Xu.virtualHtmlSuffix="__virtual.html";Xu.virtualCSharpSuffix="__virtual.cs";Xu.backgroundVirtualCSharpSuffix=`__bg${Xu.virtualCSharpSuffix}`;function tbt(r){return(0,nre.getUriPath)(r).endsWith(Xu.virtualCSharpSuffix)}Xu.isRazorCSharpFile=tbt;function rbt(r){return(0,nre.getUriPath)(r).endsWith(Xu.virtualHtmlSuffix)}Xu.isRazorHtmlFile=rbt;function nbt(r){let t=(0,nre.getUriPath)(r).replace(Xu.backgroundVirtualCSharpSuffix,"");return t=t.replace(Xu.virtualCSharpSuffix,""),t=t.replace(Xu.virtualHtmlSuffix,""),ebt.Uri.file(t)}Xu.getRazorDocumentUri=nbt});var GEe=P(Cx=>{"use strict";var ibt=Cx&&Cx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Cx,"__esModule",{value:!0});Cx.RazorDefinitionProvider=void 0;var BEe=require("vscode"),$Ee=RM(),obt=_y(),VEe=uv(),ire=class extends obt.RazorLanguageFeatureBase{provideDefinition(e,t,n){return ibt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===VEe.LanguageKind.Razor)return;let o=yield BEe.commands.executeCommand("vscode.executeDefinitionProvider",i.uri,i.position),s=new Array;for(let a of o)if(i.languageKind===VEe.LanguageKind.Html&&(0,$Ee.isRazorHtmlFile)(a.uri)){let c=(0,$Ee.getRazorDocumentUri)(a.uri);s.push(new BEe.Location(c,a.range))}else s.push(a);return s})}};Cx.RazorDefinitionProvider=ire});var KEe=P(IH=>{"use strict";Object.defineProperty(IH,"__esModule",{value:!0});IH.razorExtensionId=void 0;IH.razorExtensionId="ms-dotnettools.csharp"});var YEe=P(Dx=>{"use strict";var kH=Dx&&Dx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Dx,"__esModule",{value:!0});Dx.ReportIssueCreator=void 0;var sbt=require("child_process"),ore=require("os"),abt=KEe(),sre=class{constructor(e,t){this.vscodeApi=e,this.documentManager=t}create(e){return kH(this,void 0,void 0,function*(){let t,n,i;if(e.document){t=yield this.getRazor(e.document);let y=yield this.documentManager.getDocument(e.document.uri);n=yield this.getProjectedCSharp(y),i=yield this.getProjectedHtml(y)}else t="Non Razor file as active document",n="Could not determine CSharp content",i="Could not determine Html content";let o=this.getExtensionVersion(),s="";try{s=yield this.getDotnetInfo()}catch(y){s=`A valid dotnet installation could not be found: ${y}`}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s);return`## Is this a Bug or Feature request?:
Bug

## Steps to reproduce
------------------- Please fill in this section -------------------------

## Description of the problem:
------------------- Please fill in this section -------------------------

Expected behavior:

Actual behavior:

## Logs

#### OmniSharp
------------------- Please fill in this section -------------------------
To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".

#### Razor
<details><summary>Expand</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## Workspace information

#### Razor document:
<details><summary>Expand</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### Projected CSharp document:
<details><summary>Expand</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### Projected Html document:
<details><summary>Expand</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## Machine information


**VSCode version**: ${this.vscodeApi.version}
**Razor.VSCode version**: ${o}
#### \`dotnet --info\`

<details><summary>Expand</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### Extensions
<details><summary>Expand</summary>
<p>

${a}

</p>
</details>`})}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}getRazor(e){return kH(this,void 0,void 0,function*(){return e.getText()})}getProjectedCSharp(e){return kH(this,void 0,void 0,function*(){let t=`////////////////////// Projected CSharp as seen by extension ///////////////////////
${e.csharpDocument.getContent()}


////////////////////// Projected CSharp as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.csharpDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of CSharp`}catch{t=`${t}
Unable to resolve VSCode's version of CSharp`}return t})}getProjectedHtml(e){return kH(this,void 0,void 0,function*(){let t=`////////////////////// Projected Html as seen by extension ///////////////////////
${e.htmlDocument.getContent()}


////////////////////// Projected Html as seen by VSCode ///////////////////////`;try{let n=yield this.vscodeApi.workspace.openTextDocument(e.htmlDocument.uri);n?t=`${t}
${n.getText()}`:t=`${t}
Unable to resolve VSCode's version of Html`}catch{t=`${t}
Unable to resolve VSCode's version of Html`}return t})}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(abt.razorExtensionId);return e?e.packageJSON.version:"Unable to find Razor extension version."}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=`|Extension|Author|Version|${ore.EOL}|---|---|---|`,n=e.map(o=>`|${o.packageJSON.name}|${o.packageJSON.publisher}|${o.packageJSON.version}|`).join(ore.EOL);return`
${t}${ore.EOL}${n};
`}getDotnetInfo(){return new Promise((e,t)=>{try{sbt.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};Dx.ReportIssueCreator=sre});var JEe=P(AH=>{"use strict";Object.defineProperty(AH,"__esModule",{value:!0});AH.ReportIssueDataCollector=void 0;var cbt=require("os"),are=class{constructor(e,t){this.razorFileFocusChange=e,this.logger=t,this.logMessages=[],this.logOutput="",this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(cbt.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};AH.ReportIssueDataCollector=are});var XEe=P(MH=>{"use strict";Object.defineProperty(MH,"__esModule",{value:!0});MH.ReportIssueDataCollectorFactory=void 0;var cre=require("vscode"),ubt=YC(),lbt=JEe(),ure=class{constructor(e){this.logger=e,this.onRazorDocumentFocusedEmitter=new cre.EventEmitter,this.onRazorDocumentFocusedEmitter=new cre.EventEmitter}register(){return cre.window.onDidChangeActiveTextEditor(e=>{e&&ubt.RazorLanguage.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new lbt.ReportIssueDataCollector(this.onRazorDocumentFocusedEmitter.event,this.logger)}};MH.ReportIssueDataCollectorFactory=ure});var EM=P(xM=>{"use strict";Object.defineProperty(xM,"__esModule",{value:!0});xM.Trace=void 0;var dbt;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Verbose=2]="Verbose"})(dbt=xM.Trace||(xM.Trace={}))});var QEe=P(Tx=>{"use strict";var OM=Tx&&Tx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Tx,"__esModule",{value:!0});Tx.ReportIssuePanel=void 0;var l_=require("vscode"),LH=EM(),NH=class r{constructor(e,t,n){this.dataCollectorFactory=e,this.reportIssueCreator=t,this.logger=n}show(){return OM(this,void 0,void 0,function*(){this.panel?this.panel.reveal(l_.ViewColumn.Two):(this.panel=l_.window.createWebviewPanel(r.viewType,"Report Razor Issue",l_.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return OM(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}attachToCurrentPanel(){if(!this.panel){l_.window.showErrorMessage("Unexpected error when attaching to report Razor issue window.");return}this.panel.webview.onDidReceiveMessage(e=>OM(this,void 0,void 0,function*(){switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){l_.window.showErrorMessage("You must first start the data collection before copying.");return}let t=this.dataCollector.collect();this.issueContent=yield this.reportIssueCreator.create(t),this.dataCollector=void 0}yield l_.env.clipboard.writeText(this.issueContent),l_.window.showInformationMessage("Razor issue copied to clipboard");return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),l_.window.showInformationMessage('Razor issue data collection started. Reproduce the issue then press "Stop"');return;case"stopIssue":if(!this.dataCollector){l_.window.showErrorMessage("You must first start the data collection before stopping.");return}this.dataCollector.stop(),l_.window.showInformationMessage("Razor issue data collection stopped. Copying issue content...");return}})),this.traceLevelChange=this.logger.onTraceLevelChange(()=>OM(this,void 0,void 0,function*(){return this.update()})),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}update(){return OM(this,void 0,void 0,function*(){if(!this.panel)return;let e="";this.logger.trace.valueOf()===LH.Trace.Verbose?e=`<ol>
    <li>Press <button onclick="startIssue()">Start</button></li>
    <li>Perform the actions (or no action) that resulted in your Razor issue</li>
    <li>Click <button onclick="stopIssue()">Stop</button>. This will copy all relevant issue information.</li>
    <li><a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">Go to GitHub</a>, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.</li>
</ol>

<p><em>Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to
GitHub, please remove any personal data which should not be publicly viewable.
<a href="https://privacy.microsoft.com/en-US/privacystatement">https://privacy.microsoft.com/en-US/privacystatement</a></em></p>

<button onclick="copyIssue()">Copy issue content again</button>`:e=`<p>Cannot start collecting Razor logs when <strong><em>razor.trace</em></strong> is set to <strong><em>${LH.Trace[this.logger.trace]}</em></strong>.
Please set <strong><em>razor.trace</em></strong> to <strong><em>${LH.Trace[LH.Trace.Verbose]}</em></strong> and then reload your VSCode environment and re-run the report Razor issue command.</p>`,this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>Report a Razor issue</h3>
${e}
</body>
</html>`})}};Tx.ReportIssuePanel=NH;NH.viewType="razorReportIssue"});var eOe=P(Px=>{"use strict";var fbt=Px&&Px.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Px,"__esModule",{value:!0});Px.ReportIssueCommand=void 0;var pbt=YEe(),hbt=XEe(),ZEe=QEe(),lre=class{constructor(e,t,n){this.vscodeApi=e,this.dataCollectorFactory=new hbt.ReportIssueDataCollectorFactory(n),this.issueCreator=new pbt.ReportIssueCreator(this.vscodeApi,t),this.issuePanel=new ZEe.ReportIssuePanel(this.dataCollectorFactory,this.issueCreator,n)}register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer(ZEe.ReportIssuePanel.viewType,{deserializeWebviewPanel:t=>fbt(this,void 0,void 0,function*(){yield this.issuePanel.revive(t)})})),this.vscodeApi.Disposable.from(...e)}};Px.ReportIssueCommand=lre});var tOe=P(FH=>{"use strict";Object.defineProperty(FH,"__esModule",{value:!0});FH.CSharpProjectedDocument=void 0;var mbt=eg(),dre=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,mbt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.removeProvisionalDot(),this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}reset(){this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,this.hostDocumentVersion=null,this.setContent("")}getContent(){return this.content}addProvisionalDotAt(e){if(this.provisionalEditAt===e)return;this.removeProvisionalDot();let t=this.getEditedContent(".",e,e,this.content);this.preProvisionalContent=this.content,this.provisionalEditAt=e,this.setContent(t)}removeProvisionalDot(){return this.provisionalEditAt&&this.preProvisionalContent?(this.setContent(this.preProvisionalContent),this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,!0):!1}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};FH.CSharpProjectedDocument=dre});var rOe=P(qH=>{"use strict";Object.defineProperty(qH,"__esModule",{value:!0});qH.HtmlProjectedDocument=void 0;var gbt=eg(),fre=class{constructor(e){this.uri=e,this.content="",this.hostDocumentVersion=null,this.projectedDocumentVersion=0,this.path=(0,gbt.getUriPath)(e)}get hostDocumentSyncVersion(){return this.hostDocumentVersion}get projectedDocumentSyncVersion(){return this.projectedDocumentVersion}update(e,t){if(this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}getContent(){return this.content}reset(){this.projectedDocumentVersion++,this.hostDocumentVersion=null,this.setContent("")}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.projectedDocumentVersion++,this.content=e}};qH.HtmlProjectedDocument=fre});var UH=P(zH=>{"use strict";Object.defineProperty(zH,"__esModule",{value:!0});zH.HtmlProjectedDocumentContentProvider=void 0;var pre=qw(),nOe=eg(),jH=class{constructor(e,t,n){this.documentManager=e,this.logger=n,e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.htmlDocument.getContent()}
// ${t.htmlDocument.projectedDocumentSyncVersion}`:(this.logger.verboseEnabled&&this.logger.logVerbose(`Could not find document '${(0,nOe.getUriPath)(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}documentChanged(e){(e.kind===pre.RazorDocumentChangeKind.htmlChanged||e.kind===pre.RazorDocumentChangeKind.opened||e.kind===pre.RazorDocumentChangeKind.removed)&&this.onDidChangeEmitter.fire(e.document.htmlDocument.uri)}findRazorDocument(e){let t=(0,nOe.getUriPath)(e);return this.documentManager.documents.find(n=>n.htmlDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};zH.HtmlProjectedDocumentContentProvider=jH;jH.scheme="razor-html"});var sOe=P(HH=>{"use strict";Object.defineProperty(HH,"__esModule",{value:!0});HH.createDocument=void 0;var iOe=require("vscode"),vbt=tOe(),ybt=OH(),bbt=rOe(),_bt=UH(),oOe=RM(),hre=eg();function wbt(r){let e=Cbt(r),t=Sbt(r),n=(0,hre.getUriPath)(r);return{uri:r,path:n,csharpDocument:e,htmlDocument:t}}HH.createDocument=wbt;function Sbt(r){let t=`${(0,hre.getUriPath)(r)}${oOe.virtualHtmlSuffix}`,n=iOe.Uri.file(t);return n=n.with({scheme:_bt.HtmlProjectedDocumentContentProvider.scheme}),new bbt.HtmlProjectedDocument(n)}function Cbt(r){let t=`${(0,hre.getUriPath)(r)}${oOe.virtualCSharpSuffix}`,n=iOe.Uri.file(t);return n=n.with({scheme:ybt.CSharpProjectedDocumentContentProvider.scheme}),new vbt.CSharpProjectedDocument(n)}});var aOe=P(xx=>{"use strict";var d_=xx&&xx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(xx,"__esModule",{value:!0});xx.RazorDocumentManager=void 0;var Qp=require("vscode"),Rx=YC(),mre=eg(),KT=qw(),Dbt=sOe(),gre=class{constructor(e,t){this.serverClient=e,this.logger=t,this.razorDocuments={},this.onChangeEmitter=new Qp.EventEmitter}get onChange(){return this.onChangeEmitter.event}get documents(){return Object.values(this.razorDocuments)}getDocument(e){return d_(this,void 0,void 0,function*(){let t=this._getDocument(e);return yield this.ensureProjectedDocumentsOpen(t),t})}getActiveDocument(){return d_(this,void 0,void 0,function*(){return!Qp.window.activeTextEditor||Qp.window.activeTextEditor.document.languageId!==Rx.RazorLanguage.id?null:yield this.getDocument(Qp.window.activeTextEditor.document.uri)})}initialize(){return d_(this,void 0,void 0,function*(){let e=yield Qp.workspace.findFiles(Rx.RazorLanguage.globbingPattern);for(let t of e)this.addDocument(t);for(let t of Qp.workspace.textDocuments)t.languageId===Rx.RazorLanguage.id&&(t.isClosed||this.openDocument(t.uri))})}register(){let e=Qp.workspace.createFileSystemWatcher(Rx.RazorLanguage.globbingPattern),t=e.onDidCreate(s=>d_(this,void 0,void 0,function*(){return this.addDocument(s)})),n=e.onDidDelete(s=>d_(this,void 0,void 0,function*(){return this.removeDocument(s)})),i=Qp.workspace.onDidOpenTextDocument(s=>{s.languageId===Rx.RazorLanguage.id&&this.openDocument(s.uri)}),o=Qp.workspace.onDidCloseTextDocument(s=>{s.languageId===Rx.RazorLanguage.id&&this.closeDocument(s.uri)});return this.serverClient.onNotification("razor/updateCSharpBuffer",s=>d_(this,void 0,void 0,function*(){return this.updateCSharpBuffer(s)})),this.serverClient.onNotification("razor/updateHtmlBuffer",s=>d_(this,void 0,void 0,function*(){return this.updateHtmlBuffer(s)})),Qp.Disposable.from(e,t,n,i,o)}_getDocument(e){let t=(0,mre.getUriPath)(e),n=this.razorDocuments[t];return n||(this.logger.logMessage(`File '${t}' didn't exist in the Razor document list. This is likely because it's from outside the workspace.`),n=this.addDocument(e)),n}openDocument(e){let t=this._getDocument(e);this.notifyDocumentChange(t,KT.RazorDocumentChangeKind.opened)}closeDocument(e){let t=this._getDocument(e),i=t.csharpDocument,s=t.htmlDocument;i.reset(),s.reset(),Qp.workspace.getWorkspaceFolder(e)||this.removeDocument(e),this.notifyDocumentChange(t,KT.RazorDocumentChangeKind.closed)}addDocument(e){let t=(0,mre.getUriPath)(e),n=this.razorDocuments[t];return n?(this.logger.logMessage(`Skipping document creation for '${t}' because it already exists.`),n):(n=(0,Dbt.createDocument)(e),this.razorDocuments[n.path]=n,this.notifyDocumentChange(n,KT.RazorDocumentChangeKind.added),n)}removeDocument(e){let t=this._getDocument(e);delete this.razorDocuments[t.path],this.notifyDocumentChange(t,KT.RazorDocumentChangeKind.removed)}updateCSharpBuffer(e){return d_(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the C# document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=Qp.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.csharpDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,KT.RazorDocumentChangeKind.csharpChanged)):this.logger.logWarning("Failed to update the C# document buffer. This is unexpected and may result in incorrect C# interactions.")})}updateHtmlBuffer(e){return d_(this,void 0,void 0,function*(){this.logger.verboseEnabled&&this.logger.logVerbose(`Updating the HTML document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=Qp.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.htmlDocument;!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion?(i.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,KT.RazorDocumentChangeKind.htmlChanged)):this.logger.logWarning("Failed to update the HTML document buffer. This is unexpected and may result in incorrect HTML interactions.")})}notifyDocumentChange(e,t){this.logger.verboseEnabled&&this.logger.logVerbose(`Notifying document '${(0,mre.getUriPath)(e.uri)}' changed '${KT.RazorDocumentChangeKind[t]}'`);let n={document:e,kind:t};this.onChangeEmitter.fire(n)}ensureProjectedDocumentsOpen(e){return d_(this,void 0,void 0,function*(){yield Qp.workspace.openTextDocument(e.csharpDocument.uri),yield Qp.workspace.openTextDocument(e.htmlDocument.uri)})}};xx.RazorDocumentManager=gre});var uOe=P(Ex=>{"use strict";var Tbt=Ex&&Ex.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Ex,"__esModule",{value:!0});Ex.RazorDocumentSynchronizer=void 0;var vre=require("vscode"),Pbt=OH(),Rbt=UH(),WH=eg(),cOe=qw(),yre=class{constructor(e,t){this.documentManager=e,this.logger=t,this.synchronizations={},this.synchronizationIdentifier=0}register(){let e=this.documentManager.onChange(n=>this.documentChanged(n)),t=vre.workspace.onDidChangeTextDocument(n=>this.textDocumentChanged(n));return vre.Disposable.from(e,t)}trySynchronizeProjectedDocument(e,t,n,i){return Tbt(this,void 0,void 0,function*(){let o=++this.synchronizationIdentifier,s=(0,WH.getUriPath)(t.uri);if(this.logger.verboseEnabled){let c=n;this.logger.logVerbose(`${o} - Synchronizing '${s}':
    Currently at ${t.hostDocumentSyncVersion}, synchronizing to version '${c}'.
    Current host document version: '${e.version}'
    Current projected document version: '${t.projectedDocumentSyncVersion}'`)}e.version!==n&&this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - toHostDocumentVersion and hostDocument.version already out of date.`);let a=this.createSynchronizationContext(s,t,n,e,i);try{t.hostDocumentSyncVersion!==n&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document not in sync with host document, waiting for update...
    Current host document sync version: ${t.hostDocumentSyncVersion}`),yield a.onProjectedDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected document in sync with host document`);let c=yield vre.workspace.openTextDocument(t.uri),u=this.getProjectedTextDocumentVersion(c);t.projectedDocumentSyncVersion!==u&&(this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document not in sync with data type, waiting for update...
    Current projected text document sync version: ${u}`),yield a.onProjectedTextDocumentSynchronized),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Projected text document in sync with data type`)}catch(c){return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization failed: ${c}`),!1}return this.removeSynchronization(a),this.logger.verboseEnabled&&this.logger.logVerbose(`${o} - Synchronization successful!`),!0})}removeSynchronization(e){let t=(0,WH.getUriPath)(e.projectedDocument.uri),n=this.synchronizations[t];if(clearTimeout(e.timeoutId),n.length===1){delete this.synchronizations[t];return}this.synchronizations[t]=n.filter(i=>i!==e)}createSynchronizationContext(e,t,n,i,o){let s=[],a=Function,c=new Promise((b,T)=>{a=b,s.push(T)}),u=Function,l=new Promise((b,T)=>{u=b,s.push(T)});o.onCancellationRequested(b=>{f.cancel(`Token cancellation requested: ${b}`)});let d=setTimeout(()=>{f.cancel("Synchronization timed out")},2e3),f={projectedDocument:t,logIdentifier:this.synchronizationIdentifier,timeoutId:d,toHostDocumentVersion:n,hostDocumentVersion:i.version,cancel:b=>{for(let T of s)T(b)},projectedDocumentSynchronized:a,onProjectedDocumentSynchronized:c,projectedTextDocumentSynchronized:u,onProjectedTextDocumentSynchronized:l},y=this.synchronizations[e];return y||(y=[],this.synchronizations[e]=y),y.push(f),f}textDocumentChanged(e){if(e.document.uri.scheme!==Pbt.CSharpProjectedDocumentContentProvider.scheme&&e.document.uri.scheme!==Rbt.HtmlProjectedDocumentContentProvider.scheme)return;let t=this.getProjectedTextDocumentVersion(e.document);if(t===null)return;let n=(0,WH.getUriPath)(e.document.uri),i=this.synchronizations[n];if(i){for(let o of i)if(o.projectedDocument.projectedDocumentSyncVersion===t){if(this.logger.verboseEnabled){let s=o.logIdentifier,a=t;this.logger.logVerbose(`${s} - Projected text document synchronized to ${a}.`)}o.projectedTextDocumentSynchronized()}}}documentChanged(e){let t;if(e.kind===cOe.RazorDocumentChangeKind.csharpChanged)t=e.document.csharpDocument;else if(e.kind===cOe.RazorDocumentChangeKind.htmlChanged)t=e.document.htmlDocument;else return;if(t.hostDocumentSyncVersion===null)return;let i=(0,WH.getUriPath)(t.uri),o=this.synchronizations[i];if(o)for(let s of o)s.toHostDocumentVersion===t.hostDocumentSyncVersion&&s.projectedDocumentSynchronized()}getProjectedTextDocumentVersion(e){if(e.lineCount<=0)return null;let n=e.lineAt(e.lineCount-1).text.substring(3);return parseInt(n,10)}};Ex.RazorDocumentSynchronizer=yre});var lOe=P(BH=>{"use strict";Object.defineProperty(BH,"__esModule",{value:!0});BH.SerializableColorInformation=void 0;var bre=class{constructor(e,t){this.range=e,this.color=t}};BH.SerializableColorInformation=bre});var pOe=P(Ox=>{"use strict";var dOe=Ox&&Ox.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Ox,"__esModule",{value:!0});Ox.DocumentColorHandler=void 0;var fOe=require("vscode"),xbt=c_(),Ebt=zR(),Obt=lOe(),$H=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.documentColorRequestType=new xbt.RequestType(r.provideHtmlDocumentColorEndpoint),this.emptyColorInformationResponse=[]}register(){return this.serverClient.onRequestWithParams(this.documentColorRequestType,(e,t)=>dOe(this,void 0,void 0,function*(){return this.provideHtmlDocumentColors(e,t)}))}provideHtmlDocumentColors(e,t){return dOe(this,void 0,void 0,function*(){try{let n=fOe.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=i.htmlDocument.uri,s=yield fOe.commands.executeCommand("vscode.executeDocumentColorProvider",o),a=new Array;for(let c of s){let u=(0,Ebt.convertRangeToSerializable)(c.range),l=new Obt.SerializableColorInformation(u,c.color);a.push(l)}return a}catch(n){this.logger.logWarning(`${r.provideHtmlDocumentColorEndpoint} failed with ${n}`)}return this.emptyColorInformationResponse})}};Ox.DocumentColorHandler=$H;$H.provideHtmlDocumentColorEndpoint="razor/provideHtmlDocumentColor"});var mOe=P(Ix=>{"use strict";var Ibt=Ix&&Ix.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Ix,"__esModule",{value:!0});Ix.RazorDocumentHighlightProvider=void 0;var hOe=require("vscode"),kbt=_y(),Abt=uv(),_re=class extends kbt.RazorLanguageFeatureBase{provideDocumentHighlights(e,t,n){return Ibt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i||i.languageKind===Abt.LanguageKind.Razor)return;let o=yield hOe.commands.executeCommand("vscode.executeDocumentHighlights",i.uri,i.position);if(!o||o.length===0)return;let s=new Array;for(let a of o){let c=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[a.range],e.uri);if(!c||!c.ranges||!c.ranges[0]||e.version!==c.hostDocumentVersion)continue;let u=new hOe.DocumentHighlight(c.ranges[0],a.kind);s.push(u)}return s})}};Ix.RazorDocumentHighlightProvider=_re});var gOe=P(VH=>{"use strict";Object.defineProperty(VH,"__esModule",{value:!0});VH.reportTelemetryForDocuments=void 0;var Mbt=qw();function Lbt(r,e){r.onChange(t=>{switch(t.kind){case Mbt.RazorDocumentChangeKind.added:e.reportWorkspaceContainsRazor();break}})}VH.reportTelemetryForDocuments=Lbt});var vOe=P(GH=>{"use strict";Object.defineProperty(GH,"__esModule",{value:!0});GH.SerializableFoldingRangeResponse=void 0;var wre=class{constructor(e,t){this.htmlRanges=e,this.csharpRanges=t}};GH.SerializableFoldingRangeResponse=wre});var _Oe=P(Ax=>{"use strict";var yOe=Ax&&Ax.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Ax,"__esModule",{value:!0});Ax.FoldingRangeHandler=void 0;var kx=require("vscode"),KH=c_(),bOe=vOe(),YH=class r{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.foldingRangeRequestType=new KH.RequestType(r.provideFoldingRange),this.emptyFoldingRangeReponse=new bOe.SerializableFoldingRangeResponse(new Array,new Array)}register(){return this.serverClient.onRequestWithParams(this.foldingRangeRequestType,(e,t)=>yOe(this,void 0,void 0,function*(){return this.provideFoldingRanges(e,t)}))}provideFoldingRanges(e,t){return yOe(this,void 0,void 0,function*(){try{let n=kx.Uri.parse(e.textDocument.uri,!0),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFoldingRangeReponse;let o=i.htmlDocument.uri,s=i.csharpDocument.uri,a=yield kx.commands.executeCommand("vscode.executeFoldingRangeProvider",o),c=yield kx.commands.executeCommand("vscode.executeFoldingRangeProvider",s),u=a===void 0?new Array:this.convertFoldingRanges(a),l=c===void 0?new Array:this.convertFoldingRanges(c);return new bOe.SerializableFoldingRangeResponse(u,l)}catch(n){this.logger.logWarning(`${r.provideFoldingRange} failed with ${n}`)}return this.emptyFoldingRangeReponse})}convertFoldingRanges(e){let t=new Array;return e.forEach(n=>{let i={startLine:n.start,startCharacter:0,endLine:n.end,endCharacter:0,kind:n.kind===void 0?void 0:this.convertFoldingRangeKind(n.kind)};t.push(i)}),t}convertFoldingRangeKind(e){if(e===kx.FoldingRangeKind.Comment)return KH.FoldingRangeKind.Comment;if(e===kx.FoldingRangeKind.Imports)return KH.FoldingRangeKind.Imports;if(e===kx.FoldingRangeKind.Region)return KH.FoldingRangeKind.Region;this.logger.logWarning(`Unexpected FoldingRangeKind ${e}`)}};Ax.FoldingRangeHandler=YH;YH.provideFoldingRange="razor/foldingRange"});var wOe=P(JH=>{"use strict";Object.defineProperty(JH,"__esModule",{value:!0});JH.SerializableFormattingResponse=void 0;var Sre=class{constructor(e){this.edits=e}};JH.SerializableFormattingResponse=Sre});var DOe=P(Mx=>{"use strict";var SOe=Mx&&Mx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Mx,"__esModule",{value:!0});Mx.FormattingHandler=void 0;var IM=require("vscode"),Nbt=c_(),Fbt=NA(),COe=wOe(),XH=class r{constructor(e,t,n){this.documentManager=e,this.serverClient=t,this.logger=n,this.formattingRequestType=new Nbt.RequestType(r.provideFormattingEndpoint),this.emptyFormattingResponse=new COe.SerializableFormattingResponse}register(){return this.serverClient.onRequestWithParams(this.formattingRequestType,(e,t)=>SOe(this,void 0,void 0,function*(){return this.provideFormatting(e,t)}))}provideFormatting(e,t){return SOe(this,void 0,void 0,function*(){try{let n=IM.Uri.parse(e.textDocument.uri),i=yield this.documentManager.getDocument(n);if(i===void 0)return this.emptyFormattingResponse;let o=i.htmlDocument.uri,s=yield IM.commands.executeCommand("vscode.executeFormatDocumentProvider",o,e.options);if(s===void 0)return this.emptyFormattingResponse;let a=i.htmlDocument.getContent(),c=this.countLines(a),u=Array();for(let l of s){if(l.range.end.line>c){let f=this.getLastLineLength(a),y=new IM.Position(c,f),b=new IM.Range(l.range.start,y);l=new IM.TextEdit(b,l.newText)}let d=(0,Fbt.convertTextEditToSerializable)(l);u.push(d)}return new COe.SerializableFormattingResponse(u)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return this.emptyFormattingResponse})}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};Mx.FormattingHandler=XH;XH.provideFormattingEndpoint="textDocument/formatting"});var TOe=P(QH=>{"use strict";Object.defineProperty(QH,"__esModule",{value:!0});QH.RazorFormatOnTypeProvider=void 0;var Cre=class{provideOnTypeFormattingEdits(e,t,n,i,o){return new Array}};QH.RazorFormatOnTypeProvider=Cre});var POe=P(ZH=>{"use strict";Object.defineProperty(ZH,"__esModule",{value:!0});ZH.RazorDocumentRangeFormattingResponse=void 0;var Dre=class{constructor(e){this.edits=e}};ZH.RazorDocumentRangeFormattingResponse=Dre});var IOe=P(Lx=>{"use strict";var ROe=Lx&&Lx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Lx,"__esModule",{value:!0});Lx.RazorFormattingFeature=void 0;var xOe=require("vscode"),qbt=c_(),EOe=uv(),jbt=zR(),zbt=NA(),OOe=POe(),Tre=class{constructor(e,t,n){this.serverClient=e,this.documentManager=t,this.logger=n,this.rangeFormattingRequestType=new qbt.RequestType("razor/rangeFormatting"),this.emptyRangeFormattingResponse=new OOe.RazorDocumentRangeFormattingResponse([])}register(){return this.serverClient.onRequestWithParams(this.rangeFormattingRequestType,(e,t)=>ROe(this,void 0,void 0,function*(){return this.handleRangeFormatting(e,t)}))}handleRangeFormatting(e,t){return ROe(this,void 0,void 0,function*(){if(e.kind===EOe.LanguageKind.Razor)return this.emptyRangeFormattingResponse;try{let n=xOe.Uri.file(e.hostDocumentFilePath),i=yield this.documentManager.getDocument(n);if(!i)return this.emptyRangeFormattingResponse;let o=n;e.kind===EOe.LanguageKind.CSharp?o=i.csharpDocument.uri:o=i.htmlDocument.uri;let s=yield xOe.commands.executeCommand("vscode.executeFormatRangeProvider",o,(0,jbt.convertRangeFromSerializable)(e.projectedRange),e.options);if(s){let a=s.map(c=>(0,zbt.convertTextEditToSerializable)(c));return new OOe.RazorDocumentRangeFormattingResponse(a)}}catch(n){this.logger.logWarning(`razor/rangeFormatting failed with ${n}`)}return this.emptyRangeFormattingResponse})}};Lx.RazorFormattingFeature=Tre});var kOe=P(Nx=>{"use strict";var Ubt=Nx&&Nx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Nx,"__esModule",{value:!0});Nx.RazorHoverProvider=void 0;var kM=require("vscode"),Hbt=_y(),Pre=class extends Hbt.RazorLanguageFeatureBase{provideHover(e,t,n){return Ubt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(!i)return;let o=yield kM.commands.executeCommand("vscode.executeHoverProvider",i.uri,i.position);if(!o||o.length===0)return;let s=o.filter(l=>l.range)[0];if(!s)return;let a=yield this.serviceClient.mapToDocumentRanges(i.languageKind,[s.range],e.uri);if(!a||!a.ranges||!a.ranges[0]||e.version!==a.hostDocumentVersion)return;let c=new Array;for(let l of s.contents)if(typeof l=="string"){let d=new kM.MarkdownString(l);c.push(d)}else if(l.language){let d=l,f=new kM.MarkdownString;f.appendCodeblock(d.value,d.language),c.push(f)}else{let d=l.value,f=new kM.MarkdownString(d);c.push(f)}return new kM.Hover(c,a.ranges[0])})}};Nx.RazorHoverProvider=Pre});var MOe=P(qx=>{"use strict";var AM=qx&&qx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(qx,"__esModule",{value:!0});qx.HtmlPreviewPanel=void 0;var Fx=require("vscode"),Rre=qw(),AOe=eg(),eW=class r{constructor(e){this.documentManager=e,e.onChange(t=>this.documentChanged(t))}show(){return AM(this,void 0,void 0,function*(){this.panel?this.panel.reveal(Fx.ViewColumn.Two):(this.panel=Fx.window.createWebviewPanel(r.viewType,"Razor HTML Preview",Fx.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),yield this.update()})}revive(e){return AM(this,void 0,void 0,function*(){this.panel=e,this.attachToCurrentPanel(),yield this.update()})}documentChanged(e){return AM(this,void 0,void 0,function*(){this.panel&&(e.kind===Rre.RazorDocumentChangeKind.htmlChanged||e.kind===Rre.RazorDocumentChangeKind.opened||e.kind===Rre.RazorDocumentChangeKind.closed)&&(yield this.update())})}attachToCurrentPanel(){if(!this.panel){Fx.window.showErrorMessage("Unexpected error when attaching to HTML preview window.");return}this.panel.webview.onDidReceiveMessage(e=>AM(this,void 0,void 0,function*(){switch(e.command){case"copy":if(!this.htmlContent)return;yield Fx.env.clipboard.writeText(this.htmlContent),Fx.window.showInformationMessage("Razor HTML copied to clipboard");return}})),this.panel.onDidDispose(()=>this.panel=void 0)}update(){return AM(this,void 0,void 0,function*(){if(!this.panel)return;let e=yield this.documentManager.getActiveDocument(),t="",n="";e?(this.htmlContent=e.htmlDocument.getContent(),t=(0,AOe.getUriPath)(e.uri),n=(0,AOe.getUriPath)(e.htmlDocument.uri)):this.htmlContent=void 0;let i=this.htmlContent?this.htmlContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;"),this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report a Razor issue</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>Host document file path: <strong>${t}</strong></p>
    <p>Virtual document file path: <strong>${n}</strong></p>
    <p><button onclick="copy()">Copy HTML</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`})}};qx.HtmlPreviewPanel=eW;eW.viewType="razorHtmlPreview"});var rW=P((z4t,qOe)=>{"use strict";var xre=Object.defineProperty,Wbt=Object.getOwnPropertyDescriptor,Bbt=Object.getOwnPropertyNames,$bt=Object.prototype.hasOwnProperty,Vbt=(r,e)=>{for(var t in e)xre(r,t,{get:e[t],enumerable:!0})},Gbt=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Bbt(e))!$bt.call(r,i)&&i!==t&&xre(r,i,{get:()=>e[i],enumerable:!(n=Wbt(e,i))||n.enumerable});return r},Kbt=r=>Gbt(xre({},"__esModule",{value:!0}),r),NOe={};Vbt(NOe,{config:()=>Zbt,t:()=>FOe});qOe.exports=Kbt(NOe);var Ybt=require("fs"),Jbt=require("fs/promises");async function Xbt(r){if(r.protocol==="file:")return await(0,Jbt.readFile)(r,"utf8");if(r.protocol==="http:"||r.protocol==="https:"){let e=await fetch(r.toString(),{headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"},redirect:"follow"});if(!e.ok){let n=`Unexpected ${e.status} response while trying to read ${r}`;try{n+=`: ${await e.text()}`}catch{}throw new Error(n)}return await e.text()}throw new Error("Unsupported protocol")}function Qbt(r){return(0,Ybt.readFileSync)(r,"utf8")}var MM;function Zbt(r){if("contents"in r){typeof r.contents=="string"?MM=JSON.parse(r.contents):MM=r.contents;return}if("fsPath"in r){let e=Qbt(r.fsPath),t=JSON.parse(e);MM=LOe(t)?t.contents.bundle:t;return}if(r.uri){let e=r.uri;return typeof r.uri=="string"&&(e=new URL(r.uri)),new Promise((t,n)=>{Xbt(e).then(i=>{try{let o=JSON.parse(i);MM=LOe(o)?o.contents.bundle:o,t()}catch(o){n(o)}}).catch(i=>{n(i)})})}}function FOe(...r){let e=r[0],t,n,i;if(typeof e=="string")t=e,n=e,r.splice(0,1),i=!r||typeof r[0]!="object"?r:r[0];else if(e instanceof Array){let s=r.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let c=1;c<e.length;c++)a+=`{${c-1}}`+e[c];return FOe(a,...s)}else n=e.message,t=n,e.comment&&e.comment.length>0&&(t+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=MM?.[t];return o?typeof o=="string"?tW(o,i):o.comment?tW(o.message,i):tW(n,i):tW(n,i)}var e_t=/{([^}]+)}/g;function tW(r,e){return Object.keys(e).length===0?r:r.replace(e_t,(t,n)=>e[n]??t)}function LOe(r){return typeof r?.contents?.bundle=="object"&&typeof r?.version=="string"}});var nW,Ere,jOe,iW,qa,xi,jx,zOe,LM,oW,sW,YT,aW,Ore,UOe,HOe,WOe,zx,XC,tu,Ire,Ux,BOe,kre,Are,Mre,Lre,NM,$Oe,VOe,Nre,GOe,ig,JT,sd,Zh,cW,uW,lW,KOe,dW,fW,Hx,pW,YOe,JOe,XT,hW,Wx,XOe,Bx,QOe,$x,ZOe,mW,eIe,tIe,rIe,gW,vW,QT,nIe,iIe,oIe,sIe,aIe,cIe,uIe,Fre,qre,lIe,dIe,fIe,pIe,hIe,mIe,gIe,vIe,yIe,jre,ht,bIe=Ti(()=>{"use strict";(function(r){function e(t){return typeof t=="string"}r.is=e})(nW||(nW={}));(function(r){function e(t){return typeof t=="string"}r.is=e})(Ere||(Ere={}));(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(jOe||(jOe={}));(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function e(t){return typeof t=="number"&&r.MIN_VALUE<=t&&t<=r.MAX_VALUE}r.is=e})(iW||(iW={}));(function(r){function e(n,i){return n===Number.MAX_VALUE&&(n=iW.MAX_VALUE),i===Number.MAX_VALUE&&(i=iW.MAX_VALUE),{line:n,character:i}}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&ht.uinteger(i.line)&&ht.uinteger(i.character)}r.is=t})(qa||(qa={}));(function(r){function e(n,i,o,s){if(ht.uinteger(n)&&ht.uinteger(i)&&ht.uinteger(o)&&ht.uinteger(s))return{start:qa.create(n,i),end:qa.create(o,s)};if(qa.is(n)&&qa.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&qa.is(i.start)&&qa.is(i.end)}r.is=t})(xi||(xi={}));(function(r){function e(n,i){return{uri:n,range:i}}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&xi.is(i.range)&&(ht.string(i.uri)||ht.undefined(i.uri))}r.is=t})(jx||(jx={}));(function(r){function e(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&xi.is(i.targetRange)&&ht.string(i.targetUri)&&xi.is(i.targetSelectionRange)&&(xi.is(i.originSelectionRange)||ht.undefined(i.originSelectionRange))}r.is=t})(zOe||(zOe={}));(function(r){function e(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&ht.numberRange(i.red,0,1)&&ht.numberRange(i.green,0,1)&&ht.numberRange(i.blue,0,1)&&ht.numberRange(i.alpha,0,1)}r.is=t})(LM||(LM={}));(function(r){function e(n,i){return{range:n,color:i}}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&xi.is(i.range)&&LM.is(i.color)}r.is=t})(oW||(oW={}));(function(r){function e(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&ht.string(i.label)&&(ht.undefined(i.textEdit)||tu.is(i))&&(ht.undefined(i.additionalTextEdits)||ht.typedArray(i.additionalTextEdits,tu.is))}r.is=t})(sW||(sW={}));(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(YT||(YT={}));(function(r){function e(n,i,o,s,a,c){let u={startLine:n,endLine:i};return ht.defined(o)&&(u.startCharacter=o),ht.defined(s)&&(u.endCharacter=s),ht.defined(a)&&(u.kind=a),ht.defined(c)&&(u.collapsedText=c),u}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&ht.uinteger(i.startLine)&&ht.uinteger(i.startLine)&&(ht.undefined(i.startCharacter)||ht.uinteger(i.startCharacter))&&(ht.undefined(i.endCharacter)||ht.uinteger(i.endCharacter))&&(ht.undefined(i.kind)||ht.string(i.kind))}r.is=t})(aW||(aW={}));(function(r){function e(n,i){return{location:n,message:i}}r.create=e;function t(n){let i=n;return ht.defined(i)&&jx.is(i.location)&&ht.string(i.message)}r.is=t})(Ore||(Ore={}));(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(UOe||(UOe={}));(function(r){r.Unnecessary=1,r.Deprecated=2})(HOe||(HOe={}));(function(r){function e(t){let n=t;return ht.objectLiteral(n)&&ht.string(n.href)}r.is=e})(WOe||(WOe={}));(function(r){function e(n,i,o,s,a,c){let u={range:n,message:i};return ht.defined(o)&&(u.severity=o),ht.defined(s)&&(u.code=s),ht.defined(a)&&(u.source=a),ht.defined(c)&&(u.relatedInformation=c),u}r.create=e;function t(n){var i;let o=n;return ht.defined(o)&&xi.is(o.range)&&ht.string(o.message)&&(ht.number(o.severity)||ht.undefined(o.severity))&&(ht.integer(o.code)||ht.string(o.code)||ht.undefined(o.code))&&(ht.undefined(o.codeDescription)||ht.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(ht.string(o.source)||ht.undefined(o.source))&&(ht.undefined(o.relatedInformation)||ht.typedArray(o.relatedInformation,Ore.is))}r.is=t})(zx||(zx={}));(function(r){function e(n,i,...o){let s={title:n,command:i};return ht.defined(o)&&o.length>0&&(s.arguments=o),s}r.create=e;function t(n){let i=n;return ht.defined(i)&&ht.string(i.title)&&ht.string(i.command)}r.is=t})(XC||(XC={}));(function(r){function e(o,s){return{range:o,newText:s}}r.replace=e;function t(o,s){return{range:{start:o,end:o},newText:s}}r.insert=t;function n(o){return{range:o,newText:""}}r.del=n;function i(o){let s=o;return ht.objectLiteral(s)&&ht.string(s.newText)&&xi.is(s.range)}r.is=i})(tu||(tu={}));(function(r){function e(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&ht.string(i.label)&&(ht.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(ht.string(i.description)||i.description===void 0)}r.is=t})(Ire||(Ire={}));(function(r){function e(t){let n=t;return ht.string(n)}r.is=e})(Ux||(Ux={}));(function(r){function e(o,s,a){return{range:o,newText:s,annotationId:a}}r.replace=e;function t(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}r.insert=t;function n(o,s){return{range:o,newText:"",annotationId:s}}r.del=n;function i(o){let s=o;return tu.is(s)&&(Ire.is(s.annotationId)||Ux.is(s.annotationId))}r.is=i})(BOe||(BOe={}));(function(r){function e(n,i){return{textDocument:n,edits:i}}r.create=e;function t(n){let i=n;return ht.defined(i)&&Nre.is(i.textDocument)&&Array.isArray(i.edits)}r.is=t})(kre||(kre={}));(function(r){function e(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="create"&&ht.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||ht.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||ht.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Ux.is(i.annotationId))}r.is=t})(Are||(Are={}));(function(r){function e(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}r.create=e;function t(n){let i=n;return i&&i.kind==="rename"&&ht.string(i.oldUri)&&ht.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||ht.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||ht.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Ux.is(i.annotationId))}r.is=t})(Mre||(Mre={}));(function(r){function e(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}r.create=e;function t(n){let i=n;return i&&i.kind==="delete"&&ht.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||ht.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||ht.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Ux.is(i.annotationId))}r.is=t})(Lre||(Lre={}));(function(r){function e(t){let n=t;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>ht.string(i.kind)?Are.is(i)||Mre.is(i)||Lre.is(i):kre.is(i)))}r.is=e})(NM||(NM={}));(function(r){function e(n){return{uri:n}}r.create=e;function t(n){let i=n;return ht.defined(i)&&ht.string(i.uri)}r.is=t})($Oe||($Oe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return ht.defined(i)&&ht.string(i.uri)&&ht.integer(i.version)}r.is=t})(VOe||(VOe={}));(function(r){function e(n,i){return{uri:n,version:i}}r.create=e;function t(n){let i=n;return ht.defined(i)&&ht.string(i.uri)&&(i.version===null||ht.integer(i.version))}r.is=t})(Nre||(Nre={}));(function(r){function e(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}r.create=e;function t(n){let i=n;return ht.defined(i)&&ht.string(i.uri)&&ht.string(i.languageId)&&ht.integer(i.version)&&ht.string(i.text)}r.is=t})(GOe||(GOe={}));(function(r){r.PlainText="plaintext",r.Markdown="markdown";function e(t){let n=t;return n===r.PlainText||n===r.Markdown}r.is=e})(ig||(ig={}));(function(r){function e(t){let n=t;return ht.objectLiteral(t)&&ig.is(n.kind)&&ht.string(n.value)}r.is=e})(JT||(JT={}));(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(sd||(sd={}));(function(r){r.PlainText=1,r.Snippet=2})(Zh||(Zh={}));(function(r){r.Deprecated=1})(cW||(cW={}));(function(r){function e(n,i,o){return{newText:n,insert:i,replace:o}}r.create=e;function t(n){let i=n;return i&&ht.string(i.newText)&&xi.is(i.insert)&&xi.is(i.replace)}r.is=t})(uW||(uW={}));(function(r){r.asIs=1,r.adjustIndentation=2})(lW||(lW={}));(function(r){function e(t){let n=t;return n&&(ht.string(n.detail)||n.detail===void 0)&&(ht.string(n.description)||n.description===void 0)}r.is=e})(KOe||(KOe={}));(function(r){function e(t){return{label:t}}r.create=e})(dW||(dW={}));(function(r){function e(t,n){return{items:t||[],isIncomplete:!!n}}r.create=e})(fW||(fW={}));(function(r){function e(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=e;function t(n){let i=n;return ht.string(i)||ht.objectLiteral(i)&&ht.string(i.language)&&ht.string(i.value)}r.is=t})(Hx||(Hx={}));(function(r){function e(t){let n=t;return!!n&&ht.objectLiteral(n)&&(JT.is(n.contents)||Hx.is(n.contents)||ht.typedArray(n.contents,Hx.is))&&(t.range===void 0||xi.is(t.range))}r.is=e})(pW||(pW={}));(function(r){function e(t,n){return n?{label:t,documentation:n}:{label:t}}r.create=e})(YOe||(YOe={}));(function(r){function e(t,n,...i){let o={label:t};return ht.defined(n)&&(o.documentation=n),ht.defined(i)?o.parameters=i:o.parameters=[],o}r.create=e})(JOe||(JOe={}));(function(r){r.Text=1,r.Read=2,r.Write=3})(XT||(XT={}));(function(r){function e(t,n){let i={range:t};return ht.number(n)&&(i.kind=n),i}r.create=e})(hW||(hW={}));(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(Wx||(Wx={}));(function(r){r.Deprecated=1})(XOe||(XOe={}));(function(r){function e(t,n,i,o,s){let a={name:t,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}r.create=e})(Bx||(Bx={}));(function(r){function e(t,n,i,o){return o!==void 0?{name:t,kind:n,location:{uri:i,range:o}}:{name:t,kind:n,location:{uri:i}}}r.create=e})(QOe||(QOe={}));(function(r){function e(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}r.create=e;function t(n){let i=n;return i&&ht.string(i.name)&&ht.number(i.kind)&&xi.is(i.range)&&xi.is(i.selectionRange)&&(i.detail===void 0||ht.string(i.detail))&&(i.deprecated===void 0||ht.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}r.is=t})($x||($x={}));(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll"})(ZOe||(ZOe={}));(function(r){r.Invoked=1,r.Automatic=2})(mW||(mW={}));(function(r){function e(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}r.create=e;function t(n){let i=n;return ht.defined(i)&&ht.typedArray(i.diagnostics,zx.is)&&(i.only===void 0||ht.typedArray(i.only,ht.string))&&(i.triggerKind===void 0||i.triggerKind===mW.Invoked||i.triggerKind===mW.Automatic)}r.is=t})(eIe||(eIe={}));(function(r){function e(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):XC.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return i&&ht.string(i.title)&&(i.diagnostics===void 0||ht.typedArray(i.diagnostics,zx.is))&&(i.kind===void 0||ht.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||XC.is(i.command))&&(i.isPreferred===void 0||ht.boolean(i.isPreferred))&&(i.edit===void 0||NM.is(i.edit))}r.is=t})(tIe||(tIe={}));(function(r){function e(n,i){let o={range:n};return ht.defined(i)&&(o.data=i),o}r.create=e;function t(n){let i=n;return ht.defined(i)&&xi.is(i.range)&&(ht.undefined(i.command)||XC.is(i.command))}r.is=t})(rIe||(rIe={}));(function(r){function e(n,i){return{tabSize:n,insertSpaces:i}}r.create=e;function t(n){let i=n;return ht.defined(i)&&ht.uinteger(i.tabSize)&&ht.boolean(i.insertSpaces)}r.is=t})(gW||(gW={}));(function(r){function e(n,i,o){return{range:n,target:i,data:o}}r.create=e;function t(n){let i=n;return ht.defined(i)&&xi.is(i.range)&&(ht.undefined(i.target)||ht.string(i.target))}r.is=t})(vW||(vW={}));(function(r){function e(n,i){return{range:n,parent:i}}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&xi.is(i.range)&&(i.parent===void 0||r.is(i.parent))}r.is=t})(QT||(QT={}));(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator"})(nIe||(nIe={}));(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(iIe||(iIe={}));(function(r){function e(t){let n=t;return ht.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}r.is=e})(oIe||(oIe={}));(function(r){function e(n,i){return{range:n,text:i}}r.create=e;function t(n){let i=n;return i!=null&&xi.is(i.range)&&ht.string(i.text)}r.is=t})(sIe||(sIe={}));(function(r){function e(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}r.create=e;function t(n){let i=n;return i!=null&&xi.is(i.range)&&ht.boolean(i.caseSensitiveLookup)&&(ht.string(i.variableName)||i.variableName===void 0)}r.is=t})(aIe||(aIe={}));(function(r){function e(n,i){return{range:n,expression:i}}r.create=e;function t(n){let i=n;return i!=null&&xi.is(i.range)&&(ht.string(i.expression)||i.expression===void 0)}r.is=t})(cIe||(cIe={}));(function(r){function e(n,i){return{frameId:n,stoppedLocation:i}}r.create=e;function t(n){let i=n;return ht.defined(i)&&xi.is(n.stoppedLocation)}r.is=t})(uIe||(uIe={}));(function(r){r.Type=1,r.Parameter=2;function e(t){return t===1||t===2}r.is=e})(Fre||(Fre={}));(function(r){function e(n){return{value:n}}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&(i.tooltip===void 0||ht.string(i.tooltip)||JT.is(i.tooltip))&&(i.location===void 0||jx.is(i.location))&&(i.command===void 0||XC.is(i.command))}r.is=t})(qre||(qre={}));(function(r){function e(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}r.create=e;function t(n){let i=n;return ht.objectLiteral(i)&&qa.is(i.position)&&(ht.string(i.label)||ht.typedArray(i.label,qre.is))&&(i.kind===void 0||Fre.is(i.kind))&&i.textEdits===void 0||ht.typedArray(i.textEdits,tu.is)&&(i.tooltip===void 0||ht.string(i.tooltip)||JT.is(i.tooltip))&&(i.paddingLeft===void 0||ht.boolean(i.paddingLeft))&&(i.paddingRight===void 0||ht.boolean(i.paddingRight))}r.is=t})(lIe||(lIe={}));(function(r){function e(t){return{kind:"snippet",value:t}}r.createSnippet=e})(dIe||(dIe={}));(function(r){function e(t,n,i,o){return{insertText:t,filterText:n,range:i,command:o}}r.create=e})(fIe||(fIe={}));(function(r){function e(t){return{items:t}}r.create=e})(pIe||(pIe={}));(function(r){r.Invoked=0,r.Automatic=1})(hIe||(hIe={}));(function(r){function e(t,n){return{range:t,text:n}}r.create=e})(mIe||(mIe={}));(function(r){function e(t,n){return{triggerKind:t,selectedCompletionInfo:n}}r.create=e})(gIe||(gIe={}));(function(r){function e(t){let n=t;return ht.objectLiteral(n)&&Ere.is(n.uri)&&ht.string(n.name)}r.is=e})(vIe||(vIe={}));(function(r){function e(o,s,a,c){return new jre(o,s,a,c)}r.create=e;function t(o){let s=o;return!!(ht.defined(s)&&ht.string(s.uri)&&(ht.undefined(s.languageId)||ht.string(s.languageId))&&ht.uinteger(s.lineCount)&&ht.func(s.getText)&&ht.func(s.positionAt)&&ht.func(s.offsetAt))}r.is=t;function n(o,s){let a=o.getText(),c=i(s,(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),u=a.length;for(let l=c.length-1;l>=0;l--){let d=c[l],f=o.offsetAt(d.range.start),y=o.offsetAt(d.range.end);if(y<=u)a=a.substring(0,f)+d.newText+a.substring(y,a.length);else throw new Error("Overlapping edit");u=f}return a}r.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let l=0,d=0,f=0;for(;l<c.length&&d<u.length;)s(c[l],u[d])<=0?o[f++]=c[l++]:o[f++]=u[d++];for(;l<c.length;)o[f++]=c[l++];for(;d<u.length;)o[f++]=u[d++];return o}})(yIe||(yIe={}));jre=class{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],t=this._content,n=!0;for(let i=0;i<t.length;i++){n&&(e.push(i),n=!1);let o=t.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<t.length&&t.charAt(i+1)===`
`&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return qa.create(0,e);for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return qa.create(o,e-t[o])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(r){let e=Object.prototype.toString;function t(y){return typeof y<"u"}r.defined=t;function n(y){return typeof y>"u"}r.undefined=n;function i(y){return y===!0||y===!1}r.boolean=i;function o(y){return e.call(y)==="[object String]"}r.string=o;function s(y){return e.call(y)==="[object Number]"}r.number=s;function a(y,b,T){return e.call(y)==="[object Number]"&&b<=y&&y<=T}r.numberRange=a;function c(y){return e.call(y)==="[object Number]"&&-2147483648<=y&&y<=2147483647}r.integer=c;function u(y){return e.call(y)==="[object Number]"&&0<=y&&y<=2147483647}r.uinteger=u;function l(y){return e.call(y)==="[object Function]"}r.func=l;function d(y){return y!==null&&typeof y=="object"}r.objectLiteral=d;function f(y,b){return Array.isArray(y)&&y.every(b)}r.typedArray=f})(ht||(ht={}))});var CIe={};NO(CIe,{TextDocument:()=>ZT});function zre(r,e){if(r.length<=1)return r;let t=r.length/2|0,n=r.slice(0,t),i=r.slice(t);zre(n,e),zre(i,e);let o=0,s=0,a=0;for(;o<n.length&&s<i.length;)e(n[o],i[s])<=0?r[a++]=n[o++]:r[a++]=i[s++];for(;o<n.length;)r[a++]=n[o++];for(;s<i.length;)r[a++]=i[s++];return r}function _Ie(r,e,t=0){let n=e?[t]:[];for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);wIe(o)&&(o===13&&i+1<r.length&&r.charCodeAt(i+1)===10&&i++,n.push(t+i+1))}return n}function wIe(r){return r===13||r===10}function SIe(r){let e=r.start,t=r.end;return e.line>t.line||e.line===t.line&&e.character>t.character?{start:t,end:e}:r}function t_t(r){let e=SIe(r.range);return e!==r.range?{newText:r.newText,range:e}:r}var yW,ZT,bW=Ti(()=>{"use strict";yW=class r{constructor(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content}update(e,t){for(let n of e)if(r.isIncremental(n)){let i=SIe(n.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,l=_Ie(n.text,!1,o);if(c-a===l.length)for(let f=0,y=l.length;f<y;f++)u[f+a+1]=l[f];else l.length<1e4?u.splice(a+1,c-a,...l):this._lineOffsets=u=u.slice(0,a+1).concat(l,u.slice(c+1));let d=n.text.length-(s-o);if(d!==0)for(let f=a+1+l.length,y=u.length;f<y;f++)u[f]=u[f]+d}else if(r.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=t}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=_Ie(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),n=0,i=t.length;if(i===0)return{line:0,character:e};for(;n<i;){let s=Math.floor((n+i)/2);t[s]>e?i=s:n=s+1}let o=n-1;return e=this.ensureBeforeEOL(e,t[o]),{line:o,character:e-t[o]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let n=t[e.line];if(e.character<=0)return n;let i=e.line+1<t.length?t[e.line+1]:this._content.length,o=Math.min(n+e.character,i);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(e,t){for(;e>t&&wIe(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range!==void 0&&(t.rangeLength===void 0||typeof t.rangeLength=="number")}static isFull(e){let t=e;return t!=null&&typeof t.text=="string"&&t.range===void 0&&t.rangeLength===void 0}};(function(r){function e(i,o,s,a){return new yW(i,o,s,a)}r.create=e;function t(i,o,s){if(i instanceof yW)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}r.update=t;function n(i,o){let s=i.getText(),a=zre(o.map(t_t),(l,d)=>{let f=l.range.start.line-d.range.start.line;return f===0?l.range.start.character-d.range.start.character:f}),c=0,u=[];for(let l of a){let d=i.offsetAt(l.range.start);if(d<c)throw new Error("Overlapping edit");d>c&&u.push(s.substring(c,d)),l.newText.length&&u.push(l.newText),c=i.offsetAt(l.range.end)}return u.push(s.substr(c)),u.join("")}r.applyEdits=n})(ZT||(ZT={}))});var Qt,Kn,Ure,FM,em=Ti(()=>{bIe();bW();(function(r){r[r.StartCommentTag=0]="StartCommentTag",r[r.Comment=1]="Comment",r[r.EndCommentTag=2]="EndCommentTag",r[r.StartTagOpen=3]="StartTagOpen",r[r.StartTagClose=4]="StartTagClose",r[r.StartTagSelfClose=5]="StartTagSelfClose",r[r.StartTag=6]="StartTag",r[r.EndTagOpen=7]="EndTagOpen",r[r.EndTagClose=8]="EndTagClose",r[r.EndTag=9]="EndTag",r[r.DelimiterAssign=10]="DelimiterAssign",r[r.AttributeName=11]="AttributeName",r[r.AttributeValue=12]="AttributeValue",r[r.StartDoctypeTag=13]="StartDoctypeTag",r[r.Doctype=14]="Doctype",r[r.EndDoctypeTag=15]="EndDoctypeTag",r[r.Content=16]="Content",r[r.Whitespace=17]="Whitespace",r[r.Unknown=18]="Unknown",r[r.Script=19]="Script",r[r.Styles=20]="Styles",r[r.EOS=21]="EOS"})(Qt||(Qt={}));(function(r){r[r.WithinContent=0]="WithinContent",r[r.AfterOpeningStartTag=1]="AfterOpeningStartTag",r[r.AfterOpeningEndTag=2]="AfterOpeningEndTag",r[r.WithinDoctype=3]="WithinDoctype",r[r.WithinTag=4]="WithinTag",r[r.WithinEndTag=5]="WithinEndTag",r[r.WithinComment=6]="WithinComment",r[r.WithinScriptContent=7]="WithinScriptContent",r[r.WithinStyleContent=8]="WithinStyleContent",r[r.AfterAttributeName=9]="AfterAttributeName",r[r.BeforeAttributeValue=10]="BeforeAttributeValue"})(Kn||(Kn={}));(function(r){r.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[ig.Markdown,ig.PlainText]}},hover:{contentFormat:[ig.Markdown,ig.PlainText]}}}})(Ure||(Ure={}));(function(r){r[r.Unknown=0]="Unknown",r[r.File=1]="File",r[r.Directory=2]="Directory",r[r.SymbolicLink=64]="SymbolicLink"})(FM||(FM={}))});function Ru(r,e=0,t=Kn.WithinContent,n=!1){let i=new Wre(r,e),o=t,s=0,a=Qt.Unknown,c,u,l,d,f;function y(){return i.advanceIfRegExp(/^[_:\w][_:\w-.\d]*/).toLowerCase()}function b(){return i.advanceIfRegExp(/^[^\s"'></=\x00-\x0F\x7F\x80-\x9F]*/).toLowerCase()}function T(A,U,ne){return a=U,s=A,c=ne,U}function k(){let A=i.pos(),U=o,ne=z();return ne!==Qt.EOS&&A===i.pos()&&!(n&&(ne===Qt.StartTagClose||ne===Qt.EndTagClose))?(console.warn("Scanner.scan has not advanced at offset "+A+", state before: "+U+" after: "+o),i.advance(1),T(A,Qt.Unknown)):ne}function z(){let A=i.pos();if(i.eos())return T(A,Qt.EOS);let U;switch(o){case Kn.WithinComment:return i.advanceIfChars([Vx,Vx,f_])?(o=Kn.WithinContent,T(A,Qt.EndCommentTag)):(i.advanceUntilChars([Vx,Vx,f_]),T(A,Qt.Comment));case Kn.WithinDoctype:return i.advanceIfChar(f_)?(o=Kn.WithinContent,T(A,Qt.EndDoctypeTag)):(i.advanceUntilChar(f_),T(A,Qt.Doctype));case Kn.WithinContent:if(i.advanceIfChar(_W)){if(!i.eos()&&i.peekChar()===DIe){if(i.advanceIfChars([DIe,Vx,Vx]))return o=Kn.WithinComment,T(A,Qt.StartCommentTag);if(i.advanceIfRegExp(/^!doctype/i))return o=Kn.WithinDoctype,T(A,Qt.StartDoctypeTag)}return i.advanceIfChar(Hre)?(o=Kn.AfterOpeningEndTag,T(A,Qt.EndTagOpen)):(o=Kn.AfterOpeningStartTag,T(A,Qt.StartTagOpen))}return i.advanceUntilChar(_W),T(A,Qt.Content);case Kn.AfterOpeningEndTag:return y().length>0?(o=Kn.WithinEndTag,T(A,Qt.EndTag)):i.skipWhitespace()?T(A,Qt.Whitespace,Jw.t("Tag name must directly follow the open bracket.")):(o=Kn.WithinEndTag,i.advanceUntilChar(f_),A<i.pos()?T(A,Qt.Unknown,Jw.t("End tag name expected.")):z());case Kn.WithinEndTag:if(i.skipWhitespace())return T(A,Qt.Whitespace);if(i.advanceIfChar(f_))return o=Kn.WithinContent,T(A,Qt.EndTagClose);if(n&&i.peekChar()===_W)return o=Kn.WithinContent,T(A,Qt.EndTagClose,Jw.t("Closing bracket missing."));U=Jw.t("Closing bracket expected.");break;case Kn.AfterOpeningStartTag:return l=y(),f=void 0,d=void 0,l.length>0?(u=!1,o=Kn.WithinTag,T(A,Qt.StartTag)):i.skipWhitespace()?T(A,Qt.Whitespace,Jw.t("Tag name must directly follow the open bracket.")):(o=Kn.WithinTag,i.advanceUntilChar(f_),A<i.pos()?T(A,Qt.Unknown,Jw.t("Start tag name expected.")):z());case Kn.WithinTag:return i.skipWhitespace()?(u=!0,T(A,Qt.Whitespace)):u&&(d=b(),d.length>0)?(o=Kn.AfterAttributeName,u=!1,T(A,Qt.AttributeName)):i.advanceIfChars([Hre,f_])?(o=Kn.WithinContent,T(A,Qt.StartTagSelfClose)):i.advanceIfChar(f_)?(l==="script"?f&&l_t[f]?o=Kn.WithinContent:o=Kn.WithinScriptContent:l==="style"?o=Kn.WithinStyleContent:o=Kn.WithinContent,T(A,Qt.StartTagClose)):n&&i.peekChar()===_W?(o=Kn.WithinContent,T(A,Qt.StartTagClose,Jw.t("Closing bracket missing."))):(i.advance(1),T(A,Qt.Unknown,Jw.t("Unexpected character in tag.")));case Kn.AfterAttributeName:return i.skipWhitespace()?(u=!0,T(A,Qt.Whitespace)):i.advanceIfChar(r_t)?(o=Kn.BeforeAttributeValue,T(A,Qt.DelimiterAssign)):(o=Kn.WithinTag,z());case Kn.BeforeAttributeValue:if(i.skipWhitespace())return T(A,Qt.Whitespace);let de=i.advanceIfRegExp(/^[^\s"'`=<>]+/);if(de.length>0&&(i.peekChar()===f_&&i.peekChar(-1)===Hre&&(i.goBack(1),de=de.substring(0,de.length-1)),d==="type"&&(f=de),de.length>0))return o=Kn.WithinTag,u=!1,T(A,Qt.AttributeValue);let ve=i.peekChar();return ve===i_t||ve===n_t?(i.advance(1),i.advanceUntilChar(ve)&&i.advance(1),d==="type"&&(f=i.getSource().substring(A+1,i.pos()-1)),o=Kn.WithinTag,u=!1,T(A,Qt.AttributeValue)):(o=Kn.WithinTag,u=!1,z());case Kn.WithinScriptContent:let $=1;for(;!i.eos();){let W=i.advanceIfRegExp(/<!--|-->|<\/?script\s*\/?>?/i);if(W.length===0)return i.goToEnd(),T(A,Qt.Script);if(W==="<!--")$===1&&($=2);else if(W==="-->")$=1;else if(W[1]!=="/")$===2&&($=3);else if($===3)$=2;else{i.goBack(W.length);break}}return o=Kn.WithinContent,A<i.pos()?T(A,Qt.Script):z();case Kn.WithinStyleContent:return i.advanceUntilRegExp(/<\/style/i),o=Kn.WithinContent,A<i.pos()?T(A,Qt.Styles):z()}return i.advance(1),o=Kn.WithinContent,T(A,Qt.Unknown,U)}return{scan:k,getTokenType:()=>a,getTokenOffset:()=>s,getTokenLength:()=>i.pos()-s,getTokenEnd:()=>i.pos(),getTokenText:()=>i.getSource().substring(s,i.pos()),getScannerState:()=>o,getTokenError:()=>c}}var Jw,Wre,DIe,Vx,_W,f_,Hre,r_t,n_t,i_t,o_t,s_t,a_t,c_t,u_t,l_t,Xw=Ti(()=>{Jw=be(rW());em();Wre=class{constructor(e,t){this.source=e,this.len=e.length,this.position=t}eos(){return this.len<=this.position}getSource(){return this.source}pos(){return this.position}goBackTo(e){this.position=e}goBack(e){this.position-=e}advance(e){this.position+=e}goToEnd(){this.position=this.source.length}nextChar(){return this.source.charCodeAt(this.position++)||0}peekChar(e=0){return this.source.charCodeAt(this.position+e)||0}advanceIfChar(e){return e===this.source.charCodeAt(this.position)?(this.position++,!0):!1}advanceIfChars(e){let t;if(this.position+e.length>this.source.length)return!1;for(t=0;t<e.length;t++)if(this.source.charCodeAt(this.position+t)!==e[t])return!1;return this.advance(t),!0}advanceIfRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index+n[0].length,n[0]):""}advanceUntilRegExp(e){let n=this.source.substr(this.position).match(e);return n?(this.position=this.position+n.index,n[0]):(this.goToEnd(),"")}advanceUntilChar(e){for(;this.position<this.source.length;){if(this.source.charCodeAt(this.position)===e)return!0;this.advance(1)}return!1}advanceUntilChars(e){for(;this.position+e.length<=this.source.length;){let t=0;for(;t<e.length&&this.source.charCodeAt(this.position+t)===e[t];t++);if(t===e.length)return!0;this.advance(1)}return this.goToEnd(),!1}skipWhitespace(){return this.advanceWhileChar(t=>t===c_t||t===u_t||t===o_t||t===a_t||t===s_t)>0}advanceWhileChar(e){let t=this.position;for(;this.position<this.len&&e(this.source.charCodeAt(this.position));)this.position++;return this.position-t}},DIe=33,Vx=45,_W=60,f_=62,Hre=47,r_t=61,n_t=34,i_t=39,o_t=10,s_t=13,a_t=12,c_t=32,u_t=9,l_t={"text/x-handlebars-template":!0,"text/html":!0}});function Bre(r,e){let t=0,n=r.length;if(n===0)return 0;for(;t<n;){let i=Math.floor((t+n)/2);e(r[i])?n=i:t=i+1}return t}function TIe(r,e,t){let n=0,i=r.length-1;for(;n<=i;){let o=(n+i)/2|0,s=t(r[o],e);if(s<0)n=o+1;else if(s>0)i=o-1;else return o}return-(n+1)}var $re=Ti(()=>{});var wW,SW,PIe=Ti(()=>{Xw();$re();em();wW=class{get attributeNames(){return this.attributes?Object.keys(this.attributes):[]}constructor(e,t,n,i){this.start=e,this.end=t,this.children=n,this.parent=i,this.closed=!1}isSameTag(e){return this.tag===void 0?e===void 0:e!==void 0&&this.tag.length===e.length&&this.tag.toLowerCase()===e}get firstChild(){return this.children[0]}get lastChild(){return this.children.length?this.children[this.children.length-1]:void 0}findNodeBefore(e){let t=Bre(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start){if(e<n.end)return n.findNodeBefore(e);let i=n.lastChild;return i&&i.end===n.end?n.findNodeBefore(e):n}}return this}findNodeAt(e){let t=Bre(this.children,n=>e<=n.start)-1;if(t>=0){let n=this.children[t];if(e>n.start&&e<=n.end)return n.findNodeAt(e)}return this}},SW=class{constructor(e){this.dataManager=e}parseDocument(e){return this.parse(e.getText(),this.dataManager.getVoidElements(e.languageId))}parse(e,t){let n=Ru(e,void 0,void 0,!0),i=new wW(0,e.length,[],void 0),o=i,s=-1,a,c=null,u=n.scan();for(;u!==Qt.EOS;){switch(u){case Qt.StartTagOpen:let l=new wW(n.getTokenOffset(),e.length,[],o);o.children.push(l),o=l;break;case Qt.StartTag:o.tag=n.getTokenText();break;case Qt.StartTagClose:o.parent&&(o.end=n.getTokenEnd(),n.getTokenLength()?(o.startTagEnd=n.getTokenEnd(),o.tag&&this.dataManager.isVoidElement(o.tag,t)&&(o.closed=!0,o=o.parent)):o=o.parent);break;case Qt.StartTagSelfClose:o.parent&&(o.closed=!0,o.end=n.getTokenEnd(),o.startTagEnd=n.getTokenEnd(),o=o.parent);break;case Qt.EndTagOpen:s=n.getTokenOffset(),a=void 0;break;case Qt.EndTag:a=n.getTokenText().toLowerCase();break;case Qt.EndTagClose:let d=o;for(;!d.isSameTag(a)&&d.parent;)d=d.parent;if(d.parent){for(;o!==d;)o.end=s,o.closed=!1,o=o.parent;o.closed=!0,o.endTagStart=s,o.end=n.getTokenEnd(),o=o.parent}break;case Qt.AttributeName:{c=n.getTokenText();let f=o.attributes;f||(o.attributes=f={}),f[c]=null;break}case Qt.AttributeValue:{let f=n.getTokenText(),y=o.attributes;y&&c&&(y[c]=f,c=null);break}}u=n.scan()}for(;o.parent;)o.end=e.length,o.closed=!1,o=o.parent;return{roots:i.children,findNodeBefore:i.findNodeBefore.bind(i),findNodeAt:i.findNodeAt.bind(i)}}}});var e0,Vre=Ti(()=>{e0={"Aacute;":"\xC1",Aacute:"\xC1","aacute;":"\xE1",aacute:"\xE1","Abreve;":"\u0102","abreve;":"\u0103","ac;":"\u223E","acd;":"\u223F","acE;":"\u223E\u0333","Acirc;":"\xC2",Acirc:"\xC2","acirc;":"\xE2",acirc:"\xE2","acute;":"\xB4",acute:"\xB4","Acy;":"\u0410","acy;":"\u0430","AElig;":"\xC6",AElig:"\xC6","aelig;":"\xE6",aelig:"\xE6","af;":"\u2061","Afr;":"\u{1D504}","afr;":"\u{1D51E}","Agrave;":"\xC0",Agrave:"\xC0","agrave;":"\xE0",agrave:"\xE0","alefsym;":"\u2135","aleph;":"\u2135","Alpha;":"\u0391","alpha;":"\u03B1","Amacr;":"\u0100","amacr;":"\u0101","amalg;":"\u2A3F","AMP;":"&",AMP:"&","amp;":"&",amp:"&","And;":"\u2A53","and;":"\u2227","andand;":"\u2A55","andd;":"\u2A5C","andslope;":"\u2A58","andv;":"\u2A5A","ang;":"\u2220","ange;":"\u29A4","angle;":"\u2220","angmsd;":"\u2221","angmsdaa;":"\u29A8","angmsdab;":"\u29A9","angmsdac;":"\u29AA","angmsdad;":"\u29AB","angmsdae;":"\u29AC","angmsdaf;":"\u29AD","angmsdag;":"\u29AE","angmsdah;":"\u29AF","angrt;":"\u221F","angrtvb;":"\u22BE","angrtvbd;":"\u299D","angsph;":"\u2222","angst;":"\xC5","angzarr;":"\u237C","Aogon;":"\u0104","aogon;":"\u0105","Aopf;":"\u{1D538}","aopf;":"\u{1D552}","ap;":"\u2248","apacir;":"\u2A6F","apE;":"\u2A70","ape;":"\u224A","apid;":"\u224B","apos;":"'","ApplyFunction;":"\u2061","approx;":"\u2248","approxeq;":"\u224A","Aring;":"\xC5",Aring:"\xC5","aring;":"\xE5",aring:"\xE5","Ascr;":"\u{1D49C}","ascr;":"\u{1D4B6}","Assign;":"\u2254","ast;":"*","asymp;":"\u2248","asympeq;":"\u224D","Atilde;":"\xC3",Atilde:"\xC3","atilde;":"\xE3",atilde:"\xE3","Auml;":"\xC4",Auml:"\xC4","auml;":"\xE4",auml:"\xE4","awconint;":"\u2233","awint;":"\u2A11","backcong;":"\u224C","backepsilon;":"\u03F6","backprime;":"\u2035","backsim;":"\u223D","backsimeq;":"\u22CD","Backslash;":"\u2216","Barv;":"\u2AE7","barvee;":"\u22BD","Barwed;":"\u2306","barwed;":"\u2305","barwedge;":"\u2305","bbrk;":"\u23B5","bbrktbrk;":"\u23B6","bcong;":"\u224C","Bcy;":"\u0411","bcy;":"\u0431","bdquo;":"\u201E","becaus;":"\u2235","Because;":"\u2235","because;":"\u2235","bemptyv;":"\u29B0","bepsi;":"\u03F6","bernou;":"\u212C","Bernoullis;":"\u212C","Beta;":"\u0392","beta;":"\u03B2","beth;":"\u2136","between;":"\u226C","Bfr;":"\u{1D505}","bfr;":"\u{1D51F}","bigcap;":"\u22C2","bigcirc;":"\u25EF","bigcup;":"\u22C3","bigodot;":"\u2A00","bigoplus;":"\u2A01","bigotimes;":"\u2A02","bigsqcup;":"\u2A06","bigstar;":"\u2605","bigtriangledown;":"\u25BD","bigtriangleup;":"\u25B3","biguplus;":"\u2A04","bigvee;":"\u22C1","bigwedge;":"\u22C0","bkarow;":"\u290D","blacklozenge;":"\u29EB","blacksquare;":"\u25AA","blacktriangle;":"\u25B4","blacktriangledown;":"\u25BE","blacktriangleleft;":"\u25C2","blacktriangleright;":"\u25B8","blank;":"\u2423","blk12;":"\u2592","blk14;":"\u2591","blk34;":"\u2593","block;":"\u2588","bne;":"=\u20E5","bnequiv;":"\u2261\u20E5","bNot;":"\u2AED","bnot;":"\u2310","Bopf;":"\u{1D539}","bopf;":"\u{1D553}","bot;":"\u22A5","bottom;":"\u22A5","bowtie;":"\u22C8","boxbox;":"\u29C9","boxDL;":"\u2557","boxDl;":"\u2556","boxdL;":"\u2555","boxdl;":"\u2510","boxDR;":"\u2554","boxDr;":"\u2553","boxdR;":"\u2552","boxdr;":"\u250C","boxH;":"\u2550","boxh;":"\u2500","boxHD;":"\u2566","boxHd;":"\u2564","boxhD;":"\u2565","boxhd;":"\u252C","boxHU;":"\u2569","boxHu;":"\u2567","boxhU;":"\u2568","boxhu;":"\u2534","boxminus;":"\u229F","boxplus;":"\u229E","boxtimes;":"\u22A0","boxUL;":"\u255D","boxUl;":"\u255C","boxuL;":"\u255B","boxul;":"\u2518","boxUR;":"\u255A","boxUr;":"\u2559","boxuR;":"\u2558","boxur;":"\u2514","boxV;":"\u2551","boxv;":"\u2502","boxVH;":"\u256C","boxVh;":"\u256B","boxvH;":"\u256A","boxvh;":"\u253C","boxVL;":"\u2563","boxVl;":"\u2562","boxvL;":"\u2561","boxvl;":"\u2524","boxVR;":"\u2560","boxVr;":"\u255F","boxvR;":"\u255E","boxvr;":"\u251C","bprime;":"\u2035","Breve;":"\u02D8","breve;":"\u02D8","brvbar;":"\xA6",brvbar:"\xA6","Bscr;":"\u212C","bscr;":"\u{1D4B7}","bsemi;":"\u204F","bsim;":"\u223D","bsime;":"\u22CD","bsol;":"\\","bsolb;":"\u29C5","bsolhsub;":"\u27C8","bull;":"\u2022","bullet;":"\u2022","bump;":"\u224E","bumpE;":"\u2AAE","bumpe;":"\u224F","Bumpeq;":"\u224E","bumpeq;":"\u224F","Cacute;":"\u0106","cacute;":"\u0107","Cap;":"\u22D2","cap;":"\u2229","capand;":"\u2A44","capbrcup;":"\u2A49","capcap;":"\u2A4B","capcup;":"\u2A47","capdot;":"\u2A40","CapitalDifferentialD;":"\u2145","caps;":"\u2229\uFE00","caret;":"\u2041","caron;":"\u02C7","Cayleys;":"\u212D","ccaps;":"\u2A4D","Ccaron;":"\u010C","ccaron;":"\u010D","Ccedil;":"\xC7",Ccedil:"\xC7","ccedil;":"\xE7",ccedil:"\xE7","Ccirc;":"\u0108","ccirc;":"\u0109","Cconint;":"\u2230","ccups;":"\u2A4C","ccupssm;":"\u2A50","Cdot;":"\u010A","cdot;":"\u010B","cedil;":"\xB8",cedil:"\xB8","Cedilla;":"\xB8","cemptyv;":"\u29B2","cent;":"\xA2",cent:"\xA2","CenterDot;":"\xB7","centerdot;":"\xB7","Cfr;":"\u212D","cfr;":"\u{1D520}","CHcy;":"\u0427","chcy;":"\u0447","check;":"\u2713","checkmark;":"\u2713","Chi;":"\u03A7","chi;":"\u03C7","cir;":"\u25CB","circ;":"\u02C6","circeq;":"\u2257","circlearrowleft;":"\u21BA","circlearrowright;":"\u21BB","circledast;":"\u229B","circledcirc;":"\u229A","circleddash;":"\u229D","CircleDot;":"\u2299","circledR;":"\xAE","circledS;":"\u24C8","CircleMinus;":"\u2296","CirclePlus;":"\u2295","CircleTimes;":"\u2297","cirE;":"\u29C3","cire;":"\u2257","cirfnint;":"\u2A10","cirmid;":"\u2AEF","cirscir;":"\u29C2","ClockwiseContourIntegral;":"\u2232","CloseCurlyDoubleQuote;":"\u201D","CloseCurlyQuote;":"\u2019","clubs;":"\u2663","clubsuit;":"\u2663","Colon;":"\u2237","colon;":":","Colone;":"\u2A74","colone;":"\u2254","coloneq;":"\u2254","comma;":",","commat;":"@","comp;":"\u2201","compfn;":"\u2218","complement;":"\u2201","complexes;":"\u2102","cong;":"\u2245","congdot;":"\u2A6D","Congruent;":"\u2261","Conint;":"\u222F","conint;":"\u222E","ContourIntegral;":"\u222E","Copf;":"\u2102","copf;":"\u{1D554}","coprod;":"\u2210","Coproduct;":"\u2210","COPY;":"\xA9",COPY:"\xA9","copy;":"\xA9",copy:"\xA9","copysr;":"\u2117","CounterClockwiseContourIntegral;":"\u2233","crarr;":"\u21B5","Cross;":"\u2A2F","cross;":"\u2717","Cscr;":"\u{1D49E}","cscr;":"\u{1D4B8}","csub;":"\u2ACF","csube;":"\u2AD1","csup;":"\u2AD0","csupe;":"\u2AD2","ctdot;":"\u22EF","cudarrl;":"\u2938","cudarrr;":"\u2935","cuepr;":"\u22DE","cuesc;":"\u22DF","cularr;":"\u21B6","cularrp;":"\u293D","Cup;":"\u22D3","cup;":"\u222A","cupbrcap;":"\u2A48","CupCap;":"\u224D","cupcap;":"\u2A46","cupcup;":"\u2A4A","cupdot;":"\u228D","cupor;":"\u2A45","cups;":"\u222A\uFE00","curarr;":"\u21B7","curarrm;":"\u293C","curlyeqprec;":"\u22DE","curlyeqsucc;":"\u22DF","curlyvee;":"\u22CE","curlywedge;":"\u22CF","curren;":"\xA4",curren:"\xA4","curvearrowleft;":"\u21B6","curvearrowright;":"\u21B7","cuvee;":"\u22CE","cuwed;":"\u22CF","cwconint;":"\u2232","cwint;":"\u2231","cylcty;":"\u232D","Dagger;":"\u2021","dagger;":"\u2020","daleth;":"\u2138","Darr;":"\u21A1","dArr;":"\u21D3","darr;":"\u2193","dash;":"\u2010","Dashv;":"\u2AE4","dashv;":"\u22A3","dbkarow;":"\u290F","dblac;":"\u02DD","Dcaron;":"\u010E","dcaron;":"\u010F","Dcy;":"\u0414","dcy;":"\u0434","DD;":"\u2145","dd;":"\u2146","ddagger;":"\u2021","ddarr;":"\u21CA","DDotrahd;":"\u2911","ddotseq;":"\u2A77","deg;":"\xB0",deg:"\xB0","Del;":"\u2207","Delta;":"\u0394","delta;":"\u03B4","demptyv;":"\u29B1","dfisht;":"\u297F","Dfr;":"\u{1D507}","dfr;":"\u{1D521}","dHar;":"\u2965","dharl;":"\u21C3","dharr;":"\u21C2","DiacriticalAcute;":"\xB4","DiacriticalDot;":"\u02D9","DiacriticalDoubleAcute;":"\u02DD","DiacriticalGrave;":"`","DiacriticalTilde;":"\u02DC","diam;":"\u22C4","Diamond;":"\u22C4","diamond;":"\u22C4","diamondsuit;":"\u2666","diams;":"\u2666","die;":"\xA8","DifferentialD;":"\u2146","digamma;":"\u03DD","disin;":"\u22F2","div;":"\xF7","divide;":"\xF7",divide:"\xF7","divideontimes;":"\u22C7","divonx;":"\u22C7","DJcy;":"\u0402","djcy;":"\u0452","dlcorn;":"\u231E","dlcrop;":"\u230D","dollar;":"$","Dopf;":"\u{1D53B}","dopf;":"\u{1D555}","Dot;":"\xA8","dot;":"\u02D9","DotDot;":"\u20DC","doteq;":"\u2250","doteqdot;":"\u2251","DotEqual;":"\u2250","dotminus;":"\u2238","dotplus;":"\u2214","dotsquare;":"\u22A1","doublebarwedge;":"\u2306","DoubleContourIntegral;":"\u222F","DoubleDot;":"\xA8","DoubleDownArrow;":"\u21D3","DoubleLeftArrow;":"\u21D0","DoubleLeftRightArrow;":"\u21D4","DoubleLeftTee;":"\u2AE4","DoubleLongLeftArrow;":"\u27F8","DoubleLongLeftRightArrow;":"\u27FA","DoubleLongRightArrow;":"\u27F9","DoubleRightArrow;":"\u21D2","DoubleRightTee;":"\u22A8","DoubleUpArrow;":"\u21D1","DoubleUpDownArrow;":"\u21D5","DoubleVerticalBar;":"\u2225","DownArrow;":"\u2193","Downarrow;":"\u21D3","downarrow;":"\u2193","DownArrowBar;":"\u2913","DownArrowUpArrow;":"\u21F5","DownBreve;":"\u0311","downdownarrows;":"\u21CA","downharpoonleft;":"\u21C3","downharpoonright;":"\u21C2","DownLeftRightVector;":"\u2950","DownLeftTeeVector;":"\u295E","DownLeftVector;":"\u21BD","DownLeftVectorBar;":"\u2956","DownRightTeeVector;":"\u295F","DownRightVector;":"\u21C1","DownRightVectorBar;":"\u2957","DownTee;":"\u22A4","DownTeeArrow;":"\u21A7","drbkarow;":"\u2910","drcorn;":"\u231F","drcrop;":"\u230C","Dscr;":"\u{1D49F}","dscr;":"\u{1D4B9}","DScy;":"\u0405","dscy;":"\u0455","dsol;":"\u29F6","Dstrok;":"\u0110","dstrok;":"\u0111","dtdot;":"\u22F1","dtri;":"\u25BF","dtrif;":"\u25BE","duarr;":"\u21F5","duhar;":"\u296F","dwangle;":"\u29A6","DZcy;":"\u040F","dzcy;":"\u045F","dzigrarr;":"\u27FF","Eacute;":"\xC9",Eacute:"\xC9","eacute;":"\xE9",eacute:"\xE9","easter;":"\u2A6E","Ecaron;":"\u011A","ecaron;":"\u011B","ecir;":"\u2256","Ecirc;":"\xCA",Ecirc:"\xCA","ecirc;":"\xEA",ecirc:"\xEA","ecolon;":"\u2255","Ecy;":"\u042D","ecy;":"\u044D","eDDot;":"\u2A77","Edot;":"\u0116","eDot;":"\u2251","edot;":"\u0117","ee;":"\u2147","efDot;":"\u2252","Efr;":"\u{1D508}","efr;":"\u{1D522}","eg;":"\u2A9A","Egrave;":"\xC8",Egrave:"\xC8","egrave;":"\xE8",egrave:"\xE8","egs;":"\u2A96","egsdot;":"\u2A98","el;":"\u2A99","Element;":"\u2208","elinters;":"\u23E7","ell;":"\u2113","els;":"\u2A95","elsdot;":"\u2A97","Emacr;":"\u0112","emacr;":"\u0113","empty;":"\u2205","emptyset;":"\u2205","EmptySmallSquare;":"\u25FB","emptyv;":"\u2205","EmptyVerySmallSquare;":"\u25AB","emsp;":"\u2003","emsp13;":"\u2004","emsp14;":"\u2005","ENG;":"\u014A","eng;":"\u014B","ensp;":"\u2002","Eogon;":"\u0118","eogon;":"\u0119","Eopf;":"\u{1D53C}","eopf;":"\u{1D556}","epar;":"\u22D5","eparsl;":"\u29E3","eplus;":"\u2A71","epsi;":"\u03B5","Epsilon;":"\u0395","epsilon;":"\u03B5","epsiv;":"\u03F5","eqcirc;":"\u2256","eqcolon;":"\u2255","eqsim;":"\u2242","eqslantgtr;":"\u2A96","eqslantless;":"\u2A95","Equal;":"\u2A75","equals;":"=","EqualTilde;":"\u2242","equest;":"\u225F","Equilibrium;":"\u21CC","equiv;":"\u2261","equivDD;":"\u2A78","eqvparsl;":"\u29E5","erarr;":"\u2971","erDot;":"\u2253","Escr;":"\u2130","escr;":"\u212F","esdot;":"\u2250","Esim;":"\u2A73","esim;":"\u2242","Eta;":"\u0397","eta;":"\u03B7","ETH;":"\xD0",ETH:"\xD0","eth;":"\xF0",eth:"\xF0","Euml;":"\xCB",Euml:"\xCB","euml;":"\xEB",euml:"\xEB","euro;":"\u20AC","excl;":"!","exist;":"\u2203","Exists;":"\u2203","expectation;":"\u2130","ExponentialE;":"\u2147","exponentiale;":"\u2147","fallingdotseq;":"\u2252","Fcy;":"\u0424","fcy;":"\u0444","female;":"\u2640","ffilig;":"\uFB03","fflig;":"\uFB00","ffllig;":"\uFB04","Ffr;":"\u{1D509}","ffr;":"\u{1D523}","filig;":"\uFB01","FilledSmallSquare;":"\u25FC","FilledVerySmallSquare;":"\u25AA","fjlig;":"fj","flat;":"\u266D","fllig;":"\uFB02","fltns;":"\u25B1","fnof;":"\u0192","Fopf;":"\u{1D53D}","fopf;":"\u{1D557}","ForAll;":"\u2200","forall;":"\u2200","fork;":"\u22D4","forkv;":"\u2AD9","Fouriertrf;":"\u2131","fpartint;":"\u2A0D","frac12;":"\xBD",frac12:"\xBD","frac13;":"\u2153","frac14;":"\xBC",frac14:"\xBC","frac15;":"\u2155","frac16;":"\u2159","frac18;":"\u215B","frac23;":"\u2154","frac25;":"\u2156","frac34;":"\xBE",frac34:"\xBE","frac35;":"\u2157","frac38;":"\u215C","frac45;":"\u2158","frac56;":"\u215A","frac58;":"\u215D","frac78;":"\u215E","frasl;":"\u2044","frown;":"\u2322","Fscr;":"\u2131","fscr;":"\u{1D4BB}","gacute;":"\u01F5","Gamma;":"\u0393","gamma;":"\u03B3","Gammad;":"\u03DC","gammad;":"\u03DD","gap;":"\u2A86","Gbreve;":"\u011E","gbreve;":"\u011F","Gcedil;":"\u0122","Gcirc;":"\u011C","gcirc;":"\u011D","Gcy;":"\u0413","gcy;":"\u0433","Gdot;":"\u0120","gdot;":"\u0121","gE;":"\u2267","ge;":"\u2265","gEl;":"\u2A8C","gel;":"\u22DB","geq;":"\u2265","geqq;":"\u2267","geqslant;":"\u2A7E","ges;":"\u2A7E","gescc;":"\u2AA9","gesdot;":"\u2A80","gesdoto;":"\u2A82","gesdotol;":"\u2A84","gesl;":"\u22DB\uFE00","gesles;":"\u2A94","Gfr;":"\u{1D50A}","gfr;":"\u{1D524}","Gg;":"\u22D9","gg;":"\u226B","ggg;":"\u22D9","gimel;":"\u2137","GJcy;":"\u0403","gjcy;":"\u0453","gl;":"\u2277","gla;":"\u2AA5","glE;":"\u2A92","glj;":"\u2AA4","gnap;":"\u2A8A","gnapprox;":"\u2A8A","gnE;":"\u2269","gne;":"\u2A88","gneq;":"\u2A88","gneqq;":"\u2269","gnsim;":"\u22E7","Gopf;":"\u{1D53E}","gopf;":"\u{1D558}","grave;":"`","GreaterEqual;":"\u2265","GreaterEqualLess;":"\u22DB","GreaterFullEqual;":"\u2267","GreaterGreater;":"\u2AA2","GreaterLess;":"\u2277","GreaterSlantEqual;":"\u2A7E","GreaterTilde;":"\u2273","Gscr;":"\u{1D4A2}","gscr;":"\u210A","gsim;":"\u2273","gsime;":"\u2A8E","gsiml;":"\u2A90","GT;":">",GT:">","Gt;":"\u226B","gt;":">",gt:">","gtcc;":"\u2AA7","gtcir;":"\u2A7A","gtdot;":"\u22D7","gtlPar;":"\u2995","gtquest;":"\u2A7C","gtrapprox;":"\u2A86","gtrarr;":"\u2978","gtrdot;":"\u22D7","gtreqless;":"\u22DB","gtreqqless;":"\u2A8C","gtrless;":"\u2277","gtrsim;":"\u2273","gvertneqq;":"\u2269\uFE00","gvnE;":"\u2269\uFE00","Hacek;":"\u02C7","hairsp;":"\u200A","half;":"\xBD","hamilt;":"\u210B","HARDcy;":"\u042A","hardcy;":"\u044A","hArr;":"\u21D4","harr;":"\u2194","harrcir;":"\u2948","harrw;":"\u21AD","Hat;":"^","hbar;":"\u210F","Hcirc;":"\u0124","hcirc;":"\u0125","hearts;":"\u2665","heartsuit;":"\u2665","hellip;":"\u2026","hercon;":"\u22B9","Hfr;":"\u210C","hfr;":"\u{1D525}","HilbertSpace;":"\u210B","hksearow;":"\u2925","hkswarow;":"\u2926","hoarr;":"\u21FF","homtht;":"\u223B","hookleftarrow;":"\u21A9","hookrightarrow;":"\u21AA","Hopf;":"\u210D","hopf;":"\u{1D559}","horbar;":"\u2015","HorizontalLine;":"\u2500","Hscr;":"\u210B","hscr;":"\u{1D4BD}","hslash;":"\u210F","Hstrok;":"\u0126","hstrok;":"\u0127","HumpDownHump;":"\u224E","HumpEqual;":"\u224F","hybull;":"\u2043","hyphen;":"\u2010","Iacute;":"\xCD",Iacute:"\xCD","iacute;":"\xED",iacute:"\xED","ic;":"\u2063","Icirc;":"\xCE",Icirc:"\xCE","icirc;":"\xEE",icirc:"\xEE","Icy;":"\u0418","icy;":"\u0438","Idot;":"\u0130","IEcy;":"\u0415","iecy;":"\u0435","iexcl;":"\xA1",iexcl:"\xA1","iff;":"\u21D4","Ifr;":"\u2111","ifr;":"\u{1D526}","Igrave;":"\xCC",Igrave:"\xCC","igrave;":"\xEC",igrave:"\xEC","ii;":"\u2148","iiiint;":"\u2A0C","iiint;":"\u222D","iinfin;":"\u29DC","iiota;":"\u2129","IJlig;":"\u0132","ijlig;":"\u0133","Im;":"\u2111","Imacr;":"\u012A","imacr;":"\u012B","image;":"\u2111","ImaginaryI;":"\u2148","imagline;":"\u2110","imagpart;":"\u2111","imath;":"\u0131","imof;":"\u22B7","imped;":"\u01B5","Implies;":"\u21D2","in;":"\u2208","incare;":"\u2105","infin;":"\u221E","infintie;":"\u29DD","inodot;":"\u0131","Int;":"\u222C","int;":"\u222B","intcal;":"\u22BA","integers;":"\u2124","Integral;":"\u222B","intercal;":"\u22BA","Intersection;":"\u22C2","intlarhk;":"\u2A17","intprod;":"\u2A3C","InvisibleComma;":"\u2063","InvisibleTimes;":"\u2062","IOcy;":"\u0401","iocy;":"\u0451","Iogon;":"\u012E","iogon;":"\u012F","Iopf;":"\u{1D540}","iopf;":"\u{1D55A}","Iota;":"\u0399","iota;":"\u03B9","iprod;":"\u2A3C","iquest;":"\xBF",iquest:"\xBF","Iscr;":"\u2110","iscr;":"\u{1D4BE}","isin;":"\u2208","isindot;":"\u22F5","isinE;":"\u22F9","isins;":"\u22F4","isinsv;":"\u22F3","isinv;":"\u2208","it;":"\u2062","Itilde;":"\u0128","itilde;":"\u0129","Iukcy;":"\u0406","iukcy;":"\u0456","Iuml;":"\xCF",Iuml:"\xCF","iuml;":"\xEF",iuml:"\xEF","Jcirc;":"\u0134","jcirc;":"\u0135","Jcy;":"\u0419","jcy;":"\u0439","Jfr;":"\u{1D50D}","jfr;":"\u{1D527}","jmath;":"\u0237","Jopf;":"\u{1D541}","jopf;":"\u{1D55B}","Jscr;":"\u{1D4A5}","jscr;":"\u{1D4BF}","Jsercy;":"\u0408","jsercy;":"\u0458","Jukcy;":"\u0404","jukcy;":"\u0454","Kappa;":"\u039A","kappa;":"\u03BA","kappav;":"\u03F0","Kcedil;":"\u0136","kcedil;":"\u0137","Kcy;":"\u041A","kcy;":"\u043A","Kfr;":"\u{1D50E}","kfr;":"\u{1D528}","kgreen;":"\u0138","KHcy;":"\u0425","khcy;":"\u0445","KJcy;":"\u040C","kjcy;":"\u045C","Kopf;":"\u{1D542}","kopf;":"\u{1D55C}","Kscr;":"\u{1D4A6}","kscr;":"\u{1D4C0}","lAarr;":"\u21DA","Lacute;":"\u0139","lacute;":"\u013A","laemptyv;":"\u29B4","lagran;":"\u2112","Lambda;":"\u039B","lambda;":"\u03BB","Lang;":"\u27EA","lang;":"\u27E8","langd;":"\u2991","langle;":"\u27E8","lap;":"\u2A85","Laplacetrf;":"\u2112","laquo;":"\xAB",laquo:"\xAB","Larr;":"\u219E","lArr;":"\u21D0","larr;":"\u2190","larrb;":"\u21E4","larrbfs;":"\u291F","larrfs;":"\u291D","larrhk;":"\u21A9","larrlp;":"\u21AB","larrpl;":"\u2939","larrsim;":"\u2973","larrtl;":"\u21A2","lat;":"\u2AAB","lAtail;":"\u291B","latail;":"\u2919","late;":"\u2AAD","lates;":"\u2AAD\uFE00","lBarr;":"\u290E","lbarr;":"\u290C","lbbrk;":"\u2772","lbrace;":"{","lbrack;":"[","lbrke;":"\u298B","lbrksld;":"\u298F","lbrkslu;":"\u298D","Lcaron;":"\u013D","lcaron;":"\u013E","Lcedil;":"\u013B","lcedil;":"\u013C","lceil;":"\u2308","lcub;":"{","Lcy;":"\u041B","lcy;":"\u043B","ldca;":"\u2936","ldquo;":"\u201C","ldquor;":"\u201E","ldrdhar;":"\u2967","ldrushar;":"\u294B","ldsh;":"\u21B2","lE;":"\u2266","le;":"\u2264","LeftAngleBracket;":"\u27E8","LeftArrow;":"\u2190","Leftarrow;":"\u21D0","leftarrow;":"\u2190","LeftArrowBar;":"\u21E4","LeftArrowRightArrow;":"\u21C6","leftarrowtail;":"\u21A2","LeftCeiling;":"\u2308","LeftDoubleBracket;":"\u27E6","LeftDownTeeVector;":"\u2961","LeftDownVector;":"\u21C3","LeftDownVectorBar;":"\u2959","LeftFloor;":"\u230A","leftharpoondown;":"\u21BD","leftharpoonup;":"\u21BC","leftleftarrows;":"\u21C7","LeftRightArrow;":"\u2194","Leftrightarrow;":"\u21D4","leftrightarrow;":"\u2194","leftrightarrows;":"\u21C6","leftrightharpoons;":"\u21CB","leftrightsquigarrow;":"\u21AD","LeftRightVector;":"\u294E","LeftTee;":"\u22A3","LeftTeeArrow;":"\u21A4","LeftTeeVector;":"\u295A","leftthreetimes;":"\u22CB","LeftTriangle;":"\u22B2","LeftTriangleBar;":"\u29CF","LeftTriangleEqual;":"\u22B4","LeftUpDownVector;":"\u2951","LeftUpTeeVector;":"\u2960","LeftUpVector;":"\u21BF","LeftUpVectorBar;":"\u2958","LeftVector;":"\u21BC","LeftVectorBar;":"\u2952","lEg;":"\u2A8B","leg;":"\u22DA","leq;":"\u2264","leqq;":"\u2266","leqslant;":"\u2A7D","les;":"\u2A7D","lescc;":"\u2AA8","lesdot;":"\u2A7F","lesdoto;":"\u2A81","lesdotor;":"\u2A83","lesg;":"\u22DA\uFE00","lesges;":"\u2A93","lessapprox;":"\u2A85","lessdot;":"\u22D6","lesseqgtr;":"\u22DA","lesseqqgtr;":"\u2A8B","LessEqualGreater;":"\u22DA","LessFullEqual;":"\u2266","LessGreater;":"\u2276","lessgtr;":"\u2276","LessLess;":"\u2AA1","lesssim;":"\u2272","LessSlantEqual;":"\u2A7D","LessTilde;":"\u2272","lfisht;":"\u297C","lfloor;":"\u230A","Lfr;":"\u{1D50F}","lfr;":"\u{1D529}","lg;":"\u2276","lgE;":"\u2A91","lHar;":"\u2962","lhard;":"\u21BD","lharu;":"\u21BC","lharul;":"\u296A","lhblk;":"\u2584","LJcy;":"\u0409","ljcy;":"\u0459","Ll;":"\u22D8","ll;":"\u226A","llarr;":"\u21C7","llcorner;":"\u231E","Lleftarrow;":"\u21DA","llhard;":"\u296B","lltri;":"\u25FA","Lmidot;":"\u013F","lmidot;":"\u0140","lmoust;":"\u23B0","lmoustache;":"\u23B0","lnap;":"\u2A89","lnapprox;":"\u2A89","lnE;":"\u2268","lne;":"\u2A87","lneq;":"\u2A87","lneqq;":"\u2268","lnsim;":"\u22E6","loang;":"\u27EC","loarr;":"\u21FD","lobrk;":"\u27E6","LongLeftArrow;":"\u27F5","Longleftarrow;":"\u27F8","longleftarrow;":"\u27F5","LongLeftRightArrow;":"\u27F7","Longleftrightarrow;":"\u27FA","longleftrightarrow;":"\u27F7","longmapsto;":"\u27FC","LongRightArrow;":"\u27F6","Longrightarrow;":"\u27F9","longrightarrow;":"\u27F6","looparrowleft;":"\u21AB","looparrowright;":"\u21AC","lopar;":"\u2985","Lopf;":"\u{1D543}","lopf;":"\u{1D55D}","loplus;":"\u2A2D","lotimes;":"\u2A34","lowast;":"\u2217","lowbar;":"_","LowerLeftArrow;":"\u2199","LowerRightArrow;":"\u2198","loz;":"\u25CA","lozenge;":"\u25CA","lozf;":"\u29EB","lpar;":"(","lparlt;":"\u2993","lrarr;":"\u21C6","lrcorner;":"\u231F","lrhar;":"\u21CB","lrhard;":"\u296D","lrm;":"\u200E","lrtri;":"\u22BF","lsaquo;":"\u2039","Lscr;":"\u2112","lscr;":"\u{1D4C1}","Lsh;":"\u21B0","lsh;":"\u21B0","lsim;":"\u2272","lsime;":"\u2A8D","lsimg;":"\u2A8F","lsqb;":"[","lsquo;":"\u2018","lsquor;":"\u201A","Lstrok;":"\u0141","lstrok;":"\u0142","LT;":"<",LT:"<","Lt;":"\u226A","lt;":"<",lt:"<","ltcc;":"\u2AA6","ltcir;":"\u2A79","ltdot;":"\u22D6","lthree;":"\u22CB","ltimes;":"\u22C9","ltlarr;":"\u2976","ltquest;":"\u2A7B","ltri;":"\u25C3","ltrie;":"\u22B4","ltrif;":"\u25C2","ltrPar;":"\u2996","lurdshar;":"\u294A","luruhar;":"\u2966","lvertneqq;":"\u2268\uFE00","lvnE;":"\u2268\uFE00","macr;":"\xAF",macr:"\xAF","male;":"\u2642","malt;":"\u2720","maltese;":"\u2720","Map;":"\u2905","map;":"\u21A6","mapsto;":"\u21A6","mapstodown;":"\u21A7","mapstoleft;":"\u21A4","mapstoup;":"\u21A5","marker;":"\u25AE","mcomma;":"\u2A29","Mcy;":"\u041C","mcy;":"\u043C","mdash;":"\u2014","mDDot;":"\u223A","measuredangle;":"\u2221","MediumSpace;":"\u205F","Mellintrf;":"\u2133","Mfr;":"\u{1D510}","mfr;":"\u{1D52A}","mho;":"\u2127","micro;":"\xB5",micro:"\xB5","mid;":"\u2223","midast;":"*","midcir;":"\u2AF0","middot;":"\xB7",middot:"\xB7","minus;":"\u2212","minusb;":"\u229F","minusd;":"\u2238","minusdu;":"\u2A2A","MinusPlus;":"\u2213","mlcp;":"\u2ADB","mldr;":"\u2026","mnplus;":"\u2213","models;":"\u22A7","Mopf;":"\u{1D544}","mopf;":"\u{1D55E}","mp;":"\u2213","Mscr;":"\u2133","mscr;":"\u{1D4C2}","mstpos;":"\u223E","Mu;":"\u039C","mu;":"\u03BC","multimap;":"\u22B8","mumap;":"\u22B8","nabla;":"\u2207","Nacute;":"\u0143","nacute;":"\u0144","nang;":"\u2220\u20D2","nap;":"\u2249","napE;":"\u2A70\u0338","napid;":"\u224B\u0338","napos;":"\u0149","napprox;":"\u2249","natur;":"\u266E","natural;":"\u266E","naturals;":"\u2115","nbsp;":"\xA0",nbsp:"\xA0","nbump;":"\u224E\u0338","nbumpe;":"\u224F\u0338","ncap;":"\u2A43","Ncaron;":"\u0147","ncaron;":"\u0148","Ncedil;":"\u0145","ncedil;":"\u0146","ncong;":"\u2247","ncongdot;":"\u2A6D\u0338","ncup;":"\u2A42","Ncy;":"\u041D","ncy;":"\u043D","ndash;":"\u2013","ne;":"\u2260","nearhk;":"\u2924","neArr;":"\u21D7","nearr;":"\u2197","nearrow;":"\u2197","nedot;":"\u2250\u0338","NegativeMediumSpace;":"\u200B","NegativeThickSpace;":"\u200B","NegativeThinSpace;":"\u200B","NegativeVeryThinSpace;":"\u200B","nequiv;":"\u2262","nesear;":"\u2928","nesim;":"\u2242\u0338","NestedGreaterGreater;":"\u226B","NestedLessLess;":"\u226A","NewLine;":`
`,"nexist;":"\u2204","nexists;":"\u2204","Nfr;":"\u{1D511}","nfr;":"\u{1D52B}","ngE;":"\u2267\u0338","nge;":"\u2271","ngeq;":"\u2271","ngeqq;":"\u2267\u0338","ngeqslant;":"\u2A7E\u0338","nges;":"\u2A7E\u0338","nGg;":"\u22D9\u0338","ngsim;":"\u2275","nGt;":"\u226B\u20D2","ngt;":"\u226F","ngtr;":"\u226F","nGtv;":"\u226B\u0338","nhArr;":"\u21CE","nharr;":"\u21AE","nhpar;":"\u2AF2","ni;":"\u220B","nis;":"\u22FC","nisd;":"\u22FA","niv;":"\u220B","NJcy;":"\u040A","njcy;":"\u045A","nlArr;":"\u21CD","nlarr;":"\u219A","nldr;":"\u2025","nlE;":"\u2266\u0338","nle;":"\u2270","nLeftarrow;":"\u21CD","nleftarrow;":"\u219A","nLeftrightarrow;":"\u21CE","nleftrightarrow;":"\u21AE","nleq;":"\u2270","nleqq;":"\u2266\u0338","nleqslant;":"\u2A7D\u0338","nles;":"\u2A7D\u0338","nless;":"\u226E","nLl;":"\u22D8\u0338","nlsim;":"\u2274","nLt;":"\u226A\u20D2","nlt;":"\u226E","nltri;":"\u22EA","nltrie;":"\u22EC","nLtv;":"\u226A\u0338","nmid;":"\u2224","NoBreak;":"\u2060","NonBreakingSpace;":"\xA0","Nopf;":"\u2115","nopf;":"\u{1D55F}","Not;":"\u2AEC","not;":"\xAC",not:"\xAC","NotCongruent;":"\u2262","NotCupCap;":"\u226D","NotDoubleVerticalBar;":"\u2226","NotElement;":"\u2209","NotEqual;":"\u2260","NotEqualTilde;":"\u2242\u0338","NotExists;":"\u2204","NotGreater;":"\u226F","NotGreaterEqual;":"\u2271","NotGreaterFullEqual;":"\u2267\u0338","NotGreaterGreater;":"\u226B\u0338","NotGreaterLess;":"\u2279","NotGreaterSlantEqual;":"\u2A7E\u0338","NotGreaterTilde;":"\u2275","NotHumpDownHump;":"\u224E\u0338","NotHumpEqual;":"\u224F\u0338","notin;":"\u2209","notindot;":"\u22F5\u0338","notinE;":"\u22F9\u0338","notinva;":"\u2209","notinvb;":"\u22F7","notinvc;":"\u22F6","NotLeftTriangle;":"\u22EA","NotLeftTriangleBar;":"\u29CF\u0338","NotLeftTriangleEqual;":"\u22EC","NotLess;":"\u226E","NotLessEqual;":"\u2270","NotLessGreater;":"\u2278","NotLessLess;":"\u226A\u0338","NotLessSlantEqual;":"\u2A7D\u0338","NotLessTilde;":"\u2274","NotNestedGreaterGreater;":"\u2AA2\u0338","NotNestedLessLess;":"\u2AA1\u0338","notni;":"\u220C","notniva;":"\u220C","notnivb;":"\u22FE","notnivc;":"\u22FD","NotPrecedes;":"\u2280","NotPrecedesEqual;":"\u2AAF\u0338","NotPrecedesSlantEqual;":"\u22E0","NotReverseElement;":"\u220C","NotRightTriangle;":"\u22EB","NotRightTriangleBar;":"\u29D0\u0338","NotRightTriangleEqual;":"\u22ED","NotSquareSubset;":"\u228F\u0338","NotSquareSubsetEqual;":"\u22E2","NotSquareSuperset;":"\u2290\u0338","NotSquareSupersetEqual;":"\u22E3","NotSubset;":"\u2282\u20D2","NotSubsetEqual;":"\u2288","NotSucceeds;":"\u2281","NotSucceedsEqual;":"\u2AB0\u0338","NotSucceedsSlantEqual;":"\u22E1","NotSucceedsTilde;":"\u227F\u0338","NotSuperset;":"\u2283\u20D2","NotSupersetEqual;":"\u2289","NotTilde;":"\u2241","NotTildeEqual;":"\u2244","NotTildeFullEqual;":"\u2247","NotTildeTilde;":"\u2249","NotVerticalBar;":"\u2224","npar;":"\u2226","nparallel;":"\u2226","nparsl;":"\u2AFD\u20E5","npart;":"\u2202\u0338","npolint;":"\u2A14","npr;":"\u2280","nprcue;":"\u22E0","npre;":"\u2AAF\u0338","nprec;":"\u2280","npreceq;":"\u2AAF\u0338","nrArr;":"\u21CF","nrarr;":"\u219B","nrarrc;":"\u2933\u0338","nrarrw;":"\u219D\u0338","nRightarrow;":"\u21CF","nrightarrow;":"\u219B","nrtri;":"\u22EB","nrtrie;":"\u22ED","nsc;":"\u2281","nsccue;":"\u22E1","nsce;":"\u2AB0\u0338","Nscr;":"\u{1D4A9}","nscr;":"\u{1D4C3}","nshortmid;":"\u2224","nshortparallel;":"\u2226","nsim;":"\u2241","nsime;":"\u2244","nsimeq;":"\u2244","nsmid;":"\u2224","nspar;":"\u2226","nsqsube;":"\u22E2","nsqsupe;":"\u22E3","nsub;":"\u2284","nsubE;":"\u2AC5\u0338","nsube;":"\u2288","nsubset;":"\u2282\u20D2","nsubseteq;":"\u2288","nsubseteqq;":"\u2AC5\u0338","nsucc;":"\u2281","nsucceq;":"\u2AB0\u0338","nsup;":"\u2285","nsupE;":"\u2AC6\u0338","nsupe;":"\u2289","nsupset;":"\u2283\u20D2","nsupseteq;":"\u2289","nsupseteqq;":"\u2AC6\u0338","ntgl;":"\u2279","Ntilde;":"\xD1",Ntilde:"\xD1","ntilde;":"\xF1",ntilde:"\xF1","ntlg;":"\u2278","ntriangleleft;":"\u22EA","ntrianglelefteq;":"\u22EC","ntriangleright;":"\u22EB","ntrianglerighteq;":"\u22ED","Nu;":"\u039D","nu;":"\u03BD","num;":"#","numero;":"\u2116","numsp;":"\u2007","nvap;":"\u224D\u20D2","nVDash;":"\u22AF","nVdash;":"\u22AE","nvDash;":"\u22AD","nvdash;":"\u22AC","nvge;":"\u2265\u20D2","nvgt;":">\u20D2","nvHarr;":"\u2904","nvinfin;":"\u29DE","nvlArr;":"\u2902","nvle;":"\u2264\u20D2","nvlt;":"<\u20D2","nvltrie;":"\u22B4\u20D2","nvrArr;":"\u2903","nvrtrie;":"\u22B5\u20D2","nvsim;":"\u223C\u20D2","nwarhk;":"\u2923","nwArr;":"\u21D6","nwarr;":"\u2196","nwarrow;":"\u2196","nwnear;":"\u2927","Oacute;":"\xD3",Oacute:"\xD3","oacute;":"\xF3",oacute:"\xF3","oast;":"\u229B","ocir;":"\u229A","Ocirc;":"\xD4",Ocirc:"\xD4","ocirc;":"\xF4",ocirc:"\xF4","Ocy;":"\u041E","ocy;":"\u043E","odash;":"\u229D","Odblac;":"\u0150","odblac;":"\u0151","odiv;":"\u2A38","odot;":"\u2299","odsold;":"\u29BC","OElig;":"\u0152","oelig;":"\u0153","ofcir;":"\u29BF","Ofr;":"\u{1D512}","ofr;":"\u{1D52C}","ogon;":"\u02DB","Ograve;":"\xD2",Ograve:"\xD2","ograve;":"\xF2",ograve:"\xF2","ogt;":"\u29C1","ohbar;":"\u29B5","ohm;":"\u03A9","oint;":"\u222E","olarr;":"\u21BA","olcir;":"\u29BE","olcross;":"\u29BB","oline;":"\u203E","olt;":"\u29C0","Omacr;":"\u014C","omacr;":"\u014D","Omega;":"\u03A9","omega;":"\u03C9","Omicron;":"\u039F","omicron;":"\u03BF","omid;":"\u29B6","ominus;":"\u2296","Oopf;":"\u{1D546}","oopf;":"\u{1D560}","opar;":"\u29B7","OpenCurlyDoubleQuote;":"\u201C","OpenCurlyQuote;":"\u2018","operp;":"\u29B9","oplus;":"\u2295","Or;":"\u2A54","or;":"\u2228","orarr;":"\u21BB","ord;":"\u2A5D","order;":"\u2134","orderof;":"\u2134","ordf;":"\xAA",ordf:"\xAA","ordm;":"\xBA",ordm:"\xBA","origof;":"\u22B6","oror;":"\u2A56","orslope;":"\u2A57","orv;":"\u2A5B","oS;":"\u24C8","Oscr;":"\u{1D4AA}","oscr;":"\u2134","Oslash;":"\xD8",Oslash:"\xD8","oslash;":"\xF8",oslash:"\xF8","osol;":"\u2298","Otilde;":"\xD5",Otilde:"\xD5","otilde;":"\xF5",otilde:"\xF5","Otimes;":"\u2A37","otimes;":"\u2297","otimesas;":"\u2A36","Ouml;":"\xD6",Ouml:"\xD6","ouml;":"\xF6",ouml:"\xF6","ovbar;":"\u233D","OverBar;":"\u203E","OverBrace;":"\u23DE","OverBracket;":"\u23B4","OverParenthesis;":"\u23DC","par;":"\u2225","para;":"\xB6",para:"\xB6","parallel;":"\u2225","parsim;":"\u2AF3","parsl;":"\u2AFD","part;":"\u2202","PartialD;":"\u2202","Pcy;":"\u041F","pcy;":"\u043F","percnt;":"%","period;":".","permil;":"\u2030","perp;":"\u22A5","pertenk;":"\u2031","Pfr;":"\u{1D513}","pfr;":"\u{1D52D}","Phi;":"\u03A6","phi;":"\u03C6","phiv;":"\u03D5","phmmat;":"\u2133","phone;":"\u260E","Pi;":"\u03A0","pi;":"\u03C0","pitchfork;":"\u22D4","piv;":"\u03D6","planck;":"\u210F","planckh;":"\u210E","plankv;":"\u210F","plus;":"+","plusacir;":"\u2A23","plusb;":"\u229E","pluscir;":"\u2A22","plusdo;":"\u2214","plusdu;":"\u2A25","pluse;":"\u2A72","PlusMinus;":"\xB1","plusmn;":"\xB1",plusmn:"\xB1","plussim;":"\u2A26","plustwo;":"\u2A27","pm;":"\xB1","Poincareplane;":"\u210C","pointint;":"\u2A15","Popf;":"\u2119","popf;":"\u{1D561}","pound;":"\xA3",pound:"\xA3","Pr;":"\u2ABB","pr;":"\u227A","prap;":"\u2AB7","prcue;":"\u227C","prE;":"\u2AB3","pre;":"\u2AAF","prec;":"\u227A","precapprox;":"\u2AB7","preccurlyeq;":"\u227C","Precedes;":"\u227A","PrecedesEqual;":"\u2AAF","PrecedesSlantEqual;":"\u227C","PrecedesTilde;":"\u227E","preceq;":"\u2AAF","precnapprox;":"\u2AB9","precneqq;":"\u2AB5","precnsim;":"\u22E8","precsim;":"\u227E","Prime;":"\u2033","prime;":"\u2032","primes;":"\u2119","prnap;":"\u2AB9","prnE;":"\u2AB5","prnsim;":"\u22E8","prod;":"\u220F","Product;":"\u220F","profalar;":"\u232E","profline;":"\u2312","profsurf;":"\u2313","prop;":"\u221D","Proportion;":"\u2237","Proportional;":"\u221D","propto;":"\u221D","prsim;":"\u227E","prurel;":"\u22B0","Pscr;":"\u{1D4AB}","pscr;":"\u{1D4C5}","Psi;":"\u03A8","psi;":"\u03C8","puncsp;":"\u2008","Qfr;":"\u{1D514}","qfr;":"\u{1D52E}","qint;":"\u2A0C","Qopf;":"\u211A","qopf;":"\u{1D562}","qprime;":"\u2057","Qscr;":"\u{1D4AC}","qscr;":"\u{1D4C6}","quaternions;":"\u210D","quatint;":"\u2A16","quest;":"?","questeq;":"\u225F","QUOT;":'"',QUOT:'"',"quot;":'"',quot:'"',"rAarr;":"\u21DB","race;":"\u223D\u0331","Racute;":"\u0154","racute;":"\u0155","radic;":"\u221A","raemptyv;":"\u29B3","Rang;":"\u27EB","rang;":"\u27E9","rangd;":"\u2992","range;":"\u29A5","rangle;":"\u27E9","raquo;":"\xBB",raquo:"\xBB","Rarr;":"\u21A0","rArr;":"\u21D2","rarr;":"\u2192","rarrap;":"\u2975","rarrb;":"\u21E5","rarrbfs;":"\u2920","rarrc;":"\u2933","rarrfs;":"\u291E","rarrhk;":"\u21AA","rarrlp;":"\u21AC","rarrpl;":"\u2945","rarrsim;":"\u2974","Rarrtl;":"\u2916","rarrtl;":"\u21A3","rarrw;":"\u219D","rAtail;":"\u291C","ratail;":"\u291A","ratio;":"\u2236","rationals;":"\u211A","RBarr;":"\u2910","rBarr;":"\u290F","rbarr;":"\u290D","rbbrk;":"\u2773","rbrace;":"}","rbrack;":"]","rbrke;":"\u298C","rbrksld;":"\u298E","rbrkslu;":"\u2990","Rcaron;":"\u0158","rcaron;":"\u0159","Rcedil;":"\u0156","rcedil;":"\u0157","rceil;":"\u2309","rcub;":"}","Rcy;":"\u0420","rcy;":"\u0440","rdca;":"\u2937","rdldhar;":"\u2969","rdquo;":"\u201D","rdquor;":"\u201D","rdsh;":"\u21B3","Re;":"\u211C","real;":"\u211C","realine;":"\u211B","realpart;":"\u211C","reals;":"\u211D","rect;":"\u25AD","REG;":"\xAE",REG:"\xAE","reg;":"\xAE",reg:"\xAE","ReverseElement;":"\u220B","ReverseEquilibrium;":"\u21CB","ReverseUpEquilibrium;":"\u296F","rfisht;":"\u297D","rfloor;":"\u230B","Rfr;":"\u211C","rfr;":"\u{1D52F}","rHar;":"\u2964","rhard;":"\u21C1","rharu;":"\u21C0","rharul;":"\u296C","Rho;":"\u03A1","rho;":"\u03C1","rhov;":"\u03F1","RightAngleBracket;":"\u27E9","RightArrow;":"\u2192","Rightarrow;":"\u21D2","rightarrow;":"\u2192","RightArrowBar;":"\u21E5","RightArrowLeftArrow;":"\u21C4","rightarrowtail;":"\u21A3","RightCeiling;":"\u2309","RightDoubleBracket;":"\u27E7","RightDownTeeVector;":"\u295D","RightDownVector;":"\u21C2","RightDownVectorBar;":"\u2955","RightFloor;":"\u230B","rightharpoondown;":"\u21C1","rightharpoonup;":"\u21C0","rightleftarrows;":"\u21C4","rightleftharpoons;":"\u21CC","rightrightarrows;":"\u21C9","rightsquigarrow;":"\u219D","RightTee;":"\u22A2","RightTeeArrow;":"\u21A6","RightTeeVector;":"\u295B","rightthreetimes;":"\u22CC","RightTriangle;":"\u22B3","RightTriangleBar;":"\u29D0","RightTriangleEqual;":"\u22B5","RightUpDownVector;":"\u294F","RightUpTeeVector;":"\u295C","RightUpVector;":"\u21BE","RightUpVectorBar;":"\u2954","RightVector;":"\u21C0","RightVectorBar;":"\u2953","ring;":"\u02DA","risingdotseq;":"\u2253","rlarr;":"\u21C4","rlhar;":"\u21CC","rlm;":"\u200F","rmoust;":"\u23B1","rmoustache;":"\u23B1","rnmid;":"\u2AEE","roang;":"\u27ED","roarr;":"\u21FE","robrk;":"\u27E7","ropar;":"\u2986","Ropf;":"\u211D","ropf;":"\u{1D563}","roplus;":"\u2A2E","rotimes;":"\u2A35","RoundImplies;":"\u2970","rpar;":")","rpargt;":"\u2994","rppolint;":"\u2A12","rrarr;":"\u21C9","Rrightarrow;":"\u21DB","rsaquo;":"\u203A","Rscr;":"\u211B","rscr;":"\u{1D4C7}","Rsh;":"\u21B1","rsh;":"\u21B1","rsqb;":"]","rsquo;":"\u2019","rsquor;":"\u2019","rthree;":"\u22CC","rtimes;":"\u22CA","rtri;":"\u25B9","rtrie;":"\u22B5","rtrif;":"\u25B8","rtriltri;":"\u29CE","RuleDelayed;":"\u29F4","ruluhar;":"\u2968","rx;":"\u211E","Sacute;":"\u015A","sacute;":"\u015B","sbquo;":"\u201A","Sc;":"\u2ABC","sc;":"\u227B","scap;":"\u2AB8","Scaron;":"\u0160","scaron;":"\u0161","sccue;":"\u227D","scE;":"\u2AB4","sce;":"\u2AB0","Scedil;":"\u015E","scedil;":"\u015F","Scirc;":"\u015C","scirc;":"\u015D","scnap;":"\u2ABA","scnE;":"\u2AB6","scnsim;":"\u22E9","scpolint;":"\u2A13","scsim;":"\u227F","Scy;":"\u0421","scy;":"\u0441","sdot;":"\u22C5","sdotb;":"\u22A1","sdote;":"\u2A66","searhk;":"\u2925","seArr;":"\u21D8","searr;":"\u2198","searrow;":"\u2198","sect;":"\xA7",sect:"\xA7","semi;":";","seswar;":"\u2929","setminus;":"\u2216","setmn;":"\u2216","sext;":"\u2736","Sfr;":"\u{1D516}","sfr;":"\u{1D530}","sfrown;":"\u2322","sharp;":"\u266F","SHCHcy;":"\u0429","shchcy;":"\u0449","SHcy;":"\u0428","shcy;":"\u0448","ShortDownArrow;":"\u2193","ShortLeftArrow;":"\u2190","shortmid;":"\u2223","shortparallel;":"\u2225","ShortRightArrow;":"\u2192","ShortUpArrow;":"\u2191","shy;":"\xAD",shy:"\xAD","Sigma;":"\u03A3","sigma;":"\u03C3","sigmaf;":"\u03C2","sigmav;":"\u03C2","sim;":"\u223C","simdot;":"\u2A6A","sime;":"\u2243","simeq;":"\u2243","simg;":"\u2A9E","simgE;":"\u2AA0","siml;":"\u2A9D","simlE;":"\u2A9F","simne;":"\u2246","simplus;":"\u2A24","simrarr;":"\u2972","slarr;":"\u2190","SmallCircle;":"\u2218","smallsetminus;":"\u2216","smashp;":"\u2A33","smeparsl;":"\u29E4","smid;":"\u2223","smile;":"\u2323","smt;":"\u2AAA","smte;":"\u2AAC","smtes;":"\u2AAC\uFE00","SOFTcy;":"\u042C","softcy;":"\u044C","sol;":"/","solb;":"\u29C4","solbar;":"\u233F","Sopf;":"\u{1D54A}","sopf;":"\u{1D564}","spades;":"\u2660","spadesuit;":"\u2660","spar;":"\u2225","sqcap;":"\u2293","sqcaps;":"\u2293\uFE00","sqcup;":"\u2294","sqcups;":"\u2294\uFE00","Sqrt;":"\u221A","sqsub;":"\u228F","sqsube;":"\u2291","sqsubset;":"\u228F","sqsubseteq;":"\u2291","sqsup;":"\u2290","sqsupe;":"\u2292","sqsupset;":"\u2290","sqsupseteq;":"\u2292","squ;":"\u25A1","Square;":"\u25A1","square;":"\u25A1","SquareIntersection;":"\u2293","SquareSubset;":"\u228F","SquareSubsetEqual;":"\u2291","SquareSuperset;":"\u2290","SquareSupersetEqual;":"\u2292","SquareUnion;":"\u2294","squarf;":"\u25AA","squf;":"\u25AA","srarr;":"\u2192","Sscr;":"\u{1D4AE}","sscr;":"\u{1D4C8}","ssetmn;":"\u2216","ssmile;":"\u2323","sstarf;":"\u22C6","Star;":"\u22C6","star;":"\u2606","starf;":"\u2605","straightepsilon;":"\u03F5","straightphi;":"\u03D5","strns;":"\xAF","Sub;":"\u22D0","sub;":"\u2282","subdot;":"\u2ABD","subE;":"\u2AC5","sube;":"\u2286","subedot;":"\u2AC3","submult;":"\u2AC1","subnE;":"\u2ACB","subne;":"\u228A","subplus;":"\u2ABF","subrarr;":"\u2979","Subset;":"\u22D0","subset;":"\u2282","subseteq;":"\u2286","subseteqq;":"\u2AC5","SubsetEqual;":"\u2286","subsetneq;":"\u228A","subsetneqq;":"\u2ACB","subsim;":"\u2AC7","subsub;":"\u2AD5","subsup;":"\u2AD3","succ;":"\u227B","succapprox;":"\u2AB8","succcurlyeq;":"\u227D","Succeeds;":"\u227B","SucceedsEqual;":"\u2AB0","SucceedsSlantEqual;":"\u227D","SucceedsTilde;":"\u227F","succeq;":"\u2AB0","succnapprox;":"\u2ABA","succneqq;":"\u2AB6","succnsim;":"\u22E9","succsim;":"\u227F","SuchThat;":"\u220B","Sum;":"\u2211","sum;":"\u2211","sung;":"\u266A","Sup;":"\u22D1","sup;":"\u2283","sup1;":"\xB9",sup1:"\xB9","sup2;":"\xB2",sup2:"\xB2","sup3;":"\xB3",sup3:"\xB3","supdot;":"\u2ABE","supdsub;":"\u2AD8","supE;":"\u2AC6","supe;":"\u2287","supedot;":"\u2AC4","Superset;":"\u2283","SupersetEqual;":"\u2287","suphsol;":"\u27C9","suphsub;":"\u2AD7","suplarr;":"\u297B","supmult;":"\u2AC2","supnE;":"\u2ACC","supne;":"\u228B","supplus;":"\u2AC0","Supset;":"\u22D1","supset;":"\u2283","supseteq;":"\u2287","supseteqq;":"\u2AC6","supsetneq;":"\u228B","supsetneqq;":"\u2ACC","supsim;":"\u2AC8","supsub;":"\u2AD4","supsup;":"\u2AD6","swarhk;":"\u2926","swArr;":"\u21D9","swarr;":"\u2199","swarrow;":"\u2199","swnwar;":"\u292A","szlig;":"\xDF",szlig:"\xDF","Tab;":"	","target;":"\u2316","Tau;":"\u03A4","tau;":"\u03C4","tbrk;":"\u23B4","Tcaron;":"\u0164","tcaron;":"\u0165","Tcedil;":"\u0162","tcedil;":"\u0163","Tcy;":"\u0422","tcy;":"\u0442","tdot;":"\u20DB","telrec;":"\u2315","Tfr;":"\u{1D517}","tfr;":"\u{1D531}","there4;":"\u2234","Therefore;":"\u2234","therefore;":"\u2234","Theta;":"\u0398","theta;":"\u03B8","thetasym;":"\u03D1","thetav;":"\u03D1","thickapprox;":"\u2248","thicksim;":"\u223C","ThickSpace;":"\u205F\u200A","thinsp;":"\u2009","ThinSpace;":"\u2009","thkap;":"\u2248","thksim;":"\u223C","THORN;":"\xDE",THORN:"\xDE","thorn;":"\xFE",thorn:"\xFE","Tilde;":"\u223C","tilde;":"\u02DC","TildeEqual;":"\u2243","TildeFullEqual;":"\u2245","TildeTilde;":"\u2248","times;":"\xD7",times:"\xD7","timesb;":"\u22A0","timesbar;":"\u2A31","timesd;":"\u2A30","tint;":"\u222D","toea;":"\u2928","top;":"\u22A4","topbot;":"\u2336","topcir;":"\u2AF1","Topf;":"\u{1D54B}","topf;":"\u{1D565}","topfork;":"\u2ADA","tosa;":"\u2929","tprime;":"\u2034","TRADE;":"\u2122","trade;":"\u2122","triangle;":"\u25B5","triangledown;":"\u25BF","triangleleft;":"\u25C3","trianglelefteq;":"\u22B4","triangleq;":"\u225C","triangleright;":"\u25B9","trianglerighteq;":"\u22B5","tridot;":"\u25EC","trie;":"\u225C","triminus;":"\u2A3A","TripleDot;":"\u20DB","triplus;":"\u2A39","trisb;":"\u29CD","tritime;":"\u2A3B","trpezium;":"\u23E2","Tscr;":"\u{1D4AF}","tscr;":"\u{1D4C9}","TScy;":"\u0426","tscy;":"\u0446","TSHcy;":"\u040B","tshcy;":"\u045B","Tstrok;":"\u0166","tstrok;":"\u0167","twixt;":"\u226C","twoheadleftarrow;":"\u219E","twoheadrightarrow;":"\u21A0","Uacute;":"\xDA",Uacute:"\xDA","uacute;":"\xFA",uacute:"\xFA","Uarr;":"\u219F","uArr;":"\u21D1","uarr;":"\u2191","Uarrocir;":"\u2949","Ubrcy;":"\u040E","ubrcy;":"\u045E","Ubreve;":"\u016C","ubreve;":"\u016D","Ucirc;":"\xDB",Ucirc:"\xDB","ucirc;":"\xFB",ucirc:"\xFB","Ucy;":"\u0423","ucy;":"\u0443","udarr;":"\u21C5","Udblac;":"\u0170","udblac;":"\u0171","udhar;":"\u296E","ufisht;":"\u297E","Ufr;":"\u{1D518}","ufr;":"\u{1D532}","Ugrave;":"\xD9",Ugrave:"\xD9","ugrave;":"\xF9",ugrave:"\xF9","uHar;":"\u2963","uharl;":"\u21BF","uharr;":"\u21BE","uhblk;":"\u2580","ulcorn;":"\u231C","ulcorner;":"\u231C","ulcrop;":"\u230F","ultri;":"\u25F8","Umacr;":"\u016A","umacr;":"\u016B","uml;":"\xA8",uml:"\xA8","UnderBar;":"_","UnderBrace;":"\u23DF","UnderBracket;":"\u23B5","UnderParenthesis;":"\u23DD","Union;":"\u22C3","UnionPlus;":"\u228E","Uogon;":"\u0172","uogon;":"\u0173","Uopf;":"\u{1D54C}","uopf;":"\u{1D566}","UpArrow;":"\u2191","Uparrow;":"\u21D1","uparrow;":"\u2191","UpArrowBar;":"\u2912","UpArrowDownArrow;":"\u21C5","UpDownArrow;":"\u2195","Updownarrow;":"\u21D5","updownarrow;":"\u2195","UpEquilibrium;":"\u296E","upharpoonleft;":"\u21BF","upharpoonright;":"\u21BE","uplus;":"\u228E","UpperLeftArrow;":"\u2196","UpperRightArrow;":"\u2197","Upsi;":"\u03D2","upsi;":"\u03C5","upsih;":"\u03D2","Upsilon;":"\u03A5","upsilon;":"\u03C5","UpTee;":"\u22A5","UpTeeArrow;":"\u21A5","upuparrows;":"\u21C8","urcorn;":"\u231D","urcorner;":"\u231D","urcrop;":"\u230E","Uring;":"\u016E","uring;":"\u016F","urtri;":"\u25F9","Uscr;":"\u{1D4B0}","uscr;":"\u{1D4CA}","utdot;":"\u22F0","Utilde;":"\u0168","utilde;":"\u0169","utri;":"\u25B5","utrif;":"\u25B4","uuarr;":"\u21C8","Uuml;":"\xDC",Uuml:"\xDC","uuml;":"\xFC",uuml:"\xFC","uwangle;":"\u29A7","vangrt;":"\u299C","varepsilon;":"\u03F5","varkappa;":"\u03F0","varnothing;":"\u2205","varphi;":"\u03D5","varpi;":"\u03D6","varpropto;":"\u221D","vArr;":"\u21D5","varr;":"\u2195","varrho;":"\u03F1","varsigma;":"\u03C2","varsubsetneq;":"\u228A\uFE00","varsubsetneqq;":"\u2ACB\uFE00","varsupsetneq;":"\u228B\uFE00","varsupsetneqq;":"\u2ACC\uFE00","vartheta;":"\u03D1","vartriangleleft;":"\u22B2","vartriangleright;":"\u22B3","Vbar;":"\u2AEB","vBar;":"\u2AE8","vBarv;":"\u2AE9","Vcy;":"\u0412","vcy;":"\u0432","VDash;":"\u22AB","Vdash;":"\u22A9","vDash;":"\u22A8","vdash;":"\u22A2","Vdashl;":"\u2AE6","Vee;":"\u22C1","vee;":"\u2228","veebar;":"\u22BB","veeeq;":"\u225A","vellip;":"\u22EE","Verbar;":"\u2016","verbar;":"|","Vert;":"\u2016","vert;":"|","VerticalBar;":"\u2223","VerticalLine;":"|","VerticalSeparator;":"\u2758","VerticalTilde;":"\u2240","VeryThinSpace;":"\u200A","Vfr;":"\u{1D519}","vfr;":"\u{1D533}","vltri;":"\u22B2","vnsub;":"\u2282\u20D2","vnsup;":"\u2283\u20D2","Vopf;":"\u{1D54D}","vopf;":"\u{1D567}","vprop;":"\u221D","vrtri;":"\u22B3","Vscr;":"\u{1D4B1}","vscr;":"\u{1D4CB}","vsubnE;":"\u2ACB\uFE00","vsubne;":"\u228A\uFE00","vsupnE;":"\u2ACC\uFE00","vsupne;":"\u228B\uFE00","Vvdash;":"\u22AA","vzigzag;":"\u299A","Wcirc;":"\u0174","wcirc;":"\u0175","wedbar;":"\u2A5F","Wedge;":"\u22C0","wedge;":"\u2227","wedgeq;":"\u2259","weierp;":"\u2118","Wfr;":"\u{1D51A}","wfr;":"\u{1D534}","Wopf;":"\u{1D54E}","wopf;":"\u{1D568}","wp;":"\u2118","wr;":"\u2240","wreath;":"\u2240","Wscr;":"\u{1D4B2}","wscr;":"\u{1D4CC}","xcap;":"\u22C2","xcirc;":"\u25EF","xcup;":"\u22C3","xdtri;":"\u25BD","Xfr;":"\u{1D51B}","xfr;":"\u{1D535}","xhArr;":"\u27FA","xharr;":"\u27F7","Xi;":"\u039E","xi;":"\u03BE","xlArr;":"\u27F8","xlarr;":"\u27F5","xmap;":"\u27FC","xnis;":"\u22FB","xodot;":"\u2A00","Xopf;":"\u{1D54F}","xopf;":"\u{1D569}","xoplus;":"\u2A01","xotime;":"\u2A02","xrArr;":"\u27F9","xrarr;":"\u27F6","Xscr;":"\u{1D4B3}","xscr;":"\u{1D4CD}","xsqcup;":"\u2A06","xuplus;":"\u2A04","xutri;":"\u25B3","xvee;":"\u22C1","xwedge;":"\u22C0","Yacute;":"\xDD",Yacute:"\xDD","yacute;":"\xFD",yacute:"\xFD","YAcy;":"\u042F","yacy;":"\u044F","Ycirc;":"\u0176","ycirc;":"\u0177","Ycy;":"\u042B","ycy;":"\u044B","yen;":"\xA5",yen:"\xA5","Yfr;":"\u{1D51C}","yfr;":"\u{1D536}","YIcy;":"\u0407","yicy;":"\u0457","Yopf;":"\u{1D550}","yopf;":"\u{1D56A}","Yscr;":"\u{1D4B4}","yscr;":"\u{1D4CE}","YUcy;":"\u042E","yucy;":"\u044E","Yuml;":"\u0178","yuml;":"\xFF",yuml:"\xFF","Zacute;":"\u0179","zacute;":"\u017A","Zcaron;":"\u017D","zcaron;":"\u017E","Zcy;":"\u0417","zcy;":"\u0437","Zdot;":"\u017B","zdot;":"\u017C","zeetrf;":"\u2128","ZeroWidthSpace;":"\u200B","Zeta;":"\u0396","zeta;":"\u03B6","Zfr;":"\u2128","zfr;":"\u{1D537}","ZHcy;":"\u0416","zhcy;":"\u0436","zigrarr;":"\u21DD","Zopf;":"\u2124","zopf;":"\u{1D56B}","Zscr;":"\u{1D4B5}","zscr;":"\u{1D4CF}","zwj;":"\u200D","zwnj;":"\u200C"}});function Iy(r,e){if(r.length<e.length)return!1;for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function RIe(r,e){let t=r.length-e.length;return t>0?r.lastIndexOf(e)===t:t===0?r===e:!1}function Gre(r,e){let t="";for(;e>0;)(e&1)===1&&(t+=r),r+=r,e=e>>>1;return t}function t0(r,e){let t=r.charCodeAt(e);return f_t<=t&&t<=p_t||h_t<=t&&t<=m_t||g_t<=t&&t<=v_t}var f_t,p_t,h_t,m_t,g_t,v_t,Gx=Ti(()=>{f_t=97,p_t=122,h_t=65,m_t=90,g_t=48,v_t=57});function Kx(r){return typeof r<"u"}var Kre=Ti(()=>{});function xIe(r){if(r)return typeof r=="string"?{kind:"markdown",value:r}:{kind:"markdown",value:r.value}}var EIe=Ti(()=>{});function Qw(r,e={},t){let n={kind:t?"markdown":"plaintext",value:""};if(r.description&&e.documentation!==!1){let i=xIe(r.description);i&&(n.value+=i.value)}if(r.references&&r.references.length>0&&e.references!==!1&&(n.value.length&&(n.value+=`

`),t?n.value+=r.references.map(i=>`[${i.name}](${i.url})`).join(" | "):n.value+=r.references.map(i=>`${i.name}: ${i.url}`).join(`
`)),n.value!=="")return n}var Yx,qM=Ti(()=>{EIe();Yx=class{isApplicable(){return!0}constructor(e,t){this.id=e,this._tags=[],this._tagMap={},this._valueSetMap={},this._tags=t.tags||[],this._globalAttributes=t.globalAttributes||[],this._tags.forEach(n=>{this._tagMap[n.name.toLowerCase()]=n}),t.valueSets&&t.valueSets.forEach(n=>{this._valueSetMap[n.name]=n.values})}getId(){return this.id}provideTags(){return this._tags}provideAttributes(e){let t=[],n=o=>{t.push(o)},i=this._tagMap[e.toLowerCase()];return i&&i.attributes.forEach(n),this._globalAttributes.forEach(n),t}provideValues(e,t){let n=[];t=t.toLowerCase();let i=s=>{s.forEach(a=>{a.name.toLowerCase()===t&&(a.values&&a.values.forEach(c=>{n.push(c)}),a.valueSet&&this._valueSetMap[a.valueSet]&&this._valueSetMap[a.valueSet].forEach(c=>{n.push(c)}))})},o=this._tagMap[e.toLowerCase()];return o&&i(o.attributes),i(this._globalAttributes),n}}});function __t(r){return Iy(r,"'")||Iy(r,'"')?r.slice(1,-1):r}function w_t(r){return!(Iy(r,"http")||Iy(r,"https")||Iy(r,"//"))}function S_t(r,e,t){let n,i=r.lastIndexOf("/");if(i===-1)n=D_t(t,1,-1);else{let o=e.slice(i+1),s=jM(t.end,-1-o.length),a=o.indexOf(" "),c;a!==-1?c=jM(s,a):c=jM(t.end,-1),n=xi.create(s,c)}return n}function C_t(r,e,t){return e?(r=r+"/",{label:r,kind:sd.Folder,textEdit:tu.replace(t,r),command:{title:"Suggest",command:"editor.action.triggerSuggest"}}):{label:r,kind:sd.File,textEdit:tu.replace(t,r)}}function jM(r,e){return qa.create(r.line,r.character+e)}function D_t(r,e,t){let n=jM(r.start,e),i=jM(r.end,t);return xi.create(n,i)}var CW,b_t,OIe=Ti(()=>{em();Gx();CW=class{constructor(e,t){this.dataManager=e,this.readDirectory=t,this.atributeCompletions=[]}onHtmlAttributeValue(e){this.dataManager.isPathAttribute(e.tag,e.attribute)&&this.atributeCompletions.push(e)}async computeCompletions(e,t){let n={items:[],isIncomplete:!1};for(let i of this.atributeCompletions){let o=__t(e.getText(i.range));if(w_t(o))if(o==="."||o==="..")n.isIncomplete=!0;else{let s=S_t(i.value,o,i.range),a=await this.providePathSuggestions(i.value,s,e,t);for(let c of a)n.items.push(c)}}return n}async providePathSuggestions(e,t,n,i){let o=e.substring(0,e.lastIndexOf("/")+1),s=i.resolveReference(o||".",n.uri);if(s)try{let a=[],c=await this.readDirectory(s);for(let[u,l]of c)u.charCodeAt(0)!==b_t&&a.push(C_t(u,l===FM.Directory,t));return a}catch{}return[]}},b_t=46});function T_t(r){return/^["']*$/.test(r)}function TW(r){return/^\s*$/.test(r)}function IIe(r,e,t,n){let i=Ru(r,e,t),o=i.scan();for(;o===Qt.Whitespace;)o=i.scan();return o===n}function P_t(r,e,t){for(;e>t&&!TW(r[e-1]);)e--;return e}function R_t(r,e,t){for(;e<t&&!TW(r[e]);)e++;return e}var kIe,DW,AIe=Ti(()=>{Xw();em();Vre();kIe=be(rW());Gx();Kre();qM();OIe();DW=class{constructor(e,t){this.lsOptions=e,this.dataManager=t,this.completionParticipants=[]}setCompletionParticipants(e){this.completionParticipants=e||[]}async doComplete2(e,t,n,i,o){if(!this.lsOptions.fileSystemProvider||!this.lsOptions.fileSystemProvider.readDirectory)return this.doComplete(e,t,n,o);let s=new CW(this.dataManager,this.lsOptions.fileSystemProvider.readDirectory),a=this.completionParticipants;this.completionParticipants=[s].concat(a);let c=this.doComplete(e,t,n,o);try{let u=await s.computeCompletions(e,i);return{isIncomplete:c.isIncomplete||u.isIncomplete,items:u.items.concat(c.items)}}finally{this.completionParticipants=a}}doComplete(e,t,n,i){let o=this._doComplete(e,t,n,i);return this.convertCompletionList(o)}_doComplete(e,t,n,i){let o={isIncomplete:!1,items:[]},s=this.completionParticipants,a=this.dataManager.getDataProviders().filter(ce=>ce.isApplicable(e.languageId)&&(!i||i[ce.getId()]!==!1)),c=this.doesSupportMarkdown(),u=e.getText(),l=e.offsetAt(t),d=n.findNodeBefore(l);if(!d)return o;let f=Ru(u,d.start),y="",b,T;function k(ce,Ce=l){return ce>l&&(ce=l),{start:e.positionAt(ce),end:e.positionAt(Ce)}}function z(ce,Ce){let we=k(ce,Ce);return a.forEach(Ee=>{Ee.provideTags().forEach(Ne=>{o.items.push({label:Ne.name,kind:sd.Property,documentation:Qw(Ne,void 0,c),textEdit:tu.replace(we,Ne.name),insertTextFormat:Zh.PlainText})})}),o}function A(ce){let Ce=ce;for(;Ce>0;){let we=u.charAt(Ce-1);if(`
\r`.indexOf(we)>=0)return u.substring(Ce,ce);if(!TW(we))return null;Ce--}return u.substring(0,ce)}function U(ce,Ce,we=l){let Ee=k(ce,we),Ne=IIe(u,we,Kn.WithinEndTag,Qt.EndTagClose)?"":">",$e=d;for(Ce&&($e=$e.parent);$e;){let Ct=$e.tag;if(Ct&&(!$e.closed||$e.endTagStart&&$e.endTagStart>l)){let ze={label:"/"+Ct,kind:sd.Property,filterText:"/"+Ct,textEdit:tu.replace(Ee,"/"+Ct+Ne),insertTextFormat:Zh.PlainText},st=A($e.start),at=A(ce-1);if(st!==null&&at!==null&&st!==at){let tt=st+"</"+Ct+Ne;ze.textEdit=tu.replace(k(ce-1-at.length),tt),ze.filterText=at+"</"+Ct}return o.items.push(ze),o}$e=$e.parent}return Ce||a.forEach(Ct=>{Ct.provideTags().forEach(ze=>{o.items.push({label:"/"+ze.name,kind:sd.Property,documentation:Qw(ze,void 0,c),filterText:"/"+ze.name+Ne,textEdit:tu.replace(Ee,"/"+ze.name+Ne),insertTextFormat:Zh.PlainText})})}),o}let ne=(ce,Ce)=>{if(i&&i.hideAutoCompleteProposals)return o;if(T??(T=this.dataManager.getVoidElements(a)),!this.dataManager.isVoidElement(Ce,T)){let we=e.positionAt(ce);o.items.push({label:"</"+Ce+">",kind:sd.Property,filterText:"</"+Ce+">",textEdit:tu.insert(we,"$0</"+Ce+">"),insertTextFormat:Zh.Snippet})}return o};function de(ce,Ce){return z(ce,Ce),U(ce,!0,Ce),o}function ve(){let ce=Object.create(null);return d.attributeNames.forEach(Ce=>{ce[Ce]=!0}),ce}function $(ce,Ce=l){let we=l;for(;we<Ce&&u[we]!=="<";)we++;let Ee=u.substring(ce,Ce),Ne=k(ce,we),$e="";if(!IIe(u,Ce,Kn.AfterAttributeName,Qt.DelimiterAssign)){let ze=i?.attributeDefaultValue??"doublequotes";ze==="empty"?$e="=$1":ze==="singlequotes"?$e="='$1'":$e='="$1"'}let Ct=ve();return Ct[Ee]=!1,a.forEach(ze=>{ze.provideAttributes(y).forEach(st=>{if(Ct[st.name])return;Ct[st.name]=!0;let at=st.name,tt;st.valueSet!=="v"&&$e.length&&(at=at+$e,(st.valueSet||st.name==="style")&&(tt={title:"Suggest",command:"editor.action.triggerSuggest"})),o.items.push({label:st.name,kind:st.valueSet==="handler"?sd.Function:sd.Value,documentation:Qw(st,void 0,c),textEdit:tu.replace(Ne,at),insertTextFormat:Zh.Snippet,command:tt})})}),W(Ne,Ct),o}function W(ce,Ce){let we="data-",Ee={};Ee[we]=`${we}$1="$2"`;function Ne($e){$e.attributeNames.forEach(Ct=>{Iy(Ct,we)&&!Ee[Ct]&&!Ce[Ct]&&(Ee[Ct]=Ct+'="$1"')}),$e.children.forEach(Ct=>Ne(Ct))}n&&n.roots.forEach($e=>Ne($e)),Object.keys(Ee).forEach($e=>o.items.push({label:$e,kind:sd.Value,textEdit:tu.replace(ce,Ee[$e]),insertTextFormat:Zh.Snippet}))}function ee(ce,Ce=l){let we,Ee,Ne;if(l>ce&&l<=Ce&&T_t(u[ce])){let $e=ce+1,Ct=Ce;Ce>ce&&u[Ce-1]===u[ce]&&Ct--;let ze=P_t(u,l,$e),st=R_t(u,l,Ct);we=k(ze,st),Ne=l>=$e&&l<=Ct?u.substring($e,l):"",Ee=!1}else we=k(ce,Ce),Ne=u.substring(ce,l),Ee=!0;if(s.length>0){let $e=y.toLowerCase(),Ct=b.toLowerCase(),ze=k(ce,Ce);for(let st of s)st.onHtmlAttributeValue&&st.onHtmlAttributeValue({document:e,position:t,tag:$e,attribute:Ct,value:Ne,range:ze})}return a.forEach($e=>{$e.provideValues(y,b).forEach(Ct=>{let ze=Ee?'"'+Ct.name+'"':Ct.name;o.items.push({label:Ct.name,filterText:ze,kind:sd.Unit,documentation:Qw(Ct,void 0,c),textEdit:tu.replace(we,ze),insertTextFormat:Zh.PlainText})})}),ue(),o}function Pe(ce){return l===f.getTokenEnd()&&(Le=f.scan(),Le===ce&&f.getTokenOffset()===l)?f.getTokenEnd():l}function se(){for(let ce of s)ce.onHtmlContent&&ce.onHtmlContent({document:e,position:t});return ue()}function ue(){let ce=l-1,Ce=t.character;for(;ce>=0&&t0(u,ce);)ce--,Ce--;if(ce>=0&&u[ce]==="&"){let we=xi.create(qa.create(t.line,Ce-1),t);for(let Ee in e0)if(RIe(Ee,";")){let Ne="&"+Ee;o.items.push({label:Ne,kind:sd.Keyword,documentation:kIe.t("Character entity representing '{0}'",e0[Ee]),textEdit:tu.replace(we,Ne),insertTextFormat:Zh.PlainText})}}return o}function Fe(ce,Ce){let we=k(ce,Ce);o.items.push({label:"!DOCTYPE",kind:sd.Property,documentation:"A preamble for an HTML document.",textEdit:tu.replace(we,"!DOCTYPE html>"),insertTextFormat:Zh.PlainText})}let Le=f.scan();for(;Le!==Qt.EOS&&f.getTokenOffset()<=l;){switch(Le){case Qt.StartTagOpen:if(f.getTokenEnd()===l){let ce=Pe(Qt.StartTag);return t.line===0&&Fe(l,ce),de(l,ce)}break;case Qt.StartTag:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return z(f.getTokenOffset(),f.getTokenEnd());y=f.getTokenText();break;case Qt.AttributeName:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return $(f.getTokenOffset(),f.getTokenEnd());b=f.getTokenText();break;case Qt.DelimiterAssign:if(f.getTokenEnd()===l){let ce=Pe(Qt.AttributeValue);return ee(l,ce)}break;case Qt.AttributeValue:if(f.getTokenOffset()<=l&&l<=f.getTokenEnd())return ee(f.getTokenOffset(),f.getTokenEnd());break;case Qt.Whitespace:if(l<=f.getTokenEnd())switch(f.getScannerState()){case Kn.AfterOpeningStartTag:let ce=f.getTokenOffset(),Ce=Pe(Qt.StartTag);return de(ce,Ce);case Kn.WithinTag:case Kn.AfterAttributeName:return $(f.getTokenEnd());case Kn.BeforeAttributeValue:return ee(f.getTokenEnd());case Kn.AfterOpeningEndTag:return U(f.getTokenOffset()-1,!1);case Kn.WithinContent:return se()}break;case Qt.EndTagOpen:if(l<=f.getTokenEnd()){let ce=f.getTokenOffset()+1,Ce=Pe(Qt.EndTag);return U(ce,!1,Ce)}break;case Qt.EndTag:if(l<=f.getTokenEnd()){let ce=f.getTokenOffset()-1;for(;ce>=0;){let Ce=u.charAt(ce);if(Ce==="/")return U(ce,!1,f.getTokenEnd());if(!TW(Ce))break;ce--}}break;case Qt.StartTagClose:if(l<=f.getTokenEnd()&&y)return ne(f.getTokenEnd(),y);break;case Qt.Content:if(l<=f.getTokenEnd())return se();break;default:if(l<=f.getTokenEnd())return o;break}Le=f.scan()}return o}doQuoteComplete(e,t,n,i){let o=e.offsetAt(t);if(o<=0)return null;let s=i?.attributeDefaultValue??"doublequotes";if(s==="empty"||e.getText().charAt(o-1)!=="=")return null;let c=s==="doublequotes"?'"$1"':"'$1'",u=n.findNodeBefore(o);if(u&&u.attributes&&u.start<o&&(!u.endTagStart||u.endTagStart>o)){let l=Ru(e.getText(),u.start),d=l.scan();for(;d!==Qt.EOS&&l.getTokenEnd()<=o;){if(d===Qt.AttributeName&&l.getTokenEnd()===o-1)return d=l.scan(),d!==Qt.DelimiterAssign||(d=l.scan(),d===Qt.Unknown||d===Qt.AttributeValue)?null:c;d=l.scan()}}return null}doTagComplete(e,t,n){let i=e.offsetAt(t);if(i<=0)return null;let o=e.getText().charAt(i-1);if(o===">"){let s=n.findNodeBefore(i);if(s&&s.tag&&s.start<i&&(!s.endTagStart||s.endTagStart>i)){let a=this.dataManager.getVoidElements(e.languageId);if(!this.dataManager.isVoidElement(s.tag,a)){let c=Ru(e.getText(),s.start),u=c.scan();for(;u!==Qt.EOS&&c.getTokenEnd()<=i;){if(u===Qt.StartTagClose&&c.getTokenEnd()===i)return`$0</${s.tag}>`;u=c.scan()}}}}else if(o==="/"){let s=n.findNodeBefore(i);for(;s&&s.closed&&!(s.endTagStart&&s.endTagStart>i);)s=s.parent;if(s&&s.tag){let a=Ru(e.getText(),s.start),c=a.scan();for(;c!==Qt.EOS&&a.getTokenEnd()<=i;){if(c===Qt.EndTagOpen&&a.getTokenEnd()===i)return e.getText().charAt(i)!==">"?`${s.tag}>`:s.tag;c=a.scan()}}}return null}convertCompletionList(e){return this.doesSupportMarkdown()||e.items.forEach(t=>{t.documentation&&typeof t.documentation!="string"&&(t.documentation={kind:"plaintext",value:t.documentation.value})}),e}doesSupportMarkdown(){if(!Kx(this.supportsMarkdown)){if(!Kx(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities.textDocument?.completion?.completionItem?.documentationFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf(ig.Markdown)!==-1}return this.supportsMarkdown}}});function x_t(r){return r.length<=1?r.replace(/['"]/,""):((r[0]==="'"||r[0]==='"')&&(r=r.slice(1)),(r[r.length-1]==="'"||r[r.length-1]==='"')&&(r=r.slice(0,-1)),r)}var MIe,PW,LIe=Ti(()=>{Xw();em();Kre();qM();Vre();Gx();MIe=be(rW()),PW=class{constructor(e,t){this.lsOptions=e,this.dataManager=t}doHover(e,t,n,i){let o=this.convertContents.bind(this),s=this.doesSupportMarkdown(),a=e.offsetAt(t),c=n.findNodeAt(a),u=e.getText();if(!c||!c.tag)return null;let l=this.dataManager.getDataProviders().filter($=>$.isApplicable(e.languageId));function d($,W,ee){for(let Pe of l){let se=null;if(Pe.provideTags().forEach(ue=>{if(ue.name.toLowerCase()===$.toLowerCase()){let Fe=Qw(ue,i,s);Fe||(Fe={kind:s?"markdown":"plaintext",value:""}),se={contents:Fe,range:W}}}),se)return se.contents=o(se.contents),se}return null}function f($,W,ee){for(let Pe of l){let se=null;if(Pe.provideAttributes($).forEach(ue=>{if(W===ue.name&&ue.description){let Fe=Qw(ue,i,s);Fe?se={contents:Fe,range:ee}:se=null}}),se)return se.contents=o(se.contents),se}return null}function y($,W,ee,Pe){for(let se of l){let ue=null;if(se.provideValues($,W).forEach(Fe=>{if(ee===Fe.name&&Fe.description){let Le=Qw(Fe,i,s);Le?ue={contents:Le,range:Pe}:ue=null}}),ue)return ue.contents=o(ue.contents),ue}return null}function b($,W){let ee=z($);for(let Pe in e0){let se=null,ue="&"+Pe;if(ee===ue){let Fe=e0[Pe].charCodeAt(0).toString(16).toUpperCase(),Le="U+";if(Fe.length<4){let Ce=4-Fe.length,we=0;for(;we<Ce;)Le+="0",we+=1}Le+=Fe;let ce=MIe.t("Character entity representing '{0}', unicode equivalent '{1}'",e0[Pe],Le);ce?se={contents:ce,range:W}:se=null}if(se)return se.contents=o(se.contents),se}return null}function T($,W){let ee=Ru(e.getText(),W),Pe=ee.scan();for(;Pe!==Qt.EOS&&(ee.getTokenEnd()<a||ee.getTokenEnd()===a&&Pe!==$);)Pe=ee.scan();return Pe===$&&a<=ee.getTokenEnd()?{start:e.positionAt(ee.getTokenOffset()),end:e.positionAt(ee.getTokenEnd())}:null}function k(){let $=a-1,W=t.character;for(;$>=0&&t0(u,$);)$--,W--;let ee=$+1,Pe=W;for(;t0(u,ee);)ee++,Pe++;if($>=0&&u[$]==="&"){let se=null;return u[ee]===";"?se=xi.create(qa.create(t.line,W),qa.create(t.line,Pe+1)):se=xi.create(qa.create(t.line,W),qa.create(t.line,Pe)),se}return null}function z($){let W=a-1,ee="&";for(;W>=0&&t0($,W);)W--;for(W=W+1;t0($,W);)ee+=$[W],W+=1;return ee+=";",ee}if(c.endTagStart&&a>=c.endTagStart){let $=T(Qt.EndTag,c.endTagStart);return $?d(c.tag,$,!1):null}let A=T(Qt.StartTag,c.start);if(A)return d(c.tag,A,!0);let U=T(Qt.AttributeName,c.start);if(U){let $=c.tag,W=e.getText(U);return f($,W,U)}let ne=k();if(ne)return b(u,ne);function de($,W){let ee=Ru(e.getText(),$),Pe=ee.scan(),se;for(;Pe!==Qt.EOS&&ee.getTokenEnd()<=W;)Pe=ee.scan(),Pe===Qt.AttributeName&&(se=ee.getTokenText());return se}let ve=T(Qt.AttributeValue,c.start);if(ve){let $=c.tag,W=x_t(e.getText(ve)),ee=de(c.start,e.offsetAt(ve.start));if(ee)return y($,ee,W,ve)}return null}convertContents(e){if(!this.doesSupportMarkdown()){if(typeof e=="string")return e;if("kind"in e)return{kind:"plaintext",value:e.value};if(Array.isArray(e))e.map(t=>typeof t=="string"?t:t.value);else return e.value}return e}doesSupportMarkdown(){if(!Kx(this.supportsMarkdown)){if(!Kx(this.lsOptions.clientCapabilities))return this.supportsMarkdown=!0,this.supportsMarkdown;let e=this.lsOptions.clientCapabilities?.textDocument?.hover?.contentFormat;this.supportsMarkdown=Array.isArray(e)&&e.indexOf(ig.Markdown)!==-1}return this.supportsMarkdown}}});function NIe(r,e){return r}var FIe=Ti(()=>{});var qIe,jIe,zIe=Ti(()=>{(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},,,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},,,,,function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},,function(i,o,s){var a=s(16).Beautifier,c=s(17).Options;function u(l,d){var f=new a(l,d);return f.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(17).Options,c=s(2).Output,u=s(8).InputScanner,l=s(13).Directives,d=new l(/\/\*/,/\*\//),f=/\r\n|[\r\n]/,y=/\r\n|[\r\n]/g,b=/\s/,T=/(?:\s|\n)+/g,k=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,z=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function A(U,ne){this._source_text=U||"",this._options=new a(ne),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}A.prototype.eatString=function(U){var ne="";for(this._ch=this._input.next();this._ch;){if(ne+=this._ch,this._ch==="\\")ne+=this._input.next();else if(U.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return ne},A.prototype.eatWhitespace=function(U){for(var ne=b.test(this._input.peek()),de=0;b.test(this._input.peek());)this._ch=this._input.next(),U&&this._ch===`
`&&(de===0||de<this._options.max_preserve_newlines)&&(de++,this._output.add_new_line(!0));return ne},A.prototype.foundNestedPseudoClass=function(){for(var U=0,ne=1,de=this._input.peek(ne);de;){if(de==="{")return!0;if(de==="(")U+=1;else if(de===")"){if(U===0)return!1;U-=1}else if(de===";"||de==="}")return!1;ne++,de=this._input.peek(ne)}return!1},A.prototype.print_string=function(U){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(U)},A.prototype.preserveSingleSpace=function(U){U&&(this._output.space_before_token=!0)},A.prototype.indent=function(){this._indentLevel++},A.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},A.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var U=this._source_text,ne=this._options.eol;ne==="auto"&&(ne=`
`,U&&f.test(U||"")&&(ne=U.match(f)[0])),U=U.replace(y,`
`);var de=U.match(/^[\t ]*/)[0];this._output=new c(this._options,de),this._input=new u(U),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var ve=0,$=!1,W=!1,ee=!1,Pe=!1,se=!1,ue=this._ch,Fe=!1,Le,ce,Ce;Le=this._input.read(T),ce=Le!=="",Ce=ue,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),ue=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var we=this._input.read(k),Ee=d.get_directives(we);Ee&&Ee.ignore==="start"&&(we+=d.readIgnored(this._input)),this.print_string(we),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(z)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(ce),this.print_string(this._ch);var Ne=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);Ne.match(/[ :]$/)&&(Ne=this.eatString(": ").replace(/\s+$/,""),this.print_string(Ne),this._output.space_before_token=!0),ve===0&&Ne.indexOf(":")!==-1&&(W=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(ce),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var $e=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);$e.match(/[ :]$/)&&($e=this.eatString(": ").replace(/\s+$/,""),this.print_string($e),this._output.space_before_token=!0),ve===0&&$e.indexOf(":")!==-1?(W=!0,this.indent()):$e in this.NESTED_AT_RULE?(this._nestedLevel+=1,$e in this.CONDITIONAL_GROUP_RULE&&(ee=!0)):ve===0&&!W&&(Pe=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(ce),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")W&&(W=!1,this.outdent()),Pe=!1,ee?(ee=!1,$=this._indentLevel>=this._nestedLevel):$=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&$&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(Ce==="("?this._output.space_before_token=!1:Ce!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),Ce==="{"&&this._output.trim(!0),W&&(this.outdent(),W=!1),this.print_string(this._ch),$=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var Ct=0;Ct<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;Ct++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[Ct])){Fe=!0;break}($||ee)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!Pe&&ve===0?(this.print_string(":"),W||(W=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var ze=Ce==='"'||Ce==="'";this.preserveSingleSpace(ze||ce),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")Fe=!1,ve===0?(W&&(this.outdent(),W=!1),Pe=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),ve++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),ve&&(ve--,this.outdent()));else{var st=!1;this._input.lookBack("with")&&(st=!0),this.preserveSingleSpace(ce||st),this.print_string(this._ch),W&&Ce==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),se=!0):(this.eatWhitespace(),ve++,this.indent())}else if(this._ch===")")ve&&(ve--,this.outdent()),se&&this._input.peek()===";"&&this._options.selector_separator_newline&&(se=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!W||se)&&ve===0&&!Pe?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!W&&ve===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&b.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(ce),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),b.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var at=Ce==='"'||Ce==="'";this.preserveSingleSpace(at||ce),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&Fe&&this._output.add_new_line()}var tt=this._output.get_code(ne);return tt},i.exports.Beautifier=A},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var l=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||l;var d=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var f=0;f<d.length;f++)d[f]!=="expand"?this.brace_style="collapse":this.brace_style=d[f]}c.prototype=new a,i.exports.Options=c}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(15);qIe=n})();jIe=qIe});function HIe(r,e){return UIe(r,e,NIe,jIe)}var UIe,WIe=Ti(()=>{FIe();zIe();(function(){"use strict";var r=[,,function(i){function o(c){this.__parent=c,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}o.prototype.clone_empty=function(){var c=new o(this.__parent);return c.set_indent(this.__indent_count,this.__alignment_count),c},o.prototype.item=function(c){return c<0?this.__items[this.__items.length+c]:this.__items[c]},o.prototype.has_match=function(c){for(var u=this.__items.length-1;u>=0;u--)if(this.__items[u].match(c))return!0;return!1},o.prototype.set_indent=function(c,u){this.is_empty()&&(this.__indent_count=c||0,this.__alignment_count=u||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},o.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},o.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},o.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var c=this.__parent.current_line;return c.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),c.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),c.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,c.__items[0]===" "&&(c.__items.splice(0,1),c.__character_count-=1),!0}return!1},o.prototype.is_empty=function(){return this.__items.length===0},o.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},o.prototype.push=function(c){this.__items.push(c);var u=c.lastIndexOf(`
`);u!==-1?this.__character_count=c.length-u:this.__character_count+=c.length},o.prototype.pop=function(){var c=null;return this.is_empty()||(c=this.__items.pop(),this.__character_count-=c.length),c},o.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},o.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},o.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},o.prototype.toString=function(){var c="";return this.is_empty()?this.__parent.indent_empty_lines&&(c=this.__parent.get_indent_string(this.__indent_count)):(c=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),c+=this.__items.join("")),c};function s(c,u){this.__cache=[""],this.__indent_size=c.indent_size,this.__indent_string=c.indent_char,c.indent_with_tabs||(this.__indent_string=new Array(c.indent_size+1).join(c.indent_char)),u=u||"",c.indent_level>0&&(u=new Array(c.indent_level+1).join(this.__indent_string)),this.__base_string=u,this.__base_string_length=u.length}s.prototype.get_indent_size=function(c,u){var l=this.__base_string_length;return u=u||0,c<0&&(l=0),l+=c*this.__indent_size,l+=u,l},s.prototype.get_indent_string=function(c,u){var l=this.__base_string;return u=u||0,c<0&&(c=0,l=""),u+=c*this.__indent_size,this.__ensure_cache(u),l+=this.__cache[u],l},s.prototype.__ensure_cache=function(c){for(;c>=this.__cache.length;)this.__add_column()},s.prototype.__add_column=function(){var c=this.__cache.length,u=0,l="";this.__indent_size&&c>=this.__indent_size&&(u=Math.floor(c/this.__indent_size),c-=u*this.__indent_size,l=new Array(u+1).join(this.__indent_string)),c&&(l+=new Array(c+1).join(" ")),this.__cache.push(l)};function a(c,u){this.__indent_cache=new s(c,u),this.raw=!1,this._end_with_newline=c.end_with_newline,this.indent_size=c.indent_size,this.wrap_line_length=c.wrap_line_length,this.indent_empty_lines=c.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new o(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}a.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},a.prototype.get_line_number=function(){return this.__lines.length},a.prototype.get_indent_string=function(c,u){return this.__indent_cache.get_indent_string(c,u)},a.prototype.get_indent_size=function(c,u){return this.__indent_cache.get_indent_size(c,u)},a.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},a.prototype.add_new_line=function(c){return this.is_empty()||!c&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},a.prototype.get_code=function(c){this.trim(!0);var u=this.current_line.pop();u&&(u[u.length-1]===`
`&&(u=u.replace(/\n+$/g,"")),this.current_line.push(u)),this._end_with_newline&&this.__add_outputline();var l=this.__lines.join(`
`);return c!==`
`&&(l=l.replace(/[\n]/g,c)),l},a.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},a.prototype.set_indent=function(c,u){return c=c||0,u=u||0,this.next_line.set_indent(c,u),this.__lines.length>1?(this.current_line.set_indent(c,u),!0):(this.current_line.set_indent(),!1)},a.prototype.add_raw_token=function(c){for(var u=0;u<c.newlines;u++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(c.whitespace_before),this.current_line.push(c.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},a.prototype.add_token=function(c){this.__add_space_before_token(),this.current_line.push(c),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},a.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},a.prototype.remove_indent=function(c){for(var u=this.__lines.length;c<u;)this.__lines[c]._remove_indent(),c++;this.current_line._remove_wrap_indent()},a.prototype.trim=function(c){for(c=c===void 0?!1:c,this.current_line.trim();c&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},a.prototype.just_added_newline=function(){return this.current_line.is_empty()},a.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},a.prototype.ensure_empty_line_above=function(c,u){for(var l=this.__lines.length-2;l>=0;){var d=this.__lines[l];if(d.is_empty())break;if(d.item(0).indexOf(c)!==0&&d.item(-1)!==u){this.__lines.splice(l+1,0,new o(this)),this.previous_line=this.__lines[this.__lines.length-2];break}l--}},i.exports.Output=a},function(i){function o(s,a,c,u){this.type=s,this.text=a,this.comments_before=null,this.newlines=c||0,this.whitespace_before=u||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}i.exports.Token=o},,,function(i){function o(c,u){this.raw_options=s(c,u),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}o.prototype._get_array=function(c,u){var l=this.raw_options[c],d=u||[];return typeof l=="object"?l!==null&&typeof l.concat=="function"&&(d=l.concat()):typeof l=="string"&&(d=l.split(/[^a-zA-Z0-9_\/\-]+/)),d},o.prototype._get_boolean=function(c,u){var l=this.raw_options[c],d=l===void 0?!!u:!!l;return d},o.prototype._get_characters=function(c,u){var l=this.raw_options[c],d=u||"";return typeof l=="string"&&(d=l.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),d},o.prototype._get_number=function(c,u){var l=this.raw_options[c];u=parseInt(u,10),isNaN(u)&&(u=0);var d=parseInt(l,10);return isNaN(d)&&(d=u),d},o.prototype._get_selection=function(c,u,l){var d=this._get_selection_list(c,u,l);if(d.length!==1)throw new Error("Invalid Option Value: The option '"+c+`' can only be one of the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d[0]},o.prototype._get_selection_list=function(c,u,l){if(!u||u.length===0)throw new Error("Selection list cannot be empty.");if(l=l||[u[0]],!this._is_valid_selection(l,u))throw new Error("Invalid Default Value!");var d=this._get_array(c,l);if(!this._is_valid_selection(d,u))throw new Error("Invalid Option Value: The option '"+c+`' can contain only the following values:
`+u+`
You passed in: '`+this.raw_options[c]+"'");return d},o.prototype._is_valid_selection=function(c,u){return c.length&&u.length&&!c.some(function(l){return u.indexOf(l)===-1})};function s(c,u){var l={};c=a(c);var d;for(d in c)d!==u&&(l[d]=c[d]);if(u&&c[u])for(d in c[u])l[d]=c[u][d];return l}function a(c){var u={},l;for(l in c){var d=l.replace(/-/g,"_");u[d]=c[l]}return u}i.exports.Options=o,i.exports.normalizeOpts=a,i.exports.mergeOpts=s},,function(i){var o=RegExp.prototype.hasOwnProperty("sticky");function s(a){this.__input=a||"",this.__input_length=this.__input.length,this.__position=0}s.prototype.restart=function(){this.__position=0},s.prototype.back=function(){this.__position>0&&(this.__position-=1)},s.prototype.hasNext=function(){return this.__position<this.__input_length},s.prototype.next=function(){var a=null;return this.hasNext()&&(a=this.__input.charAt(this.__position),this.__position+=1),a},s.prototype.peek=function(a){var c=null;return a=a||0,a+=this.__position,a>=0&&a<this.__input_length&&(c=this.__input.charAt(a)),c},s.prototype.__match=function(a,c){a.lastIndex=c;var u=a.exec(this.__input);return u&&!(o&&a.sticky)&&u.index!==c&&(u=null),u},s.prototype.test=function(a,c){return c=c||0,c+=this.__position,c>=0&&c<this.__input_length?!!this.__match(a,c):!1},s.prototype.testChar=function(a,c){var u=this.peek(c);return a.lastIndex=0,u!==null&&a.test(u)},s.prototype.match=function(a){var c=this.__match(a,this.__position);return c?this.__position+=c[0].length:c=null,c},s.prototype.read=function(a,c,u){var l="",d;return a&&(d=this.match(a),d&&(l+=d[0])),c&&(d||!a)&&(l+=this.readUntil(c,u)),l},s.prototype.readUntil=function(a,c){var u="",l=this.__position;a.lastIndex=this.__position;var d=a.exec(this.__input);return d?(l=d.index,c&&(l+=d[0].length)):l=this.__input_length,u=this.__input.substring(this.__position,l),this.__position=l,u},s.prototype.readUntilAfter=function(a){return this.readUntil(a,!0)},s.prototype.get_regexp=function(a,c){var u=null,l="g";return c&&o&&(l="y"),typeof a=="string"&&a!==""?u=new RegExp(a,l):a&&(u=new RegExp(a.source,l)),u},s.prototype.get_literal_regexp=function(a){return RegExp(a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},s.prototype.peekUntilAfter=function(a){var c=this.__position,u=this.readUntilAfter(a);return this.__position=c,u},s.prototype.lookBack=function(a){var c=this.__position-1;return c>=a.length&&this.__input.substring(c-a.length,c).toLowerCase()===a},i.exports.InputScanner=s},function(i,o,s){var a=s(8).InputScanner,c=s(3).Token,u=s(10).TokenStream,l=s(11).WhitespacePattern,d={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},f=function(y,b){this._input=new a(y),this._options=b||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new l(this._input)};f.prototype.tokenize=function(){this._input.restart(),this.__tokens=new u,this._reset();for(var y,b=new c(d.START,""),T=null,k=[],z=new u;b.type!==d.EOF;){for(y=this._get_next_token(b,T);this._is_comment(y);)z.add(y),y=this._get_next_token(b,T);z.isEmpty()||(y.comments_before=z,z=new u),y.parent=T,this._is_opening(y)?(k.push(T),T=y):T&&this._is_closing(y,T)&&(y.opened=T,T.closed=y,T=k.pop(),y.parent=T),y.previous=b,b.next=y,this.__tokens.add(y),b=y}return this.__tokens},f.prototype._is_first_token=function(){return this.__tokens.isEmpty()},f.prototype._reset=function(){},f.prototype._get_next_token=function(y,b){this._readWhitespace();var T=this._input.read(/.+/g);return T?this._create_token(d.RAW,T):this._create_token(d.EOF,"")},f.prototype._is_comment=function(y){return!1},f.prototype._is_opening=function(y){return!1},f.prototype._is_closing=function(y,b){return!1},f.prototype._create_token=function(y,b){var T=new c(y,b,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return T},f.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},i.exports.Tokenizer=f,i.exports.TOKEN=d},function(i){function o(s){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=s}o.prototype.restart=function(){this.__position=0},o.prototype.isEmpty=function(){return this.__tokens_length===0},o.prototype.hasNext=function(){return this.__position<this.__tokens_length},o.prototype.next=function(){var s=null;return this.hasNext()&&(s=this.__tokens[this.__position],this.__position+=1),s},o.prototype.peek=function(s){var a=null;return s=s||0,s+=this.__position,s>=0&&s<this.__tokens_length&&(a=this.__tokens[s]),a},o.prototype.add=function(s){this.__parent_token&&(s.parent=this.__parent_token),this.__tokens.push(s),this.__tokens_length+=1},i.exports.TokenStream=o},function(i,o,s){var a=s(12).Pattern;function c(u,l){a.call(this,u,l),l?this._line_regexp=this._input.get_regexp(l._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}c.prototype=new a,c.prototype.__set_whitespace_patterns=function(u,l){u+="\\t ",l+="\\n\\r",this._match_pattern=this._input.get_regexp("["+u+l+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+l+"]")},c.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var u=this._input.read(this._match_pattern);if(u===" ")this.whitespace_before_token=" ";else if(u){var l=this.__split(this._newline_regexp,u);this.newline_count=l.length-1,this.whitespace_before_token=l[this.newline_count]}return u},c.prototype.matching=function(u,l){var d=this._create();return d.__set_whitespace_patterns(u,l),d._update(),d},c.prototype._create=function(){return new c(this._input,this)},c.prototype.__split=function(u,l){u.lastIndex=0;for(var d=0,f=[],y=u.exec(l);y;)f.push(l.substring(d,y.index)),d=y.index+y[0].length,y=u.exec(l);return d<l.length?f.push(l.substring(d,l.length)):f.push(""),f},i.exports.WhitespacePattern=c},function(i){function o(s,a){this._input=s,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,a&&(this._starting_pattern=this._input.get_regexp(a._starting_pattern,!0),this._match_pattern=this._input.get_regexp(a._match_pattern,!0),this._until_pattern=this._input.get_regexp(a._until_pattern),this._until_after=a._until_after)}o.prototype.read=function(){var s=this._input.read(this._starting_pattern);return(!this._starting_pattern||s)&&(s+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),s},o.prototype.read_match=function(){return this._input.match(this._match_pattern)},o.prototype.until_after=function(s){var a=this._create();return a._until_after=!0,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.until=function(s){var a=this._create();return a._until_after=!1,a._until_pattern=this._input.get_regexp(s),a._update(),a},o.prototype.starting_with=function(s){var a=this._create();return a._starting_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype.matching=function(s){var a=this._create();return a._match_pattern=this._input.get_regexp(s,!0),a._update(),a},o.prototype._create=function(){return new o(this._input,this)},o.prototype._update=function(){},i.exports.Pattern=o},function(i){function o(s,a){s=typeof s=="string"?s:s.source,a=typeof a=="string"?a:a.source,this.__directives_block_pattern=new RegExp(s+/ beautify( \w+[:]\w+)+ /.source+a,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(s+/\sbeautify\signore:end\s/.source+a,"g")}o.prototype.get_directives=function(s){if(!s.match(this.__directives_block_pattern))return null;var a={};this.__directive_pattern.lastIndex=0;for(var c=this.__directive_pattern.exec(s);c;)a[c[1]]=c[2],c=this.__directive_pattern.exec(s);return a},o.prototype.readIgnored=function(s){return s.readUntilAfter(this.__directives_end_ignore_pattern)},i.exports.Directives=o},function(i,o,s){var a=s(12).Pattern,c={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function u(l,d){a.call(this,l,d),this.__template_pattern=null,this._disabled=Object.assign({},c),this._excluded=Object.assign({},c),d&&(this.__template_pattern=this._input.get_regexp(d.__template_pattern),this._excluded=Object.assign(this._excluded,d._excluded),this._disabled=Object.assign(this._disabled,d._disabled));var f=new a(l);this.__patterns={handlebars_comment:f.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:f.starting_with(/{{{/).until_after(/}}}/),handlebars:f.starting_with(/{{/).until_after(/}}/),php:f.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:f.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:f.starting_with(/{%/).until_after(/%}/),django_value:f.starting_with(/{{/).until_after(/}}/),django_comment:f.starting_with(/{#/).until_after(/#}/),smarty:f.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:f.starting_with(/{\*/).until_after(/\*}/),smarty_literal:f.starting_with(/{literal}/).until_after(/{\/literal}/)}}u.prototype=new a,u.prototype._create=function(){return new u(this._input,this)},u.prototype._update=function(){this.__set_templated_pattern()},u.prototype.disable=function(l){var d=this._create();return d._disabled[l]=!0,d._update(),d},u.prototype.read_options=function(l){var d=this._create();for(var f in c)d._disabled[f]=l.templating.indexOf(f)===-1;return d._update(),d},u.prototype.exclude=function(l){var d=this._create();return d._excluded[l]=!0,d._update(),d},u.prototype.read=function(){var l="";this._match_pattern?l=this._input.read(this._starting_pattern):l=this._input.read(this._starting_pattern,this.__template_pattern);for(var d=this._read_template();d;)this._match_pattern?d+=this._input.read(this._match_pattern):d+=this._input.readUntil(this.__template_pattern),l+=d,d=this._read_template();return this._until_after&&(l+=this._input.readUntilAfter(this._until_pattern)),l},u.prototype.__set_templated_pattern=function(){var l=[];this._disabled.php||l.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||l.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||l.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(l.push(this.__patterns.django._starting_pattern.source),l.push(this.__patterns.django_value._starting_pattern.source),l.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||l.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&l.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+l.join("|")+")")},u.prototype._read_template=function(){var l="",d=this._input.peek();if(d==="<"){var f=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&f==="?"&&(l=l||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&f==="%"&&(l=l||this.__patterns.erb.read())}else d==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(l=l||this.__patterns.handlebars_comment.read(),l=l||this.__patterns.handlebars_unescaped.read(),l=l||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(l=l||this.__patterns.django_value.read()),this._excluded.django||(l=l||this.__patterns.django_comment.read(),l=l||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(l=l||this.__patterns.smarty_comment.read(),l=l||this.__patterns.smarty_literal.read(),l=l||this.__patterns.smarty.read()));return l},i.exports.TemplatablePattern=u},,,,function(i,o,s){var a=s(19).Beautifier,c=s(20).Options;function u(l,d,f,y){var b=new a(l,d,f,y);return b.beautify()}i.exports=u,i.exports.defaultOptions=function(){return new c}},function(i,o,s){var a=s(20).Options,c=s(2).Output,u=s(21).Tokenizer,l=s(21).TOKEN,d=/\r\n|[\r\n]/,f=/\r\n|[\r\n]/g,y=function($,W){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=$.max_preserve_newlines,this.preserve_newlines=$.preserve_newlines,this._output=new c($,W)};y.prototype.current_line_has_match=function($){return this._output.current_line.has_match($)},y.prototype.set_space_before_token=function($,W){this._output.space_before_token=$,this._output.non_breaking_space=W},y.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},y.prototype.add_raw_token=function($){this._output.add_raw_token($)},y.prototype.print_preserved_newlines=function($){var W=0;$.type!==l.TEXT&&$.previous.type!==l.TEXT&&(W=$.newlines?1:0),this.preserve_newlines&&(W=$.newlines<this.max_preserve_newlines+1?$.newlines:this.max_preserve_newlines+1);for(var ee=0;ee<W;ee++)this.print_newline(ee>0);return W!==0},y.prototype.traverse_whitespace=function($){return $.whitespace_before||$.newlines?(this.print_preserved_newlines($)||(this._output.space_before_token=!0),!0):!1},y.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},y.prototype.print_newline=function($){this._output.add_new_line($)},y.prototype.print_token=function($){$.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token($.text))},y.prototype.indent=function(){this.indent_level++},y.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},y.prototype.get_full_indent=function($){return $=this.indent_level+($||0),$<1?"":this._output.get_indent_string($)};var b=function($){for(var W=null,ee=$.next;ee.type!==l.EOF&&$.closed!==ee;){if(ee.type===l.ATTRIBUTE&&ee.text==="type"){ee.next&&ee.next.type===l.EQUALS&&ee.next.next&&ee.next.next.type===l.VALUE&&(W=ee.next.next.text);break}ee=ee.next}return W},T=function($,W){var ee=null,Pe=null;return W.closed?($==="script"?ee="text/javascript":$==="style"&&(ee="text/css"),ee=b(W)||ee,ee.search("text/css")>-1?Pe="css":ee.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?Pe="javascript":ee.search(/(text|application|dojo)\/(x-)?(html)/)>-1?Pe="html":ee.search(/test\/null/)>-1&&(Pe="null"),Pe):null};function k($,W){return W.indexOf($)!==-1}function z($,W,ee){this.parent=$||null,this.tag=W?W.tag_name:"",this.indent_level=ee||0,this.parser_token=W||null}function A($){this._printer=$,this._current_frame=null}A.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},A.prototype.record_tag=function($){var W=new z(this._current_frame,$,this._printer.indent_level);this._current_frame=W},A.prototype._try_pop_frame=function($){var W=null;return $&&(W=$.parser_token,this._printer.indent_level=$.indent_level,this._current_frame=$.parent),W},A.prototype._get_frame=function($,W){for(var ee=this._current_frame;ee&&$.indexOf(ee.tag)===-1;){if(W&&W.indexOf(ee.tag)!==-1){ee=null;break}ee=ee.parent}return ee},A.prototype.try_pop=function($,W){var ee=this._get_frame([$],W);return this._try_pop_frame(ee)},A.prototype.indent_to_tag=function($){var W=this._get_frame($);W&&(this._printer.indent_level=W.indent_level)};function U($,W,ee,Pe){this._source_text=$||"",W=W||{},this._js_beautify=ee,this._css_beautify=Pe,this._tag_stack=null;var se=new a(W,"html");this._options=se,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}U.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var $=this._source_text,W=this._options.eol;this._options.eol==="auto"&&(W=`
`,$&&d.test($)&&(W=$.match(d)[0])),$=$.replace(f,`
`);var ee=$.match(/^[\t ]*/)[0],Pe={text:"",type:""},se=new ne,ue=new y(this._options,ee),Fe=new u($,this._options).tokenize();this._tag_stack=new A(ue);for(var Le=null,ce=Fe.next();ce.type!==l.EOF;)ce.type===l.TAG_OPEN||ce.type===l.COMMENT?(Le=this._handle_tag_open(ue,ce,se,Pe,Fe),se=Le):ce.type===l.ATTRIBUTE||ce.type===l.EQUALS||ce.type===l.VALUE||ce.type===l.TEXT&&!se.tag_complete?Le=this._handle_inside_tag(ue,ce,se,Pe):ce.type===l.TAG_CLOSE?Le=this._handle_tag_close(ue,ce,se):ce.type===l.TEXT?Le=this._handle_text(ue,ce,se):ce.type===l.CONTROL_FLOW_OPEN?Le=this._handle_control_flow_open(ue,ce):ce.type===l.CONTROL_FLOW_CLOSE?Le=this._handle_control_flow_close(ue,ce):ue.add_raw_token(ce),Pe=Le,ce=Fe.next();var Ce=ue._output.get_code(W);return Ce},U.prototype._handle_control_flow_open=function($,W){var ee={text:W.text,type:W.type};return $.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),W.newlines?$.print_preserved_newlines(W):$.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),$.print_token(W),$.indent(),ee},U.prototype._handle_control_flow_close=function($,W){var ee={text:W.text,type:W.type};return $.deindent(),W.newlines?$.print_preserved_newlines(W):$.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),$.print_token(W),ee},U.prototype._handle_tag_close=function($,W,ee){var Pe={text:W.text,type:W.type};return $.alignment_size=0,ee.tag_complete=!0,$.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),ee.is_unformatted?$.add_raw_token(W):(ee.tag_start_char==="<"&&($.set_space_before_token(W.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&ee.has_wrapped_attrs&&$.print_newline(!1)),$.print_token(W)),ee.indent_content&&!(ee.is_unformatted||ee.is_content_unformatted)&&($.indent(),ee.indent_content=!1),!ee.is_inline_element&&!(ee.is_unformatted||ee.is_content_unformatted)&&$.set_wrap_point(),Pe},U.prototype._handle_inside_tag=function($,W,ee,Pe){var se=ee.has_wrapped_attrs,ue={text:W.text,type:W.type};return $.set_space_before_token(W.newlines||W.whitespace_before!=="",!0),ee.is_unformatted?$.add_raw_token(W):ee.tag_start_char==="{"&&W.type===l.TEXT?$.print_preserved_newlines(W)?(W.newlines=0,$.add_raw_token(W)):$.print_token(W):(W.type===l.ATTRIBUTE?$.set_space_before_token(!0):(W.type===l.EQUALS||W.type===l.VALUE&&W.previous.type===l.EQUALS)&&$.set_space_before_token(!1),W.type===l.ATTRIBUTE&&ee.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&($.traverse_whitespace(W),se=se||W.newlines!==0),this._is_wrap_attributes_force&&ee.attr_count>=this._options.wrap_attributes_min_attrs&&(Pe.type!==l.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&($.print_newline(!1),se=!0)),$.print_token(W),se=se||$.previous_token_wrapped(),ee.has_wrapped_attrs=se),ue},U.prototype._handle_text=function($,W,ee){var Pe={text:W.text,type:"TK_CONTENT"};return ee.custom_beautifier_name?this._print_custom_beatifier_text($,W,ee):ee.is_unformatted||ee.is_content_unformatted?$.add_raw_token(W):($.traverse_whitespace(W),$.print_token(W)),Pe},U.prototype._print_custom_beatifier_text=function($,W,ee){var Pe=this;if(W.text!==""){var se=W.text,ue,Fe=1,Le="",ce="";ee.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?ue=this._js_beautify:ee.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?ue=this._css_beautify:ee.custom_beautifier_name==="html"&&(ue=function(Ct,ze){var st=new U(Ct,ze,Pe._js_beautify,Pe._css_beautify);return st.beautify()}),this._options.indent_scripts==="keep"?Fe=0:this._options.indent_scripts==="separate"&&(Fe=-$.indent_level);var Ce=$.get_full_indent(Fe);if(se=se.replace(/\n[ \t]*$/,""),ee.custom_beautifier_name!=="html"&&se[0]==="<"&&se.match(/^(<!--|<!\[CDATA\[)/)){var we=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(se);if(!we){$.add_raw_token(W);return}Le=Ce+we[1]+`
`,se=we[4],we[5]&&(ce=Ce+we[5]),se=se.replace(/\n[ \t]*$/,""),(we[2]||we[3].indexOf(`
`)!==-1)&&(we=we[3].match(/[ \t]+$/),we&&(W.whitespace_before=we[0]))}if(se)if(ue){var Ee=function(){this.eol=`
`};Ee.prototype=this._options.raw_options;var Ne=new Ee;se=ue(Ce+se,Ne)}else{var $e=W.whitespace_before;$e&&(se=se.replace(new RegExp(`
(`+$e+")?","g"),`
`)),se=Ce+se.replace(/\n/g,`
`+Ce)}Le&&(se?se=Le+se+`
`+ce:se=Le+ce),$.print_newline(!1),se&&(W.text=se,W.whitespace_before="",W.newlines=0,$.add_raw_token(W),$.print_newline(!0))}},U.prototype._handle_tag_open=function($,W,ee,Pe,se){var ue=this._get_tag_open_token(W);if((ee.is_unformatted||ee.is_content_unformatted)&&!ee.is_empty_element&&W.type===l.TAG_OPEN&&!ue.is_start_tag?($.add_raw_token(W),ue.start_tag_token=this._tag_stack.try_pop(ue.tag_name)):($.traverse_whitespace(W),this._set_tag_position($,W,ue,ee,Pe),ue.is_inline_element||$.set_wrap_point(),$.print_token(W)),ue.is_start_tag&&this._is_wrap_attributes_force){var Fe=0,Le;do Le=se.peek(Fe),Le.type===l.ATTRIBUTE&&(ue.attr_count+=1),Fe+=1;while(Le.type!==l.EOF&&Le.type!==l.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(ue.alignment_size=W.text.length+1),!ue.tag_complete&&!ue.is_unformatted&&($.alignment_size=ue.alignment_size),ue};var ne=function($,W){if(this.parent=$||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!W)this.tag_complete=!0;else{var ee;this.tag_start_char=W.text[0],this.text=W.text,this.tag_start_char==="<"?(ee=W.text.match(/^<([^\s>]*)/),this.tag_check=ee?ee[1]:""):(ee=W.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=ee?ee[1]:"",(W.text.startsWith("{{#>")||W.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&W.next!==null?this.tag_check=W.next.text.split(" ")[0]:this.tag_check=W.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),W.type===l.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||W.closed&&W.closed.text==="/>";var Pe=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(Pe=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(Pe)))}};U.prototype._get_tag_open_token=function($){var W=new ne(this._tag_stack.get_parser_token(),$);return W.alignment_size=this._options.wrap_attributes_indent_size,W.is_end_tag=W.is_end_tag||k(W.tag_check,this._options.void_elements),W.is_empty_element=W.tag_complete||W.is_start_tag&&W.is_end_tag,W.is_unformatted=!W.tag_complete&&k(W.tag_check,this._options.unformatted),W.is_content_unformatted=!W.is_empty_element&&k(W.tag_check,this._options.content_unformatted),W.is_inline_element=k(W.tag_name,this._options.inline)||this._options.inline_custom_elements&&W.tag_name.includes("-")||W.tag_start_char==="{",W},U.prototype._set_tag_position=function($,W,ee,Pe,se){if(ee.is_empty_element||(ee.is_end_tag?ee.start_tag_token=this._tag_stack.try_pop(ee.tag_name):(this._do_optional_end_element(ee)&&(ee.is_inline_element||$.print_newline(!1)),this._tag_stack.record_tag(ee),(ee.tag_name==="script"||ee.tag_name==="style")&&!(ee.is_unformatted||ee.is_content_unformatted)&&(ee.custom_beautifier_name=T(ee.tag_check,W)))),k(ee.tag_check,this._options.extra_liners)&&($.print_newline(!1),$._output.just_added_blankline()||$.print_newline(!0)),ee.is_empty_element){if(ee.tag_start_char==="{"&&ee.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),ee.indent_content=!0;var ue=$.current_line_has_match(/{{#if/);ue||$.print_newline(!1)}ee.tag_name==="!--"&&se.type===l.TAG_CLOSE&&Pe.is_end_tag&&ee.text.indexOf(`
`)===-1||(ee.is_inline_element||ee.is_unformatted||$.print_newline(!1),this._calcluate_parent_multiline($,ee))}else if(ee.is_end_tag){var Fe=!1;Fe=ee.start_tag_token&&ee.start_tag_token.multiline_content,Fe=Fe||!ee.is_inline_element&&!(Pe.is_inline_element||Pe.is_unformatted)&&!(se.type===l.TAG_CLOSE&&ee.start_tag_token===Pe)&&se.type!=="TK_CONTENT",(ee.is_content_unformatted||ee.is_unformatted)&&(Fe=!1),Fe&&$.print_newline(!1)}else ee.indent_content=!ee.custom_beautifier_name,ee.tag_start_char==="<"&&(ee.tag_name==="html"?ee.indent_content=this._options.indent_inner_html:ee.tag_name==="head"?ee.indent_content=this._options.indent_head_inner_html:ee.tag_name==="body"&&(ee.indent_content=this._options.indent_body_inner_html)),!(ee.is_inline_element||ee.is_unformatted)&&(se.type!=="TK_CONTENT"||ee.is_content_unformatted)&&$.print_newline(!1),this._calcluate_parent_multiline($,ee)},U.prototype._calcluate_parent_multiline=function($,W){W.parent&&$._output.just_added_newline()&&!((W.is_inline_element||W.is_unformatted)&&W.parent.is_inline_element)&&(W.parent.multiline_content=!0)};var de=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],ve=["a","audio","del","ins","map","noscript","video"];U.prototype._do_optional_end_element=function($){var W=null;if(!($.is_empty_element||!$.is_start_tag||!$.parent)){if($.tag_name==="body")W=W||this._tag_stack.try_pop("head");else if($.tag_name==="li")W=W||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if($.tag_name==="dd"||$.tag_name==="dt")W=W||this._tag_stack.try_pop("dt",["dl"]),W=W||this._tag_stack.try_pop("dd",["dl"]);else if($.parent.tag_name==="p"&&de.indexOf($.tag_name)!==-1){var ee=$.parent.parent;(!ee||ve.indexOf(ee.tag_name)===-1)&&(W=W||this._tag_stack.try_pop("p"))}else $.tag_name==="rp"||$.tag_name==="rt"?(W=W||this._tag_stack.try_pop("rt",["ruby","rtc"]),W=W||this._tag_stack.try_pop("rp",["ruby","rtc"])):$.tag_name==="optgroup"?W=W||this._tag_stack.try_pop("optgroup",["select"]):$.tag_name==="option"?W=W||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):$.tag_name==="colgroup"?W=W||this._tag_stack.try_pop("caption",["table"]):$.tag_name==="thead"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"])):$.tag_name==="tbody"||$.tag_name==="tfoot"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"]),W=W||this._tag_stack.try_pop("thead",["table"]),W=W||this._tag_stack.try_pop("tbody",["table"])):$.tag_name==="tr"?(W=W||this._tag_stack.try_pop("caption",["table"]),W=W||this._tag_stack.try_pop("colgroup",["table"]),W=W||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):($.tag_name==="th"||$.tag_name==="td")&&(W=W||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),W=W||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return $.parent=this._tag_stack.get_parser_token(),W}},i.exports.Beautifier=U},function(i,o,s){var a=s(6).Options;function c(u){a.call(this,u,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}c.prototype=new a,i.exports.Options=c},function(i,o,s){var a=s(9).Tokenizer,c=s(9).TOKEN,u=s(13).Directives,l=s(14).TemplatablePattern,d=s(12).Pattern,f={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:c.START,RAW:c.RAW,EOF:c.EOF},y=new u(/<\!--/,/-->/),b=function(T,k){a.call(this,T,k),this._current_tag_name="";var z=new l(this._input).read_options(this._options),A=new d(this._input);if(this.__patterns={word:z.until(/[\n\r\t <]/),word_control_flow_close_excluded:z.until(/[\n\r\t <}]/),single_quote:z.until_after(/'/),double_quote:z.until_after(/"/),attribute:z.until(/[\n\r\t =>]|\/>/),element_name:z.until(/[\n\r\t >\/]/),angular_control_flow_start:A.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:A.starting_with(/{{!--/).until_after(/--}}/),handlebars:A.starting_with(/{{/).until_after(/}}/),handlebars_open:A.until(/[\n\r\t }]/),handlebars_raw_close:A.until(/}}/),comment:A.starting_with(/<!--/).until_after(/-->/),cdata:A.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:A.starting_with(/<!\[/).until_after(/]>/),processing:A.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var U=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=A.matching(U).until_after(U)}};b.prototype=new a,b.prototype._is_comment=function(T){return!1},b.prototype._is_opening=function(T){return T.type===f.TAG_OPEN||T.type===f.CONTROL_FLOW_OPEN},b.prototype._is_closing=function(T,k){return T.type===f.TAG_CLOSE&&k&&((T.text===">"||T.text==="/>")&&k.text[0]==="<"||T.text==="}}"&&k.text[0]==="{"&&k.text[1]==="{")||T.type===f.CONTROL_FLOW_CLOSE&&T.text==="}"&&k.text.endsWith("{")},b.prototype._reset=function(){this._current_tag_name=""},b.prototype._get_next_token=function(T,k){var z=null;this._readWhitespace();var A=this._input.peek();return A===null?this._create_token(f.EOF,""):(z=z||this._read_open_handlebars(A,k),z=z||this._read_attribute(A,T,k),z=z||this._read_close(A,k),z=z||this._read_control_flows(A,k),z=z||this._read_raw_content(A,T,k),z=z||this._read_content_word(A,k),z=z||this._read_comment_or_cdata(A),z=z||this._read_processing(A),z=z||this._read_open(A,k),z=z||this._create_token(f.UNKNOWN,this._input.next()),z)},b.prototype._read_comment_or_cdata=function(T){var k=null,z=null,A=null;if(T==="<"){var U=this._input.peek(1);U==="!"&&(z=this.__patterns.comment.read(),z?(A=y.get_directives(z),A&&A.ignore==="start"&&(z+=y.readIgnored(this._input))):z=this.__patterns.cdata.read()),z&&(k=this._create_token(f.COMMENT,z),k.directives=A)}return k},b.prototype._read_processing=function(T){var k=null,z=null,A=null;if(T==="<"){var U=this._input.peek(1);(U==="!"||U==="?")&&(z=this.__patterns.conditional_comment.read(),z=z||this.__patterns.processing.read()),z&&(k=this._create_token(f.COMMENT,z),k.directives=A)}return k},b.prototype._read_open=function(T,k){var z=null,A=null;return(!k||k.type===f.CONTROL_FLOW_OPEN)&&T==="<"&&(z=this._input.next(),this._input.peek()==="/"&&(z+=this._input.next()),z+=this.__patterns.element_name.read(),A=this._create_token(f.TAG_OPEN,z)),A},b.prototype._read_open_handlebars=function(T,k){var z=null,A=null;return(!k||k.type===f.CONTROL_FLOW_OPEN)&&this._options.indent_handlebars&&T==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(z=this.__patterns.handlebars_comment.read(),z=z||this.__patterns.handlebars.read(),A=this._create_token(f.COMMENT,z)):(z=this.__patterns.handlebars_open.read(),A=this._create_token(f.TAG_OPEN,z))),A},b.prototype._read_control_flows=function(T,k){var z="",A=null;if(!this._options.templating.includes("angular")||!this._options.indent_handlebars)return A;if(T==="@"){if(z=this.__patterns.angular_control_flow_start.read(),z==="")return A;for(var U=z.endsWith("(")?1:0,ne=0;!(z.endsWith("{")&&U===ne);){var de=this._input.next();if(de===null)break;de==="("?U++:de===")"&&ne++,z+=de}A=this._create_token(f.CONTROL_FLOW_OPEN,z)}else T==="}"&&k&&k.type===f.CONTROL_FLOW_OPEN&&(z=this._input.next(),A=this._create_token(f.CONTROL_FLOW_CLOSE,z));return A},b.prototype._read_close=function(T,k){var z=null,A=null;return k&&k.type===f.TAG_OPEN&&(k.text[0]==="<"&&(T===">"||T==="/"&&this._input.peek(1)===">")?(z=this._input.next(),T==="/"&&(z+=this._input.next()),A=this._create_token(f.TAG_CLOSE,z)):k.text[0]==="{"&&T==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),A=this._create_token(f.TAG_CLOSE,"}}"))),A},b.prototype._read_attribute=function(T,k,z){var A=null,U="";if(z&&z.text[0]==="<")if(T==="=")A=this._create_token(f.EQUALS,this._input.next());else if(T==='"'||T==="'"){var ne=this._input.next();T==='"'?ne+=this.__patterns.double_quote.read():ne+=this.__patterns.single_quote.read(),A=this._create_token(f.VALUE,ne)}else U=this.__patterns.attribute.read(),U&&(k.type===f.EQUALS?A=this._create_token(f.VALUE,U):A=this._create_token(f.ATTRIBUTE,U));return A},b.prototype._is_content_unformatted=function(T){return this._options.void_elements.indexOf(T)===-1&&(this._options.content_unformatted.indexOf(T)!==-1||this._options.unformatted.indexOf(T)!==-1)},b.prototype._read_raw_content=function(T,k,z){var A="";if(z&&z.text[0]==="{")A=this.__patterns.handlebars_raw_close.read();else if(k.type===f.TAG_CLOSE&&k.opened.text[0]==="<"&&k.text[0]!=="/"){var U=k.opened.text.substr(1).toLowerCase();if(U==="script"||U==="style"){var ne=this._read_comment_or_cdata(T);if(ne)return ne.type=f.TEXT,ne;A=this._input.readUntil(new RegExp("</"+U+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(U)&&(A=this._input.readUntil(new RegExp("</"+U+"[\\n\\r\\t ]*?>","ig")))}return A?this._create_token(f.TEXT,A):null},b.prototype._read_content_word=function(T,k){var z="";if(this._options.unformatted_content_delimiter&&T===this._options.unformatted_content_delimiter[0]&&(z=this.__patterns.unformatted_content_delimiter.read()),z||(z=k&&k.type===f.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),z)return this._create_token(f.TEXT,z)},i.exports.Tokenizer=b,i.exports.TOKEN=f}],e={};function t(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return r[i](s,s.exports,t),s.exports}var n=t(18);UIe=n})()});function VIe(r,e,t){let n=r.getText(),i=!0,o=0,s=t.tabSize||4;if(e){let u=r.offsetAt(e.start),l=u;for(;l>0&&$Ie(n,l-1);)l--;l===0||BIe(n,l-1)?u=l:l<u&&(u=l+1);let d=r.offsetAt(e.end),f=d;for(;f<n.length&&$Ie(n,f);)f++;(f===n.length||BIe(n,f))&&(d=f),e=xi.create(r.positionAt(u),r.positionAt(d));let y=n.substring(0,u);if(new RegExp(/.*[<][^>]*$/).test(y))return n=n.substring(u,d),[{range:e,newText:n}];if(i=d===n.length,n=n.substring(u,d),u!==0){let b=r.offsetAt(qa.create(e.start.line,0));o=I_t(r.getText(),b,t)}}else e=xi.create(qa.create(0,0),r.positionAt(n.length));let a={indent_size:s,indent_char:t.insertSpaces?" ":"	",indent_empty_lines:og(t,"indentEmptyLines",!1),wrap_line_length:og(t,"wrapLineLength",120),unformatted:Yre(t,"unformatted",void 0),content_unformatted:Yre(t,"contentUnformatted",void 0),indent_inner_html:og(t,"indentInnerHtml",!1),preserve_newlines:og(t,"preserveNewLines",!0),max_preserve_newlines:og(t,"maxPreserveNewLines",32786),indent_handlebars:og(t,"indentHandlebars",!1),end_with_newline:i&&og(t,"endWithNewline",!1),extra_liners:Yre(t,"extraLiners",void 0),wrap_attributes:og(t,"wrapAttributes","auto"),wrap_attributes_indent_size:og(t,"wrapAttributesIndentSize",void 0),eol:`
`,indent_scripts:og(t,"indentScripts","normal"),templating:O_t(t,"all"),unformatted_content_delimiter:og(t,"unformattedContentDelimiter","")},c=HIe(E_t(n),a);if(o>0){let u=t.insertSpaces?Gre(" ",s*o):Gre("	",o);c=c.split(`
`).join(`
`+u),e.start.character===0&&(c=u+c)}return[{range:e,newText:c}]}function E_t(r){return r.replace(/^\s+/,"")}function og(r,e,t){if(r&&r.hasOwnProperty(e)){let n=r[e];if(n!==null)return n}return t}function Yre(r,e,t){let n=og(r,e,null);return typeof n=="string"?n.length>0?n.split(",").map(i=>i.trim().toLowerCase()):[]:t}function O_t(r,e){let t=og(r,"templating",e);return t===!0?["auto"]:t===!1||t===e||Array.isArray(t)===!1?["none"]:t}function I_t(r,e,t){let n=e,i=0,o=t.tabSize||4;for(;n<r.length;){let s=r.charAt(n);if(s===" ")i++;else if(s==="	")i+=o;else break;n++}return Math.floor(i/o)}function BIe(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}function $Ie(r,e){return" 	".indexOf(r.charAt(e))!==-1}var GIe=Ti(()=>{em();WIe();Gx()});var KIe,YIe,E6t,JIe=Ti(()=>{(()=>{"use strict";var r={975:se=>{function ue(ce){if(typeof ce!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(ce))}function Fe(ce,Ce){for(var we,Ee="",Ne=0,$e=-1,Ct=0,ze=0;ze<=ce.length;++ze){if(ze<ce.length)we=ce.charCodeAt(ze);else{if(we===47)break;we=47}if(we===47){if(!($e===ze-1||Ct===1))if($e!==ze-1&&Ct===2){if(Ee.length<2||Ne!==2||Ee.charCodeAt(Ee.length-1)!==46||Ee.charCodeAt(Ee.length-2)!==46){if(Ee.length>2){var st=Ee.lastIndexOf("/");if(st!==Ee.length-1){st===-1?(Ee="",Ne=0):Ne=(Ee=Ee.slice(0,st)).length-1-Ee.lastIndexOf("/"),$e=ze,Ct=0;continue}}else if(Ee.length===2||Ee.length===1){Ee="",Ne=0,$e=ze,Ct=0;continue}}Ce&&(Ee.length>0?Ee+="/..":Ee="..",Ne=2)}else Ee.length>0?Ee+="/"+ce.slice($e+1,ze):Ee=ce.slice($e+1,ze),Ne=ze-$e-1;$e=ze,Ct=0}else we===46&&Ct!==-1?++Ct:Ct=-1}return Ee}var Le={resolve:function(){for(var ce,Ce="",we=!1,Ee=arguments.length-1;Ee>=-1&&!we;Ee--){var Ne;Ee>=0?Ne=arguments[Ee]:(ce===void 0&&(ce=process.cwd()),Ne=ce),ue(Ne),Ne.length!==0&&(Ce=Ne+"/"+Ce,we=Ne.charCodeAt(0)===47)}return Ce=Fe(Ce,!we),we?Ce.length>0?"/"+Ce:"/":Ce.length>0?Ce:"."},normalize:function(ce){if(ue(ce),ce.length===0)return".";var Ce=ce.charCodeAt(0)===47,we=ce.charCodeAt(ce.length-1)===47;return(ce=Fe(ce,!Ce)).length!==0||Ce||(ce="."),ce.length>0&&we&&(ce+="/"),Ce?"/"+ce:ce},isAbsolute:function(ce){return ue(ce),ce.length>0&&ce.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var ce,Ce=0;Ce<arguments.length;++Ce){var we=arguments[Ce];ue(we),we.length>0&&(ce===void 0?ce=we:ce+="/"+we)}return ce===void 0?".":Le.normalize(ce)},relative:function(ce,Ce){if(ue(ce),ue(Ce),ce===Ce||(ce=Le.resolve(ce))===(Ce=Le.resolve(Ce)))return"";for(var we=1;we<ce.length&&ce.charCodeAt(we)===47;++we);for(var Ee=ce.length,Ne=Ee-we,$e=1;$e<Ce.length&&Ce.charCodeAt($e)===47;++$e);for(var Ct=Ce.length-$e,ze=Ne<Ct?Ne:Ct,st=-1,at=0;at<=ze;++at){if(at===ze){if(Ct>ze){if(Ce.charCodeAt($e+at)===47)return Ce.slice($e+at+1);if(at===0)return Ce.slice($e+at)}else Ne>ze&&(ce.charCodeAt(we+at)===47?st=at:at===0&&(st=0));break}var tt=ce.charCodeAt(we+at);if(tt!==Ce.charCodeAt($e+at))break;tt===47&&(st=at)}var pr="";for(at=we+st+1;at<=Ee;++at)at!==Ee&&ce.charCodeAt(at)!==47||(pr.length===0?pr+="..":pr+="/..");return pr.length>0?pr+Ce.slice($e+st):($e+=st,Ce.charCodeAt($e)===47&&++$e,Ce.slice($e))},_makeLong:function(ce){return ce},dirname:function(ce){if(ue(ce),ce.length===0)return".";for(var Ce=ce.charCodeAt(0),we=Ce===47,Ee=-1,Ne=!0,$e=ce.length-1;$e>=1;--$e)if((Ce=ce.charCodeAt($e))===47){if(!Ne){Ee=$e;break}}else Ne=!1;return Ee===-1?we?"/":".":we&&Ee===1?"//":ce.slice(0,Ee)},basename:function(ce,Ce){if(Ce!==void 0&&typeof Ce!="string")throw new TypeError('"ext" argument must be a string');ue(ce);var we,Ee=0,Ne=-1,$e=!0;if(Ce!==void 0&&Ce.length>0&&Ce.length<=ce.length){if(Ce.length===ce.length&&Ce===ce)return"";var Ct=Ce.length-1,ze=-1;for(we=ce.length-1;we>=0;--we){var st=ce.charCodeAt(we);if(st===47){if(!$e){Ee=we+1;break}}else ze===-1&&($e=!1,ze=we+1),Ct>=0&&(st===Ce.charCodeAt(Ct)?--Ct==-1&&(Ne=we):(Ct=-1,Ne=ze))}return Ee===Ne?Ne=ze:Ne===-1&&(Ne=ce.length),ce.slice(Ee,Ne)}for(we=ce.length-1;we>=0;--we)if(ce.charCodeAt(we)===47){if(!$e){Ee=we+1;break}}else Ne===-1&&($e=!1,Ne=we+1);return Ne===-1?"":ce.slice(Ee,Ne)},extname:function(ce){ue(ce);for(var Ce=-1,we=0,Ee=-1,Ne=!0,$e=0,Ct=ce.length-1;Ct>=0;--Ct){var ze=ce.charCodeAt(Ct);if(ze!==47)Ee===-1&&(Ne=!1,Ee=Ct+1),ze===46?Ce===-1?Ce=Ct:$e!==1&&($e=1):Ce!==-1&&($e=-1);else if(!Ne){we=Ct+1;break}}return Ce===-1||Ee===-1||$e===0||$e===1&&Ce===Ee-1&&Ce===we+1?"":ce.slice(Ce,Ee)},format:function(ce){if(ce===null||typeof ce!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof ce);return function(Ce,we){var Ee=we.dir||we.root,Ne=we.base||(we.name||"")+(we.ext||"");return Ee?Ee===we.root?Ee+Ne:Ee+"/"+Ne:Ne}(0,ce)},parse:function(ce){ue(ce);var Ce={root:"",dir:"",base:"",ext:"",name:""};if(ce.length===0)return Ce;var we,Ee=ce.charCodeAt(0),Ne=Ee===47;Ne?(Ce.root="/",we=1):we=0;for(var $e=-1,Ct=0,ze=-1,st=!0,at=ce.length-1,tt=0;at>=we;--at)if((Ee=ce.charCodeAt(at))!==47)ze===-1&&(st=!1,ze=at+1),Ee===46?$e===-1?$e=at:tt!==1&&(tt=1):$e!==-1&&(tt=-1);else if(!st){Ct=at+1;break}return $e===-1||ze===-1||tt===0||tt===1&&$e===ze-1&&$e===Ct+1?ze!==-1&&(Ce.base=Ce.name=Ct===0&&Ne?ce.slice(1,ze):ce.slice(Ct,ze)):(Ct===0&&Ne?(Ce.name=ce.slice(1,$e),Ce.base=ce.slice(1,ze)):(Ce.name=ce.slice(Ct,$e),Ce.base=ce.slice(Ct,ze)),Ce.ext=ce.slice($e,ze)),Ct>0?Ce.dir=ce.slice(0,Ct-1):Ne&&(Ce.dir="/"),Ce},sep:"/",delimiter:":",win32:null,posix:null};Le.posix=Le,se.exports=Le}},e={};function t(se){var ue=e[se];if(ue!==void 0)return ue.exports;var Fe=e[se]={exports:{}};return r[se](Fe,Fe.exports,t),Fe.exports}t.d=(se,ue)=>{for(var Fe in ue)t.o(ue,Fe)&&!t.o(se,Fe)&&Object.defineProperty(se,Fe,{enumerable:!0,get:ue[Fe]})},t.o=(se,ue)=>Object.prototype.hasOwnProperty.call(se,ue),t.r=se=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(se,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(se,"__esModule",{value:!0})};var n={};let i;t.r(n),t.d(n,{URI:()=>f,Utils:()=>Pe}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(se,ue){if(!se.scheme&&ue)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${se.authority}", path: "${se.path}", query: "${se.query}", fragment: "${se.fragment}"}`);if(se.scheme&&!o.test(se.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(se.path){if(se.authority){if(!s.test(se.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(se.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",l="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class f{static isUri(ue){return ue instanceof f||!!ue&&typeof ue.authority=="string"&&typeof ue.fragment=="string"&&typeof ue.path=="string"&&typeof ue.query=="string"&&typeof ue.scheme=="string"&&typeof ue.fsPath=="string"&&typeof ue.with=="function"&&typeof ue.toString=="function"}scheme;authority;path;query;fragment;constructor(ue,Fe,Le,ce,Ce,we=!1){typeof ue=="object"?(this.scheme=ue.scheme||u,this.authority=ue.authority||u,this.path=ue.path||u,this.query=ue.query||u,this.fragment=ue.fragment||u):(this.scheme=function(Ee,Ne){return Ee||Ne?Ee:"file"}(ue,we),this.authority=Fe||u,this.path=function(Ee,Ne){switch(Ee){case"https":case"http":case"file":Ne?Ne[0]!==l&&(Ne=l+Ne):Ne=l}return Ne}(this.scheme,Le||u),this.query=ce||u,this.fragment=Ce||u,c(this,we))}get fsPath(){return A(this,!1)}with(ue){if(!ue)return this;let{scheme:Fe,authority:Le,path:ce,query:Ce,fragment:we}=ue;return Fe===void 0?Fe=this.scheme:Fe===null&&(Fe=u),Le===void 0?Le=this.authority:Le===null&&(Le=u),ce===void 0?ce=this.path:ce===null&&(ce=u),Ce===void 0?Ce=this.query:Ce===null&&(Ce=u),we===void 0?we=this.fragment:we===null&&(we=u),Fe===this.scheme&&Le===this.authority&&ce===this.path&&Ce===this.query&&we===this.fragment?this:new b(Fe,Le,ce,Ce,we)}static parse(ue,Fe=!1){let Le=d.exec(ue);return Le?new b(Le[2]||u,ve(Le[4]||u),ve(Le[5]||u),ve(Le[7]||u),ve(Le[9]||u),Fe):new b(u,u,u,u,u)}static file(ue){let Fe=u;if(i&&(ue=ue.replace(/\\/g,l)),ue[0]===l&&ue[1]===l){let Le=ue.indexOf(l,2);Le===-1?(Fe=ue.substring(2),ue=l):(Fe=ue.substring(2,Le),ue=ue.substring(Le)||l)}return new b("file",Fe,ue,u,u)}static from(ue){let Fe=new b(ue.scheme,ue.authority,ue.path,ue.query,ue.fragment);return c(Fe,!0),Fe}toString(ue=!1){return U(this,ue)}toJSON(){return this}static revive(ue){if(ue){if(ue instanceof f)return ue;{let Fe=new b(ue);return Fe._formatted=ue.external,Fe._fsPath=ue._sep===y?ue.fsPath:null,Fe}}return ue}}let y=i?1:void 0;class b extends f{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=A(this,!1)),this._fsPath}toString(ue=!1){return ue?U(this,!0):(this._formatted||(this._formatted=U(this,!1)),this._formatted)}toJSON(){let ue={$mid:1};return this._fsPath&&(ue.fsPath=this._fsPath,ue._sep=y),this._formatted&&(ue.external=this._formatted),this.path&&(ue.path=this.path),this.scheme&&(ue.scheme=this.scheme),this.authority&&(ue.authority=this.authority),this.query&&(ue.query=this.query),this.fragment&&(ue.fragment=this.fragment),ue}}let T={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function k(se,ue,Fe){let Le,ce=-1;for(let Ce=0;Ce<se.length;Ce++){let we=se.charCodeAt(Ce);if(we>=97&&we<=122||we>=65&&we<=90||we>=48&&we<=57||we===45||we===46||we===95||we===126||ue&&we===47||Fe&&we===91||Fe&&we===93||Fe&&we===58)ce!==-1&&(Le+=encodeURIComponent(se.substring(ce,Ce)),ce=-1),Le!==void 0&&(Le+=se.charAt(Ce));else{Le===void 0&&(Le=se.substr(0,Ce));let Ee=T[we];Ee!==void 0?(ce!==-1&&(Le+=encodeURIComponent(se.substring(ce,Ce)),ce=-1),Le+=Ee):ce===-1&&(ce=Ce)}}return ce!==-1&&(Le+=encodeURIComponent(se.substring(ce))),Le!==void 0?Le:se}function z(se){let ue;for(let Fe=0;Fe<se.length;Fe++){let Le=se.charCodeAt(Fe);Le===35||Le===63?(ue===void 0&&(ue=se.substr(0,Fe)),ue+=T[Le]):ue!==void 0&&(ue+=se[Fe])}return ue!==void 0?ue:se}function A(se,ue){let Fe;return Fe=se.authority&&se.path.length>1&&se.scheme==="file"?`//${se.authority}${se.path}`:se.path.charCodeAt(0)===47&&(se.path.charCodeAt(1)>=65&&se.path.charCodeAt(1)<=90||se.path.charCodeAt(1)>=97&&se.path.charCodeAt(1)<=122)&&se.path.charCodeAt(2)===58?ue?se.path.substr(1):se.path[1].toLowerCase()+se.path.substr(2):se.path,i&&(Fe=Fe.replace(/\//g,"\\")),Fe}function U(se,ue){let Fe=ue?z:k,Le="",{scheme:ce,authority:Ce,path:we,query:Ee,fragment:Ne}=se;if(ce&&(Le+=ce,Le+=":"),(Ce||ce==="file")&&(Le+=l,Le+=l),Ce){let $e=Ce.indexOf("@");if($e!==-1){let Ct=Ce.substr(0,$e);Ce=Ce.substr($e+1),$e=Ct.lastIndexOf(":"),$e===-1?Le+=Fe(Ct,!1,!1):(Le+=Fe(Ct.substr(0,$e),!1,!1),Le+=":",Le+=Fe(Ct.substr($e+1),!1,!0)),Le+="@"}Ce=Ce.toLowerCase(),$e=Ce.lastIndexOf(":"),$e===-1?Le+=Fe(Ce,!1,!0):(Le+=Fe(Ce.substr(0,$e),!1,!0),Le+=Ce.substr($e))}if(we){if(we.length>=3&&we.charCodeAt(0)===47&&we.charCodeAt(2)===58){let $e=we.charCodeAt(1);$e>=65&&$e<=90&&(we=`/${String.fromCharCode($e+32)}:${we.substr(3)}`)}else if(we.length>=2&&we.charCodeAt(1)===58){let $e=we.charCodeAt(0);$e>=65&&$e<=90&&(we=`${String.fromCharCode($e+32)}:${we.substr(2)}`)}Le+=Fe(we,!0,!1)}return Ee&&(Le+="?",Le+=Fe(Ee,!1,!1)),Ne&&(Le+="#",Le+=ue?Ne:k(Ne,!1,!1)),Le}function ne(se){try{return decodeURIComponent(se)}catch{return se.length>3?se.substr(0,3)+ne(se.substr(3)):se}}let de=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ve(se){return se.match(de)?se.replace(de,ue=>ne(ue)):se}var $=t(975);let W=$.posix||$,ee="/";var Pe;(function(se){se.joinPath=function(ue,...Fe){return ue.with({path:W.join(ue.path,...Fe)})},se.resolvePath=function(ue,...Fe){let Le=ue.path,ce=!1;Le[0]!==ee&&(Le=ee+Le,ce=!0);let Ce=W.resolve(Le,...Fe);return ce&&Ce[0]===ee&&!ue.authority&&(Ce=Ce.substring(1)),ue.with({path:Ce})},se.dirname=function(ue){if(ue.path.length===0||ue.path===ee)return ue;let Fe=W.dirname(ue.path);return Fe.length===1&&Fe.charCodeAt(0)===46&&(Fe=""),ue.with({path:Fe})},se.basename=function(ue){return W.basename(ue.path)},se.extname=function(ue){return W.extname(ue.path)}})(Pe||(Pe={})),KIe=n})();({URI:YIe,Utils:E6t}=KIe)});function Jre(r){let e=r[0],t=r[r.length-1];return e===t&&(e==="'"||e==='"')&&(r=r.substring(1,r.length-1)),r}function k_t(r,e){return!r.length||e==="handlebars"&&/{{|}}/.test(r)?!1:/\b(w[\w\d+.-]*:\/\/)?[^\s()<>]+(?:\([\w\d]+\)|([^[:punct:]\s]|\/?))/.test(r)}function A_t(r,e,t,n){if(/^\s*javascript\:/i.test(e)||/[\n\r]/.test(e))return;e=e.replace(/^\s*/g,"");let i=e.match(/^(\w[\w\d+.-]*):/);if(i){let o=i[1].toLowerCase();return o==="http"||o==="https"||o==="file"?e:void 0}return/^\#/i.test(e)?r+e:/^\/\//i.test(e)?(Iy(r,"https://")?"https":"http")+":"+e.replace(/^\s*/g,""):t?t.resolveReference(e,n||r):e}function M_t(r,e,t,n,i,o){let s=Jre(t);if(!k_t(s,r.languageId))return;s.length<t.length&&(n++,i--);let a=A_t(r.uri,s,e,o);if(!a)return;let c=N_t(a,r);return{range:xi.create(r.positionAt(n),r.positionAt(i)),target:c}}function N_t(r,e){try{let t=YIe.parse(r);return t.scheme==="file"&&t.query&&(t=t.with({query:null}),r=t.toString(!0)),t.scheme==="file"&&t.fragment&&!(r.startsWith(e.uri)&&r.charCodeAt(e.uri.length)===L_t)?t.with({fragment:null}).toString(!0):r}catch{return}}var L_t,RW,XIe=Ti(()=>{Xw();Gx();JIe();em();L_t=35;RW=class{constructor(e){this.dataManager=e}findDocumentLinks(e,t){let n=[],i=Ru(e.getText(),0),o=i.scan(),s,a,c=!1,u,l={};for(;o!==Qt.EOS;){switch(o){case Qt.StartTag:a=i.getTokenText().toLowerCase(),u||(c=a==="base");break;case Qt.AttributeName:s=i.getTokenText().toLowerCase();break;case Qt.AttributeValue:if(a&&s&&this.dataManager.isPathAttribute(a,s)){let d=i.getTokenText();if(!c){let f=M_t(e,t,d,i.getTokenOffset(),i.getTokenEnd(),u);f&&n.push(f)}c&&typeof u>"u"&&(u=Jre(d),u&&t&&(u=t.resolveReference(u,e.uri))),c=!1,s=void 0}else if(s==="id"){let d=Jre(i.getTokenText());l[d]=i.getTokenOffset()}break}o=i.scan()}for(let d of n){let f=e.uri+"#";if(d.target&&Iy(d.target,f)){let y=d.target.substring(f.length),b=l[y];if(b!==void 0){let T=e.positionAt(b);d.target=`${f}${T.line+1},${T.character+1}`}else d.target=e.uri}}return n}}});function tke(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag)return[];let o=[],s=eke(Qt.StartTag,r,i.start),a=typeof i.endTagStart=="number"&&eke(Qt.EndTag,r,i.endTagStart);return(s&&ZIe(s,e)||a&&ZIe(a,e))&&(s&&o.push({kind:XT.Read,range:s}),a&&o.push({kind:XT.Read,range:a})),o}function QIe(r,e){return r.line<e.line||r.line===e.line&&r.character<=e.character}function ZIe(r,e){return QIe(r.start,e)&&QIe(e,r.end)}function eke(r,e,t){let n=Ru(e.getText(),t),i=n.scan();for(;i!==Qt.EOS&&i!==r;)i=n.scan();return i!==Qt.EOS?{start:e.positionAt(n.getTokenOffset()),end:e.positionAt(n.getTokenEnd())}:null}var rke=Ti(()=>{Xw();em()});function nke(r,e){let t=[],n=Xre(r,e);for(let o of n)i(o,void 0);return t;function i(o,s){let a=Bx.create(o.name,o.kind,o.range,r.uri,s?.name);if(a.containerName??(a.containerName=""),t.push(a),o.children)for(let c of o.children)i(c,o)}}function Xre(r,e){let t=[];return e.roots.forEach(n=>{ike(r,n,t)}),t}function ike(r,e,t){let n=F_t(e),i=xi.create(r.positionAt(e.start),r.positionAt(e.end)),o=$x.create(n,void 0,Wx.Field,i,i);t.push(o),e.children.forEach(s=>{o.children??(o.children=[]),ike(r,s,o.children)})}function F_t(r){let e=r.tag;if(r.attributes){let t=r.attributes.id,n=r.attributes.class;t&&(e+=`#${t.replace(/[\"\']/g,"")}`),n&&(e+=n.replace(/[\"\']/g,"").split(/\s+/).map(i=>`.${i}`).join(""))}return e||"?"}var oke=Ti(()=>{em()});function ske(r,e,t,n){let i=r.offsetAt(e),o=n.findNodeAt(i);if(!o.tag||!q_t(o,i,o.tag))return null;let s=[],a={start:r.positionAt(o.start+1),end:r.positionAt(o.start+1+o.tag.length)};if(s.push({range:a,newText:t}),o.endTagStart){let u={start:r.positionAt(o.endTagStart+2),end:r.positionAt(o.endTagStart+2+o.tag.length)};s.push({range:u,newText:t})}return{changes:{[r.uri.toString()]:s}}}function q_t(r,e,t){return r.endTagStart&&r.endTagStart+2<=e&&e<=r.endTagStart+2+t.length?!0:r.start+1<=e&&e<=r.start+1+t.length}var ake=Ti(()=>{});function cke(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n);if(!i.tag||!i.endTagStart)return null;if(i.start+1<=n&&n<=i.start+1+i.tag.length){let o=n-1-i.start+i.endTagStart+2;return r.positionAt(o)}if(i.endTagStart+2<=n&&n<=i.endTagStart+2+i.tag.length){let o=n-2-i.endTagStart+i.start+1;return r.positionAt(o)}return null}var uke=Ti(()=>{});function Qre(r,e,t){let n=r.offsetAt(e),i=t.findNodeAt(n),o=i.tag?i.tag.length:0;return i.endTagStart&&(i.start+1<=n&&n<=i.start+1+o||i.endTagStart+2<=n&&n<=i.endTagStart+2+o)?[xi.create(r.positionAt(i.start+1),r.positionAt(i.start+1+o)),xi.create(r.positionAt(i.endTagStart+2),r.positionAt(i.endTagStart+2+o))]:null}var lke=Ti(()=>{em()});var xW,dke=Ti(()=>{em();Xw();xW=class{constructor(e){this.dataManager=e}limitRanges(e,t){e=e.sort((d,f)=>{let y=d.startLine-f.startLine;return y===0&&(y=d.endLine-f.endLine),y});let n,i=[],o=[],s=[],a=(d,f)=>{o[d]=f,f<30&&(s[f]=(s[f]||0)+1)};for(let d=0;d<e.length;d++){let f=e[d];if(!n)n=f,a(d,0);else if(f.startLine>n.startLine){if(f.endLine<=n.endLine)i.push(n),n=f,a(d,i.length);else if(f.startLine>n.endLine){do n=i.pop();while(n&&f.startLine>n.endLine);n&&i.push(n),n=f,a(d,i.length)}}}let c=0,u=0;for(let d=0;d<s.length;d++){let f=s[d];if(f){if(f+c>t){u=d;break}c+=f}}let l=[];for(let d=0;d<e.length;d++){let f=o[d];typeof f=="number"&&(f<u||f===u&&c++<t)&&l.push(e[d])}return l}getFoldingRanges(e,t){let n=Ru(e.getText()),i=n.scan(),o=[],s=[],a=null,c=-1,u;function l(f){o.push(f),c=f.startLine}for(;i!==Qt.EOS;){switch(i){case Qt.StartTag:{let f=n.getTokenText(),y=e.positionAt(n.getTokenOffset()).line;s.push({startLine:y,tagName:f}),a=f;break}case Qt.EndTag:{a=n.getTokenText();break}case Qt.StartTagClose:if(!a||(u??(u=this.dataManager.getVoidElements(e.languageId)),!this.dataManager.isVoidElement(a,u)))break;case Qt.EndTagClose:case Qt.StartTagSelfClose:{let f=s.length-1;for(;f>=0&&s[f].tagName!==a;)f--;if(f>=0){let y=s[f];s.length=f;let b=e.positionAt(n.getTokenOffset()).line,T=y.startLine,k=b-1;k>T&&c!==T&&l({startLine:T,endLine:k})}break}case Qt.Comment:{let f=e.positionAt(n.getTokenOffset()).line,b=n.getTokenText().match(/^\s*#(region\b)|(endregion\b)/);if(b)if(b[1])s.push({startLine:f,tagName:""});else{let T=s.length-1;for(;T>=0&&s[T].tagName.length;)T--;if(T>=0){let k=s[T];s.length=T;let z=f;f=k.startLine,z>f&&c!==f&&l({startLine:f,endLine:z,kind:YT.Region})}}else{let T=e.positionAt(n.getTokenOffset()+n.getTokenLength()).line;f<T&&l({startLine:f,endLine:T,kind:YT.Comment})}break}}i=n.scan()}let d=t&&t.rangeLimit||Number.MAX_VALUE;return o.length>d?this.limitRanges(o,d):o}}});var EW,fke=Ti(()=>{Xw();em();EW=class{constructor(e){this.htmlParser=e}getSelectionRanges(e,t){let n=this.htmlParser.parseDocument(e);return t.map(i=>this.getSelectionRange(i,e,n))}getSelectionRange(e,t,n){let i=this.getApplicableRanges(t,e,n),o,s;for(let a=i.length-1;a>=0;a--){let c=i[a];(!o||c[0]!==o[0]||c[1]!==o[1])&&(s=QT.create(xi.create(t.positionAt(i[a][0]),t.positionAt(i[a][1])),s)),o=c}return s||(s=QT.create(xi.create(e,e))),s}getApplicableRanges(e,t,n){let i=e.offsetAt(t),o=n.findNodeAt(i),s=this.getAllParentTagRanges(o);if(o.startTagEnd&&!o.endTagStart){if(o.startTagEnd!==o.end)return[[o.start,o.end]];let a=xi.create(e.positionAt(o.startTagEnd-2),e.positionAt(o.startTagEnd));return e.getText(a)==="/>"?s.unshift([o.start+1,o.startTagEnd-2]):s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s}return!o.startTagEnd||!o.endTagStart?s:(s.unshift([o.start,o.end]),o.start<i&&i<o.startTagEnd?(s.unshift([o.start+1,o.startTagEnd-1]),s=this.getAttributeLevelRanges(e,o,i).concat(s),s):o.startTagEnd<=i&&i<=o.endTagStart?(s.unshift([o.startTagEnd,o.endTagStart]),s):(i>=o.endTagStart+2&&s.unshift([o.endTagStart+2,o.end-1]),s))}getAllParentTagRanges(e){let t=e,n=[];for(;t.parent;)t=t.parent,this.getNodeRanges(t).forEach(i=>n.push(i));return n}getNodeRanges(e){return e.startTagEnd&&e.endTagStart&&e.startTagEnd<e.endTagStart?[[e.startTagEnd,e.endTagStart],[e.start,e.end]]:[[e.start,e.end]]}getAttributeLevelRanges(e,t,n){let i=xi.create(e.positionAt(t.start),e.positionAt(t.end)),o=e.getText(i),s=n-t.start,a=Ru(o),c=a.scan(),u=t.start,l=[],d=!1,f=-1;for(;c!==Qt.EOS;){switch(c){case Qt.AttributeName:{if(s<a.getTokenOffset()){d=!1;break}s<=a.getTokenEnd()&&l.unshift([a.getTokenOffset(),a.getTokenEnd()]),d=!0,f=a.getTokenOffset();break}case Qt.AttributeValue:{if(!d)break;let y=a.getTokenText();if(s<a.getTokenOffset()){l.push([f,a.getTokenEnd()]);break}s>=a.getTokenOffset()&&s<=a.getTokenEnd()&&(l.unshift([a.getTokenOffset(),a.getTokenEnd()]),(y[0]==='"'&&y[y.length-1]==='"'||y[0]==="'"&&y[y.length-1]==="'")&&s>=a.getTokenOffset()+1&&s<=a.getTokenEnd()-1&&l.unshift([a.getTokenOffset()+1,a.getTokenEnd()-1]),l.push([f,a.getTokenEnd()]));break}}c=a.scan()}return l.map(y=>[y[0]+u,y[1]+u])}}});var OW,Zre=Ti(()=>{OW={version:1.1,tags:[{name:"html",description:{kind:"markdown",value:"The html element represents the root of an HTML document."},attributes:[{name:"manifest",description:{kind:"markdown",value:"Specifies the URI of a resource manifest indicating resources that should be cached locally. See [Using the application cache](https://developer.mozilla.org/en-US/docs/Web/HTML/Using_the_application_cache) for details."}},{name:"version",description:'Specifies the version of the HTML [Document Type Definition](https://developer.mozilla.org/en-US/docs/Glossary/DTD "Document Type Definition: In HTML, the doctype is the required "<!DOCTYPE html>" preamble found at the top of all documents. Its sole purpose is to prevent a browser from switching into so-called \u201Cquirks mode\u201D when rendering a document; that is, the "<!DOCTYPE html>" doctype ensures that the browser makes a best-effort attempt at following the relevant specifications, rather than using a different rendering mode that is incompatible with some specifications.") that governs the current document. This attribute is not needed, because it is redundant with the version information in the document type declaration.'},{name:"xmlns",description:'Specifies the XML Namespace of the document. Default value is `"http://www.w3.org/1999/xhtml"`. This is required in documents parsed with XML parsers, and optional in text/html documents.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/html"}]},{name:"head",description:{kind:"markdown",value:"The head element represents a collection of metadata for the Document."},attributes:[{name:"profile",description:"The URIs of one or more metadata profiles, separated by white space."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/head"}]},{name:"title",description:{kind:"markdown",value:"The title element represents the document's title or name. Authors should use titles that identify their documents even when they are used out of context, for example in a user's history or bookmarks, or in search results. The document's title is often different from its first heading, since the first heading does not have to stand alone when taken out of context."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/title"}]},{name:"base",description:{kind:"markdown",value:"The base element allows authors to specify the document base URL for the purposes of resolving relative URLs, and the name of the default browsing context for the purposes of following hyperlinks. The element does not represent any content beyond this information."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:"The base URL to be used throughout the document for relative URL addresses. If this attribute is specified, this element must come before any other elements with attributes whose values are URLs. Absolute and relative URLs are allowed."}},{name:"target",valueSet:"target",description:{kind:"markdown",value:"A name or keyword indicating the default location to display the result when hyperlinks or forms cause navigation, for elements that do not have an explicit target reference. It is a name of, or keyword for, a _browsing context_ (for example: tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the result into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the result into a new unnamed browsing context.\n*   `_parent`: Load the result into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the result into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n\nIf this attribute is specified, this element must come before any other elements with attributes whose values are URLs."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/base"}]},{name:"link",description:{kind:"markdown",value:"The link element allows authors to link their document to other resources."},void:!0,attributes:[{name:"href",description:{kind:"markdown",value:'This attribute specifies the [URL](https://developer.mozilla.org/en-US/docs/Glossary/URL "URL: Uniform Resource Locator (URL) is a text string specifying where a resource can be found on the Internet.") of the linked resource. A URL can be absolute or relative.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") must be used when fetching the resource. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\n`anonymous`\n\nA cross-origin request (i.e. with an [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) is performed, but no credential is sent (i.e. no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header) the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e. with an `Origin` HTTP header) is performed along with a credential sent (i.e. a cookie, certificate, and/or HTTP Basic authentication is performed). If the server does not give credentials to the origin site (through [`Access-Control-Allow-Credentials`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Credentials "The Access-Control-Allow-Credentials response header tells browsers whether to expose the response to frontend JavaScript code when the request\'s credentials mode (Request.credentials) is "include".") HTTP header), the resource will be _tainted_ and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") request (i.e. without sending the `Origin` HTTP header), preventing its non-tainted usage. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for additional information.'}},{name:"rel",description:{kind:"markdown",value:"This attribute names a relationship of the linked document to the current document. The attribute must be a space-separated list of the [link types values](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"media",description:{kind:"markdown",value:"This attribute specifies the media that the linked resource applies to. Its value must be a media type / [media query](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries). This attribute is mainly useful when linking to external stylesheets \u2014 it allows the user agent to pick the best adapted one for the device it runs on.\n\n**Notes:**\n\n*   In HTML 4, this can only be a simple white-space-separated list of media description literals, i.e., [media types and groups](https://developer.mozilla.org/en-US/docs/Web/CSS/@media), where defined and allowed as values for this attribute, such as `print`, `screen`, `aural`, `braille`. HTML5 extended this to any kind of [media queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries), which are a superset of the allowed values of HTML 4.\n*   Browsers not supporting [CSS3 Media Queries](https://developer.mozilla.org/en-US/docs/Web/CSS/Media_queries) won't necessarily recognize the adequate link; do not forget to set fallback links, the restricted set of media queries defined in HTML 4."}},{name:"hreflang",description:{kind:"markdown",value:"This attribute indicates the language of the linked resource. It is purely advisory. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt). Use this attribute only if the [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute is present."}},{name:"type",description:{kind:"markdown",value:'This attribute is used to define the type of the content linked to. The value of the attribute should be a MIME type such as **text/html**, **text/css**, and so on. The common use of this attribute is to define the type of stylesheet being referenced (such as **text/css**), but given that CSS is the only stylesheet language used on the web, not only is it possible to omit the `type` attribute, but is actually now recommended practice. It is also used on `rel="preload"` link types, to make sure the browser only downloads file types that it supports.'}},{name:"sizes",description:{kind:"markdown",value:"This attribute defines the sizes of the icons for visual media contained in the resource. It must be present only if the [`rel`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-rel) contains a value of `icon` or a non-standard type such as Apple's `apple-touch-icon`. It may have the following values:\n\n*   `any`, meaning that the icon can be scaled to any size as it is in a vector format, like `image/svg+xml`.\n*   a white-space separated list of sizes, each in the format `_<width in pixels>_x_<height in pixels>_` or `_<width in pixels>_X_<height in pixels>_`. Each of these sizes must be contained in the resource.\n\n**Note:** Most icon formats are only able to store one single icon; therefore most of the time the [`sizes`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-sizes) contains only one entry. MS's ICO format does, as well as Apple's ICNS. ICO is more ubiquitous; you should definitely use it."}},{name:"as",description:'This attribute is only used when `rel="preload"` or `rel="prefetch"` has been set on the `<link>` element. It specifies the type of content being loaded by the `<link>`, which is necessary for content prioritization, request matching, application of correct [content security policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP), and setting of correct [`Accept`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Accept "The Accept request HTTP header advertises which content types, expressed as MIME types, the client is able to understand. Using content negotiation, the server then selects one of the proposals, uses it and informs the client of its choice with the Content-Type response header. Browsers set adequate values for this header depending on\xA0the context where the request is done: when fetching a CSS stylesheet a different value is set for the request than when fetching an image,\xA0video or a script.") request header.'},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:'**`auto`**: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the resource.\n\n**`high`**: Indicates to the\xA0browser\xA0that the resource is of\xA0**high** priority.\n\n**`low`**:\xA0Indicates to the\xA0browser\xA0that the resource is of\xA0**low** priority.\n\n**Note:** The `importance` attribute may only be used for the `<link>` element if `rel="preload"` or `rel="prefetch"` is present.'},{name:"integrity",description:"Contains inline metadata \u2014 a base64-encoded cryptographic hash of the resource (file) you\u2019re telling the browser to fetch. The browser can use this to verify that the fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"referrerpolicy",description:'A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer` means that the [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` means that no [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior, if no policy is otherwise specified.\n*   `origin` means that the referrer will be the origin of the page, which is roughly the scheme, the host, and the port.\n*   `origin-when-cross-origin` means that navigating to other origins will be limited to the scheme, the host, and the port, while navigating on the same origin will include the referrer\'s path.\n*   `unsafe-url` means that the referrer will include the origin and the path (but not the fragment, password, or username). This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins.'},{name:"title",description:'The `title` attribute has special semantics on the `<link>` element. When used on a `<link rel="stylesheet">` it defines a [preferred or an alternate stylesheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets). Incorrectly using it may [cause the stylesheet to be ignored](https://developer.mozilla.org/en-US/docs/Correctly_Using_Titles_With_External_Stylesheets).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/link"}]},{name:"meta",description:{kind:"markdown",value:"The meta element represents various kinds of metadata that cannot be expressed using the title, base, link, style, and script elements."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:`This attribute defines the name of a piece of document-level metadata. It should not be set if one of the attributes [\`itemprop\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-itemprop), [\`http-equiv\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [\`charset\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) is also set.

This metadata name is associated with the value contained by the [\`content\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute. The possible values for the name attribute are:

*   \`application-name\` which defines the name of the application running in the web page.
    
    **Note:**
    
    *   Browsers may use this to identify the application. It is different from the [\`<title>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/title "The HTML Title element (<title>) defines the document's title that is shown in a browser's title bar or a page's tab.") element, which usually contain the application name, but may also contain information like the document name or a status.
    *   Simple web pages shouldn't define an application-name.
    
*   \`author\` which defines the name of the document's author.
*   \`description\` which contains a short and accurate summary of the content of the page. Several browsers, like Firefox and Opera, use this as the default description of bookmarked pages.
*   \`generator\` which contains the identifier of the software that generated the page.
*   \`keywords\` which contains words relevant to the page's content separated by commas.
*   \`referrer\` which controls the [\`Referer\` HTTP header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) attached to requests sent from the document:
    
    Values for the \`content\` attribute of \`<meta name="referrer">\`
    
    \`no-referrer\`
    
    Do not send a HTTP \`Referrer\` header.
    
    \`origin\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the document.
    
    \`no-referrer-when-downgrade\`
    
    Send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) as a referrer to URLs as secure as the current page, (https\u2192https), but does not send a referrer to less secure URLs (https\u2192http). This is the default behaviour.
    
    \`origin-when-cross-origin\`
    
    Send the full URL (stripped of parameters) for same-origin requests, but only send the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) for other cases.
    
    \`same-origin\`
    
    A referrer will be sent for [same-site origins](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy), but cross-origin requests will contain no referrer information.
    
    \`strict-origin\`
    
    Only send the origin of the document as the referrer to a-priori as-much-secure destination (HTTPS->HTTPS), but don't send it to a less secure destination (HTTPS->HTTP).
    
    \`strict-origin-when-cross-origin\`
    
    Send a full URL when performing a same-origin request, only send the origin of the document to a-priori as-much-secure destination (HTTPS->HTTPS), and send no header to a less secure destination (HTTPS->HTTP).
    
    \`unsafe-URL\`
    
    Send the full URL (stripped of parameters) for same-origin or cross-origin requests.
    
    **Notes:**
    
    *   Some browsers support the deprecated values of \`always\`, \`default\`, and \`never\` for referrer.
    *   Dynamically inserting \`<meta name="referrer">\` (with [\`document.write\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/write) or [\`appendChild\`](https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild)) makes the referrer behaviour unpredictable.
    *   When several conflicting policies are defined, the no-referrer policy is applied.
    

This attribute may also have a value taken from the extended list defined on [WHATWG Wiki MetaExtensions page](https://wiki.whatwg.org/wiki/MetaExtensions). Although none have been formally accepted yet, a few commonly used names are:

*   \`creator\` which defines the name of the creator of the document, such as an organization or institution. If there are more than one, several [\`<meta>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") elements should be used.
*   \`googlebot\`, a synonym of \`robots\`, is only followed by Googlebot (the indexing crawler for Google).
*   \`publisher\` which defines the name of the document's publisher.
*   \`robots\` which defines the behaviour that cooperative crawlers, or "robots", should use with the page. It is a comma-separated list of the values below:
    
    Values for the content of \`<meta name="robots">\`
    
    Value
    
    Description
    
    Used by
    
    \`index\`
    
    Allows the robot to index the page (default).
    
    All
    
    \`noindex\`
    
    Requests the robot to not index the page.
    
    All
    
    \`follow\`
    
    Allows the robot to follow the links on the page (default).
    
    All
    
    \`nofollow\`
    
    Requests the robot to not follow the links on the page.
    
    All
    
    \`none\`
    
    Equivalent to \`noindex, nofollow\`
    
    [Google](https://support.google.com/webmasters/answer/79812)
    
    \`noodp\`
    
    Prevents using the [Open Directory Project](https://www.dmoz.org/) description, if any, as the page description in search engine results.
    
    [Google](https://support.google.com/webmasters/answer/35624#nodmoz), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/meta-tags-robotstxt-yahoo-search-sln2213.html#cont5), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noarchive\`
    
    Requests the search engine not to cache the page content.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Yahoo](https://help.yahoo.com/kb/search-for-desktop/SLN2213.html), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`nosnippet\`
    
    Prevents displaying any description of the page in search engine results.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives), [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    \`noimageindex\`
    
    Requests this page not to appear as the referring page of an indexed image.
    
    [Google](https://developers.google.com/webmasters/control-crawl-index/docs/robots_meta_tag#valid-indexing--serving-directives)
    
    \`nocache\`
    
    Synonym of \`noarchive\`.
    
    [Bing](https://www.bing.com/webmaster/help/which-robots-metatags-does-bing-support-5198d240)
    
    **Notes:**
    
    *   Only cooperative robots follow these rules. Do not expect to prevent e-mail harvesters with them.
    *   The robot still needs to access the page in order to read these rules. To prevent bandwidth consumption, use a _[robots.txt](https://developer.mozilla.org/en-US/docs/Glossary/robots.txt "robots.txt: Robots.txt is a file which is usually placed in the root of any website. It decides whether\xA0crawlers are permitted or forbidden access to the web site.")_ file.
    *   If you want to remove a page, \`noindex\` will work, but only after the robot visits the page again. Ensure that the \`robots.txt\` file is not preventing revisits.
    *   Some values are mutually exclusive, like \`index\` and \`noindex\`, or \`follow\` and \`nofollow\`. In these cases the robot's behaviour is undefined and may vary between them.
    *   Some crawler robots, like Google, Yahoo and Bing, support the same values for the HTTP header \`X-Robots-Tag\`; this allows non-HTML documents like images to use these rules.
    
*   \`slurp\`, is a synonym of \`robots\`, but only for Slurp - the crawler for Yahoo Search.
*   \`viewport\`, which gives hints about the size of the initial size of the [viewport](https://developer.mozilla.org/en-US/docs/Glossary/viewport "viewport: A viewport represents a polygonal (normally rectangular) area in computer graphics that is currently being viewed. In web browser terms, it refers to the part of the document you're viewing which is currently visible in its window (or the screen, if the document is being viewed in full screen mode). Content outside the viewport is not visible onscreen until scrolled into view."). Used by mobile devices only.
    
    Values for the content of \`<meta name="viewport">\`
    
    Value
    
    Possible subvalues
    
    Description
    
    \`width\`
    
    A positive integer number, or the text \`device-width\`
    
    Defines the pixel width of the viewport that you want the web site to be rendered at.
    
    \`height\`
    
    A positive integer, or the text \`device-height\`
    
    Defines the height of the viewport. Not used by any browser.
    
    \`initial-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the ratio between the device width (\`device-width\` in portrait mode or \`device-height\` in landscape mode) and the viewport size.
    
    \`maximum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the maximum amount to zoom in. It must be greater or equal to the \`minimum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`minimum-scale\`
    
    A positive number between \`0.0\` and \`10.0\`
    
    Defines the minimum zoom level. It must be smaller or equal to the \`maximum-scale\` or the behaviour is undefined. Browser settings can ignore this rule and iOS10+ ignores it by default.
    
    \`user-scalable\`
    
    \`yes\` or \`no\`
    
    If set to \`no\`, the user is not able to zoom in the webpage. The default is \`yes\`. Browser settings can ignore this rule, and iOS10+ ignores it by default.
    
    Specification
    
    Status
    
    Comment
    
    [CSS Device Adaptation  
    The definition of '<meta name="viewport">' in that specification.](https://drafts.csswg.org/css-device-adapt/#viewport-meta)
    
    Working Draft
    
    Non-normatively describes the Viewport META element
    
    See also: [\`@viewport\`](https://developer.mozilla.org/en-US/docs/Web/CSS/@viewport "The @viewport CSS at-rule lets you configure the viewport through which the document is viewed. It's primarily used for mobile devices, but is also used by desktop browsers that support features like "snap to edge" (such as Microsoft Edge).")
    
    **Notes:**
    
    *   Though unstandardized, this declaration is respected by most mobile browsers due to de-facto dominance.
    *   The default values may vary between devices and browsers.
    *   To learn about this declaration in Firefox for Mobile, see [this article](https://developer.mozilla.org/en-US/docs/Mobile/Viewport_meta_tag "Mobile/Viewport meta tag").`}},{name:"http-equiv",description:{kind:"markdown",value:'Defines a pragma directive. The attribute is named `**http-equiv**(alent)` because all the allowed values are names of particular HTTP headers:\n\n*   `"content-language"`  \n    Defines the default language of the page. It can be overridden by the [lang](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/lang) attribute on any element.\n    \n    **Warning:** Do not use this value, as it is obsolete. Prefer the `lang` attribute on the [`<html>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/html "The HTML <html> element represents the root (top-level element) of an HTML document, so it is also referred to as the root element. All other elements must be descendants of this element.") element.\n    \n*   `"content-security-policy"`  \n    Allows page authors to define a [content policy](https://developer.mozilla.org/en-US/docs/Web/Security/CSP/CSP_policy_directives) for the current page. Content policies mostly specify allowed server origins and script endpoints which help guard against cross-site scripting attacks.\n*   `"content-type"`  \n    Defines the [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type) of the document, followed by its character encoding. It follows the same syntax as the HTTP `content-type` entity-header field, but as it is inside a HTML page, most values other than `text/html` are impossible. Therefore the valid syntax for its `content` is the string \'`text/html`\' followed by a character set with the following syntax: \'`; charset=_IANAcharset_`\', where `IANAcharset` is the _preferred MIME name_ for a character set as [defined by the IANA.](https://www.iana.org/assignments/character-sets)\n    \n    **Warning:** Do not use this value, as it is obsolete. Use the [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute on the [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element.\n    \n    **Note:** As [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") can\'t change documents\' types in XHTML or HTML5\'s XHTML serialization, never set the MIME type to an XHTML MIME type with `<meta>`.\n    \n*   `"refresh"`  \n    This instruction specifies:\n    *   The number of seconds until the page should be reloaded - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer.\n    *   The number of seconds until the page should redirect to another - only if the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) attribute contains a positive integer followed by the string \'`;url=`\', and a valid URL.\n*   `"set-cookie"`  \n    Defines a [cookie](https://developer.mozilla.org/en-US/docs/cookie) for the page. Its content must follow the syntax defined in the [IETF HTTP Cookie Specification](https://tools.ietf.org/html/draft-ietf-httpstate-cookie-14).\n    \n    **Warning:** Do not use this instruction, as it is obsolete. Use the HTTP header [`Set-Cookie`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie) instead.'}},{name:"content",description:{kind:"markdown",value:"This attribute contains the value for the [`http-equiv`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-http-equiv) or [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-name) attribute, depending on which is used."}},{name:"charset",description:{kind:"markdown",value:'This attribute declares the page\'s character encoding. It must contain a [standard IANA MIME name for character encodings](https://www.iana.org/assignments/character-sets). Although the standard doesn\'t request a specific encoding, it suggests:\n\n*   Authors are encouraged to use [`UTF-8`](https://developer.mozilla.org/en-US/docs/Glossary/UTF-8).\n*   Authors should not use ASCII-incompatible encodings to avoid security risk: browsers not supporting them may interpret harmful content as HTML. This happens with the `JIS_C6226-1983`, `JIS_X0212-1990`, `HZ-GB-2312`, `JOHAB`, the ISO-2022 family and the EBCDIC family.\n\n**Note:** ASCII-incompatible encodings are those that don\'t map the 8-bit code points `0x20` to `0x7E` to the `0x0020` to `0x007E` Unicode code points)\n\n*   Authors **must not** use `CESU-8`, `UTF-7`, `BOCU-1` and/or `SCSU` as [cross-site scripting](https://developer.mozilla.org/en-US/docs/Glossary/Cross-site_scripting) attacks with these encodings have been demonstrated.\n*   Authors should not use `UTF-32` because not all HTML5 encoding algorithms can distinguish it from `UTF-16`.\n\n**Notes:**\n\n*   The declared character encoding must match the one the page was saved with to avoid garbled characters and security holes.\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element declaring the encoding must be inside the [`<head>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head "The HTML <head> element provides general information (metadata) about the document, including its title and links to its\xA0scripts and style sheets.") element and **within the first 1024 bytes** of the HTML as some browsers only look at those bytes before choosing an encoding.\n*   This [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element is only one part of the [algorithm to determine a page\'s character set](https://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#encoding-sniffing-algorithm "Algorithm charset page"). The [`Content-Type` header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type) and any [Byte-Order Marks](https://developer.mozilla.org/en-US/docs/Glossary/Byte-Order_Mark "The definition of that term (Byte-Order Marks) has not been written yet; please consider contributing it!") override this element.\n*   It is strongly recommended to define the character encoding. If a page\'s encoding is undefined, cross-scripting techniques are possible, such as the [`UTF-7` fallback cross-scripting technique](https://code.google.com/p/doctype-mirror/wiki/ArticleUtf7).\n*   The [`<meta>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta "The HTML <meta> element represents metadata that cannot be represented by other HTML meta-related elements, like <base>, <link>, <script>, <style> or <title>.") element with a `charset` attribute is a synonym for the pre-HTML5 `<meta http-equiv="Content-Type" content="text/html; charset=_IANAcharset_">`, where _`IANAcharset`_ contains the value of the equivalent [`charset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-charset) attribute. This syntax is still allowed, although no longer recommended.'}},{name:"scheme",description:"This attribute defines the scheme in which metadata is described. A scheme is a context leading to the correct interpretations of the [`content`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta#attr-content) value, like a format.\n\n**Warning:** Do not use this value, as it is obsolete. There is no replacement as there was no real usage for it."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meta"}]},{name:"style",description:{kind:"markdown",value:"The style element allows authors to embed style information in their documents. The style element is one of several inputs to the styling processing model. The element does not represent content for the user."},attributes:[{name:"media",description:{kind:"markdown",value:"This attribute defines which media the style should be applied to. Its value is a [media query](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries), which defaults to `all` if the attribute is missing."}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) used to allow inline styles in a [style-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/style-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource\u2019s policy is otherwise trivial."}},{name:"type",description:{kind:"markdown",value:"This attribute defines the styling language as a MIME type (charset should not be specified). This attribute is optional and defaults to `text/css` if it is not specified \u2014 there is very little reason to include this in modern web documents."}},{name:"scoped",valueSet:"v"},{name:"title",description:"This attribute specifies [alternative style sheet](https://developer.mozilla.org/en-US/docs/Web/CSS/Alternative_style_sheets) sets."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/style"}]},{name:"body",description:{kind:"markdown",value:"The body element represents the content of the document."},attributes:[{name:"onafterprint",description:{kind:"markdown",value:"Function to call after the user has printed the document."}},{name:"onbeforeprint",description:{kind:"markdown",value:"Function to call when the user requests printing of the document."}},{name:"onbeforeunload",description:{kind:"markdown",value:"Function to call when the document is about to be unloaded."}},{name:"onhashchange",description:{kind:"markdown",value:"Function to call when the fragment identifier part (starting with the hash (`'#'`) character) of the document's current address has changed."}},{name:"onlanguagechange",description:{kind:"markdown",value:"Function to call when the preferred languages changed."}},{name:"onmessage",description:{kind:"markdown",value:"Function to call when the document has received a message."}},{name:"onoffline",description:{kind:"markdown",value:"Function to call when network communication has failed."}},{name:"ononline",description:{kind:"markdown",value:"Function to call when network communication has been restored."}},{name:"onpagehide"},{name:"onpageshow"},{name:"onpopstate",description:{kind:"markdown",value:"Function to call when the user has navigated session history."}},{name:"onstorage",description:{kind:"markdown",value:"Function to call when the storage area has changed."}},{name:"onunload",description:{kind:"markdown",value:"Function to call when the document is going away."}},{name:"alink",description:'Color of text for hyperlinks when selected. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:active`](https://developer.mozilla.org/en-US/docs/Web/CSS/:active "The :active CSS pseudo-class represents an element (such as a button) that is being activated by the user.") pseudo-class instead._'},{name:"background",description:'URI of a image to use as a background. _This method is non-conforming, use CSS [`background`](https://developer.mozilla.org/en-US/docs/Web/CSS/background "The background shorthand CSS property sets all background style properties at once, such as color, image, origin and size, or repeat method.") property on the element instead._'},{name:"bgcolor",description:'Background color for the document. _This method is non-conforming, use CSS [`background-color`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property on the element instead._'},{name:"bottommargin",description:'The margin of the bottom of the body. _This method is non-conforming, use CSS [`margin-bottom`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-bottom "The margin-bottom CSS property sets the margin area on the bottom of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"leftmargin",description:'The margin of the left of the body. _This method is non-conforming, use CSS [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"link",description:'Color of text for unvisited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:link`](https://developer.mozilla.org/en-US/docs/Web/CSS/:link "The :link CSS pseudo-class represents an element that has not yet been visited. It matches every unvisited <a>, <area>, or <link> element that has an href attribute.") pseudo-class instead._'},{name:"onblur",description:"Function to call when the document loses focus."},{name:"onerror",description:"Function to call when the document fails to load properly."},{name:"onfocus",description:"Function to call when the document receives focus."},{name:"onload",description:"Function to call when the document has finished loading."},{name:"onredo",description:"Function to call when the user has moved forward in undo transaction history."},{name:"onresize",description:"Function to call when the document has been resized."},{name:"onundo",description:"Function to call when the user has moved backward in undo transaction history."},{name:"rightmargin",description:'The margin of the right of the body. _This method is non-conforming, use CSS [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"text",description:'Foreground color of text. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property on the element instead._'},{name:"topmargin",description:'The margin of the top of the body. _This method is non-conforming, use CSS [`margin-top`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-top "The margin-top CSS property sets the margin area on the top of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") property on the element instead._'},{name:"vlink",description:'Color of text for visited hypertext links. _This method is non-conforming, use CSS [`color`](https://developer.mozilla.org/en-US/docs/Web/CSS/color "The color CSS property sets the foreground color value of an element\'s text and text decorations, and sets the currentcolor value.") property in conjunction with the [`:visited`](https://developer.mozilla.org/en-US/docs/Web/CSS/:visited "The :visited CSS pseudo-class represents links that the user has already visited. For privacy reasons, the styles that can be modified using this selector are very limited.") pseudo-class instead._'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/body"}]},{name:"article",description:{kind:"markdown",value:"The article element represents a complete, or self-contained, composition in a document, page, application, or site and that is, in principle, independently distributable or reusable, e.g. in syndication. This could be a forum post, a magazine or newspaper article, a blog entry, a user-submitted comment, an interactive widget or gadget, or any other independent item of content. Each article should be identified, typically by including a heading (h1\u2013h6 element) as a child of the article element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/article"}]},{name:"section",description:{kind:"markdown",value:"The section element represents a generic section of a document or application. A section, in this context, is a thematic grouping of content. Each section should be identified, typically by including a heading ( h1- h6 element) as a child of the section element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/section"}]},{name:"nav",description:{kind:"markdown",value:"The nav element represents a section of a page that links to other pages or to parts within the page: a section with navigation links."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/nav"}]},{name:"aside",description:{kind:"markdown",value:"The aside element represents a section of a page that consists of content that is tangentially related to the content around the aside element, and which could be considered separate from that content. Such sections are often represented as sidebars in printed typography."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/aside"}]},{name:"h1",description:{kind:"markdown",value:"The h1 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h2",description:{kind:"markdown",value:"The h2 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h3",description:{kind:"markdown",value:"The h3 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h4",description:{kind:"markdown",value:"The h4 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h5",description:{kind:"markdown",value:"The h5 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"h6",description:{kind:"markdown",value:"The h6 element represents a section heading."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/Heading_Elements"}]},{name:"header",description:{kind:"markdown",value:"The header element represents introductory content for its nearest ancestor sectioning content or sectioning root element. A header typically contains a group of introductory or navigational aids. When the nearest ancestor sectioning content or sectioning root element is the body element, then it applies to the whole page."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/header"}]},{name:"footer",description:{kind:"markdown",value:"The footer element represents a footer for its nearest ancestor sectioning content or sectioning root element. A footer typically contains information about its section such as who wrote it, links to related documents, copyright data, and the like."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/footer"}]},{name:"address",description:{kind:"markdown",value:"The address element represents the contact information for its nearest article or body element ancestor. If that is the body element, then the contact information applies to the document as a whole."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/address"}]},{name:"p",description:{kind:"markdown",value:"The p element represents a paragraph."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/p"}]},{name:"hr",description:{kind:"markdown",value:"The hr element represents a paragraph-level thematic break, e.g. a scene change in a story, or a transition to another topic within a section of a reference book."},void:!0,attributes:[{name:"align",description:"Sets the alignment of the rule on the page. If no value is specified, the default value is `left`."},{name:"color",description:"Sets the color of the rule through color name or hexadecimal value."},{name:"noshade",description:"Sets the rule to have no shading."},{name:"size",description:"Sets the height, in pixels, of the rule."},{name:"width",description:"Sets the length of the rule on the page through a pixel or percentage value."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hr"}]},{name:"pre",description:{kind:"markdown",value:"The pre element represents a block of preformatted text, in which structure is represented by typographic conventions rather than by elements."},attributes:[{name:"cols",description:'Contains the _preferred_ count of characters that a line should have. It was a non-standard synonym of [`width`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/pre#attr-width). To achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"width",description:'Contains the _preferred_ count of characters that a line should have. Though technically still implemented, this attribute has no visual effect; to achieve such an effect, use CSS [`width`](https://developer.mozilla.org/en-US/docs/Web/CSS/width "The width CSS property sets an element\'s width. By default it sets the width of the content area, but if box-sizing is set to border-box, it sets the width of the border area.") instead.'},{name:"wrap",description:'Is a _hint_ indicating how the overflow must happen. In modern browser this hint is ignored and no visual effect results in its present; to achieve such an effect, use CSS [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space "The white-space CSS property sets how white space inside an element is handled.") instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/pre"}]},{name:"blockquote",description:{kind:"markdown",value:"The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/blockquote"}]},{name:"ol",description:{kind:"markdown",value:"The ol element represents a list of items, where the items have been intentionally ordered, such that changing the order would change the meaning of the document."},attributes:[{name:"reversed",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute specifies that the items of the list are specified in reversed order."}},{name:"start",description:{kind:"markdown",value:'This integer attribute specifies the start value for numbering the individual list items. Although the ordering type of list elements might be Roman numerals, such as XXXI, or letters, the value of start is always represented as a number. To start numbering elements from the letter "C", use `<ol start="3">`.\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.'}},{name:"type",valueSet:"lt",description:{kind:"markdown",value:"Indicates the numbering type:\n\n*   `'a'` indicates lowercase letters,\n*   `'A'` indicates uppercase letters,\n*   `'i'` indicates lowercase Roman numerals,\n*   `'I'` indicates uppercase Roman numerals,\n*   and `'1'` indicates numbers (default).\n\nThe type set is used for the entire list unless a different [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li#attr-type) attribute is used within an enclosed [`<li>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li \"The HTML <li> element is used to represent an item in a list. It must be contained in a parent element: an ordered list (<ol>), an unordered list (<ul>), or a menu (<menu>). In menus and unordered lists, list items are usually displayed using bullet points. In ordered lists, they are usually displayed with an ascending counter on the left, such as a number or letter.\") element.\n\n**Note:** This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\nUnless the value of the list number matters (e.g. in legal or technical documents where items are to be referenced by their number/letter), the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type \"The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.\") property should be used instead."}},{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Warning:** Do not use this attribute, as it has been deprecated: the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give an effect similar to the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [`line-height`](https://developer.mozilla.org/en-US/docs/Web/CSS/line-height "The line-height CSS property sets the amount of space used for lines, such as in text. On block-level elements, it specifies the minimum height of line boxes within the element. On non-replaced inline elements, it specifies the height that is used to calculate line box height.") can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ol"}]},{name:"ul",description:{kind:"markdown",value:"The ul element represents a list of items, where the order of the items is not important \u2014 that is, where changing the order would not materially change the meaning of the document."},attributes:[{name:"compact",description:'This Boolean attribute hints that the list should be rendered in a compact style. The interpretation of this attribute depends on the user agent and it doesn\'t work in all browsers.\n\n**Usage note:\xA0**Do not use this attribute, as it has been deprecated: the [`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To give a similar effect as the `compact` attribute, the [CSS](https://developer.mozilla.org/en-US/docs/CSS) property [line-height](https://developer.mozilla.org/en-US/docs/CSS/line-height) can be used with a value of `80%`.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ul"}]},{name:"li",description:{kind:"markdown",value:"The li element represents a list item. If its parent element is an ol, ul, or menu element, then the element is an item of the parent element's list, as defined for those elements. Otherwise, the list item has no defined list-related relationship to any other li element."},attributes:[{name:"value",description:{kind:"markdown",value:'This integer attribute indicates the current ordinal value of the list item as defined by the [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element. The only allowed value for this attribute is a number, even if the list is displayed with Roman numerals or letters. List items that follow this one continue numbering from the value set. The **value** attribute has no meaning for unordered lists ([`<ul>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ul "The HTML <ul> element represents an unordered list of items, typically rendered as a bulleted list.")) or for menus ([`<menu>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.")).\n\n**Note**: This attribute was deprecated in HTML4, but reintroduced in HTML5.\n\n**Note:** Prior to Gecko\xA09.0, negative values were incorrectly converted to 0. Starting in Gecko\xA09.0 all integer values are correctly parsed.'}},{name:"type",description:'This character attribute indicates the numbering type:\n\n*   `a`: lowercase letters\n*   `A`: uppercase letters\n*   `i`: lowercase Roman numerals\n*   `I`: uppercase Roman numerals\n*   `1`: numbers\n\nThis type overrides the one used by its parent [`<ol>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ol "The HTML <ol> element represents an ordered list of items, typically rendered as a numbered list.") element, if any.\n\n**Usage note:** This attribute has been deprecated: use the CSS [`list-style-type`](https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type "The list-style-type CSS property sets the marker (such as a disc, character, or custom counter style) of a list item element.") property instead.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/li"}]},{name:"dl",description:{kind:"markdown",value:"The dl element represents an association list consisting of zero or more name-value groups (a description list). A name-value group consists of one or more names (dt elements) followed by one or more values (dd elements), ignoring any nodes other than dt and dd elements. Within a single dl element, there should not be more than one dt element for each name."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dl"}]},{name:"dt",description:{kind:"markdown",value:"The dt element represents the term, or name, part of a term-description group in a description list (dl element)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dt"}]},{name:"dd",description:{kind:"markdown",value:"The dd element represents the description, definition, or value, part of a term-description group in a description list (dl element)."},attributes:[{name:"nowrap",description:"If the value of this attribute is set to `yes`, the definition text will not wrap. The default value is `no`."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dd"}]},{name:"figure",description:{kind:"markdown",value:"The figure element represents some flow content, optionally with a caption, that is self-contained (like a complete sentence) and is typically referenced as a single unit from the main flow of the document."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figure"}]},{name:"figcaption",description:{kind:"markdown",value:"The figcaption element represents a caption or legend for the rest of the contents of the figcaption element's parent figure element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/figcaption"}]},{name:"main",description:{kind:"markdown",value:"The main element represents the main content of the body of a document or application. The main content area consists of content that is directly related to or expands upon the central topic of a document or central functionality of an application."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/main"}]},{name:"div",description:{kind:"markdown",value:"The div element has no special meaning at all. It represents its children. It can be used with the class, lang, and title attributes to mark up semantics common to a group of consecutive elements."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/div"}]},{name:"a",description:{kind:"markdown",value:"If the a element has an href attribute, then it represents a hyperlink (a hypertext anchor) labeled by its contents."},attributes:[{name:"href",description:{kind:"markdown",value:'Contains a URL or a URL fragment that the hyperlink points to.\nA URL fragment is a name preceded by a hash mark (`#`), which specifies an internal target location (an [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of an HTML element) within the current document. URLs are not restricted to Web (HTTP)-based documents, but can use any protocol supported by the browser. For example, [`file:`](https://en.wikipedia.org/wiki/File_URI_scheme), `ftp:`, and `mailto:` work in most browsers.\n\n**Note:** You can use `href="#top"` or the empty fragment `href="#"` to link to the top of the current page. [This behavior is specified by HTML5](https://www.w3.org/TR/html5/single-page.html#scroll-to-fragid).'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'Specifies where to display the linked URL. It is a name of, or keyword for, a _browsing context_: a tab, window, or `<iframe>`. The following keywords have special meanings:\n\n*   `_self`: Load the URL into the same browsing context as the current one. This is the default behavior.\n*   `_blank`: Load the URL into a new browsing context. This is usually a tab, but users can configure browsers to use new windows instead.\n*   `_parent`: Load the URL into the parent browsing context of the current one. If there is no parent, this behaves the same way as `_self`.\n*   `_top`: Load the URL into the top-level browsing context (that is, the "highest" browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this behaves the same way as `_self`.\n\n**Note:** When using `target`, consider adding `rel="noreferrer"` to avoid exploitation of the `window.opener` API.\n\n**Note:** Linking to another page using `target="_blank"` will run the new page on the same process as your page. If the new page is executing expensive JS, your page\'s performance may suffer. To avoid this use `rel="noopener"`.'}},{name:"download",description:{kind:"markdown",value:"This attribute instructs browsers to download a URL instead of navigating to it, so the user will be prompted to save it as a local file. If the attribute has a value, it is used as the pre-filled file name in the Save prompt (the user can still change the file name if they want). There are no restrictions on allowed values, though `/` and `\\` are converted to underscores. Most file systems limit some punctuation in file names, and browsers will adjust the suggested name accordingly.\n\n**Notes:**\n\n*   This attribute only works for [same-origin URLs](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy).\n*   Although HTTP(s) URLs need to be in the same-origin, [`blob:` URLs](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL) and [`data:` URLs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs) are allowed so that content generated by JavaScript, such as pictures created in an image-editor Web app, can be downloaded.\n*   If the HTTP header [`Content-Disposition:`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition) gives a different filename than this attribute, the HTTP header takes priority over this attribute.\n*   If `Content-Disposition:` is set to `inline`, Firefox prioritizes `Content-Disposition`, like the filename case, while Chrome prioritizes the `download` attribute."}},{name:"ping",description:{kind:"markdown",value:'Contains a space-separated list of URLs to which, when the hyperlink is followed, [`POST`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST "The HTTP POST method sends data to the server. The type of the body of the request is indicated by the Content-Type header.") requests with the body `PING` will be sent by the browser (in the background). Typically used for tracking.'}},{name:"rel",description:{kind:"markdown",value:"Specifies the relationship of the target object to the link object. The value is a space-separated list of [link types](https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types)."}},{name:"hreflang",description:{kind:"markdown",value:'This attribute indicates the human language of the linked resource. It is purely advisory, with no built-in functionality. Allowed values are determined by [BCP47](https://www.ietf.org/rfc/bcp/bcp47.txt "Tags for Identifying Languages").'}},{name:"type",description:{kind:"markdown",value:'Specifies the media type in the form of a [MIME type](https://developer.mozilla.org/en-US/docs/Glossary/MIME_type "MIME type: A\xA0MIME type\xA0(now properly called "media type", but\xA0also sometimes "content type") is a string sent along\xA0with a file indicating the type of the file (describing the content format, for example, a sound file might be labeled\xA0audio/ogg, or an image file\xA0image/png).") for the linked URL. It is purely advisory, with no built-in functionality.'}},{name:"referrerpolicy",description:"Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer) to send when fetching the URL:\n\n*   `'no-referrer'` means the `Referer:` header will not be sent.\n*   `'no-referrer-when-downgrade'` means no `Referer:` header will be sent when navigating to an origin without HTTPS. This is the default behavior.\n*   `'origin'` means the referrer will be the [origin](https://developer.mozilla.org/en-US/docs/Glossary/Origin) of the page, not including information after the domain.\n*   `'origin-when-cross-origin'` meaning that navigations to other origins will be limited to the scheme, the host and the port, while navigations on the same origin will include the referrer's path.\n*   `'strict-origin-when-cross-origin'`\n*   `'unsafe-url'` means the referrer will include the origin and path, but not the fragment, password, or username. This is unsafe because it can leak data from secure URLs to insecure ones."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/a"}]},{name:"em",description:{kind:"markdown",value:"The em element represents stress emphasis of its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/em"}]},{name:"strong",description:{kind:"markdown",value:"The strong element represents strong importance, seriousness, or urgency for its contents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/strong"}]},{name:"small",description:{kind:"markdown",value:"The small element represents side comments such as small print."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/small"}]},{name:"s",description:{kind:"markdown",value:"The s element represents contents that are no longer accurate or no longer relevant."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/s"}]},{name:"cite",description:{kind:"markdown",value:"The cite element represents a reference to a creative work. It must include the title of the work or the name of the author(person, people or organization) or an URL reference, or a reference in abbreviated form as per the conventions used for the addition of citation metadata."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/cite"}]},{name:"q",description:{kind:"markdown",value:"The q element represents some phrasing content quoted from another source."},attributes:[{name:"cite",description:{kind:"markdown",value:"The value of this attribute is a URL that designates a source document or message for the information quoted. This attribute is intended to point to information explaining the context or the reference for the quote."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/q"}]},{name:"dfn",description:{kind:"markdown",value:"The dfn element represents the defining instance of a term. The paragraph, description list group, or section that is the nearest ancestor of the dfn element must also contain the definition(s) for the term given by the dfn element."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dfn"}]},{name:"abbr",description:{kind:"markdown",value:"The abbr element represents an abbreviation or acronym, optionally with its expansion. The title attribute may be used to provide an expansion of the abbreviation. The attribute, if specified, must contain an expansion of the abbreviation, and nothing else."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/abbr"}]},{name:"ruby",description:{kind:"markdown",value:"The ruby element allows one or more spans of phrasing content to be marked with ruby annotations. Ruby annotations are short runs of text presented alongside base text, primarily used in East Asian typography as a guide for pronunciation or to include other annotations. In Japanese, this form of typography is also known as furigana. Ruby text can appear on either side, and sometimes both sides, of the base text, and it is possible to control its position using CSS. A more complete introduction to ruby can be found in the Use Cases & Exploratory Approaches for Ruby Markup document as well as in CSS Ruby Module Level 1. [RUBY-UC] [CSSRUBY]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ruby"}]},{name:"rb",description:{kind:"markdown",value:"The rb element marks the base text component of a ruby annotation. When it is the child of a ruby element, it doesn't represent anything itself, but its parent ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rb"}]},{name:"rt",description:{kind:"markdown",value:"The rt element marks the ruby text component of a ruby annotation. When it is the child of a ruby element or of an rtc element that is itself the child of a ruby element, it doesn't represent anything itself, but its ancestor ruby element uses it as part of determining what it represents."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rt"}]},{name:"rp",description:{kind:"markdown",value:"The rp element is used to provide fallback text to be shown by user agents that don't support ruby annotations. One widespread convention is to provide parentheses around the ruby text component of a ruby annotation."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/rp"}]},{name:"time",description:{kind:"markdown",value:"The time element represents its contents, along with a machine-readable form of those contents in the datetime attribute. The kind of content is limited to various kinds of dates, times, time-zone offsets, and durations, as described below."},attributes:[{name:"datetime",description:{kind:"markdown",value:"This attribute indicates the time and/or date of the element and must be in one of the formats described below."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/time"}]},{name:"code",description:{kind:"markdown",value:"The code element represents a fragment of computer code. This could be an XML element name, a file name, a computer program, or any other string that a computer would recognize."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/code"}]},{name:"var",description:{kind:"markdown",value:"The var element represents a variable. This could be an actual variable in a mathematical expression or programming context, an identifier representing a constant, a symbol identifying a physical quantity, a function parameter, or just be a term used as a placeholder in prose."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/var"}]},{name:"samp",description:{kind:"markdown",value:"The samp element represents sample or quoted output from another program or computing system."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/samp"}]},{name:"kbd",description:{kind:"markdown",value:"The kbd element represents user input (typically keyboard input, although it may also be used to represent other input, such as voice commands)."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/kbd"}]},{name:"sub",description:{kind:"markdown",value:"The sub element represents a subscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sub"}]},{name:"sup",description:{kind:"markdown",value:"The sup element represents a superscript."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/sup"}]},{name:"i",description:{kind:"markdown",value:"The i element represents a span of text in an alternate voice or mood, or otherwise offset from the normal prose in a manner indicating a different quality of text, such as a taxonomic designation, a technical term, an idiomatic phrase from another language, transliteration, a thought, or a ship name in Western texts."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/i"}]},{name:"b",description:{kind:"markdown",value:"The b element represents a span of text to which attention is being drawn for utilitarian purposes without conveying any extra importance and with no implication of an alternate voice or mood, such as key words in a document abstract, product names in a review, actionable words in interactive text-driven software, or an article lede."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/b"}]},{name:"u",description:{kind:"markdown",value:"The u element represents a span of text with an unarticulated, though explicitly rendered, non-textual annotation, such as labeling the text as being a proper name in Chinese text (a Chinese proper name mark), or labeling the text as being misspelt."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/u"}]},{name:"mark",description:{kind:"markdown",value:"The mark element represents a run of text in one document marked or highlighted for reference purposes, due to its relevance in another context. When used in a quotation or other block of text referred to from the prose, it indicates a highlight that was not originally present but which has been added to bring the reader's attention to a part of the text that might not have been considered important by the original author when the block was originally written, but which is now under previously unexpected scrutiny. When used in the main prose of a document, it indicates a part of the document that has been highlighted due to its likely relevance to the user's current activity."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/mark"}]},{name:"bdi",description:{kind:"markdown",value:"The bdi element represents a span of text that is to be isolated from its surroundings for the purposes of bidirectional text formatting. [BIDI]"},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdi"}]},{name:"bdo",description:{kind:"markdown",value:"The bdo element represents explicit text directionality formatting control for its children. It allows authors to override the Unicode bidirectional algorithm by explicitly specifying a direction override. [BIDI]"},attributes:[{name:"dir",description:"The direction in which text should be rendered in this element's contents. Possible values are:\n\n*   `ltr`: Indicates that the text should go in a left-to-right direction.\n*   `rtl`: Indicates that the text should go in a right-to-left direction."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/bdo"}]},{name:"span",description:{kind:"markdown",value:"The span element doesn't mean anything on its own, but can be useful when used together with the global attributes, e.g. class, lang, or dir. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/span"}]},{name:"br",description:{kind:"markdown",value:"The br element represents a line break."},void:!0,attributes:[{name:"clear",description:"Indicates where to begin the next line after the break."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/br"}]},{name:"wbr",description:{kind:"markdown",value:"The wbr element represents a line break opportunity."},void:!0,attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/wbr"}]},{name:"ins",description:{kind:"markdown",value:"The ins element represents an addition to the document."},attributes:[{name:"cite",description:"This attribute defines the URI of a resource that explains the change, such as a link to meeting minutes or a ticket in a troubleshooting system."},{name:"datetime",description:'This attribute indicates the time and date of the change and must be a valid date with an optional time string. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/ins"}]},{name:"del",description:{kind:"markdown",value:"The del element represents a removal from the document."},attributes:[{name:"cite",description:{kind:"markdown",value:"A URI for a resource that explains the change (for example, meeting minutes)."}},{name:"datetime",description:{kind:"markdown",value:'This attribute indicates the time and date of the change and must be a valid date string with an optional time. If the value cannot be parsed as a date with an optional time string, the element does not have an associated time stamp. For the format of the string without a time, see [Format of a valid date string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_date_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article."). The format of the string if it includes both date and time is covered in [Format of a valid local date and time string](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats#Format_of_a_valid_local_date_and_time_string "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.") in [Date and time formats used in HTML](https://developer.mozilla.org/en-US/docs/Web/HTML/Date_and_time_formats "Certain HTML elements use date and/or time values. The formats of the strings that specify these are described in this article.").'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/del"}]},{name:"picture",description:{kind:"markdown",value:"The picture element is a container which provides multiple sources to its contained img element to allow authors to declaratively control or give hints to the user agent about which image resource to use, based on the screen pixel density, viewport size, image format, and other factors. It represents its children."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/picture"}]},{name:"img",description:{kind:"markdown",value:"An img element represents an image."},void:!0,attributes:[{name:"alt",description:{kind:"markdown",value:'This attribute defines an alternative text description of the image.\n\n**Note:** Browsers do not always display the image referenced by the element. This is the case for non-graphical browsers (including those used by people with visual impairments), if the user chooses not to display images, or if the browser cannot display the image because it is invalid or an [unsupported type](#Supported_image_formats). In these cases, the browser may replace the image with the text defined in this element\'s `alt` attribute. You should, for these reasons and others, provide a useful value for `alt` whenever possible.\n\n**Note:** Omitting this attribute altogether indicates that the image is a key part of the content, and no textual equivalent is available. Setting this attribute to an empty string (`alt=""`) indicates that this image is _not_ a key part of the content (decorative), and that non-visual browsers may omit it from rendering.'}},{name:"src",description:{kind:"markdown",value:"The image URL. This attribute is mandatory for the `<img>` element. On browsers supporting `srcset`, `src` is treated like a candidate image with a pixel density descriptor `1x` unless an image with this pixel density descriptor is already defined in `srcset,` or unless `srcset` contains '`w`' descriptors."}},{name:"srcset",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of possible image sources for the user agent to use. Each string is composed of:\n\n1.  a URL to an image,\n2.  optionally, whitespace followed by one of:\n    *   A width descriptor, or a positive integer directly followed by '`w`'. The width descriptor is divided by the source size given in the `sizes` attribute to calculate the effective pixel density.\n    *   A pixel density descriptor, which is a positive floating point number directly followed by '`x`'.\n\nIf no descriptor is specified, the source is assigned the default descriptor: `1x`.\n\nIt is incorrect to mix width descriptors and pixel density descriptors in the same `srcset` attribute. Duplicate descriptors (for instance, two sources in the same `srcset` which are both described with '`2x`') are also invalid.\n\nThe user agent selects any one of the available sources at its discretion. This provides them with significant leeway to tailor their selection based on things like user preferences or bandwidth conditions. See our [Responsive images](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images) tutorial for an example."}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates if the fetching of the related image must be done using CORS or not. [CORS-enabled images](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being "[tainted](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image#What_is_a_tainted_canvas)." The allowed values are:\n`anonymous`\n\nA cross-origin request (i.e., with `Origin:` HTTP header) is performed, but no credential is sent (i.e., no cookie, X.509 certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (by not setting the [`Access-Control-Allow-Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin "The Access-Control-Allow-Origin response header indicates whether the response can be shared with requesting code from the given origin.") HTTP header), the image will be tainted and its usage restricted.\n\n`use-credentials`\n\nA cross-origin request (i.e., with the [`Origin`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Origin "The Origin request header indicates where a fetch originates from. It doesn\'t include any path information, but only the server name. It is sent with CORS requests, as well as with POST requests. It is similar to the Referer header, but, unlike this header, it doesn\'t disclose the whole path.") HTTP header) performed along with credentials sent (i.e., a cookie, certificate, or HTTP Basic authentication). If the server does not give credentials to the origin site (through the `Access-Control-Allow-Credentials` HTTP header), the image will be tainted and its usage restricted.\n\nIf the attribute is not present, the resource is fetched without a CORS request (i.e., without sending the `Origin` HTTP header), preventing its non-tainted usage in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the `anonymous` value was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"usemap",description:{kind:"markdown",value:'The partial URL (starting with \'#\') of an [image map](https://developer.mozilla.org/en-US/docs/HTML/Element/map) associated with the element.\n\n**Note:** You cannot use this attribute if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") element.'}},{name:"ismap",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the image is part of a server-side map. If so, the precise coordinates of a click are sent to the server.\n\n**Note:** This attribute is allowed only if the `<img>` element is a descendant of an [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL.") element with a valid [`href`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-href) attribute.'}},{name:"width",description:{kind:"markdown",value:"The intrinsic width of the image in pixels."}},{name:"height",description:{kind:"markdown",value:"The intrinsic height of the image in pixels."}},{name:"decoding",valueSet:"decoding",description:{kind:"markdown",value:`Provides an image decoding hint to the browser. The allowed values are:
\`sync\`

Decode the image synchronously for atomic presentation with other content.

\`async\`

Decode the image asynchronously to reduce delay in presenting other content.

\`auto\`

Default mode, which indicates no preference for the decoding mode. The browser decides what is best for the user.`}},{name:"loading",valueSet:"loading",description:{kind:"markdown",value:"Indicates how the browser should load the image."}},{name:"referrerpolicy",valueSet:"referrerpolicy",description:{kind:"markdown",value:"A string indicating which referrer to use when fetching the resource:\n\n*   `no-referrer:` The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer \"The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.\") header will not be sent.\n*   `no-referrer-when-downgrade:` No `Referer` header will be sent when navigating to an origin without TLS (HTTPS). This is a user agent\u2019s default behavior if no policy is otherwise specified.\n*   `origin:` The `Referer` header will include the page of origin's scheme, the host, and the port.\n*   `origin-when-cross-origin:` Navigating to other origins will limit the included referral data to the scheme, the host and the port, while navigating from the same origin will include the referrer's full path.\n*   `unsafe-url:` The `Referer` header will include the origin and the path, but not the fragment, password, or username. This case is unsafe because it can leak origins and paths from TLS-protected resources to insecure origins."}},{name:"sizes",description:{kind:"markdown",value:"A list of one or more strings separated by commas indicating a set of source sizes. Each source size consists of:\n\n1.  a media condition. This must be omitted for the last item.\n2.  a source size value.\n\nSource size values specify the intended display size of the image. User agents use the current source size to select one of the sources supplied by the `srcset` attribute, when those sources are described using width ('`w`') descriptors. The selected source size affects the intrinsic size of the image (the image\u2019s display size if no CSS styling is applied). If the `srcset` attribute is absent, or contains no values with a width (`w`) descriptor, then the `sizes` attribute has no effect."}},{name:"importance",description:"Indicates the relative importance of the resource. Priority hints are delegated using the values:"},{name:"importance",description:"`auto`: Indicates\xA0**no\xA0preference**. The browser may use its own heuristics to decide the priority of the image.\n\n`high`: Indicates to the\xA0browser\xA0that the image is of\xA0**high** priority.\n\n`low`:\xA0Indicates to the\xA0browser\xA0that the image is of\xA0**low** priority."},{name:"intrinsicsize",description:"This attribute tells the browser to ignore the actual intrinsic size of the image and pretend it\u2019s the size specified in the attribute. Specifically, the image would raster at these dimensions and `naturalWidth`/`naturalHeight` on images would return the values specified in this attribute. [Explainer](https://github.com/ojanvafai/intrinsicsize-attribute), [examples](https://googlechrome.github.io/samples/intrinsic-size/index.html)"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/img"}]},{name:"iframe",description:{kind:"markdown",value:"The iframe element represents a nested browsing context."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the page to embed. Use a value of `about:blank` to embed an empty page that conforms to the [same-origin policy](https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#Inherited_origins). Also note that programatically removing an `<iframe>`\'s src attribute (e.g. via [`Element.removeAttribute()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute "The Element method removeAttribute() removes the attribute with the specified name from the element.")) causes `about:blank` to be loaded in the frame in Firefox (from version 65), Chromium-based browsers, and Safari/iOS.'}},{name:"srcdoc",description:{kind:"markdown",value:"Inline HTML to embed, overriding the `src` attribute. If a browser does not support the `srcdoc` attribute, it will fall back to the URL in the `src` attribute."}},{name:"name",description:{kind:"markdown",value:'A targetable name for the embedded browsing context. This can be used in the `target` attribute of the [`<a>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a "The HTML <a> element (or anchor element) creates a hyperlink to other web pages, files, locations within the same page, email addresses, or any other URL."), [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server."), or [`<base>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/base "The HTML <base> element specifies the base URL to use for all relative URLs contained within a document. There can be only one <base> element in a document.") elements; the `formtarget` attribute of the [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") or [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") elements; or the `windowName` parameter in the [`window.open()`](https://developer.mozilla.org/en-US/docs/Web/API/Window/open "The\xA0Window interface\'s open() method loads the specified resource into the browsing context (window, <iframe> or tab) with the specified name. If the name doesn\'t exist, then a new window is opened and the specified resource is loaded into its browsing context.") method.'}},{name:"sandbox",valueSet:"sb",description:{kind:"markdown",value:'Applies extra restrictions to the content in the frame. The value of the attribute can either be empty to apply all restrictions, or space-separated tokens to lift particular restrictions:\n\n*   `allow-forms`: Allows the resource to submit forms. If this keyword is not used, form submission is blocked.\n*   `allow-modals`: Lets the resource [open modal windows](https://html.spec.whatwg.org/multipage/origin.html#sandboxed-modals-flag).\n*   `allow-orientation-lock`: Lets the resource [lock the screen orientation](https://developer.mozilla.org/en-US/docs/Web/API/Screen/lockOrientation).\n*   `allow-pointer-lock`: Lets the resource use the [Pointer Lock API](https://developer.mozilla.org/en-US/docs/WebAPI/Pointer_Lock).\n*   `allow-popups`: Allows popups (such as `window.open()`, `target="_blank"`, or `showModalDialog()`). If this keyword is not used, the popup will silently fail to open.\n*   `allow-popups-to-escape-sandbox`: Lets the sandboxed document open new windows without those windows inheriting the sandboxing. For example, this can safely sandbox an advertisement without forcing the same restrictions upon the page the ad links to.\n*   `allow-presentation`: Lets the resource start a [presentation session](https://developer.mozilla.org/en-US/docs/Web/API/PresentationRequest).\n*   `allow-same-origin`: If this token is not used, the resource is treated as being from a special origin that always fails the [same-origin policy](https://developer.mozilla.org/en-US/docs/Glossary/same-origin_policy "same-origin policy: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin.").\n*   `allow-scripts`: Lets the resource run scripts (but not create popup windows).\n*   `allow-storage-access-by-user-activation` : Lets the resource request access to the parent\'s storage capabilities with the [Storage Access API](https://developer.mozilla.org/en-US/docs/Web/API/Storage_Access_API).\n*   `allow-top-navigation`: Lets the resource navigate the top-level browsing context (the one named `_top`).\n*   `allow-top-navigation-by-user-activation`: Lets the resource navigate the top-level browsing context, but only if initiated by a user gesture.\n\n**Notes about sandboxing:**\n\n*   When the embedded document has the same origin as the embedding page, it is **strongly discouraged** to use both `allow-scripts` and `allow-same-origin`, as that lets the embedded document remove the `sandbox` attribute \u2014 making it no more secure than not using the `sandbox` attribute at all.\n*   Sandboxing is useless if the attacker can display content outside a sandboxed `iframe` \u2014 such as if the viewer opens the frame in a new tab. Such content should be also served from a _separate origin_ to limit potential damage.\n*   The `sandbox` attribute is unsupported in Internet Explorer 9 and earlier.'}},{name:"seamless",valueSet:"v"},{name:"allowfullscreen",valueSet:"v",description:{kind:"markdown",value:'Set to `true` if the `<iframe>` can activate fullscreen mode by calling the [`requestFullscreen()`](https://developer.mozilla.org/en-US/docs/Web/API/Element/requestFullscreen "The Element.requestFullscreen() method issues an asynchronous request to make the element be displayed in full-screen mode.") method.\nThis attribute is considered a legacy attribute and redefined as `allow="fullscreen"`.'}},{name:"width",description:{kind:"markdown",value:"The width of the frame in CSS pixels. Default is `300`."}},{name:"height",description:{kind:"markdown",value:"The height of the frame in CSS pixels. Default is `150`."}},{name:"allow",description:"Specifies a [feature policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Feature_Policy) for the `<iframe>`."},{name:"allowpaymentrequest",description:"Set to `true` if a cross-origin `<iframe>` should be allowed to invoke the [Payment Request API](https://developer.mozilla.org/en-US/docs/Web/API/Payment_Request_API)."},{name:"allowpaymentrequest",description:'This attribute is considered a legacy attribute and redefined as `allow="payment"`.'},{name:"csp",description:'A [Content Security Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) enforced for the embedded resource. See [`HTMLIFrameElement.csp`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/csp "The csp property of the HTMLIFrameElement interface specifies the Content Security Policy that an embedded document must agree to enforce upon itself.") for details.'},{name:"importance",description:`The download priority of the resource in the \`<iframe>\`'s \`src\` attribute. Allowed values:

\`auto\` (default)

No preference. The browser uses its own heuristics to decide the priority of the resource.

\`high\`

The resource should be downloaded before other lower-priority page resources.

\`low\`

The resource should be downloaded after other higher-priority page resources.`},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the frame\'s resource:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, only send the origin when the protocol security level stays the same (HTTPS\u2192HTTPS), and send no header to a less secure destination (HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/iframe"}]},{name:"embed",description:{kind:"markdown",value:"The embed element provides an integration point for an external (typically non-HTML) application or interactive content."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:"The URL\xA0of the resource being embedded."}},{name:"type",description:{kind:"markdown",value:"The MIME\xA0type to use to select the plug-in to instantiate."}},{name:"width",description:{kind:"markdown",value:"The displayed width of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}},{name:"height",description:{kind:"markdown",value:"The displayed height of the resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). This must be an absolute value; percentages are _not_ allowed."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/embed"}]},{name:"object",description:{kind:"markdown",value:"The object element can represent an external resource, which, depending on the type of the resource, will either be treated as an image, as a nested browsing context, or as an external resource to be processed by a plugin."},attributes:[{name:"data",description:{kind:"markdown",value:"The address of the resource as a valid URL. At least one of **data** and **type** must be defined."}},{name:"type",description:{kind:"markdown",value:"The [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource specified by **data**. At least one of **data** and **type** must be defined."}},{name:"typemustmatch",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates if the **type** attribute and the actual [content type](https://developer.mozilla.org/en-US/docs/Glossary/Content_type) of the resource must match to be used."}},{name:"name",description:{kind:"markdown",value:"The name of valid browsing context (HTML5), or the name of the control (HTML 4)."}},{name:"usemap",description:{kind:"markdown",value:"A hash-name reference to a [`<map>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map \"The HTML <map> element is used with <area> elements to define an image map (a clickable link area).\") element; that is a '#' followed by the value of a [`name`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/map#attr-name) of a map element."}},{name:"form",description:{kind:"markdown",value:'The form element, if any, that the object element is associated with (its _form owner_). The value of the attribute must be an ID of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document.'}},{name:"width",description:{kind:"markdown",value:"The width of the display resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"height",description:{kind:"markdown",value:"The height of the displayed resource, in [CSS pixels](https://drafts.csswg.org/css-values/#px). -- (Absolute values only. [NO percentages](https://html.spec.whatwg.org/multipage/embedded-content.html#dimension-attributes))"}},{name:"archive",description:"A space-separated list of URIs for archives of resources for the object."},{name:"border",description:"The width of a border around the control, in pixels."},{name:"classid",description:"The URI of the object's implementation. It can be used together with, or in place of, the **data** attribute."},{name:"codebase",description:"The base path used to resolve relative URIs specified by **classid**, **data**, or **archive**. If not specified, the default is the base URI of the current document."},{name:"codetype",description:"The content type of the data specified by **classid**."},{name:"declare",description:"The presence of this Boolean attribute makes this element a declaration only. The object must be instantiated by a subsequent `<object>` element. In HTML5, repeat the <object> element completely each that that the resource is reused."},{name:"standby",description:"A message that the browser can show while loading the object's implementation and data."},{name:"tabindex",description:"The position of the element in the tabbing navigation order for the current document."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/object"}]},{name:"param",description:{kind:"markdown",value:"The param element defines parameters for plugins invoked by object elements. It does not represent anything on its own."},void:!0,attributes:[{name:"name",description:{kind:"markdown",value:"Name of the parameter."}},{name:"value",description:{kind:"markdown",value:"Specifies the value of the parameter."}},{name:"type",description:'Only used if the `valuetype` is set to "ref". Specifies the MIME type of values found at the URI specified by value.'},{name:"valuetype",description:`Specifies the type of the \`value\` attribute. Possible values are:

*   data: Default value. The value is passed to the object's implementation as a string.
*   ref: The value is a URI to a resource where run-time values are stored.
*   object: An ID of another [\`<object>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/object "The HTML <object> element represents an external resource, which can be treated as an image, a nested browsing context, or a resource to be handled by a plugin.") in the same document.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/param"}]},{name:"video",description:{kind:"markdown",value:"A video element is used for playing videos or movies, and audio files with captions."},attributes:[{name:"src"},{name:"crossorigin",valueSet:"xo"},{name:"poster"},{name:"preload",valueSet:"pl"},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:'A Boolean attribute; if specified, the video automatically begins to play back as soon as it can do so without stopping to finish loading the data.\n**Note**: Sites that automatically play audio (or video with an audio track) can be an unpleasant experience for users, so it should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.\n\nTo disable video autoplay, `autoplay="false"` will not work; the video will autoplay if the attribute is there in the `<video>` tag at all. To remove autoplay the attribute needs to be removed altogether.\n\nIn some browsers (e.g. Chrome 70.0) autoplay is not working if no `muted` attribute is present.'}},{name:"mediagroup"},{name:"loop",valueSet:"v"},{name:"muted",valueSet:"v"},{name:"controls",valueSet:"v"},{name:"width"},{name:"height"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/video"}]},{name:"audio",description:{kind:"markdown",value:"An audio element represents a sound or audio stream."},attributes:[{name:"src",description:{kind:"markdown",value:'The URL of the audio to embed. This is subject to [HTTP access controls](https://developer.mozilla.org/en-US/docs/HTTP_access_control). This is optional; you may instead use the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element within the audio block to specify the audio to embed.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'This enumerated attribute indicates whether to use CORS to fetch the related image. [CORS-enabled resources](https://developer.mozilla.org/en-US/docs/CORS_Enabled_Image) can be reused in the [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") element without being _tainted_. The allowed values are:\n\nanonymous\n\nSends a cross-origin request without a credential. In other words, it sends the `Origin:` HTTP header without a cookie, X.509 certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (by not setting the `Access-Control-Allow-Origin:` HTTP header), the image will be _tainted_, and its usage restricted.\n\nuse-credentials\n\nSends a cross-origin request with a credential. In other words, it sends the `Origin:` HTTP header with a cookie, a certificate, or performing HTTP Basic authentication. If the server does not give credentials to the origin site (through `Access-Control-Allow-Credentials:` HTTP header), the image will be _tainted_ and its usage restricted.\n\nWhen not present, the resource is fetched without a CORS request (i.e. without sending the `Origin:` HTTP header), preventing its non-tainted used in [`<canvas>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas "Use the HTML <canvas> element with either the canvas scripting API or the WebGL API to draw graphics and animations.") elements. If invalid, it is handled as if the enumerated keyword **anonymous** was used. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes) for additional information.'}},{name:"preload",valueSet:"pl",description:{kind:"markdown",value:"This enumerated attribute is intended to provide a hint to the browser about what the author thinks will lead to the best user experience. It may have one of the following values:\n\n*   `none`: Indicates that the audio should not be preloaded.\n*   `metadata`: Indicates that only audio metadata (e.g. length) is fetched.\n*   `auto`: Indicates that the whole audio file can be downloaded, even if the user is not expected to use it.\n*   _empty string_: A synonym of the `auto` value.\n\nIf not set, `preload`'s default value is browser-defined (i.e. each browser may have its own default value). The spec advises it to be set to `metadata`.\n\n**Usage notes:**\n\n*   The `autoplay` attribute has precedence over\xA0`preload`. If `autoplay` is specified, the browser would obviously need to start downloading the audio for playback.\n*   The browser is not forced by the specification to follow the value of this attribute; it is a mere hint."}},{name:"autoplay",valueSet:"v",description:{kind:"markdown",value:`A Boolean attribute:\xA0if specified, the audio will automatically begin playback as soon as it can do so, without waiting for the entire audio file to finish downloading.

**Note**: Sites that automatically play audio (or videos with an audio track) can be an unpleasant experience for users, so should be avoided when possible. If you must offer autoplay functionality, you should make it opt-in (requiring a user to specifically enable it). However, this can be useful when creating media elements whose source will be set at a later time, under user control.`}},{name:"mediagroup"},{name:"loop",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute:\xA0if specified, the audio player will\xA0automatically seek back to the start\xA0upon reaching the end of the audio."}},{name:"muted",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute that indicates whether the audio will be initially silenced. Its default value is `false`."}},{name:"controls",valueSet:"v",description:{kind:"markdown",value:"If this attribute is present, the browser will offer controls to allow the user to control audio playback, including volume, seeking, and pause/resume playback."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/audio"}]},{name:"source",description:{kind:"markdown",value:"The source element allows authors to specify multiple alternative media resources for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"src",description:{kind:"markdown",value:'Required for [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") and [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document."), address of the media resource. The value of this attribute is ignored when the `<source>` element is placed inside a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}},{name:"type",description:{kind:"markdown",value:"The MIME-type of the resource, optionally with a `codecs` parameter. See [RFC 4281](https://tools.ietf.org/html/rfc4281) for information about how to specify codecs."}},{name:"sizes",description:'Is a list of source sizes that describes the final rendered width of the image represented by the source. Each source size consists of a comma-separated list of media condition-length pairs. This information is used by the browser to determine, before laying the page out, which image defined in [`srcset`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source#attr-srcset) to use.  \nThe `sizes` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source "The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'},{name:"srcset",description:"A list of one or more strings separated by commas indicating a set of possible images represented by the source for the browser to use. Each string is composed of:\n\n1.  one URL to an image,\n2.  a width descriptor, that is a positive integer directly followed by `'w'`. The default value, if missing, is the infinity.\n3.  a pixel density descriptor, that is a positive floating number directly followed by `'x'`. The default value, if missing, is `1x`.\n\nEach string in the list must have at least a width descriptor or a pixel density descriptor to be valid. Among the list, there must be only one string containing the same tuple of width descriptor and pixel density descriptor.  \nThe browser chooses the most adequate image to display at a given point of time.  \nThe `srcset` attribute has an effect only when the [`<source>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/source \"The HTML <source> element specifies multiple media resources for the <picture>, the <audio> element, or the <video> element.\") element is the direct child of a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture \"The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.\") element."},{name:"media",description:'[Media query](https://developer.mozilla.org/en-US/docs/CSS/Media_queries) of the resource\'s intended media; this should be used only in a [`<picture>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/picture "The HTML <picture> element contains zero or more <source> elements and one <img> element to provide versions of an image for different display/device scenarios.") element.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/source"}]},{name:"track",description:{kind:"markdown",value:"The track element allows authors to specify explicit external timed text tracks for media elements. It does not represent anything on its own."},void:!0,attributes:[{name:"default",valueSet:"v",description:{kind:"markdown",value:"This attribute indicates that the track should be enabled unless the user's preferences indicate that another track is more appropriate. This may only be used on one `track` element per media element."}},{name:"kind",valueSet:"tk",description:{kind:"markdown",value:"How the text track is meant to be used. If omitted the default kind is `subtitles`. If the attribute is not present, it will use the `subtitles`. If the attribute contains an invalid value, it will use `metadata`. (Versions of Chrome earlier than 52 treated an invalid value as `subtitles`.)\xA0The following keywords are allowed:\n\n*   `subtitles`\n    *   Subtitles provide translation of content that cannot be understood by the viewer. For example dialogue or text that is not English in an English language film.\n    *   Subtitles may contain additional content, usually extra background information. For example the text at the beginning of the Star Wars films, or the date, time, and location of a scene.\n*   `captions`\n    *   Closed captions provide a transcription and possibly a translation of audio.\n    *   It may include important non-verbal information such as music cues or sound effects. It may indicate the cue's source (e.g. music, text, character).\n    *   Suitable for users who are deaf or when the sound is muted.\n*   `descriptions`\n    *   Textual description of the video content.\n    *   Suitable for users who are blind or where the video cannot be seen.\n*   `chapters`\n    *   Chapter titles are intended to be used when the user is navigating the media resource.\n*   `metadata`\n    *   Tracks used by scripts. Not visible to the user."}},{name:"label",description:{kind:"markdown",value:"A user-readable title of the text track which is used by the browser when listing available text tracks."}},{name:"src",description:{kind:"markdown",value:'Address of the track (`.vtt` file). Must be a valid URL. This attribute must be specified and its URL value must have the same origin as the document \u2014 unless the [`<audio>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio "The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:\xA0the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream.") or [`<video>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/video "The HTML Video element (<video>) embeds a media player which supports video playback into the document.") parent element of the `track` element has a [`crossorigin`](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) attribute.'}},{name:"srclang",description:{kind:"markdown",value:"Language of the track text data. It must be a valid [BCP 47](https://r12a.github.io/app-subtags/) language tag. If the `kind` attribute is set to\xA0`subtitles,` then `srclang` must be defined."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/track"}]},{name:"map",description:{kind:"markdown",value:"The map element, in conjunction with an img element and any area element descendants, defines an image map. The element represents its children."},attributes:[{name:"name",description:{kind:"markdown",value:"The name attribute gives the map a name so that it can be referenced. The attribute must be present and must have a non-empty value with no space characters. The value of the name attribute must not be a compatibility-caseless match for the value of the name attribute of another map element in the same document. If the id attribute is also specified, both attributes must have the same value."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/map"}]},{name:"area",description:{kind:"markdown",value:"The area element represents either a hyperlink with some text and a corresponding area on an image map, or a dead area on an image map."},void:!0,attributes:[{name:"alt"},{name:"coords"},{name:"shape",valueSet:"sh"},{name:"href"},{name:"target",valueSet:"target"},{name:"download"},{name:"ping"},{name:"rel"},{name:"hreflang"},{name:"type"},{name:"accesskey",description:"Specifies a keyboard navigation accelerator for the element. Pressing ALT or a similar key in association with the specified character selects the form control correlated with that key sequence. Page designers are forewarned to avoid key sequences already bound to browsers. This attribute is global since HTML5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/area"}]},{name:"table",description:{kind:"markdown",value:"The table element represents data with more than one dimension, in the form of a table."},attributes:[{name:"border"},{name:"align",description:'This enumerated attribute indicates how the table must be aligned inside the containing document. It may have the following values:\n\n*   left: the table is displayed on the left side of the document;\n*   center: the table is displayed in the center of the document;\n*   right: the table is displayed on the right side of the document.\n\n**Usage Note**\n\n*   **Do not use this attribute**, as it has been deprecated. The [`<table>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/table "The HTML <table> element represents tabular data \u2014 that is, information presented in a two-dimensional table comprised of rows and columns of cells containing data.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). Set [`margin-left`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-left "The margin-left CSS property sets the margin area on the left side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") and [`margin-right`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin-right "The margin-right CSS property sets the margin area on the right side of an element. A positive value places it farther from its neighbors, while a negative value places it closer.") to `auto` or [`margin`](https://developer.mozilla.org/en-US/docs/Web/CSS/margin "The margin CSS property sets the margin area on all four sides of an element. It is a shorthand for margin-top, margin-right, margin-bottom, and margin-left.") to `0 auto` to achieve an effect that is similar to the align attribute.\n*   Prior to Firefox 4, Firefox also supported the `middle`, `absmiddle`, and `abscenter` values as synonyms of `center`, in quirks mode only.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/table"}]},{name:"caption",description:{kind:"markdown",value:"The caption element represents the title of the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"align",description:`This enumerated attribute indicates how the caption must be aligned with respect to the table. It may have one of the following values:

\`left\`

The caption is displayed to the left of the table.

\`top\`

The caption is displayed above the table.

\`right\`

The caption is displayed to the right of the table.

\`bottom\`

The caption is displayed below the table.

**Usage note:** Do not use this attribute, as it has been deprecated. The [\`<caption>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/caption "The HTML Table Caption element (<caption>) specifies the caption (or title) of a table, and if used is always the first child of a <table>.") element should be styled using the [CSS](https://developer.mozilla.org/en-US/docs/CSS) properties [\`caption-side\`](https://developer.mozilla.org/en-US/docs/Web/CSS/caption-side "The caption-side CSS property puts the content of a table's <caption> on the specified side. The values are relative to the writing-mode of the table.") and [\`text-align\`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.").`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/caption"}]},{name:"colgroup",description:{kind:"markdown",value:"The colgroup element represents a group of one or more columns in the table that is its parent, if it has a parent and that is a table element."},attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed. The descendant [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") elements may override this value using their own [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-align) attribute.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use one `td:nth-child(an+b)` CSS selector per column, where a is the total number of the columns in the table and b is the ordinal position of this column in the table. Only after this selector the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property can be used.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/colgroup"}]},{name:"col",description:{kind:"markdown",value:"If a col element has a parent and that is a colgroup element that itself has a parent that is a table element, then the col element represents one or more columns in the column group represented by that colgroup."},void:!0,attributes:[{name:"span"},{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each column cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, its value is inherited from the [`align`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup#attr-align) of the [`<colgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/colgroup "The HTML <colgroup> element defines a group of columns within a table.") element this `<col>` element belongs too. If there are none, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values:\n    *   Do not try to set the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on a selector giving a [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element. Because [`<td>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") elements are not descendant of the [`<col>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col "The HTML <col> element defines a column within a table and is used for defining common semantics on all common cells. It is generally found within a <colgroup> element.") element, they won\'t inherit it.\n    *   If the table doesn\'t use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, use the `td:nth-child(an+b)` CSS selector. Set `a` to zero and `b` to the position of the column in the table, e.g. `td:nth-child(2) { text-align: right; }` to right-align the second column.\n    *   If the table does use a [`colspan`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-colspan) attribute, the effect can be achieved by combining adequate CSS attribute selectors like `[colspan=n]`, though this is not trivial.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/col#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/col"}]},{name:"tbody",description:{kind:"markdown",value:"The tbody element represents a block of rows that consist of a body of data for the parent table element, if the tbody element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes.\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tbody"}]},{name:"thead",description:{kind:"markdown",value:"The thead element represents the block of rows that consist of the column labels (headers) for the parent table element, if the thead element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/thead#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/thead"}]},{name:"tfoot",description:{kind:"markdown",value:"The tfoot element represents the block of rows that consist of the column summaries (footers) for the parent table element, if the tfoot element has a parent and it is a table."},attributes:[{name:"align",description:'This enumerated attribute specifies how horizontal alignment of each cell content will be handled. Possible values are:\n\n*   `left`, aligning the content to the left of the cell\n*   `center`, centering the content in the cell\n*   `right`, aligning the content to the right of the cell\n*   `justify`, inserting spaces into the textual content so that the content is justified in the cell\n*   `char`, aligning the textual content on a special character with a minimal offset, defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tbody#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nIf this attribute is not set, the `left` value is assumed.\n\n**Note:** Do not use this attribute as it is obsolete (not supported) in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property on it.\n*   To achieve the same effect as the `char` value, in CSS3, you can use the value of the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tfoot#attr-char) as the value of the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property Unimplemented.'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tfoot"}]},{name:"tr",description:{kind:"markdown",value:"The tr element represents a row of cells in a table."},attributes:[{name:"align",description:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") which specifies how the cell\'s context should be aligned horizontally within the cells in the row; this is shorthand for using `align` on every cell in the row individually. Possible values are:\n\n`left`\n\nAlign the content of each cell at its left edge.\n\n`center`\n\nCenter the contents of each cell between their left and right edges.\n\n`right`\n\nAlign the content of each cell at its right edge.\n\n`justify`\n\nWiden whitespaces within the text of each cell so that the text fills the full width of each cell (full justification).\n\n`char`\n\nAlign each cell in the row on a specific character (such that each row in the column that is configured this way will horizontally align its cells on that character). This uses the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/tr#attr-charoff) to establish the alignment character (typically "." or "," when aligning numerical data) and the number of characters that should follow the alignment character. This alignment type was never widely supported.\n\nIf no value is expressly set for `align`, the parent node\'s value is inherited.\n\nInstead of using the obsolete `align` attribute, you should instead use the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to establish `left`, `center`, `right`, or `justify` alignment for the row\'s cells. To apply character-based alignment, set the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the alignment character (such as `"."` or `","`).'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/tr"}]},{name:"td",description:{kind:"markdown",value:"The td element represents a data cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"abbr",description:`This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself.

**Note:** Do not use this attribute as it is obsolete in the latest standard. Alternatively, you can put the abbreviated description inside the cell and place the long content in the **title** attribute.`},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-charoff) attributes Unimplemented (see [bug\xA02212](https://bugzilla.mozilla.org/show_bug.cgi?id=2212 "character alignment not implemented (align=char, charoff=, text-align:<string>)")).\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<td>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/td "The HTML <td> element defines a cell of a table that contains data. It participates in the table model.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/td"}]},{name:"th",description:{kind:"markdown",value:"The th element represents a header cell in a table."},attributes:[{name:"colspan"},{name:"rowspan"},{name:"headers"},{name:"scope",valueSet:"s"},{name:"sorted"},{name:"abbr",description:{kind:"markdown",value:"This attribute contains a short abbreviated description of the cell's content. Some user-agents, such as speech readers, may present this description before the content itself."}},{name:"align",description:'This enumerated attribute specifies how the cell content\'s horizontal alignment will be handled. Possible values are:\n\n*   `left`: The content is aligned to the left of the cell.\n*   `center`: The content is centered in the cell.\n*   `right`: The content is aligned to the right of the cell.\n*   `justify` (with text only): The content is stretched out inside the cell so that it covers its entire width.\n*   `char` (with text only): The content is aligned to a character inside the `<th>` element with minimal offset. This character is defined by the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char) and [`charoff`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-charoff) attributes.\n\nThe default value when this attribute is not specified is `left`.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard.\n\n*   To achieve the same effect as the `left`, `center`, `right` or `justify` values, apply the CSS [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property to the element.\n*   To achieve the same effect as the `char` value, give the [`text-align`](https://developer.mozilla.org/en-US/docs/Web/CSS/text-align "The text-align CSS property sets the horizontal alignment of an inline or table-cell box. This means it works like vertical-align but in the horizontal direction.") property the same value you would use for the [`char`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-char). Unimplemented in CSS3.'},{name:"axis",description:"This attribute contains a list of space-separated strings. Each string is the `id` of a group of cells that this header applies to.\n\n**Note:** Do not use this attribute as it is obsolete in the latest standard: use the [`scope`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th#attr-scope) attribute instead."},{name:"bgcolor",description:`This attribute defines the background color of each cell in a column. It consists of a 6-digit hexadecimal code as defined in [sRGB](https://www.w3.org/Graphics/Color/sRGB) and is prefixed by '#'. This attribute may be used with one of sixteen predefined color strings:

\xA0

\`black\` = "#000000"

\xA0

\`green\` = "#008000"

\xA0

\`silver\` = "#C0C0C0"

\xA0

\`lime\` = "#00FF00"

\xA0

\`gray\` = "#808080"

\xA0

\`olive\` = "#808000"

\xA0

\`white\` = "#FFFFFF"

\xA0

\`yellow\` = "#FFFF00"

\xA0

\`maroon\` = "#800000"

\xA0

\`navy\` = "#000080"

\xA0

\`red\` = "#FF0000"

\xA0

\`blue\` = "#0000FF"

\xA0

\`purple\` = "#800080"

\xA0

\`teal\` = "#008080"

\xA0

\`fuchsia\` = "#FF00FF"

\xA0

\`aqua\` = "#00FFFF"

**Note:** Do not use this attribute, as it is non-standard and only implemented in some versions of Microsoft Internet Explorer: The [\`<th>\`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/th "The HTML <th> element defines a cell as header of a group of table cells. The exact nature of this group is defined by the scope and headers attributes.") element should be styled using [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS). To create a similar effect use the [\`background-color\`](https://developer.mozilla.org/en-US/docs/Web/CSS/background-color "The background-color CSS property sets the background color of an element.") property in [CSS](https://developer.mozilla.org/en-US/docs/Web/CSS) instead.`}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/th"}]},{name:"form",description:{kind:"markdown",value:"The form element represents a collection of form-associated elements, some of which can represent editable values that can be submitted to a server for processing."},attributes:[{name:"accept-charset",description:{kind:"markdown",value:'A space- or comma-delimited list of character encodings that the server accepts. The browser uses them in the order in which they are listed. The default value, the reserved string `"UNKNOWN"`, indicates the same encoding as that of the document containing the form element.  \nIn previous versions of HTML, the different character encodings could be delimited by spaces or commas. In HTML5, only spaces are allowed as delimiters.'}},{name:"action",description:{kind:"markdown",value:'The URI of a program that processes the form information. This value can be overridden by a [`formaction`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formaction) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"autocomplete",valueSet:"o",description:{kind:"markdown",value:"Indicates whether input elements can by default have their values automatically completed by the browser. This setting can be overridden by an `autocomplete` attribute on an element belonging to the form. Possible values are:\n\n*   `off`: The user must explicitly enter a value into each field for every use, or the document provides its own auto-completion method; the browser does not automatically complete entries.\n*   `on`: The browser can automatically complete values based on values that the user has previously entered in the form.\n\nFor most modern browsers (including Firefox 38+, Google Chrome 34+, IE 11+) setting the autocomplete attribute will not prevent a browser's password manager from asking the user if they want to store login fields (username and password), if the user permits the storage the browser will autofill the login the next time the user visits the page. See [The autocomplete attribute and login fields](https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion#The_autocomplete_attribute_and_login_fields).\n**Note:** If you set `autocomplete` to `off` in a form because the document provides its own auto-completion, then you should also set `autocomplete` to `off` for each of the form's `input` elements that the document can auto-complete. For details, see the note regarding Google Chrome in the [Browser Compatibility chart](#compatChart)."}},{name:"enctype",valueSet:"et",description:{kind:"markdown",value:'When the value of the `method` attribute is `post`, enctype is the [MIME type](https://en.wikipedia.org/wiki/Mime_type) of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: The value used for an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the `type` attribute set to "file".\n*   `text/plain`: (HTML5)\n\nThis value can be overridden by a [`formenctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formenctype) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"method",valueSet:"m",description:{kind:"markdown",value:'The [HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP) method that the browser uses to submit the form. Possible values are:\n\n*   `post`: Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5) ; form data are included in the body of the form and sent to the server.\n*   `get`: Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a \'?\' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n*   `dialog`: Use when the form is inside a\xA0[`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog "The HTML <dialog> element represents a dialog box or other interactive component, such as an inspector or window.") element to close the dialog when submitted.\n\nThis value can be overridden by a [`formmethod`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formmethod) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"name",description:{kind:"markdown",value:"The name of the form. In HTML 4, its use is deprecated (`id` should be used instead). It must be unique among the forms in a document and not just an empty string in HTML 5."}},{name:"novalidate",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the form is not to be validated when submitted. If this attribute is not specified (and therefore the form is validated), this default setting can be overridden by a [`formnovalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formnovalidate) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element belonging to the form.'}},{name:"target",valueSet:"target",description:{kind:"markdown",value:'A name or keyword indicating where to display the response that is received after submitting the form. In HTML 4, this is the name/keyword for a frame. In HTML5, it is a name/keyword for a _browsing context_ (for example, tab, window, or inline frame). The following keywords have special meanings:\n\n*   `_self`: Load the response into the same HTML 4 frame (or HTML5 browsing context) as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed HTML 4 window or HTML5 browsing context.\n*   `_parent`: Load the response into the HTML 4 frameset parent of the current frame, or HTML5 parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: HTML 4: Load the response into the full original window, and cancel all other frames. HTML5: Load the response into the top-level browsing context (i.e., the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`.\n*   _iframename_: The response is displayed in a named [`<iframe>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe "The HTML Inline Frame element (<iframe>) represents a nested browsing context, embedding another HTML page into the current one.").\n\nHTML5: This value can be overridden by a [`formtarget`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-formtarget) attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") or [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'}},{name:"accept",description:'A comma-separated list of content types that the server accepts.\n\n**Usage note:** This attribute has been removed in HTML5 and should no longer be used. Instead, use the [`accept`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept) attribute of the specific [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element.'},{name:"autocapitalize",description:"This is a nonstandard attribute used by iOS Safari Mobile which controls whether and how the text value for textual form control descendants should be automatically capitalized as it is entered/edited by the user. If the `autocapitalize` attribute is specified on an individual form control descendant, it trumps the form-wide `autocapitalize` setting. The non-deprecated values are available in iOS 5 and later. The default value is `sentences`. Possible values are:\n\n*   `none`: Completely disables automatic capitalization\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/form"}]},{name:"label",description:{kind:"markdown",value:"The label element represents a caption in a user interface. The caption can be associated with a specific form control, known as the label element's labeled control, either using the for attribute, or by putting the form control inside the label element itself."},attributes:[{name:"form",description:{kind:"markdown",value:'The [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element with which the label is associated (its _form owner_). If specified, the value of the attribute is the `id` of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. This lets you place label elements anywhere within a document, not just as descendants of their form elements.'}},{name:"for",description:{kind:"markdown",value:"The [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#attr-id) of a [labelable](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Form_labelable) form-related element in the same document as the `<label>` element. The first element in the document with an `id` matching the value of the `for` attribute is the _labeled control_ for this label element, if it is a labelable element. If it is\xA0not labelable then the `for` attribute has no effect. If there are other elements which also match the `id` value, later in the document, they are not considered.\n\n**Note**: A `<label>` element can have both a `for` attribute and a contained control element, as long as the `for` attribute points to the contained control element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/label"}]},{name:"input",description:{kind:"markdown",value:"The input element represents a typed data field, usually with a form control to allow the user to edit the data."},void:!0,attributes:[{name:"accept"},{name:"alt"},{name:"autocomplete",valueSet:"inputautocomplete"},{name:"autofocus",valueSet:"v"},{name:"checked",valueSet:"v"},{name:"dirname"},{name:"disabled",valueSet:"v"},{name:"form"},{name:"formaction"},{name:"formenctype",valueSet:"et"},{name:"formmethod",valueSet:"fm"},{name:"formnovalidate",valueSet:"v"},{name:"formtarget"},{name:"height"},{name:"inputmode",valueSet:"im"},{name:"list"},{name:"max"},{name:"maxlength"},{name:"min"},{name:"minlength"},{name:"multiple",valueSet:"v"},{name:"name"},{name:"pattern"},{name:"placeholder"},{name:"readonly",valueSet:"v"},{name:"required",valueSet:"v"},{name:"size"},{name:"src"},{name:"step"},{name:"type",valueSet:"t"},{name:"value"},{name:"width"}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/input"}]},{name:"button",description:{kind:"markdown",value:"The button element represents a button labeled by its contents."},attributes:[{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that the button should have input focus when the page loads, unless the user overrides it, for example by typing in a different control. Only one form-associated element in a document can have this attribute specified."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the button. If this attribute is not specified, the button inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element with the **disabled** attribute set, then the button is enabled.\n\nFirefox will, unlike other browsers, by default, [persist the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Use the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#attr-autocomplete) attribute to control this feature.'}},{name:"form",description:{kind:"markdown",value:'The form element that the button is associated with (its _form owner_). The value of the attribute must be the **id** attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element in the same document. If this attribute is not specified, the `<button>` element will be associated to an ancestor [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element, if one exists. This attribute enables you to associate `<button>` elements to [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements anywhere within a document, not just as descendants of [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") elements.'}},{name:"formaction",description:{kind:"markdown",value:"The URI of a program that processes the information submitted by the button. If specified, it overrides the [`action`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-action) attribute of the button's form owner."}},{name:"formenctype",valueSet:"et",description:{kind:"markdown",value:'If the button is a submit button, this attribute specifies the type of content that is used to submit the form to the server. Possible values are:\n\n*   `application/x-www-form-urlencoded`: The default value if the attribute is not specified.\n*   `multipart/form-data`: Use this value if you are using an [`<input>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") element with the [`type`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-type) attribute set to `file`.\n*   `text/plain`\n\nIf this attribute is specified, it overrides the [`enctype`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-enctype) attribute of the button\'s form owner.'}},{name:"formmethod",valueSet:"fm",description:{kind:"markdown",value:"If the button is a submit button, this attribute specifies the HTTP method that the browser uses to submit the form. Possible values are:\n\n*   `post`: The data from the form are included in the body of the form and sent to the server.\n*   `get`: The data from the form are appended to the **form** attribute URI, with a '?' as a separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters.\n\nIf specified, this attribute overrides the [`method`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-method) attribute of the button's form owner."}},{name:"formnovalidate",valueSet:"v",description:{kind:"markdown",value:"If the button is a submit button, this Boolean attribute specifies that the form is not to be validated when it is submitted. If this attribute is specified, it overrides the [`novalidate`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-novalidate) attribute of the button's form owner."}},{name:"formtarget",description:{kind:"markdown",value:"If the button is a submit button, this attribute is a name or keyword indicating where to display the response that is received after submitting the form. This is a name of, or keyword for, a _browsing context_ (for example, tab, window, or inline frame). If this attribute is specified, it overrides the [`target`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-target) attribute of the button's form owner. The following keywords have special meanings:\n\n*   `_self`: Load the response into the same browsing context as the current one. This value is the default if the attribute is not specified.\n*   `_blank`: Load the response into a new unnamed browsing context.\n*   `_parent`: Load the response into the parent browsing context of the current one. If there is no parent, this option behaves the same way as `_self`.\n*   `_top`: Load the response into the top-level browsing context (that is, the browsing context that is an ancestor of the current one, and has no parent). If there is no parent, this option behaves the same way as `_self`."}},{name:"name",description:{kind:"markdown",value:"The name of the button, which is submitted with the form data."}},{name:"type",valueSet:"bt",description:{kind:"markdown",value:"The type of the button. Possible values are:\n\n*   `submit`: The button submits the form data to the server. This is the default if the attribute is not specified, or if the attribute is dynamically changed to an empty or invalid value.\n*   `reset`: The button resets all the controls to their initial values.\n*   `button`: The button has no default behavior. It can have client-side scripts associated with the element's events, which are triggered when the events occur."}},{name:"value",description:{kind:"markdown",value:"The initial value of the button. It defines the value associated with the button which is submitted with the form data. This value is passed to the server in params when the form is submitted."}},{name:"autocomplete",description:'The use of this attribute on a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") is nonstandard and Firefox-specific. By default, unlike other browsers, [Firefox persists the dynamic disabled state](https://stackoverflow.com/questions/5985839/bug-with-firefox-disabled-attribute-of-input-not-resetting-when-refreshing) of a [`<button>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button "The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality.") across page loads. Setting the value of this attribute to `off` (i.e. `autocomplete="off"`) disables this feature. See [bug\xA0654072](https://bugzilla.mozilla.org/show_bug.cgi?id=654072 "if disabled state is changed with javascript, the normal state doesn\'t return after refreshing the page").'}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/button"}]},{name:"select",description:{kind:"markdown",value:"The select element represents a control for selecting amongst a set of options."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'A [`DOMString`](https://developer.mozilla.org/en-US/docs/Web/API/DOMString "DOMString is a UTF-16 String. As JavaScript already uses such strings, DOMString is mapped directly to a String.") providing a hint for a [user agent\'s](https://developer.mozilla.org/en-US/docs/Glossary/user_agent "user agent\'s: A user agent is a computer program representing a person, for example, a browser in a Web context.") autocomplete feature. See [The HTML autocomplete attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) for a complete list of values and details on how to use autocomplete.'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form element in a document can have the `autofocus` attribute."}},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example `fieldset`; if there is no containing element with the `disabled` attribute set, then the control is enabled."}},{name:"form",description:{kind:"markdown",value:'This attribute lets you specify the form element to\xA0which\xA0the select element is associated\xA0(that is, its "form owner"). If this attribute is specified, its value must be the same as the `id` of a form element in the same document. This enables you to place select elements anywhere within a document, not just as descendants of their form elements.'}},{name:"multiple",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that multiple options can be selected in the list. If it is not specified, then only one option can be selected at a time. When `multiple` is specified, most browsers will show a scrolling list box instead of a single line dropdown."}},{name:"name",description:{kind:"markdown",value:"This attribute is used to specify the name of the control."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"A Boolean attribute indicating that an option with a non-empty string value must be selected."}},{name:"size",description:{kind:"markdown",value:"If the control is presented as a scrolling list box (e.g. when `multiple` is specified), this attribute represents the number of rows in the list that should be visible at one time. Browsers are not required to present a select element as a scrolled list box. The default value is 0.\n\n**Note:** According to the HTML5 specification, the default value for size should be 1; however, in practice, this has been found to break some web sites, and no other browser currently does that, so Mozilla has opted to continue to return 0 for the time being with Firefox."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/select"}]},{name:"datalist",description:{kind:"markdown",value:"The datalist element represents a set of option elements that represent predefined options for other controls. In the rendering, the datalist element represents nothing and it, along with its children, should be hidden."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/datalist"}]},{name:"optgroup",description:{kind:"markdown",value:"The optgroup element represents a group of option elements with a common label."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, none of the items in this option group is selectable. Often browsers grey out such control and it won't receive any browsing events, like mouse clicks or focus-related ones."}},{name:"label",description:{kind:"markdown",value:"The name of the group of options, which the browser can use when labeling the options in the user interface. This attribute is mandatory if this element is used."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/optgroup"}]},{name:"option",description:{kind:"markdown",value:"The option element represents an option in a select element or as part of a list of suggestions in a datalist element."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'If this Boolean attribute is set, this option is not checkable. Often browsers grey out such control and it won\'t receive any browsing event, like mouse clicks or focus-related ones. If this attribute is not set, the element can still be disabled if one of its ancestors is a disabled [`<optgroup>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/optgroup "The HTML <optgroup> element creates a grouping of options within a <select> element.") element.'}},{name:"label",description:{kind:"markdown",value:"This attribute is text for the label indicating the meaning of the option. If the `label` attribute isn't defined, its value is that of the element text content."}},{name:"selected",valueSet:"v",description:{kind:"markdown",value:'If present, this Boolean attribute indicates that the option is initially selected. If the `<option>` element is the descendant of a [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element whose [`multiple`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select#attr-multiple) attribute is not set, only one single `<option>` of this [`<select>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select "The HTML <select> element represents a control that provides a menu of options") element may have the `selected` attribute.'}},{name:"value",description:{kind:"markdown",value:"The content of this attribute represents the value to be submitted with the form, should this option be selected.\xA0If this attribute is omitted, the value is taken from the text content of the option element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/option"}]},{name:"textarea",description:{kind:"markdown",value:"The textarea element represents a multiline plain text edit control for the element's raw value. The contents of the control represent the control's default value."},attributes:[{name:"autocomplete",valueSet:"inputautocomplete",description:{kind:"markdown",value:'This attribute indicates whether the value of the control can be automatically completed by the browser. Possible values are:\n\n*   `off`: The user must explicitly enter a value into this field for every use, or the document provides its own auto-completion method; the browser does not automatically complete the entry.\n*   `on`: The browser can automatically complete the value based on values that the user has entered during previous uses.\n\nIf the `autocomplete` attribute is not specified on a `<textarea>` element, then the browser uses the `autocomplete` attribute value of the `<textarea>` element\'s form owner. The form owner is either the [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element that this `<textarea>` element is a descendant of or the form element whose `id` is specified by the `form` attribute of the input element. For more information, see the [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form#attr-autocomplete) attribute in [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.").'}},{name:"autofocus",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute lets you specify that a form control should have input focus when the page loads. Only one form-associated element in a document can have this attribute specified."}},{name:"cols",description:{kind:"markdown",value:"The visible width of the text control, in average character widths. If it is specified, it must be a positive integer. If it is not specified, the default value is `20`."}},{name:"dirname"},{name:"disabled",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute indicates that the user cannot interact with the control. If this attribute is not specified, the control inherits its setting from the containing element, for example [`<fieldset>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset "The HTML <fieldset> element is used to group several controls as well as labels (<label>) within a web form."); if there is no containing element when the `disabled` attribute is set, the control is enabled.'}},{name:"form",description:{kind:"markdown",value:'The form element that the `<textarea>` element is associated with (its "form owner"). The value of the attribute must be the `id` of a form element in the same document. If this attribute is not specified, the `<textarea>` element must be a descendant of a form element. This attribute enables you to place `<textarea>` elements anywhere within a document, not just as descendants of form elements.'}},{name:"inputmode",valueSet:"im"},{name:"maxlength",description:{kind:"markdown",value:"The maximum number of characters (unicode code points) that the user can enter. If this value isn't specified, the user can enter an unlimited number of characters."}},{name:"minlength",description:{kind:"markdown",value:"The minimum number of characters (unicode code points) required that the user should enter."}},{name:"name",description:{kind:"markdown",value:"The name of the control."}},{name:"placeholder",description:{kind:"markdown",value:'A hint to the user of what can be entered in the control. Carriage returns or line-feeds within the placeholder text must be treated as line breaks when rendering the hint.\n\n**Note:** Placeholders should only be used to show an example of the type of data that should be entered into a form; they are _not_ a substitute for a proper [`<label>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/label "The HTML <label> element represents a caption for an item in a user interface.") element tied to the input. See [Labels and placeholders](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Labels_and_placeholders "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") in [<input>: The Input (Form Input) element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") for a full explanation.'}},{name:"readonly",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates that the user cannot modify the value of the control. Unlike the `disabled` attribute, the `readonly` attribute does not prevent the user from clicking or selecting in the control. The value of a read-only control is still submitted with the form."}},{name:"required",valueSet:"v",description:{kind:"markdown",value:"This attribute specifies that the user must fill in a value before submitting a form."}},{name:"rows",description:{kind:"markdown",value:"The number of visible text lines for the control."}},{name:"wrap",valueSet:"w",description:{kind:"markdown",value:"Indicates how the control wraps text. Possible values are:\n\n*   `hard`: The browser automatically inserts line breaks (CR+LF) so that each line has no more than the width of the control; the `cols` attribute must also be specified for this to take effect.\n*   `soft`: The browser ensures that all line breaks in the value consist of a CR+LF pair, but does not insert any additional line breaks.\n*   `off` : Like `soft` but changes appearance to `white-space: pre` so line segments exceeding `cols` are not wrapped and the `<textarea>` becomes horizontally scrollable.\n\nIf this attribute is not specified, `soft` is its default value."}},{name:"autocapitalize",description:"This is a non-standard attribute supported by WebKit on iOS (therefore nearly all browsers running on iOS, including Safari, Firefox, and Chrome), which controls whether and how the text value should be automatically capitalized as it is entered/edited by the user. The non-deprecated values are available in iOS 5 and later. Possible values are:\n\n*   `none`: Completely disables automatic capitalization.\n*   `sentences`: Automatically capitalize the first letter of sentences.\n*   `words`: Automatically capitalize the first letter of words.\n*   `characters`: Automatically capitalize all characters.\n*   `on`: Deprecated since iOS 5.\n*   `off`: Deprecated since iOS 5."},{name:"spellcheck",description:"Specifies whether the `<textarea>` is subject to spell checking by the underlying browser/OS. the value can be:\n\n*   `true`: Indicates that the element needs to have its spelling and grammar checked.\n*   `default` : Indicates that the element is to act according to a default behavior, possibly based on the parent element's own `spellcheck` value.\n*   `false` : Indicates that the element should not be spell checked."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/textarea"}]},{name:"output",description:{kind:"markdown",value:"The output element represents the result of a calculation performed by the application, or the result of a user action."},attributes:[{name:"for",description:{kind:"markdown",value:"A space-separated list of other elements\u2019 [`id`](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id)s, indicating that those elements contributed input values to (or otherwise affected) the calculation."}},{name:"form",description:{kind:"markdown",value:'The [form element](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form) that this element is associated with (its "form owner"). The value of the attribute must be an `id` of a form element in the same document. If this attribute is not specified, the output element must be a descendant of a form element. This attribute enables you to place output elements anywhere within a document, not just as descendants of their form elements.'}},{name:"name",description:{kind:"markdown",value:'The name of the element, exposed in the [`HTMLFormElement`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement "The HTMLFormElement interface represents a <form> element in the DOM; it allows access to and in some cases modification of aspects of the form, as well as access to its component elements.") API.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/output"}]},{name:"progress",description:{kind:"markdown",value:"The progress element represents the completion progress of a task. The progress is either indeterminate, indicating that progress is being made but that it is not clear how much more work remains to be done before the task is complete (e.g. because the task is waiting for a remote host to respond), or the progress is a number in the range zero to a maximum, giving the fraction of work that has so far been completed."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies how much of the task that has been completed. It must be a valid floating point number between 0 and `max`, or between 0 and 1 if `max` is omitted. If there is no `value` attribute, the progress bar is indeterminate; this indicates that an activity is ongoing with no indication of how long it is expected to take."}},{name:"max",description:{kind:"markdown",value:"This attribute describes how much work the task indicated by the `progress` element requires. The `max` attribute, if present, must have a value greater than zero and be a valid floating point number. The default value is 1."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/progress"}]},{name:"meter",description:{kind:"markdown",value:"The meter element represents a scalar measurement within a known range, or a fractional value; for example disk usage, the relevance of a query result, or the fraction of a voting population to have selected a particular candidate."},attributes:[{name:"value",description:{kind:"markdown",value:"The current numeric value. This must be between the minimum and maximum values (`min` attribute and `max` attribute) if they are specified. If unspecified or malformed, the value is 0. If specified, but not within the range given by the `min` attribute and `max` attribute, the value is equal to the nearest end of the range.\n\n**Usage note:** Unless the `value` attribute is between `0` and `1` (inclusive), the `min` and `max` attributes should define the range so that the `value` attribute's value is within it."}},{name:"min",description:{kind:"markdown",value:"The lower numeric bound of the measured range. This must be less than the maximum value (`max` attribute), if specified. If unspecified, the minimum value is 0."}},{name:"max",description:{kind:"markdown",value:"The upper numeric bound of the measured range. This must be greater than the minimum value (`min` attribute), if specified. If unspecified, the maximum value is 1."}},{name:"low",description:{kind:"markdown",value:"The upper numeric bound of the low end of the measured range. This must be greater than the minimum value (`min` attribute), and it also must be less than the high value and maximum value (`high` attribute and `max` attribute, respectively), if any are specified. If unspecified, or if less than the minimum value, the `low` value is equal to the minimum value."}},{name:"high",description:{kind:"markdown",value:"The lower numeric bound of the high end of the measured range. This must be less than the maximum value (`max` attribute), and it also must be greater than the low value and minimum value (`low` attribute and **min** attribute, respectively), if any are specified. If unspecified, or if greater than the maximum value, the `high` value is equal to the maximum value."}},{name:"optimum",description:{kind:"markdown",value:"This attribute indicates the optimal numeric value. It must be within the range (as defined by the `min` attribute and `max` attribute). When used with the `low` attribute and `high` attribute, it gives an indication where along the range is considered preferable. For example, if it is between the `min` attribute and the `low` attribute, then the lower range is considered preferred."}},{name:"form",description:"This attribute associates the element with a `form` element that has ownership of the `meter` element. For example, a `meter` might be displaying a range corresponding to an `input` element of `type` _number_. This attribute is only used if the `meter` element is being used as a form-associated element; even then, it may be omitted if the element appears as a descendant of a `form` element."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/meter"}]},{name:"fieldset",description:{kind:"markdown",value:"The fieldset element represents a set of form controls optionally grouped under a common name."},attributes:[{name:"disabled",valueSet:"v",description:{kind:"markdown",value:"If this Boolean attribute is set, all form controls that are descendants of the `<fieldset>`, are disabled, meaning they are not editable and won't be submitted along with the `<form>`. They won't receive any browsing events, like mouse clicks or focus-related events. By default browsers display such controls grayed out. Note that form elements inside the [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend \"The HTML <legend> element represents a caption for the content of its parent <fieldset>.\") element won't be disabled."}},{name:"form",description:{kind:"markdown",value:'This attribute takes the value of the `id` attribute of a [`<form>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form "The HTML <form> element represents a document section that contains interactive controls for submitting information to a web server.") element you want the `<fieldset>` to be part of, even if it is not inside the form.'}},{name:"name",description:{kind:"markdown",value:'The name associated with the group.\n\n**Note**: The caption for the fieldset is given by the first [`<legend>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/legend "The HTML <legend> element represents a caption for the content of its parent <fieldset>.") element nested inside it.'}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/fieldset"}]},{name:"legend",description:{kind:"markdown",value:"The legend element represents a caption for the rest of the contents of the legend element's parent fieldset element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/legend"}]},{name:"details",description:{kind:"markdown",value:"The details element represents a disclosure widget from which the user can obtain additional information or controls."},attributes:[{name:"open",valueSet:"v",description:{kind:"markdown",value:"This Boolean attribute indicates whether or not the details \u2014 that is, the contents of the `<details>` element \u2014 are currently visible. The default, `false`, means the details are not visible."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/details"}]},{name:"summary",description:{kind:"markdown",value:"The summary element represents a summary, caption, or legend for the rest of the contents of the summary element's parent details element, if any."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/summary"}]},{name:"dialog",description:{kind:"markdown",value:"The dialog element represents a part of an application that a user interacts with to perform a task, for example a dialog box, inspector, or window."},attributes:[{name:"open",description:"Indicates that the dialog is active and available for interaction. When the `open` attribute is not set, the dialog shouldn't be shown to the user."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/dialog"}]},{name:"script",description:{kind:"markdown",value:"The script element allows authors to include dynamic script and data blocks in their documents. The element does not represent content for the user."},attributes:[{name:"src",description:{kind:"markdown",value:"This attribute specifies the URI of an external script; this can be used as an alternative to embedding a script directly within a document.\n\nIf a `script` element has a `src` attribute specified, it should not have a script embedded inside its tags."}},{name:"type",description:{kind:"markdown",value:'This attribute indicates the type of script represented. The value of this attribute will be in one of the following categories:\n\n*   **Omitted or a JavaScript MIME type:** For HTML5-compliant browsers this indicates the script is JavaScript. HTML5 specification urges authors to omit the attribute rather than provide a redundant MIME type. In earlier browsers, this identified the scripting language of the embedded or imported (via the `src` attribute) code. JavaScript MIME types are [listed in the specification](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types#JavaScript_types).\n*   **`module`:** For HTML5-compliant browsers the code is treated as a JavaScript module. The processing of the script contents is not affected by the `charset` and `defer` attributes. For information on using `module`, see [ES6 in Depth: Modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/). Code may behave differently when the `module` keyword is used.\n*   **Any other value:** The embedded content is treated as a data block which won\'t be processed by the browser. Developers must use a valid MIME type that is not a JavaScript MIME type to denote data blocks. The `src` attribute will be ignored.\n\n**Note:** in Firefox you could specify the version of JavaScript contained in a `<script>` element by including a non-standard `version` parameter inside the `type` attribute \u2014 for example `type="text/javascript;version=1.8"`. This has been removed in Firefox 59 (see [bug\xA01428745](https://bugzilla.mozilla.org/show_bug.cgi?id=1428745 "FIXED: Remove support for version parameter from script loader")).'}},{name:"charset"},{name:"async",valueSet:"v",description:{kind:"markdown",value:`This is a Boolean attribute indicating that the browser should, if possible, load the script asynchronously.

This attribute must not be used if the \`src\` attribute is absent (i.e. for inline scripts). If it is included in this case it will have no effect.

Browsers usually assume the worst case scenario and load scripts synchronously, (i.e. \`async="false"\`) during HTML parsing.

Dynamically inserted scripts (using [\`document.createElement()\`](https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement "In an HTML document, the document.createElement() method creates the HTML element specified by tagName, or an HTMLUnknownElement if tagName isn't recognized.")) load asynchronously by default, so to turn on synchronous loading (i.e. scripts load in the order they were inserted) set \`async="false"\`.

See [Browser compatibility](#Browser_compatibility) for notes on browser support. See also [Async scripts for asm.js](https://developer.mozilla.org/en-US/docs/Games/Techniques/Async_scripts).`}},{name:"defer",valueSet:"v",description:{kind:"markdown",value:'This Boolean attribute is set to indicate to a browser that the script is meant to be executed after the document has been parsed, but before firing [`DOMContentLoaded`](https://developer.mozilla.org/en-US/docs/Web/Events/DOMContentLoaded "/en-US/docs/Web/Events/DOMContentLoaded").\n\nScripts with the `defer` attribute will prevent the `DOMContentLoaded` event from firing until the script has loaded and finished evaluating.\n\nThis attribute must not be used if the `src` attribute is absent (i.e. for inline scripts), in this case it would have no effect.\n\nTo achieve a similar effect for dynamically inserted scripts use `async="false"` instead. Scripts with the `defer` attribute will execute in the order in which they appear in the document.'}},{name:"crossorigin",valueSet:"xo",description:{kind:"markdown",value:'Normal `script` elements pass minimal information to the [`window.onerror`](https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror "The onerror property of the GlobalEventHandlers mixin is an EventHandler that processes error events.") for scripts which do not pass the standard [CORS](https://developer.mozilla.org/en-US/docs/Glossary/CORS "CORS: CORS (Cross-Origin Resource Sharing) is a system, consisting of transmitting HTTP headers, that determines whether browsers block frontend JavaScript code from accessing responses for cross-origin requests.") checks. To allow error logging for sites which use a separate domain for static media, use this attribute. See [CORS settings attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes) for a more descriptive explanation of its valid arguments.'}},{name:"nonce",description:{kind:"markdown",value:"A cryptographic nonce (number used once) to list the allowed inline scripts in a [script-src Content-Security-Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/script-src). The server must generate a unique nonce value each time it transmits a policy. It is critical to provide a nonce that cannot be guessed as bypassing a resource's policy is otherwise trivial."}},{name:"integrity",description:"This attribute contains inline metadata that a user agent can use to verify that a fetched resource has been delivered free of unexpected manipulation. See [Subresource Integrity](https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity)."},{name:"nomodule",description:"This Boolean attribute is set to indicate that the script should not be executed in browsers that support [ES2015 modules](https://hacks.mozilla.org/2015/08/es6-in-depth-modules/) \u2014 in effect, this can be used to serve fallback scripts to older browsers that do not support modular JavaScript code."},{name:"referrerpolicy",description:'Indicates which [referrer](https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer) to send when fetching the script, or resources fetched by the script:\n\n*   `no-referrer`: The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent.\n*   `no-referrer-when-downgrade` (default): The [`Referer`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referer "The Referer request header contains the address of the previous web page from which a link to the currently requested page was followed. The Referer header allows servers to identify where people are visiting them from and may use that data for analytics, logging, or optimized caching, for example.") header will not be sent to [origin](https://developer.mozilla.org/en-US/docs/Glossary/origin "origin: Web content\'s origin is defined by the scheme (protocol), host (domain), and port of the URL used to access it. Two objects have the same origin only when the scheme, host, and port all match.")s without [TLS](https://developer.mozilla.org/en-US/docs/Glossary/TLS "TLS: Transport Layer Security (TLS), previously known as Secure Sockets Layer (SSL), is a protocol used by applications to communicate securely across a network, preventing tampering with and eavesdropping on email, web browsing, messaging, and other protocols.") ([HTTPS](https://developer.mozilla.org/en-US/docs/Glossary/HTTPS "HTTPS: HTTPS (HTTP Secure) is an encrypted version of the HTTP protocol. It usually uses SSL or TLS to encrypt all communication between a client and a server. This secure connection allows clients to safely exchange sensitive data with a server, for example for banking activities or online shopping.")).\n*   `origin`: The sent referrer will be limited to the origin of the referring page: its [scheme](https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme), [host](https://developer.mozilla.org/en-US/docs/Glossary/host "host: A host is a device connected to the Internet (or a local network). Some hosts called servers offer additional services like serving webpages or storing files and emails."), and [port](https://developer.mozilla.org/en-US/docs/Glossary/port "port: For a computer connected to a network with an IP address, a port is a communication endpoint. Ports are designated by numbers, and below 1024 each port is associated by default with a specific protocol.").\n*   `origin-when-cross-origin`: The referrer sent to other origins will be limited to the scheme, the host, and the port. Navigations on the same origin will still include the path.\n*   `same-origin`: A referrer will be sent for [same origin](https://developer.mozilla.org/en-US/docs/Glossary/Same-origin_policy "same origin: The same-origin policy is a critical security mechanism that restricts how a document or script loaded from one origin can interact with a resource from another origin."), but cross-origin requests will contain no referrer information.\n*   `strict-origin`: Only send the origin of the document as the referrer when the protocol security level stays the same (e.g. HTTPS\u2192HTTPS), but don\'t send it to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `strict-origin-when-cross-origin`: Send a full URL when performing a same-origin request, but only send the origin when the protocol security level stays the same (e.g.HTTPS\u2192HTTPS), and send no header to a less secure destination (e.g. HTTPS\u2192HTTP).\n*   `unsafe-url`: The referrer will include the origin _and_ the path (but not the [fragment](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/hash), [password](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/password), or [username](https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/username)). **This value is unsafe**, because it leaks origins and paths from TLS-protected resources to insecure origins.\n\n**Note**: An empty string value (`""`) is both the default value, and a fallback value if `referrerpolicy` is not supported. If `referrerpolicy` is not explicitly specified on the `<script>` element, it will adopt a higher-level referrer policy, i.e. one set on the whole document or domain. If a higher-level policy is not available,\xA0the empty string is treated as being equivalent to `no-referrer-when-downgrade`.'},{name:"text",description:"Like the `textContent` attribute, this attribute sets the text content of the element. Unlike the `textContent` attribute, however, this attribute is evaluated as executable code after the node is inserted into the DOM."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/script"}]},{name:"noscript",description:{kind:"markdown",value:"The noscript element represents nothing if scripting is enabled, and represents its children if scripting is disabled. It is used to present different markup to user agents that support scripting and those that don't support scripting, by affecting how the document is parsed."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/noscript"}]},{name:"template",description:{kind:"markdown",value:"The template element is used to declare fragments of HTML that can be cloned and inserted in the document by script."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/template"}]},{name:"canvas",description:{kind:"markdown",value:"The canvas element provides scripts with a resolution-dependent bitmap canvas, which can be used for rendering graphs, game graphics, art, or other visual images on the fly."},attributes:[{name:"width",description:{kind:"markdown",value:"The width of the coordinate space in CSS pixels. Defaults to 300."}},{name:"height",description:{kind:"markdown",value:"The height of the coordinate space in CSS pixels. Defaults to 150."}},{name:"moz-opaque",description:"Lets the canvas know whether or not translucency will be a factor. If the canvas knows there's no translucency, painting performance can be optimized. This is only supported by Mozilla-based browsers; use the standardized [`canvas.getContext('2d', { alpha: false })`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext \"The HTMLCanvasElement.getContext() method returns a drawing context on the canvas, or null if the context identifier is not supported.\") instead."}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/canvas"}]},{name:"slot",description:{kind:"markdown",value:"The slot element is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together."},attributes:[{name:"name",description:{kind:"markdown",value:"The slot's name.\nA **named slot** is a `<slot>` element with a `name` attribute."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/slot"}]},{name:"data",description:{kind:"markdown",value:"The data element links a given piece of content with a machine-readable translation."},attributes:[{name:"value",description:{kind:"markdown",value:"This attribute specifies the machine-readable translation of the content of the element."}}],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/data"}]},{name:"hgroup",description:{kind:"markdown",value:"The hgroup element represents a heading and related content. It groups a single h1\u2013h6 element with one or more p."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/hgroup"}]},{name:"menu",description:{kind:"markdown",value:"The menu element represents an unordered list of interactive items."},attributes:[],references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Element/menu"}]}],globalAttributes:[{name:"accesskey",description:{kind:"markdown",value:"Provides a hint for generating a keyboard shortcut for the current element. This attribute consists of a space-separated list of characters. The browser should use the first one that exists on the computer keyboard layout."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/accesskey"}]},{name:"autocapitalize",description:{kind:"markdown",value:"Controls whether and how text input is automatically capitalized as it is entered/edited by the user. It can have the following values:\n\n*   `off` or `none`, no autocapitalization is applied (all letters default to lowercase)\n*   `on` or `sentences`, the first letter of each sentence defaults to a capital letter; all other letters default to lowercase\n*   `words`, the first letter of each word defaults to a capital letter; all other letters default to lowercase\n*   `characters`, all letters should default to uppercase"},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/autocapitalize"}]},{name:"class",description:{kind:"markdown",value:'A space-separated list of the classes of the element. Classes allows CSS and JavaScript to select and access specific elements via the [class selectors](https://developer.mozilla.org/docs/Web/CSS/Class_selectors) or functions like the method [`Document.getElementsByClassName()`](https://developer.mozilla.org/docs/Web/API/Document/getElementsByClassName "returns an array-like object of all child elements which have all of the given class names.").'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/class"}]},{name:"contenteditable",description:{kind:"markdown",value:"An enumerated attribute indicating if the element should be editable by the user. If so, the browser modifies its widget to allow editing. The attribute must take one of the following values:\n\n*   `true` or the _empty string_, which indicates that the element must be editable;\n*   `false`, which indicates that the element must not be editable."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/contenteditable"}]},{name:"contextmenu",description:{kind:"markdown",value:'The `[**id**](#attr-id)` of a [`<menu>`](https://developer.mozilla.org/docs/Web/HTML/Element/menu "The HTML <menu> element represents a group of commands that a user can perform or activate. This includes both list menus, which might appear across the top of a screen, as well as context menus, such as those that might appear underneath a button after it has been clicked.") to use as the contextual menu for this element.'}},{name:"dir",description:{kind:"markdown",value:"An enumerated attribute indicating the directionality of the element's text. It can have the following values:\n\n*   `ltr`, which means _left to right_ and is to be used for languages that are written from the left to the right (like English);\n*   `rtl`, which means _right to left_ and is to be used for languages that are written from the right to the left (like Arabic);\n*   `auto`, which lets the user agent decide. It uses a basic algorithm as it parses the characters inside the element until it finds a character with a strong directionality, then it applies that directionality to the whole element."},valueSet:"d",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/dir"}]},{name:"draggable",description:{kind:"markdown",value:"An enumerated attribute indicating whether the element can be dragged, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `true`, which indicates that the element may be dragged\n*   `false`, which indicates that the element may not be dragged."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/draggable"}]},{name:"dropzone",description:{kind:"markdown",value:"An enumerated attribute indicating what types of content can be dropped on an element, using the [Drag and Drop API](https://developer.mozilla.org/docs/DragDrop/Drag_and_Drop). It can have the following values:\n\n*   `copy`, which indicates that dropping will create a copy of the element that was dragged\n*   `move`, which indicates that the element that was dragged will be moved to this new location.\n*   `link`, will create a link to the dragged data."}},{name:"exportparts",description:{kind:"markdown",value:"Used to transitively export shadow parts from a nested shadow tree into a containing light tree."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/exportparts"}]},{name:"hidden",description:{kind:"markdown",value:"A Boolean attribute indicates that the element is not yet, or is no longer, _relevant_. For example, it can be used to hide elements of the page that can't be used until the login process has been completed. The browser won't render such elements. This attribute must not be used to hide content that could legitimately be shown."},valueSet:"v",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/hidden"}]},{name:"id",description:{kind:"markdown",value:"Defines a unique identifier (ID) which must be unique in the whole document. Its purpose is to identify the element when linking (using a fragment identifier), scripting, or styling (with CSS)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/id"}]},{name:"inputmode",description:{kind:"markdown",value:'Provides a hint to browsers as to the type of virtual keyboard configuration to use when editing this element or its contents. Used primarily on [`<input>`](https://developer.mozilla.org/docs/Web/HTML/Element/input "The HTML <input> element is used to create interactive controls for web-based forms in order to accept data from the user; a wide variety of types of input data and control widgets are available, depending on the device and user agent.") elements, but is usable on any element while in `[contenteditable](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-contenteditable)` mode.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/inputmode"}]},{name:"is",description:{kind:"markdown",value:"Allows you to specify that a standard HTML element should behave like a registered custom built-in element (see [Using custom elements](https://developer.mozilla.org/docs/Web/Web_Components/Using_custom_elements) for more details)."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/is"}]},{name:"itemid",description:{kind:"markdown",value:"The unique, global identifier of an item."}},{name:"itemprop",description:{kind:"markdown",value:"Used to add properties to an item. Every HTML element may have an `itemprop` attribute specified, where an `itemprop` consists of a name and value pair."}},{name:"itemref",description:{kind:"markdown",value:"Properties that are not descendants of an element with the `itemscope` attribute can be associated with the item using an `itemref`. It provides a list of element ids (not `itemid`s) with additional properties elsewhere in the document."}},{name:"itemscope",description:{kind:"markdown",value:"`itemscope` (usually) works along with `[itemtype](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemtype)` to specify that the HTML contained in a block is about a particular item. `itemscope` creates the Item and defines the scope of the `itemtype` associated with it. `itemtype` is a valid URL of a vocabulary (such as [schema.org](https://schema.org/)) that describes the item and its properties context."},valueSet:"v"},{name:"itemtype",description:{kind:"markdown",value:"Specifies the URL of the vocabulary that will be used to define `itemprop`s (item properties) in the data structure. `[itemscope](https://developer.mozilla.org/docs/Web/HTML/Global_attributes#attr-itemscope)` is used to set the scope of where in the data structure the vocabulary set by `itemtype` will be active."}},{name:"lang",description:{kind:"markdown",value:"Helps define the language of an element: the language that non-editable elements are in, or the language that editable elements should be written in by the user. The attribute contains one \u201Clanguage tag\u201D (made of hyphen-separated \u201Clanguage subtags\u201D) in the format defined in [_Tags for Identifying Languages (BCP47)_](https://www.ietf.org/rfc/bcp/bcp47.txt). [**xml:lang**](#attr-xml:lang) has priority over it."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/lang"}]},{name:"part",description:{kind:"markdown",value:'A space-separated list of the part names of the element. Part names allows CSS to select and style specific elements in a shadow tree via the [`::part`](https://developer.mozilla.org/docs/Web/CSS/::part "The ::part CSS pseudo-element represents any element within a shadow tree that has a matching part attribute.") pseudo-element.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/part"}]},{name:"role",valueSet:"roles"},{name:"slot",description:{kind:"markdown",value:"Assigns a slot in a [shadow DOM](https://developer.mozilla.org/docs/Web/Web_Components/Shadow_DOM) shadow tree to an element: An element with a `slot` attribute is assigned to the slot created by the [`<slot>`](https://developer.mozilla.org/docs/Web/HTML/Element/slot \"The HTML <slot> element\u2014part of the Web Components technology suite\u2014is a placeholder inside a web component that you can fill with your own markup, which lets you create separate DOM trees and present them together.\") element whose `[name](https://developer.mozilla.org/docs/Web/HTML/Element/slot#attr-name)` attribute's value matches that `slot` attribute's value."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/slot"}]},{name:"spellcheck",description:{kind:"markdown",value:"An enumerated attribute defines whether the element may be checked for spelling errors. It may have the following values:\n\n*   `true`, which indicates that the element should be, if possible, checked for spelling errors;\n*   `false`, which indicates that the element should not be checked for spelling errors."},valueSet:"b",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/spellcheck"}]},{name:"style",description:{kind:"markdown",value:'Contains [CSS](https://developer.mozilla.org/docs/Web/CSS) styling declarations to be applied to the element. Note that it is recommended for styles to be defined in a separate file or files. This attribute and the [`<style>`](https://developer.mozilla.org/docs/Web/HTML/Element/style "The HTML <style> element contains style information for a document, or part of a document.") element have mainly the purpose of allowing for quick styling, for example for testing purposes.'},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/style"}]},{name:"tabindex",description:{kind:"markdown",value:`An integer attribute indicating if the element can take input focus (is _focusable_), if it should participate to sequential keyboard navigation, and if so, at what position. It can take several values:

*   a _negative value_ means that the element should be focusable, but should not be reachable via sequential keyboard navigation;
*   \`0\` means that the element should be focusable and reachable via sequential keyboard navigation, but its relative order is defined by the platform convention;
*   a _positive value_ means that the element should be focusable and reachable via sequential keyboard navigation; the order in which the elements are focused is the increasing value of the [**tabindex**](#attr-tabindex). If several elements share the same tabindex, their relative order follows their relative positions in the document.`},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/tabindex"}]},{name:"title",description:{kind:"markdown",value:"Contains a text representing advisory information related to the element it belongs to. Such information can typically, but not necessarily, be presented to the user as a tooltip."},references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/title"}]},{name:"translate",description:{kind:"markdown",value:"An enumerated attribute that is used to specify whether an element's attribute values and the values of its [`Text`](https://developer.mozilla.org/docs/Web/API/Text \"The Text interface represents the textual content of Element or Attr. If an element has no markup within its content, it has a single child implementing Text that contains the element's text. However, if the element contains markup, it is parsed into information items and Text nodes that form its children.\") node children are to be translated when the page is localized, or whether to leave them unchanged. It can have the following values:\n\n*   empty string and `yes`, which indicates that the element will be translated.\n*   `no`, which indicates that the element will not be translated."},valueSet:"y",references:[{name:"MDN Reference",url:"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/translate"}]},{name:"onabort",description:{kind:"markdown",value:"The loading of a resource has been aborted."}},{name:"onblur",description:{kind:"markdown",value:"An element has lost focus (does not bubble)."}},{name:"oncanplay",description:{kind:"markdown",value:"The user agent can play the media, but estimates that not enough data has been loaded to play the media up to its end without having to stop for further buffering of content."}},{name:"oncanplaythrough",description:{kind:"markdown",value:"The user agent can play the media up to its end without having to stop for further buffering of content."}},{name:"onchange",description:{kind:"markdown",value:"The change event is fired for <input>, <select>, and <textarea> elements when a change to the element's value is committed by the user."}},{name:"onclick",description:{kind:"markdown",value:"A pointing device button has been pressed and released on an element."}},{name:"oncontextmenu",description:{kind:"markdown",value:"The right button of the mouse is clicked (before the context menu is displayed)."}},{name:"ondblclick",description:{kind:"markdown",value:"A pointing device button is clicked twice on an element."}},{name:"ondrag",description:{kind:"markdown",value:"An element or text selection is being dragged (every 350ms)."}},{name:"ondragend",description:{kind:"markdown",value:"A drag operation is being ended (by releasing a mouse button or hitting the escape key)."}},{name:"ondragenter",description:{kind:"markdown",value:"A dragged element or text selection enters a valid drop target."}},{name:"ondragleave",description:{kind:"markdown",value:"A dragged element or text selection leaves a valid drop target."}},{name:"ondragover",description:{kind:"markdown",value:"An element or text selection is being dragged over a valid drop target (every 350ms)."}},{name:"ondragstart",description:{kind:"markdown",value:"The user starts dragging an element or text selection."}},{name:"ondrop",description:{kind:"markdown",value:"An element is dropped on a valid drop target."}},{name:"ondurationchange",description:{kind:"markdown",value:"The duration attribute has been updated."}},{name:"onemptied",description:{kind:"markdown",value:"The media has become empty; for example, this event is sent if the media has already been loaded (or partially loaded), and the load() method is called to reload it."}},{name:"onended",description:{kind:"markdown",value:"Playback has stopped because the end of the media was reached."}},{name:"onerror",description:{kind:"markdown",value:"A resource failed to load."}},{name:"onfocus",description:{kind:"markdown",value:"An element has received focus (does not bubble)."}},{name:"onformchange"},{name:"onforminput"},{name:"oninput",description:{kind:"markdown",value:"The value of an element changes or the content of an element with the attribute contenteditable is modified."}},{name:"oninvalid",description:{kind:"markdown",value:"A submittable element has been checked and doesn't satisfy its constraints."}},{name:"onkeydown",description:{kind:"markdown",value:"A key is pressed down."}},{name:"onkeypress",description:{kind:"markdown",value:"A key is pressed down and that key normally produces a character value (use input instead)."}},{name:"onkeyup",description:{kind:"markdown",value:"A key is released."}},{name:"onload",description:{kind:"markdown",value:"A resource and its dependent resources have finished loading."}},{name:"onloadeddata",description:{kind:"markdown",value:"The first frame of the media has finished loading."}},{name:"onloadedmetadata",description:{kind:"markdown",value:"The metadata has been loaded."}},{name:"onloadstart",description:{kind:"markdown",value:"Progress has begun."}},{name:"onmousedown",description:{kind:"markdown",value:"A pointing device button (usually a mouse) is pressed on an element."}},{name:"onmousemove",description:{kind:"markdown",value:"A pointing device is moved over an element."}},{name:"onmouseout",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached or off one of its children."}},{name:"onmouseover",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached or onto one of its children."}},{name:"onmouseup",description:{kind:"markdown",value:"A pointing device button is released over an element."}},{name:"onmousewheel"},{name:"onmouseenter",description:{kind:"markdown",value:"A pointing device is moved onto the element that has the listener attached."}},{name:"onmouseleave",description:{kind:"markdown",value:"A pointing device is moved off the element that has the listener attached."}},{name:"onpause",description:{kind:"markdown",value:"Playback has been paused."}},{name:"onplay",description:{kind:"markdown",value:"Playback has begun."}},{name:"onplaying",description:{kind:"markdown",value:"Playback is ready to start after having been paused or delayed due to lack of data."}},{name:"onprogress",description:{kind:"markdown",value:"In progress."}},{name:"onratechange",description:{kind:"markdown",value:"The playback rate has changed."}},{name:"onreset",description:{kind:"markdown",value:"A form is reset."}},{name:"onresize",description:{kind:"markdown",value:"The document view has been resized."}},{name:"onreadystatechange",description:{kind:"markdown",value:"The readyState attribute of a document has changed."}},{name:"onscroll",description:{kind:"markdown",value:"The document view or an element has been scrolled."}},{name:"onseeked",description:{kind:"markdown",value:"A seek operation completed."}},{name:"onseeking",description:{kind:"markdown",value:"A seek operation began."}},{name:"onselect",description:{kind:"markdown",value:"Some text is being selected."}},{name:"onshow",description:{kind:"markdown",value:"A contextmenu event was fired on/bubbled to an element that has a contextmenu attribute"}},{name:"onstalled",description:{kind:"markdown",value:"The user agent is trying to fetch media data, but data is unexpectedly not forthcoming."}},{name:"onsubmit",description:{kind:"markdown",value:"A form is submitted."}},{name:"onsuspend",description:{kind:"markdown",value:"Media data loading has been suspended."}},{name:"ontimeupdate",description:{kind:"markdown",value:"The time indicated by the currentTime attribute has been updated."}},{name:"onvolumechange",description:{kind:"markdown",value:"The volume has changed."}},{name:"onwaiting",description:{kind:"markdown",value:"Playback has stopped because of a temporary lack of data."}},{name:"onpointercancel",description:{kind:"markdown",value:"The pointer is unlikely to produce any more events."}},{name:"onpointerdown",description:{kind:"markdown",value:"The pointer enters the active buttons state."}},{name:"onpointerenter",description:{kind:"markdown",value:"Pointing device is moved inside the hit-testing boundary."}},{name:"onpointerleave",description:{kind:"markdown",value:"Pointing device is moved out of the hit-testing boundary."}},{name:"onpointerlockchange",description:{kind:"markdown",value:"The pointer was locked or released."}},{name:"onpointerlockerror",description:{kind:"markdown",value:"It was impossible to lock the pointer for technical reasons or because the permission was denied."}},{name:"onpointermove",description:{kind:"markdown",value:"The pointer changed coordinates."}},{name:"onpointerout",description:{kind:"markdown",value:"The pointing device moved out of hit-testing boundary or leaves detectable hover range."}},{name:"onpointerover",description:{kind:"markdown",value:"The pointing device is moved into the hit-testing boundary."}},{name:"onpointerup",description:{kind:"markdown",value:"The pointer leaves the active buttons state."}},{name:"aria-activedescendant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-activedescendant"}],description:{kind:"markdown",value:"Identifies the currently active element when DOM focus is on a [`composite`](https://www.w3.org/TR/wai-aria-1.1/#composite) widget, [`textbox`](https://www.w3.org/TR/wai-aria-1.1/#textbox), [`group`](https://www.w3.org/TR/wai-aria-1.1/#group), or [`application`](https://www.w3.org/TR/wai-aria-1.1/#application)."}},{name:"aria-atomic",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-atomic"}],description:{kind:"markdown",value:"Indicates whether [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology) will present all, or only parts of, the changed region based on the change notifications defined by the [`aria-relevant`](https://www.w3.org/TR/wai-aria-1.1/#aria-relevant) attribute."}},{name:"aria-autocomplete",valueSet:"autocomplete",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-autocomplete"}],description:{kind:"markdown",value:"Indicates whether inputting text could trigger display of one or more predictions of the user's intended value for an input and specifies how predictions would be presented if they are made."}},{name:"aria-busy",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-busy"}],description:{kind:"markdown",value:"Indicates an element is being modified and that assistive technologies _MAY_ want to wait until the modifications are complete before exposing them to the user."}},{name:"aria-checked",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-checked"}],description:{kind:"markdown",value:'Indicates the current "checked" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of checkboxes, radio buttons, and other [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-colcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colcount"}],description:{kind:"markdown",value:"Defines the total number of columns in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex)."}},{name:"aria-colindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) column index or position with respect to the total number of columns within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-colcount) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-colspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-colspan"}],description:{kind:"markdown",value:"Defines the number of columns spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-colindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-colindex) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-controls",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-controls"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) whose contents or presence are controlled by the current element. See related [`aria-owns`](https://www.w3.org/TR/wai-aria-1.1/#aria-owns)."}},{name:"aria-current",valueSet:"current",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-current"}],description:{kind:"markdown",value:"Indicates the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that represents the current item within a container or set of related elements."}},{name:"aria-describedby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-describedby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that describes the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-disabled",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-disabled"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is [perceivable](https://www.w3.org/TR/wai-aria-1.1/#dfn-perceivable) but disabled, so it is not editable or otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-hidden`](https://www.w3.org/TR/wai-aria-1.1/#aria-hidden) and [`aria-readonly`](https://www.w3.org/TR/wai-aria-1.1/#aria-readonly)."}},{name:"aria-dropeffect",valueSet:"dropeffect",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-dropeffect"}],description:{kind:"markdown",value:"\\[Deprecated in ARIA 1.1\\] Indicates what functions can be performed when a dragged object is released on the drop target."}},{name:"aria-errormessage",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides an error message for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-invalid`](https://www.w3.org/TR/wai-aria-1.1/#aria-invalid) and [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-expanded",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-expanded"}],description:{kind:"markdown",value:"Indicates whether the element, or another grouping element it controls, is currently expanded or collapsed."}},{name:"aria-flowto",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-flowto"}],description:{kind:"markdown",value:"Identifies the next [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in an alternate reading order of content which, at the user's discretion, allows assistive technology to override the general default of reading in document source order."}},{name:"aria-grabbed",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-grabbed"}],description:{kind:"markdown",value:`\\[Deprecated in ARIA 1.1\\] Indicates an element's "grabbed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) in a drag-and-drop operation.`}},{name:"aria-haspopup",valueSet:"haspopup",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup"}],description:{kind:"markdown",value:"Indicates the availability and type of interactive popup element, such as menu or dialog, that can be triggered by an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-hidden",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-hidden"}],description:{kind:"markdown",value:"Indicates whether the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is exposed to an accessibility API. See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-invalid",valueSet:"invalid",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-invalid"}],description:{kind:"markdown",value:"Indicates the entered value does not conform to the format expected by the application. See related [`aria-errormessage`](https://www.w3.org/TR/wai-aria-1.1/#aria-errormessage)."}},{name:"aria-label",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-label"}],description:{kind:"markdown",value:"Defines a string value that labels the current element. See related [`aria-labelledby`](https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby)."}},{name:"aria-labelledby",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-labelledby"}],description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) that labels the current element. See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-level",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-level"}],description:{kind:"markdown",value:"Defines the hierarchical level of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) within a structure."}},{name:"aria-live",valueSet:"live",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-live"}],description:{kind:"markdown",value:"Indicates that an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) will be updated, and describes the types of updates the [user agents](https://www.w3.org/TR/wai-aria-1.1/#dfn-user-agent), [assistive technologies](https://www.w3.org/TR/wai-aria-1.1/#dfn-assistive-technology), and user can expect from the [live region](https://www.w3.org/TR/wai-aria-1.1/#dfn-live-region)."}},{name:"aria-modal",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-modal"}],description:{kind:"markdown",value:"Indicates whether an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is modal when displayed."}},{name:"aria-multiline",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiline"}],description:{kind:"markdown",value:"Indicates whether a text box accepts multiple lines of input or only a single line."}},{name:"aria-multiselectable",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-multiselectable"}],description:{kind:"markdown",value:"Indicates that the user may select more than one item from the current selectable descendants."}},{name:"aria-orientation",valueSet:"orientation",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-orientation"}],description:{kind:"markdown",value:"Indicates whether the element's orientation is horizontal, vertical, or unknown/ambiguous."}},{name:"aria-owns",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-owns"}],description:{kind:"markdown",value:"Identifies an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) (or elements) in order to define a visual, functional, or contextual parent/child [relationship](https://www.w3.org/TR/wai-aria-1.1/#dfn-relationship) between DOM elements where the DOM hierarchy cannot be used to represent the relationship. See related [`aria-controls`](https://www.w3.org/TR/wai-aria-1.1/#aria-controls)."}},{name:"aria-placeholder",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-placeholder"}],description:{kind:"markdown",value:"Defines a short hint (a word or short phrase) intended to aid the user with data entry when the control has no value. A hint could be a sample value or a brief description of the expected format."}},{name:"aria-posinset",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-posinset"}],description:{kind:"markdown",value:"Defines an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)'s number or position in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-setsize`](https://www.w3.org/TR/wai-aria-1.1/#aria-setsize)."}},{name:"aria-pressed",valueSet:"tristate",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-pressed"}],description:{kind:"markdown",value:'Indicates the current "pressed" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of toggle buttons. See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-selected`](https://www.w3.org/TR/wai-aria-1.1/#aria-selected).'}},{name:"aria-readonly",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-readonly"}],description:{kind:"markdown",value:"Indicates that the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) is not editable, but is otherwise [operable](https://www.w3.org/TR/wai-aria-1.1/#dfn-operable). See related [`aria-disabled`](https://www.w3.org/TR/wai-aria-1.1/#aria-disabled)."}},{name:"aria-relevant",valueSet:"relevant",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-relevant"}],description:{kind:"markdown",value:"Indicates what notifications the user agent will trigger when the accessibility tree within a live region is modified. See related [`aria-atomic`](https://www.w3.org/TR/wai-aria-1.1/#aria-atomic)."}},{name:"aria-required",valueSet:"b",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-required"}],description:{kind:"markdown",value:"Indicates that user input is required on the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) before a form may be submitted."}},{name:"aria-roledescription",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-roledescription"}],description:{kind:"markdown",value:"Defines a human-readable, author-localized description for the [role](https://www.w3.org/TR/wai-aria-1.1/#dfn-role) of an [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element)."}},{name:"aria-rowcount",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount"}],description:{kind:"markdown",value:"Defines the total number of rows in a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex)."}},{name:"aria-rowindex",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex"}],description:{kind:"markdown",value:"Defines an [element's](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) row index or position with respect to the total number of rows within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowcount`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowcount) and [`aria-rowspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan)."}},{name:"aria-rowspan",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-rowspan"}],description:{kind:"markdown",value:"Defines the number of rows spanned by a cell or gridcell within a [`table`](https://www.w3.org/TR/wai-aria-1.1/#table), [`grid`](https://www.w3.org/TR/wai-aria-1.1/#grid), or [`treegrid`](https://www.w3.org/TR/wai-aria-1.1/#treegrid). See related [`aria-rowindex`](https://www.w3.org/TR/wai-aria-1.1/#aria-rowindex) and [`aria-colspan`](https://www.w3.org/TR/wai-aria-1.1/#aria-colspan)."}},{name:"aria-selected",valueSet:"u",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-selected"}],description:{kind:"markdown",value:'Indicates the current "selected" [state](https://www.w3.org/TR/wai-aria-1.1/#dfn-state) of various [widgets](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-checked`](https://www.w3.org/TR/wai-aria-1.1/#aria-checked) and [`aria-pressed`](https://www.w3.org/TR/wai-aria-1.1/#aria-pressed).'}},{name:"aria-setsize",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-setsize"}],description:{kind:"markdown",value:"Defines the number of items in the current set of listitems or treeitems. Not required if all elements in the set are present in the DOM. See related [`aria-posinset`](https://www.w3.org/TR/wai-aria-1.1/#aria-posinset)."}},{name:"aria-sort",valueSet:"sort",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-sort"}],description:{kind:"markdown",value:"Indicates if items in a table or grid are sorted in ascending or descending order."}},{name:"aria-valuemax",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemax"}],description:{kind:"markdown",value:"Defines the maximum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuemin",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuemin"}],description:{kind:"markdown",value:"Defines the minimum allowed value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-valuenow",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow"}],description:{kind:"markdown",value:"Defines the current value for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget). See related [`aria-valuetext`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext)."}},{name:"aria-valuetext",references:[{name:"WAI-ARIA Reference",url:"https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext"}],description:{kind:"markdown",value:"Defines the human readable text alternative of [`aria-valuenow`](https://www.w3.org/TR/wai-aria-1.1/#aria-valuenow) for a range [widget](https://www.w3.org/TR/wai-aria-1.1/#dfn-widget)."}},{name:"aria-details",description:{kind:"markdown",value:"Identifies the [element](https://www.w3.org/TR/wai-aria-1.1/#dfn-element) that provides a detailed, extended description for the [object](https://www.w3.org/TR/wai-aria-1.1/#dfn-object). See related [`aria-describedby`](https://www.w3.org/TR/wai-aria-1.1/#aria-describedby)."}},{name:"aria-keyshortcuts",description:{kind:"markdown",value:"Indicates keyboard shortcuts that an author has implemented to activate or give focus to an element."}}],valueSets:[{name:"b",values:[{name:"true"},{name:"false"}]},{name:"u",values:[{name:"true"},{name:"false"},{name:"undefined"}]},{name:"o",values:[{name:"on"},{name:"off"}]},{name:"y",values:[{name:"yes"},{name:"no"}]},{name:"w",values:[{name:"soft"},{name:"hard"}]},{name:"d",values:[{name:"ltr"},{name:"rtl"},{name:"auto"}]},{name:"m",values:[{name:"get",description:{kind:"markdown",value:"Corresponds to the HTTP [GET method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3); form data are appended to the `action` attribute URI with a '?' as separator, and the resulting URI is sent to the server. Use this method when the form has no side-effects and contains only ASCII characters."}},{name:"post",description:{kind:"markdown",value:"Corresponds to the HTTP [POST method](https://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5); form data are included in the body of the form and sent to the server."}},{name:"dialog",description:{kind:"markdown",value:"Use when the form is inside a [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) element to close the dialog when submitted."}}]},{name:"fm",values:[{name:"get"},{name:"post"}]},{name:"s",values:[{name:"row"},{name:"col"},{name:"rowgroup"},{name:"colgroup"}]},{name:"t",values:[{name:"hidden"},{name:"text"},{name:"search"},{name:"tel"},{name:"url"},{name:"email"},{name:"password"},{name:"datetime"},{name:"date"},{name:"month"},{name:"week"},{name:"time"},{name:"datetime-local"},{name:"number"},{name:"range"},{name:"color"},{name:"checkbox"},{name:"radio"},{name:"file"},{name:"submit"},{name:"image"},{name:"reset"},{name:"button"}]},{name:"im",values:[{name:"verbatim"},{name:"latin"},{name:"latin-name"},{name:"latin-prose"},{name:"full-width-latin"},{name:"kana"},{name:"kana-name"},{name:"katakana"},{name:"numeric"},{name:"tel"},{name:"email"},{name:"url"}]},{name:"bt",values:[{name:"button"},{name:"submit"},{name:"reset"},{name:"menu"}]},{name:"lt",values:[{name:"1"},{name:"a"},{name:"A"},{name:"i"},{name:"I"}]},{name:"mt",values:[{name:"context"},{name:"toolbar"}]},{name:"mit",values:[{name:"command"},{name:"checkbox"},{name:"radio"}]},{name:"et",values:[{name:"application/x-www-form-urlencoded"},{name:"multipart/form-data"},{name:"text/plain"}]},{name:"tk",values:[{name:"subtitles"},{name:"captions"},{name:"descriptions"},{name:"chapters"},{name:"metadata"}]},{name:"pl",values:[{name:"none"},{name:"metadata"},{name:"auto"}]},{name:"sh",values:[{name:"circle"},{name:"default"},{name:"poly"},{name:"rect"}]},{name:"xo",values:[{name:"anonymous"},{name:"use-credentials"}]},{name:"target",values:[{name:"_self"},{name:"_blank"},{name:"_parent"},{name:"_top"}]},{name:"sb",values:[{name:"allow-forms"},{name:"allow-modals"},{name:"allow-pointer-lock"},{name:"allow-popups"},{name:"allow-popups-to-escape-sandbox"},{name:"allow-same-origin"},{name:"allow-scripts"},{name:"allow-top-navigation"}]},{name:"tristate",values:[{name:"true"},{name:"false"},{name:"mixed"},{name:"undefined"}]},{name:"inputautocomplete",values:[{name:"additional-name"},{name:"address-level1"},{name:"address-level2"},{name:"address-level3"},{name:"address-level4"},{name:"address-line1"},{name:"address-line2"},{name:"address-line3"},{name:"bday"},{name:"bday-year"},{name:"bday-day"},{name:"bday-month"},{name:"billing"},{name:"cc-additional-name"},{name:"cc-csc"},{name:"cc-exp"},{name:"cc-exp-month"},{name:"cc-exp-year"},{name:"cc-family-name"},{name:"cc-given-name"},{name:"cc-name"},{name:"cc-number"},{name:"cc-type"},{name:"country"},{name:"country-name"},{name:"current-password"},{name:"email"},{name:"family-name"},{name:"fax"},{name:"given-name"},{name:"home"},{name:"honorific-prefix"},{name:"honorific-suffix"},{name:"impp"},{name:"language"},{name:"mobile"},{name:"name"},{name:"new-password"},{name:"nickname"},{name:"off"},{name:"on"},{name:"organization"},{name:"organization-title"},{name:"pager"},{name:"photo"},{name:"postal-code"},{name:"sex"},{name:"shipping"},{name:"street-address"},{name:"tel-area-code"},{name:"tel"},{name:"tel-country-code"},{name:"tel-extension"},{name:"tel-local"},{name:"tel-local-prefix"},{name:"tel-local-suffix"},{name:"tel-national"},{name:"transaction-amount"},{name:"transaction-currency"},{name:"url"},{name:"username"},{name:"work"}]},{name:"autocomplete",values:[{name:"inline"},{name:"list"},{name:"both"},{name:"none"}]},{name:"current",values:[{name:"page"},{name:"step"},{name:"location"},{name:"date"},{name:"time"},{name:"true"},{name:"false"}]},{name:"dropeffect",values:[{name:"copy"},{name:"move"},{name:"link"},{name:"execute"},{name:"popup"},{name:"none"}]},{name:"invalid",values:[{name:"grammar"},{name:"false"},{name:"spelling"},{name:"true"}]},{name:"live",values:[{name:"off"},{name:"polite"},{name:"assertive"}]},{name:"orientation",values:[{name:"vertical"},{name:"horizontal"},{name:"undefined"}]},{name:"relevant",values:[{name:"additions"},{name:"removals"},{name:"text"},{name:"all"},{name:"additions text"}]},{name:"sort",values:[{name:"ascending"},{name:"descending"},{name:"none"},{name:"other"}]},{name:"roles",values:[{name:"alert"},{name:"alertdialog"},{name:"button"},{name:"checkbox"},{name:"dialog"},{name:"gridcell"},{name:"link"},{name:"log"},{name:"marquee"},{name:"menuitem"},{name:"menuitemcheckbox"},{name:"menuitemradio"},{name:"option"},{name:"progressbar"},{name:"radio"},{name:"scrollbar"},{name:"searchbox"},{name:"slider"},{name:"spinbutton"},{name:"status"},{name:"switch"},{name:"tab"},{name:"tabpanel"},{name:"textbox"},{name:"timer"},{name:"tooltip"},{name:"treeitem"},{name:"combobox"},{name:"grid"},{name:"listbox"},{name:"menu"},{name:"menubar"},{name:"radiogroup"},{name:"tablist"},{name:"tree"},{name:"treegrid"},{name:"application"},{name:"article"},{name:"cell"},{name:"columnheader"},{name:"definition"},{name:"directory"},{name:"document"},{name:"feed"},{name:"figure"},{name:"group"},{name:"heading"},{name:"img"},{name:"list"},{name:"listitem"},{name:"math"},{name:"none"},{name:"note"},{name:"presentation"},{name:"region"},{name:"row"},{name:"rowgroup"},{name:"rowheader"},{name:"separator"},{name:"table"},{name:"term"},{name:"text"},{name:"toolbar"},{name:"banner"},{name:"complementary"},{name:"contentinfo"},{name:"form"},{name:"main"},{name:"navigation"},{name:"region"},{name:"search"},{name:"doc-abstract"},{name:"doc-acknowledgments"},{name:"doc-afterword"},{name:"doc-appendix"},{name:"doc-backlink"},{name:"doc-biblioentry"},{name:"doc-bibliography"},{name:"doc-biblioref"},{name:"doc-chapter"},{name:"doc-colophon"},{name:"doc-conclusion"},{name:"doc-cover"},{name:"doc-credit"},{name:"doc-credits"},{name:"doc-dedication"},{name:"doc-endnote"},{name:"doc-endnotes"},{name:"doc-epigraph"},{name:"doc-epilogue"},{name:"doc-errata"},{name:"doc-example"},{name:"doc-footnote"},{name:"doc-foreword"},{name:"doc-glossary"},{name:"doc-glossref"},{name:"doc-index"},{name:"doc-introduction"},{name:"doc-noteref"},{name:"doc-notice"},{name:"doc-pagebreak"},{name:"doc-pagelist"},{name:"doc-part"},{name:"doc-preface"},{name:"doc-prologue"},{name:"doc-pullquote"},{name:"doc-qna"},{name:"doc-subtitle"},{name:"doc-tip"},{name:"doc-toc"}]},{name:"metanames",values:[{name:"application-name"},{name:"author"},{name:"description"},{name:"format-detection"},{name:"generator"},{name:"keywords"},{name:"publisher"},{name:"referrer"},{name:"robots"},{name:"theme-color"},{name:"viewport"}]},{name:"haspopup",values:[{name:"false",description:{kind:"markdown",value:"(default) Indicates the element does not have a popup."}},{name:"true",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"menu",description:{kind:"markdown",value:"Indicates the popup is a menu."}},{name:"listbox",description:{kind:"markdown",value:"Indicates the popup is a listbox."}},{name:"tree",description:{kind:"markdown",value:"Indicates the popup is a tree."}},{name:"grid",description:{kind:"markdown",value:"Indicates the popup is a grid."}},{name:"dialog",description:{kind:"markdown",value:"Indicates the popup is a dialog."}}]},{name:"decoding",values:[{name:"sync"},{name:"async"},{name:"auto"}]},{name:"loading",values:[{name:"eager",description:{kind:"markdown",value:"Loads the image immediately, regardless of whether or not the image is currently within the visible viewport (this is the default value)."}},{name:"lazy",description:{kind:"markdown",value:"Defers loading the image until it reaches a calculated distance from the viewport, as defined by the browser. The intent is to avoid the network and storage bandwidth needed to handle the image until it's reasonably certain that it will be needed. This generally improves the performance of the content in most typical use cases."}}]},{name:"referrerpolicy",values:[{name:"no-referrer"},{name:"no-referrer-when-downgrade"},{name:"origin"},{name:"origin-when-cross-origin"},{name:"same-origin"},{name:"strict-origin"},{name:"strict-origin-when-cross-origin"},{name:"unsafe-url"}]}]}});var IW,j_t,pke=Ti(()=>{qM();Zre();$re();IW=class{constructor(e){this.dataProviders=[],this.setDataProviders(e.useDefaultDataProvider!==!1,e.customDataProviders||[])}setDataProviders(e,t){this.dataProviders=[],e&&this.dataProviders.push(new Yx("html5",OW)),this.dataProviders.push(...t)}getDataProviders(){return this.dataProviders}isVoidElement(e,t){return!!e&&TIe(t,e.toLowerCase(),(n,i)=>n.localeCompare(i))>=0}getVoidElements(e){let t=Array.isArray(e)?e:this.getDataProviders().filter(i=>i.isApplicable(e)),n=[];return t.forEach(i=>{i.provideTags().filter(o=>o.void).forEach(o=>n.push(o.name))}),n.sort()}isPathAttribute(e,t){if(t==="src"||t==="href")return!0;let n=j_t[e];return n?typeof n=="string"?n===t:n.indexOf(t)!==-1:!1}},j_t={a:"href",area:"href",body:"background",blockquote:"cite",del:"cite",form:"action",frame:["src","longdesc"],img:["src","longdesc"],ins:"cite",link:"href",object:"data",q:"cite",script:"src",audio:"src",button:"formaction",command:"icon",embed:"src",html:"manifest",input:["src","formaction"],source:"src",track:"src",video:["src","poster"]}});var mke={};NO(mke,{ClientCapabilities:()=>Ure,Color:()=>LM,ColorInformation:()=>oW,ColorPresentation:()=>sW,Command:()=>XC,CompletionItem:()=>dW,CompletionItemKind:()=>sd,CompletionItemTag:()=>cW,CompletionList:()=>fW,Diagnostic:()=>zx,DocumentHighlight:()=>hW,DocumentHighlightKind:()=>XT,DocumentLink:()=>vW,DocumentSymbol:()=>$x,DocumentUri:()=>nW,FileType:()=>FM,FoldingRange:()=>aW,FoldingRangeKind:()=>YT,FormattingOptions:()=>gW,Hover:()=>pW,InsertReplaceEdit:()=>uW,InsertTextFormat:()=>Zh,InsertTextMode:()=>lW,Location:()=>jx,MarkedString:()=>Hx,MarkupContent:()=>JT,MarkupKind:()=>ig,Position:()=>qa,Range:()=>xi,ScannerState:()=>Kn,SelectionRange:()=>QT,SymbolInformation:()=>Bx,SymbolKind:()=>Wx,TextDocument:()=>ZT,TextEdit:()=>tu,TokenType:()=>Qt,WorkspaceEdit:()=>NM,getDefaultHTMLDataProvider:()=>U_t,getLanguageService:()=>ene,newHTMLDataProvider:()=>hke});function ene(r=z_t){let e=new IW(r),t=new PW(r,e),n=new DW(r,e),i=new SW(e),o=new EW(i),s=new xW(e),a=new RW(e);return{setDataProviders:e.setDataProviders.bind(e),createScanner:Ru,parseHTMLDocument:i.parseDocument.bind(i),doComplete:n.doComplete.bind(n),doComplete2:n.doComplete2.bind(n),setCompletionParticipants:n.setCompletionParticipants.bind(n),doHover:t.doHover.bind(t),format:VIe,findDocumentHighlights:tke,findDocumentLinks:a.findDocumentLinks.bind(a),findDocumentSymbols:nke,findDocumentSymbols2:Xre,getFoldingRanges:s.getFoldingRanges.bind(s),getSelectionRanges:o.getSelectionRanges.bind(o),doQuoteComplete:n.doQuoteComplete.bind(n),doTagComplete:n.doTagComplete.bind(n),doRename:ske,findMatchingTagPosition:cke,findOnTypeRenameRanges:Qre,findLinkedEditingRanges:Qre}}function hke(r,e){return new Yx(r,e)}function U_t(){return hke("default",OW)}var z_t,tne=Ti(()=>{Xw();PIe();AIe();LIe();GIe();XIe();rke();oke();ake();uke();lke();dke();fke();qM();pke();Zre();em();z_t={}});var vke=P(Jx=>{"use strict";var gke=Jx&&Jx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Jx,"__esModule",{value:!0});Jx.HtmlTagCompletionProvider=void 0;var ky=require("vscode"),H_t=(tne(),WS(mke)),W_t=(bW(),WS(CIe)),B_t=YC(),$_t=uv(),rne=class{constructor(e,t){this.documentManager=e,this.serviceClient=t,this.timeout=void 0,this.enabled=!1}register(){this.htmlLanguageService=(0,H_t.getLanguageService)();let e=ky.workspace.onDidChangeTextDocument(n=>this.onDidChangeTextDocument(n.document,n.contentChanges)),t=ky.window.onDidChangeActiveTextEditor(()=>this.checkIfEnabled());return this.checkIfEnabled(),ky.Disposable.from(e,t)}checkIfEnabled(){this.enabled=!1;let e=ky.window.activeTextEditor;if(!e)return;let t=e.document;t.languageId===B_t.RazorLanguage.id&&ky.workspace.getConfiguration(void 0,t.uri).get("html.autoClosingTags")&&(this.enabled=!0)}onDidChangeTextDocument(e,t){return gke(this,void 0,void 0,function*(){if(!this.enabled||t.length===0||!ky.window.activeTextEditor||ky.window.activeTextEditor.document!==e)return;this.timeout!==void 0&&clearTimeout(this.timeout);let n=t[t.length-1];if(n.rangeLength>0||n.text[n.text.length-1]!==">")return;let o=n.range.start;if(o.character<2)return;let s=e.offsetAt(n.range.start),a=e.getText(),c=a.charAt(s-1);if(c==="/"||c===">")return;if(!this.atMarkupTransition(a,s)){if((yield this.serviceClient.languageQuery(n.range.start,e.uri)).kind!==$_t.LanguageKind.Html)return}let u=e.version;this.timeout=setTimeout(()=>gke(this,void 0,void 0,function*(){if(!this.enabled)return;let l=ky.window.activeTextEditor;if(!l)return;let d=l.document;if(e!==d||d.version!==u)return;let f=new ky.Position(o.line,o.character+n.text.length);if(!this.htmlLanguageService)return;let y=yield this.documentManager.getActiveDocument();y&&(a=y.htmlDocument.getContent());let b=W_t.TextDocument.create(e.uri.fsPath,e.languageId,e.version,a),T=this.htmlLanguageService.parseHTMLDocument(b),k=this.htmlLanguageService.doTagComplete(b,f,T);if(!k)return;let z=l.selections;z.length&&z.some(A=>A.active.isEqual(f))?l.insertSnippet(new ky.SnippetString(k),z.map(A=>A.active)):l.insertSnippet(new ky.SnippetString(k),f)}),75)})}atMarkupTransition(e,t){return e.substring(t-5,t)==="<text"}};Jx.HtmlTagCompletionProvider=rne});var _ke=P(Xx=>{"use strict";var V_t=Xx&&Xx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Xx,"__esModule",{value:!0});Xx.RazorHtmlFeature=void 0;var zM=require("vscode"),yke=MOe(),bke=UH(),G_t=vke(),nne=class{constructor(e,t,n,i){this.projectionProvider=new bke.HtmlProjectedDocumentContentProvider(e,n,i),this.htmlTagCompletionProvider=new G_t.HtmlTagCompletionProvider(e,t),this.htmlPreviewPanel=new yke.HtmlPreviewPanel(e)}register(){let e=[zM.workspace.registerTextDocumentContentProvider(bke.HtmlProjectedDocumentContentProvider.scheme,this.projectionProvider),zM.commands.registerCommand("extension.showRazorHtmlWindow",()=>this.htmlPreviewPanel.show()),this.htmlTagCompletionProvider.register()];return zM.window.registerWebviewPanelSerializer&&e.push(zM.window.registerWebviewPanelSerializer(yke.HtmlPreviewPanel.viewType,{deserializeWebviewPanel:t=>V_t(this,void 0,void 0,function*(){yield this.htmlPreviewPanel.revive(t)})})),zM.Disposable.from(...e)}};Xx.RazorHtmlFeature=nne});var Ske=P(Qx=>{"use strict";var K_t=Qx&&Qx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Qx,"__esModule",{value:!0});Qx.RazorImplementationProvider=void 0;var Y_t=require("vscode"),J_t=_y(),wke=uv(),ine=class extends J_t.RazorLanguageFeatureBase{provideImplementation(e,t,n){return K_t(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind===wke.LanguageKind.Html||i.languageKind===wke.LanguageKind.Razor?void 0:yield Y_t.commands.executeCommand("vscode.executeImplementationProvider",i.uri,i.position)})}};Qx.RazorImplementationProvider=ine});var Cke=P(Zx=>{"use strict";var X_t=Zx&&Zx.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(Zx,"__esModule",{value:!0});Zx.ProposedApisFeature=void 0;var one=class{register(e,t){return X_t(this,void 0,void 0,function*(){e.env.appName.endsWith("Insiders")})}};Zx.ProposedApisFeature=one});var Pke=P(eE=>{"use strict";var Dke=eE&&eE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(eE,"__esModule",{value:!0});eE.RazorCSharpLanguageMiddleware=void 0;var sne=require("vscode"),kW=RM(),Tke=uv(),ane=class{constructor(e,t){this.serviceClient=e,this.logger=t,this.language="Razor"}remapWorkspaceEdit(e,t){return Dke(this,void 0,void 0,function*(){let n=new Map;for(let o of e.entries()){let s=o[0],a=o[1];if(!(0,kW.isRazorCSharpFile)(s)){n.set(s,a);continue}let c=(0,kW.getRazorDocumentUri)(s);for(let u of a){let l=yield this.serviceClient.mapToDocumentRanges(Tke.LanguageKind.CSharp,[u.range],c);if(!l||!l.ranges||!l.ranges[0]){this.logger.logWarning(`Unable to remap file ${s.path} at ${u.range}.`);continue}else{let d=new sne.TextEdit(l.ranges[0],u.newText);this.logger.logVerbose(`Re-mapping text ${u.newText} at ${u.range} in ${s.path} to ${l.ranges[0]} in ${c.path}`),this.addElementToDictionary(n,c,d)}}}return this.mapToTextEdit(n)})}remapLocations(e,t){return Dke(this,void 0,void 0,function*(){let n=[];for(let i of e){if(!(0,kW.isRazorCSharpFile)(i.uri)){n.push(i);continue}let o=(0,kW.getRazorDocumentUri)(i.uri),s=yield this.serviceClient.mapToDocumentRanges(Tke.LanguageKind.CSharp,[i.range],o);if(!s||!s.ranges||!s.ranges[0]){this.logger.logWarning(`Unable to remap file ${i.uri.path} at ${i.range}.`);continue}let a=new sne.Location(o,s.ranges[0]);n.push(a),this.logger.logVerbose(`Re-mapping location ${i.range} in ${i.uri.path} to ${s.ranges[0]} in ${o.path}`)}return n})}mapToTextEdit(e){let t=new sne.WorkspaceEdit;return e.forEach((n,i)=>{t.set(i,n)}),t}addElementToDictionary(e,t,n){let i;if(e.has(t))i=e.get(t),i&&i.push(n);else{let o=new Array;o.push(n),e.set(t,o)}}};eE.RazorCSharpLanguageMiddleware=ane});var xke=P(AW=>{"use strict";Object.defineProperty(AW,"__esModule",{value:!0});AW.RazorLanguageConfiguration=void 0;var cne=require("vscode"),Q_t=YC(),Rke=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],une=class{register(){return cne.languages.setLanguageConfiguration(Q_t.RazorLanguage.id,{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\@\$\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${Rke.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:cne.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${Rke.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:cne.IndentAction.Indent}}]})}};AW.RazorLanguageConfiguration=une});var Oke=P((C5t,Eke)=>{"use strict";Eke.exports=c_()});var Ake=P(MW=>{"use strict";Object.defineProperty(MW,"__esModule",{value:!0});MW.resolveRazorLanguageServerOptions=void 0;var Ike=require("fs"),Z_t=require("os"),kke=require("path");function ewt(r,e,t,n){let i=twt(e),s=r.workspace.getConfiguration("razor.languageServer").get("debug");return{serverPath:i,debug:s,trace:t,outputChannel:n.outputChannel}}MW.resolveRazorLanguageServerOptions=ewt;function twt(r){let e=rwt()?".exe":"",t=kke.join(r,`rzls${e}`),n="";if(Ike.existsSync(t))n=t;else{let i=kke.join(r,"rzls.dll");if(!Ike.existsSync(i))throw new Error(`Could not find Razor Language Server executable within directory '${r}'`);n=i}return n}function rwt(){return!!Z_t.platform().match(/^win/)}});var lne=P(NW=>{"use strict";Object.defineProperty(NW,"__esModule",{value:!0});NW.resolveRazorLanguageServerTrace=void 0;var LW=EM();function nwt(r){let t=r.workspace.getConfiguration("razor").get("trace");return iwt(t)}NW.resolveRazorLanguageServerTrace=nwt;function iwt(r){switch(r){case"Off":return LW.Trace.Off;case"Messages":return LW.Trace.Messages;case"Verbose":return LW.Trace.Verbose;default:return console.log("Invalid trace setting for Razor language server. Defaulting to 'Off'"),LW.Trace.Off}}});var Nke=P(tE=>{"use strict";var FW=tE&&tE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(tE,"__esModule",{value:!0});tE.RazorLanguageServerClient=void 0;var owt=require("events"),dne=require("vscode"),fne=c_(),swt=Oke(),Mke=YC(),awt=Ake(),Lke=lne(),pne={ServerStop:"ServerStop"},hne=class{constructor(e,t,n,i){this.vscodeType=e,this.languageServerDir=t,this.telemetryReporter=n,this.logger=i,this.onStartListeners=[],this.onStartedListeners=[],this.isStarted=!1,this.setupLanguageServer(),this.eventBus=new owt.EventEmitter}get initializeResult(){return this.client.initializeResult}updateTraceLevel(){let e=(0,Lke.resolveRazorLanguageServerTrace)(this.vscodeType);this.setupLanguageServer(),this.logger.setTraceLevel(e)}onStarted(e){this.onStartedListeners.push(e)}onStart(e){this.onStartListeners.push(e)}onStop(e){return this.eventBus.addListener(pne.ServerStop,e),new dne.Disposable(()=>this.eventBus.removeListener(pne.ServerStop,e))}start(){return FW(this,void 0,void 0,function*(){if(this.startHandle)return this.startHandle;let e=Function,t=Function;this.startHandle=new Promise((o,s)=>{e=o,t=s});let n=0,i=this.client.onDidChangeState(o=>{o.oldState===fne.State.Starting&&o.newState===fne.State.Stopped?(n++,n===5&&t("Server failed to start after retrying 5 times.")):o.newState===fne.State.Running&&(n=0)});try{this.logger.logMessage("Starting Razor Language Server..."),yield this.client.start(),this.logger.logMessage("Server started, waiting for client to be ready..."),this.isStarted=!0;for(let o of this.onStartListeners)yield o();e(),this.logger.logMessage("Server ready!");for(let o of this.onStartedListeners)yield o();i.dispose()}catch(o){dne.window.showErrorMessage("Razor Language Server failed to start unexpectedly, please check the 'Razor Log' and report an issue."),this.telemetryReporter.reportErrorOnServerStart(o),t(o)}return this.startHandle})}sendRequest(e,t){return FW(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to send requests while server is not started.");return this.client.sendRequest(e,t)})}onRequestWithParams(e,t){return FW(this,void 0,void 0,function*(){if(!this.isStarted)throw new Error("Tried to bind on request logic while server is not started.");this.client.onRequest(e,t)})}onNotification(e,t){if(!this.isStarted)throw new Error("Tried to bind on notification logic while server is not started.");this.client.onNotification(e,t)}dispose(){this.logger.logMessage("Disposing Razor Language Server."),this.isStarted=!1,this.startHandle=void 0,this.eventBus.emit(pne.ServerStop)}stop(){return FW(this,void 0,void 0,function*(){let e=Function,t=Function;this.stopHandle=new Promise((n,i)=>{e=n,t=i}),this.startHandle||t(new Error("Cannot stop Razor Language Server as it is already stopped.")),this.logger.logMessage("Stopping Razor Language Server.");try{this.client&&(yield this.client.stop()),this.dispose(),e()}catch(n){dne.window.showErrorMessage("Razor Language Server failed to stop correctly, please check the 'Razor Log' and report an issue."),t(n)}return this.stopHandle})}setupLanguageServer(){let e=(0,Lke.resolveRazorLanguageServerTrace)(this.vscodeType),t=(0,awt.resolveRazorLanguageServerOptions)(this.vscodeType,this.languageServerDir,e,this.logger);this.clientOptions={outputChannel:t.outputChannel,documentSelector:[{language:Mke.RazorLanguage.id,pattern:Mke.RazorLanguage.globbingPattern}]};let n=[],i=t.serverPath;t.serverPath.endsWith(".dll")&&(this.logger.logMessage("Razor Language Server path is an assembly. Using 'dotnet' from the current path to start the server."),i="dotnet",n.push(t.serverPath)),this.logger.logMessage(`Razor language server path: ${t.serverPath}`),n.push("-lsp"),n.push("--trace"),this.telemetryReporter.reportTraceLevel(t.trace),n.push(t.trace.toString()),t.debug&&(this.telemetryReporter.reportDebugLanguageServer(),this.logger.logMessage("Debug flag set for Razor Language Server."),n.push("--debug")),this.serverOptions={command:i,args:n},this.client=new swt.LanguageClient("razorLanguageServer","Razor Language Server",this.serverOptions,this.clientOptions)}};tE.RazorLanguageServerClient=hne});var Fke=P(qW=>{"use strict";Object.defineProperty(qW,"__esModule",{value:!0});qW.LanguageQueryRequest=void 0;var mne=class{constructor(e,t){this.position=e,this.uri=t.toString()}};qW.LanguageQueryRequest=mne});var qke=P(jW=>{"use strict";Object.defineProperty(jW,"__esModule",{value:!0});jW.RazorMapToDocumentRangesRequest=void 0;var gne=class{constructor(e,t,n){this.kind=e,this.projectedRanges=t,this.razorDocumentUri=n.toString()}};jW.RazorMapToDocumentRangesRequest=gne});var jke=P(zW=>{"use strict";Object.defineProperty(zW,"__esModule",{value:!0});zW.SemanticTokensRangeRequest=void 0;var cwt=c_(),uwt=zR(),vne=class{constructor(e,t){this.textDocument=cwt.TextDocumentIdentifier.create(e.toString()),this.range=(0,uwt.convertRangeToSerializable)(t)}};zW.SemanticTokensRangeRequest=vne});var Uke=P(rE=>{"use strict";var UW=rE&&rE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(rE,"__esModule",{value:!0});rE.RazorLanguageServiceClient=void 0;var lwt=require("vscode"),dwt=Fke(),fwt=qke(),zke=zR(),pwt=jke(),yne=class{constructor(e){this.serverClient=e}languageQuery(e,t){return UW(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new dwt.LanguageQueryRequest(e,t),i=yield this.serverClient.sendRequest("razor/languageQuery",n);return i.position=new lwt.Position(i.position.line,i.position.character),i})}mapToDocumentRanges(e,t,n){return UW(this,void 0,void 0,function*(){yield this.ensureStarted();let i=[];for(let c of t){let u=(0,zke.convertRangeToSerializable)(c);i.push(u)}let o=new fwt.RazorMapToDocumentRangesRequest(e,i,n),s=yield this.serverClient.sendRequest("razor/mapToDocumentRanges",o),a=[];for(let c of s.ranges)if(c.start.line>=0){let u=(0,zke.convertRangeFromSerializable)(s.ranges[0]);a.push(u)}return s.ranges=a,s})}semanticTokensRange(e,t){return UW(this,void 0,void 0,function*(){yield this.ensureStarted();let n=new pwt.SemanticTokensRangeRequest(e,t),i=yield this.serverClient.sendRequest("textDocument/semanticTokens/range",n);if(i.data&&i.data.length>0)return i})}ensureStarted(){return UW(this,void 0,void 0,function*(){yield this.serverClient.start()})}};rE.RazorLanguageServiceClient=yne});var Bke=P(BW=>{"use strict";Object.defineProperty(BW,"__esModule",{value:!0});BW.RazorLogger=void 0;var Wke=require("fs"),Hke=require("path"),HW=EM(),WW=class r{constructor(e,t,n){this.vscodeApi=e,this.trace=n,this.processTraceLevel(),this.onLogEmitter=t.create(),this.onTraceLevelChangeEmitter=t.create(),this.outputChannel=this.vscodeApi.window.createOutputChannel(r.logName),this.logRazorInformation()}setTraceLevel(e){this.trace=e,this.processTraceLevel(),this.logMessage(`Updated trace level to: ${HW.Trace[this.trace]}`),this.onTraceLevelChangeEmitter.fire(this.trace)}get onLog(){return this.onLogEmitter.event}get onTraceLevelChange(){return this.onTraceLevelChangeEmitter.event}logAlways(e){this.logWithMarker(e)}logWarning(e){let t=`(Warning) ${e}`;this.logAlways(t)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logMessage(e){this.messageEnabled&&this.logWithMarker(e)}logVerbose(e){this.verboseEnabled&&this.logWithMarker(e)}dispose(){this.outputChannel.dispose()}logErrorInternal(e,t){let n=`(Error) ${e}
${t.message}
Stack Trace:
${t.stack}`;this.logAlways(n)}logWithMarker(e){let n=`[Client - ${new Date().toLocaleTimeString()}] ${e}`;this.log(n)}log(e){this.outputChannel.appendLine(e),this.onLogEmitter.fire(e)}logRazorInformation(){let e=hwt();this.log("--------------------------------------------------------------------------------"),this.log(`Razor.VSCode version ${e.defaults.razor}`),this.log("--------------------------------------------------------------------------------"),this.log(`Razor's trace level is currently set to '${HW.Trace[this.trace]}'`),this.log(" - To change Razor's trace level set 'razor.trace' to 'Off', 'Messages' or 'Verbose' and then restart VSCode."),this.log(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.log("-----------------------------------------------------------------------------------------------------------------------------"),this.log("")}processTraceLevel(){this.verboseEnabled=this.trace>=HW.Trace.Verbose,this.messageEnabled=this.trace>=HW.Trace.Messages}};BW.RazorLogger=WW;WW.logName="Razor Log";function hwt(){let r=mwt(__dirname,"package.json");return JSON.parse(Wke.readFileSync(r).toString())}function mwt(r,e){for(;;){let t=Hke.join(r,e);if(Wke.existsSync(t))return t;let n=Hke.dirname(r);if(n===r)throw new Error(`Could not find '${e}' in or above '${r}'.`);r=n}}});var Kke=P(nE=>{"use strict";var gwt=nE&&nE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(nE,"__esModule",{value:!0});nE.RazorReferenceProvider=void 0;var $ke=require("vscode"),Vke=RM(),vwt=_y(),Gke=uv(),bne=class extends vwt.RazorLanguageFeatureBase{provideReferences(e,t,n,i){return gwt(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);if(!o||o.languageKind===Gke.LanguageKind.Razor)return;let s=yield $ke.commands.executeCommand("vscode.executeReferenceProvider",o.uri,o.position),a=new Array;for(let c of s)if(o.languageKind===Gke.LanguageKind.Html&&(0,Vke.isRazorHtmlFile)(c.uri)){let u=(0,Vke.getRazorDocumentUri)(c.uri);a.push(new $ke.Location(u,c.range))}else a.push(c);return a})}};nE.RazorReferenceProvider=bne});var Xke=P(iE=>{"use strict";var Yke=iE&&iE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(iE,"__esModule",{value:!0});iE.RazorRenameProvider=void 0;var ywt=require("vscode"),bwt=_y(),Jke=uv(),_ne=class extends bwt.RazorLanguageFeatureBase{constructor(e,t,n,i){super(e,t,n,i)}prepareRename(e,t,n){return Yke(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);return!i||i.languageKind!==Jke.LanguageKind.CSharp?null:e.getWordRangeAtPosition(t)})}provideRenameEdits(e,t,n,i){return Yke(this,void 0,void 0,function*(){let o=yield this.getProjection(e,t,i);return!o||o.languageKind!==Jke.LanguageKind.CSharp?void 0:yield ywt.commands.executeCommand("vscode.executeDocumentRenameProvider",o.uri,o.position,n)})}};iE.RazorRenameProvider=_ne});var Qke=P(oE=>{"use strict";var _wt=oE&&oE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(oE,"__esModule",{value:!0});oE.RazorDocumentSemanticTokensProvider=void 0;var wwt=require("vscode"),Swt=_y(),wne=class extends Swt.RazorLanguageFeatureBase{provideDocumentRangeSemanticTokens(e,t,n){return _wt(this,void 0,void 0,function*(){let i=yield this.serviceClient.semanticTokensRange(e.uri,t);if(i){let o=new Uint32Array(i.data);i=new wwt.SemanticTokens(o,i.resultId)}return i})}};oE.RazorDocumentSemanticTokensProvider=wne});var Zke=P($W=>{"use strict";Object.defineProperty($W,"__esModule",{value:!0});$W.ProvideSemanticTokensResponse=void 0;var Sne=class{constructor(e,t){this.Result=e,this.HostDocumentSyncVersion=t}};$W.ProvideSemanticTokensResponse=Sne});var e1e=P(VW=>{"use strict";Object.defineProperty(VW,"__esModule",{value:!0});VW.SemanticTokensResponse=void 0;var Cne=class{constructor(e,t){this.data=e,this.resultId=t}};VW.SemanticTokensResponse=Cne});var r1e=P(sE=>{"use strict";var t1e=sE&&sE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(sE,"__esModule",{value:!0});sE.SemanticTokensRangeHandler=void 0;var Cwt=c_(),Dwt=Zke(),Twt=e1e(),GW=class r{constructor(e){this.serverClient=e,this.semanticTokensRequestType=new Cwt.RequestType(r.getSemanticTokensRangeEndpoint),this.emptySemanticTokensResponse=new Dwt.ProvideSemanticTokensResponse(new Twt.SemanticTokensResponse(new Array,""),null)}register(){return this.serverClient.onRequestWithParams(this.semanticTokensRequestType,(e,t)=>t1e(this,void 0,void 0,function*(){return this.getSemanticTokens(e,t)}))}getSemanticTokens(e,t){return t1e(this,void 0,void 0,function*(){return this.emptySemanticTokensResponse})}};sE.SemanticTokensRangeHandler=GW;GW.getSemanticTokensRangeEndpoint="razor/provideSemanticTokensRange"});var n1e=P(aE=>{"use strict";var Pwt=aE&&aE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(aE,"__esModule",{value:!0});aE.RazorSignatureHelpProvider=void 0;var Rwt=require("vscode"),xwt=_y(),Dne=class extends xwt.RazorLanguageFeatureBase{provideSignatureHelp(e,t,n){return Pwt(this,void 0,void 0,function*(){let i=yield this.getProjection(e,t,n);if(i)return yield Rwt.commands.executeCommand("vscode.executeSignatureHelpProvider",i.uri,i.position)})}};aE.RazorSignatureHelpProvider=Dne});var i1e=P(cE=>{"use strict";Object.defineProperty(cE,"__esModule",{value:!0});cE.createTelemetryErrorEvent=cE.createTelemetryEvent=void 0;function Ewt(r,e,t){return{type:KW.TelemetryEvent,eventName:r,properties:e,measures:t}}cE.createTelemetryEvent=Ewt;function Owt(r,e,t,n){return{type:KW.TelemetryErrorEvent,eventName:r,properties:e,measures:t,errorProps:n}}cE.createTelemetryErrorEvent=Owt;var KW;(function(r){r[r.TelemetryEvent=1]="TelemetryEvent",r[r.TelemetryErrorEvent=78]="TelemetryErrorEvent"})(KW||(KW={}))});var o1e=P(YW=>{"use strict";Object.defineProperty(YW,"__esModule",{value:!0});YW.TelemetryReporter=void 0;var UM=i1e(),Iwt=EM(),Tne=class{constructor(e){this.eventStream=e,this.razorExtensionActivated=(0,UM.createTelemetryEvent)("VSCode.Razor.RazorExtensionActivated"),this.debugLanguageServerEvent=(0,UM.createTelemetryEvent)("VSCode.Razor.DebugLanguageServer"),this.workspaceContainsRazorEvent=(0,UM.createTelemetryEvent)("VSCode.Razor.WorkspaceContainsRazor"),this.reportedWorkspaceContainsRazor=!1,this.eventStream.post(this.razorExtensionActivated)}reportTraceLevel(e){let t=(0,UM.createTelemetryEvent)("VSCode.Razor.TraceLevel",{trace:Iwt.Trace[e]});this.eventStream.post(t)}reportErrorOnServerStart(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnServerStart",t)}reportErrorOnActivation(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnActivation",t)}reportDebugLanguageServer(){this.eventStream.post(this.debugLanguageServerEvent)}reportWorkspaceContainsRazor(){this.reportedWorkspaceContainsRazor||(this.reportedWorkspaceContainsRazor=!0,this.eventStream.post(this.workspaceContainsRazorEvent))}reportError(e,t){let n=(0,UM.createTelemetryErrorEvent)(e,{error:JSON.stringify(t)},void 0,["error"]);this.eventStream.post(n)}};YW.TelemetryReporter=Tne});var s1e=P(lE=>{"use strict";var uE=lE&&lE.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})};Object.defineProperty(lE,"__esModule",{value:!0});lE.activate=void 0;var kwt=require("vscode"),Awt=mPe(),Mwt=wPe(),Lwt=TPe(),Nwt=IEe(),Fwt=LEe(),qwt=Qte(),jwt=FEe(),zwt=WEe(),Uwt=GEe(),Hwt=eOe(),Wwt=aOe(),Bwt=uOe(),$wt=pOe(),Vwt=mOe(),Gwt=gOe(),Kwt=_Oe(),Ywt=DOe(),Jwt=TOe(),Xwt=IOe(),Qwt=kOe(),Zwt=_ke(),eSt=Ske(),tSt=Cke(),rSt=Pke(),tm=YC(),nSt=xke(),iSt=Nke(),oSt=lne(),sSt=Uke(),aSt=Bke(),cSt=Kke(),uSt=Xke(),lSt=Qke(),dSt=r1e(),fSt=n1e(),pSt=o1e();function hSt(r,e,t,n,i=!1){return uE(this,void 0,void 0,function*(){let o=new pSt.TelemetryReporter(n),s={create:()=>new kwt.EventEmitter},a=(0,oSt.resolveRazorLanguageServerTrace)(r),c=new aSt.RazorLogger(r,s,a);try{let u=new iSt.RazorLanguageServerClient(r,t,o,c),l=new sSt.RazorLanguageServiceClient(u),d=new rSt.RazorCSharpLanguageMiddleware(l,c),f=new Wwt.RazorDocumentManager(u,c);(0,Gwt.reportTelemetryForDocuments)(f,o);let y=new nSt.RazorLanguageConfiguration,b=new zwt.RazorCSharpFeature(f,s,c),T=new Zwt.RazorHtmlFeature(f,l,s,c),k=[],z=new Hwt.ReportIssueCommand(r,f,c),A=new Xwt.RazorFormattingFeature(u,f,c),U=new Mwt.RazorCodeActionRunner(u,c),ne;u.onStart(()=>uE(this,void 0,void 0,function*(){r.commands.executeCommand("omnisharp.registerLanguageMiddleware",d),ne=new Bwt.RazorDocumentSynchronizer(f,c);let $=new Fwt.ProvisionalCompletionOrchestrator(f,b.projectionProvider,l,c),W=new dSt.SemanticTokensRangeHandler(u),ee=new Nwt.ColorPresentationHandler(f,u,c),Pe=new $wt.DocumentColorHandler(f,u,c),se=new Kwt.FoldingRangeHandler(u,f,c),ue=new Ywt.FormattingHandler(f,u,c),Fe=new qwt.RazorCompletionItemProvider(ne,f,l,$,c),Le=new fSt.RazorSignatureHelpProvider(ne,f,l,c),ce=new Uwt.RazorDefinitionProvider(ne,f,l,c),Ce=new eSt.RazorImplementationProvider(ne,f,l,c),we=new Qwt.RazorHoverProvider(ne,f,l,c),Ee=new Lwt.RazorCodeLensProvider(ne,f,l,c),Ne=new uSt.RazorRenameProvider(ne,f,l,c),$e=new cSt.RazorReferenceProvider(ne,f,l,c),Ct=new Vwt.RazorDocumentHighlightProvider(ne,f,l,c),ze=new Jwt.RazorFormatOnTypeProvider;k.push(y.register(),$.register(),r.languages.registerCompletionItemProvider(tm.RazorLanguage.id,Fe,".","<","@"),r.languages.registerSignatureHelpProvider(tm.RazorLanguage.id,Le,"(",","),r.languages.registerDefinitionProvider(tm.RazorLanguage.id,ce),r.languages.registerImplementationProvider(tm.RazorLanguage.id,Ce),r.languages.registerHoverProvider(tm.RazorLanguage.documentSelector,we),r.languages.registerReferenceProvider(tm.RazorLanguage.id,$e),r.languages.registerCodeLensProvider(tm.RazorLanguage.id,Ee),r.languages.registerRenameProvider(tm.RazorLanguage.id,Ne),r.languages.registerDocumentHighlightProvider(tm.RazorLanguage.id,Ct),r.languages.registerOnTypeFormattingEditProvider(tm.RazorLanguage.documentSelector,ze,""),f.register(),b.register(),T.register(),ne.register(),z.register(),(0,jwt.listenToConfigurationChanges)(u)),i&&(yield new tSt.ProposedApisFeature().register(r,k)),U.register(),yield A.register(),yield ee.register(),yield Pe.register(),yield se.register(),yield ue.register(),yield W.register()}));let de=u.onStop(()=>{k.forEach($=>$.dispose()),k.length=0}),ve=new Awt.BlazorDebugConfigurationProvider(c,r);e.subscriptions.push(r.debug.registerDebugConfigurationProvider("blazorwasm",ve)),u.onStarted(()=>uE(this,void 0,void 0,function*(){var $,W;let ee=(W=($=u.initializeResult)===null||$===void 0?void 0:$.capabilities.semanticTokensProvider)===null||W===void 0?void 0:W.legend,Pe=new lSt.RazorDocumentSemanticTokensProvider(ne,f,l,c);ee&&k.push(r.languages.registerDocumentRangeSemanticTokensProvider(tm.RazorLanguage.id,Pe,ee)),yield f.initialize()})),yield mSt(r,u,c,e),e.subscriptions.push(u,de,c)}catch(u){c.logError("Failed when activating Razor VSCode.",u),o.reportErrorOnActivation(u)}})}lE.activate=hSt;function mSt(r,e,t,n){return uE(this,void 0,void 0,function*(){if((yield r.workspace.findFiles(tm.RazorLanguage.globbingPattern)).length===0){t.logAlways("No Razor files detected in workspace, delaying language server start.");let o=r.workspace.createFileSystemWatcher(tm.RazorLanguage.globbingPattern),s=()=>uE(this,void 0,void 0,function*(){a.dispose(),c.dispose(),yield e.start()}),a=o.onDidCreate(()=>s()),c=r.workspace.onDidOpenTextDocument(u=>uE(this,void 0,void 0,function*(){u.languageId===tm.RazorLanguage.id&&(yield s())}));n.subscriptions.push(a,c)}else yield e.start()})}});var eAe=P((N7t,Z1e)=>{Z1e.exports=Q1e;Q1e.sync=xSt;var J1e=require("fs");function RSt(r,e){var t=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i&&r.substr(-i.length).toLowerCase()===i)return!0}return!1}function X1e(r,e,t){return!r.isSymbolicLink()&&!r.isFile()?!1:RSt(e,t)}function Q1e(r,e,t){J1e.stat(r,function(n,i){t(n,n?!1:X1e(i,r,e))})}function xSt(r,e){return X1e(J1e.statSync(r),r,e)}});var oAe=P((F7t,iAe)=>{iAe.exports=rAe;rAe.sync=ESt;var tAe=require("fs");function rAe(r,e,t){tAe.stat(r,function(n,i){t(n,n?!1:nAe(i,e))})}function ESt(r,e){return nAe(tAe.statSync(r),e)}function nAe(r,e){return r.isFile()&&OSt(r,e)}function OSt(r,e){var t=r.mode,n=r.uid,i=r.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c,d=t&u||t&c&&i===s||t&a&&n===o||t&l&&o===0;return d}});var aAe=P((j7t,sAe)=>{var q7t=require("fs"),JB;process.platform==="win32"||global.TESTING_WINDOWS?JB=eAe():JB=oAe();sAe.exports=Xne;Xne.sync=ISt;function Xne(r,e,t){if(typeof e=="function"&&(t=e,e={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Xne(r,e||{},function(o,s){o?i(o):n(s)})})}JB(r,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),t(n,i)})}function ISt(r,e){try{return JB.sync(r,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var hAe=P((z7t,pAe)=>{var kE=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",cAe=require("path"),kSt=kE?";":":",uAe=aAe(),lAe=r=>Object.assign(new Error(`not found: ${r}`),{code:"ENOENT"}),dAe=(r,e)=>{let t=e.colon||kSt,n=r.match(/\//)||kE&&r.match(/\\/)?[""]:[...kE?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(t)],i=kE?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=kE?i.split(t):[""];return kE&&r.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},fAe=(r,e,t)=>{typeof e=="function"&&(t=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=dAe(r,e),s=[],a=u=>new Promise((l,d)=>{if(u===n.length)return e.all&&s.length?l(s):d(lAe(r));let f=n[u],y=/^".*"$/.test(f)?f.slice(1,-1):f,b=cAe.join(y,r),T=!y&&/^\.[\\\/]/.test(r)?r.slice(0,2)+b:b;l(c(T,u,0))}),c=(u,l,d)=>new Promise((f,y)=>{if(d===i.length)return f(a(l+1));let b=i[d];uAe(u+b,{pathExt:o},(T,k)=>{if(!T&&k)if(e.all)s.push(u+b);else return f(u+b);return f(c(u,l,d+1))})});return t?a(0).then(u=>t(null,u),t):a(0)},ASt=(r,e)=>{e=e||{};let{pathEnv:t,pathExt:n,pathExtExe:i}=dAe(r,e),o=[];for(let s=0;s<t.length;s++){let a=t[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=cAe.join(c,r),l=!c&&/^\.[\\\/]/.test(r)?r.slice(0,2)+u:u;for(let d=0;d<n.length;d++){let f=l+n[d];try{if(uAe.sync(f,{pathExt:i}))if(e.all)o.push(f);else return f}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw lAe(r)};pAe.exports=fAe;fAe.sync=ASt});var gAe=P((U7t,Qne)=>{"use strict";var mAe=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Qne.exports=mAe;Qne.exports.default=mAe});var _Ae=P((H7t,bAe)=>{"use strict";var vAe=require("path"),MSt=hAe(),LSt=gAe();function yAe(r,e){let t=r.options.env||process.env,n=process.cwd(),i=r.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(r.options.cwd)}catch{}let s;try{s=MSt.sync(r.command,{path:t[LSt({env:t})],pathExt:e?vAe.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=vAe.resolve(i?r.options.cwd:"",s)),s}function NSt(r){return yAe(r)||yAe(r,!0)}bAe.exports=NSt});var wAe=P((W7t,eie)=>{"use strict";var Zne=/([()\][%!^"`<>&|;, *?])/g;function FSt(r){return r=r.replace(Zne,"^$1"),r}function qSt(r,e){return r=`${r}`,r=r.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),r=r.replace(/(?=(\\+?)?)\1$/,"$1$1"),r=`"${r}"`,r=r.replace(Zne,"^$1"),e&&(r=r.replace(Zne,"^$1")),r}eie.exports.command=FSt;eie.exports.argument=qSt});var CAe=P((B7t,SAe)=>{"use strict";SAe.exports=/^#!(.*)/});var TAe=P(($7t,DAe)=>{"use strict";var jSt=CAe();DAe.exports=(r="")=>{let e=r.match(jSt);if(!e)return null;let[t,n]=e[0].replace(/#! ?/,"").split(" "),i=t.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var RAe=P((V7t,PAe)=>{"use strict";var tie=require("fs"),zSt=TAe();function USt(r){let t=Buffer.alloc(150),n;try{n=tie.openSync(r,"r"),tie.readSync(n,t,0,150,0),tie.closeSync(n)}catch{}return zSt(t.toString())}PAe.exports=USt});var IAe=P((G7t,OAe)=>{"use strict";var HSt=require("path"),xAe=_Ae(),EAe=wAe(),WSt=RAe(),BSt=process.platform==="win32",$St=/\.(?:com|exe)$/i,VSt=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function GSt(r){r.file=xAe(r);let e=r.file&&WSt(r.file);return e?(r.args.unshift(r.file),r.command=e,xAe(r)):r.file}function KSt(r){if(!BSt)return r;let e=GSt(r),t=!$St.test(e);if(r.options.forceShell||t){let n=VSt.test(e);r.command=HSt.normalize(r.command),r.command=EAe.command(r.command),r.args=r.args.map(o=>EAe.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function YSt(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?n:KSt(n)}OAe.exports=YSt});var MAe=P((K7t,AAe)=>{"use strict";var rie=process.platform==="win32";function nie(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function JSt(r,e){if(!rie)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=kAe(i,e);if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function kAe(r,e){return rie&&r===1&&!e.file?nie(e.original,"spawn"):null}function XSt(r,e){return rie&&r===1&&!e.file?nie(e.original,"spawnSync"):null}AAe.exports={hookChildProcess:JSt,verifyENOENT:kAe,verifyENOENTSync:XSt,notFoundError:nie}});var FAe=P((Y7t,AE)=>{"use strict";var LAe=require("child_process"),iie=IAe(),oie=MAe();function NAe(r,e,t){let n=iie(r,e,t),i=LAe.spawn(n.command,n.args,n.options);return oie.hookChildProcess(i,n),i}function QSt(r,e,t){let n=iie(r,e,t),i=LAe.spawnSync(n.command,n.args,n.options);return i.error=i.error||oie.verifyENOENTSync(i.status,n),i}AE.exports=NAe;AE.exports.spawn=NAe;AE.exports.sync=QSt;AE.exports._parse=iie;AE.exports._enoent=oie});var jAe=P((J7t,qAe)=>{"use strict";qAe.exports=r=>{let e=typeof r=="string"?`
`:10,t=typeof r=="string"?"\r":13;return r[r.length-1]===e&&(r=r.slice(0,r.length-1)),r[r.length-1]===t&&(r=r.slice(0,r.length-1)),r}});var UAe=P((X7t,sie)=>{"use strict";var zAe=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};sie.exports=zAe;sie.exports.default=zAe});var BAe=P((Q7t,sL)=>{"use strict";var oL=require("path"),HAe=UAe(),WAe=r=>{r={cwd:process.cwd(),path:process.env[HAe()],execPath:process.execPath,...r};let e,t=oL.resolve(r.cwd),n=[];for(;e!==t;)n.push(oL.join(t,"node_modules/.bin")),e=t,t=oL.resolve(t,"..");let i=oL.resolve(r.cwd,r.execPath,"..");return n.push(i),n.concat(r.path).join(oL.delimiter)};sL.exports=WAe;sL.exports.default=WAe;sL.exports.env=r=>{r={env:process.env,...r};let e={...r.env},t=HAe({env:e});return r.path=e[t],e[t]=sL.exports(r),e}});var VAe=P((Z7t,aie)=>{"use strict";var $Ae=(r,e)=>{for(let t of Reflect.ownKeys(e))Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t));return r};aie.exports=$Ae;aie.exports.default=$Ae});var KAe=P((eYt,QB)=>{"use strict";var ZSt=VAe(),XB=new WeakMap,GAe=(r,e={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let t,n=0,i=r.displayName||r.name||"<anonymous>",o=function(...s){if(XB.set(o,++n),n===1)t=r.apply(this,s),r=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return t};return ZSt(o,r),XB.set(o,n),o};QB.exports=GAe;QB.exports.default=GAe;QB.exports.callCount=r=>{if(!XB.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return XB.get(r)}});var YAe=P(ZB=>{"use strict";Object.defineProperty(ZB,"__esModule",{value:!0});ZB.SIGNALS=void 0;var eCt=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];ZB.SIGNALS=eCt});var cie=P(ME=>{"use strict";Object.defineProperty(ME,"__esModule",{value:!0});ME.SIGRTMAX=ME.getRealtimeSignals=void 0;var tCt=function(){let r=XAe-JAe+1;return Array.from({length:r},rCt)};ME.getRealtimeSignals=tCt;var rCt=function(r,e){return{name:`SIGRT${e+1}`,number:JAe+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},JAe=34,XAe=64;ME.SIGRTMAX=XAe});var QAe=P(e$=>{"use strict";Object.defineProperty(e$,"__esModule",{value:!0});e$.getSignals=void 0;var nCt=require("os"),iCt=YAe(),oCt=cie(),sCt=function(){let r=(0,oCt.getRealtimeSignals)();return[...iCt.SIGNALS,...r].map(aCt)};e$.getSignals=sCt;var aCt=function({name:r,number:e,description:t,action:n,forced:i=!1,standard:o}){let{signals:{[r]:s}}=nCt.constants,a=s!==void 0;return{name:r,number:a?s:e,description:t,supported:a,action:n,forced:i,standard:o}}});var eMe=P(LE=>{"use strict";Object.defineProperty(LE,"__esModule",{value:!0});LE.signalsByNumber=LE.signalsByName=void 0;var cCt=require("os"),ZAe=QAe(),uCt=cie(),lCt=function(){return(0,ZAe.getSignals)().reduce(dCt,{})},dCt=function(r,{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}){return{...r,[e]:{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}}},fCt=lCt();LE.signalsByName=fCt;var pCt=function(){let r=(0,ZAe.getSignals)(),e=uCt.SIGRTMAX+1,t=Array.from({length:e},(n,i)=>hCt(i,r));return Object.assign({},...t)},hCt=function(r,e){let t=mCt(r,e);if(t===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=t;return{[r]:{name:n,number:r,description:i,supported:o,action:s,forced:a,standard:c}}},mCt=function(r,e){let t=e.find(({name:n})=>cCt.constants.signals[n]===r);return t!==void 0?t:e.find(n=>n.number===r)},gCt=pCt();LE.signalsByNumber=gCt});var rMe=P((oYt,tMe)=>{"use strict";var{signalsByName:vCt}=eMe(),yCt=({timedOut:r,timeout:e,errorCode:t,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>r?`timed out after ${e} milliseconds`:s?"was canceled":t!==void 0?`failed with ${t}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",bCt=({stdout:r,stderr:e,all:t,error:n,signal:i,exitCode:o,command:s,timedOut:a,isCanceled:c,killed:u,parsed:{options:{timeout:l}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let d=i===void 0?void 0:vCt[i].description,f=n&&n.code,b=`Command ${yCt({timedOut:a,timeout:l,errorCode:f,signal:i,signalDescription:d,exitCode:o,isCanceled:c})}: ${s}`,T=n instanceof Error?`${b}
${n.message}`:b,k=[T,e,r].filter(Boolean).join(`
`);return n instanceof Error?(n.originalMessage=n.message,n.message=k):n=new Error(k),n.shortMessage=T,n.command=s,n.exitCode=o,n.signal=i,n.signalDescription=d,n.stdout=r,n.stderr=e,t!==void 0&&(n.all=t),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!a,n.isCanceled=c,n.killed=u&&!a,n};tMe.exports=bCt});var iMe=P((sYt,uie)=>{"use strict";var t$=["stdin","stdout","stderr"],_Ct=r=>t$.some(e=>r[e]!==void 0),nMe=r=>{if(!r)return;let{stdio:e}=r;if(e===void 0)return t$.map(n=>r[n]);if(_Ct(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${t$.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let t=Math.max(e.length,t$.length);return Array.from({length:t},(n,i)=>e[i])};uie.exports=nMe;uie.exports.node=r=>{let e=nMe(r);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var oMe=P((aYt,r$)=>{r$.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&r$.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&r$.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var lMe=P((cYt,qE)=>{var uc=global.process,s0=function(r){return r&&typeof r=="object"&&typeof r.removeListener=="function"&&typeof r.emit=="function"&&typeof r.reallyExit=="function"&&typeof r.listeners=="function"&&typeof r.kill=="function"&&typeof r.pid=="number"&&typeof r.on=="function"};s0(uc)?(sMe=require("assert"),NE=oMe(),aMe=/^win/i.test(uc.platform),aL=require("events"),typeof aL!="function"&&(aL=aL.EventEmitter),uc.__signal_exit_emitter__?cd=uc.__signal_exit_emitter__:(cd=uc.__signal_exit_emitter__=new aL,cd.count=0,cd.emitted={}),cd.infinite||(cd.setMaxListeners(1/0),cd.infinite=!0),qE.exports=function(r,e){if(!s0(global.process))return function(){};sMe.equal(typeof r,"function","a callback must be provided for exit handler"),FE===!1&&lie();var t="exit";e&&e.alwaysLast&&(t="afterexit");var n=function(){cd.removeListener(t,r),cd.listeners("exit").length===0&&cd.listeners("afterexit").length===0&&n$()};return cd.on(t,r),n},n$=function(){!FE||!s0(global.process)||(FE=!1,NE.forEach(function(e){try{uc.removeListener(e,i$[e])}catch{}}),uc.emit=o$,uc.reallyExit=die,cd.count-=1)},qE.exports.unload=n$,a0=function(e,t,n){cd.emitted[e]||(cd.emitted[e]=!0,cd.emit(e,t,n))},i$={},NE.forEach(function(r){i$[r]=function(){if(s0(global.process)){var t=uc.listeners(r);t.length===cd.count&&(n$(),a0("exit",null,r),a0("afterexit",null,r),aMe&&r==="SIGHUP"&&(r="SIGINT"),uc.kill(uc.pid,r))}}}),qE.exports.signals=function(){return NE},FE=!1,lie=function(){FE||!s0(global.process)||(FE=!0,cd.count+=1,NE=NE.filter(function(e){try{return uc.on(e,i$[e]),!0}catch{return!1}}),uc.emit=uMe,uc.reallyExit=cMe)},qE.exports.load=lie,die=uc.reallyExit,cMe=function(e){s0(global.process)&&(uc.exitCode=e||0,a0("exit",uc.exitCode,null),a0("afterexit",uc.exitCode,null),die.call(uc,uc.exitCode))},o$=uc.emit,uMe=function(e,t){if(e==="exit"&&s0(global.process)){t!==void 0&&(uc.exitCode=t);var n=o$.apply(this,arguments);return a0("exit",uc.exitCode,null),a0("afterexit",uc.exitCode,null),n}else return o$.apply(this,arguments)}):qE.exports=function(){return function(){}};var sMe,NE,aMe,aL,cd,n$,a0,i$,FE,lie,die,cMe,o$,uMe});var fMe=P((uYt,dMe)=>{"use strict";var wCt=require("os"),SCt=lMe(),CCt=1e3*5,DCt=(r,e="SIGTERM",t={})=>{let n=r(e);return TCt(r,e,t,n),n},TCt=(r,e,t,n)=>{if(!PCt(e,t,n))return;let i=xCt(t),o=setTimeout(()=>{r("SIGKILL")},i);o.unref&&o.unref()},PCt=(r,{forceKillAfterTimeout:e},t)=>RCt(r)&&e!==!1&&t,RCt=r=>r===wCt.constants.signals.SIGTERM||typeof r=="string"&&r.toUpperCase()==="SIGTERM",xCt=({forceKillAfterTimeout:r=!0})=>{if(r===!0)return CCt;if(!Number.isInteger(r)||r<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`);return r},ECt=(r,e)=>{r.kill()&&(e.isCanceled=!0)},OCt=(r,e,t)=>{r.kill(e),t(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},ICt=(r,{timeout:e,killSignal:t="SIGTERM"},n)=>{if(e===0||e===void 0)return n;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);let i,o=new Promise((a,c)=>{i=setTimeout(()=>{OCt(r,t,c)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},kCt=async(r,{cleanup:e,detached:t},n)=>{if(!e||t)return n;let i=SCt(()=>{r.kill()});return n.finally(()=>{i()})};dMe.exports={spawnedKill:DCt,spawnedCancel:ECt,setupTimeout:ICt,setExitHandler:kCt}});var hMe=P((lYt,pMe)=>{"use strict";var m_=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";m_.writable=r=>m_(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object";m_.readable=r=>m_(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object";m_.duplex=r=>m_.writable(r)&&m_.readable(r);m_.transform=r=>m_.duplex(r)&&typeof r._transform=="function";pMe.exports=m_});var vMe=P((dYt,gMe)=>{gMe.exports=mMe;function mMe(r,e){if(r&&e)return mMe(r)(e);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(n){t[n]=r[n]}),t;function t(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=r.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var pie=P((fYt,fie)=>{var yMe=vMe();fie.exports=yMe(s$);fie.exports.strict=yMe(bMe);s$.proto=s$(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s$(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return bMe(this)},configurable:!0})});function s$(r){var e=function(){return e.called?e.value:(e.called=!0,e.value=r.apply(this,arguments))};return e.called=!1,e}function bMe(r){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=r.apply(this,arguments)},t=r.name||"Function wrapped with `once`";return e.onceError=t+" shouldn't be called more than once",e.called=!1,e}});var SMe=P((pYt,wMe)=>{var ACt=pie(),MCt=function(){},LCt=function(r){return r.setHeader&&typeof r.abort=="function"},NCt=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},_Me=function(r,e,t){if(typeof e=="function")return _Me(r,null,e);e||(e={}),t=ACt(t||MCt);var n=r._writableState,i=r._readableState,o=e.readable||e.readable!==!1&&r.readable,s=e.writable||e.writable!==!1&&r.writable,a=!1,c=function(){r.writable||u()},u=function(){s=!1,o||t.call(r)},l=function(){o=!1,s||t.call(r)},d=function(k){t.call(r,k?new Error("exited with error code: "+k):null)},f=function(k){t.call(r,k)},y=function(){process.nextTick(b)},b=function(){if(!a){if(o&&!(i&&i.ended&&!i.destroyed))return t.call(r,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return t.call(r,new Error("premature close"))}},T=function(){r.req.on("finish",u)};return LCt(r)?(r.on("complete",u),r.on("abort",y),r.req?T():r.on("request",T)):s&&!n&&(r.on("end",c),r.on("close",c)),NCt(r)&&r.on("exit",d),r.on("end",l),r.on("finish",u),e.error!==!1&&r.on("error",f),r.on("close",y),function(){a=!0,r.removeListener("complete",u),r.removeListener("abort",y),r.removeListener("request",T),r.req&&r.req.removeListener("finish",u),r.removeListener("end",c),r.removeListener("close",c),r.removeListener("finish",u),r.removeListener("exit",d),r.removeListener("end",l),r.removeListener("error",f),r.removeListener("close",y)}};wMe.exports=_Me});var TMe=P((hYt,DMe)=>{var FCt=pie(),qCt=SMe(),hie=require("fs"),cL=function(){},jCt=/^v?\.0/.test(process.version),a$=function(r){return typeof r=="function"},zCt=function(r){return!jCt||!hie?!1:(r instanceof(hie.ReadStream||cL)||r instanceof(hie.WriteStream||cL))&&a$(r.close)},UCt=function(r){return r.setHeader&&a$(r.abort)},HCt=function(r,e,t,n){n=FCt(n);var i=!1;r.on("close",function(){i=!0}),qCt(r,{readable:e,writable:t},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,zCt(r))return r.close(cL);if(UCt(r))return r.abort();if(a$(r.destroy))return r.destroy();n(s||new Error("stream was destroyed"))}}},CMe=function(r){r()},WCt=function(r,e){return r.pipe(e)},BCt=function(){var r=Array.prototype.slice.call(arguments),e=a$(r[r.length-1]||cL)&&r.pop()||cL;if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Error("pump requires two streams per minimum");var t,n=r.map(function(i,o){var s=o<r.length-1,a=o>0;return HCt(i,s,a,function(c){t||(t=c),c&&n.forEach(CMe),!s&&(n.forEach(CMe),e(t))})});return r.reduce(WCt)};DMe.exports=BCt});var RMe=P((mYt,PMe)=>{"use strict";var{PassThrough:$Ct}=require("stream");PMe.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let o=new $Ct({objectMode:i});t&&o.setEncoding(t);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var xMe=P((gYt,jE)=>{"use strict";var{constants:VCt}=require("buffer"),GCt=TMe(),KCt=RMe(),c$=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function u$(r,e){if(!r)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n;return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=VCt.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};n=GCt(r,KCt(e),a=>{if(a){s(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>t&&s(new c$)})}),n.getBufferedValue()}jE.exports=u$;jE.exports.default=u$;jE.exports.buffer=(r,e)=>u$(r,{...e,encoding:"buffer"});jE.exports.array=(r,e)=>u$(r,{...e,array:!0});jE.exports.MaxBufferError=c$});var OMe=P((vYt,EMe)=>{"use strict";var{PassThrough:YCt}=require("stream");EMe.exports=function(){var r=[],e=new YCt({objectMode:!0});return e.setMaxListeners(0),e.add=t,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(t),e;function t(o){return Array.isArray(o)?(o.forEach(t),this):(r.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return r.length==0}function i(o){r=r.filter(function(s){return s!==o}),!r.length&&e.readable&&e.end()}}});var MMe=P((yYt,AMe)=>{"use strict";var kMe=hMe(),IMe=xMe(),JCt=OMe(),XCt=(r,e)=>{e===void 0||r.stdin===void 0||(kMe(e)?e.pipe(r.stdin):r.stdin.end(e))},QCt=(r,{all:e})=>{if(!e||!r.stdout&&!r.stderr)return;let t=JCt();return r.stdout&&t.add(r.stdout),r.stderr&&t.add(r.stderr),t},mie=async(r,e)=>{if(r){r.destroy();try{return await e}catch(t){return t.bufferedData}}},gie=(r,{encoding:e,buffer:t,maxBuffer:n})=>{if(!(!r||!t))return e?IMe(r,{encoding:e,maxBuffer:n}):IMe.buffer(r,{maxBuffer:n})},ZCt=async({stdout:r,stderr:e,all:t},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=gie(r,{encoding:n,buffer:i,maxBuffer:o}),c=gie(e,{encoding:n,buffer:i,maxBuffer:o}),u=gie(t,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,c,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},mie(r,a),mie(e,c),mie(t,u)])}},eDt=({input:r})=>{if(kMe(r))throw new TypeError("The `input` option cannot be a stream in sync mode")};AMe.exports={handleInput:XCt,makeAllStream:QCt,getSpawnedResult:ZCt,validateInputSync:eDt}});var NMe=P((bYt,LMe)=>{"use strict";var vie=(r,e,t)=>{let n=typeof e=="function"?(...i)=>e()[t](...i):e[t].bind(e);Object.defineProperty(r,t,{value:n,writable:!0,enumerable:!1,configurable:!0})},tDt=(r,e)=>(vie(r,e,"then"),vie(r,e,"catch"),vie(r,e,"finally"),r),rDt=r=>new Promise((e,t)=>{r.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),r.on("error",n=>{t(n)}),r.stdin&&r.stdin.on("error",n=>{t(n)})});LMe.exports={mergePromise:tDt,getSpawnedPromise:rDt}});var qMe=P((_Yt,FMe)=>{"use strict";var nDt=/ +/g,iDt=(r,e=[])=>Array.isArray(e)?[r,...e].join(" "):r,oDt=(r,e,t)=>{if(t===0)return[e];let n=r[r.length-1];return n.endsWith("\\")?[...r.slice(0,-1),`${n.slice(0,-1)} ${e}`]:[...r,e]},sDt=r=>r.trim().split(nDt).reduce(oDt,[]);FMe.exports={joinCommand:iDt,parseCommand:sDt}});var $Me=P((wYt,zE)=>{"use strict";var aDt=require("path"),yie=require("child_process"),zMe=FAe(),cDt=jAe(),uDt=BAe(),lDt=KAe(),l$=rMe(),UMe=iMe(),{spawnedKill:dDt,spawnedCancel:fDt,setupTimeout:pDt,setExitHandler:hDt}=fMe(),{handleInput:mDt,getSpawnedResult:gDt,makeAllStream:vDt,validateInputSync:yDt}=MMe(),{mergePromise:jMe,getSpawnedPromise:bDt}=NMe(),{joinCommand:HMe,parseCommand:WMe}=qMe(),_Dt=1e3*1e3*100,wDt=({env:r,extendEnv:e,preferLocal:t,localDir:n,execPath:i})=>{let o=e?{...process.env,...r}:r;return t?uDt.env({env:o,cwd:n,execPath:i}):o},BMe=(r,e,t={})=>{let n=zMe._parse(r,e,t);return r=n.command,e=n.args,t=n.options,t={maxBuffer:_Dt,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:t.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...t},t.env=wDt(t),t.stdio=UMe(t),process.platform==="win32"&&aDt.basename(r,".exe")==="cmd"&&e.unshift("/q"),{file:r,args:e,options:t,parsed:n}},uL=(r,e,t)=>typeof e!="string"&&!Buffer.isBuffer(e)?t===void 0?void 0:"":r.stripFinalNewline?cDt(e):e,d$=(r,e,t)=>{let n=BMe(r,e,t),i=HMe(r,e),o;try{o=yie.spawn(n.file,n.args,n.options)}catch(f){let y=new yie.ChildProcess,b=Promise.reject(l$({error:f,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return jMe(y,b)}let s=bDt(o),a=pDt(o,n.options,s),c=hDt(o,n.options,a),u={isCanceled:!1};o.kill=dDt.bind(null,o.kill.bind(o)),o.cancel=fDt.bind(null,o,u);let d=lDt(async()=>{let[{error:f,exitCode:y,signal:b,timedOut:T},k,z,A]=await gDt(o,n.options,c),U=uL(n.options,k),ne=uL(n.options,z),de=uL(n.options,A);if(f||y!==0||b!==null){let ve=l$({error:f,exitCode:y,signal:b,stdout:U,stderr:ne,all:de,command:i,parsed:n,timedOut:T,isCanceled:u.isCanceled,killed:o.killed});if(!n.options.reject)return ve;throw ve}return{command:i,exitCode:0,stdout:U,stderr:ne,all:de,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return zMe._enoent.hookChildProcess(o,n.parsed),mDt(o,n.options.input),o.all=vDt(o,n.options),jMe(o,d)};zE.exports=d$;zE.exports.sync=(r,e,t)=>{let n=BMe(r,e,t),i=HMe(r,e);yDt(n.options);let o;try{o=yie.spawnSync(n.file,n.args,n.options)}catch(c){throw l$({error:c,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let s=uL(n.options,o.stdout,o.error),a=uL(n.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let c=l$({stdout:s,stderr:a,error:o.error,signal:o.signal,exitCode:o.status,command:i,parsed:n,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!n.options.reject)return c;throw c}return{command:i,exitCode:0,stdout:s,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};zE.exports.command=(r,e)=>{let[t,...n]=WMe(r);return d$(t,n,e)};zE.exports.commandSync=(r,e)=>{let[t,...n]=WMe(r);return d$.sync(t,n,e)};zE.exports.node=(r,e,t={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(t=e,e=[]);let n=UMe.node(t),{nodePath:i=process.execPath,nodeOptions:o=process.execArgv}=t;return d$(i,[...o,r,...Array.isArray(e)?e:[]],{...t,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var sS=P(Jf=>{"use strict";Object.defineProperty(Jf,"__esModule",{value:!0});Jf.findWindowsCandidates=Jf.sort=Jf.preferredEdgePath=Jf.preferredFirefoxPath=Jf.preferredChromePath=Jf.escapeRegexSpecialChars=Jf.canAccess=void 0;var SDt=require("path");async function lL({access:r},e){if(!e)return!1;try{return await r(e),!0}catch{return!1}}Jf.canAccess=lL;var CDt="/\\.?*()^${}|[]+";function DDt(r,e){let t=CDt.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${t}]`,"g");return r.replace(n,"\\$&")}Jf.escapeRegexSpecialChars=DDt;async function TDt(r,e){if(await lL(r,e.CHROME_PATH))return e.CHROME_PATH}Jf.preferredChromePath=TDt;async function PDt(r,e){if(await lL(r,e.FIREFOX_PATH))return e.FIREFOX_PATH}Jf.preferredFirefoxPath=PDt;async function RDt(r,e){if(await lL(r,e.EDGE_PATH))return e.EDGE_PATH}Jf.preferredEdgePath=RDt;function xDt(r,e){return[...r].filter(n=>!!n).map(n=>{let i=e.find(o=>o.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}Jf.sort=xDt;async function EDt(r,e,t){let n=[r.LOCALAPPDATA,r.PROGRAMFILES,r["PROGRAMFILES(X86)"]].filter(o=>!!o),i=[];for(let o of n)for(let s of t){let a=SDt.win32.join(o,s.name);i.push(lL(e,a).then(c=>c?{path:a,quality:s.type}:void 0))}return(await Promise.all(i)).filter(o=>!!o)}Jf.findWindowsCandidates=EDt});var p$=P(f$=>{"use strict";Object.defineProperty(f$,"__esModule",{value:!0});f$.DarwinFinderBase=void 0;var ODt=require("path"),IDt=require("fs"),bie=sS(),VMe=/( \(0x[a-f0-9]+\))/,_ie=class{constructor(e=process.env,t=IDt.promises,n=n){this.env=e,this.fs=t,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let t of this.wellKnownPaths)if(e(t)&&await(0,bie.canAccess)(this.fs,t.path))return t;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,t,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${VMe.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),o=[...t,...i.split(`
`).map(c=>c.trim().replace(VMe,""))].filter(c=>!!c),s=this.getPreferredPath();s&&o.push(s);let a=new Set;for(let c of o)for(let u of n){let l=ODt.posix.join(c.trim(),u);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let t=this.env.HOME&&(0,bie.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((o,s)=>[...o,{regex:new RegExp(`^/Applications/.*${s.name}`),weight:s.weight+100,quality:s.quality},{regex:new RegExp(`^${t}/Applications/.*${s.name}`),weight:s.weight,quality:s.quality},{regex:new RegExp(`^/Volumes/.*${s.name}`),weight:s.weight-100,quality:s.quality}],[]);return n&&i.unshift({regex:new RegExp((0,bie.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};f$.DarwinFinderBase=_ie});var GMe=P(h$=>{"use strict";Object.defineProperty(h$,"__esModule",{value:!0});h$.DarwinChromeBrowserFinder=void 0;var kDt=sS(),ADt=p$(),wie=class extends ADt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],t=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",t,e);return(0,kDt.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};h$.DarwinChromeBrowserFinder=wie});var KMe=P(m$=>{"use strict";Object.defineProperty(m$,"__esModule",{value:!0});m$.DarwinEdgeBrowserFinder=void 0;var MDt=sS(),LDt=p$(),Sie=class extends LDt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],t=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",t,e);return(0,MDt.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};m$.DarwinEdgeBrowserFinder=Sie});var YMe=P(g$=>{"use strict";Object.defineProperty(g$,"__esModule",{value:!0});g$.DarwinFirefoxBrowserFinder=void 0;var NDt=sS(),FDt=p$(),Cie=class extends FDt.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Firefox.app/Contents/MacOS/firefox",quality:"stable"},{path:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",quality:"dev"},{path:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",quality:"canary"}]}async findAllInner(){let e=["/Contents/MacOS/firefox"],t=["/Applications/Firefox.app"],n=await this.findLaunchRegisteredApps("Firefox[A-Za-z ]*.app",t,e);return(0,NDt.sort)(n,this.createPriorities([{name:"Firefox.app",weight:0,quality:"stable"},{name:"Firefox Nightly.app",weight:1,quality:"canary"},{name:"Firefox Developer Edition.app",weight:2,quality:"dev"}]))}getPreferredPath(){return this.env.FIREFOX_PATH}};g$.DarwinFirefoxBrowserFinder=Cie});var y$=P(v$=>{"use strict";Object.defineProperty(v$,"__esModule",{value:!0});v$.LinuxChromeBrowserFinder=void 0;var qDt=require("path"),UE=sS(),Die=require("child_process"),jDt=require("os"),zDt=require("fs"),JMe=/\r?\n/,Tie=class{constructor(e=process.env,t=zDt.promises){this.env=e,this.fs=t,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,t=this.env[this.pathEnvironmentVar];t&&await(0,UE.canAccess)(this.fs,t)&&e.add(t),[qDt.posix.join((0,jDt.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(s=>{for(let a in this.findChromeExecutables(s))e.add(a)}),await Promise.all(this.executablesOnPath.map(async s=>{try{let a=(0,Die.execFileSync)("which",[s],{stdio:"pipe"}).toString().split(JMe)[0];await(0,UE.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let o=t?[{regex:new RegExp((0,UE.escapeRegexSpecialChars)(t)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,UE.sort)(e,o)}async findChromeExecutables(e){let t=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,UE.canAccess)(this.fs,e)){let o;try{o=(0,Die.execSync)(`grep -ER "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{o=(0,Die.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let s=o.toString().split(JMe).map(a=>a.replace(t,"$1"));await Promise.all(s.map(async a=>{await(0,UE.canAccess)(this.fs,a)&&i.push(a)}))}return i}};v$.LinuxChromeBrowserFinder=Tie});var XMe=P(b$=>{"use strict";Object.defineProperty(b$,"__esModule",{value:!0});b$.LinuxEdgeBrowserFinder=void 0;var UDt=y$(),Pie=class extends UDt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};b$.LinuxEdgeBrowserFinder=Pie});var QMe=P(_$=>{"use strict";Object.defineProperty(_$,"__esModule",{value:!0});_$.LinuxFirefoxBrowserFinder=void 0;var HDt=y$(),Rie=class extends HDt.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="FIREFOX_PATH",this.executablesOnPath=["firefox-aurora","firefox-dev","firefox-developer","firefox-trunk","firefox-nightly","firefox"],this.priorities=[{regex:/firefox\-aurora$/,weight:51,quality:"dev"},{regex:/firefox\-dev$/,weight:51,quality:"dev"},{regex:/firefox\-developer$/,weight:51,quality:"dev"},{regex:/firefox\-trunk'$/,weight:50,quality:"canary"},{regex:/firefox\-nightly'$/,weight:50,quality:"canary"},{regex:/firefox$/,weight:49,quality:"stable"}]}};_$.LinuxFirefoxBrowserFinder=Rie});var eLe=P(w$=>{"use strict";Object.defineProperty(w$,"__esModule",{value:!0});w$.WindowsChromeBrowserFinder=void 0;var WDt=require("path"),ZMe=sS(),BDt=require("fs"),xie=class{constructor(e=process.env,t=BDt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=WDt.win32.sep,t=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,ZMe.findWindowsCandidates)(this.env,this.fs,t),i=await(0,ZMe.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};w$.WindowsChromeBrowserFinder=xie});var rLe=P(S$=>{"use strict";Object.defineProperty(S$,"__esModule",{value:!0});S$.WindowsEdgeBrowserFinder=void 0;var Xf=require("path"),$Dt=require("fs"),tLe=sS(),Eie=class{constructor(e=process.env,t=$Dt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${Xf.sep}Microsoft${Xf.sep}Edge SxS${Xf.sep}Application${Xf.sep}msedge.exe`,type:"canary"},{name:`${Xf.sep}Microsoft${Xf.sep}Edge Dev${Xf.sep}Application${Xf.sep}msedge.exe`,type:"dev"},{name:`${Xf.sep}Microsoft${Xf.sep}Edge Beta${Xf.sep}Application${Xf.sep}msedge.exe`,type:"beta"},{name:`${Xf.sep}Microsoft${Xf.sep}Edge${Xf.sep}Application${Xf.sep}msedge.exe`,type:"stable"}],t=await(0,tLe.findWindowsCandidates)(this.env,this.fs,e),n=await(0,tLe.preferredEdgePath)(this.fs,this.env);return n&&t.unshift({path:n,quality:"custom"}),t}};S$.WindowsEdgeBrowserFinder=Eie});var iLe=P(C$=>{"use strict";Object.defineProperty(C$,"__esModule",{value:!0});C$.WindowsFirefoxBrowserFinder=void 0;var VDt=require("path"),nLe=sS(),GDt=require("fs"),Oie=class{constructor(e=process.env,t=GDt.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=VDt.win32.sep,t=[{name:`${e}Firefox Developer Edition${e}firefox.exe`,type:"dev"},{name:`${e}Firefox Nightly${e}firefox.exe`,type:"canary"},{name:`${e}Mozilla Firefox${e}firefox.exe`,type:"stable"}],n=await(0,nLe.findWindowsCandidates)(this.env,this.fs,t),i=await(0,nLe.preferredFirefoxPath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};C$.WindowsFirefoxBrowserFinder=Oie});var oLe=P(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.FirefoxBrowserFinder=ag.EdgeBrowserFinder=ag.ChromeBrowserFinder=ag.isQuality=ag.allQualities=void 0;var KDt=GMe(),YDt=KMe(),JDt=YMe(),XDt=y$(),QDt=XMe(),ZDt=QMe(),eTt=eLe(),tTt=rLe(),rTt=iLe(),nTt={canary:null,stable:null,beta:null,dev:null,custom:null};ag.allQualities=new Set(Object.keys(nTt));var iTt=r=>ag.allQualities.has(r);ag.isQuality=iTt;ag.ChromeBrowserFinder=process.platform==="win32"?eTt.WindowsChromeBrowserFinder:process.platform==="darwin"?KDt.DarwinChromeBrowserFinder:XDt.LinuxChromeBrowserFinder;ag.EdgeBrowserFinder=process.platform==="win32"?tTt.WindowsEdgeBrowserFinder:process.platform==="darwin"?YDt.DarwinEdgeBrowserFinder:QDt.LinuxEdgeBrowserFinder;ag.FirefoxBrowserFinder=process.platform==="win32"?rTt.WindowsFirefoxBrowserFinder:process.platform==="darwin"?JDt.DarwinFirefoxBrowserFinder:ZDt.LinuxFirefoxBrowserFinder});var rD=P(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});Jd.PIPE_NAME_PREFIX=Jd.availabilityChangedEvent=Jd.RemoteServiceConnections=Jd.MessageDelimiters=Jd.Formatters=void 0;var vTt;(function(r){r[r.Utf8=0]="Utf8",r[r.MessagePack=1]="MessagePack"})(vTt=Jd.Formatters||(Jd.Formatters={}));var yTt;(function(r){r[r.HttpLikeHeaders=0]="HttpLikeHeaders",r[r.BigEndianInt32LengthHeader=1]="BigEndianInt32LengthHeader"})(yTt=Jd.MessageDelimiters||(Jd.MessageDelimiters={}));var _Le;(function(r){r[r.None=0]="None",r[r.Multiplexing=1]="Multiplexing",r[r.IpcPipe=2]="IpcPipe",r[r.ClrActivation=8]="ClrActivation"})(_Le=Jd.RemoteServiceConnections||(Jd.RemoteServiceConnections={}));(function(r){function e(n,i){return typeof n=="string"&&(n=t(n)),(n&i)===i}r.contains=e;function t(n){let i=r.None;for(let o of n.split(","))switch(o.trim()){case"None":break;case"Multiplexing":i|=r.Multiplexing;break;case"IpcPipe":i|=r.IpcPipe;break;case"ClrActivation":i|=r.ClrActivation;break;default:throw new Error(`unrecognized element '${o.trim()}'.`)}return i}r.parse=t})(_Le=Jd.RemoteServiceConnections||(Jd.RemoteServiceConnections={}));Jd.availabilityChangedEvent="availabilityChanged";Jd.PIPE_NAME_PREFIX=process.platform==="win32"?"\\\\.\\pipe\\":"/tmp/"});var $E=P(Qf=>{"use strict";Object.defineProperty(Qf,"__esModule",{value:!0});Qf.stringArray=Qf.array=Qf.func=Qf.error=Qf.number=Qf.string=Qf.boolean=void 0;function bTt(r){return r===!0||r===!1}Qf.boolean=bTt;function wLe(r){return typeof r=="string"||r instanceof String}Qf.string=wLe;function _Tt(r){return typeof r=="number"||r instanceof Number}Qf.number=_Tt;function wTt(r){return r instanceof Error}Qf.error=wTt;function STt(r){return typeof r=="function"}Qf.func=STt;function SLe(r){return Array.isArray(r)}Qf.array=SLe;function CTt(r){return SLe(r)&&r.every(e=>wLe(e))}Qf.stringArray=CTt});var Coe=P(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.Message=Rn.NotificationType9=Rn.NotificationType8=Rn.NotificationType7=Rn.NotificationType6=Rn.NotificationType5=Rn.NotificationType4=Rn.NotificationType3=Rn.NotificationType2=Rn.NotificationType1=Rn.NotificationType0=Rn.NotificationType=Rn.RequestType9=Rn.RequestType8=Rn.RequestType7=Rn.RequestType6=Rn.RequestType5=Rn.RequestType4=Rn.RequestType3=Rn.RequestType2=Rn.RequestType1=Rn.RequestType=Rn.RequestType0=Rn.AbstractMessageSignature=Rn.ParameterStructures=Rn.ResponseError=Rn.ErrorCodes=void 0;var l0=$E(),CLe;(function(r){r.ParseError=-32700,r.InvalidRequest=-32600,r.MethodNotFound=-32601,r.InvalidParams=-32602,r.InternalError=-32603,r.jsonrpcReservedErrorRangeStart=-32099,r.serverErrorStart=-32099,r.MessageWriteError=-32099,r.MessageReadError=-32098,r.PendingResponseRejected=-32097,r.ConnectionInactive=-32096,r.ServerNotInitialized=-32002,r.UnknownErrorCode=-32001,r.jsonrpcReservedErrorRangeEnd=-32e3,r.serverErrorEnd=-32e3})(CLe=Rn.ErrorCodes||(Rn.ErrorCodes={}));var eoe=class r extends Error{constructor(e,t,n){super(t),this.code=l0.number(e)?e:CLe.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,r.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Rn.ResponseError=eoe;var rm=class r{constructor(e){this.kind=e}static is(e){return e===r.auto||e===r.byName||e===r.byPosition}toString(){return this.kind}};Rn.ParameterStructures=rm;rm.auto=new rm("auto");rm.byPosition=new rm("byPosition");rm.byName=new rm("byName");var ja=class{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return rm.auto}};Rn.AbstractMessageSignature=ja;var toe=class extends ja{constructor(e){super(e,0)}};Rn.RequestType0=toe;var roe=class extends ja{constructor(e,t=rm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.RequestType=roe;var noe=class extends ja{constructor(e,t=rm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.RequestType1=noe;var ioe=class extends ja{constructor(e){super(e,2)}};Rn.RequestType2=ioe;var ooe=class extends ja{constructor(e){super(e,3)}};Rn.RequestType3=ooe;var soe=class extends ja{constructor(e){super(e,4)}};Rn.RequestType4=soe;var aoe=class extends ja{constructor(e){super(e,5)}};Rn.RequestType5=aoe;var coe=class extends ja{constructor(e){super(e,6)}};Rn.RequestType6=coe;var uoe=class extends ja{constructor(e){super(e,7)}};Rn.RequestType7=uoe;var loe=class extends ja{constructor(e){super(e,8)}};Rn.RequestType8=loe;var doe=class extends ja{constructor(e){super(e,9)}};Rn.RequestType9=doe;var foe=class extends ja{constructor(e,t=rm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.NotificationType=foe;var poe=class extends ja{constructor(e){super(e,0)}};Rn.NotificationType0=poe;var hoe=class extends ja{constructor(e,t=rm.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}};Rn.NotificationType1=hoe;var moe=class extends ja{constructor(e){super(e,2)}};Rn.NotificationType2=moe;var goe=class extends ja{constructor(e){super(e,3)}};Rn.NotificationType3=goe;var voe=class extends ja{constructor(e){super(e,4)}};Rn.NotificationType4=voe;var yoe=class extends ja{constructor(e){super(e,5)}};Rn.NotificationType5=yoe;var boe=class extends ja{constructor(e){super(e,6)}};Rn.NotificationType6=boe;var _oe=class extends ja{constructor(e){super(e,7)}};Rn.NotificationType7=_oe;var woe=class extends ja{constructor(e){super(e,8)}};Rn.NotificationType8=woe;var Soe=class extends ja{constructor(e){super(e,9)}};Rn.NotificationType9=Soe;var DTt;(function(r){function e(i){let o=i;return o&&l0.string(o.method)&&(l0.string(o.id)||l0.number(o.id))}r.isRequest=e;function t(i){let o=i;return o&&l0.string(o.method)&&i.id===void 0}r.isNotification=t;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(l0.string(o.id)||l0.number(o.id)||o.id===null)}r.isResponse=n})(DTt=Rn.Message||(Rn.Message={}))});var Toe=P(uS=>{"use strict";var DLe;Object.defineProperty(uS,"__esModule",{value:!0});uS.LRUCache=uS.LinkedMap=uS.Touch=void 0;var eh;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(eh=uS.Touch||(uS.Touch={}));var k$=class{constructor(){this[DLe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=eh.None){let n=this._map.get(e);if(n)return t!==eh.None&&this.touch(n,t),n.value}set(e,t,n=eh.None){let i=this._map.get(e);if(i)i.value=t,n!==eh.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case eh.None:this.addItemLast(i);break;case eh.First:this.addItemFirst(i);break;case eh.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,t=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return{value:void 0,done:!0}}};return n}[(DLe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==eh.First&&t!==eh.Last)){if(t===eh.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===eh.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(let[t,n]of e)this.set(t,n)}};uS.LinkedMap=k$;var Doe=class extends k${constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=eh.AsNew){return super.get(e,t)}peek(e){return super.get(e,eh.None)}set(e,t){return super.set(e,t,eh.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};uS.LRUCache=Doe});var TLe=P(gL=>{"use strict";Object.defineProperty(gL,"__esModule",{value:!0});gL.Disposable=void 0;var TTt;(function(r){function e(t){return{dispose:t}}r.create=e})(TTt=gL.Disposable||(gL.Disposable={}))});var nD=P(xoe=>{"use strict";Object.defineProperty(xoe,"__esModule",{value:!0});var Poe;function Roe(){if(Poe===void 0)throw new Error("No runtime abstraction layer installed");return Poe}(function(r){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");Poe=t}r.install=e})(Roe||(Roe={}));xoe.default=Roe});var VE=P(d0=>{"use strict";Object.defineProperty(d0,"__esModule",{value:!0});d0.Emitter=d0.Event=void 0;var PTt=nD(),RTt;(function(r){let e={dispose(){}};r.None=function(){return e}})(RTt=d0.Event||(d0.Event={}));var Eoe=class{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{t.push(n[o].apply(i[o],e))}catch(a){(0,PTt.default)().console.error(a)}return t}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},A$=class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new Eoe),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};d0.Emitter=A$;A$._noop=function(){}});var L$=P(f0=>{"use strict";Object.defineProperty(f0,"__esModule",{value:!0});f0.CancellationTokenSource=f0.CancellationToken=void 0;var xTt=nD(),ETt=$E(),Ooe=VE(),Ioe;(function(r){r.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Ooe.Event.None}),r.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Ooe.Event.None});function e(t){let n=t;return n&&(n===r.None||n===r.Cancelled||ETt.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}r.is=e})(Ioe=f0.CancellationToken||(f0.CancellationToken={}));var OTt=Object.freeze(function(r,e){let t=(0,xTt.default)().timer.setTimeout(r.bind(e),0);return{dispose(){t.dispose()}}}),M$=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?OTt:(this._emitter||(this._emitter=new Ooe.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},koe=class{get token(){return this._token||(this._token=new M$),this._token}cancel(){this._token?this._token.cancel():this._token=Ioe.Cancelled}dispose(){this._token?this._token instanceof M$&&this._token.dispose():this._token=Ioe.None}};f0.CancellationTokenSource=koe});var PLe=P(GE=>{"use strict";Object.defineProperty(GE,"__esModule",{value:!0});GE.SharedArrayReceiverStrategy=GE.SharedArraySenderStrategy=void 0;var ITt=L$(),vL;(function(r){r.Continue=0,r.Cancelled=1})(vL||(vL={}));var Aoe=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),n=new Int32Array(t,0,1);n[0]=vL.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){let n=this.buffers.get(t);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,vL.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};GE.SharedArraySenderStrategy=Aoe;var Moe=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===vL.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},Loe=class{constructor(e){this.token=new Moe(e)}cancel(){}dispose(){}},Noe=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new ITt.CancellationTokenSource:new Loe(t)}};GE.SharedArrayReceiverStrategy=Noe});var qoe=P(N$=>{"use strict";Object.defineProperty(N$,"__esModule",{value:!0});N$.Semaphore=void 0;var kTt=nD(),Foe=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,kTt.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};N$.Semaphore=Foe});var RLe=P(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});lS.ReadableStreamMessageReader=lS.AbstractMessageReader=lS.MessageReader=void 0;var zoe=nD(),KE=$E(),joe=VE(),ATt=qoe(),MTt;(function(r){function e(t){let n=t;return n&&KE.func(n.listen)&&KE.func(n.dispose)&&KE.func(n.onError)&&KE.func(n.onClose)&&KE.func(n.onPartialMessage)}r.is=e})(MTt=lS.MessageReader||(lS.MessageReader={}));var F$=class{constructor(){this.errorEmitter=new joe.Emitter,this.closeEmitter=new joe.Emitter,this.partialMessageEmitter=new joe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${KE.string(e.message)?e.message:"unknown"}`)}};lS.AbstractMessageReader=F$;var Uoe;(function(r){function e(t){let n,i,o,s=new Map,a,c=new Map;if(t===void 0||typeof t=="string")n=t??"utf-8";else{if(n=t.charset??"utf-8",t.contentDecoder!==void 0&&(o=t.contentDecoder,s.set(o.name,o)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)s.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,zoe.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r.fromOptions=e})(Uoe||(Uoe={}));var Hoe=class extends F${constructor(e,t){super(),this.readable=e,this.options=Uoe.fromOptions(t),this.buffer=(0,zoe.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new ATt.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),t}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=o}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,zoe.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};lS.ReadableStreamMessageReader=Hoe});var ILe=P(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});dS.WriteableStreamMessageWriter=dS.AbstractMessageWriter=dS.MessageWriter=void 0;var xLe=nD(),yL=$E(),LTt=qoe(),ELe=VE(),NTt="Content-Length: ",OLe=`\r
`,FTt;(function(r){function e(t){let n=t;return n&&yL.func(n.dispose)&&yL.func(n.onClose)&&yL.func(n.onError)&&yL.func(n.write)}r.is=e})(FTt=dS.MessageWriter||(dS.MessageWriter={}));var q$=class{constructor(){this.errorEmitter=new ELe.Emitter,this.closeEmitter=new ELe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${yL.string(e.message)?e.message:"unknown"}`)}};dS.AbstractMessageWriter=q$;var Woe;(function(r){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0,xLe.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0,xLe.default)().applicationJson.encoder}}r.fromOptions=e})(Woe||(Woe={}));var Boe=class extends q${constructor(e,t){super(),this.writable=e,this.options=Woe.fromOptions(t),this.errorCount=0,this.writeSemaphore=new LTt.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(NTt,n.byteLength.toString(),OLe),i.push(OLe),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}};dS.WriteableStreamMessageWriter=Boe});var kLe=P(j$=>{"use strict";Object.defineProperty(j$,"__esModule",{value:!0});j$.AbstractMessageBuffer=void 0;var qTt=13,jTt=10,zTt=`\r
`,$oe=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case qTt:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case jTt:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}o+=u.byteLength,n++}if(t!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(zTt);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let l=c[u],d=l.indexOf(":");if(d===-1)throw new Error("Message header must separate key and value using :");let f=l.substr(0,d),y=l.substr(d+1).trim();a.set(e?f.toLowerCase():f,y)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let t=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);t.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else t.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return t}};j$.AbstractMessageBuffer=$oe});var jLe=P(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.createMessageConnection=bn.ConnectionOptions=bn.MessageStrategy=bn.CancellationStrategy=bn.CancellationSenderStrategy=bn.CancellationReceiverStrategy=bn.RequestCancellationReceiverStrategy=bn.IdCancellationReceiverStrategy=bn.ConnectionStrategy=bn.ConnectionError=bn.ConnectionErrors=bn.LogTraceNotification=bn.SetTraceNotification=bn.TraceFormat=bn.TraceValues=bn.Trace=bn.NullLogger=bn.ProgressType=bn.ProgressToken=void 0;var ALe=nD(),jc=$E(),bi=Coe(),MLe=Toe(),bL=VE(),Voe=L$(),wL;(function(r){r.type=new bi.NotificationType("$/cancelRequest")})(wL||(wL={}));var LLe;(function(r){function e(t){return typeof t=="string"||typeof t=="number"}r.is=e})(LLe=bn.ProgressToken||(bn.ProgressToken={}));var _L;(function(r){r.type=new bi.NotificationType("$/progress")})(_L||(_L={}));var Goe=class{constructor(){}};bn.ProgressType=Goe;var Koe;(function(r){function e(t){return jc.func(t)}r.is=e})(Koe||(Koe={}));bn.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ms;(function(r){r[r.Off=0]="Off",r[r.Messages=1]="Messages",r[r.Compact=2]="Compact",r[r.Verbose=3]="Verbose"})(Ms=bn.Trace||(bn.Trace={}));var UTt;(function(r){r.Off="off",r.Messages="messages",r.Compact="compact",r.Verbose="verbose"})(UTt=bn.TraceValues||(bn.TraceValues={}));(function(r){function e(n){if(!jc.string(n))return r.Off;switch(n=n.toLowerCase(),n){case"off":return r.Off;case"messages":return r.Messages;case"compact":return r.Compact;case"verbose":return r.Verbose;default:return r.Off}}r.fromString=e;function t(n){switch(n){case r.Off:return"off";case r.Messages:return"messages";case r.Compact:return"compact";case r.Verbose:return"verbose";default:return"off"}}r.toString=t})(Ms=bn.Trace||(bn.Trace={}));var qy;(function(r){r.Text="text",r.JSON="json"})(qy=bn.TraceFormat||(bn.TraceFormat={}));(function(r){function e(t){return jc.string(t)?(t=t.toLowerCase(),t==="json"?r.JSON:r.Text):r.Text}r.fromString=e})(qy=bn.TraceFormat||(bn.TraceFormat={}));var NLe;(function(r){r.type=new bi.NotificationType("$/setTrace")})(NLe=bn.SetTraceNotification||(bn.SetTraceNotification={}));var Yoe;(function(r){r.type=new bi.NotificationType("$/logTrace")})(Yoe=bn.LogTraceNotification||(bn.LogTraceNotification={}));var z$;(function(r){r[r.Closed=1]="Closed",r[r.Disposed=2]="Disposed",r[r.AlreadyListening=3]="AlreadyListening"})(z$=bn.ConnectionErrors||(bn.ConnectionErrors={}));var YE=class r extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,r.prototype)}};bn.ConnectionError=YE;var FLe;(function(r){function e(t){let n=t;return n&&jc.func(n.cancelUndispatched)}r.is=e})(FLe=bn.ConnectionStrategy||(bn.ConnectionStrategy={}));var Qoe;(function(r){function e(t){let n=t;return n&&(n.kind===void 0||n.kind==="id")&&jc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||jc.func(n.dispose))}r.is=e})(Qoe=bn.IdCancellationReceiverStrategy||(bn.IdCancellationReceiverStrategy={}));var qLe;(function(r){function e(t){let n=t;return n&&n.kind==="request"&&jc.func(n.createCancellationTokenSource)&&(n.dispose===void 0||jc.func(n.dispose))}r.is=e})(qLe=bn.RequestCancellationReceiverStrategy||(bn.RequestCancellationReceiverStrategy={}));var Joe;(function(r){r.Message=Object.freeze({createCancellationTokenSource(t){return new Voe.CancellationTokenSource}});function e(t){return Qoe.is(t)||qLe.is(t)}r.is=e})(Joe=bn.CancellationReceiverStrategy||(bn.CancellationReceiverStrategy={}));var Xoe;(function(r){r.Message=Object.freeze({sendCancellation(t,n){return t.sendNotification(wL.type,{id:n})},cleanup(t){}});function e(t){let n=t;return n&&jc.func(n.sendCancellation)&&jc.func(n.cleanup)}r.is=e})(Xoe=bn.CancellationSenderStrategy||(bn.CancellationSenderStrategy={}));var Zoe;(function(r){r.Message=Object.freeze({receiver:Joe.Message,sender:Xoe.Message});function e(t){let n=t;return n&&Joe.is(n.receiver)&&Xoe.is(n.sender)}r.is=e})(Zoe=bn.CancellationStrategy||(bn.CancellationStrategy={}));var ese;(function(r){function e(t){let n=t;return n&&jc.func(n.handleMessage)}r.is=e})(ese=bn.MessageStrategy||(bn.MessageStrategy={}));var HTt;(function(r){function e(t){let n=t;return n&&(Zoe.is(n.cancellationStrategy)||FLe.is(n.connectionStrategy)||ese.is(n.messageStrategy))}r.is=e})(HTt=bn.ConnectionOptions||(bn.ConnectionOptions={}));var jy;(function(r){r[r.New=1]="New",r[r.Listening=2]="Listening",r[r.Closed=3]="Closed",r[r.Disposed=4]="Disposed"})(jy||(jy={}));function WTt(r,e,t,n){let i=t!==void 0?t:bn.NullLogger,o=0,s=0,a=0,c="2.0",u,l=new Map,d,f=new Map,y=new Map,b,T=new MLe.LinkedMap,k=new Map,z=new Set,A=new Map,U=Ms.Off,ne=qy.Text,de,ve=jy.New,$=new bL.Emitter,W=new bL.Emitter,ee=new bL.Emitter,Pe=new bL.Emitter,se=new bL.Emitter,ue=n&&n.cancellationStrategy?n.cancellationStrategy:Zoe.Message;function Fe(oe){if(oe===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+oe.toString()}function Le(oe){return oe===null?"res-unknown-"+(++a).toString():"res-"+oe.toString()}function ce(){return"not-"+(++s).toString()}function Ce(oe,Q){bi.Message.isRequest(Q)?oe.set(Fe(Q.id),Q):bi.Message.isResponse(Q)?oe.set(Le(Q.id),Q):oe.set(ce(),Q)}function we(oe){}function Ee(){return ve===jy.Listening}function Ne(){return ve===jy.Closed}function $e(){return ve===jy.Disposed}function Ct(){(ve===jy.New||ve===jy.Listening)&&(ve=jy.Closed,W.fire(void 0))}function ze(oe){$.fire([oe,void 0,void 0])}function st(oe){$.fire(oe)}r.onClose(Ct),r.onError(ze),e.onClose(Ct),e.onError(st);function at(){b||T.size===0||(b=(0,ALe.default)().timer.setImmediate(()=>{b=void 0,pr()}))}function tt(oe){bi.Message.isRequest(oe)?jr(oe):bi.Message.isNotification(oe)?Et(oe):bi.Message.isResponse(oe)?lr(oe):hr(oe)}function pr(){if(T.size===0)return;let oe=T.shift();try{let Q=n?.messageStrategy;ese.is(Q)?Q.handleMessage(oe,tt):tt(oe)}finally{at()}}let Ar=oe=>{try{if(bi.Message.isNotification(oe)&&oe.method===wL.type.method){let Q=oe.params.id,_e=Fe(Q),Ke=T.get(_e);if(bi.Message.isRequest(Ke)){let Jt=n?.connectionStrategy,nr=Jt&&Jt.cancelUndispatched?Jt.cancelUndispatched(Ke,we):void 0;if(nr&&(nr.error!==void 0||nr.result!==void 0)){T.delete(_e),A.delete(Q),nr.id=Ke.id,En(nr,oe.method,Date.now()),e.write(nr).catch(()=>i.error("Sending response for canceled message failed."));return}}let ft=A.get(Q);if(ft!==void 0){ft.cancel(),Un(oe);return}else z.add(Q)}Ce(T,oe)}finally{at()}};function jr(oe){if($e())return;function Q(Vt,kt,K){let qe={jsonrpc:c,id:oe.id};Vt instanceof bi.ResponseError?qe.error=Vt.toJson():qe.result=Vt===void 0?null:Vt,En(qe,kt,K),e.write(qe).catch(()=>i.error("Sending response failed."))}function _e(Vt,kt,K){let qe={jsonrpc:c,id:oe.id,error:Vt.toJson()};En(qe,kt,K),e.write(qe).catch(()=>i.error("Sending response failed."))}function Ke(Vt,kt,K){Vt===void 0&&(Vt=null);let qe={jsonrpc:c,id:oe.id,result:Vt};En(qe,kt,K),e.write(qe).catch(()=>i.error("Sending response failed."))}Er(oe);let ft=l.get(oe.method),Jt,nr;ft&&(Jt=ft.type,nr=ft.handler);let Xt=Date.now();if(nr||u){let Vt=oe.id??String(Date.now()),kt=Qoe.is(ue.receiver)?ue.receiver.createCancellationTokenSource(Vt):ue.receiver.createCancellationTokenSource(oe);oe.id!==null&&z.has(oe.id)&&kt.cancel(),oe.id!==null&&A.set(Vt,kt);try{let K;if(nr)if(oe.params===void 0){if(Jt!==void 0&&Jt.numberOfParams!==0){_e(new bi.ResponseError(bi.ErrorCodes.InvalidParams,`Request ${oe.method} defines ${Jt.numberOfParams} params but received none.`),oe.method,Xt);return}K=nr(kt.token)}else if(Array.isArray(oe.params)){if(Jt!==void 0&&Jt.parameterStructures===bi.ParameterStructures.byName){_e(new bi.ResponseError(bi.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by name but received parameters by position`),oe.method,Xt);return}K=nr(...oe.params,kt.token)}else{if(Jt!==void 0&&Jt.parameterStructures===bi.ParameterStructures.byPosition){_e(new bi.ResponseError(bi.ErrorCodes.InvalidParams,`Request ${oe.method} defines parameters by position but received parameters by name`),oe.method,Xt);return}K=nr(oe.params,kt.token)}else u&&(K=u(oe.method,oe.params,kt.token));let qe=K;K?qe.then?qe.then(Wt=>{A.delete(Vt),Q(Wt,oe.method,Xt)},Wt=>{A.delete(Vt),Wt instanceof bi.ResponseError?_e(Wt,oe.method,Xt):Wt&&jc.string(Wt.message)?_e(new bi.ResponseError(bi.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${Wt.message}`),oe.method,Xt):_e(new bi.ResponseError(bi.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Xt)}):(A.delete(Vt),Q(K,oe.method,Xt)):(A.delete(Vt),Ke(K,oe.method,Xt))}catch(K){A.delete(Vt),K instanceof bi.ResponseError?Q(K,oe.method,Xt):K&&jc.string(K.message)?_e(new bi.ResponseError(bi.ErrorCodes.InternalError,`Request ${oe.method} failed with message: ${K.message}`),oe.method,Xt):_e(new bi.ResponseError(bi.ErrorCodes.InternalError,`Request ${oe.method} failed unexpectedly without providing any details.`),oe.method,Xt)}}else _e(new bi.ResponseError(bi.ErrorCodes.MethodNotFound,`Unhandled method ${oe.method}`),oe.method,Xt)}function lr(oe){if(!$e())if(oe.id===null)oe.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(oe.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let Q=oe.id,_e=k.get(Q);if(Br(oe,_e),_e!==void 0){k.delete(Q);try{if(oe.error){let Ke=oe.error;_e.reject(new bi.ResponseError(Ke.code,Ke.message,Ke.data))}else if(oe.result!==void 0)_e.resolve(oe.result);else throw new Error("Should never happen.")}catch(Ke){Ke.message?i.error(`Response handler '${_e.method}' failed with message: ${Ke.message}`):i.error(`Response handler '${_e.method}' failed unexpectedly.`)}}}}function Et(oe){if($e())return;let Q,_e;if(oe.method===wL.type.method){let Ke=oe.params.id;z.delete(Ke),Un(oe);return}else{let Ke=f.get(oe.method);Ke&&(_e=Ke.handler,Q=Ke.type)}if(_e||d)try{if(Un(oe),_e)if(oe.params===void 0)Q!==void 0&&Q.numberOfParams!==0&&Q.parameterStructures!==bi.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received none.`),_e();else if(Array.isArray(oe.params)){let Ke=oe.params;oe.method===_L.type.method&&Ke.length===2&&LLe.is(Ke[0])?_e({token:Ke[0],value:Ke[1]}):(Q!==void 0&&(Q.parameterStructures===bi.ParameterStructures.byName&&i.error(`Notification ${oe.method} defines parameters by name but received parameters by position`),Q.numberOfParams!==oe.params.length&&i.error(`Notification ${oe.method} defines ${Q.numberOfParams} params but received ${Ke.length} arguments`)),_e(...Ke))}else Q!==void 0&&Q.parameterStructures===bi.ParameterStructures.byPosition&&i.error(`Notification ${oe.method} defines parameters by position but received parameters by name`),_e(oe.params);else d&&d(oe.method,oe.params)}catch(Ke){Ke.message?i.error(`Notification handler '${oe.method}' failed with message: ${Ke.message}`):i.error(`Notification handler '${oe.method}' failed unexpectedly.`)}else ee.fire(oe)}function hr(oe){if(!oe){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(oe,null,4)}`);let Q=oe;if(jc.string(Q.id)||jc.number(Q.id)){let _e=Q.id,Ke=k.get(_e);Ke&&Ke.reject(new Error("The received response has neither a result nor an error property."))}}function Lt(oe){if(oe!=null)switch(U){case Ms.Verbose:return JSON.stringify(oe,null,4);case Ms.Compact:return JSON.stringify(oe);default:return}}function on(oe){if(!(U===Ms.Off||!de))if(ne===qy.Text){let Q;(U===Ms.Verbose||U===Ms.Compact)&&oe.params&&(Q=`Params: ${Lt(oe.params)}

`),de.log(`Sending request '${oe.method} - (${oe.id})'.`,Q)}else ln("send-request",oe)}function un(oe){if(!(U===Ms.Off||!de))if(ne===qy.Text){let Q;(U===Ms.Verbose||U===Ms.Compact)&&(oe.params?Q=`Params: ${Lt(oe.params)}

`:Q=`No parameters provided.

`),de.log(`Sending notification '${oe.method}'.`,Q)}else ln("send-notification",oe)}function En(oe,Q,_e){if(!(U===Ms.Off||!de))if(ne===qy.Text){let Ke;(U===Ms.Verbose||U===Ms.Compact)&&(oe.error&&oe.error.data?Ke=`Error data: ${Lt(oe.error.data)}

`:oe.result?Ke=`Result: ${Lt(oe.result)}

`:oe.error===void 0&&(Ke=`No result returned.

`)),de.log(`Sending response '${Q} - (${oe.id})'. Processing request took ${Date.now()-_e}ms`,Ke)}else ln("send-response",oe)}function Er(oe){if(!(U===Ms.Off||!de))if(ne===qy.Text){let Q;(U===Ms.Verbose||U===Ms.Compact)&&oe.params&&(Q=`Params: ${Lt(oe.params)}

`),de.log(`Received request '${oe.method} - (${oe.id})'.`,Q)}else ln("receive-request",oe)}function Un(oe){if(!(U===Ms.Off||!de||oe.method===Yoe.type.method))if(ne===qy.Text){let Q;(U===Ms.Verbose||U===Ms.Compact)&&(oe.params?Q=`Params: ${Lt(oe.params)}

`:Q=`No parameters provided.

`),de.log(`Received notification '${oe.method}'.`,Q)}else ln("receive-notification",oe)}function Br(oe,Q){if(!(U===Ms.Off||!de))if(ne===qy.Text){let _e;if((U===Ms.Verbose||U===Ms.Compact)&&(oe.error&&oe.error.data?_e=`Error data: ${Lt(oe.error.data)}

`:oe.result?_e=`Result: ${Lt(oe.result)}

`:oe.error===void 0&&(_e=`No result returned.

`)),Q){let Ke=oe.error?` Request failed: ${oe.error.message} (${oe.error.code}).`:"";de.log(`Received response '${Q.method} - (${oe.id})' in ${Date.now()-Q.timerStart}ms.${Ke}`,_e)}else de.log(`Received response ${oe.id} without active response promise.`,_e)}else ln("receive-response",oe)}function ln(oe,Q){if(!de||U===Ms.Off)return;let _e={isLSPMessage:!0,type:oe,message:Q,timestamp:Date.now()};de.log(_e)}function ni(){if(Ne())throw new YE(z$.Closed,"Connection is closed.");if($e())throw new YE(z$.Disposed,"Connection is disposed.")}function $r(){if(Ee())throw new YE(z$.AlreadyListening,"Connection is already listening")}function kn(){if(!Ee())throw new Error("Call listen() first.")}function Ei(oe){return oe===void 0?null:oe}function Vr(oe){if(oe!==null)return oe}function Yi(oe){return oe!=null&&!Array.isArray(oe)&&typeof oe=="object"}function ii(oe,Q){switch(oe){case bi.ParameterStructures.auto:return Yi(Q)?Vr(Q):[Ei(Q)];case bi.ParameterStructures.byName:if(!Yi(Q))throw new Error("Received parameters by name but param is not an object literal.");return Vr(Q);case bi.ParameterStructures.byPosition:return[Ei(Q)];default:throw new Error(`Unknown parameter structure ${oe.toString()}`)}}function dn(oe,Q){let _e,Ke=oe.numberOfParams;switch(Ke){case 0:_e=void 0;break;case 1:_e=ii(oe.parameterStructures,Q[0]);break;default:_e=[];for(let ft=0;ft<Q.length&&ft<Ke;ft++)_e.push(Ei(Q[ft]));if(Q.length<Ke)for(let ft=Q.length;ft<Ke;ft++)_e.push(null);break}return _e}let Oe={sendNotification:(oe,...Q)=>{ni();let _e,Ke;if(jc.string(oe)){_e=oe;let Jt=Q[0],nr=0,Xt=bi.ParameterStructures.auto;bi.ParameterStructures.is(Jt)&&(nr=1,Xt=Jt);let Vt=Q.length,kt=Vt-nr;switch(kt){case 0:Ke=void 0;break;case 1:Ke=ii(Xt,Q[nr]);break;default:if(Xt===bi.ParameterStructures.byName)throw new Error(`Received ${kt} parameters for 'by Name' notification parameter structure.`);Ke=Q.slice(nr,Vt).map(K=>Ei(K));break}}else{let Jt=Q;_e=oe.method,Ke=dn(oe,Jt)}let ft={jsonrpc:c,method:_e,params:Ke};return un(ft),e.write(ft).catch(Jt=>{throw i.error("Sending notification failed."),Jt})},onNotification:(oe,Q)=>{ni();let _e;return jc.func(oe)?d=oe:Q&&(jc.string(oe)?(_e=oe,f.set(oe,{type:void 0,handler:Q})):(_e=oe.method,f.set(oe.method,{type:oe,handler:Q}))),{dispose:()=>{_e!==void 0?f.delete(_e):d=void 0}}},onProgress:(oe,Q,_e)=>{if(y.has(Q))throw new Error(`Progress handler for token ${Q} already registered`);return y.set(Q,_e),{dispose:()=>{y.delete(Q)}}},sendProgress:(oe,Q,_e)=>Oe.sendNotification(_L.type,{token:Q,value:_e}),onUnhandledProgress:Pe.event,sendRequest:(oe,...Q)=>{ni(),kn();let _e,Ke,ft;if(jc.string(oe)){_e=oe;let Vt=Q[0],kt=Q[Q.length-1],K=0,qe=bi.ParameterStructures.auto;bi.ParameterStructures.is(Vt)&&(K=1,qe=Vt);let Wt=Q.length;Voe.CancellationToken.is(kt)&&(Wt=Wt-1,ft=kt);let Dr=Wt-K;switch(Dr){case 0:Ke=void 0;break;case 1:Ke=ii(qe,Q[K]);break;default:if(qe===bi.ParameterStructures.byName)throw new Error(`Received ${Dr} parameters for 'by Name' request parameter structure.`);Ke=Q.slice(K,Wt).map(He=>Ei(He));break}}else{let Vt=Q;_e=oe.method,Ke=dn(oe,Vt);let kt=oe.numberOfParams;ft=Voe.CancellationToken.is(Vt[kt])?Vt[kt]:void 0}let Jt=o++,nr;ft&&(nr=ft.onCancellationRequested(()=>{let Vt=ue.sender.sendCancellation(Oe,Jt);return Vt===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${Jt}`),Promise.resolve()):Vt.catch(()=>{i.log(`Sending cancellation messages for id ${Jt} failed`)})}));let Xt={jsonrpc:c,id:Jt,method:_e,params:Ke};return on(Xt),typeof ue.sender.enableCancellation=="function"&&ue.sender.enableCancellation(Xt),new Promise(async(Vt,kt)=>{let K=Dr=>{Vt(Dr),ue.sender.cleanup(Jt),nr?.dispose()},qe=Dr=>{kt(Dr),ue.sender.cleanup(Jt),nr?.dispose()},Wt={method:_e,timerStart:Date.now(),resolve:K,reject:qe};try{await e.write(Xt),k.set(Jt,Wt)}catch(Dr){throw i.error("Sending request failed."),Wt.reject(new bi.ResponseError(bi.ErrorCodes.MessageWriteError,Dr.message?Dr.message:"Unknown reason")),Dr}})},onRequest:(oe,Q)=>{ni();let _e=null;return Koe.is(oe)?(_e=void 0,u=oe):jc.string(oe)?(_e=null,Q!==void 0&&(_e=oe,l.set(oe,{handler:Q,type:void 0}))):Q!==void 0&&(_e=oe.method,l.set(oe.method,{type:oe,handler:Q})),{dispose:()=>{_e!==null&&(_e!==void 0?l.delete(_e):u=void 0)}}},hasPendingResponse:()=>k.size>0,trace:async(oe,Q,_e)=>{let Ke=!1,ft=qy.Text;_e!==void 0&&(jc.boolean(_e)?Ke=_e:(Ke=_e.sendNotification||!1,ft=_e.traceFormat||qy.Text)),U=oe,ne=ft,U===Ms.Off?de=void 0:de=Q,Ke&&!Ne()&&!$e()&&await Oe.sendNotification(NLe.type,{value:Ms.toString(oe)})},onError:$.event,onClose:W.event,onUnhandledNotification:ee.event,onDispose:se.event,end:()=>{e.end()},dispose:()=>{if($e())return;ve=jy.Disposed,se.fire(void 0);let oe=new bi.ResponseError(bi.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let Q of k.values())Q.reject(oe);k=new Map,A=new Map,z=new Set,T=new MLe.LinkedMap,jc.func(e.dispose)&&e.dispose(),jc.func(r.dispose)&&r.dispose()},listen:()=>{ni(),$r(),ve=jy.Listening,r.listen(Ar)},inspect:()=>{(0,ALe.default)().console.log("inspect")}};return Oe.onNotification(Yoe.type,oe=>{if(U===Ms.Off||!de)return;let Q=U===Ms.Verbose||U===Ms.Compact;de.log(oe.message,Q?oe.verbose:void 0)}),Oe.onNotification(_L.type,oe=>{let Q=y.get(oe.token);Q?Q(oe.value):Pe.fire(oe)}),Oe}bn.createMessageConnection=WTt});var U$=P(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.ProgressType=qt.ProgressToken=qt.createMessageConnection=qt.NullLogger=qt.ConnectionOptions=qt.ConnectionStrategy=qt.AbstractMessageBuffer=qt.WriteableStreamMessageWriter=qt.AbstractMessageWriter=qt.MessageWriter=qt.ReadableStreamMessageReader=qt.AbstractMessageReader=qt.MessageReader=qt.SharedArrayReceiverStrategy=qt.SharedArraySenderStrategy=qt.CancellationToken=qt.CancellationTokenSource=qt.Emitter=qt.Event=qt.Disposable=qt.LRUCache=qt.Touch=qt.LinkedMap=qt.ParameterStructures=qt.NotificationType9=qt.NotificationType8=qt.NotificationType7=qt.NotificationType6=qt.NotificationType5=qt.NotificationType4=qt.NotificationType3=qt.NotificationType2=qt.NotificationType1=qt.NotificationType0=qt.NotificationType=qt.ErrorCodes=qt.ResponseError=qt.RequestType9=qt.RequestType8=qt.RequestType7=qt.RequestType6=qt.RequestType5=qt.RequestType4=qt.RequestType3=qt.RequestType2=qt.RequestType1=qt.RequestType0=qt.RequestType=qt.Message=qt.RAL=void 0;qt.MessageStrategy=qt.CancellationStrategy=qt.CancellationSenderStrategy=qt.CancellationReceiverStrategy=qt.ConnectionError=qt.ConnectionErrors=qt.LogTraceNotification=qt.SetTraceNotification=qt.TraceFormat=qt.TraceValues=qt.Trace=void 0;var ma=Coe();Object.defineProperty(qt,"Message",{enumerable:!0,get:function(){return ma.Message}});Object.defineProperty(qt,"RequestType",{enumerable:!0,get:function(){return ma.RequestType}});Object.defineProperty(qt,"RequestType0",{enumerable:!0,get:function(){return ma.RequestType0}});Object.defineProperty(qt,"RequestType1",{enumerable:!0,get:function(){return ma.RequestType1}});Object.defineProperty(qt,"RequestType2",{enumerable:!0,get:function(){return ma.RequestType2}});Object.defineProperty(qt,"RequestType3",{enumerable:!0,get:function(){return ma.RequestType3}});Object.defineProperty(qt,"RequestType4",{enumerable:!0,get:function(){return ma.RequestType4}});Object.defineProperty(qt,"RequestType5",{enumerable:!0,get:function(){return ma.RequestType5}});Object.defineProperty(qt,"RequestType6",{enumerable:!0,get:function(){return ma.RequestType6}});Object.defineProperty(qt,"RequestType7",{enumerable:!0,get:function(){return ma.RequestType7}});Object.defineProperty(qt,"RequestType8",{enumerable:!0,get:function(){return ma.RequestType8}});Object.defineProperty(qt,"RequestType9",{enumerable:!0,get:function(){return ma.RequestType9}});Object.defineProperty(qt,"ResponseError",{enumerable:!0,get:function(){return ma.ResponseError}});Object.defineProperty(qt,"ErrorCodes",{enumerable:!0,get:function(){return ma.ErrorCodes}});Object.defineProperty(qt,"NotificationType",{enumerable:!0,get:function(){return ma.NotificationType}});Object.defineProperty(qt,"NotificationType0",{enumerable:!0,get:function(){return ma.NotificationType0}});Object.defineProperty(qt,"NotificationType1",{enumerable:!0,get:function(){return ma.NotificationType1}});Object.defineProperty(qt,"NotificationType2",{enumerable:!0,get:function(){return ma.NotificationType2}});Object.defineProperty(qt,"NotificationType3",{enumerable:!0,get:function(){return ma.NotificationType3}});Object.defineProperty(qt,"NotificationType4",{enumerable:!0,get:function(){return ma.NotificationType4}});Object.defineProperty(qt,"NotificationType5",{enumerable:!0,get:function(){return ma.NotificationType5}});Object.defineProperty(qt,"NotificationType6",{enumerable:!0,get:function(){return ma.NotificationType6}});Object.defineProperty(qt,"NotificationType7",{enumerable:!0,get:function(){return ma.NotificationType7}});Object.defineProperty(qt,"NotificationType8",{enumerable:!0,get:function(){return ma.NotificationType8}});Object.defineProperty(qt,"NotificationType9",{enumerable:!0,get:function(){return ma.NotificationType9}});Object.defineProperty(qt,"ParameterStructures",{enumerable:!0,get:function(){return ma.ParameterStructures}});var tse=Toe();Object.defineProperty(qt,"LinkedMap",{enumerable:!0,get:function(){return tse.LinkedMap}});Object.defineProperty(qt,"LRUCache",{enumerable:!0,get:function(){return tse.LRUCache}});Object.defineProperty(qt,"Touch",{enumerable:!0,get:function(){return tse.Touch}});var BTt=TLe();Object.defineProperty(qt,"Disposable",{enumerable:!0,get:function(){return BTt.Disposable}});var zLe=VE();Object.defineProperty(qt,"Event",{enumerable:!0,get:function(){return zLe.Event}});Object.defineProperty(qt,"Emitter",{enumerable:!0,get:function(){return zLe.Emitter}});var ULe=L$();Object.defineProperty(qt,"CancellationTokenSource",{enumerable:!0,get:function(){return ULe.CancellationTokenSource}});Object.defineProperty(qt,"CancellationToken",{enumerable:!0,get:function(){return ULe.CancellationToken}});var HLe=PLe();Object.defineProperty(qt,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return HLe.SharedArraySenderStrategy}});Object.defineProperty(qt,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return HLe.SharedArrayReceiverStrategy}});var rse=RLe();Object.defineProperty(qt,"MessageReader",{enumerable:!0,get:function(){return rse.MessageReader}});Object.defineProperty(qt,"AbstractMessageReader",{enumerable:!0,get:function(){return rse.AbstractMessageReader}});Object.defineProperty(qt,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return rse.ReadableStreamMessageReader}});var nse=ILe();Object.defineProperty(qt,"MessageWriter",{enumerable:!0,get:function(){return nse.MessageWriter}});Object.defineProperty(qt,"AbstractMessageWriter",{enumerable:!0,get:function(){return nse.AbstractMessageWriter}});Object.defineProperty(qt,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return nse.WriteableStreamMessageWriter}});var $Tt=kLe();Object.defineProperty(qt,"AbstractMessageBuffer",{enumerable:!0,get:function(){return $Tt.AbstractMessageBuffer}});var Xd=jLe();Object.defineProperty(qt,"ConnectionStrategy",{enumerable:!0,get:function(){return Xd.ConnectionStrategy}});Object.defineProperty(qt,"ConnectionOptions",{enumerable:!0,get:function(){return Xd.ConnectionOptions}});Object.defineProperty(qt,"NullLogger",{enumerable:!0,get:function(){return Xd.NullLogger}});Object.defineProperty(qt,"createMessageConnection",{enumerable:!0,get:function(){return Xd.createMessageConnection}});Object.defineProperty(qt,"ProgressToken",{enumerable:!0,get:function(){return Xd.ProgressToken}});Object.defineProperty(qt,"ProgressType",{enumerable:!0,get:function(){return Xd.ProgressType}});Object.defineProperty(qt,"Trace",{enumerable:!0,get:function(){return Xd.Trace}});Object.defineProperty(qt,"TraceValues",{enumerable:!0,get:function(){return Xd.TraceValues}});Object.defineProperty(qt,"TraceFormat",{enumerable:!0,get:function(){return Xd.TraceFormat}});Object.defineProperty(qt,"SetTraceNotification",{enumerable:!0,get:function(){return Xd.SetTraceNotification}});Object.defineProperty(qt,"LogTraceNotification",{enumerable:!0,get:function(){return Xd.LogTraceNotification}});Object.defineProperty(qt,"ConnectionErrors",{enumerable:!0,get:function(){return Xd.ConnectionErrors}});Object.defineProperty(qt,"ConnectionError",{enumerable:!0,get:function(){return Xd.ConnectionError}});Object.defineProperty(qt,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Xd.CancellationReceiverStrategy}});Object.defineProperty(qt,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Xd.CancellationSenderStrategy}});Object.defineProperty(qt,"CancellationStrategy",{enumerable:!0,get:function(){return Xd.CancellationStrategy}});Object.defineProperty(qt,"MessageStrategy",{enumerable:!0,get:function(){return Xd.MessageStrategy}});var VTt=nD();qt.RAL=VTt.default});var $Le=P(ase=>{"use strict";Object.defineProperty(ase,"__esModule",{value:!0});var WLe=require("util"),fS=U$(),H$=class r extends fS.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return r.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new WLe.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};H$.emptyBuffer=Buffer.allocUnsafe(0);var ise=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),fS.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),fS.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),fS.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),fS.Disposable.create(()=>this.stream.off("data",e))}},ose=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),fS.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),fS.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),fS.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}},BLe=Object.freeze({messageBuffer:Object.freeze({create:r=>new H$(r)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(r,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(r,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(r,e)=>{try{return r instanceof Buffer?Promise.resolve(JSON.parse(r.toString(e.charset))):Promise.resolve(JSON.parse(new WLe.TextDecoder(e.charset).decode(r)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:r=>new ise(r),asWritableStream:r=>new ose(r)}),console,timer:Object.freeze({setTimeout(r,e,...t){let n=setTimeout(r,e,...t);return{dispose:()=>clearTimeout(n)}},setImmediate(r,...e){let t=setImmediate(r,...e);return{dispose:()=>clearImmediate(t)}},setInterval(r,e,...t){let n=setInterval(r,e,...t);return{dispose:()=>clearInterval(n)}}})});function sse(){return BLe}(function(r){function e(){fS.RAL.install(BLe)}r.install=e})(sse||(sse={}));ase.default=sse});var m0=P(ko=>{"use strict";var GTt=ko&&ko.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),KTt=ko&&ko.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&GTt(e,r,t)};Object.defineProperty(ko,"__esModule",{value:!0});ko.createMessageConnection=ko.createServerSocketTransport=ko.createClientSocketTransport=ko.createServerPipeTransport=ko.createClientPipeTransport=ko.generateRandomPipeName=ko.StreamMessageWriter=ko.StreamMessageReader=ko.SocketMessageWriter=ko.SocketMessageReader=ko.PortMessageWriter=ko.PortMessageReader=ko.IPCMessageWriter=ko.IPCMessageReader=void 0;var JE=$Le();JE.default.install();var VLe=require("path"),YTt=require("os"),JTt=require("crypto"),$$=require("net"),cg=U$();KTt(U$(),ko);var cse=class extends cg.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),cg.Disposable.create(()=>this.process.off("message",e))}};ko.IPCMessageReader=cse;var use=class extends cg.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",n=>this.fireError(n)),t.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};ko.IPCMessageWriter=use;var lse=class extends cg.AbstractMessageReader{constructor(e){super(),this.onData=new cg.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t)})}listen(e){return this.onData.event(e)}};ko.PortMessageReader=lse;var dse=class extends cg.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}};ko.PortMessageWriter=dse;var p0=class extends cg.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,JE.default)().stream.asReadableStream(e),t)}};ko.SocketMessageReader=p0;var h0=class extends cg.WriteableStreamMessageWriter{constructor(e,t){super((0,JE.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};ko.SocketMessageWriter=h0;var W$=class extends cg.ReadableStreamMessageReader{constructor(e,t){super((0,JE.default)().stream.asReadableStream(e),t)}};ko.StreamMessageReader=W$;var B$=class extends cg.WriteableStreamMessageWriter{constructor(e,t){super((0,JE.default)().stream.asWritableStream(e),t)}};ko.StreamMessageWriter=B$;var GLe=process.env.XDG_RUNTIME_DIR,XTt=new Map([["linux",107],["darwin",103]]);function QTt(){let r=(0,JTt.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${r}-sock`;let e;GLe?e=VLe.join(GLe,`vscode-ipc-${r}.sock`):e=VLe.join(YTt.tmpdir(),`vscode-${r}.sock`);let t=XTt.get(process.platform);return t!==void 0&&e.length>t&&(0,JE.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}ko.generateRandomPipeName=QTt;function ZTt(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,$$.createServer)(a=>{s.close(),t([new p0(a,e),new h0(a,e)])});s.on("error",o),s.listen(r,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}ko.createClientPipeTransport=ZTt;function e0t(r,e="utf-8"){let t=(0,$$.createConnection)(r);return[new p0(t,e),new h0(t,e)]}ko.createServerPipeTransport=e0t;function t0t(r,e="utf-8"){let t,n=new Promise((i,o)=>{t=i});return new Promise((i,o)=>{let s=(0,$$.createServer)(a=>{s.close(),t([new p0(a,e),new h0(a,e)])});s.on("error",o),s.listen(r,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}ko.createClientSocketTransport=t0t;function r0t(r,e="utf-8"){let t=(0,$$.createConnection)(r,"127.0.0.1");return[new p0(t,e),new h0(t,e)]}ko.createServerSocketTransport=r0t;function n0t(r){let e=r;return e.read!==void 0&&e.addListener!==void 0}function i0t(r){let e=r;return e.write!==void 0&&e.addListener!==void 0}function o0t(r,e,t,n){t||(t=cg.NullLogger);let i=n0t(r)?new W$(r):r,o=i0t(e)?new B$(e):e;return cg.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,cg.createMessageConnection)(i,o,t,n)}ko.createMessageConnection=o0t});var YLe=P((IXt,KLe)=>{"use strict";KLe.exports=m0()});var CL=P(SL=>{"use strict";Object.defineProperty(SL,"__esModule",{value:!0});SL.ServiceMoniker=void 0;var s0t;(function(r){function e(o,s){if(!o||o==="")throw new Error("name cannot be empty.");return Object.freeze({name:o,version:s,toString:i})}r.create=e;function t(o,s){return o===s?!0:!o||!s?!1:o.name===s.name&&o.version===s.version}r.equals=t;function n(o){return o.version?`${o.name} (${o.version})`:o.name}r.toString=n;function i(){return n(this)}})(s0t=SL.ServiceMoniker||(SL.ServiceMoniker={}))});var hse=P(iD=>{"use strict";var a0t=iD&&iD.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(iD,"__esModule",{value:!0});iD.RpcConnection=iD.ServiceRpcDescriptor=void 0;var c0t=a0t(require("assert")),fse=class{moniker;constructor(e){this.moniker=e,(0,c0t.default)(e)}constructRpc(e,t){let n;if(t?n=e:t=e,t===void 0)throw new Error("No pipe supplied.");let i=this.constructRpcConnection(t);n!==void 0&&i.addLocalRpcTarget(n);let o=i.constructRpcClient();return i.startListening(),o}};iD.ServiceRpcDescriptor=fse;var pse=class{static IsRpcEventServer(e){return e.rpcEventNames&&e.on}};iD.RpcConnection=pse});var XLe=P(DL=>{"use strict";var u0t=DL&&DL.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(DL,"__esModule",{value:!0});var JLe=function(){},mse=function(){function r(e,t){this._isCancelled=e,this.canBeCancelled=t,this._callbacks=new Set}return Object.defineProperty(r.prototype,"isCancelled",{get:function(){return this._isCancelled},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"reason",{get:function(){if(this.isCancelled)return this._reason;throw new Error("This token is not cancelled.")},enumerable:!1,configurable:!0}),r.prototype.racePromise=function(e){var t=this;return this.canBeCancelled?new Promise(function(n,i){var o=t.onCancelled(function(s){return i(new r.CancellationError(s))});e.then(function(s){n(s),o()},function(s){i(s),o()})}):e},r.prototype.throwIfCancelled=function(){if(this._isCancelled)throw new r.CancellationError(this._reason)},r.prototype.onCancelled=function(e){var t=this,n;return this.canBeCancelled?this.isCancelled?(e(this.reason),JLe):((n=this._callbacks)===null||n===void 0||n.add(e),function(){var i;return(i=t._callbacks)===null||i===void 0?void 0:i.delete(e)}):JLe},r.create=function(){var e=new r(!1,!0),t=function(n){var i;e._isCancelled||(e._isCancelled=!0,e._reason=n,(i=e._callbacks)===null||i===void 0||i.forEach(function(o){return o(n)}),delete e._callbacks)};return{token:e,cancel:t}},r.timeout=function(e){var t=r.create(),n=t.token,i=t.cancel,o=setTimeout(function(){return i(r.timeout)},e),s=function(a){n._isCancelled||(clearTimeout(o),i(a))};return{token:n,cancel:s}},r.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.some(function(s){return!s.canBeCancelled}))return r.CONTINUE;var n=r.create(),i=e.length,o=function(){if(--i===0){var s=e.map(function(a){return a._reason});n.cancel(s)}};return e.forEach(function(s){return s.onCancelled(o)}),n.token},r.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o._isCancelled)return o}var s=r.create(),a,c=function(u){a.forEach(function(l){return l()}),s.cancel(u)};return a=e.map(function(u){return u.onCancelled(c)}),s.token},r.CANCELLED=new r(!0,!0),r.CONTINUE=new r(!1,!1),r}();(function(r){var e=function(t){u0t(n,t);function n(i){var o=t.call(this,"Operation cancelled")||this;return o.reason=i,Object.setPrototypeOf(o,n.prototype),o}return n}(Error);r.CancellationError=e})(mse||(mse={}));DL.default=mse});var oD=P(gse=>{"use strict";Object.defineProperty(gse,"__esModule",{value:!0});var l0t=XLe();gse.default=l0t.default});var QLe=P(XE=>{"use strict";var d0t=XE&&XE.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(XE,"__esModule",{value:!0});XE.CancellationTokenAdapters=void 0;var vse=d0t(oD()),TL=m0();function f0t(r){return r&&r.ImAProxy!==void 0}var yse=class{static isVSCode(e){return TL.CancellationToken.is(e)}static isCancellationToken(e){return e&&!f0t(e)&&typeof e.throwIfCancelled=="function"&&typeof e.onCancelled=="function"&&e.isCancelled!==void 0&&e.canBeCancelled!==void 0}static vscodeToCancellationToken(e){if(e.isCancellationRequested)return vse.default.CANCELLED;if(e===TL.CancellationToken.None)return vse.default.CONTINUE;{let t=vse.default.create();return e.onCancellationRequested(n=>t.cancel()),t.token}}static cancellationTokenToVSCode(e){if(e.isCancelled)return TL.CancellationToken.Cancelled;if(e.canBeCancelled){let t=new TL.CancellationTokenSource;return e.onCancelled(n=>t.cancel()),t.token}else return TL.CancellationToken.None}};XE.CancellationTokenAdapters=yse});var bse=P(ZE=>{"use strict";Object.defineProperty(ZE,"__esModule",{value:!0});ZE.registerInstanceMethodsAsRpcTargets=ZE.invokeRpc=void 0;var QE=m0(),G$=QLe(),g0=K$();async function p0t(r,e,t){if(e.length>0){if(QE.CancellationToken.is(e[e.length-1])){let i=e[e.length-1],o=V$(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,QE.ParameterStructures.byPosition,...o,i)}else if(G$.CancellationTokenAdapters.isCancellationToken(e[e.length-1])){let i=G$.CancellationTokenAdapters.cancellationTokenToVSCode(e[e.length-1]),o=V$(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,QE.ParameterStructures.byPosition,...o,i)}else if(e[e.length-1]===void 0){let i=V$(t,Array.prototype.slice.call(e,0,e.length-1));return t.sendRequest(r,QE.ParameterStructures.byPosition,...i)}}let n=V$(t,Array.prototype.slice.call(e));try{let i=await t.sendRequest(r,QE.ParameterStructures.byPosition,...n);return _0t(t,i)}catch(i){for(let o of n)g0.IJsonRpcMarshaledObject.is(o)&&g0.IJsonRpcMarshaledObject.cancelWrap(o,t);throw i}}ZE.invokeRpc=p0t;function V$(r,e){return m0t(e).map(t=>eNe(r,t))}async function h0t(r,e){let t=await e;return eNe(r,t)}function eNe(r,e){return g0.RpcMarshalable.is(e)||g0.MarshaledObjectProxy.is(e)?g0.IJsonRpcMarshaledObject.wrap(e,r):e}function m0t(r){for(let e=0;e<r.length;e++)if(r[e]===void 0)throw new Error(`Argument at 0-based index ${e} is set as undefined, which is not a valid JSON value.`);return r}function g0t(r,e){let t=Object.getOwnPropertyDescriptor(r,e);return!!t&&typeof t.value=="function"}function v0t(r,e){let t=[],n=Object.getPrototypeOf(r);for(;n&&n!==e;)Object.getOwnPropertyNames(n).forEach(i=>{i!=="constructor"&&g0t(n,i)&&t.push(i)}),n=Object.getPrototypeOf(n);return t}function y0t(r){if(r.length>0&&G$.CancellationTokenAdapters.isVSCode(r[r.length-1])){let e=G$.CancellationTokenAdapters.vscodeToCancellationToken(r[r.length-1]);r[r.length-1]=e}return r}function b0t(r,e){return g0.IJsonRpcMarshaledObject.is(e)?g0.IJsonRpcMarshaledObject.unwrap(e,r):e}function tNe(r,e){return b0t(r,e)}function ZLe(r,e){return y0t(e).map(t=>tNe(r,t))}function _0t(r,e){return tNe(r,e)}function w0t(r,e,t){let n=[];function i(o,s){let a=t?t(o):o;n.push(e.onRequest(a,(...c)=>h0t(e,s.apply(r,ZLe(e,c))))),n.push(e.onNotification(a,(...c)=>s.apply(r,ZLe(e,c))))}return v0t(r,Object.prototype).forEach(o=>{if(o!=="dispose"){let s=r[o];i(o,s);let a="Async",c=o.endsWith(a)?o.substring(0,o.length-a.length):`${o}${a}`;i(c,s)}}),QE.Disposable.create(()=>n.forEach(o=>o.dispose()))}ZE.registerInstanceMethodsAsRpcTargets=w0t});var K$=P(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.IJsonRpcMarshaledObject=ug.MarshaledObjectProxy=ug.RpcMarshalable=ug.registerReleaseMarshaledObjectCallback=void 0;var S0t=m0(),rNe=bse(),nNe="$/releaseMarshaledObject";function C0t(r){r.onNotification(nNe,e=>{let t=Array.isArray(e)?{handle:e[0],ownedBySender:e[1]}:e,n=r;n._marshaledObjectTracker&&(t.ownedBySender?n._marshaledObjectTracker.theirsByHandle:n._marshaledObjectTracker.ownByHandle)[t.handle]?.dispose()})}ug.registerReleaseMarshaledObjectCallback=C0t;function iNe(r,e,t){return t===void 0?`$/invokeProxy/${r}/${e}`:`$/invokeProxy/${r}/${t}.${e}`}var D0t;(function(r){function e(t){return typeof t?._jsonRpcMarshalableLifetime=="string"}r.is=e})(D0t=ug.RpcMarshalable||(ug.RpcMarshalable={}));var oNe;(function(r){function e(t){return typeof t?._jsonrpcMarshaledHandle=="number"}r.is=e})(oNe=ug.MarshaledObjectProxy||(ug.MarshaledObjectProxy={}));var T0t={get:(r,e)=>{switch(e.toString()){case"dispose":return r.dispose;case"_jsonrpcMarshaledHandle":return r._jsonrpcMarshaledHandle;case"then":return;case"toJSON":return;default:return function(){let t=iNe(r._jsonrpcMarshaledHandle,e.toString());return(0,rNe.invokeRpc)(t,arguments,r.messageConnection)}}}};function _se(r){let e=r;return e._marshaledObjectTracker??={counter:0,ownByHandle:{},theirsByHandle:{},ownTrackedObjectHandles:new WeakMap},e._marshaledObjectTracker}var P0t;(function(r){function e(o){let s=o;return typeof s?.__jsonrpc_marshaled=="number"&&typeof s.handle=="number"}r.is=e;function t(o,s){let a=_se(s);if(oNe.is(o))return{__jsonrpc_marshaled:0,handle:o._jsonrpcMarshaledHandle};{if(o._jsonRpcMarshalableLifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let c=a.ownTrackedObjectHandles.has(o),u=c?a.ownTrackedObjectHandles.get(o):++a.counter;if(!c){a.ownTrackedObjectHandles.set(o,u);let l=(0,rNe.registerInstanceMethodsAsRpcTargets)(o,s,d=>iNe(u,d));a.ownByHandle[u]={target:o,dispose:()=>{l.dispose(),delete a.ownByHandle[u],a.ownTrackedObjectHandles.delete(o),"dispose"in o&&typeof o.dispose=="function"&&o.dispose()}}}return{__jsonrpc_marshaled:1,handle:u,lifetime:o._jsonRpcMarshalableLifetime,optionalInterfaces:o._jsonRpcOptionalInterfaces}}}r.wrap=t;function n(o,s){_se(s).ownByHandle[o.handle]?.dispose()}r.cancelWrap=n;function i(o,s){if(o.lifetime==="call")throw new Error("Receiving marshaled objects scoped to the lifetime of a single RPC request is not yet supported.");let a=_se(s);switch(o.__jsonrpc_marshaled){case 1:let c=a.theirsByHandle[o.handle]?.proxy;if(!c){let l={messageConnection:s,_jsonrpcMarshaledHandle:o.handle,dispose:()=>{if(a.theirsByHandle[o.handle]){delete a.theirsByHandle[o.handle];let d={handle:o.handle,ownedBySender:!1};s.sendNotification(nNe,S0t.ParameterStructures.byName,d)}}};c=new Proxy(l,T0t),a.theirsByHandle[o.handle]={proxy:c,dispose:()=>{delete a.theirsByHandle[o.handle]}}}return c;case 0:let u=a.ownByHandle[o.handle];if(!u)throw new Error(`Unrecognized handle ${o.handle}`);return u.target;default:throw new Error(`Unsupported value for __jsonrpc_marshaled: ${o.__jsonrpc_marshaled}.`)}}r.unwrap=i})(P0t=ug.IJsonRpcMarshaledObject||(ug.IJsonRpcMarshaledObject={}))});var wse=P(_v=>{"use strict";var R0t=_v&&_v.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_v,"__esModule",{value:!0});_v.isChannel=_v.clone=_v.isReadWriteStream=_v.constructMessageConnection=void 0;var x0t=R0t(require("assert")),E0t=K$();function O0t(r,e){(0,x0t.default)(r);let t;return sNe(r)?(t=e(r),r.on("close",()=>{t?.dispose()}),t.onDispose(()=>r.end()),t.onClose(()=>r.end())):(t=e(r.stream),r.completion.then(()=>{t?.dispose()}),t.onDispose(()=>r.dispose()),t.onClose(()=>r.dispose())),(0,E0t.registerReleaseMarshaledObjectCallback)(t),t}_v.constructMessageConnection=O0t;function sNe(r){return r&&"unshift"in r}_v.isReadWriteStream=sNe;function I0t(r){var e=r.constructor();for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}_v.clone=I0t;function k0t(r){return r&&"stream"in r&&"acceptance"in r&&"completion"in r&&"dispose"in r}_v.isChannel=k0t});var Dse=P(Cse=>{"use strict";var Y$=class{constructor(e){this.tasks=[],this.count=e}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let e=this.tasks.shift();if(e===void 0)throw"Unexpected undefined value in tasks list";e()}}acquire(){return new Promise((e,t)=>{var n=()=>{var i=!1;e(()=>{i||(i=!0,this.count++,this.sched())})};this.tasks.push(n),process&&process.nextTick?process.nextTick(this.sched.bind(this)):setImmediate(this.sched.bind(this))})}use(e){return this.acquire().then(t=>e().then(n=>(t(),n)).catch(n=>{throw t(),n}))}};Cse.Semaphore=Y$;var Sse=class extends Y${constructor(){super(1)}};Cse.Mutex=Sse});var PL=P(J$=>{"use strict";Object.defineProperty(J$,"__esModule",{value:!0});J$.Deferred=void 0;var Tse=class{constructor(e){this.state=e,this._isResolved=!1,this._isRejected=!1,this.promise=new Promise((t,n)=>{this.resolvePromise=t,this.rejectPromise=n})}get isCompleted(){return this._isResolved||this._isRejected}get isResolved(){return this._isResolved}get isRejected(){return this._isRejected}get error(){return this._error}resolve(e){return this.isCompleted?!1:(this.resolvePromise(e),this._isResolved=!0,!0)}reject(e){return this.isCompleted?!1:(this.rejectPromise(e),this._error=e,this._isRejected=!0,!0)}};J$.Deferred=Tse});var eO=P(Zf=>{"use strict";Object.defineProperty(Zf,"__esModule",{value:!0});Zf.removeFromQueue=Zf.requireInteger=Zf.throwIfDisposed=Zf.getBufferFrom=Zf.readSubstream=Zf.writeSubstream=Zf.writeAsync=void 0;var cNe=require("stream"),aNe=PL();async function Pse(r,e){return new Promise((t,n)=>{r.write(e,i=>{i?n(i):t()})})}Zf.writeAsync=Pse;function A0t(r){return new cNe.Writable({async write(e,t,n){try{let i=new DataView(new ArrayBuffer(4));i.setUint32(0,e.length,!1),await Pse(r,Buffer.from(i.buffer)),await Pse(r,e),n()}catch(i){n(i)}},final(e){r.write(new Uint8Array(4),e)}})}Zf.writeSubstream=A0t;function M0t(r){return new cNe.Readable({async read(e){let t=await Rse(r,4),i=new DataView(t.buffer,t.byteOffset,t.length).getUint32(0,!1);if(i===0){this.push(null);return}let o=await Rse(r,i);this.push(o)}})}Zf.readSubstream=M0t;async function Rse(r,e,t=!1,n){let i=new aNe.Deferred;if(e===0)return Buffer.from([]);let o=null,s=0;for(;e>0;){n?.throwIfCancelled();let a=r.readableLength;if(a)a>e&&(a=e);else{if(r.readableEnded||i.isCompleted){if(!t)throw new Error("Stream terminated before required bytes were read.");return o===null?null:o.subarray(0,s)}a=e}let c=r.read(a);if(c){if(c.length<a&&!t)throw new Error("Stream terminated before required bytes were read.");if(o===null){if(a===e||c.length<a)return c;o=Buffer.alloc(e)}c.copy(o,s),e-=c.length,s+=c.length}if(e>0){let u=new aNe.Deferred,l=u.resolve.bind(u),d=i.resolve.bind(i);r.once("readable",l),r.once("end",d);try{let f=Promise.race([u.promise,i.promise]);await(n?n.racePromise(f):f)}finally{r.removeListener("readable",l),r.removeListener("end",d)}}}return o}Zf.getBufferFrom=Rse;function L0t(r){if(r.isDisposed)throw new Error("disposed")}Zf.throwIfDisposed=L0t;function N0t(r,e,t,n="signed"){if(!Number.isInteger(e))throw new Error(`${r} must be an integer.`);let i=t*8;n==="signed"&&i--;let o=Math.pow(2,i)-1,s=n==="signed"?-Math.pow(2,i):0;if(e>o||e<s)throw new Error(`${r} must be in the range ${s}-${o}.`)}Zf.requireInteger=N0t;function F0t(r,e){if(e){let t=e.indexOf(r);t>=0&&e.splice(t,1)}}Zf.removeFromQueue=F0t});var lNe=P(sD=>{"use strict";var q0t=sD&&sD.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sD,"__esModule",{value:!0});sD.BE32MessageWriter=sD.BE32MessageReader=void 0;var xse=m0(),j0t=q0t(oD()),uNe=require("stream"),z0t=Dse(),X$=eO(),Ese=class extends xse.AbstractMessageReader{readable;decoder;constructor(e,t){super(),this.readable=e,this.decoder=t}listen(e){this.readable.on("error",n=>this.fireError(n));let t=j0t.default.create();return(async()=>{try{for(;;){let n=await(0,X$.getBufferFrom)(this.readable,4,!0,t.token);if(!n){this.fireClose();return}let i=n.readInt32BE(0),o=await(0,X$.getBufferFrom)(this.readable,i,!1,t.token),s=await this.decoder(o);e(s)}}catch(n){this.fireError(n)}})(),xse.Disposable.create(()=>t.cancel())}};sD.BE32MessageReader=Ese;var Ose=class extends xse.AbstractMessageWriter{writable;encoder;semaphore=new z0t.Semaphore(1);headerBuffer=Buffer.alloc(4);errorCount=0;constructor(e,t){super(),this.writable=e,this.encoder=t,e.on("error",n=>this.fireError([n,void 0,void 0])),e.once("close",()=>this.fireClose())}async write(e){await this.semaphore.use(async()=>{try{let t=await this.encoder(e);this.headerBuffer.writeInt32BE(t.byteLength,0),this.writable instanceof uNe.Writable&&this.writable.cork();let n=Promise.all([(0,X$.writeAsync)(this.writable,this.headerBuffer),(0,X$.writeAsync)(this.writable,t)]);this.writable instanceof uNe.Writable&&this.writable.uncork(),await n}catch(t){this.errorCount++,this.fireError([U0t(t),void 0,this.errorCount])}})}end(){this.writable.end()}};sD.BE32MessageWriter=Ose;function U0t(r){return r instanceof Error?r:new Error(`Writer received error. Reason: ${typeof r.message=="string"?r.message:"unknown"}`)}});var fNe=P((kse,dNe)=>{dNe.exports=Ise(typeof Buffer<"u"&&Buffer)||Ise(kse.Buffer)||Ise(typeof window<"u"&&window.Buffer)||kse.Buffer;function Ise(r){return r&&r.isBuffer&&r}});var Q$=P((BXt,pNe)=>{var H0t={}.toString;pNe.exports=Array.isArray||function(r){return H0t.call(r)=="[object Array]"}});var gNe=P((rO,mNe)=>{var tO=lg(),rO=mNe.exports=hNe(0);rO.alloc=hNe;rO.concat=tO.concat;rO.from=W0t;function hNe(r){return new Array(r)}function W0t(r){if(!tO.isBuffer(r)&&tO.isView(r))r=tO.Uint8Array.from(r);else if(tO.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return tO.from.call(rO,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(r)}});var bNe=P((iO,yNe)=>{var pS=lg(),nO=pS.global,iO=yNe.exports=pS.hasBuffer?vNe(0):[];iO.alloc=pS.hasBuffer&&nO.alloc||vNe;iO.concat=pS.concat;iO.from=B0t;function vNe(r){return new nO(r)}function B0t(r){if(!pS.isBuffer(r)&&pS.isView(r))r=pS.Uint8Array.from(r);else if(pS.isArrayBuffer(r))r=new Uint8Array(r);else{if(typeof r=="string")return pS.from.call(iO,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return nO.from&&nO.from.length!==1?nO.from(r):new nO(r)}});var SNe=P((oO,wNe)=>{var Z$=lg(),oO=wNe.exports=Z$.hasArrayBuffer?_Ne(0):[];oO.alloc=_Ne;oO.concat=Z$.concat;oO.from=$0t;function _Ne(r){return new Uint8Array(r)}function $0t(r){if(Z$.isView(r)){var e=r.byteOffset,t=r.byteLength;r=r.buffer,r.byteLength!==t&&(r.slice?r=r.slice(e,e+t):(r=new Uint8Array(r),r.byteLength!==t&&(r=Array.prototype.slice.call(r,e,e+t))))}else{if(typeof r=="string")return Z$.from.call(oO,r);if(typeof r=="number")throw new TypeError('"value" argument must not be a number')}return new Uint8Array(r)}});var CNe=P(e3=>{e3.copy=K0t;e3.toString=G0t;e3.write=V0t;function V0t(r,e){for(var t=this,n=e||(e|=0),i=r.length,o=0,s=0;s<i;)o=r.charCodeAt(s++),o<128?t[n++]=o:o<2048?(t[n++]=192|o>>>6,t[n++]=128|o&63):o<55296||o>57343?(t[n++]=224|o>>>12,t[n++]=128|o>>>6&63,t[n++]=128|o&63):(o=(o-55296<<10|r.charCodeAt(s++)-56320)+65536,t[n++]=240|o>>>18,t[n++]=128|o>>>12&63,t[n++]=128|o>>>6&63,t[n++]=128|o&63);return n-e}function G0t(r,e,t){var n=this,i=e|0;t||(t=n.length);for(var o="",s=0;i<t;){if(s=n[i++],s<128){o+=String.fromCharCode(s);continue}(s&224)===192?s=(s&31)<<6|n[i++]&63:(s&240)===224?s=(s&15)<<12|(n[i++]&63)<<6|n[i++]&63:(s&248)===240&&(s=(s&7)<<18|(n[i++]&63)<<12|(n[i++]&63)<<6|n[i++]&63),s>=65536?(s-=65536,o+=String.fromCharCode((s>>>10)+55296,(s&1023)+56320)):o+=String.fromCharCode(s)}return o}function K0t(r,e,t,n){var i;t||(t=0),!n&&n!==0&&(n=this.length),e||(e=0);var o=n-t;if(r===this&&t<e&&e<n)for(i=o-1;i>=0;i--)r[i+e]=this[i+t];else for(i=0;i<o;i++)r[i+e]=this[i+t];return o}});var t3=P(RL=>{var Ase=CNe();RL.copy=RNe;RL.slice=xNe;RL.toString=Y0t;RL.write=J0t("write");var aD=lg(),DNe=aD.global,TNe=aD.hasBuffer&&"TYPED_ARRAY_SUPPORT"in DNe,PNe=TNe&&!DNe.TYPED_ARRAY_SUPPORT;function RNe(r,e,t,n){var i=aD.isBuffer(this),o=aD.isBuffer(r);if(i&&o)return this.copy(r,e,t,n);if(!PNe&&!i&&!o&&aD.isView(this)&&aD.isView(r)){var s=t||n!=null?xNe.call(this,t,n):this;return r.set(s,e),s.length}else return Ase.copy.call(this,r,e,t,n)}function xNe(r,e){var t=this.slice||!PNe&&this.subarray;if(t)return t.call(this,r,e);var n=aD.alloc.call(this,e-r);return RNe.call(this,n,0,r,e),n}function Y0t(r,e,t){var n=!TNe&&aD.isBuffer(this)?this.toString:Ase.toString;return n.apply(this,arguments)}function J0t(r){return e;function e(){var t=this[r]||Ase[r];return t.apply(this,arguments)}}});var lg=P(ep=>{var Mse=ep.global=fNe(),kNe=ep.hasBuffer=Mse&&!!Mse.isBuffer,Nse=ep.hasArrayBuffer=typeof ArrayBuffer<"u",X0t=ep.isArray=Q$();ep.isArrayBuffer=Nse?nPt:qse;var Q0t=ep.isBuffer=kNe?Mse.isBuffer:qse,Z0t=ep.isView=Nse?ArrayBuffer.isView||MNe("ArrayBuffer","buffer"):qse;ep.alloc=Fse;ep.concat=tPt;ep.from=ePt;var ENe=ep.Array=gNe(),ONe=ep.Buffer=bNe(),INe=ep.Uint8Array=SNe(),Lse=ep.prototype=t3();function ePt(r){return typeof r=="string"?iPt.call(this,r):ANe(this).from(r)}function Fse(r){return ANe(this).alloc(r)}function tPt(r,e){e||(e=0,Array.prototype.forEach.call(r,o));var t=this!==ep&&this||r[0],n=Fse.call(t,e),i=0;return Array.prototype.forEach.call(r,s),n;function o(a){e+=a.length}function s(a){i+=Lse.copy.call(a,n,i)}}var rPt=MNe("ArrayBuffer");function nPt(r){return r instanceof ArrayBuffer||rPt(r)}function iPt(r){var e=r.length*3,t=Fse.call(this,e),n=Lse.write.call(t,r);return e!==n&&(t=Lse.slice.call(t,0,n)),t}function ANe(r){return Q0t(r)?ONe:Z0t(r)?INe:X0t(r)?ENe:kNe?ONe:Nse?INe:ENe}function qse(){return!1}function MNe(r,e){return r="[object "+r+"]",function(t){return t!=null&&{}.toString.call(e?t[e]:t)===r}}});var r3=P(LNe=>{LNe.ExtBuffer=jse;var oPt=lg();function jse(r,e){if(!(this instanceof jse))return new jse(r,e);this.buffer=oPt.from(r),this.type=e}});var FNe=P(NNe=>{NNe.setExtPackers=cPt;var n3=lg(),sPt=n3.global,zy=n3.Uint8Array.from,zse,aPt={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function cPt(r){r.addExtPacker(14,Error,[v0,wv]),r.addExtPacker(1,EvalError,[v0,wv]),r.addExtPacker(2,RangeError,[v0,wv]),r.addExtPacker(3,ReferenceError,[v0,wv]),r.addExtPacker(4,SyntaxError,[v0,wv]),r.addExtPacker(5,TypeError,[v0,wv]),r.addExtPacker(6,URIError,[v0,wv]),r.addExtPacker(10,RegExp,[uPt,wv]),r.addExtPacker(11,Boolean,[Use,wv]),r.addExtPacker(12,String,[Use,wv]),r.addExtPacker(13,Date,[Number,wv]),r.addExtPacker(15,Number,[Use,wv]),typeof Uint8Array<"u"&&(r.addExtPacker(17,Int8Array,zy),r.addExtPacker(18,Uint8Array,zy),r.addExtPacker(19,Int16Array,zy),r.addExtPacker(20,Uint16Array,zy),r.addExtPacker(21,Int32Array,zy),r.addExtPacker(22,Uint32Array,zy),r.addExtPacker(23,Float32Array,zy),typeof Float64Array<"u"&&r.addExtPacker(24,Float64Array,zy),typeof Uint8ClampedArray<"u"&&r.addExtPacker(25,Uint8ClampedArray,zy),r.addExtPacker(26,ArrayBuffer,zy),r.addExtPacker(29,DataView,zy)),n3.hasBuffer&&r.addExtPacker(27,sPt,n3.from)}function wv(r){return zse||(zse=Hse().encode),zse(r)}function Use(r){return r.valueOf()}function uPt(r){r=RegExp.prototype.toString.call(r).split("/"),r.shift();var e=[r.pop()];return e.unshift(r.join("/")),e}function v0(r){var e={};for(var t in aPt)e[t]=r[t];return e}});var i3=P(xL=>{var lPt,dPt,fPt,pPt;(function(r){var e="undefined",t=e!==typeof Buffer&&Buffer,n=e!==typeof Uint8Array&&Uint8Array,i=e!==typeof ArrayBuffer&&ArrayBuffer,o=[0,0,0,0,0,0,0,0],s=Array.isArray||de,a=4294967296,c=16777216,u;lPt=l("Uint64BE",!0,!0),dPt=l("Int64BE",!0,!1),fPt=l("Uint64LE",!1,!0),pPt=l("Int64LE",!1,!1);function l(ve,$,W){var ee=$?0:4,Pe=$?4:0,se=$?0:3,ue=$?1:2,Fe=$?2:1,Le=$?3:0,ce=$?z:U,Ce=$?A:ne,we=$e.prototype,Ee="is"+ve,Ne="_"+Ee;return we.buffer=void 0,we.offset=0,we[Ne]=!0,we.toNumber=at,we.toString=tt,we.toJSON=at,we.toArray=d,t&&(we.toBuffer=f),n&&(we.toArrayBuffer=y),$e[Ee]=Ct,r[ve]=$e,$e;function $e(jr,lr,Et,hr){return this instanceof $e?ze(this,jr,lr,Et,hr):new $e(jr,lr,Et,hr)}function Ct(jr){return!!(jr&&jr[Ne])}function ze(jr,lr,Et,hr,Lt){if(n&&i&&(lr instanceof i&&(lr=new n(lr)),hr instanceof i&&(hr=new n(hr))),!lr&&!Et&&!hr&&!u){jr.buffer=k(o,0);return}if(!b(lr,Et)){var on=u||Array;Lt=Et,hr=lr,Et=0,lr=new on(8)}jr.buffer=lr,jr.offset=Et|=0,e!==typeof hr&&(typeof hr=="string"?st(lr,Et,hr,Lt||10):b(hr,Lt)?T(lr,Et,hr,Lt):typeof Lt=="number"?(pr(lr,Et+ee,hr),pr(lr,Et+Pe,Lt)):hr>0?ce(lr,Et,hr):hr<0?Ce(lr,Et,hr):T(lr,Et,o,0))}function st(jr,lr,Et,hr){var Lt=0,on=Et.length,un=0,En=0;Et[0]==="-"&&Lt++;for(var Er=Lt;Lt<on;){var Un=parseInt(Et[Lt++],hr);if(!(Un>=0))break;En=En*hr+Un,un=un*hr+Math.floor(En/a),En%=a}Er&&(un=~un,En?En=a-En:un++),pr(jr,lr+ee,un),pr(jr,lr+Pe,En)}function at(){var jr=this.buffer,lr=this.offset,Et=Ar(jr,lr+ee),hr=Ar(jr,lr+Pe);return W||(Et|=0),Et?Et*a+hr:hr}function tt(jr){var lr=this.buffer,Et=this.offset,hr=Ar(lr,Et+ee),Lt=Ar(lr,Et+Pe),on="",un=!W&&hr&2147483648;for(un&&(hr=~hr,Lt=a-Lt),jr=jr||10;;){var En=hr%jr*a+Lt;if(hr=Math.floor(hr/jr),Lt=Math.floor(En/jr),on=(En%jr).toString(jr)+on,!hr&&!Lt)break}return un&&(on="-"+on),on}function pr(jr,lr,Et){jr[lr+Le]=Et&255,Et=Et>>8,jr[lr+Fe]=Et&255,Et=Et>>8,jr[lr+ue]=Et&255,Et=Et>>8,jr[lr+se]=Et&255}function Ar(jr,lr){return jr[lr+se]*c+(jr[lr+ue]<<16)+(jr[lr+Fe]<<8)+jr[lr+Le]}}function d(ve){var $=this.buffer,W=this.offset;return u=null,ve!==!1&&W===0&&$.length===8&&s($)?$:k($,W)}function f(ve){var $=this.buffer,W=this.offset;if(u=t,ve!==!1&&W===0&&$.length===8&&Buffer.isBuffer($))return $;var ee=new t(8);return T(ee,0,$,W),ee}function y(ve){var $=this.buffer,W=this.offset,ee=$.buffer;if(u=n,ve!==!1&&W===0&&ee instanceof i&&ee.byteLength===8)return ee;var Pe=new n(8);return T(Pe,0,$,W),Pe.buffer}function b(ve,$){var W=ve&&ve.length;return $|=0,W&&$+8<=W&&typeof ve[$]!="string"}function T(ve,$,W,ee){$|=0,ee|=0;for(var Pe=0;Pe<8;Pe++)ve[$++]=W[ee++]&255}function k(ve,$){return Array.prototype.slice.call(ve,$,$+8)}function z(ve,$,W){for(var ee=$+8;ee>$;)ve[--ee]=W&255,W/=256}function A(ve,$,W){var ee=$+8;for(W++;ee>$;)ve[--ee]=-W&255^255,W/=256}function U(ve,$,W){for(var ee=$+8;$<ee;)ve[$++]=W&255,W/=256}function ne(ve,$,W){var ee=$+8;for(W++;$<ee;)ve[$++]=-W&255^255,W/=256}function de(ve){return!!ve&&Object.prototype.toString.call(ve)=="[object Array]"}})(typeof xL=="object"&&typeof xL.nodeName!="string"?xL:xL||{})});var Bse=P(Wse=>{Wse.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,u=c>>1,l=-7,d=t?i-1:0,f=t?-1:1,y=r[e+d];for(d+=f,o=y&(1<<-l)-1,y>>=-l,l+=a;l>0;o=o*256+r[e+d],d+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+r[e+d],d+=f,l-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(y?-1:1)*s*Math.pow(2,o-n)};Wse.write=function(r,e,t,n,i,o){var s,a,c,u=o*8-i-1,l=(1<<u)-1,d=l>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:o-1,b=n?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?e+=f/c:e+=f*Math.pow(2,1-d),e*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(e*c-1)*Math.pow(2,i),s=s+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;r[t+y]=a&255,y+=b,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;r[t+y]=s&255,y+=b,s/=256,u-=8);r[t+y-b]|=T*128}});var $se=P(qNe=>{var hPt=qNe.uint8=new Array(256);for(EL=0;EL<=255;EL++)hPt[EL]=mPt(EL);var EL;function mPt(r){return function(e){var t=e.reserve(1);e.buffer[t]=r}}});var YNe=P(KNe=>{var zNe=Bse(),UNe=i3(),gPt=UNe.Uint64BE,vPt=UNe.Int64BE,HNe=$se().uint8,o3=lg(),fc=o3.global,yPt=o3.hasBuffer&&"TYPED_ARRAY_SUPPORT"in fc,bPt=yPt&&!fc.TYPED_ARRAY_SUPPORT,jNe=o3.hasBuffer&&fc.prototype||{};KNe.getWriteToken=_Pt;function _Pt(r){return r&&r.uint8array?wPt():bPt||o3.hasBuffer&&r&&r.safe?SPt():WNe()}function wPt(){var r=WNe();return r[202]=Ls(202,4,VNe),r[203]=Ls(203,8,GNe),r}function WNe(){var r=HNe.slice();return r[196]=OL(196),r[197]=y0(197),r[198]=b0(198),r[199]=OL(199),r[200]=y0(200),r[201]=b0(201),r[202]=Ls(202,4,jNe.writeFloatBE||VNe,!0),r[203]=Ls(203,8,jNe.writeDoubleBE||GNe,!0),r[204]=OL(204),r[205]=y0(205),r[206]=b0(206),r[207]=Ls(207,8,BNe),r[208]=OL(208),r[209]=y0(209),r[210]=b0(210),r[211]=Ls(211,8,$Ne),r[217]=OL(217),r[218]=y0(218),r[219]=b0(219),r[220]=y0(220),r[221]=b0(221),r[222]=y0(222),r[223]=b0(223),r}function SPt(){var r=HNe.slice();return r[196]=Ls(196,1,fc.prototype.writeUInt8),r[197]=Ls(197,2,fc.prototype.writeUInt16BE),r[198]=Ls(198,4,fc.prototype.writeUInt32BE),r[199]=Ls(199,1,fc.prototype.writeUInt8),r[200]=Ls(200,2,fc.prototype.writeUInt16BE),r[201]=Ls(201,4,fc.prototype.writeUInt32BE),r[202]=Ls(202,4,fc.prototype.writeFloatBE),r[203]=Ls(203,8,fc.prototype.writeDoubleBE),r[204]=Ls(204,1,fc.prototype.writeUInt8),r[205]=Ls(205,2,fc.prototype.writeUInt16BE),r[206]=Ls(206,4,fc.prototype.writeUInt32BE),r[207]=Ls(207,8,BNe),r[208]=Ls(208,1,fc.prototype.writeInt8),r[209]=Ls(209,2,fc.prototype.writeInt16BE),r[210]=Ls(210,4,fc.prototype.writeInt32BE),r[211]=Ls(211,8,$Ne),r[217]=Ls(217,1,fc.prototype.writeUInt8),r[218]=Ls(218,2,fc.prototype.writeUInt16BE),r[219]=Ls(219,4,fc.prototype.writeUInt32BE),r[220]=Ls(220,2,fc.prototype.writeUInt16BE),r[221]=Ls(221,4,fc.prototype.writeUInt32BE),r[222]=Ls(222,2,fc.prototype.writeUInt16BE),r[223]=Ls(223,4,fc.prototype.writeUInt32BE),r}function OL(r){return function(e,t){var n=e.reserve(2),i=e.buffer;i[n++]=r,i[n]=t}}function y0(r){return function(e,t){var n=e.reserve(3),i=e.buffer;i[n++]=r,i[n++]=t>>>8,i[n]=t}}function b0(r){return function(e,t){var n=e.reserve(5),i=e.buffer;i[n++]=r,i[n++]=t>>>24,i[n++]=t>>>16,i[n++]=t>>>8,i[n]=t}}function Ls(r,e,t,n){return function(i,o){var s=i.reserve(e+1);i.buffer[s++]=r,t.call(i.buffer,o,s,n)}}function BNe(r,e){new gPt(this,e,r)}function $Ne(r,e){new vPt(this,e,r)}function VNe(r,e){zNe.write(this,r,e,!1,23,4)}function GNe(r,e){zNe.write(this,r,e,!1,52,8)}});var eFe=P(ZNe=>{var CPt=Q$(),QNe=i3(),DPt=QNe.Uint64BE,TPt=QNe.Int64BE,JNe=lg(),XNe=t3(),PPt=YNe(),RPt=$se().uint8,xPt=r3().ExtBuffer,EPt=typeof Uint8Array<"u",OPt=typeof Map<"u",sO=[];sO[1]=212;sO[2]=213;sO[4]=214;sO[8]=215;sO[16]=216;ZNe.getWriteType=IPt;function IPt(r){var e=PPt.getWriteToken(r),t=r&&r.useraw,n=EPt&&r&&r.binarraybuffer,i=n?JNe.isArrayBuffer:JNe.isBuffer,o=n?de:ne,s=OPt&&r&&r.usemap,a=s?W:$,c={boolean:u,function:A,number:l,object:t?z:k,string:T(t?b:y),symbol:A,undefined:A};return c;function u(Pe,se){var ue=se?195:194;e[ue](Pe,se)}function l(Pe,se){var ue=se|0,Fe;if(se!==ue){Fe=203,e[Fe](Pe,se);return}else-32<=ue&&ue<=127?Fe=ue&255:0<=ue?Fe=ue<=255?204:ue<=65535?205:206:Fe=-128<=ue?208:-32768<=ue?209:210;e[Fe](Pe,ue)}function d(Pe,se){var ue=207;e[ue](Pe,se.toArray())}function f(Pe,se){var ue=211;e[ue](Pe,se.toArray())}function y(Pe){return Pe<32?1:Pe<=255?2:Pe<=65535?3:5}function b(Pe){return Pe<32?1:Pe<=65535?3:5}function T(Pe){return se;function se(ue,Fe){var Le=Fe.length,ce=5+Le*3;ue.offset=ue.reserve(ce);var Ce=ue.buffer,we=Pe(Le),Ee=ue.offset+we;Le=XNe.write.call(Ce,Fe,Ee);var Ne=Pe(Le);if(we!==Ne){var $e=Ee+Ne-we,Ct=Ee+Le;XNe.copy.call(Ce,Ce,$e,Ee,Ct)}var ze=Ne===1?160+Le:Ne<=3?215+Ne:219;e[ze](ue,Le),ue.offset+=Le}}function k(Pe,se){if(se===null)return A(Pe,se);if(i(se))return o(Pe,se);if(CPt(se))return U(Pe,se);if(DPt.isUint64BE(se))return d(Pe,se);if(TPt.isInt64BE(se))return f(Pe,se);var ue=Pe.codec.getExtPacker(se);if(ue&&(se=ue(se)),se instanceof xPt)return ve(Pe,se);a(Pe,se)}function z(Pe,se){if(i(se))return ee(Pe,se);k(Pe,se)}function A(Pe,se){var ue=192;e[ue](Pe,se)}function U(Pe,se){var ue=se.length,Fe=ue<16?144+ue:ue<=65535?220:221;e[Fe](Pe,ue);for(var Le=Pe.codec.encode,ce=0;ce<ue;ce++)Le(Pe,se[ce])}function ne(Pe,se){var ue=se.length,Fe=ue<255?196:ue<=65535?197:198;e[Fe](Pe,ue),Pe.send(se)}function de(Pe,se){ne(Pe,new Uint8Array(se))}function ve(Pe,se){var ue=se.buffer,Fe=ue.length,Le=sO[Fe]||(Fe<255?199:Fe<=65535?200:201);e[Le](Pe,Fe),RPt[se.type](Pe),Pe.send(ue)}function $(Pe,se){var ue=Object.keys(se),Fe=ue.length,Le=Fe<16?128+Fe:Fe<=65535?222:223;e[Le](Pe,Fe);var ce=Pe.codec.encode;ue.forEach(function(Ce){ce(Pe,Ce),ce(Pe,se[Ce])})}function W(Pe,se){if(!(se instanceof Map))return $(Pe,se);var ue=se.size,Fe=ue<16?128+ue:ue<=65535?222:223;e[Fe](Pe,ue);var Le=Pe.codec.encode;se.forEach(function(ce,Ce,we){Le(Pe,Ce),Le(Pe,ce)})}function ee(Pe,se){var ue=se.length,Fe=ue<32?160+ue:ue<=65535?218:219;e[Fe](Pe,ue),Pe.send(se)}}});var kL=P(IL=>{var kPt=Q$();IL.createCodec=tFe;IL.install=MPt;IL.filter=FPt;var APt=lg();function aO(r){if(!(this instanceof aO))return new aO(r);this.options=r,this.init()}aO.prototype.init=function(){var r=this.options;return r&&r.uint8array&&(this.bufferish=APt.Uint8Array),this};function MPt(r){for(var e in r)aO.prototype[e]=LPt(aO.prototype[e],r[e])}function LPt(r,e){return r&&e?t:r||e;function t(){return r.apply(this,arguments),e.apply(this,arguments)}}function NPt(r){return r=r.slice(),function(t){return r.reduce(e,t)};function e(t,n){return n(t)}}function FPt(r){return kPt(r)?NPt(r):r}function tFe(r){return new aO(r)}IL.preset=tFe({preset:!0})});var s3=P(nFe=>{var qPt=r3().ExtBuffer,jPt=FNe(),zPt=eFe(),Vse=kL();Vse.install({addExtPacker:HPt,getExtPacker:WPt,init:rFe});nFe.preset=rFe.call(Vse.preset);function UPt(r){var e=zPt.getWriteType(r);return t;function t(n,i){var o=e[typeof i];if(!o)throw new Error('Unsupported type "'+typeof i+'": '+i);o(n,i)}}function rFe(){var r=this.options;return this.encode=UPt(r),r&&r.preset&&jPt.setExtPackers(this),this}function HPt(r,e,t){t=Vse.filter(t);var n=e.name;if(n&&n!=="Object"){var i=this.extPackers||(this.extPackers={});i[n]=s}else{var o=this.extEncoderList||(this.extEncoderList=[]);o.unshift([e,s])}function s(a){return t&&(a=t(a)),new qPt(a,r)}}function WPt(r){var e=this.extPackers||(this.extPackers={}),t=r.constructor,n=t&&t.name&&e[t.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),o=i.length,s=0;s<o;s++){var a=i[s];if(t===a[0])return a[1]}}});var Kse=P(Gse=>{Gse.FlexDecoder=cO;Gse.FlexEncoder=uO;var AL=lg(),BPt=2048,$Pt=65536,iFe="BUFFER_SHORTAGE";function cO(){if(!(this instanceof cO))return new cO}function uO(){if(!(this instanceof uO))return new uO}cO.mixin=aFe(VPt());cO.mixin(cO.prototype);uO.mixin=aFe(GPt());uO.mixin(uO.prototype);function VPt(){return{bufferish:AL,write:r,fetch:YPt,flush:e,push:sFe,pull:JPt,read:oFe,reserve:t,offset:0};function r(n){var i=this.offset?AL.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=i?n?this.bufferish.concat([i,n]):i:n,this.offset=0}function e(){for(;this.offset<this.buffer.length;){var n=this.offset,i;try{i=this.fetch()}catch(o){if(o&&o.message!=iFe)throw o;this.offset=n;break}this.push(i)}}function t(n){var i=this.offset,o=i+n;if(o>this.buffer.length)throw new Error(iFe);return this.offset=o,i}}function GPt(){return{bufferish:AL,write:KPt,fetch:r,flush:e,push:sFe,pull:t,read:oFe,reserve:n,send:i,maxBufferSize:$Pt,minBufferSize:BPt,offset:0,start:0};function r(){var o=this.start;if(o<this.offset){var s=this.start=this.offset;return AL.prototype.slice.call(this.buffer,o,s)}}function e(){for(;this.start<this.offset;){var o=this.fetch();o&&this.push(o)}}function t(){var o=this.buffers||(this.buffers=[]),s=o.length>1?this.bufferish.concat(o):o[0];return o.length=0,s}function n(o){var s=o|0;if(this.buffer){var a=this.buffer.length,c=this.offset|0,u=c+s;if(u<a)return this.offset=u,c;this.flush(),o=Math.max(o,Math.min(a*2,this.maxBufferSize))}return o=Math.max(o,this.minBufferSize),this.buffer=this.bufferish.alloc(o),this.start=0,this.offset=s,0}function i(o){var s=o.length;if(s>this.minBufferSize)this.flush(),this.push(o);else{var a=this.reserve(s);AL.prototype.copy.call(o,this.buffer,a)}}}function KPt(){throw new Error("method not implemented: write()")}function YPt(){throw new Error("method not implemented: fetch()")}function oFe(){var r=this.buffers&&this.buffers.length;return r?(this.flush(),this.pull()):this.fetch()}function sFe(r){var e=this.buffers||(this.buffers=[]);e.push(r)}function JPt(){var r=this.buffers||(this.buffers=[]);return r.shift()}function aFe(r){return e;function e(t){for(var n in r)t[n]=r[n];return t}}});var a3=P(cFe=>{cFe.EncodeBuffer=lO;var XPt=s3().preset,QPt=Kse().FlexEncoder;QPt.mixin(lO.prototype);function lO(r){if(!(this instanceof lO))return new lO(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}lO.prototype.codec=XPt;lO.prototype.write=function(r){this.codec.encode(this,r)}});var Hse=P(uFe=>{uFe.encode=eRt;var ZPt=a3().EncodeBuffer;function eRt(r,e){var t=new ZPt(e);return t.write(r),t.read()}});var fFe=P(dFe=>{dFe.setExtUnpackers=nRt;var lFe=lg(),tRt=lFe.global,Yse,rRt={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function nRt(r){r.addExtUnpacker(14,[Sv,_0(Error)]),r.addExtUnpacker(1,[Sv,_0(EvalError)]),r.addExtUnpacker(2,[Sv,_0(RangeError)]),r.addExtUnpacker(3,[Sv,_0(ReferenceError)]),r.addExtUnpacker(4,[Sv,_0(SyntaxError)]),r.addExtUnpacker(5,[Sv,_0(TypeError)]),r.addExtUnpacker(6,[Sv,_0(URIError)]),r.addExtUnpacker(10,[Sv,iRt]),r.addExtUnpacker(11,[Sv,th(Boolean)]),r.addExtUnpacker(12,[Sv,th(String)]),r.addExtUnpacker(13,[Sv,th(Date)]),r.addExtUnpacker(15,[Sv,th(Number)]),typeof Uint8Array<"u"&&(r.addExtUnpacker(17,th(Int8Array)),r.addExtUnpacker(18,th(Uint8Array)),r.addExtUnpacker(19,[cD,th(Int16Array)]),r.addExtUnpacker(20,[cD,th(Uint16Array)]),r.addExtUnpacker(21,[cD,th(Int32Array)]),r.addExtUnpacker(22,[cD,th(Uint32Array)]),r.addExtUnpacker(23,[cD,th(Float32Array)]),typeof Float64Array<"u"&&r.addExtUnpacker(24,[cD,th(Float64Array)]),typeof Uint8ClampedArray<"u"&&r.addExtUnpacker(25,th(Uint8ClampedArray)),r.addExtUnpacker(26,cD),r.addExtUnpacker(29,[cD,th(DataView)])),lFe.hasBuffer&&r.addExtUnpacker(27,th(tRt))}function Sv(r){return Yse||(Yse=Jse().decode),Yse(r)}function iRt(r){return RegExp.apply(null,r)}function _0(r){return function(e){var t=new r;for(var n in rRt)t[n]=e[n];return t}}function th(r){return function(e){return new r(e)}}function cD(r){return new Uint8Array(r).buffer}});var Zse=P(Qse=>{var pFe=Bse(),hFe=i3(),mFe=hFe.Uint64BE,gFe=hFe.Int64BE;Qse.getReadFormat=aRt;Qse.readUint8=vFe;var Xse=lg(),u3=t3(),oRt=typeof Map<"u",sRt=!0;function aRt(r){var e=Xse.hasArrayBuffer&&r&&r.binarraybuffer,t=r&&r.int64,n=oRt&&r&&r.usemap,i={map:n?uRt:cRt,array:lRt,str:dRt,bin:e?pRt:fRt,ext:hRt,uint8:vFe,uint16:gRt,uint32:yRt,uint64:c3(8,t?SRt:_Rt),int8:mRt,int16:vRt,int32:bRt,int64:c3(8,t?CRt:wRt),float32:c3(4,DRt),float64:c3(8,TRt)};return i}function cRt(r,e){var t={},n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t[i[n]]=o[n];return t}function uRt(r,e){var t=new Map,n,i=new Array(e),o=new Array(e),s=r.codec.decode;for(n=0;n<e;n++)i[n]=s(r),o[n]=s(r);for(n=0;n<e;n++)t.set(i[n],o[n]);return t}function lRt(r,e){for(var t=new Array(e),n=r.codec.decode,i=0;i<e;i++)t[i]=n(r);return t}function dRt(r,e){var t=r.reserve(e),n=t+e;return u3.toString.call(r.buffer,"utf-8",t,n)}function fRt(r,e){var t=r.reserve(e),n=t+e,i=u3.slice.call(r.buffer,t,n);return Xse.from(i)}function pRt(r,e){var t=r.reserve(e),n=t+e,i=u3.slice.call(r.buffer,t,n);return Xse.Uint8Array.from(i).buffer}function hRt(r,e){var t=r.reserve(e+1),n=r.buffer[t++],i=t+e,o=r.codec.getExtUnpacker(n);if(!o)throw new Error("Invalid ext type: "+(n&&"0x"+n.toString(16)));var s=u3.slice.call(r.buffer,t,i);return o(s)}function vFe(r){var e=r.reserve(1);return r.buffer[e]}function mRt(r){var e=r.reserve(1),t=r.buffer[e];return t&128?t-256:t}function gRt(r){var e=r.reserve(2),t=r.buffer;return t[e++]<<8|t[e]}function vRt(r){var e=r.reserve(2),t=r.buffer,n=t[e++]<<8|t[e];return n&32768?n-65536:n}function yRt(r){var e=r.reserve(4),t=r.buffer;return t[e++]*16777216+(t[e++]<<16)+(t[e++]<<8)+t[e]}function bRt(r){var e=r.reserve(4),t=r.buffer;return t[e++]<<24|t[e++]<<16|t[e++]<<8|t[e]}function c3(r,e){return function(t){var n=t.reserve(r);return e.call(t.buffer,n,sRt)}}function _Rt(r){return new mFe(this,r).toNumber()}function wRt(r){return new gFe(this,r).toNumber()}function SRt(r){return new mFe(this,r)}function CRt(r){return new gFe(this,r)}function DRt(r){return pFe.read(this,r,!1,23,4)}function TRt(r){return pFe.read(this,r,!1,52,8)}});var _Fe=P(bFe=>{var PRt=Zse();bFe.getReadToken=RRt;function RRt(r){var e=PRt.getReadFormat(r);return r&&r.useraw?xRt(e):yFe(e)}function yFe(r){var e,t=new Array(256);for(e=0;e<=127;e++)t[e]=ML(e);for(e=128;e<=143;e++)t[e]=hS(e-128,r.map);for(e=144;e<=159;e++)t[e]=hS(e-144,r.array);for(e=160;e<=191;e++)t[e]=hS(e-160,r.str);for(t[192]=ML(null),t[193]=null,t[194]=ML(!1),t[195]=ML(!0),t[196]=dg(r.uint8,r.bin),t[197]=dg(r.uint16,r.bin),t[198]=dg(r.uint32,r.bin),t[199]=dg(r.uint8,r.ext),t[200]=dg(r.uint16,r.ext),t[201]=dg(r.uint32,r.ext),t[202]=r.float32,t[203]=r.float64,t[204]=r.uint8,t[205]=r.uint16,t[206]=r.uint32,t[207]=r.uint64,t[208]=r.int8,t[209]=r.int16,t[210]=r.int32,t[211]=r.int64,t[212]=hS(1,r.ext),t[213]=hS(2,r.ext),t[214]=hS(4,r.ext),t[215]=hS(8,r.ext),t[216]=hS(16,r.ext),t[217]=dg(r.uint8,r.str),t[218]=dg(r.uint16,r.str),t[219]=dg(r.uint32,r.str),t[220]=dg(r.uint16,r.array),t[221]=dg(r.uint32,r.array),t[222]=dg(r.uint16,r.map),t[223]=dg(r.uint32,r.map),e=224;e<=255;e++)t[e]=ML(e-256);return t}function xRt(r){var e,t=yFe(r).slice();for(t[217]=t[196],t[218]=t[197],t[219]=t[198],e=160;e<=191;e++)t[e]=hS(e-160,r.bin);return t}function ML(r){return function(){return r}}function dg(r,e){return function(t){var n=r(t);return e(t,n)}}function hS(r,e){return function(t){return e(t,r)}}});var l3=P(SFe=>{var ERt=r3().ExtBuffer,ORt=fFe(),IRt=Zse().readUint8,kRt=_Fe(),eae=kL();eae.install({addExtUnpacker:MRt,getExtUnpacker:LRt,init:wFe});SFe.preset=wFe.call(eae.preset);function ARt(r){var e=kRt.getReadToken(r);return t;function t(n){var i=IRt(n),o=e[i];if(!o)throw new Error("Invalid type: "+(i&&"0x"+i.toString(16)));return o(n)}}function wFe(){var r=this.options;return this.decode=ARt(r),r&&r.preset&&ORt.setExtUnpackers(this),this}function MRt(r,e){var t=this.extUnpackers||(this.extUnpackers=[]);t[r]=eae.filter(e)}function LRt(r){var e=this.extUnpackers||(this.extUnpackers=[]);return e[r]||t;function t(n){return new ERt(n,r)}}});var d3=P(CFe=>{CFe.DecodeBuffer=dO;var NRt=l3().preset,FRt=Kse().FlexDecoder;FRt.mixin(dO.prototype);function dO(r){if(!(this instanceof dO))return new dO(r);if(r&&(this.options=r,r.codec)){var e=this.codec=r.codec;e.bufferish&&(this.bufferish=e.bufferish)}}dO.prototype.codec=NRt;dO.prototype.fetch=function(){return this.codec.decode(this)}});var Jse=P(DFe=>{DFe.decode=jRt;var qRt=d3().DecodeBuffer;function jRt(r,e){var t=new qRt(e);return t.write(r),t.read()}});var nae=P((fQt,rae)=>{function tae(){if(!(this instanceof tae))return new tae}(function(r){typeof rae<"u"&&(rae.exports=r);var e="listeners",t={on:i,once:o,off:s,emit:a};n(r.prototype),r.mixin=n;function n(u){for(var l in t)u[l]=t[l];return u}function i(u,l){return c(this,u).push(l),this}function o(u,l){var d=this;return f.originalListener=l,c(d,u).push(f),d;function f(){s.call(d,u,f),l.apply(this,arguments)}}function s(u,l){var d=this,f;if(!arguments.length)delete d[e];else if(l){if(f=c(d,u,!0),f){if(f=f.filter(y),!f.length)return s.call(d,u);d[e][u]=f}}else if(f=d[e],f&&(delete f[u],!Object.keys(f).length))return s.call(d);return d;function y(b){return b!==l&&b.originalListener!==l}}function a(u,l){var d=this,f=c(d,u,!0);if(!f)return!1;var y=arguments.length;if(y===1)f.forEach(T);else if(y===2)f.forEach(k);else{var b=Array.prototype.slice.call(arguments,1);f.forEach(z)}return!!f.length;function T(A){A.call(d)}function k(A){A.call(d,l)}function z(A){A.apply(d,b)}}function c(u,l,d){if(!(d&&!u[e])){var f=u[e]||(u[e]={});return f[l]||(f[l]=[])}}})(tae)});var RFe=P(PFe=>{PFe.Encoder=w0;var zRt=nae(),TFe=a3().EncodeBuffer;function w0(r){if(!(this instanceof w0))return new w0(r);TFe.call(this,r)}w0.prototype=new TFe;zRt.mixin(w0.prototype);w0.prototype.encode=function(r){this.write(r),this.emit("data",this.read())};w0.prototype.end=function(r){arguments.length&&this.encode(r),this.flush(),this.emit("end")}});var OFe=P(EFe=>{EFe.Decoder=uD;var URt=nae(),xFe=d3().DecodeBuffer;function uD(r){if(!(this instanceof uD))return new uD(r);xFe.call(this,r)}uD.prototype=new xFe;URt.mixin(uD.prototype);uD.prototype.decode=function(r){arguments.length&&this.write(r),this.flush()};uD.prototype.push=function(r){this.emit("data",r)};uD.prototype.end=function(r){this.decode(r),this.emit("end")}});var AFe=P(kFe=>{kFe.createEncodeStream=fO;var HRt=require("util"),IFe=require("stream").Transform,WRt=a3().EncodeBuffer;HRt.inherits(fO,IFe);var BRt={objectMode:!0};function fO(r){if(!(this instanceof fO))return new fO(r);r?r.objectMode=!0:r=BRt,IFe.call(this,r);var e=this,t=this.encoder=new WRt(r);t.push=function(n){e.push(n)}}fO.prototype._transform=function(r,e,t){this.encoder.write(r),t&&t()};fO.prototype._flush=function(r){this.encoder.flush(),r&&r()}});var NFe=P(LFe=>{LFe.createDecodeStream=LL;var $Rt=require("util"),MFe=require("stream").Transform,VRt=d3().DecodeBuffer;$Rt.inherits(LL,MFe);var GRt={objectMode:!0};function LL(r){if(!(this instanceof LL))return new LL(r);r?r.objectMode=!0:r=GRt,MFe.call(this,r);var e=this,t=this.decoder=new VRt(r);t.push=function(n){e.push(n)}}LL.prototype._transform=function(r,e,t){this.decoder.write(r),this.decoder.flush(),t&&t()}});var qFe=P(FFe=>{l3();s3();FFe.createCodec=kL().createCodec});var zFe=P(jFe=>{l3();s3();jFe.codec={preset:kL().preset}});var iae=P(mS=>{mS.encode=Hse().encode;mS.decode=Jse().decode;mS.Encoder=RFe().Encoder;mS.Decoder=OFe().Decoder;mS.createEncodeStream=AFe().createEncodeStream;mS.createDecodeStream=NFe().createDecodeStream;mS.createCodec=qFe().createCodec;mS.codec=zFe().codec});var oae=P(NL=>{"use strict";Object.defineProperty(NL,"__esModule",{value:!0});NL.ControlCode=void 0;var KRt;(function(r){r[r.offer=0]="offer",r[r.offerAccepted=1]="offerAccepted",r[r.content=2]="content",r[r.contentWritingCompleted=3]="contentWritingCompleted",r[r.channelTerminated=4]="channelTerminated",r[r.contentProcessed=5]="contentProcessed"})(KRt=NL.ControlCode||(NL.ControlCode={}))});var p3=P(f3=>{"use strict";Object.defineProperty(f3,"__esModule",{value:!0});f3.FrameHeader=void 0;var YRt=eO(),sae=class{constructor(e,t){this.code=e,t&&(0,YRt.requireInteger)("channelId",t.id,4,"signed"),this.code=e,this._channel=t}get channel(){return this._channel}get requiredChannel(){if(this.channel)return this.channel;throw new Error("Expected channel not present in frame header.")}flipChannelPerspective(){this._channel&&(this._channel={id:this._channel.id,source:this._channel.source*-1})}};f3.FrameHeader=sae});var FL=P(lD=>{"use strict";Object.defineProperty(lD,"__esModule",{value:!0});lD.QualifiedChannelId=lD.ChannelSource=void 0;var h3;(function(r){r[r.Local=1]="Local",r[r.Remote=-1]="Remote",r[r.Seeded=0]="Seeded"})(h3=lD.ChannelSource||(lD.ChannelSource={}));var JRt;(function(r){function e(t){let n=t.source===h3.Local?"local":t.source===h3.Remote?"remote":t.source===h3.Seeded?"seeded":"unknown";return`${t.id} (${n})`}r.toString=e})(JRt=lD.QualifiedChannelId||(lD.QualifiedChannelId={}))});var WFe=P(g_=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});g_.MultiplexingStreamV3Formatter=g_.MultiplexingStreamV2Formatter=g_.MultiplexingStreamV1Formatter=g_.MultiplexingStreamFormatter=void 0;var aae=v3(),XRt=require("crypto"),gS=eO(),fg=iae(),UFe=PL(),cae=p3(),HFe=FL(),vS=class{static getIsOddRandomData(){return(0,XRt.randomBytes)(16)}static isOdd(e,t){let n;for(let i=0;i<e.length;i++){let o=e[i],s=t[i];if(o>s){n=!0;break}else if(o<s){n=!1;break}}if(n===void 0)throw new Error("Unable to determine even/odd party.");return n}createFrameHeader(e,t){if(!t)return new cae.FrameHeader(e);let i=t%2===1===this.isOdd?HFe.ChannelSource.Remote:HFe.ChannelSource.Local;return new cae.FrameHeader(e,{id:t,source:i})}};g_.MultiplexingStreamFormatter=vS;var m3=class r extends vS{constructor(e){super(),this.stream=e}end(){this.stream.end()}async writeHandshakeAsync(){let e=vS.getIsOddRandomData(),t=Buffer.concat([r.protocolMagicNumber,e]);return await(0,gS.writeAsync)(this.stream,t),e}async readHandshakeAsync(e,t){let n=e,i=await(0,gS.getBufferFrom)(this.stream,r.protocolMagicNumber.length+16,!1,t);for(let s=0;s<r.protocolMagicNumber.length;s++){let a=r.protocolMagicNumber[s],c=i.readUInt8(s);if(a!==c)throw new Error(`Protocol magic number mismatch. Expected ${a} but was ${c}.`)}return{isOdd:vS.isOdd(n,i.slice(r.protocolMagicNumber.length)),protocolVersion:{major:1,minor:0}}}async writeFrameAsync(e,t){var n;let i=Buffer.alloc(7);i.writeInt8(e.code,0),i.writeUInt32BE(((n=e.channel)===null||n===void 0?void 0:n.id)||0,1),i.writeUInt16BE(t?.length||0,5),await(0,gS.writeAsync)(this.stream,i),t&&t.length>0&&await(0,gS.writeAsync)(this.stream,t)}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await(0,gS.getBufferFrom)(this.stream,7,!0,e);if(t===null)return null;let n=this.createFrameHeader(t.readInt8(0),t.readUInt32BE(1)),i=t.readUInt16BE(5),o=await(0,gS.getBufferFrom)(this.stream,i);return{header:n,payload:o}}serializeOfferParameters(e){let t=Buffer.from(e.name,aae.MultiplexingStream.ControlFrameEncoding);if(t.length>aae.MultiplexingStream.framePayloadMaxLength)throw new Error("Name is too long.");return t}deserializeOfferParameters(e){return{name:e.toString(aae.MultiplexingStream.ControlFrameEncoding)}}serializeAcceptanceParameters(e){return Buffer.from([])}deserializeAcceptanceParameters(e){return{}}serializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}deserializeContentProcessed(e){throw new Error("Not supported in the V1 protocol.")}};g_.MultiplexingStreamV1Formatter=m3;m3.protocolMagicNumber=Buffer.from([47,223,29,80]);var qL=class r extends vS{constructor(e){super(),this.reader=fg.createDecodeStream(),e.pipe(this.reader),this.writer=e}end(){this.writer.end()}async writeHandshakeAsync(){let e=vS.getIsOddRandomData(),t=[[r.protocolVersion.major,r.protocolVersion.minor],e];return await(0,gS.writeAsync)(this.writer,fg.encode(t)),e}async readHandshakeAsync(e,t){if(!e)throw new Error("Provide the result of writeHandshakeAsync as a first argument.");let n=await this.readMessagePackAsync(t);if(n===null)throw new Error("No data received during handshake.");return{isOdd:vS.isOdd(e,n[1]),protocolVersion:{major:n[0][0],minor:n[0][1]}}}async writeFrameAsync(e,t){var n;let i=[e.code];if(!((n=e.channel)===null||n===void 0)&&n.id)i.push(e.channel.id),t&&t.length>0&&i.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,gS.writeAsync)(this.writer,fg.encode(i))}async readFrameAsync(e){if(this.isOdd===void 0)throw new Error("isOdd must be set first.");let t=await this.readMessagePackAsync(e);return t===null?null:{header:this.createFrameHeader(t[0],t[1]),payload:t[2]||Buffer.from([])}}serializeOfferParameters(e){let t=[e.name];return e.remoteWindowSize&&t.push(e.remoteWindowSize),fg.encode(t)}deserializeOfferParameters(e){let t=fg.decode(e);return{name:t[0],remoteWindowSize:t[1]}}serializeAcceptanceParameters(e){let t=[];return e.remoteWindowSize&&t.push(e.remoteWindowSize),fg.encode(t)}deserializeAcceptanceParameters(e){return{remoteWindowSize:fg.decode(e)[0]}}serializeContentProcessed(e){return fg.encode([e])}deserializeContentProcessed(e){return fg.decode(e)[0]}serializeException(e){if(!e)return Buffer.alloc(0);let n=[`${e.name}: ${e.message}`];return fg.encode(n)}deserializeException(e){if(e.length===0)return null;let t=fg.decode(e);if(!t||t.length===0)return null;let n=fg.decode(e)[0];return n=`Received error from remote side: ${n}`,new Error(n)}async readMessagePackAsync(e){let t=new UFe.Deferred;for(;;){let n=this.reader.read();if(n===null){let i=new UFe.Deferred,o=i.resolve.bind(i),s=t.resolve.bind(t);this.reader.once("readable",o),this.reader.once("end",s);let a=Promise.race([i.promise,t.promise]);if(await(e?e.racePromise(a):a),this.reader.removeListener("readable",o),this.reader.removeListener("end",s),i.isCompleted)continue;return null}return n}}};g_.MultiplexingStreamV2Formatter=qL;qL.protocolVersion={major:2,minor:0};var g3=class r extends qL{writeHandshakeAsync(){return Promise.resolve(null)}readHandshakeAsync(){return Promise.resolve({protocolVersion:r.protocolV3Version})}async writeFrameAsync(e,t){let n=[e.code];if(e.channel)n.push(e.channel.id),n.push(e.channel.source),t&&t.length>0&&n.push(t);else if(t&&t.length>0)throw new Error("A frame may not contain payload without a channel ID.");await(0,gS.writeAsync)(this.writer,fg.encode(n))}async readFrameAsync(e){let t=await this.readMessagePackAsync(e);return t===null?null:{header:new cae.FrameHeader(t[0],t.length>1?{id:t[1],source:t[2]}:void 0),payload:t[3]||Buffer.from([])}}};g_.MultiplexingStreamV3Formatter=g3;g3.protocolV3Version={major:2,minor:0}});var $Fe=P(BFe=>{"use strict";Object.defineProperty(BFe,"__esModule",{value:!0})});var y3=P((TQt,VFe)=>{"use strict";VFe.exports=(r=>e=>(e.catch(r),e))(()=>{})});var v3=P(gO=>{"use strict";Object.defineProperty(gO,"__esModule",{value:!0});gO.MultiplexingStreamClass=gO.MultiplexingStream=void 0;var QRt=Dse(),pO=oD(),ZRt=require("events"),w3=uae(),Cv=oae(),GFe=PL(),mO=p3(),b3=WFe();$Fe();var yS=FL(),hO=eO(),_3=y3(),bS=class r{constructor(e,t,n){var i,o,s;if(this.formatter=e,this.isOdd=t,this._completionSource=new GFe.Deferred,this.seededOpenChannels={},this.locallyOfferedOpenChannels={},this.remotelyOfferedOpenChannels={},this.channelsOfferedByThemByName={},this.acceptingChannels={},this.eventEmitter=new ZRt.EventEmitter,this.disposalTokenSource=pO.default.create(),this.defaultChannelReceivingWindowSize=(i=n.defaultChannelReceivingWindowSize)!==null&&i!==void 0?i:r.recommendedDefaultChannelReceivingWindowSize,this.protocolMajorVersion=(o=n.protocolMajorVersion)!==null&&o!==void 0?o:1,n.seededChannels)for(let a=0;a<n.seededChannels.length;a++){let c=n.seededChannels[a],u={id:a,source:yS.ChannelSource.Seeded};this.setOpenChannel(new w3.ChannelClass(this,u,{name:"",remoteWindowSize:(s=c.channelReceivingWindowSize)!==null&&s!==void 0?s:this.defaultChannelReceivingWindowSize}))}}get disposalToken(){return this.disposalTokenSource.token}get completion(){return this._completionSource.promise}get isDisposed(){return this.disposalTokenSource.token.isCancelled}static async CreateAsync(e,t,n=pO.default.CONTINUE){var i;if(!e)throw new Error("stream must be specified.");if(t=t||{},(i=t.protocolMajorVersion)!==null&&i!==void 0||(t.protocolMajorVersion=1),t.defaultChannelReceivingWindowSize=t.defaultChannelReceivingWindowSize||r.recommendedDefaultChannelReceivingWindowSize,t.protocolMajorVersion<3&&t.seededChannels&&t.seededChannels.length>0)throw new Error("Seeded channels require v3 of the protocol at least.");let o=t.protocolMajorVersion===1?new b3.MultiplexingStreamV1Formatter(e):t.protocolMajorVersion===2?new b3.MultiplexingStreamV2Formatter(e):t.protocolMajorVersion===3?new b3.MultiplexingStreamV3Formatter(e):void 0;if(!o)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported.`);let s=await o.writeHandshakeAsync(),a=await o.readHandshakeAsync(s,n);return o.isOdd=a.isOdd,new jL(o,a.isOdd,t)}static Create(e,t){var n;t??(t={protocolMajorVersion:3}),(n=t.protocolMajorVersion)!==null&&n!==void 0||(t.protocolMajorVersion=3);let i=t.protocolMajorVersion===3?new b3.MultiplexingStreamV3Formatter(e):void 0;if(!i)throw new Error(`Protocol major version ${t.protocolMajorVersion} is not supported. Try CreateAsync instead.`);return new jL(i,void 0,t)}createChannel(e){var t;let n={name:"",remoteWindowSize:(t=e?.channelReceivingWindowSize)!==null&&t!==void 0?t:this.defaultChannelReceivingWindowSize},i=this.formatter.serializeOfferParameters(n),o=new w3.ChannelClass(this,{id:this.getUnusedChannelId(),source:yS.ChannelSource.Local},n);return this.setOpenChannel(o),this.rejectOnFailure(this.sendFrameAsync(new mO.FrameHeader(Cv.ControlCode.offer,o.qualifiedId),i,this.disposalToken)),o}acceptChannel(e,t){let n=this.remotelyOfferedOpenChannels[e]||this.seededOpenChannels[e];if(!n)throw new Error("No channel with ID "+e);return this.removeChannelFromOfferedQueue(n),this.acceptChannelOrThrow(n,t),n}rejectChannel(e){let t=this.remotelyOfferedOpenChannels[e];if(t)(0,hO.removeFromQueue)(t,this.channelsOfferedByThemByName[t.name]);else throw new Error("No channel with that ID found.");_3(t.acceptance),_3(t.completion),t.dispose()}async offerChannelAsync(e,t,n=pO.default.CONTINUE){var i;if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,hO.throwIfDisposed)(this);let o={name:e,remoteWindowSize:(i=t?.channelReceivingWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize},s=this.formatter.serializeOfferParameters(o),a=new w3.ChannelClass(this,{id:this.getUnusedChannelId(),source:yS.ChannelSource.Local},o);this.setOpenChannel(a);let c=new mO.FrameHeader(Cv.ControlCode.offer,a.qualifiedId),u=n.onCancelled(l=>this.offerChannelCanceled(a,l));try{return _3(a.acceptance),await this.sendFrameAsync(c,s,n),await a.acceptance,a}finally{u()}}async acceptChannelAsync(e,t,n=pO.default.CONTINUE){if(e==null)throw new Error("Name must be specified (but may be empty).");n.throwIfCancelled(),(0,hO.throwIfDisposed)(this);let i,o,s=this.channelsOfferedByThemByName[e];if(s){for(;i===void 0&&s.length>0;)if(i=s.shift(),i.isAccepted||i.isRejectedOrCanceled){i=void 0;continue}}if(i===void 0){let a=this.acceptingChannels[e];a||(this.acceptingChannels[e]=a=[]),o=new GFe.Deferred(t),a.push(o)}if(i!==void 0)return this.acceptChannelOrThrow(i,t),i;{let a=n.onCancelled(c=>this.acceptChannelCanceled(o,e,c));try{return await o.promise}finally{a()}}}dispose(){this.disposalTokenSource.cancel(),this._completionSource.resolve(),this.formatter.end(),[this.locallyOfferedOpenChannels,this.remotelyOfferedOpenChannels].forEach(e=>{for(let t in e)if(e.hasOwnProperty(t)){let n=e[t];_3(n.acceptance),n.dispose()}})}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}once(e,t){this.eventEmitter.once(e,t)}raiseChannelOffered(e,t,n){let i={id:e,isAccepted:n,name:t};try{this.eventEmitter.emit("channelOffered",i)}catch(o){this._completionSource.reject(o)}}acceptChannelOrThrow(e,t){var n,i;if(e.tryAcceptOffer(t)){let o={remoteWindowSize:(i=(n=t?.channelReceivingWindowSize)!==null&&n!==void 0?n:e.localWindowSize)!==null&&i!==void 0?i:this.defaultChannelReceivingWindowSize};if(o.remoteWindowSize<this.defaultChannelReceivingWindowSize&&(o.remoteWindowSize=this.defaultChannelReceivingWindowSize),e.qualifiedId.source!==yS.ChannelSource.Seeded){let s=this.formatter.serializeAcceptanceParameters(o);this.rejectOnFailure(this.sendFrameAsync(new mO.FrameHeader(Cv.ControlCode.offerAccepted,e.qualifiedId),s,this.disposalToken))}}else throw e.isAccepted?new Error("Channel is already accepted."):e.isRejectedOrCanceled?new Error("Channel is no longer available for acceptance."):new Error("Channel could not be accepted.")}async rejectOnFailure(e){try{await e}catch(t){this._completionSource.reject(t)}}removeChannelFromOfferedQueue(e){e.name&&(0,hO.removeFromQueue)(e,this.channelsOfferedByThemByName[e.name])}getOpenChannel(e){return this.getChannelCollection(e.source)[e.id]}setOpenChannel(e){this.getChannelCollection(e.qualifiedId.source)[e.qualifiedId.id]=e}deleteOpenChannel(e){delete this.getChannelCollection(e.source)[e.id]}getChannelCollection(e){switch(e){case yS.ChannelSource.Local:return this.locallyOfferedOpenChannels;case yS.ChannelSource.Remote:return this.remotelyOfferedOpenChannels;case yS.ChannelSource.Seeded:return this.seededOpenChannels}}acceptChannelCanceled(e,t,n){e.reject(new pO.default.CancellationError(n))&&(0,hO.removeFromQueue)(e,this.acceptingChannels[t])}offerChannelCanceled(e,t){e.tryCancelOffer(t)}getUnusedChannelId(){return this.lastOfferedChannelId+=this.isOdd!==void 0?2:1}};gO.MultiplexingStream=bS;bS.framePayloadMaxLength=20*1024;bS.recommendedDefaultChannelReceivingWindowSize=5*bS.framePayloadMaxLength;bS.defaultChannelOptions={};bS.ControlFrameEncoding="utf-8";var jL=class extends bS{constructor(e,t,n){var i,o;super(e,t,n),this.sendingSemaphore=new QRt.Semaphore(1),this.lastOfferedChannelId=t?-1:0,this.lastOfferedChannelId+=(o=(i=n.seededChannels)===null||i===void 0?void 0:i.length)!==null&&o!==void 0?o:0,this.readFromStream(this.disposalToken).catch(s=>this._completionSource.reject(s))}get backpressureSupportEnabled(){return this.protocolMajorVersion>1}async sendFrameAsync(e,t,n=pO.default.CONTINUE){if(!e)throw new Error("Header is required.");await this.sendingSemaphore.use(async()=>{n.throwIfCancelled(),(0,hO.throwIfDisposed)(this),await this.formatter.writeFrameAsync(e,t)})}async sendFrame(e,t){try{if(this._completionSource.isCompleted)return;let n=new mO.FrameHeader(e,t);await this.sendFrameAsync(n)}catch(n){this._completionSource.reject(n)}}onChannelWritingCompleted(e){!e.isDisposed&&this.getOpenChannel(e.qualifiedId)&&this.sendFrame(Cv.ControlCode.contentWritingCompleted,e.qualifiedId)}async onChannelDisposed(e,t){if(!this._completionSource.isCompleted)try{let n=this.protocolMajorVersion>1&&t?this.formatter.serializeException(t):Buffer.alloc(0),i=new mO.FrameHeader(Cv.ControlCode.channelTerminated,e.qualifiedId);await this.sendFrameAsync(i,n)}catch(n){if(this.isDisposed)return;throw n}}localContentExamined(e,t){let n=this.formatter.serializeContentProcessed(t);this.rejectOnFailure(this.sendFrameAsync(new mO.FrameHeader(Cv.ControlCode.contentProcessed,e.qualifiedId),n))}async readFromStream(e){for(;!this.isDisposed;){let t=await this.formatter.readFrameAsync(e);if(t===null)break;switch(t.header.flipChannelPerspective(),t.header.code){case Cv.ControlCode.offer:this.onOffer(t.header.requiredChannel,t.payload);break;case Cv.ControlCode.offerAccepted:this.onOfferAccepted(t.header.requiredChannel,t.payload);break;case Cv.ControlCode.content:this.onContent(t.header.requiredChannel,t.payload);break;case Cv.ControlCode.contentProcessed:this.onContentProcessed(t.header.requiredChannel,t.payload);break;case Cv.ControlCode.contentWritingCompleted:this.onContentWritingCompleted(t.header.requiredChannel);break;case Cv.ControlCode.channelTerminated:this.onChannelTerminated(t.header.requiredChannel,t.payload);break;default:break}}this.dispose()}onOffer(e,t){let n=this.formatter.deserializeOfferParameters(t),i=new w3.ChannelClass(this,e,n),o=!1,s,a;if((a=this.acceptingChannels[n.name])!==void 0)for(;a.length>0;){let c=a.shift();if(c.resolve(i)){o=!0,s=c.state;break}}if(!o&&n.name){let c;(c=this.channelsOfferedByThemByName[n.name])||(this.channelsOfferedByThemByName[n.name]=c=[]),c.push(i)}this.setOpenChannel(i),o&&this.acceptChannelOrThrow(i,s),this.raiseChannelOffered(i.id,i.name,o)}onOfferAccepted(e,t){if(e.source!==yS.ChannelSource.Local)throw new Error("Remote party tried to accept a channel that they offered.");let n=this.formatter.deserializeAcceptanceParameters(t),i=this.getOpenChannel(e);if(!i)throw new Error(`Unexpected channel created with ID ${yS.QualifiedChannelId.toString(e)}`);i.onAccepted(n)}onContent(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);n.onContent(t)}onContentProcessed(e,t){let n=this.getOpenChannel(e);if(!n)throw new Error(`No channel with id ${e} found.`);let i=this.formatter.deserializeContentProcessed(t);n.onContentProcessed(i)}onContentWritingCompleted(e){let t=this.getOpenChannel(e);if(!t)throw new Error(`No channel with id ${e} found.`);t.onContent(null)}onChannelTerminated(e,t){let n=this.getOpenChannel(e);if(n){this.deleteOpenChannel(e),this.removeChannelFromOfferedQueue(n);let i=this.protocolMajorVersion>1?this.formatter.deserializeException(t):null;n.dispose(i)}}};gO.MultiplexingStreamClass=jL});var uae=P(vO=>{"use strict";Object.defineProperty(vO,"__esModule",{value:!0});vO.ChannelClass=vO.Channel=void 0;var KFe=oD(),ext=require("stream"),txt=oae(),S3=PL(),rxt=p3(),nxt=v3(),lae=FL(),dae=y3(),C3=class{constructor(e){this._isDisposed=!1,this.qualifiedId=e}get id(){return this.qualifiedId.id}get isDisposed(){return this._isDisposed}dispose(e){this._isDisposed=!0}};vO.Channel=C3;var fae=class extends C3{constructor(e,t,n){super(t),this._acceptance=new S3.Deferred,this._completion=new S3.Deferred,this.remoteWindowFilled=0;let i=this;switch(this.name=n.name,t.source){case lae.ChannelSource.Local:this.localWindowSize=n.remoteWindowSize;break;case lae.ChannelSource.Remote:this.remoteWindowSize=n.remoteWindowSize;break;case lae.ChannelSource.Seeded:this.remoteWindowSize=n.remoteWindowSize,this.localWindowSize=n.remoteWindowSize;break;default:throw new Error("Channel source not recognized.")}this._multiplexingStream=e,this.remoteWindowHasCapacity=new S3.Deferred,(!this._multiplexingStream.backpressureSupportEnabled||this.remoteWindowSize)&&this.remoteWindowHasCapacity.resolve(),this._duplex=new ext.Duplex({async write(o,s,a){let c;try{let u=Buffer.from(o);for(;u.length>0;){let l=Math.min(u.length,nxt.MultiplexingStream.framePayloadMaxLength);if(i._multiplexingStream.backpressureSupportEnabled){if(await i.remoteWindowHasCapacity.promise,!i.remoteWindowSize)throw new Error("Remote window size unknown.");l=Math.min(i.remoteWindowSize-i.remoteWindowFilled,l)}i.onTransmittingBytes(l);let d=new rxt.FrameHeader(txt.ControlCode.content,t);await e.sendFrameAsync(d,u.slice(0,l)),u=u.slice(l)}}catch(u){c=u}a&&a(c)},async final(o){let s;try{await e.onChannelWritingCompleted(i)}catch(a){s=a}o&&o(s)},read(){}})}get stream(){return this._duplex}get acceptance(){return this._acceptance.promise}get isAccepted(){return this._acceptance.isResolved}get isRejectedOrCanceled(){return this._acceptance.isRejected}get completion(){return this._completion.promise}tryAcceptOffer(e){return this._acceptance.resolve()?(this.localWindowSize=e?.channelReceivingWindowSize!==void 0?Math.max(this._multiplexingStream.defaultChannelReceivingWindowSize,e?.channelReceivingWindowSize):this._multiplexingStream.defaultChannelReceivingWindowSize,!0):!1}tryCancelOffer(e){let t=new KFe.default.CancellationError(e);this._acceptance.reject(t),this._completion.reject(t),dae(this._completion.promise),this.dispose()}onAccepted(e){return this._multiplexingStream.backpressureSupportEnabled&&(this.remoteWindowSize=e.remoteWindowSize,this.remoteWindowHasCapacity.resolve()),this._acceptance.resolve()}onContent(e){this._duplex.push(e),this._multiplexingStream.backpressureSupportEnabled&&e&&this._multiplexingStream.localContentExamined(this,e.length)}onContentProcessed(e){if(e<0)throw new Error("A non-negative number is required.");if(e>this.remoteWindowFilled)throw new Error("More bytes processed than we thought were in the window.");if(this.remoteWindowSize===void 0)throw new Error("Unexpected content processed message given we don't know the remote window size.");this.remoteWindowFilled-=e,this.remoteWindowFilled<this.remoteWindowSize&&this.remoteWindowHasCapacity.resolve()}dispose(e){this.isDisposed||(super.dispose(),this._acceptance.reject(new KFe.default.CancellationError("disposed"))&&dae(this.acceptance),this._duplex.end(),this._duplex.push(null),e?this._completion.reject(e):this._completion.resolve(),dae(this._multiplexingStream.onChannelDisposed(this,e??null)))}onTransmittingBytes(e){if(this._multiplexingStream.backpressureSupportEnabled){if(e<0)throw new Error("Negative byte count transmitted.");this.remoteWindowFilled+=e,this.remoteWindowFilled===this.remoteWindowSize&&(this.remoteWindowHasCapacity=new S3.Deferred)}}};vO.ChannelClass=fae});var YFe=P(D3=>{"use strict";Object.defineProperty(D3,"__esModule",{value:!0});D3.FullDuplexStream=void 0;var pae=require("stream"),hae=class r{static CreatePair(){let e=new pae.PassThrough,t=new pae.PassThrough;return{first:r.Splice(e,t),second:r.Splice(t,e)}}static Splice(e,t){let n=new pae.Duplex({write(i,o,s){t.write(i,o,s)},final(i){t.end(i)}});return n.read=e.read.bind(e),n.on=e.on.bind(e),n}};D3.FullDuplexStream=hae});var zL=P(tp=>{"use strict";Object.defineProperty(tp,"__esModule",{value:!0});tp.ChannelSource=tp.QualifiedChannelId=tp.readSubstream=tp.writeSubstream=tp.MultiplexingStream=tp.FullDuplexStream=tp.Channel=void 0;var ixt=uae();Object.defineProperty(tp,"Channel",{enumerable:!0,get:function(){return ixt.Channel}});var oxt=YFe();Object.defineProperty(tp,"FullDuplexStream",{enumerable:!0,get:function(){return oxt.FullDuplexStream}});var sxt=v3();Object.defineProperty(tp,"MultiplexingStream",{enumerable:!0,get:function(){return sxt.MultiplexingStream}});var JFe=eO();Object.defineProperty(tp,"writeSubstream",{enumerable:!0,get:function(){return JFe.writeSubstream}});Object.defineProperty(tp,"readSubstream",{enumerable:!0,get:function(){return JFe.readSubstream}});var XFe=FL();Object.defineProperty(tp,"QualifiedChannelId",{enumerable:!0,get:function(){return XFe.QualifiedChannelId}});Object.defineProperty(tp,"ChannelSource",{enumerable:!0,get:function(){return XFe.ChannelSource}})});var QFe=P(yO=>{"use strict";Object.defineProperty(yO,"__esModule",{value:!0});yO.NodeStreamMessageWriter=yO.NodeStreamMessageReader=void 0;var _S=m0(),mae=class extends _S.ReadableStreamMessageReader{constructor(e,t){super(new vae(e),t)}};yO.NodeStreamMessageReader=mae;var gae=class extends _S.WriteableStreamMessageWriter{constructor(e,t){super(new yae(e),t)}};yO.NodeStreamMessageWriter=gae;var vae=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),_S.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),_S.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),_S.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),_S.Disposable.create(()=>this.stream.off("data",e))}},yae=class{stream;constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),_S.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),_S.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),_S.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,t,o):this.stream.write(e,o)})}end(){this.stream.end()}}});var Sae=P(Dv=>{"use strict";var axt=Dv&&Dv.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cxt=Dv&&Dv.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uxt=Dv&&Dv.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&axt(e,r,t);return cxt(e,r),e};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.JsonRpcConnection=Dv.ServiceJsonRpcDescriptor=void 0;var bae=YLe(),UL=rD(),lxt=CL(),_ae=hse(),T3=wse(),ZFe=lNe(),eqe=uxt(iae()),dxt=zL(),fxt=require("stream"),tqe=QFe(),rqe=bse(),wae=class r extends _ae.ServiceRpcDescriptor{formatter;messageDelimiter;protocol="json-rpc";multiplexingStreamOptions;connectionFactory;constructor(e,t,n,i){super(e),this.formatter=t,this.messageDelimiter=n;let o,s;switch(t){case UL.Formatters.Utf8:o=a=>Promise.resolve(Buffer.from(JSON.stringify(a))),s=a=>JSON.parse(a.toString());break;case UL.Formatters.MessagePack:o=a=>Promise.resolve(eqe.encode(a)),s=a=>eqe.decode(a);break;default:throw new Error(`Unsupported formatter: ${t}.`)}if(this.multiplexingStreamOptions=i===void 0?void 0:Object.freeze(i),n===UL.MessageDelimiters.HttpLikeHeaders){if(t!==UL.Formatters.Utf8)throw new Error("Utf8 is the only formatter supported while using HttpLikeHeaders.");this.connectionFactory=a=>(0,bae.createMessageConnection)(new tqe.NodeStreamMessageReader(a),new tqe.NodeStreamMessageWriter(a))}else if(n===UL.MessageDelimiters.BigEndianInt32LengthHeader)this.connectionFactory=a=>(0,bae.createMessageConnection)(new ZFe.BE32MessageReader(a,s),new ZFe.BE32MessageWriter(a,o));else throw new Error(`Unsupported message delimiter: ${n}.`)}constructRpcConnection(e){if(this.multiplexingStreamOptions){let t=this.createSeedChannels(),n=(0,T3.isChannel)(e)?e.stream:e,i=dxt.MultiplexingStream.Create(n,t),o=i.acceptChannel(0);return o.completion.finally(()=>i.dispose()),new HL((0,T3.constructMessageConnection)(o,this.connectionFactory))}return new HL((0,T3.constructMessageConnection)(e,this.connectionFactory))}equals(e){return!e||!(e instanceof r)||!lxt.ServiceMoniker.equals(e.moniker,this.moniker)?!1:this.formatter===e.formatter&&this.messageDelimiter===e.messageDelimiter}createSeedChannels(){if(this.multiplexingStreamOptions===void 0)throw new Error("multiplexingStreamOptions unset.");if(this.multiplexingStreamOptions.seededChannels===void 0||this.multiplexingStreamOptions.seededChannels.length===0){let e=(0,T3.clone)(this.multiplexingStreamOptions);return e.seededChannels=[{}],e.protocolMajorVersion=3,e}else return this.multiplexingStreamOptions}};Dv.ServiceJsonRpcDescriptor=wae;var pxt={get:(r,e)=>{switch(e.toString()){case"dispose":return function(){r.messageConnection.dispose()};case"_jsonRpc":return r.messageConnection;case"then":return;case"on":return function(t,n){return r.eventEmitter.on(t,n),r};case"once":return function(t,n){return r.eventEmitter.once(t,n),r};case"prependListener":return function(t,n){return r.eventEmitter.prependListener(t,n),r};case"prependOnceListener":return function(t,n){return r.eventEmitter.prependOnceListener(t,n),r};case"addListener":return function(t,n){return r.eventEmitter.addListener(t,n),r};case"rawListeners":return r.eventEmitter.rawListeners;case"removeAllListeners":return function(t){return r.eventEmitter.removeAllListeners(t),r};case"removeListener":return function(t,n){return r.eventEmitter.removeListener(t,n),r};case"off":return function(t,n){return r.eventEmitter.off(t,n),r};case"listenerCount":return r.eventEmitter.listenerCount;case"getMaxListeners":return r.eventEmitter.getMaxListeners;case"setMaxListeners":return function(t){return r.eventEmitter.setMaxListeners(t),r};case"eventNames":return function(){return r.eventEmitter.eventNames(),r};case"emit":return function(t,n){return r.eventEmitter.emit(t,n),r};default:return function(){let t=e.toString();return(0,rqe.invokeRpc)(e.toString(),arguments,r.messageConnection)}}}},HL=class extends _ae.RpcConnection{messageConnection;constructor(e){super(),this.messageConnection=e}addLocalRpcTarget(e){if((0,rqe.registerInstanceMethodsAsRpcTargets)(e,this.messageConnection),_ae.RpcConnection.IsRpcEventServer(e))for(let t of e.rpcEventNames)e.on(t,(...n)=>{this.messageConnection.sendNotification(t,bae.ParameterStructures.byPosition,...n)});typeof e.dispose=="function"&&this.messageConnection.onDispose(()=>e.dispose())}constructRpcClient(){let e={messageConnection:this.messageConnection,eventEmitter:new fxt.EventEmitter};return this.messageConnection.onNotification((t,n)=>Array.isArray(n)?e.eventEmitter.emit(t,...n):e.eventEmitter.emit(t,n)),new Proxy(e,pxt)}startListening(){this.messageConnection?.listen()}dispose(){}};Dv.JsonRpcConnection=HL});var x3=P(R3=>{"use strict";Object.defineProperty(R3,"__esModule",{value:!0});R3.FrameworkServices=void 0;var P3=rD(),nqe=Sae(),iqe=CL(),Cae=class{static remoteServiceBroker=Object.freeze(new nqe.ServiceJsonRpcDescriptor(iqe.ServiceMoniker.create("RemoteServiceBroker"),P3.Formatters.Utf8,P3.MessageDelimiters.HttpLikeHeaders));static authorization=Object.freeze(new nqe.ServiceJsonRpcDescriptor(iqe.ServiceMoniker.create("Microsoft.ServiceHub.Framework.AuthorizationService"),P3.Formatters.Utf8,P3.MessageDelimiters.HttpLikeHeaders))};R3.FrameworkServices=Cae});var Tae=P(bO=>{"use strict";var aqe=bO&&bO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bO,"__esModule",{value:!0});bO.AuthorizationServiceClient=void 0;var oqe=aqe(require("assert")),sqe=aqe(oD()),Dae=class{authService;ownsAuthService;isDisposed=!1;constructor(e,t=!0){this.authService=e,this.ownsAuthService=t,(0,oqe.default)(e),this.authService=e}async getCredentials(e=sqe.default.CONTINUE){if(this.isDisposed)throw new Error("Object is disposed");return await this.authService.getCredentials(e)}async checkAuthorization(e,t=sqe.default.CONTINUE){if((0,oqe.default)(e),this.isDisposed)throw new Error("Object is disposed");return await this.authService.checkAuthorization(e,t)}dispose(){this.isDisposed=!0,this.ownsAuthService&&this.authService.dispose()}};bO.AuthorizationServiceClient=Dae});var cqe=P(WL=>{"use strict";Object.defineProperty(WL,"__esModule",{value:!0});WL.IDisposable=void 0;var hxt;(function(r){function e(t){return typeof t.dispose=="function"}r.is=e})(hxt=WL.IDisposable||(WL.IDisposable={}))});function BL(){return E3>O3.length-16&&(uqe.default.randomFillSync(O3),E3=0),O3.slice(E3,E3+=16)}var uqe,O3,E3,Pae=Ti(()=>{uqe=be(require("crypto")),O3=new Uint8Array(256),E3=O3.length});var lqe,dqe=Ti(()=>{lqe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function mxt(r){return typeof r=="string"&&lqe.test(r)}var dD,$L=Ti(()=>{dqe();dD=mxt});function S0(r,e=0){return(Qd[r[e+0]]+Qd[r[e+1]]+Qd[r[e+2]]+Qd[r[e+3]]+"-"+Qd[r[e+4]]+Qd[r[e+5]]+"-"+Qd[r[e+6]]+Qd[r[e+7]]+"-"+Qd[r[e+8]]+Qd[r[e+9]]+"-"+Qd[r[e+10]]+Qd[r[e+11]]+Qd[r[e+12]]+Qd[r[e+13]]+Qd[r[e+14]]+Qd[r[e+15]]).toLowerCase()}function gxt(r,e=0){let t=S0(r,e);if(!dD(t))throw TypeError("Stringified UUID is invalid");return t}var Qd,fqe,VL=Ti(()=>{$L();Qd=[];for(let r=0;r<256;++r)Qd.push((r+256).toString(16).slice(1));fqe=gxt});function vxt(r,e,t){let n=e&&t||0,i=e||new Array(16);r=r||{};let o=r.node||pqe,s=r.clockseq!==void 0?r.clockseq:Rae;if(o==null||s==null){let f=r.random||(r.rng||BL)();o==null&&(o=pqe=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),s==null&&(s=Rae=(f[6]<<8|f[7])&16383)}let a=r.msecs!==void 0?r.msecs:Date.now(),c=r.nsecs!==void 0?r.nsecs:Eae+1,u=a-xae+(c-Eae)/1e4;if(u<0&&r.clockseq===void 0&&(s=s+1&16383),(u<0||a>xae)&&r.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");xae=a,Eae=c,Rae=s,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let d=a/4294967296*1e4&268435455;i[n++]=d>>>8&255,i[n++]=d&255,i[n++]=d>>>24&15|16,i[n++]=d>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let f=0;f<6;++f)i[n+f]=o[f];return e||S0(i)}var pqe,Rae,xae,Eae,hqe,mqe=Ti(()=>{Pae();VL();xae=0,Eae=0;hqe=vxt});function yxt(r){if(!dD(r))throw TypeError("Invalid UUID");let e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}var I3,Oae=Ti(()=>{$L();I3=yxt});function bxt(r){r=unescape(encodeURIComponent(r));let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}function GL(r,e,t){function n(i,o,s,a){var c;if(typeof i=="string"&&(i=bxt(i)),typeof o=="string"&&(o=I3(o)),((c=o)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+i.length);if(u.set(o),u.set(i,o.length),u=t(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=u[l];return s}return S0(u)}try{n.name=r}catch{}return n.DNS=_xt,n.URL=wxt,n}var _xt,wxt,Iae=Ti(()=>{VL();Oae();_xt="6ba7b810-9dad-11d1-80b4-00c04fd430c8",wxt="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Sxt(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),gqe.default.createHash("md5").update(r).digest()}var gqe,vqe,yqe=Ti(()=>{gqe=be(require("crypto"));vqe=Sxt});var Cxt,bqe,_qe=Ti(()=>{Iae();yqe();Cxt=GL("v3",48,vqe),bqe=Cxt});var wqe,kae,Sqe=Ti(()=>{wqe=be(require("crypto")),kae={randomUUID:wqe.default.randomUUID}});function Dxt(r,e,t){if(kae.randomUUID&&!e&&!r)return kae.randomUUID();r=r||{};let n=r.random||(r.rng||BL)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(let i=0;i<16;++i)e[t+i]=n[i];return e}return S0(n)}var Cqe,Dqe=Ti(()=>{Sqe();Pae();VL();Cqe=Dxt});function Txt(r){return Array.isArray(r)?r=Buffer.from(r):typeof r=="string"&&(r=Buffer.from(r,"utf8")),Tqe.default.createHash("sha1").update(r).digest()}var Tqe,Pqe,Rqe=Ti(()=>{Tqe=be(require("crypto"));Pqe=Txt});var Pxt,xqe,Eqe=Ti(()=>{Iae();Rqe();Pxt=GL("v5",80,Pqe),xqe=Pxt});var Oqe,Iqe=Ti(()=>{Oqe="00000000-0000-0000-0000-000000000000"});function Rxt(r){if(!dD(r))throw TypeError("Invalid UUID");return parseInt(r.slice(14,15),16)}var kqe,Aqe=Ti(()=>{$L();kqe=Rxt});var Aae={};NO(Aae,{NIL:()=>Oqe,parse:()=>I3,stringify:()=>fqe,v1:()=>hqe,v3:()=>bqe,v4:()=>Cqe,v5:()=>xqe,validate:()=>dD,version:()=>kqe});var Mae=Ti(()=>{mqe();_qe();Dqe();Eqe();Iqe();Aqe();$L();VL();Oae()});var Fae=P(k3=>{"use strict";Object.defineProperty(k3,"__esModule",{value:!0});k3.IpcRelayServiceBroker=void 0;var Lae=rD(),xxt=require("events"),Mqe=(Mae(),WS(Aae)),Ext=require("net"),Oxt=require("path"),Nae=class r extends xxt{serviceBroker;static _rpcEventNames=Object.freeze(["availabilityChanged"]);rpcEventNames=r._rpcEventNames;completion;channelsOfferedToClient={};disposed;constructor(e){super(),this.serviceBroker=e,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(t=>this.disposed=t)}handshake(e,t){if(!Lae.RemoteServiceConnections.contains(e.supportedConnections,Lae.RemoteServiceConnections.IpcPipe))throw new Error("The client must support IpcPipe to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=await this.serviceBroker.getPipe(e,t,n);if(!i)return{};let o=(0,Mqe.v4)(),s=Oxt.join(Lae.PIPE_NAME_PREFIX,(0,Mqe.v4)()),a=(0,Ext.createServer)(c=>{delete this.channelsOfferedToClient[o],c.pipe(i),i.pipe(c)});return a.listen(s),this.channelsOfferedToClient[o]=a,{requestId:o,pipeName:s}}cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(delete this.channelsOfferedToClient[e],n.close(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this));for(let e in this.channelsOfferedToClient)this.channelsOfferedToClient[e].close(),delete this.channelsOfferedToClient[e];this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};k3.IpcRelayServiceBroker=Nae});var Nqe=P(_O=>{"use strict";var Ixt=_O&&_O.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_O,"__esModule",{value:!0});_O.MultiplexingRelayServiceBroker=void 0;var Lqe=rD(),kxt=require("events"),Axt=zL(),Mxt=x3(),Lxt=Ixt(y3()),Nxt=(Mae(),WS(Aae)),qae=class r extends kxt{serviceBroker;multiplexingStreamWithClient;multiplexingStreamWithRemoteClientOwned;static _rpcEventNames=Object.freeze(["availabilityChanged"]);channelsOfferedToClient={};completion;rpcEventNames=r._rpcEventNames;disposed;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStreamWithClient=t,this.multiplexingStreamWithRemoteClientOwned=n,e.on("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.completion=new Promise(i=>this.disposed=i)}static async connectToServer(e,t,n){try{let i=await Axt.MultiplexingStream.CreateAsync(t,void 0,n),o=await i.offerChannelAsync("",void 0,n),s=new r(e,i,!0);return Mxt.FrameworkServices.remoteServiceBroker.constructRpc(s,o),s}catch(i){throw t.end(),i}}handshake(e,t){if(!Lqe.RemoteServiceConnections.contains(e.supportedConnections,Lqe.RemoteServiceConnections.Multiplexing))throw new Error("The client must support multiplexing to use this service broker.");return Promise.resolve()}async requestServiceChannel(e,t,n){let i=(0,Nxt.v4)();t=t?{...t}:{},t.multiplexingStream=this.multiplexingStreamWithClient;let o=await this.serviceBroker.getPipe(e,t,n);if(!o)return{};let s=this.multiplexingStreamWithClient.createChannel();return s.stream.pipe(o),o.pipe(s.stream),this.channelsOfferedToClient[i]=s,(0,Lxt.default)(s.acceptance.finally(()=>delete this.channelsOfferedToClient[i])),{requestId:i,multiplexingChannelId:s.qualifiedId.id}}async cancelServiceRequest(e,t){let n=this.channelsOfferedToClient[e];return n?(n.dispose(),Promise.resolve()):Promise.reject("Request to cancel a channel that is not awaiting acceptance.")}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged.bind(this)),this.multiplexingStreamWithRemoteClientOwned&&this.multiplexingStreamWithClient.dispose(),this.disposed&&this.disposed()}onAvailabilityChanged(e){this.emit("availabilityChanged",e)}};_O.MultiplexingRelayServiceBroker=qae});var qqe=P(C0=>{"use strict";var Fxt=C0&&C0.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(C0,"__esModule",{value:!0});C0.ProtectedOperation=void 0;var Fqe=Fxt(require("assert")),qxt;(function(r){function e(i,o){return Object.freeze({operationMoniker:i,requiredTrustLevel:o})}r.create=e;function t(i,o){return(0,Fqe.default)(i),(0,Fqe.default)(o),i.operationMoniker===o.operationMoniker&&(i.requiredTrustLevel===o.requiredTrustLevel||!!i.requiredTrustLevel&&!!o.requiredTrustLevel&&i.requiredTrustLevel>o.requiredTrustLevel)}r.isSupersetOf=t;function n(i,o){return i===o?!0:!i||!o?!1:i.operationMoniker===o.operationMoniker&&i.requiredTrustLevel===o.requiredTrustLevel}r.equals=n})(qxt=C0.ProtectedOperation||(C0.ProtectedOperation={}))});var jae=P(KL=>{"use strict";Object.defineProperty(KL,"__esModule",{value:!0});KL.RemoteServiceConnectionInfo=void 0;var jxt;(function(r){function e(n){return!n.multiplexingChannelId&&!n.requestId&&!n.pipeName}r.isEmpty=e;function t(n,i){return n.multiplexingChannelId?i.indexOf("multiplexing")>-1:!1}r.isOneOf=t})(jxt=KL.RemoteServiceConnectionInfo||(KL.RemoteServiceConnectionInfo={}))});var Uae=P(wO=>{"use strict";var Hqe=wO&&wO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wO,"__esModule",{value:!0});wO.RemoteServiceBroker=void 0;var Uy=Hqe(require("assert")),D0=Hqe(oD()),zxt=require("events"),Uxt=zL(),Hxt=Tae(),fD=rD(),jqe=jae(),zqe=wse(),Wxt=require("net"),Uqe=x3(),zae=class r extends zxt.EventEmitter{serviceBroker;multiplexingStream;static fullConnectionSupport=fD.RemoteServiceConnections.Multiplexing|fD.RemoteServiceConnections.IpcPipe;static async connectToDuplex(e,t=D0.default.CONTINUE){(0,Uy.default)(e);let n=Uqe.FrameworkServices.remoteServiceBroker.constructRpc(e);return await r.initializeBrokerConnection(n,t)}static async connectToRemoteServiceBroker(e,t=D0.default.CONTINUE){return(0,Uy.default)(e),await r.initializeBrokerConnection(e,t)}static async connectToMultiplexingDuplex(e,t,n=D0.default.CONTINUE){(0,Uy.default)(e);let i=await Uxt.MultiplexingStream.CreateAsync(e,t,n),o=await i.acceptChannelAsync("",void 0,n),s=Uqe.FrameworkServices.remoteServiceBroker.constructRpc(o.stream),a=await this.connectToMultiplexingRemoteServiceBroker(s,i,n);return a.ownsMxStream=!0,a}static async connectToMultiplexingRemoteServiceBroker(e,t,n=D0.default.CONTINUE){(0,Uy.default)(e),(0,Uy.default)(t);let i={supportedConnections:r.fullConnectionSupport},o=await r.initializeBrokerConnection(e,n,i,t);return o.ownsMxStream=!1,o}static async initializeBrokerConnection(e,t=D0.default.CONTINUE,n,i){if(!n){let o=this.fullConnectionSupport;i||(o&=~fD.RemoteServiceConnections.Multiplexing),n={supportedConnections:o}}try{await e.handshake(n,t)}catch(o){let s=e;throw typeof s.dispose=="function"&&s.dispose(),o}return new r(e,n,i)}isDisposed=!1;ownsMxStream=!1;defaultClientCulture="en-US";defaultClientUICulture="en-US";authorizationClient;constructor(e,t,n){super(),this.serviceBroker=e,this.multiplexingStream=n,(0,Uy.default)(e),(0,Uy.default)(t),fD.RemoteServiceConnections.contains(t.supportedConnections,fD.RemoteServiceConnections.Multiplexing)&&(0,Uy.default)(n),this.serviceBroker.on("availabilityChanged",i=>{this.emit("availabilityChanged",i)})}setAuthorizationService(e){(0,Uy.default)(e),this.authorizationClient?.dispose(),this.authorizationClient=new Hxt.AuthorizationServiceClient(e)}async getProxy(e,t,n=D0.default.CONTINUE){(0,Uy.default)(e),t=t||{clientCulture:this.defaultClientCulture,clientUICulture:this.defaultClientUICulture},t=await this.applyAuthorization(t,n);let i,o={};try{if(o=await this.serviceBroker.requestServiceChannel(e.moniker,t,n),!o||jqe.RemoteServiceConnectionInfo.isEmpty(o))return null;if(o.multiplexingChannelId&&this.multiplexingStream)i=await this.multiplexingStream.acceptChannel(o.multiplexingChannelId);else if(o.pipeName){let a=process.platform==="win32"&&!o.pipeName.startsWith(fD.PIPE_NAME_PREFIX)?fD.PIPE_NAME_PREFIX+o.pipeName:o.pipeName;i=(0,Wxt.createConnection)(a)}else throw new Error("Unsupported connection type")}catch(a){throw(0,zqe.isReadWriteStream)(i)?i.end():(0,zqe.isChannel)(i)&&i.dispose(),o?.requestId&&await this.serviceBroker.cancelServiceRequest(o.requestId,n),a}return e.constructRpc(t?.clientRpcTarget,i)}async getPipe(e,t,n=D0.default.CONTINUE){if((0,Uy.default)(e),t=t||{clientCulture:"en-US",clientUICulture:"en-US"},t=await this.applyAuthorization(t,n),t.clientRpcTarget)throw new Error("Cannot connect pipe to service with client RPC target");let i={},o=null,s=null;try{if(i=await this.serviceBroker.requestServiceChannel(e,t,n),!i||jqe.RemoteServiceConnectionInfo.isEmpty(i))return null;if(i.multiplexingChannelId&&this.multiplexingStream)s=await this.multiplexingStream.acceptChannelAsync("",void 0,n),o=s.stream;else throw i.pipeName?new Error("Cannot connect to named pipe"):new Error("Unsupported connection type");return o}catch(a){throw s?.dispose(),o?.end(),!o&&i?.requestId&&await this.serviceBroker.cancelServiceRequest(i.requestId,n),a}}dispose(){this.isDisposed=!0,this.serviceBroker.removeAllListeners(fD.availabilityChangedEvent);let e=this.serviceBroker;typeof e.dispose=="function"&&e.dispose(),this.authorizationClient?.dispose(),this.multiplexingStream&&this.ownsMxStream&&this.multiplexingStream.dispose()}async applyAuthorization(e,t){return this.authorizationClient&&!e.clientCredentials&&(e.clientCredentials=await this.authorizationClient.getCredentials(t)),e}};wO.RemoteServiceBroker=zae});var Wqe=P(A3=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});A3.Observer=void 0;var Hae=class{next;completion;_jsonRpcMarshalableLifetime="explicit";error;get completed(){return this.error!==void 0}constructor(e,t){this.next=e,this.completion=t}onNext(e){this.next(e)}onCompleted(){this.error=null,this.completion&&this.completion(null)}onError(e){this.error=e,this.completion&&this.completion(e)}};A3.Observer=Hae});var $qe=P((M3,Bqe)=>{(function(r,e){typeof M3=="object"&&typeof Bqe<"u"?e(M3):typeof define=="function"&&define.amd?define(["exports"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.Immutable={}))})(M3,function(r){"use strict";var e="delete",t=5,n=1<<t,i=n-1,o={};function s(){return{value:!1}}function a(m){m&&(m.value=!0)}function c(){}function u(m){return m.size===void 0&&(m.size=m.__iterate(d)),m.size}function l(m,g){if(typeof g!="number"){var R=g>>>0;if(""+R!==g||R===4294967295)return NaN;g=R}return g<0?u(m)+g:g}function d(){return!0}function f(m,g,R){return(m===0&&!k(m)||R!==void 0&&m<=-R)&&(g===void 0||R!==void 0&&g>=R)}function y(m,g){return T(m,g,0)}function b(m,g){return T(m,g,g)}function T(m,g,R){return m===void 0?R:k(m)?g===1/0?g:Math.max(0,g+m)|0:g===void 0||g===m?m:Math.min(g,m)|0}function k(m){return m<0||m===0&&1/m===-1/0}var z="@@__IMMUTABLE_ITERABLE__@@";function A(m){return!!(m&&m[z])}var U="@@__IMMUTABLE_KEYED__@@";function ne(m){return!!(m&&m[U])}var de="@@__IMMUTABLE_INDEXED__@@";function ve(m){return!!(m&&m[de])}function $(m){return ne(m)||ve(m)}var W=function(g){return A(g)?g:Er(g)},ee=function(m){function g(R){return ne(R)?R:Un(R)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g}(W),Pe=function(m){function g(R){return ve(R)?R:Br(R)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g}(W),se=function(m){function g(R){return A(R)&&!$(R)?R:ln(R)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g}(W);W.Keyed=ee,W.Indexed=Pe,W.Set=se;var ue="@@__IMMUTABLE_SEQ__@@";function Fe(m){return!!(m&&m[ue])}var Le="@@__IMMUTABLE_RECORD__@@";function ce(m){return!!(m&&m[Le])}function Ce(m){return A(m)||ce(m)}var we="@@__IMMUTABLE_ORDERED__@@";function Ee(m){return!!(m&&m[we])}var Ne=0,$e=1,Ct=2,ze=typeof Symbol=="function"&&Symbol.iterator,st="@@iterator",at=ze||st,tt=function(g){this.next=g};tt.prototype.toString=function(){return"[Iterator]"},tt.KEYS=Ne,tt.VALUES=$e,tt.ENTRIES=Ct,tt.prototype.inspect=tt.prototype.toSource=function(){return this.toString()},tt.prototype[at]=function(){return this};function pr(m,g,R,E){var N=m===0?g:m===1?R:[g,R];return E?E.value=N:E={value:N,done:!1},E}function Ar(){return{value:void 0,done:!0}}function jr(m){return Array.isArray(m)?!0:!!hr(m)}function lr(m){return m&&typeof m.next=="function"}function Et(m){var g=hr(m);return g&&g.call(m)}function hr(m){var g=m&&(ze&&m[ze]||m[st]);if(typeof g=="function")return g}function Lt(m){var g=hr(m);return g&&g===m.entries}function on(m){var g=hr(m);return g&&g===m.keys}var un=Object.prototype.hasOwnProperty;function En(m){return Array.isArray(m)||typeof m=="string"?!0:m&&typeof m=="object"&&Number.isInteger(m.length)&&m.length>=0&&(m.length===0?Object.keys(m).length===1:m.hasOwnProperty(m.length-1))}var Er=function(m){function g(R){return R==null?Vr():Ce(R)?R.toSeq():dn(R)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.toSeq=function(){return this},g.prototype.toString=function(){return this.__toString("Seq {","}")},g.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},g.prototype.__iterate=function(E,N){var J=this._cache;if(J){for(var Z=J.length,he=0;he!==Z;){var ke=J[N?Z-++he:he++];if(E(ke[1],ke[0],this)===!1)break}return he}return this.__iterateUncached(E,N)},g.prototype.__iterator=function(E,N){var J=this._cache;if(J){var Z=J.length,he=0;return new tt(function(){if(he===Z)return Ar();var ke=J[N?Z-++he:he++];return pr(E,ke[0],ke[1])})}return this.__iteratorUncached(E,N)},g}(W),Un=function(m){function g(R){return R==null?Vr().toKeyedSeq():A(R)?ne(R)?R.toSeq():R.fromEntrySeq():ce(R)?R.toSeq():Yi(R)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.toKeyedSeq=function(){return this},g}(Er),Br=function(m){function g(R){return R==null?Vr():A(R)?ne(R)?R.entrySeq():R.toIndexedSeq():ce(R)?R.toSeq().entrySeq():ii(R)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return g(arguments)},g.prototype.toIndexedSeq=function(){return this},g.prototype.toString=function(){return this.__toString("Seq [","]")},g}(Er),ln=function(m){function g(R){return(A(R)&&!$(R)?R:Br(R)).toSetSeq()}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return g(arguments)},g.prototype.toSetSeq=function(){return this},g}(Er);Er.isSeq=Fe,Er.Keyed=Un,Er.Set=ln,Er.Indexed=Br,Er.prototype[ue]=!0;var ni=function(m){function g(R){this._array=R,this.size=R.length}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.get=function(E,N){return this.has(E)?this._array[l(this,E)]:N},g.prototype.__iterate=function(E,N){for(var J=this._array,Z=J.length,he=0;he!==Z;){var ke=N?Z-++he:he++;if(E(J[ke],ke,this)===!1)break}return he},g.prototype.__iterator=function(E,N){var J=this._array,Z=J.length,he=0;return new tt(function(){if(he===Z)return Ar();var ke=N?Z-++he:he++;return pr(E,ke,J[ke])})},g}(Br),$r=function(m){function g(R){var E=Object.keys(R).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(R):[]);this._object=R,this._keys=E,this.size=E.length}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.get=function(E,N){return N!==void 0&&!this.has(E)?N:this._object[E]},g.prototype.has=function(E){return un.call(this._object,E)},g.prototype.__iterate=function(E,N){for(var J=this._object,Z=this._keys,he=Z.length,ke=0;ke!==he;){var Qe=Z[N?he-++ke:ke++];if(E(J[Qe],Qe,this)===!1)break}return ke},g.prototype.__iterator=function(E,N){var J=this._object,Z=this._keys,he=Z.length,ke=0;return new tt(function(){if(ke===he)return Ar();var Qe=Z[N?he-++ke:ke++];return pr(E,Qe,J[Qe])})},g}(Un);$r.prototype[we]=!0;var kn=function(m){function g(R){this._collection=R,this.size=R.length||R.size}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.__iterateUncached=function(E,N){if(N)return this.cacheResult().__iterate(E,N);var J=this._collection,Z=Et(J),he=0;if(lr(Z))for(var ke;!(ke=Z.next()).done&&E(ke.value,he++,this)!==!1;);return he},g.prototype.__iteratorUncached=function(E,N){if(N)return this.cacheResult().__iterator(E,N);var J=this._collection,Z=Et(J);if(!lr(Z))return new tt(Ar);var he=0;return new tt(function(){var ke=Z.next();return ke.done?ke:pr(E,he++,ke.value)})},g}(Br),Ei;function Vr(){return Ei||(Ei=new ni([]))}function Yi(m){var g=Oe(m);if(g)return g.fromEntrySeq();if(typeof m=="object")return new $r(m);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+m)}function ii(m){var g=Oe(m);if(g)return g;throw new TypeError("Expected Array or collection object of values: "+m)}function dn(m){var g=Oe(m);if(g)return Lt(m)?g.fromEntrySeq():on(m)?g.toSetSeq():g;if(typeof m=="object")return new $r(m);throw new TypeError("Expected Array or collection object of values, or keyed object: "+m)}function Oe(m){return En(m)?new ni(m):jr(m)?new kn(m):void 0}var oe="@@__IMMUTABLE_MAP__@@";function Q(m){return!!(m&&m[oe])}function _e(m){return Q(m)&&Ee(m)}function Ke(m){return!!(m&&typeof m.equals=="function"&&typeof m.hashCode=="function")}function ft(m,g){if(m===g||m!==m&&g!==g)return!0;if(!m||!g)return!1;if(typeof m.valueOf=="function"&&typeof g.valueOf=="function"){if(m=m.valueOf(),g=g.valueOf(),m===g||m!==m&&g!==g)return!0;if(!m||!g)return!1}return!!(Ke(m)&&Ke(g)&&m.equals(g))}var Jt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(g,R){g|=0,R|=0;var E=g&65535,N=R&65535;return E*N+((g>>>16)*N+E*(R>>>16)<<16>>>0)|0};function nr(m){return m>>>1&1073741824|m&3221225471}var Xt=Object.prototype.valueOf;function Vt(m){if(m==null)return kt(m);if(typeof m.hashCode=="function")return nr(m.hashCode(m));var g=pe(m);if(g==null)return kt(g);switch(typeof g){case"boolean":return g?1108378657:1108378656;case"number":return K(g);case"string":return g.length>Fn?qe(g):Wt(g);case"object":case"function":return He(g);case"symbol":return Dr(g);default:if(typeof g.toString=="function")return Wt(g.toString());throw new Error("Value type "+typeof g+" cannot be hashed.")}}function kt(m){return m===null?1108378658:1108378659}function K(m){if(m!==m||m===1/0)return 0;var g=m|0;for(g!==m&&(g^=m*4294967295);m>4294967295;)m/=4294967295,g^=m;return nr(g)}function qe(m){var g=_n[m];return g===void 0&&(g=Wt(m),Ts===Oi&&(Ts=0,_n={}),Ts++,_n[m]=g),g}function Wt(m){for(var g=0,R=0;R<m.length;R++)g=31*g+m.charCodeAt(R)|0;return nr(g)}function Dr(m){var g=Cr[m];return g!==void 0||(g=S(),Cr[m]=g),g}function He(m){var g;if(fe&&(g=Je.get(m),g!==void 0)||(g=m[Xr],g!==void 0)||!xe&&(g=m.propertyIsEnumerable&&m.propertyIsEnumerable[Xr],g!==void 0||(g=je(m),g!==void 0)))return g;if(g=S(),fe)Je.set(m,g);else{if(re!==void 0&&re(m)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(xe)Object.defineProperty(m,Xr,{enumerable:!1,configurable:!1,writable:!1,value:g});else if(m.propertyIsEnumerable!==void 0&&m.propertyIsEnumerable===m.constructor.prototype.propertyIsEnumerable)m.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},m.propertyIsEnumerable[Xr]=g;else if(m.nodeType!==void 0)m[Xr]=g;else throw new Error("Unable to set a non-enumerable property on object.")}return g}var re=Object.isExtensible,xe=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function je(m){if(m&&m.nodeType>0)switch(m.nodeType){case 1:return m.uniqueID;case 9:return m.documentElement&&m.documentElement.uniqueID}}function pe(m){return m.valueOf!==Xt&&typeof m.valueOf=="function"?m.valueOf(m):m}function S(){var m=++Wr;return Wr&1073741824&&(Wr=0),m}var fe=typeof WeakMap=="function",Je;fe&&(Je=new WeakMap);var Cr=Object.create(null),Wr=0,Xr="__immutablehash__";typeof Symbol=="function"&&(Xr=Symbol(Xr));var Fn=16,Oi=255,Ts=0,_n={},Xo=function(m){function g(R,E){this._iter=R,this._useKeys=E,this.size=R.size}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.get=function(E,N){return this._iter.get(E,N)},g.prototype.has=function(E){return this._iter.has(E)},g.prototype.valueSeq=function(){return this._iter.valueSeq()},g.prototype.reverse=function(){var E=this,N=Ue(this,!0);return this._useKeys||(N.valueSeq=function(){return E._iter.toSeq().reverse()}),N},g.prototype.map=function(E,N){var J=this,Z=H(this,E,N);return this._useKeys||(Z.valueSeq=function(){return J._iter.toSeq().map(E,N)}),Z},g.prototype.__iterate=function(E,N){var J=this;return this._iter.__iterate(function(Z,he){return E(Z,he,J)},N)},g.prototype.__iterator=function(E,N){return this._iter.__iterator(E,N)},g}(Un);Xo.prototype[we]=!0;var Ns=function(m){function g(R){this._iter=R,this.size=R.size}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.includes=function(E){return this._iter.includes(E)},g.prototype.__iterate=function(E,N){var J=this,Z=0;return N&&u(this),this._iter.__iterate(function(he){return E(he,N?J.size-++Z:Z++,J)},N)},g.prototype.__iterator=function(E,N){var J=this,Z=this._iter.__iterator($e,N),he=0;return N&&u(this),new tt(function(){var ke=Z.next();return ke.done?ke:pr(E,N?J.size-++he:he++,ke.value,ke)})},g}(Br),Ys=function(m){function g(R){this._iter=R,this.size=R.size}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.has=function(E){return this._iter.includes(E)},g.prototype.__iterate=function(E,N){var J=this;return this._iter.__iterate(function(Z){return E(Z,Z,J)},N)},g.prototype.__iterator=function(E,N){var J=this._iter.__iterator($e,N);return new tt(function(){var Z=J.next();return Z.done?Z:pr(E,Z.value,Z.value,Z)})},g}(ln),Ao=function(m){function g(R){this._iter=R,this.size=R.size}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.entrySeq=function(){return this._iter.toSeq()},g.prototype.__iterate=function(E,N){var J=this;return this._iter.__iterate(function(Z){if(Z){su(Z);var he=A(Z);return E(he?Z.get(1):Z[1],he?Z.get(0):Z[0],J)}},N)},g.prototype.__iterator=function(E,N){var J=this._iter.__iterator($e,N);return new tt(function(){for(;;){var Z=J.next();if(Z.done)return Z;var he=Z.value;if(he){su(he);var ke=A(he);return pr(E,ke?he.get(0):he[0],ke?he.get(1):he[1],Z)}}})},g}(Un);Ns.prototype.cacheResult=Xo.prototype.cacheResult=Ys.prototype.cacheResult=Ao.prototype.cacheResult=Qu;function Do(m){var g=go(m);return g._iter=m,g.size=m.size,g.flip=function(){return m},g.reverse=function(){var R=m.reverse.apply(this);return R.flip=function(){return m.reverse()},R},g.has=function(R){return m.includes(R)},g.includes=function(R){return m.has(R)},g.cacheResult=Qu,g.__iterateUncached=function(R,E){var N=this;return m.__iterate(function(J,Z){return R(Z,J,N)!==!1},E)},g.__iteratorUncached=function(R,E){if(R===Ct){var N=m.__iterator(R,E);return new tt(function(){var J=N.next();if(!J.done){var Z=J.value[0];J.value[0]=J.value[1],J.value[1]=Z}return J})}return m.__iterator(R===$e?Ne:$e,E)},g}function H(m,g,R){var E=go(m);return E.size=m.size,E.has=function(N){return m.has(N)},E.get=function(N,J){var Z=m.get(N,o);return Z===o?J:g.call(R,Z,N,m)},E.__iterateUncached=function(N,J){var Z=this;return m.__iterate(function(he,ke,Qe){return N(g.call(R,he,ke,Qe),ke,Z)!==!1},J)},E.__iteratorUncached=function(N,J){var Z=m.__iterator(Ct,J);return new tt(function(){var he=Z.next();if(he.done)return he;var ke=he.value,Qe=ke[0];return pr(N,Qe,g.call(R,ke[1],Qe,m),he)})},E}function Ue(m,g){var R=this,E=go(m);return E._iter=m,E.size=m.size,E.reverse=function(){return m},m.flip&&(E.flip=function(){var N=Do(m);return N.reverse=function(){return m.flip()},N}),E.get=function(N,J){return m.get(g?N:-1-N,J)},E.has=function(N){return m.has(g?N:-1-N)},E.includes=function(N){return m.includes(N)},E.cacheResult=Qu,E.__iterate=function(N,J){var Z=this,he=0;return J&&u(m),m.__iterate(function(ke,Qe){return N(ke,g?Qe:J?Z.size-++he:he++,Z)},!J)},E.__iterator=function(N,J){var Z=0;J&&u(m);var he=m.__iterator(Ct,!J);return new tt(function(){var ke=he.next();if(ke.done)return ke;var Qe=ke.value;return pr(N,g?Qe[0]:J?R.size-++Z:Z++,Qe[1],ke)})},E}function vt(m,g,R,E){var N=go(m);return E&&(N.has=function(J){var Z=m.get(J,o);return Z!==o&&!!g.call(R,Z,J,m)},N.get=function(J,Z){var he=m.get(J,o);return he!==o&&g.call(R,he,J,m)?he:Z}),N.__iterateUncached=function(J,Z){var he=this,ke=0;return m.__iterate(function(Qe,pt,Ht){if(g.call(R,Qe,pt,Ht))return ke++,J(Qe,E?pt:ke-1,he)},Z),ke},N.__iteratorUncached=function(J,Z){var he=m.__iterator(Ct,Z),ke=0;return new tt(function(){for(;;){var Qe=he.next();if(Qe.done)return Qe;var pt=Qe.value,Ht=pt[0],Sr=pt[1];if(g.call(R,Sr,Ht,m))return pr(J,E?Ht:ke++,Sr,Qe)}})},N}function Fr(m,g,R){var E=hc().asMutable();return m.__iterate(function(N,J){E.update(g.call(R,N,J,m),0,function(Z){return Z+1})}),E.asImmutable()}function io(m,g,R){var E=ne(m),N=(Ee(m)?vs():hc()).asMutable();m.__iterate(function(Z,he){N.update(g.call(R,Z,he,m),function(ke){return ke=ke||[],ke.push(E?[he,Z]:Z),ke})});var J=Qo(m);return N.map(function(Z){return Yn(m,J(Z))}).asImmutable()}function Hi(m,g,R){var E=ne(m),N=[[],[]];m.__iterate(function(Z,he){N[g.call(R,Z,he,m)?1:0].push(E?[he,Z]:Z)});var J=Qo(m);return N.map(function(Z){return Yn(m,J(Z))})}function L(m,g,R,E){var N=m.size;if(f(g,R,N))return m;var J=y(g,N),Z=b(R,N);if(J!==J||Z!==Z)return L(m.toSeq().cacheResult(),g,R,E);var he=Z-J,ke;he===he&&(ke=he<0?0:he);var Qe=go(m);return Qe.size=ke===0?ke:m.size&&ke||void 0,!E&&Fe(m)&&ke>=0&&(Qe.get=function(pt,Ht){return pt=l(this,pt),pt>=0&&pt<ke?m.get(pt+J,Ht):Ht}),Qe.__iterateUncached=function(pt,Ht){var Sr=this;if(ke===0)return 0;if(Ht)return this.cacheResult().__iterate(pt,Ht);var sn=0,qr=!0,Wn=0;return m.__iterate(function(Ws,Ka){if(!(qr&&(qr=sn++<J)))return Wn++,pt(Ws,E?Ka:Wn-1,Sr)!==!1&&Wn!==ke}),Wn},Qe.__iteratorUncached=function(pt,Ht){if(ke!==0&&Ht)return this.cacheResult().__iterator(pt,Ht);if(ke===0)return new tt(Ar);var Sr=m.__iterator(pt,Ht),sn=0,qr=0;return new tt(function(){for(;sn++<J;)Sr.next();if(++qr>ke)return Ar();var Wn=Sr.next();return E||pt===$e||Wn.done?Wn:pt===Ne?pr(pt,qr-1,void 0,Wn):pr(pt,qr-1,Wn.value[1],Wn)})},Qe}function Me(m,g,R){var E=go(m);return E.__iterateUncached=function(N,J){var Z=this;if(J)return this.cacheResult().__iterate(N,J);var he=0;return m.__iterate(function(ke,Qe,pt){return g.call(R,ke,Qe,pt)&&++he&&N(ke,Qe,Z)}),he},E.__iteratorUncached=function(N,J){var Z=this;if(J)return this.cacheResult().__iterator(N,J);var he=m.__iterator(Ct,J),ke=!0;return new tt(function(){if(!ke)return Ar();var Qe=he.next();if(Qe.done)return Qe;var pt=Qe.value,Ht=pt[0],Sr=pt[1];return g.call(R,Sr,Ht,Z)?N===Ct?Qe:pr(N,Ht,Sr,Qe):(ke=!1,Ar())})},E}function rt(m,g,R,E){var N=go(m);return N.__iterateUncached=function(J,Z){var he=this;if(Z)return this.cacheResult().__iterate(J,Z);var ke=!0,Qe=0;return m.__iterate(function(pt,Ht,Sr){if(!(ke&&(ke=g.call(R,pt,Ht,Sr))))return Qe++,J(pt,E?Ht:Qe-1,he)}),Qe},N.__iteratorUncached=function(J,Z){var he=this;if(Z)return this.cacheResult().__iterator(J,Z);var ke=m.__iterator(Ct,Z),Qe=!0,pt=0;return new tt(function(){var Ht,Sr,sn;do{if(Ht=ke.next(),Ht.done)return E||J===$e?Ht:J===Ne?pr(J,pt++,void 0,Ht):pr(J,pt++,Ht.value[1],Ht);var qr=Ht.value;Sr=qr[0],sn=qr[1],Qe&&(Qe=g.call(R,sn,Sr,he))}while(Qe);return J===Ct?Ht:pr(J,Sr,sn,Ht)})},N}function Ut(m,g){var R=ne(m),E=[m].concat(g).map(function(Z){return A(Z)?R&&(Z=ee(Z)):Z=R?Yi(Z):ii(Array.isArray(Z)?Z:[Z]),Z}).filter(function(Z){return Z.size!==0});if(E.length===0)return m;if(E.length===1){var N=E[0];if(N===m||R&&ne(N)||ve(m)&&ve(N))return N}var J=new ni(E);return R?J=J.toKeyedSeq():ve(m)||(J=J.toSetSeq()),J=J.flatten(!0),J.size=E.reduce(function(Z,he){if(Z!==void 0){var ke=he.size;if(ke!==void 0)return Z+ke}},0),J}function An(m,g,R){var E=go(m);return E.__iterateUncached=function(N,J){if(J)return this.cacheResult().__iterate(N,J);var Z=0,he=!1;function ke(Qe,pt){Qe.__iterate(function(Ht,Sr){return(!g||pt<g)&&A(Ht)?ke(Ht,pt+1):(Z++,N(Ht,R?Sr:Z-1,E)===!1&&(he=!0)),!he},J)}return ke(m,0),Z},E.__iteratorUncached=function(N,J){if(J)return this.cacheResult().__iterator(N,J);var Z=m.__iterator(N,J),he=[],ke=0;return new tt(function(){for(;Z;){var Qe=Z.next();if(Qe.done!==!1){Z=he.pop();continue}var pt=Qe.value;if(N===Ct&&(pt=pt[1]),(!g||he.length<g)&&A(pt))he.push(Z),Z=pt.__iterator(N,J);else return R?Qe:pr(N,ke++,pt,Qe)}return Ar()})},E}function wn(m,g,R){var E=Qo(m);return m.toSeq().map(function(N,J){return E(g.call(R,N,J,m))}).flatten(!0)}function Ln(m,g){var R=go(m);return R.size=m.size&&m.size*2-1,R.__iterateUncached=function(E,N){var J=this,Z=0;return m.__iterate(function(he){return(!Z||E(g,Z++,J)!==!1)&&E(he,Z++,J)!==!1},N),Z},R.__iteratorUncached=function(E,N){var J=m.__iterator($e,N),Z=0,he;return new tt(function(){return(!he||Z%2)&&(he=J.next(),he.done)?he:Z%2?pr(E,Z++,g):pr(E,Z++,he.value,he)})},R}function oo(m,g,R){g||(g=Mi);var E=ne(m),N=0,J=m.toSeq().map(function(Z,he){return[he,Z,N++,R?R(Z,he,m):Z]}).valueSeq().toArray();return J.sort(function(Z,he){return g(Z[3],he[3])||Z[2]-he[2]}).forEach(E?function(Z,he){J[he].length=2}:function(Z,he){J[he]=Z[1]}),E?Un(J):ve(m)?Br(J):ln(J)}function qi(m,g,R){if(g||(g=Mi),R){var E=m.toSeq().map(function(N,J){return[N,R(N,J,m)]}).reduce(function(N,J){return To(g,N[1],J[1])?J:N});return E&&E[0]}return m.reduce(function(N,J){return To(g,N,J)?J:N})}function To(m,g,R){var E=m(R,g);return E===0&&R!==g&&(R==null||R!==R)||E>0}function $i(m,g,R,E){var N=go(m),J=new ni(R).map(function(Z){return Z.size});return N.size=E?J.max():J.min(),N.__iterate=function(Z,he){for(var ke=this.__iterator($e,he),Qe,pt=0;!(Qe=ke.next()).done&&Z(Qe.value,pt++,this)!==!1;);return pt},N.__iteratorUncached=function(Z,he){var ke=R.map(function(Ht){return Ht=W(Ht),Et(he?Ht.reverse():Ht)}),Qe=0,pt=!1;return new tt(function(){var Ht;return pt||(Ht=ke.map(function(Sr){return Sr.next()}),pt=E?Ht.every(function(Sr){return Sr.done}):Ht.some(function(Sr){return Sr.done})),pt?Ar():pr(Z,Qe++,g.apply(null,Ht.map(function(Sr){return Sr.value})))})},N}function Yn(m,g){return m===g?m:Fe(m)?g:m.constructor(g)}function su(m){if(m!==Object(m))throw new TypeError("Expected [K, V] tuple: "+m)}function Qo(m){return ne(m)?ee:ve(m)?Pe:se}function go(m){return Object.create((ne(m)?Un:ve(m)?Br:ln).prototype)}function Qu(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Er.prototype.cacheResult.call(this)}function Mi(m,g){return m===void 0&&g===void 0?0:m===void 0?1:g===void 0?-1:m>g?1:m<g?-1:0}function Ua(m,g){g=g||0;for(var R=Math.max(0,m.length-g),E=new Array(R),N=0;N<R;N++)E[N]=m[N+g];return E}function Ha(m,g){if(!m)throw new Error(g)}function aa(m){Ha(m!==1/0,"Cannot perform this action with an infinite size.")}function Zu(m){if(En(m)&&typeof m!="string")return m;if(Ee(m))return m.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+m)}var ip=Object.prototype.toString;function pc(m){if(!m||typeof m!="object"||ip.call(m)!=="[object Object]")return!1;var g=Object.getPrototypeOf(m);if(g===null)return!0;for(var R=g,E=Object.getPrototypeOf(g);E!==null;)R=E,E=Object.getPrototypeOf(R);return R===g}function Js(m){return typeof m=="object"&&(Ce(m)||Array.isArray(m)||pc(m))}function au(m){try{return typeof m=="string"?JSON.stringify(m):String(m)}catch{return JSON.stringify(m)}}function op(m,g){return Ce(m)?m.has(g):Js(m)&&un.call(m,g)}function qo(m,g,R){return Ce(m)?m.get(g,R):op(m,g)?typeof m.get=="function"?m.get(g):m[g]:R}function Fs(m){if(Array.isArray(m))return Ua(m);var g={};for(var R in m)un.call(m,R)&&(g[R]=m[R]);return g}function Cn(m,g){if(!Js(m))throw new TypeError("Cannot update non-data-structure value: "+m);if(Ce(m)){if(!m.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+m);return m.remove(g)}if(!un.call(m,g))return m;var R=Fs(m);return Array.isArray(R)?R.splice(g,1):delete R[g],R}function qs(m,g,R){if(!Js(m))throw new TypeError("Cannot update non-data-structure value: "+m);if(Ce(m)){if(!m.set)throw new TypeError("Cannot update immutable value without .set() method: "+m);return m.set(g,R)}if(un.call(m,g)&&R===m[g])return m;var E=Fs(m);return E[g]=R,E}function cu(m,g,R,E){E||(E=R,R=void 0);var N=oi(Ce(m),m,Zu(g),0,R,E);return N===o?R:N}function oi(m,g,R,E,N,J){var Z=g===o;if(E===R.length){var he=Z?N:g,ke=J(he);return ke===he?g:ke}if(!Z&&!Js(g))throw new TypeError("Cannot update within non-data-structure value in path ["+R.slice(0,E).map(au)+"]: "+g);var Qe=R[E],pt=Z?o:qo(g,Qe,o),Ht=oi(pt===o?m:Ce(pt),pt,R,E+1,N,J);return Ht===pt?g:Ht===o?Cn(g,Qe):qs(Z?m?jo():{}:g,Qe,Ht)}function ga(m,g,R){return cu(m,g,o,function(){return R})}function zc(m,g){return ga(this,m,g)}function sp(m,g){return cu(m,g,function(){return o})}function Zd(m){return sp(this,m)}function rh(m,g,R,E){return cu(m,[g],R,E)}function ef(m,g,R){return arguments.length===1?m(this):rh(this,m,g,R)}function nh(m,g,R){return cu(this,m,g,R)}function tf(){for(var m=[],g=arguments.length;g--;)m[g]=arguments[g];return Jn(this,m)}function wl(m){for(var g=[],R=arguments.length-1;R-- >0;)g[R]=arguments[R+1];if(typeof m!="function")throw new TypeError("Invalid merger function: "+m);return Jn(this,g,m)}function Jn(m,g,R){for(var E=[],N=0;N<g.length;N++){var J=ee(g[N]);J.size!==0&&E.push(J)}return E.length===0?m:m.toSeq().size===0&&!m.__ownerID&&E.length===1?m.constructor(E[0]):m.withMutations(function(Z){for(var he=R?function(Qe,pt){rh(Z,pt,o,function(Ht){return Ht===o?Qe:R(Ht,Qe,pt)})}:function(Qe,pt){Z.set(pt,Qe)},ke=0;ke<E.length;ke++)E[ke].forEach(he)})}function js(m){for(var g=[],R=arguments.length-1;R-- >0;)g[R]=arguments[R+1];return zs(m,g)}function Sl(m,g){for(var R=[],E=arguments.length-2;E-- >0;)R[E]=arguments[E+2];return zs(g,R,m)}function so(m){for(var g=[],R=arguments.length-1;R-- >0;)g[R]=arguments[R+1];return cp(m,g)}function ap(m,g){for(var R=[],E=arguments.length-2;E-- >0;)R[E]=arguments[E+2];return cp(g,R,m)}function cp(m,g,R){return zs(m,g,uu(R))}function zs(m,g,R){if(!Js(m))throw new TypeError("Cannot merge into non-data-structure value: "+m);if(Ce(m))return typeof R=="function"&&m.mergeWith?m.mergeWith.apply(m,[R].concat(g)):m.merge?m.merge.apply(m,g):m.concat.apply(m,g);for(var E=Array.isArray(m),N=m,J=E?Pe:ee,Z=E?function(ke){N===m&&(N=Fs(N)),N.push(ke)}:function(ke,Qe){var pt=un.call(N,Qe),Ht=pt&&R?R(N[Qe],ke,Qe):ke;(!pt||Ht!==N[Qe])&&(N===m&&(N=Fs(N)),N[Qe]=Ht)},he=0;he<g.length;he++)J(g[he]).forEach(Z);return N}function uu(m){function g(R,E,N){return Js(R)&&Js(E)&&up(R,E)?zs(R,[E],g):m?m(R,E,N):E}return g}function up(m,g){var R=Er(m),E=Er(g);return ve(R)===ve(E)&&ne(R)===ne(E)}function dd(){for(var m=[],g=arguments.length;g--;)m[g]=arguments[g];return cp(this,m)}function gs(m){for(var g=[],R=arguments.length-1;R-- >0;)g[R]=arguments[R+1];return cp(this,g,m)}function Cl(m){for(var g=[],R=arguments.length-1;R-- >0;)g[R]=arguments[R+1];return cu(this,m,jo(),function(E){return zs(E,g)})}function Uc(m){for(var g=[],R=arguments.length-1;R-- >0;)g[R]=arguments[R+1];return cu(this,m,jo(),function(E){return cp(E,g)})}function om(m){var g=this.asMutable();return m(g),g.wasAltered()?g.__ensureOwner(this.__ownerID):this}function fd(){return this.__ownerID?this:this.__ensureOwner(new c)}function rf(){return this.__ensureOwner()}function nf(){return this.__altered}var hc=function(m){function g(R){return R==null?jo():Q(R)&&!Ee(R)?R:jo().withMutations(function(E){var N=m(R);aa(N.size),N.forEach(function(J,Z){return E.set(Z,J)})})}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){for(var E=[],N=arguments.length;N--;)E[N]=arguments[N];return jo().withMutations(function(J){for(var Z=0;Z<E.length;Z+=2){if(Z+1>=E.length)throw new Error("Missing value for key: "+E[Z]);J.set(E[Z],E[Z+1])}})},g.prototype.toString=function(){return this.__toString("Map {","}")},g.prototype.get=function(E,N){return this._root?this._root.get(0,void 0,E,N):N},g.prototype.set=function(E,N){return Dl(this,E,N)},g.prototype.remove=function(E){return Dl(this,E,o)},g.prototype.deleteAll=function(E){var N=W(E);return N.size===0?this:this.withMutations(function(J){N.forEach(function(Z){return J.remove(Z)})})},g.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):jo()},g.prototype.sort=function(E){return vs(oo(this,E))},g.prototype.sortBy=function(E,N){return vs(oo(this,N,E))},g.prototype.map=function(E,N){var J=this;return this.withMutations(function(Z){Z.forEach(function(he,ke){Z.set(ke,E.call(N,he,ke,J))})})},g.prototype.__iterator=function(E,N){return new Rv(this,E,N)},g.prototype.__iterate=function(E,N){var J=this,Z=0;return this._root&&this._root.iterate(function(he){return Z++,E(he[1],he[0],J)},N),Z},g.prototype.__ensureOwner=function(E){return E===this.__ownerID?this:E?xu(this.size,this._root,E,this.__hash):this.size===0?jo():(this.__ownerID=E,this.__altered=!1,this)},g}(ee);hc.isMap=Q;var vo=hc.prototype;vo[oe]=!0,vo[e]=vo.remove,vo.removeAll=vo.deleteAll,vo.setIn=zc,vo.removeIn=vo.deleteIn=Zd,vo.update=ef,vo.updateIn=nh,vo.merge=vo.concat=tf,vo.mergeWith=wl,vo.mergeDeep=dd,vo.mergeDeepWith=gs,vo.mergeIn=Cl,vo.mergeDeepIn=Uc,vo.withMutations=om,vo.wasAltered=nf,vo.asImmutable=rf,vo["@@transducer/init"]=vo.asMutable=fd,vo["@@transducer/step"]=function(m,g){return m.set(g[0],g[1])},vo["@@transducer/result"]=function(m){return m.asImmutable()};var ih=function(g,R){this.ownerID=g,this.entries=R};ih.prototype.get=function(g,R,E,N){for(var J=this.entries,Z=0,he=J.length;Z<he;Z++)if(ft(E,J[Z][0]))return J[Z][1];return N},ih.prototype.update=function(g,R,E,N,J,Z,he){for(var ke=J===o,Qe=this.entries,pt=0,Ht=Qe.length;pt<Ht&&!ft(N,Qe[pt][0]);pt++);var Sr=pt<Ht;if(Sr?Qe[pt][1]===J:ke)return this;if(a(he),(ke||!Sr)&&a(Z),!(ke&&Qe.length===1)){if(!Sr&&!ke&&Qe.length>=sf)return dp(g,Qe,N,J);var sn=g&&g===this.ownerID,qr=sn?Qe:Ua(Qe);return Sr?ke?pt===Ht-1?qr.pop():qr[pt]=qr.pop():qr[pt]=[N,J]:qr.push([N,J]),sn?(this.entries=qr,this):new ih(g,qr)}};var of=function(g,R,E){this.ownerID=g,this.bitmap=R,this.nodes=E};of.prototype.get=function(g,R,E,N){R===void 0&&(R=Vt(E));var J=1<<((g===0?R:R>>>g)&i),Z=this.bitmap;return(Z&J)===0?N:this.nodes[sh(Z&J-1)].get(g+t,R,E,N)},of.prototype.update=function(g,R,E,N,J,Z,he){E===void 0&&(E=Vt(N));var ke=(R===0?E:E>>>R)&i,Qe=1<<ke,pt=this.bitmap,Ht=(pt&Qe)!==0;if(!Ht&&J===o)return this;var Sr=sh(pt&Qe-1),sn=this.nodes,qr=Ht?sn[Sr]:void 0,Wn=lp(qr,g,R+t,E,N,J,Z,he);if(Wn===qr)return this;if(!Ht&&Wn&&sn.length>=md)return Tl(g,sn,pt,ke,Wn);if(Ht&&!Wn&&sn.length===2&&mg(sn[Sr^1]))return sn[Sr^1];if(Ht&&Wn&&sn.length===1&&mg(Wn))return Wn;var Ws=g&&g===this.ownerID,Ka=Ht?Wn?pt:pt^Qe:pt|Qe,mu=Ht?Wn?Eu(sn,Sr,Wn,Ws):du(sn,Sr,Ws):fp(sn,Sr,Wn,Ws);return Ws?(this.bitmap=Ka,this.nodes=mu,this):new of(g,Ka,mu)};var Xs=function(g,R,E){this.ownerID=g,this.count=R,this.nodes=E};Xs.prototype.get=function(g,R,E,N){R===void 0&&(R=Vt(E));var J=(g===0?R:R>>>g)&i,Z=this.nodes[J];return Z?Z.get(g+t,R,E,N):N},Xs.prototype.update=function(g,R,E,N,J,Z,he){E===void 0&&(E=Vt(N));var ke=(R===0?E:E>>>R)&i,Qe=J===o,pt=this.nodes,Ht=pt[ke];if(Qe&&!Ht)return this;var Sr=lp(Ht,g,R+t,E,N,J,Z,he);if(Sr===Ht)return this;var sn=this.count;if(!Ht)sn++;else if(!Sr&&(sn--,sn<af))return oh(g,pt,sn,ke);var qr=g&&g===this.ownerID,Wn=Eu(pt,ke,Sr,qr);return qr?(this.count=sn,this.nodes=Wn,this):new Xs(g,sn,Wn)};var el=function(g,R,E){this.ownerID=g,this.keyHash=R,this.entries=E};el.prototype.get=function(g,R,E,N){for(var J=this.entries,Z=0,he=J.length;Z<he;Z++)if(ft(E,J[Z][0]))return J[Z][1];return N},el.prototype.update=function(g,R,E,N,J,Z,he){E===void 0&&(E=Vt(N));var ke=J===o;if(E!==this.keyHash)return ke?this:(a(he),a(Z),hd(this,g,R,E,[N,J]));for(var Qe=this.entries,pt=0,Ht=Qe.length;pt<Ht&&!ft(N,Qe[pt][0]);pt++);var Sr=pt<Ht;if(Sr?Qe[pt][1]===J:ke)return this;if(a(he),(ke||!Sr)&&a(Z),ke&&Ht===2)return new lu(g,this.keyHash,Qe[pt^1]);var sn=g&&g===this.ownerID,qr=sn?Qe:Ua(Qe);return Sr?ke?pt===Ht-1?qr.pop():qr[pt]=qr.pop():qr[pt]=[N,J]:qr.push([N,J]),sn?(this.entries=qr,this):new el(g,this.keyHash,qr)};var lu=function(g,R,E){this.ownerID=g,this.keyHash=R,this.entry=E};lu.prototype.get=function(g,R,E,N){return ft(E,this.entry[0])?this.entry[1]:N},lu.prototype.update=function(g,R,E,N,J,Z,he){var ke=J===o,Qe=ft(N,this.entry[0]);if(Qe?J===this.entry[1]:ke)return this;if(a(he),ke){a(Z);return}return Qe?g&&g===this.ownerID?(this.entry[1]=J,this):new lu(g,this.keyHash,[N,J]):(a(Z),hd(this,g,R,Vt(N),[N,J]))},ih.prototype.iterate=el.prototype.iterate=function(m,g){for(var R=this.entries,E=0,N=R.length-1;E<=N;E++)if(m(R[g?N-E:E])===!1)return!1},of.prototype.iterate=Xs.prototype.iterate=function(m,g){for(var R=this.nodes,E=0,N=R.length-1;E<=N;E++){var J=R[g?N-E:E];if(J&&J.iterate(m,g)===!1)return!1}},lu.prototype.iterate=function(m,g){return m(this.entry)};var Rv=function(m){function g(R,E,N){this._type=E,this._reverse=N,this._stack=R._root&&By(R._root)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.next=function(){for(var E=this._type,N=this._stack;N;){var J=N.node,Z=N.index++,he=void 0;if(J.entry){if(Z===0)return Qs(E,J.entry)}else if(J.entries){if(he=J.entries.length-1,Z<=he)return Qs(E,J.entries[this._reverse?he-Z:Z])}else if(he=J.nodes.length-1,Z<=he){var ke=J.nodes[this._reverse?he-Z:Z];if(ke){if(ke.entry)return Qs(E,ke.entry);N=this._stack=By(ke,N)}continue}N=this._stack=this._stack.__prev}return Ar()},g}(tt);function Qs(m,g){return pr(m,g[0],g[1])}function By(m,g){return{node:m,index:0,__prev:g}}function xu(m,g,R,E){var N=Object.create(vo);return N.size=m,N._root=g,N.__ownerID=R,N.__hash=E,N.__altered=!1,N}var pd;function jo(){return pd||(pd=xu(0))}function Dl(m,g,R){var E,N;if(m._root){var J=s(),Z=s();if(E=lp(m._root,m.__ownerID,0,void 0,g,R,J,Z),!Z.value)return m;N=m.size+(J.value?R===o?-1:1:0)}else{if(R===o)return m;N=1,E=new ih(m.__ownerID,[[g,R]])}return m.__ownerID?(m.size=N,m._root=E,m.__hash=void 0,m.__altered=!0,m):E?xu(N,E):jo()}function lp(m,g,R,E,N,J,Z,he){return m?m.update(g,R,E,N,J,Z,he):J===o?m:(a(he),a(Z),new lu(g,E,[N,J]))}function mg(m){return m.constructor===lu||m.constructor===el}function hd(m,g,R,E,N){if(m.keyHash===E)return new el(g,E,[m.entry,N]);var J=(R===0?m.keyHash:m.keyHash>>>R)&i,Z=(R===0?E:E>>>R)&i,he,ke=J===Z?[hd(m,g,R+t,E,N)]:(he=new lu(g,E,N),J<Z?[m,he]:[he,m]);return new of(g,1<<J|1<<Z,ke)}function dp(m,g,R,E){m||(m=new c);for(var N=new lu(m,Vt(R),[R,E]),J=0;J<g.length;J++){var Z=g[J];N=N.update(m,0,void 0,Z[0],Z[1])}return N}function oh(m,g,R,E){for(var N=0,J=0,Z=new Array(R),he=0,ke=1,Qe=g.length;he<Qe;he++,ke<<=1){var pt=g[he];pt!==void 0&&he!==E&&(N|=ke,Z[J++]=pt)}return new of(m,N,Z)}function Tl(m,g,R,E,N){for(var J=0,Z=new Array(n),he=0;R!==0;he++,R>>>=1)Z[he]=R&1?g[J++]:void 0;return Z[E]=N,new Xs(m,J+1,Z)}function sh(m){return m-=m>>1&1431655765,m=(m&858993459)+(m>>2&858993459),m=m+(m>>4)&252645135,m+=m>>8,m+=m>>16,m&127}function Eu(m,g,R,E){var N=E?m:Ua(m);return N[g]=R,N}function fp(m,g,R,E){var N=m.length+1;if(E&&g+1===N)return m[g]=R,m;for(var J=new Array(N),Z=0,he=0;he<N;he++)he===g?(J[he]=R,Z=-1):J[he]=m[he+Z];return J}function du(m,g,R){var E=m.length-1;if(R&&g===E)return m.pop(),m;for(var N=new Array(E),J=0,Z=0;Z<E;Z++)Z===g&&(J=1),N[Z]=m[Z+J];return N}var sf=n/4,md=n/2,af=n/4,gd="@@__IMMUTABLE_LIST__@@";function Us(m){return!!(m&&m[gd])}var va=function(m){function g(R){var E=Pl();if(R==null)return E;if(Us(R))return R;var N=m(R),J=N.size;return J===0?E:(aa(J),J>0&&J<n?Ou(0,J,t,null,new Hc(N.toArray())):E.withMutations(function(Z){Z.setSize(J),N.forEach(function(he,ke){return Z.set(ke,he)})}))}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return this(arguments)},g.prototype.toString=function(){return this.__toString("List [","]")},g.prototype.get=function(E,N){if(E=l(this,E),E>=0&&E<this.size){E+=this._origin;var J=pp(this,E);return J&&J.array[E&i]}return N},g.prototype.set=function(E,N){return ah(this,E,N)},g.prototype.remove=function(E){return this.has(E)?E===0?this.shift():E===this.size-1?this.pop():this.splice(E,1):this},g.prototype.insert=function(E,N){return this.splice(E,0,N)},g.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=t,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Pl()},g.prototype.push=function(){var E=arguments,N=this.size;return this.withMutations(function(J){mc(J,0,N+E.length);for(var Z=0;Z<E.length;Z++)J.set(N+Z,E[Z])})},g.prototype.pop=function(){return mc(this,0,-1)},g.prototype.unshift=function(){var E=arguments;return this.withMutations(function(N){mc(N,-E.length);for(var J=0;J<E.length;J++)N.set(J,E[J])})},g.prototype.shift=function(){return mc(this,1)},g.prototype.concat=function(){for(var E=arguments,N=[],J=0;J<arguments.length;J++){var Z=E[J],he=m(typeof Z!="string"&&jr(Z)?Z:[Z]);he.size!==0&&N.push(he)}return N.length===0?this:this.size===0&&!this.__ownerID&&N.length===1?this.constructor(N[0]):this.withMutations(function(ke){N.forEach(function(Qe){return Qe.forEach(function(pt){return ke.push(pt)})})})},g.prototype.setSize=function(E){return mc(this,0,E)},g.prototype.map=function(E,N){var J=this;return this.withMutations(function(Z){for(var he=0;he<J.size;he++)Z.set(he,E.call(N,Z.get(he),he,J))})},g.prototype.slice=function(E,N){var J=this.size;return f(E,N,J)?this:mc(this,y(E,J),b(N,J))},g.prototype.__iterator=function(E,N){var J=N?this.size:0,Z=gg(this,N);return new tt(function(){var he=Z();return he===Wa?Ar():pr(E,N?--J:J++,he)})},g.prototype.__iterate=function(E,N){for(var J=N?this.size:0,Z=gg(this,N),he;(he=Z())!==Wa&&E(he,N?--J:J++,this)!==!1;);return J},g.prototype.__ensureOwner=function(E){return E===this.__ownerID?this:E?Ou(this._origin,this._capacity,this._level,this._root,this._tail,E,this.__hash):this.size===0?Pl():(this.__ownerID=E,this.__altered=!1,this)},g}(Pe);va.isList=Us;var Po=va.prototype;Po[gd]=!0,Po[e]=Po.remove,Po.merge=Po.concat,Po.setIn=zc,Po.deleteIn=Po.removeIn=Zd,Po.update=ef,Po.updateIn=nh,Po.mergeIn=Cl,Po.mergeDeepIn=Uc,Po.withMutations=om,Po.wasAltered=nf,Po.asImmutable=rf,Po["@@transducer/init"]=Po.asMutable=fd,Po["@@transducer/step"]=function(m,g){return m.push(g)},Po["@@transducer/result"]=function(m){return m.asImmutable()};var Hc=function(g,R){this.array=g,this.ownerID=R};Hc.prototype.removeBefore=function(g,R,E){if(E===R?1<<R:this.array.length===0)return this;var N=E>>>R&i;if(N>=this.array.length)return new Hc([],g);var J=N===0,Z;if(R>0){var he=this.array[N];if(Z=he&&he.removeBefore(g,R-t,E),Z===he&&J)return this}if(J&&!Z)return this;var ke=tl(this,g);if(!J)for(var Qe=0;Qe<N;Qe++)ke.array[Qe]=void 0;return Z&&(ke.array[N]=Z),ke},Hc.prototype.removeAfter=function(g,R,E){if(E===(R?1<<R:0)||this.array.length===0)return this;var N=E-1>>>R&i;if(N>=this.array.length)return this;var J;if(R>0){var Z=this.array[N];if(J=Z&&Z.removeAfter(g,R-t,E),J===Z&&N===this.array.length-1)return this}var he=tl(this,g);return he.array.splice(N+1),J&&(he.array[N]=J),he};var Wa={};function gg(m,g){var R=m._origin,E=m._capacity,N=Iu(E),J=m._tail;return Z(m._root,m._level,0);function Z(Qe,pt,Ht){return pt===0?he(Qe,Ht):ke(Qe,pt,Ht)}function he(Qe,pt){var Ht=pt===N?J&&J.array:Qe&&Qe.array,Sr=pt>R?0:R-pt,sn=E-pt;return sn>n&&(sn=n),function(){if(Sr===sn)return Wa;var qr=g?--sn:Sr++;return Ht&&Ht[qr]}}function ke(Qe,pt,Ht){var Sr,sn=Qe&&Qe.array,qr=Ht>R?0:R-Ht>>pt,Wn=(E-Ht>>pt)+1;return Wn>n&&(Wn=n),function(){for(;;){if(Sr){var Ws=Sr();if(Ws!==Wa)return Ws;Sr=null}if(qr===Wn)return Wa;var Ka=g?--Wn:qr++;Sr=Z(sn&&sn[Ka],pt-t,Ht+(Ka<<pt))}}}}function Ou(m,g,R,E,N,J,Z){var he=Object.create(Po);return he.size=g-m,he._origin=m,he._capacity=g,he._level=R,he._root=E,he._tail=N,he.__ownerID=J,he.__hash=Z,he.__altered=!1,he}var Hs;function Pl(){return Hs||(Hs=Ou(0,0,t))}function ah(m,g,R){if(g=l(m,g),g!==g)return m;if(g>=m.size||g<0)return m.withMutations(function(Z){g<0?mc(Z,g).set(0,R):mc(Z,0,g+1).set(g,R)});g+=m._origin;var E=m._tail,N=m._root,J=s();return g>=Iu(m._capacity)?E=fu(E,m.__ownerID,0,g,R,J):N=fu(N,m.__ownerID,m._level,g,R,J),J.value?m.__ownerID?(m._root=N,m._tail=E,m.__hash=void 0,m.__altered=!0,m):Ou(m._origin,m._capacity,m._level,N,E):m}function fu(m,g,R,E,N,J){var Z=E>>>R&i,he=m&&Z<m.array.length;if(!he&&N===void 0)return m;var ke;if(R>0){var Qe=m&&m.array[Z],pt=fu(Qe,g,R-t,E,N,J);return pt===Qe?m:(ke=tl(m,g),ke.array[Z]=pt,ke)}return he&&m.array[Z]===N?m:(J&&a(J),ke=tl(m,g),N===void 0&&Z===ke.array.length-1?ke.array.pop():ke.array[Z]=N,ke)}function tl(m,g){return g&&m&&g===m.ownerID?m:new Hc(m?m.array.slice():[],g)}function pp(m,g){if(g>=Iu(m._capacity))return m._tail;if(g<1<<m._level+t){for(var R=m._root,E=m._level;R&&E>0;)R=R.array[g>>>E&i],E-=t;return R}}function mc(m,g,R){g!==void 0&&(g|=0),R!==void 0&&(R|=0);var E=m.__ownerID||new c,N=m._origin,J=m._capacity,Z=N+g,he=R===void 0?J:R<0?J+R:N+R;if(Z===N&&he===J)return m;if(Z>=he)return m.clear();for(var ke=m._level,Qe=m._root,pt=0;Z+pt<0;)Qe=new Hc(Qe&&Qe.array.length?[void 0,Qe]:[],E),ke+=t,pt+=1<<ke;pt&&(Z+=pt,N+=pt,he+=pt,J+=pt);for(var Ht=Iu(J),Sr=Iu(he);Sr>=1<<ke+t;)Qe=new Hc(Qe&&Qe.array.length?[Qe]:[],E),ke+=t;var sn=m._tail,qr=Sr<Ht?pp(m,he-1):Sr>Ht?new Hc([],E):sn;if(sn&&Sr>Ht&&Z<J&&sn.array.length){Qe=tl(Qe,E);for(var Wn=Qe,Ws=ke;Ws>t;Ws-=t){var Ka=Ht>>>Ws&i;Wn=Wn.array[Ka]=tl(Wn.array[Ka],E)}Wn.array[Ht>>>t&i]=sn}if(he<J&&(qr=qr&&qr.removeAfter(E,0,he)),Z>=Sr)Z-=Sr,he-=Sr,ke=t,Qe=null,qr=qr&&qr.removeBefore(E,0,Z);else if(Z>N||Sr<Ht){for(pt=0;Qe;){var mu=Z>>>ke&i;if(mu!==Sr>>>ke&i)break;mu&&(pt+=(1<<ke)*mu),ke-=t,Qe=Qe.array[mu]}Qe&&Z>N&&(Qe=Qe.removeBefore(E,ke,Z-pt)),Qe&&Sr<Ht&&(Qe=Qe.removeAfter(E,ke,Sr-pt)),pt&&(Z-=pt,he-=pt)}return m.__ownerID?(m.size=he-Z,m._origin=Z,m._capacity=he,m._level=ke,m._root=Qe,m._tail=qr,m.__hash=void 0,m.__altered=!0,m):Ou(Z,he,ke,Qe,qr)}function Iu(m){return m<n?0:m-1>>>t<<t}var vs=function(m){function g(R){return R==null?Au():_e(R)?R:Au().withMutations(function(E){var N=ee(R);aa(N.size),N.forEach(function(J,Z){return E.set(Z,J)})})}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return this(arguments)},g.prototype.toString=function(){return this.__toString("OrderedMap {","}")},g.prototype.get=function(E,N){var J=this._map.get(E);return J!==void 0?this._list.get(J)[1]:N},g.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Au()},g.prototype.set=function(E,N){return Zs(this,E,N)},g.prototype.remove=function(E){return Zs(this,E,o)},g.prototype.__iterate=function(E,N){var J=this;return this._list.__iterate(function(Z){return Z&&E(Z[1],Z[0],J)},N)},g.prototype.__iterator=function(E,N){return this._list.fromEntrySeq().__iterator(E,N)},g.prototype.__ensureOwner=function(E){if(E===this.__ownerID)return this;var N=this._map.__ensureOwner(E),J=this._list.__ensureOwner(E);return E?Wc(N,J,E,this.__hash):this.size===0?Au():(this.__ownerID=E,this.__altered=!1,this._map=N,this._list=J,this)},g}(hc);vs.isOrderedMap=_e,vs.prototype[we]=!0,vs.prototype[e]=vs.prototype.remove;function Wc(m,g,R,E){var N=Object.create(vs.prototype);return N.size=m?m.size:0,N._map=m,N._list=g,N.__ownerID=R,N.__hash=E,N.__altered=!1,N}var ku;function Au(){return ku||(ku=Wc(jo(),Pl()))}function Zs(m,g,R){var E=m._map,N=m._list,J=E.get(g),Z=J!==void 0,he,ke;if(R===o){if(!Z)return m;N.size>=n&&N.size>=E.size*2?(ke=N.filter(function(Qe,pt){return Qe!==void 0&&J!==pt}),he=ke.toKeyedSeq().map(function(Qe){return Qe[0]}).flip().toMap(),m.__ownerID&&(he.__ownerID=ke.__ownerID=m.__ownerID)):(he=E.remove(g),ke=J===N.size-1?N.pop():N.set(J,void 0))}else if(Z){if(R===N.get(J)[1])return m;he=E,ke=N.set(J,[g,R])}else he=E.set(g,N.size),ke=N.set(N.size,[g,R]);return m.__ownerID?(m.size=he.size,m._map=he,m._list=ke,m.__hash=void 0,m.__altered=!0,m):Wc(he,ke)}var vg="@@__IMMUTABLE_STACK__@@";function Ba(m){return!!(m&&m[vg])}var rl=function(m){function g(R){return R==null?Mu():Ba(R)?R:Mu().pushAll(R)}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return this(arguments)},g.prototype.toString=function(){return this.__toString("Stack [","]")},g.prototype.get=function(E,N){var J=this._head;for(E=l(this,E);J&&E--;)J=J.next;return J?J.value:N},g.prototype.peek=function(){return this._head&&this._head.value},g.prototype.push=function(){var E=arguments;if(arguments.length===0)return this;for(var N=this.size+arguments.length,J=this._head,Z=arguments.length-1;Z>=0;Z--)J={value:E[Z],next:J};return this.__ownerID?(this.size=N,this._head=J,this.__hash=void 0,this.__altered=!0,this):Uo(N,J)},g.prototype.pushAll=function(E){if(E=m(E),E.size===0)return this;if(this.size===0&&Ba(E))return E;aa(E.size);var N=this.size,J=this._head;return E.__iterate(function(Z){N++,J={value:Z,next:J}},!0),this.__ownerID?(this.size=N,this._head=J,this.__hash=void 0,this.__altered=!0,this):Uo(N,J)},g.prototype.pop=function(){return this.slice(1)},g.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Mu()},g.prototype.slice=function(E,N){if(f(E,N,this.size))return this;var J=y(E,this.size),Z=b(N,this.size);if(Z!==this.size)return m.prototype.slice.call(this,E,N);for(var he=this.size-J,ke=this._head;J--;)ke=ke.next;return this.__ownerID?(this.size=he,this._head=ke,this.__hash=void 0,this.__altered=!0,this):Uo(he,ke)},g.prototype.__ensureOwner=function(E){return E===this.__ownerID?this:E?Uo(this.size,this._head,E,this.__hash):this.size===0?Mu():(this.__ownerID=E,this.__altered=!1,this)},g.prototype.__iterate=function(E,N){var J=this;if(N)return new ni(this.toArray()).__iterate(function(ke,Qe){return E(ke,Qe,J)},N);for(var Z=0,he=this._head;he&&E(he.value,Z++,this)!==!1;)he=he.next;return Z},g.prototype.__iterator=function(E,N){if(N)return new ni(this.toArray()).__iterator(E,N);var J=0,Z=this._head;return new tt(function(){if(Z){var he=Z.value;return Z=Z.next,pr(E,J++,he)}return Ar()})},g}(Pe);rl.isStack=Ba;var zo=rl.prototype;zo[vg]=!0,zo.shift=zo.pop,zo.unshift=zo.push,zo.unshiftAll=zo.pushAll,zo.withMutations=om,zo.wasAltered=nf,zo.asImmutable=rf,zo["@@transducer/init"]=zo.asMutable=fd,zo["@@transducer/step"]=function(m,g){return m.unshift(g)},zo["@@transducer/result"]=function(m){return m.asImmutable()};function Uo(m,g,R,E){var N=Object.create(zo);return N.size=m,N._head=g,N.__ownerID=R,N.__hash=E,N.__altered=!1,N}var cf;function Mu(){return cf||(cf=Uo(0))}var uf="@@__IMMUTABLE_SET__@@";function Mo(m){return!!(m&&m[uf])}function Rl(m){return Mo(m)&&Ee(m)}function lf(m,g){if(m===g)return!0;if(!A(g)||m.size!==void 0&&g.size!==void 0&&m.size!==g.size||m.__hash!==void 0&&g.__hash!==void 0&&m.__hash!==g.__hash||ne(m)!==ne(g)||ve(m)!==ve(g)||Ee(m)!==Ee(g))return!1;if(m.size===0&&g.size===0)return!0;var R=!$(m);if(Ee(m)){var E=m.entries();return g.every(function(ke,Qe){var pt=E.next().value;return pt&&ft(pt[1],ke)&&(R||ft(pt[0],Qe))})&&E.next().done}var N=!1;if(m.size===void 0)if(g.size===void 0)typeof m.cacheResult=="function"&&m.cacheResult();else{N=!0;var J=m;m=g,g=J}var Z=!0,he=g.__iterate(function(ke,Qe){if(R?!m.has(ke):N?!ft(ke,m.get(Qe,o)):!ft(m.get(Qe,o),ke))return Z=!1,!1});return Z&&m.size===he}function ca(m,g){var R=function(E){m.prototype[E]=g[E]};return Object.keys(g).forEach(R),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(g).forEach(R),m}function pu(m){if(!m||typeof m!="object")return m;if(!A(m)){if(!Js(m))return m;m=Er(m)}if(ne(m)){var g={};return m.__iterate(function(E,N){g[N]=pu(E)}),g}var R=[];return m.__iterate(function(E){R.push(pu(E))}),R}var ea=function(m){function g(R){return R==null?Bc():Mo(R)&&!Ee(R)?R:Bc().withMutations(function(E){var N=m(R);aa(N.size),N.forEach(function(J){return E.add(J)})})}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return this(arguments)},g.fromKeys=function(E){return this(ee(E).keySeq())},g.intersect=function(E){return E=W(E).toArray(),E.length?Ps.intersect.apply(g(E.pop()),E):Bc()},g.union=function(E){return E=W(E).toArray(),E.length?Ps.union.apply(g(E.pop()),E):Bc()},g.prototype.toString=function(){return this.__toString("Set {","}")},g.prototype.has=function(E){return this._map.has(E)},g.prototype.add=function(E){return xl(this,this._map.set(E,E))},g.prototype.remove=function(E){return xl(this,this._map.remove(E))},g.prototype.clear=function(){return xl(this,this._map.clear())},g.prototype.map=function(E,N){var J=this,Z=!1,he=xl(this,this._map.mapEntries(function(ke){var Qe=ke[1],pt=E.call(N,Qe,Qe,J);return pt!==Qe&&(Z=!0),[pt,pt]},N));return Z?he:this},g.prototype.union=function(){for(var E=[],N=arguments.length;N--;)E[N]=arguments[N];return E=E.filter(function(J){return J.size!==0}),E.length===0?this:this.size===0&&!this.__ownerID&&E.length===1?this.constructor(E[0]):this.withMutations(function(J){for(var Z=0;Z<E.length;Z++)typeof E[Z]=="string"?J.add(E[Z]):m(E[Z]).forEach(function(he){return J.add(he)})})},g.prototype.intersect=function(){for(var E=[],N=arguments.length;N--;)E[N]=arguments[N];if(E.length===0)return this;E=E.map(function(Z){return m(Z)});var J=[];return this.forEach(function(Z){E.every(function(he){return he.includes(Z)})||J.push(Z)}),this.withMutations(function(Z){J.forEach(function(he){Z.remove(he)})})},g.prototype.subtract=function(){for(var E=[],N=arguments.length;N--;)E[N]=arguments[N];if(E.length===0)return this;E=E.map(function(Z){return m(Z)});var J=[];return this.forEach(function(Z){E.some(function(he){return he.includes(Z)})&&J.push(Z)}),this.withMutations(function(Z){J.forEach(function(he){Z.remove(he)})})},g.prototype.sort=function(E){return Ho(oo(this,E))},g.prototype.sortBy=function(E,N){return Ho(oo(this,N,E))},g.prototype.wasAltered=function(){return this._map.wasAltered()},g.prototype.__iterate=function(E,N){var J=this;return this._map.__iterate(function(Z){return E(Z,Z,J)},N)},g.prototype.__iterator=function(E,N){return this._map.__iterator(E,N)},g.prototype.__ensureOwner=function(E){if(E===this.__ownerID)return this;var N=this._map.__ensureOwner(E);return E?this.__make(N,E):this.size===0?this.__empty():(this.__ownerID=E,this._map=N,this)},g}(se);ea.isSet=Mo;var Ps=ea.prototype;Ps[uf]=!0,Ps[e]=Ps.remove,Ps.merge=Ps.concat=Ps.union,Ps.withMutations=om,Ps.asImmutable=rf,Ps["@@transducer/init"]=Ps.asMutable=fd,Ps["@@transducer/step"]=function(m,g){return m.add(g)},Ps["@@transducer/result"]=function(m){return m.asImmutable()},Ps.__empty=Bc,Ps.__make=xv;function xl(m,g){return m.__ownerID?(m.size=g.size,m._map=g,m):g===m._map?m:g.size===0?m.__empty():m.__make(g)}function xv(m,g){var R=Object.create(Ps);return R.size=m?m.size:0,R._map=m,R.__ownerID=g,R}var us;function Bc(){return us||(us=xv(jo()))}var nl=function(m){function g(R,E,N){if(!(this instanceof g))return new g(R,E,N);if(Ha(N!==0,"Cannot step a Range by 0"),R=R||0,E===void 0&&(E=1/0),N=N===void 0?1:Math.abs(N),E<R&&(N=-N),this._start=R,this._end=E,this._step=N,this.size=Math.max(0,Math.ceil((E-R)/N-1)+1),this.size===0){if(hp)return hp;hp=this}}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},g.prototype.get=function(E,N){return this.has(E)?this._start+l(this,E)*this._step:N},g.prototype.includes=function(E){var N=(E-this._start)/this._step;return N>=0&&N<this.size&&N===Math.floor(N)},g.prototype.slice=function(E,N){return f(E,N,this.size)?this:(E=y(E,this.size),N=b(N,this.size),N<=E?new g(0,0):new g(this.get(E,this._end),this.get(N,this._end),this._step))},g.prototype.indexOf=function(E){var N=E-this._start;if(N%this._step===0){var J=N/this._step;if(J>=0&&J<this.size)return J}return-1},g.prototype.lastIndexOf=function(E){return this.indexOf(E)},g.prototype.__iterate=function(E,N){for(var J=this.size,Z=this._step,he=N?this._start+(J-1)*Z:this._start,ke=0;ke!==J&&E(he,N?J-++ke:ke++,this)!==!1;)he+=N?-Z:Z;return ke},g.prototype.__iterator=function(E,N){var J=this.size,Z=this._step,he=N?this._start+(J-1)*Z:this._start,ke=0;return new tt(function(){if(ke===J)return Ar();var Qe=he;return he+=N?-Z:Z,pr(E,N?J-++ke:ke++,Qe)})},g.prototype.equals=function(E){return E instanceof g?this._start===E._start&&this._end===E._end&&this._step===E._step:lf(this,E)},g}(Br),hp;function vd(m,g,R){for(var E=Zu(g),N=0;N!==E.length;)if(m=qo(m,E[N++],o),m===o)return R;return m}function ch(m,g){return vd(this,m,g)}function $a(m,g){return vd(m,g,o)!==o}function sm(m){return $a(this,m)}function ji(){aa(this.size);var m={};return this.__iterate(function(g,R){m[R]=g}),m}W.isIterable=A,W.isKeyed=ne,W.isIndexed=ve,W.isAssociative=$,W.isOrdered=Ee,W.Iterator=tt,ca(W,{toArray:function(){aa(this.size);var g=new Array(this.size||0),R=ne(this),E=0;return this.__iterate(function(N,J){g[E++]=R?[J,N]:N}),g},toIndexedSeq:function(){return new Ns(this)},toJS:function(){return pu(this)},toKeyedSeq:function(){return new Xo(this,!0)},toMap:function(){return hc(this.toKeyedSeq())},toObject:ji,toOrderedMap:function(){return vs(this.toKeyedSeq())},toOrderedSet:function(){return Ho(ne(this)?this.valueSeq():this)},toSet:function(){return ea(ne(this)?this.valueSeq():this)},toSetSeq:function(){return new Ys(this)},toSeq:function(){return ve(this)?this.toIndexedSeq():ne(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return rl(ne(this)?this.valueSeq():this)},toList:function(){return va(ne(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(g,R){return this.size===0?g+R:g+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+R},concat:function(){for(var g=[],R=arguments.length;R--;)g[R]=arguments[R];return Yn(this,Ut(this,g))},includes:function(g){return this.some(function(R){return ft(R,g)})},entries:function(){return this.__iterator(Ct)},every:function(g,R){aa(this.size);var E=!0;return this.__iterate(function(N,J,Z){if(!g.call(R,N,J,Z))return E=!1,!1}),E},filter:function(g,R){return Yn(this,vt(this,g,R,!0))},partition:function(g,R){return Hi(this,g,R)},find:function(g,R,E){var N=this.findEntry(g,R);return N?N[1]:E},forEach:function(g,R){return aa(this.size),this.__iterate(R?g.bind(R):g)},join:function(g){aa(this.size),g=g!==void 0?""+g:",";var R="",E=!0;return this.__iterate(function(N){E?E=!1:R+=g,R+=N!=null?N.toString():""}),R},keys:function(){return this.__iterator(Ne)},map:function(g,R){return Yn(this,H(this,g,R))},reduce:function(g,R,E){return ta(this,g,R,E,arguments.length<2,!1)},reduceRight:function(g,R,E){return ta(this,g,R,E,arguments.length<2,!0)},reverse:function(){return Yn(this,Ue(this,!0))},slice:function(g,R){return Yn(this,L(this,g,R,!0))},some:function(g,R){return!this.every(df(g),R)},sort:function(g){return Yn(this,oo(this,g))},values:function(){return this.__iterator($e)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(g,R){return u(g?this.toSeq().filter(g,R):this)},countBy:function(g,R){return Fr(this,g,R)},equals:function(g){return lf(this,g)},entrySeq:function(){var g=this;if(g._cache)return new ni(g._cache);var R=g.toSeq().map(Vi).toIndexedSeq();return R.fromEntrySeq=function(){return g.toSeq()},R},filterNot:function(g,R){return this.filter(df(g),R)},findEntry:function(g,R,E){var N=E;return this.__iterate(function(J,Z,he){if(g.call(R,J,Z,he))return N=[Z,J],!1}),N},findKey:function(g,R){var E=this.findEntry(g,R);return E&&E[0]},findLast:function(g,R,E){return this.toKeyedSeq().reverse().find(g,R,E)},findLastEntry:function(g,R,E){return this.toKeyedSeq().reverse().findEntry(g,R,E)},findLastKey:function(g,R){return this.toKeyedSeq().reverse().findKey(g,R)},first:function(g){return this.find(d,null,g)},flatMap:function(g,R){return Yn(this,wn(this,g,R))},flatten:function(g){return Yn(this,An(this,g,!0))},fromEntrySeq:function(){return new Ao(this)},get:function(g,R){return this.find(function(E,N){return ft(N,g)},void 0,R)},getIn:ch,groupBy:function(g,R){return io(this,g,R)},has:function(g){return this.get(g,o)!==o},hasIn:sm,isSubset:function(g){return g=typeof g.includes=="function"?g:W(g),this.every(function(R){return g.includes(R)})},isSuperset:function(g){return g=typeof g.isSubset=="function"?g:W(g),g.isSubset(this)},keyOf:function(g){return this.findKey(function(R){return ft(R,g)})},keySeq:function(){return this.toSeq().map(il).toIndexedSeq()},last:function(g){return this.toSeq().reverse().first(g)},lastKeyOf:function(g){return this.toKeyedSeq().reverse().keyOf(g)},max:function(g){return qi(this,g)},maxBy:function(g,R){return qi(this,R,g)},min:function(g){return qi(this,g?Si(g):Hn)},minBy:function(g,R){return qi(this,R?Si(R):Hn,g)},rest:function(){return this.slice(1)},skip:function(g){return g===0?this:this.slice(Math.max(0,g))},skipLast:function(g){return g===0?this:this.slice(0,-Math.max(0,g))},skipWhile:function(g,R){return Yn(this,rt(this,g,R,!0))},skipUntil:function(g,R){return this.skipWhile(df(g),R)},sortBy:function(g,R){return Yn(this,oo(this,R,g))},take:function(g){return this.slice(0,Math.max(0,g))},takeLast:function(g){return this.slice(-Math.max(0,g))},takeWhile:function(g,R){return Yn(this,Me(this,g,R))},takeUntil:function(g,R){return this.takeWhile(df(g),R)},update:function(g){return g(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=yd(this))}});var Zo=W.prototype;Zo[z]=!0,Zo[at]=Zo.values,Zo.toJSON=Zo.toArray,Zo.__toStringMapper=au,Zo.inspect=Zo.toSource=function(){return this.toString()},Zo.chain=Zo.flatMap,Zo.contains=Zo.includes,ca(ee,{flip:function(){return Yn(this,Do(this))},mapEntries:function(g,R){var E=this,N=0;return Yn(this,this.toSeq().map(function(J,Z){return g.call(R,[Z,J],N++,E)}).fromEntrySeq())},mapKeys:function(g,R){var E=this;return Yn(this,this.toSeq().flip().map(function(N,J){return g.call(R,N,J,E)}).flip())}});var Lu=ee.prototype;Lu[U]=!0,Lu[at]=Zo.entries,Lu.toJSON=ji,Lu.__toStringMapper=function(m,g){return au(g)+": "+au(m)},ca(Pe,{toKeyedSeq:function(){return new Xo(this,!1)},filter:function(g,R){return Yn(this,vt(this,g,R,!1))},findIndex:function(g,R){var E=this.findEntry(g,R);return E?E[0]:-1},indexOf:function(g){var R=this.keyOf(g);return R===void 0?-1:R},lastIndexOf:function(g){var R=this.lastKeyOf(g);return R===void 0?-1:R},reverse:function(){return Yn(this,Ue(this,!1))},slice:function(g,R){return Yn(this,L(this,g,R,!1))},splice:function(g,R){var E=arguments.length;if(R=Math.max(R||0,0),E===0||E===2&&!R)return this;g=y(g,g<0?this.count():this.size);var N=this.slice(0,g);return Yn(this,E===1?N:N.concat(Ua(arguments,2),this.slice(g+R)))},findLastIndex:function(g,R){var E=this.findLastEntry(g,R);return E?E[0]:-1},first:function(g){return this.get(0,g)},flatten:function(g){return Yn(this,An(this,g,!1))},get:function(g,R){return g=l(this,g),g<0||this.size===1/0||this.size!==void 0&&g>this.size?R:this.find(function(E,N){return N===g},void 0,R)},has:function(g){return g=l(this,g),g>=0&&(this.size!==void 0?this.size===1/0||g<this.size:this.indexOf(g)!==-1)},interpose:function(g){return Yn(this,Ln(this,g))},interleave:function(){var g=[this].concat(Ua(arguments)),R=$i(this.toSeq(),Br.of,g),E=R.flatten(!0);return R.size&&(E.size=R.size*g.length),Yn(this,E)},keySeq:function(){return nl(0,this.size)},last:function(g){return this.get(-1,g)},skipWhile:function(g,R){return Yn(this,rt(this,g,R,!1))},zip:function(){var g=[this].concat(Ua(arguments));return Yn(this,$i(this,ya,g))},zipAll:function(){var g=[this].concat(Ua(arguments));return Yn(this,$i(this,ya,g,!0))},zipWith:function(g){var R=Ua(arguments);return R[0]=this,Yn(this,$i(this,g,R))}});var gc=Pe.prototype;gc[de]=!0,gc[we]=!0,ca(se,{get:function(g,R){return this.has(g)?g:R},includes:function(g){return this.has(g)},keySeq:function(){return this.valueSeq()}});var vc=se.prototype;vc.has=Zo.includes,vc.contains=vc.includes,vc.keys=vc.values,ca(Un,Lu),ca(Br,gc),ca(ln,vc);function ta(m,g,R,E,N,J){return aa(m.size),m.__iterate(function(Z,he,ke){N?(N=!1,R=Z):R=g.call(E,R,Z,he,ke)},J),R}function il(m,g){return g}function Vi(m,g){return[g,m]}function df(m){return function(){return!m.apply(this,arguments)}}function Si(m){return function(){return-m.apply(this,arguments)}}function ya(){return Ua(arguments)}function Hn(m,g){return m<g?1:m>g?-1:0}function yd(m){if(m.size===1/0)return 0;var g=Ee(m),R=ne(m),E=g?1:0,N=m.__iterate(R?g?function(J,Z){E=31*E+yc(Vt(J),Vt(Z))|0}:function(J,Z){E=E+yc(Vt(J),Vt(Z))|0}:g?function(J){E=31*E+Vt(J)|0}:function(J){E=E+Vt(J)|0});return El(N,E)}function El(m,g){return g=Jt(g,3432918353),g=Jt(g<<15|g>>>-15,461845907),g=Jt(g<<13|g>>>-13,5),g=(g+3864292196|0)^m,g=Jt(g^g>>>16,2246822507),g=Jt(g^g>>>13,3266489909),g=nr(g^g>>>16),g}function yc(m,g){return m^g+2654435769+(m<<6)+(m>>2)|0}var Ho=function(m){function g(R){return R==null?hu():Rl(R)?R:hu().withMutations(function(E){var N=se(R);aa(N.size),N.forEach(function(J){return E.add(J)})})}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.of=function(){return this(arguments)},g.fromKeys=function(E){return this(ee(E).keySeq())},g.prototype.toString=function(){return this.__toString("OrderedSet {","}")},g}(ea);Ho.isOrderedSet=Rl;var Va=Ho.prototype;Va[we]=!0,Va.zip=gc.zip,Va.zipWith=gc.zipWith,Va.zipAll=gc.zipAll,Va.__empty=hu,Va.__make=ra;function ra(m,g){var R=Object.create(Va);return R.size=m?m.size:0,R._map=m,R.__ownerID=g,R}var ao;function hu(){return ao||(ao=ra(Au()))}var Nn={LeftThenRight:-1,RightThenLeft:1};function $c(m){if(ce(m))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ce(m))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(m===null||typeof m!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Ro=function(g,R){var E;$c(g);var N=function(he){var ke=this;if(he instanceof N)return he;if(!(this instanceof N))return new N(he);if(!E){E=!0;var Qe=Object.keys(g),pt=J._indices={};J._name=R,J._keys=Qe,J._defaultValues=g;for(var Ht=0;Ht<Qe.length;Ht++){var Sr=Qe[Ht];pt[Sr]=Ht,J[Sr]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+ba(this)+' with property "'+Sr+'" since that property name is part of the Record API.'):na(J,Sr)}}return this.__ownerID=void 0,this._values=va().withMutations(function(sn){sn.setSize(ke._keys.length),ee(he).forEach(function(qr,Wn){sn.set(ke._indices[Wn],qr===ke._defaultValues[Wn]?void 0:qr)})}),this},J=N.prototype=Object.create(si);return J.constructor=N,R&&(N.displayName=R),N};Ro.prototype.toString=function(){for(var g=ba(this)+" { ",R=this._keys,E,N=0,J=R.length;N!==J;N++)E=R[N],g+=(N?", ":"")+E+": "+au(this.get(E));return g+" }"},Ro.prototype.equals=function(g){return this===g||ce(g)&&ua(this).equals(ua(g))},Ro.prototype.hashCode=function(){return ua(this).hashCode()},Ro.prototype.has=function(g){return this._indices.hasOwnProperty(g)},Ro.prototype.get=function(g,R){if(!this.has(g))return R;var E=this._indices[g],N=this._values.get(E);return N===void 0?this._defaultValues[g]:N},Ro.prototype.set=function(g,R){if(this.has(g)){var E=this._values.set(this._indices[g],R===this._defaultValues[g]?void 0:R);if(E!==this._values&&!this.__ownerID)return Ol(this,E)}return this},Ro.prototype.remove=function(g){return this.set(g)},Ro.prototype.clear=function(){var g=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Ol(this,g)},Ro.prototype.wasAltered=function(){return this._values.wasAltered()},Ro.prototype.toSeq=function(){return ua(this)},Ro.prototype.toJS=function(){return pu(this)},Ro.prototype.entries=function(){return this.__iterator(Ct)},Ro.prototype.__iterator=function(g,R){return ua(this).__iterator(g,R)},Ro.prototype.__iterate=function(g,R){return ua(this).__iterate(g,R)},Ro.prototype.__ensureOwner=function(g){if(g===this.__ownerID)return this;var R=this._values.__ensureOwner(g);return g?Ol(this,R,g):(this.__ownerID=g,this._values=R,this)},Ro.isRecord=ce,Ro.getDescriptiveName=ba;var si=Ro.prototype;si[Le]=!0,si[e]=si.remove,si.deleteIn=si.removeIn=Zd,si.getIn=ch,si.hasIn=Zo.hasIn,si.merge=tf,si.mergeWith=wl,si.mergeIn=Cl,si.mergeDeep=dd,si.mergeDeepWith=gs,si.mergeDeepIn=Uc,si.setIn=zc,si.update=ef,si.updateIn=nh,si.withMutations=om,si.asMutable=fd,si.asImmutable=rf,si[at]=si.entries,si.toJSON=si.toObject=Zo.toObject,si.inspect=si.toSource=function(){return this.toString()};function Ol(m,g,R){var E=Object.create(Object.getPrototypeOf(m));return E._values=g,E.__ownerID=R,E}function ba(m){return m.constructor.displayName||m.constructor.name||"Record"}function ua(m){return Yi(m._keys.map(function(g){return[g,m.get(g)]}))}function na(m,g){try{Object.defineProperty(m,g,{get:function(){return this.get(g)},set:function(R){Ha(this.__ownerID,"Cannot set on an immutable record."),this.set(g,R)}})}catch{}}var Il=function(m){function g(R,E){if(!(this instanceof g))return new g(R,E);if(this._value=R,this.size=E===void 0?1/0:Math.max(0,E),this.size===0){if(Ga)return Ga;Ga=this}}return m&&(g.__proto__=m),g.prototype=Object.create(m&&m.prototype),g.prototype.constructor=g,g.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},g.prototype.get=function(E,N){return this.has(E)?this._value:N},g.prototype.includes=function(E){return ft(this._value,E)},g.prototype.slice=function(E,N){var J=this.size;return f(E,N,J)?this:new g(this._value,b(N,J)-y(E,J))},g.prototype.reverse=function(){return this},g.prototype.indexOf=function(E){return ft(this._value,E)?0:-1},g.prototype.lastIndexOf=function(E){return ft(this._value,E)?this.size:-1},g.prototype.__iterate=function(E,N){for(var J=this.size,Z=0;Z!==J&&E(this._value,N?J-++Z:Z++,this)!==!1;);return Z},g.prototype.__iterator=function(E,N){var J=this,Z=this.size,he=0;return new tt(function(){return he===Z?Ar():pr(E,N?Z-++he:he++,J._value)})},g.prototype.equals=function(E){return E instanceof g?ft(this._value,E._value):lf(E)},g}(Br),Ga;function bd(m,g){return ys([],g||Vc,m,"",g&&g.length>2?[]:void 0,{"":m})}function ys(m,g,R,E,N,J){if(typeof R!="string"&&!Ce(R)&&(En(R)||jr(R)||pc(R))){if(~m.indexOf(R))throw new TypeError("Cannot convert circular structure to Immutable");m.push(R),N&&E!==""&&N.push(E);var Z=g.call(J,E,Er(R).map(function(he,ke){return ys(m,g,he,ke,N,R)}),N&&N.slice());return m.pop(),N&&N.pop(),Z}return R}function Vc(m,g){return ve(g)?g.toList():ne(g)?g.toMap():g.toSet()}var ol="4.3.0",kl={version:ol,Collection:W,Iterable:W,Seq:Er,Map:hc,OrderedMap:vs,List:va,Stack:rl,Set:ea,OrderedSet:Ho,PairSorting:Nn,Record:Ro,Range:nl,Repeat:Il,is:ft,fromJS:bd,hash:Vt,isImmutable:Ce,isCollection:A,isKeyed:ne,isIndexed:ve,isAssociative:$,isOrdered:Ee,isValueObject:Ke,isPlainObject:pc,isSeq:Fe,isList:Us,isMap:Q,isOrderedMap:_e,isStack:Ba,isSet:Mo,isOrderedSet:Rl,isRecord:ce,get:qo,getIn:vd,has:op,hasIn:$a,merge:js,mergeDeep:so,mergeWith:Sl,mergeDeepWith:ap,remove:Cn,removeIn:sp,set:qs,setIn:ga,update:rh,updateIn:cu},_d=W;r.Collection=W,r.Iterable=_d,r.List=va,r.Map=hc,r.OrderedMap=vs,r.OrderedSet=Ho,r.PairSorting=Nn,r.Range=nl,r.Record=Ro,r.Repeat=Il,r.Seq=Er,r.Set=ea,r.Stack=rl,r.default=kl,r.fromJS=bd,r.get=qo,r.getIn=vd,r.has=op,r.hasIn=$a,r.hash=Vt,r.is=ft,r.isAssociative=$,r.isCollection=A,r.isImmutable=Ce,r.isIndexed=ve,r.isKeyed=ne,r.isList=Us,r.isMap=Q,r.isOrdered=Ee,r.isOrderedMap=_e,r.isOrderedSet=Rl,r.isPlainObject=pc,r.isRecord=ce,r.isSeq=Fe,r.isSet=Mo,r.isStack=Ba,r.isValueObject=Ke,r.merge=js,r.mergeDeep=so,r.mergeDeepWith=ap,r.mergeWith=Sl,r.remove=Cn,r.removeIn=sp,r.set=qs,r.setIn=ga,r.update=rh,r.updateIn=cu,r.version=ol,Object.defineProperty(r,"__esModule",{value:!0})})});var L3=P(YL=>{"use strict";Object.defineProperty(YL,"__esModule",{value:!0});YL.ServiceSource=void 0;var Bxt;(function(r){r[r.sameProcess=0]="sameProcess",r[r.otherProcessOnSameMachine=1]="otherProcessOnSameMachine",r[r.trustedServer=2]="trustedServer",r[r.untrustedServer=3]="untrustedServer"})(Bxt=YL.ServiceSource||(YL.ServiceSource={}))});var N3=P(JL=>{"use strict";Object.defineProperty(JL,"__esModule",{value:!0});JL.ClientCredentialsPolicy=void 0;var $xt;(function(r){r[r.requestOverridesDefault=0]="requestOverridesDefault",r[r.filterOverridesRequest=1]="filterOverridesRequest"})($xt=JL.ClientCredentialsPolicy||(JL.ClientCredentialsPolicy={}))});var Gqe=P(F3=>{"use strict";Object.defineProperty(F3,"__esModule",{value:!0});F3.View=void 0;var Vxt=require("events"),Vqe=rD(),Gxt=N3(),Wae=class extends Vxt.EventEmitter{container;audience;clientCredentials;clientCredentialsPolicy;clientCulture;clientUICulture;constructor(e,t,n,i,o,s){super(),this.container=e,this.audience=t,this.clientCredentials=n,this.clientCredentialsPolicy=i,this.clientCulture=o,this.clientUICulture=s}async getProxy(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e.moniker,this.audience);return i?.proffered?await i.proffered.getProxy(e,t,n):null}async getPipe(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?await i.proffered.getPipe(e,t,n):null}handshake(e,t){if(!Vqe.RemoteServiceConnections.contains(e.supportedConnections,Vqe.RemoteServiceConnections.IpcPipe))throw new Error("We only support pipes.");return Promise.resolve()}async requestServiceChannel(e,t,n){n?.throwIfCancelled(),t=this.applyOptionsFilter(t);let i=await this.container.getProfferingSource(e,this.audience);return i?.proffered?i.proffered.requestServiceChannel(e,t,n):Promise.resolve({})}cancelServiceRequest(e,t){throw new Error("Not yet implemented.")}applyOptionsFilter(e){let{...t}=e??{};return(this.clientCredentialsPolicy===Gxt.ClientCredentialsPolicy.filterOverridesRequest||(t.clientCredentials?.length??0)===0)&&(t.clientCredentials=this.clientCredentials.toObject()),t.clientCulture=this.clientCulture,t.clientUICulture=this.clientUICulture,t}};F3.View=Wae});var $ae=P(q3=>{"use strict";Object.defineProperty(q3,"__esModule",{value:!0});q3.RemoteServiceBrokerWrapper=void 0;var Kxt=Fae(),Bae=class extends Kxt.IpcRelayServiceBroker{};q3.RemoteServiceBrokerWrapper=Bae});var Yqe=P((OZt,Kqe)=>{"use strict";function Yxt(r){for(var e=5381,t=r.length;t;)e=e*33^r.charCodeAt(--t);return e>>>0}Kqe.exports=Yxt});var XL=P(SO=>{"use strict";var Jxt=SO&&SO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(SO,"__esModule",{value:!0});SO.ServiceMonikerValue=void 0;var Jqe=Jxt(Yqe()),Vae=class r{name;version;hash;constructor(e,t){typeof e=="string"?(this.name=e,this.version=t):(this.name=e.name,this.version=e.version)}equals(e){return e&&e.name===this.name&&e.version===this.version}hashCode(){return this.hash??=(0,Jqe.default)(this.name)+(0,Jqe.default)(this.version??""),this.hash}static from(e){return e instanceof r?e:new r(e)}};SO.ServiceMonikerValue=Vae});var Zqe=P(CO=>{"use strict";var Xxt=CO&&CO.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(CO,"__esModule",{value:!0});CO.ProfferedServiceFactory=void 0;var Xqe=Xxt(oD()),Qxt=require("events"),Zxt=zL(),eEt=$ae(),Qqe=XL(),tEt=L3(),Gae=class extends Qxt.EventEmitter{container;descriptor;factory;source=tEt.ServiceSource.sameProcess;monikers;remoteServiceBrokerWrapper;constructor(e,t,n){super(),this.container=e,this.descriptor=t,this.factory=n,this.monikers=Object.freeze([new Qqe.ServiceMonikerValue(t.moniker)]),this.remoteServiceBrokerWrapper=new eEt.RemoteServiceBrokerWrapper(this)}async getProxy(e,t,n){n?.throwIfCancelled();let i=this.container.getSecureServiceBroker(t),o=await this.invokeFactory(i,e.moniker,t??{},n??Xqe.default.CONTINUE);if(!o)return null;switch(typeof o.dispose){case"undefined":o.dispose=function(){};break;case"function":break;default:throw new Error(`Service has a dispose property of type ${typeof o.dispose} instead of a function.`)}return o}async getPipe(e,t,n){n?.throwIfCancelled();let i=Zxt.FullDuplexStream.CreatePair(),o=this.container.getSecureServiceBroker(t),s=this.descriptor.constructRpcConnection(i.first),a=await this.invokeFactory(o,e,t??{},n??Xqe.default.CONTINUE);try{return a?(s.addLocalRpcTarget(a),s.startListening(),i.second):(s.dispose(),null)}catch(c){throw typeof a?.dispose=="function"&&a.dispose(),c}}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.container.removeRegistrations(this)}invokeFactory(e,t,n,i){let o=this.container.getServiceRegistration(Qqe.ServiceMonikerValue.from(t))?.registration.allowGuestClients===!0;return this.factory(t,n,e,i)}};CO.ProfferedServiceFactory=Gae});var j3=P(QL=>{"use strict";Object.defineProperty(QL,"__esModule",{value:!0});QL.ServiceAudience=void 0;var rEt;(function(r){r[r.none=0]="none",r[r.process=1]="process",r[r.local=3]="local",r[r.liveShareGuest=1024]="liveShareGuest",r[r.allClientsIncludingGuests=1027]="allClientsIncludingGuests"})(rEt=QL.ServiceAudience||(QL.ServiceAudience={}))});var e2e=P(ZL=>{"use strict";Object.defineProperty(ZL,"__esModule",{value:!0});ZL.MissingBrokeredServiceErrorCode=void 0;var nEt;(function(r){r[r.noExplanation=0]="noExplanation",r[r.notLocallyRegistered=1]="notLocallyRegistered",r[r.chaosConfigurationDeniedRequest=2]="chaosConfigurationDeniedRequest",r[r.serviceAudienceMismatch=3]="serviceAudienceMismatch",r[r.serviceFactoryNotProffered=4]="serviceFactoryNotProffered",r[r.serviceFactoryReturnedNull=5]="serviceFactoryReturnedNull",r[r.serviceFactoryFault=6]="serviceFactoryFault",r[r.localServiceHiddenOnRemoteClient=7]="localServiceHiddenOnRemoteClient"})(nEt=ZL.MissingBrokeredServiceErrorCode||(ZL.MissingBrokeredServiceErrorCode={}))});var r2e=P(z3=>{"use strict";Object.defineProperty(z3,"__esModule",{value:!0});z3.ProfferedRemoteServiceBroker=void 0;var iEt=require("events"),t2e=Uae(),oEt=XL(),Kae=class extends iEt.EventEmitter{container;remoteServiceBroker;multiplexingStream;source;serviceBroker;monikers;constructor(e,t,n,i,o){super(),this.container=e,this.remoteServiceBroker=t,this.multiplexingStream=n,this.source=i,this.monikers=o.map(oEt.ServiceMonikerValue.from),this.serviceBroker=new Promise(async(s,a)=>{try{let c=n?await t2e.RemoteServiceBroker.connectToMultiplexingRemoteServiceBroker(t,n):await t2e.RemoteServiceBroker.connectToRemoteServiceBroker(t);s(c)}catch(c){a(c)}}),this.remoteServiceBroker.on("availabilityChanged",this.onAvailabilityChanged)}async getProxy(e,t,n){return await(await this.serviceBroker).getProxy(e,t,n)}async getPipe(e,t,n){return await(await this.serviceBroker).getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBroker.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBroker.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBroker.cancelServiceRequest(e,t)}dispose(){this.remoteServiceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};z3.ProfferedRemoteServiceBroker=Kae});var n2e=P(U3=>{"use strict";Object.defineProperty(U3,"__esModule",{value:!0});U3.ProfferedServiceBroker=void 0;var sEt=require("events"),aEt=$ae(),cEt=XL(),Yae=class extends sEt.EventEmitter{container;serviceBroker;source;monikers;remoteServiceBrokerWrapper;constructor(e,t,n,i){super(),this.container=e,this.serviceBroker=t,this.source=n,this.monikers=i.map(cEt.ServiceMonikerValue.from),this.serviceBroker.on("availabilityChanged",this.onAvailabilityChanged),this.remoteServiceBrokerWrapper=new aEt.RemoteServiceBrokerWrapper(this)}getProxy(e,t,n){return this.serviceBroker.getProxy(e,t,n)}getPipe(e,t,n){return this.serviceBroker.getPipe(e,t,n)}handshake(e,t){return this.remoteServiceBrokerWrapper.handshake(e,t)}requestServiceChannel(e,t,n){return this.remoteServiceBrokerWrapper.requestServiceChannel(e,t,n)}cancelServiceRequest(e,t){return this.remoteServiceBrokerWrapper.cancelServiceRequest(e,t)}dispose(){this.serviceBroker.off("availabilityChanged",this.onAvailabilityChanged),this.container.removeRegistrations(this)}onAvailabilityChanged(e){this.container.onAvailabilityChanged(null,this,e.impactedServices),this.emit("availabilityChanged",e)}};U3.ProfferedServiceBroker=Yae});var o2e=P(v_=>{"use strict";var uEt=v_&&v_.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),lEt=v_&&v_.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),dEt=v_&&v_.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&uEt(e,r,t);return lEt(e,r),e};Object.defineProperty(v_,"__esModule",{value:!0});v_.GlobalBrokeredServiceContainer=void 0;var T0=dEt($qe()),nm=L3(),Jae=Gqe(),fEt=Zqe(),P0=j3(),H3=e2e(),i2e=N3(),pEt=r2e(),hEt=n2e(),W3=XL(),Xae=CL(),Qae=class r{static preferredSourceOrderForRemoteServices=[nm.ServiceSource.trustedServer,nm.ServiceSource.untrustedServer];static preferredSourceOrderForLocalServices=[nm.ServiceSource.sameProcess,nm.ServiceSource.otherProcessOnSameMachine];remoteSources=T0.Map();profferedServiceIndex=T0.Map();registeredServices=T0.Map();localUserCredentials=T0.Map();constructor(){}register(e){let t=this.registeredServices,n=e.map(o=>({moniker:W3.ServiceMonikerValue.from(o.moniker),registration:o.registration}));n.forEach(o=>{if(this.registeredServices.has(o.moniker))throw new Error(`${Xae.ServiceMoniker.toString(o.moniker)} is already registered.`);t=t.set(o.moniker,o.registration)}),this.registeredServices=t;let i=!1;return{dispose:()=>{i||(n.forEach(o=>this.registeredServices=this.registeredServices.delete(o.moniker)),i=!0)}}}profferServiceFactory(e,t){return this.profferInternal(new fEt.ProfferedServiceFactory(this,e,t))}profferServiceBroker(e,t){return this.profferInternal(new hEt.ProfferedServiceBroker(this,e,nm.ServiceSource.sameProcess,t))}profferRemoteServiceBroker(e,t,n,i){if(n===nm.ServiceSource.sameProcess)throw new Error("Use the proffer method for local services when they are in the same process.");return this.profferInternal(new pEt.ProfferedRemoteServiceBroker(this,e,t,n,this.getAllowedMonikers(n,i?.map(W3.ServiceMonikerValue.from)??null)))}getFullAccessServiceBroker(){return new Jae.View(this,P0.ServiceAudience.process,this.localUserCredentials,i2e.ClientCredentialsPolicy.requestOverridesDefault)}getLimitedAccessServiceBroker(e,t,n){return new Jae.View(this,e,t,n)}static isLocalConsumer(e){return(e&~P0.ServiceAudience.local)===P0.ServiceAudience.none}getSecureServiceBroker(e){return new Jae.View(this,P0.ServiceAudience.process,e?.clientCredentials?T0.Map(e.clientCredentials):T0.Map(),i2e.ClientCredentialsPolicy.requestOverridesDefault)}getServiceRegistration(e){let t=this.registeredServices.get(e);if(t)return{registration:t,matchingMoniker:e};if(e.version){let n=new W3.ServiceMonikerValue(e.name);return this.getServiceRegistration(n)}return null}async getProfferingSource(e,t){let n=W3.ServiceMonikerValue.from(e),{registration:i,matchingMoniker:o}=this.getServiceRegistration(n)||{};if(!i||!o)return{errorCode:H3.MissingBrokeredServiceErrorCode.notLocallyRegistered};let s=!1;if(r.isLocalConsumer(t),!i.isExposedTo(t))return{errorCode:H3.MissingBrokeredServiceErrorCode.serviceAudienceMismatch};if(i.profferCallback){let a=i.profferCallback;i.profferCallback=void 0,await a(this,e)}for(let a of r.preferredSourceOrderForLocalServices){let c=this.profferedServiceIndex.get(a);if(c){let u=c.get(o);if(u)return{proffered:u,errorCode:H3.MissingBrokeredServiceErrorCode.noExplanation}}}return{errorCode:H3.MissingBrokeredServiceErrorCode.serviceFactoryNotProffered}}removeRegistrations(e){let t=this.profferedServiceIndex;switch(e.source){case nm.ServiceSource.sameProcess:case nm.ServiceSource.otherProcessOnSameMachine:let n=this.profferedServiceIndex.get(e.source);n&&(n=n.removeAll(e.monikers),this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n));break;default:this.profferedServiceIndex=this.profferedServiceIndex.remove(e.source),this.remoteSources=this.remoteSources.remove(e.source);break}this.onAvailabilityChanged(t,e)}onAvailabilityChanged(e,t,n){}getAllowedMonikers(e,t){let n=r.convertRemoteSourceToLocalAudience(e),i=[];if(t===null)for(let[o,s]of this.registeredServices)((s.audience&n)===n||e===nm.ServiceSource.otherProcessOnSameMachine)&&i.push(o);else for(let o of t){let s=this.registeredServices.get(o);s&&((s.audience&n)===n||e===nm.ServiceSource.otherProcessOnSameMachine)&&i.push(o)}return i}static convertRemoteSourceToLocalAudience(e){switch(e){case nm.ServiceSource.otherProcessOnSameMachine:return P0.ServiceAudience.local;case nm.ServiceSource.trustedServer:return P0.ServiceAudience.liveShareGuest;case nm.ServiceSource.untrustedServer:return P0.ServiceAudience.liveShareGuest;default:throw new Error(`Source not recognized: ${e}`)}}profferInternal(e){let t=this.profferedServiceIndex;e.source>nm.ServiceSource.otherProcessOnSameMachine&&this.remoteSources.set(e.source,e);let n=this.profferedServiceIndex.get(e.source)??T0.Map(),i=[];if(e.monikers.forEach(o=>{if(this.registeredServices.has(o)||i.push(o),n.has(o))throw new Error(`${Xae.ServiceMoniker.toString(o)} is already proffered.`);n=n.set(o,e)}),i.length>0)throw new Error(`Cannot proffer unregistered service(s): ${i.map(o=>Xae.ServiceMoniker.toString(o)).join(", ")}`);return this.profferedServiceIndex=this.profferedServiceIndex.set(e.source,n),this.onAvailabilityChanged(t,e),e}};v_.GlobalBrokeredServiceContainer=Qae});var s2e=P($3=>{"use strict";Object.defineProperty($3,"__esModule",{value:!0});$3.ServiceRegistration=void 0;var B3=j3(),Zae=class{audience;allowGuestClients;profferCallback;constructor(e,t,n){this.audience=e,this.allowGuestClients=t,this.profferCallback=n}get isExposedLocally(){return(this.audience&B3.ServiceAudience.local)!==B3.ServiceAudience.none}get isExposedRemotely(){return(this.audience&B3.ServiceAudience.liveShareGuest)!==B3.ServiceAudience.none}isExposedTo(e){return(e&this.audience)===e}};$3.ServiceRegistration=Zae});var a2e=P(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.ClientCredentialsPolicy=Tv.ServiceSource=Tv.ServiceRegistration=Tv.ServiceAudience=Tv.GlobalBrokeredServiceContainer=void 0;var mEt=o2e();Object.defineProperty(Tv,"GlobalBrokeredServiceContainer",{enumerable:!0,get:function(){return mEt.GlobalBrokeredServiceContainer}});var gEt=j3();Object.defineProperty(Tv,"ServiceAudience",{enumerable:!0,get:function(){return gEt.ServiceAudience}});var vEt=s2e();Object.defineProperty(Tv,"ServiceRegistration",{enumerable:!0,get:function(){return vEt.ServiceRegistration}});var yEt=L3();Object.defineProperty(Tv,"ServiceSource",{enumerable:!0,get:function(){return yEt.ServiceSource}});var bEt=N3();Object.defineProperty(Tv,"ClientCredentialsPolicy",{enumerable:!0,get:function(){return bEt.ClientCredentialsPolicy}})});var tce=P(Zi=>{"use strict";var _Et=Zi&&Zi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,i)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),c2e=Zi&&Zi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&_Et(e,r,t)};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.Observer=Zi.ServiceRpcDescriptor=Zi.ServiceMoniker=Zi.JsonRpcConnection=Zi.ServiceJsonRpcDescriptor=Zi.RemoteServiceConnectionInfo=Zi.RemoteServiceBroker=Zi.ProtectedOperation=Zi.MultiplexingRelayServiceBroker=Zi.RpcMarshalable=Zi.IpcRelayServiceBroker=Zi.IDisposable=Zi.AuthorizationServiceClient=Zi.RemoteServiceConnections=Zi.MessageDelimiters=Zi.Formatters=void 0;var ece=rD();Object.defineProperty(Zi,"Formatters",{enumerable:!0,get:function(){return ece.Formatters}});Object.defineProperty(Zi,"MessageDelimiters",{enumerable:!0,get:function(){return ece.MessageDelimiters}});Object.defineProperty(Zi,"RemoteServiceConnections",{enumerable:!0,get:function(){return ece.RemoteServiceConnections}});c2e(x3(),Zi);var wEt=Tae();Object.defineProperty(Zi,"AuthorizationServiceClient",{enumerable:!0,get:function(){return wEt.AuthorizationServiceClient}});var SEt=cqe();Object.defineProperty(Zi,"IDisposable",{enumerable:!0,get:function(){return SEt.IDisposable}});var CEt=Fae();Object.defineProperty(Zi,"IpcRelayServiceBroker",{enumerable:!0,get:function(){return CEt.IpcRelayServiceBroker}});var DEt=K$();Object.defineProperty(Zi,"RpcMarshalable",{enumerable:!0,get:function(){return DEt.RpcMarshalable}});var TEt=Nqe();Object.defineProperty(Zi,"MultiplexingRelayServiceBroker",{enumerable:!0,get:function(){return TEt.MultiplexingRelayServiceBroker}});var PEt=qqe();Object.defineProperty(Zi,"ProtectedOperation",{enumerable:!0,get:function(){return PEt.ProtectedOperation}});var REt=Uae();Object.defineProperty(Zi,"RemoteServiceBroker",{enumerable:!0,get:function(){return REt.RemoteServiceBroker}});var xEt=jae();Object.defineProperty(Zi,"RemoteServiceConnectionInfo",{enumerable:!0,get:function(){return xEt.RemoteServiceConnectionInfo}});var u2e=Sae();Object.defineProperty(Zi,"ServiceJsonRpcDescriptor",{enumerable:!0,get:function(){return u2e.ServiceJsonRpcDescriptor}});Object.defineProperty(Zi,"JsonRpcConnection",{enumerable:!0,get:function(){return u2e.JsonRpcConnection}});var EEt=CL();Object.defineProperty(Zi,"ServiceMoniker",{enumerable:!0,get:function(){return EEt.ServiceMoniker}});var OEt=hse();Object.defineProperty(Zi,"ServiceRpcDescriptor",{enumerable:!0,get:function(){return OEt.ServiceRpcDescriptor}});var IEt=Wqe();Object.defineProperty(Zi,"Observer",{enumerable:!0,get:function(){return IEt.Observer}});c2e(a2e(),Zi)});var gOt={};NO(gOt,{activate:()=>mOt});module.exports=WS(gOt);var xF=be(require("path")),Bi=be(require("vscode"));var TV=be(require("child_process")),X_=be(require("fs")),Ece=be(require("os")),Sb=be(require("path")),DV;function Oce(r){DV=r}function FD(){if(!DV)throw new Error("Failed to set extension path");return DV}function Ice(){let r=process.env.TMPDIR;return r||"/tmp/"}function FO(r,e){return r.reduce((t,n)=>t+e(n),0)}async function PV(r,e){return Promise.all(r.map(e))}async function kce(r,e){let t=await PV(r,e);return r.filter((n,i)=>t[i])}function RV(r){return r?r.length:0}async function ry(r,e,t){return new Promise((n,i)=>{TV.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(o,s,a)=>{o?i(new Error(`${o}
${s}
${a}`)):a&&!a.includes("screen size is bogus")?i(new Error(a)):n(s)})})}async function Ace(r){return new Promise((e,t)=>{TV.exec("ps -A -o ppid,pid",(n,i,o)=>{if(n)return t(n);if(o&&!o.includes("screen size is bogus"))return t(new Error(o));if(!i)return e([]);let a=i.split(Ece.EOL).map(u=>u.trim().split(/\s+/)),c=[];for(let u of a)parseInt(u[0])===r&&c.push(parseInt(u[1]));e(c)})})}async function j0(r){return new Promise(e=>{X_.stat(r,(t,n)=>{n&&n.isFile()?e(!0):e(!1)})})}async function Mce(r){return j0(r).then(async e=>new Promise((t,n)=>{if(!e)return t();X_.unlink(r,i=>{if(i)return n(i);t()})}))}var qO=(t=>(t[t.Begin=0]="Begin",t[t.Lock=1]="Lock",t))(qO||{});function jO(r,e){let t="install."+qO[e];return Sb.resolve(r.value,t)}async function pN(r,e){return j0(jO(r,e))}async function xV(r,e){return new Promise((t,n)=>{X_.writeFile(jO(r,e),"",i=>{if(i){n(i);return}t()})})}async function Lce(r,e){return new Promise((t,n)=>{X_.unlink(jO(r,e),i=>{if(i){n(i);return}t()})})}function Q_(r){return r.split(Sb.sep).join(Sb.posix.sep)}function Nce(r,e){let t=r.split(Sb.sep),n=e.split(Sb.sep);return n.length<=r.length&&n.every((i,o)=>t[o]===i)}function Fce(){let r=(process.env.PATH||"").replace(/"+/g,"").split(";").filter(t=>t),e=["pwsh.exe","powershell.exe"];for(let t of e){let n=r.reduce((i,o)=>[...i,Sb.join(o,t)],[]);for(let i of n)try{if(X_.statSync(i).isFile())return t}catch{}}}var rw=be(require("vscode")),XV=be(require("path")),$0=be(require("fs")),KO=be(VS()),qle=be(require("os"));var JV=be(VS()),Lle=require("path");var Nle=require("os");async function jh(r){let e=WHe(r),t=await BHe(e);return await $He(t,e)}function WHe(r){let e=`dotnet${zd.getPlatformExeExtension()}`,t;for(let n of r){let i=(0,Lle.join)(n,e);if(zd.existsSync(i)){t=i;break}}return t}async function BHe(r){try{let e={...process.env,DOTNET_CLI_UI_LANGUAGE:"en-US"},t=r?`"${r}"`:"dotnet";return await ry(`${t} --info`,process.cwd(),e)}catch(e){let t=e instanceof Error?e.message:`${e}`;throw new Error(`Error running dotnet --info: ${t}`)}}async function $He(r,e){try{let t=e,n=r,i,o,s,a=r.replace(/\r/gm,"").split(`
`);for(let d of a){let f;(f=/^\s*Version:\s*([^\s].*)$/.exec(d))?i=f[1]:(f=/^\s*RID:\s*([\w\-.]+)$/.exec(d))?o=f[1]:(f=/^\s*Architecture:\s*(.*)/.exec(d))&&(s=f[1])}let c={},u=e?`"${e}"`:"dotnet";a=(await ry(`${u} --list-runtimes`,process.cwd(),process.env)).split(/\r?\n/);for(let d of a){let f;if(f=/^([\w.]+) ([^ ]+) \[([^\]]+)\]$/.exec(d)){let y=f[1],b=f[2];y in c?c[y].push({Version:JV.parse(b),Path:f[3]}):c[y]=[{Version:JV.parse(b),Path:f[3]}]}}if(i!==void 0)return{CliPath:t,FullInfo:n,Version:i,RuntimeId:o,Architecture:s,Runtimes:c};throw new Error("Failed to parse dotnet version information")}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(`Error parsing dotnet --info: ${n}, raw info was:${Nle.EOL}${r}`)}}var Fle="1.0.0",VHe="22.0.0",jle="macOS 13 (Ventura)",zd=class{_extensionDir="";_debugAdapterDir="";_installCompleteFilePath="";constructor(e){this._extensionDir=e,this._debugAdapterDir=XV.join(this._extensionDir,".debugger"),this._installCompleteFilePath=XV.join(this._debugAdapterDir,"install.complete")}extensionDir(){if(this._extensionDir==="")throw new Error(rw.l10n.t("Failed to set extension directory"));return this._extensionDir}debugAdapterDir(){if(this._debugAdapterDir==="")throw new Error(rw.l10n.t("Failed to set debugadpter directory"));return this._debugAdapterDir}installCompleteFilePath(){if(this._installCompleteFilePath==="")throw new Error(rw.l10n.t("Failed to set install complete file path"));return this._installCompleteFilePath}static async writeEmptyFile(e){return new Promise((t,n)=>{$0.writeFile(e,"",i=>{i?n(i.code):t()})})}async checkDotNetCli(e){try{let t=await jh(e);if(KO.lt(t.Version,Fle))throw new Error(rw.l10n.t("The .NET SDK located on the path is too old. .NET debugging will not be enabled. The minimum supported version is {0}.",Fle))}catch(t){let n=t instanceof Error?t.message:`${t}`;throw new Error(rw.l10n.t("The .NET SDK cannot be located: {0}. .NET debugging will not be enabled. Make sure the .NET SDK is installed and is on the path.",n))}}static isMacOSSupported(){return KO.gte(qle.release(),VHe)}static existsSync(e){try{return $0.accessSync(e,$0.constants.F_OK),!0}catch(t){let n=t;if(n.code==="ENOENT"||n.code==="ENOTDIR")return!1;throw Error(n.code)}}static getPlatformExeExtension(){return process.platform==="win32"?".exe":""}},GHe="6.0.0";function zle(r,e,t){if(!r.isMacOS()&&!r.isWindows())return"";if(e){if(e!=="x86_64"&&e!=="arm64")throw new Error(rw.l10n.t("The value '{0}' for 'targetArchitecture' in launch configuraiton is invalid. Expected 'x86_64' or 'arm64'.",e));return e}if(KO.lt(t.Version,GHe))return"x86_64";if(!t.RuntimeId)throw new Error(rw.l10n.t("Unable to determine RuntimeId. Please set 'targetArchitecture' in your launch.json configuration."));if(t.RuntimeId.includes("arm64"))return"arm64";if(t.RuntimeId.includes("x64"))return"x86_64";throw new Error(rw.l10n.t("Unexpected RuntimeId '{0}'.",t.RuntimeId))}var Ud=class{constructor(e){this.message=e}type=24},TN=class{type=54},UD=class extends Ud{type=41},YO=class extends Ud{type=67},HD=class{type=52},PN=class{type=6},GS=class{constructor(e){this.packageInfo=e}type=7},KS=class{constructor(e){this.info=e}type=8},RN=class{constructor(e){this.packageDescription=e}type=9},YS=class{type=50},WD=class{constructor(e,t){this.stage=e;this.error=t}type=10},xN=class{constructor(e){this.packageDescription=e}type=25},EN=class{constructor(e){this.fallbackUrl=e}type=26},JO=class extends Ud{type=65},V0=class extends Ud{type=64},ON=class{constructor(e){this.packageSize=e}type=27},IN=class{constructor(e,t){this.downloadPercentage=e;this.packageDescription=t}type=11},kN=class{type=43},AN=class{constructor(e){this.message=e}type=28},MN=class{constructor(e,t,n){this.packageDescription=e;this.url=t;this.retry=n}type=37},LN=class{type=38};var NN=be(require("path")),BD=class r{constructor(e){this.value=e;if(!NN.isAbsolute(e))throw new Error("The path must be absolute")}static getAbsolutePath(...e){return new r(NN.resolve(...e))}};var G0=class r{constructor(e,t,n,i,o,s,a,c,u,l,d,f){this.id=e;this.description=t;this.url=n;this.platforms=i;this.architectures=o;this.installPath=s;this.binaries=a;this.installTestPath=c;this.fallbackUrl=u;this.platformId=l;this.integrity=d;this.isFramework=f}static getAbsolutePathPackage(e,t){return new r(e.id,e.description,e.url,e.platforms,e.architectures,Ule(e,t),YHe(e,t),KHe(e,t),e.fallbackUrl,e.platformId,e.integrity,e.isFramework)}};function KHe(r,e){if(r.installTestPath!==void 0)return BD.getAbsolutePath(e,r.installTestPath)}function YHe(r,e){let t=Ule(r,e).value;return r.binaries?.map(n=>BD.getAbsolutePath(t,n))}function Ule(r,e){return r.installPath!==void 0?BD.getAbsolutePath(e,r.installPath):new BD(e)}var Hle="neutral";async function Wle(r,e){let t=QV(r,e);return JHe(t)}function QV(r,e){return r.filter(t=>(t.architectures.includes(Hle)||t.architectures.includes(e.architecture))&&(t.platforms.includes(Hle)||t.platforms.includes(e.platform)))}async function JHe(r){return kce(r,async e=>{let t=jO(e.installPath,1);return!await j0(t)})}function Ble(r,e,t,n){let o=$D(e).map(a=>G0.getAbsolutePathPackage(a,n));return QV(o,t).find(a=>a.id===r)}function $D(r){if(r.runtimeDependencies)return JSON.parse(JSON.stringify(r.runtimeDependencies));throw new Error("No runtime dependencies found")}var _4=be(require("child_process")),h4=be(eC()),rC=be(require("os")),KN=be(require("path")),jp=be(require("vscode"));var qfe=be(require("crypto")),jfe=be(require("fs")),GN=be(require("os"));var KD="unknown",p4=class r{constructor(e,t){this.name=e;this.version=t}static async GetCurrent(){return r.FromFilePath("/etc/os-release").catch(async()=>r.FromFilePath("/usr/lib/os-release")).catch(async()=>Promise.resolve(new r(KD,KD)))}toString(){return`name=${this.name}, version=${this.version}`}toTelemetryString(){let e=["alpine","antergos","arch","centos","debian","deepin","elementary","fedora","galliumos","gentoo","kali","linuxmint","manjoro","neon","opensuse","parrot","rhel","ubuntu","zorin"];if(this.name===KD||e.indexOf(this.name)>=0)return this.toString();{let t=qfe.createHash("sha256");return t.update(this.name),`other (${t.digest("hex")})`}}static async FromFilePath(e){return new Promise((t,n)=>{jfe.readFile(e,"utf8",(i,o)=>{i?n(i):t(r.FromReleaseInfo(o))})})}static FromReleaseInfo(e,t=GN.EOL){let n=KD,i=KD,o=e.split(t);for(let s of o){s=s.trim();let a=s.indexOf("=");if(a>=0){let c=s.substring(0,a),u=s.substring(a+1);if(u.length>1&&u.startsWith('"')&&u.endsWith('"')&&(u=u.substring(1,u.length-1)),c==="ID"?n=u:c==="VERSION_ID"&&(i=u),n!==KD&&i!==KD)break}}return new r(n,i)}},Z0=class r{constructor(e,t,n){this.platform=e;this.architecture=t;this.distribution=n}isWindows(){return this.platform==="win32"}isMacOS(){return this.platform==="darwin"}isLinux(){return this.platform.startsWith("linux")}toString(){let e=`${this.platform}, ${this.architecture}`;return this.distribution!==void 0&&(e+=`, ${this.distribution.toString()}`),e}static async GetCurrent(){let e=GN.platform();if(e==="win32")return new r(e,r.GetWindowsArchitecture());if(e==="darwin")return new r(e,await r.GetUnixArchitecture());if(e==="linux"){let[t,n,i]=await Promise.all([r.GetIsMusl(),r.GetUnixArchitecture(),p4.GetCurrent()]);return new r(t?"linux-musl":e,n,i)}throw new Error(`Unsupported platform: ${e}`)}static GetWindowsArchitecture(){return process.env.PROCESSOR_ARCHITECTURE==="x86"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"x86":process.env.PROCESSOR_ARCHITECTURE==="ARM64"&&process.env.PROCESSOR_ARCHITEW6432===void 0?"arm64":"x86_64"}static async GetUnixArchitecture(){let e=(await ry("uname -m",__dirname,process.env)).trim();return e==="aarch64"?"arm64":e}static async GetIsMusl(){try{return(await ry("ldd --version",__dirname,process.env)).includes("musl")}catch(e){return e instanceof Error?e.message.includes("musl"):!1}}isValidPlatformForMono(){return this.isLinux()||this.isMacOS()}};var YN=class{constructor(e){this.attachItemsProvider=e}async ShowAttachEntries(){let e=await this.attachItemsProvider.getAttachItems();return jp.window.showQuickPick(e,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:"Select the process to attach to"})}},tC=class r{static get commColumnTitle(){return Array(oI.secondColumnCharacters).join("a")}static get linuxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args=`}static get osxPsCommand(){return`ps axww -o pid=,flags=,comm=${r.commColumnTitle},args= -c`}static get debuggerCommand(){return"${debuggerCommand}"}static get scriptShellCmd(){return"sh -s"}static _channel;static async ValidateAndFixPipeProgram(e){return Z0.GetCurrent().then(t=>{if(t.isWindows()&&t.architecture==="x86_64"){let n=process.env.SystemRoot,i=KN.join(n,"System32"),o=KN.join(n,"sysnative"),s=RegExp(i.replace(/\\/g,"\\\\"),"ig"),a=e.replace(s,o);if(e.toLowerCase().startsWith(i.toLowerCase())&&!h4.existsSync(e)&&h4.existsSync(a))return a}return e})}static getPipeTransportOptions(e,t){let n=e.pipeProgram,i=e.pipeArgs,o=e.pipeCwd,s=e.quoteArgs!=null?e.quoteArgs:!0,a=this.getPlatformSpecificPipeTransportOptions(e,t);return a!==void 0&&(n=a.pipeProgram||n,i=a.pipeArgs||i,o=a.pipeCwd||o,s=a.quoteArgs!=null?a.quoteArgs:s),{pipeProgram:n,pipeArgs:i,pipeCwd:o,quoteArgs:s}}static getPlatformSpecificPipeTransportOptions(e,t){if(t==="darwin"&&e.osx)return e.osx;if(t==="linux"&&e.linux)return e.linux;if(t==="win32"&&e.windows)return e.windows}static async createPipeCmd(e,t,n){return this.ValidateAndFixPipeProgram(e).then(async i=>typeof t=="string"?Promise.resolve(this.createPipeCmdFromString(i,t,n)):t instanceof Array?Promise.resolve(this.createPipeCmdFromArray(i,t,n)):Promise.reject(new Error(jp.l10n.t("pipeArgs must be a string or a string array type"))))}static createPipeCmdFromString(e,t,n){let i=this.quoteArg(e);return t.indexOf(this.debuggerCommand)>=0?i=i.concat(" ",t.replace(/\$\{debuggerCommand\}/g,this.scriptShellCmd)):i=i.concat(" ",t.concat(" ",this.quoteArg(this.scriptShellCmd,n))),i}static createPipeCmdFromArray(e,t,n){let i=[];if(i.push(e),t.filter(o=>o.indexOf(this.debuggerCommand)>=0).length>0)for(let o of t){for(;o.indexOf(this.debuggerCommand)>=0;)o=o.replace(this.debuggerCommand,r.scriptShellCmd);i.push(o)}else i=i.concat(t),i.push(this.scriptShellCmd);return n?this.createArgumentList(i):i.join(" ")}static quoteArg(e,t=!0){return t&&e.includes(" ")?`"${e}"`:e}static createArgumentList(e){return e.map(t=>this.quoteArg(t)).join(" ")}static async ShowAttachEntries(e,t){r._channel===void 0?r._channel=jp.window.createOutputChannel(jp.l10n.t("remote-attach")):r._channel.clear();let n=e?e.name:null;if(!n)return Promise.reject(new Error(jp.l10n.t("Name not defined in current configuration.")));if(!e.pipeTransport||!e.pipeTransport.debuggerPath)return Promise.reject(new Error(jp.l10n.t('Configuration "{0}" in launch.json does not have a {1} argument with {2} for remote process listing.',n,"pipeTransport","debuggerPath")));{let i=this.getPipeTransportOptions(e.pipeTransport,rC.platform()),o=await r.createPipeCmd(i.pipeProgram,i.pipeArgs,i.quoteArgs),s=await r.getRemoteOSAndProcesses(o,i.pipeCwd,r._channel,t);return jp.window.showQuickPick(s,{ignoreFocusOut:!0,matchOnDescription:!0,matchOnDetail:!0,placeHolder:jp.l10n.t("Select the process to attach to")})}}static async getRemoteOSAndProcesses(e,t,n,i){let o=KN.join(FD(),"scripts","remoteProcessPickerScript");return ZBe(`${e} < "${o}"`,t,n,i).then(async s=>{let a=s.split(/\r?\n/);if(a.length==0)return Promise.reject(new Error(jp.l10n.t("Pipe transport failed to get OS and processes.")));{let c=a[0].replace(/[\r\n]+/g,"");if(c!="Linux"&&c!="Darwin")return Promise.reject(new Error(jp.l10n.t('Operating system "{0}" not supported.',c)));if(a.length==1)return Promise.reject(new Error(jp.l10n.t("Transport attach could not obtain processes list.")));{let u=a.slice(1);return zfe(oI.parseProcessFromPsArray(u),c)}}})}},JN=class{static Get(){if(rC.platform()==="win32"){let e=Fce();return e?new g4(e):new y4}else return new m4}},iI=class{async getAttachItems(){return this.getInternalProcessEntries().then(e=>zfe(e,rC.platform()))}};function zfe(r,e){let t=e==="win32"?"dotnet.exe":"dotnet";return r=r.sort((i,o)=>i.name.toLowerCase()===t&&o.name.toLowerCase()===t?i.commandLine!==void 0&&o.commandLine!==void 0?i.commandLine.toLowerCase()<o.commandLine.toLowerCase()?-1:1:i.commandLine!==void 0?-1:1:i.name.toLowerCase()===t?-1:o.name.toLowerCase()===t?1:i.name.toLowerCase()<o.name.toLowerCase()?-1:1),r.map(i=>({label:i.name,description:i.pid,detail:i.commandLine,id:i.pid,flags:i.flags??0}))}var m4=class extends iI{async getInternalProcessEntries(){let e=rC.platform()==="darwin"?tC.osxPsCommand:tC.linuxPsCommand;return w4(e).then(t=>oI.parseProcessFromPs(t))}},oI=class r{static get secondColumnCharacters(){return 50}static parseProcessFromPs(e){let t=e.split(rC.EOL),n=[];for(let i=1;i<t.length;i++){let o=t[i];if(!o)continue;let s=this.parseLineFromPs(o);s&&n.push(s)}return n}static parseProcessFromPsArray(e){let t=[];for(let n=1;n<e.length;n++){let i=e[n];if(!i)continue;let o=this.parseLineFromPs(i);o&&t.push(o)}return t}static parseLineFromPs(e){let n=new RegExp(`^\\s*([0-9]+)\\s+([0-9a-fA-F]+)\\s+(.{${r.secondColumnCharacters-1}})\\s+(.*)$`).exec(e);if(n?.length===5){let i=n[1].trim(),o=parseInt(n[2].trim(),16),s=n[3].trim(),a=n[4].trim();return{name:s,pid:i,commandLine:a,flags:o}}}},g4=class extends iI{constructor(t){super();this.pwsh=t}async getInternalProcessEntries(){let t=`${this.pwsh} -NoProfile -Command`,i=await w4(`${t} "Get-CimInstance Win32_Process | Select-Object Name,ProcessId,CommandLine | ConvertTo-JSON"`);return v4.ParseProcessFromCim(i)}},v4=class{static get extendedLengthPathPrefix(){return"\\\\?\\"}static get ntObjectManagerPathPrefix(){return"\\??\\"}static ParseProcessFromCim(e){return JSON.parse(e).map(n=>{let i=n.CommandLine??void 0;return i?.startsWith(this.extendedLengthPathPrefix)&&(i=i.slice(this.extendedLengthPathPrefix.length)),i?.startsWith(this.ntObjectManagerPathPrefix)&&(i=i.slice(this.ntObjectManagerPathPrefix.length)),{name:n.Name,pid:`${n.ProcessId}`,commandLine:i}})}},y4=class extends iI{async getInternalProcessEntries(){return w4("wmic process get Name,ProcessId,CommandLine /FORMAT:list").then(t=>b4.parseProcessFromWmic(t))}},b4=class r{static get wmicNameTitle(){return"Name"}static get wmicCommandLineTitle(){return"CommandLine"}static get wmicPidTitle(){return"ProcessId"}static parseProcessFromWmic(e){let t=e.split(rC.EOL),n={},i=[];for(let o=0;o<t.length;o++){let s=t[o];s&&(this.parseLineFromWmic(s,n),s.startsWith(r.wmicPidTitle)&&(i.push(n),n={}))}return i}static parseLineFromWmic(e,t){if(e.indexOf("=")>=0){let i=e.slice(0,e.indexOf("=")),o=e.slice(e.indexOf("=")+1);if(i===r.wmicNameTitle)t.name=o.trim();else if(i===r.wmicPidTitle)t.pid=o.trim();else if(i===r.wmicCommandLineTitle){let s="\\??\\";o.startsWith(s)&&(o=o.slice(s.length).trim()),t.commandLine=o.trim()}}}};async function w4(r){return new Promise((e,t)=>{_4.exec(r,{maxBuffer:500*1024},(n,i,o)=>{if(n){t(n);return}if(o&&!o.includes("screen size is bogus")){t(new Error(o));return}e(i)})})}async function QBe(r){let e=process.env;if(r.isWindows()&&r.architecture==="x86_64"){let t=process.env.WINDIR+"\\sysnative";e.Path=process.env.PATH+";"+t}return e}async function ZBe(r,e,t,n){return t.appendLine(`Executing: ${r}`),new Promise((i,o)=>{QBe(n).then(s=>{_4.exec(r,{cwd:e,env:s,maxBuffer:500*1024},(a,c,u)=>{let l="";if(c&&c.length>0&&(l=l.concat(c)),u&&u.length>0&&(l=l.concat("stderr: "+u)),a&&(l=l.concat(jp.l10n.t("Error Message: ")+a.message)),a||u&&u.length>0){t.append(l),t.show(),o(new Error(jp.l10n.t("See {0} output","remote-attach")));return}i(c)})},s=>o(s))})}var khe=be(cC());var Ihe=be(cC()),Xl=class{onDispose;constructor(e){if(!e)throw new Error("onDispose cannot be null or empty.");e instanceof Ihe.Subscription?this.onDispose=()=>e.unsubscribe():this.onDispose=e}dispose=()=>{this.onDispose()}};var fo=class extends Xl{disposables=new khe.Subscription;constructor(...e){super(()=>this.disposables.unsubscribe());for(let t of e)if(t)this.add(t);else throw new Error("null disposables are not supported")}add(e){if(!e)throw new Error("disposable cannot be null");this.disposables.add(()=>e.dispose())}};var Cs=be(require("vscode"));var Ahe=be(require("vscode")),Mhe=be(require("fs")),DF=class r{Env;Warning;constructor(e,t){this.Env=e,this.Warning=t}static CreateFromFile(e,t){let n=Mhe.readFileSync(e,"utf8");return this.CreateFromContent(n,e,t)}static CreateFromContent(e,t,n){e.charAt(0)==="\uFEFF"&&(e=e.substring(1));let i=[],o=n??{},s={...o};e.split(`
`).forEach(c=>{let u=c.match(/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/);if(u!==null){let l=u[1];if(o[l]!==void 0)return;let d=u[2]??"";d.length>0&&d.charAt(0)==='"'&&d.charAt(d.length-1)==='"'&&(d=d.replace(/\\n/gm,`
`)),d=d.replace(/(^['"]|['"]$)/g,""),s[l]=d}else new RegExp(/^\s*(#|$)/).test(c)||i.push(c)});let a;return i.length!==0&&(a=Ahe.l10n.t("Ignoring non-parseable lines in envFile {0}: {1}.",t,i.join(", "))),new r(s,a)}};var c5=be(require("vscode")),u5=class{_sessions=new Set;_onDidStartDebugSession;_onDidTerminateDebugSession;_brokeredServicePipeName;initializeDebugSessionHandlers(e){this._onDidStartDebugSession=c5.debug.onDidStartDebugSession(this.onDidStartDebugSession.bind(this)),this._onDidTerminateDebugSession=c5.debug.onDidTerminateDebugSession(t=>{this.onDidTerminateDebugSession(t)}),e.subscriptions.push(this._onDidStartDebugSession),e.subscriptions.push(this._onDidTerminateDebugSession)}onDidStartDebugSession(e){e.type==="coreclr"&&this._sessions?.add(e)}onDidTerminateDebugSession(e){this._sessions?.delete(e)}async onCsDevKitInitialized(e){this._brokeredServicePipeName=e;let t=this._sessions;t?.forEach(n=>n.customRequest("initializeBrokeredServicePipeName",e)),this.cleanup()}getBrokeredServicePipeName(){return this._brokeredServicePipeName}cleanup(){this._sessions?.clear(),this._sessions=void 0,this._onDidStartDebugSession?.dispose(),this._onDidTerminateDebugSession?.dispose()}},UI=new u5;var qhe=be(require("child_process"));var tT=be(require("vscode")),TF=be(require("path")),l5=class{get waitForDebugger(){return Yr("dotnet.server.waitForDebugger",!1,"omnisharp.waitForDebugger")}get serverPath(){return Yr("dotnet.server.path","","omnisharp.path","csharp.omnisharp")}get useOmnisharpServer(){return Yr("dotnet.server.useOmnisharp",!1)}get excludePaths(){return O8e()}get defaultSolution(){let e="",t=Yr("dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(t==="disable")e="disable";else if(tT.workspace.workspaceFolders!==void 0&&(tT.workspace.workspaceFolders.length>1&&TF.isAbsolute(t)&&(e=t),e==""))for(let n of tT.workspace.workspaceFolders){let i=tT.workspace.getConfiguration(void 0,n.uri),o=Lhe(i,"dotnet.defaultSolution","","omnisharp.defaultLaunchSolution");if(o!==""&&o!=="disable"){e=TF.join(n.uri.fsPath,o);break}}return e}get unitTestDebuggingOptions(){return Yr("dotnet.unitTestDebuggingOptions",{},"csharp.unitTestDebuggingOptions")}get runSettingsPath(){return Yr("dotnet.unitTests.runSettingsPath","","omnisharp.testRunSettings")}get organizeImportsOnFormat(){return Yr("dotnet.formatting.organizeImportsOnFormat",!1)}},d5=class{get useModernNet(){return Yr("omnisharp.useModernNet",!0)}get monoPath(){return Yr("omnisharp.monoPath","")}get loggingLevel(){let e=Yr("omnisharp.loggingLevel","information");return e&&e.toLowerCase()==="verbose"&&(e="debug"),e}get autoStart(){return Yr("omnisharp.autoStart",!0)}get projectFilesExcludePattern(){return Yr("omnisharp.projectFilesExcludePattern","**/node_modules/**,**/.git/**,**/bower_components/**")}get projectLoadTimeout(){return Yr("omnisharp.projectLoadTimeout",60)}get maxProjectResults(){return Yr("omnisharp.maxProjectResults",250)}get useEditorFormattingSettings(){return Yr("omnisharp.useEditorFormattingSettings",!0)}get enableRoslynAnalyzers(){let e=Yr("omnisharp.enableRoslynAnalyzers",!1),n=Yr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",ss.useOmnisharpServer?"none":"openFiles")!="none";return e||n}get enableEditorConfigSupport(){return Yr("omnisharp.enableEditorConfigSupport",!0)}get enableDecompilationSupport(){return Yr("omnisharp.enableDecompilationSupport",!1)}get enableImportCompletion(){return Yr("dotnet.completion.showCompletionItemsFromUnimportedNamespaces",!1,"omnisharp.enableImportCompletion")}get enableAsyncCompletion(){return Yr("omnisharp.enableAsyncCompletion",!1)}get analyzeOpenDocumentsOnly(){let e=Yr("omnisharp.analyzeOpenDocumentsOnly",!1),n=Yr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope",ss.useOmnisharpServer?"none":"openFiles")=="openFiles";return e||n}get disableMSBuildDiagnosticWarning(){return Yr("omnisharp.disableMSBuildDiagnosticWarning",!1)}get showOmnisharpLogOnError(){return Yr("csharp.showOmnisharpLogOnError",!0)}get minFindSymbolsFilterLength(){return Yr("omnisharp.minFindSymbolsFilterLength",0)}get maxFindSymbolsItems(){return Yr("omnisharp.maxFindSymbolsItems",1e3)}get enableMsBuildLoadProjectsOnDemand(){return Yr("omnisharp.enableMsBuildLoadProjectsOnDemand",!1)}get sdkPath(){return Yr("omnisharp.sdkPath","")}get sdkVersion(){return Yr("omnisharp.sdkVersion","")}get sdkIncludePrereleases(){return Yr("omnisharp.sdkIncludePrereleases",!0)}get dotNetCliPaths(){return Yr("omnisharp.dotNetCliPaths",[])}get useFormatting(){return Yr("csharp.format.enable",!0)}get showReferencesCodeLens(){return Yr("dotnet.codeLens.enableReferencesCodeLens",!0,"csharp.referencesCodeLens.enabled")}get showTestsCodeLens(){return Yr("dotnet.codeLens.enableTestsCodeLens",!0,"csharp.testsCodeLens.enabled")}get filteredSymbolsCodeLens(){return Yr("csharp.referencesCodeLens.filteredSymbols",[])}get disableCodeActions(){return Yr("csharp.disableCodeActions",!1)}get useSemanticHighlighting(){return Yr("csharp.semanticHighlighting.enabled",!0)}get inlayHintsEnableForParameters(){return Yr("dotnet.inlayHints.enableInlayHintsForParameters",!1,"csharp.inlayHints.parameters.enabled")}get inlayHintsForLiteralParameters(){return Yr("dotnet.inlayHints.enableInlayHintsForLiteralParameters",!1,"csharp.inlayHints.parameters.forLiteralParameters")}get inlayHintsForObjectCreationParameters(){return Yr("dotnet.inlayHints.enableInlayHintsForObjectCreationParameters",!1,"csharp.inlayHints.parameters.forObjectCreationParameters")}get inlayHintsForIndexerParameters(){return Yr("dotnet.inlayHints.enableInlayHintsForIndexerParameters",!1,"csharp.inlayHints.parameters.forIndexerParameters")}get inlayHintsForOtherParameters(){return Yr("dotnet.inlayHints.enableInlayHintsForOtherParameters",!1,"csharp.inlayHints.parameters.forOtherParameters")}get inlayHintsSuppressForParametersThatDifferOnlyBySuffix(){return Yr("dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix",!1,"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix")}get inlayHintsSuppressForParametersThatMatchMethodIntent(){return Yr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent")}get inlayHintsSuppressForParametersThatMatchArgumentName(){return Yr("dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName",!1,"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName")}get inlayHintsEnableForTypes(){return Yr("csharp.inlayHints.enableInlayHintsForTypes",!1,"csharp.inlayHints.types.enabled")}get inlayHintsForImplicitVariableTypes(){return Yr("csharp.inlayHints.enableInlayHintsForImplicitVariableTypes",!1,"csharp.inlayHints.types.forImplicitVariableTypes")}get inlayHintsForLambdaParameterTypes(){return Yr("csharp.inlayHints.enableInlayHintsForLambdaParameterTypes",!1,"csharp.inlayHints.types.forLambdaParameterTypes")}get inlayHintsForImplicitObjectCreation(){return Yr("csharp.inlayHints.enableInlayHintsForImplicitObjectCreation",!1,"csharp.inlayHints.types.forImplicitObjectCreation")}get maxProjectFileCountForDiagnosticAnalysis(){return Yr("csharp.maxProjectFileCountForDiagnosticAnalysis",1e3)}get suppressDotnetRestoreNotification(){return Yr("csharp.suppressDotnetRestoreNotification",!1)}get enableLspDriver(){return Yr("omnisharp.enableLspDriver",!1)}get dotnetPath(){return Yr("omnisharp.dotnetPath","")}},f5=class{get documentSelector(){return Yr("dotnet.server.documentSelector",["csharp"])}get extensionsPaths(){return Yr("dotnet.server.extensionPaths",null)}get preferCSharpExtension(){return Yr("dotnet.preferCSharpExtension",!1)}get startTimeout(){return Yr("dotnet.server.startTimeout",3e4)}get crashDumpPath(){return Yr("dotnet.server.crashDumpPath",void 0)}get analyzerDiagnosticScope(){return Yr("dotnet.backgroundAnalysis.analyzerDiagnosticsScope","openFiles")}get compilerDiagnosticScope(){return Yr("dotnet.backgroundAnalysis.compilerDiagnosticsScope","openFiles")}get componentPaths(){return Yr("dotnet.server.componentPaths",{})}get enableXamlTools(){return Yr("dotnet.enableXamlTools",!0)}get suppressLspErrorToasts(){return Yr("dotnet.server.suppressLspErrorToasts",!1)}get suppressMiscellaneousFilesToasts(){return Yr("dotnet.server.suppressMiscellaneousFilesToasts",!1)}get useServerGC(){return Yr("dotnet.server.useServerGC",!0)}get reportInformationAsHint(){return Yr("dotnet.diagnostics.reportInformationAsHint",!0)}},p5=class{get razorDevMode(){return Yr("razor.devmode",!1)}get razorPluginPath(){return Yr("razor.plugin.path","")}get razorServerPath(){return Yr("razor.languageServer.directory","")}get cohostingEnabled(){return Yr("razor.languageServer.cohostingEnabled",!1)}},ss=new l5,Nr=new d5,po=new f5,Tu=new p5;function O8e(){let r=tT.workspace.getConfiguration();return t(r,"files.exclude");function t(n,i){let o=n.get(i,{});return Object.entries(o).filter(([s,a])=>a).map(([s,a])=>s)}}function Lhe(r,e,t,...n){let i=r.get(e);return i===void 0&&n.length>0&&(i=n.map(o=>r.get(o)).find(o=>o)),i??t}function Yr(r,e,...t){return Lhe(tT.workspace.getConfiguration(),r,e,...t)}var PF=["waitForDebugger","serverPath","useOmnisharpServer"],Nhe=["dotnetPath","enableMsBuildLoadProjectsOnDemand","loggingLevel","enableEditorConfigSupport","enableDecompilationSupport","enableImportCompletion","enableAsyncCompletion","useModernNet","enableLspDriver","sdkPath","sdkVersion","sdkIncludePrereleases","analyzeOpenDocumentsOnly","enableRoslynAnalyzers","inlayHintsEnableForParameters","inlayHintsForLiteralParameters","inlayHintsForObjectCreationParameters","inlayHintsForIndexerParameters","inlayHintsForOtherParameters","inlayHintsSuppressForParametersThatDifferOnlyBySuffix","inlayHintsSuppressForParametersThatMatchMethodIntent","inlayHintsSuppressForParametersThatMatchArgumentName","inlayHintsEnableForTypes","inlayHintsForImplicitVariableTypes","inlayHintsForLambdaParameterTypes","inlayHintsForImplicitObjectCreation"],Fhe=["documentSelector","preferCSharpExtension","componentPaths","enableXamlTools","useServerGC","reportInformationAsHint"];async function jhe(){return await Uhe(`${Hhe()} dev-certs https --check --trust`,process.cwd(),process.env)}async function zhe(){return await Uhe(`${Hhe()} dev-certs https --trust`,process.cwd(),process.env)}async function Uhe(r,e=FD(),t={}){return new Promise(n=>{qhe.exec(r,{cwd:e,maxBuffer:500*1024,env:t},(i,o,s)=>{n({error:i,stdout:o,stderr:s})})})}function Hhe(){return ss.useOmnisharpServer?Nr.dotnetPath??"dotnet":"dotnet"}var Whe=be(require("vscode"));var hP="ms-dotnettools.csdevkit",RF="ms-dotnettools.vscodeintellicode-csharp";function Is(){if(!po.preferCSharpExtension)return Whe.extensions.getExtension(hP)}function Wi(r,e,...t){HI(r,e,void 0,...t)}function HI(r,e,t,...n){h5(r,r.window.showErrorMessage,e,t,...n)}function Hp(r,e,...t){h5(r,r.window.showWarningMessage,e,void 0,...t)}function Vs(r,e,...t){h5(r,r.window.showInformationMessage,e,void 0,...t)}function h5(r,e,t,n,...i){e(t,n===void 0?{}:n,...i).then(async s=>{if(s){if(typeof s=="string")return;"action"in s&&s.action?await s.action():"command"in s&&s.command&&(s.arguments?await r.commands.executeCommand(s.command,...s.arguments):await r.commands.executeCommand(s.command))}},s=>{console.log(s)})}var rT=class{constructor(e,t){this.platformInformation=e;this.csharpOutputChannel=t}async resolveDebugConfiguration(e,t,n){return Object.keys(t).length==0?Is()?void 0:null:(this.loadSettingDebugOptions(t),t)}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){if(!t.type)return null;let i=UI.getBrokeredServicePipeName();if(i!==void 0&&(t.brokeredServicePipeName=i),t.request==="launch"&&(!t.cwd&&!t.pipeTransport&&(t.cwd=e?.uri.fsPath),t.internalConsoleOptions||(t.internalConsoleOptions=t.console==="integratedTerminal"?"neverOpen":"openOnSessionStart"),t.envFile!==void 0&&t.envFile.length>0&&(t=this.parseEnvFile(t.envFile,t))),t.request==="attach"&&!t.processId&&!t.processName){let o;if(t.pipeTransport)o=await tC.ShowAttachEntries(t,this.platformInformation);else{let s=JN.Get();o=await new YN(s).ShowAttachEntries()}if(o!==void 0)t.processId=o.id,t.type=="coreclr"&&this.platformInformation.isMacOS()&&this.platformInformation.architecture=="arm64"&&(o.flags&131072?t.targetArchitecture="x86_64":t.targetArchitecture="arm64");else{HI(Cs,Cs.l10n.t("No process was selected."),{modal:!0});return}}if(!(!this.platformInformation.isLinux()&&!Cs.env.remoteName&&Cs.env.uiKind!=Cs.UIKind.Web&&!t.pipeTransport&&(t.checkForDevCert===void 0&&t.serverReadyAction&&t.type==="coreclr"&&(t.checkForDevCert=!0),t.checkForDevCert&&!await this.checkForDevCerts())))return t}parseEnvFile(e,t){try{let n=DF.CreateFromFile(e,t.env);n.Warning&&this.showFileWarning(n.Warning,e),t.env=n.Env}catch(n){throw new Error(Cs.l10n.t("Can't parse envFile {0} because of {1}",e,`${n}`))}return delete t.envFile,t}showFileWarning(e,t){let n={title:Cs.l10n.t("Open envFile"),action:async()=>{let i=await Cs.workspace.openTextDocument(t);await Cs.window.showTextDocument(i)}};Hp(Cs,e,n)}loadSettingDebugOptions(e){let t=Cs.workspace.getConfiguration("csharp").get("debug"),n=JSON.parse(JSON.stringify(t)),i=Object.keys(n);for(let o of i){if(Object.prototype.hasOwnProperty.call(e,o)||o==="console"||o=="debugConsoleVerbosity")continue;let s=n[o];this.CheckIfSettingIsEmpty(s)||(e[o]=s)}}CheckIfSettingIsEmpty(e){switch(typeof e){case"object":return Array.isArray(e)?e.length===0:Object.keys(e).length===0;case"string":return!e;case"boolean":case"number":return!1;default:throw"Unknown type to check to see if setting is empty"}}async checkForDevCerts(){let e;for(;e===void 0;){let n=(await jhe()).error?.code;if(n===7||n===6){let i=Cs.l10n.t("Yes"),o=Cs.l10n.t("More Information"),s=await Cs.window.showWarningMessage(Cs.l10n.t("Security Warning"),{modal:!0,detail:Cs.l10n.t("The selected launch configuration is configured to launch a web browser but no trusted development certificate was found. Create a trusted self-signed certificate?")},i,o);if(s===i){let a=await zhe();if(a.error===null){let c=n===7?"trusted":"created";Vs(Cs,Cs.l10n.t("Self-signed certificate successfully {0}",c)),e=!0}else{this.csharpOutputChannel.appendLine(Cs.l10n.t(`Couldn't create self-signed certificate. {0}
code: {1}
stdout: {2}`,a.error.message,`${a.error.code}`,a.stdout));let c={title:Cs.l10n.t("Show Output"),action:async()=>{this.csharpOutputChannel.show()}};Hp(Cs,Cs.l10n.t("Couldn't create self-signed certificate. See output for more information."),c),e=!1}}else s===o?await Cs.env.openExternal(Cs.Uri.parse("https://aka.ms/VSCode-CS-CheckForDevCert")):s===void 0&&(e=!0)}else e=!0}return e}};async function Bhe(r,e,t,n,i,o){let s=new fo,a=new zd(e.extensionPath);zd.existsSync(a.debugAdapterDir())?zd.existsSync(a.installCompleteFilePath())||await Vhe(a,t,n):await $he(t,n)&&(n.post(new UD(Bi.l10n.t("[ERROR]: C# Extension failed to install the debugger package."))),I8e(n)),s.add(Bi.commands.registerCommand("csharp.listProcess",()=>"")),s.add(Bi.commands.registerCommand("csharp.listRemoteProcess",()=>"")),s.add(Bi.commands.registerCommand("csharp.listRemoteDockerProcess",async u=>{let l=await tC.ShowAttachEntries(u,t);return l?l.id:Promise.reject(new Error(Bi.l10n.t("Could not find a process id to attach.")))})),s.add(Bi.commands.registerCommand("csharp.attachToProcess",async()=>{if(o)try{await o}catch(u){throw u&&new Error(Bi.l10n.t("Unable to launch Attach to Process dialog: ")+u.message)}await Bi.debug.startDebugging(void 0,{name:".NET Core Attach",type:"coreclr",request:"attach"},void 0)}));let c=new m5(a,t,n,r.packageJSON,r.extensionPath);e.subscriptions.push(Bi.debug.registerDebugConfigurationProvider("clr",new rT(t,i))),e.subscriptions.push(Bi.debug.registerDebugConfigurationProvider("monovsdbg",new rT(t,i))),s.add(Bi.debug.registerDebugAdapterDescriptorFactory("coreclr",c)),s.add(Bi.debug.registerDebugAdapterDescriptorFactory("clr",c)),s.add(Bi.debug.registerDebugAdapterDescriptorFactory("monovsdbg",c)),e.subscriptions.push(s)}async function $he(r,e){if(r){if(r.isMacOS())return r.architecture!=="arm64"&&r.architecture!=="x86_64"?(e.post(new UD(Bi.l10n.t("[ERROR] The debugger cannot be installed. The debugger is not supported on '{0}'",r.architecture))),!1):zd.isMacOSSupported()?!0:(e.post(new UD(Bi.l10n.t("[ERROR] The debugger cannot be installed. The debugger requires {0} or newer.",jle))),!1);if(r.isWindows())return r.architecture==="x86"?(e.post(new YO(Bi.l10n.t("[WARNING]: x86 Windows is not supported by the .NET debugger. Debugging will not be available."))),!1):!0;if(r.isLinux())return!0}return e.post(new UD(Bi.l10n.t("[ERROR] The debugger cannot be installed. Unknown platform."))),!1}async function Vhe(r,e,t){try{return await r.checkDotNetCli(Nr.dotNetCliPaths),await $he(e,t)?(await zd.writeEmptyFile(r.installCompleteFilePath()),!0):(t.post(new HD),Wi(Bi,Bi.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below.")),!1)}catch(n){let i=n;return k8e(i.message),t.post(new YO(i.message)),!1}}function I8e(r){r.post(new HD),Wi(Bi,Bi.l10n.t("An error occurred during installation of the .NET Debugger. The C# extension may need to be reinstalled."))}function k8e(r){if(!Bi.workspace.getConfiguration("csharp").get("suppressDotnetInstallWarning",!1)){let t=Is()!==void 0?{title:Bi.l10n.t("Get the SDK"),command:"csdevkit.installDotnetSdk"}:{title:Bi.l10n.t("Get the SDK"),action:async()=>{await Bi.env.openExternal(Bi.Uri.parse("https://dot.net/core-sdk-vscode"))}},n={title:Bi.l10n.t("Disable message in settings"),action:async()=>{await Bi.commands.executeCommand("workbench.action.openGlobalSettings")}},i={title:Bi.l10n.t("Help"),action:async()=>{await Bi.env.openExternal(Bi.Uri.parse("https://aka.ms/VSCode-CS-DotnetNotFoundHelp"))}};Wi(Bi,r,n,t,i)}}var m5=class{constructor(e,t,n,i,o){this.debugUtil=e;this.platformInfo=t;this.eventStream=n;this.packageJSON=i;this.extensionPath=o}async createDebugAdapterDescriptor(e,t){let n=new zd(FD());if(!zd.existsSync(n.debugAdapterDir())){let i=!1,o=Ble("Debugger",this.packageJSON,this.platformInfo,this.extensionPath);if(o?.installPath&&(i=await pN(o.installPath,1)),i){if(!zd.existsSync(n.installCompleteFilePath())&&!await Vhe(this.debugUtil,this.platformInfo,this.eventStream))throw this.eventStream.post(new HD),new Error(Bi.l10n.t("Failed to complete the installation of the C# extension. Please see the error in the output window below."))}else throw this.eventStream.post(new HD),new Error(Bi.l10n.t("The C# extension is still downloading packages. Please see progress in the output window below."))}if(!t){let i=await jh(Nr.dotNetCliPaths),o=zle(this.platformInfo,e.configuration.targetArchitecture,i),s=xF.join(FD(),".debugger",o,"vsdbg-ui"+zd.getPlatformExeExtension()),a=process.env.DOTNET_ROOT??(i.CliPath?xF.dirname(i.CliPath):""),c;a&&(c={env:{DOTNET_ROOT:a}}),t=new Bi.DebugAdapterExecutable(s,[],c)}return t}};var im=be(require("vscode"));var Db=class{constructor(e){this.channel=e}showChannel(e){this.channel.show(e)}clearChannel(){this.channel.clear()}};var EF=class extends Db{post=e=>{switch(e.type){case 6:case 37:case 10:case 52:case 41:case 48:this.showChannel(!0);break;case 82:this.showChannel(!1);break}}};var Ghe;var WI=class{_writer;_prefix;_indentLevel=0;_indentSize=4;_atLineStart=!1;constructor(e,t){this._writer=e,this._prefix=t}_appendCore(e){if(this._atLineStart){if(this._indentLevel>0){let t=" ".repeat(this._indentLevel*this._indentSize);this.write(t)}this._prefix!==void 0&&this.write(`[${this._prefix}] `),this._atLineStart=!1}this.write(e)}increaseIndent(){this._indentLevel+=1}decreaseIndent(){this._indentLevel>0&&(this._indentLevel-=1)}append(e=""){this._appendCore(e)}appendLine(e=""){this._appendCore(e+`
`),this._atLineStart=!0}write(e){this._writer(e),Ghe&&Ghe(e)}};var kf=class{logger;constructor(e){e instanceof WI?this.logger=e:this.logger=new WI(t=>e.append(t))}};var Uu=class extends Error{constructor(t,n){super(t);this.message=t;this.err=n}};var Tb=class extends Uu{constructor(t,n,i){super(t,i);this.message=t;this.pkg=n;this.innerError=i}};var OF=class extends kf{dots=0;post=e=>{switch(e.type){case 54:this.logger.appendLine("[ERROR]: C# Extension failed to get platform information.");break;case 7:this.handlePackageInstallation(e);break;case 8:this.handlePlatformInfo(e);break;case 10:this.handleInstallationFailure(e);break;case 50:this.logger.appendLine("Finished"),this.logger.appendLine();break;case 9:this.handleInstallationStart(e);break;case 25:this.handleDownloadStart(e);break;case 11:this.handleDownloadProgress(e);break;case 65:case 64:case 41:case 67:this.handleEventWithMessage(e);break;case 26:this.handleDownloadFallback(e);break;case 27:this.handleDownloadSizeObtained(e);break;case 37:this.handleIntegrityCheckFailure(e);break;case 43:this.handleDownloadValidation();break;case 38:this.handleIntegrityCheckSuccess();break}};handleDownloadValidation(){this.logger.appendLine("Validating download...")}handleIntegrityCheckSuccess(){this.logger.appendLine("Integrity Check succeeded.")}handleIntegrityCheckFailure(e){e.retry?this.logger.appendLine(`Package ${e.packageDescription} failed integrity check. Retrying..`):this.logger.appendLine(`Package ${e.packageDescription} download from ${e.url} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download.`)}handleDownloadSizeObtained(e){this.logger.append(`(${Math.ceil(e.packageSize/1024)} KB)`)}handleDownloadFallback(e){this.logger.append(`	Retrying from '${e.fallbackUrl}' `)}handleEventWithMessage(e){this.logger.appendLine(e.message)}handlePackageInstallation(e){this.logger.append(`Installing ${e.packageInfo}...`),this.logger.appendLine()}handlePlatformInfo(e){this.logger.appendLine(`Platform: ${e.info.toString()}`),this.logger.appendLine()}handleInstallationFailure(e){this.logger.appendLine(`Failed at stage: ${e.stage}`),e.error instanceof Tb?e.error.innerError?this.logger.appendLine(e.error.innerError.toString()):this.logger.appendLine(e.error.message):this.logger.appendLine(e.error.toString()),this.logger.appendLine()}handleDownloadProgress(e){let t=Math.ceil(e.downloadPercentage/5);this.logger.append(".".repeat(t-this.dots)),this.dots=t}handleDownloadStart(e){this.logger.append(`Downloading package '${e.packageDescription}' `),this.dots=0}handleInstallationStart(e){this.logger.appendLine(`Installing package '${e.packageDescription}'`),this.logger.appendLine()}};var Khe=be(cC()),IF=class{sink;constructor(){this.sink=new Khe.Subject}post(e){this.sink.next(e)}subscribe(e){return this.sink.subscribe(e)}};var mje=be(dme());var jF=class{constructor(e,t){this.proxy=e;this.strictSSL=t}};function fme(r){return()=>{let e=r.workspace.getConfiguration(),t=e.get("http.proxy",""),n=e.get("http.proxyStrictSSL",!0);return new jF(t,n)}}var Ive=be(cC()),kve=be(Bk());function L8(r){return Ive.Observable.create(e=>{let t=r.workspace.onDidChangeConfiguration(n=>{(n.affectsConfiguration("dotnet")||n.affectsConfiguration("omnisharp")||n.affectsConfiguration("csharp"))&&e.next()});return()=>t.dispose()}).pipe((0,kve.publishBehavior)(()=>{})).refCount()}var oye=be(require("https"));var sye=require("url");var rye=be(Yve()),nye=be(tye());function xtt(r){if(r.protocol==="http:")return process.env.HTTP_PROXY??process.env.http_proxy;if(r.protocol==="https:")return process.env.HTTPS_PROXY??process.env.https_proxy??process.env.HTTP_PROXY??process.env.http_proxy}function iye(r,e,t){let n=e.length>0?e:xtt(r);if(n===void 0||n.length===0)return;let i=new URL(n);if(i.protocol===null||!/^https?:$/.test(i.protocol))return;let o={rejectUnauthorized:t};return r.protocol==="http:"?new rye.HttpProxyAgent(i,o):new nye.HttpsProxyAgent(i,o)}async function tq(r,e,t,n,i,o){e.post(new xN(r));try{let s=await U8(r,n,e,t,o);return e.post(new JO(" Done!")),s}catch(s){if(i!==void 0){e.post(new EN(i));try{let a=await U8(r,i,e,t);return e.post(new JO(" Done!")),a}catch{throw s}}else throw s}}async function U8(r,e,t,n,i){let o=(0,sye.parse)(e),s=n(),a=s.proxy,c=s.strictSSL,u={host:o.hostname,path:o.path,agent:iye(o,a,c),port:o.port,rejectUnauthorized:c},l=[];return new Promise((d,f)=>{i?.onCancellationRequested(()=>f(new Uu(`Cancelled downloading ${e}.`)));let y=oye.request(u,b=>{if(b.statusCode===301||b.statusCode===302)return b.headers.location===void 0?(t.post(new V0(`Failed to download from ${e}. Redirected without location header`)),f(new Uu("Missing location"))):d(U8(r,b.headers.location,t,n,i));if(b.statusCode!==200)return t.post(new V0(`Failed to download from ${e}. Error code '${b.statusCode}')`)),f(new Uu(b.statusCode.toString()));if(b.headers["content-length"]===void 0)return t.post(new V0(`Failed to download from ${e}. No content-length header`)),f(new Uu("Missing content-length"));let T=parseInt(b.headers["content-length"],10),k=0,z=0;t.post(new ON(T)),b.on("data",A=>{k+=A.length,l.push(A);let U=Math.ceil(100*(k/T));U!==z&&(z=U,t.post(new IN(z,r)))}),b.on("end",()=>{d(Buffer.concat(l))}),b.on("error",A=>{f(new Uu(`Failed to download from ${e}. Error Message: ${A.message} || 'NONE'}`,A))})});y.on("error",b=>{f(new Uu(`Request error: ${b.message||"NONE"}`,b))}),y.end()})}var Cye=be(require("fs")),J8=be(eC()),fq=be(require("path")),Dye=be(Sye());async function Tye(r,e,t,n,i){return i.post(new RN(e)),new Promise((o,s)=>{Dye.fromBuffer(r,{lazyEntries:!0},(a,c)=>{if(a!==null){let u="C# Extension was unable to download its dependencies. Please check your internet connection. If you use a proxy server, please visit https://aka.ms/VsCodeCsharpNetworking";return i.post(new AN(u)),s(new Uu(u))}c.readEntry(),c.on("entry",async u=>{let l=fq.resolve(t.value,u.fileName);if(u.fileName.endsWith("/"))try{await(0,J8.ensureDir)(l,509),c.readEntry()}catch(d){let f=d;return s(new Uu("Error creating directory for zip directory entry:"+f.code,f))}else c.openReadStream(u,async(d,f)=>{if(d)return s(new Uu("Error reading zip stream",d));try{await(0,J8.ensureDir)(fq.dirname(l),509);let b=n?.map(T=>T.value)?.includes(l)?493:436;f.pipe(Cye.createWriteStream(l,{mode:b})),f.on("end",()=>c.readEntry())}catch(y){return s(new Uu("Error creating directory for zip file entry",y))}})}),c.on("end",()=>{o()}),c.on("error",u=>{s(new Uu("Zip File Error:"+u.code||"",u))})})})}var Pye=be(eC());async function PP(r,e,t,n,i,o){t.post(new PN);let s={};for(let c of r){let u="touchBeginFile";try{(0,Pye.mkdirpSync)(c.installPath.value),await xV(c.installPath,0);let l=1,d=()=>l<=2;for(;d();){l=l+1,u="downloadPackage";let f=await tq(c.description,t,e,c.url,c.fallbackUrl,o);if(n(f,c.integrity,t)){u="installPackage",await Tye(f,c.description,c.installPath,c.binaries,t),u="touchLockFile",await xV(c.installPath,1),s[c.id]=!0;break}else t.post(new MN(c.description,c.url,d())),s[c.id]=!1}}catch(l){if(s[c.id]=!1,l instanceof Uu){let d=new Tb(l.message,c,l.err);t.post(new WD(u,d))}else t.post(new WD(u,l));a(c,u,l)}finally{try{await pN(c.installPath,0)&&await Lce(c.installPath,0)}catch{}}}return s;function a(c,u,l){if(!i)return;let d={installStage:u,packageId:c.id};l instanceof Uu&&l.err instanceof Tb?(d["error.message"]=l.err.message,d["error.packageUrl"]=l.err.pkg.url):l instanceof Tb&&(d["error.message"]=l.message,d["error.packageUrl"]=l.pkg.url),i.sendTelemetryEvent("PackageInstallationFailed",d)}}async function RP(r,e,t){let n=r.map(i=>G0.getAbsolutePathPackage(i,t));return Wle(n,e)}async function Rye(r,e,t,n,i,o,s){let a=$D(r),c=await RP(a,i,e),l=s.filter(T=>c.find(k=>k.id===T)===void 0).reduce((T,k)=>({...T,[k]:!0}),{}),d=ztt(c,o),f=Utt(s,d);if(f.length===0)return l;n.post(new GS("C# dependencies")),n.post(new KS(i));let y=await t(f);return Object.entries(y).filter(([,T])=>!T).map(([T])=>T).length===0&&n.post(new YS),{...l,...y}}function ztt(r,e){return r.filter(t=>t.id!=="OmniSharp"||t.isFramework===e)}function Utt(r,e){return e.filter(t=>r.includes(t.id))}var xye=be(require("crypto"));function xP(r,e,t){return e!==void 0&&e.length>0?(t.post(new kN),Htt(r)===e.toUpperCase()?(t.post(new LN),!0):!1):!0}function Htt(r){let e=xye.createHash("sha256");return e.update(r),e.digest("hex").toUpperCase()}var Eye=be(require("fs")),Oye=be(require("path")),Iye=require("util");var ev="ms-dotnettools.csharp";var Xk="dotnet.dotnetPath",pq="dotnetAcquisitionExtension.existingDotnetPath",Wtt=[{oldName:"csharp.inlayHints.parameters.enabled",newName:"dotnet.inlayHints.enableInlayHintsForParameters"},{oldName:"csharp.inlayHints.parameters.forLiteralParameters",newName:"dotnet.inlayHints.enableInlayHintsForLiteralParameters"},{oldName:"csharp.inlayHints.parameters.forIndexerParameters",newName:"dotnet.inlayHints.enableInlayHintsForIndexerParameters"},{oldName:"csharp.inlayHints.parameters.forObjectCreationParameters",newName:"dotnet.inlayHints.enableInlayHintsForObjectCreationParameters"},{oldName:"csharp.inlayHints.parameters.forOtherParameters",newName:"dotnet.inlayHints.enableInlayHintsForOtherParameters"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatDifferOnlyBySuffix",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatDifferOnlyBySuffix"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchMethodIntent",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchMethodIntent"},{oldName:"csharp.inlayHints.parameters.suppressForParametersThatMatchArgumentName",newName:"dotnet.inlayHints.suppressInlayHintsForParametersThatMatchArgumentName"},{oldName:"csharp.inlayHints.types.enabled",newName:"csharp.inlayHints.enableInlayHintsForTypes"},{oldName:"csharp.inlayHints.types.forImplicitVariableTypes",newName:"csharp.inlayHints.enableInlayHintsForImplicitVariableTypes"},{oldName:"csharp.inlayHints.types.forLambdaParameterTypes",newName:"csharp.inlayHints.enableInlayHintsForLambdaParameterTypes"},{oldName:"csharp.inlayHints.types.forImplicitObjectCreation",newName:"csharp.inlayHints.enableInlayHintsForImplicitObjectCreation"},{oldName:"omnisharp.defaultLaunchSolution",newName:"dotnet.defaultSolution"},{oldName:"omnisharp.enableImportCompletion",newName:"dotnet.completion.showCompletionItemsFromUnimportedNamespaces"},{oldName:"csharp.referencesCodeLens.enabled",newName:"dotnet.codeLens.enableReferencesCodeLens"},{oldName:"csharp.testsCodeLens.enabled",newName:"dotnet.codeLens.enableTestsCodeLens"},{oldName:"csharp.unitTestDebuggingOptions",newName:"dotnet.unitTestDebuggingOptions"},{oldName:"omnisharp.testRunSettings",newName:"dotnet.unitTests.runSettingsPath"},{oldName:"dotnet.implementType.insertionBehavior",newName:"dotnet.typeMembers.memberInsertionLocation"},{oldName:"dotnet.implementType.propertyGenerationBehavior",newName:"dotnet.typeMembers.propertyGenerationBehavior"},{oldName:"omnisharp.organizeImportsOnFormat",newName:"dotnet.formatting.organizeImportsOnFormat"}];async function kye(r){let e=r.workspace.getConfiguration();for(let{oldName:t,newName:n}of Wtt){if(!e.has(t))continue;let i=e.inspect(n);if(i==null)continue;let o=e.get(n);o!=null&&$tt(o,i.defaultValue)&&await Aye(t,n,e)}await Btt(r)}async function Btt(r){let e=r.workspace.getConfiguration();if(ss.useOmnisharpServer)await Aye(Xk,"omnisharp.dotnetPath",e);else{let t=e.inspect(Xk);if(!t||!t.globalValue&&!t.workspaceValue&&!t.workspaceFolderValue)return;let n=e.inspect(pq);t.globalValue&&await X8(Xk,t.globalValue,pq,n?.globalValue,e,1),t.workspaceValue&&await X8(Xk,t.workspaceValue,pq,n?.workspaceValue,e,2),t.workspaceFolderValue&&await X8(Xk,t.workspaceFolderValue,pq,n?.workspaceFolderValue,e,3)}}async function X8(r,e,t,n,i,o){let s=process.platform==="win32"?".exe":"",a=Oye.join(e,`dotnet${s}`);if(!Eye.existsSync(a)){i.update(r,void 0,o);return}if(n=n??[],n&&n.filter(c=>c.extensionId===ev).length!==0){await i.update(r,void 0,o);return}n.push({extensionId:ev,path:a}),await i.update(t,n,o),await i.update(r,void 0,o)}function $tt(r,e){return r==e?!0:Iye.types.isProxy(r)?JSON.stringify(r)===JSON.stringify(e):!1}async function Aye(r,e,t){let n=t.inspect(r);if(n!==void 0){let{key:i,defaultValue:o,globalValue:s,workspaceValue:a,workspaceFolderValue:c}=n;s!==void 0&&(await t.update(e,s,1),await t.update(r,void 0,1)),a!==void 0&&(await t.update(e,a,2),await t.update(r,void 0,2)),c!==void 0&&(await t.update(e,c,3),await t.update(r,void 0,3))}}var ly=be(require("vscode")),Mye=be(VS()),EP="ms-dotnettools.vscode-dotnet-runtime",Q8="2.2.3";async function Lye(r){let t=ly.extensions.getExtension(EP)?.packageJSON.version;if((0,Mye.lt)(t,Q8)){let n=ly.l10n.t("Update and reload"),i=ly.l10n.t("The {0} extension requires at least {1} of the .NET Install Tool ({2}) extension. Please update to continue",r.extension.packageJSON.displayName,Q8,EP);if(await ly.window.showErrorMessage(i,n)===n)await ly.commands.executeCommand("workbench.extensions.installExtension",EP),await ly.commands.executeCommand("workbench.action.reloadWindow");else throw new Error(ly.l10n.t("Version {0} of the .NET Install Tool ({1}) was not found, {2} will not activate.",Q8,EP,r.extension.packageJSON.displayName))}}var tv=be(require("vscode"));function Nye(r,e){if(!Vtt(e)){if(r.extension.extensionKind===tv.ExtensionKind.Workspace){let t={title:tv.l10n.t("How to setup Remote Debugging"),action:async()=>{await tv.env.openExternal(tv.Uri.parse("https://aka.ms/VSCode-DotNet-RemoteDebuggingOnLinuxArm"))}},n=tv.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1} with the VS Code Remote Extensions. To see avaliable workarounds, click on '{2}'.",e.platform,e.architecture,t.title);Wi(tv,n,t)}else{let t=tv.l10n.t("The C# extension for Visual Studio Code is incompatible on {0} {1}.",e.platform,e.architecture);Wi(tv,t)}return!1}return!0}function Vtt(r){return r.isWindows()?r.architecture==="x86_64"||r.architecture==="arm64":r.isMacOS()?!0:r.isLinux()?r.architecture==="x86_64"||r.architecture==="x86"||r.architecture==="i686"||r.architecture==="arm64":!1}var BE=be(require("vscode"));var sa=be(require("vscode"));var IP=be(require("path"));var Qk=be(eC()),hq=be(require("path"));function Fye(r){let e=new RegExp("^net[1-4]");return r.find(t=>e.test(t))}function OP(r){return Gtt(r)??Ktt(r)}function Gtt(r){return r.find(e=>e.startsWith("netcoreapp"))}function Ktt(r){let e=new RegExp("^net[5-9]"),t=r.find(n=>e.test(n));return t!==void 0&&t.charAt(4)!=="."&&(t=`${t.substring(0,4)}.${t.substring(4)}`),t}function qye(r){return r.find(e=>e.startsWith("netstandard"))}function mq(r){return Qk.readFileSync(r,"utf8").toLowerCase().indexOf('sdk="microsoft.net.sdk.web"')>=0}async function gq(r){let e=hq.dirname(r),t=hq.join(e,"Properties","launchSettings.json");try{if(!Qk.pathExistsSync(t))return!1;let n=Qk.readFileSync(t);if(!n)return!1;if(n.indexOf('"inspectUri"')>0)return!0}catch{}return!1}function vq(r,e,t,n){return!(!t||!r||!e||n)}var Ai;(Ne=>(Ne.AddToProject="/addtoproject",Ne.CodeCheck="/codecheck",Ne.CodeFormat="/codeformat",Ne.ChangeBuffer="/changebuffer",Ne.FilesChanged="/filesChanged",Ne.FindSymbols="/findsymbols",Ne.FindUsages="/findusages",Ne.FormatAfterKeystroke="/formatAfterKeystroke",Ne.FormatRange="/formatRange",Ne.GetCodeActions="/getcodeactions",Ne.GoToTypeDefinition="/gototypedefinition",Ne.FindImplementations="/findimplementations",Ne.Project="/project",Ne.Projects="/projects",Ne.RemoveFromProject="/removefromproject",Ne.Rename="/rename",Ne.RunCodeAction="/runcodeaction",Ne.SignatureHelp="/signatureHelp",Ne.TypeLookup="/typelookup",Ne.UpdateBuffer="/updatebuffer",Ne.Metadata="/metadata",Ne.RunFixAll="/runfixall",Ne.GetFixAll="/getfixall",Ne.ReAnalyze="/reanalyze",Ne.QuickInfo="/quickinfo",Ne.Completion="/completion",Ne.CompletionResolve="/completion/resolve",Ne.CompletionAfterInsert="/completion/afterInsert",Ne.SourceGeneratedFile="/sourcegeneratedfile",Ne.UpdateSourceGeneratedFile="/updatesourcegeneratedfile",Ne.SourceGeneratedFileClosed="/sourcegeneratedfileclosed",Ne.InlayHint="/inlayHint",Ne.InlayHintResolve="/inlayHint/resolve",Ne.FileOpen="/open",Ne.FileClose="/close"))(Ai||={});var Ds;(a=>{let r;(W=>(W.GetCodeActions="/v2/getcodeactions",W.RunCodeAction="/v2/runcodeaction",W.GetTestStartInfo="/v2/getteststartinfo",W.RunTest="/v2/runtest",W.RunAllTestsInClass="/v2/runtestsinclass",W.RunTestsInContext="/v2/runtestsincontext",W.DebugTestGetStartInfo="/v2/debugtest/getstartinfo",W.DebugTestsInClassGetStartInfo="/v2/debugtestsinclass/getstartinfo",W.DebugTestsInContextGetStartInfo="/v2/debugtestsincontext/getstartinfo",W.DebugTestLaunch="/v2/debugtest/launch",W.DebugTestStop="/v2/debugtest/stop",W.DiscoverTests="/v2/discovertests",W.BlockStructure="/v2/blockstructure",W.CodeStructure="/v2/codestructure",W.Highlight="/v2/highlight",W.GoToDefinition="/v2/gotodefinition"))(r=a.Requests||={});let e;(y=>(y.None="none",y.Passed="passed",y.Failed="failed",y.Skipped="skipped",y.NotFound="notfound"))(e=a.TestOutcomes||={});let t;(ee=>(ee.Class="class",ee.Delegate="delegate",ee.Enum="enum",ee.Interface="interface",ee.Struct="struct",ee.Constant="constant",ee.Constructor="constructor",ee.Destructor="destructor",ee.EnumMember="enummember",ee.Event="event",ee.Field="field",ee.Indexer="indexer",ee.Method="method",ee.Operator="operator",ee.Property="property",ee.Namespace="namespace",ee.Unknown="unknown"))(t=a.SymbolKinds||={});let n;(b=>(b.Internal="internal",b.Private="private",b.PrivateProtected="private protected",b.Protected="protected",b.ProtectedInternal="protected internal",b.Public="public"))(n=a.SymbolAccessibilities||={});let i;(f=>(f.Accessibility="accessibility",f.Static="static",f.TestFramework="testFramework",f.TestMethodName="testMethodName"))(i=a.SymbolPropertyNames||={});let o;(d=>(d.Attributes="attributes",d.Full="full",d.Name="name"))(o=a.SymbolRangeNames||={});let s;(u=>{function c(l,d){function f(y,b){for(let T of y)d(T,b),T.Children&&f(T.Children,T)}f(l)}u.walkCodeElements=c})(s=a.Structure||={})})(Ds||={});function Ytt(r){let e=r.TargetFrameworks.map(t=>t.ShortName);return OP(e)!==void 0||qye(e)!==void 0||Fye(e)!==void 0}function jye(r){let e=[];if(r.DotNet&&r.DotNet.Projects.length>0)for(let t of r.DotNet.Projects)e.push({Name:t.Name,Directory:t.Path,FilePath:IP.join(t.Path,"project.json")});if(r.MsBuild&&r.MsBuild.Projects.length>0)for(let t of r.MsBuild.Projects)Ytt(t)&&e.push({Name:IP.basename(t.Path),Directory:IP.dirname(t.Path),FilePath:t.Path});return e}async function Z8(r,e,t){return r.makeRequest(Ai.CodeCheck,e,t)}async function zye(r,e,t){return r.makeRequest(Ds.Requests.BlockStructure,e,t)}async function yq(r,e,t){return r.makeRequest(Ds.Requests.CodeStructure,e,t)}async function Uye(r,e){return r.makeRequest(Ds.Requests.DiscoverTests,e)}async function kP(r,e){return r.makeRequest(Ai.FilesChanged,e)}async function Hye(r,e,t){return r.makeRequest(Ai.FindImplementations,e,t)}async function Wye(r,e,t){return r.makeRequest(Ai.FindSymbols,e,t)}async function Bye(r,e){return r.makeRequest(Ai.RunFixAll,e)}async function $ye(r,e){return r.makeRequest(Ai.GetFixAll,e)}async function AP(r,e,t){return r.makeRequest(Ai.FindUsages,e,t)}async function Vye(r,e,t){return r.makeRequest(Ai.FormatAfterKeystroke,e,t)}async function Gye(r,e,t){return r.makeRequest(Ai.FormatRange,e,t)}async function Kye(r,e,t){return r.makeRequest(Ds.Requests.GetCodeActions,e,t)}async function Yye(r,e,t){return r.makeRequest(Ds.Requests.GoToDefinition,e,t)}async function Jye(r,e,t){return r.makeRequest(Ai.GoToTypeDefinition,e,t)}async function Xye(r,e,t){return r.makeRequest(Ai.SourceGeneratedFile,e,t)}async function Qye(r,e){return r.makeRequest(Ai.UpdateSourceGeneratedFile,e)}async function Zye(r,e){return r.makeRequest(Ai.SourceGeneratedFileClosed,e)}async function ebe(r,e,t){return r.makeRequest(Ai.Rename,e,t)}async function Zk(r,e){return r.makeRequest(Ai.Project,e)}async function lw(r){let e=await r.makeRequest(Ai.Projects);if(e.MsBuild&&e.MsBuild.Projects)for(let t of e.MsBuild.Projects){t.IsWebProject=mq(t.Path);let n=await gq(t.Path),i=OP(t.TargetFrameworks.map(s=>s.ShortName))!==void 0,o=vq(t.IsExe,t.IsWebProject,n,i);t.IsBlazorWebAssemblyHosted=o,t.IsBlazorWebAssemblyStandalone=n&&!t.IsBlazorWebAssemblyHosted}return e}async function tbe(r,e){return r.makeRequest(Ds.Requests.RunCodeAction,e)}async function rbe(r,e,t){return r.makeRequest(Ai.SignatureHelp,e,t)}async function MP(r,e){return r.makeRequest(Ai.UpdateBuffer,e)}async function nbe(r,e){return r.makeRequest(Ai.Metadata,e)}async function eG(r,e){return r.makeRequest(Ai.ReAnalyze,e)}async function ibe(r,e){return r.makeRequest(Ds.Requests.RunTest,e)}async function obe(r,e){return r.makeRequest(Ds.Requests.RunAllTestsInClass,e)}async function sbe(r,e){return r.makeRequest(Ds.Requests.RunTestsInContext,e)}async function abe(r,e){return r.makeRequest(Ds.Requests.DebugTestGetStartInfo,e)}async function cbe(r,e){return r.makeRequest(Ds.Requests.DebugTestsInClassGetStartInfo,e)}async function ube(r,e){return r.makeRequest(Ds.Requests.DebugTestsInContextGetStartInfo,e)}async function lbe(r,e){return r.makeRequest0(Ds.Requests.DebugTestLaunch,e)}async function dbe(r,e){return r.makeRequest0(Ds.Requests.DebugTestStop,e)}async function fbe(r,e){return r.makeRequest(Ds.Requests.Highlight,e)}async function pbe(r,e,t){return r.makeRequest(Ai.QuickInfo,e,t)}async function hbe(r,e,t){return r.makeRequest(Ai.Completion,e,t)}async function mbe(r,e,t){return r.makeRequest(Ai.CompletionResolve,e,t)}async function gbe(r,e){return r.makeRequest(Ai.CompletionAfterInsert,e)}async function vbe(r,e){return r.makeRequest(Ai.FileOpen,e)}async function ybe(r,e){return r.makeRequest(Ai.FileClose,e)}function bbe(r){return r.TargetFrameworks.find(e=>e.ShortName.startsWith("netcoreapp")||e.ShortName.startsWith("netstandard"))!==void 0}async function _be(r,e,t){return r.makeRequest(Ai.InlayHint,e,t)}async function wbe(r,e,t){return r.makeRequest(Ai.InlayHintResolve,e,t)}var bq=class extends Db{post=e=>{switch(e.type){case 51:this.clearChannel(),this.showChannel(!0);break}}};var _q=class extends kf{post=e=>{switch(e.type){case 42:this.logger.append(e.message);break;case 66:this.logger.appendLine(e.message);break;case 68:this.logger.appendLine(e.message);break}}};var e1=class extends kf{post=e=>{switch(e.type){case 30:this.handleDotnetTestRunStart(e);break;case 60:this.logger.appendLine(e.message);break;case 29:this.handleReportDotnetTestResults(e);break;case 31:this.handleDotnetTestDebugStart(e);break;case 58:this.handleDotNetTestDebugWarning(e);break;case 32:this.handleDotNetTestDebugProcessStart(e);break;case 44:this.logger.appendLine(`Debugging complete.
`);break;case 34:this.handleDotnetTestsInClassDebugStart(e);break;case 33:this.handleDotnetTestsInClassRunStart(e);break;case 76:this.handleDotnetTestsRunInContextStart(e);break;case 77:this.handleDotnetTestsDebugInContextStart(e);break}};handleDotNetTestDebugWarning(e){this.logger.appendLine(`Warning: ${e.message}`)}handleDotnetTestDebugStart(e){this.logger.appendLine(`----- Debugging test method ${e.testMethod} -----`),this.logger.appendLine("")}handleDotnetTestRunStart(e){this.logger.appendLine(`----- Running test method "${e.testMethod}" -----`),this.logger.appendLine("")}handleDotnetTestsInClassDebugStart(e){this.logger.appendLine(`----- Debugging tests in class ${e.className} -----`),this.logger.appendLine("")}handleDotnetTestsInClassRunStart(e){this.logger.appendLine(`----- Running tests in class "${e.className}" -----`),this.logger.appendLine("")}handleDotnetTestsRunInContextStart(e){this.logger.appendLine(`----- Running test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotnetTestsDebugInContextStart(e){this.logger.appendLine(`----- Debugging test(s) in context "${e.fileName}(${e.line+1},${e.column+1})" -----`),this.logger.appendLine("")}handleDotNetTestDebugProcessStart(e){this.logger.appendLine(`Started debugging process #${e.targetProcessId}.`)}handleReportDotnetTestResults(e){if(e.results){this.logger.appendLine("----- Test Execution Summary -----"),this.logger.appendLine("");let t=e.results,n=t.length,i=0,o=0,s=0;for(let a of t)switch(this.logTestResult(a),a.Outcome){case Ds.TestOutcomes.Failed:o+=1;break;case Ds.TestOutcomes.Passed:i+=1;break;case Ds.TestOutcomes.Skipped:s+=1;break}this.logger.appendLine(`Total tests: ${n}. Passed: ${i}. Failed: ${o}. Skipped: ${s}`),this.logger.appendLine("")}}logTestResult(e){this.logger.appendLine(`${e.MethodName}:`),this.logger.increaseIndent(),this.logger.appendLine(`Outcome: ${Jtt(e.Outcome)}`),e.ErrorMessage&&(this.logger.appendLine("Error Message:"),this.logger.appendLine(e.ErrorMessage)),e.ErrorStackTrace&&(this.logger.appendLine("Stack Trace:"),this.logger.appendLine(e.ErrorStackTrace)),e.StandardOutput&&e.StandardOutput.length>0&&(this.logger.appendLine("Standard Output Messages:"),e.StandardOutput.forEach(t=>this.logger.appendLine(t))),e.StandardError&&e.StandardError.length>0&&(this.logger.appendLine("Standard Error Messages:"),e.StandardError.forEach(t=>this.logger.appendLine(t))),this.logger.appendLine(),this.logger.decreaseIndent()}};function Jtt(r){return r.charAt(0).toUpperCase()+r.slice(1)}var t1=class extends Db{post=e=>{switch(e.type){case 30:case 59:case 33:case 31:case 34:case 76:case 77:this.showChannel(!0);break}}};var wq=be(require("os"));var Sq=class extends kf{constructor(t,n){super(t);this.platformInformation=n}post=t=>{switch(t.type){case 4:this.handleOmnisharpInitialisation(t);break;case 5:this.handleOmnisharpLaunch(t);break;case 12:this.logger.appendLine(t.message),this.logger.appendLine();break;case 62:this.logger.appendLine(t.message);break;case 21:this.handleOmnisharpServerOnServerError(t);break;case 15:this.handleOmnisharpServerOnError(t);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(t);break;case 63:this.handleOmnisharpServerOnStdErr(t);break;case 20:this.handleOmnisharpEventPacketReceived(t);break}};handleOmnisharpServerOnServerError(t){if(t.err.cmd==="dotnet --version"){this.logger.appendLine("[ERROR] A .NET 6 SDK was not found. Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.");return}else if(t.err.message?.startsWith("Found dotnet version")){this.logger.appendLine(`[ERROR] ${t.err} Please install the latest SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[ERROR] "+t.err)}handleOmnisharpServerOnStdErr(t){if(t.message.startsWith("System.BadImageFormatException: Could not load file or assembly")){this.logger.appendLine(`[ERROR] A .NET 6 SDK for ${this.platformInformation.architecture} was not found. Please install the latest ${this.platformInformation.architecture} SDK from https://dotnet.microsoft.com/en-us/download/dotnet/6.0.`);return}this.logger.appendLine("[STDERR] "+t.message)}handleOmnisharpInitialisation(t){this.logger.appendLine(`Starting OmniSharp server at ${t.timeStamp.toLocaleString()}`),this.logger.increaseIndent(),this.logger.appendLine(`Target: ${t.solutionPath}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpLaunch(t){this.logger.append("OmniSharp server started"),t.hostVersion&&(this.logger.append(` with ${t.hostIsMono?"Mono":".NET"} ${t.hostVersion}`),t.hostPath&&t.hostPath.length>0&&this.logger.append(` (${t.hostPath})`)),this.logger.appendLine("."),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${t.command}`),this.logger.appendLine(`PID: ${t.pid}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleOmnisharpServerMsBuildProjectDiagnostics(t){(t.diagnostics.Errors.length>0||t.diagnostics.Warnings.length>0)&&(this.logger.appendLine(t.diagnostics.FileName),t.diagnostics.Errors.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Error: ${n.Text}`)}),t.diagnostics.Warnings.forEach(n=>{this.logger.appendLine(`${n.FileName}(${n.StartLine},${n.StartColumn}): Warning: ${n.Text}`)}),this.logger.appendLine(""))}handleOmnisharpServerOnError(t){t.errorMessage.FileName&&this.logger.appendLine(`${t.errorMessage.FileName}(${t.errorMessage.Line},${t.errorMessage.Column})`),this.logger.appendLine(t.errorMessage.Text),this.logger.appendLine("")}handleOmnisharpEventPacketReceived(t){if(!this._isFilterableOutput(t)){let n=`[${this.getLogLevelPrefix(t.logLevel)}]: ${t.name}${wq.EOL}${t.message}`,i=wq.EOL+"        ";n=n.replace(wq.EOL,i),this.logger.appendLine(n)}}_isFilterableOutput(t){let n=/^\/[/\w]+: 200 \d+ms/;return t.logLevel==="INFORMATION"&&t.name==="OmniSharp.Middleware.LoggingMiddleware"&&n.test(t.message)}getLogLevelPrefix(t){switch(t){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${t}`)}}};var Cq=class extends Db{constructor(e){super(e)}post=e=>{switch(e.type){case 53:case 12:this.showChannel(!0);break;case 63:this.handleOmnisharpServerOnStdErr();break;case 69:this.clearChannel();break}};handleOmnisharpServerOnStdErr(){Nr.showOmnisharpLogOnError&&this.showChannel(!0)}};var Sbe=be(Bk()),Cbe=be(cC());var tG=require("vscode");var Dq=class{constructor(e,t,n){this.vscode=e;this.disableMsBuildDiagnosticWarning=t;this.warningMessageDebouncer=new Cbe.Subject,this.warningMessageDebouncer.pipe((0,Sbe.debounceTime)(1500,n)).subscribe(i=>{let o=tG.l10n.t("Some projects have trouble loading. Please review the output for more details."),s={title:tG.l10n.t("Show Output"),command:"o.showOutput"};Hp(this.vscode,o,s)})}warningMessageDebouncer;post=e=>{switch(e.type){case 15:this.warningMessageDebouncer.next(e);break;case 16:this.handleOmnisharpServerMsBuildProjectDiagnostics(e);break}};handleOmnisharpServerMsBuildProjectDiagnostics(e){!this.disableMsBuildDiagnosticWarning()&&e.diagnostics.Errors.length>0&&this.warningMessageDebouncer.next(e)}};var rG=require("vscode");var Tq=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 17:this.handleOmnisharpServerUnresolvedDependencies();break}};handleOmnisharpServerUnresolvedDependencies(){if(!Nr.suppressDotnetRestoreNotification){let e=rG.l10n.t("There are unresolved dependencies. Please execute the restore command to continue."),t={title:rG.l10n.t("Restore"),command:"dotnet.restore.all"};Vs(this.vscode,e,t)}}};var Pq=require("vscode");var Rq=class{constructor(e){this.vscode=e}post=e=>{switch(e.type){case 28:this.handleZipError(e);break;case 59:this.handleDotnetTestRunFailure(e);break;case 57:this.handleDotNetTestDebugStartFailure(e);break;case 37:this.handleIntegrityCheckFailure(e)}};handleIntegrityCheckFailure(e){e.retry||Wi(this.vscode,Pq.l10n.t("Package {0} download from {1} failed integrity check. Some features may not work as expected. Please restart Visual Studio Code to retrigger the download",e.packageDescription,e.url))}handleZipError(e){Wi(this.vscode,e.message)}handleDotnetTestRunFailure(e){Wi(this.vscode,Pq.l10n.t("Failed to run test: {0}",e.message))}handleDotNetTestDebugStartFailure(e){Wi(this.vscode,Pq.l10n.t("Failed to start debugger: {0}",e.message))}};var LP=class{constructor(e){this.statusBarItem=e}get alignment(){return this.statusBarItem.alignment}get priority(){return this.statusBarItem.priority}get text(){return this.statusBarItem.text}set text(e){this.statusBarItem.text=e}get tooltip(){return this.statusBarItem.tooltip}set tooltip(e){this.statusBarItem.tooltip=e}get color(){return this.statusBarItem.color}set color(e){this.statusBarItem.color=e}get command(){return this.statusBarItem.command}set command(e){this.statusBarItem.command=e}get name(){return this.statusBarItem.name}set name(e){this.statusBarItem.name=e}show(){this.statusBarItem.show()}hide(){this.statusBarItem.hide()}dispose(){this.statusBarItem.dispose()}};var pC=class{constructor(e){this.statusBarItem=e}SetAndShowStatusBar(e,t,n,i){this.statusBarItem.text=e,this.statusBarItem.command=t,this.statusBarItem.color=n,this.statusBarItem.tooltip=i,this.statusBarItem.show()}ResetAndHideStatusBar(){this.statusBarItem.text="",this.statusBarItem.command=void 0,this.statusBarItem.color=void 0,this.statusBarItem.tooltip=void 0,this.statusBarItem.hide()}};var xq=class extends pC{post=e=>{switch(e.type){case 21:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)","Error starting OmniSharp");break;case 63:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,0,0)",`OmniSharp process errored:${e.message}`);break;case 73:this.SetAndShowStatusBar("$(flame) Installing OmniSharp...","o.showOutput");break;case 47:this.SetAndShowStatusBar("$(flame)","o.showOutput","rgb(218,218,0)","Starting OmniSharp server");break;case 71:this.ResetAndHideStatusBar();break;case 72:this.SetAndShowStatusBar("$(flame)","o.showOutput",void 0,"OmniSharp server is running");break;case 25:this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${e.packageDescription}...' `);break;case 9:this.SetAndShowStatusBar("$(desktop-download) Installing packages...","","",`Installing package '${e.packageDescription}'`);break;case 50:this.ResetAndHideStatusBar();break;case 11:{let t=e;this.SetAndShowStatusBar("$(cloud-download) Downloading packages","","",`Downloading package '${t.packageDescription}'... ${t.downloadPercentage}%`);break}}}};var Dbe=be(require("vscode")),Tbe=require("path");var Eq=class extends pC{post=e=>{switch(e.type){case 22:this.SetAndShowStatusBar("$(file-submodule) "+Dbe.l10n.t("Select project"),"o.pickProjectAndStart","rgb(90, 218, 90)");break;case 71:this.ResetAndHideStatusBar();break;case 23:this.handleWorkspaceInformationUpdated(e)}};handleWorkspaceInformationUpdated(e){let t,n=e.info.MsBuild;n&&n.SolutionPath?(t=(0,Tbe.basename)(n.SolutionPath),this.SetAndShowStatusBar("$(file-directory) "+t,"o.pickProjectAndStart")):this.ResetAndHideStatusBar()}};var Oq=class extends pC{post=e=>{if(e.type===80){let t=e;if(t.message.Status!==2){let{NumberFilesRemaining:n,NumberFilesTotal:i}=t.message,o=`Analyzing ${i} files - Remaining ${n} files`;this.SetAndShowStatusBar(`$(sync~spin) ${o}`,"o.showOutput",void 0,`${o}`)}else this.ResetAndHideStatusBar()}}};var Iq=be(require("os"));var kq=class extends kf{post=e=>{switch(e.type){case 13:this.handleOmnisharpRequestMessage(e);break;case 18:this.handleOmnisharpServerEnqueueRequest(e);break;case 70:this.handleOmnisharpServerDequeueRequest(e);break;case 79:this.handleOmnisharpServerRequestCancelled(e);break;case 19:this.handleOmnisharpProcessRequestStart(e);break;case 49:this.logger.decreaseIndent();break;case 61:this.handleOmnisharpServerVerboseMessage(e);break;case 20:this.handleOmnisharpEventPacketReceived(e);break}};handleOmnisharpRequestMessage(e){this.logger.append(`makeRequest: ${e.request.command} (${e.id})`),e.request.data&&this.logger.append(`, data=${JSON.stringify(e.request.data)}`),this.logger.appendLine()}handleOmnisharpServerEnqueueRequest(e){this.logger.appendLine(`Enqueue to ${e.queueName} request for ${e.command}.`),this.logger.appendLine()}handleOmnisharpServerDequeueRequest(e){this.logger.appendLine(`Dequeue from ${e.queueName} with status ${e.queueStatus} request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpServerRequestCancelled(e){this.logger.appendLine(`Cancelled request for ${e.command}${e.id?` (${e.id})`:""}.`),this.logger.appendLine()}handleOmnisharpProcessRequestStart(e){this.logger.appendLine(`Processing ${e.name} queue, available slots ${e.availableRequestSlots}`),this.logger.increaseIndent()}handleOmnisharpServerVerboseMessage(e){this.logger.appendLine(e.message)}handleOmnisharpEventPacketReceived(e){if(this._isFilterableOutput(e)){let t=`[${this.getLogLevelPrefix(e.logLevel)}]: ${e.name}${Iq.EOL}${e.message}`,n=Iq.EOL+"        ";t=t.replace(Iq.EOL,n),this.logger.appendLine(t)}}_isFilterableOutput(e){let t=/^\/[/\w]+: 200 \d+ms/;return e.logLevel==="INFORMATION"&&e.name==="OmniSharp.Middleware.LoggingMiddleware"&&t.test(e.message)}getLogLevelPrefix(e){switch(e){case"TRACE":return"trce";case"DEBUG":return"dbug";case"INFORMATION":return"info";case"WARNING":return"warn";case"ERROR":return"fail";case"CRITICAL":return"crit";default:throw new Error(`Unknown log level value: ${e}`)}}};var Aq=class extends kf{post=e=>{switch(e.type){case 39:this.handleRazorPluginPathSpecifiedMessage(e);break;case 40:this.handleRazorPluginPathDoesNotExistMessage(e);break;case 56:this.handleRazorDevMode();break}};handleRazorPluginPathSpecifiedMessage(e){this.logger.appendLine("Razor Plugin Path Specified"),this.logger.increaseIndent(),this.logger.appendLine(`Path: ${e.path}`),this.logger.decreaseIndent(),this.logger.appendLine()}handleRazorPluginPathDoesNotExistMessage(e){this.logger.appendLine(`[error]: Razor plugin path was specified as '${e.path}' but does not exist on disk.`)}handleRazorDevMode(){this.logger.appendLine("Razor dev mode active. Suppressing built-in OmniSharp Razor support."),this.logger.appendLine()}};var Mq=class{constructor(e,t,n,i,o,s){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o;this.reporter=s}async DownloadAndInstallRazorOmnisharp(e){let n=$D(this.packageJSON).filter(o=>o.id==="RazorOmnisharp"),i=await RP(n,this.platformInfo,this.extensionPath);if(i.length>0){this.eventStream.post(new GS(`Razor OmniSharp Version = ${e}`)),this.eventStream.post(new KS(this.platformInfo));let o=await PP(i,this.networkSettingsProvider,this.eventStream,xP,this.reporter);if(Object.entries(o).filter(([,a])=>!a).map(([a])=>a).length===0)return this.eventStream.post(new YS),!0}return!1}};var Pbe=be(VS()),Lq=be(require("path"));var NP=class{constructor(e){this.getMonoVersion=e}minimumMonoVersion="6.4.0";async getHostExecutableInfo(){let e={...process.env},t=Nr.monoPath;t.length>0&&(e.PATH=Lq.join(t,"bin")+Lq.delimiter+e.PATH,e.MONO_GAC_PREFIX=t);let n=await this.getMonoVersion(e);if(n===void 0){let i=t?`Update the "omnisharp.monoPath" setting to point to the folder containing Mono's '/bin' folder.`:"Ensure that Mono's '/bin' folder is added to your environment's PATH variable.";throw new Error(`Unable to find Mono. ${i}`)}if(Pbe.lt(n,this.minimumMonoVersion))throw new Error(`Found Mono version ${n}. Minimum required version is ${this.minimumMonoVersion}.`);return{version:n,path:t,env:e}}};var Rbe=require("child_process"),xbe=be(require("path")),Fq=be(VS()),Ebe=require("util");var Nq=class{constructor(e){this.platformInfo=e}minimumDotnetVersion="6.0.100";async getHostExecutableInfo(){let e=this.platformInfo.isWindows()?"dotnet.exe":"dotnet",t={...process.env},n=Nr.dotnetPath;n.length>0&&(t.PATH=n+xbe.delimiter+t.PATH);let i=await(0,Ebe.promisify)(Rbe.exec)(`${e} --version`,{env:t});if(i.stderr)throw new Error(`Unable to read dotnet version information. Error ${i.stderr}`);let o=Fq.parse(i.stdout.trimEnd());if(!o)throw new Error(`Unknown result output from 'dotnet --version'. Received ${i.stdout}`);if(Fq.lt(o,this.minimumDotnetVersion))throw new Error(`Found dotnet version ${o}. Minimum required version is ${this.minimumDotnetVersion}.`);return{version:i.stdout,path:n,env:t}}};var Obe=be(require("vscode")),qq=class{_middlewares;_registration;constructor(){this._middlewares=[]}dispose(){this._registration?.dispose()}register(){this._registration=Obe.commands.registerCommand("omnisharp.registerLanguageMiddleware",e=>{this._middlewares.push(e)})}getLanguageMiddlewares(){return this._middlewares}async remap(e,t,n){try{let i=this.getLanguageMiddlewares(),o=t;for(let s of i){let a=s[e];if(!a)continue;let c=await a.call(s,o,n);c&&(o=c)}return o}catch{return t}}};var IX=be(require("fs")),AR=be(require("path"));var jq=be(require("path")),Ibe=be(require("vscode"));function zq(r){let e=jq.dirname(r.fsPath),t=Ibe.workspace.asRelativePath(e);return{label:jq.basename(r.fsPath),description:e===t?"":t,target:r.fsPath,directory:e,workspaceKind:0}}var Uq=class{_name;_immediateDelays=0;_nearImmediateDelays=0;_shortDelays=0;_mediumDelays=0;_idleDelays=0;_nonFocusDelays=0;_bigDelays=0;constructor(e){this._name=e}reportDelay(e){e<=25?this._immediateDelays+=1:e<=50?this._nearImmediateDelays+=1:e<=250?this._shortDelays+=1:e<=500?this._mediumDelays+=1:e<=1500?this._idleDelays+=1:e<=3e3?this._nonFocusDelays+=1:this._bigDelays+=1}name(){return this._name}clearMeasures(){this._immediateDelays=0,this._nearImmediateDelays=0,this._shortDelays=0,this._mediumDelays=0,this._idleDelays=0,this._nonFocusDelays=0,this._bigDelays=0}hasMeasures(){return this._immediateDelays>0||this._nearImmediateDelays>0||this._shortDelays>0||this._mediumDelays>0||this._idleDelays>0||this._nonFocusDelays>0||this._bigDelays>0}getMeasures(){return{immediateDelays:this._immediateDelays,nearImmediateDelays:this._nearImmediateDelays,shortDelays:this._shortDelays,mediumDelays:this._mediumDelays,idleDelays:this._idleDelays,nonFocusDelays:this._nonFocusDelays,bigDelays:this._bigDelays}}};var V0e=require("events");var hC=be(require("path")),Abe=be(VS());var nG="6.0";function kbe(r,e,t,n,i){return t.filter(o=>o.platformId!==void 0&&o.isFramework===e).map(o=>Qtt(o,e,n,r,i))}function Qtt(r,e,t,n,i){let o;return e?r.platforms.includes("win32")?o="OmniSharp.exe":o="run":o="OmniSharp.dll",Ztt(r,e,t,n,i,o)}function Ztt(r,e,t,n,i,o){let s=e?"":`-net${nG}`;return{...r,integrity:void 0,description:`${r.description}, Version = ${n}`,url:`${t}/releases/${n}/omnisharp-${r.platformId}${s}.zip`,installPath:`${i}/${n}${s}`,installTestPath:`./${i}/${n}${s}/${o}`}}var Hq=class{constructor(e,t,n="https://roslynomnisharp.blob.core.windows.net"){this.downloader=e;this.platformInfo=t;this.serverUrl=n}latestVersionFileServerPath="releases/versioninfo.txt";installPath=".omnisharp";async GetOmniSharpLaunchPath(e,t,n,i){if(t.length===0)return this.GetLaunchPathForVersion(e,this.platformInfo,n,i);if(hC.isAbsolute(t)){if(!await j0(t))throw new Error("The system could not find the specified path");return t}else if(t==="latest")return await this.InstallLatestAndReturnLaunchInfo(n,i);return await this.InstallVersionAndReturnLaunchInfo(t,n,i)}async InstallLatestAndReturnLaunchInfo(e,t){let n=await this.downloader.GetLatestVersion(this.serverUrl,this.latestVersionFileServerPath);return await this.InstallVersionAndReturnLaunchInfo(n,e,t)}async InstallVersionAndReturnLaunchInfo(e,t,n){if(Abe.valid(e))return await this.downloader.DownloadAndInstallOmnisharp(e,t,this.serverUrl,this.installPath),this.GetLaunchPathForVersion(e,this.platformInfo,t,n);throw new Error(`Invalid OmniSharp version - ${e}`)}GetLaunchPathForVersion(e,t,n,i){let o=hC.resolve(i,this.installPath,e+(n?"":`-net${nG}`));if(n){if(t.isWindows())return hC.join(o,"OmniSharp.exe")}else return hC.join(o,"OmniSharp.dll");return hC.join(o,"omnisharp","OmniSharp.exe")}};var Wq=class{constructor(e,t){this.eventName=e;this.measures=t}type=1},Bq=class extends Wq{type=3},$q=class extends Wq{type=0},Vq=class{constructor(e,t,n){this.dotNetCliPaths=e;this.timeStamp=t;this.solutionPath=n}type=4},FP=class{constructor(e,t,n,i,o){this.hostVersion=e;this.hostPath=t;this.hostIsMono=n;this.command=i;this.pid=o}type=5},Gq=class{constructor(e,t){this.message=e;this.error=t}type=12},Kq=class{constructor(e,t){this.request=e;this.id=t}type=13},Yq=class{constructor(e,t){this.debugCounts=e;this.runCounts=t}type=14},Jq=class{constructor(e){this.errorMessage=e}type=15},Xq=class{constructor(e){this.message=e}type=80},Qq=class{constructor(e){this.diagnostics=e}type=16},Zq=class{constructor(e){this.unresolvedDependencies=e}type=17},e2=class{constructor(e,t){this.queueName=e;this.command=t}type=18},r1=class{constructor(e,t,n,i){this.queueName=e;this.queueStatus=t;this.command=n;this.id=i}type=70};var t2=class{constructor(e,t){this.name=e;this.availableRequestSlots=t}type=19},qP=class{constructor(e,t,n){this.logLevel=e;this.name=t;this.message=n}type=20},dT=class{constructor(e){this.err=e}type=21},r2=class{constructor(e){this.targets=e}type=22},n2=class{constructor(e){this.projectConfiguration=e}type=74},i2=class{constructor(e){this.info=e}type=23},jP=class{constructor(e){this.results=e}type=29},o2=class{constructor(e){this.testMethod=e}type=30},s2=class{constructor(e){this.testMethod=e}type=31},a2=class{constructor(e){this.targetProcessId=e}type=32},c2=class{constructor(e){this.className=e}type=33},u2=class{constructor(e){this.className=e}type=34},l2=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=76},d2=class{constructor(e,t,n){this.fileName=e;this.line=t;this.column=n}type=77},f2=class{constructor(e,t){this.documentPath=e;this.errorMessage=t}type=35},p2=class{constructor(e){this.path=e}type=39},h2=class{constructor(e){this.path=e}type=40},n1=class extends Ud{type=42},m2=class extends Ud{type=66},g2=class extends Ud{type=68},v2=class extends Ud{type=63},dw=class extends Ud{type=62},y2=class extends Ud{type=61},Uh=class extends Ud{type=60},fw=class extends Ud{type=59},i1=class extends Ud{type=58},o1=class extends Ud{type=57},b2=class{type=56},_2=class{type=55},w2=class{type=53},s1=class{type=51},S2=class{type=49},C2=class{type=48},D2=class{type=47},T2=class{type=73},P2=class{type=46},R2=class{type=71},x2=class{type=72},E2=class{type=45},O2=class{type=69},I2=class{type=44};var k2=class{constructor(e,t,n,i,o,s){this.networkSettingsProvider=e;this.eventStream=t;this.packageJSON=n;this.platformInfo=i;this.extensionPath=o;this.reporter=s}async DownloadAndInstallOmnisharp(e,t,n,i){let o=$D(this.packageJSON),s=kbe(e,t,o,n,i),a=await RP(s,this.platformInfo,this.extensionPath);if(a.length>0){this.eventStream.post(new GS(`OmniSharp Version = ${e}`)),this.eventStream.post(new KS(this.platformInfo));let c=await PP(a,this.networkSettingsProvider,this.eventStream,xP,this.reporter);if(Object.entries(c).filter(([,l])=>!l).map(([l])=>l).length===0)return this.eventStream.post(new YS),!0}return!1}async GetLatestVersion(e,t){let n="Latest OmniSharp Version Information",i=`${e}/${t}`;try{return this.eventStream.post(new E2),(await tq(n,this.eventStream,this.networkSettingsProvider,i)).toString("utf8")}catch(o){throw this.eventStream.post(new WD("getLatestVersionInfoFile",o)),o}}};var G0e=be(cC()),K0e=be(Bk());var A2=require("child_process"),mC=be(require("path")),pw=be(require("vscode"));var trt={label:"VSLS",description:"Visual Studio Live Share",directory:"",target:"",workspaceKind:6},rrt="vsls",nrt=new Set([rrt]);async function M2(){if(!pw.workspace.workspaceFolders)return Promise.resolve([]);let r=await pw.workspace.findFiles("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",`{${Nr.projectFilesExcludePattern}}`),e=await pw.workspace.findFiles("{**/*.cs}","{**/node_modules/**,**/.git/**,**/bower_components/**}",1);return irt(r.concat(e),pw.workspace.workspaceFolders,Nr.maxProjectResults)}function irt(r,e,t){if(r.length===0)return[];let n=r.filter(o=>!nrt.has(o.scheme));if(n.length===0)return[trt];let i=new Map;for(let o of n){let s=pw.workspace.getWorkspaceFolder(o);if(s){let a;i.has(s.index)?a=i.get(s.index):(a=[],i.set(s.index,a)),a.push(o)}}return ort(r,e,i,t)}function ort(r,e,t,n){let i=[],o=[],s=[],a=[],c=[];t.forEach((l,d)=>{let f=!1,y=!1,b=!1,k=e[d].uri.fsPath;l.forEach(U=>{if(art(U))i.push(zq(U));else if(srt(U)){let ne=mC.dirname(U.fsPath);a.push({label:mC.basename(U.fsPath),description:pw.workspace.asRelativePath(ne),target:ne,directory:ne,workspaceKind:1})}else f||=crt(U),y||=urt(U),b||=lrt(U)});let z=a.length>0,A=i.length>0;z&&!A&&s.push({label:mC.basename(k),description:"All contained projects",target:k,directory:k,workspaceKind:3}),f&&c.push({label:"CSX",description:mC.basename(k),target:k,directory:k,workspaceKind:4}),y&&c.push({label:"Cake",description:mC.basename(k),target:k,directory:k,workspaceKind:5}),b&&!A&&!z&&c.push({label:mC.basename(k),description:"",target:k,directory:k,workspaceKind:3})}),i=i.sort((l,d)=>l.directory.localeCompare(d.directory)),s=s.sort((l,d)=>l.directory.localeCompare(d.directory)),o=o.sort((l,d)=>l.directory.localeCompare(d.directory)),a=a.sort((l,d)=>l.directory.localeCompare(d.directory));let u=c.concat(i).concat(s).concat(o).concat(a);return n>0?u.slice(0,n):u}function srt(r){return/\.csproj$/i.test(r.fsPath)}function art(r){return/\.slnf?$/i.test(r.fsPath)}function crt(r){return/\.csx$/i.test(r.fsPath)}function urt(r){return/\.cake$/i.test(r.fsPath)}function lrt(r){return/\.cs$/i.test(r.fsPath)}async function Mbe(r,e,t,n,i,o){return new Promise((s,a)=>{drt(r,e,t,n,i,o).then(c=>{c.process.on("error",u=>{a(u)}),c.process.on("spawn",()=>{s(c)})}).catch(c=>a(c))})}async function sG(r,e,t,n,i,o){if(Nr.useEditorFormattingSettings){let a=pw.workspace.getConfiguration("",null),c=pw.workspace.getConfiguration("[csharp]",null);e.push(`formattingOptions:useTabs=${!oG(a,c,"editor.insertSpaces",!0)}`),e.push(`formattingOptions:tabSize=${oG(a,c,"editor.tabSize",4)}`),e.push(`formattingOptions:indentationSize=${oG(a,c,"editor.tabSize",4)}`)}if(Nr.useModernNet){let a=e.slice(0),c;t.endsWith(".dll")?(c=n.isWindows()?"dotnet.exe":"dotnet",a.unshift(t)):c=t;let u=await o.getHostExecutableInfo();return{hostKind:".NET",hostPath:u.path,hostVersion:u.version,path:c,launchPath:t,cwd:r,args:a,env:u.env}}if(n.isWindows())return{hostKind:"Windows .NET Framework",hostPath:"",hostVersion:"",path:t,launchPath:t,cwd:r,args:e,env:process.env};let s=await i.getHostExecutableInfo();if(s!==void 0){let a=e.slice(0);return a.unshift(t),a.unshift("--assembly-loader=strict"),ss.waitForDebugger&&(a.unshift("--debug"),a.unshift("--debugger-agent=transport=dt_socket,server=y,address=127.0.0.1:55555")),{hostKind:"Mono .NET Framework",hostPath:s.path,hostVersion:s.version,path:"mono",launchPath:t,cwd:r,args:a,env:s.env}}throw new Error("Unable to find Mono installation.")}async function drt(r,e,t,n,i,o){let s=await sG(r,e,t,n,i,o);return frt(n,s)}function frt(r,e){let{cwd:t,args:n,path:i,launchPath:o,env:s}=e;switch(e.hostKind){case".NET":return{process:(0,A2.spawn)(i,n,{detached:!1,cwd:t,env:s}),command:o,hostIsMono:!1,hostVersion:e.hostVersion,hostPath:e.hostPath};case"Windows .NET Framework":return prt(i,t,n);case"Mono .NET Framework":return{command:o,process:hrt(e.hostPath,t,n,e.env),hostIsMono:!0,hostVersion:e.hostVersion,hostPath:e.hostPath}}}function oG(r,e,t,n){return e[t]!=null?e[t]:r.get(t,n)}function prt(r,e,t){function n(s){return/^[^"].* .*[^"]/.test(s)?`"${s}"`:s.replace("&","^&")}let i=t.slice(0);return i.unshift(`"${r}"`),i=[["/s","/c",'"'+i.map(n).join(" ")+'"'].join(" ")],{process:(0,A2.spawn)("cmd",i,{windowsVerbatimArguments:!0,detached:!1,cwd:e}),command:r,hostIsMono:!1}}function hrt(r,e,t,n){return(0,A2.spawn)("mono",t,{detached:!1,cwd:e,env:n})}var WTe=require("timers");var LC=require("vscode");var BTe=be(Jr()),yz=be(Wu()),$Te=be(Lw()),VTe=be(HY()),GTe=be(bY()),KTe=be(aJ()),YTe=be(qY()),JTe=be(IY()),XTe=be(rJ()),QTe=be(Mj()),ZTe=be(F7()),e0e=be(eJ()),t0e=be(VY()),vz=class{constructor(e,t,n,i,o,s,a,c,u){this.eventBus=e;this.eventStream=t;this.context=n;this.outputChannel=i;this.disposables=o;this.languageMiddlewareFeature=s;this.platformInfo=a;this.monoResolver=c;this.dotnetResolver=u}client;_initializeTask;async start(e,t,n,i){let o=await sG(e,["-lsp","--encoding","ascii"].concat(t),i,this.platformInfo,this.monoResolver,this.dotnetResolver),s={run:{command:o.path,args:o.args,options:{cwd:o.cwd,env:o.env}},debug:{command:o.path,args:o.args,options:{cwd:e,env:o.env}}},a=this.languageMiddlewareFeature,c={diagnosticCollectionName:"csharp",progressOnInitialization:!0,outputChannel:this.outputChannel,synchronize:{configurationSection:"csharp"},middleware:{async provideDefinition(y,b,T,k){let z=await k(y,b,T);return z&&a.remap("remapLocations",Array.isArray(z)?z:[z],T)},async provideTypeDefinition(y,b,T,k){let z=await k(y,b,T);return z&&a.remap("remapLocations",Array.isArray(z)?z:[z],T)},async provideReferences(y,b,T,k,z){let A=await z(y,b,T,k);return a.remap("remapLocations",A,k)},async provideImplementation(y,b,T,k){let z=await k(y,b,T);return z&&a.remap("remapLocations",Array.isArray(z)?z:[z],T)},async provideRenameEdits(y,b,T,k,z){let A=await z(y,b,T,k);return A&&a.remap("remapWorkspaceEdit",A,k)},async provideCodeLenses(y,b,T){let k=await T(y,b);if(!k)return k;let z=k.map(U=>new LC.Location(y.uri,U.range)),A=await a.remap("remapLocations",z,b);return k.filter((U,ne)=>A[ne].uri===y.uri)},async resolveCodeLens(y,b,T){let k=await T(y,b);return!k||k.command===void 0?k:new LC.CodeLens(k.range,BTe.Command.create(k.command.title,"editor.action.findReferences",LC.Uri.parse(y.data),k.range.start))},async provideFoldingRanges(y,b,T,k){return await k(y,b,T)},async provideHover(y,b,T,k){return await k(y,b,T)},async provideSignatureHelp(y,b,T,k,z){return await z(y,b,T,k)},async provideCompletionItem(y,b,T,k,z){return await z(y,b,T,k)},async provideWorkspaceSymbols(y,b,T){return await T(y,b)},async provideDocumentSymbols(y,b,T){return await T(y,b)},async provideCodeActions(y,b,T,k,z){return await z(y,b,T,k)},async provideDocumentFormattingEdits(y,b,T,k){return await k(y,b,T)},async provideDocumentRangeFormattingEdits(y,b,T,k,z){return await z(y,b,T,k)},async provideOnTypeFormattingEdits(y,b,T,k,z,A){return await A(y,b,T,k,z)},async provideDocumentSemanticTokens(y,b,T){return await T(y,b)},async provideDocumentRangeSemanticTokens(y,b,T,k){return await k(y,b,T)},async provideDocumentHighlights(y,b,T,k){return await k(y,b,T)},async provideInlayHints(y,b,T,k){return await k(y,b,T)}}},u=new $Te.LanguageClient("Omnisharp Server",s,c);await u.setTrace(yz.Trace.Verbose);let l=u._features;function d(y){let b=l.findIndex(T=>T instanceof y);b>-1&&l.splice(b,1)}d(t0e.CallHierarchyFeature),d(GTe.ColorProviderFeature),d(YTe.DeclarationFeature),d(QTe.DiagnosticFeature),d(JTe.DocumentLinkFeature),d(XTe.InlineValueFeature),d(ZTe.NotebookDocumentSyncFeature),d(VTe.SelectionRangeFeature),d(e0e.TypeHierarchyFeature),d(KTe.WorkspaceFoldersFeature);let f=this.createInteropFeature(u);return u.registerFeature(f),this.client=u,this.disposables.add(u),this.context.subscriptions.push(u),this.eventStream.post(new FP(o.hostVersion??"",o.hostPath,o.hostKind==="Mono .NET Framework",o.hostPath??o.path,-1)),this.client.start()}async registerProviders(e,t,n,i,o){return new fo}async stop(){return this.client?.stop()}async waitForInitialize(){if(this.client===void 0)throw new Error("LSP Client not started.");return this._initializeTask===void 0&&(this._initializeTask=e(this.client)),this._initializeTask;async function e(t){let n=new yz.RequestType("o#/checkreadystatus");for(;!await t.sendRequest(n,{});)await new Promise(i=>(0,WTe.setTimeout)(i,100))}}dispose(){this.disposables.dispose()}async makeRequest(e,t,n){if(t?.Buffer&&delete t.Buffer,this.client===void 0)throw new Error("Request made before client was started.");await this.waitForInitialize();let i=0,o;for(;i<5;)try{return await this.client.sendRequest(`o#/${e}`.replace(/\/\//g,"/").toLowerCase(),t||{},n??new LC.CancellationTokenSource().token)}catch(s){i<5&&o?.code===-32801?i++:o=s}throw console.error(o),o}addListener(e,t){let n=`o#/${e}`.replace(/\/\//g,"/").toLowerCase();return this.eventBus.addListener(n,t),new Xl(()=>this.eventBus.removeListener(n,t))}createInteropFeature=e=>({getState(){return{kind:"workspace",id:"omnisharpProtocolInteropFeature",registrations:!0}},clear(){},fillClientCapabilities(t){},initialize:(t,n)=>{e.onNotification("o#/log",i=>{let o=i.Body;this.eventStream.post(new qP(o.LogLevel,o.Name,o.Message))});for(let i of Object.values(Go)){if(typeof i!="string")continue;let o=`o#/${i}`.replace(/\/\//g,"/").toLowerCase();e.onNotification(o,s=>{this.eventBus.emit(i,s)})}}})};var P0e=require("child_process"),R0e=require("readline");var r0e=[Ai.ChangeBuffer,Ai.FormatAfterKeystroke,Ai.FormatRange,Ai.UpdateBuffer],n0e=[Ai.Completion,Ai.CompletionResolve,Ai.FilesChanged,Ai.FindSymbols,Ai.FindUsages,Ai.GetCodeActions,Ds.Requests.GoToDefinition,Ai.RunCodeAction,Ai.SignatureHelp,Ai.TypeLookup,Ai.GoToTypeDefinition],jlt=new Set(r0e),zlt=new Set(n0e);var i0e=new Set;for(let r of r0e)i0e.add(r);for(let r of n0e)i0e.add(r);function o0e(r){return jlt.has(r)}function s0e(r){return zlt.has(r)}var tA=class{constructor(e,t,n,i){this._name=e;this._maxSize=t;this.eventStream=n;this._makeRequest=i}_pending=[];_waiting=new Map;enqueue(e){this.eventStream.post(new e2(this._name,e.command)),this._pending.push(e)}dequeue(e){let t=this._waiting.get(e);return t&&(this._waiting.delete(e),this.eventStream.post(new r1(this._name,"waiting",t.command,e))),t}cancelRequest(e){let t=this._pending.indexOf(e);t!==-1&&(this._pending.splice(t,1),this.eventStream.post(new r1(this._name,"pending",e.command))),e.id&&this.dequeue(e.id)}hasPending(){return this._pending.length>0}isFull(){return this._waiting.size>=this._maxSize}processPending(){if(this._pending.length===0)return;let e=this._maxSize-this._waiting.size;this.eventStream.post(new t2(this._name,e));for(let t=0;t<e&&this._pending.length>0;t++){let n=this._pending.shift();n.startTime=Date.now();let i=this._makeRequest(n);if(this._waiting.set(i,n),this.isFull())break}this.eventStream.post(new S2)}},bz=class{_isProcessing;_priorityQueue;_normalQueue;_deferredQueue;constructor(e,t,n){this._isProcessing=!1,this._priorityQueue=new tA("Priority",1,e,n),this._normalQueue=new tA("Normal",t,e,n),this._deferredQueue=new tA("Deferred",Math.max(Math.floor(t/4),2),e,n)}getQueue(e){return o0e(e)?this._priorityQueue:s0e(e)?this._normalQueue:this._deferredQueue}isEmpty(){return!this._deferredQueue.hasPending()&&!this._normalQueue.hasPending()&&!this._priorityQueue.hasPending()}enqueue(e){this.getQueue(e.command).enqueue(e),this.drain()}dequeue(e,t){return this.getQueue(e).dequeue(t)}cancelRequest(e){this.getQueue(e.command).cancelRequest(e)}drain(){if(this._isProcessing||this._priorityQueue.isFull()||this._normalQueue.isFull()&&this._deferredQueue.isFull())return!1;if(this._isProcessing=!0,this._priorityQueue.hasPending()){this._priorityQueue.processPending(),this._isProcessing=!1;return}this._normalQueue.hasPending()&&this._normalQueue.processPending(),this._deferredQueue.hasPending()&&this._deferredQueue.processPending(),this._isProcessing=!1}};var wX=require("timers");var a0e=be(require("node:buffer"));function c0e(r){return r[0]===239&&r[1]===187&&r[2]===191&&a0e.isUtf8(r)?r.subarray(3):r}function u0e(r){return r=r.trim(),r.charCodeAt(0)===65279?r.slice(1):r}var rA=require("vscode"),nA=class{scheme="omnisharp-metadata";_registration;_documents;_documentClosedSubscription;constructor(){this._documents=new Map,this._documentClosedSubscription=rA.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this)}onTextDocumentClosed(e){this._documents.delete(e.uri.toString())}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._documents.clear()}addMetadataResponse(e){let t=this.createUri(e.SourceName);return this._documents.set(t.toString(),e),t}getExistingMetadataResponseUri(e){return this.createUri(e)}hasMetadataDocument(e){let t=this.createUri(e);return this._documents.has(t.toString())}register(){this._registration=rA.workspace.registerTextDocumentContentProvider(this.scheme,this)}provideTextDocumentContent(e){return this._documents.get(e.toString())?.Source}createUri(e){return rA.Uri.parse(this.scheme+"://"+e.replace(/\\/g,"/").replace(/(.*)\/(.*)/g,"$1/[metadata] $2"))}};var Nw=require("vscode");var iA=class{constructor(e){this.server=e;this._documents=new Map,this._uriToDocumentInfo=new Map,this._documentClosedSubscription=Nw.workspace.onDidCloseTextDocument(this.onTextDocumentClosed,this),this._visibleTextEditorsChangedSubscription=Nw.window.onDidChangeVisibleTextEditors(this.onVisibleTextEditorsChanged,this),this._onDidChangeEmitter=new Nw.EventEmitter,this.onDidChange=this._onDidChangeEmitter.event}scheme="omnisharp-source-generated";_registration;_documents;_uriToDocumentInfo;_documentClosedSubscription;_visibleTextEditorsChangedSubscription;_onDidChangeEmitter;onDidChange;async onTextDocumentClosed(e){let t=e.uri.toString(),n=this._uriToDocumentInfo.get(t);n!==void 0&&(this._documents.delete(n),this._uriToDocumentInfo.delete(t),await Zye(this.server,n))}async onVisibleTextEditorsChanged(e){for(let t of e){let n=t.document.uri,i=n.toString(),o=this._uriToDocumentInfo.get(i);if(o!==void 0)try{let s=this._documents.get(o);if(s===void 0)continue;let a=await Qye(this.server,o);switch(a.UpdateType){case 1:s.Source="Document is no longer being generated.";break;case 2:s.Source=a.Source;break;case 0:continue}this._onDidChangeEmitter.fire(n)}catch{continue}}}register(){this._registration=Nw.workspace.registerTextDocumentContentProvider(this.scheme,this)}dispose(){this._registration?.dispose(),this._documentClosedSubscription.dispose(),this._visibleTextEditorsChangedSubscription.dispose(),this._documents.clear()}addSourceGeneratedFileWithoutInitialContent(e,t){let n=this._documents.get(e);if(n!==void 0)return this.getUriForName(n.SourceName);let i=this.getUriForName(t),o=i.toString();return this._documents.delete(e),this._uriToDocumentInfo.set(o,e),i}async provideTextDocumentContent(e,t){let n=this._uriToDocumentInfo.get(e.toString());if(n===void 0)return;let i=this._documents.get(n);return i===void 0&&(i=await Xye(this.server,n,t),this._documents.set(n,i)),i.Source}getUriForName(e){return Nw.Uri.parse(this.scheme+":///"+e)}};var Ma=be(require("vscode"));var DR=be(require("vscode"));var Hf=be(require("vscode"));function SR(r){let e=Hf.Uri.file(r.FileName);return aX(e,r)}function aX(r,e){let t=new Hf.Position(e.Line,e.Column),n=e.EndLine,i=e.EndColumn;if(n!==void 0&&i!==void 0){let o=new Hf.Position(n,i);return new Hf.Location(r,new Hf.Range(t,o))}return new Hf.Location(r,t)}function d0e(r){return new Hf.Location(Hf.Uri.file(r.FileName),NC(r.Range))}function CR(r){let{Line:e,Column:t,EndLine:n,EndColumn:i}=r;return cX(e,t,n,i)}function oA(r){let{StartLine:e,StartColumn:t,EndLine:n,EndColumn:i}=r;return cX(e,t,n,i)}function NC(r){return cX(r.Start.Line,r.Start.Column,r.End.Line,r.End.Column)}function cX(r,e,t,n){return new Hf.Range(r,e,t,n)}function f0e(r){return{Start:l0e(r.start),End:l0e(r.end)}}function l0e(r){return{Line:r.line,Column:r.character}}function p0e(r){return new Hf.Position(r.Line,r.Column)}function h0e(r){return new Hf.TextEdit(oA(r),r.NewText)}function gl(r,e,t=!1){return{FileName:r.uri.scheme==="omnisharp-metadata"?`${r.uri.authority}${r.fileName.replace("[metadata] ","")}`:r.fileName,Buffer:t?r.getText():void 0,Line:e.line,Column:e.character}}var Gi=class{_server;_languageMiddlewareFeature;_disposables;constructor(e,t){this._server=e,this._languageMiddlewareFeature=t,this._disposables=new fo}addDisposables(e){this._disposables.add(e)}dispose=()=>{this._disposables.dispose()}};var Hlt=Ds.Structure,sA=Ds.SymbolKinds,m0e=Ds.SymbolPropertyNames,uX=Ds.SymbolRangeNames,_z=class extends DR.CodeLens{constructor(t,n){super(new DR.Range(t.Start.Line,t.Start.Column,t.End.Line,t.End.Column));this.fileName=n}},wz=class extends _z{constructor(e,t){super(e,t)}},Sz=class extends _z{constructor(t,n,i,o,s,a){super(t,n);this.displayName=i;this.isTestContainer=o;this.testFramework=s;this.testMethodNames=a}},aA=class extends Sz{constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},cA=class extends Sz{constructor(e,t,n,i,o,s){super(e,t,n,i,o,s)}},uA=class extends Gi{constructor(e,t,n){super(e,n)}async provideCodeLenses(e,t){if(!Nr.showReferencesCodeLens&&!Nr.showTestsCodeLens)return[];try{let n=await yq(this._server,{FileName:e.fileName},t);if(n&&n.Elements)return Wlt(n.Elements,e.fileName)}catch{}return[]}async resolveCodeLens(e,t){if(e instanceof wz)return this.resolveReferencesCodeLens(e,t);if(e instanceof aA)return this.resolveTestCodeLens(e,"Run Test","dotnet.test.run","Run All Tests","dotnet.classTests.run");if(e instanceof cA)return this.resolveTestCodeLens(e,"Debug Test","dotnet.test.debug","Debug All Tests","dotnet.classTests.debug")}async resolveReferencesCodeLens(e,t){let n={FileName:e.fileName,Line:e.range.start.line,Column:e.range.start.character,OnlyThisFile:!1,ExcludeDefinition:!0};try{let i=await AP(this._server,n,t);if(!i||!i.QuickFixes)return;let o=i.QuickFixes,s=o.length,a=o.map(SR),c=await this._languageMiddlewareFeature.remap("remapLocations",a,t);return e.command={title:s===1?"1 reference":`${s} references`,command:"editor.action.showReferences",arguments:[DR.Uri.file(e.fileName),e.range.start,c]},e}catch{return}}async resolveTestCodeLens(e,t,n,i,o){if(!e.isTestContainer)return e.command={title:t,command:n,arguments:[e.testMethodNames[0],e.fileName,e.testFramework]},e;let s;try{s=await Zk(this._server,{FileName:e.fileName})}catch{return}return s.MsBuildProject&&(e.command={title:i,command:o,arguments:[e.displayName,e.testMethodNames,e.fileName,e.testFramework]}),e}};function Wlt(r,e){let t=[];return Hlt.walkCodeElements(r,n=>{let i=Blt(n,e);t.push(...i)}),t}function Blt(r,e){let t=[];if(Nr.showReferencesCodeLens&&Vlt(r)){let n=r.Ranges[uX.Name];n&&t.push(new wz(n,e))}if(Nr.showTestsCodeLens){if(r.Kind===sA.Method){let n=g0e(r);if(n!==void 0){let i=r.Ranges[uX.Name];i!==void 0&&(t.push(new aA(i,e,r.DisplayName,!1,n.framework,[n.methodName])),t.push(new cA(i,e,r.DisplayName,!1,n.framework,[n.methodName])))}}else if(r.Kind===sA.Class&&r.Children!==void 0){let i=r.Children.filter(s=>s.Kind===sA.Method).map(s=>g0e(s)).filter(s=>s!==void 0),o=i.length>0?i[0].framework:void 0;if(o!==void 0){let s=i.filter(c=>c.framework===o).map(c=>c.methodName),a=r.Ranges[uX.Name];t.push(new aA(a,e,r.DisplayName,!0,o,s)),t.push(new cA(a,e,r.DisplayName,!0,o,s))}}}return t}var $lt={Equals:!0,Finalize:!0,GetHashCode:!0,ToString:!0,Dispose:!0,GetEnumerator:!0};function Vlt(r){return!(r.Kind===sA.Namespace||r.Kind===sA.Method&&$lt[r.Name]||Nr.filteredSymbolsCodeLens.includes(r.Name))}function g0e(r){if(r.Properties===void 0)return;let e=r.Properties[m0e.TestFramework],t=r.Properties[m0e.TestMethodName];if(!(e===void 0||t===void 0))return{framework:e,methodName:t}}var Cz=require("vscode"),lA=class r extends Gi{async provideDocumentHighlights(e,t,n){let i=gl(e,t);i.OnlyThisFile=!0,i.ExcludeDefinition=!1;try{let o=await AP(this._server,i,n);if(o&&Array.isArray(o.QuickFixes))return o.QuickFixes.map(r._asDocumentHighlight)}catch{}return[]}static _asDocumentHighlight(e){return new Cz.DocumentHighlight(CR(e),Cz.DocumentHighlightKind.Read)}};var Vu=be(require("vscode"));var Ko=Ds.SymbolKinds,v0e=Ds.SymbolRangeNames,dA=class extends Gi{async provideDocumentSymbols(e,t){try{let n=await yq(this._server,{FileName:e.fileName},t);return n&&n.Elements?y0e(n.Elements):[]}catch{return[]}}};function y0e(r,e){let t=[];return r.forEach(n=>{let i=Klt(n,e);n.Children&&(i.children=y0e(n.Children,n)),t.push(i)}),t}function Glt(r,e){switch(r.Kind){case Ko.Class:case Ko.Delegate:case Ko.Enum:case Ko.Interface:case Ko.Struct:return r.Name;case Ko.Namespace:return typeof e<"u"&&r.DisplayName.startsWith(`${e.DisplayName}.`)?r.DisplayName.slice(e.DisplayName.length+1):r.DisplayName;case Ko.Constant:case Ko.Constructor:case Ko.Destructor:case Ko.EnumMember:case Ko.Event:case Ko.Field:case Ko.Indexer:case Ko.Method:case Ko.Operator:case Ko.Property:case Ko.Unknown:default:return r.DisplayName}}function Klt(r,e){let t=r.Ranges[v0e.Full],n=r.Ranges[v0e.Name],i=Glt(r,e),o=i===r.DisplayName?"":r.DisplayName;return new Vu.DocumentSymbol(i,o,Ylt(r.Kind),NC(t),NC(n))}var Wd={};Wd[Ko.Class]=Vu.SymbolKind.Class;Wd[Ko.Delegate]=Vu.SymbolKind.Class;Wd[Ko.Enum]=Vu.SymbolKind.Enum;Wd[Ko.Interface]=Vu.SymbolKind.Interface;Wd[Ko.Struct]=Vu.SymbolKind.Struct;Wd[Ko.Constant]=Vu.SymbolKind.Constant;Wd[Ko.Destructor]=Vu.SymbolKind.Method;Wd[Ko.EnumMember]=Vu.SymbolKind.EnumMember;Wd[Ko.Event]=Vu.SymbolKind.Event;Wd[Ko.Field]=Vu.SymbolKind.Field;Wd[Ko.Indexer]=Vu.SymbolKind.Property;Wd[Ko.Method]=Vu.SymbolKind.Method;Wd[Ko.Operator]=Vu.SymbolKind.Operator;Wd[Ko.Property]=Vu.SymbolKind.Property;Wd[Ko.Namespace]=Vu.SymbolKind.Namespace;Wd[Ko.Unknown]=Vu.SymbolKind.Class;function Ylt(r){return r==="constructor"?Vu.SymbolKind.Constructor:Wd[r]}var Dz=require("vscode"),fA=class extends Gi{async provideHover(e,t,n){let i=gl(e,t);try{let o=await pbe(this._server,i,n);if(!o||!o.Markdown)return;let s=new Dz.MarkdownString;return s.appendMarkdown(o.Markdown),new Dz.Hover(s)}catch{return}}};var TR=require("vscode"),pA=class extends Gi{async provideRenameEdits(e,t,n,i){let o=gl(e,t);o.WantsTextChanges=!0,o.RenameTo=n,o.ApplyTextChanges=!1;try{let s=await ebe(this._server,o,i);if(!s)return;let a=new TR.WorkspaceEdit;return s.Changes.forEach(u=>{let l=TR.Uri.file(u.FileName);u.Changes.forEach(d=>{a.replace(l,new TR.Range(d.StartLine,d.StartColumn,d.EndLine,d.EndColumn),d.NewText)})}),await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",a,i)}catch{return}}};var Tz=require("vscode"),PR=class r extends Gi{async provideDocumentRangeFormattingEdits(e,t,n,i){let o={FileName:e.fileName,Line:t.start.line,Column:t.start.character,EndLine:t.end.line,EndColumn:t.end.character};try{let s=await Gye(this._server,o,i);if(s&&Array.isArray(s.Changes))return s.Changes.map(r._asEditOptionation)}catch{}return[]}async provideOnTypeFormattingEdits(e,t,n,i,o){let s={FileName:e.fileName,Line:t.line,Column:t.character,Character:n};try{let a=await Vye(this._server,s,o);if(a&&Array.isArray(a.Changes))return a.Changes.map(r._asEditOptionation)}catch{}return[]}static _asEditOptionation(e){return new Tz.TextEdit(new Tz.Range(e.StartLine,e.StartColumn,e.EndLine,e.EndColumn),e.NewText)}};var Bd=require("vscode");var hA=class r extends Gi{constructor(t,n,i){super(t,n);this.sourceGeneratedDocumentProvider=i}async provideWorkspaceSymbols(t,n){let i=Nr.minFindSymbolsFilterLength,o=Nr.maxFindSymbolsItems,s=i>0?i:void 0,a=o>0?o:void 0;if(s!==void 0&&t.length<s)return[];try{let c=await Wye(this._server,{Filter:t,MaxItemsToReturn:a},n);if(Array.isArray(c?.QuickFixes))return c.QuickFixes.map(u=>this._asSymbolInformation(u))}catch{}return[]}_asSymbolInformation(t){let n;t.GeneratedFileInfo?n=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName):n=Bd.Uri.file(t.FileName);let i=new Bd.Location(n,CR(t));return new Bd.SymbolInformation(t.Text,r._toKind(t),t.ContainingSymbolName??"",i)}static _toKind(t){switch(t.Kind){case"Method":return Bd.SymbolKind.Method;case"Field":return Bd.SymbolKind.Field;case"Property":return Bd.SymbolKind.Property;case"Interface":return Bd.SymbolKind.Interface;case"Enum":return Bd.SymbolKind.Enum;case"Struct":return Bd.SymbolKind.Struct;case"Event":return Bd.SymbolKind.Event;case"EnumMember":return Bd.SymbolKind.EnumMember;case"Class":return Bd.SymbolKind.Class;default:return Bd.SymbolKind.Class}}};var RR=require("vscode"),b0e=require("vscode"),mA=class extends Gi{async provideSignatureHelp(e,t,n){let i=gl(e,t);try{let o=await rbe(this._server,i,n);if(!o)return;let s=new RR.SignatureHelp;s.activeSignature=o.ActiveSignature,s.activeParameter=o.ActiveParameter;for(let a of o.Signatures){let c=new RR.SignatureInformation(a.Label,a.StructuredDocumentation.SummaryText);s.signatures.push(c);for(let u of a.Parameters){let l=new RR.ParameterInformation(u.Label,this.GetParameterDocumentation(u));c.parameters.push(l)}}return s}catch{return}}GetParameterDocumentation(e){let t=e.Documentation;if(t.length>0){let n=`**${e.Name}**: ${t}`;return new b0e.MarkdownString(n)}return""}};var Kh=be(require("vscode"));var Qm=be(require("vscode"));async function Pz(r,e,t){let n=new Qm.WorkspaceEdit,i;if(!r||!Array.isArray(r)||!r.length)return!0;for(let s of r)if(s.ModificationType==1&&(i=Qm.Uri.file(s.FileName)),s.ModificationType==0){let a=s,c=Qm.Uri.file(a.FileName),u=[];for(let l of a.Changes)u.push(Qm.TextEdit.replace(oA(l),l.NewText));n.set(c,u)}for(let s of r)if(s.ModificationType==2){let a=s;n.renameFile(Qm.Uri.file(a.FileName),Qm.Uri.file(a.NewFileName))}n=await e.remap("remapWorkspaceEdit",n,t);let o=Qm.workspace.applyEdit(n);return i!==void 0?o.then(s=>Qm.commands.executeCommand("vscode.open",i)):o}var _0e=be(Wu());var gA=class r extends Gi{constructor(t,n){super(t,n);this.server=t;let i=new fo;i.add(Kh.commands.registerCommand("o.fixAll.solution",async()=>this.fixAllMenu(t,"Solution"))),i.add(Kh.commands.registerCommand("o.fixAll.project",async()=>this.fixAllMenu(t,"Project"))),i.add(Kh.commands.registerCommand("o.fixAll.document",async()=>this.fixAllMenu(t,"Document"))),this.addDisposables(i)}static fixAllCodeActionKind=Kh.CodeActionKind.SourceFixAll.append("csharp");static metadata={providedCodeActionKinds:[r.fixAllCodeActionKind]};async provideCodeActions(t,n,i,o){return console.log(i),i.only?(i.only.contains(r.fixAllCodeActionKind)&&await this.applyFixes(t.fileName,"Document",void 0),[]):[]}async fixAllMenu(t,n){let i=Kh.window.activeTextEditor?.document.fileName;if(i===void 0){Hp(Kh,Kh.l10n.t("Text editor must be focused to fix all issues"));return}let s=(await $ye(t,{FileName:i,Scope:n})).Items.map(l=>`${l.Id}: ${l.Message}`),a=Kh.l10n.t("Fix all issues");n==="Document"&&(s=[a,...s]);let c=await Kh.window.showQuickPick(s,{matchOnDescription:!0,placeHolder:Kh.l10n.t("Select fix all action")});if(c===void 0)return;let u;if(c!==a){let l=c.split(":");u=[{Id:l[0],Message:l[1]}]}await this.applyFixes(i,n,u)}async applyFixes(t,n,i){let o=await Bye(this.server,{FileName:t,Scope:n,FixAllFilter:i,WantsAllCodeActionOperations:!0,WantsTextChanges:!0,ApplyChanges:!1});o&&await Pz(o.Changes,this._languageMiddlewareFeature,_0e.CancellationToken.None)}};var Ac=require("vscode");var C0e=be(Wu()),D0e=be(Jr());var xR=require("vscode");async function Qlt(r,e){for(let t=0;t<xR.workspace.textDocuments.length;t++){let n=xR.workspace.textDocuments[t];Rz(n,r)||await w0e(n,r,e)}}function Zb(r){return!(r.languageId!=="csharp"||r.uri.scheme==="virtualCSharp-"||!r.uri.scheme.startsWith("virtualCSharp-"))}function Zlt(r,e){let t=xR.workspace.onDidOpenTextDocument(async o=>{Rz(o,r)||await w0e(o,r,e)}),n=xR.workspace.onDidChangeTextDocument(async o=>{let s=o.document;Rz(s,r)||await S0e(s,r,e)}),i=xR.workspace.onDidCloseTextDocument(async o=>{Rz(o,r)||await edt(o,r,e)});return new fo(t,i,n)}function Rz(r,e){return!Zb(r)||!e.isRunning()}async function w0e(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Create"};try{await kP(e,[i]),await S0e(r,e,t)}catch(o){lX(r.uri,o,e,t)}}async function S0e(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);try{await MP(e,{Buffer:r.getText(),FileName:r.fileName})}catch(i){lX(r.uri,i,e,t)}}async function edt(r,e,t){let n=r.uri.fsPath;n||(n=r.uri.path);let i={FileName:n,changeType:"Delete"};try{await kP(e,[i])}catch(o){lX(r.uri,o,e,t)}}function lX(r,e,t,n){t.isRunning()&&n.post(new f2(r.path,e))}function dX(r,e){return Qlt(r,e).catch(n=>{throw new Error(`Failed to track current virtual documents: ${n}`)}),Zlt(r,e)}var fX="csharp.completion.afterInsert",vA=class extends Gi{#t;constructor(e,t){super(e,t)}async provideCompletionItems(e,t,n,i){let o=gl(e,t);o.CompletionTrigger=i.triggerKind+1,o.TriggerCharacter=i.triggerCharacter;try{let s=await hbe(this._server,o,n),a=s.Items.map(u=>this._convertToVscodeCompletionItem(u,e));Zb(e)&&(a=a.filter(u=>u.label.label!=="await"||!u.additionalTextEdits));let c=new Map;for(let u=0;u<a.length;u++)c.set(a[u],s.Items[u]);return this.#t=c,{items:a}}catch{return}}async resolveCompletionItem(e,t){let n=this.#t;if(!n)return e;let i=n.get(e);if(!i)return e;let o={Item:i};try{let s=await mbe(this._server,o,t);return this._convertToVscodeCompletionItem(s.Item,e.command?.arguments?.[1])}catch{return e}}async afterInsert(e,t){try{let n=t.uri,i=await gbe(this._server,{Item:e});if(!i.Changes||!i.Column||!i.Line)return;let o=new Ac.WorkspaceEdit;if(o.set(n,i.Changes.map(u=>({newText:u.NewText,range:new Ac.Range(new Ac.Position(u.StartLine,u.StartColumn),new Ac.Position(u.EndLine,u.EndColumn))}))),o=await this._languageMiddlewareFeature.remap("remapWorkspaceEdit",o,C0e.CancellationToken.None),!await Ac.workspace.applyEdit(o))return;let a=Ac.window.visibleTextEditors.find(u=>u.document===t);if(a===void 0)return;let c=new Ac.Position(i.Line,i.Column);a.selections=[new Ac.Selection(c,c)]}catch{return}}_convertToVscodeCompletionItem(e,t){let n=e.Documentation?new Ac.MarkdownString(e.Documentation,!1):void 0,i=function(l){let d=new Ac.Position(l.StartLine,l.StartColumn),f=new Ac.Position(l.EndLine,l.EndColumn);return new Ac.Range(d,f)},o=function(l){return new Ac.TextEdit(i(l),l.NewText)},s=e.AdditionalTextEdits?.map(o),a=e.TextEdit?.NewText??e.InsertText,c=e.InsertTextFormat===D0e.InsertTextFormat.Snippet?new Ac.SnippetString(a):a,u=e.TextEdit?i(e.TextEdit):void 0;return{label:{label:e.Label,description:e.Detail},kind:e.Kind-1,documentation:n,commitCharacters:e.CommitCharacters,preselect:e.Preselect,filterText:e.FilterText,insertText:c,range:u,tags:e.Tags,sortText:e.SortText,additionalTextEdits:s,keepWhitespace:!0,command:e.HasAfterInsertStep?{command:fX,title:"",arguments:[e,t]}:void 0}}};var yA=class extends Gi{constructor(t,n,i){super(t,n);this.generatedDocumentProvider=i}async provideReferences(t,n,i,o){let s=gl(t,n);s.OnlyThisFile=!1,s.ExcludeDefinition=!0;try{let a=await AP(this._server,s,o);if(a&&Array.isArray(a.QuickFixes)){let c=a.QuickFixes.map(l=>this.mapToLocationWithGeneratedInfoPopulation(l));return await this._languageMiddlewareFeature.remap("remapLocations",c,o)}}catch{}return[]}mapToLocationWithGeneratedInfoPopulation(t){if(t.GeneratedFileInfo){let n=this.generatedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(t.GeneratedFileInfo,t.FileName);return aX(n,t)}return SR(t)}};var bA=class extends Gi{async provideImplementation(e,t,n){let i=gl(e,t);try{let s=(await Hye(this._server,i,n))?.QuickFixes?.map(c=>SR(c))??[];return await this._languageMiddlewareFeature.remap("remapLocations",s,n)}catch{}}};var ER=be(require("vscode")),sc=be(Jr());var _A=class extends Gi{constructor(e,t){super(e,t)}getLegend(){return new ER.SemanticTokensLegend(jn,FC)}async provideDocumentSemanticTokens(e,t){return this._provideSemanticTokens(e,void 0,t)}async provideDocumentRangeSemanticTokens(e,t,n){let i={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}};return this._provideSemanticTokens(e,i,n)}async _provideSemanticTokens(e,t,n){if(e.uri.scheme!=="file"||!Nr.useSemanticHighlighting)return null;let i=gl(e,new ER.Position(0,0));i.Range=t;let o=e.version,s=await fbe(this._server,i),a=e.version;if(o!==a)throw new Error("busy");let c=new ER.SemanticTokensBuilder;for(let u of s.Spans){let l=an[u.Type];if(l===void 0)continue;let d=u.Modifiers.reduce((y,b)=>y+T0e[b],0);u.Type===26&&(d+=2**6);let f=oA(u);for(let y=f.start.line;y<=f.end.line;y++){let b=y===f.start.line?f.start.character:0,T=y===f.end.line?f.end.character:e.lineAt(y).text.length;c.push(y,b,T-b,l,d)}}return c.build()}},jn=[];jn[0]=sc.SemanticTokenTypes.comment;jn[1]=sc.SemanticTokenTypes.string;jn[2]=sc.SemanticTokenTypes.keyword;jn[3]=sc.SemanticTokenTypes.number;jn[4]=sc.SemanticTokenTypes.regexp;jn[5]=sc.SemanticTokenTypes.operator;jn[6]=sc.SemanticTokenTypes.namespace;jn[7]=sc.SemanticTokenTypes.type;jn[8]=sc.SemanticTokenTypes.struct;jn[9]=sc.SemanticTokenTypes.class;jn[10]=sc.SemanticTokenTypes.interface;jn[11]=sc.SemanticTokenTypes.enum;jn[12]=sc.SemanticTokenTypes.typeParameter;jn[13]=sc.SemanticTokenTypes.function;jn[14]=sc.SemanticTokenTypes.method;jn[15]=sc.SemanticTokenTypes.macro;jn[16]=sc.SemanticTokenTypes.variable;jn[17]=sc.SemanticTokenTypes.parameter;jn[18]=sc.SemanticTokenTypes.property;jn[19]=sc.SemanticTokenTypes.enumMember;jn[20]=sc.SemanticTokenTypes.event;jn[21]="label";jn[22]="controlKeyword";jn[23]="operatorOverloaded";jn[24]=sc.SemanticTokenTypes.macro;jn[25]="preprocessorText";jn[26]="excludedCode";jn[27]="punctuation";jn[28]="stringVerbatim";jn[29]="stringEscapeCharacter";jn[30]="delegate";jn[31]="module";jn[32]="extensionMethod";jn[33]="field";jn[34]=sc.SemanticTokenTypes.variable;jn[35]="xmlDocCommentAttributeName";jn[36]="xmlDocCommentAttributeQuotes";jn[37]="xmlDocCommentAttributeValue";jn[38]="xmlDocCommentCDataSection";jn[39]="xmlDocCommentComment";jn[40]="xmlDocCommentDelimiter";jn[41]="xmlDocCommentEntityReference";jn[42]="xmlDocCommentName";jn[43]="xmlDocCommentProcessingInstruction";jn[44]="xmlDocCommentText";jn[45]="regexComment";jn[46]="regexCharacterClass";jn[47]="regexAnchor";jn[48]="regexQuantifier";jn[49]="regexGrouping";jn[50]="regexAlternation";jn[51]="regexText";jn[52]="regexSelfEscapedCharacter";var FC=[];FC[0]="declaration";FC[1]="static";FC[2]="abstract";FC[3]="deprecated";FC[4]="modification";FC[5]="async";FC[6]="readonly";var an=[];an[0]=0;an[1]=26;an[2]=16;an[3]=2;an[4]=22;an[5]=3;an[6]=5;an[7]=23;an[8]=24;an[9]=1;an[10]=void 0;an[11]=void 0;an[12]=void 0;an[13]=25;an[14]=27;an[15]=28;an[16]=29;an[17]=9;an[18]=30;an[19]=11;an[20]=10;an[21]=31;an[22]=8;an[23]=12;an[24]=33;an[25]=19;an[26]=16;an[27]=34;an[28]=17;an[29]=14;an[30]=32;an[31]=18;an[32]=20;an[33]=6;an[34]=21;an[35]=35;an[36]=36;an[37]=37;an[38]=38;an[39]=39;an[40]=40;an[41]=41;an[42]=42;an[43]=43;an[44]=44;an[45]=void 0;an[46]=void 0;an[47]=void 0;an[48]=void 0;an[49]=void 0;an[50]=void 0;an[51]=void 0;an[52]=void 0;an[53]=void 0;an[54]=void 0;an[55]=void 0;an[56]=45;an[57]=46;an[58]=47;an[59]=48;an[60]=49;an[61]=50;an[62]=4;an[63]=51;an[64]=52;var T0e=[];T0e[0]=2**1;var OR=be(require("vscode"));var wA=class extends Gi{_onDidChangeInlayHints=new OR.EventEmitter;onDidChangeInlayHints=this._onDidChangeInlayHints.event;_hintsMap=new Map;constructor(e,t){super(e,t),this.addDisposables(new fo(this._onDidChangeInlayHints,OR.workspace.onDidChangeTextDocument(n=>{n.document.languageId==="csharp"&&this._onDidChangeInlayHints.fire()})))}async provideInlayHints(e,t,n){if(e.uri.scheme!=="file")return[];if(Zb(e))return[];let i={Location:{FileName:e.fileName,Range:f0e(t)}};try{return(await _be(this._server,i,n)).InlayHints.map(s=>{let a=this.toVSCodeHint(s);return this._hintsMap.set(a,s),a})}catch(o){return Promise.reject(new Error(`Problem invoking 'GetInlayHints' on OmniSharpServer: ${o}`))}}async resolveInlayHint(e,t){let n=this._hintsMap.get(e);if(n===void 0)return Promise.reject(new Error("Outdated inlay hint was requested to be resolved, aborting."));let i={Hint:n};try{let o=await wbe(this._server,i,t);return this.toVSCodeHint(o)}catch(o){return Promise.reject(new Error(`Problem invoking 'ResolveInlayHints' on OmniSharpServer: ${o}`))}}toVSCodeHint(e){return{label:e.Label,position:p0e(e.Position),tooltip:new OR.MarkdownString(e.Tooltip??""),textEdits:t(e.TextEdits)};function t(n){return n?.map(h0e)??void 0}}};var qC=be(require("vscode"));function mX(r){return new hX(r)}var hX=class{_server;_diagnostics;_disposable;constructor(e){this._server=e,this._diagnostics=qC.languages.createDiagnosticCollection("csharp"),setTimeout(async()=>{for(let t of qC.window.visibleTextEditors){let n=t.document;await this._onDocumentOpen(n)}},0),this._disposable=new fo(this._diagnostics,qC.workspace.onDidOpenTextDocument(this._onDocumentOpen,this),qC.workspace.onDidCloseTextDocument(this._onDocumentClose,this),qC.window.onDidChangeActiveTextEditor(this._onActiveTextEditorChange,this))}async _onDocumentOpen(e){pX(e)||await vbe(this._server,{FileName:e.fileName})}async _onDocumentClose(e){pX(e)||await ybe(this._server,{FileName:e.fileName})}async _onActiveTextEditorChange(e){e===void 0||pX(e.document)||await MP(this._server,{FileName:e.document.fileName,Buffer:e.document.getText()})}dispose=()=>this._disposable.dispose()};function pX(r){return r.languageId!=="csharp"||r.uri.scheme!=="file"&&!Zb(r)}var e_=be(require("vscode"));var SA=class extends Gi{_commandId;constructor(e,t){super(e,t),this._commandId="omnisharp.runCodeAction";let n=e_.commands.registerCommand(this._commandId,this._runCodeAction,this);this.addDisposables(new fo(n))}async provideCodeActions(e,t,n,i){if(Nr.disableCodeActions)return;let o=t.start.line,s=t.start.character,a={FileName:e.fileName,Line:o,Column:s};t instanceof e_.Selection&&!t.isEmpty&&(a.Selection={Start:{Line:t.start.line,Column:t.start.character},End:{Line:t.end.line,Column:t.end.character}});try{return(await Kye(this._server,a,i)).CodeActions.map(u=>{let l={...a,Identifier:u.Identifier,WantsTextChanges:!0,WantsAllCodeActionOperations:!0,ApplyTextChanges:!1};return{title:u.Name,kind:this.mapOmniSharpCodeActionKindToVSCodeCodeActionKind(u.CodeActionKind),command:{title:u.Name,command:this._commandId,arguments:[l,i]}}})}catch(c){return Promise.reject(new Error(`Problem invoking 'GetCodeActions' on OmniSharp server: ${c}`))}}mapOmniSharpCodeActionKindToVSCodeCodeActionKind(e){switch(e){case"QuickFix":return e_.CodeActionKind.QuickFix;case"Refactor":return e_.CodeActionKind.Refactor;case"RefactorExtract":return e_.CodeActionKind.RefactorExtract;case"RefactorInline":return e_.CodeActionKind.RefactorInline;default:return e_.CodeActionKind.Empty}}async _runCodeAction(e,t){try{let n=await tbe(this._server,e);if(n)return Pz(n.Changes,this._languageMiddlewareFeature,t)}catch(n){return Promise.reject(new Error(`Problem invoking 'RunCodeAction' on OmniSharp server: ${n}`))}}};var xz=require("vscode");function tdt(r){return xz.workspace.onDidChangeTextDocument(e=>{let{document:t,contentChanges:n}=e;t.isUntitled||t.languageId!=="csharp"||t.uri.scheme!=="file"||n.length===0||r.isRunning()&&MP(r,{Buffer:t.getText(),FileName:t.fileName}).catch(i=>(console.error(i),i))})}function rdt(r){function e(u){return function(l){if(!r.isRunning())return;let d={FileName:l.fsPath,changeType:u};kP(r,[d]).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}function t(u){return async function(l){if(r.isRunning()&&u==="Delete"){let d=[{FileName:l.fsPath,changeType:"DirectoryDelete"}];kP(r,d).catch(f=>(console.warn(`[o] failed to forward file change event for ${l.fsPath}`,f),f))}}}let n=xz.workspace.createFileSystemWatcher("**/*.*"),i=n.onDidCreate(e("Create")),o=n.onDidDelete(e("Delete")),s=n.onDidChange(e("Change")),a=xz.workspace.createFileSystemWatcher("**/"),c=a.onDidDelete(t("Delete"));return new fo(n,i,o,s,a,c)}function gX(r){return new fo(tdt(r),rdt(r))}var Ez=require("vscode");var CA=class extends Gi{constructor(t,n,i,o){super(t,o);this.definitionMetadataDocumentProvider=n;this.sourceGeneratedDocumentProvider=i}async provideDefinition(t,n,i){let o=gl(t,n);o.WantMetadata=!0;try{let s=await Yye(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async provideTypeDefinition(t,n,i){let o=gl(t,n);o.WantMetadata=!0;try{let s=await Jye(this._server,o,i);return await this.GetLocationsFromResponse(s,i)}catch{return[]}}async GetLocationsFromResponse(t,n){let i=[];if(t&&t.Definitions)for(let o of t.Definitions)if(o.MetadataSource){let s=o.MetadataSource;if(o.Location.FileName.startsWith("$metadata$")&&this.definitionMetadataDocumentProvider.hasMetadataDocument(o.Location.FileName)){let l=this.definitionMetadataDocumentProvider.getExistingMetadataResponseUri(o.Location.FileName),d=NC(o.Location.Range);i.push(new Ez.Location(l,d));continue}let a=await nbe(this._server,{Timeout:5e3,AssemblyName:s.AssemblyName,VersionNumber:s.VersionNumber,ProjectName:s.ProjectName,Language:s.Language,TypeName:s.TypeName});if(!a||!a.Source||!a.SourceName)continue;let c=this.definitionMetadataDocumentProvider.addMetadataResponse(a),u=NC(o.Location.Range);i.push(new Ez.Location(c,u))}else if(o.SourceGeneratedFileInfo){let s=this.sourceGeneratedDocumentProvider.addSourceGeneratedFileWithoutInitialContent(o.SourceGeneratedFileInfo,o.Location.FileName);i.push(new Ez.Location(s,NC(o.Location.Range)))}else i.push(d0e(o.Location));return await this._languageMiddlewareFeature.remap("remapLocations",i,n)}};var fs=be(require("vscode"));var vX=be(cC()),yX=be(Bk());var Oz=class{_disposable;_server;_packageRestoreCounter=0;_projectSourceFileCounts=Object.create(null);constructor(e){this._server=e;let t=e.onProjectChange(this._onProjectChange,this),n=e.onProjectAdded(this._onProjectAdded,this),i=e.onProjectRemoved(this._onProjectRemoved,this),o=e.onBeforePackageRestore(this._onBeforePackageRestore,this),s=e.onPackageRestore(this._onPackageRestore,this);this._disposable=new fo(t,n,i,o,s)}dispose(){this._disposable.dispose()}shouldValidateFiles(){return this._isServerStarted()&&!this._isRestoringPackages()}shouldValidateAll(){return this._isServerStarted()&&!this._isRestoringPackages()&&!this._isOverFileLimit()}_updateProjectFileCount(e,t){this._projectSourceFileCounts[e]=t}_addOrUpdateProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&this._updateProjectFileCount(e.MsBuildProject.Path,e.MsBuildProject.SourceFiles.length)}_removeProjectFileCount(e){e.MsBuildProject&&e.MsBuildProject.SourceFiles&&delete this._projectSourceFileCounts[e.MsBuildProject.Path]}_onProjectAdded(e){this._addOrUpdateProjectFileCount(e)}_onProjectRemoved(e){this._removeProjectFileCount(e)}_onProjectChange(e){this._addOrUpdateProjectFileCount(e)}_onBeforePackageRestore(){this._packageRestoreCounter+=1}_onPackageRestore(){this._packageRestoreCounter-=1}_isRestoringPackages(){return this._packageRestoreCounter>0}_isServerStarted(){return this._server.isRunning()}_isOverFileLimit(){let e=Nr.maxProjectFileCountForDiagnosticAnalysis;if(e>0){let t=0;for(let n in this._projectSourceFileCounts)if(t+=this._projectSourceFileCounts[n],t>e)return!0}return!1}};function _X(r,e,t){return new bX(r,e,t)}var bX=class extends Gi{_validationAdvisor;_disposable;_diagnostics;_validateCurrentDocumentPipe=new vX.Subject;_validateAllPipe=new vX.Subject;_analyzersEnabled;_subscriptions=[];_suppressHiddenDiagnostics;constructor(e,t,n){super(e,n);let i=fs.workspace.getConfiguration("omnisharp").get("enableRoslynAnalyzers",!1),o=fs.workspace.getConfiguration("dotnet").get("server.useOmnisharp",!1),s=fs.workspace.getConfiguration("dotnet").get("backgroundAnalysis.analyzerDiagnosticsScope",o?"none":"openFiles")!="none";this._analyzersEnabled=i||s,this._validationAdvisor=t,this._diagnostics=fs.languages.createDiagnosticCollection("csharp"),this._suppressHiddenDiagnostics=fs.workspace.getConfiguration("csharp").get("suppressHiddenDiagnostics",!0),Nr.enableLspDriver||this._subscriptions.push(this._validateCurrentDocumentPipe.pipe((0,yX.debounceTime)(750)).subscribe(async a=>await this._validateDocument(a))),this._subscriptions.push(this._validateAllPipe.pipe((0,yX.debounceTime)(3e3)).subscribe(async()=>{this._validationAdvisor.shouldValidateAll()?await this._validateEntireWorkspace():this._validationAdvisor.shouldValidateFiles()&&await this._validateOpenDocuments()})),this._disposable=new fo(this._diagnostics,this._server.onPackageRestore(()=>this._validateAllPipe.next("onPackageRestore"),this),this._server.onProjectChange(()=>this._validateAllPipe.next("onProjectChanged"),this),this._server.onBackgroundDiagnosticStatus(this._onBackgroundAnalysis,this),fs.workspace.onDidOpenTextDocument(a=>this._onDocumentOpenOrChange(a),this),fs.workspace.onDidChangeTextDocument(a=>this._onDocumentOpenOrChange(a.document),this),fs.workspace.onDidCloseTextDocument(this._onDocumentClose,this),fs.window.onDidChangeActiveTextEditor(a=>this._onDidChangeActiveTextEditor(a),this),fs.window.onDidChangeWindowState(a=>this._OnDidChangeWindowState(a),this))}dispose=()=>{this._validateAllPipe.complete(),this._validateCurrentDocumentPipe.complete(),this._subscriptions.forEach(e=>e.unsubscribe()),this._disposable.dispose()};shouldIgnoreDocument(e){return e.languageId!=="csharp"||e.uri.scheme!=="file"&&!Zb(e)}_OnDidChangeWindowState(e){e.focused===!0&&this._onDidChangeActiveTextEditor(fs.window.activeTextEditor)}_onDidChangeActiveTextEditor(e){e!==void 0&&this._onDocumentOpenOrChange(e.document)}_onDocumentOpenOrChange(e){this.shouldIgnoreDocument(e)||(this._validateCurrentDocumentPipe.next(e),this._analyzersEnabled||this._validateAllPipe.next("onDocumentOpenOrChange"))}_onBackgroundAnalysis(e){e.Status==2&&e.NumberFilesRemaining===0&&this._validateAllPipe.next()}_onDocumentClose(e){this._diagnostics.has(e.uri)&&!this._validationAdvisor.shouldValidateAll()&&this._diagnostics.delete(e.uri)}async _validateDocument(e){if(!this._validationAdvisor.shouldValidateFiles()||Zb(e))return;let t=new fs.CancellationTokenSource;try{let i=(await Z8(this._server,{FileName:e.fileName},t.token)).QuickFixes;if(i.length===0){this._diagnostics.has(e.uri)&&this._diagnostics.delete(e.uri);return}if(!this._validationAdvisor.shouldValidateAll()&&fs.workspace.textDocuments.every(s=>s.uri!==e.uri))return;let o=this._mapQuickFixesAsDiagnosticsInFile(i);this._diagnostics.set(e.uri,o.map(s=>s.diagnostic))}catch{return}}async _validateOpenDocuments(){for(let e of fs.window.visibleTextEditors){let t=e.document;this.shouldIgnoreDocument(t)||await this._validateDocument(t)}}_mapQuickFixesAsDiagnosticsInFile(e){return e.map(t=>this._asDiagnosticInFileIfAny(t)).filter(t=>t!==void 0)}async _validateEntireWorkspace(){let t=(await Z8(this._server,{},new fs.CancellationTokenSource().token)).QuickFixes.sort((o,s)=>o.FileName.localeCompare(s.FileName)),n=[],i;for(let o of this._mapQuickFixesAsDiagnosticsInFile(t)){let s=fs.Uri.file(o.fileName);i!==void 0&&i[0].toString()===s.toString()?i[1].push(o.diagnostic):(n.push([s,void 0]),i=[s,[o.diagnostic]],n.push(i))}this._diagnostics.forEach(o=>{n.find(s=>s[0].toString()===o.toString())===void 0&&this._diagnostics.delete(o)}),this._diagnostics.set(n)}_asDiagnosticInFileIfAny(e){let t=this._getDiagnosticDisplay(e,this._asDiagnosticSeverity(e));if(t.severity==="hidden")return;let n=`${e.Text} [${e.Projects.map(o=>this._asProjectLabel(o)).join(", ")}]`,i=new fs.Diagnostic(CR(e),n,t.severity);return i.source="csharp",i.code=e.Id,t.isFadeout&&(i.tags=[fs.DiagnosticTag.Unnecessary]),{diagnostic:i,fileName:e.FileName}}_getDiagnosticDisplay(e,t){let n=e.Tags?.find(i=>i.toLowerCase()==="unnecessary")!==void 0||e.Id=="CS0162"||e.Id=="CS0219"||e.Id=="CS8019";return n&&["hidden","none"].includes(e.LogLevel.toLowerCase())?{severity:fs.DiagnosticSeverity.Hint,isFadeout:n}:{severity:t,isFadeout:n}}_asDiagnosticSeverity(e){switch(e.LogLevel.toLowerCase()){case"error":return fs.DiagnosticSeverity.Error;case"warning":return fs.DiagnosticSeverity.Warning;case"info":return fs.DiagnosticSeverity.Information;case"hidden":return this._suppressHiddenDiagnostics?"hidden":fs.DiagnosticSeverity.Hint;default:return"hidden"}}_asProjectLabel(e){let t=e.indexOf("+");return e.substr(t+1)}};var IR=require("vscode");var Iz=class extends Gi{async provideFoldingRanges(e,t,n){let i={FileName:e.fileName};try{let o=await zye(this._server,i,n),s=[];for(let a of o.Spans)s.push(new IR.FoldingRange(a.Range.Start.Line,a.Range.End.Line,this.GetType(a.Kind)));return s}catch{return[]}}GetType(e){switch(e){case"Comment":return IR.FoldingRangeKind.Comment;case"Imports":return IR.FoldingRangeKind.Imports;case"Region":return IR.FoldingRangeKind.Region;default:return}}};var kz=class r{constructor(e,t,n,i,o,s){this.eventStream=t;this.platformInfo=n;this.monoResolver=i;this.dotnetResolver=o;this._eventBus=e,this._disposables=s,this._requestQueue=new bz(this.eventStream,8,a=>this._makeRequest(a))}static _nextId=1;_readLine;_disposables;_serverProcess;_eventBus;_requestQueue;async registerProviders(e,t,n,i,o){let s={language:"csharp"},a=new fo,c=new nA;c.register(),a.add(c);let u=new iA(e);u.register(),a.add(u),a.add(Ma.languages.registerCodeLensProvider(s,new uA(e,o,t))),a.add(Ma.languages.registerDocumentHighlightProvider(s,new lA(e,t))),a.add(Ma.languages.registerDocumentSymbolProvider(s,new dA(e,t))),a.add(Ma.languages.registerHoverProvider(s,new fA(e,t))),a.add(Ma.languages.registerRenameProvider(s,new pA(e,t))),Nr.useFormatting&&(a.add(Ma.languages.registerDocumentRangeFormattingEditProvider(s,new PR(e,t))),a.add(Ma.languages.registerOnTypeFormattingEditProvider(s,new PR(e,t),"}","/",`
`,";")));let l=new vA(e,t);a.add(Ma.languages.registerCompletionItemProvider(s,l,"."," ")),a.add(Ma.commands.registerCommand(fX,async(k,z)=>l.afterInsert(k,z))),a.add(Ma.languages.registerWorkspaceSymbolProvider(new hA(e,t,u))),a.add(Ma.languages.registerSignatureHelpProvider(s,new mA(e,t),"(",","));let d=new gA(e,t);a.add(d),a.add(Ma.languages.registerCodeActionsProvider(s,d,gA.metadata)),a.add(_X(e,i,t));let f=new CA(e,c,u,t);a.add(Ma.languages.registerTypeDefinitionProvider(s,f)),a.add(Ma.languages.registerTypeDefinitionProvider({scheme:c.scheme},f)),a.add(Ma.languages.registerDefinitionProvider(s,f)),a.add(Ma.languages.registerDefinitionProvider({scheme:c.scheme},f)),a.add(Ma.languages.registerReferenceProvider(s,new yA(e,t,u))),a.add(Ma.languages.registerImplementationProvider(s,new bA(e,t))),a.add(gX(e));let y=new SA(e,t);a.add(y),a.add(Ma.languages.registerCodeActionsProvider(s,y)),a.add(dX(e,n)),a.add(Ma.languages.registerFoldingRangeProvider(s,new Iz(e,t))),a.add(mX(e));let b=new _A(e,t);a.add(Ma.languages.registerDocumentSemanticTokensProvider(s,b,b.getLegend())),a.add(Ma.languages.registerDocumentRangeSemanticTokensProvider(s,b,b.getLegend()));let T=new wA(e,t);return a.add(Ma.languages.registerInlayHintsProvider(s,T)),a}async stop(){let e;this._serverProcess===void 0?e=Promise.resolve():process.platform==="win32"?e=new Promise((n,i)=>{let o=(0,P0e.exec)(`taskkill /F /T /PID ${this._serverProcess.pid}`,(s,a,c)=>{if(s)return i(s)});o.on("exit",n),o.on("error",i)}):e=Ace(this._serverProcess.pid).then(n=>{for(let i of n)process.kill(i,"SIGTERM");this._serverProcess.kill("SIGTERM")});let t=this._disposables;return this._disposables=void 0,e.then(()=>{this._serverProcess=void 0,this._eventBus.emit(Go.ServerStop,this),t&&t.dispose()})}async waitForInitialize(){for(;!this._requestQueue.isEmpty();)await new Promise(t=>(0,wX.setTimeout)(t,100))}addListener(e,t){return this._eventBus.addListener(e,t),new Xl(()=>this._eventBus.removeListener(e,t))}async start(e,t,n,i){let o=await Mbe(e,t.concat("--encoding","utf-8"),i,this.platformInfo,this.monoResolver,this.dotnetResolver);if(this.eventStream.post(new FP(o.hostVersion??"",o.hostPath??"",o.hostIsMono,o.command,o.process.pid)),this._serverProcess=o.process,this._serverProcess===void 0)throw new Error("Server launch failed.");this._serverProcess.stderr.on("data",c=>{let u=c0e(c);u.length>0&&this._fireEvent(Go.StdErr,u.toString())}),this._readLine=(0,R0e.createInterface)({input:this._serverProcess.stdout,output:this._serverProcess.stdin,terminal:!1});let s=new Promise((c,u)=>{let l,d=Nr.projectLoadTimeout*1e3,f=(0,wX.setTimeout)(()=>{l&&l.dispose(),u(new Error("OmniSharp server load timed out. Use the 'omnisharp.projectLoadTimeout' setting to override the default delay (one minute)."))},d);l=this.addListener(Go.Started,y=>{l&&l.dispose(),clearTimeout(f),c()})}),a=this._onLineReceived.bind(this);this._readLine.addListener("line",a),this._disposables?.add(new Xl(()=>{this._readLine?.removeListener("line",a)})),await s,this._requestQueue.drain()}_onLineReceived(e){if(e=u0e(e),e[0]!=="{"){this.eventStream.post(new dw(e));return}let t;try{t=JSON.parse(e)}catch{return}if(t.Type)switch(t.Type){case"response":this._handleResponsePacket(t);break;case"event":this._handleEventPacket(t);break;default:this.eventStream.post(new dw(`Unknown packet type: ${t.Type}`));break}}_handleResponsePacket(e){let t=this._requestQueue.dequeue(e.Command,e.Request_seq);if(!t){this.eventStream.post(new dw(`Received response for ${e.Command} but could not find request.`));return}this.eventStream.post(new y2(`handleResponse: ${e.Command} (${e.Request_seq})`)),e.Success?t.onSuccess(e.Body):t.onError(e.Message||e.Body),this._requestQueue.drain()}_handleEventPacket(e){if(e.Event==="log"){let t=e.Body;this.eventStream.post(new qP(t.LogLevel,t.Name,t.Message))}else this._fireEvent(e.Event,e.Body)}_fireEvent(e,t){this._eventBus.emit(e,t)}_makeRequest(e){let t=r._nextId++,n={Type:"request",Seq:t,Command:e.command,Arguments:e.data};return this.eventStream.post(new Kq(e,t)),this._serverProcess?.stdin.write(JSON.stringify(n)+`
`),t}dispose(){this._disposables?.dispose()}async makeRequest(e,t,n){let i,o=new Promise((s,a)=>{i={command:e,data:t,onSuccess:c=>s(c),onError:c=>a(c)},this._requestQueue.enqueue(i)});return n&&n.onCancellationRequested(()=>{this._requestQueue.cancelRequest(i)}),o}};var F0e=be(require("child_process")),q0e=be(require("fs")),Uz=be(require("path"));var Yh=be(require("vscode"));var Pu=be(eC());function TA(r,e){e===void 0&&(e=!1);var t=r.length,n=0,i="",o=0,s=16,a=0,c=0,u=0,l=0,d=0;function f(U,ne){for(var de=0,ve=0;de<U||!ne;){var $=r.charCodeAt(n);if($>=48&&$<=57)ve=ve*16+$-48;else if($>=65&&$<=70)ve=ve*16+$-65+10;else if($>=97&&$<=102)ve=ve*16+$-97+10;else break;n++,de++}return de<U&&(ve=-1),ve}function y(U){n=U,i="",o=0,s=16,d=0}function b(){var U=n;if(r.charCodeAt(n)===48)n++;else for(n++;n<r.length&&kR(r.charCodeAt(n));)n++;if(n<r.length&&r.charCodeAt(n)===46)if(n++,n<r.length&&kR(r.charCodeAt(n)))for(n++;n<r.length&&kR(r.charCodeAt(n));)n++;else return d=3,r.substring(U,n);var ne=n;if(n<r.length&&(r.charCodeAt(n)===69||r.charCodeAt(n)===101))if(n++,(n<r.length&&r.charCodeAt(n)===43||r.charCodeAt(n)===45)&&n++,n<r.length&&kR(r.charCodeAt(n))){for(n++;n<r.length&&kR(r.charCodeAt(n));)n++;ne=n}else d=3;return r.substring(U,ne)}function T(){for(var U="",ne=n;;){if(n>=t){U+=r.substring(ne,n),d=2;break}var de=r.charCodeAt(n);if(de===34){U+=r.substring(ne,n),n++;break}if(de===92){if(U+=r.substring(ne,n),n++,n>=t){d=2;break}var ve=r.charCodeAt(n++);switch(ve){case 34:U+='"';break;case 92:U+="\\";break;case 47:U+="/";break;case 98:U+="\b";break;case 102:U+="\f";break;case 110:U+=`
`;break;case 114:U+="\r";break;case 116:U+="	";break;case 117:var $=f(4,!0);$>=0?U+=String.fromCharCode($):d=4;break;default:d=5}ne=n;continue}if(de>=0&&de<=31)if(DA(de)){U+=r.substring(ne,n),d=2;break}else d=6;n++}return U}function k(){if(i="",d=0,o=n,c=a,l=u,n>=t)return o=t,s=17;var U=r.charCodeAt(n);if(SX(U)){do n++,i+=String.fromCharCode(U),U=r.charCodeAt(n);while(SX(U));return s=15}if(DA(U))return n++,i+=String.fromCharCode(U),U===13&&r.charCodeAt(n)===10&&(n++,i+=`
`),a++,u=n,s=14;switch(U){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=T(),s=10;case 47:var ne=n-1;if(r.charCodeAt(n+1)===47){for(n+=2;n<t&&!DA(r.charCodeAt(n));)n++;return i=r.substring(ne,n),s=12}if(r.charCodeAt(n+1)===42){n+=2;for(var de=t-1,ve=!1;n<de;){var $=r.charCodeAt(n);if($===42&&r.charCodeAt(n+1)===47){n+=2,ve=!0;break}n++,DA($)&&($===13&&r.charCodeAt(n)===10&&n++,a++,u=n)}return ve||(n++,d=1),i=r.substring(ne,n),s=13}return i+=String.fromCharCode(U),n++,s=16;case 45:if(i+=String.fromCharCode(U),n++,n===t||!kR(r.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=b(),s=11;default:for(;n<t&&z(U);)n++,U=r.charCodeAt(n);if(o!==n){switch(i=r.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(U),n++,s=16}}function z(U){if(SX(U)||DA(U))return!1;switch(U){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function A(){var U;do U=k();while(U>=12&&U<=15);return U}return{setPosition:y,getPosition:function(){return n},scan:e?A:k,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-l},getTokenError:function(){return d}}}function SX(r){return r===32||r===9||r===11||r===12||r===160||r===5760||r>=8192&&r<=8203||r===8239||r===8287||r===12288||r===65279}function DA(r){return r===10||r===13||r===8232||r===8233}function kR(r){return r>=48&&r<=57}function Az(r,e,t){var n,i,o,s,a;if(e){for(s=e.offset,a=s+e.length,o=s;o>0&&!PA(r,o-1);)o--;for(var c=a;c<r.length&&!PA(r,c);)c++;i=r.substring(o,c),n=idt(i,t)}else i=r,n=0,o=0,s=0,a=r.length;var u=odt(t,r),l=!1,d=0,f;t.insertSpaces?f=CX(" ",t.tabSize||4):f="	";var y=TA(i,!1),b=!1;function T(){return u+CX(f,n+d)}function k(){var ue=y.scan();for(l=!1;ue===15||ue===14;)l=l||ue===14,ue=y.scan();return b=ue===16||y.getTokenError()!==0,ue}var z=[];function A(ue,Fe,Le){!b&&(!e||Fe<a&&Le>s)&&r.substring(Fe,Le)!==ue&&z.push({offset:Fe,length:Le-Fe,content:ue})}var U=k();if(U!==17){var ne=y.getTokenOffset()+o,de=CX(f,n);A(de,o,ne)}for(;U!==17;){for(var ve=y.getTokenOffset()+y.getTokenLength()+o,$=k(),W="",ee=!1;!l&&($===12||$===13);){var Pe=y.getTokenOffset()+o;A(" ",ve,Pe),ve=y.getTokenOffset()+y.getTokenLength()+o,ee=$===12,W=ee?T():"",$=k()}if($===2)U!==1&&(d--,W=T());else if($===4)U!==3&&(d--,W=T());else{switch(U){case 3:case 1:d++,W=T();break;case 5:case 12:W=T();break;case 13:l?W=T():ee||(W=" ");break;case 6:ee||(W=" ");break;case 10:if($===6){ee||(W="");break}case 7:case 8:case 9:case 11:case 2:case 4:$===12||$===13?ee||(W=" "):$!==5&&$!==17&&(b=!0);break;case 16:b=!0;break}l&&($===12||$===13)&&(W=T())}$===17&&(W=t.insertFinalNewline?u:"");var se=y.getTokenOffset()+o;A(W,ve,se),U=$}return z}function CX(r,e){for(var t="",n=0;n<e;n++)t+=r;return t}function idt(r,e){for(var t=0,n=0,i=e.tabSize||4;t<r.length;){var o=r.charAt(t);if(o===" ")n++;else if(o==="	")n+=i;else break;t++}return Math.floor(n/i)}function odt(r,e){for(var t=0;t<e.length;t++){var n=e.charAt(t);if(n==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return r&&r.eol||`
`}function PA(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}var RA;(function(r){r.DEFAULT={allowTrailingComma:!1}})(RA||(RA={}));function x0e(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=RA.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};return TX(r,a,t),i[0]}function DX(r,e,t){e===void 0&&(e=[]),t===void 0&&(t=RA.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,u,l){n=o({type:"property",offset:u,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:u,length:l,parent:n})},onObjectEnd:function(c,u){i(c+u),n.length=c+u-n.offset,n=n.parent,i(c+u)},onArrayBegin:function(c,u){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,u){n.length=c+u-n.offset,n=n.parent,i(c+u)},onLiteralValue:function(c,u,l){o({type:adt(c),offset:u,length:l,parent:n,value:c}),i(u+l)},onSeparator:function(c,u,l){n.type==="property"&&(c===":"?n.colonOffset=u:c===","&&i(u))},onError:function(c,u,l){e.push({error:c,offset:u,length:l})}};TX(r,s,t);var a=n.children[0];return a&&delete a.parent,a}function Mz(r,e){if(r){for(var t=r,n=0,i=e;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;for(var s=!1,a=0,c=t.children;a<c.length;a++){var u=c[a];if(Array.isArray(u.children)&&u.children[0].value===o){t=u.children[1],s=!0;break}}if(!s)return}else{var l=o;if(t.type!=="array"||l<0||!Array.isArray(t.children)||l>=t.children.length)return;t=t.children[l]}}return t}}function TX(r,e,t){t===void 0&&(t=RA.DEFAULT);var n=TA(r,!1);function i(ee){return ee?function(){return ee(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(ee){return ee?function(Pe){return ee(Pe,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),c=i(e.onObjectEnd),u=i(e.onArrayBegin),l=i(e.onArrayEnd),d=o(e.onLiteralValue),f=o(e.onSeparator),y=i(e.onComment),b=o(e.onError),T=t&&t.disallowComments,k=t&&t.allowTrailingComma;function z(){for(;;){var ee=n.scan();switch(n.getTokenError()){case 4:A(14);break;case 5:A(15);break;case 3:A(13);break;case 1:T||A(11);break;case 2:A(12);break;case 6:A(16);break}switch(ee){case 12:case 13:T?A(10):y();break;case 16:A(1);break;case 15:case 14:break;default:return ee}}}function A(ee,Pe,se){if(Pe===void 0&&(Pe=[]),se===void 0&&(se=[]),b(ee),Pe.length+se.length>0)for(var ue=n.getToken();ue!==17;){if(Pe.indexOf(ue)!==-1){z();break}else if(se.indexOf(ue)!==-1)break;ue=z()}}function U(ee){var Pe=n.getTokenValue();return ee?d(Pe):a(Pe),z(),!0}function ne(){switch(n.getToken()){case 11:var ee=n.getTokenValue(),Pe=Number(ee);isNaN(Pe)&&(A(2),Pe=0),d(Pe);break;case 7:d(null);break;case 8:d(!0);break;case 9:d(!1);break;default:return!1}return z(),!0}function de(){return n.getToken()!==10?(A(3,[],[2,5]),!1):(U(!1),n.getToken()===6?(f(":"),z(),W()||A(4,[],[2,5])):A(5,[],[2,5]),!0)}function ve(){s(),z();for(var ee=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(ee||A(4,[],[]),f(","),z(),n.getToken()===2&&k)break}else ee&&A(6,[],[]);de()||A(4,[],[2,5]),ee=!0}return c(),n.getToken()!==2?A(7,[2],[]):z(),!0}function $(){u(),z();for(var ee=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(ee||A(4,[],[]),f(","),z(),n.getToken()===4&&k)break}else ee&&A(6,[],[]);W()||A(4,[],[4,5]),ee=!0}return l(),n.getToken()!==4?A(8,[4],[]):z(),!0}function W(){switch(n.getToken()){case 3:return $();case 1:return ve();case 10:return U(!0);default:return ne()}}return z(),n.getToken()===17?t.allowEmptyContent?!0:(A(4,[],[]),!1):W()?(n.getToken()!==17&&A(9,[],[]),!0):(A(4,[],[]),!1)}function adt(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(r){if(Array.isArray(r))return"array"}else return"null";return"object"}default:return"null"}}function E0e(r,e,t,n){for(var i,o=e.slice(),s=[],a=DX(r,s),c=void 0,u=void 0;o.length>0&&(u=o.pop(),c=Mz(a,o),c===void 0&&t!==void 0);)typeof u=="string"?t=(i={},i[u]=t,i):t=[t];if(c)if(c.type==="object"&&typeof u=="string"&&Array.isArray(c.children)){var l=Mz(c,[u]);if(l!==void 0)if(t===void 0){if(!l.parent)throw new Error("Malformed AST");var d=c.children.indexOf(l.parent),f=void 0,y=l.parent.offset+l.parent.length;if(d>0){var b=c.children[d-1];f=b.offset+b.length}else if(f=c.offset+1,c.children.length>1){var T=c.children[1];y=T.offset}return ET(r,{offset:f,length:y-f,content:""},n)}else return ET(r,{offset:l.offset,length:l.length,content:JSON.stringify(t)},n);else{if(t===void 0)return[];var k=JSON.stringify(u)+": "+JSON.stringify(t),z=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(ee){return ee.children[0].value})):c.children.length,A=void 0;if(z>0){var b=c.children[z-1];A={offset:b.offset+b.length,length:0,content:","+k}}else c.children.length===0?A={offset:c.offset+1,length:0,content:k}:A={offset:c.offset+1,length:0,content:k+","};return ET(r,A,n)}}else if(c.type==="array"&&typeof u=="number"&&Array.isArray(c.children)){var U=u;if(U===-1){var k=""+JSON.stringify(t),A=void 0;if(c.children.length===0)A={offset:c.offset+1,length:0,content:k};else{var b=c.children[c.children.length-1];A={offset:b.offset+b.length,length:0,content:","+k}}return ET(r,A,n)}else if(t===void 0&&c.children.length>=0){var ne=u,de=c.children[ne],A=void 0;if(c.children.length===1)A={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===ne){var b=c.children[ne-1],ve=b.offset+b.length,$=c.offset+c.length;A={offset:ve,length:$-2-ve,content:""}}else A={offset:de.offset,length:c.children[ne+1].offset-de.offset,content:""};return ET(r,A,n)}else if(t!==void 0){var A=void 0,k=""+JSON.stringify(t);if(!n.isArrayInsertion&&c.children.length>u){var W=c.children[u];A={offset:W.offset,length:W.length,content:k}}else if(c.children.length===0||u===0)A={offset:c.offset+1,length:0,content:c.children.length===0?k:k+","};else{var z=u>c.children.length?c.children.length:u,b=c.children[z-1];A={offset:b.offset+b.length,length:0,content:","+k}}return ET(r,A,n)}else throw new Error("Can not "+(t===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+U+" as length is not sufficient")}else throw new Error("Can not add "+(typeof u!="number"?"index":"property")+" to parent of type "+c.type);else{if(t===void 0)throw new Error("Can not delete in empty document");return ET(r,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(t)},n)}}function ET(r,e,t){if(!t.formattingOptions)return[e];var n=Lz(r,e),i=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!PA(n,i-1);)i--;for(;o<n.length&&!PA(n,o);)o++}for(var s=Az(n,{offset:i,length:o-i},t.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=Lz(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var u=r.length-(n.length-o)-i;return[{offset:i,length:u,content:n.substring(i,o)}]}function Lz(r,e){return r.substring(0,e.offset)+e.content+r.substring(e.offset+e.length)}var Fw=x0e;function PX(r,e,t){return Az(r,e,t)}function O0e(r,e,t,n){return E0e(r,e,t,n)}function Nz(r,e){for(var t=e.length-1;t>=0;t--)r=Lz(r,e[t]);return r}var k0e=be(require("os")),Vp=be(require("path"));var li=be(require("vscode"));function I0e(r){return Fw(r)}var jC=class r{constructor(e,t){this.workspaceFolder=t;this.vscodeFolder=Vp.join(this.workspaceFolder.uri.fsPath,".vscode"),this.tasksJsonPath=Vp.join(this.vscodeFolder,"tasks.json"),this.launchJsonPath=Vp.join(this.vscodeFolder,"launch.json"),e!==void 0&&e.length>0&&(this.executableProjects=this.findExecutableMSBuildProjects(e),this.executableProjects.length===0&&(this.fallbackBuildProject=e[0]))}vscodeFolder;tasksJsonPath;launchJsonPath;executableProjects=[];startupProject;fallbackBuildProject;hasExecutableProjects(){return this.executableProjects.length>0}isStartupProjectSelected(){return this.startupProject!==void 0}async selectStartupProject(e){if(!this.hasExecutableProjects())throw new Error(li.l10n.t("No executable projects"));if(e!==void 0)return this.startupProject=this.executableProjects[e],!0;if(this.executableProjects.length===1)return this.startupProject=this.executableProjects[0],!0;{let t=this.executableProjects.map(i=>({label:i.projectName,project:i})),n=await li.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:li.l10n.t("Select the project to launch")});return n===void 0?!1:(this.startupProject=n.project,!0)}}setStartupProject(e){if(e>=this.executableProjects.length)throw new Error(li.l10n.t("Invalid project index"));this.startupProject=this.executableProjects[e]}hasWebServerDependency(){if(!this.startupProject)throw new Error(li.l10n.t("Startup project not set"));return this.startupProject.isWebProject}computeProgramLaunchType(){if(!this.startupProject)throw new Error(li.l10n.t("Startup project not set"));return this.startupProject.isBlazorWebAssemblyStandalone?3:this.startupProject.isBlazorWebAssemblyHosted?2:this.startupProject.isWebProject?1:0}computeProgramPath(){if(!this.startupProject)throw new Error(li.l10n.t("Startup project not set"));let e=Vp.relative(this.workspaceFolder.uri.fsPath,this.startupProject.outputPath);return e===this.startupProject.outputPath?this.startupProject.outputPath:Vp.join("${workspaceFolder}",e)}computeWorkingDirectory(){if(!this.startupProject)throw new Error(li.l10n.t("Startup project not set"));let e=Vp.relative(this.workspaceFolder.uri.fsPath,this.startupProject.projectPath);return Vp.join("${workspaceFolder}",Vp.dirname(e))}static getConsoleDebugOption(){let e=li.workspace.getConfiguration("csharp").get("debug");if(e)return e.console}createLaunchJsonConfigurationsArray(e,t){let n=this.createLaunchJsonConfigurations(e),i=JSON.parse(n);return i.forEach(o=>{for(let s in o)if(Object.prototype.hasOwnProperty.call(o,s)&&(s.startsWith("OS-COMMENT")&&delete o[s],t&&s==="stopAtEntry"&&delete o[s],t&&e===0&&s=="console")){let a=r.getConsoleDebugOption();a&&(o.console=a)}}),t&&(i=i.filter(o=>o.request=="launch")),i}createLaunchJsonConfigurations(e){switch(e){case 0:{let t=hdt(this.computeProgramPath(),this.computeWorkingDirectory()),n=Fz();return`
[
    ${t},
    ${n}
]`}case 1:{let t=ddt(this.computeProgramPath(),this.computeWorkingDirectory()),n=Fz();return`
[
    ${t},
    ${n}
]`}case 2:return`
[
    ${fdt(this.computeProgramPath(),this.computeWorkingDirectory())}
]`;case 3:return`
[
    ${pdt(this.computeWorkingDirectory())}
]`}}createBuildTaskDescription(){let e=["build"];return this.AddAdditionalCommandArgs(e),{label:"build",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createPublishTaskDescription(){let e=["publish"];return this.AddAdditionalCommandArgs(e),{label:"publish",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}createWatchTaskDescription(){let e=["watch","run"],t=this.getBuildProjectPath();return t&&(e.push("--project"),e.push(t)),{label:"watch",command:"dotnet",type:"process",args:e,problemMatcher:"$msCompile"}}AddAdditionalCommandArgs(e){let t=this.getBuildProjectPath();t&&e.push(t),e.push("/property:GenerateFullPaths=true"),e.push("/consoleloggerparameters:NoSummary;ForceNoAlign")}getBuildProjectPath(){let e=this.startupProject;return e||(e=this.fallbackBuildProject),e?e.solutionPath?this.getBuildPath(e.solutionPath):this.getBuildPath(e.projectPath):null}getBuildPath(e){let t=Vp.join("${workspaceFolder}",Vp.relative(this.workspaceFolder.uri.fsPath,e));return Q_(t)}createTasksConfiguration(){return{version:"2.0.0",tasks:[this.createBuildTaskDescription(),this.createPublishTaskDescription(),this.createWatchTaskDescription()]}}findExecutableMSBuildProjects(e){let t=[];return e.forEach(n=>{let i=n.targetsDotnetCore||n.isBlazorWebAssemblyStandalone;n.isExe&&i&&t.push(n)}),t}};function ddt(r,e){let t={"OS-COMMENT1":li.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":li.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":li.l10n.t("For further information visit {0}.","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (web)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":li.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Q_(r)}`,args:Array(0),cwd:`${Q_(e)}`,stopAtEntry:!1,"OS-COMMENT5":li.l10n.t("Enable launching a web browser when ASP.NET Core starts. For more information: {0}","https://aka.ms/VSCode-CS-LaunchJson-WebBrowser"),serverReadyAction:{action:"openExternally",pattern:"\\bNow listening on:\\s+(https?://\\S+)"},env:{ASPNETCORE_ENVIRONMENT:"Development"},sourceFileMap:{"/Views":"${workspaceFolder}/Views"}};return JSON.stringify(t)}function fdt(r,e){let t={name:"Launch and Debug Hosted Blazor WebAssembly App",type:"blazorwasm",request:"launch",hosted:!0,"OS-COMMENT1":li.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Q_(r)}`,cwd:`${Q_(e)}`};return JSON.stringify(t)}function pdt(r){let e={name:"Launch and Debug Standalone Blazor WebAssembly App",type:"blazorwasm",request:"launch",cwd:`${Q_(r)}`};return JSON.stringify(e)}function hdt(r,e){let t={"OS-COMMENT1":li.l10n.t("Use IntelliSense to find out which attributes exist for C# debugging"),"OS-COMMENT2":li.l10n.t("Use hover for the description of the existing attributes"),"OS-COMMENT3":li.l10n.t("For further information visit {0}","https://github.com/dotnet/vscode-csharp/blob/main/debugger-launchjson.md"),name:".NET Core Launch (console)",type:"coreclr",request:"launch",preLaunchTask:"build","OS-COMMENT4":li.l10n.t("If you have changed target frameworks, make sure to update the program path."),program:`${Q_(r)}`,args:Array(0),cwd:`${Q_(e)}`,"OS-COMMENT5":li.l10n.t("For more information about the 'console' field, see {0}","https://aka.ms/VSCode-CS-LaunchJson-Console"),console:"internalConsole",stopAtEntry:!1};return JSON.stringify(t)}function mdt(r){let e=[],t=r.split(`
`);for(let n=0;n<t.length;n++){let i=t[n].replace(/(?![^\n]{1,80}$)([^\n]{1,80})\s/g,`$1
`);e=e.concat(i.split(`
`))}return e}function RX(r,e){return`${r}${e.toString().padStart(2,"0")}`}function A0e(){let r=li.l10n.t("WARNING"),e=li.l10n.t(`The C# extension was unable to automatically decode projects in the current workspace to create a runnable launch.json file. A template launch.json file has been created as a placeholder.

If the server is currently unable to load your project, you can attempt to resolve this by restoring any missing project dependencies (example: run 'dotnet restore') and by fixing any reported errors from building the projects in your workspace.
If this allows the server to now load your project then --
  * Delete this file
  * Open the Visual Studio Code command palette (View->Command Palette)
  * run the command: '.NET: Generate Assets for Build and Debug'.

If your project requires a more complex launch configuration, you may wish to delete this configuration and pick a different template using the 'Add Configuration...' button at the bottom of this file.`),t=mdt(e),n={};n.name=".NET Core Launch (console)",n.type="coreclr",n.request="launch",n[RX(r,1)]="*********************************************************************************";for(let i=0;i<t.length;i++)n[RX(r,i+2)]=t[i];return n[RX(r,t.length+2)]="*********************************************************************************",n.preLaunchTask="build",n.program="${workspaceFolder}/bin/Debug/<insert-target-framework-here>/<insert-project-name-here>.dll",n.args=[],n.cwd="${workspaceFolder}",n.console="internalConsole",n.stopAtEntry=!1,n}function Fz(){return JSON.stringify({name:".NET Core Attach",type:"coreclr",request:"attach"})}function gdt(r){return r.addTasksJson||r.addLaunchJson}async function vdt(r){return xA(r).then(async e=>bdt(r,e))}function ydt(r){let e=[];function t(n){let i;n!==void 0&&(i=n.find(o=>o.group==="build")),i!==void 0&&e.push(i)}return t(r.tasks),r.windows&&t(r.windows.tasks),r.osx&&t(r.osx.tasks),r.linux&&t(r.linux.tasks),e}async function xA(r){return new Promise((e,t)=>{Pu.exists(r.tasksJsonPath,n=>{n?Pu.readFile(r.tasksJsonPath,(i,o)=>{if(i)return t(i);let s=o.toString(),a;try{a=I0e(s)}catch(u){let l=u instanceof Error?u.message:`${u}`;return Wi(li,li.l10n.t("Failed to parse tasks.json file: {0}",l)),e({updateTasksJson:!1})}if(!a.version||!a.version.startsWith("2.0."))return e({updateTasksJson:!1});let c=ydt(a);e({updateTasksJson:c.length===0})}):e({addTasksJson:!0})})})}async function bdt(r,e){return r.hasExecutableProjects()?new Promise((t,n)=>Pu.exists(r.launchJsonPath,i=>{i||(e.addLaunchJson=!0),t(e)})):Promise.resolve(e)}async function _dt(r){return new Promise((e,t)=>{let n={title:li.l10n.t("Yes"),result:0},i={title:li.l10n.t("Not Now"),result:1,isCloseAffordance:!0},o={title:li.l10n.t("Don't Ask Again"),result:2},s=Vp.basename(r.uri.fsPath);wdt()||li.window.showWarningMessage(li.l10n.t("Required assets to build and debug are missing from '{0}'. Add them?",s),o,i,n).then(a=>e(a?.result??1))})}function wdt(){let r="suppressBuildAssetsNotification",e=li.workspace.getConfiguration("csharp");return e.has(r)?e.get(r):e.get("supressBuildAssetsNotification")}function M0e(){let r=li.workspace.getConfiguration("editor"),e=r.get("tabSize")??4,t=r.get("insertSpaces")??!0,i=li.workspace.getConfiguration("files").get("eol");return{insertSpaces:t,tabSize:e,eol:!i||i==="auto"?k0e.EOL:`
`}}async function EA(r,e){return new Promise((t,n)=>{if(!e.addTasksJson&&!e.updateTasksJson)return t();let i=M0e(),o=r.createTasksConfiguration(),s;if(Pu.pathExistsSync(r.tasksJsonPath)){let c=o.tasks??[],u=Pu.readFileSync(r.tasksJsonPath,{encoding:"utf8"});s=N0e(u,c,"tasks","label",i)}else{let c=JSON.stringify(o);s=Nz(c,PX(c,void 0,i))}let a=xX(s);Pu.writeFile(r.tasksJsonPath,a,c=>{if(c)return n(c);t()})})}async function Sdt(r,e){return new Promise((t,n)=>{if(!e.addLaunchJson)return t();let i=r.computeProgramLaunchType(),o=r.createLaunchJsonConfigurations(i),s=M0e(),a;if(Pu.pathExistsSync(r.launchJsonPath)){let u=Fw(o)??[],l=Pu.readFileSync(r.launchJsonPath,{encoding:"utf8"});a=N0e(l,u,"configurations","name",s)}else{let l=`
            {
                "version": "0.2.0",
                "configurations": ${o}
            }`;a=Nz(l,PX(l,void 0,s))}let c=xX(a);Pu.writeFile(r.launchJsonPath,c,u=>{if(u)return n(u);t()})})}async function L0e(r,e){if(r.hasExecutableProjects()&&!r.isStartupProjectSelected()&&!await r.selectStartupProject())return;let t=[EA(r,e),Sdt(r,e)];return Promise.all(t)}async function qz(r,e){if(!li.workspace.workspaceFolders||r.workspaceState.get("assetPromptDisabled"))return;let t=li.workspace.workspaceFolders.map(async i=>{let o=await e.getWorkspaceDebugInformation(i.uri);if(!o||o.length===0)return 0;let s=new jC(o,i);if(s.hasExecutableProjects()){let a=await vdt(s);if(!gdt(a))return 0;let c=await _dt(i);return c===2?2:c!==0?3:(await Pu.ensureDir(s.vscodeFolder),await L0e(s,a),1)}return 0});(await Promise.all(t)).some(i=>i===2)&&r.workspaceState.update("assetPromptDisabled",!0)}async function Cdt(r){return new Promise((e,t)=>{let n=[];if(Pu.pathExistsSync(r.tasksJsonPath)){let i=Pu.readFileSync(r.tasksJsonPath).toString(),o=["build","publish","watch"],s=Fw(i)?.tasks?.map(a=>a.label).filter(a=>o.includes(a));n=n.concat(s)}if(Pu.pathExistsSync(r.launchJsonPath)){let i=Pu.readFileSync(r.launchJsonPath).toString(),o=[".NET Core Launch (console)",".NET Core Launch (web)",".NET Core Attach","Launch and Debug Standalone Blazor WebAssembly App"],s=Fw(i)?.configurations?.map(a=>a.name).filter(a=>o.includes(a));n=n.concat(s)}e(n)})}async function Ddt(r){return new Promise((e,t)=>{Cdt(r).then(n=>{if(n.length>0){let i={title:li.l10n.t("Yes")},o={title:li.l10n.t("Cancel"),isCloseAffordance:!0};li.window.showWarningMessage(li.l10n.t("Replace existing build and debug assets?"),o,i).then(s=>{e(s===i)})}else e(!0)},n=>t(n))})}async function jz(r,e){try{if(!li.workspace.workspaceFolders)return;for(let t of li.workspace.workspaceFolders){let n=await r.getWorkspaceDebugInformation(t.uri);if(n&&n.length>0){let i=n[0].projectPath,o=li.workspace.getWorkspaceFolder(li.Uri.file(i));if(o===void 0)return;let s=new jC(n,o);if(!await Ddt(s))return;let c={addLaunchJson:s.hasExecutableProjects(),addTasksJson:!0};if(c.addLaunchJson&&!await s.selectStartupProject(e))return;await Pu.ensureDir(s.vscodeFolder),await L0e(s,c)}else Wi(li,li.l10n.t("Could not locate .NET Core project in '{0}'. Assets were not generated.",t.name))}}catch(t){Wi(li,li.l10n.t("Unable to generate assets to build and debug. {0}.",`${t}`))}}function xX(r){let e=/["']OS-COMMENT\d*["']\s*:\s*["'](.*)["']\s*?,/gi;return r.replace(e,"// $1")}function N0e(r,e,t,n,i){let o={formattingOptions:i},a=Fw(r)[t],c=a.map(d=>d[n]),u=r,l=0;return e.map(d=>{let f=c.indexOf(d[n]),b=f>=0?f:a.length+l++,T=O0e(u,[t,b],d,o);u=Nz(u,T)}),xX(u)}var Zm=be(require("vscode")),zz=require("path");async function IA(r,e,t,n,i,o){let s="";try{let T=await i.getHostExecutableInfo();s=(await e([(0,zz.dirname)(T.path)])).FullInfo}catch(T){s=T instanceof Error?T.message:`${T}`}let a="";t&&o&&(a=await xdt(o));let c=r.extension.packageJSON.version,u=ss.useOmnisharpServer,l=Pdt(),d=Rdt(),f=await Edt(n,r),y=`## Issue Description ##
## Steps to Reproduce ##

## Expected Behavior ##

## Actual Behavior ##

`,b=`### Logs ###

${f}

## Environment Information ##
**VSCode version**: ${Zm.version}
**C# Extension**: ${c}
**Using OmniSharp**: ${u}

${a}
<details><summary>Dotnet Information</summary>
${s}</details>
<details><summary>Visual Studio Code Extensions</summary>
${l}
</details>
<details><summary>C# Settings</summary>
${d}
</details>
`;await Zm.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:ev,issueBody:y,data:b})}function Tdt(r,e){return r.packageJSON.name.toLowerCase()<e.packageJSON.name.toLowerCase()?-1:r.packageJSON.name.toLowerCase()>e.packageJSON.name.toLowerCase()?1:0}function Pdt(){let r=Idt();if(r.length<=0)return"none";let e=`|Extension|Author|Version|Folder Name|
|---|---|---|---|`,t=r.map(i=>`|${i.packageJSON.name}|${i.packageJSON.publisher}|${i.packageJSON.version}|${(0,zz.basename)(i.extensionPath)}|`).join(`
`);return`
${e}
${t};
`}function Rdt(){let r=`|Setting|Value|
|---|---|`,t=[OA("preferCSharpExtension"),OA("compilerDiagnosticScope"),OA("analyzerDiagnosticScope"),OA("enableXamlTools"),OA("useServerGC")].map(i=>`|${i.name}|${i.value}|`).join(`
`);return`
${r}
${t};
`}function OA(r){return{name:r,value:po[r]?.toString()}}async function xdt(r){let e="Unknown Mono version";try{e=`OmniSharp using mono: ${(await r.getHostExecutableInfo()).version}`}catch(t){e=t instanceof Error?t.message:`${t}`}return`<details><summary>Mono Information</summary>
    ${e}</details>`}async function Edt(r,e){let t=`<!--
If you can, it would be the most helpful to zip up and attach the entire extensions log folder.  The folder can be opened by running the \`workbench.action.openExtensionLogsFolder\` command.

Additionally, if you can reproduce the issue reliably, use trace logging, see https://github.com/dotnet/vscode-csharp/blob/main/SUPPORT.md#c-lsp-trace-logs and then report the issue.
-->
`;for(let n of r){let i=await Odt(e,n);t+=`### ${n.name} log ###
<details>

\`\`\`
${i}
\`\`\`
</details>

`}return t}async function Odt(r,e){let t=Zm.Uri.joinPath(r.logUri,e.name+".log");try{let n=await Zm.workspace.fs.stat(t);if(n.type!==Zm.FileType.File)return`Unable to find log file at ${t}, ${n.type}`;let i=await Zm.workspace.fs.readFile(t);return Buffer.from(i).toString("utf8")}catch(n){return`Error reading log file: ${n instanceof Error?n.message:`${n}`}`}}function Idt(){return Zm.extensions.all.filter(e=>e.packageJSON.isBuiltin===!1).sort(Tdt)}function EX(r,e,t,n,i,o,s,a){let c=new fo;return c.add(Yh.commands.registerCommand("o.restart",async()=>Adt(r,e))),c.add(Yh.commands.registerCommand("o.pickProjectAndStart",async()=>Mdt(e))),c.add(Yh.commands.registerCommand("o.showOutput",()=>n.post(new w2))),c.add(Yh.commands.registerCommand("dotnet.restore.project",async()=>Ndt(e,n))),c.add(Yh.commands.registerCommand("dotnet.restore.all",async()=>jdt(e,n))),c.add(Yh.commands.registerCommand("o.reanalyze.allProjects",async()=>Fdt(e))),c.add(Yh.commands.registerCommand("o.reanalyze.currentProject",async()=>qdt(e))),c.add(Yh.commands.registerCommand("dotnet.generateAssets",async u=>jz(s,u))),c.add(Yh.commands.registerCommand("csharp.reportIssue",async()=>{let u=kdt(a);return IA(r,jh,t.isValidPlatformForMono(),u?[u]:[],o,i)})),new fo(c)}function kdt(r){if(r.logLevel)return r}async function Adt(r,e){e.isRunning()?await e.restart():await e.autoStart("")}async function Mdt(r){return M2().then(async e=>{let t=r.getSolutionPathOrFolder();if(t)for(let n of e)n.target===t&&(n.label=`\u2713 ${n.label}`);return OX(r,e)})}async function OX(r,e){let t=await Yh.window.showQuickPick(e,{matchOnDescription:!0,placeHolder:`Select 1 of ${e.length} projects`});if(t!==void 0)return r.restart(t)}function Ldt(r,e){return r.map(async t=>{let n=t.Directory;return new Promise((i,o)=>{q0e.lstat(n,(s,a)=>{if(s)return o(s);a.isFile()&&(n=Uz.dirname(n)),i({label:`dotnet restore - (${t.Name||Uz.basename(t.Directory)})`,description:n,async execute(){return z0e(n,e,t.Name)}})})})})}async function Ndt(r,e){let t=await j0e(r);e.post(new s1);let n=await Promise.all(Ldt(t,e)),i=await Yh.window.showQuickPick(n);if(i)return i.execute()}async function Fdt(r){await eG(r,{})}async function qdt(r){let e=Yh.window.activeTextEditor;e!==void 0&&await eG(r,{FileName:e.document.uri.fsPath})}async function jdt(r,e){let t=await j0e(r);e.post(new s1);for(let n of t)await z0e(n.Directory,e,n.Name)}async function j0e(r){if(!r.isRunning())throw new Error("OmniSharp server is not running.");let e=await lw(r),t=jye(e);if(t.length===0)throw new Error("No .NET Core projects found");return t}async function z0e(r,e,t){return new Promise((n,i)=>{let o="dotnet",s=["restore"];t&&s.push(t);let a=F0e.spawn(o,s,{cwd:r,env:process.env});function c(u){u.on("data",l=>{e.post(new n1(l.toString()))}),u.on("err",l=>{e.post(new n1(`ERROR: ${l}`))})}c(a.stdout),c(a.stderr),a.on("close",u=>{e.post(new m2(`Done: ${u}.`)),n()}),a.on("error",u=>{e.post(new g2(`ERROR: ${u}`)),i(u)})})}var Wf=be(require("vscode")),B0e=be(VS());var U0e=require("child_process"),Hz=async r=>{let e=/(\d+\.\d+\.\d+)/;return new Promise((t,n)=>{let i=(0,U0e.spawn)("mono",["--version"],{env:r});i.on("error",()=>{t(void 0)});let o="";i.stdout.on("data",s=>{o+=s.toString()}),i.stdout.on("close",()=>{let s=e.exec(o);s&&s.length>1?t(s[1]):t(void 0)})})};var H0e=require("path");var Wz;async function W0e(){if(Wz!==void 0)return Wz;let r=(0,H0e.join)("msbuild",zd.getPlatformExeExtension());try{let e=await ry(`${r} -version -nologo`,process.cwd(),process.env),t=/^(\d+\.\d+\.\d+\.\d+)$/.exec(e);t&&(Wz=t[1])}catch{}return Wz}async function $0e(){let r=await zdt();if(r.needsDotNetSdk){let e=await Udt();return e===1?await Wf.env.openExternal(Wf.Uri.parse("https://dot.net/core-sdk-vscode")):e===2&&await Wf.commands.executeCommand("workbench.action.openGlobalSettings"),!1}if(r.needsMono||r.needsMSBuildTools){let e=await Hdt();return e===1?await Wf.env.openExternal(Wf.Uri.parse("https://www.mono-project.com/download/stable/")):e===2&&await Wf.commands.executeCommand("workbench.action.openGlobalSettings"),!1}return!0}async function zdt(){if(Nr.useModernNet){let r=await jh(Nr.dotNetCliPaths);return{needsDotNetSdk:r.Version===void 0||B0e.lt(r.Version,"6.0.0"),needsMono:!1,needsMSBuildTools:!1}}if(process.platform==="win32")return{needsMSBuildTools:!1,needsDotNetSdk:!1,needsMono:!1};{let r=new NP(Hz),e=!1;try{await r.getHostExecutableInfo()}catch{e=!0}let t=await W0e();return{needsMono:e,needsDotNetSdk:!1,needsMSBuildTools:t===void 0}}}async function Udt(){return new Promise((r,e)=>{let t="OmniSharp requires an install of the .NET SDK to provide language services when `omnisharp.useModernNet` is enabled in Settings. Please install the latest .NET SDK and restart vscode. If you continue see this error after installing .NET and restarting vscode, you may need to log out and log back in or restart your system for changes to the PATH to take effect.",n={modal:!0},i={title:"Get the SDK",result:1},o={title:"Open settings",result:2,isCloseAffordance:!0};Wf.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}async function Hdt(){return new Promise((r,e)=>{let t=Wf.l10n.t("OmniSharp requires a complete install of Mono (including MSBuild) to provide language services when `omnisharp.useModernNet` is disabled in Settings. Please install the latest Mono and restart."),n={modal:!0},i={title:Wf.l10n.t("Download Mono"),result:1},o={title:Wf.l10n.t("Open settings"),result:2,isCloseAffordance:!0};Wf.window.showErrorMessage(t,n,o,i).then(s=>r(s?.result??0))})}var Go;(de=>(de.StateChanged="stateChanged",de.StdOut="stdout",de.StdErr="stderr",de.Error="Error",de.ServerError="ServerError",de.UnresolvedDependencies="UnresolvedDependencies",de.PackageRestoreStarted="PackageRestoreStarted",de.PackageRestoreFinished="PackageRestoreFinished",de.ProjectChanged="ProjectChanged",de.ProjectAdded="ProjectAdded",de.ProjectRemoved="ProjectRemoved",de.BackgroundDiagnosticStatus="BackgroundDiagnosticStatus",de.MsBuildProjectDiagnostics="MsBuildProjectDiagnostics",de.TestMessage="TestMessage",de.BeforeServerInstall="BeforeServerInstall",de.BeforeServerStart="BeforeServerStart",de.ServerStart="ServerStart",de.ServerStop="ServerStop",de.MultipleLaunchTargets="server:MultipleLaunchTargets",de.Started="started",de.ProjectConfiguration="ProjectConfiguration"))(Go||={});var Wdt=2*60*1e3,Bz=class{constructor(e,t,n,i,o,s,a,c,u,l,d,f){this.vscode=e;this.packageJSON=n;this.platformInfo=i;this.eventStream=o;this.extensionPath=s;this.monoResolver=a;this.dotnetResolver=c;this.context=u;this.outputChannel=l;this.languageMiddlewareFeature=d;let y=new k2(t,this.eventStream,this.packageJSON,i,s,f);this._omnisharpManager=new Hq(y,i),this.updateProjectDebouncer.pipe((0,K0e.debounceTime)(1500)).subscribe(async b=>{await this.updateProjectInfo()}),this.firstUpdateProject=!0}_delayTrackers={};_eventBus=new V0e.EventEmitter;_state={status:2};_launchTarget;_sessionProperties={};_omnisharpManager;updateProjectDebouncer=new G0e.Subject;firstUpdateProject;get sessionProperties(){return this._sessionProperties}isRunning(){return this._state.status===1}async waitForInitialize(){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:e}=this._state;await e.waitForInitialize()}_setState(e){e.status!==this._state.status&&(this._state=e,this._fireEvent(Go.StateChanged,this._state.status))}_recordRequestDelay(e,t){let n=this._delayTrackers[e];n||(n=new Uq(e),this._delayTrackers[e]=n),n.reportDelay(t)}_reportTelemetry(){let e=this._delayTrackers;for(let t in e){let n=e[t],i="omnisharp"+t;if(n.hasMeasures()){let o=n.getMeasures();n.clearMeasures(),this.eventStream.post(new Bq(i,o))}}}getSolutionPathOrFolder(){return this._launchTarget?.target}onStdout(e,t){return this._addListener(Go.StdOut,e,t)}onStderr(e,t){return this._addListener(Go.StdErr,e,t)}onError(e,t){return this._addListener(Go.Error,e,t)}onServerError(e,t){return this._addListener(Go.ServerError,e,t)}onUnresolvedDependencies(e,t){return this._addListener(Go.UnresolvedDependencies,e,t)}onBeforePackageRestore(e,t){return this._addListener(Go.PackageRestoreStarted,e,t)}onPackageRestore(e,t){return this._addListener(Go.PackageRestoreFinished,e,t)}onProjectChange(e,t){return this._addListener(Go.ProjectChanged,e,t)}onProjectAdded(e,t){return this._addListener(Go.ProjectAdded,e,t)}onProjectRemoved(e,t){return this._addListener(Go.ProjectRemoved,e,t)}onBackgroundDiagnosticStatus(e,t){return this._addListener(Go.BackgroundDiagnosticStatus,e,t)}onMsBuildProjectDiagnostics(e,t){return this._addListener(Go.MsBuildProjectDiagnostics,e,t)}onTestMessage(e,t){return this._addListener(Go.TestMessage,e,t)}onBeforeServerInstall(e){return this._addListener(Go.BeforeServerInstall,e)}onBeforeServerStart(e){return this._addListener(Go.BeforeServerStart,e)}onServerStart(e){return this._addListener(Go.ServerStart,e)}onServerStop(e){return this._addListener(Go.ServerStop,e)}onMultipleLaunchTargets(e,t){return this._addListener(Go.MultipleLaunchTargets,e,t)}onOmnisharpStart(e){return this._addListener(Go.Started,e)}_addListener(e,t,n){return t=n?t.bind(n):t,this._eventBus.addListener(e,t),new Xl(()=>this._eventBus.removeListener(e,t))}_fireEvent(e,t){this._eventBus.emit(e,t)}async start(e){if(this._state.status!==2){this.eventStream.post(new dT("Attempt to start OmniSharp server failed because another server instance is running."));return}if(e.workspaceKind===6){this.eventStream.post(new dw("During Live Share sessions language services are provided by the Live Share server."));return}if(!await $0e()){this.eventStream.post(new dw("OmniSharp failed to start because of missing requirements."));return}let t=new fo,n;Nr.enableLspDriver?n=new vz(this._eventBus,this.eventStream,this.context,this.outputChannel,t,this.languageMiddlewareFeature,this.platformInfo,this.monoResolver,this.dotnetResolver):n=new kz(this._eventBus,this.eventStream,this.platformInfo,this.monoResolver,this.dotnetResolver,t),t.add(this.onServerError(k=>this.eventStream.post(new dT(k)))),t.add(this.onError(k=>this.eventStream.post(new Jq(k)))),t.add(this.onMsBuildProjectDiagnostics(k=>this.eventStream.post(new Qq(k)))),t.add(this.onUnresolvedDependencies(k=>this.eventStream.post(new Zq(k)))),t.add(this.onStderr(k=>this.eventStream.post(new v2(k)))),t.add(this.onMultipleLaunchTargets(k=>this.eventStream.post(new r2(k)))),t.add(this.onBeforeServerInstall(()=>this.eventStream.post(new T2))),t.add(this.onBeforeServerStart(()=>{this.eventStream.post(new D2)})),t.add(this.onServerStop(()=>this.eventStream.post(new R2))),t.add(this.onServerStart(()=>{this.eventStream.post(new x2)})),t.add(this.onBackgroundDiagnosticStatus(k=>this.eventStream.post(new Xq(k)))),t.add(this.onProjectConfigurationReceived(k=>{this.eventStream.post(new n2(k))})),t.add(this.onProjectAdded(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectChange(this.debounceUpdateProjectWithLeadingTrue)),t.add(this.onProjectRemoved(this.debounceUpdateProjectWithLeadingTrue)),this._setState({status:0,disposables:t}),this._launchTarget=e;let i=e.target,o=AR.dirname(i),s=["-z","-s",i,"--hostPID",process.pid.toString(),"DotNet:enablePackageRestore=false","--loglevel",Nr.loggingLevel],a=Tu.razorPluginPath,c=a.length>0?a:AR.join(this.extensionPath,".razoromnisharp","OmniSharpPlugin","Microsoft.AspNetCore.Razor.OmniSharpPlugin.dll");IX.existsSync(c)&&s.push("--plugin",c),ss.waitForDebugger===!0&&s.push("--debug");let u=ss.excludePaths;for(let k=0;k<u.length;k++)s.push(`FileOptions:SystemExcludeSearchPatterns:${k}=${u[k]}`);Nr.enableMsBuildLoadProjectsOnDemand===!0&&s.push("MsBuild:LoadProjectsOnDemand=true"),Nr.enableRoslynAnalyzers===!0&&s.push("RoslynExtensionsOptions:EnableAnalyzersSupport=true"),Nr.enableEditorConfigSupport===!0&&s.push("FormattingOptions:EnableEditorConfigSupport=true"),ss.organizeImportsOnFormat===!0&&s.push("FormattingOptions:OrganizeImports=true"),Nr.enableDecompilationSupport===!0&&s.push("RoslynExtensionsOptions:EnableDecompilationSupport=true"),Nr.enableImportCompletion===!0&&s.push("RoslynExtensionsOptions:EnableImportCompletion=true"),Nr.enableAsyncCompletion===!0&&s.push("RoslynExtensionsOptions:EnableAsyncCompletion=true");let l=Nr.sdkPath;l.length>0&&s.push(`Sdk:Path=${l}`);let d=Nr.sdkVersion;d.length>0&&s.push(`Sdk:Version=${d}`),Nr.sdkIncludePrereleases&&s.push("Sdk:IncludePrereleases=true");let f=Nr.inlayHintsEnableForParameters;f===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForParameters=${f.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLiteralParameters=${Nr.inlayHintsForLiteralParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForIndexerParameters=${Nr.inlayHintsForIndexerParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForObjectCreationParameters=${Nr.inlayHintsForObjectCreationParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForOtherParameters=${Nr.inlayHintsForOtherParameters.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatDifferOnlyBySuffix=${Nr.inlayHintsSuppressForParametersThatDifferOnlyBySuffix.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchMethodIntent=${Nr.inlayHintsSuppressForParametersThatMatchMethodIntent.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:SuppressForParametersThatMatchArgumentName=${Nr.inlayHintsSuppressForParametersThatMatchArgumentName.toString()}`));let y=Nr.inlayHintsEnableForTypes;y===!0&&(s.push(`RoslynExtensionsOptions:InlayHintsOptions:EnableForTypes=${y.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitVariableTypes=${Nr.inlayHintsForImplicitVariableTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForLambdaParameterTypes=${Nr.inlayHintsForLambdaParameterTypes.toString()}`),s.push(`RoslynExtensionsOptions:InlayHintsOptions:ForImplicitObjectCreation=${Nr.inlayHintsForImplicitObjectCreation.toString()}`)),Nr.analyzeOpenDocumentsOnly===!0&&s.push("RoslynExtensionsOptions:AnalyzeOpenDocumentsOnly=true");let b=Nr.dotNetCliPaths;for(let k=0;k<b.length;k++)s.push(`DotNetCliOptions:LocationPaths:${k}=${b[k]}`);let T;try{T=await this._omnisharpManager.GetOmniSharpLaunchPath(this.packageJSON.defaults.omniSharp,ss.serverPath,!Nr.useModernNet,this.extensionPath)}catch(k){let z=k;this.eventStream.post(new Gq(`Error occurred in loading omnisharp from omnisharp.path
Could not start the server due to ${z.toString()}`,z));return}this.eventStream.post(new Vq(b,new Date,i)),this._fireEvent(Go.BeforeServerStart,i);try{await n.start(o,s,e,T),this._setState({status:1,disposables:t,engine:n,telemetryIntervalId:setInterval(()=>this._reportTelemetry(),Wdt)}),this._delayTrackers={},c!==void 0&&Tu.razorPluginPath&&(IX.existsSync(c)?this.eventStream.post(new p2(c)):this.eventStream.post(new h2(c))),this._fireEvent(Go.ServerStart,i)}catch(k){return this._fireEvent(Go.ServerError,k),this.stop()}}async registerProviders(e,t,n){if(this._state.status!==1){this.eventStream.post(new dT("Attempt to register providers failed because no server instance is running."));return}let{engine:i}=this._state;return await i.registerProviders(this,this.languageMiddlewareFeature,e,t,n)}onProjectConfigurationReceived(e){return this._addListener(Go.ProjectConfiguration,e)}debounceUpdateProjectWithLeadingTrue=async()=>{this.firstUpdateProject?await this.updateProjectInfo():this.updateProjectDebouncer.next(new _2)};updateProjectInfo=async()=>{this.firstUpdateProject=!1;let e=await lw(this);this.eventStream.post(new i2(e))};async stop(){if(this._state.status!==2&&this._state.status===1){let{disposables:e,engine:t,telemetryIntervalId:n}=this._state;await t.stop(),t.dispose(),this._sessionProperties={},this._setState({status:2}),this._fireEvent(Go.ServerStop,this),e.dispose(),clearInterval(n),this._reportTelemetry()}}async restart(e=this._launchTarget){if(this._state.status===0){this.eventStream.post(new dT("Attempt to restart OmniSharp server failed because another server instance is starting."));return}e!==void 0&&(await this.stop(),this.eventStream.post(new O2),await this.start(e))}async autoStart(e){let t=await M2();if(t.length===0)return await new Promise(s=>{let a=this.vscode.workspace.createFileSystemWatcher("{**/*.sln,**/*.slnf,**/*.csproj,**/*.csx,**/*.cake}",!1,!0,!0);a.onDidCreate(c=>{a.dispose(),s()})}),this.autoStart(e);if(t.length===1)return this.start(t[0]);let n=ss.defaultSolution,i=t.find(s=>AR.basename(s.target)===n);if(i)return this.start(i);if(e.length>0){let s=t.find(a=>a.target===e);if(s)return this.start(s)}let o=t.find(s=>s.workspaceKind==3||s.workspaceKind==0);return o?this.start(o):process.env.RUNNING_INTEGRATION_TESTS==="true"?this.start(t[0]):(this._fireEvent(Go.MultipleLaunchTargets,t),OX(this,t))}async makeRequest(e,t,n){if(this._state.status!==1)throw new Error("OmniSharp server is not running.");let{engine:i}=this._state,o=Date.now(),s=await i.makeRequest(e,t,n),c=Date.now()-o;return this._recordRequestDelay(e,c),s}async makeRequest0(e,t,n){await this.makeRequest(e,t,n)}};var Z0e=be(require("net")),kX=be(require("os")),AA=be(require("path"));var La=be(require("vscode"));var Y0e=be(require("vscode"));var J0e="processLaunched",X0e="debuggingStopped";function Q0e(r){if(r[r.length-1]!=10)throw new Error(Y0e.l10n.t("Unexpected message received from debugger."));let e=r.toString("utf-8",0,r.length-1);return JSON.parse(e)}var $dt=2*60*1e3,kA=class extends Gi{_runCounts;_debugCounts;_telemetryIntervalId=void 0;_eventStream;constructor(e,t,n){super(e,n),this._eventStream=t;let i=La.commands.registerCommand("dotnet.test.run",async(d,f,y)=>this.runDotnetTest(d,f,y)),o=La.commands.registerCommand("dotnet.test.debug",async(d,f,y)=>this.debugDotnetTest(d,f,y)),s=La.commands.registerCommand("dotnet.classTests.run",async(d,f,y,b)=>this.runDotnetTestsInClass(d,f,y,b)),a=La.commands.registerCommand("dotnet.classTests.debug",async(d,f,y,b)=>this.debugDotnetTestsInClass(d,f,y,b)),c=La.commands.registerTextEditorCommand("dotnet.test.runTestsInContext",async d=>this._runDotnetTestsInContext(d.document.fileName,d.selection.active,d.document.languageId)),u=La.commands.registerTextEditorCommand("dotnet.test.debugTestsInContext",async d=>this._debugDotnetTestsInContext(d.document.fileName,d.document.uri,d.selection.active,d.document.languageId));this._telemetryIntervalId=setInterval(()=>this._reportTelemetry(),$dt);let l=new Xl(()=>{this._telemetryIntervalId!==void 0&&(clearInterval(this._telemetryIntervalId),this._telemetryIntervalId=void 0,this._reportTelemetry())});this.addDisposables(new fo(i,o,l,s,a,c,u))}_recordRunRequest(e){this._runCounts===void 0&&(this._runCounts={}),e===void 0&&(e="context");let t=this._runCounts[e];t?t+=1:t=1,this._runCounts[e]=t}_recordDebugRequest(e){this._debugCounts===void 0&&(this._debugCounts={}),e===void 0&&(e="context");let t=this._debugCounts[e];t?t+=1:t=1,this._debugCounts[e]=t}_reportTelemetry(){this._eventStream.post(new Yq(this._debugCounts,this._runCounts)),this._runCounts=void 0,this._debugCounts=void 0}async _saveDirtyFiles(){return Promise.resolve(La.workspace.saveAll(!1))}async _runTest(e,t,n,i,o,s){let a={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:s};return(await ibe(this._server,a)).Results}async _recordRunAndGetFrameworkVersion(e,t){await this._saveDirtyFiles(),this._recordRunRequest(t);let n;try{n=await Zk(this._server,{FileName:e})}catch{return}let i;if(n.MsBuildProject)i=n.MsBuildProject.TargetFramework;else throw new Error("Expected .csproj project.");return i}async discoverTests(e,t,n){let i=await this._recordRunAndGetFrameworkVersion(e,t),o=this._getRunSettings(e),s={FileName:e,RunSettings:o,TestFrameworkName:t,TargetFrameworkVersion:i,NoBuild:n};try{return(await Uye(this._server,s)).Tests}catch{}}_getRunSettings(e){let t=ss.runSettingsPath;if(t.length===0)return;if(AA.isAbsolute(t))return t;let n=La.Uri.file(e),i=La.workspace.getWorkspaceFolder(n);if(i!==void 0)return AA.join(i.uri.fsPath,t)}async runDotnetTest(e,t,n,i=!1){this._eventStream.post(new o2(e));let o=this._server.onTestMessage(c=>{this._eventStream.post(new Uh(c.Message))}),s=await this._recordRunAndGetFrameworkVersion(t,n),a=this._getRunSettings(t);try{let c=await this._runTest(t,e,a,n,s,i);this._eventStream.post(new jP(c))}catch(c){let u=c.message;this._eventStream.post(new fw(u))}finally{o.dispose()}}async runDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new c2(e));let s=this._server.onTestMessage(u=>{this._eventStream.post(new Uh(u.Message))}),a=await this._recordRunAndGetFrameworkVersion(n,i),c=this._getRunSettings(n);try{let u=await this._runTestsInClass(n,c,i,a,t,o);this._eventStream.post(new jP(u))}catch(u){let l=u.message;this._eventStream.post(new fw(l))}finally{s.dispose()}}async _runTestsInClass(e,t,n,i,o,s){let a={FileName:e,RunSettings:t,TestFrameworkName:n,TargetFrameworkVersion:i,MethodNames:o,NoBuild:s};return(await obe(this._server,a)).Results}async _runDotnetTestsInContext(e,t,n){if(n!=="csharp"){this._eventStream.post(new Uh(`${La.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new l2(La.workspace.asRelativePath(e,!1),t.line,t.character));let i=this._server.onTestMessage(c=>{this._eventStream.post(new Uh(c.Message))}),o=await this._recordRunAndGetFrameworkVersion(e),s=this._getRunSettings(e),a={FileName:e,Line:t.line,Column:t.character,RunSettings:s,TargetFrameworkVersion:o};try{let c=await sbe(this._server,a);c.ContextHadNoTests?this._eventStream.post(new Uh(c.Failure)):!c.Pass&&c.Results===null?this._eventStream.post(new fw(c.Failure)):this._eventStream.post(new jP(c.Results))}catch(c){let u=c.message;this._eventStream.post(new fw(u))}finally{i.dispose()}}_createLaunchConfiguration(e,t,n,i,o){let s=ss.unitTestDebuggingOptions,a;return typeof s=="object"?a=JSON.parse(JSON.stringify(s)):a={},{...a,type:a.type||"coreclr",name:".NET Test Launch",request:"launch",debuggerEventsPipeName:o,program:e,args:t,cwd:n,env:i}}async _getLaunchConfigurationForVSTest(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new Uh(l.Message))}),u={FileName:e,MethodName:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await abe(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _recordDebugAndGetDebugValues(e,t){await this._saveDirtyFiles(),this._recordDebugRequest(t);let n;try{n=await Zk(this._server,{FileName:e})}catch{throw new Error("Could not determine project type.")}if(!n.MsBuildProject)throw new Error("Expected .csproj project.");let i=n.MsBuildProject.TargetFramework,o=new AX(e,this._server,this._eventStream);return await o.start(),{debugEventListener:o,targetFrameworkVersion:i}}async debugDotnetTest(e,t,n,i=!1){this._eventStream.post(new s2(e));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(t,n),a=this._getRunSettings(t);try{let c=await this._getLaunchConfigurationForVSTest(t,e,a,n,s,o,i),u=La.workspace.getWorkspaceFolder(La.Uri.file(t));return La.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new o1(u)),o.close()}}async debugDotnetTestsInClass(e,t,n,i,o=!1){this._eventStream.post(new u2(e));let{debugEventListener:s,targetFrameworkVersion:a}=await this._recordDebugAndGetDebugValues(n,i),c=this._getRunSettings(n);try{let u=await this._getLaunchConfigurationForVSTestClass(n,t,c,i,a,s,o),l=La.workspace.getWorkspaceFolder(La.Uri.file(n));return La.debug.startDebugging(l,u)}catch(u){let l=u.message;this._eventStream.post(new o1(l)),s.close()}}async _debugDotnetTestsInContext(e,t,n,i){if(i!=="csharp"){this._eventStream.post(new Uh(`${La.workspace.asRelativePath(e,!1)} is not a C# file, cannot run tests`));return}this._eventStream.post(new d2(La.workspace.asRelativePath(e,!1),n.line,n.character));let{debugEventListener:o,targetFrameworkVersion:s}=await this._recordDebugAndGetDebugValues(e),a=this._getRunSettings(e);try{let c=await this._getLaunchConfigurationForVSTestInContext(e,n.line,n.character,a,s,o);if(c===null)return;let u=La.workspace.getWorkspaceFolder(t);return La.debug.startDebugging(u,c)}catch(c){let u=c.message;this._eventStream.post(new fw(u)),o.close()}}async _getLaunchConfigurationForVSTestClass(e,t,n,i,o,s,a){let c=this._server.onTestMessage(l=>{this._eventStream.post(new Uh(l.Message))}),u={FileName:e,MethodNames:t,RunSettings:n,TestFrameworkName:i,TargetFrameworkVersion:o,NoBuild:a};try{let l=await cbe(this._server,u);return this._createLaunchConfiguration(l.FileName,l.Arguments,l.WorkingDirectory,l.EnvironmentVariables,s.pipePath())}finally{c.dispose()}}async _getLaunchConfigurationForVSTestInContext(e,t,n,i,o,s){let a=this._server.onTestMessage(u=>{this._eventStream.post(new Uh(u.Message))}),c={FileName:e,Line:t,Column:n,RunSettings:i,TargetFrameworkVersion:o};try{let u=await ube(this._server,c);return u.Succeeded?this._createLaunchConfiguration(u.FileName,u.Arguments,u.WorkingDirectory,u.EnvironmentVariables,s.pipePath()):(u.ContextHadNoTests?this._eventStream.post(new Uh(u.FailureReason)):this._eventStream.post(new fw(u.FailureReason)),null)}finally{a.dispose()}}},AX=class r{static s_activeInstance;_fileName;_server;_pipePath;_eventStream;_serverSocket;_isClosed=!1;constructor(e,t,n){if(this._fileName=e,this._server=t,this._eventStream=n,kX.platform()==="win32")this._pipePath="\\\\.\\pipe\\Microsoft.VSCode.CSharpExt.TestDebugEvents"+process.pid;else{let i=Ice();this._pipePath=AA.join(i,"ms-dotnettools.csharp-tde-"+process.pid)}}async start(){r.s_activeInstance!==void 0&&r.s_activeInstance.close(),r.s_activeInstance=this;let e=Z0e.createServer(t=>{t.on("data",async n=>{let i;try{i=Q0e(n)}catch{this._eventStream.post(new i1("Invalid event received from debugger"));return}switch(i.eventType){case J0e:{let o=i;this._eventStream.post(new a2(o.targetProcessId)),await this.onProcessLaunched(o.targetProcessId);break}case X0e:this._eventStream.post(new I2),await this.onDebuggingStopped();break}}),t.on("end",async()=>{await this.onDebuggingStopped()})});return this._serverSocket=e,await this.removeSocketFileIfExists(),new Promise((t,n)=>{e.on("error",i=>{e.listening?this._eventStream.post(new i1(`Communications error on debugger event channel. ${i.message}`)):n(i.message)}),e.listen(this._pipePath,()=>{t()})})}pipePath(){return this._pipePath}close(){this===r.s_activeInstance&&(r.s_activeInstance=void 0),!this._isClosed&&(this._isClosed=!0,this._serverSocket!==void 0&&this._serverSocket.close())}async onProcessLaunched(e){let t={FileName:this._fileName,TargetProcessId:e},n=this._server.onTestMessage(i=>{this._eventStream.post(new Uh(i.Message))});try{await lbe(this._server,t)}finally{n.dispose()}}async onDebuggingStopped(){if(this._isClosed)return;let e={FileName:this._fileName};try{await dbe(this._server,e),this.close()}catch{return}}async removeSocketFileIfExists(){return kX.platform()==="win32"?Promise.resolve():Mce(this._pipePath)}};var MR=be(require("path"));var $z=class{constructor(e){this.server=e}async getWorkspaceDebugInformation(e){return this.server.isRunning()?(await lw(this.server)).MsBuild?.Projects.map(o=>{let s=OP(o.TargetFrameworks.map(a=>a.ShortName))!==void 0;return{projectPath:o.Path,outputPath:o.TargetPath,projectName:`${MR.basename(o.Path,".csproj")} (${o.Path})`,targetsDotnetCore:s,isExe:o.IsExe,isWebProject:o.IsWebProject,isBlazorWebAssemblyHosted:o.IsBlazorWebAssemblyHosted,isBlazorWebAssemblyStandalone:o.IsBlazorWebAssemblyStandalone,solutionPath:null}})?.filter(o=>{let s=MR.resolve(e.fsPath),a=MR.dirname(o.projectPath);return Nce(a,s)}):void 0}};var ePe=be(eC()),zC=be(require("vscode"));var LR=class extends rT{constructor(t,n,i){super(n,i);this.workspaceDebugInfoProvider=t}async provideDebugConfigurations(t,n){if(!t||!t.uri)return Wi(zC,zC.l10n.t("Cannot create .NET debug configurations. No workspace folder was selected.")),[];try{let i=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(t.uri);if(!i)return Wi(zC,zC.l10n.t("Cannot create .NET debug configurations. The server is still initializing or has exited unexpectedly.")),[];if(i.length===0)return Wi(zC,zC.l10n.t("Cannot create .NET debug configurations. The active C# project is not within folder '{0}'.",t.uri.fsPath)),[];let o=new jC(i,t);if(o.hasExecutableProjects()){if(!await o.selectStartupProject())return[];await ePe.ensureDir(o.vscodeFolder);let s=await xA(o);await EA(o,s);let a=o.computeProgramLaunchType();return o.createLaunchJsonConfigurationsArray(a,!1)}else throw new Error(zC.l10n.t("Does not contain .NET Core projects."))}catch{return[A0e(),Fw(Fz())]}}};function Vz(r){let e={"platform.architecture":r.architecture,"platform.platform":r.platform};return r.distribution&&(e["platform.distribution"]=r.distribution.toTelemetryString()),e}var Gz=be(require("crypto")),rPe=be(tPe());function Kz(r,e,t,n,i,o){let s="";i&&(s=Vdt(i));let a=Vz(t);a.SolutionId=s,a.ProjectId=e.ProjectId,a.SessionId=e.SessionId,a.OutputType=e.OutputKind?.toString()??"",a.ProjectCapabilities=e.ProjectCapabilities?.join(" ")??"",a.TargetFrameworks=e.TargetFrameworks.join("|"),a.References=e.References.join("|"),a.FileExtensions=e.FileExtensions.join("|"),a.FileCounts=e.FileCounts?.join("|")??"",a.NetSdkVersion=n?.Version??"",a.sdkStyleProject=e.SdkStyleProject.toString(),e.HasSolutionFile!=null&&(a.HasSolutionFile=e.HasSolutionFile.toString()),e.IsFileBasedProgram!=null&&(a.IsFileBasedProgram=e.IsFileBasedProgram.toString()),e.IsMiscellaneousFile!=null&&(a.IsMiscellaneousFile=e.IsMiscellaneousFile.toString()),o&&(a.useModernNet=o.toString()),r.sendTelemetryEvent("ProjectConfiguration",a)}function Vdt(r){let e=Gz.createHash("sha256").update(r).digest("hex"),t=(0,rPe.machineIdSync)(),n=Gz.createHash("sha256").update(t).digest("hex");return Gz.createHash("sha256").update(e+n).digest("hex")}var Yz=class{reporter;platformInfo;solutionPath;dotnetInfo;useModernNet;constructor(e,t,n){this.platformInfo=e,this.reporter=t(),this.useModernNet=n}post=async e=>{let t=Vz(this.platformInfo);switch(e.type){case 4:await this.handleOmnisharpInitialisation(e);break;case 7:this.reporter.sendTelemetryEvent("AcquisitionStart");break;case 10:this.handleInstallationFailure(e,t);break;case 50:this.handleInstallationSuccess(t);break;case 3:case 0:this.handleTelemetryEventMeasures(e);break;case 14:this.handleTestExecutionCountReport(e);break;case 1:{let n=e;this.reporter.sendTelemetryEvent(n.eventName,n.properties,n.measures);break}case 78:{let n=e;this.reporter.sendTelemetryErrorEvent(n.eventName,n.properties,n.measures,n.errorProps);break}case 74:this.handleProjectConfigurationReceived(e);break}};handleTelemetryEventMeasures(e){this.reporter.sendTelemetryEvent(e.eventName,void 0,e.measures)}async handleOmnisharpInitialisation(e){this.dotnetInfo=await jh(e.dotNetCliPaths),this.solutionPath=e.solutionPath}handleInstallationSuccess(e){e.installStage="completeSuccess",this.reporter.sendTelemetryEvent("AcquisitionSucceeded",e)}handleInstallationFailure(e,t){t.installStage=e.stage,e.error instanceof Tb&&(t["error.message"]=e.error.message,t["error.packageUrl"]=e.error.pkg.url),this.reporter.sendTelemetryEvent("AcquisitionFailed",t)}handleTestExecutionCountReport(e){e.debugCounts&&this.reporter.sendTelemetryEvent("DebugTest",void 0,e.debugCounts),e.runCounts&&this.reporter.sendTelemetryEvent("RunTest",void 0,e.runCounts)}handleProjectConfigurationReceived(e){let t=e.projectConfiguration;Kz(this.reporter,t,this.platformInfo,this.dotnetInfo,this.solutionPath??"",this.useModernNet)}};var OT=be(require("vscode"));var Jz=require("util");function Xz(r,e){let t,n=r.pipe().subscribe(()=>{let i=e.getRelevantOptions(),o=Gdt(i);t||(t=o);let s=i.changedCommonOptions.filter(u=>!(0,Jz.isDeepStrictEqual)(t.commonOptions.get(u),o.commonOptions.get(u))),a=i.changedLanguageServerOptions.filter(u=>!(0,Jz.isDeepStrictEqual)(t.languageServerOptions.get(u),o.languageServerOptions.get(u))),c=i.changedOmnisharpOptions.filter(u=>!(0,Jz.isDeepStrictEqual)(t.omnisharpOptions.get(u),o.omnisharpOptions.get(u)));t=o,(s.length>0||a.length>0||c.length>0)&&e.handleOptionChanges({changedCommonOptions:s,changedLanguageServerOptions:a,changedOmnisharpOptions:c})});return new Xl(n)}function Gdt(r){return{commonOptions:new Map(r.changedCommonOptions.map(e=>[e,ss[e]])),omnisharpOptions:new Map(r.changedOmnisharpOptions.map(e=>[e,Nr[e]])),languageServerOptions:new Map(r.changedLanguageServerOptions.map(e=>[e,po[e]]))}}function nPe(r){return Xz(r,{getRelevantOptions:()=>({changedCommonOptions:PF,changedLanguageServerOptions:[],changedOmnisharpOptions:Nhe}),handleOptionChanges(n){if(n.changedCommonOptions.find(s=>s==="useOmnisharpServer")){let s={title:OT.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};Vs(OT,OT.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),s);return}let i=OT.l10n.t("C# configuration has changed. Would you like to relaunch the Language Server with your changes?"),o={title:OT.l10n.t("Restart Language Server"),command:"o.restart"};Vs(OT,i,o)}})}var Qz=class extends kf{post=e=>{switch(e.type){case 48:this.logger.appendLine("Warning: project.json is no longer a supported project format for .NET Core applications. Update to the latest version of .NET Core (https://aka.ms/netcoredownload) and use 'dotnet migrate' to upgrade your project (see https://aka.ms/netcoremigrate for details).");break;case 35:this.handleDocumentSynchronizationFailure(e);break;case 45:this.logger.appendLine("Getting latest OmniSharp version information");break}};handleDocumentSynchronizationFailure(e){this.logger.appendLine(`Failed to synchronize document '${e.documentPath}': ${e.errorMessage}`)}};async function iPe(r,e,t,n,i,o,s,a,c){sa.commands.executeCommand("setContext","dotnet.server.activationContext","OmniSharp");let u=Nr.useModernNet,l=new Yz(e,()=>c,u);i.subscribe(l.post);let d=new Qz(o);i.subscribe(d.post);let f=new bq(a),y=new _q(a);i.subscribe(f.post),i.subscribe(y.post);let b=new t1(s),T=new e1(s);i.subscribe(b.post),i.subscribe(T.post);let k=Nr.enableLspDriver?sa.window.createOutputChannel(sa.l10n.t("OmniSharp Log"),{log:!0}):sa.window.createOutputChannel(sa.l10n.t("OmniSharp Log")),z=new Sq(k,e),A=new Cq(k);i.subscribe(z.post),i.subscribe(A.post);let U=new Dq(sa,()=>Nr.disableMSBuildDiagnosticWarning||!1);i.subscribe(U.post);let ne=new Tq(sa);i.subscribe(ne.post);let de=new Rq(sa);i.subscribe(de.post);let ve=new LP(sa.window.createStatusBarItem("C#-Language-Service-Status",sa.StatusBarAlignment.Left,Number.MIN_VALUE+2));ve.name="C# Language Service Status";let $=new xq(ve);i.subscribe($.post);let W=new LP(sa.window.createStatusBarItem("C#-Project-Selector",sa.StatusBarAlignment.Left,Number.MIN_VALUE+1));W.name="C# Project Selector";let ee=new Eq(W);i.subscribe(ee.post);let Pe=new LP(sa.window.createStatusBarItem("C#-Code-Analysis",sa.StatusBarAlignment.Left,Number.MIN_VALUE));Pe.name="C# Code Analysis";let se=new Oq(Pe);if(i.subscribe(se.post),!1){let Le=new kq(k);i.subscribe(Le.post)}let Fe=new Aq(o);return i.subscribe(Fe.post),Tu.razorDevMode||await new Mq(n,i,r.extension.packageJSON,e,r.extension.extensionPath,c).DownloadAndInstallRazorOmnisharp(r.extension.packageJSON.defaults.razorOmnisharp),nPe(t),r.subscriptions.push(sa.window.onDidChangeActiveTextEditor(()=>{i.post(new P2)})),Kdt(r,r.extension.packageJSON,e,n,i,r.extension.extensionPath,k,c)}async function Kdt(r,e,t,n,i,o,s,a){let c=new fo,u=new NP(Hz),l=new Nq(t),d=new qq;d.register(),c.add(d);let f=new Bz(sa,n,e,t,i,o,u,l,r,s,d,a),y=new Oz(f),b=new kA(f,i,d),T=new $z(f),k;return c.add(f.onServerStart(async()=>{k=await f.registerProviders(i,y,b)})),c.add(f.onServerStop(()=>{k?.dispose(),k=void 0})),c.add(EX(r,f,t,i,u,l,T,s)),c.add(f.onServerStart(async()=>{await qz(r,T)})),sa.workspace.getConfiguration("csharp").get("suppressProjectJsonWarning")||c.add(f.onServerStart(async()=>{await lw(f).then(A=>{if(A.DotNet&&A.DotNet.Projects.length>0){let U=sa.l10n.t("project.json is no longer a supported project format for .NET Core applications."),ne=sa.l10n.t("More Detail");i.post(new C2),Hp(sa,U,ne)}})})),c.add(f.onServerStart(async()=>{let A={};await lw(f).then(U=>{U.DotNet&&U.DotNet.Projects.length>0&&(A["projectjson.projectcount"]=U.DotNet.Projects.length,A["projectjson.filecount"]=FO(U.DotNet.Projects,ne=>RV(ne.SourceFiles))),U.MsBuild&&U.MsBuild.Projects.length>0&&(A["msbuild.projectcount"]=U.MsBuild.Projects.length,A["msbuild.filecount"]=FO(U.MsBuild.Projects,ne=>RV(ne.SourceFiles)),A["msbuild.unityprojectcount"]=FO(U.MsBuild.Projects,ne=>ne.IsUnityProject?1:0),A["msbuild.netcoreprojectcount"]=FO(U.MsBuild.Projects,ne=>bbe(ne)?1:0)),i.post(new $q("OmniSharp.Start",A))})})),c.add(f.onBeforeServerStart(async A=>{Tu.razorDevMode&&i.post(new b2),await r.workspaceState.update("lastSolutionPathOrFolder",A)})),Nr.autoStart&&f.autoStart(r.workspaceState.get("lastSolutionPathOrFolder","")).catch(A=>{throw A}),c.add(new Xl(()=>{b.dispose(),y.dispose(),f.stop().catch(A=>console.error(A))})),c.add(sa.debug.registerDebugConfigurationProvider("coreclr",new LR(T,t,s))),r.subscriptions.push(c),new Promise(A=>f.onServerStart(U=>A({server:f,advisor:y,testManager:b})))}var fLe=be(require("fs")),pLe=be(s1e()),Aie=be(require("path")),u0=be(require("vscode"));var P$=be(require("vscode"));var Zw=be(require("vscode")),HM=be(Jr());var a1e=be(require("vscode"));var Ay=(s=>(s[s.added=0]="added",s[s.removed=1]="removed",s[s.opened=2]="opened",s[s.closed=3]="closed",s[s.csharpChanged=4]="csharpChanged",s[s.htmlChanged=5]="htmlChanged",s))(Ay||{});function wi(r){let e=r;if(r.authority&&r.scheme==="file"){let t=r.authority.toLowerCase();e=r.with({authority:t})}return e.fsPath||e.path}var My=class{constructor(e,t,n){this.documentManager=e;this.logger=n;e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}static scheme="virtualCSharp-razor";onDidChangeEmitter;get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.csharpDocument.getContent()}
// ${t.csharpDocument.hostDocumentSyncVersion}`:(this.logger.traceEnabled&&this.logger.logTrace(`Could not find document '${wi(e)}' when updating the C# buffer. This typically happens when a document is removed.`),"")}ensureDocumentContent(e){this.onDidChangeEmitter.fire(e)}documentChanged(e){(e.kind===4||e.kind===2||e.kind===1)&&this.onDidChangeEmitter.fire(e.document.csharpDocument.uri)}findRazorDocument(e){let t=wi(e);return this.documentManager.documents.find(n=>n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var yi=class{static serialize(e){if(e.scheme===My.scheme){let n=e.with({scheme:"file"}).toString(!0);return e.scheme+n.slice(4)}else return e.toString(!0)}static deserialize(e){return a1e.Uri.parse(e,!0)}};var sg=be(require("vscode")),cs=be(Z1()),gSt="roslyn.changeRazorCSharp",vSt="roslyn.closeRazorCSharp",Pne="roslyn.pullDiagnosticRazorCSharp",Rne="roslyn.provideCodeActions",xne="roslyn.resolveCodeAction",Ene="roslyn.provideCompletions",One="roslyn.resolveCompletion",Ine="roslyn.simplifyMethod",kne="roslyn.formatNewFile",Ane="razor.initialize",Mne="roslyn.provideInlayHints",Lne="roslyn.resolveInlayHint";function c1e(r,e){r.subscriptions.push(sg.commands.registerCommand(gSt,async n=>{await e.sendNotification(cs.DidChangeTextDocumentNotification.method,n)})),r.subscriptions.push(sg.commands.registerCommand(vSt,async n=>{await e.sendNotification(cs.DidCloseTextDocumentNotification.method,n)})),r.subscriptions.push(sg.commands.registerCommand(Pne,async n=>{let i=new cs.RequestType(cs.DocumentDiagnosticRequest.method);return await e.sendRequest(i,n,cs.CancellationToken.None)})),r.subscriptions.push(sg.commands.registerCommand(Ine,async n=>{let i=new cs.RequestType("roslyn/simplifyMethod");return await e.sendRequest(i,n,cs.CancellationToken.None)}));let t=new cs.RequestType("roslyn/formatNewFile");r.subscriptions.push(sg.commands.registerCommand(kne,async n=>await e.sendRequest(t,n,cs.CancellationToken.None))),r.subscriptions.push(sg.commands.registerCommand(Rne,async n=>await e.sendRequest(cs.CodeActionRequest.type,n,cs.CancellationToken.None))),r.subscriptions.push(sg.commands.registerCommand(xne,async n=>await e.sendRequest(cs.CodeActionResolveRequest.type,n,cs.CancellationToken.None))),r.subscriptions.push(sg.commands.registerCommand(Mne,async n=>await e.sendRequest(cs.InlayHintRequest.type,n,cs.CancellationToken.None))),r.subscriptions.push(sg.commands.registerCommand(Lne,async n=>await e.sendRequest(cs.InlayHintResolveRequest.type,n,cs.CancellationToken.None))),r.subscriptions.push(sg.commands.registerCommand(Ene,async n=>await e.sendRequest(cs.CompletionRequest.type,n,cs.CancellationToken.None))),r.subscriptions.push(sg.commands.registerCommand(One,async n=>await e.sendRequest(cs.CompletionResolveRequest.type,n,cs.CancellationToken.None))),r.subscriptions.push(sg.commands.registerCommand(Ane,async n=>{await e.sendNotification("razor/initialize",{pipeName:n})}))}var JW=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideCodeActionsEndpoint="razor/provideCodeActions";static resolveCodeActionsEndpoint="razor/resolveCodeActions";codeActionRequestType=new HM.RequestType(r.provideCodeActionsEndpoint);codeActionResolveRequestType=new HM.RequestType(r.resolveCodeActionsEndpoint);emptyCodeActionResponse=[];emptyCodeAction={};async register(){await this.serverClient.onRequestWithParams(this.codeActionRequestType,async(e,t)=>this.provideCodeActions(e,t)),await this.serverClient.onRequestWithParams(this.codeActionResolveRequestType,async(e,t)=>this.resolveCodeAction(e,t))}async provideCodeActions(e,t){try{let n=e.codeActionParams,i=Zw.Uri.parse(n.textDocument.uri,!0),o=await this.documentManager.getDocument(i);if(o===void 0)return this.emptyCodeActionResponse;if(e.languageKind!==1)return this.emptyCodeActionResponse;if(!this.documentManager.roslynActivated)return this.emptyCodeActionResponse;let s=await Zw.workspace.openTextDocument(i);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(s,o.csharpDocument,e.hostDocumentVersion,t))return this.emptyCodeActionResponse;let c=yi.serialize(o.csharpDocument.uri);return n.textDocument=HM.TextDocumentIdentifier.create(c),await Zw.commands.executeCommand(Rne,n)}catch(n){this.logger.logWarning(`${r.provideCodeActionsEndpoint} failed with ${n}`)}return this.emptyCodeActionResponse}async resolveCodeAction(e,t){try{let n=e.codeAction,i=Zw.Uri.parse(e.identifier.uri,!0),o=await this.documentManager.getDocument(i);if(o===void 0)return this.emptyCodeAction;if(e.languageKind!==1)return this.emptyCodeAction;let s=await Zw.workspace.openTextDocument(o.uri);return await this.documentSynchronizer.trySynchronizeProjectedDocument(s,o.csharpDocument,e.hostDocumentVersion,t)?await Zw.commands.executeCommand(xne,n):this.emptyCodeAction}catch(n){this.logger.logWarning(`${r.resolveCodeActionsEndpoint} failed with ${n}`)}return this.emptyCodeAction}};var vv=be(require("vscode")),Ny=be(Jr());var dE=class r{constructor(e,t,n,i,o){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.projectedCSharpProvider=i;this.logger=o}static completionEndpoint="razor/completion";static completionResolveEndpoint="razor/completionItem/resolve";completionRequestType=new Ny.RequestType(r.completionEndpoint);completionResolveRequestType=new Ny.RequestType(r.completionResolveEndpoint);static emptyCompletionList={items:new Array(0)};static emptyCompletionItem={};async register(){await this.serverClient.onRequestWithParams(this.completionRequestType,async(e,t)=>this.provideCompletions(e,t)),await this.serverClient.onRequestWithParams(this.completionResolveRequestType,async(e,t)=>this.provideResolvedCompletionItem(e,t))}async provideCompletions(e,t){try{let n=vv.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return r.emptyCompletionList;let o=await vv.workspace.openTextDocument(n),s;if(e.projectedKind===2)s=i.htmlDocument;else if(e.projectedKind===1)s=i.csharpDocument;else return this.logger.logWarning(`Unknown language kind value ${e.projectedKind}`),r.emptyCompletionList;if(!s)return this.logger.logWarning(`Null or undefined virtual document: ${s}`),r.emptyCompletionList;if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,s,e.identifier.version,t))return r.emptyCompletionList;let c=e.context.triggerCharacter==="@"?void 0:e.context.triggerCharacter,u=e.context.triggerCharacter==="@"?Ny.CompletionTriggerKind.Invoked:e.context.triggerKind;return e.projectedKind===1?this.provideCSharpCompletions(u,c,s,e.projectedPosition,e.provisionalTextEdit):r.provideVscodeCompletions(s.uri,e.projectedPosition,c)}catch(n){this.logger.logWarning(`${r.completionEndpoint} failed with ${n}`)}return r.emptyCompletionList}async provideResolvedCompletionItem(e,t){let n=vv.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),o=(await this.documentManager.getDocument(n)).csharpDocument,s=o.getProvisionalDotPosition();try{if(e.originatingKind!=1||e.completionItem.data.TextDocument==null)return e.completionItem;{o.ensureResolveProvisionalDot()&&s!==void 0&&await this.ensureProvisionalDotUpdatedInCSharpDocument(o.uri,s);let a=await vv.commands.executeCommand(One,e.completionItem);return a||e.completionItem}}catch(a){this.logger.logWarning(`${r.completionResolveEndpoint} failed with ${a}`)}finally{o.removeResolveProvisionalDot()&&s!==void 0&&await this.ensureProvisionalDotUpdatedInCSharpDocument(o.uri,s,!0)}return r.emptyCompletionItem}async provideCSharpCompletions(e,t,n,i,o){let s=r.getIndexOfPosition(n,i);try{if(n.clearResolveCompletionRequestVariables(),o){if(s===-1)return r.emptyCompletionList;n.addProvisionalDotAt(s),n.setProvisionalDotPosition(i),await this.ensureProvisionalDotUpdatedInCSharpDocument(n.uri,i)}let a=yi.serialize(n.uri),c={context:{triggerKind:e,triggerCharacter:t},textDocument:{uri:a},position:i},u=await vv.commands.executeCommand(Ene,c);return u?(r.adjustCSharpCompletionList(u,t),u):r.emptyCompletionList}catch(a){this.logger.logWarning(`${r.completionEndpoint} failed with ${a}`)}finally{o&&n.removeProvisionalDot()&&await this.ensureProvisionalDotUpdatedInCSharpDocument(n.uri,i,!0)}return r.emptyCompletionList}async ensureProvisionalDotUpdatedInCSharpDocument(e,t,n=!1){this.projectedCSharpProvider.ensureDocumentContent(e),await this.waitForDocumentChange(e,t,n)}async waitForDocumentChange(e,t,n){return new Promise(i=>{let o=vv.workspace.onDidChangeTextDocument(s=>{let a=n?"":".";s.document.uri.toString()===e.toString()&&s.contentChanges.some(u=>u.range.start.character<=t.character&&u.range.start.line===t.line&&u.range.end.character+1>=t.character&&u.range.end.line===t.line&&u.text===a)&&(i(),o.dispose())})})}static adjustCSharpCompletionList(e,t){let n=e.itemDefaults?.data;for(let i of e.items)i.textEdit=void 0,t==="@"&&i.commitCharacters&&(i.commitCharacters=i.commitCharacters.filter(o=>o!=="{"&&o!=="("&&o!=="*")),i.label.toString().includes("\u2605")&&i.textEditText&&(i.insertText=i.textEditText),i.data||(i.data=n)}static getIndexOfPosition(e,t){let n=e.getContent(),i=0,o=0;for(;i<t.line&&o<n.length;){let a=n[o];a==="\r"?(i++,o+1<n.length&&n[o+1]===`
`&&o++):a===`
`&&i++,o++}return i!==t.line?-1:o+t.character-1}static async provideVscodeCompletions(e,t,n){let i=await vv.commands.executeCommand("vscode.executeCompletionItemProvider",e,t,n),o=i instanceof Array?i:i?i.items:[],s=new Array(o.length);for(let u=0;u<o.length;u++){let l=o[u],d={command:l.command,commitCharacters:l.commitCharacters,detail:l.detail,documentation:r.toMarkupContent(l.documentation),filterText:l.filterText,insertText:r.toLspInsertText(l.insertText),insertTextFormat:r.toLspInsertTextFormat(l.insertText),insertTextMode:r.toInsertTextMode(l.keepWhitespace),kind:l.kind?l.kind+1:l.kind,label:r.toLspCompletionItemLabel(l.label),preselect:l.preselect,sortText:l.sortText,textEdit:r.toLspTextEdit(r.toLspInsertText(l.insertText),l.range)};s[u]=d}return{isIncomplete:i instanceof Array?!1:i?i.isIncomplete:!1,items:s}}static toMarkupContent(e){let t=e;return t?.value?{value:t.value,kind:"markdown"}:e}static toLspCompletionItemLabel(e){return e?.label??e}static toLspInsertText(e){return e?.value??e}static toLspInsertTextFormat(e){return e instanceof vv.SnippetString?Ny.InsertTextFormat.Snippet:Ny.InsertTextFormat.PlainText}static toInsertTextMode(e){return e===void 0?void 0:e?Ny.InsertTextMode.asIs:Ny.InsertTextMode.adjustIndentation}static toLspTextEdit(e,t){if(!t)return;e||(e="");let n=t.inserting,i=t.replacing;return n||i?!n||!i?void 0:{newText:e,insert:r.toLspRange(n),replace:r.toLspRange(i)}:{newText:e,range:this.toLspRange(t)}}static toLspRange(e){return{start:r.toLspPosition(e.start),end:r.toLspPosition(e.end)}}static toLspPosition(e){return{line:e.line,character:e.character}}};var BM=be(require("vscode"));var eS=be(require("vscode"));var d1e=be(require("vscode"));var l1e=be(require("vscode"));var u1e=be(require("vscode"));function Nne(r){return{line:r.line,character:r.character}}function Fne(r){return new u1e.Position(r.line,r.character)}function p_(r){return{start:Nne(r.start),end:Nne(r.end)}}function XW(r){return new l1e.Range(Fne(r.start),Fne(r.end))}function WM(r){return{range:p_(r.range),newText:r.newText}}function qne(r){return new d1e.TextEdit(XW(r.range),r.newText)}function jne(r){let e=new eS.WorkspaceEdit;if(Array.isArray(r.documentChanges))for(let t of r.documentChanges)if(t.kind==="create"){let n=t;e.createFile(eS.Uri.parse(n.uri),n.options)}else if(t.kind==="rename"){let n=t;e.renameFile(eS.Uri.parse(n.oldUri),eS.Uri.parse(n.newUri),n.options)}else if(t.kind==="delete"){let n=t;e.deleteFile(eS.Uri.parse(n.uri),n.options)}else{let n=t,i=n.edits.map(qne);e.set(eS.Uri.parse(n.textDocument.uri),i)}if(r.changes!==void 0)for(let t in r.changes){if(!Object.prototype.hasOwnProperty.call(r.changes,t))continue;let n=r.changes[t].map(qne);e.set(eS.Uri.parse(t),n)}return e}var QW=class r{constructor(e,t){this.serverClient=e;this.logger=t}static codeActionResolveEndpoint="textDocument/codeActionResolve";static razorCodeActionRunnerCommand="razor/runCodeAction";register(){return BM.commands.registerCommand(r.razorCodeActionRunnerCommand,async e=>this.runCodeAction(e),this)}async runCodeAction(e){let t=await this.serverClient.sendRequest(r.codeActionResolveEndpoint,{data:e,title:e.action}),n,i;try{n=jne({changes:t.edit.changes}),i=jne({documentChanges:t.edit.documentChanges})}catch(o){return this.logger.logError(`Unexpected error deserializing code action for ${e.action}`,o),Promise.resolve(!1)}return BM.workspace.applyEdit(i).then(()=>BM.workspace.applyEdit(n))}};var h_=be(require("vscode"));var cc=class{constructor(e,t,n,i){this.documentSynchronizer=e;this.documentManager=t;this.serviceClient=n;this.logger=i}async getProjection(e,t,n){let i=await this.serviceClient.languageQuery(t,e.uri);switch(i.kind){case 1:case 2:{let o=await this.documentManager.getDocument(e.uri),s=i.kind===1?o.csharpDocument:o.htmlDocument;if(i.hostDocumentVersion===void 0)this.logger.traceEnabled&&this.logger.logTrace(`Could not find a document version associated with the document '${wi(e.uri)}'.`);else if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(e,s,i.hostDocumentVersion,n))return null;return{uri:s.uri,position:i.position,languageKind:i.kind,hostDocumentVersion:s.hostDocumentSyncVersion}}default:return null}}};var f1e=be(require("vscode")),$M=class extends f1e.CodeLens{constructor(t,n,i,o){super(t,o);this.uri=n;this.document=i}};var fE=be(require("vscode"));var p1e=be(require("vscode"));var r0="__virtual.html",VM="__virtual.cs",ySt=`__bg${VM}`;function tS(r){return wi(r).endsWith(VM)}function ZW(r){return wi(r).endsWith(r0)}function n0(r){let t=wi(r).replace(ySt,"");return t=t.replace(VM,""),t=t.replace(r0,""),p1e.Uri.file(t)}var yv=class r{static language="Razor";static async remapGeneratedFileWorkspaceEdit(e,t,n,i){let o=new Map;for(let a of e.entries()){let c=a[0],u=a[1];if(!tS(c)){o.set(c,u);continue}let l=n0(c);for(let d of u){let f=await r.remapGeneratedFileTextEdit(l,d,t,n,i);f&&this.addElementToDictionary(o,l,f)}}return this.mapToTextEdit(o)}static async remapGeneratedFileTextEdit(e,t,n,i,o){let s=await n.mapToDocumentRanges(1,[t.range],e);if(!s||!s.ranges||!s.ranges[0]){i.logWarning(`Unable to remap file ${e.path} at ${t.range}.`);return}else{let a=new fE.TextEdit(s.ranges[0],t.newText);return i.logTrace(`Re-mapping text ${t.newText} at ${t.range} in ${e.path} to ${s.ranges[0]} in ${e.path}`),a}}static async remapGeneratedFileLocation(e,t,n,i){if(!tS(e.uri))return e;let o=n0(e.uri),s=await t.mapToDocumentRanges(1,[e.range],o);if(!s||!s.ranges||!s.ranges[0]){n.logWarning(`Unable to remap file ${e.uri.path} at ${e.range}.`);return}return n.logTrace(`Re-mapping location ${e.range} in ${e.uri.path} to ${s.ranges[0]} in ${o.path}`),new fE.Location(o,s.ranges[0])}static async remapGeneratedFileLocations(e,t,n,i){let o=[];for(let s of e){let a=await this.remapGeneratedFileLocation(s,t,n,i);a!==void 0&&o.push(a)}return o}static mapToTextEdit(e){let t=new fE.WorkspaceEdit;return e.forEach((n,i)=>{t.set(i,n)}),t}static addElementToDictionary(e,t,n){let i;if(e.has(t))i=e.get(t),i&&i.push(n);else{let o=new Array;o.push(n),e.set(t,o)}}};var eB=class extends cc{onDidChangeCodeLenses;constructor(e,t,n,i){super(e,t,n,i);let o=new h_.EventEmitter;this.onDidChangeCodeLenses=o.event,t.onChange(async s=>{if(s.kind!==0)return;h_.workspace.textDocuments.filter(c=>!c.isClosed).map(c=>c.uri).includes(s.document.uri)&&(await new Promise(c=>setTimeout(c,5e3)),o.fire())}),t.onRazorInitialized(()=>o.fire())}async provideCodeLenses(e,t){try{if(!this.documentManager.razorDocumentGenerationInitialized)return;let n=await this.documentManager.getDocument(e.uri);if(!n)return;let i=n.csharpDocument,o=await h_.commands.executeCommand("vscode.executeCodeLensProvider",i.uri);if(!o)return;let s=new Array;for(let a of o){let c=await this.serviceClient.mapToDocumentRanges(1,[a.range],n.uri);if(c&&c.ranges.length>0){let u=new $M(c.ranges[0],n.uri,e,a.command);s.push(u)}}return s}catch(n){return this.logger.logWarning(`provideCodeLens failed with ${n}`),[]}}async resolveCodeLens(e,t){if(e instanceof $M)return this.resolveRazorCodeLens(e,t)}async resolveRazorCodeLens(e,t){e.command={title:"",command:"",arguments:[]};try{let n=await this.documentManager.getDocument(e.uri);if(!n)return e;let i=await this.getProjection(e.document,e.range.start,t);if(!i||i.languageKind!==1)return e;let o=await h_.commands.executeCommand("vscode.executeReferenceProvider",i.uri,i.position),s=await yv.remapGeneratedFileLocations(o,this.serviceClient,this.logger,t),a=s.length;return e.command={title:a===1?h_.l10n.t("1 reference"):h_.l10n.t("{0} references",a),command:"editor.action.showReferences",arguments:[n.uri,e.range.start,s]},e}catch(n){return this.logger.logWarning(`resolveCodeLens failed with ${n}`),e}}};var hE=be(require("vscode")),h1e=be(Wu());var tB=class{constructor(e,t){this.uri=e;this.range=t}};var rB=class{constructor(e,t,n){this.label=e;this.textEdit=t;this.additionalTextEdits=n}};var pE=class r{constructor(e,t,n){this.documentManager=e;this.serverClient=t;this.logger=n}static provideHtmlColorPresentation="razor/provideHtmlColorPresentation";colorPresentationRequestType=new h1e.RequestType(r.provideHtmlColorPresentation);emptyColorInformationResponse=[];async register(){await this.serverClient.onRequestWithParams(this.colorPresentationRequestType,async(e,t)=>this.provideHtmlColorPresentation(e,t))}async provideHtmlColorPresentation(e,t){try{let n=hE.Uri.parse(`${e.textDocument.uri}`,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=i.htmlDocument.uri;return await r.doColorPresentationRequest(o,e)}catch(n){this.logger.logWarning(`${r.provideHtmlColorPresentation} failed with ${n}`)}return this.emptyColorInformationResponse}static async doColorPresentationRequest(e,t){let n=new hE.Color(t.color.red,t.color.green,t.color.blue,t.color.alpha),i=await hE.commands.executeCommand("vscode.executeColorPresentationProvider",n,new tB(e,t.range));return r.SerializeColorPresentations(i)}static SerializeColorPresentations(e){let t=new Array;for(let n of e){let i=null,o=new Array;if(n.textEdit&&(i=WM(n.textEdit)),n.additionalTextEdits)for(let a of n.additionalTextEdits){let c=WM(a);o.push(c)}let s=new rB(n.label,i,o);t.push(s)}return t}};var rS=be(require("vscode"));var Kd=be(require("vscode"));var GM=class r{constructor(e){this.documentManager=e;e.onChange(async t=>this.documentChanged(t))}static viewType="razorCSharpPreview";panel;csharpContent;async show(){this.panel?this.panel.reveal(Kd.ViewColumn.Two):(this.panel=Kd.window.createWebviewPanel(r.viewType,Kd.l10n.t("Razor C# Preview"),Kd.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}async documentChanged(e){this.panel&&(e.kind===4||e.kind===2||e.kind===3)&&await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(Kd,Kd.l10n.t("Unexpected error when attaching to C# preview window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copy":if(!this.csharpContent)return;await Kd.env.clipboard.writeText(this.csharpContent),Vs(Kd,Kd.l10n.t("Razor C# copied to clipboard"));return}}),this.panel.onDidDispose(()=>this.panel=void 0)}async update(){if(!this.panel)return;let e=await this.documentManager.getActiveDocument(),t="",n="";e?(this.csharpContent=e.csharpDocument.getContent(),t=wi(e.uri),n=wi(e.csharpDocument.uri)):this.csharpContent=void 0;let i=this.csharpContent?this.csharpContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;");let o=Kd.l10n.t("Report a Razor issue"),s=Kd.l10n.t("Host document file path"),a=Kd.l10n.t("Virtual document file path"),c=Kd.l10n.t("Copy C#");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        button:focus-visible {
            outline-color: var(--vscode-focusBorder)
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>${s}: <strong>${t}</strong></p>
    <p>${a}: <strong>${n}</strong></p
    <p><button onclick="copy()">${c}</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`}};var nB=class{projectionProvider;csharpPreviewPanel;constructor(e,t,n){this.projectionProvider=new My(e,t,n),this.csharpPreviewPanel=new GM(e)}register(){let e=[rS.workspace.registerTextDocumentContentProvider(My.scheme,this.projectionProvider),rS.commands.registerCommand("extension.showRazorCSharpWindow",async()=>this.csharpPreviewPanel.show())];return rS.window.registerWebviewPanelSerializer&&e.push(rS.window.registerWebviewPanelSerializer(GM.viewType,{deserializeWebviewPanel:async t=>{await this.csharpPreviewPanel.revive(t)}})),rS.Disposable.from(...e)}};var oB=be(require("vscode"));var iB=class extends cc{async provideDefinition(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===3)return;let o=await oB.commands.executeCommand("vscode.executeDefinitionProvider",i.uri,i.position),s=new Array;for(let a of o)if(i.languageKind===2&&ZW(a.uri)){let c=n0(a.uri);s.push(new oB.Location(c,a.range))}else if(tS(a.uri)){let c=await yv.remapGeneratedFileLocation(a,this.serviceClient,this.logger,n);if(c===void 0)continue;s.push(c)}else s.push(a);return s}};var g1e=be(require("child_process")),aB=be(require("os")),Fo=be(require("vscode"));var m1e="ms-dotnettools.csharp";var bv=be(require("vscode"));var So=class r{static id="aspnetcorerazor";static fileExtensions=["cshtml","razor"];static globbingPattern=`**/*.{${r.fileExtensions.join(",")}}`;static documentSelector={language:this.id,pattern:r.globbingPattern}};var sB=class{constructor(e,t){this.textDocument=e;this.kind=t}};var gE=be(Jr());var mE=class r{static requestType=new gE.RequestType("razor/generatedDocumentContents");static register(e){return bv.Disposable.from(bv.commands.registerCommand("extension.showRazorCSharpWindow",async()=>this.show(e,0,".g.cs")),bv.commands.registerCommand("extension.showRazorHtmlWindow",async()=>this.show(e,1,".g.html")))}static async show(e,t,n){let i=await this.getActiveDocumentUri();if(!i)return;let o=`${wi(i)}${n}`,s=bv.window.createWebviewPanel("razorGeneratedDocument",o,bv.ViewColumn.Two,{enableScripts:!1,localResourceRoots:[]}),a=await this.getGeneratedDocumentContent(i,t,e);s.webview.html=await this.getWebViewContent(a,o)}static async getActiveDocumentUri(){return!bv.window.activeTextEditor||bv.window.activeTextEditor.document.languageId!==So.id?null:bv.window.activeTextEditor.document.uri}static async getGeneratedDocumentContent(e,t,n){return n.sendRequest(r.requestType,new sB(gE.TextDocumentIdentifier.create(yi.serialize(e)),t),gE.CancellationToken.None)}static async getWebViewContent(e,t){return`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t}</title>
</head>
<body>
    <pre>${e.replace(/</g,"&lt;").replace(/</g,"&gt;")}</pre>
</body>
</html>`}};var cB=class{constructor(e,t,n,i){this.vscodeApi=e;this.documentManager=t;this.cohostingDocumentManager=n;this.roslynLanguageServer=i}async create(e){let t,n,i;if(t=Fo.l10n.t("Non Razor file as active document"),n=Fo.l10n.t("Could not determine CSharp content"),i=Fo.l10n.t("Could not determine Html content"),e.document){if(t=await this.getRazor(e.document),this.documentManager){let we=await this.documentManager.getDocument(e.document.uri);n=await this.getProjectedCSharp(we),i=await this.getProjectedHtml(we)}else if(this.cohostingDocumentManager){try{n=await mE.getGeneratedDocumentContent(e.document.uri,0,this.roslynLanguageServer)}catch(Ee){n=Fo.l10n.t("Could not determine CSharp content: {0}",Ee.toString())}let we=await this.cohostingDocumentManager.getDocument(e.document.uri);we&&(i=we.getContent())}}let o=this.getExtensionVersion(),s="";try{s=await this.getDotnetInfo()}catch(we){s=Fo.l10n.t("A valid dotnet installation could not be found: {0}",we?.toString())}let a=this.generateExtensionTable(),c=this.sanitize(e.logOutput),u=this.sanitize(t),l=this.sanitize(n),d=this.sanitize(i),f=this.sanitize(s),y=Fo.l10n.t("Is this a Bug or Feature request?"),b=Fo.l10n.t("Bug"),T=Fo.l10n.t("Steps to reproduce"),k=Fo.l10n.t("Please fill in this section"),z=Fo.l10n.t("Description of the problem"),A=Fo.l10n.t("Expected behavior"),U=Fo.l10n.t("Actual behavior"),ne=Fo.l10n.t("Logs"),de=Fo.l10n.t("OmniSharp"),ve=Fo.l10n.t(`To find the OmniSharp log, open VS Code's "Output" pane, then in the dropdown choose "OmniSharp Log".`),$=Fo.l10n.t("Razor"),W=Fo.l10n.t("Expand"),ee=Fo.l10n.t("Workspace information"),Pe=Fo.l10n.t("Razor document"),se=Fo.l10n.t("Projected CSharp document"),ue=Fo.l10n.t("Projected Html document"),Fe=Fo.l10n.t("Machine information"),Le=Fo.l10n.t("Razor.VSCode version"),ce=Fo.l10n.t("VSCode version"),Ce=Fo.l10n.t("Extensions");return`## ${y}:
${b}

## ${T}:
------------------- ${k} -------------------------

## ${z}:
------------------- ${k} -------------------------

${A}:

${U}:

## ${ne}

#### ${de}
------------------- ${k} -------------------------
${ve}

#### ${$}
<details><summary>${W}</summary>
<p>

\`\`\`
${c}
\`\`\`

</p>
</details>

## ${ee}

#### ${Pe}:
<details><summary>${W}</summary>
<p>

\`\`\`Razor
${u}
\`\`\`

</p>
</details>

#### ${se}:
<details><summary>${W}</summary>
<p>

\`\`\`C#
${l}
\`\`\`

</p>
</details>

#### ${ue}:
<details><summary>${W}</summary>
<p>

\`\`\`Html
${d}
\`\`\`

</p>
</details>

## ${Fe}


**${ce}**: ${this.vscodeApi.version}
**${Le}**: ${o}
#### \`dotnet --info\`

<details><summary>${W}</summary>
<p>

\`\`\`
${f}
\`\`\`

</p>
</details>

#### ${Ce}
<details><summary>${W}</summary>
<p>

${a}

</p>
</details>`}sanitize(e){let t=process.env.USERNAME===void 0?process.env.USER:process.env.USERNAME;if(t===void 0)return e;let n=new RegExp(t,"g");return e.replace(n,"anonymous")}async getRazor(e){return e.getText()}async getProjectedCSharp(e){let t=Fo.l10n.t("Projected CSharp as seen by extension"),n=`////////////////////// ${t} ///////////////////////
${e.csharpDocument.getContent()}


////////////////////// ${t} ///////////////////////`,i=Fo.l10n.t("Unable to resolve VSCode's version of CSharp");try{let o=await this.vscodeApi.workspace.openTextDocument(e.csharpDocument.uri);o?n=`${n}
${o.getText()}`:n=`${n}
${i}`}catch{n=`${n}
${i}`}return n}async getProjectedHtml(e){let t=Fo.l10n.t("Projected Html as seen by extension"),n=`////////////////////// ${t} ///////////////////////
${e.htmlDocument.getContent()}


////////////////////// ${t} ///////////////////////`,i=Fo.l10n.t("Unable to resolve VSCode's version of Html");try{let o=await this.vscodeApi.workspace.openTextDocument(e.htmlDocument.uri);o?n=`${n}
${o.getText()}`:n=`${n}
${i}`}catch{n=`${n}
${i}`}return n}getExtensionVersion(){let e=this.vscodeApi.extensions.getExtension(m1e);return e?e.packageJSON.version:Fo.l10n.t("Unable to find Razor extension version.")}getInstalledExtensions(){return this.vscodeApi.extensions.all.filter(t=>t.packageJSON.isBuiltin===!1).sort((t,n)=>t.packageJSON.name.toLowerCase().localeCompare(n.packageJSON.name.toLowerCase()))}generateExtensionTable(){let e=this.getInstalledExtensions();if(e.length<=0)return"none";let t=Fo.l10n.t("Extension"),n=Fo.l10n.t("Author"),i=Fo.l10n.t("Version"),o=`|${t}|${n}|${i}|${aB.EOL}|---|---|---|`,s=e.map(c=>`|${c.packageJSON.name}|${c.packageJSON.publisher}|${c.packageJSON.version}|`).join(aB.EOL);return`
${o}${aB.EOL}${s};
`}async getDotnetInfo(){return new Promise((e,t)=>{try{g1e.exec("dotnet --info",{cwd:process.cwd(),maxBuffer:500*1024},(n,i,o)=>{n||o&&o.length>0?t(n):e(i)})}catch(n){t(n)}})}};var KM=be(require("vscode"));var v1e=be(require("os")),uB=class{constructor(e,t){this.razorFileFocusChange=e;this.logger=t;this.focusRegistration=this.razorFileFocusChange(n=>this.lastFocusedRazorDocument=n),this.logRegistration=this.logger.onLog(n=>this.logMessages.push(n)),this.logger.outputChannel.show(!0),this.logger.logAlways("-- Starting Issue Data Collection-- ")}logMessages=[];logOutput="";focusRegistration;logRegistration;lastFocusedRazorDocument;stop(){this.logger.logAlways("-- Stopping Issue Data Collection-- "),this.logOutput=this.logMessages.join(v1e.EOL),this.logMessages.length=0,this.focusRegistration&&this.focusRegistration.dispose(),this.logRegistration&&this.logRegistration.dispose()}collect(){return{document:this.lastFocusedRazorDocument,logOutput:this.logOutput}}};var lB=class{constructor(e){this.logger=e;this.onRazorDocumentFocusedEmitter=new KM.EventEmitter}onRazorDocumentFocusedEmitter=new KM.EventEmitter;register(){return KM.window.onDidChangeActiveTextEditor(e=>{e&&So.fileExtensions.some(t=>e.document.fileName.endsWith(t))&&this.onRazorDocumentFocusedEmitter.fire(e.document)})}create(){return new uB(this.onRazorDocumentFocusedEmitter.event,this.logger)}};var no=be(require("vscode"));var YM=class r{constructor(e,t,n){this.dataCollectorFactory=e;this.reportIssueCreator=t;this.logger=n}static viewType="razorReportIssue";panel;dataCollector;issueContent;traceLevelChange;async show(){this.panel?this.panel.reveal(no.ViewColumn.Two):(this.panel=no.window.createWebviewPanel(r.viewType,no.l10n.t("Report Razor Issue"),no.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(no,no.l10n.t("Unexpected error when attaching to report Razor issue window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copyIssue":if(!this.issueContent){if(!this.dataCollector){Wi(no,no.l10n.t("You must first start the data collection before copying."));return}let t=this.dataCollector.collect();this.issueContent=await this.reportIssueCreator.create(t),this.dataCollector=void 0}await no.env.clipboard.writeText(this.issueContent),Vs(no,no.l10n.t("Razor issue copied to clipboard"));return;case"startIssue":this.dataCollector&&(this.dataCollector.stop(),this.dataCollector=void 0),this.issueContent=void 0,this.dataCollector=this.dataCollectorFactory.create(),Vs(no,no.l10n.t('Razor issue data collection started. Reproduce the issue then press "Stop"'));return;case"stopIssue":if(!this.dataCollector){Wi(no,no.l10n.t("You must first start the data collection before stopping."));return}this.dataCollector.stop(),Vs(no,no.l10n.t("Razor issue data collection stopped. Copying issue content..."));return}}),this.traceLevelChange=this.logger.outputChannel.onDidChangeLogLevel(async()=>this.update()),this.panel.onDidDispose(()=>{this.traceLevelChange&&this.traceLevelChange.dispose(),this.panel=void 0})}async update(){if(!this.panel)return;let e="";if(this.logger.logLevel<=no.LogLevel.Debug&&this.logger.logLevel!=no.LogLevel.Off){let i=`<button onclick="startIssue()">${no.l10n.t("Start")}</button>`,o=no.l10n.t("Press {0}",i),s=no.l10n.t("Perform the actions (or no action) that resulted in your Razor issue"),c=`<button onclick="stopIssue()">${no.l10n.t("Stop")}</button>`,u=no.l10n.t("Click {0}. This will copy all relevant issue information.",c),d=`<a href="https://github.com/dotnet/razor/issues/new?template=bug_report.md&labels=vscode%2C+bug">${no.l10n.t("Go to GitHub")}</a>`,f=no.l10n.t("{0}, paste your issue contents as the body of the issue. Don't forget to fill out any details left unfilled.",d),y=no.env.language,b=`<a href="https://privacy.microsoft.com/${y}/privacystatement">https://privacy.microsoft.com/${y}/privacystatement</a>`,T=no.l10n.t("Privacy Alert! The contents copied to your clipboard may contain personal data. Prior to posting to GitHub, please remove any personal data which should not be publicly viewable."),k=no.l10n.t("Copy issue content again");e=`<ol>
    <li>${o}</li>
    <li>${s}</li>
    <li>${u}</li>
    <li>${f}</li>
</ol>

<p><em>${T}
${b}
</em></p>

<button onclick="copyIssue()">${k}</button>`}else{let n="<strong><em>Razor Logging Level</em></strong>",i=`<strong><em>${no.LogLevel[this.logger.logLevel]}</em></strong>`,o=`<strong><em>${no.LogLevel[no.LogLevel.Debug]}</em></strong>`;e="<p>"+no.l10n.t('Cannot start collecting Razor logs when {0} is set to {1}. Please open the output window, choose the "Razor Log", and use the gear icon to ensure the log level is set to "Debug" or "Trace".',n,i,o)+"</p>"}let t=no.l10n.t("Report a Razor issue");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${t}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        body {
            font-size: 20px;
        }
        strong {
            color: red;
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copyIssue() {
            vscode.postMessage({
                command: 'copyIssue'
            });
        }
        function startIssue() {
            vscode.postMessage({
                command: 'startIssue'
            });
        }
        function stopIssue() {
            vscode.postMessage({
                command: 'stopIssue'
            });
            copyIssue();
        }
    </script>
</head>
<body>
<h3>${t}</h3>
${e}
</body>
</html>`}};var vE=class{constructor(e,t,n,i,o){this.vscodeApi=e;this.dataCollectorFactory=new lB(o),this.issueCreator=new cB(this.vscodeApi,t,n,i),this.issuePanel=new YM(this.dataCollectorFactory,this.issueCreator,o)}issuePanel;issueCreator;dataCollectorFactory;register(){let e=[];return e.push(this.dataCollectorFactory.register(),this.vscodeApi.commands.registerCommand("razor.reportIssue",async()=>this.issuePanel.show())),this.vscodeApi.window.registerWebviewPanelSerializer&&e.push(this.vscodeApi.window.registerWebviewPanelSerializer(YM.viewType,{deserializeWebviewPanel:async t=>{await this.issuePanel.revive(t)}})),this.vscodeApi.Disposable.from(...e)}};var ru=be(require("vscode"));var Une=be(require("vscode"));var dB=class{constructor(e){this.uri=e;this.path=wi(e)}path;content="";preProvisionalContent;preResolveProvisionalContent;provisionalEditAt;resolveProvisionalEditAt;ProvisionalDotPosition;hostDocumentVersion=null;updates=null;_checksum="";_checksumAlgorithm=1;_encodingCodePage=null;get hostDocumentSyncVersion(){return this.hostDocumentVersion}get length(){return this.content.length}clear(){this.setContent("")}get checksum(){return this._checksum}get checksumAlgorithm(){return this._checksumAlgorithm}get encodingCodePage(){return this._encodingCodePage}update(e,t,n,i,o,s){if(e){if(this.removeProvisionalDot(),this.updates){for(let a of this.updates)this.updateContent(a.changes);this.updates=null}this.updateContent(t),this._checksum=i,this._checksumAlgorithm=o,this._encodingCodePage=s}else{let a=new zne(t,i,o,s);this.updates?this.updates=this.updates.concat(a):this.updates=[a]}this.hostDocumentVersion=n}applyEdits(){let e=this.updates;this.updates=null;let t=this._checksum,n=this._checksumAlgorithm,i=this._encodingCodePage;if(e)for(let o of e)this.updateContent(o.changes),this._checksum=o.checksum,this._checksumAlgorithm=o.checksumAlgorithm,this._encodingCodePage=o.encodingCodePage;return{edits:e,originalChecksum:t,originalChecksumAlgorithm:n,originalEncodingCodePage:i}}getContent(){return this.content}addProvisionalDotAt(e){if(this.provisionalEditAt===e)return;this.removeProvisionalDot(),this.resolveProvisionalEditAt=void 0,this.ProvisionalDotPosition=void 0;let t=this.getEditedContent(".",e,e,this.content);this.preProvisionalContent=this.content,this.provisionalEditAt=e,this.setContent(t)}removeProvisionalDot(){return this.provisionalEditAt&&this.preProvisionalContent?(this.setContent(this.preProvisionalContent),this.resolveProvisionalEditAt=this.provisionalEditAt,this.provisionalEditAt=void 0,this.preProvisionalContent=void 0,!0):!1}ensureResolveProvisionalDot(){if(this.removeResolveProvisionalDot(),this.resolveProvisionalEditAt){let e=this.getEditedContent(".",this.resolveProvisionalEditAt,this.resolveProvisionalEditAt,this.content);return this.preResolveProvisionalContent=this.content,this.setContent(e),!0}return!1}removeResolveProvisionalDot(){return this.resolveProvisionalEditAt&&this.preResolveProvisionalContent?(this.setContent(this.preResolveProvisionalContent),this.provisionalEditAt=void 0,this.preResolveProvisionalContent=void 0,!0):!1}setProvisionalDotPosition(e){this.ProvisionalDotPosition=e}getProvisionalDotPosition(){return this.ProvisionalDotPosition}clearResolveCompletionRequestVariables(){this.resolveProvisionalEditAt=void 0,this.ProvisionalDotPosition=void 0}getEditedContent(e,t,n,i){let o=i.substring(0,t),s=i.substring(n);return i=`${o}${e}${s}`,i}setContent(e){this.content=e}updateContent(e){if(e.length===0)return;let t=this.content;for(let n of e.reverse())t=this.getEditedContent(n.newText,n.span.start,n.span.start+n.span.length,t);this.setContent(t)}},zne=class{constructor(e,t,n,i){this.changes=e;this.checksum=t;this.checksumAlgorithm=n;this.encodingCodePage=i}};var fB=class{constructor(e){this.uri=e;this.path=wi(e)}path;content="";hostDocumentVersion=null;get hostDocumentSyncVersion(){return this.hostDocumentVersion}get length(){return this.content.length}clear(){this.setContent("")}update(e,t){if(this.hostDocumentVersion=t,e.length===0)return;let n=this.content;for(let i of e.reverse())n=this.getEditedContent(i.newText,i.span.start,i.span.start+i.span.length,n);this.setContent(n)}getContent(){return this.content}getEditedContent(e,t,n,i){let o=i.substr(0,t),s=i.substr(n);return i=`${o}${e}${s}`,i}setContent(e){this.content=e}};var nS=class{constructor(e,t,n){this.documentManager=e;this.logger=n;e.onChange(i=>this.documentChanged(i)),this.onDidChangeEmitter=t.create()}static scheme="razor-html";onDidChangeEmitter;get onDidChange(){return this.onDidChangeEmitter.event}provideTextDocumentContent(e){let t=this.findRazorDocument(e);return t?`${t.htmlDocument.getContent()}
// ${t.htmlDocument.hostDocumentSyncVersion}`:(this.logger.traceEnabled&&this.logger.logTrace(`Could not find document '${wi(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}documentChanged(e){(e.kind===5||e.kind===2||e.kind===1)&&this.onDidChangeEmitter.fire(e.document.htmlDocument.uri)}findRazorDocument(e){let t=wi(e);return this.documentManager.documents.find(n=>n.htmlDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var y1e=be(require("vscode"));var pB=class{constructor(e,t,n){this.uri=e;this.csharpDocument=t;this.htmlDocument=n;this.path=wi(e)}path;get isOpen(){for(let e of y1e.workspace.textDocuments)if(e.uri.fsPath==this.uri.fsPath)return!0;return!1}};function b1e(r){let e=wSt(r),t=_St(r);return new pB(r,e,t)}function _St(r){let t=`${wi(r)}${r0}`,n=Une.Uri.file(t);return n=n.with({scheme:nS.scheme}),new fB(n)}function wSt(r){let t=`${wi(r)}${VM}`,n=Une.Uri.file(t);return n=n.with({scheme:My.scheme}),new dB(n)}var _1e=require("crypto"),hB=class{constructor(e,t,n,i){this.serverClient=e;this.logger=t;this.telemetryReporter=n;this.platformInfo=i}roslynActivated=!1;razorDocuments={};openRazorDocuments=new Set;onChangeEmitter=new ru.EventEmitter;onRazorInitializedEmitter=new ru.EventEmitter;razorDocumentGenerationInitialized=!1;get onChange(){return this.onChangeEmitter.event}get onRazorInitialized(){return this.onRazorInitializedEmitter.event}get documents(){return Object.values(this.razorDocuments)}async getDocument(e){return this._getDocument(e)}async getDocumentForCSharpUri(e){let t=e.fsPath??e.path;return this.documents.find(n=>this.platformInfo.isLinux()?n.csharpDocument.path===t:n.csharpDocument.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}async getActiveDocument(){return!ru.window.activeTextEditor||ru.window.activeTextEditor.document.languageId!==So.id?null:await this.getDocument(ru.window.activeTextEditor.document.uri)}isRazorDocumentOpenInCSharpWorkspace(e){let t=wi(e);return this.openRazorDocuments.has(t)}didOpenRazorCSharpDocument(e){let t=wi(e);this.openRazorDocuments.add(t)}didCloseRazorCSharpDocument(e){let t=wi(e);this.openRazorDocuments.delete(t)}async initialize(){let e=await ru.workspace.findFiles(So.globbingPattern);for(let t of e)this.addDocument(t);for(let t of ru.workspace.textDocuments)t.languageId===So.id&&(t.isClosed||await this.openDocument(t.uri))}register(){let e=ru.workspace.createFileSystemWatcher(So.globbingPattern),t=e.onDidCreate(async o=>this.addDocument(o)),n=ru.workspace.onDidOpenTextDocument(async o=>{o.languageId===So.id&&await this.openDocument(o.uri)}),i=ru.workspace.onDidCloseTextDocument(o=>{o.languageId===So.id&&this.closeDocument(o.uri)});return this.serverClient!==void 0&&(this.serverClient.onNotification("razor/updateCSharpBuffer",async o=>this.updateCSharpBuffer(o)),this.serverClient.onNotification("razor/updateHtmlBuffer",async o=>this.updateHtmlBuffer(o))),ru.Disposable.from(e,t,n,i)}_getDocument(e){let t=wi(e),n=this.findDocument(t);return n||(this.logger.logInfo(`File '${t}' didn't exist in the Razor document list. This is likely because it's from outside the workspace.`),n=this.addDocument(e)),n}async openDocument(e){await this.ensureRazorInitialized();let t=this._getDocument(e);this.notifyDocumentChange(t,2,[])}async ensureRazorInitialized(){if(this.serverClient!==void 0&&this.roslynActivated&&!this.razorDocumentGenerationInitialized){this.razorDocumentGenerationInitialized=!0;let e=(0,_1e.randomUUID)();await ru.commands.executeCommand(Ane,e),await this.serverClient.connectNamedPipe(e),this.onRazorInitializedEmitter.fire()}}closeDocument(e){let t=this._getDocument(e);e.scheme==="file"&&(ru.workspace.getWorkspaceFolder(e)||this.removeDocument(e)),this.notifyDocumentChange(t,3,[])}addDocument(e){let t=wi(e),n=this.findDocument(t);return n?(this.logger.logInfo(`Skipping document creation for '${t}' because it already exists.`),n):(n=b1e(e),this.razorDocuments[n.path]=n,this.notifyDocumentChange(n,0,[]),n)}removeDocument(e){let t=this._getDocument(e);delete this.razorDocuments[t.path],this.notifyDocumentChange(t,1,[])}findDocument(e){return this.platformInfo.isLinux()?this.razorDocuments[e]:Object.values(this.razorDocuments).find(t=>t.path.localeCompare(e,void 0,{sensitivity:"base"})===0)}async updateCSharpBuffer(e){this.logger.traceEnabled&&this.logger.logTrace(`Updating the C# document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=ru.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.csharpDocument;if(e.previousWasEmpty||!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion){let o=i;e.previousWasEmpty&&i.length!==0&&(this.telemetryReporter.reportBuffersOutOfSync(),o.clear()),o.update(n.isOpen,e.changes,e.hostDocumentVersion,e.checksum,e.checksumAlgorithm,e.encodingCodePage),this.notifyDocumentChange(n,4,e.changes)}else this.logger.logWarning("Failed to update the C# document buffer. This is unexpected and may result in incorrect C# interactions.")}async updateHtmlBuffer(e){this.logger.traceEnabled&&this.logger.logTrace(`Updating the HTML document for Razor file '${e.hostDocumentFilePath}' (${e.hostDocumentVersion})`);let t=ru.Uri.file(e.hostDocumentFilePath),n=this._getDocument(t),i=n.htmlDocument;if(e.previousWasEmpty||!i.hostDocumentSyncVersion||i.hostDocumentSyncVersion<=e.hostDocumentVersion){await ru.workspace.openTextDocument(n.htmlDocument.uri);let o=i;e.previousWasEmpty&&i.length!==0&&(this.telemetryReporter.reportBuffersOutOfSync(),o.clear()),o.update(e.changes,e.hostDocumentVersion),this.notifyDocumentChange(n,5,e.changes)}else this.logger.logWarning("Failed to update the HTML document buffer. This is unexpected and may result in incorrect HTML interactions.")}notifyDocumentChange(e,t,n){this.logger.traceEnabled&&this.logger.logTrace(`Notifying document '${wi(e.uri)}' changed '${Ay[t]}' with '${n.length}' changes.`);let i={document:e,kind:t,changes:n};this.onChangeEmitter.fire(i)}};var QC=be(require("vscode"));var mB=class{constructor(e,t){this.documentManager=e;this.logger=t}synchronizations={};synchronizationIdentifier=0;register(){let e=this.documentManager.onChange(n=>this.documentChanged(n)),t=QC.workspace.onDidChangeTextDocument(n=>this.textDocumentChanged(n));return QC.Disposable.from(e,t)}async trySynchronizeProjectedDocument(e,t,n,i){let o=++this.synchronizationIdentifier,s=wi(t.uri);if(this.logger.traceEnabled){let c=n;this.logger.logTrace(`${o} - Synchronizing '${s}':
    Currently at ${t.hostDocumentSyncVersion}, synchronizing to version '${c}'.'`)}let a=this.createSynchronizationContext(s,t,n,e,i);try{t.hostDocumentSyncVersion!==n&&(this.logger.traceEnabled&&this.logger.logTrace(`${o} - Projected document not in sync with host document, waiting for update...
    Current host document sync version: ${t.hostDocumentSyncVersion}`),await a.onProjectedDocumentSynchronized),this.logger.traceEnabled&&this.logger.logTrace(`${o} - Projected document in sync with host document`);let c=await QC.workspace.openTextDocument(t.uri),u=this.getProjectedTextDocumentVersion(c);t.hostDocumentSyncVersion!==u&&(this.logger.traceEnabled&&this.logger.logTrace(`${o} - Projected text document not in sync with data type, waiting for update...
    Current projected text document sync version: ${u}`),await a.onProjectedTextDocumentSynchronized),this.logger.traceEnabled&&this.logger.logTrace(`${o} - Projected text document in sync with data type`)}catch(c){return this.removeSynchronization(a),this.logger.traceEnabled&&this.logger.logTrace(`${o} - Synchronization failed: ${c}`),!1}return this.removeSynchronization(a),this.logger.traceEnabled&&this.logger.logTrace(`${o} - Synchronization successful!`),!0}removeSynchronization(e){e.dispose();let t=wi(e.projectedDocument.uri),n=this.synchronizations[t];if(n.length===1){delete this.synchronizations[t];return}this.synchronizations[t]=n.filter(i=>i!==e)}createSynchronizationContext(e,t,n,i,o){let s=[],a=Function,c=new Promise((b,T)=>{a=b,s.push(T)}),u=Function,l=new Promise((b,T)=>{u=b,s.push(T)});o.onCancellationRequested(b=>{f.cancel(QC.l10n.t("Token cancellation requested: {0}",b))});let d=setTimeout(()=>{f.cancel(QC.l10n.t("Synchronization timed out"))},2e3),f={projectedDocument:t,logIdentifier:this.synchronizationIdentifier,timeoutId:d,toHostDocumentVersion:n,cancel:b=>{for(let T of s)T(b)},dispose:()=>{s.length=0,clearTimeout(f.timeoutId)},projectedDocumentSynchronized:a,onProjectedDocumentSynchronized:c,projectedTextDocumentSynchronized:u,onProjectedTextDocumentSynchronized:l},y=this.synchronizations[e];return y||(y=[],this.synchronizations[e]=y),y.push(f),f}textDocumentChanged(e){if(e.document.uri.scheme!==My.scheme&&e.document.uri.scheme!==nS.scheme)return;let t=this.getProjectedTextDocumentVersion(e.document);if(t===null)return;let n=wi(e.document.uri),i=this.synchronizations[n];if(i){for(let o of i)if(o.projectedDocument.hostDocumentSyncVersion===t){if(this.logger.traceEnabled){let s=o.logIdentifier,a=t;this.logger.logTrace(`${s} - Projected text document synchronized to ${a}.`)}o.projectedTextDocumentSynchronized()}}}documentChanged(e){let t;if(e.kind===4)t=e.document.csharpDocument;else if(e.kind===5)t=e.document.htmlDocument;else return;if(t.hostDocumentSyncVersion===null)return;let i=wi(t.uri),o=this.synchronizations[i];if(o)for(let s of o)s.toHostDocumentVersion===t.hostDocumentSyncVersion&&s.projectedDocumentSynchronized()}getProjectedTextDocumentVersion(e){if(e.lineCount<=0)return null;let n=e.lineAt(e.lineCount-1).text.substring(3);return parseInt(n,10)}};var bE=be(require("vscode")),w1e=be(Wu());var gB=class{constructor(e,t){this.range=e;this.color=t}};var yE=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideHtmlDocumentColorEndpoint="razor/provideHtmlDocumentColor";documentColorRequestType=new w1e.RequestType(r.provideHtmlDocumentColorEndpoint);emptyColorInformationResponse=[];async register(){await this.serverClient.onRequestWithParams(this.documentColorRequestType,async(e,t)=>this.provideHtmlDocumentColors(e,t))}async provideHtmlDocumentColors(e,t){try{let n=bE.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning empty color information.`),this.emptyColorInformationResponse;let o=await bE.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.htmlDocument,e._razor_hostDocumentVersion,t))return this.emptyColorInformationResponse;let a=i.htmlDocument.uri;return await r.doDocumentColorRequest(a)}catch(n){this.logger.logWarning(`${r.provideHtmlDocumentColorEndpoint} failed with ${n}`)}return this.emptyColorInformationResponse}static async doDocumentColorRequest(e){let t=await bE.commands.executeCommand("vscode.executeDocumentColorProvider",e),n=new Array;for(let i of t){let o=p_(i.range),s=new gB(o,i.color);n.push(s)}return n}};var yB=be(require("vscode"));var vB=class extends cc{async provideDocumentHighlights(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===3)return;let o=await yB.commands.executeCommand("vscode.executeDocumentHighlights",i.uri,i.position);if(!o||o.length===0)return;let s=new Array;for(let a of o){let c=await this.serviceClient.mapToDocumentRanges(i.languageKind,[a.range],e.uri);if(!c||!c.ranges||!c.ranges[0]||i.hostDocumentVersion!==c.hostDocumentVersion)continue;let u=new yB.DocumentHighlight(c.ranges[0],a.kind);s.push(u)}return s}};function S1e(r,e){r.onChange(t=>{switch(t.kind){case 0:e.reportWorkspaceContainsRazor();break}})}var _E=be(require("vscode"));var JM=class{constructor(e,t,n,i,o){this.csharpDocument=e;this.edits=t;this.checksum=n;this.checksumAlgorithm=i;this.encodingCodePage=o}};var bB=class{constructor(e){this.razorDocument=e}};var C1e=be(Jr());var XM=class{constructor(e,t){this.newText=e;this.span=t}};var QM=class{constructor(e,t){this.start=e;this.length=t}};var Fy=class r{constructor(e,t){this.documentManager=e;this.logger=t}static provideDynamicFileInfoCommand="razor.provideDynamicFileInfo";static removeDynamicFileInfoCommand="razor.removeDynamicFileInfo";static dynamicFileUpdatedCommand="razor.dynamicFileUpdated";register(){_E.commands.registerCommand(r.provideDynamicFileInfoCommand,async e=>this.provideDynamicFileInfo(e)),_E.commands.registerCommand(r.removeDynamicFileInfoCommand,async e=>{await this.removeDynamicFileInfo(e)}),Tu.cohostingEnabled||this.documentManager.onChange(async e=>{if(e.kind==4&&!e.document.isOpen&&e.changes.length>0){let t=yi.serialize(e.document.uri),n=C1e.TextDocumentIdentifier.create(t);await _E.commands.executeCommand(r.dynamicFileUpdatedCommand,new bB(n))}})}async provideDynamicFileInfo(e){this.documentManager.roslynActivated=!0;let t=_E.Uri.parse(e.razorDocument.uri,!0);await this.documentManager.ensureRazorInitialized();let n=await this.documentManager.getDocument(t);try{if(n===void 0)return this.logger.logWarning(`Could not find Razor document ${t.fsPath}; adding null as a placeholder in URI array.`),null;let i=n.csharpDocument;if(e.fullText){let s=new XM(n.csharpDocument.getContent(),new QM(0,0));return new JM(e.razorDocument,[s],i.checksum,i.checksumAlgorithm,i.encodingCodePage)}let o=yi.serialize(n.csharpDocument.uri);if(this.documentManager.isRazorDocumentOpenInCSharpWorkspace(t))return null;{let s=i.applyEdits(),a=s.edits?.flatMap(c=>c.changes.map(u=>new XM(u.newText,new QM(u.span.start,u.span.length))));return new JM({uri:o},a??[],s.originalChecksum,s.originalChecksumAlgorithm,s.originalEncodingCodePage)}}catch(i){this.logger.logWarning(`${r.provideDynamicFileInfoCommand} failed with ${i}`)}return null}async removeDynamicFileInfo(e){try{let t=yi.deserialize(e.csharpDocument.uri);this.documentManager.isRazorDocumentOpenInCSharpWorkspace(t)&&this.documentManager.didCloseRazorCSharpDocument(t)}catch(t){this.logger.logWarning(`${r.removeDynamicFileInfoCommand} failed with ${t}`)}}};var iS=be(require("vscode")),wE=be(Jr());var ZM=class{constructor(e,t){this.htmlRanges=e;this.csharpRanges=t}};var SE=class r{constructor(e,t,n){this.serverClient=e;this.documentManager=t;this.logger=n}static provideFoldingRange="razor/foldingRange";foldingRangeRequestType=new wE.RequestType(r.provideFoldingRange);emptyFoldingRangeReponse=new ZM(new Array,new Array);async register(){await this.serverClient.onRequestWithParams(this.foldingRangeRequestType,async(e,t)=>this.provideFoldingRanges(e,t))}async provideFoldingRanges(e,t){try{let n=iS.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyFoldingRangeReponse;let o=i.htmlDocument.uri,s=i.csharpDocument.uri,a=await iS.commands.executeCommand("vscode.executeFoldingRangeProvider",o),c=await iS.commands.executeCommand("vscode.executeFoldingRangeProvider",s),u=a===void 0?new Array:r.convertFoldingRanges(a,this.logger),l=c===void 0?new Array:r.convertFoldingRanges(c,this.logger);return new ZM(u,l)}catch(n){this.logger.logWarning(`${r.provideFoldingRange} failed with ${n}`)}return this.emptyFoldingRangeReponse}static convertFoldingRanges(e,t){let n=new Array;return e.forEach(i=>{let o={startLine:i.start,startCharacter:0,endLine:i.end,endCharacter:0,kind:i.kind===void 0?void 0:r.convertFoldingRangeKind(i.kind,t)};n.push(o)}),n}static convertFoldingRangeKind(e,t){if(e===iS.FoldingRangeKind.Comment)return wE.FoldingRangeKind.Comment;if(e===iS.FoldingRangeKind.Imports)return wE.FoldingRangeKind.Imports;if(e===iS.FoldingRangeKind.Region)return wE.FoldingRangeKind.Region;t.logWarning(`Unexpected FoldingRangeKind ${e}`)}};var ad=be(require("vscode")),Hne=be(Wu());var CE=class{constructor(e){this.edits=e}};var i0=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static provideFormattingEndpoint="razor/htmlFormatting";static provideOnTypeFormattingEndpoint="razor/htmlOnTypeFormatting";formattingRequestType=new Hne.RequestType(r.provideFormattingEndpoint);onTypeFormattingRequestType=new Hne.RequestType(r.provideOnTypeFormattingEndpoint);static emptyFormattingResponse=new CE;async register(){await this.serverClient.onRequestWithParams(this.formattingRequestType,async(e,t)=>this.provideFormatting(e,t)),await this.serverClient.onRequestWithParams(this.onTypeFormattingRequestType,async(e,t)=>this.provideOnTypeFormatting(e,t))}async provideFormatting(e,t){try{let n=ad.Uri.parse(e.textDocument.uri),i=await this.documentManager.getDocument(n);if(i===void 0)return r.emptyFormattingResponse;let o=await ad.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.htmlDocument,e.hostDocumentVersion,t))return r.emptyFormattingResponse;let a=i.htmlDocument.uri,c=i.htmlDocument.getContent();return await r.getHtmlFormattingResult(a,c,e.options)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return r.emptyFormattingResponse}static async getHtmlFormattingResult(e,t,n){let i=r.countLines(t),o=r.getLastLineLength(t),s=new ad.Range(new ad.Position(0,0),new ad.Position(i,o)),a=await ad.commands.executeCommand("vscode.executeFormatRangeProvider",e,s,n);if(a===void 0)return r.emptyFormattingResponse;let c=r.sanitizeTextEdits(t,a);return new CE(c)}static async getHtmlOnTypeFormattingResult(e,t,n,i,o){let s=await ad.commands.executeCommand("vscode.executeFormatOnTypeProvider",e,n,i,o);if(s===void 0)return r.emptyFormattingResponse;let a=r.sanitizeTextEdits(t,s);return new CE(a)}async provideOnTypeFormatting(e,t){try{let n=ad.Uri.parse(e.textDocument.uri),i=await this.documentManager.getDocument(n);if(i===void 0)return r.emptyFormattingResponse;let o=await ad.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.hostDocumentVersion,t))return r.emptyFormattingResponse;let a=i.htmlDocument.uri,c=i.htmlDocument.getContent();return await r.getHtmlOnTypeFormattingResult(a,c,e.position,e.ch,e.options)}catch(n){this.logger.logWarning(`${r.provideFormattingEndpoint} failed with ${n}`)}return r.emptyFormattingResponse}static sanitizeTextEdits(e,t){let n=r.countLines(e),i=Array();for(let o of t){if(o.range.end.line>n||o.range.start.line>n){let a=r.getLastLineLength(e),c=new ad.Position(n,a),u=o.range.start,l=o.range.end;o.range.start.line>n&&(u=c),o.range.end.line>n&&(l=c);let d=new ad.Range(u,l);o=new ad.TextEdit(d,o.newText)}let s=WM(o);i.push(s)}return i}static countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}static getLastLineLength(e){let t=0;for(let n=0;n<e.length;n++)n+1<e.length&&e[n]==="\r"&&e[n+1]===`
`?(t=0,n++):e[n]===`
`?t=0:t++;return t}};var ZC=be(require("vscode"));var _B=class extends cc{async provideHover(e,t,n){let i=await this.getProjection(e,t,n);if(!i)return;let o=await ZC.commands.executeCommand("vscode.executeHoverProvider",i.uri,i.position);if(!o||o.length===0)return;let s=o.filter(l=>l.range)[0];if(!s)return;let a=await this.serviceClient.mapToDocumentRanges(i.languageKind,[s.range],e.uri);if(!a||!a.ranges||!a.ranges[0]||i.hostDocumentVersion!==a.hostDocumentVersion)return;let c=new Array;for(let l of s.contents)if(typeof l=="string"){let d=new ZC.MarkdownString(l);c.push(d)}else if(l.language){let d=l,f=new ZC.MarkdownString;f.appendCodeblock(d.value,d.language),c.push(f)}else{let d=l.value,f=new ZC.MarkdownString(d);c.push(f)}return new ZC.Hover(c,a.ranges[0])}};var oS=be(require("vscode"));var Yd=be(require("vscode"));var eL=class r{constructor(e){this.documentManager=e;e.onChange(async t=>this.documentChanged(t))}static viewType="razorHtmlPreview";panel;htmlContent;async show(){this.panel?this.panel.reveal(Yd.ViewColumn.Two):(this.panel=Yd.window.createWebviewPanel(r.viewType,Yd.l10n.t("Razor HTML Preview"),Yd.ViewColumn.Two,{enableScripts:!0,localResourceRoots:[]}),this.attachToCurrentPanel()),await this.update()}async revive(e){this.panel=e,this.attachToCurrentPanel(),await this.update()}async documentChanged(e){this.panel&&(e.kind===5||e.kind===2||e.kind===3)&&await this.update()}attachToCurrentPanel(){if(!this.panel){Wi(Yd,Yd.l10n.t("Unexpected error when attaching to HTML preview window."));return}this.panel.webview.onDidReceiveMessage(async e=>{switch(e.command){case"copy":if(!this.htmlContent)return;await Yd.env.clipboard.writeText(this.htmlContent),Vs(Yd,Yd.l10n.t("Razor HTML copied to clipboard"));return}}),this.panel.onDidDispose(()=>this.panel=void 0)}async update(){if(!this.panel)return;let e=await this.documentManager.getActiveDocument(),t="",n="";e?(this.htmlContent=e.htmlDocument.getContent(),t=wi(e.uri),n=wi(e.htmlDocument.uri)):this.htmlContent=void 0;let i=this.htmlContent?this.htmlContent:"";i=i.replace(/</g,"&lt;").replace(/</g,"&gt;");let o=Yd.l10n.t("Report a Razor issue"),s=Yd.l10n.t("Host document file path"),a=Yd.l10n.t("Virtual document file path"),c=Yd.l10n.t("Copy Html");this.panel.webview.html=`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o}</title>
    <style>
        button {
            background-color: #eff3f6;
            background-image: linear-gradient(-180deg,#fafbfc,#eff3f6 90%);
            color: #24292e;
            border: 1px solid rgba(27,31,35,.2);
            border-radius: .25em;
            font-size: 1.1em;
            font-weight: 600;
            line-height: 18px;
            padding: 6px 12px;
            vertical-align: middle;
            cursor: pointer;
        }
        button:focus-visible {
            outline-color: var(--vscode-focusBorder)
        }
    </style>

    <script type="text/javascript">
        const vscode = acquireVsCodeApi();
        function copy() {
            vscode.postMessage({
                command: 'copy'
            });
        }
    </script>
</head>
<body>
    <p>${s}: <strong>${t}</strong></p>
    <p>${a}: <strong>${n}</strong></p>
    <p><button onclick="copy()">${c}</button></p>
    <hr />
    <pre>${i}</pre>
</body>
</html>`}};var Yf=be(require("vscode"));tne();bW();var wB=class{constructor(e,t){this.documentManager=e;this.serviceClient=t}timeout=void 0;enabled=!1;htmlLanguageService;register(){this.htmlLanguageService=ene();let e=Yf.workspace.onDidChangeTextDocument(async n=>this.onDidChangeTextDocument(n.document,n.contentChanges)),t=Yf.window.onDidChangeActiveTextEditor(()=>this.checkIfEnabled());return this.checkIfEnabled(),Yf.Disposable.from(e,t)}checkIfEnabled(){this.enabled=!1;let e=Yf.window.activeTextEditor;if(!e)return;let t=e.document;t.languageId===So.id&&Yf.workspace.getConfiguration(void 0,t.uri).get("html.autoClosingTags")&&(this.enabled=!0)}async onDidChangeTextDocument(e,t){if(!this.enabled||t.length===0||!Yf.window.activeTextEditor||Yf.window.activeTextEditor.document!==e)return;this.timeout!==void 0&&clearTimeout(this.timeout);let n=t[t.length-1];if(n.rangeLength>0||n.text[n.text.length-1]!==">")return;let o=n.range.start;if(o.character<2)return;let s=e.offsetAt(n.range.start),a=e.getText(),c=a.charAt(s-1);if(c==="/"||c===">")return;if(!this.atMarkupTransition(a,s)){if((await this.serviceClient.languageQuery(n.range.start,e.uri)).kind!==2)return}let u=e.version;this.timeout=setTimeout(async()=>{if(!this.enabled)return;let l=Yf.window.activeTextEditor;if(!l)return;let d=l.document;if(e!==d||d.version!==u)return;let f=new Yf.Position(o.line,o.character+n.text.length);if(!this.htmlLanguageService)return;let y=await this.documentManager.getActiveDocument();y&&(a=y.htmlDocument.getContent());let b=ZT.create(e.uri.fsPath,e.languageId,e.version,a),T=this.htmlLanguageService.parseHTMLDocument(b),k=this.htmlLanguageService.doTagComplete(b,f,T);if(!k)return;let z=l.selections;z.length&&z.some(A=>A.active.isEqual(f))?await l.insertSnippet(new Yf.SnippetString(k),z.map(A=>A.active)):await l.insertSnippet(new Yf.SnippetString(k),f)},75)}atMarkupTransition(e,t){return e.substring(t-5,t)==="<text"}};var SB=class{projectionProvider;htmlTagCompletionProvider;htmlPreviewPanel;constructor(e,t,n,i){this.projectionProvider=new nS(e,n,i),this.htmlTagCompletionProvider=new wB(e,t),this.htmlPreviewPanel=new eL(e)}register(){let e=[oS.workspace.registerTextDocumentContentProvider(nS.scheme,this.projectionProvider),oS.commands.registerCommand("extension.showRazorHtmlWindow",async()=>this.htmlPreviewPanel.show()),this.htmlTagCompletionProvider.register()];return oS.window.registerWebviewPanelSerializer&&e.push(oS.window.registerWebviewPanelSerializer(eL.viewType,{deserializeWebviewPanel:async t=>{await this.htmlPreviewPanel.revive(t)}})),oS.Disposable.from(...e)}};var D1e=be(require("vscode"));var CB=class extends cc{async provideImplementation(e,t,n){let i=await this.getProjection(e,t,n);if(!i||i.languageKind===2||i.languageKind===3)return;let o=await D1e.commands.executeCommand("vscode.executeImplementationProvider",i.uri,i.position),s=new Array;for(let a of o)if(tS(a.uri)){let c=await yv.remapGeneratedFileLocation(a,this.serviceClient,this.logger,n);if(c===void 0)continue;s.push(c)}else s.push(a);return s}};var DB=class{async register(e){e.env.appName.endsWith("Insiders")}};var tL=be(require("vscode"));var T1e=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],TB=class{register(){return tL.languages.setLanguageConfiguration(So.id,{wordPattern:/(-?\d*\.\d\w*)|([^`~!@$^&*()\-=+[{\]}\\|;:'",.<>/\s]+)/g,onEnterRules:[{beforeText:new RegExp(`<(?!(?:${T1e.join("|")}))([_:\\w][_:\\w-.\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),afterText:/^<\/([_:\w][_:\w-.\d]*)\s*>/i,action:{indentAction:tL.IndentAction.IndentOutdent}},{beforeText:new RegExp(`<(?!(?:${T1e.join("|")}))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$`,"i"),action:{indentAction:tL.IndentAction.Indent}}]})}};var Kne=be(require("child_process")),O1e=require("events"),Zp=be(require("vscode")),OB=be(Z1());var Wne=be(require("fs")),$ne=be(require("os")),Bne=be(require("path")),P1e=be(require("vscode"));function PB(r,e,t){let n=SSt(e),i=r.workspace.getConfiguration("razor.languageServer"),o=i.get("debug"),s=!Is()&&r.workspace.getConfiguration().get("dotnet.server.useOmnisharp"),a=i.get("suppressLspErrorToasts"),c=i.get("cohostingEnabled");return{serverPath:n,debug:o,outputChannel:t.outputChannel,usingOmniSharp:s,suppressErrorToasts:a,cohostingEnabled:c}}function SSt(r){let e="rzls",t="";CSt()&&(t=".exe"),DSt()&&(t=".dll");let n=`${e}${t}`,i=Bne.join(r,n);if(Wne.existsSync(i)||(n=`${e}.dll`,i=Bne.join(r,n)),!Wne.existsSync(i))throw new Error(P1e.l10n.t("Could not find Razor Language Server executable '{0}' within directory",i));return i}function CSt(){return!!$ne.platform().match(/^win/)}function DSt(){return $ne.platform()==="darwin"}var I1e=require("crypto");var R1e=be(Lw()),RB=class extends R1e.LanguageClient{razorOptions;constructor(e,t,n,i,o,s){super(e,t,n,i,s),this.razorOptions=o}handleFailedRequest(e,t,n,i,o){return this.razorOptions.suppressErrorToasts?super.handleFailedRequest(e,t,n,i,!1):super.handleFailedRequest(e,t,n,i,o)}};var Vne=be(require("vscode")),x1e=be(Lw());async function xB(r,e,t,n){let i=await n(r,e,t);return E1e(i),i}async function EB(r,e,t,n){return await n(r,e,o=>{o?.items.forEach(E1e),t(o)})}function E1e(r){r?.kind===x1e.vsdiag.DocumentDiagnosticReportKind.full&&po.reportInformationAsHint&&r.items.forEach(e=>{e.severity===Vne.DiagnosticSeverity.Information&&(e.severity=Vne.DiagnosticSeverity.Hint)})}var Gne={ServerStop:"ServerStop"},IB=class{constructor(e,t,n,i,o,s,a,c){this.vscodeType=e;this.languageServerDir=t;this.razorTelemetryReporter=n;this.vscodeTelemetryReporter=i;this.telemetryExtensionDllPath=o;this.env=s;this.dotnetExecutablePath=a;this.logger=c;this.isStarted=!1,this.setupLanguageServer(),this.eventBus=new O1e.EventEmitter}clientOptions;serverOptions;client;onStartListeners=[];onStartedListeners=[];eventBus;isStarted;startHandle;stopHandle;get initializeResult(){return this.client.initializeResult}onStarted(e){this.onStartedListeners.push(e)}onStart(e){this.onStartListeners.push(e)}onStop(e){return this.eventBus.addListener(Gne.ServerStop,e),new Zp.Disposable(()=>this.eventBus.removeListener(Gne.ServerStop,e))}async start(){if(this.startHandle)return this.startHandle;let e=Function,t=Function;this.startHandle=new Promise((o,s)=>{e=o,t=s});let n=0,i=this.client.onDidChangeState(o=>{o.oldState===OB.State.Starting&&o.newState===OB.State.Stopped?(n++,n===5&&t(Zp.l10n.t("Server failed to start after retrying 5 times."))):o.newState===OB.State.Running&&(n=0)});try{this.logger.logInfo("Starting Razor Language Server..."),await this.client.start(),this.logger.logInfo("Server started, waiting for client to be ready..."),this.isStarted=!0,this.logger.languageServerClient=this;for(let o of this.onStartListeners)await o();e(),this.logger.logInfo("Server ready!");for(let o of this.onStartedListeners)await o();i.dispose()}catch(o){Wi(Zp,Zp.l10n.t("Razor Language Server failed to start unexpectedly, please check the 'Razor Log' and report an issue.")),this.razorTelemetryReporter.reportErrorOnServerStart(o),t(o)}return this.startHandle}async sendRequest(e,t){if(!this.isStarted)throw new Error(Zp.l10n.t("Tried to send requests while server is not started."));return this.client.sendRequest(e,t)}async sendNotification(e,t){if(!this.isStarted)throw new Error(Zp.l10n.t("Tried to send requests while server is not started."));return this.client.sendNotification(e,t)}async onRequestWithParams(e,t){if(!this.isStarted)throw new Error(Zp.l10n.t("Tried to bind on request logic while server is not started."));this.client.onRequest(e,t)}onNotification(e,t){if(!this.isStarted)throw new Error(Zp.l10n.t("Tried to bind on notification logic while server is not started."));this.client.onNotification(e,t)}dispose(){this.logger.logInfo("Disposing Razor Language Server."),this.isStarted=!1,this.startHandle=void 0,this.eventBus.emit(Gne.ServerStop)}async stop(){let e=Function,t=Function;this.stopHandle=new Promise((n,i)=>{e=n,t=i}),this.startHandle||t(new Error(Zp.l10n.t("Cannot stop Razor Language Server as it is already stopped."))),this.logger.logInfo("Stopping Razor Language Server.");try{this.client&&await this.client.stop(),this.dispose(),e()}catch(n){Wi(Zp,Zp.l10n.t("Razor Language Server failed to stop correctly, please check the 'Razor Log' and report an issue.")),t(n)}return this.stopHandle}async connectNamedPipe(e){await this.start(),await this.sendNotification("razor/namedPipeConnect",{pipeName:e})}setupLanguageServer(){let e=PB(this.vscodeType,this.languageServerDir,this.logger);this.clientOptions={outputChannel:e.outputChannel,documentSelector:[{language:So.id,pattern:So.globbingPattern}],middleware:{provideDiagnostics:xB,provideWorkspaceDiagnostics:EB}};let t=[];this.logger.logInfo(`Razor language server path: ${e.serverPath}`),t.push("--logLevel"),t.push(this.logger.logLevelForRZLS.toString()),this.razorTelemetryReporter.reportTraceLevel(this.logger.logLevel),e.debug&&(this.razorTelemetryReporter.reportDebugLanguageServer(),this.logger.logInfo("Debug flag set for Razor Language Server."),t.push("--debug")),e.usingOmniSharp||(t.push("--DelegateToCSharpOnDiagnosticPublish"),t.push("true"),t.push("--UpdateBuffersForClosedDocuments"),t.push("true"),t.push("--SingleServerCompletionSupport"),t.push("true"),this.telemetryExtensionDllPath.length>0&&(t.push("--telemetryLevel",this.vscodeTelemetryReporter.telemetryLevel),t.push("--sessionId",TSt()),t.push("--telemetryExtensionPath",this.telemetryExtensionDllPath)));let n,i={detached:!0,windowsHide:!0,env:this.env};if(e.serverPath.endsWith(".dll")){let o=[e.serverPath].concat(t);this.logger.logInfo(`Server arguments ${o.join(" ")}`),n=async()=>Kne.spawn(this.dotnetExecutablePath,o,i)}else this.logger.logInfo(`Server arguments ${t.join(" ")}`),n=async()=>Kne.spawn(e.serverPath,t,i);this.serverOptions=n,this.client=new RB("razorLanguageServer","Razor Language Server",this.serverOptions,this.clientOptions,e)}};function TSt(){let r=Zp.env.sessionId;return r.toLowerCase()==="somevalue.sessionid"?(0,I1e.randomUUID)():r}var k1e=be(require("vscode"));var kB=class{constructor(e,t){this.position=e;this.uri=t.toString()}uri};var rL=class{constructor(e,t,n){this.kind=e;this.projectedRanges=t;this.razorDocumentUri=n.toString()}razorDocumentUri};var DE=class r{constructor(e,t,n){this.ranges=e;this.spans=t;this.razorDocument=n}static empty=new r([],[],{uri:""})};var TE=class{constructor(e,t){this.razorDocument=e;this.textChanges=t}static empty};var AB=class{constructor(e,t,n){this.kind=e;this.razorDocumentUri=t;this.textChanges=n}};var MB=class r{constructor(e,t){this.serverClient=e;this.documentManager=t}static MapToDocumentRangesEndpoint="razor/mapToDocumentRanges";async languageQuery(e,t){await this.ensureStarted();let n=new kB(e,t),i=await this.serverClient.sendRequest("razor/languageQuery",n);return i.position=new k1e.Position(i.position.line,i.position.character),i}async mapToDocumentRanges(e,t,n){await this.ensureStarted();let i=[];for(let c of t){let u=p_(c);i.push(u)}let o=new rL(e,i,n),s=await this.serverClient.sendRequest(r.MapToDocumentRangesEndpoint,o),a=[];for(let c of s.ranges)if(c.start.line>=0){let u=XW(s.ranges[0]);a.push(u)}return s.ranges=a,s}async mapSpans(e){let t=yi.deserialize(e.csharpDocument.uri),n=await this.documentManager.getDocumentForCSharpUri(t);if(!n)return DE.empty;let i=new rL(1,e.ranges,n.uri),o=await this.serverClient.sendRequest(r.MapToDocumentRangesEndpoint,i);return o?new DE(o.ranges.map(s=>({start:{line:s.start.line,character:s.start.character},end:{line:s.end.line,character:s.end.character}})),o.spans,{uri:yi.serialize(n.uri)}):DE.empty}async mapTextChanges(e){let t=yi.deserialize(e.csharpDocument.uri),n=await this.documentManager.getDocumentForCSharpUri(t);if(!n)return TE.empty;let i=new AB(1,n.uri,e.textChanges),o=await this.serverClient.sendRequest("razor/mapToDocumentEdits",i);return o?new TE({uri:yi.serialize(n.uri)},o.textChanges):TE.empty}async ensureStarted(){await this.serverClient.start()}};var NB=be(require("vscode"));var LB=class extends cc{async provideReferences(e,t,n,i){let o=await this.getProjection(e,t,i);if(!o||o.languageKind===3)return;let s=await NB.commands.executeCommand("vscode.executeReferenceProvider",o.uri,o.position),a=new Array;for(let c of s)if(o.languageKind===2&&ZW(c.uri)){let u=n0(c.uri);a.push(new NB.Location(u,c.range))}else if(tS(c.uri)){let u=await yv.remapGeneratedFileLocation(c,this.serviceClient,this.logger,i);if(u===void 0)continue;a.push(u)}else a.push(c);return a}};var A1e=be(require("vscode"));var FB=class extends cc{constructor(e,t,n,i){super(e,t,n,i)}async prepareRename(e,t,n){let i=await this.getProjection(e,t,n);return!i||i.languageKind!==1?null:e.getWordRangeAtPosition(t)}async provideRenameEdits(e,t,n,i){let o=await this.getProjection(e,t,i);if(!o||o.languageKind!==1)return;let s=await A1e.commands.executeCommand("vscode.executeDocumentRenameProvider",o.uri,o.position,n);return await yv.remapGeneratedFileWorkspaceEdit(s,this.serviceClient,this.logger,i)}};var PE=be(require("vscode")),M1e=be(Wu());var eD=class{constructor(e,t){this.tokens=e;this.hostDocumentSyncVersion=t}};var qB=class r{constructor(e,t,n,i){this.documentManager=e;this.documentSynchronizer=t;this.serverClient=n;this.logger=i}static getSemanticTokensRangeEndpoint="razor/provideSemanticTokensRanges";semanticTokensRequestType=new M1e.RequestType(r.getSemanticTokensRangeEndpoint);emptyTokensResponse=new Array;async register(){await this.serverClient.onRequestWithParams(this.semanticTokensRequestType,async(e,t)=>this.getSemanticTokens(e,t))}async getSemanticTokens(e,t){try{let n=PE.Uri.parse(e.textDocument.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.logger.logWarning(`Could not find Razor document ${n}; returning semantic tokens information.`),new eD(this.emptyTokensResponse,e.requiredHostDocumentVersion);let o=await PE.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.requiredHostDocumentVersion,t))return new eD(this.emptyTokensResponse,e.requiredHostDocumentVersion);if(e.requiredHostDocumentVersion==1){let u=e.ranges[0].end.line;if(this.countLines(i.csharpDocument.getContent())<u)return new eD(this.emptyTokensResponse,-1)}let a=this.reduceRanges(e.ranges),c=await PE.commands.executeCommand("vscode.provideDocumentRangeSemanticTokens",i.csharpDocument.uri,a);return new eD(Array.from(c.data),e.requiredHostDocumentVersion)}catch(n){this.logger.logWarning(`${r.getSemanticTokensRangeEndpoint} failed with ${n}`)}return new eD(this.emptyTokensResponse,e.requiredHostDocumentVersion)}reduceRanges(e){if(!e||e.length===0)return{start:{line:0,character:0},end:{line:0,character:0}};let t=e[0].start,n=e[0].end;for(let i of e){let o=i.start,s=i.end;(o.line<t.line||o.line===t.line&&o.character<t.character)&&(t=o),(s.line>n.line||s.line===n.line&&s.character>n.character)&&(n=s)}return{start:{line:t.line,character:t.character},end:{line:n.line,character:n.character}}}countLines(e){let t=0;for(let n of e)n===`
`&&t++;return t}};var L1e=be(require("vscode"));var jB=class extends cc{async provideSignatureHelp(e,t,n){let i=await this.getProjection(e,t,n);if(i)return await L1e.commands.executeCommand("vscode.executeSignatureHelpProvider",i.uri,i.position)}};function RE(r,e,t){return{type:1,eventName:r,properties:e,measures:t}}function N1e(r,e,t,n){return{type:78,eventName:r,properties:e,measures:t,errorProps:n}}var F1e=be(require("vscode")),zB=class{constructor(e){this.eventStream=e;this.eventStream.post(this.razorExtensionActivated)}razorExtensionActivated=RE("VSCode.Razor.RazorExtensionActivated");debugLanguageServerEvent=RE("VSCode.Razor.DebugLanguageServer");workspaceContainsRazorEvent=RE("VSCode.Razor.WorkspaceContainsRazor");buffersOutOfSyncEvent=RE("VSCode.Razor.BuffersOutOfSync");reportedWorkspaceContainsRazor=!1;reportTraceLevel(e){let t=RE("VSCode.Razor.TraceLevel",{trace:F1e.LogLevel[e]});this.eventStream.post(t)}reportBuffersOutOfSync(){this.eventStream.post(this.buffersOutOfSyncEvent)}reportErrorOnServerStart(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnServerStart",t)}reportErrorOnActivation(e){let t;e instanceof Error?t=e:t=Error(String(e)),this.reportError("VSCode.Razor.ErrorOnActivation",t)}reportDebugLanguageServer(){this.eventStream.post(this.debugLanguageServerEvent)}reportWorkspaceContainsRazor(){this.reportedWorkspaceContainsRazor||(this.reportedWorkspaceContainsRazor=!0,this.eventStream.post(this.workspaceContainsRazorEvent))}reportError(e,t){let n=N1e(e,{error:JSON.stringify(t)},void 0,["error"]);this.eventStream.post(n)}};var xE=be(require("vscode")),q1e=be(Jr());var UB=class r extends cc{constructor(t,n,i,o,s){super(t,o,i,s);this.documentSynchronizer=t;this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorPullDiagnosticsCommand="razor/csharpPullDiagnostics";diagnosticRequestType=new q1e.RequestType(r.razorPullDiagnosticsCommand);async register(){await this.serverClient.onRequestWithParams(this.diagnosticRequestType,async(t,n)=>this.getDiagnostic(t,n))}async getDiagnostic(t,n){if(!this.documentManager.roslynActivated)return;let i=xE.Uri.parse(t.identifier.textDocumentIdentifier.uri,!0),o=await xE.workspace.openTextDocument(i),s=await this.documentManager.getDocument(i);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,s.csharpDocument,t.identifier.version,n))return;let c=s.csharpDocument.uri,u={textDocument:{uri:yi.serialize(c)}};return await xE.commands.executeCommand(Pne,u)}};var WB=be(require("vscode")),BB=be(Jr());var nL=class{constructor(e,t){this.textDocument=e;this.textEdit=t}};var HB=class r extends cc{constructor(t,n,i,o,s){super(t,o,i,s);this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorSimplifyMethodCommand="razor/simplifyMethod";simplifyMethodRequestType=new BB.RequestType(r.razorSimplifyMethodCommand);async register(){await this.serverClient.onRequestWithParams(this.simplifyMethodRequestType,async(t,n)=>this.getSimplifiedMethod(t,n))}async getSimplifiedMethod(t,n){if(!this.documentManager.roslynActivated)return;let i=t.identifier.textDocumentIdentifier;if(t.requiresVirtualDocument){let a=WB.Uri.parse(t.identifier.textDocumentIdentifier.uri,!0),u=(await this.documentManager.getDocument(a)).csharpDocument.uri;i=BB.TextDocumentIdentifier.create(yi.serialize(u))}let o=new nL(i,t.textEdit);return await WB.commands.executeCommand(Ine,o)}};var iL=be(require("path")),EE=be(require("vscode"));var j1e=require("fs");var z1e=require("fs/promises");var U1e="9",H1e="0",PSt="1",Yne=`${U1e}.${H1e}.${PSt}`,OE=class{constructor(e,t,n,i){this.platformInfo=e;this.getServerPath=t;this.channel=n;this.extensionPath=i}hostInfo;async getHostExecutableInfo(){if(this.hostInfo)return this.hostInfo;let t=Is()!==void 0?"aspnetcore":"runtime";this.channel.appendLine(`Locating .NET runtime version ${Yne}`);let n=await this.getArchitectureFromTargetPlatform()??process.arch,i={acquireContext:{version:Yne,requestingExtensionId:ev,architecture:n,mode:t},versionSpecRequirement:"greater_than_or_equal",rejectPreviews:!0},o=await EE.commands.executeCommand("dotnet.findPath",i);o===void 0&&(this.channel.appendLine(`Did not find .NET ${Yne} on path, falling back to acquire runtime via ${EP}`),o=await this.acquireDotNetProcessDependencies(t));let s=o.dotnetPath,a={version:"",path:s,env:this.getEnvironmentVariables(s)};return this.hostInfo=a,a}getEnvironmentVariables(e){let t={...process.env};return t.DOTNET_ROOT=iL.dirname(e),t.DOTNET_MULTILEVEL_LOOKUP="0",t.DOTNET_ROOT_USER=process.env.DOTNET_ROOT??"EMPTY",po.crashDumpPath&&(t.DOTNET_DbgEnableMiniDump="1",t.DOTNET_DbgMiniDumpType="4",t.DOTNET_EnableCrashReport="1",t.DOTNET_DbgMiniDumpName=iL.join(po.crashDumpPath,"%e.%p.dmp")),t}async acquireRuntime(e){let n={version:`${U1e}.${H1e}`,requestingExtensionId:ev,mode:e},i=await EE.commands.executeCommand("dotnet.acquireStatus",n);if(i===void 0&&(await EE.commands.executeCommand("dotnet.showAcquisitionLog"),i=await EE.commands.executeCommand("dotnet.acquire",n),!i))throw new Error("Could not resolve the dotnet path!");return i}async acquireDotNetProcessDependencies(e){let t=await this.acquireRuntime(e),n=[this.getServerPath(this.platformInfo)];return await EE.commands.executeCommand("dotnet.ensureDotnetDependencies",{command:t.dotnetPath,arguments:n}),t}async getArchitectureFromTargetPlatform(){let e=iL.join(this.extensionPath,".vsixmanifest");if(!(0,j1e.existsSync)(e)){this.channel.appendLine(`Unable to find extension target platform - no vsix manifest file exists at ${e}`);return}let t=await(0,z1e.readFile)(e,"utf-8"),n=/TargetPlatform="(.*)"/.exec(t);if(!n)throw new Error(`Could not find extension target platform in ${e}`);let i=n[1];switch(i){case"win32-x64":case"linux-x64":case"alpine-x64":case"darwin-x64":return"x64";case"win32-ia32":return"x86";case"win32-arm64":case"linux-arm64":case"alpine-arm64":case"darwin-arm64":return"arm64";case"linux-armhf":case"web":return;default:throw new Error(`Unknown extension target platform: ${i}`)}}};var W1e=be(require("vscode")),B1e=be(Wu());var $B=class r extends cc{constructor(t,n,i,o,s){super(t,o,i,s);this.serverClient=n;this.serviceClient=i;this.documentManager=o;this.logger=s}static razorFormatNewFileCommand="razor/formatNewFile";formatNewFileRequestType=new B1e.RequestType(r.razorFormatNewFileCommand);async register(){await this.serverClient.onRequestWithParams(this.formatNewFileRequestType,async(t,n)=>this.getFormatNewFile(t,n))}async getFormatNewFile(t,n){return this.documentManager.roslynActivated?await W1e.commands.executeCommand(kne,t):void 0}};var IE=be(require("vscode")),GB=be(Jr());var VB=class r{constructor(e,t,n,i){this.serverClient=e;this.documentManager=t;this.documentSynchronizer=n;this.logger=i}static provideInlayHint="razor/inlayHint";InlayHintRequestType=new GB.RequestType(r.provideInlayHint);emptyInlayHintResponse=new Array;async register(){await this.serverClient.onRequestWithParams(this.InlayHintRequestType,async(e,t)=>this.provideInlayHints(e,t))}async provideInlayHints(e,t){try{let n=IE.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0),i=await this.documentManager.getDocument(n);if(i===void 0)return this.emptyInlayHintResponse;if(!this.documentManager.roslynActivated)return this.emptyInlayHintResponse;let o=await IE.workspace.openTextDocument(n);if(!await this.documentSynchronizer.trySynchronizeProjectedDocument(o,i.csharpDocument,e.identifier.version,t))return this.emptyInlayHintResponse;let a=yi.serialize(i.csharpDocument.uri),c={textDocument:GB.TextDocumentIdentifier.create(a),range:e.projectedRange};return await IE.commands.executeCommand(Mne,c)}catch(n){this.logger.logWarning(`${r.provideInlayHint} failed with ${n}`)}return this.emptyInlayHintResponse}};var YB=be(require("vscode")),$1e=be(Jr());var KB=class r{constructor(e,t,n){this.serverClient=e;this.documentManager=t;this.logger=n}static resolveInlayHint="razor/inlayHintResolve";InlayHintResolveRequestType=new $1e.RequestType(r.resolveInlayHint);async register(){await this.serverClient.onRequestWithParams(this.InlayHintResolveRequestType,async(e,t)=>this.resolveInlayHint(e,t))}async resolveInlayHint(e,t){try{let n=YB.Uri.parse(e.identifier.textDocumentIdentifier.uri,!0);return await this.documentManager.getDocument(n)===void 0?null:await YB.commands.executeCommand(Lne,e.inlayHint)}catch(n){this.logger.logWarning(`${r.resolveInlayHint} failed with ${n}`)}return null}};var V1e=be(require("fs")),Jne=be(require("path")),G1e={roslynDevKit:{defaultFolderName:".roslynDevKit",optionName:"roslynDevKit",componentDllPaths:["Microsoft.VisualStudio.LanguageServices.DevKit.dll"]},xamlTools:{defaultFolderName:".xamlTools",optionName:"xamlTools",componentDllPaths:["Microsoft.VisualStudio.DesignTools.CodeAnalysis.dll","Microsoft.VisualStudio.DesignTools.CodeAnalysis.Diagnostics.dll"]},razorDevKit:{defaultFolderName:".razorDevKit",optionName:"razorDevKit",componentDllPaths:["Microsoft.VisualStudio.DevKit.Razor.dll"]},razorExtension:{defaultFolderName:".razorExtension",optionName:"razorExtension",componentDllPaths:["Microsoft.VisualStudioCode.RazorExtension.dll"]},roslynCopilot:{defaultFolderName:".roslynCopilot",optionName:"roslynCopilot",componentDllPaths:["Microsoft.VisualStudio.Copilot.Roslyn.LanguageServer.dll"],isOptional:!0}};function o0(r,e,t){let n=G1e[r],i=Y1e(n,e),o=n.componentDllPaths.map(s=>Jne.join(i,s));for(let s of o)if(!V1e.existsSync(s)){if(n.isOptional)return t&&t.warn(`Optional component '${r}' could not be found at '${s}'.`),[];throw new Error(`Component DLL not found: ${s}`)}return o}function K1e(r,e){let t=G1e[r];return Y1e(t,e)}function Y1e(r,e){if(e?.componentPaths){let t=e.componentPaths[r.optionName];if(t)return t}return Jne.join(__dirname,"..",r.defaultFolderName)}var Iie=be($Me()),fL=require("fs"),lLe=require("path"),kie=require("url"),aS=be(require("vscode")),T$=be(oLe());var dL=".NET Application Server",D$="Debug Blazor Web Assembly in Browser";var sLe=be(FX());var aLe=r=>r.startsWith(D$)||r===dL,cLe=(r,e)=>{if(r)try{e.logTrace(`[DEBUGGER] Terminating debugging session with PID ${r}...`),process.kill(r)}catch(t){e.logError(`[DEBUGGER] Error terminating debug processes with PID ${r}: `,t)}};async function uLe(r,e,t){t&&(typeof t=="number"?oTt(r,e,t):await sTt(r,e,t))}function oTt(r,e,t){aLe(r.name)&&cLe(t,e)}async function sTt(r,e,t){if(!aLe(r.name))return;let n=[];try{n=await(0,sLe.default)()}catch(o){e.logError("Error retrieving processes to clean-up: ",o)}let i=n.find(o=>!!(o&&o.cmd&&o.cmd.toLowerCase().match(t)));i&&cLe(i.pid,e)}var tD=class r{constructor(e,t){this.logger=e;this.vscodeType=t}static autoDetectUserNotice=aS.l10n.t("Run and Debug: auto-detection found {0} for a launch browser");static edgeBrowserType="msedge";static chromeBrowserType="chrome";static register(e,t){let n=new r(e,t);return t.debug.registerDebugConfigurationProvider("blazorwasm",n)}async resolveDebugConfiguration(e,t){t.request==="launch"&&await this.launchApp(e,t);let n="{wsProtocol}://{url.hostname}:{url.port}/_framework/debug/ws-proxy?browser={browserInspectUri}",i="https://localhost:5001";try{if(e!==void 0){let o=t.cwd?t.cwd:(0,kie.fileURLToPath)(e.uri.toString());o=o.replace("${workspaceFolder}",(0,kie.fileURLToPath)(e.uri.toString()));let s=JSON.parse((0,fL.readFileSync)((0,lLe.join)(o,"Properties","launchSettings.json"),"utf8"));s?.profiles&&s?.profiles[Object.keys(s.profiles)[0]]?.inspectUri&&(n=s.profiles[Object.keys(s.profiles)[0]].inspectUri,i=s.profiles[Object.keys(s.profiles)[0]].applicationUrl.split(";",1)[0])}}catch(o){this.logger.logError("[DEBUGGER] Error while getting information from launchSettings.json: ",o)}await this.launchBrowser(e,t,n,i)}async launchApp(e,t){let n=t.hosted?t.program:"dotnet",i=t.cwd||"${workspaceFolder}",o=t.hosted?[]:["run"],s={name:dL,type:"coreclr",request:"launch",prelaunchTask:"build",program:n,args:o,cwd:i,env:{ASPNETCORE_ENVIRONMENT:"Development",...t.env},launchBrowser:{enabled:!1},...t.dotNetConfig};try{if(await this.vscodeType.debug.startDebugging(e,s),process.platform!=="win32"){let a=this.vscodeType.debug.onDidTerminateDebugSession(async c=>{let u="blazor-devserver\\.dll",d=(e&&e.uri&&e.uri.fsPath).toLowerCase().replace(/\//g,"\\/"),f=t.hosted?s.program:`${d}.*${u}|${u}.*${d}`;await uLe(c,this.logger,f),a.dispose()})}}catch(a){this.logger.logError("[DEBUGGER] Error when launching application: ",a)}}async launchBrowser(e,t,n,i){let o=t.browser,s=o==="edge"?r.edgeBrowserType:o==="chrome"?r.chromeBrowserType:await r.determineBrowserType();if(!s)return;let a={name:D$,type:s,request:"launch",timeout:t.timeout||3e4,url:t.url||i,webRoot:t.webRoot||"${workspaceFolder}",inspectUri:n,trace:t.trace||!1,noDebug:t.noDebug||!1,...t.browserConfig,cascadeTerminateToConfigurations:[dL]};try{await this.vscodeType.debug.startDebugging(e,a)}catch(c){this.logger.logError("[DEBUGGER] Error when launching browser debugger: ",c);let u=aS.l10n.t("There was an unexpected error while launching your debugging session. Check the console for helpful logs and visit the debugging docs for more info."),l={title:aS.l10n.t("View Debug Docs"),action:async()=>{await this.vscodeType.commands.executeCommand("vcode.open","https://aka.ms/blazorwasmcodedebug")}},d=aS.l10n.t("Ignore");Wi(this.vscodeType,u,l,d)}}static async determineBrowserType(){if((await new T$.EdgeBrowserFinder(process.env,fL.promises,Iie.default).findAll()).length>0)return Vs(aS,r.autoDetectUserNotice.replace("{0}","'Edge'")),r.edgeBrowserType;if((await new T$.ChromeBrowserFinder(process.env,fL.promises,Iie.default).findAll()).length>0)return Vs(aS,r.autoDetectUserNotice.replace("{0}","'Chrome'")),r.chromeBrowserType;Wi(aS,aS.l10n.t("Run and Debug: A valid browser is not installed. Please install Edge or Chrome."))}};var pL=be(require("vscode")),c0=class r{constructor(e){this.languageServiceClient=e}static MapSpansCommand="razor.mapSpansCommand";static MapChangesCommand="razor.mapChangesCommand";async register(){return pL.Disposable.from(pL.commands.registerCommand(r.MapSpansCommand,async e=>this.languageServiceClient.mapSpans(e)),pL.commands.registerCommand(r.MapChangesCommand,async e=>this.languageServiceClient.mapTextChanges(e)))}};async function dLe(r,e,t,n,i,o,s,a,c=!1){let u=new zB(n),l={create:()=>new P$.EventEmitter};try{let d=PB(r,t,a);if(d.cohostingEnabled){a.logTrace("Razor cohosting is enabled, skipping language server activation. No rzls process will be created.");return}let y=await new OE(s,()=>d.serverPath,a.outputChannel,e.extensionPath).getHostExecutableInfo(),b="";if(o&&(await cTt(y.env,o,a),P$.env.isTelemetryEnabled)){let Fe=o0("razorDevKit",void 0,a.outputChannel);Fe.length!==1?a.logError("Failed to find Razor DevKit telemetry extension path.",void 0):b=Fe[0]}let T=new IB(r,t,u,i,b,y.env,y.path,a),k=new hB(T,a,u,s),z=new MB(T,k),A=new mB(k,a);S1e(k,u);let U=new TB,ne=new nB(k,l,a),de=new SB(k,z,l,a),ve=[],$=new vE(r,k,void 0,void 0,a),W=new QW(T,a),ee=new JW(k,A,T,a),Pe=new dE(k,A,T,ne.projectionProvider,a);new Fy(k,a).register(),T.onStart(async()=>{let Fe=new qB(k,A,T,a),Le=new pE(k,T,a),ce=new yE(k,A,T,a),Ce=new SE(T,k,a),we=new VB(T,k,A,a),Ee=new KB(T,k,a),Ne=new i0(k,A,T,a),$e=new jB(A,k,z,a),Ct=new iB(A,k,z,a),ze=new CB(A,k,z,a),st=new _B(A,k,z,a),at=new eB(A,k,z,a),tt=new FB(A,k,z,a),pr=new LB(A,k,z,a),Ar=new vB(A,k,z,a),jr=new UB(A,T,z,k,a),lr=new HB(A,T,z,k,a),Et=new $B(A,T,z,k,a),hr=new c0(z);ve.push(U.register(),r.languages.registerSignatureHelpProvider(So.id,$e,"(",","),r.languages.registerDefinitionProvider(So.id,Ct),r.languages.registerImplementationProvider(So.id,ze),r.languages.registerHoverProvider(So.documentSelector,st),r.languages.registerReferenceProvider(So.id,pr),r.languages.registerCodeLensProvider(So.id,at),r.languages.registerRenameProvider(So.id,tt),r.languages.registerDocumentHighlightProvider(So.id,Ar),k.register(),ne.register(),de.register(),A.register(),$.register(),W.register()),c&&await new DB().register(r),await Promise.all([Le.register(),ce.register(),Ce.register(),we.register(),Ee.register(),Ne.register(),Fe.register(),jr.register(),ee.register(),Pe.register(),lr.register(),Et.register(),hr.register()])});let ue=T.onStop(()=>{ve.forEach(Fe=>Fe.dispose()),ve.length=0});e.subscriptions.push(tD.register(a,r)),T.onStarted(async()=>{await k.initialize()}),await aTt(r,T,a,e),e.subscriptions.push(T,ue,a)}catch(d){a.logError("Failed when activating Razor VSCode.",d),u.reportErrorOnActivation(d)}}async function aTt(r,e,t,n){if((await r.workspace.findFiles(So.globbingPattern)).length===0){t.logAlways("No Razor files detected in workspace, delaying language server start.");let o=r.workspace.createFileSystemWatcher(So.globbingPattern),s=async()=>{a.dispose(),c.dispose(),await e.start()},a=o.onDidCreate(async()=>s()),c=r.workspace.onDidOpenTextDocument(async u=>{u.languageId===So.id&&await s()});n.subscriptions.push(a,c)}else await e.start()}async function cTt(r,e,t){try{let n=await e.activate();if(!n.setupTelemetryEnvironmentAsync)return;await n.setupTelemetryEnvironmentAsync(r)}catch(n){t.logError("Failed to setup DevKit environment for telemetry.",n)}}async function R$(r,e,t,n,i,o,s,a){let u=u0.workspace.getConfiguration("razor").get("languageServer.directory",""),l=u.length>0?u:s?Aie.join(e,".razoromnisharp"):Aie.join(e,".razor");fLe.existsSync(l)?s?await pLe.activate(u0,r,l,t,!1):await dLe(u0,r,l,t,n,i,o,a,!1):Hp(u0,u0.l10n.t("Cannot load Razor language server because the directory was not found: '{0}'",l))}var x$=be(require("fs")),E$=be(require("path")),nu=be(require("vscode")),HE=be(Jr()),WE=class{static logName="Razor Log";traceEnabled;debugEnabled;infoEnabled;outputChannel;languageServerClient;onLogEmitter;constructor(){this.outputChannel=nu.window.createOutputChannel(nu.l10n.t("Razor Log"),{log:!0}),this.onLogEmitter=new nu.EventEmitter,this.processTraceLevel(),this.outputChannel.onDidChangeLogLevel(async()=>{await this.updateLogLevelAsync()}),this.logRazorInformation(),this.setupToStringOverrides()}get logLevel(){return this.outputChannel.logLevel}get logLevelForRZLS(){switch(this.logLevel){case nu.LogLevel.Off:return 0;case nu.LogLevel.Trace:return 1;case nu.LogLevel.Debug:return 2;case nu.LogLevel.Info:return 3;case nu.LogLevel.Warning:return 4;case nu.LogLevel.Error:return 5;default:throw new Error("Unexpected log level value. Do not know how to convert")}}get onLog(){return this.onLogEmitter.event}logAlways(e){this.outputChannel.info(e),this.onLogEmitter.fire(e)}logWarning(e){this.outputChannel.warn(e),this.onLogEmitter.fire(e)}logError(e,t){if(t instanceof Error)this.logErrorInternal(e,t);else{let n=String(t);this.logErrorInternal(e,Error(n))}}logInfo(e){this.infoEnabled&&(this.outputChannel.info(e),this.onLogEmitter.fire(e))}logDebug(e){this.debugEnabled&&(this.outputChannel.debug(e),this.onLogEmitter.fire(e))}logTrace(e){this.traceEnabled&&(this.outputChannel.trace(e),this.onLogEmitter.fire(e))}log(e,t){switch(t){case HE.MessageType.Error:this.logError(e,new Error(e));break;case HE.MessageType.Warning:this.logWarning(e);break;case HE.MessageType.Info:this.logInfo(e);break;case HE.MessageType.Debug:this.logDebug(e);break;case HE.MessageType.Log:default:this.logTrace(e)}}dispose(){this.outputChannel.dispose()}async updateLogLevelAsync(){this.processTraceLevel(),this.languageServerClient&&await this.languageServerClient.sendNotification("razor/updateLogLevel",{logLevel:this.logLevelForRZLS})}logErrorInternal(e,t){let n=`${e}
${t.message}
Stack Trace:
${t.stack}`;this.outputChannel.error(n),this.onLogEmitter.fire(e)}logRazorInformation(){let e=lTt();this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor.VSCode version ${e.defaults.razor}`),this.logAlways("--------------------------------------------------------------------------------"),this.logAlways(`Razor's log level is currently set to '${nu.LogLevel[this.logLevel]}'`),this.logAlways(" - To change Razor's log level use the gear icon on the output window"),this.logAlways(" - To report issues invoke the 'Report a Razor issue' command via the command palette."),this.logAlways("-----------------------------------------------------------------------------------------------------------------------------"),this.logAlways("")}setupToStringOverrides(){nu.Range.prototype.toString=function(){return`[${this.start}, ${this.end}]`},nu.Position.prototype.toString=function(){return`${this.line}:${this.character}`}}processTraceLevel(){this.traceEnabled=this.outputChannel.logLevel<=nu.LogLevel.Trace,this.debugEnabled=this.outputChannel.logLevel<=nu.LogLevel.Debug,this.infoEnabled=this.outputChannel.logLevel<=nu.LogLevel.Info}};function lTt(){let r=dTt(__dirname,"package.json");return JSON.parse(x$.readFileSync(r).toString())}function dTt(r,e){let t=r;for(;t;){let n=E$.join(t,e);if(x$.existsSync(n))return n;let i=E$.dirname(t);t=i===r?void 0:i}throw new Error(nu.l10n.t("Could not find '{0}' in or above '{1}'.",e,r))}function hLe(r,e,t,n,i,o,s,a){let c=BE.window.createOutputChannel(BE.l10n.t(".NET Test Log")),u=BE.window.createOutputChannel(BE.l10n.t(".NET NuGet Restore")),l=iPe(r,e,t,n,i,o,c,u,s),d=new WE,f;Tu.razorDevMode||(f=R$(r,r.extension.extensionPath,i,s,void 0,e,!0,d));let y=a(l);return{isLimitedActivation:!1,initializationFinished:async()=>{await(await l).server.waitForInitialize(),await y,f&&await f},getAdvisor:async()=>(await l).advisor,getTestManager:async()=>(await l).testManager,eventStream:i,logDirectory:r.logUri.fsPath}}var pje=be(require("vscode"));var mLe=be(require("vscode"));var O$=class{onServerStateChangeEmitter=new mLe.EventEmitter;get onServerStateChange(){return this.onServerStateChangeEmitter.event}dispose(){this.onServerStateChangeEmitter.dispose()}};var EO=be(require("vscode")),hce=be(require("fs")),mce=be(require("path"));var Lie=be(require("vscode"));var cS=be(require("vscode"));function gLe(r,e){Is()||r.subscriptions.push(cS.commands.registerCommand("dotnet.openSolution",async()=>fTt(e)))}async function fTt(r){if(!cS.workspace.workspaceFolders)return;let t=(await cS.workspace.findFiles("**/*.{sln,slnf}")).map(zq),n=await cS.window.showQuickPick(t,{matchOnDescription:!0,placeHolder:"Select solution file"});if(n){let i=cS.Uri.file(n.target);return await r.openSolution(i),i}}var lc=be(require("vscode"));function vLe(r,e,t){r.subscriptions.push(lc.commands.registerCommand("roslyn.client.peekReferences",pTt)),r.subscriptions.push(lc.commands.registerCommand("roslyn.client.completionComplexEdit",async(n,i,o,s)=>hTt(n,i,o,s,t))),r.subscriptions.push(lc.commands.registerCommand("dotnet.restartServer",async()=>mTt(e)))}async function pTt(r,e){let t=yi.deserialize(r),n=new lc.Position(e.line,e.character),i=await lc.commands.executeCommand("vscode.executeReferenceProvider",t,n);i&&Array.isArray(i)&&await lc.commands.executeCommand("editor.action.showReferences",t,n,i)}async function hTt(r,e,t,n,i){let o="[roslyn.client.completionComplexEdit]",s=yi.deserialize(r.uri),a=await lc.workspace.openTextDocument(s);a===void 0&&Mie(i,`${o} Can't open document with path: '${r.uri}'`);let c;(t||n>=0)&&(c=await lc.window.showTextDocument(a),c===void 0&&Mie(i,`${o} Editor unavailable for document with path: '${r.uri}'`));let u=a.validateRange(new lc.Range(e.range.start.line,e.range.start.character,e.range.end.line,e.range.end.character)),l=!1;for(let d=0;d<3;d++){if(t)c.selection=new lc.Selection(u.start,u.end),l=await c.insertSnippet(new lc.SnippetString(e.newText));else{let f=new lc.WorkspaceEdit,y=lc.TextEdit.replace(u,e.newText);if(f.set(a.uri,[y]),l=await lc.workspace.applyEdit(f),l&&n>=0){let b=a.positionAt(n);c.selections=[new lc.Selection(b,b)]}}if(l)return}l||Mie(i,`${o} ${t?"TextEditor.insertSnippet":"workspace.applyEdit"} failed.`)}function Mie(r,e){throw r.show(),r.error(e),new Error(e)}async function mTt(r){await r.restart()}function yLe(r,e,t,n,i){gTt(r,t,n,i),gLe(r,e),vLe(r,e,n)}function gTt(r,e,t,n){r.subscriptions.push(Lie.commands.registerCommand("csharp.reportIssue",async()=>IA(r,jh,!1,[t,n],e))),r.subscriptions.push(Lie.commands.registerCommand("csharp.showOutputWindow",async()=>t.show()))}var ud=be(require("vscode"));var bLe=be(require("vscode"));var dc=be(Jr()),bl=be(Wu()),Nie;(n=>(n.method="workspace/debugConfiguration",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new bl.RequestType(n.method)))(Nie||={});var hL;(n=>(n.method="textDocument/_vs_onAutoInsert",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new bl.RequestType(n.method)))(hL||={});var Fie;(n=>(n.method="workspace/_vs_registerSolutionSnapshot",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new bl.RequestType0(n.method)))(Fie||={});var qie;(n=>(n.method="textDocument/_vs_getProjectContexts",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new bl.RequestType(n.method)))(qie||={});var jie;(n=>(n.method="workspace/projectInitializationComplete",n.messageDirection=dc.MessageDirection.serverToClient,n.type=new bl.NotificationType(n.method)))(jie||={});var zie;(n=>(n.method="workspace/projectConfigurationTelemetry",n.messageDirection=dc.MessageDirection.serverToClient,n.type=new bl.NotificationType(n.method)))(zie||={});var Uie;(n=>(n.method="window/_roslyn_showToast",n.messageDirection=dc.MessageDirection.serverToClient,n.type=new bl.NotificationType(n.method)))(Uie||={});var Hie;(n=>(n.method="textDocument/runTests",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new dc.ProtocolRequestType(n.method)))(Hie||={});var Wie;(n=>(n.method="workspace/attachDebugger",n.messageDirection=dc.MessageDirection.serverToClient,n.type=new bl.RequestType(n.method)))(Wie||={});var Bie;(n=>(n.method="solution/open",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new bl.NotificationType(n.method)))(Bie||={});var $ie;(n=>(n.method="project/open",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new bl.NotificationType(n.method)))($ie||={});var Vie;(n=>(n.method="workspace/buildOnlyDiagnosticIds",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new bl.RequestType0(n.method)))(Vie||={});var Gie;(n=>(n.method="codeAction/resolveFixAll",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new bl.RequestType(n.method)))(Gie||={});var Kie;(n=>(n.method="workspace/_roslyn_restore",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new dc.ProtocolRequestType(n.method)))(Kie||={});var Yie;(n=>(n.method="workspace/_roslyn_restorableProjects",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new bl.RequestType0(n.method)))(Yie||={});var Jie;(n=>(n.method="workspace/_roslyn_projectNeedsRestore",n.messageDirection=dc.MessageDirection.serverToClient,n.type=new bl.RequestType(n.method)))(Jie||={});var Xie;(n=>(n.method="copilot/_related_documents",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new dc.ProtocolRequestType(n.method)))(Xie||={});var Qie;(n=>(n.method="sourceGeneratedDocument/_roslyn_getText",n.messageDirection=dc.MessageDirection.clientToServer,n.type=new bl.RequestType(n.method)))(Qie||={});var Zie;(n=>(n.method="workspace/refreshSourceGeneratedDocument",n.messageDirection=dc.MessageDirection.serverToClient,n.type=new bl.NotificationType(n.method)))(Zie||={});var I$=class{constructor(e,t){this.server=e;this.outputChannel=t}async getWorkspaceDebugInformation(e){if(!this.server.isRunning())return;let t={workspacePath:yi.serialize(e)},n;try{n=await this.server.sendRequest(Nie.type,t,new bLe.CancellationTokenSource().token)}catch(o){this.outputChannel.error("Failed to get debug configuration",o);return}return await PV(n,async o=>{let s=mq(o.projectPath),a=await gq(o.projectPath);return{projectPath:o.projectPath,outputPath:o.outputPath,projectName:o.projectName,targetsDotnetCore:o.targetsDotnetCore,isExe:o.isExe,isWebProject:s,isBlazorWebAssemblyHosted:vq(o.isExe,s,a,o.targetsDotnetCore),isBlazorWebAssemblyStandalone:a,solutionPath:o.solutionPath}})}};var f2e=be(eC()),np=be(require("vscode"));var DO=be(tce());var rp=be(tce()),Hy=class{static solutionSnapshotProviderRegistration=Object.freeze(new rp.ServiceJsonRpcDescriptor(rp.ServiceMoniker.create("Microsoft.CodeAnalysis.LanguageClient.SolutionSnapshotProvider","0.1"),rp.Formatters.MessagePack,rp.MessageDelimiters.BigEndianInt32LengthHeader));static dotnetDebugConfigurationService=new rp.ServiceJsonRpcDescriptor(rp.ServiceMoniker.create("Microsoft.VisualStudio.Debugger.DotnetDebugConfigurationService","0.1"),rp.Formatters.MessagePack,rp.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3});static csharpExtensionBuildResultService=new rp.ServiceJsonRpcDescriptor(rp.ServiceMoniker.create("Microsoft.VisualStudio.CSharpExtension.BuildResultService","0.1"),rp.Formatters.MessagePack,rp.MessageDelimiters.BigEndianInt32LengthHeader,{protocolMajorVersion:3})};var rce=class extends DO.GlobalBrokeredServiceContainer{registerExternalServices(...e){let t=new DO.ServiceRegistration(DO.ServiceAudience.local,!1);this.register(e.map(n=>({moniker:n,registration:t})))}},V3;function nce(){return V3||(V3=new rce,V3.registerExternalServices(Hy.dotnetDebugConfigurationService.moniker)),V3}function l2e(){return nce().getFullAccessServiceBroker()}var TO=class extends Error{},G3=class extends Error{constructor(){super()}},eN=class extends Error{},K3=class extends Error{},d2e="${workspaceFolder}",kEt="${file}";function AEt(r,e){if(r===kEt)return np.window.activeTextEditor?.document.fileName??r;if(r.startsWith(d2e)){let t=r.substring(d2e.length);t.startsWith("/")?e=e.replace(/[\\/]+/g,"/"):e=e.replace(/[\\/]+/g,"\\"),r=e+t}return r}var Y3=class r{constructor(e,t){this.workspaceDebugInfoProvider=e;this.dotnetWorkspaceConfigurationProvider=t}static dotnetType="dotnet";async resolveDebugConfiguration(e,t,n){if(t.type===void 0)return t;if(t.request!=="launch")throw t.request?new Error(np.l10n.t("'{0}' request is not supported for the '{1}' configuration.",t.request,r.dotnetType)):new Error(np.l10n.t("'{0}' was not set in the debug configuration.","request"));let i=t.projectPath;if(e){i&&(i=AEt(i,e.uri.fsPath));let o=await l2e()?.getProxy(Hy.dotnetDebugConfigurationService);try{if(o){let s=await o.resolveDebugConfigurationWithLaunchConfigurationService(i,t,n);return this.resolveDotnetDebugConfigurationServiceResult(i,s)}else throw new K3}catch(s){if(s instanceof K3){if(!i)throw new TO(np.l10n.t("'{0}' was not provided in the debug configuration.","projectPath"));return await this.resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,i)}else{if(s instanceof G3)return;throw s}}finally{o?.dispose()}}else throw new Error(np.l10n.t("Can not find an opened workspace folder. Please open a folder before starting to debug with a '{0}' configuration'.",r.dotnetType))}resolveDotnetDebugConfigurationServiceResult(e,t){if(t.error){let i=t.error;switch(i.kind){case"launchCancelled":throw new G3;case"internalError":case"userError":throw new TO(i.message);default:throw new eN(`Unexpected error kind: '${i.kind}'`)}}let n=t.configurations;if(n.length==0)throw e?new TO(np.l10n.t("No launchable target found for '{0}'",e)):new TO(np.l10n.t("No launchable target found."));if(n.length==1)return n[0];if(n.length===2){let i=np.debug.onDidStartDebugSession(async o=>{o.name===n[0].name&&(i.dispose(),await np.debug.startDebugging(o.workspaceFolder,n[1],o))});return n[0]}else throw n.length>2?new eN("Multiple launch targets (>2) is not yet supported."):new eN("Unexpected configuration array from IDotnetDebugConfigurationServiceResult.")}async resolveDebugConfigurationWithWorkspaceDebugInformationProvider(e,t){let n=await this.workspaceDebugInfoProvider.getWorkspaceDebugInformation(e.uri);if(!n)throw new Error(np.l10n.t("Cannot resolve .NET debug configurations. The server is still initializing or has exited unexpectedly."));for(let i=0;i<n.length;i++){let o=n[i].projectPath.replace(/[\\/]+/g,"/");if(t.replace(/[\\/]+/g,"/")==o){let a=new jC(n,e);if(a.hasExecutableProjects()){await a.selectStartupProject(i),await f2e.ensureDir(a.vscodeFolder);let c=await xA(a);await EA(a,c);let u=a.computeProgramLaunchType(),l=a.createLaunchJsonConfigurationsArray(u,!0);if(l.length===1)return l[0];throw new Error(np.l10n.t("Unable to determine a configuration for '{0}'. Please generate C# debug assets instead.",t))}else throw new Error(np.l10n.t("'{0}' is not an executable project.",t))}}throw new Error(np.l10n.t("Unable to determine debug settings for project '{0}'",t))}async resolveDebugConfigurationWithSubstitutedVariables(e,t,n){return this.dotnetWorkspaceConfigurationProvider.resolveDebugConfigurationWithSubstitutedVariables(e,t,n)}};function p2e(r,e,t,n,i){let o=new I$(e,i),s=t.onServerStateChange(async c=>{c.state===3&&(Is()||await qz(r,o))});r.subscriptions.push(s);let a=new LR(o,n,i);r.subscriptions.push(ud.debug.registerDebugConfigurationProvider("dotnet",new Y3(o,a))),r.subscriptions.push(ud.debug.registerDebugConfigurationProvider("coreclr",a)),r.subscriptions.push(ud.commands.registerCommand("dotnet.generateAssets",async(c,u={})=>{await MEt(u)&&await jz(o,c)}))}async function MEt(r){if(Is()){if(r.skipPrompt)return!0;let e;for(;e===void 0;){let t=ud.l10n.t("Yes"),n=ud.l10n.t("No"),i=ud.l10n.t("More Information"),o=ud.l10n.t(".NET: Generate Assets for Build and Debug"),s=await ud.window.showInformationMessage(o,{modal:!0,detail:ud.l10n.t("The '{0}' command is not recommended to be used when C# Dev Kit extension is installed. Would you like build and debug using a dynamic configuration instead?",o)},t,n,i);s===t?(await ud.commands.executeCommand("workbench.action.debug.selectandstart","dotnet"),e=!1):s===n?e=!0:s===i?await ud.env.openExternal(ud.Uri.parse("https://aka.ms/VSCode-CS-DynamicDebugConfig")):s===void 0&&(e=!1)}return e}return!0}var m2e=be(require("fs")),X3=be(require("path")),_l=be(require("vscode")),g2e=be(Lw());function v2e(r,e){if(Is())return;let t=_l.window.createOutputChannel(_l.l10n.t(".NET Test Log"));r.subscriptions.push(_l.commands.registerCommand("dotnet.test.run",async n=>y2e(n,e,t))),r.subscriptions.push(_l.commands.registerCommand("dotnet.test.runTestsInContext",async()=>h2e(!1,e,t))),r.subscriptions.push(_l.commands.registerCommand("dotnet.test.debugTestsInContext",async()=>h2e(!0,e,t)))}async function h2e(r,e,t){let n=_l.window.activeTextEditor;if(!n)throw new Error("No active editor");let i={start:n.selection.active,end:n.selection.active},s={textDocument:g2e.TextDocumentIdentifier.create(yi.serialize(n.document.uri)),range:i,attachDebugger:r};return y2e(s,e,t)}var J3=!1;async function y2e(r,e,t){if(J3){Wi(_l,_l.l10n.t("Test run already in progress"));return}r.runSettingsPath=LEt(r.textDocument.uri,t),J3=!0,t.show(!0);let n;return await _l.window.withProgress({location:_l.ProgressLocation.Notification,title:"Dotnet Test",cancellable:!0},async(i,o)=>{let s=0,a=u=>{if(u.message&&t.appendLine(u.message),u.progress){let l=u.progress.totalTests,d=u.progress.testsPassed+u.progress.testsFailed+u.progress.testsSkipped,f=(d-s)/l*100;i.report({message:u.stage,increment:f}),s=d,n=u.progress}else i.report({message:u.stage})};i.report({message:"Saving files..."}),await _l.workspace.saveAll(!1),i.report({message:"Requesting server..."}),await e.sendRequestWithProgress(Hie.type,r,async u=>{a(u)},o).then(u=>{u.forEach(l=>{a(l)})},u=>{t.appendLine(u)})}).then(()=>{J3=!1},()=>{J3=!1}),n}function LEt(r,e){let t=ss.runSettingsPath;if(t.length===0)return;let n=t;if(!X3.isAbsolute(t)){let i=_l.workspace.getWorkspaceFolder(_l.Uri.parse(r));if(i===void 0){e.appendLine(`Warning: Unable to find workspace folder for ${r}, cannot resolve run settings path ${t}.`);return}n=X3.join(i.uri.fsPath,t)}if(!m2e.existsSync(n)){e.appendLine(`Warning: Unable to find run settings file at ${n}.`);return}return n}var RO=be(require("vscode"));function b2e(r){return Xz(r,{getRelevantOptions:()=>({changedCommonOptions:PF,changedLanguageServerOptions:Fhe,changedOmnisharpOptions:[]}),handleOptionChanges(n){NEt(n)}})}function NEt(r){if(r.changedCommonOptions.length==0&&r.changedLanguageServerOptions.length==0)return;let e={title:RO.l10n.t("Reload Window"),command:"workbench.action.reloadWindow"};if(r.changedCommonOptions.find(n=>n==="useOmnisharpServer")){Vs(RO,RO.l10n.t("dotnet.server.useOmnisharp option has changed. Please reload the window to apply the change"),e);return}let t=RO.l10n.t("C# configuration has changed. Would you like to reload the window to apply your changes?");Vs(RO,t,e)}var Pv=be(require("vscode"));var _2e=be(Cj());function w2e(r,e,t){r.subscriptions.push(Pv.commands.registerCommand("roslyn.client.fixAllCodeAction",async n=>FEt(e,n,t)))}async function ice(r,e,t){if(!r.FixAllFlavors)throw new Error(`FixAllFlavors is missing from data ${JSON.stringify(r)}`);let n=await Pv.window.showQuickPick(r.FixAllFlavors,{placeHolder:Pv.l10n.t("Pick a fix all scope")});await Pv.window.withProgress({location:Pv.ProgressLocation.Notification,title:Pv.l10n.t("Fix All Code Action"),cancellable:!0},async(i,o)=>{if(n){let s={title:r.UniqueIdentifier,data:r,scope:n},a=await e.sendRequest(Gie.type,s,o);if(a.edit){let l=await(0,_2e.createConverter)(d=>yi.deserialize(d),!0,!0,!0).asWorkspaceEdit(a.edit);if(!await Pv.workspace.applyEdit(l)){let d="[roslyn.client.fixAllCodeAction]",f="Failed to make a fix all edit for completion.";throw t.show(),t.error(`${d} ${f}`),new Error("Tried to insert multiple code action edits, but an error occurred.")}}}})}async function FEt(r,e,t){e&&await ice(e,r,t)}var pg=be(require("vscode")),S2e=be(Jr()),C2e=be(Cj());function D2e(r,e,t){r.subscriptions.push(pg.commands.registerCommand("roslyn.client.nestedCodeAction",async n=>qEt(e,n,t)))}async function qEt(r,e,t){if(e){let n=e,i=n.NestedCodeActions;if(i.length>0){let o=jEt(i),s=await pg.window.showQuickPick(o,{placeHolder:pg.l10n.t(n.UniqueIdentifier),ignoreFocusOut:!0});if(s){let a=s.codeAction;if(!a)return;if(a.data.FixAllFlavors){await ice(a.data,r,t);return}await pg.window.withProgress({location:pg.ProgressLocation.Notification,title:pg.l10n.t("Nested Code Action"),cancellable:!0},async(c,u)=>{let l={title:a.title,data:a.data},d=await r.sendRequest(S2e.CodeActionResolveRequest.type,l,u);if(!d.edit)throw t.show(),t.error("Failed to make an edit for completion."),new Error("Tried to retrieve a code action edit, but an error occurred.");let b=await(0,C2e.createConverter)(T=>yi.deserialize(T),!0,!0,!0).asWorkspaceEdit(d.edit);if(!await pg.workspace.applyEdit(b)){let T="[roslyn.client.nestedCodeAction]",k="Failed to make am edit for completion.";throw t.show(),t.error(`${T} ${k}`),new Error("Tried to insert code action edit, but an error occurred.")}})}}}}function jEt(r){return r.map(e=>{let t=e.data.CodeActionPath,n=e.data.FixAllFlavors;if(t.length===1)return t;let i=t.slice(1).join(" -> "),o=pg.l10n.t("Fix All: ");return{label:n?`${o}${i}`:i,codeAction:e}})}var ld=be(require("vscode"));var T2e=be(require("path"));var Q3=!1;function P2e(r,e,t){Is()||(r.subscriptions.push(ld.commands.registerCommand("dotnet.restore.project",async n=>zEt(e,t))),r.subscriptions.push(ld.commands.registerCommand("dotnet.restore.all",async()=>oce(e,t,[],!0)))),e.registerOnRequest(Jie.type,async n=>{let i=n.projectFilePaths;if(Is()){let o=[];for(let s of i)s.endsWith(".cs")?o.push(s):t.debug(`[.NET Restore] Not restoring '${s}' from C# extension, because C# Dev Kit is expected to handle restore for it.`);i=o}i.length>0&&await oce(e,t,n.projectFilePaths,!1)})}async function zEt(r,e){let t;try{t=await r.sendRequest0(Yie.type,new ld.CancellationTokenSource().token)}catch(o){if(o instanceof ld.CancellationError)return;throw o}let n=t.map(o=>{let s=T2e.default.basename(o);return{label:ld.l10n.t("Restore {0}",s),description:o}}),i=await ld.window.showQuickPick(n);i&&await oce(r,e,[i.description],!0)}async function oce(r,e,t,n){if(Q3){Wi(ld,ld.l10n.t("Restore already in progress"));return}Q3=!0,n&&e.show(!0);let i={projectFilePaths:t};await ld.window.withProgress({location:ld.ProgressLocation.Notification,title:ld.l10n.t("Restore"),cancellable:!0},async(o,s)=>{let a=u=>{u.message&&e.debug(`[.NET Restore] ${u.message}`),o.report({message:u.stage})};o.report({message:ld.l10n.t("Sending request")}),await r.sendRequestWithProgress(Kie.type,i,async u=>a(u),s).then(u=>u.forEach(l=>a(l)),u=>e.error(`[.NET Restore] ${u}`))}).then(()=>{Q3=!1},()=>{Q3=!1})}var wS=be(require("vscode"));var R2e=be(Jr());function x2e(r,e){r.subscriptions.push(wS.workspace.registerTextDocumentContentProvider("roslyn-source-generated",new sce(e)))}var sce=class{constructor(e){this.languageServer=e;e.registerOnNotification(Zie.method,async()=>{this._openedDocuments.forEach(async(t,n)=>{await this.enqueueDocumentUpdateAsync(n,this._cancellationSource.token),this._onDidChangeEmitter.fire(n)})}),wS.workspace.onDidCloseTextDocument(t=>{this._openedDocuments.get(t.uri)!==void 0&&this._openedDocuments.delete(t.uri)})}_onDidChangeEmitter=new wS.EventEmitter;_openedDocuments=new Map;_updateQueue;_cancellationSource=new wS.CancellationTokenSource;onDidChange=this._onDidChangeEmitter.event;async provideTextDocumentContent(e,t){let n=this._openedDocuments.get(e);return n||(n=await this.enqueueDocumentUpdateAsync(e,t)),n.text??wS.l10n.t("Generated document not found")}async enqueueDocumentUpdateAsync(e,t){return this._updateQueue?this._updateQueue=this._updateQueue.then(async()=>await this.updateDocumentAsync(e,t)):this._updateQueue=this.updateDocumentAsync(e,t),await this._updateQueue}async updateDocumentAsync(e,t){let n=this._openedDocuments.get(e),i=await this.languageServer.sendRequest(Qie.type,{textDocument:R2e.TextDocumentIdentifier.create(yi.serialize(e)),resultId:n?.resultId},t);return!n||i.resultId!==n?.resultId?(this._openedDocuments.set(e,i),i):n}dispose(){this._cancellationSource.cancel()}};var tN=be(require("vscode")),I2e=be(require("crypto"));var E2e="dotnet.server.suppressMiscellaneousFilesToasts",O2e=new Set;function k2e(r,e){e._projectContextService.onActiveFileContextChanged(t=>{if(t.uri.scheme!=="file"||t.languageId!=="csharp"||!t.isVerified||!t.context._vs_is_miscellaneous||e.state!==3||po.suppressMiscellaneousFilesToasts||r.workspaceState.get(E2e,!1))return;let n=UEt(t.uri.toString(!0));if(O2e.has(n))return;O2e.add(n);let i=tN.l10n.t("The active document is not part of the open workspace. Not all language features will be available."),o=tN.l10n.t("Dismiss"),s={title:tN.l10n.t("Do not show for this workspace"),action:async()=>{r.workspaceState.update(E2e,!0)}};Hp(tN,i,o,s)})}function UEt(r){return I2e.createHash("sha256").update(r).digest("hex")}var y_=be(require("vscode"));function R0(...r){return r.reduce((e,t)=>e.concat(t),[])}var Z3=class{static createStatusItem(e,t){let n=R0(po.documentSelector),i={command:"dotnet.openSolution",title:y_.l10n.t("Open solution")},o={command:"dotnet.restartServer",title:y_.l10n.t("Restart server")},s=y_.languages.createLanguageStatusItem("csharp.workspaceStatus",n);s.name=y_.l10n.t("C# Workspace Status"),s.severity=y_.LanguageStatusSeverity.Error,s.command=i,e.subscriptions.push(s),t.onServerStateChange(a=>{s.text=a.workspaceLabel,s.busy=a.state===2,s.severity=a.state===0?y_.LanguageStatusSeverity.Error:y_.LanguageStatusSeverity.Information,s.command=a.state===0?o:i})}};var Wy=be(require("vscode"));var eV=class{static createStatusItem(e,t){let n=Tu.cohostingEnabled?R0(po.documentSelector,So.documentSelector):R0(po.documentSelector),i=t._projectContextService,o=Wy.languages.createLanguageStatusItem("csharp.projectContextStatus",n);o.name=Wy.l10n.t("C# Project Context Status"),o.detail=Wy.l10n.t("Active File Context"),e.subscriptions.push(o),i.onActiveFileContextChanged(s=>{o.text=s.context._vs_label,t.state===3?o.severity=s.context._vs_is_miscellaneous&&s.isVerified?Wy.LanguageStatusSeverity.Warning:Wy.LanguageStatusSeverity.Information:o.severity=Wy.LanguageStatusSeverity.Information,o.detail=s.context._vs_is_miscellaneous?Wy.l10n.t("The active document is not part of the open workspace. Not all language features will be available."):Wy.l10n.t("Active File Context")}),i.refresh().catch(s=>{throw new Error(`Error refreshing project context status ${s}`)})}};var xn=be(require("vscode")),SS=be(require("path")),lce=be(require("child_process")),tje=be(require("net")),iu=be(Lw());var j2e=be(require("vscode"));var A2e=be(require("node:assert"));function M2e(r){let e=r.indexOf("|");if(e==-1||r.substring(0,e)=="csharp"){let t=r.lastIndexOf(".");(0,A2e.default)(t!==-1,`There is no . in ${r}.`);let n=r.substring(t+1),i=e==-1?0:e+1,o=r.substring(i,t),a=HEt(n,["dotnet","csharp"]),c=a==""?n:n.substring(a.length+1),u=ace(o,"_"),l=ace(c,"_");return a==""?u.concat(".",l):ace(a,"_").concat(".",u,".",l)}return null}function HEt(r,e){let t="";for(let n of e)if(r.startsWith(n)){t=n;break}return t}function ace(r,e){let t=r.split(e).map(o=>o.toLowerCase());if(t.length<=1)return r.toLowerCase();let n=t[0],i=t.slice(1).map(WEt);return n.concat(...i)}function WEt(r){return r.charAt(0).toUpperCase()+r.substring(1)}var N2e=require("vscode"),L2e=new Map([["codeStyle.formatting.indentationAndSpacing.tabWidth",q2e],["codeStyle.formatting.indentationAndSpacing.indentSize",BEt],["codeStyle.formatting.indentationAndSpacing.indentStyle",$Et],["codeStyle.formatting.newLine.endOfLine",VEt],["codeStyle.formatting.newLine.insertFinalNewline",GEt]]);function F2e(r){if(!L2e.has(r))return;let e=L2e.get(r),t=N2e.workspace.getConfiguration("",{languageId:"csharp"});return e(t)}function q2e(r){return rN(r,"editor.tabSize")}function BEt(r){let e=rN(r,"editor.indentSize");return e=="tabSize"?q2e(r):e}function $Et(r){return rN(r,"editor.insertSpaces")?"space":"tab"}function VEt(r){let e=rN(r,"files.eol");return e===`
`?"lf":e==`\r
`?"crlf":e}function GEt(r){return rN(r,"files.insertFinalNewline")}function rN(r,e){let t=r.get(e);if(t===void 0)throw new Error(`Can't read ${e} from the client.`);return t}function z2e(r){let e=[],t=j2e.workspace.getConfiguration();for(let n of r.items){let i=n.section;if(i===void 0||n.scopeUri!==void 0){e.push(null);continue}let o=M2e(i);if(o==null){e.push(null);continue}let s=t.get(o);if(s!==void 0){e.push(s);continue}if(s=F2e(o),s!==void 0){e.push(s);continue}e.push(null)}return e}var tV=class{constructor(e){this.Id=e}};var lV=require("crypto");var U2e=be(Lw());var rV=class extends U2e.LanguageClient{_disposables;constructor(e,t,n,i,o){super(e,t,n,i,o),this._disposables=new fo}async dispose(e){return this._disposables.dispose(),super.dispose(e)}handleFailedRequest(e,t,n,i,o){return po.suppressLspErrorToasts?super.handleFailedRequest(e,t,n,i,!1):super.handleFailedRequest(e,t,n,i,o)}addDisposable(e){this._disposables.add(e)}};var cce=be(require("vscode")),uce=be(Jr());function H2e(r){r.onNotification(Uie.type,async e=>{let t=e.commands.map(n=>({title:n.title,command:n.command,arguments:n.arguments}));switch(e.messageType){case uce.MessageType.Error:{Wi(cce,e.message,...t);break}case uce.MessageType.Warning:{Hp(cce,e.message,...t);break}default:{Vs(cce,e.message,...t);break}}})}var za=be(require("vscode")),nV=be(Lw());function W2e(r,e){let t=new za.CancellationTokenSource;e.getFeature("textDocument/didChange").onNotificationSent(async n=>{let i=n.params;if(i.contentChanges.length>1||i.contentChanges.length===0)return;let o=i.contentChanges[0];if(!("range"in o))return;let s=e.protocol2CodeConverter.asRange(o.range);if(!s.isEmpty||!s.isSingleLine)return;let a=e.protocol2CodeConverter.asUri(i.textDocument.uri),c=await za.workspace.openTextDocument(a),d=r.getOnAutoInsertFeature()?.getOptions(c)?._vs_triggerCharacters;if(d===void 0)return;let f=o.text.replace(/[^\S\n]+/g,"");if(f.length===0||(f.trim()===""&&(f=`
`),!d.includes(f)))return;let y=s.end.character-s.start.character,b=s.start.translate(0,o.text.length-y);t.cancel(),t=new za.CancellationTokenSource;try{await KEt(b,f,i.textDocument,a,r,t.token)}catch(T){if(T instanceof za.CancellationError)return;throw T}})}async function KEt(r,e,t,n,i,o){let s=YEt(),a={_vs_textDocument:t,_vs_position:r,_vs_ch:e,_vs_options:s},c=await i.sendRequest(hL.type,a,o);if(c){let u=c._vs_textEdit,l=new za.Position(u.range.start.line,u.range.start.character),d=new za.Position(u.range.end.line,u.range.end.character),f=[];if(c._vs_textEditFormat===nV.InsertTextFormat.Snippet){let T=new za.SnippetString(u.newText),k=za.SnippetTextEdit.replace(new za.Range(l,d),T);k.keepWhitespace=!0,f=[k]}else f=[za.TextEdit.replace(new za.Range(l,d),u.newText)];let y=new za.WorkspaceEdit;if(y.set(n,f),!za.workspace.applyEdit(y))throw new Error("Tried to apply an edit but an error occurred.");c.command!==void 0&&await za.commands.executeCommand(c.command.command,c.command.arguments)}}function YEt(){let r=za.workspace.getConfiguration("editor"),e=r.get("tabSize")??4,t=r.get("insertSpaces")??!0;return nV.FormattingOptions.create(e,t)}var oV=be(require("vscode"));var iV=class r{_allBuildDiagnostics={};_diagnosticsReportedByBuild;constructor(e){this._diagnosticsReportedByBuild=e}clearDiagnostics(){this._diagnosticsReportedByBuild.clear()}async setBuildDiagnostics(e,t){this._allBuildDiagnostics=e;let n=new Array,i=oV.workspace.textDocuments;for(let[o,s]of Object.entries(this._allBuildDiagnostics)){let a=oV.Uri.file(o),c=i.find(l=>this.compareUri(l.uri,a)),u=c!==void 0?!c.isClosed:!1;n.push([a,r.filterDiagnosticsFromBuild(s,t,u)])}this._diagnosticsReportedByBuild.set(n)}compareUri(e,t){return e.fsPath.localeCompare(t.fsPath)===0}async _onFileOpened(e,t){let n=e.uri,i=this._allBuildDiagnostics[n.fsPath];if(i){let o=r.filterDiagnosticsFromBuild(i,t,!0);this._diagnosticsReportedByBuild.set(n,o)}}static filterDiagnosticsFromBuild(e,t,n){let i=po.analyzerDiagnosticScope,o=po.compilerDiagnosticScope;if(i==="none"&&o==="none")return e;let s=[],a=e.filter(u=>r.isProjectSystemDiagnostic(u));s.push(...a);let c=e.filter(u=>r.isBuildOnlyDiagnostic(t,u));if(s.push(...c),i==="none"||i==="openFiles"&&!n){let u=e.filter(l=>r.isAnalyzerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}if(o==="none"||o==="openFiles"&&!n){let u=e.filter(l=>r.isCompilerDiagnostic(l)&&!this.isBuildOnlyDiagnostic(t,l));s.push(...u)}return s}static isBuildOnlyDiagnostic(e,t){return e.find(n=>n===t.code)!==void 0}static isCompilerDiagnostic(e){return e.code?e.code.toString().match("[cC][sS][0-9]{4}")!==null:!1}static isAnalyzerDiagnostic(e){return e.code?!this.isCompilerDiagnostic(e):!1}static isProjectSystemDiagnostic(e){return e.code?e.code.toString().startsWith("NETSDK"):!1}};var nN=require("vscode"),B2e=be(Lw()),$2e=be(Jr());var V2e=require("crypto"),sV=class{_client;_registrations;constructor(e){this._client=e,this._registrations=new Map,this.registrationType=new $2e.ProtocolRequestType(hL.method)}fillInitializeParams;preInitialize;registrationType;register(e){e.registerOptions.documentSelector&&this._registrations.set(e.id,e)}unregister(e){this._registrations.get(e)!==void 0&&this._registrations.delete(e)}clear(){this._registrations.clear()}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let o of nN.workspace.textDocuments)if(nN.languages.match(i,o)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}fillClientCapabilities(e){let t=(0,B2e.ensure)(e,"textDocument");t._vs_onAutoInsert===void 0&&(t._vs_onAutoInsert={});let n=t._vs_onAutoInsert;n.dynamicRegistration=!0}initialize(e,t){let n=e,i=this.getRegistrationOptions(t,n._vs_onAutoInsertProvider);i&&this.register({id:(0,V2e.randomUUID)(),registerOptions:i})}getOptions(e){for(let t of this._registrations.values()){let n=t.registerOptions.documentSelector;if(n!==null&&nN.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.registerOptions}}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}getRegistrationOptions(e,t){if(!(!e||!t))return Object.assign({},t,{documentSelector:e})}};var b_=be(require("vscode"));var G2e=be(Jr());var JEt=2*1e3,iN,aV,cV=class{constructor(e,t){this._languageServer=e;t.onServerStateChange(async n=>{(n.state===0||n.state===3)&&await this.refresh()}),b_.window.onDidChangeActiveTextEditor(async n=>this.refresh())}_contextChangeEmitter=new b_.EventEmitter;_source=new b_.CancellationTokenSource;_emptyProjectContext={_vs_id:"",_vs_kind:"",_vs_label:"",_vs_is_miscellaneous:!1};get onActiveFileContextChanged(){return this._contextChangeEmitter.event}async refresh(){let e=b_.window.activeTextEditor,t=e?.document?.languageId;if(t!=="csharp"&&(t!=="aspnetcorerazor"||!Tu.cohostingEnabled))return;this._source.cancel(),this._source=new b_.CancellationTokenSource;let n=e.document.uri,i=!1;if(iN&&(clearTimeout(iN),iN=void 0),aV&&(n.toString()===aV.toString()&&(i=!0),aV=void 0),!this._languageServer.isRunning()){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let o=await this.getProjectContexts(n,this._source.token);if(!o){this._contextChangeEmitter.fire({languageId:t,uri:n,context:this._emptyProjectContext,isVerified:!1});return}let s=o._vs_projectContexts[o._vs_defaultIndex],a=!s._vs_is_miscellaneous||i;if(this._contextChangeEmitter.fire({languageId:t,uri:n,context:s,isVerified:a}),s._vs_is_miscellaneous&&!i){iN=setTimeout(()=>{iN=void 0,aV=n,this.refresh().catch(c=>{throw new Error(`Error refreshing project context status ${c}`)})},JEt);return}}async getProjectContexts(e,t){let n=yi.serialize(e),i=G2e.TextDocumentIdentifier.create(n);try{return await this._languageServer.sendRequest(qie.type,{_vs_textDocument:i},t)}catch(o){if(o instanceof b_.CancellationError)return;throw o}}};var J2e=be(require("fs")),Jo=be(require("vscode")),X2e=require("os");var K2e="dotnet-trace";function Q2e(r){let e={};return process.env.ROSLYN_DOTNET_EventPipeOutputPath&&(e={DOTNET_EnableEventPipe:1,DOTNET_EventPipeConfig:"Microsoft-Windows-DotNETRuntime:0x1F000080018:5",DOTNET_EventPipeOutputPath:process.env.ROSLYN_DOTNET_EventPipeOutputPath,DOTNET_ReadyToRun:0,DOTNET_TieredCompilation:1,DOTNET_TC_CallCounting:0,DOTNET_TC_QuickJitForLoops:1,DOTNET_JitCollect64BitCounts:1},r.trace(`Profiling enabled with:${X2e.EOL}${JSON.stringify(e)}`)),e}function Z2e(r,e,t){r.subscriptions.push(Jo.commands.registerCommand("csharp.recordLanguageServerTrace",async()=>{await Jo.window.withProgress({location:Jo.ProgressLocation.Notification,title:"dotnet-trace",cancellable:!0},async(n,i)=>{n.report({message:Jo.l10n.t({message:"Initializing dotnet-trace...",comment:"dotnet-trace is a command name and should not be localized"})});try{await XEt(e,n,t,i)}catch(o){let s=o instanceof Error?o.message:String(o);HI(Jo,Jo.l10n.t({message:"Failed to execute dotnet-trace command: {0}",args:[s],comment:"dotnet-trace is a command name and should not be localized"}),{modal:!0})}})}))}async function XEt(r,e,t,n){let i=r.processId;if(!i)throw new Error(Jo.l10n.t("Language server process not found, ensure the server is running."));let o;Jo.workspace.workspaceFolders&&Jo.workspace.workspaceFolders?.length>=1&&(o=Jo.workspace.workspaceFolders[0].uri);let s=await Jo.window.showOpenDialog({canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,defaultUri:o||void 0,openLabel:Jo.l10n.t("Select Trace Folder"),title:Jo.l10n.t("Select Folder to Save Trace File")});if(s===void 0||s.length===0)return;let a=s[0].fsPath;if(!J2e.existsSync(a))throw new Error(Jo.l10n.t("Folder for trace file {0} does not exist",a));let c=`--process-id ${i} --clreventlevel informational --providers "Microsoft-DotNETCore-SampleProfiler,Microsoft-Windows-DotNETRuntime"`,u=await Jo.window.showInputBox({value:c,placeHolder:Jo.l10n.t({message:"Enter dotnet-trace arguments",comment:"dotnet-trace is a command name and should not be localized"}),prompt:Jo.l10n.t("You can modify the default arguments if needed")});if(u===void 0||!await QEt(a,e,t))return;let d=await eOt(a,t),f=["collect",...u.split(" ")];e.report({message:Jo.l10n.t("Recording trace...")}),await ZEt(f,d,n)}async function QEt(r,e,t){try{return await ry("dotnet-trace --version",r,process.env),!0}catch(s){t.debug(`Failed to execute dotnet-trace --version with error: ${s}`)}let n={title:Jo.l10n.t("Install")},i="dotnet tool install --global dotnet-trace";if(await Jo.window.showInformationMessage(Jo.l10n.t({message:'dotnet-trace not found, run "{0}" to install it?',args:[i],comment:"dotnet-trace is a command name and should not be localized"}),{modal:!0},n)!==n)return!1;e.report({message:Jo.l10n.t({message:"Installing dotnet-trace...",comment:"dotnet-trace is a command name and should not be localized"})});try{return await ry(i,r,process.env),!0}catch(s){return t.error(`Failed to install dotnet-trace with error: ${s}`),await Jo.window.showErrorMessage(Jo.l10n.t({message:"Failed to install dotnet-trace, it may need to be manually installed. See C# output for details.",comment:"dotnet-trace is a command name and should not be localized"}),{modal:!0}),!1}}async function ZEt(r,e,t){e.show();let n=`dotnet-trace ${r.join(" ")}`,i=e.shellIntegration;i?await new Promise((o,s)=>{let a=i.executeCommand(n),c=t.onCancellationRequested(()=>{e.sendText("^C")});Jo.window.onDidEndTerminalShellExecution(u=>{u.execution===a&&(c.dispose(),o(u.exitCode??1))})}):e.sendText(n)}async function eOt(r,e){let t=Jo.window.terminals.find(o=>o.name===K2e);if(t&&t.creationOptions.cwd===r)return await Y2e(t,e);t?.dispose();let n={name:K2e,cwd:r},i=Jo.window.createTerminal(n);return await Y2e(i,e)}async function Y2e(r,e){let t=new Promise(o=>{Jo.window.onDidChangeTerminalShellIntegration(s=>{s.terminal===r&&o(!0)}),r.shellIntegration&&o(!0)}),n=new Promise(o=>{setTimeout(s=>o(!1),3e3)});return await Promise.race([t,n])||e.debug("The terminal shell integration is not available for the dotnet-trace terminal."),r}function uV(r){return typeof r=="string"||r instanceof String}var oN,dV=class r{constructor(e,t,n,i,o,s,a){this._languageClient=e;this._platformInfo=t;this._context=n;this._telemetryReporter=i;this._languageServerEvents=o;this._channel=s;this._traceChannel=a;this.registerOutputChannelsChangeHandlers(),this.registerSendOpenSolution(),this.registerProjectInitialization(),this.registerServerStateChanged(),this.registerServerStateTracking(),this.registerReportProjectConfiguration(),this.registerExtensionsChanged(),this.registerTelemetryChanged();let c=xn.languages.createDiagnosticCollection("csharp-build");this._buildDiagnosticService=new iV(c),this.registerDocumentOpenForDiagnostics(),this._projectContextService=new cV(this,this._languageServerEvents),this.registerDynamicFileInfo(),this.registerDebuggerAttach(),H2e(this._languageClient),W2e(this,this._languageClient),this._onAutoInsertFeature=new sV(this._languageClient)}static provideRazorDynamicFileInfoMethodName="razor/provideDynamicFileInfo";static removeRazorDynamicFileInfoMethodName="razor/removeDynamicFileInfo";static encoding="utf-8";static namedPipeKeyRegex=/{"pipeName":"[^"]+"}/;static _stopTimeout=1e4;static _processId;_solutionFile;_projectFiles=new Array;_onAutoInsertFeature;_buildDiagnosticService;_projectContextService;_state=0;get state(){return this._state}get processId(){return r._processId}registerOutputChannelsChangeHandlers(){this._languageClient.onDidChangeState(async e=>{e.newState===iu.State.Running&&(await this.updateOutputChannelLogLevel(),await this.updateTraceChannelLogLevel())}),this._channel.onDidChangeLogLevel(async()=>{await this.updateOutputChannelLogLevel()}),this._traceChannel.onDidChangeLogLevel(async()=>{setTimeout(async()=>{await this.updateTraceChannelLogLevel()},1)})}async updateOutputChannelLogLevel(){this._languageClient.state===iu.State.Running&&await this.sendNotification("roslyn/updateLogLevel",{logLevel:r.GetServerLogLevel(this._channel.logLevel)})}async updateTraceChannelLogLevel(){this._languageClient.state===iu.State.Running&&await this._languageClient.setTrace(this._traceChannel.logLevel==xn.LogLevel.Trace?iu.Trace.Verbose:iu.Trace.Off)}registerServerStateChanged(){this._languageClient.onDidChangeState(async e=>{e.newState===iu.State.Running?(this._languageServerEvents.onServerStateChangeEmitter.fire({state:1,workspaceLabel:this.workspaceDisplayName()}),this._telemetryReporter.sendTelemetryEvent("roslyn/clientServerReady")):e.newState===iu.State.Stopped&&(this._languageServerEvents.onServerStateChangeEmitter.fire({state:0,workspaceLabel:xn.l10n.t("Server stopped")}),r._processId=void 0)})}registerServerStateTracking(){this._languageServerEvents.onServerStateChange(e=>{this._state=e.state})}registerSendOpenSolution(){this._languageClient.onDidChangeState(async e=>{e.newState===iu.State.Running&&(this._solutionFile||this._projectFiles.length>0?await this.sendOpenSolutionAndProjectsNotifications():await this.openDefaultSolutionOrProjects(),await this.sendOrSubscribeForServiceBrokerConnection())})}registerProjectInitialization(){this._languageClient.onNotification(jie.type,()=>{this._languageServerEvents.onServerStateChangeEmitter.fire({state:3,workspaceLabel:this.workspaceDisplayName()})})}registerReportProjectConfiguration(){let e;this._languageClient.onNotification(zie.type,async t=>{e||(e=await jh([])),Kz(this._telemetryReporter,t,this._platformInfo,e,this._solutionFile?.fsPath,!0)})}static async initializeAsync(e,t,n,i,o,s,a,c){let u=Is();u&&await u.activate();let l=async()=>await this.startServer(e,t,n,i,o,a),f={documentSelector:po.documentSelector,synchronize:{fileEvents:[]},traceOutputChannel:c,outputChannel:a,uriConverters:{code2Protocol:yi.serialize,protocol2Code:yi.deserialize},middleware:{provideDiagnostics:xB,provideWorkspaceDiagnostics:EB,workspace:{configuration:T=>z2e(T)}}},y=new rV("microsoft-codeanalysis-languageserver","Microsoft.CodeAnalysis.LanguageServer",l,f);y.registerProposedFeatures();let b=new r(y,e,n,i,s,a,c);return y.registerFeature(b._onAutoInsertFeature),await y.start(),b}async stop(){await this._languageClient.stop(r._stopTimeout)}async restart(){await this._languageClient.restart()}workspaceDisplayName(){return this._solutionFile!==void 0?SS.basename(this._solutionFile.fsPath):this._projectFiles?.length>0?xn.l10n.t("Workspace projects"):""}isRunning(){return this._languageClient.isRunning()}async sendRequest(e,t,n){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t,n)}catch(i){throw this.convertServerError(e.method,i)}}async sendRequest0(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");try{return await this._languageClient.sendRequest(e,t)}catch(n){throw this.convertServerError(e.method,n)}}async sendRequestWithProgress(e,t,n,i){let o=(0,lV.randomUUID)();t.partialResultToken=o;let s=this._languageClient.onProgress(e,o,async a=>{await n(a)});try{return await this._languageClient.sendRequest(e,t,i)}catch(a){throw this.convertServerError(e.method,a)}finally{s.dispose()}}async sendNotification(e,t){if(!this.isRunning())throw new Error("Tried to send request while server is not started.");return await this._languageClient.sendNotification(e,t)}registerOnRequest(e,t){this._languageClient.addDisposable(this._languageClient.onRequest(e,t))}registerOnNotification(e,t){this._languageClient.addDisposable(this._languageClient.onNotification(e,t))}registerOnNotificationWithParams(e,t){this._languageClient.addDisposable(this._languageClient.onNotification(e,t))}async registerSolutionSnapshot(e){let t=await this.sendRequest0(Fie.type,e);if(t)return new tV(t.id);throw new Error("Unable to retrieve current solution.")}async openSolution(e){this._solutionFile=e,this._projectFiles=[],await this.sendOpenSolutionAndProjectsNotifications()}async openProjects(e){this._solutionFile=void 0,this._projectFiles=e,await this.sendOpenSolutionAndProjectsNotifications()}async sendOpenSolutionAndProjectsNotifications(){if(this._languageClient.isRunning()){if(this._solutionFile!==void 0){let e=this._languageClient.clientOptions.uriConverters.code2Protocol(this._solutionFile);await this._languageClient.sendNotification(Bie.type,{solution:e})}else if(this._projectFiles.length>0){let e=this._projectFiles.map(t=>this._languageClient.clientOptions.uriConverters.code2Protocol(t));await this._languageClient.sendNotification($ie.type,{projects:e})}else return;this._languageServerEvents.onServerStateChangeEmitter.fire({state:2,workspaceLabel:this.workspaceDisplayName()})}}convertServerError(e,t){let n;return t instanceof iu.ResponseError&&t.code===-32800?n=new xn.CancellationError:t instanceof Error?n=t:typeof t=="string"?n=new Error(t):n=new Error(`Unknown error: ${t.toString()}`),n instanceof xn.CancellationError||this._channel.error(`Error making ${e} request`,n),n}async openDefaultSolutionOrProjects(){let e=ss.defaultSolution;if(!oN&&e!=="disable"&&this._solutionFile===void 0)if(e!=="")await this.openSolution(xn.Uri.file(e));else{let t=await xn.workspace.findFiles("**/*.sln","**/node_modules/**",2);if(t){if(t.length===1)await this.openSolution(t[0]);else if(t.length>1){let n=await xn.window.showInformationMessage(xn.l10n.t("Your workspace has multiple Visual Studio Solution files; please select one to get full IntelliSense."),{title:xn.l10n.t("Choose"),action:"open"},{title:xn.l10n.t("Choose and set default"),action:"openAndSetDefault"},{title:xn.l10n.t("Do not load any"),action:"disable"});if(n)if(n.action==="disable")await xn.workspace.getConfiguration().update("dotnet.defaultSolution","disable",!1);else{let i=await xn.commands.executeCommand("dotnet.openSolution");if(n.action==="openAndSetDefault"&&i){let o=xn.workspace.asRelativePath(i);await xn.workspace.getConfiguration().update("dotnet.defaultSolution",o,!1)}}}else if(t.length===0){let n=await xn.workspace.findFiles("**/*.csproj","**/node_modules/**",Nr.maxProjectResults);await this.openProjects(n)}}}}async sendOrSubscribeForServiceBrokerConnection(){let e=Is();if(e){let t=await e.activate();if(t.hasServerProcessLoaded()){let n=await t.getBrokeredServiceServerPipeName();await this._languageClient.sendNotification("serviceBroker/connect",{pipeName:n})}else this._context.subscriptions.push(t.serverProcessLoaded(async()=>this.sendOrSubscribeForServiceBrokerConnection()))}}getOnAutoInsertFeature(){return this._onAutoInsertFeature}static async startServer(e,t,n,i,o,s){i.sendTelemetryEvent("roslyn/clientServerInitialize");let a=dce(e),c=await t.getHostExecutableInfo(),u=c.path;s.info("Dotnet path: "+u),i.sendTelemetryEvent("roslyn/acquiredRuntime");let l=[];ss.waitForDebugger&&l.push("--debug");let d=this.GetServerLogLevel(s.logLevel);d&&l.push("--logLevel",d);let f=Tu.razorServerPath===""?SS.join(n.extension.extensionPath,".razor"):Tu.razorServerPath,y="";o0("razorExtension",po,s).forEach($=>{o.push($),y=SS.dirname($)});let b=Tu.cohostingEnabled?y:f;l.push("--razorSourceGenerator",SS.join(b,"Microsoft.CodeAnalysis.Razor.Compiler.dll")),l.push("--razorDesignTimePath",SS.join(b,"Targets","Microsoft.NET.Sdk.Razor.DesignTime.targets"));let T=Is();if(T){oN=!0;let $=xn.extensions.getExtension(RF);if($){s.info("Activating C# + C# Dev Kit + C# IntelliCode...");let ee=await this.getCSharpDevkitIntelliCodeExportArgs($,n,s);l=l.concat(ee)}else s.info("Activating C# + C# Dev Kit...");await xn.commands.executeCommand("setContext","dotnet.server.activationContext","RoslynDevKit");let W=this.getCSharpDevKitExportArgs(o,s);l=l.concat(W),await this.setupDevKitEnvironment(c.env,T,o,s)}else s.info("Activating C# standalone..."),await xn.commands.executeCommand("setContext","dotnet.server.activationContext","Roslyn"),oN=!1,Tu.cohostingEnabled&&l.push("--csharpDesignTimePath",SS.join(y,"Targets","Microsoft.CSharpExtension.DesignTime.targets"));for(let $ of o)l.push("--extension",$);s.debug(`Starting server at ${a}`),l.push("--telemetryLevel",i.telemetryLevel),l.push("--extensionLogDirectory",n.logUri.fsPath);let k=c.env;po.useServerGC||(k.DOTNET_gcServer="0",s.debug("ServerGC disabled"));let z=Q2e(s);k={...k,...z},s.trace(`Profiling environment variables: ${JSON.stringify(z)}`);let A,U={detached:!0,windowsHide:!0,env:k};if(a.endsWith(".dll")){let $=[a].concat(l);s.debug(`Server arguments ${$.join(" ")}`),A=lce.spawn(u,$,U)}else s.debug(`Server arguments ${l.join(" ")}`),A=lce.spawn(a,l,U);r._processId=A.pid,i.sendTelemetryEvent("roslyn/launchedServer"),A.stdout.on("data",$=>{let W=uV($)?$:$.toString(r.encoding);s.info("[stdout] "+W)}),A.stderr.on("data",$=>{let W=uV($)?$:$.toString(r.encoding);s.error("[stderr] "+W)}),A.on("exit",$=>{s.info(`Language server process exited with ${$}`)});let ne=new Promise($=>{(0,iu.RAL)().timer.setTimeout($,po.startTimeout)}),de=new Promise(($,W)=>{A.on("exit",se=>{se&&se!==0&&W(new Error("Language server process exited unexpectedly"))}),new Promise(se=>{s.debug("waiting for named pipe information from server..."),A.stdout.on("data",ue=>{let Le=(uV(ue)?ue:ue.toString(r.encoding)).match(r.namedPipeKeyRegex);if(Le){let ce=JSON.parse(Le[0]);s.info("received named pipe information from server"),se(ce)}})}).then(async se=>new Promise((ue,Fe)=>{s.debug("attempting to connect client to server...");let Le=tje.createConnection(se.pipeName,()=>{s.info("client has connected to server"),ue(Le)});Le.on("error",ce=>Fe(ce))})).then($,W)}),ve;if(ss.waitForDebugger?ve=await de:ve=await Promise.race([de,ne]),ve===void 0)throw new Error("Timeout. Client cound not connect to server via named pipe");return i.sendTelemetryEvent("roslyn/clientConnected"),{reader:new iu.SocketMessageReader(ve,r.encoding),writer:new iu.SocketMessageWriter(ve,r.encoding)}}ProvideDyanmicFileInfoType=new iu.RequestType(r.provideRazorDynamicFileInfoMethodName);registerDynamicFileInfo(){this._languageClient.onRequest(this.ProvideDyanmicFileInfoType,async e=>xn.commands.executeCommand(Fy.provideDynamicFileInfoCommand,e)),this._languageClient.onNotification(r.removeRazorDynamicFileInfoMethodName,async e=>xn.commands.executeCommand(Fy.removeDynamicFileInfoCommand,e)),xn.commands.registerCommand(Fy.dynamicFileUpdatedCommand,async e=>{this.isRunning()?await this.sendNotification("razor/dynamicFileInfoChanged",e):this._channel.warn("Tried to send razor/dynamicFileInfoChanged while server is not running")})}WaitForAttachCompleteAsync(e){return new Promise(t=>{let n=null,i=null,o=!1,s=a=>{o===!1&&(o=!0,n?.dispose(),i?.dispose(),t(a))};n=xn.debug.onDidTerminateDebugSession(a=>{a.configuration.attachRequestId===e&&s(!1)}),i=xn.debug.onDidReceiveDebugSessionCustomEvent(a=>{a.session.configuration.attachRequestId===e&&a.event==="attachComplete"&&s(!0)})})}registerDebuggerAttach(){this._languageClient.onRequest(Wie.type,async e=>{let n={...ss.unitTestDebuggingOptions,name:".NET Debug Unit test",type:"coreclr",request:"attach",processId:e.processId,attachRequestId:(0,lV.randomUUID)()},i=this.WaitForAttachCompleteAsync(n.attachRequestId),o=await xn.debug.startDebugging(void 0,n,void 0);return o?(o=await i,{didAttach:o}):{didAttach:!1}})}registerDocumentOpenForDiagnostics(){this._languageClient.addDisposable(xn.workspace.onDidOpenTextDocument(async e=>{if(e.languageId==="csharp")try{let t=await this.getBuildOnlyDiagnosticIds(iu.CancellationToken.None);await this._buildDiagnosticService._onFileOpened(e,t)}catch(t){if(t instanceof xn.CancellationError)return;throw t}}))}registerExtensionsChanged(){this._languageClient.addDisposable(xn.extensions.onDidChange(async()=>{let e=Is();if(oN===void 0)return;let t={title:xn.l10n.t("Reload C# Extension"),command:"workbench.action.restartExtensionHost"};e&&!oN&&(this._channel.info(`Detected new installation of ${hP}`),Vs(xn,"Detected installation of C# Dev Kit. Please reload the C# extension to continue.",t))}))}registerTelemetryChanged(){this._languageClient.addDisposable(xn.env.onDidChangeTelemetryEnabled(e=>{let t={title:xn.l10n.t("Restart Language Server"),command:"dotnet.restartServer"},n=xn.l10n.t("Detected change in telemetry settings. These will not take effect until the language server is restarted, would you like to restart?");Vs(xn,n,t)}))}static getCSharpDevKitExportArgs(e,t){let n=[],i=o0("roslynDevKit",po,t);if(i.length>1)throw new Error("Expected only one devkit deps path");return n.push("--devKitDependencyPath",i[0]),n.push("--sessionId",tOt()),po.enableXamlTools&&o0("xamlTools",po,t).forEach(o=>e.push(o)),n}static async getCSharpDevkitIntelliCodeExportArgs(e,t,n){try{return["--starredCompletionComponentPath",(await e.activate()).components["@vsintellicode/starred-suggestions-csharp"]]}catch(i){n.error(`Activation of ${RF} failed`,i),i instanceof Error&&i.stack&&n.info(i.stack);let o="disableIntellicodeFailedPopup";if(t.globalState.get(o)===!0)return[];let s=xn.l10n.t("IntelliCode features will not be available, {0} failed to activate.",RF),a={title:xn.l10n.t("Go to output"),action:async()=>{n.show()}},c={title:xn.l10n.t("Suppress notification"),action:async()=>{await t.globalState.update(o,!0)}};return Wi(xn,s,a,c),[]}}static async setupDevKitEnvironment(e,t,n,i){let o=await t.activate();o.setupTelemetryEnvironmentAsync&&await o.setupTelemetryEnvironmentAsync(e),o0("roslynCopilot",po,i).forEach(s=>{n.push(s)})}static GetServerLogLevel(e){switch(e){case xn.LogLevel.Trace:return"Trace";case xn.LogLevel.Debug:return"Debug";case xn.LogLevel.Info:return"Information";case xn.LogLevel.Warning:return"Warning";case xn.LogLevel.Error:return"Error";case xn.LogLevel.Off:return"None";default:throw new Error(`Invalid log level ${e}`)}}async getBuildOnlyDiagnosticIds(e){if(!this.isRunning())return[];let t=await this.sendRequest0(Vie.type,e);if(t)return t.ids;throw new Error("Unable to retrieve build-only diagnostic ids for current solution.")}};function tOt(){let r=xn.env.sessionId;return r.toLowerCase()==="somevalue.sessionid"?(0,lV.randomUUID)():r}var fV=be(require("vscode"));var rje=be(Jr());function nje(r,e,t){let n=fV.extensions.getExtension("github.copilot");if(!n){t.debug("Failed to find comnpatible version of GitHub Copilot extension installed. Skip registeration of Copilot related files provider.");return}n.activate().then(async i=>{try{let o={extensionId:ev,languageId:"csharp"};r.subscriptions.push(i.registerRelatedFilesProvider(o,async(s,a,c)=>{let u=(y,b,T)=>{if(b){for(let k of b)if(k._vs_file_paths)for(let z of k._vs_file_paths){let A=fV.Uri.file(z);A.fsPath!==y.fsPath&&T.push(A)}}},l=[],d=yi.serialize(s),f=rje.TextDocumentIdentifier.create(d);try{await e.sendRequestWithProgress(Xie.type,{_vs_textDocument:f,position:{line:0,character:0}},async y=>u(s,y,l),c)}catch(y){y instanceof Error&&t.appendLine(y.message)}return t.trace(`Copilot related files provider returned ${l.length} items`),{entries:l}})),t.debug("Registration of C# related files provider for GitHub Copilot extension succeeded.")}catch(o){t.error("Failed to register Copilot related files providers",o)}})}var __=be(require("vscode")),xO=be(Jr());var rOt="roslyn/resolveContext@2",nOt=new xO.RequestType(rOt,xO.ParameterStructures.auto);function iOt(r){let e;if(__.window.activeTextEditor?.document.uri.toString()===r.documentContext.uri?e=__.window.activeTextEditor.document:e=__.workspace.textDocuments.find(s=>s.uri.toString()===r.documentContext.uri),e===void 0)return;let t=e.positionAt(r.documentContext.offset),n=__.Uri.parse(r.documentContext.uri);return{documentContext:{textDocument:xO.TextDocumentIdentifier.create(n.fsPath),position:t},completionId:r.completionId,timeBudget:r.timeBudget,data:r.data,activeExperiments:Object.fromEntries(r.activeExperiments)}}function oje(r,e,t){let n=Is();n&&n.activate().then(()=>{try{let i={id:ev,selector:[{language:"csharp"}],resolver:{resolve:async(o,s)=>{let a=iOt(o);if(!a)return[];let c=await e.sendRequest(nOt,a,s);return t.trace(`Copilot context provider resolved ${c.length} items`),c}}};oOt().then(async o=>{if(!o){t.debug("Failed to find compatible version of GitHub Copilot extension installed. Skip registration of Copilot context provider.");return}let s=await ije(o,i);s?(r.subscriptions.push(s),t.debug("Registration of C# context provider for GitHub Copilot extension succeeded.")):t.debug("Incompatible GitHub Copilot extension installed. Skip registration of C# context providers.")}).catch(o=>{t.error("Failed to register Copilot context providers",o)}),sOt().then(async o=>{if(!o){t.debug("Failed to find compatible version of GitHub Copilot Chat extension installed. Skip registration of Copilot context provider.");return}let s=await ije(o,i);s?(r.subscriptions.push(s),t.debug("Registration of C# context provider for GitHub Copilot Chat extension succeeded.")):t.debug("Incompatible GitHub Copilot Chat extension installed. Skip registration of C# context providers.")}).catch(o=>{t.error("Failed to register Copilot Chat context providers",o)})}catch(i){t.error("Failed to register Copilot context providers",i)}})}async function oOt(){let r=__.extensions.getExtension("github.copilot");if(r)try{return await r.activate()}catch{return}}async function sOt(){let r=__.extensions.getExtension("github.copilot-chat");if(!r)return;let e;try{e=await Promise.race([r.activate(),new Promise(t=>{setTimeout(()=>{t(void 0)},3e3)})])}catch{return}if(!(!e||typeof e.getAPI!="function"))return e.getAPI(1)}async function ije(r,e){if(typeof r.getContextProviderAPI=="function"){let n=await r.getContextProviderAPI("v1");if(n)return n.registerContextProvider(e)}}var ou=be(require("vscode")),Co=be(Z1());var CS=be(require("vscode"));var sje=be(require("vscode"));var pD=class{constructor(e,t){this.documentManager=e;this.logger=t}static scheme="razor-html";onDidChangeEmitter=new sje.EventEmitter;get onDidChange(){return this.onDidChangeEmitter.event}fireDidChange(e){this.onDidChangeEmitter.fire(e)}provideTextDocumentContent(e){let t=this.findDocument(e);return t?t.getContent():(this.logger.logTrace(`Could not find document '${wi(e)}' when updating the HTML buffer. This typically happens when a document is removed.`),"")}findDocument(e){let t=wi(e);return this.documentManager.documents.find(n=>n.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}};var pV=class{constructor(e,t){this.uri=e;this.path=wi(e),this.checksum=t}path;content="";checksum="";getContent(){return this.content}getChecksum(){return this.checksum}setContent(e,t){this.checksum=e,this.content=t}};var mV=be(Jr());var hV=class{constructor(e,t,n){this.platformInfo=e;this.roslynLanguageServer=t;this.logger=n;this.contentProvider=new pD(this,this.logger)}htmlDocuments={};contentProvider;razorDocumentClosedRequest=new mV.RequestType("razor/documentClosed");get documents(){return Object.values(this.htmlDocuments)}register(){let e=CS.workspace.onDidCloseTextDocument(async n=>{if(n.uri.scheme===pD.scheme){this.logger.logTrace(`Virtual document '${n.uri}' timed out.`);return}n.languageId==="aspnetcorerazor"&&(this.logger.logTrace(`Document '${n.uri}' was closed.`),await this.closeDocument(n.uri),await this.roslynLanguageServer.sendRequest(this.razorDocumentClosedRequest,mV.TextDocumentIdentifier.create(yi.serialize(n.uri)),new CS.CancellationTokenSource().token))}),t=CS.workspace.registerTextDocumentContentProvider(pD.scheme,this.contentProvider);return CS.Disposable.from(e,t)}async updateDocumentText(e,t,n){let i=await this.findDocument(e);i||(this.logger.logTrace(`File '${e}' didn't exist in the Razor document list, so adding it with checksum '${t}'.`),i=this.addDocument(e,t)),this.logger.logTrace(`New content for '${e}', updating '${i.path}', checksum '${t}'.`),await CS.workspace.openTextDocument(i.uri),i.setContent(t,n),this.contentProvider.fireDidChange(i.uri)}async closeDocument(e){let t=await this.findDocument(e);t&&(this.logger.logTrace(`Removing '${t.uri}' from the document manager.`),delete this.htmlDocuments[t.path])}async getDocument(e,t){let n=this.findDocument(e);if(!n){this.logger.logTrace(`File '${e}' didn't exist in the Razor document list. Doing nothing.`);return}if(t&&n.getChecksum()!==t){this.logger.logInfo(`Found '${e}' in the Razor document list, but the checksum '${n.getChecksum()}' doesn't match '${t}'.`);return}return await CS.workspace.openTextDocument(n.uri),n}addDocument(e,t){let n=this.findDocument(e);return n?(this.logger.logInfo(`Skipping document creation for '${n.path}' because it already exists.`),n):(n=this.createDocument(e,t),this.htmlDocuments[n.path]=n,n)}findDocument(e){let t=wi(e);return e.scheme!==pD.scheme&&(t=`${t}${r0}`),this.platformInfo.isLinux()?this.htmlDocuments[t]:Object.values(this.htmlDocuments).find(n=>n.path.localeCompare(t,void 0,{sensitivity:"base"})===0)}createDocument(e,t){return e=e.with({scheme:pD.scheme,path:`${e.path}${r0}`}),new pV(e,t)}};function cje(r,e,t,n){let i=new Co.NotificationType("razor/log");e.registerOnNotificationWithParams(i,u=>t.log(u.message,u.type)),Tu.cohostingEnabled?(ou.commands.executeCommand("setContext","razor.mode","cohosting"),o(),r.subscriptions.push(tD.register(t,ou)),r.subscriptions.push(mE.register(e))):(ou.commands.executeCommand("setContext","razor.mode","lsp"),s());return;function o(){let u=new hV(n,e,t),l=new vE(ou,void 0,u,e,t);r.subscriptions.push(u.register()),r.subscriptions.push(l.register()),c("razor/updateHtml",async d=>{let f=yi.deserialize(d.textDocument.uri);await u.updateDocumentText(f,d.checksum,d.text)}),a(Co.DocumentColorRequest.type,u,async d=>await yE.doDocumentColorRequest(d.uri)),a(Co.ColorPresentationRequest.type,u,async(d,f)=>await pE.doColorPresentationRequest(d.uri,f)),a(Co.FoldingRangeRequest.type,u,async d=>{let f=await ou.commands.executeCommand("vscode.executeFoldingRangeProvider",d.uri);return SE.convertFoldingRanges(f,t)}),a(Co.HoverRequest.type,u,async(d,f)=>{let b=(await ou.commands.executeCommand("vscode.executeHoverProvider",d.uri,f.position)).filter(T=>T.range)[0];return aOt(b)}),a(Co.DocumentHighlightRequest.type,u,async(d,f)=>{let y=await ou.commands.executeCommand("vscode.executeDocumentHighlights",d.uri,f.position);return cOt(y)}),a(Co.CompletionRequest.type,u,async(d,f)=>dE.provideVscodeCompletions(d.uri,f.position,f.context?.triggerCharacter)),a(Co.ReferencesRequest.type,u,async(d,f)=>{let y=await ou.commands.executeCommand("vscode.executeReferenceProvider",d.uri,f.position);return fce(y)}),a(Co.ImplementationRequest.type,u,async(d,f)=>{let y=await ou.commands.executeCommand("vscode.executeImplementationProvider",d.uri,f.position);return fce(y)}),a(Co.DefinitionRequest.type,u,async(d,f)=>{let y=await ou.commands.executeCommand("vscode.executeDefinitionProvider",d.uri,f.position);return fce(y)}),a(Co.SignatureHelpRequest.type,u,async(d,f)=>{let y=await ou.commands.executeCommand("vscode.executeSignatureHelpProvider",d.uri,f.position);if(y)return lOt(y)}),a(Co.DocumentFormattingRequest.type,u,async(d,f)=>{let y=d.getContent(),b=f.options;return(await i0.getHtmlFormattingResult(d.uri,y,b))?.edits}),a(Co.DocumentOnTypeFormattingRequest.type,u,async(d,f)=>{let y=d.getContent(),b=f.options;return(await i0.getHtmlOnTypeFormattingResult(d.uri,y,f.position,f.ch,b))?.edits})}function s(){c("razor/provideDynamicFileInfo",async u=>ou.commands.executeCommand(Fy.provideDynamicFileInfoCommand,u)),c("razor/removeDynamicFileInfo",async u=>ou.commands.executeCommand(Fy.provideDynamicFileInfoCommand,u)),c("razor/mapSpans",async u=>await ou.commands.executeCommand(c0.MapSpansCommand,u)),c("razor/mapTextChanges",async u=>await ou.commands.executeCommand(c0.MapChangesCommand,u))}function a(u,l,d){return c(u.method,async f=>{let y=yi.deserialize(f.textDocument.uri),b=await l.getDocument(y,f.checksum);if(b)return d(b,f.request)})}function c(u,l){let d=new Co.RequestType(u);e.registerOnRequest(d,async f=>{try{return await l(f)}catch(y){t.logError(`Error: ${y}`,y);return}})}}function aOt(r){if(!r)return;let e=new ou.MarkdownString;for(let t of r.contents)if(t.language){let n=t;e.appendCodeblock(n.value,n.language)}else{let n=t.value;e.appendMarkdown(n)}return{contents:{kind:Co.MarkupKind.Markdown,value:e.value},range:r.range?p_(r.range):void 0}}function cOt(r){return r.map(e=>({range:p_(e.range),kind:uOt(e.kind)}))}function uOt(r){switch(r){case ou.DocumentHighlightKind.Text:return Co.DocumentHighlightKind.Text;case ou.DocumentHighlightKind.Read:return Co.DocumentHighlightKind.Read;case ou.DocumentHighlightKind.Write:return Co.DocumentHighlightKind.Write;default:return}}function fce(r){return r.map(e=>({uri:yi.serialize(e.uri),range:p_(e.range)}))}function lOt(r){return{activeParameter:r.activeParameter??void 0,activeSignature:r.activeSignature??void 0,signatures:r.signatures.map(e=>({label:e.label,documentation:aje(e.documentation),parameters:e.parameters.map(t=>({label:t.label,documentation:aje(t.documentation)}))}))}}function aje(r){if(r){if(r.value){let e=r;return{kind:Co.MarkupKind.Markdown,value:e.value}}return{kind:Co.MarkupKind.PlainText,value:r}}}var hg,pce;async function uje(r,e,t,n,i,o,s){hg=n,pce=EO.window.createOutputChannel(EO.l10n.t("C# LSP Trace Logs"),{log:!0}),i.sendTelemetryEvent("roslyn/clientInitialize");let a=new OE(e,dce,n,r.extensionPath),c=l(),u=await dV.initializeAsync(e,a,r,i,c,o,hg,pce);return Z2e(r,u,n),dOt(r,u,o),k2e(r,u),nje(r,u,hg),oje(r,u,hg),yLe(r,u,a,hg,pce),D2e(r,u,hg),w2e(r,u,hg),c1e(r,u),cje(r,u,s,e),v2e(r,u),p2e(r,u,o,e,hg),P2e(r,u,hg),x2e(r,u),r.subscriptions.push(b2e(t)),u;function l(){let d=EO.extensions.all.flatMap(y=>{let b=y.packageJSON.contributes?.csharpExtensionLoadPaths;return b==null?(hg.debug(`Extension ${y.id} does not contribute csharpExtensionLoadPaths`),[]):!Array.isArray(b)||b.some(T=>typeof T!="string")?(hg.warn(`Extension ${y.id} has invalid csharpExtensionLoadPaths. Expected string array, found ${b}`),[]):(b=b.map(T=>mce.join(y.extensionPath,T)),hg.trace(`Extension ${y.id} contributes csharpExtensionLoadPaths: ${b}`),b)}),f=po.extensionsPaths??[];return d.concat(f)}}function dOt(r,e,t){Is()||Z3.createStatusItem(r,t),eV.createStatusItem(r,e)}function dce(r){let e=process.env.DOTNET_ROSLYN_SERVER_PATH;if(e?hg.appendLine(`Using server path override from DOTNET_ROSLYN_SERVER_PATH: ${e}`):(e=ss.serverPath,e||(e=fOt(r))),!hce.existsSync(e))throw new Error(`Cannot find language server in path '${e}'`);return e}function fOt(r){let e=__dirname,t=mce.join(e,"..",".roslyn","Microsoft.CodeAnalysis.LanguageServer"),n="";r.isWindows()?n=".exe":r.isMacOS()&&(n=".dll");let i=`${t}${n}`;return hce.existsSync(i)||(i=`${t}.dll`),i}var lje=be(Wu()),dje=be(Jr()),gV=class{constructor(e){this._serverInitialized=e}async sendRequest(e,t,n){let i=await this._serverInitialized,o=new lje.RequestType(e.method);return await i.sendRequest(o,t,n)}async sendRequestWithProgress(e,t,n,i){let o=await this._serverInitialized,s=new dje.ProtocolRequestType(e.method);return await o.sendRequestWithProgress(s,t,n,i)}};var vV=class{constructor(e){this._languageServerPromise=e}async registerSolutionSnapshot(e){return(await this._languageServerPromise).registerSolutionSnapshot(e)}};var fje=be(Wu()),yV=class{constructor(e){this._languageServerPromise=e}async buildStarted(){(await this._languageServerPromise)._buildDiagnosticService.clearDiagnostics()}async reportBuildResult(e){let t=await this._languageServerPromise,n=await t.getBuildOnlyDiagnosticIds(fje.CancellationToken.None);await t._buildDiagnosticService.setBuildDiagnostics(e,n)}};function hje(r,e,t,n,i,o,s,a){let c=new O$;r.subscriptions.push(c);let u=new WE,l=R$(r,r.extension.extensionPath,n,o,s,e,!1,u),d=new Promise((k,z)=>{c.onServerStateChange(async A=>{A.state===3&&k()})}),f=uje(r,e,t,i,o,c,u);UI.initializeDebugSessionHandlers(r),pOt(s,i);let y=a(f),b=new gV(f);return{isLimitedActivation:!1,initializationFinished:async()=>{await y,await l,await f,await d},profferBrokeredServices:k=>hOt(r,k,f),logDirectory:r.logUri.fsPath,determineBrowserType:tD.determineBrowserType,experimental:{sendServerRequest:async(k,z,A)=>await b.sendRequest(k,z,A),sendServerRequestWithProgress:async(k,z,A,U)=>await b.sendRequestWithProgress(k,z,A,U),languageServerEvents:c},getComponentFolder:k=>K1e(k,po)}}function pOt(r,e){r?.activate().then(async t=>{t&&t.serviceBroker?(nce().profferServiceBroker(t.serviceBroker,[Hy.dotnetDebugConfigurationService.moniker]),t.serverProcessLoaded(async()=>{await UI.onCsDevKitInitialized(await t.getBrokeredServiceServerPipeName())}),await pje.commands.executeCommand("setContext","dotnet.debug.serviceBrokerAvailable",!0)):e.error(`'${hP}' activated but did not return expected Exports.`)},()=>{e.error(`Failed to activate '${hP}'`)})}function hOt(r,e,t){r.subscriptions.push(e.profferServiceFactory(Hy.solutionSnapshotProviderRegistration,(n,i,o)=>new vV(t)),e.profferServiceFactory(Hy.csharpExtensionBuildResultService,(n,i,o)=>new yV(t)))}var DS=be(require("vscode"));var bV=class{static createStatusItem(e){let t=R0(po.documentSelector,So.documentSelector),n={command:"workbench.trust.manage",title:DS.l10n.t("Manage")},i=DS.languages.createLanguageStatusItem("csharp.limitedActivationStatus",t);i.name=DS.l10n.t("C# Activation Status"),i.text=DS.l10n.t("Limited Activation"),i.detail=DS.l10n.t("The workspace is not trusted."),i.command=n,i.severity=DS.LanguageStatusSeverity.Error,e.subscriptions.push(i)}};async function mOt(r){let e=process.hrtime(),t=im.window.createOutputChannel("C#",{log:!0});t.trace("Activating C# Extension"),Oce(r.extension.extensionPath);let n=r.extension.packageJSON.contributes.debuggers[0].aiKey,i=new mje.default(n);r.subscriptions.push(i);let o=new IF,s=new EF(t),a=new OF(t);o.subscribe(s.post),o.subscribe(a.post);let c;try{c=await Z0.GetCurrent()}catch(ve){throw o.post(new TN),ve}if(!Nye(r,c))return null;await Lye(r),await kye(im);let u=L8(im),l=["Debugger","Razor"],d=Is(),f=!d&&ss.useOmnisharpServer;f&&l.push("OmniSharp"),d&&l.push("RoslynCopilot");let y=fme(im),b=f&&Nr.useModernNet!==!0,T=async ve=>PP(ve,y,o,xP,i),k=await Rye(r.extension.packageJSON,r.extension.extensionPath,T,o,c,b,l),z="CSharpActivated",A;if(im.workspace.isTrusted!==!0)z="CSharpLimitedActivation",await im.commands.executeCommand("setContext","dotnet.server.activationContext","Limited"),A={isLimitedActivation:!0},t.info("C# Extension activated in limited mode due to workspace trust not being granted."),bV.createStatusItem(r),r.subscriptions.push(im.workspace.onDidGrantWorkspaceTrust(()=>{let ve={title:im.l10n.t("Reload Extensions"),command:"workbench.action.restartExtensionHost"},$=im.l10n.t("Workspace trust has changed. Would you like to reload extensions?");Vs(im,$,ve)}));else{let ve=async $=>{let W=Promise.resolve();return k.Debugger&&(W=Bhe(r.extension,r,c,o,t,$)),W};f?A=hLe(r,c,u,y,o,t,i,ve):A=hje(r,c,u,o,t,i,d,ve)}let U=process.hrtime(e),ne=(U[0]*1e3+U[1]/1e6).toFixed(3);t.trace("C# Extension activated in "+ne+"ms.");let de={serverKind:f?"OmniSharp":"Roslyn",timeTaken:ne};return i.sendTelemetryEvent(z,de),A}0&&(module.exports={activate});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.0.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.0.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

event-lite/event-lite.js:
  (**
   * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
   *
   * @copyright Yusuke Kawasaki
   * @license MIT
   * @constructor
   * @see https://github.com/kawanet/event-lite
   * @see http://kawanet.github.io/event-lite/EventLite.html
   * @example
   * var EventLite = require("event-lite");
   *
   * function MyClass() {...}             // your class
   *
   * EventLite.mixin(MyClass.prototype);  // import event methods
   *
   * var obj = new MyClass();
   * obj.on("foo", function() {...});     // add event listener
   * obj.once("bar", function() {...});   // add one-time event listener
   * obj.emit("foo");                     // dispatch event
   * obj.emit("bar");                     // dispatch another event
   * obj.off("foo");                      // remove event listener
   *)
*/

// SIG // Begin signature block
// SIG // MIIpkwYJKoZIhvcNAQcCoIIphDCCKYACAQExDzANBglg
// SIG // hkgBZQMEAgEFADB3BgorBgEEAYI3AgEEoGkwZzAyBgor
// SIG // BgEEAYI3AgEeMCQCAQEEEBDgyQbOONQRoqMAEEvTUJAC
// SIG // AQACAQACAQACAQACAQAwMTANBglghkgBZQMEAgEFAAQg
// SIG // D7vHUbslkUKWBUJCBwhstrmpryLVV2al/EpTTQhucIKg
// SIG // gg3lMIIGvTCCBKWgAwIBAgITMwAAABxIn4HfobC3dwAA
// SIG // AAAAHDANBgkqhkiG9w0BAQwFADCBiDELMAkGA1UEBhMC
// SIG // VVMxEzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcT
// SIG // B1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jw
// SIG // b3JhdGlvbjEyMDAGA1UEAxMpTWljcm9zb2Z0IFJvb3Qg
// SIG // Q2VydGlmaWNhdGUgQXV0aG9yaXR5IDIwMTAwHhcNMjQw
// SIG // ODA4MjEzNjIzWhcNMzUwNjIzMjIwNDAxWjBfMQswCQYD
// SIG // VQQGEwJVUzEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBv
// SIG // cmF0aW9uMTAwLgYDVQQDEydNaWNyb3NvZnQgV2luZG93
// SIG // cyBDb2RlIFNpZ25pbmcgUENBIDIwMjQwggIiMA0GCSqG
// SIG // SIb3DQEBAQUAA4ICDwAwggIKAoICAQCafWt9J8F2Ki6u
// SIG // 49U0/8wrbe78VPggo/uwZIn0vwdoFyhlOzlfUl0SRj9c
// SIG // hbOaeo6bGIuHGMxeegFdABJphI1fME9pbz1OQYTd8Fd9
// SIG // B6mDyGBI+T91l39JFw/X741H9RgLVxK4ifMOwCzWlRJv
// SIG // UbOHjwNGbGB2gm1OZAVCUA17++oWnznEIHRQgNyN82LX
// SIG // 819rzsMfO7gzmgrsijkWYofXN803/kywuUGC8oVTAZw1
// SIG // xBwzq72sPdg0siKqXYEVqbn86gxctXoFY5KF2YW/vaWf
// SIG // YXlMzV014TqF83sYemMwC+H5QVpvgXNYUMhEnpxLwSc5
// SIG // 1ftubt4e+444DFGOOPll0OLvanXQ3v1OUngGikb74m5o
// SIG // uM+0EaS72bJWtAj4jlBs9NA6ObH5AtBMJbEs3zN/vAPa
// SIG // 7MhVToFg1T87ffDiT9hKGhDqvBhPRgqDdou/+AthQsH3
// SIG // 9QUgkyVmTtVnK9jLXiROlMRlfooQPJzedWDyg9nWBqHs
// SIG // K170cwv9R6FHkr5WX9Jn/RhxLb75GyVUUaOjwX9Jnebf
// SIG // O1W9ZjP3yKdXsqcmsZl5IKXAcLspbDqtpElTiecAT6Gh
// SIG // LLCZHjHCpxLrrvvlCnQx5UtA7bGIzdEJzrnL03UrHb4c
// SIG // yjkoyRd11aq/X9gveOS10+a8SiB1CBAwXDWFOgSgwx+q
// SIG // 36SjjgkopQIDAQABo4IBRjCCAUIwDgYDVR0PAQH/BAQD
// SIG // AgGGMBAGCSsGAQQBgjcVAQQDAgEAMB0GA1UdDgQWBBQe
// SIG // gt8O14yz1wI0gw7aq61lua+47DAZBgkrBgEEAYI3FAIE
// SIG // DB4KAFMAdQBiAEMAQTAPBgNVHRMBAf8EBTADAQH/MB8G
// SIG // A1UdIwQYMBaAFNX2VsuP6KJcYmjRPZSQW9fOmhjEMFYG
// SIG // A1UdHwRPME0wS6BJoEeGRWh0dHA6Ly9jcmwubWljcm9z
// SIG // b2Z0LmNvbS9wa2kvY3JsL3Byb2R1Y3RzL01pY1Jvb0Nl
// SIG // ckF1dF8yMDEwLTA2LTIzLmNybDBaBggrBgEFBQcBAQRO
// SIG // MEwwSgYIKwYBBQUHMAKGPmh0dHA6Ly93d3cubWljcm9z
// SIG // b2Z0LmNvbS9wa2kvY2VydHMvTWljUm9vQ2VyQXV0XzIw
// SIG // MTAtMDYtMjMuY3J0MA0GCSqGSIb3DQEBDAUAA4ICAQBD
// SIG // X/jfP7vplIw7XPW7aAOdkQXNF1Q0gTEATKsbueoVxwcL
// SIG // nLVFrNVwagwzCBQh7vXOmP1BfkzfBCII57owKSmJhz+H
// SIG // +BDNwEUppc66ReaMzicdAQORVL9Y5qXX/9mW6qbwsZcb
// SIG // /xtUeCo60ppqjx87OooMN2+0U24+wcSEvHziJMGFkIQd
// SIG // ny45YPtx0qwxjxSIaSCVlWpjCEe2u9jhqJ43X+Oa7KcK
// SIG // iB7sp2VOGr8va7gf0YYW8JvnzG/ATHnCGk5pKIcfxGWe
// SIG // RjVnDeqE2FtxtgTNwd2M51pJfbeLIT+tHzLnvtpLHRxl
// SIG // khPBFU3UphlHY9I61HOOpRlRSSEhd/zMXMZ5TXj9Socq
// SIG // /mc0+BLbPyO5rn6Wi5y2pczEdsyLoRjgFlrMHrG47Rc5
// SIG // FVBYA0dklvdNyNFypWzxAOqvHqRxifa6MYfOZ7BCnATV
// SIG // MOEnKevCgqkqRQWiosldbJHfpfFOdFjXjzG/Qc89DnwE
// SIG // mpfL+bEBvg1tNZDfiPkSlCGzOSOdMCY4h8pkBTQ7G6Gx
// SIG // cfSPeZghBD1O31Gd1U/xzlFW5Jl+5bSAv3kALuRjvH7v
// SIG // nHhEzMm726MVDOHWDQvj86KFMX5gtA7ikcAdtW1/fmnL
// SIG // iAZMSJuBHdztfcNVS6AO1DTlLie8+jUNlv/qu3J3zj5d
// SIG // kFS+KpYAm5VE9r5kKZZVdzCCByAwggUIoAMCAQICEzMA
// SIG // AACG53GUuU3/CfsAAAAAAIYwDQYJKoZIhvcNAQEMBQAw
// SIG // XzELMAkGA1UEBhMCVVMxHjAcBgNVBAoTFU1pY3Jvc29m
// SIG // dCBDb3Jwb3JhdGlvbjEwMC4GA1UEAxMnTWljcm9zb2Z0
// SIG // IFdpbmRvd3MgQ29kZSBTaWduaW5nIFBDQSAyMDI0MB4X
// SIG // DTI1MDUwODE4MjQ1M1oXDTI2MDUwNjE4MjQ1M1owdDEL
// SIG // MAkGA1UEBhMCVVMxEzARBgNVBAgTCldhc2hpbmd0b24x
// SIG // EDAOBgNVBAcTB1JlZG1vbmQxHjAcBgNVBAoTFU1pY3Jv
// SIG // c29mdCBDb3Jwb3JhdGlvbjEeMBwGA1UEAxMVTWljcm9z
// SIG // b2Z0IENvcnBvcmF0aW9uMIICIjANBgkqhkiG9w0BAQEF
// SIG // AAOCAg8AMIICCgKCAgEApH31lbdTfYCtnKM6hm0dcBgl
// SIG // L0fUQXvAsjycUQQnTbg9O0ONzUD4l9K0pCaMmLq88Z3P
// SIG // NgSZpNFCnR+AfdvW8SZCtaYwDflp/SXnWyEzAGiD9Vps
// SIG // OtEgtB7OsFynkTPZ6jk25AYadsClcZA0KaZ36mUTjJ+h
// SIG // LS3IBH6U1EJPyB8WiG8amw50S2N9S1Gq3qEZVH9LbizX
// SIG // +NmQIFA8hLVTo64uaXuAFcj7Kz7iIRBy18yq6Z7qqyup
// SIG // 0n04LK+2+38C+Mandd64RtQ0t9CyuiXwgFcOxz2w/+5v
// SIG // 0UDoafmTD4ZWWXy1r56rve3Jqd49/jSkRc2AhelN1Tbr
// SIG // XTjfwIS5+DTdPks+jJunosQXEgEbmMFdSutr1M8k4itu
// SIG // di0IO10qsFA3HQk167vtm7fWh/JKLEFoA6/Itl3PY8mV
// SIG // I4xMDJVCs8bp6s+7UPNDs00gIM9spFtKNegk0xFePz2/
// SIG // 4S1hZT4V6YfoycfjJIU9/Mq939rj8FQrj/XjGUrhGnym
// SIG // XPkzl9RrK9gRSMMXT/CAiUx+zKb8AL+Bte7KPOMTRhr0
// SIG // au06UvS8urm1CeNPe9PSZ6LON3Q+315xOV5kaCC7xQ1A
// SIG // qN7Z7fWbIZ8e8HwLIPvKYVxznemImIExu+97NRxj7zJc
// SIG // GQk/hzxV+1uc4iHTUAttop9+/6q0O8HSoOFDJmSGOMMC
// SIG // AwEAAaOCAb4wggG6MA4GA1UdDwEB/wQEAwIHgDAfBgNV
// SIG // HSUEGDAWBgorBgEEAYI3PQYBBggrBgEFBQcDAzAMBgNV
// SIG // HRMBAf8EAjAAMB0GA1UdDgQWBBRQoxo91TqmkNu2C06l
// SIG // TspQcpQogDBUBgNVHREETTBLpEkwRzEtMCsGA1UECxMk
// SIG // TWljcm9zb2Z0IElyZWxhbmQgT3BlcmF0aW9ucyBMaW1p
// SIG // dGVkMRYwFAYDVQQFEw0yMzA4NjUrNTA0NTkxMB8GA1Ud
// SIG // IwQYMBaAFB6C3w7XjLPXAjSDDtqrrWW5r7jsMGoGA1Ud
// SIG // HwRjMGEwX6BdoFuGWWh0dHA6Ly93d3cubWljcm9zb2Z0
// SIG // LmNvbS9wa2lvcHMvY3JsL01pY3Jvc29mdCUyMFdpbmRv
// SIG // d3MlMjBDb2RlJTIwU2lnbmluZyUyMFBDQSUyMDIwMjQu
// SIG // Y3JsMHcGCCsGAQUFBwEBBGswaTBnBggrBgEFBQcwAoZb
// SIG // aHR0cDovL3d3dy5taWNyb3NvZnQuY29tL3BraW9wcy9j
// SIG // ZXJ0cy9NaWNyb3NvZnQlMjBXaW5kb3dzJTIwQ29kZSUy
// SIG // MFNpZ25pbmclMjBQQ0ElMjAyMDI0LmNydDANBgkqhkiG
// SIG // 9w0BAQwFAAOCAgEADDlkX+NgsTjRleN8tgJD0V5k5QWc
// SIG // rczHYC/AGulvcPtVDcT/LErOmJQvQA6k5XoaoQ1SmY08
// SIG // 0Y/+xDcfi877vrnOLFb2H0W+IjWMLI+/fM6KBdNPEQDl
// SIG // bydWc+IZy9d5pMlvT3tzgNFpvNuBZZ4YK1dTdzh4o9PU
// SIG // tMeMV7+ARlSy+TlcZIh/PpCqrigKbzw6HXPmQ386HBMC
// SIG // tDkQAbNdkVw7qHjxEvFwUWf1lAjfwT5Xu2RjIGHHz1kP
// SIG // qkRJ+uBnCx77n3SuZmJkJSp2swNgiM78HU8j8H6k0wXl
// SIG // JNDJB7YmX3BPfMV1WJTvSdwO6uiu8MUrg6xBoXlcEaBG
// SIG // 4WDny6ecTfXBNdSy12ywxdo/DAwU42P7IoB/ZREiCPPb
// SIG // wEJoTcds9/+rb6LtNe3sd6RVW9qhImtzjL//uj291F2x
// SIG // X9BGLIT405GCAoaWEoGenLSmWcewujxXM7UaJ/iSrMg2
// SIG // wI45ozVdFQfeMF8+YXtFVeE6uzVELOUoHwqmasaFxi7k
// SIG // 2F/YH6dbTErbCam/8mD6ZijOO+iqSlbLcKM/r8GPpcHz
// SIG // 4XEYacSb411dLbeMee04Tv03LU3VeUs7mhPLbTn1Fsyw
// SIG // m3L3iidxf+nAXTupyDI+FvH6eEtsbuOQ06Fni29+futP
// SIG // H6f8q1SycPjF8LaKe6g8Jvuqm/zGEKMvE5PF76IxghsG
// SIG // MIIbAgIBATB2MF8xCzAJBgNVBAYTAlVTMR4wHAYDVQQK
// SIG // ExVNaWNyb3NvZnQgQ29ycG9yYXRpb24xMDAuBgNVBAMT
// SIG // J01pY3Jvc29mdCBXaW5kb3dzIENvZGUgU2lnbmluZyBQ
// SIG // Q0EgMjAyNAITMwAAAIbncZS5Tf8J+wAAAAAAhjANBglg
// SIG // hkgBZQMEAgEFAKCBrjAZBgkqhkiG9w0BCQMxDAYKKwYB
// SIG // BAGCNwIBBDAcBgorBgEEAYI3AgELMQ4wDAYKKwYBBAGC
// SIG // NwIBFTAvBgkqhkiG9w0BCQQxIgQgr1u8XaklXnhbGnLk
// SIG // ZVOYe/AGNIPm8DPpAGfsltmZVbswQgYKKwYBBAGCNwIB
// SIG // DDE0MDKgFIASAE0AaQBjAHIAbwBzAG8AZgB0oRqAGGh0
// SIG // dHA6Ly93d3cubWljcm9zb2Z0LmNvbTANBgkqhkiG9w0B
// SIG // AQEFAASCAgCOZFK4ZR6RAlzCb5h/6r4M6ak7IDDO7tCH
// SIG // rKyH06HjM1HbSLCfwZdq3xfjY86htzj3igjwrJ8+KmBn
// SIG // 2JgfIf7UVnDFEx78K7qNmbOF9cF2r0DLmMml9a2CbL9U
// SIG // bUws8jwWRb2FV6iFswiRWBx+zjRk/xCZvPt4gikcZHlt
// SIG // UvpTnMyjbuB5VZB4WAJsdNAa9OGEsiIsrnuOtp8O+MGh
// SIG // QGTe3IVqw+w7vau7HNxGQrkg9xZsyLAOZzncuN/RJjD5
// SIG // OaEGsQ7o3wb/bAr2+ulLoWa0MR9qTcsTNYp26I0QtbuM
// SIG // XYumr7E/JEnJZms5IFvoGv5I6YzYqY2UG6rgqv4lPMVi
// SIG // ELWBCTQks29Ks+bhvhLTV7HXZkeB5vS43YFlY8sUWrDa
// SIG // M9BXLD5g0BqU8M5kpIVJYKs0+Y9W8P/OiXSuu7p+dA+e
// SIG // xm9r8jwf2CdU2K1aBrAUOdsN+aoSqyx0FF6sAdtuJqAP
// SIG // OLKX5/PgFfL+nqGKw3ki5lR2FtxUhAmWOQopIsaeDmTT
// SIG // nThDXl2tCt7mgRuW23kIcAvSxBpcKynVENywMJrk03rS
// SIG // lYB+xCKcB/xDF8C8l5p2+1ZNrhEEauZbDA6Jywmz1xAp
// SIG // goCx2dcqf6ANg5bNnc3grAao45OlbqA6FgJenaetEks9
// SIG // 5O3XWy61qj+jQdtHEZIcUdE0se0J/KoouqGCF7Awghes
// SIG // BgorBgEEAYI3AwMBMYIXnDCCF5gGCSqGSIb3DQEHAqCC
// SIG // F4kwgheFAgEDMQ8wDQYJYIZIAWUDBAIBBQAwggFaBgsq
// SIG // hkiG9w0BCRABBKCCAUkEggFFMIIBQQIBAQYKKwYBBAGE
// SIG // WQoDATAxMA0GCWCGSAFlAwQCAQUABCAKlfh2AdNhnztC
// SIG // 4BVlwZgtxJ5lNE7+Zx8yfA2rxORxQgIGaQJkx1wRGBMy
// SIG // MDI1MTExMjIxMDQwNi4yMDVaMASAAgH0oIHZpIHWMIHT
// SIG // MQswCQYDVQQGEwJVUzETMBEGA1UECBMKV2FzaGluZ3Rv
// SIG // bjEQMA4GA1UEBxMHUmVkbW9uZDEeMBwGA1UEChMVTWlj
// SIG // cm9zb2Z0IENvcnBvcmF0aW9uMS0wKwYDVQQLEyRNaWNy
// SIG // b3NvZnQgSXJlbGFuZCBPcGVyYXRpb25zIExpbWl0ZWQx
// SIG // JzAlBgNVBAsTHm5TaGllbGQgVFNTIEVTTjo0QzFBLTA1
// SIG // RTAtRDk0NzElMCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUt
// SIG // U3RhbXAgU2VydmljZaCCEf4wggcoMIIFEKADAgECAhMz
// SIG // AAACGCXZkgXi5+XkAAEAAAIYMA0GCSqGSIb3DQEBCwUA
// SIG // MHwxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5n
// SIG // dG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVN
// SIG // aWNyb3NvZnQgQ29ycG9yYXRpb24xJjAkBgNVBAMTHU1p
// SIG // Y3Jvc29mdCBUaW1lLVN0YW1wIFBDQSAyMDEwMB4XDTI1
// SIG // MDgxNDE4NDgyNVoXDTI2MTExMzE4NDgyNVowgdMxCzAJ
// SIG // BgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAw
// SIG // DgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3Nv
// SIG // ZnQgQ29ycG9yYXRpb24xLTArBgNVBAsTJE1pY3Jvc29m
// SIG // dCBJcmVsYW5kIE9wZXJhdGlvbnMgTGltaXRlZDEnMCUG
// SIG // A1UECxMeblNoaWVsZCBUU1MgRVNOOjRDMUEtMDVFMC1E
// SIG // OTQ3MSUwIwYDVQQDExxNaWNyb3NvZnQgVGltZS1TdGFt
// SIG // cCBTZXJ2aWNlMIICIjANBgkqhkiG9w0BAQEFAAOCAg8A
// SIG // MIICCgKCAgEAsdzo6uuQJqAfxLnvEBfIvj6knK+p6bnM
// SIG // XEFZ/QjPOFywlcjDfzI8Dg1nzDlxm7/pqbvjWhyvazKm
// SIG // FyO6qbPwClfRnI57h5OCixgpOOCGJJQIZSTiMgui3B8D
// SIG // PiFtJPcfzRt3FsnxjLXwBIjGgnjGfmQl7zejA1WoYL/q
// SIG // BmQhw/FDFTWebxfo4m0RCCOxf2qwj31aOjc2aYUePtLM
// SIG // XHsXKPFH0tp5SKIF/9tJxRSg0NYEvQqVilje8aQkPd3q
// SIG // zAux2Mc5HMSK4NMTtVVCYAWDUZ4p+6iDI9t5BNCBIsf5
// SIG // ooFNUWtxCqnpFYiLYkHfFfxhVUBZ8LGGxYsA36snD65s
// SIG // 2Hf4t86k0e8WelH/usfhYqOM3z2yaI8rg08631IkwqUz
// SIG // yQoEPqMsHgBem1xpmOGSIUnVvTsAv+lmECL2RqrcOZlZ
// SIG // ax8K0aiij8h6UkWBN2IA/ikackTSGVRBQmWWZuLFWV/T
// SIG // 4xuNzscC0X7xo4fetgpsqaEA0jY/QevkTvLv4OlNN9eO
// SIG // L8LNh7Vm0R65P7oabOQDqtUFAwCgjgPJ0iV/jQCaMAcO
// SIG // 3SYpG5wSAYiJkk4XLjNSlNxU2Idjs1sORhl7s7LC6hOb
// SIG // 7bVAHVwON74GxfFNiEIA6BfudANjpQJ0nUc/ppEXpT4p
// SIG // gDBHsYtV8OyKSjKsIxOdFR7fIJIjDc8DvUkCAwEAAaOC
// SIG // AUkwggFFMB0GA1UdDgQWBBQkLqHEXDobY7dHuoQCBa4s
// SIG // X7aL0TAfBgNVHSMEGDAWgBSfpxVdAF5iXYP05dJlpxtT
// SIG // NRnpcjBfBgNVHR8EWDBWMFSgUqBQhk5odHRwOi8vd3d3
// SIG // Lm1pY3Jvc29mdC5jb20vcGtpb3BzL2NybC9NaWNyb3Nv
// SIG // ZnQlMjBUaW1lLVN0YW1wJTIwUENBJTIwMjAxMCgxKS5j
// SIG // cmwwbAYIKwYBBQUHAQEEYDBeMFwGCCsGAQUFBzAChlBo
// SIG // dHRwOi8vd3d3Lm1pY3Jvc29mdC5jb20vcGtpb3BzL2Nl
// SIG // cnRzL01pY3Jvc29mdCUyMFRpbWUtU3RhbXAlMjBQQ0El
// SIG // MjAyMDEwKDEpLmNydDAMBgNVHRMBAf8EAjAAMBYGA1Ud
// SIG // JQEB/wQMMAoGCCsGAQUFBwMIMA4GA1UdDwEB/wQEAwIH
// SIG // gDANBgkqhkiG9w0BAQsFAAOCAgEAnkjRhjwPgdoIpvt4
// SIG // YioT/j0LWuBxF3ARBKXDENggraKvC0oRPwbjAmsXnPEm
// SIG // tuo5MD8uJ9Xw9eYrxqqkK4DF9snZMrHMfooxCa++1irL
// SIG // z8YoozC4tci+a4N37Sbke1pt1xs9qZtvkPgZGWn5BcwV
// SIG // fmAwSZLHi2CuZ06Y0/X+t6fNBnrbMVovNaDX4WPdyI9G
// SIG // EzxfIggDsck2Ipo4VXL/Arcz7p2F7bEZGRuyxjgMC+wo
// SIG // CkDJaH/yk/wcZpAsixe4POdN0DW6Zb35O3Dg3+a6prAN
// SIG // Mc3WIdvfKDl75P0aqcQbQAR7b0f4gH4NMkUct0Wm4GN5
// SIG // KhsE1YK7V/wAqDKmK4jx3zLz3a8Hsxa9HB3GyitlmC5s
// SIG // DhOl4QTGN5kRi6oCoV4hK+kIFgnkWjHhSRNomz36QnbC
// SIG // SG/BHLEm2GRU9u3/I4zUd9E1AC97IJEGfwb+0NWb3QEc
// SIG // rkypdGdWwl0LEObhrQR9B1V7+edcyNmsX0p2BX0rFpd1
// SIG // PkXJSbxf8IcEiw/bkNgagZE+VlDtxXeruLdo5k3lGOv7
// SIG // rPYuOEaoZYxDvZtpHP9P36wmW4INjR6NInn2UM+krP/x
// SIG // eLnRbDBkm9RslnoDhVraliKDH62BxhcgL9tiRgOHlcI0
// SIG // wqvVWLdv8yW8rxkawOlhCRqT3EKECW8ktUAPwNbBULkT
// SIG // +oWcvBcwggdxMIIFWaADAgECAhMzAAAAFcXna54Cm0mZ
// SIG // AAAAAAAVMA0GCSqGSIb3DQEBCwUAMIGIMQswCQYDVQQG
// SIG // EwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UE
// SIG // BxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENv
// SIG // cnBvcmF0aW9uMTIwMAYDVQQDEylNaWNyb3NvZnQgUm9v
// SIG // dCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkgMjAxMDAeFw0y
// SIG // MTA5MzAxODIyMjVaFw0zMDA5MzAxODMyMjVaMHwxCzAJ
// SIG // BgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5ndG9uMRAw
// SIG // DgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVNaWNyb3Nv
// SIG // ZnQgQ29ycG9yYXRpb24xJjAkBgNVBAMTHU1pY3Jvc29m
// SIG // dCBUaW1lLVN0YW1wIFBDQSAyMDEwMIICIjANBgkqhkiG
// SIG // 9w0BAQEFAAOCAg8AMIICCgKCAgEA5OGmTOe0ciELeaLL
// SIG // 1yR5vQ7VgtP97pwHB9KpbE51yMo1V/YBf2xK4OK9uT4X
// SIG // YDP/XE/HZveVU3Fa4n5KWv64NmeFRiMMtY0Tz3cywBAY
// SIG // 6GB9alKDRLemjkZrBxTzxXb1hlDcwUTIcVxRMTegCjhu
// SIG // je3XD9gmU3w5YQJ6xKr9cmmvHaus9ja+NSZk2pg7uhp7
// SIG // M62AW36MEBydUv626GIl3GoPz130/o5Tz9bshVZN7928
// SIG // jaTjkY+yOSxRnOlwaQ3KNi1wjjHINSi947SHJMPgyY9+
// SIG // tVSP3PoFVZhtaDuaRr3tpK56KTesy+uDRedGbsoy1cCG
// SIG // MFxPLOJiss254o2I5JasAUq7vnGpF1tnYN74kpEeHT39
// SIG // IM9zfUGaRnXNxF803RKJ1v2lIH1+/NmeRd+2ci/bfV+A
// SIG // utuqfjbsNkz2K26oElHovwUDo9Fzpk03dJQcNIIP8BDy
// SIG // t0cY7afomXw/TNuvXsLz1dhzPUNOwTM5TI4CvEJoLhDq
// SIG // hFFG4tG9ahhaYQFzymeiXtcodgLiMxhy16cg8ML6EgrX
// SIG // Y28MyTZki1ugpoMhXV8wdJGUlNi5UPkLiWHzNgY1GIRH
// SIG // 29wb0f2y1BzFa/ZcUlFdEtsluq9QBXpsxREdcu+N+VLE
// SIG // hReTwDwV2xo3xwgVGD94q0W29R6HXtqPnhZyacaue7e3
// SIG // PmriLq0CAwEAAaOCAd0wggHZMBIGCSsGAQQBgjcVAQQF
// SIG // AgMBAAEwIwYJKwYBBAGCNxUCBBYEFCqnUv5kxJq+gpE8
// SIG // RjUpzxD/LwTuMB0GA1UdDgQWBBSfpxVdAF5iXYP05dJl
// SIG // pxtTNRnpcjBcBgNVHSAEVTBTMFEGDCsGAQQBgjdMg30B
// SIG // ATBBMD8GCCsGAQUFBwIBFjNodHRwOi8vd3d3Lm1pY3Jv
// SIG // c29mdC5jb20vcGtpb3BzL0RvY3MvUmVwb3NpdG9yeS5o
// SIG // dG0wEwYDVR0lBAwwCgYIKwYBBQUHAwgwGQYJKwYBBAGC
// SIG // NxQCBAweCgBTAHUAYgBDAEEwCwYDVR0PBAQDAgGGMA8G
// SIG // A1UdEwEB/wQFMAMBAf8wHwYDVR0jBBgwFoAU1fZWy4/o
// SIG // olxiaNE9lJBb186aGMQwVgYDVR0fBE8wTTBLoEmgR4ZF
// SIG // aHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraS9jcmwv
// SIG // cHJvZHVjdHMvTWljUm9vQ2VyQXV0XzIwMTAtMDYtMjMu
// SIG // Y3JsMFoGCCsGAQUFBwEBBE4wTDBKBggrBgEFBQcwAoY+
// SIG // aHR0cDovL3d3dy5taWNyb3NvZnQuY29tL3BraS9jZXJ0
// SIG // cy9NaWNSb29DZXJBdXRfMjAxMC0wNi0yMy5jcnQwDQYJ
// SIG // KoZIhvcNAQELBQADggIBAJ1VffwqreEsH2cBMSRb4Z5y
// SIG // S/ypb+pcFLY+TkdkeLEGk5c9MTO1OdfCcTY/2mRsfNB1
// SIG // OW27DzHkwo/7bNGhlBgi7ulmZzpTTd2YurYeeNg2Lpyp
// SIG // glYAA7AFvonoaeC6Ce5732pvvinLbtg/SHUB2RjebYIM
// SIG // 9W0jVOR4U3UkV7ndn/OOPcbzaN9l9qRWqveVtihVJ9Ak
// SIG // vUCgvxm2EhIRXT0n4ECWOKz3+SmJw7wXsFSFQrP8DJ6L
// SIG // GYnn8AtqgcKBGUIZUnWKNsIdw2FzLixre24/LAl4FOmR
// SIG // sqlb30mjdAy87JGA0j3mSj5mO0+7hvoyGtmW9I/2kQH2
// SIG // zsZ0/fZMcm8Qq3UwxTSwethQ/gpY3UA8x1RtnWN0SCyx
// SIG // TkctwRQEcb9k+SS+c23Kjgm9swFXSVRk2XPXfx5bRAGO
// SIG // WhmRaw2fpCjcZxkoJLo4S5pu+yFUa2pFEUep8beuyOiJ
// SIG // Xk+d0tBMdrVXVAmxaQFEfnyhYWxz/gq77EFmPWn9y8FB
// SIG // SX5+k77L+DvktxW/tM4+pTFRhLy/AsGConsXHRWJjXD+
// SIG // 57XQKBqJC4822rpM+Zv/Cuk0+CQ1ZyvgDbjmjJnW4SLq
// SIG // 8CdCPSWU5nR0W2rRnj7tfqAxM328y+l7vzhwRNGQ8cir
// SIG // Ooo6CGJ/2XBjU02N7oJtpQUQwXEGahC0HVUzWLOhcGby
// SIG // oYIDWTCCAkECAQEwggEBoYHZpIHWMIHTMQswCQYDVQQG
// SIG // EwJVUzETMBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UE
// SIG // BxMHUmVkbW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENv
// SIG // cnBvcmF0aW9uMS0wKwYDVQQLEyRNaWNyb3NvZnQgSXJl
// SIG // bGFuZCBPcGVyYXRpb25zIExpbWl0ZWQxJzAlBgNVBAsT
// SIG // Hm5TaGllbGQgVFNTIEVTTjo0QzFBLTA1RTAtRDk0NzEl
// SIG // MCMGA1UEAxMcTWljcm9zb2Z0IFRpbWUtU3RhbXAgU2Vy
// SIG // dmljZaIjCgEBMAcGBSsOAwIaAxUAnWtGrXWiuNE8QrKf
// SIG // m4CtGr57z+mggYMwgYCkfjB8MQswCQYDVQQGEwJVUzET
// SIG // MBEGA1UECBMKV2FzaGluZ3RvbjEQMA4GA1UEBxMHUmVk
// SIG // bW9uZDEeMBwGA1UEChMVTWljcm9zb2Z0IENvcnBvcmF0
// SIG // aW9uMSYwJAYDVQQDEx1NaWNyb3NvZnQgVGltZS1TdGFt
// SIG // cCBQQ0EgMjAxMDANBgkqhkiG9w0BAQsFAAIFAOy/V0Aw
// SIG // IhgPMjAyNTExMTIxODU4MDhaGA8yMDI1MTExMzE4NTgw
// SIG // OFowdzA9BgorBgEEAYRZCgQBMS8wLTAKAgUA7L9XQAIB
// SIG // ADAKAgEAAgIN0AIB/zAHAgEAAgIU1DAKAgUA7MCowAIB
// SIG // ADA2BgorBgEEAYRZCgQCMSgwJjAMBgorBgEEAYRZCgMC
// SIG // oAowCAIBAAIDB6EgoQowCAIBAAIDAYagMA0GCSqGSIb3
// SIG // DQEBCwUAA4IBAQBOhw/mgNm7qrEe8Hz1SOSVrLfS7Xkr
// SIG // H47BokxTyzW8UOsFgnkMeEm86Z+JSzB2Rdqa4tqlMmsD
// SIG // y4HivjbtgYlTRKtJJ3PxSl3boqu6dffIQ5D5lr8ajXQu
// SIG // aJMqi8ZkXAMKmvOHX1LkFfC/M2jpU5a+DkCts1Fu5lqP
// SIG // LL8hblRg5tJYbrhNQM3CRj/36MMhp4HWQTClkGbzKdPu
// SIG // P0ShOAUQ0tAYYspg2BzI1LJsV5Ol+6jTgf/2XhWe4+vZ
// SIG // VEy6h0Lnb++v1zW56dFQSSMGLV/mKFQOb8pevLwR4Oxq
// SIG // oemwAdJ6PzM1x0dbBEiatbbt2xkyWiuWfRKPqVUpZzOM
// SIG // To8DMYIEDTCCBAkCAQEwgZMwfDELMAkGA1UEBhMCVVMx
// SIG // EzARBgNVBAgTCldhc2hpbmd0b24xEDAOBgNVBAcTB1Jl
// SIG // ZG1vbmQxHjAcBgNVBAoTFU1pY3Jvc29mdCBDb3Jwb3Jh
// SIG // dGlvbjEmMCQGA1UEAxMdTWljcm9zb2Z0IFRpbWUtU3Rh
// SIG // bXAgUENBIDIwMTACEzMAAAIYJdmSBeLn5eQAAQAAAhgw
// SIG // DQYJYIZIAWUDBAIBBQCgggFKMBoGCSqGSIb3DQEJAzEN
// SIG // BgsqhkiG9w0BCRABBDAvBgkqhkiG9w0BCQQxIgQgS6JL
// SIG // eE3yJt1fCUyli5us8f6CKfpiPbATFNoJTAwsNRAwgfoG
// SIG // CyqGSIb3DQEJEAIvMYHqMIHnMIHkMIG9BCCZE9yJuOTI
// SIG // tIwWaES6lzGKK1XcSoz1ynRzaOVzx9eFajCBmDCBgKR+
// SIG // MHwxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpXYXNoaW5n
// SIG // dG9uMRAwDgYDVQQHEwdSZWRtb25kMR4wHAYDVQQKExVN
// SIG // aWNyb3NvZnQgQ29ycG9yYXRpb24xJjAkBgNVBAMTHU1p
// SIG // Y3Jvc29mdCBUaW1lLVN0YW1wIFBDQSAyMDEwAhMzAAAC
// SIG // GCXZkgXi5+XkAAEAAAIYMCIEIG1qYaGekP4jEIiBMoVa
// SIG // O56ZYfZzT1cvZcTBYTchRfwFMA0GCSqGSIb3DQEBCwUA
// SIG // BIICAAGcGsH9A00d9+ws7YFu2/xi9Q3UmUq5vygG7QqE
// SIG // K0s0QJBMd9qPIjwE1gJj9+IUCT7akiPifMdZrDyByeSB
// SIG // jKPKQhAwkTbNc6q4klN2PgGa8/8swEoR7zoWlg1qxRZX
// SIG // HVCmBgs4XoxuuNoWa8EJLsYpxodaVTRp6vLyK49wVrPN
// SIG // Cbw8o45keDoacZLoufzdJHA/61R9rvfFScgQ8Ob4XJQT
// SIG // IwnKWnXjv3awTv8pkclN5htABjQuIW2p5L3i/1b9O7B5
// SIG // 07hgLz/E+W++CDs/iehW/7LO3zOpH4cjwRIGqT0SB4+1
// SIG // ZUMrQyKOsSnCRK1n1VTqMgXTDY0/n8KCJYKXBBjPeKji
// SIG // iMpBF4+EGXM83PR4hY9QpKUAu6vzkoyNoGcXAKHcNfLi
// SIG // abfUl/pzL8161kEzL1Bccweiq9Ve1ovfqhKlwqDe5lJo
// SIG // VR+VgR2R5JrGElP8LVmZyc4YJ+TanVgIJoERqLrXUZEC
// SIG // FhDjhiVcOj/5CYA4z+gWIlJQR2OYJLfGyNMcup9iDhPq
// SIG // /VPvrmfLXUSvzR5gexnYiqkIP5jfGvzAx8a+SQ+GOf1u
// SIG // TxliwcH8sIPFryGXTeq2mPHX3MQvU5FGa/yZE+pCSk+2
// SIG // vK+r4/hijHGtGhWb/xSp4g/SxY8UXmtFhR0fTrKOT14O
// SIG // PMeSJlRo9gThsmhntkx59nTTe6If
// SIG // End signature block
