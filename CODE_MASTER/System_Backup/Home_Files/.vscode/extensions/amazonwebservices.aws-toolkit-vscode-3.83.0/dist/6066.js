"use strict";var Lt=Object.defineProperty;var kt=(fe,K,i)=>K in fe?Lt(fe,K,{enumerable:!0,configurable:!0,writable:!0,value:i}):fe[K]=i;var Ie=(fe,K,i)=>(kt(fe,typeof K!="symbol"?K+"":K,i),i);exports.id=6066,exports.ids=[6066],exports.modules={50696:(fe,K,i)=>{i.d(K,{I:()=>M});const D={warningEmitted:!1},M=k=>{k&&!D.warningEmitted&&parseInt(k.substring(1,k.indexOf(".")))<18&&(D.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}},1762:(fe,K,i)=>{i.d(K,{g:()=>D});function D(M,k,G){return M.$source||(M.$source={}),M.$source[k]=G,M}},60914:(fe,K,i)=>{i.d(K,{f2:()=>$});var D=i(17365);const M=S=>new Date(Date.now()+S),k=S=>D.cS.isInstance(S)?S.headers?.date??S.headers?.Date:void 0,G=(S,U)=>Math.abs(M(U).getTime()-S)>=3e5,x=(S,U)=>{const J=Date.parse(S);return G(J,U)?J-Date.now():U},F=(S,U)=>{if(!U)throw new Error(`Property \`${S}\` is not resolved for AWS SDK SigV4Auth`);return U},N=async S=>{const U=F("context",S.context),J=F("config",S.config),P=U.endpointV2?.properties?.authSchemes?.[0],X=await F("signer",J.signer)(P),ne=S?.signingRegion,oe=S?.signingRegionSet,le=S?.signingName;return{config:J,signer:X,signingRegion:ne,signingRegionSet:oe,signingName:le}};class ${async sign(U,J,P){if(!D.Kd.isInstance(U))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const V=await N(P),{config:X,signer:ne}=V;let{signingRegion:oe,signingName:le}=V;const pe=P.context;if(pe?.authSchemes?.length??0>1){const[s,A]=pe.authSchemes;s?.name==="sigv4a"&&A?.name==="sigv4"&&(oe=A?.signingRegion??oe,le=A?.signingName??le)}return await ne.sign(U,{signingDate:M(X.systemClockOffset),signingRegion:oe,signingService:le})}errorHandler(U){return J=>{const P=J.ServerTime??k(J.$response);if(P){const V=F("config",U.config),X=V.systemClockOffset;V.systemClockOffset=x(P,V.systemClockOffset),V.systemClockOffset!==X&&J.$metadata&&(J.$metadata.clockSkewCorrected=!0)}throw J}}successHandler(U,J){const P=k(U);if(P){const V=F("config",J.config);V.systemClockOffset=x(P,V.systemClockOffset)}}}const p=null},59433:(fe,K,i)=>{i.d(K,{h:()=>Re});var D=i(1762),M=i(64470),k=i(48518),G=i(11347);const x="X-Amz-Algorithm",F="X-Amz-Credential",N="X-Amz-Date",$="X-Amz-SignedHeaders",p="X-Amz-Expires",S="X-Amz-Signature",U="X-Amz-Security-Token",J="X-Amz-Region-Set",P="authorization",V=N.toLowerCase(),ne=[P,V,"date"],oe=S.toLowerCase(),le="x-amz-content-sha256",pe=U.toLowerCase(),re="host",s={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},A=/^proxy-/,T=/^sec-/,L=null,B="AWS4-HMAC-SHA256",c="AWS4-ECDSA-P256-SHA256",h="AWS4-HMAC-SHA256-PAYLOAD",H="UNSIGNED-PAYLOAD",C=50,t="aws4_request",u=60*60*24*7,I={},l=[],g=(f,_,z)=>`${f}/${_}/${z}/${t}`,o=async(f,_,z,Q,Z)=>{const ee=await n(f,_.secretAccessKey,_.accessKeyId),ue=`${z}:${Q}:${Z}:${(0,k.n)(ee)}:${_.sessionToken}`;if(ue in I)return I[ue];for(l.push(ue);l.length>C;)delete I[l.shift()];let ye=`AWS4${_.secretAccessKey}`;for(const ge of[z,Q,Z,t])ye=await n(f,ye,ge);return I[ue]=ye},m=()=>{l.length=0,Object.keys(I).forEach(f=>{delete I[f]})},n=(f,_,z)=>{const Q=new f(_);return Q.update((0,G.Fo)(z)),Q.digest()},w=({headers:f},_,z)=>{const Q={};for(const Z of Object.keys(f).sort()){if(f[Z]==null)continue;const ee=Z.toLowerCase();(ee in s||_?.has(ee)||A.test(ee)||T.test(ee))&&(!z||z&&!z.has(ee))||(Q[ee]=f[Z].trim().replace(/\s+/g," "))}return Q};var E=i(33593);const d=async({headers:f,body:_},z)=>{for(const Q of Object.keys(f))if(Q.toLowerCase()===le)return f[Q];if(_==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof _=="string"||ArrayBuffer.isView(_)||(0,E.m)(_)){const Q=new z;return Q.update((0,G.Fo)(_)),(0,k.n)(await Q.digest())}return H};class a{format(_){const z=[];for(const ee of Object.keys(_)){const ue=(0,G.ar)(ee);z.push(Uint8Array.from([ue.byteLength]),ue,this.formatHeaderValue(_[ee]))}const Q=new Uint8Array(z.reduce((ee,ue)=>ee+ue.byteLength,0));let Z=0;for(const ee of z)Q.set(ee,Z),Z+=ee.byteLength;return Q}formatHeaderValue(_){switch(_.type){case"boolean":return Uint8Array.from([_.value?0:1]);case"byte":return Uint8Array.from([2,_.value]);case"short":const z=new DataView(new ArrayBuffer(3));return z.setUint8(0,3),z.setInt16(1,_.value,!1),new Uint8Array(z.buffer);case"integer":const Q=new DataView(new ArrayBuffer(5));return Q.setUint8(0,4),Q.setInt32(1,_.value,!1),new Uint8Array(Q.buffer);case"long":const Z=new Uint8Array(9);return Z[0]=5,Z.set(_.value.bytes,1),Z;case"binary":const ee=new DataView(new ArrayBuffer(3+_.value.byteLength));ee.setUint8(0,6),ee.setUint16(1,_.value.byteLength,!1);const ue=new Uint8Array(ee.buffer);return ue.set(_.value,3),ue;case"string":const ye=(0,G.ar)(_.value),ge=new DataView(new ArrayBuffer(3+ye.byteLength));ge.setUint8(0,7),ge.setUint16(1,ye.byteLength,!1);const Te=new Uint8Array(ge.buffer);return Te.set(ye,3),Te;case"timestamp":const ve=new Uint8Array(9);return ve[0]=8,ve.set(j.fromNumber(_.value.valueOf()).bytes,1),ve;case"uuid":if(!O.test(_.value))throw new Error(`Invalid UUID received: ${_.value}`);const be=new Uint8Array(17);return be[0]=9,be.set((0,k.a)(_.value.replace(/\-/g,"")),1),be}}}var b;(function(f){f[f.boolTrue=0]="boolTrue",f[f.boolFalse=1]="boolFalse",f[f.byte=2]="byte",f[f.short=3]="short",f[f.integer=4]="integer",f[f.long=5]="long",f[f.byteArray=6]="byteArray",f[f.string=7]="string",f[f.timestamp=8]="timestamp",f[f.uuid=9]="uuid"})(b||(b={}));const O=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class j{constructor(_){if(this.bytes=_,_.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(_){if(_>9223372036854776e3||_<-9223372036854776e3)throw new Error(`${_} is too large (or, if negative, too small) to represent as an Int64`);const z=new Uint8Array(8);for(let Q=7,Z=Math.abs(Math.round(_));Q>-1&&Z>0;Q--,Z/=256)z[Q]=Z;return _<0&&W(z),new j(z)}valueOf(){const _=this.bytes.slice(0),z=_[0]&128;return z&&W(_),parseInt((0,k.n)(_),16)*(z?-1:1)}toString(){return String(this.valueOf())}}function W(f){for(let _=0;_<8;_++)f[_]^=255;for(let _=7;_>-1&&(f[_]++,f[_]===0);_--);}const q=(f,_)=>{f=f.toLowerCase();for(const z of Object.keys(_))if(f===z.toLowerCase())return!0;return!1},de=(f,_)=>{f=f.toLowerCase();for(const z of Object.keys(_))if(f===z.toLowerCase())return _[z]},se=(f,_)=>{f=f.toLowerCase();for(const z of Object.keys(_))f===z.toLowerCase()&&delete _[z]};var me=i(17365);const Ae=(f,_={})=>{const{headers:z,query:Q={}}=me.Kd.clone(f);for(const Z of Object.keys(z)){const ee=Z.toLowerCase();(ee.slice(0,6)==="x-amz-"&&!_.unhoistableHeaders?.has(ee)||_.hoistableHeaders?.has(ee))&&(Q[Z]=z[Z],delete z[Z])}return{...f,headers:z,query:Q}},ie=f=>{f=me.Kd.clone(f);for(const _ of Object.keys(f.headers))ne.indexOf(_.toLowerCase())>-1&&delete f.headers[_];return f};var Y=i(59897),te=i(31145);const he=({query:f={}})=>{const _=[],z={};for(const Q of Object.keys(f)){if(Q.toLowerCase()===oe)continue;const Z=(0,te.o)(Q);_.push(Z);const ee=f[Q];typeof ee=="string"?z[Z]=`${Z}=${(0,te.o)(ee)}`:Array.isArray(ee)&&(z[Z]=ee.slice(0).reduce((ue,ye)=>ue.concat([`${Z}=${(0,te.o)(ye)}`]),[]).sort().join("&"))}return _.sort().map(Q=>z[Q]).filter(Q=>Q).join("&")},Se=f=>ce(f).toISOString().replace(/\.\d{3}Z$/,"Z"),ce=f=>typeof f=="number"?new Date(f*1e3):typeof f=="string"?Number(f)?new Date(Number(f)*1e3):new Date(f):f;class Ee{constructor({applyChecksum:_,credentials:z,region:Q,service:Z,sha256:ee,uriEscapePath:ue=!0}){this.service=Z,this.sha256=ee,this.uriEscapePath=ue,this.applyChecksum=typeof _=="boolean"?_:!0,this.regionProvider=(0,Y.t)(Q),this.credentialProvider=(0,Y.t)(z)}createCanonicalRequest(_,z,Q){const Z=Object.keys(z).sort();return`${_.method}
${this.getCanonicalPath(_)}
${he(_)}
${Z.map(ee=>`${ee}:${z[ee]}`).join(`
`)}

${Z.join(";")}
${Q}`}async createStringToSign(_,z,Q,Z){const ee=new this.sha256;ee.update((0,G.Fo)(Q));const ue=await ee.digest();return`${Z}
${_}
${z}
${(0,k.n)(ue)}`}getCanonicalPath({path:_}){if(this.uriEscapePath){const z=[];for(const ee of _.split("/"))ee?.length!==0&&ee!=="."&&(ee===".."?z.pop():z.push(ee));const Q=`${_?.startsWith("/")?"/":""}${z.join("/")}${z.length>0&&_?.endsWith("/")?"/":""}`;return(0,te.o)(Q).replace(/%2F/g,"/")}return _}validateResolvedCredentials(_){if(typeof _!="object"||typeof _.accessKeyId!="string"||typeof _.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(_){const z=Se(_).replace(/[\-:]/g,"");return{longDate:z,shortDate:z.slice(0,8)}}getCanonicalHeaderList(_){return Object.keys(_).sort().join(";")}}class Ce extends Ee{constructor({applyChecksum:_,credentials:z,region:Q,service:Z,sha256:ee,uriEscapePath:ue=!0}){super({applyChecksum:_,credentials:z,region:Q,service:Z,sha256:ee,uriEscapePath:ue}),this.headerFormatter=new a}async presign(_,z={}){const{signingDate:Q=new Date,expiresIn:Z=3600,unsignableHeaders:ee,unhoistableHeaders:ue,signableHeaders:ye,hoistableHeaders:ge,signingRegion:Te,signingService:ve}=z,be=await this.credentialProvider();this.validateResolvedCredentials(be);const De=Te??await this.regionProvider(),{longDate:Me,shortDate:Le}=this.formatDate(Q);if(Z>u)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const Fe=g(Le,De,ve??this.service),$e=Ae(ie(_),{unhoistableHeaders:ue,hoistableHeaders:ge});be.sessionToken&&($e.query[U]=be.sessionToken),$e.query[x]=B,$e.query[F]=`${be.accessKeyId}/${Fe}`,$e.query[N]=Me,$e.query[p]=Z.toString(10);const ze=w($e,ee,ye);return $e.query[$]=this.getCanonicalHeaderList(ze),$e.query[S]=await this.getSignature(Me,Fe,this.getSigningKey(be,De,Le,ve),this.createCanonicalRequest($e,ze,await d(_,this.sha256))),$e}async sign(_,z){return typeof _=="string"?this.signString(_,z):_.headers&&_.payload?this.signEvent(_,z):_.message?this.signMessage(_,z):this.signRequest(_,z)}async signEvent({headers:_,payload:z},{signingDate:Q=new Date,priorSignature:Z,signingRegion:ee,signingService:ue}){const ye=ee??await this.regionProvider(),{shortDate:ge,longDate:Te}=this.formatDate(Q),ve=g(ge,ye,ue??this.service),be=await d({headers:{},body:z},this.sha256),De=new this.sha256;De.update(_);const Me=(0,k.n)(await De.digest()),Le=[h,Te,ve,Z,Me,be].join(`
`);return this.signString(Le,{signingDate:Q,signingRegion:ye,signingService:ue})}async signMessage(_,{signingDate:z=new Date,signingRegion:Q,signingService:Z}){return this.signEvent({headers:this.headerFormatter.format(_.message.headers),payload:_.message.body},{signingDate:z,signingRegion:Q,signingService:Z,priorSignature:_.priorSignature}).then(ue=>({message:_.message,signature:ue}))}async signString(_,{signingDate:z=new Date,signingRegion:Q,signingService:Z}={}){const ee=await this.credentialProvider();this.validateResolvedCredentials(ee);const ue=Q??await this.regionProvider(),{shortDate:ye}=this.formatDate(z),ge=new this.sha256(await this.getSigningKey(ee,ue,ye,Z));return ge.update((0,G.Fo)(_)),(0,k.n)(await ge.digest())}async signRequest(_,{signingDate:z=new Date,signableHeaders:Q,unsignableHeaders:Z,signingRegion:ee,signingService:ue}={}){const ye=await this.credentialProvider();this.validateResolvedCredentials(ye);const ge=ee??await this.regionProvider(),Te=ie(_),{longDate:ve,shortDate:be}=this.formatDate(z),De=g(be,ge,ue??this.service);Te.headers[V]=ve,ye.sessionToken&&(Te.headers[pe]=ye.sessionToken);const Me=await d(Te,this.sha256);!q(le,Te.headers)&&this.applyChecksum&&(Te.headers[le]=Me);const Le=w(Te,Z,Q),Fe=await this.getSignature(ve,De,this.getSigningKey(ye,ge,be,ue),this.createCanonicalRequest(Te,Le,Me));return Te.headers[P]=`${B} Credential=${ye.accessKeyId}/${De}, SignedHeaders=${this.getCanonicalHeaderList(Le)}, Signature=${Fe}`,Te}async getSignature(_,z,Q,Z){const ee=await this.createStringToSign(_,z,Z,B),ue=new this.sha256(await Q);return ue.update((0,G.Fo)(ee)),(0,k.n)(await ue.digest())}getSigningKey(_,z,Q,Z){return o(this.sha256,_,Q,z,Z||this.service)}}const Ne={SignatureV4a:null},Re=f=>{let _=!1,z;f.credentials&&(_=!0,z=(0,M.K4)(f.credentials,M.OC,M.e)),z||(f.credentialDefaultProvider?z=(0,M.te)(f.credentialDefaultProvider(Object.assign({},f,{parentClientConfig:f}))):z=async()=>{throw new Error("`credentials` is missing")});const Q=async()=>z({callerClientConfig:f}),{signingEscapePath:Z=!0,systemClockOffset:ee=f.systemClockOffset||0,sha256:ue}=f;let ye;return f.signer?ye=(0,M.te)(f.signer):f.regionInfoProvider?ye=()=>(0,M.te)(f.region)().then(async ge=>[await f.regionInfoProvider(ge,{useFipsEndpoint:await f.useFipsEndpoint(),useDualstackEndpoint:await f.useDualstackEndpoint()})||{},ge]).then(([ge,Te])=>{const{signingRegion:ve,signingService:be}=ge;f.signingRegion=f.signingRegion||ve||Te,f.signingName=f.signingName||be||f.serviceId;const De={...f,credentials:Q,region:f.signingRegion,service:f.signingName,sha256:ue,uriEscapePath:Z},Me=f.signerConstructor||Ce;return new Me(De)}):ye=async ge=>{ge=Object.assign({},{name:"sigv4",signingName:f.signingName||f.defaultSigningName,signingRegion:await(0,M.te)(f.region)(),properties:{}},ge);const Te=ge.signingRegion,ve=ge.signingName;f.signingRegion=f.signingRegion||Te,f.signingName=f.signingName||ve||f.serviceId;const be={...f,credentials:Q,region:f.signingRegion,service:f.signingName,sha256:ue,uriEscapePath:Z},De=f.signerConstructor||Ce;return new De(be)},{...f,systemClockOffset:ee,signingEscapePath:Z,credentials:_?async()=>Q().then(ge=>(0,D.g)(ge,"CREDENTIALS_CODE","e")):Q,signer:ye}},r=null},62892:(fe,K,i)=>{i.d(K,{w:()=>M});var D=i(27792);const M=(k,G)=>(0,D.Px)(k,G).then(x=>G.utf8Encoder(x))},3101:(fe,K,i)=>{i.d(K,{CG:()=>k,Y2:()=>M,cJ:()=>G});var D=i(62892);const M=(x,F)=>(0,D.w)(x,F).then(N=>{if(N.length)try{return JSON.parse(N)}catch($){throw $?.name==="SyntaxError"&&Object.defineProperty($,"$responseBodyText",{value:N}),$}return{}}),k=async(x,F)=>{const N=await M(x,F);return N.message=N.message??N.Message,N},G=(x,F)=>{const N=(S,U)=>Object.keys(S).find(J=>J.toLowerCase()===U.toLowerCase()),$=S=>{let U=S;return typeof U=="number"&&(U=U.toString()),U.indexOf(",")>=0&&(U=U.split(",")[0]),U.indexOf(":")>=0&&(U=U.split(":")[0]),U.indexOf("#")>=0&&(U=U.split("#")[1]),U},p=N(x.headers,"x-amzn-errortype");if(p!==void 0)return $(x.headers[p]);if(F.code!==void 0)return $(F.code);if(F.__type!==void 0)return $(F.__type)}},64634:(fe,K,i)=>{i.d(K,{yG:()=>k,pi:()=>G,fromEnv:()=>p});var D=i(1762),M=i(86398);const k="AWS_ACCESS_KEY_ID",G="AWS_SECRET_ACCESS_KEY",x="AWS_SESSION_TOKEN",F="AWS_CREDENTIAL_EXPIRATION",N="AWS_CREDENTIAL_SCOPE",$="AWS_ACCOUNT_ID",p=S=>async()=>{S?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");const U=process.env[k],J=process.env[G],P=process.env[x],V=process.env[F],X=process.env[N],ne=process.env[$];if(U&&J){const oe={accessKeyId:U,secretAccessKey:J,...P&&{sessionToken:P},...V&&{expiration:new Date(V)},...X&&{credentialScope:X},...ne&&{accountId:ne}};return(0,D.g)(oe,"CREDENTIALS_ENV_VARS","g"),oe}throw new M.C1("Unable to find environment variable credentials.",{logger:S?.logger})}},59133:(fe,K,i)=>{i.d(K,{OV:()=>M,TC:()=>x});var D=i(17365);function M(F){return F}const k=F=>N=>async $=>{if(!D.Kd.isInstance($.request))return N($);const{request:p}=$,{handlerProtocol:S=""}=F.requestHandler.metadata||{};if(S.indexOf("h2")>=0&&!p.headers[":authority"])delete p.headers.host,p.headers[":authority"]=p.hostname+(p.port?":"+p.port:"");else if(!p.headers.host){let U=p.hostname;p.port!=null&&(U+=`:${p.port}`),p.headers.host=U}return N($)},G={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},x=F=>({applyToStack:N=>{N.add(k(F),G)}})},45165:(fe,K,i)=>{i.d(K,{Y7:()=>k});const D=()=>(G,x)=>async F=>{try{const N=await G(F),{clientName:$,commandName:p,logger:S,dynamoDbDocumentClientOptions:U={}}=x,{overrideInputFilterSensitiveLog:J,overrideOutputFilterSensitiveLog:P}=U,V=J??x.inputFilterSensitiveLog,X=P??x.outputFilterSensitiveLog,{$metadata:ne,...oe}=N.output;return S?.info?.({clientName:$,commandName:p,input:V(F.input),output:X(oe),metadata:ne}),N}catch(N){const{clientName:$,commandName:p,logger:S,dynamoDbDocumentClientOptions:U={}}=x,{overrideInputFilterSensitiveLog:J}=U,P=J??x.inputFilterSensitiveLog;throw S?.error?.({clientName:$,commandName:p,input:P(F.input),error:N,metadata:N.$metadata}),N}},M={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},k=G=>({applyToStack:x=>{x.add(D(),M)}})},97983:(fe,K,i)=>{i.d(K,{n4:()=>N});var D=i(17365);const M="X-Amzn-Trace-Id",k="AWS_LAMBDA_FUNCTION_NAME",G="_X_AMZN_TRACE_ID",x=$=>p=>async S=>{const{request:U}=S;if(!D.Kd.isInstance(U)||$.runtime!=="node"||U.headers.hasOwnProperty(M))return p(S);const J=process.env[k],P=process.env[G],V=X=>typeof X=="string"&&X.length>0;return V(J)&&V(P)&&(U.headers[M]=P),p({...S,request:U})},F={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},N=$=>({applyToStack:p=>{p.add(x($),F)}})},65439:(fe,K,i)=>{i.d(K,{bM:()=>M,sM:()=>A,Dc:()=>G});var D=i(64470);const M=void 0;function k(T){return T===void 0?!0:typeof T=="string"&&T.length<=50}function G(T){const L=(0,D.te)(T.userAgentAppId??M);return{...T,customUserAgent:typeof T.customUserAgent=="string"?[[T.customUserAgent]]:T.customUserAgent,userAgentAppId:async()=>{const B=await L();if(!k(B)){const c=T.logger?.constructor?.name==="NoOpLogger"||!T.logger?console:T.logger;typeof B!="string"?c?.warn("userAgentAppId must be a string or undefined."):B.length>50&&c?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return B}}}var x=i(3086),F=i(17365);function N(T,L,B){T.__aws_sdk_context?T.__aws_sdk_context.features||(T.__aws_sdk_context.features={}):T.__aws_sdk_context={features:{}},T.__aws_sdk_context.features[L]=B}const $=/\d{12}\.ddb/;async function p(T,L,B){if(B.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&N(T,"PROTOCOL_RPC_V2_CBOR","M"),typeof L.retryStrategy=="function"){const H=await L.retryStrategy();typeof H.acquireInitialRetryToken=="function"?H.constructor?.name?.includes("Adaptive")?N(T,"RETRY_MODE_ADAPTIVE","F"):N(T,"RETRY_MODE_STANDARD","E"):N(T,"RETRY_MODE_LEGACY","D")}if(typeof L.accountIdEndpointMode=="function"){const H=T.endpointV2;switch(String(H?.url?.hostname).match($)&&N(T,"ACCOUNT_ID_ENDPOINT","O"),await L.accountIdEndpointMode?.()){case"disabled":N(T,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":N(T,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":N(T,"ACCOUNT_ID_MODE_REQUIRED","R");break}}const h=T.__smithy_context?.selectedHttpAuthScheme?.identity;if(h?.$source){const H=h;H.accountId&&N(T,"RESOLVED_ACCOUNT_ID","T");for(const[C,t]of Object.entries(H.$source??{}))N(T,C,t)}}const S="user-agent",U="x-amz-user-agent",J=" ",P="/",V=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,X=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,ne="-",oe=1024;function le(T){let L="";for(const B in T){const c=T[B];if(L.length+c.length+1<=oe){L.length?L+=","+c:L+=c;continue}break}return L}const pe=T=>(L,B)=>async c=>{const{request:h}=c;if(!F.Kd.isInstance(h))return L(c);const{headers:H}=h,C=B?.userAgent?.map(re)||[],t=(await T.defaultUserAgentProvider()).map(re);await p(B,T,c);const u=B;t.push(`m/${le(Object.assign({},B.__smithy_context?.features,u.__aws_sdk_context?.features))}`);const I=T?.customUserAgent?.map(re)||[],l=await T.userAgentAppId();l&&t.push(re([`app/${l}`]));const g=(0,x.vL)(),o=(g?[g]:[]).concat([...t,...C,...I]).join(J),m=[...t.filter(n=>n.startsWith("aws-sdk-")),...I].join(J);return T.runtime!=="browser"?(m&&(H[U]=H[U]?`${H[S]} ${m}`:m),H[S]=o):H[U]=o,L({...c,request:h})},re=T=>{const L=T[0].split(P).map(C=>C.replace(V,ne)).join(P),B=T[1]?.replace(X,ne),c=L.indexOf(P),h=L.substring(0,c);let H=L.substring(c+1);return h==="api"&&(H=H.toLowerCase()),[h,H,B].filter(C=>C&&C.length>0).reduce((C,t,u)=>{switch(u){case 0:return t;case 1:return`${C}/${t}`;default:return`${C}#${t}`}},"")},s={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},A=T=>({applyToStack:L=>{L.add(pe(T),s)}})},58390:(fe,K,i)=>{i.d(K,{Rq:()=>D,$3:()=>M});const D=N=>{let $=async()=>{if(N.region===void 0)throw new Error("Region is missing from runtimeConfig");const p=N.region;return typeof p=="string"?p:p()};return{setRegion(p){$=p},region(){return $}}},M=N=>({region:N.region()}),k="AWS_REGION",G="region",x={environmentVariableSelector:N=>N[k],configFileSelector:N=>N[G],default:()=>{throw new Error("Region is missing")}},F={preferredFile:"credentials"}},3086:(fe,K,i)=>{i.d(K,{UF:()=>P,vL:()=>J});var D=i(5559);const M=(V,X=!1)=>{if(X){for(const ne of V.split("."))if(!M(ne))return!1;return!0}return!(!(0,D.X8)(V)||V.length<3||V.length>63||V!==V.toLowerCase()||(0,D.oX)(V))},k=":",G="/",x=V=>{const X=V.split(k);if(X.length<6)return null;const[ne,oe,le,pe,re,...s]=X;if(ne!=="arn"||oe===""||le===""||s.join(k)==="")return null;const A=s.map(T=>T.split(G)).flat();return{partition:oe,service:le,region:pe,accountId:re,resourceId:A}};let N=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}'),$="";const p=V=>{const{partitions:X}=N;for(const oe of X){const{regions:le,outputs:pe}=oe;for(const[re,s]of Object.entries(le))if(re===V)return{...pe,...s}}for(const oe of X){const{regionRegex:le,outputs:pe}=oe;if(new RegExp(le).test(V))return{...pe}}const ne=X.find(oe=>oe.id==="aws");if(!ne)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...ne.outputs}},S=(V,X="")=>{N=V,$=X},U=()=>{S(partitionsInfo,"")},J=()=>$,P={isVirtualHostableS3Bucket:M,parseArn:x,partition:p};D.mw.aws=P},73637:(fe,K,i)=>{i.d(K,{hV:()=>U,pf:()=>x});var D=i(70857),M=i(932);const k={isCrtAvailable:!1},G=()=>k.isCrtAvailable?["md/crt-avail"]:null,x=({serviceId:J,clientVersion:P})=>async V=>{const X=[["aws-sdk-js",P],["ua","2.1"],[`os/${(0,D.platform)()}`,(0,D.release)()],["lang/js"],["md/nodejs",`${M.versions.node}`]],ne=G();ne&&X.push(ne),J&&X.push([`api/${J}`,P]),M.env.AWS_EXECUTION_ENV&&X.push([`exec-env/${M.env.AWS_EXECUTION_ENV}`]);const oe=await V?.userAgentAppId?.();return oe?[...X,[`app/${oe}`]]:[...X]},F=null;var N=i(65439);const $="AWS_SDK_UA_APP_ID",p="sdk_ua_app_id",S="sdk-ua-app-id",U={environmentVariableSelector:J=>J[$],configFileSelector:J=>J[p]??J[S],default:N.bM}},45429:(fe,K,i)=>{i.d(K,{zH:()=>oe,GG:()=>ne,e$:()=>F,Ko:()=>S,TD:()=>re});const D=(s,A,T)=>{if(A in s){if(s[A]==="true")return!0;if(s[A]==="false")return!1;throw new Error(`Cannot load ${T} "${A}". Expected "true" or "false", got ${s[A]}.`)}};var M;(function(s){s.ENV="env",s.CONFIG="shared config entry"})(M||(M={}));const k="AWS_USE_DUALSTACK_ENDPOINT",G="use_dualstack_endpoint",x=!1,F={environmentVariableSelector:s=>D(s,k,M.ENV),configFileSelector:s=>D(s,G,M.CONFIG),default:!1},N="AWS_USE_FIPS_ENDPOINT",$="use_fips_endpoint",p=!1,S={environmentVariableSelector:s=>D(s,N,M.ENV),configFileSelector:s=>D(s,$,M.CONFIG),default:!1};var U=i(59897);const J=s=>{const{tls:A,endpoint:T,urlParser:L,useDualstackEndpoint:B}=s;return Object.assign(s,{tls:A??!0,endpoint:normalizeProvider(typeof T=="string"?L(T):T),isCustomEndpoint:!0,useDualstackEndpoint:normalizeProvider(B??!1)})},P=s=>{const A=normalizeProvider(s.useDualstackEndpoint??!1),{endpoint:T,useFipsEndpoint:L,urlParser:B,tls:c}=s;return Object.assign(s,{tls:c??!0,endpoint:T?normalizeProvider(typeof T=="string"?B(T):T):()=>getEndpointFromRegion({...s,useDualstackEndpoint:A,useFipsEndpoint:L}),isCustomEndpoint:!!T,useDualstackEndpoint:A})},V="AWS_REGION",X="region",ne={environmentVariableSelector:s=>s[V],configFileSelector:s=>s[X],default:()=>{throw new Error("Region is missing")}},oe={preferredFile:"credentials"},le=s=>typeof s=="string"&&(s.startsWith("fips-")||s.endsWith("-fips")),pe=s=>le(s)?["fips-aws-global","aws-fips"].includes(s)?"us-east-1":s.replace(/fips-(dkr-|prod-)?|-fips/,""):s,re=s=>{const{region:A,useFipsEndpoint:T}=s;if(!A)throw new Error("Region is missing");return Object.assign(s,{region:async()=>{if(typeof A=="string")return pe(A);const L=await A();return pe(L)},useFipsEndpoint:async()=>{const L=typeof A=="string"?A:await A();return le(L)?!0:typeof T!="function"?Promise.resolve(!!T):T()}})}},64470:(fe,K,i)=>{i.d(K,{h$:()=>s,mR:()=>L,e:()=>H,wB:()=>$,lW:()=>oe,OC:()=>h,K4:()=>C,te:()=>le,lI:()=>pe.lI,J7:()=>re});var D=i(30145);const M=t=>t[SMITHY_CONTEXT_KEY]||(t[SMITHY_CONTEXT_KEY]={});var k=i(59897);const G=(t,u)=>{if(!u||u.length===0)return t;const I=[];for(const l of u)for(const g of t)g.schemeId.split("#")[1]===l&&I.push(g);for(const l of t)I.find(({schemeId:g})=>g===l.schemeId)||I.push(l);return I};function x(t){const u=new Map;for(const I of t)u.set(I.schemeId,I);return u}const F=(t,u)=>(I,l)=>async g=>{const o=t.httpAuthSchemeProvider(await u.httpAuthSchemeParametersProvider(t,l,g.input)),m=t.authSchemePreference?await t.authSchemePreference():[],n=G(o,m),w=x(t.httpAuthSchemes),E=(0,k.u)(l),d=[];for(const a of n){const b=w.get(a.schemeId);if(!b){d.push(`HttpAuthScheme \`${a.schemeId}\` was not enabled for this service.`);continue}const O=b.identityProvider(await u.identityProviderConfigProvider(t));if(!O){d.push(`HttpAuthScheme \`${a.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:j={},signingProperties:W={}}=a.propertiesExtractor?.(t,l)||{};a.identityProperties=Object.assign(a.identityProperties||{},j),a.signingProperties=Object.assign(a.signingProperties||{},W),E.selectedHttpAuthScheme={httpAuthOption:a,identity:await O(a.identityProperties),signer:b.signer};break}if(!E.selectedHttpAuthScheme)throw new Error(d.join(`
`));return I(g)},N={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},$=(t,{httpAuthSchemeParametersProvider:u,identityProviderConfigProvider:I})=>({applyToStack:l=>{l.addRelativeTo(F(t,{httpAuthSchemeParametersProvider:u,identityProviderConfigProvider:I}),N)}});var p=i(2818);const S={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:p.Ou.name},U=(t,{httpAuthSchemeParametersProvider:u,identityProviderConfigProvider:I})=>({applyToStack:l=>{l.addRelativeTo(httpAuthSchemeMiddleware(t,{httpAuthSchemeParametersProvider:u,identityProviderConfigProvider:I}),S)}});var J=i(17365);const P=t=>u=>{throw u},V=(t,u)=>{},X=t=>(u,I)=>async l=>{if(!J.Kd.isInstance(l.request))return u(l);const o=(0,k.u)(I).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:m={}},identity:n,signer:w}=o,E=await u({...l,request:await w.sign(l.request,n,m)}).catch((w.errorHandler||P)(m));return(w.successHandler||V)(E.response,m),E},ne={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},oe=t=>({applyToStack:u=>{u.addRelativeTo(X(t),ne)}}),le=t=>{if(typeof t=="function")return t;const u=Promise.resolve(t);return()=>u};var pe=i(81432);function re(t,u,I){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[u]=I}class s{constructor(u){this.authSchemes=new Map;for(const[I,l]of Object.entries(u))l!==void 0&&this.authSchemes.set(I,l)}getIdentityProvider(u){return this.authSchemes.get(u)}}class A{async sign(u,I,l){if(!l)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!l.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!l.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!I.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");const g=HttpRequest.clone(u);if(l.in===HttpApiKeyAuthLocation.QUERY)g.query[l.name]=I.apiKey;else if(l.in===HttpApiKeyAuthLocation.HEADER)g.headers[l.name]=l.scheme?`${l.scheme} ${I.apiKey}`:I.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+l.in+"`");return g}}class T{async sign(u,I,l){const g=HttpRequest.clone(u);if(!I.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return g.headers.Authorization=`Bearer ${I.token}`,g}}class L{async sign(u,I,l){return u}}const h=(t=>u=>H(u)&&u.expiration.getTime()-Date.now()<t)(3e5),H=t=>t.expiration!==void 0,C=(t,u,I)=>{if(t===void 0)return;const l=typeof t!="function"?async()=>Promise.resolve(t):t;let g,o,m,n=!1;const w=async E=>{o||(o=l(E));try{g=await o,m=!0,n=!1}finally{o=void 0}return g};return u===void 0?async E=>((!m||E?.forceRefresh)&&(g=await w(E)),g):async E=>((!m||E?.forceRefresh)&&(g=await w(E)),n?g:I(g)?(u(g)&&await w(E),g):(n=!0,g))}},81432:(fe,K,i)=>{i.d(K,{Px:()=>M,$6:()=>k,lI:()=>U});var D=i(47262);const M=async(re=new Uint8Array,s)=>{if(re instanceof Uint8Array)return D.Mu.mutate(re);if(!re)return D.Mu.mutate(new Uint8Array);const A=s.streamCollector(re);return D.Mu.mutate(await A)};function k(re){return encodeURIComponent(re).replace(/[!'()*]/g,function(s){return"%"+s.charCodeAt(0).toString(16).toUpperCase()})}var G=i(99260),x=i(17365),F=i(60693);class N{constructor(s){this.options=s}getRequestType(){return HttpRequest}getResponseType(){return HttpResponse}setSerdeContext(s){this.serdeContext=s,this.serializer.setSerdeContext(s),this.deserializer.setSerdeContext(s),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(s)}updateServiceEndpoint(s,A){if("url"in A){s.protocol=A.url.protocol,s.hostname=A.url.hostname,s.port=A.url.port?Number(A.url.port):void 0,s.path=A.url.pathname,s.fragment=A.url.hash||void 0,s.username=A.url.username||void 0,s.password=A.url.password||void 0;for(const[T,L]of A.url.searchParams.entries())s.query||(s.query={}),s.query[T]=L;return s}else return s.protocol=A.protocol,s.hostname=A.hostname,s.port=A.port?Number(A.port):void 0,s.path=A.path,s.query={...A.query},s}setHostPrefix(s,A,T){const L=NormalizedSchema.of(A),B=NormalizedSchema.of(A.input);if(L.getMergedTraits().endpoint){let c=L.getMergedTraits().endpoint?.[0];if(typeof c=="string"){const h=[...B.structIterator()].filter(([,H])=>H.getMergedTraits().hostLabel);for(const[H]of h){const C=T[H];if(typeof C!="string")throw new Error(`@smithy/core/schema - ${H} in input must be a string as hostLabel.`);c=c.replace(`{${H}}`,C)}s.hostname=c+s.hostname}}}deserializeMetadata(s){return{httpStatusCode:s.statusCode,requestId:s.headers["x-amzn-requestid"]??s.headers["x-amzn-request-id"]??s.headers["x-amz-request-id"],extendedRequestId:s.headers["x-amz-id-2"],cfId:s.headers["x-amz-cf-id"]}}async deserializeHttpMessage(s,A,T,L,B){let c;L instanceof Set?c=B:c=L;const h=this.deserializer,H=NormalizedSchema.of(s),C=[];for(const[t,u]of H.structIterator()){const I=u.getMemberTraits();if(I.httpPayload){if(u.isStreaming())if(u.isStructSchema()){const o=this.serdeContext;if(!o.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");const m=u.getMemberSchemas();c[t]=o.eventStreamMarshaller.deserialize(T.body,async n=>{const w=Object.keys(n).find(E=>E!=="__type")??"";if(w in m){const E=m[w];return{[w]:await h.read(E,n[w].body)}}else return{$unknown:n}})}else c[t]=sdkStreamMixin(T.body);else if(T.body){const g=await collectBody(T.body,A);g.byteLength>0&&(c[t]=await h.read(u,g))}}else if(I.httpHeader){const l=String(I.httpHeader).toLowerCase(),g=T.headers[l];if(g!=null)if(u.isListSchema()){const o=u.getValueSchema();let m;o.isTimestampSchema()&&o.getSchema()===SCHEMA.TIMESTAMP_DEFAULT?m=splitEvery(g,",",2):m=splitHeader(g);const n=[];for(const w of m)n.push(await h.read([o,{httpHeader:l}],w.trim()));c[t]=n}else c[t]=await h.read(u,g)}else if(I.httpPrefixHeaders!==void 0){c[t]={};for(const[l,g]of Object.entries(T.headers))l.startsWith(I.httpPrefixHeaders)&&(c[t][l.slice(I.httpPrefixHeaders.length)]=await h.read([u.getValueSchema(),{httpHeader:l}],g))}else I.httpResponseCode?c[t]=T.statusCode:C.push(t)}return C}}class $ extends null{async serializeRequest(s,A,T){const L=this.serializer,B={},c={},h=await T.endpoint(),H=NormalizedSchema.of(s?.input),C=H.getSchema();let t=!1,u;const I=new HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:B,headers:c,body:void 0});if(h){this.updateServiceEndpoint(I,h),this.setHostPrefix(I,s,A);const g=NormalizedSchema.translateTraits(s.traits);if(g.http){I.method=g.http[0];const[o,m]=g.http[1].split("?");I.path=="/"?I.path=o:I.path+=o;const n=new URLSearchParams(m??"");Object.assign(B,Object.fromEntries(n))}}const l={...A};for(const g of Object.keys(l)){const o=H.getMemberSchema(g);if(o===void 0)continue;const m=o.getMergedTraits(),n=l[g];if(m.httpPayload)if(o.isStreaming()){if(o.isStructSchema())throw new Error("serialization of event streams is not yet implemented");u=n}else L.write(o,n),u=L.flush();else if(m.httpLabel){L.write(o,n);const w=L.flush();I.path.includes(`{${g}+}`)?I.path=I.path.replace(`{${g}+}`,w.split("/").map(extendedEncodeURIComponent).join("/")):I.path.includes(`{${g}}`)&&(I.path=I.path.replace(`{${g}}`,extendedEncodeURIComponent(w))),delete l[g]}else if(m.httpHeader)L.write(o,n),c[m.httpHeader.toLowerCase()]=String(L.flush()),delete l[g];else if(typeof m.httpPrefixHeaders=="string"){for(const[w,E]of Object.entries(n)){const d=m.httpPrefixHeaders+w;L.write([o.getValueSchema(),{httpHeader:d}],E),c[d.toLowerCase()]=L.flush()}delete l[g]}else m.httpQuery||m.httpQueryParams?(this.serializeQuery(o,n,B),delete l[g]):t=!0}return t&&A&&(L.write(C,l),u=L.flush()),I.headers=c,I.query=B,I.body=u,I}serializeQuery(s,A,T){const L=this.serializer,B=s.getMergedTraits();if(B.httpQueryParams){for(const[c,h]of Object.entries(A))c in T||this.serializeQuery(NormalizedSchema.of([s.getValueSchema(),{...B,httpQuery:c,httpQueryParams:void 0}]),h,T);return}if(s.isListSchema()){const c=!!s.getMergedTraits().sparse,h=[];for(const H of A){L.write([s.getValueSchema(),B],H);const C=L.flush();(c||C!==void 0)&&h.push(C)}T[B.httpQuery]=h}else L.write([s,B],A),T[B.httpQuery]=L.flush()}async deserializeResponse(s,A,T){const L=this.deserializer,B=NormalizedSchema.of(s.output),c={};if(T.statusCode>=300){const C=await collectBody(T.body,A);throw C.byteLength>0&&Object.assign(c,await L.read(SCHEMA.DOCUMENT,C)),await this.handleError(s,A,T,c,this.deserializeMetadata(T)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(const C in T.headers){const t=T.headers[C];delete T.headers[C],T.headers[C.toLowerCase()]=t}const h=await this.deserializeHttpMessage(B,A,T,c);if(h.length){const C=await collectBody(T.body,A);if(C.byteLength>0){const t=await L.read(B,C);for(const u of h)c[u]=t[u]}}return{$metadata:this.deserializeMetadata(T),...c}}}class p extends null{async serializeRequest(s,A,T){const L=this.serializer,B={},c={},h=await T.endpoint(),C=NormalizedSchema.of(s?.input).getSchema();let t;const u=new HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:B,headers:c,body:void 0});h&&(this.updateServiceEndpoint(u,h),this.setHostPrefix(u,s,A));const I={...A};return A&&(L.write(C,I),t=L.flush()),u.headers=c,u.query=B,u.body=t,u.method="POST",u}async deserializeResponse(s,A,T){const L=this.deserializer,B=NormalizedSchema.of(s.output),c={};if(T.statusCode>=300){const C=await collectBody(T.body,A);throw C.byteLength>0&&Object.assign(c,await L.read(SCHEMA.DOCUMENT,C)),await this.handleError(s,A,T,c,this.deserializeMetadata(T)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(const C in T.headers){const t=T.headers[C];delete T.headers[C],T.headers[C.toLowerCase()]=t}const h=await collectBody(T.body,A);return h.byteLength>0&&Object.assign(c,await L.read(B,h)),{$metadata:this.deserializeMetadata(T),...c}}}const S=(re,s,A,T,L,B)=>{if(s!=null&&s[A]!==void 0){const c=T();if(c.length<=0)throw new Error("Empty value provided for input HTTP label: "+A+".");re=re.replace(L,B?c.split("/").map(h=>k(h)).join("/"):k(c))}else throw new Error("No value provided for input HTTP label: "+A+".");return re};function U(re,s){return new J(re,s)}class J{constructor(s,A){this.input=s,this.context=A,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:s,protocol:A="https",port:T,path:L}=await this.context.endpoint();this.path=L;for(const B of this.resolvePathStack)B(this.path);return new x.Kd({protocol:A,hostname:this.hostname||s,port:T,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(s){return this.hostname=s,this}bp(s){return this.resolvePathStack.push(A=>{this.path=`${A?.endsWith("/")?A.slice(0,-1):A||""}`+s}),this}p(s,A,T,L){return this.resolvePathStack.push(B=>{this.path=S(B,this.input,s,A,T,L)}),this}h(s){return this.headers=s,this}q(s){return this.query=s,this}b(s){return this.body=s,this}m(s){return this.method=s,this}}var P=i(21654),V=i(11347);function X(re,s){if(s.timestampFormat.useTrait&&re.isTimestampSchema()&&(re.getSchema()===SCHEMA.TIMESTAMP_DATE_TIME||re.getSchema()===SCHEMA.TIMESTAMP_HTTP_DATE||re.getSchema()===SCHEMA.TIMESTAMP_EPOCH_SECONDS))return re.getSchema();const{httpLabel:A,httpPrefixHeaders:T,httpHeader:L,httpQuery:B}=re.getMergedTraits();return(s.httpBindings?typeof T=="string"||Boolean(L)?SCHEMA.TIMESTAMP_HTTP_DATE:Boolean(B)||Boolean(A)?SCHEMA.TIMESTAMP_DATE_TIME:void 0:void 0)??s.timestampFormat.default}class ne{constructor(s){this.settings=s}setSerdeContext(s){this.serdeContext=s}read(s,A){const T=NormalizedSchema.of(s);if(T.isListSchema())return splitHeader(A).map(L=>this.read(T.getValueSchema(),L));if(T.isBlobSchema())return(this.serdeContext?.base64Decoder??fromBase64)(A);if(T.isTimestampSchema())switch(determineTimestampFormat(T,this.settings)){case SCHEMA.TIMESTAMP_DATE_TIME:return parseRfc3339DateTimeWithOffset(A);case SCHEMA.TIMESTAMP_HTTP_DATE:return parseRfc7231DateTime(A);case SCHEMA.TIMESTAMP_EPOCH_SECONDS:return parseEpochTimestamp(A);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",A),new Date(A)}if(T.isStringSchema()){const L=T.getMergedTraits().mediaType;let B=A;if(L)return T.getMergedTraits().httpHeader&&(B=this.base64ToUtf8(B)),(L==="application/json"||L.endsWith("+json"))&&(B=LazyJsonString.from(B)),B}switch(!0){case T.isNumericSchema():return Number(A);case T.isBigIntegerSchema():return BigInt(A);case T.isBigDecimalSchema():return new NumericValue(A,"bigDecimal");case T.isBooleanSchema():return String(A).toLowerCase()==="true"}return A}base64ToUtf8(s){return(this.serdeContext?.utf8Encoder??toUtf8)((this.serdeContext?.base64Decoder??fromBase64)(s))}}class oe{constructor(s,A){this.codecDeserializer=s,this.stringDeserializer=new FromStringShapeDeserializer(A)}setSerdeContext(s){this.stringDeserializer.setSerdeContext(s),this.codecDeserializer.setSerdeContext(s),this.serdeContext=s}read(s,A){const T=NormalizedSchema.of(s),L=T.getMergedTraits(),B=this.serdeContext?.utf8Encoder??toUtf8;if(L.httpHeader||L.httpResponseCode)return this.stringDeserializer.read(T,B(A));if(L.httpPayload){if(T.isBlobSchema()){const c=this.serdeContext?.utf8Decoder??fromUtf8;return typeof A=="string"?c(A):A}else if(T.isStringSchema())return"byteLength"in A?B(A):A}return this.codecDeserializer.read(T,A)}}class le{constructor(s){this.settings=s,this.stringBuffer="",this.serdeContext=void 0}setSerdeContext(s){this.serdeContext=s}write(s,A){const T=NormalizedSchema.of(s);switch(typeof A){case"object":if(A===null){this.stringBuffer="null";return}if(T.isTimestampSchema()){if(!(A instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${A} when schema expected Date in ${T.getName(!0)}`);switch(determineTimestampFormat(T,this.settings)){case SCHEMA.TIMESTAMP_DATE_TIME:this.stringBuffer=A.toISOString().replace(".000Z","Z");break;case SCHEMA.TIMESTAMP_HTTP_DATE:this.stringBuffer=dateToUtcString(A);break;case SCHEMA.TIMESTAMP_EPOCH_SECONDS:this.stringBuffer=String(A.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",A),this.stringBuffer=String(A.getTime()/1e3)}return}if(T.isBlobSchema()&&"byteLength"in A){this.stringBuffer=(this.serdeContext?.base64Encoder??toBase64)(A);return}if(T.isListSchema()&&Array.isArray(A)){let c="";for(const h of A){this.write([T.getValueSchema(),T.getMergedTraits()],h);const H=this.flush(),C=T.getValueSchema().isTimestampSchema()?H:quoteHeader(H);c!==""&&(c+=", "),c+=C}this.stringBuffer=c;return}this.stringBuffer=JSON.stringify(A,null,2);break;case"string":const L=T.getMergedTraits().mediaType;let B=A;if(L&&((L==="application/json"||L.endsWith("+json"))&&(B=LazyJsonString.from(B)),T.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??toBase64)(B.toString());return}this.stringBuffer=A;break;default:this.stringBuffer=String(A)}}flush(){const s=this.stringBuffer;return this.stringBuffer="",s}}class pe{constructor(s,A,T=new ToStringShapeSerializer(A)){this.codecSerializer=s,this.stringSerializer=T}setSerdeContext(s){this.codecSerializer.setSerdeContext(s),this.stringSerializer.setSerdeContext(s)}write(s,A){const T=NormalizedSchema.of(s),L=T.getMergedTraits();if(L.httpHeader||L.httpLabel||L.httpQuery){this.stringSerializer.write(T,A),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(T,A)}flush(){if(this.buffer!==void 0){const s=this.buffer;return this.buffer=void 0,s}return this.codecSerializer.flush()}}},99260:(fe,K,i)=>{var D=i(17365),M=i(59897);const k=B=>(c,h)=>async H=>{const{response:C}=await c(H),{operationSchema:t}=getSmithyContext(h);try{const u=await B.protocol.deserializeResponse(t,{...B,...h},C);return{response:C,output:u}}catch(u){if(Object.defineProperty(u,"$response",{value:C}),!("$metadata"in u)){const I="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{u.message+=`
  `+I}catch{!h.logger||h.logger?.constructor?.name==="NoOpLogger"?console.warn(I):h.logger?.warn?.(I)}typeof u.$responseBodyText<"u"&&u.$response&&(u.$response.body=u.$responseBodyText);try{if(HttpResponse.isInstance(C)){const{headers:l={}}=C,g=Object.entries(l);u.$metadata={httpStatusCode:C.statusCode,requestId:G(/^x-[\w-]+-request-?id$/,g),extendedRequestId:G(/^x-[\w-]+-id-2$/,g),cfId:G(/^x-[\w-]+-cf-id$/,g)}}}catch{}}throw u}},G=(B,c)=>(c.find(([h])=>h.match(B))||[void 0,void 0])[1],x=B=>(c,h)=>async H=>{const{operationSchema:C}=getSmithyContext(h),t=h.endpointV2?.url&&B.urlParser?async()=>B.urlParser(h.endpointV2.url):B.endpoint,u=await B.protocol.serializeRequest(C,H.input,{...B,...h,endpoint:t});return c({...H,request:u})},F={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},N={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function $(B){return{applyToStack:c=>{c.add(schemaSerializationMiddleware(B),N),c.add(schemaDeserializationMiddleware(B),F),B.protocol.setSerdeContext(B)}}}class p{constructor(c,h=new Map){this.namespace=c,this.schemas=h}static for(c){return p.registries.has(c)||p.registries.set(c,new p(c)),p.registries.get(c)}register(c,h){const H=this.normalizeShapeId(c);p.for(this.getNamespace(c)).schemas.set(H,h)}getSchema(c){const h=this.normalizeShapeId(c);if(!this.schemas.has(h))throw new Error(`@smithy/core/schema - schema not found for ${h}`);return this.schemas.get(h)}getBaseException(){for(const[c,h]of this.schemas.entries())if(c.startsWith("smithy.ts.sdk.synthetic.")&&c.endsWith("ServiceException"))return h}find(c){return[...this.schemas.values()].find(c)}destroy(){p.registries.delete(this.namespace),this.schemas.clear()}normalizeShapeId(c){return c.includes("#")?c:this.namespace+"#"+c}getNamespace(c){return this.normalizeShapeId(c).split("#")[0]}}p.registries=new Map;class S{constructor(c,h){this.name=c,this.traits=h}}class U extends S{constructor(c,h,H){super(c,h),this.name=c,this.traits=h,this.valueSchema=H}}function J(B,c,h={},H){const C=new U(B+"#"+c,h,typeof H=="function"?H():H);return TypeRegistry.for(B).register(c,C),C}class P extends S{constructor(c,h,H,C){super(c,h),this.name=c,this.traits=h,this.keySchema=H,this.valueSchema=C}}function V(B,c,h={},H,C){const t=new P(B+"#"+c,h,H,typeof C=="function"?C():C);return TypeRegistry.for(B).register(c,t),t}class X extends S{constructor(c,h,H,C){super(c,h),this.name=c,this.traits=h,this.input=H,this.output=C}}function ne(B,c,h={},H,C){const t=new X(B+"#"+c,h,H,C);return TypeRegistry.for(B).register(c,t),t}class oe extends S{constructor(c,h,H,C){super(c,h),this.name=c,this.traits=h,this.memberNames=H,this.memberList=C,this.members={};for(let t=0;t<H.length;++t)this.members[H[t]]=Array.isArray(C[t])?C[t]:[C[t],0]}}function le(B,c,h,H,C){const t=new oe(B+"#"+c,h,H,C);return TypeRegistry.for(B).register(c,t),t}class pe extends oe{constructor(c,h,H,C,t){super(c,h,H,C),this.name=c,this.traits=h,this.memberNames=H,this.memberList=C,this.ctor=t}}function re(B,c,h={},H,C,t){const u=new pe(B+"#"+c,h,H,C,t);return TypeRegistry.for(B).register(c,u),u}const s={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128};class A extends S{constructor(c,h,H){super(c,H),this.name=c,this.schemaRef=h,this.traits=H}}function T(B,c,h,H){const C=new A(B+"#"+c,h,H);return TypeRegistry.for(B).register(c,C),C}class L{constructor(c,h){this.ref=c,this.memberName=h;const H=[];let C=c,t=c;for(this._isMemberSchema=!1;Array.isArray(C);)H.push(C[1]),C=C[0],t=deref(C),this._isMemberSchema=!0;if(H.length>0){this.memberTraits={};for(let u=H.length-1;u>=0;--u){const I=H[u];Object.assign(this.memberTraits,L.translateTraits(I))}}else this.memberTraits=0;if(t instanceof L){this.name=t.name,this.traits=t.traits,this._isMemberSchema=t._isMemberSchema,this.schema=t.schema,this.memberTraits=Object.assign({},t.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.ref=t.ref,this.memberName=h??t.memberName;return}if(this.schema=deref(t),this.schema&&typeof this.schema=="object"?this.traits=this.schema?.traits??{}:this.traits=0,this.name=(typeof this.schema=="object"?this.schema?.name:void 0)??this.memberName??this.getSchemaName(),this._isMemberSchema&&!h)throw new Error(`@smithy/core/schema - NormalizedSchema member schema ${this.getName(!0)} must initialize with memberName argument.`)}static of(c,h){return c instanceof L?c:new L(c,h)}static translateTraits(c){if(typeof c=="object")return c;c=c|0;const h={};return(c&1)===1&&(h.httpLabel=1),(c>>1&1)===1&&(h.idempotent=1),(c>>2&1)===1&&(h.idempotencyToken=1),(c>>3&1)===1&&(h.sensitive=1),(c>>4&1)===1&&(h.httpPayload=1),(c>>5&1)===1&&(h.httpResponseCode=1),(c>>6&1)===1&&(h.httpQueryParams=1),h}static memberFrom(c,h){return c instanceof L?(c.memberName=h,c._isMemberSchema=!0,c):new L(c,h)}getSchema(){return this.schema instanceof L?this.schema=this.schema.getSchema():this.schema instanceof SimpleSchema?deref(this.schema.schemaRef):deref(this.schema)}getName(c=!1){return!c&&this.name&&this.name.includes("#")?this.name.split("#")[1]:this.name||void 0}getMemberName(){if(!this.isMemberSchema())throw new Error(`@smithy/core/schema - cannot get member name on non-member schema: ${this.getName(!0)}`);return this.memberName}isMemberSchema(){return this._isMemberSchema}isUnitSchema(){return this.getSchema()==="unit"}isListSchema(){const c=this.getSchema();return typeof c=="number"?c>=SCHEMA.LIST_MODIFIER&&c<SCHEMA.MAP_MODIFIER:c instanceof ListSchema}isMapSchema(){const c=this.getSchema();return typeof c=="number"?c>=SCHEMA.MAP_MODIFIER&&c<=255:c instanceof MapSchema}isDocumentSchema(){return this.getSchema()===SCHEMA.DOCUMENT}isStructSchema(){const c=this.getSchema();return c!==null&&typeof c=="object"&&"members"in c||c instanceof StructureSchema}isBlobSchema(){return this.getSchema()===SCHEMA.BLOB||this.getSchema()===SCHEMA.STREAMING_BLOB}isTimestampSchema(){const c=this.getSchema();return typeof c=="number"&&c>=SCHEMA.TIMESTAMP_DEFAULT&&c<=SCHEMA.TIMESTAMP_EPOCH_SECONDS}isStringSchema(){return this.getSchema()===SCHEMA.STRING}isBooleanSchema(){return this.getSchema()===SCHEMA.BOOLEAN}isNumericSchema(){return this.getSchema()===SCHEMA.NUMERIC}isBigIntegerSchema(){return this.getSchema()===SCHEMA.BIG_INTEGER}isBigDecimalSchema(){return this.getSchema()===SCHEMA.BIG_DECIMAL}isStreaming(){return this.getMergedTraits().streaming?!0:this.getSchema()===SCHEMA.STREAMING_BLOB}getMergedTraits(){return this.normalizedTraits?this.normalizedTraits:(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()},this.normalizedTraits)}getMemberTraits(){return L.translateTraits(this.memberTraits)}getOwnTraits(){return L.translateTraits(this.traits)}getKeySchema(){if(this.isDocumentSchema())return L.memberFrom([SCHEMA.DOCUMENT,0],"key");if(!this.isMapSchema())throw new Error(`@smithy/core/schema - cannot get key schema for non-map schema: ${this.getName(!0)}`);const c=this.getSchema();return typeof c=="number"?L.memberFrom([63&c,0],"key"):L.memberFrom([c.keySchema,0],"key")}getValueSchema(){const c=this.getSchema();if(typeof c=="number"){if(this.isMapSchema())return L.memberFrom([63&c,0],"value");if(this.isListSchema())return L.memberFrom([63&c,0],"member")}if(c&&typeof c=="object"){if(this.isStructSchema())throw new Error(`cannot call getValueSchema() with StructureSchema ${this.getName(!0)}`);const h=c;if("valueSchema"in h){if(this.isMapSchema())return L.memberFrom([h.valueSchema,0],"value");if(this.isListSchema())return L.memberFrom([h.valueSchema,0],"member")}}if(this.isDocumentSchema())return L.memberFrom([SCHEMA.DOCUMENT,0],"value");throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a value member.`)}getMemberSchema(c){if(this.isStructSchema()){const h=this.getSchema();if(!(c in h.members))throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have a member with name=${c}.`);return L.memberFrom(h.members[c],c)}if(this.isDocumentSchema())return L.memberFrom([SCHEMA.DOCUMENT,0],c);throw new Error(`@smithy/core/schema - the schema ${this.getName(!0)} does not have members.`)}getMemberSchemas(){const{schema:c}=this,h=c;if(!h||typeof h!="object")return{};if("members"in h){const H={};for(const C of h.memberNames)H[C]=this.getMemberSchema(C);return H}return{}}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot acquire structIterator on non-struct schema.");const c=this.getSchema();for(let h=0;h<c.memberNames.length;++h)yield[c.memberNames[h],L.memberFrom([c.memberList[h],0],c.memberNames[h])]}getSchemaName(){const c=this.getSchema();if(typeof c=="number"){const h=63&c,H=192&c,C=Object.entries(SCHEMA).find(([,t])=>t===h)?.[0]??"Unknown";switch(H){case SCHEMA.MAP_MODIFIER:return`${C}Map`;case SCHEMA.LIST_MODIFIER:return`${C}List`;case 0:return C}}return"Unknown"}}},60693:(fe,K,i)=>{i.d(K,{ET:()=>S,Y0:()=>X,r$:()=>x,Xk:()=>ne,lK:()=>oe,l3:()=>de,EI:()=>d,t_:()=>b,xW:()=>u});var D=i(99260);const M=(r,f,_=z=>z)=>{const z=NormalizedSchema.of(f);switch(typeof r){case"undefined":case"boolean":case"number":case"string":case"bigint":case"symbol":return _(r,z);case"function":case"object":if(r===null)return _(null,z);if(Array.isArray(r)){const Z=new Array(r.length);let ee=0;for(const ue of r)Z[ee++]=M(ue,z.getValueSchema(),_);return _(Z,z)}if("byteLength"in r){const Z=new Uint8Array(r.byteLength);return Z.set(r,0),_(Z,z)}if(r instanceof Date)return _(r,z);const Q={};if(z.isMapSchema())for(const Z of Object.keys(r))Q[Z]=M(r[Z],z.getValueSchema(),_);else if(z.isStructSchema())for(const[Z,ee]of z.structIterator())Q[Z]=M(r[Z],ee,_);else if(z.isDocumentSchema())for(const Z of Object.keys(r))Q[Z]=M(r[Z],z.getValueSchema(),_);return _(Q,z);default:return _(r,z)}},k=r=>{switch(r){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${r}"`)}},G=r=>{if(r!=null){if(typeof r=="number"){if((r===0||r===1)&&o.warn(g(`Expected boolean, got ${typeof r}: ${r}`)),r===0)return!1;if(r===1)return!0}if(typeof r=="string"){const f=r.toLowerCase();if((f==="false"||f==="true")&&o.warn(g(`Expected boolean, got ${typeof r}: ${r}`)),f==="false")return!1;if(f==="true")return!0}if(typeof r=="boolean")return r;throw new TypeError(`Expected boolean, got ${typeof r}: ${r}`)}},x=r=>{if(r!=null){if(typeof r=="string"){const f=parseFloat(r);if(!Number.isNaN(f))return String(f)!==String(r)&&o.warn(g(`Expected number but observed string: ${r}`)),f}if(typeof r=="number")return r;throw new TypeError(`Expected number, got ${typeof r}: ${r}`)}},F=Math.ceil(2**127*(2-2**-23)),N=r=>{const f=x(r);if(f!==void 0&&!Number.isNaN(f)&&f!==1/0&&f!==-1/0&&Math.abs(f)>F)throw new TypeError(`Expected 32-bit float, got ${r}`);return f},$=r=>{if(r!=null){if(Number.isInteger(r)&&!Number.isNaN(r))return r;throw new TypeError(`Expected integer, got ${typeof r}: ${r}`)}},p=null,S=r=>P(r,32),U=r=>P(r,16),J=r=>P(r,8),P=(r,f)=>{const _=$(r);if(_!==void 0&&V(_,f)!==_)throw new TypeError(`Expected ${f}-bit integer, got ${r}`);return _},V=(r,f)=>{switch(f){case 32:return Int32Array.of(r)[0];case 16:return Int16Array.of(r)[0];case 8:return Int8Array.of(r)[0]}},X=(r,f)=>{if(r==null)throw f?new TypeError(`Expected a non-null value for ${f}`):new TypeError("Expected a non-null value");return r},ne=r=>{if(r==null)return;if(typeof r=="object"&&!Array.isArray(r))return r;const f=Array.isArray(r)?"array":typeof r;throw new TypeError(`Expected object, got ${f}: ${r}`)},oe=r=>{if(r!=null){if(typeof r=="string")return r;if(["boolean","number","bigint"].includes(typeof r))return o.warn(g(`Expected string, got ${typeof r}: ${r}`)),String(r);throw new TypeError(`Expected string, got ${typeof r}: ${r}`)}},le=r=>{if(r==null)return;const f=ne(r),_=Object.entries(f).filter(([,z])=>z!=null).map(([z])=>z);if(_.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(_.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${_} were not null.`);return f},pe=r=>x(typeof r=="string"?T(r):r),re=null,s=r=>N(typeof r=="string"?T(r):r),A=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,T=r=>{const f=r.match(A);if(f===null||f[0].length!==r.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(r)},L=r=>typeof r=="string"?H(r):x(r),B=null,c=null,h=r=>typeof r=="string"?H(r):N(r),H=r=>{switch(r){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${r}`)}},C=r=>$(typeof r=="string"?T(r):r),t=null,u=r=>S(typeof r=="string"?T(r):r),I=r=>U(typeof r=="string"?T(r):r),l=r=>J(typeof r=="string"?T(r):r),g=r=>String(new TypeError(r).stack||r).split(`
`).slice(0,5).filter(f=>!f.includes("stackTraceWarning")).join(`
`),o={warn:console.warn},m=null,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function w(r){const f=r.getUTCFullYear(),_=r.getUTCMonth(),z=r.getUTCDay(),Q=r.getUTCDate(),Z=r.getUTCHours(),ee=r.getUTCMinutes(),ue=r.getUTCSeconds(),ye=Q<10?`0${Q}`:`${Q}`,ge=Z<10?`0${Z}`:`${Z}`,Te=ee<10?`0${ee}`:`${ee}`,ve=ue<10?`0${ue}`:`${ue}`;return`${m[z]}, ${ye} ${n[_]} ${f} ${ge}:${Te}:${ve} GMT`}const E=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),d=r=>{if(r==null)return;if(typeof r!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const f=E.exec(r);if(!f)throw new TypeError("Invalid RFC-3339 date-time value");const[_,z,Q,Z,ee,ue,ye,ge]=f,Te=I(Ne(z)),ve=ce(Q,"month",1,12),be=ce(Z,"day",1,31);return se(Te,ve,be,{hours:ee,minutes:ue,seconds:ye,fractionalMilliseconds:ge})},a=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),b=r=>{if(r==null)return;if(typeof r!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");const f=a.exec(r);if(!f)throw new TypeError("Invalid RFC-3339 date-time value");const[_,z,Q,Z,ee,ue,ye,ge,Te]=f,ve=I(Ne(z)),be=ce(Q,"month",1,12),De=ce(Z,"day",1,31),Me=se(ve,be,De,{hours:ee,minutes:ue,seconds:ye,fractionalMilliseconds:ge});return Te.toUpperCase()!="Z"&&Me.setTime(Me.getTime()-Ce(Te)),Me},O=null,j=null,W=null,q=r=>{if(r==null)return;if(typeof r!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let f=O.exec(r);if(f){const[_,z,Q,Z,ee,ue,ye,ge]=f;return se(strictParseShort(Ne(Z)),Y(Q),ce(z,"day",1,31),{hours:ee,minutes:ue,seconds:ye,fractionalMilliseconds:ge})}if(f=j.exec(r),f){const[_,z,Q,Z,ee,ue,ye,ge]=f;return ie(se(me(Z),Y(Q),ce(z,"day",1,31),{hours:ee,minutes:ue,seconds:ye,fractionalMilliseconds:ge}))}if(f=W.exec(r),f){const[_,z,Q,Z,ee,ue,ye,ge]=f;return se(strictParseShort(Ne(ge)),Y(z),ce(Q.trimLeft(),"day",1,31),{hours:Z,minutes:ee,seconds:ue,fractionalMilliseconds:ye})}throw new TypeError("Invalid RFC-7231 date-time value")},de=r=>{if(r==null)return;let f;if(typeof r=="number")f=r;else if(typeof r=="string")f=pe(r);else if(typeof r=="object"&&r.tag===1)f=r.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(f)||f===1/0||f===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(f*1e3))},se=(r,f,_,z)=>{const Q=f-1;return he(r,Q,_),new Date(Date.UTC(r,Q,_,ce(z.hours,"hour",0,23),ce(z.minutes,"minute",0,59),ce(z.seconds,"seconds",0,60),Ee(z.fractionalMilliseconds)))},me=r=>{const f=new Date().getUTCFullYear(),_=Math.floor(f/100)*100+strictParseShort(Ne(r));return _<f?_+100:_},Ae=null,ie=r=>r.getTime()-new Date().getTime()>Ae?new Date(Date.UTC(r.getUTCFullYear()-100,r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())):r,Y=r=>{const f=n.indexOf(r);if(f<0)throw new TypeError(`Invalid month: ${r}`);return f+1},te=[31,28,31,30,31,30,31,31,30,31,30,31],he=(r,f,_)=>{let z=te[f];if(f===1&&Se(r)&&(z=29),_>z)throw new TypeError(`Invalid day for ${n[f]} in ${r}: ${_}`)},Se=r=>r%4===0&&(r%100!==0||r%400===0),ce=(r,f,_,z)=>{const Q=l(Ne(r));if(Q<_||Q>z)throw new TypeError(`${f} must be between ${_} and ${z}, inclusive`);return Q},Ee=r=>r==null?0:s("0."+r)*1e3,Ce=r=>{const f=r[0];let _=1;if(f=="+")_=1;else if(f=="-")_=-1;else throw new TypeError(`Offset direction, ${f}, must be "+" or "-"`);const z=Number(r.substring(1,3)),Q=Number(r.substring(4,6));return _*(z*60+Q)*60*1e3},Ne=r=>{let f=0;for(;f<r.length-1&&r.charAt(f)==="0";)f++;return f===0?r:r.slice(f)},Re=function(f){return Object.assign(new String(f),{deserializeJSON(){return JSON.parse(String(f))},toString(){return String(f)},toJSON(){return String(f)}})};Re.from=r=>r&&typeof r=="object"&&(r instanceof Re||"deserializeJSON"in r)?r:typeof r=="string"||Object.getPrototypeOf(r)===String.prototype?Re(String(r)):Re(JSON.stringify(r)),Re.fromObject=Re.from},35399:(fe,K,i)=>{i.d(K,{V:()=>N});var D=i(69867),M=i(11347),k=i(20181),G=i.n(k),x=i(76982),F=i.n(x);class N{constructor(S,U){this.algorithmIdentifier=S,this.secret=U,this.reset()}update(S,U){this.hash.update((0,M.Fo)($(S,U)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,x.createHmac)(this.algorithmIdentifier,$(this.secret)):(0,x.createHash)(this.algorithmIdentifier)}}function $(p,S){return k.Buffer.isBuffer(p)?p:typeof p=="string"?(0,D.s)(p,S):ArrayBuffer.isView(p)?(0,D.Q)(p.buffer,p.byteOffset,p.byteLength):(0,D.Q)(p)}},33593:(fe,K,i)=>{i.d(K,{m:()=>D});const D=M=>typeof ArrayBuffer=="function"&&M instanceof ArrayBuffer||Object.prototype.toString.call(M)==="[object ArrayBuffer]"},5655:(fe,K,i)=>{i.d(K,{vK:()=>x});var D=i(17365);const M="content-length";function k(F){return N=>async $=>{const p=$.request;if(D.Kd.isInstance(p)){const{body:S,headers:U}=p;if(S&&Object.keys(U).map(J=>J.toLowerCase()).indexOf(M)===-1)try{const J=F(S);p.headers={...p.headers,[M]:String(J)}}catch{}}return N({...$,request:p})}}const G={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},x=F=>({applyToStack:N=>{N.add(k(F.bodyLengthChecker),G)}})},84003:(fe,K,i)=>{i.d(K,{rD:()=>B,Co:()=>c});const D=async h=>{const H=h?.Bucket||"";if(typeof h.Bucket=="string"&&(h.Bucket=H.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),$(H)){if(h.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!N(H)||H.indexOf(".")!==-1&&!String(h.Endpoint).startsWith("http:")||H.toLowerCase()!==H||H.length<3)&&(h.ForcePathStyle=!0);return h.DisableMultiRegionAccessPoints&&(h.disableMultiRegionAccessPoints=!0,h.DisableMRAP=!0),h},M=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,k=/(\d+\.){3}\d+/,G=/\.\./,x=/\./,F=/^(.+\.)?s3(-fips)?(\.dualstack)?[.-]([a-z0-9-]+)\./,N=h=>M.test(h)&&!k.test(h)&&!G.test(h),$=h=>{const[H,C,t,,,u]=h.split(":"),I=H==="arn"&&h.split(":").length>=6,l=Boolean(I&&C&&t&&u);if(I&&!l)throw new Error(`Invalid ARN: ${h} was an invalid ARN.`);return l},p=(h,H,C)=>{const t=async()=>{const u=C[h]??C[H];return typeof u=="function"?u():u};return h==="credentialScope"||H==="CredentialScope"?async()=>{const u=typeof C.credentials=="function"?await C.credentials():C.credentials;return u?.credentialScope??u?.CredentialScope}:h==="accountId"||H==="AccountId"?async()=>{const u=typeof C.credentials=="function"?await C.credentials():C.credentials;return u?.accountId??u?.AccountId}:h==="endpoint"||H==="endpoint"?async()=>{const u=await t();if(u&&typeof u=="object"){if("url"in u)return u.url.href;if("hostname"in u){const{protocol:I,hostname:l,port:g,path:o}=u;return`${I}//${l}${g?":"+g:""}${o}`}}return u}:t};var S=i(44773),U=i(78088);const J="AWS_ENDPOINT_URL",P="endpoint_url",V=h=>({environmentVariableSelector:H=>{const C=h.split(" ").map(I=>I.toUpperCase()),t=H[[J,...C].join("_")];if(t)return t;const u=H[J];if(u)return u},configFileSelector:(H,C)=>{if(C&&H.services){const u=C[["services",H.services].join(U.QD)];if(u){const I=h.split(" ").map(g=>g.toLowerCase()),l=u[[I.join("_"),P].join(U.QD)];if(l)return l}}const t=H[P];if(t)return t},default:void 0}),X=async h=>(0,S.Z)(V(h??""))();var ne=i(17307);const oe=h=>typeof h=="object"?"url"in h?(0,ne.D)(h.url):h:(0,ne.D)(h),le=async(h,H,C,t)=>{if(!C.endpoint){let l;C.serviceConfiguredEndpoint?l=await C.serviceConfiguredEndpoint():l=await X(C.serviceId),l&&(C.endpoint=()=>Promise.resolve(oe(l)))}const u=await pe(h,H,C);if(typeof C.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return C.endpointProvider(u,t)},pe=async(h,H,C)=>{const t={},u=H?.getEndpointParameterInstructions?.()||{};for(const[I,l]of Object.entries(u))switch(l.type){case"staticContextParams":t[I]=l.value;break;case"contextParams":t[I]=h[l.name];break;case"clientContextParams":case"builtInParams":t[I]=await p(l.name,I,C)();break;case"operationContextParams":t[I]=l.get(h);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(l))}return Object.keys(u).length===0&&Object.assign(t,C),String(C.serviceId).toLowerCase()==="s3"&&await D(t),t};var re=i(64470),s=i(59897);const A=({config:h,instructions:H})=>(C,t)=>async u=>{h.endpoint&&(0,re.J7)(t,"ENDPOINT_OVERRIDE","N");const I=await le(u.input,{getEndpointParameterInstructions(){return H}},{...h},t);t.endpointV2=I,t.authSchemes=I.properties?.authSchemes;const l=t.authSchemes?.[0];if(l){t.signing_region=l.signingRegion,t.signing_service=l.signingName;const o=(0,s.u)(t)?.selectedHttpAuthScheme?.httpAuthOption;o&&(o.signingProperties=Object.assign(o.signingProperties||{},{signing_region:l.signingRegion,signingRegion:l.signingRegion,signing_service:l.signingName,signingName:l.signingName,signingRegionSet:l.signingRegionSet},l.properties))}return C({...u})};var T=i(2818);const L={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:T.Ou.name},B=(h,H)=>({applyToStack:C=>{C.addRelativeTo(A({config:h,instructions:H}),L)}}),c=h=>{const H=h.tls??!0,{endpoint:C,useDualstackEndpoint:t,useFipsEndpoint:u}=h,I=C!=null?async()=>oe(await(0,s.t)(C)()):void 0,g=Object.assign(h,{endpoint:I,tls:H,isCustomEndpoint:!!C,useDualstackEndpoint:(0,s.t)(t??!1),useFipsEndpoint:(0,s.t)(u??!1)});let o;return g.serviceConfiguredEndpoint=async()=>(h.serviceId&&!o&&(o=X(h.serviceId)),o),g}},30924:(fe,K,i)=>{i.d(K,{qs:()=>X,kN:()=>pe,ey:()=>u,$z:()=>ne});var D=i(78589),M=i(17365),k=i(81812),G=i(3682);const x=(l,g)=>{const o=l,m=g?.noRetryIncrement??D.XP,n=g?.retryCost??D.XS,w=g?.timeoutRetryCost??D.Rn;let E=l;const d=j=>j.name==="TimeoutError"?w:n,a=j=>d(j)<=E;return Object.freeze({hasRetryTokens:a,retrieveRetryTokens:j=>{if(!a(j))throw new Error("No retry token available");const W=d(j);return E-=W,W},releaseRetryTokens:j=>{E+=j??m,E=Math.min(E,o)}})},F=(l,g)=>Math.floor(Math.min(D.G8,Math.random()*2**g*l)),N=l=>l?(0,k.S0)(l)||(0,k.h5)(l)||(0,k.Qb)(l)||(0,k.bV)(l):!1,$=l=>l instanceof Error?l:l instanceof Object?Object.assign(new Error,l):typeof l=="string"?new Error(l):new Error(`AWS SDK error wrapper for ${l}`);class p{constructor(g,o){this.maxAttemptsProvider=g,this.mode=D.cm.STANDARD,this.retryDecider=o?.retryDecider??N,this.delayDecider=o?.delayDecider??F,this.retryQuota=o?.retryQuota??x(D.Df)}shouldRetry(g,o,m){return o<m&&this.retryDecider(g)&&this.retryQuota.hasRetryTokens(g)}async getMaxAttempts(){let g;try{g=await this.maxAttemptsProvider()}catch{g=D.Gz}return g}async retry(g,o,m){let n,w=0,E=0;const d=await this.getMaxAttempts(),{request:a}=o;for(M.Kd.isInstance(a)&&(a.headers[D.l5]=(0,G.A)());;)try{M.Kd.isInstance(a)&&(a.headers[D.ok]=`attempt=${w+1}; max=${d}`),m?.beforeRequest&&await m.beforeRequest();const{response:b,output:O}=await g(o);return m?.afterRequest&&m.afterRequest(b),this.retryQuota.releaseRetryTokens(n),O.$metadata.attempts=w+1,O.$metadata.totalRetryDelay=E,{response:b,output:O}}catch(b){const O=$(b);if(w++,this.shouldRetry(O,w,d)){n=this.retryQuota.retrieveRetryTokens(O);const j=this.delayDecider((0,k.Qb)(O)?D.jh:D.bp,w),W=S(O.$response),q=Math.max(W||0,j);E+=q,await new Promise(de=>setTimeout(de,q));continue}throw O.$metadata||(O.$metadata={}),O.$metadata.attempts=w,O.$metadata.totalRetryDelay=E,O}}}const S=l=>{if(!M.cS.isInstance(l))return;const g=Object.keys(l.headers).find(w=>w.toLowerCase()==="retry-after");if(!g)return;const o=l.headers[g],m=Number(o);return Number.isNaN(m)?new Date(o).getTime()-Date.now():m*1e3};class U extends p{constructor(g,o){const{rateLimiter:m,...n}=o??{};super(g,n),this.rateLimiter=m??new D.QJ,this.mode=D.cm.ADAPTIVE}async retry(g,o){return super.retry(g,o,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:m=>{this.rateLimiter.updateClientSendingRate(m)}})}}var J=i(59897);const P="AWS_MAX_ATTEMPTS",V="max_attempts",X={environmentVariableSelector:l=>{const g=l[P];if(!g)return;const o=parseInt(g);if(Number.isNaN(o))throw new Error(`Environment variable ${P} mast be a number, got "${g}"`);return o},configFileSelector:l=>{const g=l[V];if(!g)return;const o=parseInt(g);if(Number.isNaN(o))throw new Error(`Shared config file entry ${V} mast be a number, got "${g}"`);return o},default:D.Gz},ne=l=>{const{retryStrategy:g,retryMode:o,maxAttempts:m}=l,n=(0,J.t)(m??D.Gz);return Object.assign(l,{maxAttempts:n,retryStrategy:async()=>g||(await(0,J.t)(o)()===D.cm.ADAPTIVE?new D.Y(n):new D.ru(n))})},oe="AWS_RETRY_MODE",le="retry_mode",pe={environmentVariableSelector:l=>l[oe],configFileSelector:l=>l[le],default:D.L0},re=()=>l=>async g=>{const{request:o}=g;return HttpRequest.isInstance(o)&&(delete o.headers[INVOCATION_ID_HEADER],delete o.headers[REQUEST_HEADER]),l(g)},s={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},A=l=>({applyToStack:g=>{g.addRelativeTo(re(),s)}});var T=i(27792),L=i(2203);const B=l=>l?.body instanceof L.Readable||typeof ReadableStream<"u"&&l?.body instanceof ReadableStream,c=l=>(g,o)=>async m=>{let n=await l.retryStrategy();const w=await l.maxAttempts();if(h(n)){n=n;let E=await n.acquireInitialRetryToken(o.partition_id),d=new Error,a=0,b=0;const{request:O}=m,j=M.Kd.isInstance(O);for(j&&(O.headers[D.l5]=(0,G.A)());;)try{j&&(O.headers[D.ok]=`attempt=${a+1}; max=${w}`);const{response:W,output:q}=await g(m);return n.recordSuccess(E),q.$metadata.attempts=a+1,q.$metadata.totalRetryDelay=b,{response:W,output:q}}catch(W){const q=H(W);if(d=$(W),j&&B(O))throw(o.logger instanceof T.N4?console:o.logger)?.warn("An error was encountered in a non-retryable streaming request."),d;try{E=await n.refreshRetryTokenForRetry(E,q)}catch{throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=a+1,d.$metadata.totalRetryDelay=b,d}a=E.getRetryCount();const de=E.getRetryDelay();b+=de,await new Promise(se=>setTimeout(se,de))}}else return n=n,n?.mode&&(o.userAgent=[...o.userAgent||[],["cfg/retry-mode",n.mode]]),n.retry(g,m)},h=l=>typeof l.acquireInitialRetryToken<"u"&&typeof l.refreshRetryTokenForRetry<"u"&&typeof l.recordSuccess<"u",H=l=>{const g={error:l,errorType:C(l)},o=I(l.$response);return o&&(g.retryAfterHint=o),g},C=l=>(0,k.Qb)(l)?"THROTTLING":(0,k.bV)(l)?"TRANSIENT":(0,k.GQ)(l)?"SERVER_ERROR":"CLIENT_ERROR",t={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},u=l=>({applyToStack:g=>{g.add(c(l),t)}}),I=l=>{if(!M.cS.isInstance(l))return;const g=Object.keys(l.headers).find(w=>w.toLowerCase()==="retry-after");if(!g)return;const o=l.headers[g],m=Number(o);return Number.isNaN(m)?new Date(o):new Date(m*1e3)}},2818:(fe,K,i)=>{i.d(K,{TM:()=>N,Ou:()=>F});var D=i(17365);const M=($,p)=>(S,U)=>async J=>{const{response:P}=await S(J);try{const V=await p(P,$);return{response:P,output:V}}catch(V){if(Object.defineProperty(V,"$response",{value:P}),!("$metadata"in V)){const X="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{V.message+=`
  `+X}catch{!U.logger||U.logger?.constructor?.name==="NoOpLogger"?console.warn(X):U.logger?.warn?.(X)}typeof V.$responseBodyText<"u"&&V.$response&&(V.$response.body=V.$responseBodyText);try{if(D.cS.isInstance(P)){const{headers:ne={}}=P,oe=Object.entries(ne);V.$metadata={httpStatusCode:P.statusCode,requestId:k(/^x-[\w-]+-request-?id$/,oe),extendedRequestId:k(/^x-[\w-]+-id-2$/,oe),cfId:k(/^x-[\w-]+-cf-id$/,oe)}}}catch{}}throw V}},k=($,p)=>(p.find(([S])=>S.match($))||[void 0,void 0])[1],G=($,p)=>(S,U)=>async J=>{const P=$,V=U.endpointV2?.url&&P.urlParser?async()=>P.urlParser(U.endpointV2.url):P.endpoint;if(!V)throw new Error("No valid endpoint provider available.");const X=await p(J.input,{...$,endpoint:V});return S({...J,request:X})},x={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},F={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function N($,p,S){return{applyToStack:U=>{U.add(M($,S),x),U.add(G($,p),F)}}}},44773:(fe,K,i)=>{i.d(K,{Z:()=>$});var D=i(86398);function M(p){try{const S=new Set(Array.from(p.match(/([A-Z_]){3,}/g)??[]));return S.delete("CONFIG"),S.delete("CONFIG_PREFIX_SEPARATOR"),S.delete("ENV"),[...S].join(", ")}catch{return p}}const k=(p,S)=>async()=>{try{const U=p(process.env,S);if(U===void 0)throw new Error;return U}catch(U){throw new D.C1(U.message||`Not found in ENV: ${M(p.toString())}`,{logger:S?.logger})}};var G=i(78088);const x=(p,{preferredFile:S="config",...U}={})=>async()=>{const J=(0,G.Bz)(U),{configFile:P,credentialsFile:V}=await(0,G.p6)(U),X=V[J]||{},ne=P[J]||{},oe=S==="config"?{...X,...ne}:{...ne,...X};try{const pe=p(oe,S==="config"?P:V);if(pe===void 0)throw new Error;return pe}catch(le){throw new D.C1(le.message||`Not found in config files w/ profile [${J}]: ${M(p.toString())}`,{logger:U.logger})}},F=p=>typeof p=="function",N=p=>F(p)?async()=>await p():(0,D.VR)(p),$=({environmentVariableSelector:p,configFileSelector:S,default:U},J={})=>{const{signingName:P,logger:V}=J,X={signingName:P,logger:V};return(0,D.Bj)((0,D.cy)(k(p,X),x(S,J),N(U)))}},6633:(fe,K,i)=>{i.d(K,{$c:()=>re,kv:()=>c});var D=i(17365),M=i(31145);function k(C){const t=[];for(let u of Object.keys(C).sort()){const I=C[u];if(u=(0,M.o)(u),Array.isArray(I))for(let l=0,g=I.length;l<g;l++)t.push(`${u}=${(0,M.o)(I[l])}`);else{let l=u;(I||typeof I=="string")&&(l+=`=${(0,M.o)(I)}`),t.push(l)}}return t.join("&")}var G=i(58611),x=i(65692);const F=["ECONNRESET","EPIPE","ETIMEDOUT"],N=C=>{const t={};for(const u of Object.keys(C)){const I=C[u];t[u]=Array.isArray(I)?I.join(","):I}return t},$={setTimeout:(C,t)=>setTimeout(C,t),clearTimeout:C=>clearTimeout(C)},p=1e3,S=(C,t,u=0)=>{if(!u)return-1;const I=l=>{const g=$.setTimeout(()=>{C.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${u} ms`),{name:"TimeoutError"}))},u-l),o=m=>{m?.connecting?m.on("connect",()=>{$.clearTimeout(g)}):$.clearTimeout(g)};C.socket?o(C.socket):C.on("socket",o)};return u<2e3?(I(0),0):$.setTimeout(I.bind(null,p),p)},U=3e3,J=(C,{keepAlive:t,keepAliveMsecs:u},I=U)=>{if(t!==!0)return-1;const l=()=>{C.socket?C.socket.setKeepAlive(t,u||0):C.on("socket",g=>{g.setKeepAlive(t,u||0)})};return I===0?(l(),0):$.setTimeout(l,I)},P=3e3,V=(C,t,u=pe)=>{const I=l=>{const g=u-l,o=()=>{C.destroy(),t(Object.assign(new Error(`Connection timed out after ${u} ms`),{name:"TimeoutError"}))};C.socket?(C.socket.setTimeout(g,o),C.on("close",()=>C.socket?.removeListener("timeout",o))):C.setTimeout(g,o)};return 0<u&&u<6e3?(I(0),0):$.setTimeout(I.bind(null,u===0?0:P),P)};var X=i(2203);const ne=6e3;async function oe(C,t,u=ne){const I=t.headers??{},l=I.Expect||I.expect;let g=-1,o=!0;l==="100-continue"&&(o=await Promise.race([new Promise(m=>{g=Number($.setTimeout(()=>m(!0),Math.max(ne,u)))}),new Promise(m=>{C.on("continue",()=>{$.clearTimeout(g),m(!0)}),C.on("response",()=>{$.clearTimeout(g),m(!1)}),C.on("error",()=>{$.clearTimeout(g),m(!1)})})])),o&&le(C,t.body)}function le(C,t){if(t instanceof X.Readable){t.pipe(C);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){C.end(t);return}const u=t;if(typeof u=="object"&&u.buffer&&typeof u.byteOffset=="number"&&typeof u.byteLength=="number"){C.end(Buffer.from(u.buffer,u.byteOffset,u.byteLength));return}C.end(Buffer.from(t));return}C.end()}const pe=0;class re{static create(t){return typeof t?.handle=="function"?t:new re(t)}static checkSocketUsage(t,u,I=console){const{sockets:l,requests:g,maxSockets:o}=t;if(typeof o!="number"||o===1/0)return u;const m=15e3;if(Date.now()-m<u)return u;if(l&&g)for(const n in l){const w=l[n]?.length??0,E=g[n]?.length??0;if(w>=o&&E>=2*o)return I?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${w} and ${E} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return u}constructor(t){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((u,I)=>{typeof t=="function"?t().then(l=>{u(this.resolveDefaultConfig(l))}).catch(I):u(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){const{requestTimeout:u,connectionTimeout:I,socketTimeout:l,socketAcquisitionWarningTimeout:g,httpAgent:o,httpsAgent:m}=t||{},n=!0,w=50;return{connectionTimeout:I,requestTimeout:u??l,socketAcquisitionWarningTimeout:g,httpAgent:(()=>o instanceof G.Agent||typeof o?.destroy=="function"?o:new G.Agent({keepAlive:n,maxSockets:w,...o}))(),httpsAgent:(()=>m instanceof x.Agent||typeof m?.destroy=="function"?m:new x.Agent({keepAlive:n,maxSockets:w,...m}))(),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:u}={}){return this.config||(this.config=await this.configProvider),new Promise((I,l)=>{let g;const o=[],m=async se=>{await g,o.forEach($.clearTimeout),I(se)},n=async se=>{await g,o.forEach($.clearTimeout),l(se)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(u?.aborted){const se=new Error("Request aborted");se.name="AbortError",n(se);return}const w=t.protocol==="https:",E=w?this.config.httpsAgent:this.config.httpAgent;o.push($.setTimeout(()=>{this.socketWarningTimestamp=re.checkSocketUsage(E,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));const d=k(t.query||{});let a;if(t.username!=null||t.password!=null){const se=t.username??"",me=t.password??"";a=`${se}:${me}`}let b=t.path;d&&(b+=`?${d}`),t.fragment&&(b+=`#${t.fragment}`);let O=t.hostname??"";O[0]==="["&&O.endsWith("]")?O=t.hostname.slice(1,-1):O=t.hostname;const j={headers:t.headers,host:O,method:t.method,path:b,port:t.port,agent:E,auth:a},q=(w?x.request:G.request)(j,se=>{const me=new D.cS({statusCode:se.statusCode||-1,reason:se.statusMessage,headers:N(se.headers),body:se});m({response:me})});if(q.on("error",se=>{F.includes(se.code)?n(Object.assign(se,{name:"TimeoutError"})):n(se)}),u){const se=()=>{q.destroy();const me=new Error("Request aborted");me.name="AbortError",n(me)};if(typeof u.addEventListener=="function"){const me=u;me.addEventListener("abort",se,{once:!0}),q.once("close",()=>me.removeEventListener("abort",se))}else u.onabort=se}o.push(S(q,n,this.config.connectionTimeout)),o.push(V(q,n,this.config.requestTimeout));const de=j.agent;typeof de=="object"&&"keepAlive"in de&&o.push(J(q,{keepAlive:de.keepAlive,keepAliveMsecs:de.keepAliveMsecs})),g=oe(q,t,this.config.requestTimeout).catch(se=>(o.forEach($.clearTimeout),l(se)))})}updateHttpClientConfig(t,u){this.config=void 0,this.configProvider=this.configProvider.then(I=>({...I,[t]:u}))}httpHandlerConfigs(){return this.config??{}}}var s=i(85675);class A{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(u=>u!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(const u of this.sessions)u===t&&(u.destroyed||u.destroy())}}class T{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}lease(t,u){const I=this.getUrlString(t),l=this.sessionCache.get(I);if(l){const n=l.poll();if(n&&!this.config.disableConcurrency)return n}const g=http2.connect(I);this.config.maxConcurrency&&g.settings({maxConcurrentStreams:this.config.maxConcurrency},n=>{if(n)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),g.unref();const o=()=>{g.destroy(),this.deleteSession(I,g)};g.on("goaway",o),g.on("error",o),g.on("frameError",o),g.on("close",()=>this.deleteSession(I,g)),u.requestTimeout&&g.setTimeout(u.requestTimeout,o);const m=this.sessionCache.get(I)||new NodeHttp2ConnectionPool;return m.offerLast(g),this.sessionCache.set(I,m),g}deleteSession(t,u){const I=this.sessionCache.get(t);!I||!I.contains(u)||(I.remove(u),this.sessionCache.set(t,I))}release(t,u){const I=this.getUrlString(t);this.sessionCache.get(I)?.offerLast(u)}destroy(){for(const[t,u]of this.sessionCache){for(const I of u)I.destroyed||I.destroy(),u.remove(I);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}}class L{static create(t){return typeof t?.handle=="function"?t:new L(t)}constructor(t){this.metadata={handlerProtocol:"h2"},this.connectionManager=new NodeHttp2ConnectionManager({}),this.configProvider=new Promise((u,I)=>{typeof t=="function"?t().then(l=>{u(l||{})}).catch(I):u(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:u}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));const{requestTimeout:I,disableConcurrentStreams:l}=this.config;return new Promise((g,o)=>{let m=!1,n;const w=async te=>{await n,g(te)},E=async te=>{await n,o(te)};if(u?.aborted){m=!0;const te=new Error("Request aborted");te.name="AbortError",E(te);return}const{hostname:d,method:a,port:b,protocol:O,query:j}=t;let W="";if(t.username!=null||t.password!=null){const te=t.username??"",he=t.password??"";W=`${te}:${he}@`}const q=`${O}//${W}${d}${b?`:${b}`:""}`,de={destination:new URL(q)},se=this.connectionManager.lease(de,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:l||!1}),me=te=>{l&&this.destroySession(se),m=!0,E(te)},Ae=buildQueryString(j||{});let ie=t.path;Ae&&(ie+=`?${Ae}`),t.fragment&&(ie+=`#${t.fragment}`);const Y=se.request({...t.headers,[constants.HTTP2_HEADER_PATH]:ie,[constants.HTTP2_HEADER_METHOD]:a});if(se.ref(),Y.on("response",te=>{const he=new HttpResponse({statusCode:te[":status"]||-1,headers:getTransformedHeaders(te),body:Y});m=!0,w({response:he}),l&&(se.close(),this.connectionManager.deleteSession(q,se))}),I&&Y.setTimeout(I,()=>{Y.close();const te=new Error(`Stream timed out because of no activity for ${I} ms`);te.name="TimeoutError",me(te)}),u){const te=()=>{Y.close();const he=new Error("Request aborted");he.name="AbortError",me(he)};if(typeof u.addEventListener=="function"){const he=u;he.addEventListener("abort",te,{once:!0}),Y.once("close",()=>he.removeEventListener("abort",te))}else u.onabort=te}Y.on("frameError",(te,he,Se)=>{me(new Error(`Frame type id ${te} in stream id ${Se} has failed with code ${he}.`))}),Y.on("error",me),Y.on("aborted",()=>{me(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${Y.rstCode}.`))}),Y.on("close",()=>{se.unref(),l&&se.destroy(),m||me(new Error("Unexpected error: http2 request did not get a response"))}),n=writeRequestBody(Y,t,I)})}updateHttpClientConfig(t,u){this.config=void 0,this.configProvider=this.configProvider.then(I=>({...I,[t]:u}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}}class B extends X.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,u,I){this.bufferedBytes.push(t),I()}}const c=C=>h(C)?H(C):new Promise((t,u)=>{const I=new B;C.pipe(I),C.on("error",l=>{I.end(),u(l)}),I.on("error",u),I.on("finish",function(){const l=new Uint8Array(Buffer.concat(this.bufferedBytes));t(l)})}),h=C=>typeof ReadableStream=="function"&&C instanceof ReadableStream;async function H(C){const t=[],u=C.getReader();let I=!1,l=0;for(;!I;){const{done:m,value:n}=await u.read();n&&(t.push(n),l+=n.length),I=m}const g=new Uint8Array(l);let o=0;for(const m of t)g.set(m,o),o+=m.length;return g}},86398:(fe,K,i)=>{i.d(K,{C1:()=>M,mZ:()=>D,Jh:()=>k,cy:()=>G,VR:()=>x,Bj:()=>F});class D extends Error{constructor($,p=!0){let S,U=!0;typeof p=="boolean"?(S=void 0,U=p):p!=null&&typeof p=="object"&&(S=p.logger,U=p.tryNextLink??!0),super($),this.name="ProviderError",this.tryNextLink=U,Object.setPrototypeOf(this,D.prototype),S?.debug?.(`@smithy/property-provider ${U?"->":"(!)"} ${$}`)}static from($,p=!0){return Object.assign(new this($.message,p),$)}}class M extends D{constructor($,p=!0){super($,p),this.name="CredentialsProviderError",Object.setPrototypeOf(this,M.prototype)}}class k extends D{constructor($,p=!0){super($,p),this.name="TokenProviderError",Object.setPrototypeOf(this,k.prototype)}}const G=(...N)=>async()=>{if(N.length===0)throw new D("No providers in chain");let $;for(const p of N)try{return await p()}catch(S){if($=S,S?.tryNextLink)continue;throw S}throw $},x=N=>()=>Promise.resolve(N),F=(N,$,p)=>{let S,U,J,P=!1;const V=async()=>{U||(U=N());try{S=await U,J=!0,P=!1}finally{U=void 0}return S};return $===void 0?async X=>((!J||X?.forceRefresh)&&(S=await V()),S):async X=>((!J||X?.forceRefresh)&&(S=await V()),P?S:p&&!p(S)?(P=!0,S):($(S)&&await V(),S))}},17365:(fe,K,i)=>{i.d(K,{Kd:()=>x,cS:()=>N,eS:()=>D,jt:()=>M});const D=$=>({setHttpHandler(p){$.httpHandler=p},httpHandler(){return $.httpHandler},updateHttpClientConfig(p,S){$.httpHandler?.updateHttpClientConfig(p,S)},httpHandlerConfigs(){return $.httpHandler.httpHandlerConfigs()}}),M=$=>({httpHandler:$.httpHandler()});var k=i(30145);class G{constructor({name:p,kind:S=FieldPosition.HEADER,values:U=[]}){this.name=p,this.kind=S,this.values=U}add(p){this.values.push(p)}set(p){this.values=p}remove(p){this.values=this.values.filter(S=>S!==p)}toString(){return this.values.map(p=>p.includes(",")||p.includes(" ")?`"${p}"`:p).join(", ")}get(){return this.values}}class x{constructor(p){this.method=p.method||"GET",this.hostname=p.hostname||"localhost",this.port=p.port,this.query=p.query||{},this.headers=p.headers||{},this.body=p.body,this.protocol=p.protocol?p.protocol.slice(-1)!==":"?`${p.protocol}:`:p.protocol:"https:",this.path=p.path?p.path.charAt(0)!=="/"?`/${p.path}`:p.path:"/",this.username=p.username,this.password=p.password,this.fragment=p.fragment}static clone(p){const S=new x({...p,headers:{...p.headers}});return S.query&&(S.query=F(S.query)),S}static isInstance(p){if(!p)return!1;const S=p;return"method"in S&&"protocol"in S&&"hostname"in S&&"path"in S&&typeof S.query=="object"&&typeof S.headers=="object"}clone(){return x.clone(this)}}function F($){return Object.keys($).reduce((p,S)=>{const U=$[S];return{...p,[S]:Array.isArray(U)?[...U]:U}},{})}class N{constructor(p){this.statusCode=p.statusCode,this.reason=p.reason,this.headers=p.headers||{},this.body=p.body}static isInstance(p){if(!p)return!1;const S=p;return typeof S.statusCode=="number"&&typeof S.headers=="object"}}},81812:(fe,K,i)=>{i.d(K,{h5:()=>N,S0:()=>F,GQ:()=>J,Qb:()=>S,bV:()=>U});const D=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],M=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],k=["TimeoutError","RequestTimeout","RequestTimeoutException"],G=[500,502,503,504],x=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],F=P=>P.$retryable!==void 0,N=P=>D.includes(P.name),$=P=>P.$metadata?.clockSkewCorrected,p=P=>{const V=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return P&&P instanceof TypeError?V.has(P.message):!1},S=P=>P.$metadata?.httpStatusCode===429||M.includes(P.name)||P.$retryable?.throttling==!0,U=(P,V=0)=>$(P)||k.includes(P.name)||x.includes(P?.code||"")||G.includes(P.$metadata?.httpStatusCode||0)||p(P)||P.cause!==void 0&&V<=10&&U(P.cause,V+1),J=P=>{if(P.$metadata?.httpStatusCode!==void 0){const V=P.$metadata.httpStatusCode;return 500<=V&&V<=599&&!U(P)}return!1}},78088:(fe,K,i)=>{i.d(K,{QD:()=>h,Ch:()=>F,Bz:()=>$,C9:()=>S,vf:()=>P,p6:()=>H,qw:()=>u,YU:()=>l});var D=i(70857),M=i(16928);const k={},G=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",x=()=>{const{HOME:g,USERPROFILE:o,HOMEPATH:m,HOMEDRIVE:n=`C:${M.sep}`}=process.env;if(g)return g;if(o)return o;if(m)return`${n}${m}`;const w=G();return k[w]||(k[w]=(0,D.homedir)()),k[w]},F="AWS_PROFILE",N="default",$=g=>g.profile||process.env[F]||N;var p=i(76982);const S=g=>{const m=(0,p.createHash)("sha1").update(g).digest("hex");return(0,M.join)(x(),".aws","sso","cache",`${m}.json`)};var U=i(79896);const{readFile:J}=U.promises,P=async g=>{const o=S(g),m=await J(o,"utf8");return JSON.parse(m)};var V=i(30145);const X=g=>Object.entries(g).filter(([o])=>{const m=o.indexOf(h);return m===-1?!1:Object.values(V.Ip).includes(o.substring(0,m))}).reduce((o,[m,n])=>{const w=m.indexOf(h),E=m.substring(0,w)===V.Ip.PROFILE?m.substring(w+1):m;return o[E]=n,o},{...g.default&&{default:g.default}}),ne="AWS_CONFIG_FILE",oe=()=>process.env[ne]||(0,M.join)(x(),".aws","config"),le="AWS_SHARED_CREDENTIALS_FILE",pe=()=>process.env[le]||(0,M.join)(x(),".aws","credentials"),re=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,s=["__proto__","profile __proto__"],A=g=>{const o={};let m,n;for(const w of g.split(/\r?\n/)){const E=w.split(/(^|\s)[;#]/)[0].trim();if(E[0]==="["&&E[E.length-1]==="]"){m=void 0,n=void 0;const a=E.substring(1,E.length-1),b=re.exec(a);if(b){const[,O,,j]=b;Object.values(V.Ip).includes(O)&&(m=[O,j].join(h))}else m=a;if(s.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(m){const a=E.indexOf("=");if(![0,-1].includes(a)){const[b,O]=[E.substring(0,a).trim(),E.substring(a+1).trim()];if(O==="")n=b;else{n&&w.trimStart()===w&&(n=void 0),o[m]=o[m]||{};const j=n?[n,b].join(h):b;o[m][j]=O}}}}return o},{readFile:T}=U.promises,L={},B=(g,o)=>((!L[g]||o?.ignoreCache)&&(L[g]=T(g,"utf8")),L[g]),c=()=>({}),h=".",H=async(g={})=>{const{filepath:o=pe(),configFilepath:m=oe()}=g,n=x(),w="~/";let E=o;o.startsWith(w)&&(E=(0,M.join)(n,o.slice(2)));let d=m;m.startsWith(w)&&(d=(0,M.join)(n,m.slice(2)));const a=await Promise.all([B(d,{ignoreCache:g.ignoreCache}).then(A).then(X).catch(c),B(E,{ignoreCache:g.ignoreCache}).then(A).catch(c)]);return{configFile:a[0],credentialsFile:a[1]}},C=g=>Object.entries(g).filter(([o])=>o.startsWith(V.Ip.SSO_SESSION+h)).reduce((o,[m,n])=>({...o,[m.substring(m.indexOf(h)+1)]:n}),{}),t=()=>({}),u=async(g={})=>B(g.configFilepath??oe()).then(A).then(C).catch(t),I=(...g)=>{const o={};for(const m of g)for(const[n,w]of Object.entries(m))o[n]!==void 0?Object.assign(o[n],w):o[n]=w;return o},l=async g=>{const o=await H(g);return I(o.configFile,o.credentialsFile)}},27792:(fe,K,i)=>{i.d(K,{Kj:()=>F,uB:()=>p,N4:()=>t,$H:()=>U,TJ:()=>P,Ss:()=>w,Px:()=>N.Px,J1:()=>J,Mw:()=>V,I9:()=>re,ET:()=>E.ET,Y0:()=>E.Y0,r$:()=>E.r$,Xk:()=>E.Xk,lK:()=>E.lK,$6:()=>N.$6,xA:()=>B,rm:()=>H,eU:()=>C,lT:()=>le,Tj:()=>u,l3:()=>E.l3,EI:()=>E.EI,t_:()=>E.t_,uv:()=>h,xW:()=>E.xW,s:()=>l,jr:()=>ne});const D=(d,a)=>{const b=[];if(d&&b.push(d),a)for(const O of a)b.push(O);return b},M=(d,a)=>`${d||"anonymous"}${a&&a.length>0?` (a.k.a. ${a.join(",")})`:""}`,k=()=>{let d=[],a=[],b=!1;const O=new Set,j=ie=>ie.sort((Y,te)=>G[te.step]-G[Y.step]||x[te.priority||"normal"]-x[Y.priority||"normal"]),W=ie=>{let Y=!1;const te=he=>{const Se=D(he.name,he.aliases);if(Se.includes(ie)){Y=!0;for(const ce of Se)O.delete(ce);return!1}return!0};return d=d.filter(te),a=a.filter(te),Y},q=ie=>{let Y=!1;const te=he=>{if(he.middleware===ie){Y=!0;for(const Se of D(he.name,he.aliases))O.delete(Se);return!1}return!0};return d=d.filter(te),a=a.filter(te),Y},de=ie=>(d.forEach(Y=>{ie.add(Y.middleware,{...Y})}),a.forEach(Y=>{ie.addRelativeTo(Y.middleware,{...Y})}),ie.identifyOnResolve?.(Ae.identifyOnResolve()),ie),se=ie=>{const Y=[];return ie.before.forEach(te=>{te.before.length===0&&te.after.length===0?Y.push(te):Y.push(...se(te))}),Y.push(ie),ie.after.reverse().forEach(te=>{te.before.length===0&&te.after.length===0?Y.push(te):Y.push(...se(te))}),Y},me=(ie=!1)=>{const Y=[],te=[],he={};return d.forEach(ce=>{const Ee={...ce,before:[],after:[]};for(const Ce of D(Ee.name,Ee.aliases))he[Ce]=Ee;Y.push(Ee)}),a.forEach(ce=>{const Ee={...ce,before:[],after:[]};for(const Ce of D(Ee.name,Ee.aliases))he[Ce]=Ee;te.push(Ee)}),te.forEach(ce=>{if(ce.toMiddleware){const Ee=he[ce.toMiddleware];if(Ee===void 0){if(ie)return;throw new Error(`${ce.toMiddleware} is not found when adding ${M(ce.name,ce.aliases)} middleware ${ce.relation} ${ce.toMiddleware}`)}ce.relation==="after"&&Ee.after.push(ce),ce.relation==="before"&&Ee.before.push(ce)}}),j(Y).map(se).reduce((ce,Ee)=>(ce.push(...Ee),ce),[])},Ae={add:(ie,Y={})=>{const{name:te,override:he,aliases:Se}=Y,ce={step:"initialize",priority:"normal",middleware:ie,...Y},Ee=D(te,Se);if(Ee.length>0){if(Ee.some(Ce=>O.has(Ce))){if(!he)throw new Error(`Duplicate middleware name '${M(te,Se)}'`);for(const Ce of Ee){const Ne=d.findIndex(r=>r.name===Ce||r.aliases?.some(f=>f===Ce));if(Ne===-1)continue;const Re=d[Ne];if(Re.step!==ce.step||ce.priority!==Re.priority)throw new Error(`"${M(Re.name,Re.aliases)}" middleware with ${Re.priority} priority in ${Re.step} step cannot be overridden by "${M(te,Se)}" middleware with ${ce.priority} priority in ${ce.step} step.`);d.splice(Ne,1)}}for(const Ce of Ee)O.add(Ce)}d.push(ce)},addRelativeTo:(ie,Y)=>{const{name:te,override:he,aliases:Se}=Y,ce={middleware:ie,...Y},Ee=D(te,Se);if(Ee.length>0){if(Ee.some(Ce=>O.has(Ce))){if(!he)throw new Error(`Duplicate middleware name '${M(te,Se)}'`);for(const Ce of Ee){const Ne=a.findIndex(r=>r.name===Ce||r.aliases?.some(f=>f===Ce));if(Ne===-1)continue;const Re=a[Ne];if(Re.toMiddleware!==ce.toMiddleware||Re.relation!==ce.relation)throw new Error(`"${M(Re.name,Re.aliases)}" middleware ${Re.relation} "${Re.toMiddleware}" middleware cannot be overridden by "${M(te,Se)}" middleware ${ce.relation} "${ce.toMiddleware}" middleware.`);a.splice(Ne,1)}}for(const Ce of Ee)O.add(Ce)}a.push(ce)},clone:()=>de(k()),use:ie=>{ie.applyToStack(Ae)},remove:ie=>typeof ie=="string"?W(ie):q(ie),removeByTag:ie=>{let Y=!1;const te=he=>{const{tags:Se,name:ce,aliases:Ee}=he;if(Se&&Se.includes(ie)){const Ce=D(ce,Ee);for(const Ne of Ce)O.delete(Ne);return Y=!0,!1}return!0};return d=d.filter(te),a=a.filter(te),Y},concat:ie=>{const Y=de(k());return Y.use(ie),Y.identifyOnResolve(b||Y.identifyOnResolve()||(ie.identifyOnResolve?.()??!1)),Y},applyToStack:de,identify:()=>me(!0).map(ie=>{const Y=ie.step??ie.relation+" "+ie.toMiddleware;return M(ie.name,ie.aliases)+" - "+Y}),identifyOnResolve(ie){return typeof ie=="boolean"&&(b=ie),b},resolve:(ie,Y)=>{for(const te of me().map(he=>he.middleware).reverse())ie=te(ie,Y);return b&&console.log(Ae.identify()),ie}};return Ae},G={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},x={high:3,normal:2,low:1};class F{constructor(a){this.config=a,this.middlewareStack=k()}send(a,b,O){const j=typeof b!="function"?b:void 0,W=typeof b=="function"?b:O,q=j===void 0&&this.config.cacheMiddleware===!0;let de;if(q){this.handlers||(this.handlers=new WeakMap);const se=this.handlers;se.has(a.constructor)?de=se.get(a.constructor):(de=a.resolveMiddleware(this.middlewareStack,this.config,j),se.set(a.constructor,de))}else delete this.handlers,de=a.resolveMiddleware(this.middlewareStack,this.config,j);if(W)de(a).then(se=>W(null,se.output),se=>W(se)).catch(()=>{});else return de(a).then(se=>se.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}var N=i(81432),$=i(30145);class p{constructor(){this.middlewareStack=k()}static classBuilder(){return new S}resolveMiddlewareWithContext(a,b,O,{middlewareFn:j,clientName:W,commandName:q,inputFilterSensitiveLog:de,outputFilterSensitiveLog:se,smithyContext:me,additionalContext:Ae,CommandCtor:ie}){for(const ce of j.bind(this)(ie,a,b,O))this.middlewareStack.use(ce);const Y=a.concat(this.middlewareStack),{logger:te}=b,he={logger:te,clientName:W,commandName:q,inputFilterSensitiveLog:de,outputFilterSensitiveLog:se,[$.Vf]:{commandInstance:this,...me},...Ae},{requestHandler:Se}=b;return Y.resolve(ce=>Se.handle(ce.request,O||{}),he)}}class S{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=a=>a,this._outputFilterSensitiveLog=a=>a,this._serializer=null,this._deserializer=null}init(a){this._init=a}ep(a){return this._ep=a,this}m(a){return this._middlewareFn=a,this}s(a,b,O={}){return this._smithyContext={service:a,operation:b,...O},this}c(a={}){return this._additionalContext=a,this}n(a,b){return this._clientName=a,this._commandName=b,this}f(a=O=>O,b=O=>O){return this._inputFilterSensitiveLog=a,this._outputFilterSensitiveLog=b,this}ser(a){return this._serializer=a,this}de(a){return this._deserializer=a,this}sc(a){return this._operationSchema=a,this._smithyContext.operationSchema=a,this}build(){const a=this;let b;return b=class extends p{static getEndpointParameterInstructions(){return a._ep}constructor(...[O]){super(),this.serialize=a._serializer,this.deserialize=a._deserializer,this.input=O??{},a._init(this),this.schema=a._operationSchema}resolveMiddleware(O,j,W){return this.resolveMiddlewareWithContext(O,j,W,{CommandCtor:b,middlewareFn:a._middlewareFn,clientName:a._clientName,commandName:a._commandName,inputFilterSensitiveLog:a._inputFilterSensitiveLog,outputFilterSensitiveLog:a._outputFilterSensitiveLog,smithyContext:a._smithyContext,additionalContext:a._additionalContext})}}}}const U="***SensitiveInformation***",J=(d,a)=>{for(const b of Object.keys(d)){const O=d[b],j=async function(q,de,se){const me=new O(q);if(typeof de=="function")this.send(me,de);else if(typeof se=="function"){if(typeof de!="object")throw new Error(`Expected http options but got ${typeof de}`);this.send(me,de||{},se)}else return this.send(me,de)},W=(b[0].toLowerCase()+b.slice(1)).replace(/Command$/,"");a.prototype[W]=j}};class P extends Error{constructor(a){super(a.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=a.name,this.$fault=a.$fault,this.$metadata=a.$metadata}static isInstance(a){if(!a)return!1;const b=a;return P.prototype.isPrototypeOf(b)||Boolean(b.$fault)&&Boolean(b.$metadata)&&(b.$fault==="client"||b.$fault==="server")}static[Symbol.hasInstance](a){if(!a)return!1;const b=a;return this===P?P.isInstance(a):P.isInstance(a)?b.name&&this.name?this.prototype.isPrototypeOf(a)||b.name===this.name:this.prototype.isPrototypeOf(a):!1}}const V=(d,a={})=>{Object.entries(a).filter(([,O])=>O!==void 0).forEach(([O,j])=>{(d[O]==null||d[O]==="")&&(d[O]=j)});const b=d.message||d.Message||"UnknownError";return d.message=b,delete d.Message,d},X=({output:d,parsedBody:a,exceptionCtor:b,errorCode:O})=>{const j=oe(d),W=j.httpStatusCode?j.httpStatusCode+"":void 0,q=new b({name:a?.code||a?.Code||O||W||"UnknownError",$fault:"client",$metadata:j});throw V(q,a)},ne=d=>({output:a,parsedBody:b,errorCode:O})=>{X({output:a,parsedBody:b,exceptionCtor:d,errorCode:O})},oe=d=>({httpStatusCode:d.statusCode,requestId:d.headers["x-amzn-requestid"]??d.headers["x-amzn-request-id"]??d.headers["x-amz-request-id"],extendedRequestId:d.headers["x-amz-id-2"],cfId:d.headers["x-amz-cf-id"]}),le=d=>{switch(d){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};let pe=!1;const re=d=>{d&&!pe&&parseInt(d.substring(1,d.indexOf(".")))<16&&(pe=!0)},s=d=>{const a=[];for(const b in $.dB){const O=$.dB[b];d[O]!==void 0&&a.push({algorithmId:()=>O,checksumConstructor:()=>d[O]})}return{addChecksumAlgorithm(b){a.push(b)},checksumAlgorithms(){return a}}},A=d=>{const a={};return d.checksumAlgorithms().forEach(b=>{a[b.algorithmId()]=b.checksumConstructor()}),a},T=d=>({setRetryStrategy(a){d.retryStrategy=a},retryStrategy(){return d.retryStrategy}}),L=d=>{const a={};return a.retryStrategy=d.retryStrategy(),a},B=d=>Object.assign(s(d),T(d)),c=null,h=d=>Object.assign(A(d),L(d)),H=d=>{const a="#text";for(const b in d)d.hasOwnProperty(b)&&d[b][a]!==void 0?d[b]=d[b][a]:typeof d[b]=="object"&&d[b]!==null&&(d[b]=H(d[b]));return d},C=d=>d!=null;class t{trace(){}debug(){}info(){}warn(){}error(){}}function u(d,a,b){let O,j,W;if(typeof a>"u"&&typeof b>"u")O={},W=d;else{if(O=d,typeof a=="function")return j=a,W=b,g(O,j,W);W=a}for(const q of Object.keys(W)){if(!Array.isArray(W[q])){O[q]=W[q];continue}o(O,null,W,q)}return O}const I=d=>{const a={};for(const[b,O]of Object.entries(d||{}))a[b]=[,O];return a},l=(d,a)=>{const b={};for(const O in a)o(b,d,a,O);return b},g=(d,a,b)=>u(d,Object.entries(b).reduce((O,[j,W])=>(Array.isArray(W)?O[j]=W:typeof W=="function"?O[j]=[a,W()]:O[j]=[a,W],O),{})),o=(d,a,b,O)=>{if(a!==null){let q=b[O];typeof q=="function"&&(q=[,q]);const[de=m,se=n,me=O]=q;(typeof de=="function"&&de(a[me])||typeof de!="function"&&!!de)&&(d[O]=se(a[me]));return}let[j,W]=b[O];if(typeof W=="function"){let q;const de=j===void 0&&(q=W())!=null,se=typeof j=="function"&&!!j(void 0)||typeof j!="function"&&!!j;de?d[O]=q:se&&(d[O]=W())}else{const q=j===void 0&&W!=null,de=typeof j=="function"&&!!j(W)||typeof j!="function"&&!!j;(q||de)&&(d[O]=W)}},m=d=>d!=null,n=d=>d,w=d=>{if(d==null)return{};if(Array.isArray(d))return d.filter(a=>a!=null).map(w);if(typeof d=="object"){const a={};for(const b of Object.keys(d))d[b]!=null&&(a[b]=w(d[b]));return a}return d};var E=i(60693)},30145:(fe,K,i)=>{i.d(K,{dB:()=>G,Ue:()=>k,Ip:()=>U,Vf:()=>S});var D;(function(P){P.HEADER="header",P.QUERY="query"})(D||(D={}));var M;(function(P){P.HEADER="header",P.QUERY="query"})(M||(M={}));var k;(function(P){P.HTTP="http",P.HTTPS="https"})(k||(k={}));var G;(function(P){P.MD5="md5",P.CRC32="crc32",P.CRC32C="crc32c",P.SHA1="sha1",P.SHA256="sha256"})(G||(G={}));const x=P=>{const V=[];return P.sha256!==void 0&&V.push({algorithmId:()=>G.SHA256,checksumConstructor:()=>P.sha256}),P.md5!=null&&V.push({algorithmId:()=>G.MD5,checksumConstructor:()=>P.md5}),{addChecksumAlgorithm(X){V.push(X)},checksumAlgorithms(){return V}}},F=P=>{const V={};return P.checksumAlgorithms().forEach(X=>{V[X.algorithmId()]=X.checksumConstructor()}),V},N=P=>getChecksumConfiguration(P),$=P=>resolveChecksumRuntimeConfig(P);var p;(function(P){P[P.HEADER=0]="HEADER",P[P.TRAILER=1]="TRAILER"})(p||(p={}));const S="__smithy_context";var U;(function(P){P.PROFILE="profile",P.SSO_SESSION="sso-session",P.SERVICES="services"})(U||(U={}));var J;(function(P){P.HTTP_0_9="http/0.9",P.HTTP_1_0="http/1.0",P.TDS_8_0="tds/8.0"})(J||(J={}))},17307:(fe,K,i)=>{i.d(K,{D:()=>M});function D(k){const G={};if(k=k.replace(/^\?/,""),k)for(const x of k.split("&")){let[F,N=null]=x.split("=");F=decodeURIComponent(F),N&&(N=decodeURIComponent(N)),F in G?Array.isArray(G[F])?G[F].push(N):G[F]=[G[F],N]:G[F]=N}return G}const M=k=>{if(typeof k=="string")return M(new URL(k));const{hostname:G,pathname:x,port:F,protocol:N,search:$}=k;let p;return $&&(p=D($)),{hostname:G,port:F?parseInt(F):void 0,protocol:N,path:x,query:p}}},21654:(fe,K,i)=>{i.d(K,{E:()=>k,n:()=>x});var D=i(69867);const M=/^[A-Za-z0-9+/]*={0,2}$/,k=F=>{if(F.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!M.exec(F))throw new TypeError("Invalid base64 string.");const N=(0,D.s)(F,"base64");return new Uint8Array(N.buffer,N.byteOffset,N.byteLength)};var G=i(11347);const x=F=>{let N;if(typeof F=="string"?N=(0,G.ar)(F):N=F,typeof N!="object"||typeof N.byteOffset!="number"||typeof N.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,D.Q)(N.buffer,N.byteOffset,N.byteLength).toString("base64")}},69723:(fe,K,i)=>{i.d(K,{n:()=>M});var D=i(79896);const M=k=>{if(!k)return 0;if(typeof k=="string")return Buffer.byteLength(k);if(typeof k.byteLength=="number")return k.byteLength;if(typeof k.size=="number")return k.size;if(typeof k.start=="number"&&typeof k.end=="number")return k.end+1-k.start;if(typeof k.path=="string"||Buffer.isBuffer(k.path))return(0,D.lstatSync)(k.path).size;if(typeof k.fd=="number")return(0,D.fstatSync)(k.fd).size;throw new Error(`Body Length computation failed for ${k}`)}},69867:(fe,K,i)=>{i.d(K,{Q:()=>G,s:()=>x});var D=i(33593),M=i(20181),k=i.n(M);const G=(F,N=0,$=F.byteLength-N)=>{if(!(0,D.m)(F))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof F} (${F})`);return M.Buffer.from(F,N,$)},x=(F,N)=>{if(typeof F!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof F} (${F})`);return N?M.Buffer.from(F,N):M.Buffer.from(F)}},88727:(fe,K,i)=>{i.d(K,{I:()=>P});var D=i(45429),M=i(44773),k=i(86398);const G="AWS_EXECUTION_ENV",x="AWS_REGION",F="AWS_DEFAULT_REGION",N="AWS_EC2_METADATA_DISABLED",$=["in-region","cross-region","mobile","standard","legacy"],p="/latest/meta-data/placement/region",S="AWS_DEFAULTS_MODE",U="defaults_mode",J={environmentVariableSelector:ne=>ne[S],configFileSelector:ne=>ne[U],default:"legacy"},P=({region:ne=(0,M.Z)(D.GG),defaultsMode:oe=(0,M.Z)(J)}={})=>(0,k.Bj)(async()=>{const le=typeof oe=="function"?await oe():oe;switch(le?.toLowerCase()){case"auto":return V(ne);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(le?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${$.join(", ")}, got ${le}`)}}),V=async ne=>{if(ne){const oe=typeof ne=="function"?await ne():ne,le=await X();return le?oe===le?"in-region":"cross-region":"standard"}return"standard"},X=async()=>{if(process.env[G]&&(process.env[x]||process.env[F]))return process.env[x]??process.env[F];if(!process.env[N])try{const{getInstanceMetadataEndpoint:ne,httpRequest:oe}=await i.e(5175).then(i.bind(i,95175)),le=await ne();return(await oe({...le,path:p})).toString()}catch{}}},5559:(fe,K,i)=>{i.d(K,{kS:()=>D,mw:()=>F,oX:()=>k,X8:()=>x,sO:()=>m});class D{constructor({size:w,params:E}){this.data=new Map,this.parameters=[],this.capacity=w??50,E&&(this.parameters=E)}get(w,E){const d=this.hash(w);if(d===!1)return E();if(!this.data.has(d)){if(this.data.size>this.capacity+10){const a=this.data.keys();let b=0;for(;;){const{value:O,done:j}=a.next();if(this.data.delete(O),j||++b>10)break}}this.data.set(d,E())}return this.data.get(d)}size(){return this.data.size}hash(w){let E="";const{parameters:d}=this;if(d.length===0)return!1;for(const a of d){const b=String(w[a]??"");if(b.includes("|;"))return!1;E+=b+"|;"}return E}}const M=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),k=n=>M.test(n)||n.startsWith("[")&&n.endsWith("]"),G=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),x=(n,w=!1)=>{if(!w)return G.test(n);const E=n.split(".");for(const d of E)if(!x(d))return!1;return!0},F={},N="endpoints";function $(n){return typeof n!="object"||n==null?n:"ref"in n?`$${$(n.ref)}`:"fn"in n?`${n.fn}(${(n.argv||[]).map($).join(", ")})`:JSON.stringify(n,null,2)}class p extends Error{constructor(w){super(w),this.name="EndpointError"}}const S=(n,w)=>n===w,U=n=>{const w=n.split("."),E=[];for(const d of w){const a=d.indexOf("[");if(a!==-1){if(d.indexOf("]")!==d.length-1)throw new p(`Path: '${n}' does not end with ']'`);const b=d.slice(a+1,-1);if(Number.isNaN(parseInt(b)))throw new p(`Invalid array index: '${b}' in path: '${n}'`);a!==0&&E.push(d.slice(0,a)),E.push(b)}else E.push(d)}return E},J=(n,w)=>U(w).reduce((E,d)=>{if(typeof E!="object")throw new p(`Index '${d}' in '${w}' not found in '${JSON.stringify(n)}'`);return Array.isArray(E)?E[parseInt(d)]:E[d]},n),P=n=>n!=null,V=n=>!n;var X=i(30145);const ne={[X.Ue.HTTP]:80,[X.Ue.HTTPS]:443},s={booleanEquals:S,getAttr:J,isSet:P,isValidHostLabel:x,not:V,parseURL:n=>{const w=(()=>{try{if(n instanceof URL)return n;if(typeof n=="object"&&"hostname"in n){const{hostname:me,port:Ae,protocol:ie="",path:Y="",query:te={}}=n,he=new URL(`${ie}//${me}${Ae?`:${Ae}`:""}${Y}`);return he.search=Object.entries(te).map(([Se,ce])=>`${Se}=${ce}`).join("&"),he}return new URL(n)}catch{return null}})();if(!w)return console.error(`Unable to parse ${JSON.stringify(n)} as a whatwg URL.`),null;const E=w.href,{host:d,hostname:a,pathname:b,protocol:O,search:j}=w;if(j)return null;const W=O.slice(0,-1);if(!Object.values(X.Ue).includes(W))return null;const q=k(a),de=E.includes(`${d}:${ne[W]}`)||typeof n=="string"&&n.includes(`${d}:${ne[W]}`),se=`${d}${de?`:${ne[W]}`:""}`;return{scheme:W,authority:se,path:b,normalizedPath:b.endsWith("/")?b:`${b}/`,isIp:q}},stringEquals:(n,w)=>n===w,substring:(n,w,E,d)=>w>=E||n.length<E?null:d?n.substring(n.length-E,n.length-w):n.substring(w,E),uriEncode:n=>encodeURIComponent(n).replace(/[!*'()]/g,w=>`%${w.charCodeAt(0).toString(16).toUpperCase()}`)},A=(n,w)=>{const E=[],d={...w.endpointParams,...w.referenceRecord};let a=0;for(;a<n.length;){const b=n.indexOf("{",a);if(b===-1){E.push(n.slice(a));break}E.push(n.slice(a,b));const O=n.indexOf("}",b);if(O===-1){E.push(n.slice(b));break}n[b+1]==="{"&&n[O+1]==="}"&&(E.push(n.slice(b+1,O)),a=O+2);const j=n.substring(b+1,O);if(j.includes("#")){const[W,q]=j.split("#");E.push(J(d[W],q))}else E.push(d[j]);a=O+1}return E.join("")},T=({ref:n},w)=>({...w.endpointParams,...w.referenceRecord})[n],L=(n,w,E)=>{if(typeof n=="string")return A(n,E);if(n.fn)return B(n,E);if(n.ref)return T(n,E);throw new p(`'${w}': ${String(n)} is not a string, function or reference.`)},B=({fn:n,argv:w},E)=>{const d=w.map(b=>["boolean","number"].includes(typeof b)?b:L(b,"arg",E)),a=n.split(".");return a[0]in F&&a[1]!=null?F[a[0]][a[1]](...d):s[n](...d)},c=({assign:n,...w},E)=>{if(n&&n in E.referenceRecord)throw new p(`'${n}' is already defined in Reference Record.`);const d=B(w,E);return E.logger?.debug?.(`${N} evaluateCondition: ${$(w)} = ${$(d)}`),{result:d===""?!0:!!d,...n!=null&&{toAssign:{name:n,value:d}}}},h=(n=[],w)=>{const E={};for(const d of n){const{result:a,toAssign:b}=c(d,{...w,referenceRecord:{...w.referenceRecord,...E}});if(!a)return{result:a};b&&(E[b.name]=b.value,w.logger?.debug?.(`${N} assign: ${b.name} := ${$(b.value)}`))}return{result:!0,referenceRecord:E}},H=(n,w)=>Object.entries(n).reduce((E,[d,a])=>({...E,[d]:a.map(b=>{const O=L(b,"Header value entry",w);if(typeof O!="string")throw new p(`Header '${d}' value '${O}' is not a string`);return O})}),{}),C=(n,w)=>{if(Array.isArray(n))return n.map(E=>C(E,w));switch(typeof n){case"string":return A(n,w);case"object":if(n===null)throw new p(`Unexpected endpoint property: ${n}`);return t(n,w);case"boolean":return n;default:throw new p(`Unexpected endpoint property type: ${typeof n}`)}},t=(n,w)=>Object.entries(n).reduce((E,[d,a])=>({...E,[d]:C(a,w)}),{}),u=(n,w)=>{const E=L(n,"Endpoint URL",w);if(typeof E=="string")try{return new URL(E)}catch(d){throw console.error(`Failed to construct URL with ${E}`,d),d}throw new p(`Endpoint URL must be a string, got ${typeof E}`)},I=(n,w)=>{const{conditions:E,endpoint:d}=n,{result:a,referenceRecord:b}=h(E,w);if(!a)return;const O={...w,referenceRecord:{...w.referenceRecord,...b}},{url:j,properties:W,headers:q}=d;return w.logger?.debug?.(`${N} Resolving endpoint from template: ${$(d)}`),{...q!=null&&{headers:H(q,O)},...W!=null&&{properties:t(W,O)},url:u(j,O)}},l=(n,w)=>{const{conditions:E,error:d}=n,{result:a,referenceRecord:b}=h(E,w);if(!!a)throw new p(L(d,"Error",{...w,referenceRecord:{...w.referenceRecord,...b}}))},g=(n,w)=>{const{conditions:E,rules:d}=n,{result:a,referenceRecord:b}=h(E,w);if(!!a)return o(d,{...w,referenceRecord:{...w.referenceRecord,...b}})},o=(n,w)=>{for(const E of n)if(E.type==="endpoint"){const d=I(E,w);if(d)return d}else if(E.type==="error")l(E,w);else if(E.type==="tree"){const d=g(E,w);if(d)return d}else throw new p(`Unknown endpoint rule: ${E}`);throw new p("Rules evaluation failed")},m=(n,w)=>{const{endpointParams:E,logger:d}=w,{parameters:a,rules:b}=n;w.logger?.debug?.(`${N} Initial EndpointParams: ${$(E)}`);const O=Object.entries(a).filter(([,q])=>q.default!=null).map(([q,de])=>[q,de.default]);if(O.length>0)for(const[q,de]of O)E[q]=E[q]??de;const j=Object.entries(a).filter(([,q])=>q.required).map(([q])=>q);for(const q of j)if(E[q]==null)throw new p(`Missing required parameter: '${q}'`);const W=o(b,{endpointParams:E,logger:d,referenceRecord:{}});return w.logger?.debug?.(`${N} Resolved endpoint: ${$(W)}`),W}},48518:(fe,K,i)=>{i.d(K,{a:()=>k,n:()=>G});const D={},M={};for(let x=0;x<256;x++){let F=x.toString(16).toLowerCase();F.length===1&&(F=`0${F}`),D[x]=F,M[F]=x}function k(x){if(x.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const F=new Uint8Array(x.length/2);for(let N=0;N<x.length;N+=2){const $=x.slice(N,N+2).toLowerCase();if($ in M)F[N/2]=M[$];else throw new Error(`Cannot decode unrecognized sequence ${$} as hexadecimal`)}return F}function G(x){let F="";for(let N=0;N<x.byteLength;N++)F+=D[x[N]];return F}},59897:(fe,K,i)=>{i.d(K,{u:()=>M,t:()=>k});var D=i(30145);const M=G=>G[D.Vf]||(G[D.Vf]={}),k=G=>{if(typeof G=="function")return G;const x=Promise.resolve(G);return()=>x}},78589:(fe,K,i)=>{i.d(K,{Y:()=>le,Gz:()=>M,bp:()=>F,L0:()=>k,QJ:()=>x,Df:()=>p,l5:()=>P,G8:()=>N,XP:()=>J,ok:()=>V,XS:()=>S,cm:()=>D,ru:()=>oe,jh:()=>$,Rn:()=>U});var D;(function(re){re.STANDARD="standard",re.ADAPTIVE="adaptive"})(D||(D={}));const M=3,k=D.STANDARD;var G=i(81812);class x{constructor(s){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=s?.beta??.7,this.minCapacity=s?.minCapacity??1,this.minFillRate=s?.minFillRate??.5,this.scaleConstant=s?.scaleConstant??.4,this.smooth=s?.smooth??.8;const A=this.getCurrentTimeInSeconds();this.lastThrottleTime=A,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(s){if(!!this.enabled){if(this.refillTokenBucket(),s>this.currentCapacity){const A=(s-this.currentCapacity)/this.fillRate*1e3;await new Promise(T=>x.setTimeoutFn(T,A))}this.currentCapacity=this.currentCapacity-s}}refillTokenBucket(){const s=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=s;return}const A=(s-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+A),this.lastTimestamp=s}updateClientSendingRate(s){let A;if(this.updateMeasuredRate(),(0,G.Qb)(s)){const L=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=L,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),A=this.cubicThrottle(L),this.enableTokenBucket()}else this.calculateTimeWindow(),A=this.cubicSuccess(this.getCurrentTimeInSeconds());const T=Math.min(A,2*this.measuredTxRate);this.updateTokenBucketRate(T)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(s){return this.getPrecise(s*this.beta)}cubicSuccess(s){return this.getPrecise(this.scaleConstant*Math.pow(s-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(s){this.refillTokenBucket(),this.fillRate=Math.max(s,this.minFillRate),this.maxCapacity=Math.max(s,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const s=this.getCurrentTimeInSeconds(),A=Math.floor(s*2)/2;if(this.requestCount++,A>this.lastTxRateBucket){const T=this.requestCount/(A-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(T*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=A}}getPrecise(s){return parseFloat(s.toFixed(8))}}x.setTimeoutFn=setTimeout;const F=100,N=20*1e3,$=500,p=500,S=5,U=10,J=1,P="amz-sdk-invocation-id",V="amz-sdk-request",X=()=>{let re=F;return{computeNextBackoffDelay:T=>Math.floor(Math.min(N,Math.random()*2**T*re)),setDelayBase:T=>{re=T}}},ne=({retryDelay:re,retryCount:s,retryCost:A})=>({getRetryCount:()=>s,getRetryDelay:()=>Math.min(N,re),getRetryCost:()=>A});class oe{constructor(s){this.maxAttempts=s,this.mode=D.STANDARD,this.capacity=p,this.retryBackoffStrategy=X(),this.maxAttemptsProvider=typeof s=="function"?s:async()=>s}async acquireInitialRetryToken(s){return ne({retryDelay:F,retryCount:0})}async refreshRetryTokenForRetry(s,A){const T=await this.getMaxAttempts();if(this.shouldRetry(s,A,T)){const L=A.errorType;this.retryBackoffStrategy.setDelayBase(L==="THROTTLING"?$:F);const B=this.retryBackoffStrategy.computeNextBackoffDelay(s.getRetryCount()),c=A.retryAfterHint?Math.max(A.retryAfterHint.getTime()-Date.now()||0,B):B,h=this.getCapacityCost(L);return this.capacity-=h,ne({retryDelay:c,retryCount:s.getRetryCount()+1,retryCost:h})}throw new Error("No retry token available")}recordSuccess(s){this.capacity=Math.max(p,this.capacity+(s.getRetryCost()??J))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${M}`),M}}shouldRetry(s,A,T){return s.getRetryCount()+1<T&&this.capacity>=this.getCapacityCost(A.errorType)&&this.isRetryableError(A.errorType)}getCapacityCost(s){return s==="TRANSIENT"?U:S}isRetryableError(s){return s==="THROTTLING"||s==="TRANSIENT"}}class le{constructor(s,A){this.maxAttemptsProvider=s,this.mode=D.ADAPTIVE;const{rateLimiter:T}=A??{};this.rateLimiter=T??new x,this.standardRetryStrategy=new oe(s)}async acquireInitialRetryToken(s){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(s)}async refreshRetryTokenForRetry(s,A){return this.rateLimiter.updateClientSendingRate(A),this.standardRetryStrategy.refreshRetryTokenForRetry(s,A)}recordSuccess(s){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(s)}}class pe extends oe{constructor(s,A=F){super(typeof s=="function"?s:async()=>s),typeof A=="number"?this.computeNextBackoffDelay=()=>A:this.computeNextBackoffDelay=A}async refreshRetryTokenForRetry(s,A){const T=await super.refreshRetryTokenForRetry(s,A);return T.getRetryDelay=()=>this.computeNextBackoffDelay(T.getRetryCount()),T}}},47262:(fe,K,i)=>{i.d(K,{Mu:()=>x,c9:()=>l});var D=i(21654),M=i(11347);function k(o,m="utf-8"){return m==="base64"?(0,D.n)(o):(0,M.Pq)(o)}function G(o,m){return m==="base64"?x.mutate((0,D.E)(o)):x.mutate((0,M.ar)(o))}class x extends Uint8Array{static fromString(m,n="utf-8"){switch(typeof m){case"string":return G(m,n);default:throw new Error(`Unsupported conversion from ${typeof m} to Uint8ArrayBlobAdapter.`)}}static mutate(m){return Object.setPrototypeOf(m,x.prototype),m}transformToString(m="utf-8"){return k(this,m)}}var F=i(2203);class N extends F.Duplex{constructor({expectedChecksum:m,checksum:n,source:w,checksumSourceLocation:E,base64Encoder:d}){if(super(),typeof w.pipe=="function")this.source=w;else throw new Error(`@smithy/util-stream: unsupported source type ${w?.constructor?.name??w} in ChecksumStream.`);this.base64Encoder=d??D.n,this.expectedChecksum=m,this.checksum=n,this.checksumSourceLocation=E,this.source.pipe(this)}_read(m){}_write(m,n,w){try{this.checksum.update(m),this.push(m)}catch(E){return w(E)}return w()}async _final(m){try{const n=await this.checksum.digest(),w=this.base64Encoder(n);if(this.expectedChecksum!==w)return m(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${w}" in response header "${this.checksumSourceLocation}".`))}catch(n){return m(n)}return this.push(null),m()}}const $=typeof ReadableStream=="function"?ReadableStream:function(){};class p extends null{}const S=({expectedChecksum:o,checksum:m,source:n,checksumSourceLocation:w,base64Encoder:E})=>{if(!isReadableStream(n))throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);const d=E??toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");const a=new TransformStream({start(){},async transform(O,j){m.update(O),j.enqueue(O)},async flush(O){const j=await m.digest(),W=d(j);if(o!==W){const q=new Error(`Checksum mismatch: expected "${o}" but received "${W}" in response header "${w}".`);O.error(q)}else O.terminate()}});n.pipeThrough(a);const b=a.readable;return Object.setPrototypeOf(b,ChecksumStream.prototype),b};function U(o){return typeof ReadableStream=="function"&&isReadableStream(o.source)?createChecksumStreamWeb(o):new ChecksumStream(o)}var J=i(57075);function P(o,m,n){if(isReadableStream(o))return createBufferedReadableStream(o,m,n);const w=new Readable({read(){}});let E=!1,d=0;const a=["",new ByteArrayCollector(O=>new Uint8Array(O)),new ByteArrayCollector(O=>Buffer.from(new Uint8Array(O)))];let b=-1;return o.on("data",O=>{const j=modeOf(O,!0);if(b!==j&&(b>=0&&w.push(flush(a,b)),b=j),b===-1){w.push(O);return}const W=sizeOf(O);d+=W;const q=sizeOf(a[b]);if(W>=m&&q===0)w.push(O);else{const de=merge(a,b,O);!E&&d>m*2&&(E=!0,n?.warn(`@smithy/util-stream - stream chunk size ${W} is below threshold of ${m}, automatically buffering.`)),de>=m&&w.push(flush(a,b))}}),o.on("end",()=>{if(b!==-1){const O=flush(a,b);sizeOf(O)>0&&w.push(O)}w.push(null)}),w}const V=(o,m)=>{const{base64Encoder:n,bodyLengthChecker:w,checksumAlgorithmFn:E,checksumLocationName:d,streamHasher:a}=m,b=n!==void 0&&E!==void 0&&d!==void 0&&a!==void 0,O=b?a(E,o):void 0,j=new Readable({read:()=>{}});return o.on("data",W=>{const q=w(W)||0;j.push(`${q.toString(16)}\r
`),j.push(W),j.push(`\r
`)}),o.on("end",async()=>{if(j.push(`0\r
`),b){const W=n(await O);j.push(`${d}:${W}\r
`),j.push(`\r
`)}j.push(null)}),j},X=(o,m)=>isReadableStream(o)?headWebStream(o,m):new Promise((n,w)=>{const E=new ne;E.limit=m,o.pipe(E),o.on("error",d=>{E.end(),w(d)}),E.on("error",w),E.on("finish",function(){const d=new Uint8Array(Buffer.concat(this.buffers));n(d)})});class ne extends F.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(m,n,w){if(this.buffers.push(m),this.bytesBuffered+=m.byteLength??0,this.bytesBuffered>=this.limit){const E=this.bytesBuffered-this.limit,d=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=d.subarray(0,d.byteLength-E),this.emit("finish")}w()}}var oe=i(6633),le=i(69867),pe=i(17365);const re={supported:void 0};class s{static create(m){return typeof m?.handle=="function"?m:new s(m)}constructor(m){typeof m=="function"?this.configProvider=m().then(n=>n||{}):(this.config=m??{},this.configProvider=Promise.resolve(this.config)),re.supported===void 0&&(re.supported=Boolean(typeof Request<"u"&&"keepalive"in createRequest("https://[::1]")))}destroy(){}async handle(m,{abortSignal:n}={}){this.config||(this.config=await this.configProvider);const w=this.config.requestTimeout,E=this.config.keepAlive===!0,d=this.config.credentials;if(n?.aborted){const Y=new Error("Request aborted");return Y.name="AbortError",Promise.reject(Y)}let a=m.path;const b=buildQueryString(m.query||{});b&&(a+=`?${b}`),m.fragment&&(a+=`#${m.fragment}`);let O="";if(m.username!=null||m.password!=null){const Y=m.username??"",te=m.password??"";O=`${Y}:${te}@`}const{port:j,method:W}=m,q=`${m.protocol}//${O}${m.hostname}${j?`:${j}`:""}${a}`,de=W==="GET"||W==="HEAD"?void 0:m.body,se={body:de,headers:new Headers(m.headers),method:W,credentials:d};this.config?.cache&&(se.cache=this.config.cache),de&&(se.duplex="half"),typeof AbortController<"u"&&(se.signal=n),re.supported&&(se.keepalive=E),typeof this.config.requestInit=="function"&&Object.assign(se,this.config.requestInit(m));let me=()=>{};const Ae=createRequest(q,se),ie=[fetch(Ae).then(Y=>{const te=Y.headers,he={};for(const ce of te.entries())he[ce[0]]=ce[1];return Y.body!=null?{response:new HttpResponse({headers:he,reason:Y.statusText,statusCode:Y.status,body:Y.body})}:Y.blob().then(ce=>({response:new HttpResponse({headers:he,reason:Y.statusText,statusCode:Y.status,body:ce})}))}),requestTimeout(w)];return n&&ie.push(new Promise((Y,te)=>{const he=()=>{const Se=new Error("Request aborted");Se.name="AbortError",te(Se)};if(typeof n.addEventListener=="function"){const Se=n;Se.addEventListener("abort",he,{once:!0}),me=()=>Se.removeEventListener("abort",he)}else n.onabort=he})),Promise.race(ie).finally(me)}updateHttpClientConfig(m,n){this.config=void 0,this.configProvider=this.configProvider.then(w=>(w[m]=n,w))}httpHandlerConfigs(){return this.config??{}}}const A=async o=>typeof Blob=="function"&&o instanceof Blob||o.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await o.arrayBuffer()):T(o):L(o);async function T(o){const m=await B(o),n=(0,D.E)(m);return new Uint8Array(n)}async function L(o){const m=[],n=o.getReader();let w=!1,E=0;for(;!w;){const{done:b,value:O}=await n.read();O&&(m.push(O),E+=O.length),w=b}const d=new Uint8Array(E);let a=0;for(const b of m)d.set(b,a),a+=b.length;return d}function B(o){return new Promise((m,n)=>{const w=new FileReader;w.onloadend=()=>{if(w.readyState!==2)return n(new Error("Reader aborted too early"));const E=w.result??"",d=E.indexOf(","),a=d>-1?d+1:E.length;m(E.substring(a))},w.onabort=()=>n(new Error("Read aborted")),w.onerror=()=>n(w.error),w.readAsDataURL(o)})}var c=i(48518);const h=o=>typeof ReadableStream=="function"&&(o?.constructor?.name===ReadableStream.name||o instanceof ReadableStream),H=o=>typeof Blob=="function"&&(o?.constructor?.name===Blob.name||o instanceof Blob),C="The stream has already been transformed.",t=o=>{if(!u(o)&&!h(o)){const E=o?.__proto__?.constructor?.name||o;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${E}`)}let m=!1;const n=async()=>{if(m)throw new Error(C);return m=!0,await A(o)},w=E=>{if(typeof E.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return E.stream()};return Object.assign(o,{transformToByteArray:n,transformToString:async E=>{const d=await n();if(E==="base64")return(0,D.n)(d);if(E==="hex")return(0,c.n)(d);if(E===void 0||E==="utf8"||E==="utf-8")return(0,M.Pq)(d);if(typeof TextDecoder=="function")return new TextDecoder(E).decode(d);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(m)throw new Error(C);if(m=!0,u(o))return w(o);if(h(o))return o;throw new Error(`Cannot transform payload to web stream, got ${o}`)}})},u=o=>typeof Blob=="function"&&o instanceof Blob,I="The stream has already been transformed.",l=o=>{if(!(o instanceof F.Readable))try{return t(o)}catch{const E=o?.__proto__?.constructor?.name||o;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${E}`)}let m=!1;const n=async()=>{if(m)throw new Error(I);return m=!0,await(0,oe.kv)(o)};return Object.assign(o,{transformToByteArray:n,transformToString:async w=>{const E=await n();return w===void 0||Buffer.isEncoding(w)?(0,le.Q)(E.buffer,E.byteOffset,E.byteLength).toString(w):new TextDecoder(w).decode(E)},transformToWebStream:()=>{if(m)throw new Error(I);if(o.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof F.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return m=!0,F.Readable.toWeb(o)}})};async function g(o){if(isReadableStream(o)||isBlob(o))return splitWebStream(o);const m=new PassThrough,n=new PassThrough;return o.pipe(m),o.pipe(n),[m,n]}},31145:(fe,K,i)=>{i.d(K,{o:()=>D});const D=k=>encodeURIComponent(k).replace(/[!'()*]/g,M),M=k=>`%${k.charCodeAt(0).toString(16).toUpperCase()}`},11347:(fe,K,i)=>{i.d(K,{ar:()=>M,Fo:()=>k,Pq:()=>G});var D=i(69867);const M=x=>{const F=(0,D.s)(x,"utf8");return new Uint8Array(F.buffer,F.byteOffset,F.byteLength/Uint8Array.BYTES_PER_ELEMENT)},k=x=>typeof x=="string"?M(x):ArrayBuffer.isView(x)?new Uint8Array(x.buffer,x.byteOffset,x.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(x),G=x=>{if(typeof x=="string")return x;if(typeof x!="object"||typeof x.byteOffset!="number"||typeof x.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,D.Q)(x.buffer,x.byteOffset,x.byteLength).toString("utf8")}},6066:(fe,K,i)=>{i.d(K,{CognitoIdentityClient:()=>at,GetCredentialsForIdentityCommand:()=>Dt,GetIdCommand:()=>Mt});var D=i(59133),M=i(45165),k=i(97983),G=i(65439),x=i(45429),F=i(64470),N=i(5655),$=i(84003),p=i(30924),S=i(27792),U=i(59433),J=i(59897);const P=async(e,y,R)=>({operation:(0,J.u)(y).operation,region:await(0,J.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function V(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(y,R)=>({signingProperties:{config:y,context:R}})}}function X(e){return{schemeId:"smithy.api#noAuth"}}const ne=e=>{const y=[];switch(e.operation){case"GetCredentialsForIdentity":{y.push(X(e));break}case"GetId":{y.push(X(e));break}case"GetOpenIdToken":{y.push(X(e));break}case"UnlinkIdentity":{y.push(X(e));break}default:y.push(V(e))}return y},oe=e=>({...(0,U.h)(e)}),le=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),pe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},re={rE:"3.730.0"};var s=i(50696),A=i(64634),T=i(86398),L=i(78088);const B="AWS_EC2_METADATA_DISABLED",c=async e=>{const{ENV_CMDS_FULL_URI:y,ENV_CMDS_RELATIVE_URI:R,fromContainerMetadata:v,fromInstanceMetadata:ae}=await i.e(5175).then(i.bind(i,95175));if(process.env[R]||process.env[y]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");const{fromHttp:ke}=await i.e(7240).then(i.bind(i,47240));return(0,T.cy)(ke(e),v(e))}return process.env[B]?async()=>{throw new T.C1("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),ae(e))};let h=!1;const H=(e={})=>(0,T.Bj)((0,T.cy)(async()=>{if(e.profile??process.env[L.Ch])throw process.env[A.yG]&&process.env[A.pi]&&(h||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),h=!0)),new T.C1("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,A.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");const{ssoStartUrl:y,ssoAccountId:R,ssoRegion:v,ssoRoleName:ae,ssoSession:ke}=e;if(!y&&!R&&!v&&!ae&&!ke)throw new T.C1("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});const{fromSSO:Ue}=await i.e(9109).then(i.bind(i,39109));return Ue(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");const{fromIni:y}=await i.e(3099).then(i.bind(i,43099));return y(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");const{fromProcess:y}=await i.e(7383).then(i.bind(i,77383));return y(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");const{fromTokenFile:y}=await i.e(1553).then(i.bind(i,61553));return y(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await c(e))()),async()=>{throw new T.C1("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),t,C),C=e=>e?.expiration!==void 0,t=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;var u=i(73637),I=i(35399),l=i(44773),g=i(6633),o=i(69723),m=i(78589),n=i(60914),w=i(17307),E=i(21654),d=i(11347),a=i(3086),b=i(5559);const O="required",j="fn",W="argv",q="ref",de=!0,se="isSet",me="booleanEquals",Ae="error",ie="endpoint",Y="tree",te="PartitionResult",he="getAttr",Se="stringEquals",ce={[O]:!1,type:"String"},Ee={[O]:!0,default:!1,type:"Boolean"},Ce={[q]:"Endpoint"},Ne={[j]:me,[W]:[{[q]:"UseFIPS"},!0]},Re={[j]:me,[W]:[{[q]:"UseDualStack"},!0]},r={},f={[q]:"Region"},_={[j]:he,[W]:[{[q]:te},"supportsFIPS"]},z={[q]:te},Q={[j]:me,[W]:[!0,{[j]:he,[W]:[z,"supportsDualStack"]}]},Z=[Ne],ee=[Re],ue=[f],ge={version:"1.0",parameters:{Region:ce,UseDualStack:Ee,UseFIPS:Ee,Endpoint:ce},rules:[{conditions:[{[j]:se,[W]:[Ce]}],rules:[{conditions:Z,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ae},{conditions:ee,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ae},{endpoint:{url:Ce,properties:r,headers:r},type:ie}],type:Y},{conditions:[{[j]:se,[W]:ue}],rules:[{conditions:[{[j]:"aws.partition",[W]:ue,assign:te}],rules:[{conditions:[Ne,Re],rules:[{conditions:[{[j]:me,[W]:[de,_]},Q],rules:[{conditions:[{[j]:Se,[W]:[f,"us-east-1"]}],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:r,headers:r},type:ie},{conditions:[{[j]:Se,[W]:[f,"us-east-2"]}],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:r,headers:r},type:ie},{conditions:[{[j]:Se,[W]:[f,"us-west-1"]}],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:r,headers:r},type:ie},{conditions:[{[j]:Se,[W]:[f,"us-west-2"]}],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:r,headers:r},type:ie},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:r,headers:r},type:ie}],type:Y},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ae}],type:Y},{conditions:Z,rules:[{conditions:[{[j]:me,[W]:[_,de]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:r,headers:r},type:ie}],type:Y},{error:"FIPS is enabled but this partition does not support FIPS",type:Ae}],type:Y},{conditions:ee,rules:[{conditions:[Q],rules:[{conditions:[{[j]:Se,[W]:["aws",{[j]:he,[W]:[z,"name"]}]}],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:r,headers:r},type:ie},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:r,headers:r},type:ie}],type:Y},{error:"DualStack is enabled but this partition does not support DualStack",type:Ae}],type:Y},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:r,headers:r},type:ie}],type:Y}],type:Y},{error:"Invalid Configuration: Missing Region",type:Ae}]},Te=new b.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ve=(e,y={})=>Te.get(e,()=>(0,b.sO)(ge,{endpointParams:e,logger:y.logger}));b.mw.aws=a.UF;const be=e=>({apiVersion:"2014-06-30",base64Decoder:e?.base64Decoder??E.E,base64Encoder:e?.base64Encoder??E.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ve,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??ne,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:y=>y.getIdentityProvider("aws.auth#sigv4"),signer:new n.f2},{schemeId:"smithy.api#noAuth",identityProvider:y=>y.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new F.mR}],logger:e?.logger??new S.N4,serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??w.D,utf8Decoder:e?.utf8Decoder??d.ar,utf8Encoder:e?.utf8Encoder??d.Pq});var De=i(88727);const Me=e=>{(0,S.I9)(process.version);const y=(0,De.I)(e),R=()=>y().then(S.lT),v=be(e);(0,s.I)(process.version);const ae={profile:e?.profile};return{...v,...e,runtime:"node",defaultsMode:y,bodyLengthChecker:e?.bodyLengthChecker??o.n,credentialDefaultProvider:e?.credentialDefaultProvider??H,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,u.pf)({serviceId:v.serviceId,clientVersion:re.rE}),maxAttempts:e?.maxAttempts??(0,l.Z)(p.qs,e),region:e?.region??(0,l.Z)(x.GG,{...x.zH,...ae}),requestHandler:g.$c.create(e?.requestHandler??R),retryMode:e?.retryMode??(0,l.Z)({...p.kN,default:async()=>(await R()).retryMode||m.L0},e),sha256:e?.sha256??I.V.bind(null,"sha256"),streamCollector:e?.streamCollector??g.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,l.Z)(x.e$,ae),useFipsEndpoint:e?.useFipsEndpoint??(0,l.Z)(x.Ko,ae),userAgentAppId:e?.userAgentAppId??(0,l.Z)(u.hV,ae)}};var Le=i(58390),Fe=i(17365);const $e=e=>{const y=e.httpAuthSchemes;let R=e.httpAuthSchemeProvider,v=e.credentials;return{setHttpAuthScheme(ae){const ke=y.findIndex(Ue=>Ue.schemeId===ae.schemeId);ke===-1?y.push(ae):y.splice(ke,1,ae)},httpAuthSchemes(){return y},setHttpAuthSchemeProvider(ae){R=ae},httpAuthSchemeProvider(){return R},setCredentials(ae){v=ae},credentials(){return v}}},ze=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),je=e=>e,it=(e,y)=>{const R={...je((0,Le.Rq)(e)),...je((0,S.xA)(e)),...je((0,Fe.eS)(e)),...je($e(e))};return y.forEach(v=>v.configure(R)),{...e,...(0,Le.$3)(R),...(0,S.uv)(R),...(0,Fe.jt)(R),...ze(R)}};class at extends S.Kj{constructor(...[R]){const v=Me(R||{}),ae=le(v),ke=(0,G.Dc)(ae),Ue=(0,p.$z)(ke),nt=(0,x.TD)(Ue),He=(0,D.OV)(nt),Be=(0,$.Co)(He),xt=oe(Be),ot=it(xt,R?.extensions||[]);super(ot);Ie(this,"config");this.config=ot,this.middlewareStack.use((0,G.sM)(this.config)),this.middlewareStack.use((0,p.ey)(this.config)),this.middlewareStack.use((0,N.vK)(this.config)),this.middlewareStack.use((0,D.TC)(this.config)),this.middlewareStack.use((0,M.Y7)(this.config)),this.middlewareStack.use((0,k.n4)(this.config)),this.middlewareStack.use((0,F.wB)(this.config,{httpAuthSchemeParametersProvider:P,identityProviderConfigProvider:async $t=>new F.h$({"aws.auth#sigv4":$t.credentials})})),this.middlewareStack.use((0,F.lW)(this.config))}destroy(){super.destroy()}}var st=i(2818);class xe extends S.TJ{constructor(y){super(y),Object.setPrototypeOf(this,xe.prototype)}}const Ft={AUTHENTICATED_ROLE:"AuthenticatedRole",DENY:"Deny"};class Ve extends xe{constructor(R){super({name:"InternalErrorException",$fault:"server",...R});Ie(this,"name","InternalErrorException");Ie(this,"$fault","server");Object.setPrototypeOf(this,Ve.prototype)}}class We extends xe{constructor(R){super({name:"InvalidParameterException",$fault:"client",...R});Ie(this,"name","InvalidParameterException");Ie(this,"$fault","client");Object.setPrototypeOf(this,We.prototype)}}class Ke extends xe{constructor(R){super({name:"LimitExceededException",$fault:"client",...R});Ie(this,"name","LimitExceededException");Ie(this,"$fault","client");Object.setPrototypeOf(this,Ke.prototype)}}class Je extends xe{constructor(R){super({name:"NotAuthorizedException",$fault:"client",...R});Ie(this,"name","NotAuthorizedException");Ie(this,"$fault","client");Object.setPrototypeOf(this,Je.prototype)}}class Qe extends xe{constructor(R){super({name:"ResourceConflictException",$fault:"client",...R});Ie(this,"name","ResourceConflictException");Ie(this,"$fault","client");Object.setPrototypeOf(this,Qe.prototype)}}class Ye extends xe{constructor(R){super({name:"TooManyRequestsException",$fault:"client",...R});Ie(this,"name","TooManyRequestsException");Ie(this,"$fault","client");Object.setPrototypeOf(this,Ye.prototype)}}const Ut={ACCESS_DENIED:"AccessDenied",INTERNAL_SERVER_ERROR:"InternalServerError"};class Xe extends xe{constructor(R){super({name:"ResourceNotFoundException",$fault:"client",...R});Ie(this,"name","ResourceNotFoundException");Ie(this,"$fault","client");Object.setPrototypeOf(this,Xe.prototype)}}class Ze extends xe{constructor(R){super({name:"ExternalServiceException",$fault:"client",...R});Ie(this,"name","ExternalServiceException");Ie(this,"$fault","client");Object.setPrototypeOf(this,Ze.prototype)}}class qe extends xe{constructor(R){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...R});Ie(this,"name","InvalidIdentityPoolConfigurationException");Ie(this,"$fault","client");Object.setPrototypeOf(this,qe.prototype)}}const Ht={CONTAINS:"Contains",EQUALS:"Equals",NOT_EQUAL:"NotEqual",STARTS_WITH:"StartsWith"},Bt={RULES:"Rules",TOKEN:"Token"};class et extends xe{constructor(R){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...R});Ie(this,"name","DeveloperUserAlreadyRegisteredException");Ie(this,"$fault","client");Object.setPrototypeOf(this,et.prototype)}}class tt extends xe{constructor(R){super({name:"ConcurrentModificationException",$fault:"client",...R});Ie(this,"name","ConcurrentModificationException");Ie(this,"$fault","client");Object.setPrototypeOf(this,tt.prototype)}}const ct=e=>({...e,...e.Logins&&{Logins:S.$H}}),dt=e=>({...e,...e.SecretKey&&{SecretKey:S.$H}}),ut=e=>({...e,...e.Credentials&&{Credentials:dt(e.Credentials)}}),lt=e=>({...e,...e.Logins&&{Logins:S.$H}}),zt=e=>({...e,...e.Logins&&{Logins:SENSITIVE_STRING}}),jt=e=>({...e,...e.Token&&{Token:SENSITIVE_STRING}}),Gt=e=>({...e,...e.Logins&&{Logins:SENSITIVE_STRING}}),Vt=e=>({...e,...e.Token&&{Token:SENSITIVE_STRING}}),Wt=e=>({...e,...e.Logins&&{Logins:SENSITIVE_STRING}});var Ge=i(3101);const Kt=async(e,y)=>{const R=Pe("CreateIdentityPool");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},Jt=async(e,y)=>{const R=Pe("DeleteIdentities");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},Qt=async(e,y)=>{const R=Pe("DeleteIdentityPool");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},Yt=async(e,y)=>{const R=Pe("DescribeIdentity");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},Xt=async(e,y)=>{const R=Pe("DescribeIdentityPool");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},ft=async(e,y)=>{const R=Pe("GetCredentialsForIdentity");let v;return v=JSON.stringify((0,S.Ss)(e)),Oe(y,R,"/",void 0,v)},ht=async(e,y)=>{const R=Pe("GetId");let v;return v=JSON.stringify((0,S.Ss)(e)),Oe(y,R,"/",void 0,v)},Zt=async(e,y)=>{const R=Pe("GetIdentityPoolRoles");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},qt=async(e,y)=>{const R=Pe("GetOpenIdToken");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},en=async(e,y)=>{const R=Pe("GetOpenIdTokenForDeveloperIdentity");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},tn=async(e,y)=>{const R=Pe("GetPrincipalTagAttributeMap");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},nn=async(e,y)=>{const R=Pe("ListIdentities");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},sn=async(e,y)=>{const R=Pe("ListIdentityPools");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},rn=async(e,y)=>{const R=Pe("ListTagsForResource");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},on=async(e,y)=>{const R=Pe("LookupDeveloperIdentity");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},an=async(e,y)=>{const R=Pe("MergeDeveloperIdentities");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},cn=async(e,y)=>{const R=Pe("SetIdentityPoolRoles");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},dn=async(e,y)=>{const R=Pe("SetPrincipalTagAttributeMap");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},un=async(e,y)=>{const R=Pe("TagResource");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},ln=async(e,y)=>{const R=Pe("UnlinkDeveloperIdentity");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},fn=async(e,y)=>{const R=Pe("UnlinkIdentity");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},hn=async(e,y)=>{const R=Pe("UntagResource");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},mn=async(e,y)=>{const R=Pe("UpdateIdentityPool");let v;return v=JSON.stringify(_json(e)),Oe(y,R,"/",void 0,v)},pn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},gn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},yn=async(e,y)=>e.statusCode>=300?_e(e,y):(await collectBody(e.body,y),{$metadata:we(e)}),Sn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=rt(R,y),{$metadata:we(e),...v}},En=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},mt=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await(0,Ge.Y2)(e.body,y);let v={};return v=_t(R,y),{$metadata:we(e),...v}},pt=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await(0,Ge.Y2)(e.body,y);let v={};return v=(0,S.Ss)(R),{$metadata:we(e),...v}},wn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},Tn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},Cn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},An=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},Rn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=Pt(R,y),{$metadata:we(e),...v}},bn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},In=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},vn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},_n=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},On=async(e,y)=>e.statusCode>=300?_e(e,y):(await collectBody(e.body,y),{$metadata:we(e)}),Pn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},Nn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},Dn=async(e,y)=>e.statusCode>=300?_e(e,y):(await collectBody(e.body,y),{$metadata:we(e)}),Mn=async(e,y)=>e.statusCode>=300?_e(e,y):(await collectBody(e.body,y),{$metadata:we(e)}),xn=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},$n=async(e,y)=>{if(e.statusCode>=300)return _e(e,y);const R=await parseBody(e.body,y);let v={};return v=_json(R),{$metadata:we(e),...v}},_e=async(e,y)=>{const R={...e,body:await(0,Ge.CG)(e.body,y)},v=(0,Ge.cJ)(e,R.body);switch(v){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await Et(R,y);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await Tt(R,y);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await Ct(R,y);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await At(R,y);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await Rt(R,y);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await It(R,y);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await bt(R,y);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await St(R,y);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await wt(R,y);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await yt(R,y);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await gt(R,y);default:const ae=R.body;return Nt({output:e,parsedBody:ae,errorCode:v})}},gt=async(e,y)=>{const R=e.body,v=(0,S.Ss)(R),ae=new tt({$metadata:we(e),...v});return(0,S.Mw)(ae,R)},yt=async(e,y)=>{const R=e.body,v=(0,S.Ss)(R),ae=new et({$metadata:we(e),...v});return(0,S.Mw)(ae,R)},St=async(e,y)=>{const R=e.body,v=(0,S.Ss)(R),ae=new Ze({$metadata:we(e),...v});return(0,S.Mw)(ae,R)},Et=async(e,y)=>{const R=e.body,v=(0,S.Ss)(R),ae=new Ve({$metadata:we(e),...v});return(0,S.Mw)(ae,R)},wt=async(e,y)=>{const R=e.body,v=(0,S.Ss)(R),ae=new qe({$metadata:we(e),...v});return(0,S.Mw)(ae,R)},Tt=async(e,y)=>{const R=e.body,v=(0,S.Ss)(R),ae=new We({$metadata:we(e),...v});return(0,S.Mw)(ae,R)},Ct=async(e,y)=>{const R=e.body,v=(0,S.Ss)(R),ae=new Ke({$metadata:we(e),...v});return(0,S.Mw)(ae,R)},At=async(e,y)=>{const R=e.body,v=(0,S.Ss)(R),ae=new Je({$metadata:we(e),...v});return(0,S.Mw)(ae,R)},Rt=async(e,y)=>{const R=e.body,v=(0,S.Ss)(R),ae=new Qe({$metadata:we(e),...v});return(0,S.Mw)(ae,R)},bt=async(e,y)=>{const R=e.body,v=(0,S.Ss)(R),ae=new Xe({$metadata:we(e),...v});return(0,S.Mw)(ae,R)},It=async(e,y)=>{const R=e.body,v=(0,S.Ss)(R),ae=new Ye({$metadata:we(e),...v});return(0,S.Mw)(ae,R)},vt=(e,y)=>(0,S.s)(e,{AccessKeyId:S.lK,Expiration:R=>(0,S.Y0)((0,S.l3)((0,S.r$)(R))),SecretKey:S.lK,SessionToken:S.lK}),_t=(e,y)=>(0,S.s)(e,{Credentials:R=>vt(R,y),IdentityId:S.lK}),Ot=(e,y)=>(e||[]).filter(v=>v!=null).map(v=>rt(v,y)),rt=(e,y)=>take(e,{CreationDate:R=>__expectNonNull(__parseEpochTimestamp(__expectNumber(R))),IdentityId:__expectString,LastModifiedDate:R=>__expectNonNull(__parseEpochTimestamp(__expectNumber(R))),Logins:_json}),Pt=(e,y)=>take(e,{Identities:R=>Ot(R,y),IdentityPoolId:__expectString,NextToken:__expectString}),we=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Ln=(e,y)=>collectBody(e,y).then(R=>y.utf8Encoder(R)),Nt=(0,S.jr)(xe),Oe=async(e,y,R,v,ae)=>{const{hostname:ke,protocol:Ue="https",port:nt,path:He}=await e.endpoint(),Be={protocol:Ue,hostname:ke,port:nt,method:"POST",path:He.endsWith("/")?He.slice(0,-1)+R:He+R,headers:y};return v!==void 0&&(Be.hostname=v),ae!==void 0&&(Be.body=ae),new Fe.Kd(Be)};function Pe(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}}class Dt extends S.uB.classBuilder().ep(pe).m(function(y,R,v,ae){return[(0,st.TM)(v,this.serialize,this.deserialize),(0,$.rD)(v,y.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(ct,ut).ser(ft).de(mt).build(){}class Mt extends S.uB.classBuilder().ep(pe).m(function(y,R,v,ae){return[(0,st.TM)(v,this.serialize,this.deserialize),(0,$.rD)(v,y.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(lt,void 0).ser(ht).de(pt).build(){}}};
