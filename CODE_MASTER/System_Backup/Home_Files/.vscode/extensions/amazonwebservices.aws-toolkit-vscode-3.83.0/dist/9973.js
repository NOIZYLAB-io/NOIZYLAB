"use strict";var $t=Object.defineProperty;var Ut=(v,u,n)=>u in v?$t(v,u,{enumerable:!0,configurable:!0,writable:!0,value:n}):v[u]=n;var h=(v,u,n)=>(Ut(v,typeof u!="symbol"?u+"":u,n),n);exports.id=9973,exports.ids=[9973],exports.modules={69973:(v,u,n)=>{n.d(u,{GetRoleCredentialsCommand:()=>De,SSOClient:()=>Ot});var b=n(34078),G=n(23664),O=n(86197);const V=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),B={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var N=n(10431),C=n(80602);class y extends C.T{constructor(s){super(s),Object.setPrototypeOf(this,y.prototype)}}class F extends y{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});h(this,"name","InvalidRequestException");h(this,"$fault","client");Object.setPrototypeOf(this,F.prototype)}}class z extends y{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t});h(this,"name","ResourceNotFoundException");h(this,"$fault","client");Object.setPrototypeOf(this,z.prototype)}}class D extends y{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t});h(this,"name","TooManyRequestsException");h(this,"$fault","client");Object.setPrototypeOf(this,D.prototype)}}class L extends y{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t});h(this,"name","UnauthorizedException");h(this,"$fault","client");Object.setPrototypeOf(this,L.prototype)}}const ye=e=>({...e,...e.accessToken&&{accessToken:N.$}}),Se=e=>({...e,...e.secretAccessKey&&{secretAccessKey:N.$},...e.sessionToken&&{sessionToken:N.$}}),fe=e=>({...e,...e.roleCredentials&&{roleCredentials:Se(e.roleCredentials)}}),Ht=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),Mt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),Gt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}});var j=n(12733),Ee=n(17778),i=n(48151);const xe=e=>e!=null;var p=n(28446),Ce=n(36398),Re=n(12081);const Pe=async(e,s)=>{const t=(0,Ee.l)(e,s),o=(0,i.Tj)({},xe,{[A]:e[I]});t.bp("/federation/credentials");const a=(0,i.Tj)({[ze]:[,(0,p.Y0)(e[Fe],"roleName")],[w]:[,(0,p.Y0)(e[K],"accountId")]});let r;return t.m("GET").h(o).q(a).b(r),t.build()},Vt=async(e,s)=>{const t=rb(e,s),o=map({},isSerializableHeaderValue,{[A]:e[I]});t.bp("/assignment/roles");const a=map({[k]:[,e[W]],[Y]:[()=>e.maxResults!==void 0,()=>e[Z].toString()],[w]:[,__expectNonNull(e[K],"accountId")]});let r;return t.m("GET").h(o).q(a).b(r),t.build()},Bt=async(e,s)=>{const t=rb(e,s),o=map({},isSerializableHeaderValue,{[A]:e[I]});t.bp("/assignment/accounts");const a=map({[k]:[,e[W]],[Y]:[()=>e.maxResults!==void 0,()=>e[Z].toString()]});let r;return t.m("GET").h(o).q(a).b(r),t.build()},Kt=async(e,s)=>{const t=rb(e,s),o=map({},isSerializableHeaderValue,{[A]:e[I]});t.bp("/logout");let a;return t.m("POST").h(o).b(a),t.build()},Ie=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return P(e,s);const t=(0,i.Tj)({$metadata:g(e)}),o=(0,p.Y0)((0,p.Xk)(await(0,j.Y2)(e.body,s)),"body"),a=(0,i.s)(o,{roleCredentials:Ce.S});return Object.assign(t,a),t},wt=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return P(e,s);const t=map({$metadata:g(e)}),o=__expectNonNull(__expectObject(await parseBody(e.body,s)),"body"),a=take(o,{nextToken:__expectString,roleList:_json});return Object.assign(t,a),t},Zt=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return P(e,s);const t=map({$metadata:g(e)}),o=__expectNonNull(__expectObject(await parseBody(e.body,s)),"body"),a=take(o,{accountList:_json,nextToken:__expectString});return Object.assign(t,a),t},Yt=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return P(e,s);const t=map({$metadata:g(e)});return await collectBody(e.body,s),t},P=async(e,s)=>{const t={...e,body:await(0,j.CG)(e.body,s)},o=(0,j.cJ)(e,t.body);switch(o){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Te(t,s);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await be(t,s);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Oe(t,s);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Ne(t,s);default:const a=t.body;return Ae({output:e,parsedBody:a,errorCode:o})}},Ae=(0,Re.j)(y),Te=async(e,s)=>{const t=(0,i.Tj)({}),o=e.body,a=(0,i.s)(o,{message:p.lK});Object.assign(t,a);const r=new F({$metadata:g(e),...t});return(0,C.M)(r,e.body)},be=async(e,s)=>{const t=(0,i.Tj)({}),o=e.body,a=(0,i.s)(o,{message:p.lK});Object.assign(t,a);const r=new z({$metadata:g(e),...t});return(0,C.M)(r,e.body)},Oe=async(e,s)=>{const t=(0,i.Tj)({}),o=e.body,a=(0,i.s)(o,{message:p.lK});Object.assign(t,a);const r=new D({$metadata:g(e),...t});return(0,C.M)(r,e.body)},Ne=async(e,s)=>{const t=(0,i.Tj)({}),o=e.body,a=(0,i.s)(o,{message:p.lK});Object.assign(t,a);const r=new L({$metadata:g(e),...t});return(0,C.M)(r,e.body)},g=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Wt=(e,s)=>collectBody(e,s).then(t=>s.utf8Encoder(t)),K="accountId",I="accessToken",w="account_id",Z="maxResults",Y="max_result",W="nextToken",k="next_token",Fe="roleName",ze="role_name",A="x-amz-sso_bearer_token";class De extends O.u.classBuilder().ep(B).m(function(s,t,o,a){return[(0,G.TM)(o,this.serialize,this.deserialize),(0,b.r)(o,s.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(ye,fe).ser(Pe).de(Ie).build(){}var J=n(7613),Le=n(94573),je=n(45574),X=n(73791),$e=n(8053),Ue=n(10310),He=n(36514),Me=n(69602),Ge=n(96343),Ve=n(11809),$=n(52649),Be=n(55172),Ke=n(58167),we=n(56995),Ze=n(47361),Q=n(49229);const Ye=async(e,s,t)=>({operation:(0,Ze.u)(s).operation,region:await(0,Q.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function We(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(s,t)=>({signingProperties:{config:s,context:t}})}}function T(e){return{schemeId:"smithy.api#noAuth"}}const ke=e=>{const s=[];switch(e.operation){case"GetRoleCredentials":{s.push(T(e));break}case"ListAccountRoles":{s.push(T(e));break}case"ListAccounts":{s.push(T(e));break}case"Logout":{s.push(T(e));break}default:s.push(We(e))}return s},Je=e=>{const s=(0,we.h)(e);return Object.assign(s,{authSchemePreference:(0,Q.t)(e.authSchemePreference??[])})},Xe={rE:"3.888.0"};var Qe=n(84136),qe=n(84770),q=n(57541),_=n(52642),_e=n(72194),et=n(54268),tt=n(7623),S=n(8075),st=n(38084),nt=n(29804),ot=n(55549),at=n(29329),rt=n(17106),it=n(40806),dt=n(27883),ct=n(92680),lt=n(95557),ut=n(71816),ht=n(42117),mt=n(35952),pt=n(9409),gt=n(37819),vt=n(72301),yt=n(12106);const ee="required",d="fn",c="argv",f="ref",te=!0,se="isSet",R="booleanEquals",E="error",x="endpoint",m="tree",U="PartitionResult",H="getAttr",ne={[ee]:!1,type:"String"},oe={[ee]:!0,default:!1,type:"Boolean"},ae={[f]:"Endpoint"},re={[d]:R,[c]:[{[f]:"UseFIPS"},!0]},ie={[d]:R,[c]:[{[f]:"UseDualStack"},!0]},l={},de={[d]:H,[c]:[{[f]:U},"supportsFIPS"]},ce={[f]:U},le={[d]:R,[c]:[!0,{[d]:H,[c]:[ce,"supportsDualStack"]}]},ue=[re],he=[ie],me=[{[f]:"Region"}],St={version:"1.0",parameters:{Region:ne,UseDualStack:oe,UseFIPS:oe,Endpoint:ne},rules:[{conditions:[{[d]:se,[c]:[ae]}],rules:[{conditions:ue,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:E},{conditions:he,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:E},{endpoint:{url:ae,properties:l,headers:l},type:x}],type:m},{conditions:[{[d]:se,[c]:me}],rules:[{conditions:[{[d]:"aws.partition",[c]:me,assign:U}],rules:[{conditions:[re,ie],rules:[{conditions:[{[d]:R,[c]:[te,de]},le],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:x}],type:m},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:E}],type:m},{conditions:ue,rules:[{conditions:[{[d]:R,[c]:[de,te]}],rules:[{conditions:[{[d]:"stringEquals",[c]:[{[d]:H,[c]:[ce,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:l,headers:l},type:x},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:x}],type:m},{error:"FIPS is enabled but this partition does not support FIPS",type:E}],type:m},{conditions:he,rules:[{conditions:[le],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:x}],type:m},{error:"DualStack is enabled but this partition does not support DualStack",type:E}],type:m},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:x}],type:m}],type:m},{error:"Invalid Configuration: Missing Region",type:E}]},ft=new gt.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Et=(e,s={})=>ft.get(e,()=>(0,vt.s)(St,{endpointParams:e,logger:s.logger}));yt.m.aws=pt.UF;const xt=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??lt.E,base64Encoder:e?.base64Encoder??ut.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Et,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??ke,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4"),signer:new rt.f2},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new it.m}],logger:e?.logger??new dt.N,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??ct.D,utf8Decoder:e?.utf8Decoder??ht.a,utf8Encoder:e?.utf8Encoder??mt.P});var Ct=n(62159),Rt=n(8334),Pt=n(66349);const It=e=>{(0,Pt.I)(process.version);const s=(0,Rt.I)(e),t=()=>s().then(Ct.l),o=xt(e);(0,Qe.I)(process.version);const a={profile:e?.profile,logger:o.logger};return{...o,...e,runtime:"node",defaultsMode:s,authSchemePreference:e?.authSchemePreference??(0,S.Z)(qe.$,a),bodyLengthChecker:e?.bodyLengthChecker??ot.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,q.pf)({serviceId:o.serviceId,clientVersion:Xe.rE}),maxAttempts:e?.maxAttempts??(0,S.Z)($.qs,e),region:e?.region??(0,S.Z)(_.GG,{..._.zH,...a}),requestHandler:st.$.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,S.Z)({...$.kN,default:async()=>(await t()).retryMode||at.L0},e),sha256:e?.sha256??tt.V.bind(null,"sha256"),streamCollector:e?.streamCollector??nt.k,useDualstackEndpoint:e?.useDualstackEndpoint??(0,S.Z)(_e.e$,a),useFipsEndpoint:e?.useFipsEndpoint??(0,S.Z)(et.Ko,a),userAgentAppId:e?.userAgentAppId??(0,S.Z)(q.hV,a)}};var pe=n(41270),ge=n(60274),ve=n(78134);const At=e=>{const s=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(a){const r=s.findIndex(M=>M.schemeId===a.schemeId);r===-1?s.push(a):s.splice(r,1,a)},httpAuthSchemes(){return s},setHttpAuthSchemeProvider(a){t=a},httpAuthSchemeProvider(){return t},setCredentials(a){o=a},credentials(){return o}}},Tt=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),bt=(e,s)=>{const t=Object.assign((0,pe.Rq)(e),(0,ve.xA)(e),(0,ge.e)(e),At(e));return s.forEach(o=>o.configure(t)),Object.assign(e,(0,pe.$3)(t),(0,ve.uv)(t),(0,ge.j)(t),Tt(t))};class Ot extends Ke.K{constructor(...[t]){const o=It(t||{});super(o);h(this,"config");this.initConfig=o;const a=V(o),r=(0,X.Dc)(a),M=(0,$.$z)(r),Nt=(0,$e.T)(M),Ft=(0,J.OV)(Nt),zt=(0,Ve.C)(Ft),Dt=Je(zt),Lt=bt(Dt,t?.extensions||[]);this.config=Lt,this.middlewareStack.use((0,X.sM)(this.config)),this.middlewareStack.use((0,Be.ey)(this.config)),this.middlewareStack.use((0,Ge.vK)(this.config)),this.middlewareStack.use((0,J.TC)(this.config)),this.middlewareStack.use((0,Le.Y7)(this.config)),this.middlewareStack.use((0,je.n)(this.config)),this.middlewareStack.use((0,Ue.w)(this.config,{httpAuthSchemeParametersProvider:Ye,identityProviderConfigProvider:async jt=>new He.h({"aws.auth#sigv4":jt.credentials})})),this.middlewareStack.use((0,Me.l)(this.config))}destroy(){super.destroy()}}},40806:(v,u,n)=>{n.d(u,{m:()=>b});class b{async sign(O,V,B){return O}}}};
