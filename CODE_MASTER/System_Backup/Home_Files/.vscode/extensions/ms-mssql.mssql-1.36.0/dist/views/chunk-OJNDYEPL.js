import{Nc as w,Qc as l,Rc as h,Sc as R,Tc as b,Uc as C,Xc as S,Yc as W,Zc as g,_c as x,c as s,d as G,fd as y,g as p,gd as L,p as f,s as v}from"./chunk-V3XRZIHQ.js";var e=s(G());var a=s(f()),k=L.vscodeApiInstance,P=(0,e.createContext)(void 0);function Y({children:i}){let c=k,t=g.getInstance(c),[r,d]=(0,e.useState)(1),[u,m]=(0,e.useState)(),[V,T]=(0,e.useState)(!1),[E,q]=(0,e.useState)(y());(0,e.useEffect)(()=>{async function n(){let o=await t.sendRequest(b.type);d(o)}async function z(){let o=await t.sendRequest(R.type());m(o)}async function N(){await t.sendNotification(S.type,{loadCompleteTimeStamp:Date.now()})}async function O(){let o=await t.sendRequest(C.type);o&&(await p({contents:o}),await new Promise(K=>setTimeout(K,1e3)),w.createInstance()),T(!0)}async function I(){let o=await t.sendRequest(W.type);q(o)}n(),z(),N(),O(),I()},[]),t.onNotification(l.type,n=>{d(n)}),t.onNotification(h.type(),n=>{m(n)});function A(){return u!==void 0}return(0,a.jsx)(P.Provider,{value:{vscodeApi:c,extensionRpc:t,state:u,themeKind:r,localization:V,EOL:E},children:(0,a.jsx)(v,{style:{height:"100%",width:"100%"},theme:x(r),children:A()&&i})})}function Z(){let i=(0,e.useContext)(P);if(!i)throw new Error("useVscodeWebview must be used within a VscodeWebviewProvider");return i}export{Y as a,Z as b};
