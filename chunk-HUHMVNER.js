import{$b as T,Cb as p,Lc as k,Oc as q,Vb as z,Xb as E,Yb as F,Z as f,Zb as R,_ as D,_b as A,bd as a,c as g,cd as U,d as O,k as M,p as S,tb as l,wb as m}from"./chunk-M3U674VW.js";var w=g(U()),J;(o=>o.type=new w.RequestType("changePasswordWebview/changePassword"))(J||={});var K;(o=>o.type=new w.NotificationType("changePasswordWebview/cancelChangePassword"))(K||={});var i=g(O());var e=g(S()),Q=M({root:{minWidth:"550px",maxWidth:"550px"},title:{fontSize:"18px",fontWeight:"600"},content:{display:"flex",flexDirection:"column",gap:"16px"},apiErrorMessage:{marginBottom:"0"},description:{fontSize:"14px",color:"var(--colorNeutralForeground2)",lineHeight:"20px",marginBottom:"4px"},passwordField:{marginBottom:"0"},fieldGroup:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"4px"},actions:{marginTop:"4px"}}),$=({onClose:u,onSubmit:o,serverName:y,userName:x})=>{let s=Q(),[d,W]=(0,i.useState)(!1),[c,_]=(0,i.useState)(!1),[r,C]=(0,i.useState)(""),[h,G]=(0,i.useState)(""),[v,I]=(0,i.useState)(void 0),B=r===h,P=r.trim()==="",N=h.trim()==="",b=!N&&!B,L=P||N||!B,H=a.changePasswordDialog.dialogAriaLabel(x??"",y??"");return(0,e.jsx)(z,{open:!0,modalType:"modal",children:(0,e.jsx)(A,{className:s.root,"aria-label":H,children:(0,e.jsxs)(F,{children:[(0,e.jsx)(R,{className:s.title,children:a.changePasswordDialog.title}),(0,e.jsx)(T,{children:(0,e.jsxs)("div",{className:s.content,children:[v&&(0,e.jsx)(k,{intent:"error",className:s.apiErrorMessage,children:(0,e.jsx)(q,{children:v})}),(0,e.jsx)("div",{className:s.description,children:a.changePasswordDialog.description(y??"")}),(0,e.jsxs)("div",{className:s.fieldGroup,children:[(0,e.jsx)(m,{size:"medium",className:s.passwordField,label:a.changePasswordDialog.username,children:(0,e.jsx)(p,{size:"medium",disabled:!0,value:x,onChange:(n,t)=>C(t.value),"aria-label":a.changePasswordDialog.username,"aria-readonly":"true"})}),(0,e.jsx)(m,{size:"medium",className:s.passwordField,label:a.changePasswordDialog.newPassword,required:!0,validationMessage:P&&r!==""?a.changePasswordDialog.passwordIsRequired:void 0,validationState:P&&r!==""?"error":"none",children:(0,e.jsx)(p,{size:"medium",type:d?"text":"password",placeholder:a.changePasswordDialog.newPasswordPlaceholder,required:!0,value:r,onChange:(n,t)=>C(t.value),contentAfter:(0,e.jsx)(l,{size:"small",onClick:()=>W(!d),appearance:"transparent",title:d?a.changePasswordDialog.hideNewPassword:a.changePasswordDialog.showNewPassword,icon:d?(0,e.jsx)(f,{}):(0,e.jsx)(D,{})})})}),(0,e.jsx)(m,{size:"medium",className:s.passwordField,label:a.changePasswordDialog.confirmPassword,required:!0,validationMessage:b?a.changePasswordDialog.passwordsDoNotMatch:void 0,validationState:b?"error":"none",children:(0,e.jsx)(p,{size:"medium",type:c?"text":"password",placeholder:a.changePasswordDialog.confirmPasswordPlaceholder,required:!0,value:h,onChange:(n,t)=>G(t.value),contentAfter:(0,e.jsx)(l,{size:"small",onClick:()=>_(!c),appearance:"transparent",title:c?a.changePasswordDialog.hideConfirmPassword:a.changePasswordDialog.showConfirmPassword,icon:c?(0,e.jsx)(f,{}):(0,e.jsx)(D,{})})})})]})]})}),(0,e.jsxs)(E,{className:s.actions,children:[(0,e.jsx)(l,{size:"medium",appearance:"primary",title:a.changePasswordDialog.changePasswordButton,disabled:L,onClick:async()=>{if(o){let n=await o(r);n?.errorMessage&&I(n.errorMessage)}},children:a.changePasswordDialog.changePasswordButton}),(0,e.jsx)(l,{size:"medium",appearance:"secondary",title:a.changePasswordDialog.cancelButton,onClick:async()=>{u?.()},children:a.changePasswordDialog.cancelButton})]})]})})})};export{J as a,K as b,$ as c};
