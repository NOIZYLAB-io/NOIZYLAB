"use strict";(self.webpackChunkfolder_workbench=self.webpackChunkfolder_workbench||[]).push([[5505,2244],{65505:(e,t,n)=>{n.r(t),n.d(t,{camelCase:()=>d,createWorker:()=>m,createWorkerPool:()=>k,debounce:()=>o,openLinkFromMonaco:()=>p,useDebounce:()=>i,useDebouncedCallback:()=>l,useDeepCompareEffect:()=>c,useDeepCompareEffectNoCheck:()=>a,useDeepCompareMemoize:()=>s});var r=n(40540);function o(e,t,n){let r,o,i,u,s,c,a=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");if(t=+t||0,n&&function(e){const t=typeof e;return null!=e&&("object"===t||"function"===t)}(n)){if(l=!!n.leading,f="maxWait"in n,f){const e=n.maxWait||0;i=Math.max(+e,t)}d="trailing"in n?!!n.trailing:d}function m(t){var n;const i=null!=(n=r)?n:[],s=o;return r=o=void 0,a=t,u=e.apply(s,i),u}function k(e,t){return setTimeout(e,t)}function p(e){const n=e-c;return void 0===c||n>=t||n<0||f&&e-a>=i}function v(){const e=Date.now();if(p(e))return y(e);s=k(v,function(e){const n=e-a,r=t-(e-c);return f?Math.min(r,i-n):r}(e))}function y(e){return s=void 0,d&&r?m(e):(r=o=void 0,u)}function h(...e){const n=Date.now(),i=p(n);if(r=e,o=this,c=n,i){if(void 0===s)return function(e){return a=e,s=k(v,t),l?m(e):u}(c);if(f)return s=k(v,t),m(c)}return void 0===s&&(s=k(v,t)),u}return h.cancel=function(){void 0!==s&&clearTimeout(s),a=0,r=c=o=s=void 0},h.flush=function(){return void 0===s?u:y(Date.now())},h.pending=function(){return void 0!==s},h}function i(e,t=400,n){const[i,u]=(0,r.useState)(e);return(0,r.useEffect)((()=>{const r=o((e=>{u(e)}),t,n);return r(e),()=>{r.cancel()}}),[e,t,null==n?void 0:n.leading,null==n?void 0:n.trailing,null==n?void 0:n.maxWait]),i}function u(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;const n=typeof e;if(["string","number","boolean","undefined"].includes(typeof e))return e===t;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every(((e,t)=>u(e,r[t])))}return"object"===n&&(null===e&&null===t||null!==e&&null!==t&&!Array.isArray(e)&&!Array.isArray(t)&&Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((n=>u(e[n],t[n]))))}function s(e){const t=r.useRef(e),n=r.useRef(0);return u(e,t.current)||(t.current=e,n.current+=1),r.useMemo((()=>t.current),[n.current])}function c(e,t){return r.useEffect(e,s(t))}function a(e,t){return r.useEffect(e,s(t))}function l(e,t=400,n){const i=(0,r.useRef)();return(0,r.useCallback)(((...r)=>(i.current||(i.current=o(e,t,n)),i.current(...r))),[e,t,null==n?void 0:n.leading,null==n?void 0:n.trailing,null==n?void 0:n.maxWait])}const f=new RegExp(["[A-Z][a-z]+","[A-Z]+(?=[A-Z][a-z])","[A-Z]+","[a-z]+","[0-9]+"].join("|"),"g");function d(e=""){return function(e="",t){return void 0===t?e.match(f)||[]:e.match(t)||[]}(e).map(((e,t)=>0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join("")}const m=async e=>{const t=await fetch(`${window.BASE_URL_PREFIX}/workers/${e}.js`),n=await t.blob(),r=URL.createObjectURL(n);return new Worker(r)};function k(e,t,n){const r=[],o=[];let i;function u(){const t=e();return t.busy=!1,t.addEventListener("message",c),t.addEventListener("error",c),t}function s(){clearTimeout(i);const e=r.find((e=>!e.busy));if(e&&o.length>0){const t=o.shift();if(t){const{data:o,resolve:i,reject:u}=t;e.busy=!0,e.currentTask=o,e.postMessage(o),e.taskResolve=i,e.taskReject=u,e.taskTimeoutId=setTimeout((()=>{var t;(t=e).busy&&(t.taskTimeoutId=void 0,null==t.taskReject||t.taskReject(new Error(`Task execution timed out after ${n}ms`)),t.terminate(),function(e){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}(t),s())}),n)}}else 0===o.length&&(i=setTimeout((()=>{a()}),n))}function c(e){const t=e.target;t.taskTimeoutId&&(clearTimeout(t.taskTimeoutId),t.taskTimeoutId=void 0),t.busy=!1,t.currentTask=void 0,"message"===e.type?null==t.taskResolve||t.taskResolve(e.data):null==t.taskReject||t.taskReject(e.message),t.taskResolve=void 0,t.taskReject=void 0,s()}function a(){for(const e of r)e.taskTimeoutId&&(clearTimeout(e.taskTimeoutId),e.taskTimeoutId=void 0),e.terminate();r.length=0}return{execute:function(e){return new Promise(((n,i)=>{o.push({data:e,resolve:n,reject:i}),function(){for(;r.length<t;)r.push(u())}(),s()}))},terminateWorkers:a}}const p=(e,t)=>(async(e,t)=>{const{openInBrowser:r,data:o={}}=t;null!=o&&o.url&&"/"===e[0]&&(e=o.url+e);try{const{VSCodeCommunicationsService:t}=await n.e(1466).then(n.t.bind(n,21466,23));r?t.postMessageToExtensionAsPromise({type:"OPEN_EXTERNAL_LINK",payload:{url:e}}):(o&&(o.url=e),t.postMessageToExtensionAsPromise({type:"CREATE_NEW_REQUEST_WITH_INITIAL_CONTEXT",payload:{initialContext:JSON.stringify(o)}}))}catch(e){}})(e,t)}}]);
//# sourceMappingURL=5505.c9dfa4e1e1c2c717.js.map