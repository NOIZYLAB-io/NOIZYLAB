"use strict";var pt=Object.defineProperty;var mt=(f,u,n)=>u in f?pt(f,u,{enumerable:!0,configurable:!0,writable:!0,value:n}):f[u]=n;var y=(f,u,n)=>(mt(f,typeof u!="symbol"?u+"":u,n),n);exports.id=6642,exports.ids=[6642],exports.modules={936642:(f,u,n)=>{n.d(u,{GetRoleCredentialsCommand:()=>we,SSOClient:()=>at});var P=n(638817),A=n(459473),o=n(286947);const D=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),F={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class l extends o.TJ{constructor(s){super(s),Object.setPrototypeOf(this,l.prototype)}}class i extends l{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});y(this,"name","InvalidRequestException");y(this,"$fault","client");Object.setPrototypeOf(this,i.prototype)}}class c extends l{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t});y(this,"name","ResourceNotFoundException");y(this,"$fault","client");Object.setPrototypeOf(this,c.prototype)}}class g extends l{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t});y(this,"name","TooManyRequestsException");y(this,"$fault","client");Object.setPrototypeOf(this,g.prototype)}}class S extends l{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t});y(this,"name","UnauthorizedException");y(this,"$fault","client");Object.setPrototypeOf(this,S.prototype)}}const E=e=>({...e,...e.accessToken&&{accessToken:o.$H}}),T=e=>({...e,...e.secretAccessKey&&{secretAccessKey:o.$H},...e.sessionToken&&{sessionToken:o.$H}}),z=e=>({...e,...e.roleCredentials&&{roleCredentials:T(e.roleCredentials)}}),yt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),gt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),St=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}});var L=n(512178),fe=n(387293);const xe=async(e,s)=>{const t=(0,fe.l)(e,s),r=(0,o.Tj)({},o.eU,{[k]:e[$]});t.bp("/federation/credentials");const a=(0,o.Tj)({[Te]:[,(0,o.Y0)(e[Ae],"roleName")],[Z]:[,(0,o.Y0)(e[K],"accountId")]});let d;return t.m("GET").h(r).q(a).b(d),t.build()},vt=async(e,s)=>{const t=rb(e,s),r=map({},isSerializableHeaderValue,{[k]:e[$]});t.bp("/assignment/roles");const a=map({[W]:[,e[J]],[Y]:[()=>e.maxResults!==void 0,()=>e[q].toString()],[Z]:[,__expectNonNull(e[K],"accountId")]});let d;return t.m("GET").h(r).q(a).b(d),t.build()},ft=async(e,s)=>{const t=rb(e,s),r=map({},isSerializableHeaderValue,{[k]:e[$]});t.bp("/assignment/accounts");const a=map({[W]:[,e[J]],[Y]:[()=>e.maxResults!==void 0,()=>e[q].toString()]});let d;return t.m("GET").h(r).q(a).b(d),t.build()},xt=async(e,s)=>{const t=rb(e,s),r=map({},isSerializableHeaderValue,{[k]:e[$]});t.bp("/logout");let a;return t.m("POST").h(r).b(a),t.build()},Ee=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,s);const t=(0,o.Tj)({$metadata:x(e)}),r=(0,o.Y0)((0,o.Xk)(await(0,L.Y2)(e.body,s)),"body"),a=(0,o.s)(r,{roleCredentials:o.Ss});return Object.assign(t,a),t},Et=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,s);const t=map({$metadata:x(e)}),r=__expectNonNull(__expectObject(await parseBody(e.body,s)),"body"),a=take(r,{nextToken:__expectString,roleList:_json});return Object.assign(t,a),t},Rt=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,s);const t=map({$metadata:x(e)}),r=__expectNonNull(__expectObject(await parseBody(e.body,s)),"body"),a=take(r,{accountList:_json,nextToken:__expectString});return Object.assign(t,a),t},Pt=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return N(e,s);const t=map({$metadata:x(e)});return await collectBody(e.body,s),t},N=async(e,s)=>{const t={...e,body:await(0,L.CG)(e.body,s)},r=(0,L.cJ)(e,t.body);switch(r){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Pe(t,s);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await be(t,s);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Ce(t,s);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Ie(t,s);default:const a=t.body;return Re({output:e,parsedBody:a,errorCode:r})}},Re=(0,o.jr)(l),Pe=async(e,s)=>{const t=(0,o.Tj)({}),r=e.body,a=(0,o.s)(r,{message:o.lK});Object.assign(t,a);const d=new i({$metadata:x(e),...t});return(0,o.Mw)(d,e.body)},be=async(e,s)=>{const t=(0,o.Tj)({}),r=e.body,a=(0,o.s)(r,{message:o.lK});Object.assign(t,a);const d=new c({$metadata:x(e),...t});return(0,o.Mw)(d,e.body)},Ce=async(e,s)=>{const t=(0,o.Tj)({}),r=e.body,a=(0,o.s)(r,{message:o.lK});Object.assign(t,a);const d=new g({$metadata:x(e),...t});return(0,o.Mw)(d,e.body)},Ie=async(e,s)=>{const t=(0,o.Tj)({}),r=e.body,a=(0,o.s)(r,{message:o.lK});Object.assign(t,a);const d=new S({$metadata:x(e),...t});return(0,o.Mw)(d,e.body)},x=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),bt=(e,s)=>collectBody(e,s).then(t=>s.utf8Encoder(t)),K="accountId",$="accessToken",Z="account_id",q="maxResults",Y="max_result",J="nextToken",W="next_token",Ae="roleName",Te="role_name",k="x-amz-sso_bearer_token";class we extends o.uB.classBuilder().ep(F).m(function(s,t,r,a){return[(0,A.TM)(r,this.serialize,this.deserialize),(0,P.rD)(r,s.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(E,z).ser(xe).de(Ee).build(){}var X=n(834898),Oe=n(30062),De=n(398952),Q=n(178796),w=n(619828),Fe=n(965783),Ne=n(32993),$e=n(473659),ke=n(417172),H=n(142979),He=n(557352),M=n(309380);const je=async(e,s,t)=>({operation:(0,M.u)(s).operation,region:await(0,M.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ze(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(s,t)=>({signingProperties:{config:s,context:t}})}}function j(e){return{schemeId:"smithy.api#noAuth"}}const Le=e=>{const s=[];switch(e.operation){case"GetRoleCredentials":{s.push(j(e));break}case"ListAccountRoles":{s.push(j(e));break}case"ListAccounts":{s.push(j(e));break}case"Logout":{s.push(j(e));break}default:s.push(ze(e))}return s},Me=e=>{const s=(0,He.h)(e);return Object.assign(s,{authSchemePreference:(0,M.t)(e.authSchemePreference??[])})},Ue={rE:"3.848.0"};var Ge=n(614879),Ve=n(859437),_=n(35544),Be=n(667952),R=n(795202),ee=n(25164),Ke=n(204982),Ze=n(463170),qe=n(568629),Ye=n(931579),Je=n(214316),te=n(362871),se=n(31906),We=n(975500),U=n(332528);const ne="required",h="fn",p="argv",b="ref",oe=!0,re="isSet",O="booleanEquals",C="error",I="endpoint",v="tree",G="PartitionResult",V="getAttr",ae={[ne]:!1,type:"String"},ie={[ne]:!0,default:!1,type:"Boolean"},de={[b]:"Endpoint"},ce={[h]:O,[p]:[{[b]:"UseFIPS"},!0]},le={[h]:O,[p]:[{[b]:"UseDualStack"},!0]},m={},ue={[h]:V,[p]:[{[b]:G},"supportsFIPS"]},he={[b]:G},pe={[h]:O,[p]:[!0,{[h]:V,[p]:[he,"supportsDualStack"]}]},me=[ce],ye=[le],ge=[{[b]:"Region"}],Xe={version:"1.0",parameters:{Region:ae,UseDualStack:ie,UseFIPS:ie,Endpoint:ae},rules:[{conditions:[{[h]:re,[p]:[de]}],rules:[{conditions:me,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:C},{conditions:ye,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:C},{endpoint:{url:de,properties:m,headers:m},type:I}],type:v},{conditions:[{[h]:re,[p]:ge}],rules:[{conditions:[{[h]:"aws.partition",[p]:ge,assign:G}],rules:[{conditions:[ce,le],rules:[{conditions:[{[h]:O,[p]:[oe,ue]},pe],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:m,headers:m},type:I}],type:v},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:C}],type:v},{conditions:me,rules:[{conditions:[{[h]:O,[p]:[ue,oe]}],rules:[{conditions:[{[h]:"stringEquals",[p]:[{[h]:V,[p]:[he,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:m,headers:m},type:I},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:m,headers:m},type:I}],type:v},{error:"FIPS is enabled but this partition does not support FIPS",type:C}],type:v},{conditions:ye,rules:[{conditions:[pe],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:m,headers:m},type:I}],type:v},{error:"DualStack is enabled but this partition does not support DualStack",type:C}],type:v},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:m,headers:m},type:I}],type:v}],type:v},{error:"Invalid Configuration: Missing Region",type:C}]},Qe=new U.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),_e=(e,s={})=>Qe.get(e,()=>(0,U.sO)(Xe,{endpointParams:e,logger:s.logger}));U.mw.aws=We.UF;const et=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??te.E,base64Encoder:e?.base64Encoder??te.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??_e,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Le,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4"),signer:new qe.f2},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ye.m}],logger:e?.logger??new o.N4,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Je.D,utf8Decoder:e?.utf8Decoder??se.ar,utf8Encoder:e?.utf8Encoder??se.Pq});var tt=n(698422);const st=e=>{(0,o.I9)(process.version);const s=(0,tt.I)(e),t=()=>s().then(o.lT),r=et(e);(0,Ge.I)(process.version);const a={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:s,authSchemePreference:e?.authSchemePreference??(0,R.Z)(Ve.$,a),bodyLengthChecker:e?.bodyLengthChecker??Ke.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,_.pf)({serviceId:r.serviceId,clientVersion:Ue.rE}),maxAttempts:e?.maxAttempts??(0,R.Z)(H.qs,e),region:e?.region??(0,R.Z)(w.GG,{...w.zH,...a}),requestHandler:ee.$c.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,R.Z)({...H.kN,default:async()=>(await t()).retryMode||Ze.L0},e),sha256:e?.sha256??Be.V.bind(null,"sha256"),streamCollector:e?.streamCollector??ee.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,R.Z)(w.e$,a),useFipsEndpoint:e?.useFipsEndpoint??(0,R.Z)(w.Ko,a),userAgentAppId:e?.userAgentAppId??(0,R.Z)(_.hV,a)}};var Se=n(815891),ve=n(994020);const nt=e=>{const s=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(a){const d=s.findIndex(B=>B.schemeId===a.schemeId);d===-1?s.push(a):s.splice(d,1,a)},httpAuthSchemes(){return s},setHttpAuthSchemeProvider(a){t=a},httpAuthSchemeProvider(){return t},setCredentials(a){r=a},credentials(){return r}}},ot=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),rt=(e,s)=>{const t=Object.assign((0,Se.Rq)(e),(0,o.xA)(e),(0,ve.eS)(e),nt(e));return s.forEach(r=>r.configure(t)),Object.assign(e,(0,Se.$3)(t),(0,o.uv)(t),(0,ve.jt)(t),ot(t))};class at extends o.Kj{constructor(...[t]){const r=st(t||{});super(r);y(this,"config");this.initConfig=r;const a=D(r),d=(0,Q.Dc)(a),B=(0,H.$z)(d),it=(0,w.TD)(B),dt=(0,X.OV)(it),ct=(0,P.Co)(dt),lt=Me(ct),ut=rt(lt,t?.extensions||[]);this.config=ut,this.middlewareStack.use((0,Q.sM)(this.config)),this.middlewareStack.use((0,H.ey)(this.config)),this.middlewareStack.use((0,ke.vK)(this.config)),this.middlewareStack.use((0,X.TC)(this.config)),this.middlewareStack.use((0,Oe.Y7)(this.config)),this.middlewareStack.use((0,De.n4)(this.config)),this.middlewareStack.use((0,Fe.w)(this.config,{httpAuthSchemeParametersProvider:je,identityProviderConfigProvider:async ht=>new Ne.h({"aws.auth#sigv4":ht.credentials})})),this.middlewareStack.use((0,$e.l)(this.config))}destroy(){super.destroy()}}},387293:(f,u,n)=>{n.d(u,{l:()=>D});var P=n(994020),A=n(117093);const o=(l,i,c,g,S,E)=>{if(i!=null&&i[c]!==void 0){const T=g();if(T.length<=0)throw new Error("Empty value provided for input HTTP label: "+c+".");l=l.replace(S,E?T.split("/").map(z=>(0,A.$)(z)).join("/"):(0,A.$)(T))}else throw new Error("No value provided for input HTTP label: "+c+".");return l};function D(l,i){return new F(l,i)}class F{constructor(i,c){this.input=i,this.context=c,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:i,protocol:c="https",port:g,path:S}=await this.context.endpoint();this.path=S;for(const E of this.resolvePathStack)E(this.path);return new P.Kd({protocol:c,hostname:this.hostname||i,port:g,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(i){return this.hostname=i,this}bp(i){return this.resolvePathStack.push(c=>{this.path=`${c?.endsWith("/")?c.slice(0,-1):c||""}`+i}),this}p(i,c,g,S){return this.resolvePathStack.push(E=>{this.path=o(E,this.input,i,c,g,S)}),this}h(i){return this.headers=i,this}q(i){return this.query=i,this}b(i){return this.body=i,this}m(i){return this.method=i,this}}},931579:(f,u,n)=>{n.d(u,{m:()=>P});class P{async sign(o,D,F){return o}}}};
