import{a as se}from"./chunk-H77WAXRA.js";import{a as le}from"./chunk-OX4GZSPS.js";import"./chunk-BYXBJQAS.js";import{a as E}from"./chunk-QSSPXKNC.js";import"./chunk-FFE62TXH.js";import{a as Ie,b as Te}from"./chunk-W5RJDKNB.js";import{$b as Le,Ba as ie,Da as Q,Dc as W,Eb as be,Fa as X,Ha as re,Ja as De,Ka as ae,Nb as w,Rb as S,Vb as Fe,Wa as Y,Xb as Pe,Y as K,Yb as ke,Zb as we,_b as Ne,a as U,bd as o,c as i,d as k,f as nt,k as m,lb as he,p as l,r as x,sd as _e,tb as c}from"./chunk-M3U674VW.js";var ve=U((Ot,it)=>{it.exports="./sqlDbInFabric-JC7G3GSE.svg"});var Oe=U((Do,pt)=>{pt.exports="./builtOnAzureSql-4FXTAV4S.svg"});var Ve=U((ho,dt)=>{dt.exports="./analyticsReady-W4LQ7LDL.svg"});var xe=U((bo,mt)=>{mt.exports="./instantSetup-BFHX6ELQ.svg"});var Se=U((Eo,vt)=>{vt.exports="./docker-QZXBVMQG.svg"});var Ye=U((Wn,Pt)=>{Pt.exports="./chooseVersion-U5AL7VY5.svg"});var Je=U((Jn,Lt)=>{Lt.exports="./database-26MXZM2X.svg"});var ot=i(nt());var Ee=i(k());var Re=i(l()),p=(0,Ee.createContext)(void 0),Be=({children:e})=>{let t=Te();return(0,Re.jsx)(p.Provider,{value:{state:t?.state,themeKind:t?.themeKind,keyBindings:t?.keyBindings,..._e(t),initializeDeploymentSpecifics:function(n){t?.extensionRpc.action("initializeDeploymentSpecifics",{deploymentType:n})},formAction:function(n){t?.extensionRpc.action("formAction",{event:n})},setConnectionGroupDialogState:function(n){t?.extensionRpc.action("setConnectionGroupDialogState",{shouldOpen:n})},createConnectionGroup:function(n){t?.extensionRpc.action("createConnectionGroup",{connectionGroupSpec:n})},dispose:function(){t?.extensionRpc.action("dispose",{})},completeDockerStep:function(n){t?.extensionRpc.action("completeDockerStep",{dockerStep:n})},resetDockerStepState:function(){t?.extensionRpc.action("resetDockerStepState",{})},checkDockerProfile:function(){t?.extensionRpc.action("checkDockerProfile",{})},closeArmSql2025ErrorDialog:function(){t?.extensionRpc.action("closeArmSql2025ErrorDialog",{})},reloadFabricEnvironment:function(n){t?.extensionRpc.action("reloadFabricEnvironment",{newTenant:n})},handleWorkspaceFormAction:function(n){t?.extensionRpc.action("handleWorkspaceFormAction",{workspaceId:n})},createDatabase:function(){t?.extensionRpc.action("createDatabase",{})},retryCreateDatabase:function(){t?.extensionRpc.action("retryCreateDatabase",{})},resetFormValidationState:function(){t?.extensionRpc.action("resetFormValidationState",{})}},children:e})};var et=i(k());var ue=i(k());var te=i(k());var He=i(k());var q=i(k());var Ge=i(k());var ee=i(l()),rt=m({outerDiv:{display:"flex",flexDirection:"row",gap:"20px",alignItems:"center",justifyContent:"flex-start",paddingBottom:"50px",minWidth:"750px",minHeight:"fit-content",top:0,left:0,paddingTop:"50px"},titleDiv:{fontWeight:500,fontSize:"24px",display:"flex",alignItems:"center"},icon:{width:"58px",height:"58px"}}),$=({paddingLeft:e})=>{let t=rt(),n=(0,Ge.useContext)(p),a=n?.state.deploymentTypeState;if(!(!n||!a))return(0,ee.jsxs)("div",{className:t.outerDiv,style:{paddingLeft:e??"70px"},children:[(0,ee.jsx)("img",{className:t.icon,src:at()}),(0,ee.jsx)(S,{className:t.titleDiv,children:o.fabricProvisioning.sqlDatabaseInFabric})]})},at=()=>ve();var ce=i(k());var r=i(l()),st=m({outerDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",height:"100%",minWidth:"650px",minHeight:"fit-content",paddingBottom:"50px"},innerDiv:{display:"flex",flexDirection:"column",gap:"2px",height:"fit-content",width:"fit-content",minWidth:"650px"},button:{height:"28px",width:"60px",marginTop:"20px"},contentHeader:{fontSize:"22px",fontWeight:400,padding:"8px",textAlign:"left"},buttonDiv:{display:"flex",flexDirection:"row",justifyContent:"center",padding:"8px",gap:"5px"},spinnerDiv:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"20px"},leftHeader:{display:"flex",alignItems:"center",gap:"8px",fontSize:"18px",fontWeight:400},separatorDiv:{position:"absolute",left:0,top:0,bottom:0,width:"4px",background:x.colorNeutralStroke2},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px"},cardContentDiv:{display:"flex",flexDirection:"row",gap:"2px",height:"100%",width:"100%"},cardColumn:{display:"flex",flexDirection:"column",padding:"20px",width:"fit-content"},cardDiv:{display:"flex",flexDirection:"column",gap:"2px",minHeight:"250px",height:"fit-content",width:"100%"},cardItem:{fontSize:"14px",padding:"10px"},cardItemLabel:{color:x.colorNeutralForeground4,paddingRight:"10px"},cardHeader:{width:"100%",fontSize:"24px",padding:"8px",textAlign:"left"},backButton:{position:"absolute",top:"10px",left:"10px"}}),Ae=()=>{let e=st(),t=(0,ce.useContext)(p),[n,a]=(0,ce.useState)(!1),s=t?.state.deploymentTypeState;if(!t||!s||n===void 0)return;let b=async()=>{await t.retryCreateDatabase()},P=async()=>{a(!0),await t.resetFormValidationState()},D=()=>{let u;return s.provisionLoadState!=="loaded"?u=s.provisionLoadState:u=s.connectionLoadState,u==="notStarted"?(0,r.jsx)(ae,{style:{color:x.colorNeutralStroke1Pressed}}):u==="loaded"?(0,r.jsx)(ie,{style:{color:x.colorStatusSuccessBackground3}}):u==="error"?(0,r.jsx)(Y,{style:{color:x.colorStatusDangerBackground3}}):(0,r.jsx)(w,{size:"tiny"})},_=()=>{let u=o.fabricProvisioning.finishedDeployment;return s.provisionLoadState==="error"?u=o.fabricProvisioning.deploymentFailed:s.provisionLoadState!=="loaded"?u=`${o.fabricProvisioning.deploymentInProgress}...`:s.connectionLoadState==="error"?u=o.fabricProvisioning.connectionFailed:s.connectionLoadState!=="loaded"&&(u=`${o.fabricProvisioning.connectingToDatabase}`),u};return n===!0?(0,r.jsx)(pe,{}):(0,r.jsxs)("div",{children:[s.provisionLoadState==="error"&&(0,r.jsxs)(c,{className:e.backButton,onClick:P,appearance:"transparent",children:[(0,r.jsx)(X,{style:{marginRight:"4px"}}),o.common.back]}),(0,r.jsx)($,{}),(0,r.jsx)("div",{className:e.outerDiv,children:(0,r.jsxs)("div",{className:e.innerDiv,children:[(0,r.jsxs)("div",{className:e.contentHeader,children:[o.fabricProvisioning.provisioning," ",s.formState.databaseName]}),(0,r.jsxs)(W,{className:e.cardDiv,children:[(0,r.jsx)("div",{className:e.separatorDiv}),(0,r.jsx)("div",{className:e.cardHeader,children:(0,r.jsxs)("div",{className:e.leftHeader,children:[D(),_()]})}),(0,r.jsx)("div",{className:e.cardContentDiv,children:s.errorMessage?(0,r.jsx)("div",{className:e.cardColumn,children:(0,r.jsxs)("span",{className:e.cardItem,children:[(0,r.jsxs)("span",{className:e.cardItemLabel,children:[o.common.error,":"]}),s.errorMessage]})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:e.cardColumn,children:[(0,r.jsxs)("span",{className:e.cardItem,children:[(0,r.jsxs)("span",{className:e.cardItemLabel,children:[o.fabricProvisioning.deploymentName,":"]}),s.formState.databaseName]}),(0,r.jsxs)("span",{className:e.cardItem,children:[(0,r.jsxs)("span",{className:e.cardItemLabel,children:[o.fabricProvisioning.startTime,":"]}),s.deploymentStartTime]})]}),(0,r.jsxs)("div",{className:e.cardColumn,style:{paddingLeft:"100px"},children:[(0,r.jsxs)("span",{className:e.cardItem,children:[(0,r.jsxs)("span",{className:e.cardItemLabel,children:[o.azure.tenant,":"]}),s.tenantName]}),(0,r.jsxs)("span",{className:e.cardItem,children:[(0,r.jsxs)("span",{className:e.cardItemLabel,children:[o.fabricProvisioning.workspace,":"]}),s.workspaceName]})]})]})})]}),s.provisionLoadState==="error"&&(0,r.jsxs)("div",{className:e.buttonDiv,children:[(0,r.jsx)(c,{className:e.button,onClick:b,appearance:"primary",children:o.common.retry}),(0,r.jsx)(c,{className:e.button,onClick:()=>t.dispose(),appearance:"secondary",children:o.common.cancel})]}),s.connectionLoadState==="loaded"&&(0,r.jsx)("div",{className:e.buttonDiv,children:(0,r.jsx)(c,{className:e.button,onClick:()=>t.dispose(),appearance:"primary",children:o.common.finish})})]})})]})};var d=i(l()),lt=m({outerDiv:{display:"flex",flexDirection:"column",gap:"4px",marginLeft:"5px",marginRight:"5px",padding:"8px",width:"500px",whiteSpace:"nowrap",minWidth:"800px",height:"80vh"},button:{height:"32px",width:"160px"},advancedOptionsDiv:{marginLeft:"24px"},bottomDiv:{bottom:0,paddingBottom:"50px"},formDiv:{flexGrow:1},buttonContent:{display:"flex",flexDirection:"row",gap:"0.5rem"}}),pe=()=>{let e=lt(),t=(0,q.useContext)(p),n=t?.state.deploymentTypeState;if(!t||!n)return;let a=["accountId","workspace","tenantId"],{formComponents:s}=n,[b,P]=(0,q.useState)(!1),[D,_]=(0,q.useState)(!1),u=T=>Object.values(s).filter(v=>v.isAdvancedOption===T&&v.propertyName!=="groupId"&&!a.includes(v.propertyName)).map((v,I)=>(0,d.jsx)("div",{style:v.componentWidth?{width:v.componentWidth,maxWidth:v.componentWidth,whiteSpace:"normal",overflowWrap:"break-word",wordBreak:"break-word"}:{},children:(0,d.jsx)(E,{context:t,component:v,idx:I})},I)),j=async()=>{await t.createDatabase()};return(0,q.useEffect)(()=>{_(n.formValidationLoadState==="loaded")},[n.formValidationLoadState]),D?(0,d.jsx)(Ae,{}):(0,d.jsxs)("div",{children:[(0,d.jsx)($,{paddingLeft:"20px"}),(0,d.jsxs)("div",{className:e.outerDiv,children:[(0,d.jsxs)("div",{className:e.formDiv,children:[n.dialog?.type==="createConnectionGroup"&&(0,d.jsx)(le,{state:n.dialog.props,saveConnectionGroup:t.createConnectionGroup,closeDialog:()=>t.setConnectionGroupDialogState(!1)}),(0,d.jsx)(E,{context:t,component:n.formComponents.accountId,idx:0,componentProps:{onOptionSelect:(T,v)=>{t.formAction({propertyName:"accountId",isAction:!1,value:v.optionValue}),t.reloadFabricEnvironment()}}}),u(!1),(0,d.jsx)(E,{context:t,component:n.formComponents.groupId,idx:0,componentProps:{onSelect:T=>{T.value===se?t.setConnectionGroupDialogState(!0):t.formAction({propertyName:"groupId",isAction:!1,value:T.value})}}}),n.formState.accountId&&(0,d.jsx)(E,{context:t,component:n.formComponents.tenantId,idx:0,componentProps:{onOptionSelect:(T,v)=>{t.formAction({propertyName:"tenantId",isAction:!1,value:v.optionValue}),t.reloadFabricEnvironment(v.optionValue)}}}),n.formState.accountId&&(n.workspaces.length>0?(0,d.jsx)(E,{context:t,component:n.formComponents.workspace,idx:0,componentProps:{onSelect:async T=>{await t.handleWorkspaceFormAction(T.value)}}}):n.isWorkspacesErrored?(0,d.jsxs)("div",{className:e.buttonContent,style:{marginTop:"20px",marginBottom:"20px"},children:[(0,d.jsx)(Y,{color:x.colorStatusDangerBackground3}),o.fabricProvisioning.errorLoadingWorkspaces]}):(0,d.jsxs)("div",{className:e.buttonContent,style:{marginTop:"20px",marginBottom:"20px"},children:[(0,d.jsx)(w,{size:"tiny"}),o.fabricProvisioning.loadingWorkspaces,"..."]})),(0,d.jsxs)("div",{children:[(0,d.jsx)(c,{icon:b?(0,d.jsx)(Q,{}):(0,d.jsx)(re,{}),appearance:"subtle",onClick:()=>P(!b)}),o.connectionDialog.advancedOptions]}),b&&(0,d.jsx)("div",{className:e.advancedOptionsDiv,children:u(!0)})]}),(0,d.jsxs)("div",{className:e.bottomDiv,children:[(0,d.jsx)("hr",{style:{background:x.colorNeutralBackground2}}),n.formValidationLoadState==="loading"?(0,d.jsx)(c,{className:e.button,type:"submit",appearance:"secondary",disabled:!0,children:(0,d.jsx)("div",{className:e.buttonContent,children:(0,d.jsx)(w,{size:"extra-tiny",label:o.fabricProvisioning.createDatabase})})}):(0,d.jsx)(c,{className:e.button,type:"submit",onClick:()=>j(),appearance:"primary",children:o.fabricProvisioning.createDatabase})]})]})]})};var R=i(l()),ct=m({outerDiv:{height:"100%",position:"relative",overflowY:"auto",overflowX:"unset"},spinnerDiv:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"20px"},errorIcon:{fontSize:"100px",opacity:.5}}),Me=()=>{let e=ct(),n=(0,He.useContext)(p)?.state.deploymentTypeState,a=()=>{switch(n?.loadState){case"loading":return(0,R.jsx)("div",{className:e.spinnerDiv,children:(0,R.jsx)(w,{label:o.fabricProvisioning.loadingFabricProvisioning,labelPosition:"below"})});case"loaded":return(0,R.jsx)(pe,{});case"error":return(0,R.jsxs)("div",{className:e.spinnerDiv,children:[(0,R.jsx)(K,{className:e.errorIcon}),(0,R.jsx)(S,{size:400,children:n?.errorMessage??""})]})}};return(0,R.jsx)("div",{className:e.outerDiv,children:a()})};var f=i(l()),ft=m({outerDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",height:"100%",minWidth:"750px",minHeight:"fit-content"},stepsDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",width:"500px"},button:{height:"28px",width:"fit-content",textWrap:"nowrap",marginTop:"20px",marginBottom:"20px"},backButton:{position:"absolute",top:"10px",left:"10px"},itemDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"row",height:"fit-content",padding:"25px"},textDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"left",gap:"10px",width:"425px"},titleDiv:{fontWeight:"bold"},icon:{marginTop:"-10px",width:"75px",height:"75px",marginRight:"10px"},link:{textDecoration:"none"}}),We=()=>{let e=ft(),t=(0,te.useContext)(p),[n,a]=(0,te.useState)(!1),[s,b]=(0,te.useState)(!1);if(t)return s?(0,f.jsx)(J,{}):n?(0,f.jsx)(Me,{}):(0,f.jsxs)("div",{children:[(0,f.jsxs)(c,{className:e.backButton,onClick:()=>b(!0),appearance:"transparent",children:[(0,f.jsx)(X,{style:{marginRight:"4px"}}),o.common.back]}),(0,f.jsx)($,{}),(0,f.jsx)("div",{className:e.outerDiv,children:(0,f.jsxs)("div",{className:e.stepsDiv,children:[(0,f.jsxs)("div",{className:e.itemDiv,children:[(0,f.jsx)("img",{className:e.icon,src:Ct(),alt:o.fabricProvisioning.builtOnAzureSQL}),(0,f.jsxs)("div",{className:e.textDiv,children:[(0,f.jsx)("div",{className:e.titleDiv,children:o.fabricProvisioning.builtOnAzureSQL}),(0,f.jsx)("div",{children:o.fabricProvisioning.builtOnAzureSQLDescription})]})]}),(0,f.jsxs)("div",{className:e.itemDiv,children:[(0,f.jsx)("img",{className:e.icon,src:ut(),alt:o.fabricProvisioning.analyticsReady}),(0,f.jsxs)("div",{className:e.textDiv,children:[(0,f.jsx)("div",{className:e.titleDiv,children:o.fabricProvisioning.analyticsReady}),(0,f.jsx)("div",{children:o.fabricProvisioning.analyticsReadyDescription})]})]}),(0,f.jsxs)("div",{className:e.itemDiv,children:[(0,f.jsx)("img",{className:e.icon,src:gt(),alt:o.fabricProvisioning.integratedAndSecure}),(0,f.jsxs)("div",{className:e.textDiv,children:[(0,f.jsx)("div",{className:e.titleDiv,children:o.fabricProvisioning.integratedAndSecure}),(0,f.jsx)("div",{children:o.fabricProvisioning.integratedAndSecureDescription})]})]}),(0,f.jsx)(c,{className:e.button,onClick:()=>{t.initializeDeploymentSpecifics(1),a(!0)},appearance:"primary",children:o.common.getStarted})]})})]})},Ct=()=>Oe(),ut=()=>Ve(),gt=()=>xe();var ne=i(k());var qe=i(k());var oe=i(l()),xt=m({outerDiv:{display:"flex",flexDirection:"row",gap:"20px",alignItems:"center",justifyContent:"flex-start",paddingBottom:"50px",minWidth:"750px",minHeight:"fit-content",top:0,left:0,paddingTop:"50px"},titleDiv:{fontWeight:500,fontSize:"24px",display:"flex",alignItems:"center"},icon:{width:"58px",height:"58px"}}),M=({headerText:e,paddingLeft:t})=>{let n=xt(),a=(0,qe.useContext)(p),s=a?.state.deploymentTypeState;if(!(!a||!s))return(0,oe.jsxs)("div",{className:n.outerDiv,style:{paddingLeft:t??"70px"},children:[(0,oe.jsx)("img",{className:n.icon,src:St()}),(0,oe.jsx)("div",{className:n.titleDiv,children:e})]})},St=()=>Se();var Qe=i(k());var V=i(k());var O=i(k());var y=i(l()),yt=m({outerDiv:{height:"fit-content",width:"500px",position:"relative",overflow:"auto"},spinnerDiv:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"20px"},leftHeader:{display:"flex",alignItems:"center",gap:"8px"},separatorDiv:{position:"absolute",left:0,top:0,bottom:0,width:"4px",background:x.colorNeutralStroke2},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px"},topSpace:{marginTop:"8px"}}),G=({step:e})=>{let t=yt(),n=(0,O.useContext)(p),[a,s]=(0,O.useState)(!0),[b,P]=(0,O.useState)(!1),[D,_]=(0,O.useState)(!1);if(!n)return;(0,O.useEffect)(()=>{!b&&e.loadState==="error"&&(s(!0),P(!0))},[n.state]);let u=()=>e.loadState==="notStarted"?(0,y.jsx)(ae,{style:{color:x.colorNeutralStroke1Pressed}}):e.loadState==="loaded"?(0,y.jsx)(ie,{style:{color:x.colorStatusSuccessBackground3}}):e.loadState==="error"?(0,y.jsx)(Y,{style:{color:x.colorStatusDangerBackground3}}):(0,y.jsx)(w,{size:"tiny"});return(0,y.jsxs)(W,{className:t.outerDiv,children:[(0,y.jsx)("div",{className:t.separatorDiv}),(0,y.jsxs)("div",{className:t.header,children:[(0,y.jsxs)("div",{className:t.leftHeader,children:[u(),(0,y.jsx)("span",{children:e.headerText})]}),e.loadState!=="loaded"&&(0,y.jsx)(c,{icon:a?(0,y.jsx)(Q,{}):(0,y.jsx)(De,{}),appearance:"subtle",onClick:()=>s(!a)})]}),a&&e.loadState!=="loaded"&&(0,y.jsxs)("div",{style:{marginLeft:"32px"},children:[e.loadState==="error"?e.errorMessage:e.bodyText,e.loadState==="error"&&e.errorLink&&(0,y.jsx)("div",{className:t.topSpace,children:(0,y.jsx)("a",{href:e.errorLink,target:"_blank",rel:"noopener noreferrer",className:t.topSpace,children:e.errorLinkText})}),(0,y.jsxs)("div",{className:t.topSpace,children:[e.loadState==="error"&&D&&(0,y.jsx)("div",{style:{marginBottom:"8px"},children:e.fullErrorText}),e.fullErrorText&&(0,y.jsx)("a",{onClick:()=>_(!D),children:D?o.localContainers.hideFullErrorMessage:o.localContainers.showFullErrorMessage})]})]})]})};var z=i(k());var Z=i(k());async function de(e,t){let a=e.state.deploymentTypeState.currentDockerStep;a<=t&&await e.completeDockerStep(a)}function me(e,t){return e.state.deploymentTypeState.dockerSteps[t].loadState==="loaded"}function fe(e){let t=e.state.deploymentTypeState;return t.currentDockerStep===Object.keys(t.dockerSteps).length?!1:t.dockerSteps[t.currentDockerStep].loadState==="error"}var Ce=m({outerDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",height:"100%",minWidth:"650px",minHeight:"fit-content",paddingBottom:"50px"},stepsDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",height:"fit-content",width:"500px"},button:{height:"28px",width:"60px",marginTop:"20px"},stepsHeader:{fontSize:"24px",padding:"8px",alignItems:"unset",textAlign:"left"},stepsSubheader:{fontSize:"14px",alignItems:"unset",textAlign:"left",padding:"8px"},buttonDiv:{display:"flex",flexDirection:"row",justifyContent:"center",padding:"8px",gap:"5px"}});var N=i(l()),Ze=()=>{let e=Ce(),t=(0,Z.useContext)(p),n=t?.state.deploymentTypeState,[a,s]=(0,Z.useState)(!1),[b,P]=(0,Z.useState)(!1),D=6;if(!t||!n||!n.formState.containerName)return;(0,Z.useEffect)(()=>{de(t,D),s(me(t,D)),P(fe(t))},[t.state]);let _=async()=>{await t.resetDockerStepState()};return(0,N.jsxs)("div",{children:[(0,N.jsx)(M,{headerText:n.formState.containerName}),(0,N.jsx)("div",{className:e.outerDiv,children:(0,N.jsxs)("div",{className:e.stepsDiv,children:[(0,N.jsxs)("div",{className:e.stepsHeader,children:[o.localContainers.settingUp," ",n.formState.containerName,"..."]}),(0,N.jsx)("div",{className:e.stepsSubheader,children:o.localContainers.gettingContainerReadyForConnection}),(0,N.jsx)(G,{step:n.dockerSteps[3]}),(0,N.jsx)(G,{step:n.dockerSteps[4]}),(0,N.jsx)(G,{step:n.dockerSteps[5]}),(0,N.jsx)(G,{step:n.dockerSteps[6]}),(b||a)&&(0,N.jsxs)("div",{className:e.buttonDiv,children:[b&&(0,N.jsx)(c,{className:e.button,onClick:_,appearance:"primary",children:o.common.retry}),(0,N.jsx)(c,{className:e.button,onClick:()=>t.dispose(),appearance:a?"primary":"secondary",children:a?o.common.finish:o.common.cancel})]})]})})]})};var L=i(l()),ht=m({titleDiv:{display:"flex",flexDirection:"row",paddingLeft:"20px"},titleIcon:{marginTop:"4px"},titleText:{marginLeft:"8px",fontSize:"20px",fontWeight:600},contentDiv:{display:"flex",flexDirection:"column",padding:"15px"},contentItem:{padding:"10px"}}),ze=({closeDialog:e})=>{let t=ht(),n="https://aka.ms/sql-container-arm";return(0,L.jsx)(Fe,{open:!0,children:(0,L.jsx)(Ne,{onKeyDown:a=>{a.key==="Escape"&&e()},children:(0,L.jsxs)(ke,{children:[(0,L.jsxs)(we,{className:t.titleDiv,children:[(0,L.jsx)(he,{className:t.titleIcon,style:{color:x.colorPaletteMarigoldForeground1}}),(0,L.jsxs)(S,{className:t.titleText,children:[" ",o.common.warning," "]})]}),(0,L.jsxs)(Le,{className:t.contentDiv,children:[(0,L.jsx)(S,{className:t.contentItem,children:o.localContainers.armErrorHeader}),(0,L.jsx)(S,{className:t.contentItem,children:o.localContainers.armErrorDescription}),(0,L.jsxs)(S,{className:t.contentItem,children:[o.localContainers.see," ",(0,L.jsx)(be,{href:n,children:n})," ",o.localContainers.forMoreDetails,"."]})]}),(0,L.jsx)(Pe,{children:(0,L.jsx)(c,{appearance:"primary",onClick:()=>{e()},children:o.common.close})})]})})})};var C=i(l()),bt=m({outerDiv:{display:"flex",flexDirection:"column",gap:"4px",marginLeft:"5px",marginRight:"5px",padding:"8px",width:"500px",whiteSpace:"nowrap",minWidth:"800px",height:"80vh"},button:{height:"32px",width:"160px"},advancedOptionsDiv:{marginLeft:"24px"},bottomDiv:{bottom:0,paddingBottom:"50px"},formDiv:{flexGrow:1},buttonContent:{display:"flex",flexDirection:"row",gap:"0.5rem"}}),je=()=>{let e=bt(),t=(0,z.useContext)(p),[n,a]=(0,z.useState)(!1),[s,b]=(0,z.useState)(!1),P=t?.state,D=P?.deploymentTypeState;if(!t||!P||!D)return;let{formComponents:_}=D,u=Object.values(_).find(v=>v.propertyName==="acceptEula"),j=v=>Object.values(_).filter(I=>I.isAdvancedOption===v&&I.propertyName!=="acceptEula"&&I.propertyName!=="groupId").map((I,ye)=>(0,C.jsx)("div",{style:I.componentWidth?{width:I.componentWidth,maxWidth:I.componentWidth,whiteSpace:"normal",overflowWrap:"break-word",wordBreak:"break-word"}:{},children:(0,C.jsx)(E,{context:t,component:I,idx:ye})},ye)),T=async()=>{await t.checkDockerProfile()};return(0,z.useEffect)(()=>{a(D.isDockerProfileValid)},[D.isDockerProfileValid]),n?(0,C.jsx)(Ze,{}):(0,C.jsxs)("div",{children:[(0,C.jsx)(M,{headerText:o.localContainers.sqlServerContainerHeader,paddingLeft:"20px"}),(0,C.jsxs)("div",{className:e.outerDiv,children:[(0,C.jsxs)("div",{className:e.formDiv,children:[P.dialog?.type==="createConnectionGroup"&&(0,C.jsx)(le,{state:P.dialog.props,saveConnectionGroup:t.createConnectionGroup,closeDialog:()=>t.setConnectionGroupDialogState(!1)}),P.dialog?.type==="armSql2025Error"&&(0,C.jsx)(ze,{closeDialog:t.closeArmSql2025ErrorDialog}),j(!1),(0,C.jsx)(E,{context:t,component:D.formComponents.groupId,idx:0,componentProps:{onSelect:v=>{v.value===se?t.setConnectionGroupDialogState(!0):t.formAction({propertyName:"groupId",isAction:!1,value:v.value})}}}),(0,C.jsxs)("div",{children:[(0,C.jsx)(c,{icon:s?(0,C.jsx)(Q,{}):(0,C.jsx)(re,{}),appearance:"subtle",onClick:()=>b(!s)}),o.connectionDialog.advancedOptions]}),s&&(0,C.jsx)("div",{className:e.advancedOptionsDiv,children:j(!0)})]}),(0,C.jsxs)("div",{className:e.bottomDiv,children:[(0,C.jsx)("hr",{style:{background:x.colorNeutralBackground2}}),(0,C.jsx)("div",{style:{...u.componentWidth&&{width:u.componentWidth},marginTop:"10px"},children:(0,C.jsx)(E,{context:t,component:u,idx:0},u.propertyName)}),D.formValidationLoadState==="loading"?(0,C.jsx)(c,{className:e.button,type:"submit",appearance:"secondary",disabled:!0,children:(0,C.jsxs)("div",{className:e.buttonContent,children:[(0,C.jsx)(w,{size:"extra-tiny"}),o.localContainers.createContainer]})}):(0,C.jsx)(c,{className:e.button,type:"submit",onClick:()=>T(),appearance:"primary",children:o.localContainers.createContainer})]})]})]})};var F=i(l()),Ke=()=>{let e=Ce(),t=(0,V.useContext)(p),n=t?.state.deploymentTypeState,[a,s]=(0,V.useState)(!1),[b,P]=(0,V.useState)(!1),[D,_]=(0,V.useState)(!1),u=2;if(!t||!n)return;(0,V.useEffect)(()=>{de(t,u),P(me(t,u)),_(fe(t))},[t.state]);let j=async()=>{await t.resetDockerStepState()};return a?(0,F.jsx)(je,{}):(0,F.jsxs)("div",{children:[(0,F.jsx)(M,{headerText:o.localContainers.sqlServerContainerHeader}),(0,F.jsx)("div",{className:e.outerDiv,children:(0,F.jsxs)("div",{className:e.stepsDiv,children:[(0,F.jsx)("div",{className:e.stepsHeader,children:o.localContainers.gettingDockerReady}),(0,F.jsx)("div",{className:e.stepsSubheader,children:o.localContainers.checkingPrerequisites}),(0,F.jsx)(G,{step:n.dockerSteps[0]}),(0,F.jsx)(G,{step:n.dockerSteps[1]}),(0,F.jsx)(G,{step:n.dockerSteps[2]}),(0,F.jsxs)("div",{className:e.buttonDiv,children:[D&&(0,F.jsx)(c,{className:e.button,onClick:j,appearance:"primary",children:o.common.retry}),b?(0,F.jsx)(c,{className:e.button,onClick:()=>s(!0),appearance:"primary",children:o.common.next}):(0,F.jsx)(c,{className:e.button,onClick:()=>{t.dispose()},children:o.common.cancel})]})]})})]})};var A=i(l()),Ft=m({outerDiv:{height:"100%",position:"relative",overflowY:"auto",overflowX:"unset"},spinnerDiv:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"20px"},errorIcon:{fontSize:"100px",opacity:.5}}),Xe=()=>{let e=Ft(),n=(0,Qe.useContext)(p)?.state.deploymentTypeState,a=()=>{switch(n?.loadState){case"loading":return(0,A.jsx)("div",{className:e.spinnerDiv,children:(0,A.jsx)(w,{label:o.localContainers.loadingLocalContainers,labelPosition:"below"})});case"loaded":return(0,A.jsx)(Ke,{});case"error":return(0,A.jsxs)("div",{className:e.spinnerDiv,children:[(0,A.jsx)(K,{className:e.errorIcon}),(0,A.jsx)(S,{size:400,children:n?.errorMessage??""})]})}};return(0,A.jsx)("div",{className:e.outerDiv,children:a()})};var g=i(l()),kt=m({outerDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",minWidth:"750px",minHeight:"fit-content"},stepsDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",width:"500px"},button:{height:"28px",width:"fit-content",textWrap:"nowrap",marginTop:"20px",marginBottom:"20px"},backButton:{position:"absolute",top:"10px",left:"10px"},itemDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"row",height:"fit-content",padding:"10px"},textDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"left",gap:"10px",width:"425px"},titleDiv:{fontWeight:"bold"},icon:{marginTop:"-10px",width:"75px",height:"75px",marginRight:"10px"},link:{textDecoration:"none"}}),$e=()=>{let e=kt(),t=(0,ne.useContext)(p),[n,a]=(0,ne.useState)(!1),[s,b]=(0,ne.useState)(!1);if(t)return s?(0,g.jsx)(J,{}):n?(0,g.jsx)(Xe,{}):(0,g.jsxs)("div",{children:[(0,g.jsxs)(c,{className:e.backButton,onClick:()=>b(!0),appearance:"transparent",children:[(0,g.jsx)(X,{style:{marginRight:"4px"}}),o.common.back]}),(0,g.jsx)(M,{headerText:o.localContainers.sqlServerContainerHeader}),(0,g.jsx)("div",{className:e.outerDiv,children:(0,g.jsxs)("div",{className:e.stepsDiv,children:[(0,g.jsxs)("div",{className:e.itemDiv,children:[(0,g.jsx)("img",{className:e.icon,src:wt(),alt:o.localContainers.instantContainerSetup}),(0,g.jsxs)("div",{className:e.textDiv,children:[(0,g.jsx)("div",{className:e.titleDiv,children:o.localContainers.instantContainerSetup}),(0,g.jsx)("div",{children:o.localContainers.instantContainerDescription})]})]}),(0,g.jsxs)("div",{className:e.itemDiv,children:[(0,g.jsx)("img",{className:e.icon,src:Nt(),alt:o.localContainers.chooseTheRightVersion,style:{width:"60px",height:"60px",marginLeft:"9px",marginRight:"18px"}}),(0,g.jsxs)("div",{className:e.textDiv,children:[(0,g.jsx)("div",{className:e.titleDiv,children:o.localContainers.chooseTheRightVersion}),(0,g.jsx)("div",{children:o.localContainers.chooseTheRightVersionDescription}),(0,g.jsx)("a",{href:"https://learn.microsoft.com/en-us/sql/sql-server/what-s-new-in-sql-server-2025",target:"_blank",className:e.link,rel:"noopener noreferrer",children:o.localContainers.learnMoreAboutSqlServer2025}),(0,g.jsx)("a",{href:"https://learn.microsoft.com/en-us/sql/sql-server/editions-and-components-of-sql-server-2025?",target:"_blank",rel:"noopener noreferrer",className:e.link,style:{marginTop:"0px"},children:o.localContainers.sqlServerEditionsComparison}),(0,g.jsx)("a",{href:"https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-docker-container-configure",target:"_blank",rel:"noopener noreferrer",className:e.link,style:{marginTop:"0px"},children:o.localContainers.configureAndCustomizeSqlServer})]})]}),(0,g.jsx)(c,{className:e.button,onClick:()=>{t.initializeDeploymentSpecifics(0),a(!0)},appearance:"primary",children:o.common.getStarted})]})})]})},wt=()=>xe(),Nt=()=>Ye();var h=i(l()),_t=m({outerDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",minWidth:"750px",minHeight:"fit-content"},cardRow:{display:"flex",flexDirection:"row",gap:"20px"},itemDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"row",height:"fit-content",padding:"10px"},textDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"left",gap:"10px",width:"425px"},dockerIcon:{width:"75px",height:"75px",marginRight:"10px"},sqlInFabricIcon:{width:"65px",height:"65px",marginRight:"10px"},subtitleDiv:{fontSize:"14px",alignItems:"unset",textAlign:"left",fontWeight:400,paddingLeft:"70px",paddingBottom:"50px"},outerHeaderDiv:{display:"flex",flexDirection:"row",gap:"20px",alignItems:"center",justifyContent:"flex-start",minWidth:"750px",minHeight:"fit-content",top:0,left:0,paddingTop:"50px",paddingLeft:"70px",paddingBottom:"15px"},titleDiv:{fontWeight:500,fontSize:"24px",display:"flex",alignItems:"center"},headerIcon:{width:"58px",height:"58px"},cardDiv:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"5px",width:"400px",marginTop:"5px"},cardHeader:{fontWeight:400,fontSize:"18px",padding:"5px",marginTop:"5px"},cardDescription:{fontWeight:400,fontSize:"14px",padding:"5px",color:x.colorNeutralForeground4}}),J=()=>{let e=_t(),t=(0,ue.useContext)(p),[n,a]=(0,ue.useState)();return t?n!==void 0?n===0?(0,h.jsx)($e,{}):n===1?(0,h.jsx)(We,{}):null:(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:e.outerHeaderDiv,children:[(0,h.jsx)("img",{className:e.headerIcon,src:It()}),(0,h.jsx)(S,{className:e.titleDiv,children:o.deployment.deploymentHeader})]}),(0,h.jsx)(S,{className:e.subtitleDiv,children:o.deployment.deploymentDescription}),(0,h.jsx)("div",{className:e.outerDiv,children:(0,h.jsxs)("div",{className:e.cardRow,children:[(0,h.jsxs)(W,{className:e.cardDiv,onClick:()=>a(0),children:[(0,h.jsx)("img",{className:e.dockerIcon,src:Tt(),alt:o.deployment.dockerSqlServerHeader}),(0,h.jsx)(S,{className:e.cardHeader,children:o.deployment.dockerSqlServerHeader}),(0,h.jsx)(S,{className:e.cardDescription,children:o.deployment.dockerSqlServerDescription})]}),(0,h.jsxs)(W,{className:e.cardDiv,onClick:()=>a(1),children:[(0,h.jsx)("img",{className:e.sqlInFabricIcon,src:Et(),alt:o.deployment.fabricProvisioningHeader}),(0,h.jsx)(S,{className:e.cardHeader,children:o.deployment.fabricProvisioningHeader}),(0,h.jsx)(S,{className:e.cardDescription,children:o.deployment.fabricProvisioningDescription})]})]})})]}):void 0},It=()=>Je(),Tt=()=>Se(),Et=()=>ve();var H=i(l()),Bt=m({outerDiv:{height:"100%",width:"100%",position:"relative",overflowY:"auto",overflowX:"unset"},spinnerDiv:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"20px"},errorIcon:{fontSize:"100px",opacity:.5}}),tt=()=>{let e=Bt(),n=(0,et.useContext)(p)?.state,a=()=>{switch(n?.loadState){case"loading":return(0,H.jsx)("div",{className:e.spinnerDiv,children:(0,H.jsx)(w,{label:`${o.deployment.loadingDeploymentPage}...`,labelPosition:"below"})});case"loaded":return(0,H.jsx)(J,{});case"error":return(0,H.jsxs)("div",{className:e.spinnerDiv,children:[(0,H.jsx)(K,{className:e.errorIcon}),(0,H.jsx)(S,{size:400,children:n?.errorMessage??""})]})}};return(0,H.jsx)("div",{className:e.outerDiv,children:a()})};var ge=i(l());ot.default.createRoot(document.getElementById("root")).render((0,ge.jsx)(Ie,{children:(0,ge.jsx)(Be,{children:(0,ge.jsx)(tt,{})})}));
