'use strict';function a64_0x22bd(_0x5bae28,_0x3c992d){const _0x592bd4=a64_0x592b();return a64_0x22bd=function(_0x22bdf3,_0x3e450f){_0x22bdf3=_0x22bdf3-0x1b7;let _0x1e2769=_0x592bd4[_0x22bdf3];return _0x1e2769;},a64_0x22bd(_0x5bae28,_0x3c992d);}const a64_0x811d6a=a64_0x22bd;function a64_0x592b(){const _0x1c9a34=['test','__importDefault','node-fetch','userPasswordEncoded','Basic\x20','getHeaders','default','aborted','createAbortError','configurable','status','entries','call','i18n','1458803ncgKHw','map','./../../common','join','getUrl','url','string','getUserName','Fetching\x20DTP\x20API:\x20','__importStar','guessProtocol','writable','443595XwYdeq','defineProperty','name','getTelemetryReporter','/grs/api','round','fetchUrl','1335943GodqZR','DTP\x20API\x20network\x20fetch\x20','toString','510YdtcZE','6140040zoZCem','31216955mSswvo','common.dtp.statusErrorExceptionMessage','12ahkgPg','from','2eHoyAR','trim','length','now','constructor','base64','encodeParameters','json','8VEGWcg','./../../localization','userName','__setModuleDefault','./../../logging','42geiLCB','floor','statusText','hasOwnProperty','getOwnPropertyNames','get','debug','apiVersion','6371760HsNdsE','\x20ms','://','322281kaCaSn','__esModule','prototype','performance','debugEvent'];a64_0x592b=function(){return _0x1c9a34;};return a64_0x592b();}(function(_0x2f0917,_0x3f795f){const _0x58d177=a64_0x22bd,_0x4b96b0=_0x2f0917();while(!![]){try{const _0x1dc6b8=-parseInt(_0x58d177(0x1fd))/0x1*(-parseInt(_0x58d177(0x1d2))/0x2)+-parseInt(_0x58d177(0x1c2))/0x3*(parseInt(_0x58d177(0x1da))/0x4)+-parseInt(_0x58d177(0x1e7))/0x5+-parseInt(_0x58d177(0x1df))/0x6*(-parseInt(_0x58d177(0x1c9))/0x7)+parseInt(_0x58d177(0x1cd))/0x8+parseInt(_0x58d177(0x1ea))/0x9*(parseInt(_0x58d177(0x1cc))/0xa)+parseInt(_0x58d177(0x1ce))/0xb*(-parseInt(_0x58d177(0x1d0))/0xc);if(_0x1dc6b8===_0x3f795f)break;else _0x4b96b0['push'](_0x4b96b0['shift']());}catch(_0x1ee49f){_0x4b96b0['push'](_0x4b96b0['shift']());}}}(a64_0x592b,0xef62b));var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x4d2b65,_0x4f7eeb,_0x29a678,_0x2d4816){const _0x4a47ef=a64_0x22bd;if(_0x2d4816===undefined)_0x2d4816=_0x29a678;var _0x1d1b8d=Object['getOwnPropertyDescriptor'](_0x4f7eeb,_0x29a678);(!_0x1d1b8d||(_0x4a47ef(0x1e4)in _0x1d1b8d?!_0x4f7eeb['__esModule']:_0x1d1b8d[_0x4a47ef(0x1c1)]||_0x1d1b8d[_0x4a47ef(0x1f8)]))&&(_0x1d1b8d={'enumerable':!![],'get':function(){return _0x4f7eeb[_0x29a678];}}),Object[_0x4a47ef(0x1c3)](_0x4d2b65,_0x2d4816,_0x1d1b8d);}:function(_0x5a3000,_0x53fa5a,_0x4aa1ae,_0x31e232){if(_0x31e232===undefined)_0x31e232=_0x4aa1ae;_0x5a3000[_0x31e232]=_0x53fa5a[_0x4aa1ae];}),__setModuleDefault=this&&this[a64_0x811d6a(0x1dd)]||(Object['create']?function(_0x30c7da,_0x294df5){const _0x4eac3e=a64_0x811d6a;Object[_0x4eac3e(0x1c3)](_0x30c7da,_0x4eac3e(0x1f5),{'enumerable':!![],'value':_0x294df5});}:function(_0xf34851,_0x13371a){_0xf34851['default']=_0x13371a;}),__importStar=this&&this[a64_0x811d6a(0x1bf)]||(function(){var _0x51c630=function(_0x1ff7a2){const _0x725dcc=a64_0x22bd;return _0x51c630=Object[_0x725dcc(0x1e3)]||function(_0x247f3c){const _0x1cd399=_0x725dcc;var _0x133b10=[];for(var _0x10822d in _0x247f3c)if(Object[_0x1cd399(0x1ec)][_0x1cd399(0x1e2)][_0x1cd399(0x1fb)](_0x247f3c,_0x10822d))_0x133b10[_0x133b10[_0x1cd399(0x1d4)]]=_0x10822d;return _0x133b10;},_0x51c630(_0x1ff7a2);};return function(_0x33fa44){const _0x277d99=a64_0x22bd;if(_0x33fa44&&_0x33fa44[_0x277d99(0x1eb)])return _0x33fa44;var _0x229f3a={};if(_0x33fa44!=null){for(var _0x5eab91=_0x51c630(_0x33fa44),_0x135846=0x0;_0x135846<_0x5eab91[_0x277d99(0x1d4)];_0x135846++)if(_0x5eab91[_0x135846]!==_0x277d99(0x1f5))__createBinding(_0x229f3a,_0x33fa44,_0x5eab91[_0x135846]);}return __setModuleDefault(_0x229f3a,_0x33fa44),_0x229f3a;};}()),__importDefault=this&&this[a64_0x811d6a(0x1f0)]||function(_0x1d3bdf){const _0x1bc617=a64_0x811d6a;return _0x1d3bdf&&_0x1d3bdf[_0x1bc617(0x1eb)]?_0x1d3bdf:{'default':_0x1d3bdf};};Object[a64_0x811d6a(0x1c3)](exports,'__esModule',{'value':!![]}),exports['DtpClient']=exports['StatusError']=void 0x0;const node_fetch_1=__importDefault(require(a64_0x811d6a(0x1f1))),perf_hooks_1=require('perf_hooks'),pslogging=__importStar(require(a64_0x811d6a(0x1de))),localization_1=require(a64_0x811d6a(0x1db)),telemetry_provider_1=require('./../../telemetry.provider'),common_1=require(a64_0x811d6a(0x1b8));class StatusError extends Error{[a64_0x811d6a(0x1f9)];['statusText'];['url'];constructor(_0x4a5105,_0x26f74c,_0x47a643,_0x660012){const _0x5afc51=a64_0x811d6a;super(_0x4a5105),this[_0x5afc51(0x1c4)]=this['constructor'][_0x5afc51(0x1c4)],this[_0x5afc51(0x1f9)]=_0x26f74c,this[_0x5afc51(0x1e1)]=_0x47a643,this[_0x5afc51(0x1bb)]=_0x660012,Error['captureStackTrace'](this,this[_0x5afc51(0x1d6)]);}}exports['StatusError']=StatusError;class DtpClient{[a64_0x811d6a(0x1e6)]='v1.7';[a64_0x811d6a(0x1bb)];[a64_0x811d6a(0x1f2)];['userName'];constructor(_0x2d862c,_0x25958a,_0x4ac8d8){const _0x25f801=a64_0x811d6a;this[_0x25f801(0x1bb)]=/^https?:\/\//i[_0x25f801(0x1ef)](_0x2d862c)?_0x2d862c+_0x25f801(0x1c6):(0x0,common_1[_0x25f801(0x1c0)])(_0x2d862c)+_0x25f801(0x1e9)+_0x2d862c+_0x25f801(0x1c6),this[_0x25f801(0x1f2)]=Buffer[_0x25f801(0x1d1)](_0x25958a+':'+_0x4ac8d8)[_0x25f801(0x1cb)](_0x25f801(0x1d7)),this[_0x25f801(0x1dc)]=_0x25958a;}async['fetchApi'](_0x560732,_0x3bb7fa,_0x116337){const _0x499c0a=a64_0x811d6a,_0xfb3a29=typeof _0x3bb7fa===_0x499c0a(0x1bc)?_0x3bb7fa['trim']():this['encodeParameters'](_0x3bb7fa)[_0x499c0a(0x1d3)]();return this[_0x499c0a(0x1c8)](_0x560732,_0xfb3a29,_0x116337);}[a64_0x811d6a(0x1ba)](){const _0x599a4c=a64_0x811d6a;return this[_0x599a4c(0x1bb)];}[a64_0x811d6a(0x1bd)](){const _0x5899de=a64_0x811d6a;return this[_0x5899de(0x1dc)];}[a64_0x811d6a(0x1d8)](_0x4673b6){const _0x51740c=a64_0x811d6a;return Array[_0x51740c(0x1d1)](_0x4673b6[_0x51740c(0x1fa)]())[_0x51740c(0x1b7)](_0x44c1f2=>encodeURIComponent(_0x44c1f2[0x0])+'='+encodeURIComponent(_0x44c1f2[0x1]))[_0x51740c(0x1b9)]('&');}async[a64_0x811d6a(0x1c8)](_0x26abd5,_0x897713,_0x3a3411){const _0x5d66eb=a64_0x811d6a,_0x5af0e5=_0x897713?'?'+_0x897713:'',_0x54ee51=this['url']+'/'+this[_0x5d66eb(0x1e6)]+'/'+_0x26abd5+_0x5af0e5,_0x1b8a5c=this[_0x5d66eb(0x1f4)]();pslogging['debug'](_0x5d66eb(0x1be)+_0x54ee51+'\x20...');const _0x297821=perf_hooks_1['performance'][_0x5d66eb(0x1d5)](),_0x1e5716=await(0x0,node_fetch_1[_0x5d66eb(0x1f5)])(_0x54ee51,{'headers':_0x1b8a5c,'signal':_0x3a3411}),_0x5b18c8=perf_hooks_1[_0x5d66eb(0x1ed)]['now']();pslogging[_0x5d66eb(0x1e5)](_0x5d66eb(0x1ca)+_0x54ee51+':\x20'+Math[_0x5d66eb(0x1e0)](_0x5b18c8-_0x297821)+_0x5d66eb(0x1e8));if(_0x1e5716[_0x5d66eb(0x1f9)]!==0xc8){const _0xe16138=(0x0,localization_1[_0x5d66eb(0x1fc)])(_0x5d66eb(0x1cf),_0x1e5716['status'][_0x5d66eb(0x1cb)](),_0x1e5716['statusText']);throw new StatusError(_0xe16138,_0x1e5716['status'],_0x1e5716['statusText'],_0x1e5716[_0x5d66eb(0x1bb)]);}const _0x20de38=await _0x1e5716[_0x5d66eb(0x1d9)](),_0x249f5e=perf_hooks_1[_0x5d66eb(0x1ed)][_0x5d66eb(0x1d5)]();pslogging[_0x5d66eb(0x1e5)]('DTP\x20API\x20body\x20parsing:\x20'+Math[_0x5d66eb(0x1e0)](_0x249f5e-_0x5b18c8)+_0x5d66eb(0x1e8)),telemetry_provider_1['TelemetryReporterProvider'][_0x5d66eb(0x1c5)]()?.[_0x5d66eb(0x1ee)]('dtpApiFetch',{'ps.dtpApiFetch.name':_0x26abd5},{'ps.dtpApiFetch.fetchDurationMs':Math[_0x5d66eb(0x1c7)](_0x5b18c8-_0x297821),'ps.dtpApiFetch.parseDurationMs':Math['round'](_0x249f5e-_0x5b18c8)});if(_0x3a3411?.[_0x5d66eb(0x1f6)])throw(0x0,common_1[_0x5d66eb(0x1f7)])();return _0x20de38;}[a64_0x811d6a(0x1f4)](){const _0x54d488=a64_0x811d6a;return{'Authorization':_0x54d488(0x1f3)+this[_0x54d488(0x1f2)]};}}exports['DtpClient']=DtpClient;