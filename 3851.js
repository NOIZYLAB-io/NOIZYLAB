"use strict";(self.webpackChunkechoapi_for_vscode=self.webpackChunkechoapi_for_vscode||[]).push([[3851],{323851:(e,n,r)=>{r.r(n),r.d(n,{default:()=>w});var l=r(310467),a=r(354756),t=r.n(a),i=r(296540),u=r(778291),c=r(987959),o=r(892911),s=r(650400),d=r(58168);const f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};var v=r(812226),p=function(e,n){return i.createElement(v.A,(0,d.A)({},e,{ref:n,icon:f}))};const h=i.forwardRef(p);var m=r(123328),b=r(716535),y=r(302543),_=r(926864),x=r(521026),A=r(901982),g=r(474848);const w=function(e){var n=e.value,r=e.onChange,a=(0,u.Bd)().t,d=function(){var e=(0,l.A)(t().mark((function e(l){var i,u,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null==l||null===(i=l.file)||void 0===i?void 0:i.size)>5242880)){e.next=1;break}return c.Ay.error(a("supplement.upload_file_large")),e.abrupt("return");case 1:return u="",e.next=2,(0,x.tV)(null==l?void 0:l.file);case 2:u=e.sent,o=(0,b.Ay)(n,(function(e){var n;e.binary={file_name:null===(n=l.file)||void 0===n?void 0:n.name,data_url:u,file_path:null}})),null==r||r("body",o),l.onSuccess(null);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=(0,i.useMemo)((function(){var e,r;return!(0,y.isObject)(null==n?void 0:n.binary)||(0,y.isEmpty)(null==n||null===(e=n.binary)||void 0===e?void 0:e.file_name)?[]:[{uid:(0,m.aL)(),name:(null==n||null===(r=n.binary)||void 0===r?void 0:r.file_name)||"",status:"done"}]}),[null==n?void 0:n.binary]);return(0,g.jsx)(A.K,{children:(0,g.jsx)(_.A,{fileList:f,onRemove:function(){var e=(0,b.Ay)(n,(function(e){e.binary=null}));return null==r||r("body",e),!0},customRequest:d,className:"upload-wrapper",children:(0,g.jsx)(o.A,{vertical:!0,align:"center",gap:12,children:(0,g.jsx)(s.Ay,{icon:(0,g.jsx)(h,{}),children:a("supplement.upload_file")})})})})}}}]);