/*
 * wallaby-core
 * https://wallabyjs.com
 * Copyright (c) 2014-2025 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of wallaby-core and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();const t4="modulepreload",r4=function(t,e){return new URL(t,e).href},Xb={},qr=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const o=document.getElementsByTagName("link");i=Promise.all(r.map(s=>{if(s=r4(s,n),s in Xb)return;Xb[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!n)for(let u=o.length-1;u>=0;u--){const f=o[u];if(f.href===s&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":t4,a||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),a)return new Promise((u,f)=>{d.addEventListener("load",u),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})}))}return i.then(()=>e()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})},n4=(t,e)=>t===e,ur=Symbol("solid-proxy"),Xi=Symbol("solid-track"),Sl={equals:n4};let zx=Jx;const zn=1,xl=2,Kx={owned:null,cleanups:null,context:null,owner:null};var Tt=null;let Gd=null,i4=null,Ut=null,br=null,Gn=null,sc=0;function _r(t,e){const r=Ut,n=Tt,i=t.length===0,o=e===void 0?n:e,s=i?Kx:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=i?t:()=>t(()=>Xt(()=>uc(s)));Tt=s,Ut=null;try{return Ei(a,!0)}finally{Ut=r,Tt=n}}function z(t,e){e=e?Object.assign({},Sl,e):Sl;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=i=>(typeof i=="function"&&(i=i(r.value)),Yx(r,i));return[Xx.bind(r),n]}function dl(t,e,r){const n=dc(t,e,!0,zn);gs(n)}function oe(t,e,r){const n=dc(t,e,!1,zn);gs(n)}function yt(t,e,r){zx=l4;const n=dc(t,e,!1,zn);(!r||!r.render)&&(n.user=!0),Gn?Gn.push(n):gs(n)}function U(t,e,r){r=r?Object.assign({},Sl,r):Sl;const n=dc(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,gs(n),Xx.bind(n)}function hi(t){return Ei(t,!1)}function Xt(t){if(Ut===null)return t();const e=Ut;Ut=null;try{return t()}finally{Ut=e}}function xr(t,e,r){const n=Array.isArray(t);let i,o=r&&r.defer;return s=>{let a;if(n){a=Array(t.length);for(let c=0;c<t.length;c++)a[c]=t[c]()}else a=t();if(o){o=!1;return}const l=Xt(()=>e(a,i,s));return i=a,l}}function Vt(t){yt(()=>Xt(t))}function Xe(t){return Tt===null||(Tt.cleanups===null?Tt.cleanups=[t]:Tt.cleanups.push(t)),t}function ra(){return Ut}function Ir(){return Tt}function Vi(t,e){const r=Tt,n=Ut;Tt=t,Ut=null;try{return Ei(e,!0)}catch(i){xv(i)}finally{Tt=r,Ut=n}}function o4(t){const e=Ut,r=Tt;return Promise.resolve().then(()=>{Ut=e,Tt=r;let n;return Ei(t,!1),Ut=Tt=null,n?n.done:void 0})}function ac(t,e){const r=Symbol("context");return{id:r,Provider:d4(r),defaultValue:t}}function lc(t){return Tt&&Tt.context&&Tt.context[t.id]!==void 0?Tt.context[t.id]:t.defaultValue}function cc(t){const e=U(t),r=U(()=>Lm(e()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}function Xx(){if(this.sources&&this.state)if(this.state===zn)gs(this);else{const t=br;br=null,Ei(()=>El(this),!1),br=t}if(Ut){const t=this.observers?this.observers.length:0;Ut.sources?(Ut.sources.push(this),Ut.sourceSlots.push(t)):(Ut.sources=[this],Ut.sourceSlots=[t]),this.observers?(this.observers.push(Ut),this.observerSlots.push(Ut.sources.length-1)):(this.observers=[Ut],this.observerSlots=[Ut.sources.length-1])}return this.value}function Yx(t,e,r){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&Ei(()=>{for(let i=0;i<t.observers.length;i+=1){const o=t.observers[i],s=Gd&&Gd.running;s&&Gd.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?br.push(o):Gn.push(o),o.observers&&Zx(o)),s||(o.state=zn)}if(br.length>1e6)throw br=[],new Error},!1)),e}function gs(t){if(!t.fn)return;uc(t);const e=sc;s4(t,t.value,e)}function s4(t,e,r){let n;const i=Tt,o=Ut;Ut=Tt=t;try{n=t.fn(e)}catch(s){return t.pure&&(t.state=zn,t.owned&&t.owned.forEach(uc),t.owned=null),t.updatedAt=r+1,xv(s)}finally{Ut=o,Tt=i}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?Yx(t,n):t.value=n,t.updatedAt=r)}function dc(t,e,r,n=zn,i){const o={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:Tt,context:Tt?Tt.context:null,pure:r};return Tt===null||Tt!==Kx&&(Tt.owned?Tt.owned.push(o):Tt.owned=[o]),o}function Tl(t){if(t.state===0)return;if(t.state===xl)return El(t);if(t.suspense&&Xt(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<sc);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===zn)gs(t);else if(t.state===xl){const n=br;br=null,Ei(()=>El(t,e[0]),!1),br=n}}function Ei(t,e){if(br)return t();let r=!1;e||(br=[]),Gn?r=!0:Gn=[],sc++;try{const n=t();return a4(r),n}catch(n){r||(Gn=null),br=null,xv(n)}}function a4(t){if(br&&(Jx(br),br=null),t)return;const e=Gn;Gn=null,e.length&&Ei(()=>zx(e),!1)}function Jx(t){for(let e=0;e<t.length;e++)Tl(t[e])}function l4(t){let e,r=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[r++]=n:Tl(n)}for(e=0;e<r;e++)Tl(t[e])}function El(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const n=t.sources[r];if(n.sources){const i=n.state;i===zn?n!==e&&(!n.updatedAt||n.updatedAt<sc)&&Tl(n):i===xl&&El(n,e)}}}function Zx(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=xl,r.pure?br.push(r):Gn.push(r),r.observers&&Zx(r))}}function uc(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),n=t.sourceSlots.pop(),i=r.observers;if(i&&i.length){const o=i.pop(),s=r.observerSlots.pop();n<i.length&&(o.sourceSlots[s]=n,i[n]=o,r.observerSlots[n]=s)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)uc(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function c4(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function xv(t,e=Tt){throw c4(t)}function Lm(t){if(typeof t=="function"&&!t.length)return Lm(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const n=Lm(t[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function d4(t,e){return function(n){let i;return oe(()=>i=Xt(()=>(Tt.context={...Tt.context,[t]:n.value},cc(()=>n.children))),void 0),i}}const Im=Symbol("fallback");function Cl(t){for(let e=0;e<t.length;e++)t[e]()}function Qx(t,e,r={}){let n=[],i=[],o=[],s=0,a=e.length>1?[]:null;return Xe(()=>Cl(o)),()=>{let l=t()||[],c,d;return l[Xi],Xt(()=>{let f=l.length,h,g,p,m,b,k,_,v,x;if(f===0)s!==0&&(Cl(o),o=[],n=[],i=[],s=0,a&&(a=[])),r.fallback&&(n=[Im],i[0]=_r(S=>(o[0]=S,r.fallback())),s=1);else if(s===0){for(i=new Array(f),d=0;d<f;d++)n[d]=l[d],i[d]=_r(u);s=f}else{for(p=new Array(f),m=new Array(f),a&&(b=new Array(f)),k=0,_=Math.min(s,f);k<_&&n[k]===l[k];k++);for(_=s-1,v=f-1;_>=k&&v>=k&&n[_]===l[v];_--,v--)p[v]=i[_],m[v]=o[_],a&&(b[v]=a[_]);for(h=new Map,g=new Array(v+1),d=v;d>=k;d--)x=l[d],c=h.get(x),g[d]=c===void 0?-1:c,h.set(x,d);for(c=k;c<=_;c++)x=n[c],d=h.get(x),d!==void 0&&d!==-1?(p[d]=i[c],m[d]=o[c],a&&(b[d]=a[c]),d=g[d],h.set(x,d)):o[c]();for(d=k;d<f;d++)d in p?(i[d]=p[d],o[d]=m[d],a&&(a[d]=b[d],a[d](d))):i[d]=_r(u);i=i.slice(0,s=f),n=l.slice(0)}return i});function u(f){if(o[d]=f,a){const[h,g]=z(d);return a[d]=g,e(l[d],h)}return e(l[d])}}}function u4(t,e,r={}){let n=[],i=[],o=[],s=[],a=0,l;return Xe(()=>Cl(o)),()=>{const c=t()||[];return c[Xi],Xt(()=>{if(c.length===0)return a!==0&&(Cl(o),o=[],n=[],i=[],a=0,s=[]),r.fallback&&(n=[Im],i[0]=_r(u=>(o[0]=u,r.fallback())),a=1),i;for(n[0]===Im&&(o[0](),o=[],n=[],i=[],a=0),l=0;l<c.length;l++)l<n.length&&n[l]!==c[l]?s[l](()=>c[l]):l>=n.length&&(i[l]=_r(d));for(;l<n.length;l++)o[l]();return a=s.length=o.length=c.length,n=c.slice(0),i=i.slice(0,a)});function d(u){o[l]=u;const[f,h]=z(c[l]);return s[l]=h,e(f,l)}}}function y(t,e){return Xt(()=>t(e||{}))}function Ba(){return!0}const Am={get(t,e,r){return e===ur?r:t.get(e)},has(t,e){return e===ur?!0:t.has(e)},set:Ba,deleteProperty:Ba,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:Ba,deleteProperty:Ba}},ownKeys(t){return t.keys()}};function Ud(t){return(t=typeof t=="function"?t():t)?t:{}}function h4(){for(let t=0,e=this.length;t<e;++t){const r=this[t]();if(r!==void 0)return r}}function Yi(...t){let e=!1;for(let s=0;s<t.length;s++){const a=t[s];e=e||!!a&&ur in a,t[s]=typeof a=="function"?(e=!0,U(a)):a}if(e)return new Proxy({get(s){for(let a=t.length-1;a>=0;a--){const l=Ud(t[a])[s];if(l!==void 0)return l}},has(s){for(let a=t.length-1;a>=0;a--)if(s in Ud(t[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<t.length;a++)s.push(...Object.keys(Ud(t[a])));return[...new Set(s)]}},Am);const r={},n=Object.create(null);for(let s=t.length-1;s>=0;s--){const a=t[s];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const d=l[c];if(d==="__proto__"||d==="constructor")continue;const u=Object.getOwnPropertyDescriptor(a,d);if(!n[d])n[d]=u.get?{enumerable:!0,configurable:!0,get:h4.bind(r[d]=[u.get.bind(a)])}:u.value!==void 0?u:void 0;else{const f=r[d];f&&(u.get?f.push(u.get.bind(a)):u.value!==void 0&&f.push(()=>u.value))}}}const i={},o=Object.keys(n);for(let s=o.length-1;s>=0;s--){const a=o[s],l=n[a];l&&l.get?Object.defineProperty(i,a,l):i[a]=l?l.value:void 0}return i}function f4(t,...e){if(ur in t){const i=new Set(e.length>1?e.flat():e[0]),o=e.map(s=>new Proxy({get(a){return s.includes(a)?t[a]:void 0},has(a){return s.includes(a)&&a in t},keys(){return s.filter(a=>a in t)}},Am));return o.push(new Proxy({get(s){return i.has(s)?void 0:t[s]},has(s){return i.has(s)?!1:s in t},keys(){return Object.keys(t).filter(s=>!i.has(s))}},Am)),o}const r={},n=e.map(()=>({}));for(const i of Object.getOwnPropertyNames(t)){const o=Object.getOwnPropertyDescriptor(t,i),s=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let a=!1,l=0;for(const c of e)c.includes(i)&&(a=!0,s?n[l][i]=o.value:Object.defineProperty(n[l],i,o)),++l;a||(s?r[i]=o.value:Object.defineProperty(r,i,o))}return[...n,r]}const e2=t=>`Stale read from <${t}>.`;function It(t){const e="fallback"in t&&{fallback:()=>t.fallback};return U(Qx(()=>t.each,t.children,e||void 0))}function Vo(t){const e="fallback"in t&&{fallback:()=>t.fallback};return U(u4(()=>t.each,t.children,e||void 0))}function V(t){const e=t.keyed,r=U(()=>t.when,void 0,{equals:(n,i)=>e?n===i:!n==!i});return U(()=>{const n=r();if(n){const i=t.children;return typeof i=="function"&&i.length>0?Xt(()=>i(e?n:()=>{if(!Xt(r))throw e2("Show");return t.when})):i}return t.fallback},void 0,void 0)}function qt(t){let e=!1;const r=(o,s)=>(e?o[1]===s[1]:!o[1]==!s[1])&&o[2]===s[2],n=cc(()=>t.children),i=U(()=>{let o=n();Array.isArray(o)||(o=[o]);for(let s=0;s<o.length;s++){const a=o[s].when;if(a)return e=!!o[s].keyed,[s,a,o[s]]}return[-1]},void 0,{equals:r});return U(()=>{const[o,s,a]=i();if(o<0)return t.fallback;const l=a.children;return typeof l=="function"&&l.length>0?Xt(()=>l(e?s:()=>{if(Xt(i)[0]!==o)throw e2("Match");return a.when})):l},void 0,void 0)}function Ce(t){return t}const g4=void 0,p4=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],m4=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...p4]),v4=new Set(["innerHTML","textContent","innerText","children"]),b4=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),_4=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function y4(t,e){const r=_4[t];return typeof r=="object"?r[e]?r.$:void 0:r}const w4=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),k4=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),S4={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function x4(t,e,r){let n=r.length,i=e.length,o=n,s=0,a=0,l=e[i-1].nextSibling,c=null;for(;s<i||a<o;){if(e[s]===r[a]){s++,a++;continue}for(;e[i-1]===r[o-1];)i--,o--;if(i===s){const d=o<n?a?r[a-1].nextSibling:r[o-a]:l;for(;a<o;)t.insertBefore(r[a++],d)}else if(o===a)for(;s<i;)(!c||!c.has(e[s]))&&e[s].remove(),s++;else if(e[s]===r[o-1]&&r[a]===e[i-1]){const d=e[--i].nextSibling;t.insertBefore(r[a++],e[s++].nextSibling),t.insertBefore(r[--o],d),e[i]=r[o]}else{if(!c){c=new Map;let u=a;for(;u<o;)c.set(r[u],u++)}const d=c.get(e[s]);if(d!=null)if(a<d&&d<o){let u=s,f=1,h;for(;++u<i&&u<o&&!((h=c.get(e[u]))==null||h!==d+f);)f++;if(f>d-a){const g=e[s];for(;a<d;)t.insertBefore(r[a++],g)}else t.replaceChild(r[a++],e[s++])}else s++;else e[s++].remove()}}}const Yb="_$DX_DELEGATE";function T4(t,e,r,n={}){let i;return _r(o=>{i=o,e===document?t():A(e,t(),e.firstChild?null:void 0,r)},n.owner),()=>{i(),e.textContent=""}}function D(t,e,r){let n;const i=()=>{const s=document.createElement("template");return s.innerHTML=t,r?s.content.firstChild.firstChild:s.content.firstChild},o=e?()=>Xt(()=>document.importNode(n||(n=i()),!0)):()=>(n||(n=i())).cloneNode(!0);return o.cloneNode=o,o}function At(t,e=window.document){const r=e[Yb]||(e[Yb]=new Set);for(let n=0,i=t.length;n<i;n++){const o=t[n];r.has(o)||(r.add(o),e.addEventListener(o,A4))}}function Me(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function E4(t,e,r,n){n==null?t.removeAttributeNS(e,r):t.setAttributeNS(e,r,n)}function hr(t,e){e==null?t.removeAttribute("class"):t.className=e}function Ci(t,e,r,n){if(n)Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r;else if(Array.isArray(r)){const i=r[0];t.addEventListener(e,r[0]=o=>i.call(t,r[1],o))}else t.addEventListener(e,r)}function Et(t,e,r={}){const n=Object.keys(e||{}),i=Object.keys(r);let o,s;for(o=0,s=i.length;o<s;o++){const a=i[o];!a||a==="undefined"||e[a]||(Jb(t,a,!1),delete r[a])}for(o=0,s=n.length;o<s;o++){const a=n[o],l=!!e[a];!a||a==="undefined"||r[a]===l||!l||(Jb(t,a,!0),r[a]=l)}return r}function dn(t,e,r){if(!e)return r?Me(t,"style"):e;const n=t.style;if(typeof e=="string")return n.cssText=e;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),e||(e={});let i,o;for(o in r)e[o]==null&&n.removeProperty(o),delete r[o];for(o in e)i=e[o],i!==r[o]&&(n.setProperty(o,i),r[o]=i);return r}function C4(t,e={},r,n){const i={};return n||oe(()=>i.children=jo(t,e.children,i.children)),oe(()=>e.ref&&e.ref(t)),oe(()=>L4(t,e,r,!0,i,!0)),i}function ae(t,e,r){return Xt(()=>t(e,r))}function A(t,e,r,n){if(r!==void 0&&!n&&(n=[]),typeof e!="function")return jo(t,e,n,r);oe(i=>jo(t,e(),i,r),n)}function L4(t,e,r,n,i={},o=!1){e||(e={});for(const s in i)if(!(s in e)){if(s==="children")continue;i[s]=Zb(t,s,null,i[s],r,o)}for(const s in e){if(s==="children"){n||jo(t,e.children);continue}const a=e[s];i[s]=Zb(t,s,a,i[s],r,o)}}function I4(t){return t.toLowerCase().replace(/-([a-z])/g,(e,r)=>r.toUpperCase())}function Jb(t,e,r){const n=e.trim().split(/\s+/);for(let i=0,o=n.length;i<o;i++)t.classList.toggle(n[i],r)}function Zb(t,e,r,n,i,o){let s,a,l,c,d;if(e==="style")return dn(t,r,n);if(e==="classList")return Et(t,r,n);if(r===n)return n;if(e==="ref")o||r(t);else if(e.slice(0,3)==="on:"){const u=e.slice(3);n&&t.removeEventListener(u,n),r&&t.addEventListener(u,r)}else if(e.slice(0,10)==="oncapture:"){const u=e.slice(10);n&&t.removeEventListener(u,n,!0),r&&t.addEventListener(u,r,!0)}else if(e.slice(0,2)==="on"){const u=e.slice(2).toLowerCase(),f=w4.has(u);if(!f&&n){const h=Array.isArray(n)?n[0]:n;t.removeEventListener(u,h)}(f||r)&&(Ci(t,u,r,f),f&&At([u]))}else if(e.slice(0,5)==="attr:")Me(t,e.slice(5),r);else if((d=e.slice(0,5)==="prop:")||(l=v4.has(e))||!i&&((c=y4(e,t.tagName))||(a=m4.has(e)))||(s=t.nodeName.includes("-")))d&&(e=e.slice(5),a=!0),e==="class"||e==="className"?hr(t,r):s&&!a&&!l?t[I4(e)]=r:t[c||e]=r;else{const u=i&&e.indexOf(":")>-1&&S4[e.split(":")[0]];u?E4(t,u,e,r):Me(t,b4[e]||e,r)}return r}function A4(t){const e=`$$${t.type}`;let r=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==r&&Object.defineProperty(t,"target",{configurable:!0,value:r}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return r||document}});r;){const n=r[e];if(n&&!r.disabled){const i=r[`${e}Data`];if(i!==void 0?n.call(r,i,t):n.call(r,t),t.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function jo(t,e,r,n,i){for(;typeof r=="function";)r=r();if(e===r)return r;const o=typeof e,s=n!==void 0;if(t=s&&r[0]&&r[0].parentNode||t,o==="string"||o==="number")if(o==="number"&&(e=e.toString()),s){let a=r[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),r=ko(t,r,n,a)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e;else if(e==null||o==="boolean")r=ko(t,r,n);else{if(o==="function")return oe(()=>{let a=e();for(;typeof a=="function";)a=a();r=jo(t,a,r,n)}),()=>r;if(Array.isArray(e)){const a=[],l=r&&Array.isArray(r);if(Fm(a,e,r,i))return oe(()=>r=jo(t,a,r,n,!0)),()=>r;if(a.length===0){if(r=ko(t,r,n),s)return r}else l?r.length===0?Qb(t,a,n):x4(t,r,a):(r&&ko(t),Qb(t,a));r=a}else if(e.nodeType){if(Array.isArray(r)){if(s)return r=ko(t,r,n,e);ko(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}}return r}function Fm(t,e,r,n){let i=!1;for(let o=0,s=e.length;o<s;o++){let a=e[o],l=r&&r[o],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))i=Fm(t,a,l)||i;else if(c==="function")if(n){for(;typeof a=="function";)a=a();i=Fm(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else t.push(a),i=!0;else{const d=String(a);l&&l.nodeType===3&&l.data===d?t.push(l):t.push(document.createTextNode(d))}}return i}function Qb(t,e,r=null){for(let n=0,i=e.length;n<i;n++)t.insertBefore(e[n],r)}function ko(t,e,r,n){if(r===void 0)return t.textContent="";const i=n||document.createTextNode("");if(e.length){let o=!1;for(let s=e.length-1;s>=0;s--){const a=e[s];if(i!==a){const l=a.parentNode===t;!o&&!s?l?t.replaceChild(i,a):t.insertBefore(i,r):l&&a.remove()}else o=!0}}else t.insertBefore(i,r);return[i]}const F4=!1,R4="http://www.w3.org/2000/svg";function P4(t,e=!1){return e?document.createElementNS(R4,t):document.createElement(t)}function Tv(t){const[e,r]=f4(t,["component"]),n=U(()=>e.component);return U(()=>{const i=n();switch(typeof i){case"function":return Xt(()=>i(r));case"string":const o=k4.has(i),s=P4(i,o);return C4(s,r,o),s}})}function t2(){let t=new Set;function e(i){return t.add(i),()=>t.delete(i)}let r=!1;function n(i,o){if(r)return!(r=!1);const s={to:i,options:o,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const a of t)a.listener({...s,from:a.location,retry:l=>{l&&(r=!0),a.navigate(i,{...o,resolve:!1})}});return!s.defaultPrevented}return{subscribe:e,confirm:n}}let Rm;function Ev(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Rm=window.history.state._depth}Ev();function $4(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function D4(t,e){let r=!1;return()=>{const n=Rm;Ev();const i=n==null?null:Rm-n;if(r){r=!1;return}i&&e(i)?(r=!0,window.history.go(-i)):t()}}const O4=/^(?:[a-z0-9]+:)?\/\//i,B4=/^\/+|(\/)\/+$/g,r2="http://sr";function Zs(t,e=!1){const r=t.replace(B4,"$1");return r?e||/^[?#]/.test(r)?r:"/"+r:""}function ul(t,e,r){if(O4.test(e))return;const n=Zs(t),i=r&&Zs(r);let o="";return!i||e.startsWith("/")?o=n:i.toLowerCase().indexOf(n.toLowerCase())!==0?o=n+i:o=i,(o||"/")+Zs(e,!o)}function M4(t,e){return Zs(t).replace(/\/*(\*.*)?$/g,"")+Zs(e)}function n2(t){const e={};return t.searchParams.forEach((r,n)=>{e[n]=r}),e}function N4(t,e,r){const[n,i]=t.split("/*",2),o=n.split("/").filter(Boolean),s=o.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-s;if(c<0||c>0&&i===void 0&&!e)return null;const d={path:s?"":"/",params:{}},u=f=>r===void 0?void 0:r[f];for(let f=0;f<s;f++){const h=o[f],g=l[f],p=h[0]===":",m=p?h.slice(1):h;if(p&&Wd(g,u(m)))d.params[m]=g;else if(p||!Wd(g,h))return null;d.path+=`/${g}`}if(i){const f=c?l.slice(-c).join("/"):"";if(Wd(f,u(i)))d.params[i]=f;else return null}return d}}function Wd(t,e){const r=n=>n.localeCompare(t,void 0,{sensitivity:"base"})===0;return e===void 0?!0:typeof e=="string"?r(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(r):e instanceof RegExp?e.test(t):!1}function G4(t){const[e,r]=t.pattern.split("/*",2),n=e.split("/").filter(Boolean);return n.reduce((i,o)=>i+(o.startsWith(":")?2:3),n.length-(r===void 0?0:1))}function i2(t){const e=new Map,r=Ir();return new Proxy({},{get(n,i){return e.has(i)||Vi(r,()=>e.set(i,U(()=>t()[i]))),e.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function o2(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let r=t.slice(0,e.index),n=t.slice(e.index+e[0].length);const i=[r,r+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(n);)i.push(r+=e[1]),n=n.slice(e[0].length);return o2(n).reduce((o,s)=>[...o,...i.map(a=>a+s)],[])}const U4=100,W4=ac(),s2=ac();function q4(t,e=""){const{component:r,preload:n,load:i,children:o,info:s}=t,a=!o||Array.isArray(o)&&!o.length,l={key:t,component:r,preload:n||i,info:s};return a2(t.path).reduce((c,d)=>{for(const u of o2(d)){const f=M4(e,u);let h=a?f:f.split("/*",1)[0];h=h.split("/").map(g=>g.startsWith(":")||g.startsWith("*")?g:encodeURIComponent(g)).join("/"),c.push({...l,originalPath:d,pattern:h,matcher:N4(h,!a,t.matchFilters)})}return c},[])}function H4(t,e=0){return{routes:t,score:G4(t[t.length-1])*1e4-e,matcher(r){const n=[];for(let i=t.length-1;i>=0;i--){const o=t[i],s=o.matcher(r);if(!s)return null;n.unshift({...s,route:o})}return n}}}function a2(t){return Array.isArray(t)?t:[t]}function l2(t,e="",r=[],n=[]){const i=a2(t);for(let o=0,s=i.length;o<s;o++){const a=i[o];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=q4(a,e);for(const c of l){r.push(c);const d=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!d)l2(a.children,c.pattern,r,n);else{const u=H4([...r],n.length);n.push(u)}r.pop()}}}return r.length?n:n.sort((o,s)=>s.score-o.score)}function qd(t,e){for(let r=0,n=t.length;r<n;r++){const i=t[r].matcher(e);if(i)return i}return[]}function V4(t,e){const r=new URL(r2),n=U(l=>{const c=t();try{return new URL(c,r)}catch{return console.error(`Invalid path ${c}`),l}},r,{equals:(l,c)=>l.href===c.href}),i=U(()=>n().pathname),o=U(()=>n().search,!0),s=U(()=>n().hash),a=()=>"";return{get pathname(){return i()},get search(){return o()},get hash(){return s()},get state(){return e()},get key(){return a()},query:i2(xr(o,()=>n2(n())))}}let Wi;function j4(){return Wi}function z4(t,e,r,n={}){const{signal:[i,o],utils:s={}}=t,a=s.parsePath||($=>$),l=s.renderPath||($=>$),c=s.beforeLeave||t2(),d=ul("",n.base||"");if(d===void 0)throw new Error(`${d} is not a valid base path`);d&&!i().value&&o({value:d,replace:!0,scroll:!1});const[u,f]=z(!1);let h;const g=($,O)=>{O.value===p()&&O.state===b()||(h===void 0&&f(!0),Wi=$,h=O,o4(()=>{h===O&&(m(h.value),k(h.state),x[1]([]))}).finally(()=>{h===O&&hi(()=>{Wi=void 0,$==="navigate"&&C(h),f(!1),h=void 0})}))},[p,m]=z(i().value),[b,k]=z(i().state),_=V4(p,b),v=[],x=z([]),S=U(()=>typeof n.transformUrl=="function"?qd(e(),n.transformUrl(_.pathname)):qd(e(),_.pathname)),w=i2(()=>{const $=S(),O={};for(let M=0;M<$.length;M++)Object.assign(O,$[M].params);return O}),T={pattern:d,path:()=>d,outlet:()=>null,resolvePath($){return ul(d,$)}};return oe(xr(i,$=>g("native",$),{defer:!0})),{base:T,location:_,params:w,isRouting:u,renderPath:l,parsePath:a,navigatorFactory:E,matches:S,beforeLeave:c,preloadRoute:F,singleFlight:n.singleFlight===void 0?!0:n.singleFlight,submissions:x};function L($,O,M){Xt(()=>{if(typeof O=="number"){O&&(s.go?s.go(O):console.warn("Router integration does not support relative routing"));return}const{replace:I,resolve:W,scroll:q,state:G}={replace:!1,resolve:!0,scroll:!0,...M},H=W?$.resolvePath(O):ul("",O);if(H===void 0)throw new Error(`Path '${O}' is not a routable path`);if(v.length>=U4)throw new Error("Too many redirects");const J=p();(H!==J||G!==b())&&(F4||c.confirm(H,M)&&(v.push({value:J,replace:I,scroll:q,state:b()}),g("navigate",{value:H,state:G})))})}function E($){return $=$||lc(s2)||T,(O,M)=>L($,O,M)}function C($){const O=v[0];O&&(o({...$,replace:O.replace,scroll:O.scroll}),v.length=0)}function F($,O={}){const M=qd(e(),$.pathname),I=Wi;Wi="preload";for(let W in M){const{route:q,params:G}=M[W];q.component&&q.component.preload&&q.component.preload();const{preload:H}=q;O.preloadData&&H&&Vi(r(),()=>H({params:G,location:{pathname:$.pathname,search:$.search,hash:$.hash,query:n2($),state:null,key:""},intent:"preload"}))}Wi=I}}function K4(t,e,r,n){const{base:i,location:o,params:s}=t,{pattern:a,component:l,preload:c}=n().route,d=U(()=>n().path);l&&l.preload&&l.preload();const u=c?c({params:s,location:o,intent:Wi||"initial"}):void 0;return{parent:e,pattern:a,path:d,outlet:()=>l?y(l,{params:s,location:o,data:u,get children(){return r()}}):r(),resolvePath(h){return ul(i.path(),h,d())}}}const X4=t=>e=>{const{base:r}=e,n=cc(()=>e.children),i=U(()=>l2(n(),e.base||""));let o;const s=z4(t,i,()=>o,{base:r,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(s),y(W4.Provider,{value:s,get children(){return y(Y4,{routerState:s,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[U(()=>(o=Ir())&&null),y(J4,{routerState:s,get branches(){return i()}})]}})}})};function Y4(t){const e=t.routerState.location,r=t.routerState.params,n=U(()=>t.preload&&Xt(()=>{t.preload({params:r,location:e,intent:j4()||"initial"})}));return y(V,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:i=>y(i,{params:r,location:e,get data(){return n()},get children(){return t.children}})})}function J4(t){const e=[];let r;const n=U(xr(t.routerState.matches,(i,o,s)=>{let a=o&&i.length===o.length;const l=[];for(let c=0,d=i.length;c<d;c++){const u=o&&o[c],f=i[c];s&&u&&f.route.key===u.route.key?l[c]=s[c]:(a=!1,e[c]&&e[c](),_r(h=>{e[c]=h,l[c]=K4(t.routerState,l[c-1]||t.routerState.base,e0(()=>n()[c+1]),()=>t.routerState.matches()[c])}))}return e.splice(i.length).forEach(c=>c()),s&&a?s:(r=l[0],l)}));return e0(()=>n()&&r)()}const e0=t=>()=>y(V,{get when(){return t()},keyed:!0,children:e=>y(s2.Provider,{value:e,get children(){return e.outlet()}})}),Z4=t=>{const e=cc(()=>t.children);return Yi(t,{get children(){return e()}})};function Q4([t,e],r,n){return[r?()=>r(t()):t,n?i=>e(n(i)):e]}function e6(t){if(t==="#")return null;try{return document.querySelector(t)}catch{return null}}function t6(t){let e=!1;const r=i=>typeof i=="string"?{value:i}:i,n=Q4(z(r(t.get()),{equals:(i,o)=>i.value===o.value&&i.state===o.state}),void 0,i=>(!e&&t.set(i),i));return t.init&&Xe(t.init((i=t.get())=>{e=!0,n[1](r(i)),e=!1})),X4({signal:n,create:t.create,utils:t.utils})}function r6(t,e,r){return t.addEventListener(e,r),()=>t.removeEventListener(e,r)}function n6(t,e){const r=e6(`#${t}`);r?r.scrollIntoView():e&&window.scrollTo(0,0)}const i6=new Map;function o6(t=!0,e=!1,r="/_server",n){return i=>{const o=i.base.path(),s=i.navigatorFactory(i.base);let a={};function l(p){return p.namespaceURI==="http://www.w3.org/2000/svg"}function c(p){if(p.defaultPrevented||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)return;const m=p.composedPath().find(S=>S instanceof Node&&S.nodeName.toUpperCase()==="A");if(!m||e&&!m.hasAttribute("link"))return;const b=l(m),k=b?m.href.baseVal:m.href;if((b?m.target.baseVal:m.target)||!k&&!m.hasAttribute("state"))return;const v=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||v&&v.includes("external"))return;const x=b?new URL(k,document.baseURI):new URL(k);if(!(x.origin!==window.location.origin||o&&x.pathname&&!x.pathname.toLowerCase().startsWith(o.toLowerCase())))return[m,x]}function d(p){const m=c(p);if(!m)return;const[b,k]=m,_=i.parsePath(k.pathname+k.search+k.hash),v=b.getAttribute("state");p.preventDefault(),s(_,{resolve:!1,replace:b.hasAttribute("replace"),scroll:!b.hasAttribute("noscroll"),state:v&&JSON.parse(v)})}function u(p){const m=c(p);if(!m)return;const[b,k]=m;typeof n=="function"&&(k.pathname=n(k.pathname)),a[k.pathname]||i.preloadRoute(k,{preloadData:b.getAttribute("preload")!=="false"})}function f(p){const m=c(p);if(!m)return;const[b,k]=m;typeof n=="function"&&(k.pathname=n(k.pathname)),!a[k.pathname]&&(a[k.pathname]=setTimeout(()=>{i.preloadRoute(k,{preloadData:b.getAttribute("preload")!=="false"}),delete a[k.pathname]},200))}function h(p){const m=c(p);if(!m)return;const[,b]=m;typeof n=="function"&&(b.pathname=n(b.pathname)),a[b.pathname]&&(clearTimeout(a[b.pathname]),delete a[b.pathname])}function g(p){if(p.defaultPrevented)return;let m=p.submitter&&p.submitter.hasAttribute("formaction")?p.submitter.getAttribute("formaction"):p.target.getAttribute("action");if(!m)return;if(!m.startsWith("https://action/")){const k=new URL(m,r2);if(m=i.parsePath(k.pathname+k.search),!m.startsWith(r))return}if(p.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const b=i6.get(m);if(b){p.preventDefault();const k=new FormData(p.target,p.submitter);b.call({r:i,f:p.target},p.target.enctype==="multipart/form-data"?k:new URLSearchParams(k))}}At(["click","submit"]),document.addEventListener("click",d),t&&(document.addEventListener("mouseover",f),document.addEventListener("mouseout",h),document.addEventListener("focusin",u),document.addEventListener("touchstart",u)),document.addEventListener("submit",g),Xe(()=>{document.removeEventListener("click",d),t&&(document.removeEventListener("mouseover",f),document.removeEventListener("mouseout",h),document.removeEventListener("focusin",u),document.removeEventListener("touchstart",u)),document.removeEventListener("submit",g)})}}function s6(t){const e=()=>{const n=window.location.pathname.replace(/^\/+/,"/")+window.location.search;return{value:t.transformUrl?t.transformUrl(n)+window.location.hash:n+window.location.hash,state:window.history.state}},r=t2();return t6({get:e,set({value:n,replace:i,scroll:o,state:s}){i?window.history.replaceState($4(s),"",n):window.history.pushState(s,"",n),n6(decodeURIComponent(window.location.hash.slice(1)),o),Ev()},init:n=>r6(window,"popstate",D4(n,i=>{if(i&&i<0)return!r.confirm(i);{const o=e();return!r.confirm(o.value,{state:o.state})}})),create:o6(t.preload,t.explicitLinks,t.actionBase,t.transformUrl),utils:{go:n=>window.history.go(n),beforeLeave:r}})(t)}const zo=Symbol("store-raw"),Sn=Symbol("store-node"),Nr=Symbol("store-has"),c2=Symbol("store-self");function d2(t){let e=t[ur];if(!e&&(Object.defineProperty(t,ur,{value:e=new Proxy(t,l6)}),!Array.isArray(t))){const r=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let i=0,o=r.length;i<o;i++){const s=r[i];n[s].get&&Object.defineProperty(t,s,{enumerable:n[s].enumerable,get:n[s].get.bind(e)})}}return e}function un(t){let e;return t!=null&&typeof t=="object"&&(t[ur]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Hr(t,e=new Set){let r,n,i,o;if(r=t!=null&&t[zo])return r;if(!un(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let s=0,a=t.length;s<a;s++)i=t[s],(n=Hr(i,e))!==i&&(t[s]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const s=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let l=0,c=s.length;l<c;l++)o=s[l],!a[o].get&&(i=t[o],(n=Hr(i,e))!==i&&(t[o]=n))}return t}function Ko(t,e){let r=t[e];return r||Object.defineProperty(t,e,{value:r=Object.create(null)}),r}function Ji(t,e,r){if(t[e])return t[e];const[n,i]=z(r,{equals:!1,internal:!0});return n.$=i,t[e]=n}function a6(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||!r.configurable||e===ur||e===Sn||(delete r.value,delete r.writable,r.get=()=>t[ur][e]),r}function Cv(t){ra()&&Ji(Ko(t,Sn),c2)()}function u2(t){return Cv(t),Reflect.ownKeys(t)}const l6={get(t,e,r){if(e===zo)return t;if(e===ur)return r;if(e===Xi)return Cv(t),r;const n=Ko(t,Sn),i=n[e];let o=i?i():t[e];if(e===Sn||e===Nr||e==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(t,e);ra()&&(typeof o!="function"||t.hasOwnProperty(e))&&!(s&&s.get)&&(o=Ji(n,e,o)())}return un(o)?d2(o):o},has(t,e){return e===zo||e===ur||e===Xi||e===Sn||e===Nr||e==="__proto__"?!0:(ra()&&Ji(Ko(t,Nr),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:u2,getOwnPropertyDescriptor:a6};function mr(t,e,r,n=!1){if(!n&&t[e]===r)return;const i=t[e],o=t.length;r===void 0?(delete t[e],t[Nr]&&t[Nr][e]&&i!==void 0&&t[Nr][e].$()):(t[e]=r,t[Nr]&&t[Nr][e]&&i===void 0&&t[Nr][e].$());let s=Ko(t,Sn),a;if((a=Ji(s,e,i))&&a.$(()=>r),Array.isArray(t)&&t.length!==o){for(let l=t.length;l<o;l++)(a=s[l])&&a.$();(a=Ji(s,"length",o))&&a.$(t.length)}(a=s[c2])&&a.$()}function h2(t,e){const r=Object.keys(e);for(let n=0;n<r.length;n+=1){const i=r[n];mr(t,i,e[i])}}function c6(t,e){if(typeof e=="function"&&(e=e(t)),e=Hr(e),Array.isArray(e)){if(t===e)return;let r=0,n=e.length;for(;r<n;r++){const i=e[r];t[r]!==i&&mr(t,r,i)}mr(t,"length",n)}else h2(t,e)}function qs(t,e,r=[]){let n,i=t;if(e.length>1){n=e.shift();const s=typeof n,a=Array.isArray(t);if(Array.isArray(n)){for(let l=0;l<n.length;l++)qs(t,[n[l]].concat(e),r);return}else if(a&&s==="function"){for(let l=0;l<t.length;l++)n(t[l],l)&&qs(t,[l].concat(e),r);return}else if(a&&s==="object"){const{from:l=0,to:c=t.length-1,by:d=1}=n;for(let u=l;u<=c;u+=d)qs(t,[u].concat(e),r);return}else if(e.length>1){qs(t[n],e,[n].concat(r));return}i=t[n],r=[n].concat(r)}let o=e[0];typeof o=="function"&&(o=o(i,r),o===i)||n===void 0&&o==null||(o=Hr(o),n===void 0||un(i)&&un(o)&&!Array.isArray(o)?h2(i,o):mr(t,n,o))}function fa(...[t,e]){const r=Hr(t||{}),n=Array.isArray(r),i=d2(r);function o(...s){hi(()=>{n&&s.length===1?c6(r,s[0]):qs(r,s)})}return[i,o]}function d6(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||r.set||!r.configurable||e===ur||e===Sn||(delete r.value,delete r.writable,r.get=()=>t[ur][e],r.set=n=>t[ur][e]=n),r}const u6={get(t,e,r){if(e===zo)return t;if(e===ur)return r;if(e===Xi)return Cv(t),r;const n=Ko(t,Sn),i=n[e];let o=i?i():t[e];if(e===Sn||e===Nr||e==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(t,e),a=typeof o=="function";if(ra()&&(!a||t.hasOwnProperty(e))&&!(s&&s.get))o=Ji(n,e,o)();else if(o!=null&&a&&o===Array.prototype[e])return(...l)=>hi(()=>Array.prototype[e].apply(r,l))}return un(o)?f2(o):o},has(t,e){return e===zo||e===ur||e===Xi||e===Sn||e===Nr||e==="__proto__"?!0:(ra()&&Ji(Ko(t,Nr),e)(),e in t)},set(t,e,r){return hi(()=>mr(t,e,Hr(r))),!0},deleteProperty(t,e){return hi(()=>mr(t,e,void 0,!0)),!0},ownKeys:u2,getOwnPropertyDescriptor:d6};function f2(t){let e=t[ur];if(!e){Object.defineProperty(t,ur,{value:e=new Proxy(t,u6)});const r=Object.keys(t),n=Object.getOwnPropertyDescriptors(t),i=Object.getPrototypeOf(t),o=t!==null&&typeof t=="object"&&!Array.isArray(t)&&i!==Object.prototype;if(o){const s=Object.getOwnPropertyDescriptors(i);r.push(...Object.keys(s)),Object.assign(n,s)}for(let s=0,a=r.length;s<a;s++){const l=r[s];if(!(o&&l==="constructor")){if(n[l].get){const c=n[l].get.bind(e);Object.defineProperty(t,l,{get:c,configurable:!0})}if(n[l].set){const c=n[l].set;Object.defineProperty(t,l,{set:u=>hi(()=>c.call(e,u)),configurable:!0})}}}}return e}function Ll(t,e){const r=Hr(t||{});return f2(r)}const Pm=Symbol("store-root");function Io(t,e,r,n,i){const o=e[r];if(t===o)return;const s=Array.isArray(t);if(r!==Pm&&(!un(t)||!un(o)||s!==Array.isArray(o)||i&&t[i]!==o[i])){mr(e,r,t);return}if(s){if(t.length&&o.length&&(!n||i&&t[0]&&t[0][i]!=null)){let c,d,u,f,h,g,p,m;for(u=0,f=Math.min(o.length,t.length);u<f&&(o[u]===t[u]||i&&o[u]&&t[u]&&o[u][i]===t[u][i]);u++)Io(t[u],o,u,n,i);const b=new Array(t.length),k=new Map;for(f=o.length-1,h=t.length-1;f>=u&&h>=u&&(o[f]===t[h]||i&&o[u]&&t[u]&&o[f][i]===t[h][i]);f--,h--)b[h]=o[f];if(u>h||u>f){for(d=u;d<=h;d++)mr(o,d,t[d]);for(;d<t.length;d++)mr(o,d,b[d]),Io(t[d],o,d,n,i);o.length>t.length&&mr(o,"length",t.length);return}for(p=new Array(h+1),d=h;d>=u;d--)g=t[d],m=i&&g?g[i]:g,c=k.get(m),p[d]=c===void 0?-1:c,k.set(m,d);for(c=u;c<=f;c++)g=o[c],m=i&&g?g[i]:g,d=k.get(m),d!==void 0&&d!==-1&&(b[d]=o[c],d=p[d],k.set(m,d));for(d=u;d<t.length;d++)d in b?(mr(o,d,b[d]),Io(t[d],o,d,n,i)):mr(o,d,t[d])}else for(let c=0,d=t.length;c<d;c++)Io(t[c],o,c,n,i);o.length>t.length&&mr(o,"length",t.length);return}const a=Object.keys(t);for(let c=0,d=a.length;c<d;c++)Io(t[a[c]],o,a[c],n,i);const l=Object.keys(o);for(let c=0,d=l.length;c<d;c++)t[l[c]]===void 0&&mr(o,l[c],void 0)}function je(t,e={}){const{merge:r,key:n="id"}=e,i=Hr(t);return o=>{if(!un(o)||!un(i))return i;const s=Io(i,{[Pm]:o},Pm,r,n);return s===void 0?o:s}}const Il=new WeakMap,g2={get(t,e){if(e===zo)return t;const r=t[e];let n;return un(r)?Il.get(r)||(Il.set(r,n=new Proxy(r,g2)),n):r},set(t,e,r){return mr(t,e,Hr(r)),!0},deleteProperty(t,e){return mr(t,e,void 0,!0),!0}};function Je(t){return e=>{if(un(e)){let r;(r=Il.get(e))||Il.set(e,r=new Proxy(e,g2)),t(r)}return e}}const h6="1.0.0";function f6(t){return{panels:{"quokka.settings":{collapsed:!0},"sideview.tests.errors":{size:35,collapsed:!0},"sideview.tests.logs":{size:35,collapsed:!0},"sideview.tests.coverage":{size:35,collapsed:!0},"sideview.tests.alt.details.errors":{size:30,collapsed:!1},"sideview.tests.alt.details.logs":{size:40,collapsed:!1},"sideview.tests.alt.details.coverage":{size:30,collapsed:!1}},logs:{headers:!t},errors:{fullSourceLinks:!0,wordWrap:!0},overviewTests:{},tests:{layout:"horizontal",errors:!0,logs:!0,coveredFiles:!0},debugger:{codePreview:!0,echo:!0,lockPrePost:!0},editor:{uncoveredRegions:!0},consoleOutput:{autoScroll:!0,wordWrap:!1},standalone:{cli:{},tests:{layout:"horizontal"}},linkedMode:{fileNavigation:"browser",fileNavigationWithModifier:"editor"},welcomeMessage:!0,wallabyV3Message:!0,valuePeek:!1}}const Hd="systemPaused",g6="coreUpdated",pe={OverviewTests:"overview.tests",OverviewErrors:"overview.errors",OverviewLogs:"overview.logs",OverviewStatus:"overview.status",OverviewDebugger:"overview.debugger",OverviewDebuggerLogs:"overview.debugger.logs",OverviewDebuggerErrors:"overview.debugger.errors",OverviewDebuggerStatus:"overview.debugger.status",OverviewDebuggerStatusFiles:"overview.debugger.status.files",OverviewDebuggerStatusGuide:"overview.debugger.status.guide",SideViewErrorsViewer:"sideview.errors.viewer",SideViewErrorsDetails:"sideview.errors.details",SideViewTestsTree:"sideview.tests.tree",SideViewTestsErrors:"sideview.tests.errors",SideViewTestsLogs:"sideview.tests.logs",SideViewTestsCoverage:"sideview.tests.coverage",SideViewTestsAltTree:"sideview.tests.alt.tree",SideViewTestsAltDetails:"sideview.tests.alt.details",SideViewTestsAltDetailsErrors:"sideview.tests.alt.details.errors",SideViewTestsAltDetailsLogs:"sideview.tests.alt.details.logs",SideViewTestsAltDetailsCoverage:"sideview.tests.alt.details.coverage",SideViewCoverageTree:"sideview.coverage.tree",SideViewCoverageTable:"sideview.coverage.table",SideViewStatus:"sideview.status",SideViewStatusSummary:"sideview.status.summary",SideViewStatusConsole:"sideview.status.console",StandaloneMain:"standalone.main",StandaloneMainSideView:"standalone.main.sideview",StandaloneMainCode:"standalone.main.code",StandaloneOverview:"standalone.overview",QuokkaStatus:"quokka.status",QuokkaLogs:"quokka.logs",QuokkaSettings:"quokka.settings",QuokkaErrors:"quokka.errors",QuokkaDebugger:"quokka.debugger"},Ye={Logs:"logs",Errors:"errors",Tests:"tests",Coverage:"coverage",Status:"status",Shortcuts:"shortcuts"};var $m=function(t,e){return $m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},$m(t,e)};function Li(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$m(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function p6(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(d){try{c(n.next(d))}catch(u){s(u)}}function l(d){try{c(n.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function p2(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Xo(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Al(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function Fl(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function Uo(t){return this instanceof Uo?(this.v=t,this):new Uo(t)}function m6(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){n[f]&&(i[f]=function(h){return new Promise(function(g,p){o.push([f,h,g,p])>1||a(f,h)})})}function a(f,h){try{l(n[f](h))}catch(g){u(o[0][3],g)}}function l(f){f.value instanceof Uo?Promise.resolve(f.value.v).then(c,d):u(o[0][2],f)}function c(f){a("next",f)}function d(f){a("throw",f)}function u(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function v6(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Xo=="function"?Xo(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}function pr(t){return typeof t=="function"}function m2(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Vd=m2(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Rl(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var ga=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Xo(s),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else s.remove(this);var d=this.initialTeardown;if(pr(d))try{d()}catch(p){o=p instanceof Vd?p.errors:[p]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var f=Xo(u),h=f.next();!h.done;h=f.next()){var g=h.value;try{t0(g)}catch(p){o=o??[],p instanceof Vd?o=Fl(Fl([],Al(o)),Al(p.errors)):o.push(p)}}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}if(o)throw new Vd(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)t0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&Rl(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&Rl(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),v2=ga.EMPTY;function b2(t){return t instanceof ga||t&&"closed"in t&&pr(t.remove)&&pr(t.add)&&pr(t.unsubscribe)}function t0(t){pr(t)?t():t.unsubscribe()}var _2={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y2={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,Fl([t,e],Al(r)))},clearTimeout:function(t){var e=y2.delegate;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function w2(t){y2.setTimeout(function(){throw t})}function r0(){}function hl(t){t()}var Lv=function(t){Li(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,b2(r)&&r.add(n)):n.destination=w6,n}return e.create=function(r,n,i){return new Dm(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(ga),b6=Function.prototype.bind;function jd(t,e){return b6.call(t,e)}var _6=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){Ma(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){Ma(n)}else Ma(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){Ma(r)}},t}(),Dm=function(t){Li(e,t);function e(r,n,i){var o=t.call(this)||this,s;if(pr(r)||!r)s={next:r??void 0,error:n??void 0,complete:i??void 0};else{var a;o&&_2.useDeprecatedNextContext?(a=Object.create(r),a.unsubscribe=function(){return o.unsubscribe()},s={next:r.next&&jd(r.next,a),error:r.error&&jd(r.error,a),complete:r.complete&&jd(r.complete,a)}):s=r}return o.destination=new _6(s),o}return e}(Lv);function Ma(t){w2(t)}function y6(t){throw t}var w6={closed:!0,next:r0,error:y6,complete:r0},Iv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function k6(t){return t}function S6(t){return t.length===0?k6:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var Vr=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,o=T6(e)?e:new Dm(e,r,n);return hl(function(){var s=i,a=s.operator,l=s.source;o.add(a?a.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=n0(r),new r(function(i,o){var s=new Dm({next:function(a){try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});n.subscribe(s)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[Iv]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return S6(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=n0(e),new e(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function n0(t){var e;return(e=t??_2.Promise)!==null&&e!==void 0?e:Promise}function x6(t){return t&&pr(t.next)&&pr(t.error)&&pr(t.complete)}function T6(t){return t&&t instanceof Lv||x6(t)&&b2(t)}function E6(t){return pr(t?.lift)}function hc(t){return function(e){if(E6(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Av(t,e,r,n,i){return new C6(t,e,r,n,i)}var C6=function(t){Li(e,t);function e(r,n,i,o,s,a){var l=t.call(this,r)||this;return l.onFinalize=s,l.shouldUnsubscribe=a,l._next=n?function(c){try{n(c)}catch(d){r.error(d)}}:t.prototype._next,l._error=o?function(c){try{o(c)}catch(d){r.error(d)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(c){r.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(Lv),L6=m2(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),k2=function(t){Li(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new i0(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new L6},e.prototype.next=function(r){var n=this;hl(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=Xo(n.currentObservers),a=s.next();!a.done;a=s.next()){var l=a.value;l.next(r)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;hl(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;hl(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?v2:(this.currentObservers=null,a.push(r),new ga(function(){n.currentObservers=null,Rl(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,s=n.isStopped;i?r.error(o):s&&r.complete()},e.prototype.asObservable=function(){var r=new Vr;return r.source=this,r},e.create=function(r,n){return new i0(r,n)},e}(Vr),i0=function(t){Li(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:v2},e}(k2),I6={now:function(){return Date.now()},delegate:void 0},A6=function(t){Li(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ga),Om={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,Fl([t,e],Al(r)))},clearInterval:function(t){var e=Om.delegate;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},F6=function(t){Li(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),Om.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Om.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Rl(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(A6),o0=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=I6.now,t}(),R6=function(t){Li(e,t);function e(r,n){n===void 0&&(n=o0.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(o0),P6=new R6(F6),S2=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function x2(t){return pr(t?.then)}function T2(t){return pr(t[Iv])}function E2(t){return Symbol.asyncIterator&&pr(t?.[Symbol.asyncIterator])}function C2(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function $6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var L2=$6();function I2(t){return pr(t?.[L2])}function A2(t){return m6(this,arguments,function(){var r,n,i,o;return p2(this,function(s){switch(s.label){case 0:r=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Uo(r.read())];case 3:return n=s.sent(),i=n.value,o=n.done,o?[4,Uo(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Uo(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function F2(t){return pr(t?.getReader)}function Fv(t){if(t instanceof Vr)return t;if(t!=null){if(T2(t))return D6(t);if(S2(t))return O6(t);if(x2(t))return B6(t);if(E2(t))return R2(t);if(I2(t))return M6(t);if(F2(t))return N6(t)}throw C2(t)}function D6(t){return new Vr(function(e){var r=t[Iv]();if(pr(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function O6(t){return new Vr(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function B6(t){return new Vr(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,w2)})}function M6(t){return new Vr(function(e){var r,n;try{for(var i=Xo(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function R2(t){return new Vr(function(e){G6(t,e).catch(function(r){return e.error(r)})})}function N6(t){return R2(A2(t))}function G6(t,e){var r,n,i,o;return p6(this,void 0,void 0,function(){var s,a;return p2(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=v6(t),l.label=1;case 1:return[4,r.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ji(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function P2(t,e){return e===void 0&&(e=0),hc(function(r,n){r.subscribe(Av(n,function(i){return ji(n,t,function(){return n.next(i)},e)},function(){return ji(n,t,function(){return n.complete()},e)},function(i){return ji(n,t,function(){return n.error(i)},e)}))})}function $2(t,e){return e===void 0&&(e=0),hc(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function U6(t,e){return Fv(t).pipe($2(e),P2(e))}function W6(t,e){return Fv(t).pipe($2(e),P2(e))}function q6(t,e){return new Vr(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function H6(t,e){return new Vr(function(r){var n;return ji(r,e,function(){n=t[L2](),ji(r,e,function(){var i,o,s;try{i=n.next(),o=i.value,s=i.done}catch(a){r.error(a);return}s?r.complete():r.next(o)},0,!0)}),function(){return pr(n?.return)&&n.return()}})}function D2(t,e){if(!t)throw new Error("Iterable cannot be null");return new Vr(function(r){ji(r,e,function(){var n=t[Symbol.asyncIterator]();ji(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function V6(t,e){return D2(A2(t),e)}function j6(t,e){if(t!=null){if(T2(t))return U6(t,e);if(S2(t))return q6(t,e);if(x2(t))return W6(t,e);if(E2(t))return D2(t,e);if(I2(t))return H6(t,e);if(F2(t))return V6(t,e)}throw C2(t)}function z6(t,e){return e?j6(t,e):Fv(t)}function K6(t,e){return hc(function(r,n){var i=0;r.subscribe(Av(n,function(o){n.next(t.call(e,o,i++))}))})}function X6(t,e){return e===void 0&&(e=P6),hc(function(r,n){var i=null,o=null,s=null,a=function(){if(i){i.unsubscribe(),i=null;var c=o;o=null,n.next(c)}};function l(){var c=s+t,d=e.now();if(d<c){i=this.schedule(void 0,c-d),n.add(i);return}a()}r.subscribe(Av(n,function(c){o=c,s=e.now(),i||(i=e.schedule(l,t),n.add(i))},function(){a(),n.complete()},void 0,function(){o=i=null}))})}const Y6="",J6="dark",Z6={"checkbox.border":"#3C3C3C","editor.background":"#1F1F1F","editor.foreground":"#CCCCCC","editor.inactiveSelectionBackground":"#3A3D41","editorIndentGuide.background1":"#404040","editorIndentGuide.activeBackground1":"#707070","editor.selectionHighlightBackground":"#ADD6FF26","list.dropBackground":"#383B3D","activityBarBadge.background":"#0078D4","sideBarTitle.foreground":"#CCCCCC","input.placeholderForeground":"#989898","menu.background":"#1F1F1F","menu.foreground":"#CCCCCC","menu.separatorBackground":"#454545","menu.border":"#454545","menu.selectionBackground":"#0078d4","statusBarItem.remoteForeground":"#FFFFFF","statusBarItem.remoteBackground":"#0078D4","ports.iconRunningProcessForeground":"#369432","sideBarSectionHeader.background":"#181818","sideBarSectionHeader.border":"#2B2B2B","tab.selectedBackground":"#222222","tab.selectedForeground":"#ffffffa0","tab.lastPinnedBorder":"#ccc3","list.activeSelectionIconForeground":"#FFF","terminal.inactiveSelectionBackground":"#3A3D41","widget.border":"#313131","actionBar.toggledBackground":"#383a49","activityBar.activeBorder":"#0078D4","activityBar.background":"#181818","activityBar.border":"#2B2B2B","activityBar.foreground":"#D7D7D7","activityBar.inactiveForeground":"#868686","activityBarBadge.foreground":"#FFFFFF","badge.background":"#616161","badge.foreground":"#F8F8F8","button.background":"#0078D4","button.border":"#FFFFFF12","button.foreground":"#FFFFFF","button.hoverBackground":"#026EC1","button.secondaryBackground":"#313131","button.secondaryForeground":"#CCCCCC","button.secondaryHoverBackground":"#3C3C3C","chat.slashCommandBackground":"#34414B","chat.slashCommandForeground":"#40A6FF","chat.editedFileForeground":"#E2C08D","checkbox.background":"#313131","debugToolBar.background":"#181818",descriptionForeground:"#9D9D9D","dropdown.background":"#313131","dropdown.border":"#3C3C3C","dropdown.foreground":"#CCCCCC","dropdown.listBackground":"#1F1F1F","editor.findMatchBackground":"#9E6A03","editorGroup.border":"#FFFFFF17","editorGroupHeader.tabsBackground":"#181818","editorGroupHeader.tabsBorder":"#2B2B2B","editorGutter.addedBackground":"#2EA043","editorGutter.deletedBackground":"#F85149","editorGutter.modifiedBackground":"#0078D4","editorLineNumber.activeForeground":"#CCCCCC","editorLineNumber.foreground":"#6E7681","editorOverviewRuler.border":"#010409","editorWidget.background":"#202020",errorForeground:"#F85149",focusBorder:"#0078D4",foreground:"#CCCCCC","icon.foreground":"#CCCCCC","input.background":"#313131","input.border":"#3C3C3C","input.foreground":"#CCCCCC","inputOption.activeBackground":"#2489DB82","inputOption.activeBorder":"#2488DB","keybindingLabel.foreground":"#CCCCCC","notificationCenterHeader.background":"#1F1F1F","notificationCenterHeader.foreground":"#CCCCCC","notifications.background":"#1F1F1F","notifications.border":"#2B2B2B","notifications.foreground":"#CCCCCC","panel.background":"#181818","panel.border":"#2B2B2B","panelInput.border":"#2B2B2B","panelTitle.activeBorder":"#0078D4","panelTitle.activeForeground":"#CCCCCC","panelTitle.inactiveForeground":"#9D9D9D","peekViewEditor.background":"#1F1F1F","peekViewEditor.matchHighlightBackground":"#BB800966","peekViewResult.background":"#1F1F1F","peekViewResult.matchHighlightBackground":"#BB800966","pickerGroup.border":"#3C3C3C","progressBar.background":"#0078D4","quickInput.background":"#222222","quickInput.foreground":"#CCCCCC","settings.dropdownBackground":"#313131","settings.dropdownBorder":"#3C3C3C","settings.headerForeground":"#FFFFFF","settings.modifiedItemIndicator":"#BB800966","sideBar.background":"#181818","sideBar.border":"#2B2B2B","sideBar.foreground":"#CCCCCC","sideBarSectionHeader.foreground":"#CCCCCC","statusBar.background":"#181818","statusBar.border":"#2B2B2B","statusBar.debuggingBackground":"#0078D4","statusBar.debuggingForeground":"#FFFFFF","statusBar.focusBorder":"#0078D4","statusBar.foreground":"#CCCCCC","statusBar.noFolderBackground":"#1F1F1F","statusBarItem.focusBorder":"#0078D4","statusBarItem.prominentBackground":"#6E768166","tab.activeBackground":"#1F1F1F","tab.activeBorder":"#1F1F1F","tab.activeBorderTop":"#0078D4","tab.activeForeground":"#FFFFFF","tab.selectedBorderTop":"#6caddf","tab.border":"#2B2B2B","tab.hoverBackground":"#1F1F1F","tab.inactiveBackground":"#181818","tab.inactiveForeground":"#9D9D9D","tab.unfocusedActiveBorder":"#1F1F1F","tab.unfocusedActiveBorderTop":"#2B2B2B","tab.unfocusedHoverBackground":"#1F1F1F","terminal.foreground":"#CCCCCC","terminal.tab.activeBorder":"#0078D4","textBlockQuote.background":"#2B2B2B","textBlockQuote.border":"#616161","textCodeBlock.background":"#2B2B2B","textLink.activeForeground":"#4daafc","textLink.foreground":"#4daafc","textPreformat.foreground":"#D0D0D0","textPreformat.background":"#3C3C3C","textSeparator.foreground":"#21262D","titleBar.activeBackground":"#181818","titleBar.activeForeground":"#CCCCCC","titleBar.border":"#2B2B2B","titleBar.inactiveBackground":"#1F1F1F","titleBar.inactiveForeground":"#9D9D9D","welcomePage.tileBackground":"#2B2B2B","welcomePage.progress.foreground":"#0078D4"},Q6={"meta.embedded":{foreground:"#D4D4D4"},"source.groovy.embedded":{foreground:"#D4D4D4"},"string meta.image.inline.markdown":{foreground:"#D4D4D4"},"variable.legacy.builtin.python":{foreground:"#D4D4D4"},emphasis:{style:"italic"},strong:{style:"bold"},header:{foreground:"#000080"},comment:{foreground:"#6A9955"},"constant.language":{foreground:"#569cd6"},"constant.numeric":{foreground:"#b5cea8"},"variable.other.enummember":{foreground:"#4FC1FF"},"keyword.operator.plus.exponent":{foreground:"#b5cea8"},"keyword.operator.minus.exponent":{foreground:"#b5cea8"},"constant.regexp":{foreground:"#646695"},"entity.name.tag":{foreground:"#569cd6"},"entity.name.tag.css":{foreground:"#d7ba7d"},"entity.name.tag.less":{foreground:"#d7ba7d"},"entity.other.attribute-name":{foreground:"#9cdcfe"},"entity.other.attribute-name.class.css":{foreground:"#d7ba7d"},"source.css entity.other.attribute-name.class":{foreground:"#d7ba7d"},"entity.other.attribute-name.id.css":{foreground:"#d7ba7d"},"entity.other.attribute-name.parent-selector.css":{foreground:"#d7ba7d"},"entity.other.attribute-name.parent.less":{foreground:"#d7ba7d"},"source.css entity.other.attribute-name.pseudo-class":{foreground:"#d7ba7d"},"entity.other.attribute-name.pseudo-element.css":{foreground:"#d7ba7d"},"source.css.less entity.other.attribute-name.id":{foreground:"#d7ba7d"},"entity.other.attribute-name.scss":{foreground:"#d7ba7d"},invalid:{foreground:"#f44747"},"markup.underline":{style:"underline"},"markup.bold":{foreground:"#569cd6",style:"bold"},"markup.heading":{foreground:"#569cd6",style:"bold"},"markup.italic":{style:"italic"},"markup.strikethrough":{style:"strikethrough"},"markup.inserted":{foreground:"#b5cea8"},"markup.deleted":{foreground:"#ce9178"},"markup.changed":{foreground:"#569cd6"},"punctuation.definition.quote.begin.markdown":{foreground:"#6A9955"},"punctuation.definition.list.begin.markdown":{foreground:"#6796e6"},"markup.inline.raw":{foreground:"#ce9178"},"punctuation.definition.tag":{foreground:"#808080"},"meta.preprocessor":{foreground:"#569cd6"},"entity.name.function.preprocessor":{foreground:"#569cd6"},"meta.preprocessor.string":{foreground:"#ce9178"},"meta.preprocessor.numeric":{foreground:"#b5cea8"},"meta.structure.dictionary.key.python":{foreground:"#9cdcfe"},"meta.diff.header":{foreground:"#569cd6"},storage:{foreground:"#569cd6"},"storage.type":{foreground:"#569cd6"},"storage.modifier":{foreground:"#569cd6"},"keyword.operator.noexcept":{foreground:"#569cd6"},string:{foreground:"#ce9178"},"meta.embedded.assembly":{foreground:"#ce9178"},"string.tag":{foreground:"#ce9178"},"string.value":{foreground:"#ce9178"},"string.regexp":{foreground:"#d16969"},"punctuation.definition.template-expression.begin":{foreground:"#569cd6"},"punctuation.definition.template-expression.end":{foreground:"#569cd6"},"punctuation.section.embedded":{foreground:"#569cd6"},"meta.template.expression":{foreground:"#d4d4d4"},"support.type.vendored.property-name":{foreground:"#9cdcfe"},"support.type.property-name":{foreground:"#9cdcfe"},"source.css variable":{foreground:"#9cdcfe"},"source.coffee.embedded":{foreground:"#9cdcfe"},keyword:{foreground:"#569cd6"},"keyword.control":{foreground:"#C586C0"},"keyword.operator":{foreground:"#d4d4d4"},"keyword.operator.new":{foreground:"#569cd6"},"keyword.operator.expression":{foreground:"#569cd6"},"keyword.operator.cast":{foreground:"#569cd6"},"keyword.operator.sizeof":{foreground:"#569cd6"},"keyword.operator.alignof":{foreground:"#569cd6"},"keyword.operator.typeid":{foreground:"#569cd6"},"keyword.operator.alignas":{foreground:"#569cd6"},"keyword.operator.instanceof":{foreground:"#569cd6"},"keyword.operator.logical.python":{foreground:"#569cd6"},"keyword.operator.wordlike":{foreground:"#569cd6"},"keyword.other.unit":{foreground:"#b5cea8"},"punctuation.section.embedded.begin.php":{foreground:"#569cd6"},"punctuation.section.embedded.end.php":{foreground:"#569cd6"},"support.function.git-rebase":{foreground:"#9cdcfe"},"constant.sha.git-rebase":{foreground:"#b5cea8"},"storage.modifier.import.java":{foreground:"#d4d4d4"},"variable.language.wildcard.java":{foreground:"#d4d4d4"},"storage.modifier.package.java":{foreground:"#d4d4d4"},"variable.language":{foreground:"#569cd6"},"entity.name.function":{foreground:"#DCDCAA"},"support.function":{foreground:"#DCDCAA"},"support.constant.handlebars":{foreground:"#DCDCAA"},"source.powershell variable.other.member":{foreground:"#DCDCAA"},"entity.name.operator.custom-literal":{foreground:"#DCDCAA"},"support.class":{foreground:"#4EC9B0"},"support.type":{foreground:"#4EC9B0"},"entity.name.type":{foreground:"#4EC9B0"},"entity.name.namespace":{foreground:"#4EC9B0"},"entity.other.attribute":{foreground:"#4EC9B0"},"entity.name.scope-resolution":{foreground:"#4EC9B0"},"entity.name.class":{foreground:"#4EC9B0"},"storage.type.numeric.go":{foreground:"#4EC9B0"},"storage.type.byte.go":{foreground:"#4EC9B0"},"storage.type.boolean.go":{foreground:"#4EC9B0"},"storage.type.string.go":{foreground:"#4EC9B0"},"storage.type.uintptr.go":{foreground:"#4EC9B0"},"storage.type.error.go":{foreground:"#4EC9B0"},"storage.type.rune.go":{foreground:"#4EC9B0"},"storage.type.cs":{foreground:"#4EC9B0"},"storage.type.generic.cs":{foreground:"#4EC9B0"},"storage.type.modifier.cs":{foreground:"#4EC9B0"},"storage.type.variable.cs":{foreground:"#4EC9B0"},"storage.type.annotation.java":{foreground:"#4EC9B0"},"storage.type.generic.java":{foreground:"#4EC9B0"},"storage.type.java":{foreground:"#4EC9B0"},"storage.type.object.array.java":{foreground:"#4EC9B0"},"storage.type.primitive.array.java":{foreground:"#4EC9B0"},"storage.type.primitive.java":{foreground:"#4EC9B0"},"storage.type.token.java":{foreground:"#4EC9B0"},"storage.type.groovy":{foreground:"#4EC9B0"},"storage.type.annotation.groovy":{foreground:"#4EC9B0"},"storage.type.parameters.groovy":{foreground:"#4EC9B0"},"storage.type.generic.groovy":{foreground:"#4EC9B0"},"storage.type.object.array.groovy":{foreground:"#4EC9B0"},"storage.type.primitive.array.groovy":{foreground:"#4EC9B0"},"storage.type.primitive.groovy":{foreground:"#4EC9B0"},"meta.type.cast.expr":{foreground:"#4EC9B0"},"meta.type.new.expr":{foreground:"#4EC9B0"},"support.constant.math":{foreground:"#4EC9B0"},"support.constant.dom":{foreground:"#4EC9B0"},"support.constant.json":{foreground:"#4EC9B0"},"entity.other.inherited-class":{foreground:"#4EC9B0"},"source.cpp keyword.operator.new":{foreground:"#C586C0"},"keyword.operator.delete":{foreground:"#C586C0"},"keyword.other.using":{foreground:"#C586C0"},"keyword.other.directive.using":{foreground:"#C586C0"},"keyword.other.operator":{foreground:"#C586C0"},"entity.name.operator":{foreground:"#C586C0"},variable:{foreground:"#9CDCFE"},"meta.definition.variable.name":{foreground:"#9CDCFE"},"support.variable":{foreground:"#9CDCFE"},"entity.name.variable":{foreground:"#9CDCFE"},"constant.other.placeholder":{foreground:"#9CDCFE"},"variable.other.constant":{foreground:"#4FC1FF"},"meta.object-literal.key":{foreground:"#9CDCFE"},"support.constant.property-value":{foreground:"#CE9178"},"support.constant.font-name":{foreground:"#CE9178"},"support.constant.media-type":{foreground:"#CE9178"},"support.constant.media":{foreground:"#CE9178"},"constant.other.color.rgb-value":{foreground:"#CE9178"},"constant.other.rgb-value":{foreground:"#CE9178"},"support.constant.color":{foreground:"#CE9178"},"punctuation.definition.group.regexp":{foreground:"#CE9178"},"punctuation.definition.group.assertion.regexp":{foreground:"#CE9178"},"punctuation.definition.character-class.regexp":{foreground:"#CE9178"},"punctuation.character.set.begin.regexp":{foreground:"#CE9178"},"punctuation.character.set.end.regexp":{foreground:"#CE9178"},"keyword.operator.negation.regexp":{foreground:"#CE9178"},"support.other.parenthesis.regexp":{foreground:"#CE9178"},"constant.character.character-class.regexp":{foreground:"#d16969"},"constant.other.character-class.set.regexp":{foreground:"#d16969"},"constant.other.character-class.regexp":{foreground:"#d16969"},"constant.character.set.regexp":{foreground:"#d16969"},"keyword.operator.or.regexp":{foreground:"#DCDCAA"},"keyword.control.anchor.regexp":{foreground:"#DCDCAA"},"keyword.operator.quantifier.regexp":{foreground:"#d7ba7d"},"constant.character":{foreground:"#569cd6"},"constant.other.option":{foreground:"#569cd6"},"constant.character.escape":{foreground:"#d7ba7d"},"entity.name.label":{foreground:"#C8C8C8"}},Rv={name:Y6,type:J6,ui:Z6,code:Q6},e3="",t3="light",r3={"checkbox.border":"#CECECE","editor.background":"#FFFFFF","editor.foreground":"#3B3B3B","editor.inactiveSelectionBackground":"#E5EBF1","editorIndentGuide.background1":"#D3D3D3","editorIndentGuide.activeBackground1":"#939393","editor.selectionHighlightBackground":"#ADD6FF80","editorSuggestWidget.background":"#F8F8F8","activityBarBadge.background":"#005FB8","sideBarTitle.foreground":"#3B3B3B","list.hoverBackground":"#F2F2F2","menu.border":"#CECECE","input.placeholderForeground":"#767676","searchEditor.textInputBorder":"#CECECE","settings.textInputBorder":"#CECECE","settings.numberInputBorder":"#CECECE","statusBarItem.remoteForeground":"#FFFFFF","statusBarItem.remoteBackground":"#005FB8","ports.iconRunningProcessForeground":"#369432","sideBarSectionHeader.background":"#F8F8F8","sideBarSectionHeader.border":"#E5E5E5","tab.selectedForeground":"#333333b3","tab.selectedBackground":"#ffffffa5","tab.lastPinnedBorder":"#D4D4D4","notebook.cellBorderColor":"#E5E5E5","notebook.selectedCellBackground":"#C8DDF150","statusBarItem.errorBackground":"#C72E0F","list.activeSelectionIconForeground":"#000000","list.focusAndSelectionOutline":"#005FB8","terminal.inactiveSelectionBackground":"#E5EBF1","widget.border":"#E5E5E5","actionBar.toggledBackground":"#dddddd","diffEditor.unchangedRegionBackground":"#f8f8f8","activityBar.activeBorder":"#005FB8","activityBar.background":"#F8F8F8","activityBar.border":"#E5E5E5","activityBar.foreground":"#1F1F1F","activityBar.inactiveForeground":"#616161","activityBarBadge.foreground":"#FFFFFF","badge.background":"#CCCCCC","badge.foreground":"#3B3B3B","button.background":"#005FB8","button.border":"#0000001a","button.foreground":"#FFFFFF","button.hoverBackground":"#0258A8","button.secondaryBackground":"#E5E5E5","button.secondaryForeground":"#3B3B3B","button.secondaryHoverBackground":"#CCCCCC","chat.slashCommandBackground":"#D2ECFF","chat.slashCommandForeground":"#306CA2","chat.editedFileForeground":"#895503","checkbox.background":"#F8F8F8",descriptionForeground:"#3B3B3B","dropdown.background":"#FFFFFF","dropdown.border":"#CECECE","dropdown.foreground":"#3B3B3B","dropdown.listBackground":"#FFFFFF","editorGroup.border":"#E5E5E5","editorGroupHeader.tabsBackground":"#F8F8F8","editorGroupHeader.tabsBorder":"#E5E5E5","editorGutter.addedBackground":"#2EA043","editorGutter.deletedBackground":"#F85149","editorGutter.modifiedBackground":"#005FB8","editorLineNumber.activeForeground":"#171184","editorLineNumber.foreground":"#6E7681","editorOverviewRuler.border":"#E5E5E5","editorWidget.background":"#F8F8F8",errorForeground:"#F85149",focusBorder:"#005FB8",foreground:"#3B3B3B","icon.foreground":"#3B3B3B","input.background":"#FFFFFF","input.border":"#CECECE","input.foreground":"#3B3B3B","inputOption.activeBackground":"#BED6ED","inputOption.activeBorder":"#005FB8","inputOption.activeForeground":"#000000","keybindingLabel.foreground":"#3B3B3B","list.activeSelectionBackground":"#E8E8E8","list.activeSelectionForeground":"#000000","menu.selectionBackground":"#005FB8","menu.selectionForeground":"#ffffff","notificationCenterHeader.background":"#FFFFFF","notificationCenterHeader.foreground":"#3B3B3B","notifications.background":"#FFFFFF","notifications.border":"#E5E5E5","notifications.foreground":"#3B3B3B","panel.background":"#F8F8F8","panel.border":"#E5E5E5","panelInput.border":"#E5E5E5","panelTitle.activeBorder":"#005FB8","panelTitle.activeForeground":"#3B3B3B","panelTitle.inactiveForeground":"#3B3B3B","peekViewEditor.matchHighlightBackground":"#BB800966","peekViewResult.background":"#FFFFFF","peekViewResult.matchHighlightBackground":"#BB800966","pickerGroup.border":"#E5E5E5","pickerGroup.foreground":"#8B949E","progressBar.background":"#005FB8","quickInput.background":"#F8F8F8","quickInput.foreground":"#3B3B3B","settings.dropdownBackground":"#FFFFFF","settings.dropdownBorder":"#CECECE","settings.headerForeground":"#1F1F1F","settings.modifiedItemIndicator":"#BB800966","sideBar.background":"#F8F8F8","sideBar.border":"#E5E5E5","sideBar.foreground":"#3B3B3B","sideBarSectionHeader.foreground":"#3B3B3B","statusBar.background":"#F8F8F8","statusBar.foreground":"#3B3B3B","statusBar.border":"#E5E5E5","statusBar.debuggingBackground":"#FD716C","statusBar.debuggingForeground":"#000000","statusBar.focusBorder":"#005FB8","statusBar.noFolderBackground":"#F8F8F8","statusBarItem.focusBorder":"#005FB8","statusBarItem.prominentBackground":"#6E768166","tab.activeBackground":"#FFFFFF","tab.activeBorder":"#F8F8F8","tab.activeBorderTop":"#005FB8","tab.activeForeground":"#3B3B3B","tab.selectedBorderTop":"#68a3da","tab.border":"#E5E5E5","tab.hoverBackground":"#FFFFFF","tab.inactiveBackground":"#F8F8F8","tab.inactiveForeground":"#868686","tab.unfocusedActiveBorder":"#F8F8F8","tab.unfocusedActiveBorderTop":"#E5E5E5","tab.unfocusedHoverBackground":"#F8F8F8","terminalCursor.foreground":"#005FB8","terminal.foreground":"#3B3B3B","terminal.tab.activeBorder":"#005FB8","textBlockQuote.background":"#F8F8F8","textBlockQuote.border":"#E5E5E5","textCodeBlock.background":"#F8F8F8","textLink.activeForeground":"#005FB8","textLink.foreground":"#005FB8","textPreformat.foreground":"#3B3B3B","textPreformat.background":"#0000001F","textSeparator.foreground":"#21262D","titleBar.activeBackground":"#F8F8F8","titleBar.activeForeground":"#1E1E1E","titleBar.border":"#E5E5E5","titleBar.inactiveBackground":"#F8F8F8","titleBar.inactiveForeground":"#8B949E","welcomePage.tileBackground":"#F3F3F3"},n3={"meta.embedded":{foreground:"#000000ff"},"source.groovy.embedded":{foreground:"#000000ff"},"string meta.image.inline.markdown":{foreground:"#000000ff"},"variable.legacy.builtin.python":{foreground:"#000000ff"},emphasis:{style:"italic"},strong:{style:"bold"},"meta.diff.header":{foreground:"#000080"},comment:{foreground:"#008000"},"constant.language":{foreground:"#0000ff"},"constant.numeric":{foreground:"#098658"},"variable.other.enummember":{foreground:"#0070C1"},"keyword.operator.plus.exponent":{foreground:"#098658"},"keyword.operator.minus.exponent":{foreground:"#098658"},"constant.regexp":{foreground:"#811f3f"},"entity.name.tag":{foreground:"#800000"},"entity.name.selector":{foreground:"#800000"},"entity.other.attribute-name":{foreground:"#e50000"},"entity.other.attribute-name.class.css":{foreground:"#800000"},"source.css entity.other.attribute-name.class":{foreground:"#800000"},"entity.other.attribute-name.id.css":{foreground:"#800000"},"entity.other.attribute-name.parent-selector.css":{foreground:"#800000"},"entity.other.attribute-name.parent.less":{foreground:"#800000"},"source.css entity.other.attribute-name.pseudo-class":{foreground:"#800000"},"entity.other.attribute-name.pseudo-element.css":{foreground:"#800000"},"source.css.less entity.other.attribute-name.id":{foreground:"#800000"},"entity.other.attribute-name.scss":{foreground:"#800000"},invalid:{foreground:"#cd3131"},"markup.underline":{style:"underline"},"markup.bold":{foreground:"#000080",style:"bold"},"markup.heading":{foreground:"#800000",style:"bold"},"markup.italic":{style:"italic"},"markup.strikethrough":{style:"strikethrough"},"markup.inserted":{foreground:"#098658"},"markup.deleted":{foreground:"#a31515"},"markup.changed":{foreground:"#0451a5"},"punctuation.definition.quote.begin.markdown":{foreground:"#0451a5"},"punctuation.definition.list.begin.markdown":{foreground:"#0451a5"},"markup.inline.raw":{foreground:"#800000"},"punctuation.definition.tag":{foreground:"#800000"},"meta.preprocessor":{foreground:"#0000ff"},"entity.name.function.preprocessor":{foreground:"#0000ff"},"meta.preprocessor.string":{foreground:"#a31515"},"meta.preprocessor.numeric":{foreground:"#098658"},"meta.structure.dictionary.key.python":{foreground:"#0451a5"},storage:{foreground:"#0000ff"},"storage.type":{foreground:"#0000ff"},"storage.modifier":{foreground:"#0000ff"},"keyword.operator.noexcept":{foreground:"#0000ff"},string:{foreground:"#a31515"},"meta.embedded.assembly":{foreground:"#a31515"},"string.comment.buffered.block.pug":{foreground:"#0000ff"},"string.quoted.pug":{foreground:"#0000ff"},"string.interpolated.pug":{foreground:"#0000ff"},"string.unquoted.plain.in.yaml":{foreground:"#0000ff"},"string.unquoted.plain.out.yaml":{foreground:"#0000ff"},"string.unquoted.block.yaml":{foreground:"#0000ff"},"string.quoted.single.yaml":{foreground:"#0000ff"},"string.quoted.double.xml":{foreground:"#0000ff"},"string.quoted.single.xml":{foreground:"#0000ff"},"string.unquoted.cdata.xml":{foreground:"#0000ff"},"string.quoted.double.html":{foreground:"#0000ff"},"string.quoted.single.html":{foreground:"#0000ff"},"string.unquoted.html":{foreground:"#0000ff"},"string.quoted.single.handlebars":{foreground:"#0000ff"},"string.quoted.double.handlebars":{foreground:"#0000ff"},"string.regexp":{foreground:"#811f3f"},"punctuation.definition.template-expression.begin":{foreground:"#0000ff"},"punctuation.definition.template-expression.end":{foreground:"#0000ff"},"punctuation.section.embedded":{foreground:"#0000ff"},"meta.template.expression":{foreground:"#000000"},"support.constant.property-value":{foreground:"#0451a5"},"support.constant.font-name":{foreground:"#0451a5"},"support.constant.media-type":{foreground:"#0451a5"},"support.constant.media":{foreground:"#0451a5"},"constant.other.color.rgb-value":{foreground:"#0451a5"},"constant.other.rgb-value":{foreground:"#0451a5"},"support.constant.color":{foreground:"#0451a5"},"support.type.vendored.property-name":{foreground:"#e50000"},"support.type.property-name":{foreground:"#e50000"},"source.css variable":{foreground:"#e50000"},"source.coffee.embedded":{foreground:"#e50000"},"support.type.property-name.json":{foreground:"#0451a5"},keyword:{foreground:"#0000ff"},"keyword.control":{foreground:"#AF00DB"},"keyword.operator":{foreground:"#000000"},"keyword.operator.new":{foreground:"#0000ff"},"keyword.operator.expression":{foreground:"#0000ff"},"keyword.operator.cast":{foreground:"#0000ff"},"keyword.operator.sizeof":{foreground:"#0000ff"},"keyword.operator.alignof":{foreground:"#0000ff"},"keyword.operator.typeid":{foreground:"#0000ff"},"keyword.operator.alignas":{foreground:"#0000ff"},"keyword.operator.instanceof":{foreground:"#0000ff"},"keyword.operator.logical.python":{foreground:"#0000ff"},"keyword.operator.wordlike":{foreground:"#0000ff"},"keyword.other.unit":{foreground:"#098658"},"punctuation.section.embedded.begin.php":{foreground:"#800000"},"punctuation.section.embedded.end.php":{foreground:"#800000"},"support.function.git-rebase":{foreground:"#0451a5"},"constant.sha.git-rebase":{foreground:"#098658"},"storage.modifier.import.java":{foreground:"#000000"},"variable.language.wildcard.java":{foreground:"#000000"},"storage.modifier.package.java":{foreground:"#000000"},"variable.language":{foreground:"#0000ff"},"entity.name.function":{foreground:"#795E26"},"support.function":{foreground:"#795E26"},"support.constant.handlebars":{foreground:"#795E26"},"source.powershell variable.other.member":{foreground:"#795E26"},"entity.name.operator.custom-literal":{foreground:"#795E26"},"support.class":{foreground:"#267f99"},"support.type":{foreground:"#267f99"},"entity.name.type":{foreground:"#267f99"},"entity.name.namespace":{foreground:"#267f99"},"entity.other.attribute":{foreground:"#267f99"},"entity.name.scope-resolution":{foreground:"#267f99"},"entity.name.class":{foreground:"#267f99"},"storage.type.numeric.go":{foreground:"#267f99"},"storage.type.byte.go":{foreground:"#267f99"},"storage.type.boolean.go":{foreground:"#267f99"},"storage.type.string.go":{foreground:"#267f99"},"storage.type.uintptr.go":{foreground:"#267f99"},"storage.type.error.go":{foreground:"#267f99"},"storage.type.rune.go":{foreground:"#267f99"},"storage.type.cs":{foreground:"#267f99"},"storage.type.generic.cs":{foreground:"#267f99"},"storage.type.modifier.cs":{foreground:"#267f99"},"storage.type.variable.cs":{foreground:"#267f99"},"storage.type.annotation.java":{foreground:"#267f99"},"storage.type.generic.java":{foreground:"#267f99"},"storage.type.java":{foreground:"#267f99"},"storage.type.object.array.java":{foreground:"#267f99"},"storage.type.primitive.array.java":{foreground:"#267f99"},"storage.type.primitive.java":{foreground:"#267f99"},"storage.type.token.java":{foreground:"#267f99"},"storage.type.groovy":{foreground:"#267f99"},"storage.type.annotation.groovy":{foreground:"#267f99"},"storage.type.parameters.groovy":{foreground:"#267f99"},"storage.type.generic.groovy":{foreground:"#267f99"},"storage.type.object.array.groovy":{foreground:"#267f99"},"storage.type.primitive.array.groovy":{foreground:"#267f99"},"storage.type.primitive.groovy":{foreground:"#267f99"},"meta.type.cast.expr":{foreground:"#267f99"},"meta.type.new.expr":{foreground:"#267f99"},"support.constant.math":{foreground:"#267f99"},"support.constant.dom":{foreground:"#267f99"},"support.constant.json":{foreground:"#267f99"},"entity.other.inherited-class":{foreground:"#267f99"},"source.cpp keyword.operator.new":{foreground:"#AF00DB"},"source.cpp keyword.operator.delete":{foreground:"#AF00DB"},"keyword.other.using":{foreground:"#AF00DB"},"keyword.other.directive.using":{foreground:"#AF00DB"},"keyword.other.operator":{foreground:"#AF00DB"},"entity.name.operator":{foreground:"#AF00DB"},variable:{foreground:"#001080"},"meta.definition.variable.name":{foreground:"#001080"},"support.variable":{foreground:"#001080"},"entity.name.variable":{foreground:"#001080"},"constant.other.placeholder":{foreground:"#001080"},"variable.other.constant":{foreground:"#0070C1"},"meta.object-literal.key":{foreground:"#001080"},"punctuation.definition.group.regexp":{foreground:"#d16969"},"punctuation.definition.group.assertion.regexp":{foreground:"#d16969"},"punctuation.definition.character-class.regexp":{foreground:"#d16969"},"punctuation.character.set.begin.regexp":{foreground:"#d16969"},"punctuation.character.set.end.regexp":{foreground:"#d16969"},"keyword.operator.negation.regexp":{foreground:"#d16969"},"support.other.parenthesis.regexp":{foreground:"#d16969"},"constant.character.character-class.regexp":{foreground:"#811f3f"},"constant.other.character-class.set.regexp":{foreground:"#811f3f"},"constant.other.character-class.regexp":{foreground:"#811f3f"},"constant.character.set.regexp":{foreground:"#811f3f"},"keyword.operator.quantifier.regexp":{foreground:"#000000"},"keyword.operator.or.regexp":{foreground:"#EE0000"},"keyword.control.anchor.regexp":{foreground:"#EE0000"},"constant.character":{foreground:"#0000ff"},"constant.other.option":{foreground:"#0000ff"},"constant.character.escape":{foreground:"#EE0000"},"entity.name.label":{foreground:"#000000"}},O2={name:e3,type:t3,ui:r3,code:n3},i3=""+new URL("dark_plus-_jXt5Hic.json",import.meta.url).href,o3=""+new URL("light_plus-kxjxhiC_.json",import.meta.url).href,s3=""+new URL("dark_vs-5mIQ9Fkt.json",import.meta.url).href,a3=""+new URL("light_vs-tPP3uKoU.json",import.meta.url).href,l3=""+new URL("abyss-_SJBLiyb.json",import.meta.url).href,c3="data:application/json;base64,ewogICJuYW1lIjogIiIsCiAgInR5cGUiOiAiZGFyayIsCiAgInVpIjoge30sCiAgImNvZGUiOiB7fQp9",d3=""+new URL("kimbie-dark-tiBCTYr-.json",import.meta.url).href,u3=""+new URL("monokai-exTrh5zY.json",import.meta.url).href,h3=""+new URL("quietlight-GjP0nlwr.json",import.meta.url).href,f3=""+new URL("red-EQgY7P1b.json",import.meta.url).href,g3=""+new URL("solarized-dark-V1Xmyc1a.json",import.meta.url).href,p3=""+new URL("solarized-light-aRsP7wqf.json",import.meta.url).href,m3=""+new URL("tomorrow-night-blue-GMow87lW.json",import.meta.url).href,v3=""+new URL("hc_black-sEshpHge.json",import.meta.url).href,b3=""+new URL("hc_light-89Ajhcak.json",import.meta.url).href,_3=""+new URL("github-dark-17lxy6Os.json",import.meta.url).href,y3=""+new URL("github-dark-default-94TyN3-P.json",import.meta.url).href,w3=""+new URL("github-dark-dimmed-8IZYKmdq.json",import.meta.url).href,k3=""+new URL("github-dark-high-contrast-gRe31ZGT.json",import.meta.url).href,S3=""+new URL("github-dark-colorblind-5frKVna7.json",import.meta.url).href,x3=""+new URL("github-light-fGbJTWmB.json",import.meta.url).href,T3=""+new URL("github-light-default-rKTZjzVm.json",import.meta.url).href,E3=""+new URL("github-light-high-contrast-5v9B8pl1.json",import.meta.url).href,C3=""+new URL("github-light-colorblind-ueb1034m.json",import.meta.url).href,L3=""+new URL("OneDark-Pro-vAGfQaiU.json",import.meta.url).href,I3=""+new URL("OneDark-Pro-darker-8Zglf9xF.json",import.meta.url).href,A3=""+new URL("OneDark-Pro-flat-Qeu_l7rA.json",import.meta.url).href,F3=""+new URL("OneDark-Pro-mix--gVV1dc8.json",import.meta.url).href,R3=""+new URL("dracula-YrUf7GB2.json",import.meta.url).href,P3=""+new URL("dracula-soft-hSlJFjcb.json",import.meta.url).href,$3=""+new URL("OneDark-LRY1caEo.json",import.meta.url).href,D3=""+new URL("Material-Theme-Darker-High-Contrast-P7wTIyfA.json",import.meta.url).href,O3=""+new URL("Material-Theme-Darker-330InK91.json",import.meta.url).href,B3=""+new URL("Material-Theme-Deepforest-High-Contrast-CbZ0sM_N.json",import.meta.url).href,M3=""+new URL("Material-Theme-Deepforest-rwafoH2-.json",import.meta.url).href,N3=""+new URL("Material-Theme-Default-High-Contrast-dzGa7GgB.json",import.meta.url).href,G3=""+new URL("Material-Theme-Default-n1APmw20.json",import.meta.url).href,U3=""+new URL("Material-Theme-Lighter-High-Contrast-UsFxVRzG.json",import.meta.url).href,W3=""+new URL("Material-Theme-Lighter-r4yHvZs-.json",import.meta.url).href,q3=""+new URL("Material-Theme-Ocean-High-Contrast-PwWIPDVn.json",import.meta.url).href,H3=""+new URL("Material-Theme-Ocean-5aakk7Dm.json",import.meta.url).href,V3=""+new URL("Material-Theme-Palenight-High-Contrast-T3ODZOkP.json",import.meta.url).href,j3=""+new URL("Material-Theme-Palenight-jZ9jlKnc.json",import.meta.url).href,z3=""+new URL("Monokai Classic-oziypU6E.json",import.meta.url).href,K3=""+new URL("Monokai Pro-nD56CpIN.json",import.meta.url).href,X3=""+new URL("Monokai Pro (Filter Machine)-TIBCl2J0.json",import.meta.url).href,Y3=""+new URL("Monokai Pro (Filter Octagon)-F7GU58y6.json",import.meta.url).href,J3=""+new URL("Monokai Pro (Filter Ristretto)-_CmQ_wxD.json",import.meta.url).href,Z3=""+new URL("Monokai Pro (Filter Spectrum)-tker_IiS.json",import.meta.url).href,Q3=""+new URL("WinterIsComing-dark-blue-color-theme-QDY1yfCm.json",import.meta.url).href,e8=""+new URL("WinterIsComing-dark-blue-color-no-italics-theme-c4KNameA.json",import.meta.url).href,t8=""+new URL("WinterIsComing-dark-color-theme-lqPw2HRY.json",import.meta.url).href,r8=""+new URL("WinterIsComing-dark-color-no-italics-theme-M6gjNdBC.json",import.meta.url).href,n8=""+new URL("WinterIsComing-light-color-theme-vRSw0Fsk.json",import.meta.url).href,i8=""+new URL("WinterIsComing-light-color-no-italics-theme-OCtHpnCQ.json",import.meta.url).href,o8=""+new URL("nord-color-theme-bo4QN9js.json",import.meta.url).href,s8=""+new URL("Night Owl-color-theme--6_6pTbu.json",import.meta.url).href,a8=""+new URL("Night Owl-color-theme-noitalic-SqAxGYrY.json",import.meta.url).href,l8=""+new URL("Night Owl-Light-color-theme-GAS2tC0h.json",import.meta.url).href,c8=""+new URL("Night Owl-Light-color-theme-noitalic-HGdFKhw2.json",import.meta.url).href,d8=""+new URL("ayu-dark-zlvop4S6.json",import.meta.url).href,u8=""+new URL("ayu-dark-bordered-P1Fld3_R.json",import.meta.url).href,h8=""+new URL("ayu-light--7utdipD.json",import.meta.url).href,f8=""+new URL("ayu-light-bordered-uaOgn1o_.json",import.meta.url).href,g8=""+new URL("ayu-mirage-wiIfmqGo.json",import.meta.url).href,p8=""+new URL("ayu-mirage-bordered-K7lQJ_aH.json",import.meta.url).href,m8=""+new URL("synthwave-color-theme-m7PwMmWm.json",import.meta.url).href,v8=""+new URL("shades-of-purple-color-theme-ma4vtJmI.json",import.meta.url).href,b8=""+new URL("shades-of-purple-color-theme-super-dark-Z8EKiPcd.json",import.meta.url).href,_8=""+new URL("catppuccin-frappe-_czCnIUd.json",import.meta.url).href,y8=""+new URL("catppuccin-latte-Rn_4gE4p.json",import.meta.url).href,w8=""+new URL("catppuccin-macchiato-T73X_Qio.json",import.meta.url).href,k8=""+new URL("catppuccin-mocha-LxjPSDax.json",import.meta.url).href,S8=""+new URL("tokyo-night-color-theme-WGWlHXpp.json",import.meta.url).href,x8=""+new URL("tokyo-night-light-color-theme-7_BWmUGU.json",import.meta.url).href,T8=""+new URL("tokyo-night-storm-color-theme-4wUq-Y8e.json",import.meta.url).href,E8=""+new URL("JellyFish Theme-color-theme-6uAUsuIF.json",import.meta.url).href,C8=""+new URL("gruvbox-dark-hard-jSrqxUJp.json",import.meta.url).href,L8=""+new URL("gruvbox-dark-medium-tZB5QuRS.json",import.meta.url).href,I8=""+new URL("gruvbox-dark-soft-seZLVJxl.json",import.meta.url).href,A8=""+new URL("gruvbox-light-hard-ByYmFbJn.json",import.meta.url).href,F8=""+new URL("gruvbox-light-medium-DVDq5iJn.json",import.meta.url).href,R8=""+new URL("gruvbox-light-soft-fRY7CXe-.json",import.meta.url).href,P8=""+new URL("kanagawa-color-theme-ol5dHvqa.json",import.meta.url).href,Pv=Rv,$8=O2,D8=Rv,O8={type:D8.type};async function $e(t){return await(await fetch(t)).json()}const $v=[{id:"Default Dark Modern",name:"Dark Modern",available:!0,load:()=>new Promise(t=>t(Rv))},{id:"Default Dark+",name:"Dark Plus",available:!0,load:()=>$e(i3)},{id:"Visual Studio Dark ",name:"Dark (Visual Studio)",available:!0,load:()=>$e(s3)},{id:"Default Light Modern",name:"Light Modern",available:!0,load:()=>new Promise(t=>t(O2))},{id:"Default Light+",name:"Light Plus",available:!0,load:()=>$e(o3)},{id:"Visual Studio Light",name:"Light (Visual Studio)",available:!0,load:()=>$e(a3)},{id:"GitHub Dark",name:"GitHub Dark",available:!0,load:()=>$e(_3)},{id:"GitHub Dark Default",name:"GitHub Dark Default",available:!0,load:()=>$e(y3)},{id:"GitHub Dark Dimmed",name:"GitHub Dark Dimmed",available:!0,load:()=>$e(w3)},{id:"GitHub Dark High Contrast",name:"GitHub Dark High Contrast",available:!0,load:()=>$e(k3)},{id:"GitHub Dark Colorblind (Beta)",name:"GitHub Dark Colorblind",available:!0,load:()=>$e(S3)},{id:"GitHub Light",name:"GitHub Light",available:!0,load:()=>$e(x3)},{id:"GitHub Light Default",name:"GitHub Light Default",available:!0,load:()=>$e(T3)},{id:"GitHub Light High Contrast",name:"GitHub Light High Contrast",available:!0,load:()=>$e(E3)},{id:"GitHub Light Colorblind (Beta)",name:"GitHub Light Colorblind",available:!0,load:()=>$e(C3)},{id:"One Dark Pro",name:"One Dark Pro",available:!0,load:()=>$e(L3)},{id:"One Dark Pro Darker",name:"One Dark Pro Darker",available:!0,load:()=>$e(I3)},{id:"One Dark Pro Flat",name:"One Dark Pro Flat",available:!0,load:()=>$e(A3)},{id:"One Dark Pro Mix",name:"One Dark Pro Mix",available:!0,load:()=>$e(F3)},{id:"Dracula Theme",name:"Dracula",available:!0,load:()=>$e(R3)},{id:"Dracula Theme Soft",name:"Dracula Soft",available:!0,load:()=>$e(P3)},{id:"Synthwave '84",name:"Synthwave '84",available:!0,load:()=>$e(m8)},{id:"Shades of Purple",name:"Shades of Purple",available:!0,load:()=>$e(v8)},{id:"Shades of Purple (Super Dark)",name:"Shades of Purple (Super Dark)",available:!0,load:()=>$e(b8)},{id:"Tokyo Night",name:"Tokyo Night",available:!0,load:()=>$e(S8)},{id:"Tokyo Night Light",name:"Tokyo Night Light",available:!0,load:()=>$e(x8)},{id:"Tokyo Night Storm",name:"Tokyo Night Storm",available:!0,load:()=>$e(T8)},{id:"Catppuccin Latte",name:"Catppuccin Latte",available:!0,load:()=>$e(y8)},{id:"Catppuccin Mocha",name:"Catppuccin Mocha",available:!0,load:()=>$e(k8)},{id:"Catppuccin Macchiato",name:"Catppuccin Macchiato",available:!0,load:()=>$e(w8)},{id:"Catppuccin Frapp",name:"Catppuccin Frapp",available:!0,load:()=>$e(_8)},{id:"Gruvbox Dark Hard",name:"Gruvbox Dark Hard",available:!0,load:()=>$e(C8)},{id:"Gruvbox Dark Medium",name:"Gruvbox Dark Medium",available:!0,load:()=>$e(L8)},{id:"Gruvbox Dark Soft",name:"Gruvbox Dark Soft",available:!0,load:()=>$e(I8)},{id:"Gruvbox Light Hard",name:"Gruvbox Light Hard",available:!0,load:()=>$e(A8)},{id:"Gruvbox Light Medium",name:"Gruvbox Light Medium",available:!0,load:()=>$e(F8)},{id:"Gruvbox Light Soft",name:"Gruvbox Light Soft",available:!0,load:()=>$e(R8)},{id:"Kanagawa",name:"Kanagawa",available:!0,load:()=>$e(P8)},{id:"Nord",name:"Nord",available:!0,load:()=>$e(o8)},{id:"JellyFish",name:"JellyFish",available:!0,load:()=>$e(E8)},{id:"Atom One Dark",name:"Atom One Dark",available:!0,load:()=>$e($3)},{id:"Material Theme",name:"Material Theme",available:!0,load:()=>$e(G3)},{id:"Material Theme High Contrast",name:"Material Theme High Contrast",available:!0,load:()=>$e(N3)},{id:"Material Theme Darker",name:"Material Theme Darker",available:!0,load:()=>$e(O3)},{id:"Material Theme Darker High Contrast",name:"Material Theme Darker High Contrast",available:!0,load:()=>$e(D3)},{id:"Material Theme Deepforest",name:"Material Theme Deepforest",available:!0,load:()=>$e(M3)},{id:"Material Theme Deepforest High Contrast",name:"Material Theme Deepforest High Contrast",available:!0,load:()=>$e(B3)},{id:"Material Theme Lighter",name:"Material Theme Lighter",available:!0,load:()=>$e(W3)},{id:"Material Theme Lighter High Contrast",name:"Material Theme Lighter High Contrast",available:!0,load:()=>$e(U3)},{id:"Material Theme Ocean",name:"Material Theme Ocean",available:!0,load:()=>$e(H3)},{id:"Material Theme Ocean High Contrast",name:"Material Theme Ocean High Contrast",available:!0,load:()=>$e(q3)},{id:"Material Theme Palenight",name:"Material Theme Palenight",available:!0,load:()=>$e(j3)},{id:"Material Theme Palenight High Contrast",name:"Material Theme Palenight High Contrast",available:!0,load:()=>$e(V3)},{id:"Monokai Classic",name:"Monokai Classic",available:!0,load:()=>$e(z3)},{id:"Monokai Pro",name:"Monokai Pro",available:!0,load:()=>$e(K3)},{id:"Monokai Pro (Filter Machine)",name:"Monokai Pro (Filter Machine)",available:!0,load:()=>$e(X3)},{id:"Monokai Pro (Filter Octagon)",name:"Monokai Pro (Filter Octagon)",available:!0,load:()=>$e(Y3)},{id:"Monokai Pro (Filter Ristretto)",name:"Monokai Pro (Filter Ristretto)",available:!0,load:()=>$e(J3)},{id:"Monokai Pro (Filter Spectrum)",name:"Monokai Pro (Filter Spectrum)",available:!0,load:()=>$e(Z3)},{id:"Night Owl",name:"Night Owl",available:!0,load:()=>$e(s8)},{id:"Night Owl (No Italics)",name:"Night Owl (No Italics)",available:!0,load:()=>$e(a8)},{id:"Night Owl Light",name:"Night Owl Light",available:!0,load:()=>$e(l8)},{id:"Night Owl Light (No Italics)",name:"Night Owl Light (No Italics)",available:!0,load:()=>$e(c8)},{id:"Ayu Dark",name:"Ayu Dark",available:!0,load:()=>$e(d8)},{id:"Ayu Dark Bordered",name:"Ayu Dark Bordered",available:!0,load:()=>$e(u8)},{id:"Ayu Light",name:"Ayu Light",available:!0,load:()=>$e(h8)},{id:"Ayu Light Bordered",name:"Ayu Light Bordered",available:!0,load:()=>$e(f8)},{id:"Ayu Mirage",name:"Ayu Mirage",available:!0,load:()=>$e(g8)},{id:"Ayu Mirage Bordered",name:"Ayu Mirage Bordered",available:!0,load:()=>$e(p8)},{id:"Winter is Coming (Dark Black)",name:"Winter is Coming (Dark Black)",available:!0,load:()=>$e(t8)},{id:"Winter is Coming (Dark Black - No Italics)",name:"Winter is Coming (Dark Black - No Italics)",available:!0,load:()=>$e(r8)},{id:"Winter is Coming (Dark Blue)",name:"Winter is Coming (Dark Blue)",available:!0,load:()=>$e(Q3)},{id:"Winter is Coming (Dark Blue - No Italics)",name:"Winter is Coming (Dark Blue - No Italics)",available:!0,load:()=>$e(e8)},{id:"Winter is Coming (Light)",name:"Winter is Coming (Light)",available:!0,load:()=>$e(n8)},{id:"Winter is Coming (Light - No Italics)",name:"Winter is Coming (Light - No Italics)",available:!0,load:()=>$e(i8)},{id:"Abyss",name:"Abyss",available:!0,load:()=>$e(l3)},{id:"Kimbie Dark",name:"Kimbie Dark",available:!0,load:()=>$e(d3)},{id:"Monokai",name:"Monokai",available:!0,load:()=>$e(u3)},{id:"Monokai Dimmed ",name:"Monokai Dimmed",available:!1,load:()=>$e(c3)},{id:"Quiet Light",name:"Quiet Light",available:!0,load:()=>$e(h3)},{id:"Red",name:"Red",available:!0,load:()=>$e(f3)},{id:"Solarized Dark",name:"Solarized Dark",available:!0,load:()=>$e(g3)},{id:"Solarized Light",name:"Solarized Light",available:!0,load:()=>$e(p3)},{id:"Tomorrow Night Blue",name:"Tomorrow Night Blue",available:!0,load:()=>$e(m3)},{id:"Default High Contrast",name:"High Contrast Dark",available:!0,load:()=>$e(v3)},{id:"Default High Contrast Light",name:"High Contrast Light",available:!0,load:()=>$e(b3)}];async function s0(t,e){const r=$v.find(n=>n.id===t);return e?r?await r.load():e==="light"?$8:Pv:r?await r.load():void 0}const B2=new k2;function M2(t){O8.type=t,B2.next()}const N2=B2;var jt=(t=>(t[t.Null=0]="Null",t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.LineFeed=10]="LineFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.DoubleQuote=34]="DoubleQuote",t[t.Hash=35]="Hash",t[t.DollarSign=36]="DollarSign",t[t.PercentSign=37]="PercentSign",t[t.Ampersand=38]="Ampersand",t[t.SingleQuote=39]="SingleQuote",t[t.OpenParen=40]="OpenParen",t[t.CloseParen=41]="CloseParen",t[t.Asterisk=42]="Asterisk",t[t.Plus=43]="Plus",t[t.Comma=44]="Comma",t[t.Dash=45]="Dash",t[t.Period=46]="Period",t[t.Slash=47]="Slash",t[t.Digit0=48]="Digit0",t[t.Digit1=49]="Digit1",t[t.Digit2=50]="Digit2",t[t.Digit3=51]="Digit3",t[t.Digit4=52]="Digit4",t[t.Digit5=53]="Digit5",t[t.Digit6=54]="Digit6",t[t.Digit7=55]="Digit7",t[t.Digit8=56]="Digit8",t[t.Digit9=57]="Digit9",t[t.Colon=58]="Colon",t[t.Semicolon=59]="Semicolon",t[t.LessThan=60]="LessThan",t[t.Equals=61]="Equals",t[t.GreaterThan=62]="GreaterThan",t[t.QuestionMark=63]="QuestionMark",t[t.AtSign=64]="AtSign",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.OpenSquareBracket=91]="OpenSquareBracket",t[t.Backslash=92]="Backslash",t[t.CloseSquareBracket=93]="CloseSquareBracket",t[t.Caret=94]="Caret",t[t.Underline=95]="Underline",t[t.BackTick=96]="BackTick",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.OpenCurlyBrace=123]="OpenCurlyBrace",t[t.Pipe=124]="Pipe",t[t.CloseCurlyBrace=125]="CloseCurlyBrace",t[t.Tilde=126]="Tilde",t[t.NoBreakSpace=160]="NoBreakSpace",t[t.U_Combining_Grave_Accent=768]="U_Combining_Grave_Accent",t[t.U_Combining_Acute_Accent=769]="U_Combining_Acute_Accent",t[t.U_Combining_Circumflex_Accent=770]="U_Combining_Circumflex_Accent",t[t.U_Combining_Tilde=771]="U_Combining_Tilde",t[t.U_Combining_Macron=772]="U_Combining_Macron",t[t.U_Combining_Overline=773]="U_Combining_Overline",t[t.U_Combining_Breve=774]="U_Combining_Breve",t[t.U_Combining_Dot_Above=775]="U_Combining_Dot_Above",t[t.U_Combining_Diaeresis=776]="U_Combining_Diaeresis",t[t.U_Combining_Hook_Above=777]="U_Combining_Hook_Above",t[t.U_Combining_Ring_Above=778]="U_Combining_Ring_Above",t[t.U_Combining_Double_Acute_Accent=779]="U_Combining_Double_Acute_Accent",t[t.U_Combining_Caron=780]="U_Combining_Caron",t[t.U_Combining_Vertical_Line_Above=781]="U_Combining_Vertical_Line_Above",t[t.U_Combining_Double_Vertical_Line_Above=782]="U_Combining_Double_Vertical_Line_Above",t[t.U_Combining_Double_Grave_Accent=783]="U_Combining_Double_Grave_Accent",t[t.U_Combining_Candrabindu=784]="U_Combining_Candrabindu",t[t.U_Combining_Inverted_Breve=785]="U_Combining_Inverted_Breve",t[t.U_Combining_Turned_Comma_Above=786]="U_Combining_Turned_Comma_Above",t[t.U_Combining_Comma_Above=787]="U_Combining_Comma_Above",t[t.U_Combining_Reversed_Comma_Above=788]="U_Combining_Reversed_Comma_Above",t[t.U_Combining_Comma_Above_Right=789]="U_Combining_Comma_Above_Right",t[t.U_Combining_Grave_Accent_Below=790]="U_Combining_Grave_Accent_Below",t[t.U_Combining_Acute_Accent_Below=791]="U_Combining_Acute_Accent_Below",t[t.U_Combining_Left_Tack_Below=792]="U_Combining_Left_Tack_Below",t[t.U_Combining_Right_Tack_Below=793]="U_Combining_Right_Tack_Below",t[t.U_Combining_Left_Angle_Above=794]="U_Combining_Left_Angle_Above",t[t.U_Combining_Horn=795]="U_Combining_Horn",t[t.U_Combining_Left_Half_Ring_Below=796]="U_Combining_Left_Half_Ring_Below",t[t.U_Combining_Up_Tack_Below=797]="U_Combining_Up_Tack_Below",t[t.U_Combining_Down_Tack_Below=798]="U_Combining_Down_Tack_Below",t[t.U_Combining_Plus_Sign_Below=799]="U_Combining_Plus_Sign_Below",t[t.U_Combining_Minus_Sign_Below=800]="U_Combining_Minus_Sign_Below",t[t.U_Combining_Palatalized_Hook_Below=801]="U_Combining_Palatalized_Hook_Below",t[t.U_Combining_Retroflex_Hook_Below=802]="U_Combining_Retroflex_Hook_Below",t[t.U_Combining_Dot_Below=803]="U_Combining_Dot_Below",t[t.U_Combining_Diaeresis_Below=804]="U_Combining_Diaeresis_Below",t[t.U_Combining_Ring_Below=805]="U_Combining_Ring_Below",t[t.U_Combining_Comma_Below=806]="U_Combining_Comma_Below",t[t.U_Combining_Cedilla=807]="U_Combining_Cedilla",t[t.U_Combining_Ogonek=808]="U_Combining_Ogonek",t[t.U_Combining_Vertical_Line_Below=809]="U_Combining_Vertical_Line_Below",t[t.U_Combining_Bridge_Below=810]="U_Combining_Bridge_Below",t[t.U_Combining_Inverted_Double_Arch_Below=811]="U_Combining_Inverted_Double_Arch_Below",t[t.U_Combining_Caron_Below=812]="U_Combining_Caron_Below",t[t.U_Combining_Circumflex_Accent_Below=813]="U_Combining_Circumflex_Accent_Below",t[t.U_Combining_Breve_Below=814]="U_Combining_Breve_Below",t[t.U_Combining_Inverted_Breve_Below=815]="U_Combining_Inverted_Breve_Below",t[t.U_Combining_Tilde_Below=816]="U_Combining_Tilde_Below",t[t.U_Combining_Macron_Below=817]="U_Combining_Macron_Below",t[t.U_Combining_Low_Line=818]="U_Combining_Low_Line",t[t.U_Combining_Double_Low_Line=819]="U_Combining_Double_Low_Line",t[t.U_Combining_Tilde_Overlay=820]="U_Combining_Tilde_Overlay",t[t.U_Combining_Short_Stroke_Overlay=821]="U_Combining_Short_Stroke_Overlay",t[t.U_Combining_Long_Stroke_Overlay=822]="U_Combining_Long_Stroke_Overlay",t[t.U_Combining_Short_Solidus_Overlay=823]="U_Combining_Short_Solidus_Overlay",t[t.U_Combining_Long_Solidus_Overlay=824]="U_Combining_Long_Solidus_Overlay",t[t.U_Combining_Right_Half_Ring_Below=825]="U_Combining_Right_Half_Ring_Below",t[t.U_Combining_Inverted_Bridge_Below=826]="U_Combining_Inverted_Bridge_Below",t[t.U_Combining_Square_Below=827]="U_Combining_Square_Below",t[t.U_Combining_Seagull_Below=828]="U_Combining_Seagull_Below",t[t.U_Combining_X_Above=829]="U_Combining_X_Above",t[t.U_Combining_Vertical_Tilde=830]="U_Combining_Vertical_Tilde",t[t.U_Combining_Double_Overline=831]="U_Combining_Double_Overline",t[t.U_Combining_Grave_Tone_Mark=832]="U_Combining_Grave_Tone_Mark",t[t.U_Combining_Acute_Tone_Mark=833]="U_Combining_Acute_Tone_Mark",t[t.U_Combining_Greek_Perispomeni=834]="U_Combining_Greek_Perispomeni",t[t.U_Combining_Greek_Koronis=835]="U_Combining_Greek_Koronis",t[t.U_Combining_Greek_Dialytika_Tonos=836]="U_Combining_Greek_Dialytika_Tonos",t[t.U_Combining_Greek_Ypogegrammeni=837]="U_Combining_Greek_Ypogegrammeni",t[t.U_Combining_Bridge_Above=838]="U_Combining_Bridge_Above",t[t.U_Combining_Equals_Sign_Below=839]="U_Combining_Equals_Sign_Below",t[t.U_Combining_Double_Vertical_Line_Below=840]="U_Combining_Double_Vertical_Line_Below",t[t.U_Combining_Left_Angle_Below=841]="U_Combining_Left_Angle_Below",t[t.U_Combining_Not_Tilde_Above=842]="U_Combining_Not_Tilde_Above",t[t.U_Combining_Homothetic_Above=843]="U_Combining_Homothetic_Above",t[t.U_Combining_Almost_Equal_To_Above=844]="U_Combining_Almost_Equal_To_Above",t[t.U_Combining_Left_Right_Arrow_Below=845]="U_Combining_Left_Right_Arrow_Below",t[t.U_Combining_Upwards_Arrow_Below=846]="U_Combining_Upwards_Arrow_Below",t[t.U_Combining_Grapheme_Joiner=847]="U_Combining_Grapheme_Joiner",t[t.U_Combining_Right_Arrowhead_Above=848]="U_Combining_Right_Arrowhead_Above",t[t.U_Combining_Left_Half_Ring_Above=849]="U_Combining_Left_Half_Ring_Above",t[t.U_Combining_Fermata=850]="U_Combining_Fermata",t[t.U_Combining_X_Below=851]="U_Combining_X_Below",t[t.U_Combining_Left_Arrowhead_Below=852]="U_Combining_Left_Arrowhead_Below",t[t.U_Combining_Right_Arrowhead_Below=853]="U_Combining_Right_Arrowhead_Below",t[t.U_Combining_Right_Arrowhead_And_Up_Arrowhead_Below=854]="U_Combining_Right_Arrowhead_And_Up_Arrowhead_Below",t[t.U_Combining_Right_Half_Ring_Above=855]="U_Combining_Right_Half_Ring_Above",t[t.U_Combining_Dot_Above_Right=856]="U_Combining_Dot_Above_Right",t[t.U_Combining_Asterisk_Below=857]="U_Combining_Asterisk_Below",t[t.U_Combining_Double_Ring_Below=858]="U_Combining_Double_Ring_Below",t[t.U_Combining_Zigzag_Above=859]="U_Combining_Zigzag_Above",t[t.U_Combining_Double_Breve_Below=860]="U_Combining_Double_Breve_Below",t[t.U_Combining_Double_Breve=861]="U_Combining_Double_Breve",t[t.U_Combining_Double_Macron=862]="U_Combining_Double_Macron",t[t.U_Combining_Double_Macron_Below=863]="U_Combining_Double_Macron_Below",t[t.U_Combining_Double_Tilde=864]="U_Combining_Double_Tilde",t[t.U_Combining_Double_Inverted_Breve=865]="U_Combining_Double_Inverted_Breve",t[t.U_Combining_Double_Rightwards_Arrow_Below=866]="U_Combining_Double_Rightwards_Arrow_Below",t[t.U_Combining_Latin_Small_Letter_A=867]="U_Combining_Latin_Small_Letter_A",t[t.U_Combining_Latin_Small_Letter_E=868]="U_Combining_Latin_Small_Letter_E",t[t.U_Combining_Latin_Small_Letter_I=869]="U_Combining_Latin_Small_Letter_I",t[t.U_Combining_Latin_Small_Letter_O=870]="U_Combining_Latin_Small_Letter_O",t[t.U_Combining_Latin_Small_Letter_U=871]="U_Combining_Latin_Small_Letter_U",t[t.U_Combining_Latin_Small_Letter_C=872]="U_Combining_Latin_Small_Letter_C",t[t.U_Combining_Latin_Small_Letter_D=873]="U_Combining_Latin_Small_Letter_D",t[t.U_Combining_Latin_Small_Letter_H=874]="U_Combining_Latin_Small_Letter_H",t[t.U_Combining_Latin_Small_Letter_M=875]="U_Combining_Latin_Small_Letter_M",t[t.U_Combining_Latin_Small_Letter_R=876]="U_Combining_Latin_Small_Letter_R",t[t.U_Combining_Latin_Small_Letter_T=877]="U_Combining_Latin_Small_Letter_T",t[t.U_Combining_Latin_Small_Letter_V=878]="U_Combining_Latin_Small_Letter_V",t[t.U_Combining_Latin_Small_Letter_X=879]="U_Combining_Latin_Small_Letter_X",t[t.LINE_SEPARATOR=8232]="LINE_SEPARATOR",t[t.PARAGRAPH_SEPARATOR=8233]="PARAGRAPH_SEPARATOR",t[t.NEXT_LINE=133]="NEXT_LINE",t[t.U_CIRCUMFLEX=94]="U_CIRCUMFLEX",t[t.U_GRAVE_ACCENT=96]="U_GRAVE_ACCENT",t[t.U_DIAERESIS=168]="U_DIAERESIS",t[t.U_MACRON=175]="U_MACRON",t[t.U_ACUTE_ACCENT=180]="U_ACUTE_ACCENT",t[t.U_CEDILLA=184]="U_CEDILLA",t[t.U_MODIFIER_LETTER_LEFT_ARROWHEAD=706]="U_MODIFIER_LETTER_LEFT_ARROWHEAD",t[t.U_MODIFIER_LETTER_RIGHT_ARROWHEAD=707]="U_MODIFIER_LETTER_RIGHT_ARROWHEAD",t[t.U_MODIFIER_LETTER_UP_ARROWHEAD=708]="U_MODIFIER_LETTER_UP_ARROWHEAD",t[t.U_MODIFIER_LETTER_DOWN_ARROWHEAD=709]="U_MODIFIER_LETTER_DOWN_ARROWHEAD",t[t.U_MODIFIER_LETTER_CENTRED_RIGHT_HALF_RING=722]="U_MODIFIER_LETTER_CENTRED_RIGHT_HALF_RING",t[t.U_MODIFIER_LETTER_CENTRED_LEFT_HALF_RING=723]="U_MODIFIER_LETTER_CENTRED_LEFT_HALF_RING",t[t.U_MODIFIER_LETTER_UP_TACK=724]="U_MODIFIER_LETTER_UP_TACK",t[t.U_MODIFIER_LETTER_DOWN_TACK=725]="U_MODIFIER_LETTER_DOWN_TACK",t[t.U_MODIFIER_LETTER_PLUS_SIGN=726]="U_MODIFIER_LETTER_PLUS_SIGN",t[t.U_MODIFIER_LETTER_MINUS_SIGN=727]="U_MODIFIER_LETTER_MINUS_SIGN",t[t.U_BREVE=728]="U_BREVE",t[t.U_DOT_ABOVE=729]="U_DOT_ABOVE",t[t.U_RING_ABOVE=730]="U_RING_ABOVE",t[t.U_OGONEK=731]="U_OGONEK",t[t.U_SMALL_TILDE=732]="U_SMALL_TILDE",t[t.U_DOUBLE_ACUTE_ACCENT=733]="U_DOUBLE_ACUTE_ACCENT",t[t.U_MODIFIER_LETTER_RHOTIC_HOOK=734]="U_MODIFIER_LETTER_RHOTIC_HOOK",t[t.U_MODIFIER_LETTER_CROSS_ACCENT=735]="U_MODIFIER_LETTER_CROSS_ACCENT",t[t.U_MODIFIER_LETTER_EXTRA_HIGH_TONE_BAR=741]="U_MODIFIER_LETTER_EXTRA_HIGH_TONE_BAR",t[t.U_MODIFIER_LETTER_HIGH_TONE_BAR=742]="U_MODIFIER_LETTER_HIGH_TONE_BAR",t[t.U_MODIFIER_LETTER_MID_TONE_BAR=743]="U_MODIFIER_LETTER_MID_TONE_BAR",t[t.U_MODIFIER_LETTER_LOW_TONE_BAR=744]="U_MODIFIER_LETTER_LOW_TONE_BAR",t[t.U_MODIFIER_LETTER_EXTRA_LOW_TONE_BAR=745]="U_MODIFIER_LETTER_EXTRA_LOW_TONE_BAR",t[t.U_MODIFIER_LETTER_YIN_DEPARTING_TONE_MARK=746]="U_MODIFIER_LETTER_YIN_DEPARTING_TONE_MARK",t[t.U_MODIFIER_LETTER_YANG_DEPARTING_TONE_MARK=747]="U_MODIFIER_LETTER_YANG_DEPARTING_TONE_MARK",t[t.U_MODIFIER_LETTER_UNASPIRATED=749]="U_MODIFIER_LETTER_UNASPIRATED",t[t.U_MODIFIER_LETTER_LOW_DOWN_ARROWHEAD=751]="U_MODIFIER_LETTER_LOW_DOWN_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_UP_ARROWHEAD=752]="U_MODIFIER_LETTER_LOW_UP_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_LEFT_ARROWHEAD=753]="U_MODIFIER_LETTER_LOW_LEFT_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_RIGHT_ARROWHEAD=754]="U_MODIFIER_LETTER_LOW_RIGHT_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_RING=755]="U_MODIFIER_LETTER_LOW_RING",t[t.U_MODIFIER_LETTER_MIDDLE_GRAVE_ACCENT=756]="U_MODIFIER_LETTER_MIDDLE_GRAVE_ACCENT",t[t.U_MODIFIER_LETTER_MIDDLE_DOUBLE_GRAVE_ACCENT=757]="U_MODIFIER_LETTER_MIDDLE_DOUBLE_GRAVE_ACCENT",t[t.U_MODIFIER_LETTER_MIDDLE_DOUBLE_ACUTE_ACCENT=758]="U_MODIFIER_LETTER_MIDDLE_DOUBLE_ACUTE_ACCENT",t[t.U_MODIFIER_LETTER_LOW_TILDE=759]="U_MODIFIER_LETTER_LOW_TILDE",t[t.U_MODIFIER_LETTER_RAISED_COLON=760]="U_MODIFIER_LETTER_RAISED_COLON",t[t.U_MODIFIER_LETTER_BEGIN_HIGH_TONE=761]="U_MODIFIER_LETTER_BEGIN_HIGH_TONE",t[t.U_MODIFIER_LETTER_END_HIGH_TONE=762]="U_MODIFIER_LETTER_END_HIGH_TONE",t[t.U_MODIFIER_LETTER_BEGIN_LOW_TONE=763]="U_MODIFIER_LETTER_BEGIN_LOW_TONE",t[t.U_MODIFIER_LETTER_END_LOW_TONE=764]="U_MODIFIER_LETTER_END_LOW_TONE",t[t.U_MODIFIER_LETTER_SHELF=765]="U_MODIFIER_LETTER_SHELF",t[t.U_MODIFIER_LETTER_OPEN_SHELF=766]="U_MODIFIER_LETTER_OPEN_SHELF",t[t.U_MODIFIER_LETTER_LOW_LEFT_ARROW=767]="U_MODIFIER_LETTER_LOW_LEFT_ARROW",t[t.U_GREEK_LOWER_NUMERAL_SIGN=885]="U_GREEK_LOWER_NUMERAL_SIGN",t[t.U_GREEK_TONOS=900]="U_GREEK_TONOS",t[t.U_GREEK_DIALYTIKA_TONOS=901]="U_GREEK_DIALYTIKA_TONOS",t[t.U_GREEK_KORONIS=8125]="U_GREEK_KORONIS",t[t.U_GREEK_PSILI=8127]="U_GREEK_PSILI",t[t.U_GREEK_PERISPOMENI=8128]="U_GREEK_PERISPOMENI",t[t.U_GREEK_DIALYTIKA_AND_PERISPOMENI=8129]="U_GREEK_DIALYTIKA_AND_PERISPOMENI",t[t.U_GREEK_PSILI_AND_VARIA=8141]="U_GREEK_PSILI_AND_VARIA",t[t.U_GREEK_PSILI_AND_OXIA=8142]="U_GREEK_PSILI_AND_OXIA",t[t.U_GREEK_PSILI_AND_PERISPOMENI=8143]="U_GREEK_PSILI_AND_PERISPOMENI",t[t.U_GREEK_DASIA_AND_VARIA=8157]="U_GREEK_DASIA_AND_VARIA",t[t.U_GREEK_DASIA_AND_OXIA=8158]="U_GREEK_DASIA_AND_OXIA",t[t.U_GREEK_DASIA_AND_PERISPOMENI=8159]="U_GREEK_DASIA_AND_PERISPOMENI",t[t.U_GREEK_DIALYTIKA_AND_VARIA=8173]="U_GREEK_DIALYTIKA_AND_VARIA",t[t.U_GREEK_DIALYTIKA_AND_OXIA=8174]="U_GREEK_DIALYTIKA_AND_OXIA",t[t.U_GREEK_VARIA=8175]="U_GREEK_VARIA",t[t.U_GREEK_OXIA=8189]="U_GREEK_OXIA",t[t.U_GREEK_DASIA=8190]="U_GREEK_DASIA",t[t.U_IDEOGRAPHIC_FULL_STOP=12290]="U_IDEOGRAPHIC_FULL_STOP",t[t.U_LEFT_CORNER_BRACKET=12300]="U_LEFT_CORNER_BRACKET",t[t.U_RIGHT_CORNER_BRACKET=12301]="U_RIGHT_CORNER_BRACKET",t[t.U_LEFT_BLACK_LENTICULAR_BRACKET=12304]="U_LEFT_BLACK_LENTICULAR_BRACKET",t[t.U_RIGHT_BLACK_LENTICULAR_BRACKET=12305]="U_RIGHT_BLACK_LENTICULAR_BRACKET",t[t.U_OVERLINE=8254]="U_OVERLINE",t[t.UTF8_BOM=65279]="UTF8_BOM",t[t.U_FULLWIDTH_SEMICOLON=65307]="U_FULLWIDTH_SEMICOLON",t[t.U_FULLWIDTH_COMMA=65292]="U_FULLWIDTH_COMMA",t))(jt||{});function fi(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}let Ze=class{_rgbaBrand=void 0;r;g;b;a;constructor(e,r,n,i=1){this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,r))|0,this.b=Math.min(255,Math.max(0,n))|0,this.a=fi(Math.max(Math.min(1,i),0),3)}static equals(e,r){return e.r===r.r&&e.g===r.g&&e.b===r.b&&e.a===r.a}};class sn{_hslaBrand=void 0;h;s;l;a;constructor(e,r,n,i){this.h=Math.max(Math.min(360,e),0)|0,this.s=fi(Math.max(Math.min(1,r),0),3),this.l=fi(Math.max(Math.min(1,n),0),3),this.a=fi(Math.max(Math.min(1,i),0),3)}static equals(e,r){return e.h===r.h&&e.s===r.s&&e.l===r.l&&e.a===r.a}static fromRGBA(e){const r=e.r/255,n=e.g/255,i=e.b/255,o=e.a,s=Math.max(r,n,i),a=Math.min(r,n,i);let l=0,c=0;const d=(a+s)/2,u=s-a;if(u>0){switch(c=Math.min(d<=.5?u/(2*d):u/(2-2*d),1),s){case r:l=(n-i)/u+(n<i?6:0);break;case n:l=(i-r)/u+2;break;case i:l=(r-n)/u+4;break}l*=60,l=Math.round(l)}return new sn(l,c,d,o)}static _hue2rgb(e,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(r-e)*6*n:n<1/2?r:n<2/3?e+(r-e)*(2/3-n)*6:e}static toRGBA(e){const r=e.h/360,{s:n,l:i,a:o}=e;let s,a,l;if(n===0)s=a=l=i;else{const c=i<.5?i*(1+n):i+n-i*n,d=2*i-c;s=sn._hue2rgb(d,c,r+1/3),a=sn._hue2rgb(d,c,r),l=sn._hue2rgb(d,c,r-1/3)}return new Ze(Math.round(s*255),Math.round(a*255),Math.round(l*255),o)}}class Ro{_hsvaBrand=void 0;h;s;v;a;constructor(e,r,n,i){this.h=Math.max(Math.min(360,e),0)|0,this.s=fi(Math.max(Math.min(1,r),0),3),this.v=fi(Math.max(Math.min(1,n),0),3),this.a=fi(Math.max(Math.min(1,i),0),3)}static equals(e,r){return e.h===r.h&&e.s===r.s&&e.v===r.v&&e.a===r.a}static fromRGBA(e){const r=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(r,n,i),s=Math.min(r,n,i),a=o-s,l=o===0?0:a/o;let c;return a===0?c=0:o===r?c=((n-i)/a%6+6)%6:o===n?c=(i-r)/a+2:c=(r-n)/a+4,new Ro(Math.round(c*60),l,o,e.a)}static toRGBA(e){const{h:r,s:n,v:i,a:o}=e,s=i*n,a=s*(1-Math.abs(r/60%2-1)),l=i-s;let[c,d,u]=[0,0,0];return r<60?(c=s,d=a):r<120?(c=a,d=s):r<180?(d=s,u=a):r<240?(d=a,u=s):r<300?(c=a,u=s):r<=360&&(c=s,u=a),c=Math.round((c+l)*255),d=Math.round((d+l)*255),u=Math.round((u+l)*255),new Ze(c,d,u,o)}}class Y{static fromHex(e){return Y.Format.CSS.parseHex(e)||Y.red}static equals(e,r){return!e&&!r?!0:!e||!r?!1:e.equals(r)}rgba;_hsla;get hsla(){return this._hsla?this._hsla:sn.fromRGBA(this.rgba)}_hsva;get hsva(){return this._hsva?this._hsva:Ro.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof Ze)this.rgba=e;else if(e instanceof sn)this._hsla=e,this.rgba=sn.toRGBA(e);else if(e instanceof Ro)this._hsva=e,this.rgba=Ro.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&Ze.equals(this.rgba,e.rgba)&&sn.equals(this.hsla,e.hsla)&&Ro.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=Y._relativeLuminanceForComponent(this.rgba.r),r=Y._relativeLuminanceForComponent(this.rgba.g),n=Y._relativeLuminanceForComponent(this.rgba.b),i=.2126*e+.7152*r+.0722*n;return fi(i,4)}reduceRelativeLuminace(e,r){let{r:n,g:i,b:o}=e.rgba,s=this.getContrastRatio(e);for(;s<r&&(n>0||i>0||o>0);)n-=Math.max(0,Math.ceil(n*.1)),i-=Math.max(0,Math.ceil(i*.1)),o-=Math.max(0,Math.ceil(o*.1)),s=this.getContrastRatio(new Y(new Ze(n,i,o)));return new Y(new Ze(n,i,o))}increaseRelativeLuminace(e,r){let{r:n,g:i,b:o}=e.rgba,s=this.getContrastRatio(e);for(;s<r&&(n<255||i<255||o<255);)n=Math.min(255,n+Math.ceil((255-n)*.1)),i=Math.min(255,i+Math.ceil((255-i)*.1)),o=Math.min(255,o+Math.ceil((255-o)*.1)),s=this.getContrastRatio(new Y(new Ze(n,i,o)));return new Y(new Ze(n,i,o))}static _relativeLuminanceForComponent(e){const r=e/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}getContrastRatio(e){const r=this.getRelativeLuminance(),n=e.getRelativeLuminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const r=this.getRelativeLuminance(),n=e.getRelativeLuminance();return r>n}isDarkerThan(e){const r=this.getRelativeLuminance(),n=e.getRelativeLuminance();return r<n}ensureConstrast(e,r){const n=this.getRelativeLuminance(),i=e.getRelativeLuminance();if(this.getContrastRatio(e)<r){if(i<n){const l=this.reduceRelativeLuminace(e,r),c=this.getContrastRatio(l);if(c<r){const d=this.increaseRelativeLuminace(e,r),u=this.getContrastRatio(d);return c>u?l:d}return l}const s=this.increaseRelativeLuminace(e,r),a=this.getContrastRatio(s);if(a<r){const l=this.reduceRelativeLuminace(e,r),c=this.getContrastRatio(l);return a>c?s:l}return s}return e}lighten(e){return new Y(new sn(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new Y(new sn(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r,g:n,b:i,a:o}=this.rgba;return new Y(new Ze(r,n,i,o*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new Y(new Ze(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(e){const r=e.rgba,n=this.rgba.a,i=r.a,o=n+i*(1-n);if(o<1e-6)return Y.transparent;const s=this.rgba.r*n/o+r.r*i*(1-n)/o,a=this.rgba.g*n/o+r.g*i*(1-n)/o,l=this.rgba.b*n/o+r.b*i*(1-n)/o;return new Y(new Ze(s,a,l,o))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;const{r,g:n,b:i,a:o}=this.rgba;return new Y(new Ze(e.rgba.r-o*(e.rgba.r-r),e.rgba.g-o*(e.rgba.g-n),e.rgba.b-o*(e.rgba.b-i),1))}flatten(...e){const r=e.reduceRight((n,i)=>Y._flatten(i,n));return Y._flatten(this,r)}static _flatten(e,r){const n=1-e.rgba.a;return new Y(new Ze(n*r.rgba.r+e.rgba.a*e.rgba.r,n*r.rgba.g+e.rgba.a*e.rgba.g,n*r.rgba.b+e.rgba.a*e.rgba.b))}_toString;toString(){return this._toString||(this._toString=Y.Format.CSS.format(this)),this._toString}static getLighterColor(e,r,n){if(e.isLighterThan(r))return e;n=n||.5;const i=e.getRelativeLuminance(),o=r.getRelativeLuminance();return n=n*(o-i)/o,e.lighten(n)}static getDarkerColor(e,r,n){if(e.isDarkerThan(r))return e;n=n||.5;const i=e.getRelativeLuminance(),o=r.getRelativeLuminance();return n=n*(i-o)/i,e.darken(n)}static white=new Y(new Ze(255,255,255,1));static black=new Y(new Ze(0,0,0,1));static red=new Y(new Ze(255,0,0,1));static blue=new Y(new Ze(0,0,255,1));static green=new Y(new Ze(0,255,0,1));static cyan=new Y(new Ze(0,255,255,1));static lightgrey=new Y(new Ze(211,211,211,1));static transparent=new Y(new Ze(0,0,0,0))}(t=>{(e=>{(r=>{function n(h){return h.rgba.a===1?`rgb(${h.rgba.r}, ${h.rgba.g}, ${h.rgba.b})`:t.Format.CSS.formatRGBA(h)}r.formatRGB=n;function i(h){return`rgba(${h.rgba.r}, ${h.rgba.g}, ${h.rgba.b}, ${+h.rgba.a.toFixed(2)})`}r.formatRGBA=i;function o(h){return h.hsla.a===1?`hsl(${h.hsla.h}, ${(h.hsla.s*100).toFixed(2)}%, ${(h.hsla.l*100).toFixed(2)}%)`:t.Format.CSS.formatHSLA(h)}r.formatHSL=o;function s(h){return`hsla(${h.hsla.h}, ${(h.hsla.s*100).toFixed(2)}%, ${(h.hsla.l*100).toFixed(2)}%, ${h.hsla.a.toFixed(2)})`}r.formatHSLA=s;function a(h){const g=h.toString(16);return g.length!==2?"0"+g:g}function l(h){return`#${a(h.rgba.r)}${a(h.rgba.g)}${a(h.rgba.b)}`}r.formatHex=l;function c(h,g=!1){return g&&h.rgba.a===1?t.Format.CSS.formatHex(h):`#${a(h.rgba.r)}${a(h.rgba.g)}${a(h.rgba.b)}${a(Math.round(h.rgba.a*255))}`}r.formatHexA=c;function d(h){return h.isOpaque()?t.Format.CSS.formatHex(h):t.Format.CSS.formatRGBA(h)}r.format=d;function u(h){const g=h.length;if(g===0||h.charCodeAt(0)!==jt.Hash)return null;if(g===7){const p=16*f(h.charCodeAt(1))+f(h.charCodeAt(2)),m=16*f(h.charCodeAt(3))+f(h.charCodeAt(4)),b=16*f(h.charCodeAt(5))+f(h.charCodeAt(6));return new t(new Ze(p,m,b,1))}if(g===9){const p=16*f(h.charCodeAt(1))+f(h.charCodeAt(2)),m=16*f(h.charCodeAt(3))+f(h.charCodeAt(4)),b=16*f(h.charCodeAt(5))+f(h.charCodeAt(6)),k=16*f(h.charCodeAt(7))+f(h.charCodeAt(8));return new t(new Ze(p,m,b,k/255))}if(g===4){const p=f(h.charCodeAt(1)),m=f(h.charCodeAt(2)),b=f(h.charCodeAt(3));return new t(new Ze(16*p+p,16*m+m,16*b+b))}if(g===5){const p=f(h.charCodeAt(1)),m=f(h.charCodeAt(2)),b=f(h.charCodeAt(3)),k=f(h.charCodeAt(4));return new t(new Ze(16*p+p,16*m+m,16*b+b,(16*k+k)/255))}return null}r.parseHex=u;function f(h){switch(h){case jt.Digit0:return 0;case jt.Digit1:return 1;case jt.Digit2:return 2;case jt.Digit3:return 3;case jt.Digit4:return 4;case jt.Digit5:return 5;case jt.Digit6:return 6;case jt.Digit7:return 7;case jt.Digit8:return 8;case jt.Digit9:return 9;case jt.a:return 10;case jt.A:return 10;case jt.b:return 11;case jt.B:return 11;case jt.c:return 12;case jt.C:return 12;case jt.d:return 13;case jt.D:return 13;case jt.e:return 14;case jt.E:return 14;case jt.f:return 15;case jt.F:return 15}return 0}})(e.CSS||(e.CSS={}))})(t.Format||(t.Format={}))})(Y||(Y={}));function B8(t){return t!==null&&typeof t=="object"&&"light"in t&&"dark"in t}class M8{colorsById;constructor(){this.colorsById={}}registerColor(e,r,n,i=!1,o){const s={id:e,description:n,defaults:r,needsTransparency:i,deprecationMessage:o};return this.colorsById[e]=s,e}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,r){const n=this.colorsById[e];if(n?.defaults){const i=B8(n.defaults)?n.defaults[r.type]:n.defaults;return rn(i,r)}}toString(){const e=(r,n)=>{const i=r.indexOf(".")===-1?0:1,o=n.indexOf(".")===-1?0:1;return i!==o?i-o:r.localeCompare(n)};return Object.keys(this.colorsById).sort(e).map(r=>`- \`${r}\`: ${this.colorsById[r].description}`).join(`
`)}}const Dv=new M8;function P(t,e,r,n,i){return Dv.registerColor(t,e,r,n,i)}function N8(t,e){switch(t.op){case 0:return rn(t.value,e)?.darken(t.factor);case 1:return rn(t.value,e)?.lighten(t.factor);case 2:return rn(t.value,e)?.transparent(t.factor);case 3:{const r=rn(t.background,e);return r?rn(t.value,e)?.makeOpaque(r):rn(t.value,e)}case 4:for(const r of t.values){const n=rn(r,e);if(n)return n}return;case 6:return rn(e.defines(t.if)?t.then:t.else,e);case 5:{const r=rn(t.value,e);if(!r)return;const n=rn(t.background,e);return n?r.isDarkerThan(n)?Y.getLighterColor(r,n,t.factor).transparent(t.transparency):Y.getDarkerColor(r,n,t.factor).transparent(t.transparency):r.transparent(t.factor*t.transparency)}default:throw new Error("Unreachable")}}function Dr(t,e){return{op:0,value:t,factor:e}}function Gr(t,e){return{op:1,value:t,factor:e}}function ye(t,e){return{op:2,value:t,factor:e}}function a0(t,e){return{op:3,value:t,background:e}}function l0(...t){return{op:4,values:t}}function G8(t,e,r){return{op:6,if:t,then:e,else:r}}function c0(t,e,r,n){return{op:5,value:t,background:e,factor:r,transparency:n}}function rn(t,e){if(t!==null){if(typeof t=="string")return t[0]==="#"?Y.fromHex(t):e.getColor(t);if(t instanceof Y)return t;if(typeof t=="object")return N8(t,e)}}function R(t,e,...r){return e}const vt=P("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},R("foreground","Overall foreground color. This color is only used if not overridden by a component."));P("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},R("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component."));const d0=P("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},R("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));P("descriptionForeground",{light:"#717171",dark:ye(vt,.7),hcDark:ye(vt,.7),hcLight:ye(vt,.7)},R("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const Bm=P("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},R("iconForeground","The default color for icons in the workbench.")),hn=P("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},R("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),Ie=P("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},R("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Rt=P("contrastActiveBorder",{light:null,dark:null,hcDark:hn,hcLight:hn},R("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast."));P("selection.background",null,R("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor."));const U8=P("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},R("textLinkForeground","Foreground color for links in text."));P("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},R("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));P("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:Y.black,hcLight:"#292929"},R("textSeparatorForeground","Color for text separators."));P("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},R("textPreformatForeground","Foreground color for preformatted text segments."));P("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},R("textPreformatBackground","Background color for preformatted text segments."));P("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},R("textBlockQuoteBackground","Background color for block quotes in text."));P("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:Y.white,hcLight:"#292929"},R("textBlockQuoteBorder","Border color for block quotes in text."));P("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:Y.black,hcLight:"#F2F2F2"},R("textCodeBlockBackground","Background color for code blocks in text."));P("sash.hoverBorder",hn,R("sashActiveBorder","Border color of active sashes."));const fl=P("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:Y.black,hcLight:"#0F4A85"},R("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),W8=P("badge.foreground",{dark:Y.white,light:"#333",hcDark:Y.white,hcLight:Y.white},R("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Ov=P("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},R("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),q8=P("scrollbarSlider.background",{dark:Y.fromHex("#797979").transparent(.4),light:Y.fromHex("#646464").transparent(.4),hcDark:ye(Ie,.6),hcLight:ye(Ie,.4)},R("scrollbarSliderBackground","Scrollbar slider background color.")),H8=P("scrollbarSlider.hoverBackground",{dark:Y.fromHex("#646464").transparent(.7),light:Y.fromHex("#646464").transparent(.7),hcDark:ye(Ie,.8),hcLight:ye(Ie,.8)},R("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),V8=P("scrollbarSlider.activeBackground",{dark:Y.fromHex("#BFBFBF").transparent(.4),light:Y.fromHex("#000000").transparent(.6),hcDark:Ie,hcLight:Ie},R("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on."));P("progressBar.background",{dark:Y.fromHex("#0E70C0"),light:Y.fromHex("#0E70C0"),hcDark:Ie,hcLight:Ie},R("progressBarBackground","Background color of the progress bar that can show for long running operations."));const fn=P("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:Y.black,hcLight:Y.white},R("editorBackground","Editor background color.")),Tn=P("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:Y.white,hcLight:vt},R("editorForeground","Editor default foreground color."));P("editorStickyScroll.background",fn,R("editorStickyScrollBackground","Background color of sticky scroll in the editor"));P("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:Y.fromHex("#0F4A85").transparent(.1)},R("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor"));P("editorStickyScroll.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("editorStickyScrollBorder","Border color of sticky scroll in the editor"));P("editorStickyScroll.shadow",Ov,R("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor"));const Pr=P("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:Y.white},R("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),pa=P("editorWidget.foreground",vt,R("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),j8=P("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:Ie,hcLight:Ie},R("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));P("editorWidget.resizeBorder",null,R("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."));P("editorError.background",null,R("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const qn=P("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},R("editorError.foreground","Foreground color of error squigglies in the editor."));P("editorError.border",{dark:null,light:null,hcDark:Y.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},R("errorBorder","If set, color of double underlines for errors in the editor."));const z8=P("editorWarning.background",null,R("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),En=P("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},R("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Pl=P("editorWarning.border",{dark:null,light:null,hcDark:Y.fromHex("#FFCC00").transparent(.8),hcLight:Y.fromHex("#FFCC00").transparent(.8)},R("warningBorder","If set, color of double underlines for warnings in the editor."));P("editorInfo.background",null,R("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const jr=P("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},R("editorInfo.foreground","Foreground color of info squigglies in the editor.")),$l=P("editorInfo.border",{dark:null,light:null,hcDark:Y.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},R("infoBorder","If set, color of double underlines for infos in the editor."));P("editorHint.foreground",{dark:Y.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},R("editorHint.foreground","Foreground color of hint squigglies in the editor."));P("editorHint.border",{dark:null,light:null,hcDark:Y.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},R("hintBorder","If set, color of double underlines for hints in the editor."));P("editorLink.activeForeground",{dark:"#4E94CE",light:Y.blue,hcDark:Y.cyan,hcLight:"#292929"},R("activeLinkForeground","Color of active links."));const Po=P("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},R("editorSelectionBackground","Color of the editor selection."));P("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:Y.white},R("editorSelectionForeground","Color of the selected text for high contrast."));P("editor.inactiveSelectionBackground",{light:ye(Po,.5),dark:ye(Po,.5),hcDark:ye(Po,.7),hcLight:ye(Po,.5)},R("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0);P("editor.selectionHighlightBackground",{light:c0(Po,fn,.3,.6),dark:c0(Po,fn,.3,.6),hcDark:null,hcLight:null},R("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);P("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Rt,hcLight:Rt},R("editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));P("editor.compositionBorder",{light:"#000000",dark:"#ffffff",hcLight:"#000000",hcDark:"#ffffff"},R("editorCompositionBorder","The border color for an IME composition."));P("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},R("editorFindMatch","Color of the current search match."));P("editor.findMatchForeground",null,R("editorFindMatchForeground","Text color of the current search match."));const ci=P("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},R("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0);P("editor.findMatchHighlightForeground",null,R("findMatchHighlightForeground","Foreground color of the other search matches."),!0);P("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},R("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);P("editor.findMatchBorder",{light:null,dark:null,hcDark:Rt,hcLight:Rt},R("editorFindMatchBorder","Border color of the current search match."));const $o=P("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Rt,hcLight:Rt},R("findMatchHighlightBorder","Border color of the other search matches."));P("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:ye(Rt,.4),hcLight:ye(Rt,.4)},R("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);P("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},R("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const u0=P("editorHoverWidget.background",Pr,R("hoverBackground","Background color of the editor hover."));P("editorHoverWidget.foreground",pa,R("hoverForeground","Foreground color of the editor hover."));P("editorHoverWidget.border",j8,R("hoverBorder","Border color of the editor hover."));P("editorHoverWidget.statusBarBackground",{dark:Gr(u0,.2),light:Dr(u0,.05),hcDark:Pr,hcLight:Pr},R("statusBarBackground","Background color of the editor hover status bar."));const G2=P("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:Y.white,hcLight:Y.black},R("editorInlayHintForeground","Foreground color of inline hints")),U2=P("editorInlayHint.background",{dark:ye(fl,.1),light:ye(fl,.1),hcDark:ye(Y.white,.1),hcLight:ye(fl,.1)},R("editorInlayHintBackground","Background color of inline hints"));P("editorInlayHint.typeForeground",G2,R("editorInlayHintForegroundTypes","Foreground color of inline hints for types"));P("editorInlayHint.typeBackground",U2,R("editorInlayHintBackgroundTypes","Background color of inline hints for types"));P("editorInlayHint.parameterForeground",G2,R("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters"));P("editorInlayHint.parameterBackground",U2,R("editorInlayHintBackgroundParameter","Background color of inline hints for parameters"));const K8=P("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},R("editorLightBulbForeground","The color used for the lightbulb actions icon."));P("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},R("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon."));P("editorLightBulbAi.foreground",K8,R("editorLightBulbAiForeground","The color used for the lightbulb AI icon."));P("editor.snippetTabstopHighlightBackground",{dark:new Y(new Ze(124,124,124,.3)),light:new Y(new Ze(10,50,100,.2)),hcDark:new Y(new Ze(124,124,124,.3)),hcLight:new Y(new Ze(10,50,100,.2))},R("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));P("editor.snippetTabstopHighlightBorder",null,R("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));P("editor.snippetFinalTabstopHighlightBackground",null,R("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));P("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new Y(new Ze(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},R("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));const h0=new Y(new Ze(155,185,85,.2)),f0=new Y(new Ze(255,0,0,.2)),Dl=P("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},R("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Yo=P("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},R("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);P("diffEditor.insertedLineBackground",{dark:h0,light:h0,hcDark:null,hcLight:null},R("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0);P("diffEditor.removedLineBackground",{dark:f0,light:f0,hcDark:null,hcLight:null},R("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);P("diffEditorGutter.insertedLineBackground",null,R("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted."));P("diffEditorGutter.removedLineBackground",null,R("diffEditorRemovedLineGutter","Background color for the margin where lines got removed."));P("diffEditorOverview.insertedForeground",null,R("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content."));P("diffEditorOverview.removedForeground",null,R("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content."));P("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},R("diffEditorInsertedOutline","Outline color for the text that got inserted."));P("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},R("diffEditorRemovedOutline","Outline color for text that got removed."));P("diffEditor.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("diffEditorBorder","Border color between the two text editors."));P("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},R("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."));P("diffEditor.unchangedRegionBackground","sideBar.background",R("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor."));P("diffEditor.unchangedRegionForeground","foreground",R("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor."));P("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},R("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor."));const X8=P("widget.shadow",{dark:ye(Y.black,.36),light:ye(Y.black,.16),hcDark:null,hcLight:null},R("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),Ol=P("widget.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("widgetBorder","Border color of widgets such as find/replace inside the editor.")),Bl=P("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},R("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));P("toolbar.hoverOutline",{dark:null,light:null,hcDark:Rt,hcLight:Rt},R("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));P("toolbar.activeBackground",{dark:Gr(Bl,.1),light:Dr(Bl,.1),hcDark:null,hcLight:null},R("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));P("breadcrumb.foreground",ye(vt,.8),R("breadcrumbsFocusForeground","Color of focused breadcrumb items."));P("breadcrumb.background",fn,R("breadcrumbsBackground","Background color of breadcrumb items."));P("breadcrumb.focusForeground",{light:Dr(vt,.2),dark:Gr(vt,.1),hcDark:Gr(vt,.1),hcLight:Gr(vt,.1)},R("breadcrumbsFocusForeground","Color of focused breadcrumb items."));P("breadcrumb.activeSelectionForeground",{light:Dr(vt,.2),dark:Gr(vt,.1),hcDark:Gr(vt,.1),hcLight:Gr(vt,.1)},R("breadcrumbsSelectedForeground","Color of selected breadcrumb items."));P("breadcrumbPicker.background",Pr,R("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const W2=.5,g0=Y.fromHex("#40C8AE").transparent(W2),p0=Y.fromHex("#40A6FF").transparent(W2),m0=Y.fromHex("#606060").transparent(.4),Bv=.4,Jo=1,Mm=P("merge.currentHeaderBackground",{dark:g0,light:g0,hcDark:null,hcLight:null},R("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);P("merge.currentContentBackground",ye(Mm,Bv),R("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Nm=P("merge.incomingHeaderBackground",{dark:p0,light:p0,hcDark:null,hcLight:null},R("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);P("merge.incomingContentBackground",ye(Nm,Bv),R("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Gm=P("merge.commonHeaderBackground",{dark:m0,light:m0,hcDark:null,hcLight:null},R("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);P("merge.commonContentBackground",ye(Gm,Bv),R("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const Zo=P("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},R("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));P("editorOverviewRuler.currentContentForeground",{dark:ye(Mm,Jo),light:ye(Mm,Jo),hcDark:Zo,hcLight:Zo},R("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));P("editorOverviewRuler.incomingContentForeground",{dark:ye(Nm,Jo),light:ye(Nm,Jo),hcDark:Zo,hcLight:Zo},R("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));P("editorOverviewRuler.commonContentForeground",{dark:ye(Gm,Jo),light:ye(Gm,Jo),hcDark:Zo,hcLight:Zo},R("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));P("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},R("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0);const Y8=P("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",R("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0);P("problemsErrorIcon.foreground",qn,R("problemsErrorIconForeground","The color used for the problems error icon."));P("problemsWarningIcon.foreground",En,R("problemsWarningIconForeground","The color used for the problems warning icon."));P("problemsInfoIcon.foreground",jr,R("problemsInfoIconForeground","The color used for the problems info icon."));const J8=P("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},R("minimapFindMatchHighlight","Minimap marker color for find matches."),!0);P("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},R("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0);P("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},R("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0);P("minimap.infoHighlight",{dark:jr,light:jr,hcDark:$l,hcLight:$l},R("minimapInfo","Minimap marker color for infos."));P("minimap.warningHighlight",{dark:En,light:En,hcDark:Pl,hcLight:Pl},R("overviewRuleWarning","Minimap marker color for warnings."));P("minimap.errorHighlight",{dark:new Y(new Ze(255,18,18,.7)),light:new Y(new Ze(255,18,18,.7)),hcDark:new Y(new Ze(255,50,50,1)),hcLight:"#B5200D"},R("minimapError","Minimap marker color for errors."));P("minimap.background",null,R("minimapBackground","Minimap background color."));P("minimap.foregroundOpacity",Y.fromHex("#000f"),R("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));P("minimapSlider.background",ye(q8,.5),R("minimapSliderBackground","Minimap slider background color."));P("minimapSlider.hoverBackground",ye(H8,.5),R("minimapSliderHoverBackground","Minimap slider background color when hovering."));P("minimapSlider.activeBackground",ye(V8,.5),R("minimapSliderActiveBackground","Minimap slider background color when clicked on."));P("charts.foreground",vt,R("chartsForeground","The foreground color used in charts."));P("charts.lines",ye(vt,.5),R("chartsLines","The color used for horizontal lines in charts."));const v0=P("charts.red",qn,R("chartsRed","The red color used in chart visualizations."));P("charts.blue",jr,R("chartsBlue","The blue color used in chart visualizations."));P("charts.yellow",En,R("chartsYellow","The yellow color used in chart visualizations."));P("charts.orange",J8,R("chartsOrange","The orange color used in chart visualizations."));const b0=P("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},R("chartsGreen","The green color used in chart visualizations."));P("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},R("chartsPurple","The purple color used in chart visualizations."));P("input.background",{dark:"#3C3C3C",light:Y.white,hcDark:Y.black,hcLight:Y.white},R("inputBoxBackground","Input box background."));P("input.foreground",vt,R("inputBoxForeground","Input box foreground."));const zd=P("input.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("inputBoxBorder","Input box border.")),Z8=P("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:Ie,hcLight:Ie},R("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Q8=P("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},R("inputOption.hoverBackground","Background color of activated options in input fields.")),q2=P("inputOption.activeBackground",{dark:ye(hn,.4),light:ye(hn,.2),hcDark:Y.transparent,hcLight:Y.transparent},R("inputOption.activeBackground","Background hover color of options in input fields."));P("actionBar.toggledBackground",q2,R("actionBar.toggledBackground","Background color for toggled action items in action bar."));const eL=P("inputOption.activeForeground",{dark:Y.white,light:Y.black,hcDark:vt,hcLight:vt},R("inputOption.activeForeground","Foreground color of activated options in input fields."));P("input.placeholderForeground",{light:ye(vt,.5),dark:ye(vt,.5),hcDark:ye(vt,.7),hcLight:ye(vt,.7)},R("inputPlaceholderForeground","Input box foreground color for placeholder text."));P("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:Y.black,hcLight:Y.white},R("inputValidationInfoBackground","Input validation background color for information severity."));P("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:vt},R("inputValidationInfoForeground","Input validation foreground color for information severity."));P("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:Ie,hcLight:Ie},R("inputValidationInfoBorder","Input validation border color for information severity."));P("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:Y.black,hcLight:Y.white},R("inputValidationWarningBackground","Input validation background color for warning severity."));P("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:vt},R("inputValidationWarningForeground","Input validation foreground color for warning severity."));P("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:Ie,hcLight:Ie},R("inputValidationWarningBorder","Input validation border color for warning severity."));P("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:Y.black,hcLight:Y.white},R("inputValidationErrorBackground","Input validation background color for error severity."));P("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:vt},R("inputValidationErrorForeground","Input validation foreground color for error severity."));P("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:Ie,hcLight:Ie},R("inputValidationErrorBorder","Input validation border color for error severity."));const Mv=P("dropdown.background",{dark:"#3C3C3C",light:Y.white,hcDark:Y.black,hcLight:Y.white},R("dropdownBackground","Dropdown background."));P("dropdown.listBackground",{dark:null,light:null,hcDark:Y.black,hcLight:Y.white},R("dropdownListBackground","Dropdown list background."));const H2=P("dropdown.foreground",{dark:"#F0F0F0",light:vt,hcDark:Y.white,hcLight:vt},R("dropdownForeground","Dropdown foreground.")),tL=P("dropdown.border",{dark:Mv,light:"#CECECE",hcDark:Ie,hcLight:Ie},R("dropdownBorder","Dropdown border.")),rL=P("button.foreground",Y.white,R("buttonForeground","Button foreground color."));P("button.separator",ye(rL,.4),R("buttonSeparator","Button separator color."));const Na=P("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},R("buttonBackground","Button background color."));P("button.hoverBackground",{dark:Gr(Na,.2),light:Dr(Na,.2),hcDark:Na,hcLight:Na},R("buttonHoverBackground","Button background color when hovering."));P("button.border",Ie,R("buttonBorder","Button border color."));P("button.secondaryForeground",{dark:Y.white,light:Y.white,hcDark:Y.white,hcLight:vt},R("buttonSecondaryForeground","Secondary button foreground color."));const _0=P("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:Y.white},R("buttonSecondaryBackground","Secondary button background color."));P("button.secondaryHoverBackground",{dark:Gr(_0,.2),light:Dr(_0,.2),hcDark:null,hcLight:null},R("buttonSecondaryHoverBackground","Secondary button background color when hovering."));const Ga=P("radio.activeForeground",eL,R("radioActiveForeground","Foreground color of active radio option."));P("radio.activeBackground",q2,R("radioBackground","Background color of active radio option."));P("radio.activeBorder",Z8,R("radioActiveBorder","Border color of the active radio option."));P("radio.inactiveForeground",null,R("radioInactiveForeground","Foreground color of inactive radio option."));P("radio.inactiveBackground",null,R("radioInactiveBackground","Background color of inactive radio option."));P("radio.inactiveBorder",{light:ye(Ga,.2),dark:ye(Ga,.2),hcDark:ye(Ga,.4),hcLight:ye(Ga,.2)},R("radioInactiveBorder","Border color of the inactive radio option."));P("radio.inactiveHoverBackground",Q8,R("radioHoverBackground","Background color of inactive active radio option when hovering."));P("checkbox.background",Mv,R("checkbox.background","Background color of checkbox widget."));P("checkbox.selectBackground",Pr,R("checkbox.select.background","Background color of checkbox widget when the element it's in is selected."));P("checkbox.foreground",H2,R("checkbox.foreground","Foreground color of checkbox widget."));P("checkbox.border",tL,R("checkbox.border","Border color of checkbox widget."));P("checkbox.selectBorder",Bm,R("checkbox.select.border","Border color of checkbox widget when the element it's in is selected."));P("keybindingLabel.background",{dark:new Y(new Ze(128,128,128,.17)),light:new Y(new Ze(221,221,221,.4)),hcDark:Y.transparent,hcLight:Y.transparent},R("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut."));P("keybindingLabel.foreground",{dark:Y.fromHex("#CCCCCC"),light:Y.fromHex("#555555"),hcDark:Y.white,hcLight:vt},R("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut."));P("keybindingLabel.border",{dark:new Y(new Ze(51,51,51,.6)),light:new Y(new Ze(204,204,204,.4)),hcDark:new Y(new Ze(111,195,223)),hcLight:Ie},R("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut."));P("keybindingLabel.bottomBorder",{dark:new Y(new Ze(68,68,68,.6)),light:new Y(new Ze(187,187,187,.4)),hcDark:new Y(new Ze(111,195,223)),hcLight:vt},R("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut."));P("list.focusBackground",null,R("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));P("list.focusForeground",null,R("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));P("list.focusOutline",{dark:hn,light:hn,hcDark:Rt,hcLight:Rt},R("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));P("list.focusAndSelectionOutline",null,R("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not."));const Dn=P("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:Y.fromHex("#0F4A85").transparent(.1)},R("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),fc=P("list.activeSelectionForeground",{dark:Y.white,light:Y.white,hcDark:null,hcLight:null},R("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),nL=P("list.activeSelectionIconForeground",null,R("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."));P("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:Y.fromHex("#0F4A85").transparent(.1)},R("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));P("list.inactiveSelectionForeground",null,R("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));P("list.inactiveSelectionIconForeground",null,R("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));P("list.inactiveFocusBackground",null,R("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));P("list.inactiveFocusOutline",null,R("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not."));P("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:Y.white.transparent(.1),hcLight:Y.fromHex("#0F4A85").transparent(.1)},R("listHoverBackground","List/Tree background when hovering over items using the mouse."));P("list.hoverForeground",null,R("listHoverForeground","List/Tree foreground when hovering over items using the mouse."));P("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},R("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse."));P("list.dropBetweenBackground",{dark:Bm,light:Bm,hcDark:null,hcLight:null},R("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse."));const Ua=P("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:hn,hcLight:hn},R("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree."));P("list.focusHighlightForeground",{dark:Ua,light:G8(Dn,Ua,"#BBE7FF"),hcDark:Ua,hcLight:Ua},R("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));P("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},R("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));P("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},R("listErrorForeground","Foreground color of list items containing errors."));P("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},R("listWarningForeground","Foreground color of list items containing warnings."));P("listFilterWidget.background",{light:Dr(Pr,0),dark:Gr(Pr,0),hcDark:Pr,hcLight:Pr},R("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."));P("listFilterWidget.outline",{dark:Y.transparent,light:Y.transparent,hcDark:"#f38518",hcLight:"#007ACC"},R("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees."));P("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:Ie,hcLight:Ie},R("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches."));P("listFilterWidget.shadow",X8,R("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees."));P("list.filterMatchBackground",{dark:ci,light:ci,hcDark:null,hcLight:null},R("listFilterMatchHighlight","Background color of the filtered match."));P("list.filterMatchBorder",{dark:$o,light:$o,hcDark:Ie,hcLight:Rt},R("listFilterMatchHighlightBorder","Border color of the filtered match."));P("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},R("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized."));const Um=P("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},R("treeIndentGuidesStroke","Tree stroke color for the indentation guides."));P("tree.inactiveIndentGuidesStroke",ye(Um,.4),R("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active."));P("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},R("tableColumnsBorder","Table border color between columns."));P("tree.tableOddRowsBackground",{dark:ye(vt,.04),light:ye(vt,.04),hcDark:null,hcLight:null},R("tableOddRowsBackgroundColor","Background color for odd table rows."));P("editorActionList.background",Pr,R("editorActionListBackground","Action List background color."));P("editorActionList.foreground",pa,R("editorActionListForeground","Action List foreground color."));P("editorActionList.focusForeground",fc,R("editorActionListFocusForeground","Action List foreground color for the focused item."));P("editorActionList.focusBackground",Dn,R("editorActionListFocusBackground","Action List background color for the focused item."));P("menu.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("menuBorder","Border color of menus."));P("menu.foreground",H2,R("menuForeground","Foreground color of menu items."));P("menu.background",Mv,R("menuBackground","Background color of menu items."));P("menu.selectionForeground",fc,R("menuSelectionForeground","Foreground color of the selected menu item in menus."));P("menu.selectionBackground",Dn,R("menuSelectionBackground","Background color of the selected menu item in menus."));P("menu.selectionBorder",{dark:null,light:null,hcDark:Rt,hcLight:Rt},R("menuSelectionBorder","Border color of the selected menu item in menus."));P("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:Ie,hcLight:Ie},R("menuSeparatorBackground","Color of a separator menu item in menus."));P("quickInput.background",Pr,R("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette."));P("quickInput.foreground",pa,R("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette."));P("quickInputTitle.background",{dark:new Y(new Ze(255,255,255,.105)),light:new Y(new Ze(0,0,0,.06)),hcDark:"#000000",hcLight:Y.white},R("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette."));P("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:Y.white,hcLight:"#0F4A85"},R("pickerGroupForeground","Quick picker color for grouping labels."));P("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:Y.white,hcLight:"#0F4A85"},R("pickerGroupBorder","Quick picker color for grouping borders."));const y0=P("quickInput.list.focusBackground",null,"",void 0,R("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"));P("quickInputList.focusForeground",fc,R("quickInput.listFocusForeground","Quick picker foreground color for the focused item."));P("quickInputList.focusIconForeground",nL,R("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item."));P("quickInputList.focusBackground",{dark:l0(y0,Dn),light:l0(y0,Dn),hcDark:null,hcLight:null},R("quickInput.listFocusBackground","Quick picker background color for the focused item."));P("search.resultsInfoForeground",{light:vt,dark:ye(vt,.65),hcDark:vt,hcLight:vt},R("search.resultsInfoForeground","Color of the text in the search viewlet's completion message."));P("searchEditor.findMatchBackground",{light:ye(ci,.66),dark:ye(ci,.66),hcDark:ci,hcLight:ci},R("searchEditor.queryMatch","Color of the Search Editor query matches."));P("searchEditor.findMatchBorder",{light:ye($o,.66),dark:ye($o,.66),hcDark:$o,hcLight:$o},R("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));P("editor.lineHighlightBackground",null,R("lineHighlight","Background color for the highlight of line at the cursor position."));P("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:Ie},R("lineHighlightBorderBox","Background color for the border around the line at the cursor position."));P("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},R("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0);P("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:Rt,hcLight:Rt},R("rangeHighlightBorder","Background color of the border around highlighted ranges."));P("editor.symbolHighlightBackground",{dark:ci,light:ci,hcDark:null,hcLight:null},R("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0);P("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:Rt,hcLight:Rt},R("symbolHighlightBorder","Background color of the border around highlighted symbols."));const V2=P("editorCursor.foreground",{dark:"#AEAFAD",light:Y.black,hcDark:Y.white,hcLight:"#0F4A85"},R("caret","Color of the editor cursor.")),j2=P("editorCursor.background",null,R("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor."));P("editorMultiCursor.primary.foreground",V2,R("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present."));P("editorMultiCursor.primary.background",j2,R("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor."));P("editorMultiCursor.secondary.foreground",V2,R("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present."));P("editorMultiCursor.secondary.background",j2,R("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor."));const z2=P("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},R("editorWhitespaces","Color of whitespace characters in the editor."));P("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:Y.white,hcLight:"#292929"},R("editorLineNumbers","Color of editor line numbers."));const iL=P("editorIndentGuide.background",z2,R("editorIndentGuides","Color of the editor indentation guides."),!1,R("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),oL=P("editorIndentGuide.activeBackground",z2,R("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,R("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead."));P("editorIndentGuide.background1",iL,R("editorIndentGuides1","Color of the editor indentation guides (1)."));P("editorIndentGuide.background2","#00000000",R("editorIndentGuides2","Color of the editor indentation guides (2)."));P("editorIndentGuide.background3","#00000000",R("editorIndentGuides3","Color of the editor indentation guides (3)."));P("editorIndentGuide.background4","#00000000",R("editorIndentGuides4","Color of the editor indentation guides (4)."));P("editorIndentGuide.background5","#00000000",R("editorIndentGuides5","Color of the editor indentation guides (5)."));P("editorIndentGuide.background6","#00000000",R("editorIndentGuides6","Color of the editor indentation guides (6)."));P("editorIndentGuide.activeBackground1",oL,R("editorActiveIndentGuide1","Color of the active editor indentation guides (1)."));P("editorIndentGuide.activeBackground2","#00000000",R("editorActiveIndentGuide2","Color of the active editor indentation guides (2)."));P("editorIndentGuide.activeBackground3","#00000000",R("editorActiveIndentGuide3","Color of the active editor indentation guides (3)."));P("editorIndentGuide.activeBackground4","#00000000",R("editorActiveIndentGuide4","Color of the active editor indentation guides (4)."));P("editorIndentGuide.activeBackground5","#00000000",R("editorActiveIndentGuide5","Color of the active editor indentation guides (5)."));P("editorIndentGuide.activeBackground6","#00000000",R("editorActiveIndentGuide6","Color of the active editor indentation guides (6)."));const sL=P("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:Rt,hcLight:Rt},R("editorActiveLineNumber","Color of editor active line number"),!1,R("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead."));P("editorLineNumber.activeForeground",sL,R("editorActiveLineNumber","Color of editor active line number"));P("editorLineNumber.dimmedForeground",null,R("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."));P("editorRuler.foreground",{dark:"#5A5A5A",light:Y.lightgrey,hcDark:Y.white,hcLight:"#292929"},R("editorRuler","Color of the editor rulers."));P("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},R("editorCodeLensForeground","Foreground color of editor CodeLens"));P("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},R("editorBracketMatchBackground","Background color behind matching brackets"));P("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:Ie,hcLight:Ie},R("editorBracketMatchBorder","Color for matching brackets boxes"));P("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},R("editorOverviewRulerBorder","Color of the overview ruler border."));P("editorOverviewRuler.background",null,R("editorOverviewRulerBackground","Background color of the editor overview ruler."));P("editorGutter.background",fn,R("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers."));P("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:Y.fromHex("#fff").transparent(.8),hcLight:Ie},R("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor."));P("editorUnnecessaryCode.opacity",{dark:Y.fromHex("#000a"),light:Y.fromHex("#0007"),hcDark:null,hcLight:null},R("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`));P("editorGhostText.border",{dark:null,light:null,hcDark:Y.fromHex("#fff").transparent(.8),hcLight:Y.fromHex("#292929").transparent(.8)},R("editorGhostTextBorder","Border color of ghost text in the editor."));P("editorGhostText.foreground",{dark:Y.fromHex("#ffffff56"),light:Y.fromHex("#0007"),hcDark:null,hcLight:null},R("editorGhostTextForeground","Foreground color of the ghost text in the editor."));P("editorGhostText.background",null,R("editorGhostTextBackground","Background color of the ghost text in the editor."));const aL=new Y(new Ze(0,122,204,.6));P("editorOverviewRuler.rangeHighlightForeground",aL,R("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0);P("editorOverviewRuler.errorForeground",{dark:new Y(new Ze(255,18,18,.7)),light:new Y(new Ze(255,18,18,.7)),hcDark:new Y(new Ze(255,50,50,1)),hcLight:"#B5200D"},R("overviewRuleError","Overview ruler marker color for errors."));P("editorOverviewRuler.warningForeground",{dark:En,light:En,hcDark:Pl,hcLight:Pl},R("overviewRuleWarning","Overview ruler marker color for warnings."));P("editorOverviewRuler.infoForeground",{dark:jr,light:jr,hcDark:$l,hcLight:$l},R("overviewRuleInfo","Overview ruler marker color for infos."));P("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},R("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization."));P("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},R("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization."));P("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},R("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization."));P("editorBracketHighlight.foreground4","#00000000",R("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization."));P("editorBracketHighlight.foreground5","#00000000",R("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization."));P("editorBracketHighlight.foreground6","#00000000",R("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization."));P("editorBracketHighlight.unexpectedBracket.foreground",{dark:new Y(new Ze(255,18,18,.8)),light:new Y(new Ze(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},R("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets."));P("editorBracketPairGuide.background1","#00000000",R("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides."));P("editorBracketPairGuide.background2","#00000000",R("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides."));P("editorBracketPairGuide.background3","#00000000",R("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides."));P("editorBracketPairGuide.background4","#00000000",R("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides."));P("editorBracketPairGuide.background5","#00000000",R("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides."));P("editorBracketPairGuide.background6","#00000000",R("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides."));P("editorBracketPairGuide.activeBackground1","#00000000",R("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides."));P("editorBracketPairGuide.activeBackground2","#00000000",R("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides."));P("editorBracketPairGuide.activeBackground3","#00000000",R("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides."));P("editorBracketPairGuide.activeBackground4","#00000000",R("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides."));P("editorBracketPairGuide.activeBackground5","#00000000",R("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides."));P("editorBracketPairGuide.activeBackground6","#00000000",R("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));P("editorUnicodeHighlight.border",En,R("editorUnicodeHighlight.border","Border color used to highlight unicode characters."));P("editorUnicodeHighlight.background",z8,R("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));var Ao=(t=>(t.DARK="dark",t.LIGHT="light",t.HIGH_CONTRAST_DARK="hcDark",t.HIGH_CONTRAST_LIGHT="hcLight",t))(Ao||{});const K2=P("tab.activeBackground",fn,R("tabActiveBackground","Active tab background color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.unfocusedActiveBackground",K2,R("tabUnfocusedActiveBackground","Active tab background color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const lL=P("tab.inactiveBackground",{dark:"#2D2D2D",light:"#ECECEC",hcDark:null,hcLight:null},R("tabInactiveBackground","Inactive tab background color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.unfocusedInactiveBackground",lL,R("tabUnfocusedInactiveBackground","Inactive tab background color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const Zi=P("tab.activeForeground",{dark:Y.white,light:"#333333",hcDark:Y.white,hcLight:"#292929"},R("tabActiveForeground","Active tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),w0=P("tab.inactiveForeground",{dark:ye(Zi,.5),light:ye(Zi,.7),hcDark:Y.white,hcLight:"#292929"},R("tabInactiveForeground","Inactive tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.unfocusedActiveForeground",{dark:ye(Zi,.5),light:ye(Zi,.7),hcDark:Y.white,hcLight:"#292929"},R("tabUnfocusedActiveForeground","Active tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.unfocusedInactiveForeground",{dark:ye(w0,.5),light:ye(w0,.5),hcDark:Y.white,hcLight:"#292929"},R("tabUnfocusedInactiveForeground","Inactive tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const k0=P("tab.hoverBackground",null,R("tabHoverBackground","Tab background color when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.unfocusedHoverBackground",{dark:ye(k0,.5),light:ye(k0,.7),hcDark:null,hcLight:null},R("tabUnfocusedHoverBackground","Tab background color in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const S0=P("tab.hoverForeground",null,R("tabHoverForeground","Tab foreground color when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.unfocusedHoverForeground",{dark:ye(S0,.5),light:ye(S0,.5),hcDark:null,hcLight:null},R("tabUnfocusedHoverForeground","Tab foreground color in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.border",{dark:"#252526",light:"#F3F3F3",hcDark:Ie,hcLight:Ie},R("tabBorder","Border to separate tabs from each other. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.lastPinnedBorder",{dark:Um,light:Um,hcDark:Ie,hcLight:Ie},R("lastPinnedTabBorder","Border to separate pinned tabs from other tabs. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const x0=P("tab.activeBorder",null,R("tabActiveBorder","Border on the bottom of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.unfocusedActiveBorder",{dark:ye(x0,.5),light:ye(x0,.7),hcDark:null,hcLight:null},R("tabActiveUnfocusedBorder","Border on the bottom of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const Wm=P("tab.activeBorderTop",{dark:null,light:null,hcDark:null,hcLight:"#B5200D"},R("tabActiveBorderTop","Border to the top of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.unfocusedActiveBorderTop",{dark:ye(Wm,.5),light:ye(Wm,.7),hcDark:null,hcLight:"#B5200D"},R("tabActiveUnfocusedBorderTop","Border to the top of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.selectedBorderTop",Wm,R("tabSelectedBorderTop","Border to the top of a selected tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.selectedBackground",K2,R("tabSelectedBackground","Background of a selected tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.selectedForeground",Zi,R("tabSelectedForeground","Foreground of a selected tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const T0=P("tab.hoverBorder",null,R("tabHoverBorder","Border to highlight tabs when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.unfocusedHoverBorder",{dark:ye(T0,.5),light:ye(T0,.7),hcDark:null,hcLight:Ie},R("tabUnfocusedHoverBorder","Border to highlight tabs in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.dragAndDropBorder",{dark:Zi,light:Zi,hcDark:Rt,hcLight:Rt},R("tabDragAndDropBorder","Border between tabs to indicate that a tab can be inserted between two tabs. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const Ml=P("tab.activeModifiedBorder",{dark:"#3399CC",light:"#33AAEE",hcDark:null,hcLight:Ie},R("tabActiveModifiedBorder","Border on the top of modified active tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),E0=P("tab.inactiveModifiedBorder",{dark:ye(Ml,.5),light:ye(Ml,.5),hcDark:Y.white,hcLight:Ie},R("tabInactiveModifiedBorder","Border on the top of modified inactive tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.unfocusedActiveModifiedBorder",{dark:ye(Ml,.5),light:ye(Ml,.7),hcDark:Y.white,hcLight:Ie},R("unfocusedActiveModifiedBorder","Border on the top of modified active tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("tab.unfocusedInactiveModifiedBorder",{dark:ye(E0,.5),light:ye(E0,.5),hcDark:Y.white,hcLight:Ie},R("unfocusedINactiveModifiedBorder","Border on the top of modified inactive tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));P("editorPane.background",fn,R("editorPaneBackground","Background color of the editor pane visible on the left and right side of the centered editor layout."));P("editorGroup.emptyBackground",null,R("editorGroupEmptyBackground","Background color of an empty editor group. Editor groups are the containers of editors."));P("editorGroup.focusedEmptyBorder",{dark:null,light:null,hcDark:hn,hcLight:hn},R("editorGroupFocusedEmptyBorder","Border color of an empty editor group that is focused. Editor groups are the containers of editors."));P("editorGroupHeader.tabsBackground",{dark:"#252526",light:"#F3F3F3",hcDark:null,hcLight:null},R("tabsContainerBackground","Background color of the editor group title header when tabs are enabled. Editor groups are the containers of editors."));P("editorGroupHeader.tabsBorder",null,R("tabsContainerBorder","Border color of the editor group title header when tabs are enabled. Editor groups are the containers of editors."));P("editorGroupHeader.noTabsBackground",fn,R("editorGroupHeaderBackground",'Background color of the editor group title header when (`"workbench.editor.showTabs": "single"`). Editor groups are the containers of editors.'));P("editorGroupHeader.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("editorTitleContainerBorder","Border color of the editor group title header. Editor groups are the containers of editors."));const X2=P("editorGroup.border",{dark:"#444444",light:"#E7E7E7",hcDark:Ie,hcLight:Ie},R("editorGroupBorder","Color to separate multiple editor groups from each other. Editor groups are the containers of editors.")),Y2=P("editorGroup.dropBackground",{dark:Y.fromHex("#53595D").transparent(.5),light:Y.fromHex("#2677CB").transparent(.18),hcDark:null,hcLight:Y.fromHex("#0F4A85").transparent(.5)},R("editorDragAndDropBackground","Background color when dragging editors around. The color should have transparency so that the editor contents can still shine through."));P("editorGroup.dropIntoPromptForeground",pa,R("editorDropIntoPromptForeground","Foreground color of text shown over editors when dragging files. This text informs the user that they can hold shift to drop into the editor."));P("editorGroup.dropIntoPromptBackground",Pr,R("editorDropIntoPromptBackground","Background color of text shown over editors when dragging files. This text informs the user that they can hold shift to drop into the editor."));P("editorGroup.dropIntoPromptBorder",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("editorDropIntoPromptBorder","Border color of text shown over editors when dragging files. This text informs the user that they can hold shift to drop into the editor."));P("sideBySideEditor.horizontalBorder",X2,R("sideBySideEditor.horizontalBorder","Color to separate two editors from each other when shown side by side in an editor group from top to bottom."));P("sideBySideEditor.verticalBorder",X2,R("sideBySideEditor.verticalBorder","Color to separate two editors from each other when shown side by side in an editor group from left to right."));const cL=P("panel.background",fn,R("panelBackground","Panel background color. Panels are shown below the editor area and contain views like output and integrated terminal.")),dL=P("panel.border",{dark:Y.fromHex("#808080").transparent(.35),light:Y.fromHex("#808080").transparent(.35),hcDark:Ie,hcLight:Ie},R("panelBorder","Panel border color to separate the panel from the editor. Panels are shown below the editor area and contain views like output and integrated terminal.")),na=P("panelTitle.activeForeground",{dark:"#E7E7E7",light:"#424242",hcDark:Y.white,hcLight:Tn},R("panelActiveTitleForeground","Title color for the active panel. Panels are shown below the editor area and contain views like output and integrated terminal."));P("panelTitle.inactiveForeground",{dark:ye(na,.6),light:ye(na,.75),hcDark:Y.white,hcLight:Tn},R("panelInactiveTitleForeground","Title color for the inactive panel. Panels are shown below the editor area and contain views like output and integrated terminal."));P("panelTitle.activeBorder",{dark:na,light:na,hcDark:Ie,hcLight:"#B5200D"},R("panelActiveTitleBorder","Border color for the active panel title. Panels are shown below the editor area and contain views like output and integrated terminal."));P("panelInput.border",{dark:zd,light:Y.fromHex("#ddd"),hcDark:zd,hcLight:zd},R("panelInputBorder","Input box border for inputs in the panel."));P("panel.dropBorder",na,R("panelDragAndDropBorder","Drag and drop feedback color for the panel titles. Panels are shown below the editor area and contain views like output and integrated terminal."));P("panelSection.dropBackground",Y2,R("panelSectionDragAndDropBackground","Drag and drop feedback color for the panel sections. The color should have transparency so that the panel sections can still shine through. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels."));P("panelSectionHeader.background",{dark:Y.fromHex("#808080").transparent(.2),light:Y.fromHex("#808080").transparent(.2),hcDark:null,hcLight:null},R("panelSectionHeaderBackground","Panel section header background color. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels."));P("panelSectionHeader.foreground",null,R("panelSectionHeaderForeground","Panel section header foreground color. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels."));P("panelSectionHeader.border",Ie,R("panelSectionHeaderBorder","Panel section header border color used when multiple views are stacked vertically in the panel. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels."));P("panelSection.border",dL,R("panelSectionBorder","Panel section border color used when multiple views are stacked horizontally in the panel. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels."));P("panelStickyScroll.background",cL,R("panelStickyScrollBackground","Background color of sticky scroll in the panel."));P("panelStickyScroll.border",null,R("panelStickyScrollBorder","Border color of sticky scroll in the panel."));P("panelStickyScroll.shadow",Ov,R("panelStickyScrollShadow","Shadow color of sticky scroll in the panel."));const uL=P("outputView.background",null,R("outputViewBackground","Output view background color."));P("outputViewStickyScroll.background",uL,R("outputViewStickyScrollBackground","Output view sticky scroll background color."));P("banner.background",{dark:Dn,light:Dr(Dn,.3),hcDark:Dn,hcLight:Dn},R("banner.background","Banner background color. The banner is shown under the title bar of the window."));P("banner.foreground",fc,R("banner.foreground","Banner foreground color. The banner is shown under the title bar of the window."));P("banner.iconForeground",jr,R("banner.iconForeground","Banner icon color. The banner is shown under the title bar of the window."));const gi=P("statusBar.foreground",{dark:"#FFFFFF",light:"#FFFFFF",hcDark:"#FFFFFF",hcLight:Tn},R("statusBarForeground","Status bar foreground color when a workspace or folder is opened. The status bar is shown in the bottom of the window."));P("statusBar.noFolderForeground",gi,R("statusBarNoFolderForeground","Status bar foreground color when no folder is opened. The status bar is shown in the bottom of the window."));P("statusBar.background",{dark:"#007ACC",light:"#007ACC",hcDark:null,hcLight:null},R("statusBarBackground","Status bar background color when a workspace or folder is opened. The status bar is shown in the bottom of the window."));P("statusBar.noFolderBackground",{dark:"#68217A",light:"#68217A",hcDark:null,hcLight:null},R("statusBarNoFolderBackground","Status bar background color when no folder is opened. The status bar is shown in the bottom of the window."));const hL=P("statusBar.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("statusBarBorder","Status bar border color separating to the sidebar and editor. The status bar is shown in the bottom of the window."));P("statusBar.focusBorder",{dark:gi,light:gi,hcDark:null,hcLight:gi},R("statusBarFocusBorder","Status bar border color when focused on keyboard navigation. The status bar is shown in the bottom of the window."));P("statusBar.noFolderBorder",hL,R("statusBarNoFolderBorder","Status bar border color separating to the sidebar and editor when no folder is opened. The status bar is shown in the bottom of the window."));P("statusBarItem.activeBackground",{dark:Y.white.transparent(.18),light:Y.white.transparent(.18),hcDark:Y.white.transparent(.18),hcLight:Y.black.transparent(.18)},R("statusBarItemActiveBackground","Status bar item background color when clicking. The status bar is shown in the bottom of the window."));P("statusBarItem.focusBorder",{dark:gi,light:gi,hcDark:null,hcLight:Rt},R("statusBarItemFocusBorder","Status bar item border color when focused on keyboard navigation. The status bar is shown in the bottom of the window."));const pi=P("statusBarItem.hoverBackground",{dark:Y.white.transparent(.12),light:Y.white.transparent(.12),hcDark:Y.white.transparent(.12),hcLight:Y.black.transparent(.12)},R("statusBarItemHoverBackground","Status bar item background color when hovering. The status bar is shown in the bottom of the window.")),ma=P("statusBarItem.hoverForeground",gi,R("statusBarItemHoverForeground","Status bar item foreground color when hovering. The status bar is shown in the bottom of the window."));P("statusBarItem.compactHoverBackground",{dark:Y.white.transparent(.2),light:Y.white.transparent(.2),hcDark:Y.white.transparent(.2),hcLight:Y.black.transparent(.2)},R("statusBarItemCompactHoverBackground","Status bar item background color when hovering an item that contains two hovers. The status bar is shown in the bottom of the window."));P("statusBarItem.prominentForeground",gi,R("statusBarProminentItemForeground","Status bar prominent items foreground color. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window."));P("statusBarItem.prominentBackground",Y.black.transparent(.5),R("statusBarProminentItemBackground","Status bar prominent items background color. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window."));P("statusBarItem.prominentHoverForeground",ma,R("statusBarProminentItemHoverForeground","Status bar prominent items foreground color when hovering. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window."));P("statusBarItem.prominentHoverBackground",{dark:Y.black.transparent(.3),light:Y.black.transparent(.3),hcDark:Y.black.transparent(.3),hcLight:null},R("statusBarProminentItemHoverBackground","Status bar prominent items background color when hovering. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window."));P("statusBarItem.errorBackground",{dark:Dr(d0,.4),light:Dr(d0,.4),hcDark:null,hcLight:"#B5200D"},R("statusBarErrorItemBackground","Status bar error items background color. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window."));P("statusBarItem.errorForeground",Y.white,R("statusBarErrorItemForeground","Status bar error items foreground color. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window."));P("statusBarItem.errorHoverForeground",ma,R("statusBarErrorItemHoverForeground","Status bar error items foreground color when hovering. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window."));P("statusBarItem.errorHoverBackground",pi,R("statusBarErrorItemHoverBackground","Status bar error items background color when hovering. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window."));P("statusBarItem.warningBackground",{dark:Dr(En,.4),light:Dr(En,.4),hcDark:null,hcLight:"#895503"},R("statusBarWarningItemBackground","Status bar warning items background color. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window."));P("statusBarItem.warningForeground",Y.white,R("statusBarWarningItemForeground","Status bar warning items foreground color. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window."));P("statusBarItem.warningHoverForeground",ma,R("statusBarWarningItemHoverForeground","Status bar warning items foreground color when hovering. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window."));P("statusBarItem.warningHoverBackground",pi,R("statusBarWarningItemHoverBackground","Status bar warning items background color when hovering. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window."));P("activityBar.background",{dark:"#333333",light:"#2C2C2C",hcDark:"#000000",hcLight:"#FFFFFF"},R("activityBarBackground","Activity bar background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar."));const Qo=P("activityBar.foreground",{dark:Y.white,light:Y.white,hcDark:Y.white,hcLight:Tn},R("activityBarForeground","Activity bar item foreground color when it is active. The activity bar is showing on the far left or right and allows to switch between views of the side bar."));P("activityBar.inactiveForeground",{dark:ye(Qo,.4),light:ye(Qo,.4),hcDark:Y.white,hcLight:Tn},R("activityBarInActiveForeground","Activity bar item foreground color when it is inactive. The activity bar is showing on the far left or right and allows to switch between views of the side bar."));P("activityBar.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("activityBarBorder","Activity bar border color separating to the side bar. The activity bar is showing on the far left or right and allows to switch between views of the side bar."));P("activityBar.activeBorder",{dark:Qo,light:Qo,hcDark:Ie,hcLight:Ie},R("activityBarActiveBorder","Activity bar border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar."));P("activityBar.activeFocusBorder",{dark:null,light:null,hcDark:null,hcLight:"#B5200D"},R("activityBarActiveFocusBorder","Activity bar focus border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar."));P("activityBar.activeBackground",null,R("activityBarActiveBackground","Activity bar background color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar."));P("activityBar.dropBorder",{dark:Qo,light:Qo,hcDark:null,hcLight:null},R("activityBarDragAndDropBorder","Drag and drop feedback color for the activity bar items. The activity bar is showing on the far left or right and allows to switch between views of the side bar."));const J2=P("activityBarBadge.background",{dark:"#007ACC",light:"#007ACC",hcDark:"#000000",hcLight:"#0F4A85"},R("activityBarBadgeBackground","Activity notification badge background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),Z2=P("activityBarBadge.foreground",Y.white,R("activityBarBadgeForeground","Activity notification badge foreground color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),ia=P("activityBarTop.foreground",{dark:"#E7E7E7",light:"#424242",hcDark:Y.white,hcLight:Tn},R("activityBarTop","Active foreground color of the item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar."));P("activityBarTop.activeBorder",{dark:ia,light:ia,hcDark:Ie,hcLight:"#B5200D"},R("activityBarTopActiveFocusBorder","Focus border color for the active item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar."));P("activityBarTop.activeBackground",null,R("activityBarTopActiveBackground","Background color for the active item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar."));P("activityBarTop.inactiveForeground",{dark:ye(ia,.6),light:ye(ia,.75),hcDark:Y.white,hcLight:Tn},R("activityBarTopInActiveForeground","Inactive foreground color of the item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar."));P("activityBarTop.dropBorder",ia,R("activityBarTopDragAndDropBorder","Drag and drop feedback color for the items in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar."));P("activityBarTop.background",null,R("activityBarTopBackground","Background color of the activity bar when set to top / bottom."));P("profileBadge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:Y.white,hcLight:Y.black},R("profileBadgeBackground","Profile badge background color. The profile badge shows on top of the settings gear icon in the activity bar."));P("profileBadge.foreground",{dark:Y.white,light:"#333333",hcDark:Y.black,hcLight:Y.white},R("profileBadgeForeground","Profile badge foreground color. The profile badge shows on top of the settings gear icon in the activity bar."));P("statusBarItem.remoteBackground",J2,R("statusBarItemHostBackground","Background color for the remote indicator on the status bar."));const fL=P("statusBarItem.remoteForeground",Z2,R("statusBarItemHostForeground","Foreground color for the remote indicator on the status bar."));P("statusBarItem.remoteHoverForeground",ma,R("statusBarRemoteItemHoverForeground","Foreground color for the remote indicator on the status bar when hovering."));P("statusBarItem.remoteHoverBackground",{dark:pi,light:pi,hcDark:pi,hcLight:null},R("statusBarRemoteItemHoverBackground","Background color for the remote indicator on the status bar when hovering."));P("statusBarItem.offlineBackground","#6c1717",R("statusBarItemOfflineBackground","Status bar item background color when the workbench is offline."));P("statusBarItem.offlineForeground",fL,R("statusBarItemOfflineForeground","Status bar item foreground color when the workbench is offline."));P("statusBarItem.offlineHoverForeground",ma,R("statusBarOfflineItemHoverForeground","Status bar item foreground hover color when the workbench is offline."));P("statusBarItem.offlineHoverBackground",{dark:pi,light:pi,hcDark:pi,hcLight:null},R("statusBarOfflineItemHoverBackground","Status bar item background hover color when the workbench is offline."));P("extensionBadge.remoteBackground",J2,R("extensionBadge.remoteBackground","Background color for the remote badge in the extensions view."));P("extensionBadge.remoteForeground",Z2,R("extensionBadge.remoteForeground","Foreground color for the remote badge in the extensions view."));const Q2=P("sideBar.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#000000",hcLight:"#FFFFFF"},R("sideBarBackground","Side bar background color. The side bar is the container for views like explorer and search.")),e5=P("sideBar.foreground",null,R("sideBarForeground","Side bar foreground color. The side bar is the container for views like explorer and search."));P("sideBar.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("sideBarBorder","Side bar border color on the side separating to the editor. The side bar is the container for views like explorer and search."));P("sideBarTitle.background",Q2,R("sideBarTitleBackground","Side bar title background color. The side bar is the container for views like explorer and search."));P("sideBarTitle.foreground",e5,R("sideBarTitleForeground","Side bar title foreground color. The side bar is the container for views like explorer and search."));P("sideBar.dropBackground",Y2,R("sideBarDragAndDropBackground","Drag and drop feedback color for the side bar sections. The color should have transparency so that the side bar sections can still shine through. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar."));P("sideBarSectionHeader.background",{dark:Y.fromHex("#808080").transparent(.2),light:Y.fromHex("#808080").transparent(.2),hcDark:null,hcLight:null},R("sideBarSectionHeaderBackground","Side bar section header background color. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar."));P("sideBarSectionHeader.foreground",e5,R("sideBarSectionHeaderForeground","Side bar section header foreground color. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar."));const gL=P("sideBarSectionHeader.border",Ie,R("sideBarSectionHeaderBorder","Side bar section header border color. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar."));P("sideBarActivityBarTop.border",gL,R("sideBarActivityBarTopBorder","Border color between the activity bar at the top/bottom and the views."));P("sideBarStickyScroll.background",Q2,R("sideBarStickyScrollBackground","Background color of sticky scroll in the side bar."));P("sideBarStickyScroll.border",null,R("sideBarStickyScrollBorder","Border color of sticky scroll in the side bar."));P("sideBarStickyScroll.shadow",Ov,R("sideBarStickyScrollShadow","Shadow color of sticky scroll in the side bar."));const yn=P("titleBar.activeForeground",{dark:"#CCCCCC",light:"#333333",hcDark:"#FFFFFF",hcLight:"#292929"},R("titleBarActiveForeground","Title bar foreground when the window is active.")),t5=P("titleBar.inactiveForeground",{dark:ye(yn,.6),light:ye(yn,.6),hcDark:null,hcLight:"#292929"},R("titleBarInactiveForeground","Title bar foreground when the window is inactive.")),C0=P("titleBar.activeBackground",{dark:"#3C3C3C",light:"#DDDDDD",hcDark:"#000000",hcLight:"#FFFFFF"},R("titleBarActiveBackground","Title bar background when the window is active."));P("titleBar.inactiveBackground",{dark:ye(C0,.6),light:ye(C0,.6),hcDark:null,hcLight:null},R("titleBarInactiveBackground","Title bar background when the window is inactive."));P("titleBar.border",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("titleBarBorder","Title bar border color."));const pL=P("menubar.selectionForeground",yn,R("menubarSelectionForeground","Foreground color of the selected menu item in the menubar.")),L0=P("menubar.selectionBackground",{dark:Bl,light:Bl,hcDark:null,hcLight:null},R("menubarSelectionBackground","Background color of the selected menu item in the menubar."));P("menubar.selectionBorder",{dark:null,light:null,hcDark:Rt,hcLight:Rt},R("menubarSelectionBorder","Border color of the selected menu item in the menubar."));P("commandCenter.foreground",yn,R("commandCenter-foreground","Foreground color of the command center"),!1);P("commandCenter.activeForeground",pL,R("commandCenter-activeForeground","Active foreground color of the command center"),!1);P("commandCenter.inactiveForeground",t5,R("commandCenter-inactiveForeground","Foreground color of the command center when the window is inactive"),!1);P("commandCenter.background",{dark:Y.white.transparent(.05),hcDark:null,light:Y.black.transparent(.05),hcLight:null},R("commandCenter-background","Background color of the command center"),!1);P("commandCenter.activeBackground",{dark:Y.white.transparent(.08),hcDark:L0,light:Y.black.transparent(.08),hcLight:L0},R("commandCenter-activeBackground","Active background color of the command center"),!1);P("commandCenter.border",{dark:ye(yn,.2),hcDark:Ie,light:ye(yn,.2),hcLight:Ie},R("commandCenter-border","Border color of the command center"),!1);P("commandCenter.activeBorder",{dark:ye(yn,.3),hcDark:yn,light:ye(yn,.3),hcLight:yn},R("commandCenter-activeBorder","Active border color of the command center"),!1);P("commandCenter.inactiveBorder",ye(t5,.25),R("commandCenter-inactiveBorder","Border color of the command center when the window is inactive"),!1);P("notificationCenter.border",{dark:Ol,light:Ol,hcDark:Ie,hcLight:Ie},R("notificationCenterBorder","Notifications center border color. Notifications slide in from the bottom right of the window."));P("notificationToast.border",{dark:Ol,light:Ol,hcDark:Ie,hcLight:Ie},R("notificationToastBorder","Notification toast border color. Notifications slide in from the bottom right of the window."));P("notifications.foreground",pa,R("notificationsForeground","Notifications foreground color. Notifications slide in from the bottom right of the window."));const Wa=P("notifications.background",Pr,R("notificationsBackground","Notifications background color. Notifications slide in from the bottom right of the window."));P("notificationLink.foreground",U8,R("notificationsLink","Notification links foreground color. Notifications slide in from the bottom right of the window."));P("notificationCenterHeader.foreground",null,R("notificationCenterHeaderForeground","Notifications center header foreground color. Notifications slide in from the bottom right of the window."));const mL=P("notificationCenterHeader.background",{dark:Gr(Wa,.3),light:Dr(Wa,.05),hcDark:Wa,hcLight:Wa},R("notificationCenterHeaderBackground","Notifications center header background color. Notifications slide in from the bottom right of the window."));P("notifications.border",mL,R("notificationsBorder","Notifications border color separating from other notifications in the notifications center. Notifications slide in from the bottom right of the window."));P("notificationsErrorIcon.foreground",qn,R("notificationsErrorIconForeground","The color used for the icon of error notifications. Notifications slide in from the bottom right of the window."));P("notificationsWarningIcon.foreground",En,R("notificationsWarningIconForeground","The color used for the icon of warning notifications. Notifications slide in from the bottom right of the window."));P("notificationsInfoIcon.foreground",jr,R("notificationsInfoIconForeground","The color used for the icon of info notifications. Notifications slide in from the bottom right of the window."));P("window.activeBorder",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("windowActiveBorder","The color used for the border of the window when it is active. Only supported in the macOS and Linux desktop client when using the custom title bar."));P("window.inactiveBorder",{dark:null,light:null,hcDark:Ie,hcLight:Ie},R("windowInactiveBorder","The color used for the border of the window when it is inactive. Only supported in the macOS and Linux desktop client when using the custom title bar."));const vL=P("testing.iconFailed",{dark:"#f14c4c",light:"#f14c4c",hcDark:"#f14c4c",hcLight:"#B5200D"},R("testing.iconFailed","Color for the 'failed' icon in the test explorer.")),bL=P("testing.iconErrored",{dark:"#f14c4c",light:"#f14c4c",hcDark:"#f14c4c",hcLight:"#B5200D"},R("testing.iconErrored","Color for the 'Errored' icon in the test explorer.")),r5=P("testing.iconPassed",{dark:"#73c991",light:"#73c991",hcDark:"#73c991",hcLight:"#007100"},R("testing.iconPassed","Color for the 'passed' icon in the test explorer."));P("testing.runAction",r5,R("testing.runAction","Color for 'run' icons in the editor."));const _L=P("testing.iconQueued","#cca700",R("testing.iconQueued","Color for the 'Queued' icon in the test explorer.")),yL=P("testing.iconUnset","#848484",R("testing.iconUnset","Color for the 'Unset' icon in the test explorer.")),wL=P("testing.iconSkipped","#848484",R("testing.iconSkipped","Color for the 'Skipped' icon in the test explorer."));P("testing.peekBorder",{dark:qn,light:qn,hcDark:Ie,hcLight:Ie},R("testing.peekBorder","Color of the peek view borders and arrow."));P("testing.messagePeekBorder",{dark:jr,light:jr,hcDark:Ie,hcLight:Ie},R("testing.messagePeekBorder","Color of the peek view borders and arrow when peeking a logged message."));P("testing.peekHeaderBackground",{dark:ye(qn,.1),light:ye(qn,.1),hcDark:null,hcLight:null},R("testing.peekBorder","Color of the peek view borders and arrow."));P("testing.messagePeekHeaderBackground",{dark:ye(jr,.1),light:ye(jr,.1),hcDark:null,hcLight:null},R("testing.messagePeekHeaderBackground","Color of the peek view borders and arrow when peeking a logged message."));const I0=P("testing.coveredBackground",{dark:Dl,light:Dl,hcDark:null,hcLight:null},R("testing.coveredBackground","Background color of text that was covered."));P("testing.coveredBorder",{dark:ye(I0,.75),light:ye(I0,.75),hcDark:Ie,hcLight:Ie},R("testing.coveredBorder","Border color of text that was covered."));P("testing.coveredGutterBackground",{dark:ye(Dl,.6),light:ye(Dl,.6),hcDark:b0,hcLight:b0},R("testing.coveredGutterBackground","Gutter color of regions where code was covered."));P("testing.uncoveredBranchBackground",{dark:a0(ye(Yo,2),fn),light:a0(ye(Yo,2),fn),hcDark:null,hcLight:null},R("testing.uncoveredBranchBackground","Background of the widget shown for an uncovered branch."));const A0=P("testing.uncoveredBackground",{dark:Yo,light:Yo,hcDark:null,hcLight:null},R("testing.uncoveredBackground","Background color of text that was not covered."));P("testing.uncoveredBorder",{dark:ye(A0,.75),light:ye(A0,.75),hcDark:Ie,hcLight:Ie},R("testing.uncoveredBorder","Border color of text that was not covered."));P("testing.uncoveredGutterBackground",{dark:ye(Yo,1.5),light:ye(Yo,1.5),hcDark:v0,hcLight:v0},R("testing.uncoveredGutterBackground","Gutter color of regions where code not covered."));P("testing.coverCountBadgeBackground",fl,R("testing.coverCountBadgeBackground","Background for the badge indicating execution count"));P("testing.coverCountBadgeForeground",W8,R("testing.coverCountBadgeForeground","Foreground for the badge indicating execution count"));P("testing.message.error.decorationForeground",{dark:qn,light:qn,hcDark:Tn,hcLight:Tn},R("testing.message.error.decorationForeground","Text color of test error messages shown inline in the editor."));P("testing.message.error.lineBackground",{dark:new Y(new Ze(255,0,0,.1)),light:new Y(new Ze(255,0,0,.1)),hcDark:null,hcLight:null},R("testing.message.error.marginBackground","Margin color beside error messages shown inline in the editor."));P("testing.message.info.decorationForeground",ye(Tn,.5),R("testing.message.info.decorationForeground","Text color of test info messages shown inline in the editor."));P("testing.message.info.lineBackground",null,R("testing.message.info.marginBackground","Margin color beside info messages shown inline in the editor."));P("testing.iconErrored.retired",ye(bL,.7),R("testing.iconErrored.retired","Retired color for the 'Errored' icon in the test explorer."));P("testing.iconFailed.retired",ye(vL,.7),R("testing.iconFailed.retired","Retired color for the 'failed' icon in the test explorer."));P("testing.iconPassed.retired",ye(r5,.7),R("testing.iconPassed.retired","Retired color for the 'passed' icon in the test explorer."));P("testing.iconQueued.retired",ye(_L,.7),R("testing.iconQueued.retired","Retired color for the 'Queued' icon in the test explorer."));P("testing.iconUnset.retired",ye(yL,.7),R("testing.iconUnset.retired","Retired color for the 'Unset' icon in the test explorer."));P("testing.iconSkipped.retired",ye(wL,.7),R("testing.iconSkipped.retired","Retired color for the 'Skipped' icon in the test explorer."));P("editor.stackFrameHighlightBackground",{dark:"#ffff0033",light:"#ffff6673",hcDark:"#ffff0033",hcLight:"#ffff6673"},R("topStackFrameLineHighlight","Background color for the highlight of line at the top stack frame position."));P("editor.focusedStackFrameHighlightBackground",{dark:"#7abd7a4d",light:"#cee7ce73",hcDark:"#7abd7a4d",hcLight:"#cee7ce73"},R("focusedStackFrameLineHighlight","Background color for the highlight of line at focused stack frame position."));const kL=P("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},R("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);P("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},R("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0);P("editor.wordHighlightTextBackground",kL,R("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const SL=P("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Rt,hcLight:Rt},R("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));P("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Rt,hcLight:Rt},R("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable."));P("editor.wordHighlightTextBorder",SL,R("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));P("editorOverviewRuler.wordHighlightForeground","#A0A0A0CC",R("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0);P("editorOverviewRuler.wordHighlightStrongForeground","#C0A0C0CC",R("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0);P("editorOverviewRuler.wordHighlightTextForeground",Y8,R("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);let F0=new Set,Kd;async function xL(){try{const t=acquireVsCodeApi();return t.postMessage({type:"firstPing"}),setTimeout(()=>{t.postMessage({type:"secondPing"})},1),new Promise(e=>{const r=n=>{n?.data?.type==="allowedToStart"&&(window.removeEventListener("message",r),e())};window.addEventListener("message",r)})}catch(t){console.error(t)}}async function oa(t,e){if(t){const r=document.querySelector(":root"),n=r.style,i=t.settings,o=t.theme;let s,a=o?.code,l=o?.ui;const c=t.theme?.type||"dark",d=i?.["custom.kind"]==="remote";if(e&&(CL(r.classList,c),d&&(s=await s0(o?.name,o?.type),s&&(l=s.ui)),l)){const u=new Set,f=new TL(EL(c),l);Dv.getColors().forEach(h=>{const g=f.getColor(h.id);if(g){const p=LL(h.id);u.add(p),n.setProperty(p,g.toString())}});for(const h of[...F0].filter(g=>!u.has(g)))n.removeProperty(h);F0=u}if(d&&(s=e?s:await s0(o?.name),s&&(a=s.code)),a){const u={class:a["support.class"]||a["support.type"]||{},new:a["keyword.operator.new"]||{},operator:a["keyword.operator"]||{},string:a.string||{},number:a["constant.numeric"]||a.constant||{},boolean:a["constant.language"]||a.constant||{},undefined:a["constant.language"]||a.constant||{},null:a["constant.language"]||a.constant||{},regexp:a["string.regexp"]||a.string||{},function:a["entity.name.function"]||{},property:a["entity.name.variable"]||a["entity.name.label"]||a["variable.other.property"]||a["variable.other"]||a.variable||{},type:a["entity.name.type.ts"]||a["entity.name.type.interface.ts"]||a["entity.other.inherited-class.ts"]||a["entity.name.type.alias.ts"]||a["entity.name.type.class.ts"]||a["entity.name.type.enum.ts"]||a["support.type"]||a["support.class"]||a.support||{},inserted:a["markup.inserted"]||{},deleted:a["markup.deleted"]||{},punctuation:a.punctuation||{},comment:a.comment||{}};for(const f in u){const h=u[f],g=h?.style||"";n.setProperty(`--token-scope-${f}-foreground`,h?.foreground||"var(--foreground)"),n.setProperty(`--token-scope-${f}-font-style`,g.includes("italic")?"italic":""),n.setProperty(`--token-scope-${f}-font-weight`,g.includes("bold")?"bold":"normal"),n.setProperty(`--token-${f}-text-decoration`,(g.includes("underline")?"underline":" ")+(g.includes("strikethrough")?"line-through":""))}}if(i){for(const u in i)if(i){if(u==="editor.scrollbar.verticalScrollbarSize"&&i[u]&&n.setProperty("--vscode-editor-scrollbar-verticalScrollbarSize",i[u]||null),u==="editor.scrollbar.horizontalScrollbarSize"&&i[u]&&n.setProperty("--vscode-editor-scrollbar-horizontalScrollbarSize",i[u]||null),u==="workbench.sash.size"&&i[u]&&n.setProperty("--vscode-sash-size",i[u]?`${i[u]}px`:null),u==="editor.fontLigatures"&&i[u]&&n.setProperty("--vscode-editor-fontLigatures",i[u]||null),u==="editor.cursorStyle"&&i[u]&&n.setProperty("--vscode-editor-cursorStyle",i[u]||null),u==="editor.cursorBlinking"&&i[u]&&n.setProperty("--vscode-editor-cursorBlinking",i[u]||null),u==="editor.cursorSmoothCaretAnimation"&&i[u]&&n.setProperty("--vscode-editor-cursorSmoothCaretAnimation",i[u]||null),u==="wallaby.fontSize"&&i[u]){const f=parseInt(i[u],10);f>0&&n.setProperty("--panel-font-size",`${f}px`)}e&&(u==="window.fontFamily"&&i[u]!==void 0&&n.setProperty("--vscode-font-family",i[u]||null),u==="editor.fontFamily"&&i[u]!==void 0&&n.setProperty("--vscode-editor-font-family",i[u]||null),u==="editor.fontSize"&&i[u]&&n.setProperty("--vscode-editor-font-size",i[u]?`${i[u]}px`:null),u==="editor.fontWeight"&&i[u]&&n.setProperty("--vscode-editor-font-weight",i[u]||null),n.setProperty("--panel-scrollbar-width","0.5rem"),n.setProperty("--panel-scrollbar-height","0.5rem"))}}await qr(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),a&&(Kd||(Kd=(await qr(()=>Promise.resolve().then(()=>Tc),void 0,import.meta.url)).customize),await Kd(a)),M2(o?.type||s?.type||"dark")}}class TL{constructor(e,r){this.type=e,this._colors=new Map;for(const n in r)if(r[n])try{const i=r[n];i instanceof Array?this._colors.set(n,Y.fromHex(i[0])):this._colors.set(n,Y.fromHex(i))}catch(i){console.error(n,r[n]),console.error(i,n,r[n])}this._defaultColors=Object.create(null)}_colors;_defaultColors;_getDefault(e){let r=this._defaultColors[e];return r||(r=Dv.resolveDefaultColor(e,this),this._defaultColors[e]=r,r)}getColor(e,r){const n=this._colors.get(e);if(n)return n;if(r!==!1)return this._getDefault(e)}defines(e){return this._colors.has(e)}}function EL(t){switch(t){case"light":return Ao.LIGHT;case"dark":return Ao.DARK;case"hc-dark":return Ao.HIGH_CONTRAST_DARK;case"hc-light":return Ao.HIGH_CONTRAST_LIGHT;default:return Ao.DARK}}function CL(t,e){const r=["vscode-dark","vscode-light","vscode-high-contrast","vscode-high-contrast-light"];let n="vscode-dark";switch(e){case"dark":n="vscode-dark";break;case"light":n="vscode-light";break;case"hc-dark":n="vscode-high-contrast";break;case"hc-light":n="vscode-high-contrast-light";break}t.add(n),r.filter(i=>i!==n).forEach(i=>t.remove(i))}function LL(t){return`--vscode-${t.replaceAll(".","-")}`}function an(t){const[e,r]=fa(t.initial||{}),n=IL(t.constructor,e,r);return Xe(()=>{n.dispose&&n.dispose()}),y(t.constructor.Provider,{initial:n,get children(){return t.view({state:e,setState:r})}})}function IL(t,e,r){return new t(e,r)}function Ar(t,e){const r=ac(e);return[n=>y(r.Provider,{value:t(n),get children(){return n.children}}),()=>lc(r)]}function R0(t){const{values:e}=t,r=n=>{let i=e[n];if(!i)return t.children;const o={get children(){return r(n+1)}};return Array.isArray(i)&&(o.value=i[1],i=i[0],typeof i!="function"&&(i=i.Provider)),y(i,o)};return r(0)}function P0(t){return[t.get,t.set]}const $0=Promise.resolve();function AL(t){return t?$0.then(this?t.bind(this):t):$0}function ps(t){return typeof t=="function"}function FL(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="function"&&typeof t[1]=="function"}const RL=()=>{};function n5(t){return FL(t)?t:ps(t)?[t,RL]:z(t)}function PL(t){return t===void 0||!ps(t)?z(t)[0]:t}function Bt(t){return typeof t=="function"?t():t}const gc=typeof window<"u",$L=t=>t!=null,DL=Object.prototype.toString,OL=t=>DL.call(t)==="[object Object]",Ur=()=>{},BL=ML();function ML(){var t;return gc&&((t=window?.navigator)==null?void 0:t.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function Nv(t,e){function r(...n){return new Promise((i,o)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(o)})}return r}const i5=t=>t();function NL(t,e={}){let r,n,i=Ur;const o=l=>{clearTimeout(l),i(),i=Ur},s=Ir();return l=>{const c=Bt(t),d=Bt(e.maxWait);return r&&o(r),c<=0||d!==void 0&&d<=0?(n&&(o(n),n=null),new Promise(u=>{Vi(s,()=>{u(l())})})):new Promise((u,f)=>{i=e.rejectOnCancel?f:u,d&&!n&&(n=setTimeout(()=>{r&&o(r),n=null,u(l())},d)),r=setTimeout(()=>{n&&o(n),n=null,u(l())},c)})}}function GL(t,e=!0,r=!0,n=!1){let i=0,o,s=!0,a=Ur,l;const c=Ir(),d=()=>{o&&(clearTimeout(o),o=void 0,a(),a=Ur)};return f=>{const h=Bt(t),g=Date.now()-i,p=()=>l=f();if(d(),h<=0){i=Date.now(),Vi(c,()=>{p()});return}return g>h&&(r||!s)?(i=Date.now(),Vi(c,()=>{p()})):e&&(l=new Promise((m,b)=>{a=n?b:m,o=setTimeout(()=>{i=Date.now(),s=!0,Vi(c,()=>{m(p())}),d()},Math.max(0,h-g))})),!r&&!o&&(o=setTimeout(()=>s=!0,h)),s=!1,l}}function UL(t=i5){const[e,r]=z(!0);function n(){r(!1)}function i(){r(!0)}return{isActive:e,pause:n,resume:i,eventFilter:(...s)=>{e()&&t(...s)}}}function o5(t,e=200,r={}){return Nv(NL(e,r),t)}function Gv(t,e=200,r={}){const[n,i]=z(t()),o=o5(()=>{i(()=>t())},e,r);return yt(xr(t,()=>{o()},{defer:!0})),n}function s5(t,e=200,r=!1,n=!0,i=!1){return Nv(GL(e,r,n,i),t)}function WL(t,e=200,r=!0,n=!0){if(e<=0)return t;const[i,o]=z(t()),s=s5(()=>{o(()=>t())},e,r,n);return yt(xr(t,()=>{s()},{defer:!0})),i}function ms(t){return Ir()?(Xe(t),!0):!1}function qL(t,e){const r={};return Object.keys(t).forEach(n=>{r[n]=U(()=>t[n]??e?.[n])}),r}function we(t,e,r){const[n,i]=z(!0);return yt(xr(HL(t),(s,a,l)=>{n()&&e(s,a,l)},r)),()=>{i(!1)}}function HL(t){return Array.isArray(t)?t:OL(t)?Object.values(qL(t)):ps(t)?t:()=>t}function es(t){return ps(t)?t:()=>t}function VL(t,e=!0){Ir()?Vt(t):e?t():AL(t)}function jL(t,e,r={}){const{eventFilter:n=i5,...i}=r;return we(t,Nv(n,e),i)}function zL(t,e,r={}){const{eventFilter:n,defer:i=!0}=r,{eventFilter:o,pause:s,resume:a,isActive:l}=UL(n);return{stop:jL(t,e,{defer:i,eventFilter:o}),pause:s,resume:a,isActive:l}}const Xr=gc?window:void 0,KL=gc?window.document:void 0;function $r(...t){let e,r,n,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,i]=t,e=Xr):[e,r,n,i]=t,!e)return Ur;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const o=[],s=()=>{o.forEach(d=>d()),o.length=0},a=(d,u,f,h)=>(d.addEventListener(u,f,h),()=>d.removeEventListener(u,f,h)),l=we([es(e),es(i)],([d,u])=>{s(),d&&o.push(...r.flatMap(f=>n.map(h=>a(d,f,h,u))))}),c=()=>{l(),s()};return ms(c),c}let D0=!1;function a5(t,e,r={}){const{window:n=Xr,ignore:i=[],capture:o=!0,detectIframe:s=!1}=r;if(!n)return;BL&&!D0&&(D0=!0,Array.from(n.document.body.children).forEach(f=>f.addEventListener("click",Ur)),n.document.documentElement.addEventListener("click",Ur));let a=!0;const l=f=>i.some(h=>{if(typeof h=="string")return Array.from(n.document.querySelectorAll(h)).some(p=>p===f.target||f.composedPath().includes(p));const g=Bt(h);return g&&(f.target===g||f.composedPath().includes(g))}),d=[$r(n,"click",f=>{const h=Bt(t);if(!(!h||h===f.target||f.composedPath().includes(h))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}e(f)}},{passive:!0,capture:o}),$r(n,"pointerdown",f=>{const h=Bt(t);h&&(a=!f.composedPath().includes(h)&&!l(f))},{passive:!0}),s&&$r(n,"blur",f=>{setTimeout(()=>{var h;const g=Bt(t);((h=n.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!g?.contains(n.document.activeElement)&&e(f)},0)})].filter(Boolean);return()=>d.forEach(f=>f())}function XL(){const[t,e]=z(!1);return Ir()&&Vt(()=>{e(!0)}),t}function pc(t){const e=XL();return U(()=>(e(),!!t()))}function YL(t,e={}){const{window:r=Xr}=e,n=pc(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let i;const[o,s]=z(!1),a=d=>{s(d.matches)},l=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",a):i.removeListener(a))},c=we([es(t),n],()=>{n()&&(l(),i=r.matchMedia(Bt(t)),"addEventListener"in i?i.addEventListener("change",a):i.addListener(a),s(i.matches))});return ms(()=>{c(),l(),i=void 0}),o}function l5(t,e,r={}){const{window:n=Xr,...i}=r;let o;const s=pc(()=>n&&"MutationObserver"in n),a=()=>{o&&(o.disconnect(),o=void 0)},l=we(es(t),d=>{a(),s()&&n&&d&&(o=new MutationObserver(e),o.observe(d,i))}),c=()=>{a(),l()};return ms(c),{isSupported:s,stop:c}}function Xd(t,e={}){const r=e.draggingElement??Xr,n=e.handle??t,i=Ll({value:Bt(e.initialValue)??{x:0,y:0}}),o=Ll({value:void 0}),s=u=>e.pointerTypes?e.pointerTypes.includes(u.pointerType):!0,a=u=>{Bt(e.preventDefault)&&u.preventDefault(),Bt(e.stopPropagation)&&u.stopPropagation()},l=u=>{var f;if(!s(u)||Bt(e.exact)&&u.target!==Bt(t))return;const h=Bt(t).getBoundingClientRect(),g={x:u.clientX-h.left,y:u.clientY-h.top};((f=e.onStart)==null?void 0:f.call(e,g,u))!==!1&&(o.value=g,a(u))},c=u=>{var f;s(u)&&o.value&&(i.value={x:u.clientX-o.value.x,y:u.clientY-o.value.y},(f=e.onMove)==null||f.call(e,i.value,u),a(u))},d=u=>{var f;s(u)&&o.value&&(o.value=void 0,(f=e.onEnd)==null||f.call(e,i.value,u),a(u))};return gc&&($r(n,"pointerdown",l,!0),$r(r,"pointermove",c,!0),$r(r,"pointerup",d,!0)),{x:()=>i.value.x,y:()=>i.value.y,position:i,isDragging:U(()=>!!o.value),style:U(()=>({left:`${i.value.x}px`,top:`${i.value.y}px`}))}}function Ii(t,e,r={}){const{window:n=Xr,...i}=r;let o;const s=pc(()=>n&&"ResizeObserver"in n),a=()=>{o&&(o.disconnect(),o=void 0)},l=U(()=>Array.isArray(t)?t.map(Bt):[Bt(t)]),c=we(l,u=>{if(a(),s()&&n){o=new ResizeObserver(e);for(const f of u)f&&o.observe(f,i)}},{defer:!1}),d=()=>{a(),c()};return ms(d),{isSupported:s,stop:d}}function JL(t,e={width:0,height:0},r={}){const{window:n=Xr,box:i="content-box"}=r,o=U(()=>{var d,u;return(u=(d=Bt(t))==null?void 0:d.namespaceURI)==null?void 0:u.includes("svg")}),[s,a]=z(e.width),[l,c]=z(e.height);return Ii(t,([d])=>{const u=i==="border-box"?d.borderBoxSize:i==="content-box"?d.contentBoxSize:d.devicePixelContentBoxSize;if(n&&o()){const f=Bt(t);if(f){const h=n.getComputedStyle(f);a(Number.parseFloat(h.width)),c(Number.parseFloat(h.height))}}else if(u){const f=Array.isArray(u)?u:[u];a(f.reduce((h,{inlineSize:g})=>h+Number(g),0)),c(f.reduce((h,{blockSize:g})=>h+Number(g),0))}else a(d.contentRect.width),c(d.contentRect.height)},r),yt(xr(es(t),d=>{a(d?e.width:0),c(d?e.height:0)},{defer:!0})),{width:s,height:l}}function ZL(t,e,r={}){const{root:n,rootMargin:i="0px",threshold:o=.1,window:s=Xr,immediate:a=!0}=r,l=pc(()=>s&&"IntersectionObserver"in s),c=U(()=>{const p=Bt(t);return(Array.isArray(p)?p:[p]).map(Bt).filter($L)});let d=Ur;const[u,f]=z(a),h=l()?we(()=>[c(),Bt(n),u],([p,m,b])=>{if(d(),!b||!p.length)return;const k=new IntersectionObserver(e,{root:Bt(m),rootMargin:i,threshold:o});p.forEach(_=>_&&k.observe(_)),d=()=>{k.disconnect(),d=Ur}},{defer:!a}):Ur,g=()=>{d(),h(),f(!1)};return ms(g),{isSupported:l,isActive:u,pause(){d(),f(!1)},resume(){f(!0)},stop:g}}const O0=1;function vs(t,e={}){const{throttle:r=0,idle:n=200,onStop:i=Ur,onScroll:o=Ur,offset:s={left:0,right:0,top:0,bottom:0},eventListenerOptions:a={capture:!1,passive:!0},behavior:l="auto",window:c=Xr}=e,[d,u]=z(0),[f,h]=z(0),[g,p]=P0({get(){return d()},set(C){k(C,void 0)}}),[m,b]=P0({get(){return f()},set(C){k(void 0,C)}});function k(C,F){var $;if(!c)return;const O=Bt(t);O&&(($=O instanceof Document?c.document.body:O)==null||$.scrollTo({top:Bt(F)??m(),left:Bt(C)??g(),behavior:Bt(l)}))}const[_,v]=z(!1),x=Ll({left:!0,right:!1,top:!0,bottom:!1}),S=Ll({left:!1,right:!1,top:!1,bottom:!1}),w=C=>{_()&&(v(!1),S.left=!1,S.right=!1,S.top=!1,S.bottom=!1,i(C))},T=o5(w,r+n),L=C=>{if(!c)return;const F=C===c?C.document.documentElement:C===c.document?C.documentElement:C,{display:$,flexDirection:O}=getComputedStyle(F),M=F.scrollLeft;S.left=M<d(),S.right=M>d();const I=Math.abs(M)<=0+(s.left??0),W=Math.abs(M)+F.clientWidth>=F.scrollWidth-(s.right??0)-O0;$==="flex"&&O==="row-reverse"?(x.left=W,x.right=I):(x.left=I,x.right=W),u(M);let q=F.scrollTop;C===c.document&&!q&&(q=c.document.body.scrollTop),S.top=q<f(),S.bottom=q>f();const G=Math.abs(q)<=0+(s.top??0),H=Math.abs(q)+F.clientHeight>=F.scrollHeight-(s.bottom??0)-O0;$==="flex"&&O==="column-reverse"?(x.top=H,x.bottom=G):(x.top=G,x.bottom=H),h(q)},E=C=>{if(!c)return;const F=C.target===c.document?C.target.documentElement:C.target;L(F),v(!0),T(C),o(C)};return $r(t,"scroll",r?s5(E,r,!0,!1):E,a),$r(t,"scrollend",w,a),{x:g,setX:p,y:m,setY:b,isScrolling:_,arrivedState:x,directions:S,measure(){const C=Bt(t);c&&C&&L(C)}}}const QL={page:t=>[t.pageX,t.pageY],client:t=>[t.clientX,t.clientY],screen:t=>[t.screenX,t.screenY],movement:t=>t instanceof Touch?null:[t.movementX,t.movementY]};function eI(t={}){const{type:e="page",touch:r=!0,resetOnTouchEnds:n=!1,initialValue:i={x:0,y:0},window:o=Xr,target:s=o,eventFilter:a}=t,[l,c]=z(i.x),[d,u]=z(i.y),[f,h]=z(null),g=typeof e=="function"?e:QL[e],p=v=>{const x=g(v);if(x){const[S,w]=x;c(S),u(w),h("mouse")}},m=v=>{if(v.touches.length>0){const x=g(v.touches[0]);if(x){const[S,w]=x;c(S),u(w),h("touch")}}},b=()=>{c(i.x),u(i.y)},k=a?v=>a(()=>p(v),{}):v=>p(v),_=a?v=>a(()=>m(v),{}):v=>m(v);if(s){const v={passive:!0};$r(s,["mousemove","dragover"],k,v),r&&e!=="movement"&&($r(s,["touchstart","touchmove"],_,v),n&&$r(s,"touchend",b,v))}return{x:l,y:d,setX:c,setY:u,sourceType:f}}function qi(t,e={}){const{handleOutside:r=!0,window:n=Xr}=e,{x:i,y:o,sourceType:s}=eI(e),a=PL(t??n?.document.body),[l,c]=z(0),[d,u]=z(0),[f,h]=z(0),[g,p]=z(0),[m,b]=z(0),[k,_]=z(0),[v,x]=z(!0);let S=()=>{};return n&&(S=we([a,i,o],()=>{const w=a();if(!w)return;const{left:T,top:L,width:E,height:C}=w.getBoundingClientRect();h(T+n.pageXOffset),p(L+n.pageYOffset),b(C),_(E);const F=i()-f(),$=o()-g();x(E===0||C===0||F<=0||$<=0||F>E||$>C),(r||!v())&&(c(F),u($))}),$r(document,"mouseleave",()=>{x(!0)})),{x:i,y:o,sourceType:s,elementX:l,elementY:d,elementPositionX:f,elementPositionY:g,elementHeight:m,elementWidth:k,isOutside:v,stop:S}}function tI(t=null,e={}){var r;const{document:n=KL}=e,i=n5(t??n?.title??null),o=!!(t&&ps(t));function s(a){if(!("titleTemplate"in e))return a;const l=e.titleTemplate??"%s";return typeof l=="function"?l(a):Bt(l).replace(/%s/g,a)}return yt(xr(i[0],(a,l)=>{a!==l&&n&&(n.title=s(typeof a=="string"?a:""))})),e.observe&&!e.titleTemplate&&n&&!o&&l5((r=n.head)==null?void 0:r.querySelector("title"),()=>{n&&n.title!==i[0]()&&i[1](s(n.title))},{childList:!0}),o?i[0]:i}function mc(t,e){const{containerStyle:r,wrapperProps:n,scrollTo:i,calculateRange:o,currentList:s,setContainerRef:a}="itemHeight"in e?iI(e,t):nI(e,t);return{list:s,scrollTo:i,containerProps:{ref:l=>a(l),onScroll:()=>{o()},style:r},wrapperProps:n}}function c5(t){const[e,r]=z(null),n=JL(e),[i,o]=z([]),[s,a]=n5(t),[l,c]=z({start:0,end:10});return{state:l,setState:c,currentList:i,setCurrentList:o,source:s,setSource:a,setContainerRef:r,containerRef:e,size:n}}function d5(t,e,r){return n=>{if(typeof r=="number")return Math.ceil(n/r);const{start:i=0}=t();let o=0,s=0;for(let a=i;a<e().length;a++){const l=r(a);if(o+=l,s=a,o>n){s=a;break}}return s-i}}function u5(t,e){return r=>{if(typeof e=="number")return Math.floor(r/e)+1;let n=0,i=0;for(let o=0;o<t().length;o++){const s=e(o);if(n+=s,n>=r){i=o;break}}return i+1}}function h5(t,e,r,n,{containerRef:i,state:o,setState:s,source:a,setCurrentList:l}){return()=>{const c=i();if(c){const d=r(t==="vertical"?c.scrollTop:c.scrollLeft),u=n(t==="vertical"?c.clientHeight:c.clientWidth),f=d-e,h=d+u+e;s({start:f<0?0:f,end:h>a().length?a().length:h}),l(a().slice(o().start,o().end).map((g,p)=>({data:g,index:p+o().start})))}}}function f5(t,e){return r=>typeof t=="number"?r*t:e().slice(0,r).reduce((i,o,s)=>i+t(s),0)}function g5(t,e,r){we([t.width,t.height,es(e)],()=>{r()},{defer:!0})}function p5(t,e){return U(()=>typeof t=="number"?e().length*t:e().reduce((r,n,i)=>r+t(i),0))}const rI={horizontal:"scrollLeft",vertical:"scrollTop"};function m5(t,e,r,n){return i=>{const o=n();o&&(o[rI[t]]=r(i),e())}}function nI(t,e){const r=c5(e),{state:n,source:i,currentList:o,size:s,containerRef:a,setContainerRef:l}=r,c={"overflow-x":"auto"},{itemWidth:d,overscan:u=5}=t,f=d5(n,i,d),h=u5(i,d),g=h5("horizontal",u,h,f,r),p=f5(d,i),m=U(()=>p(n().start)),b=p5(d,i);g5(s,e,g);const k=m5("horizontal",g,p,a),_=U(()=>({style:{height:"100%",width:`${b()-m()}px`,"margin-left":`${m()}px`,display:"flex"}}));return{scrollTo:k,calculateRange:g,wrapperProps:_,containerStyle:c,setContainerRef:l,currentList:o,containerRef:a}}function iI(t,e){const r=c5(e),{state:n,source:i,currentList:o,size:s,containerRef:a,setContainerRef:l}=r,c={"overflow-y":"auto"},{itemHeight:d,overscan:u=5}=t,f=d5(n,i,d),h=u5(i,d),g=h5("vertical",u,h,f,r),p=f5(d,i),m=U(()=>p(n().start)),b=p5(d,i);g5(s,e,g);const k=m5("vertical",g,p,a),_=U(()=>({style:{width:"100%",height:`${b()-m()}px`,"margin-top":`${m()}px`}}));return{calculateRange:g,scrollTo:k,containerStyle:c,wrapperProps:_,currentList:o,containerRef:a,setContainerRef:l}}function vc(t={}){const{window:e=Xr,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:n=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:o=!0}=t,[s,a]=z(r),[l,c]=z(n),d=()=>{e&&(o?(a(e.innerWidth),c(e.innerHeight)):(a(e.document.documentElement.clientWidth),c(e.document.documentElement.clientHeight)))};if(d(),VL(d),$r("resize",d,{passive:!0}),i){const u=YL("(orientation: portrait)");yt(xr(u,()=>{d()}))}return{width:s,height:l}}var Tr="top",zr="bottom",Kr="right",Er="left",Uv="auto",va=[Tr,zr,Kr,Er],ts="start",sa="end",oI="clippingParents",v5="viewport",Ds="popper",sI="reference",B0=va.reduce(function(t,e){return t.concat([e+"-"+ts,e+"-"+sa])},[]),b5=[].concat(va,[Uv]).reduce(function(t,e){return t.concat([e,e+"-"+ts,e+"-"+sa])},[]),aI="beforeRead",lI="read",cI="afterRead",dI="beforeMain",uI="main",hI="afterMain",fI="beforeWrite",gI="write",pI="afterWrite",mI=[aI,lI,cI,dI,uI,hI,fI,gI,pI];function Cn(t){return t?(t.nodeName||"").toLowerCase():null}function Or(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qi(t){var e=Or(t).Element;return t instanceof e||t instanceof Element}function Wr(t){var e=Or(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Wv(t){if(typeof ShadowRoot>"u")return!1;var e=Or(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function vI(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},o=e.elements[r];!Wr(o)||!Cn(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function bI(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],o=e.attributes[n]||{},s=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=s.reduce(function(l,c){return l[c]="",l},{});!Wr(i)||!Cn(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const _5={name:"applyStyles",enabled:!0,phase:"write",fn:vI,effect:bI,requires:["computeStyles"]};function xn(t){return t.split("-")[0]}var zi=Math.max,Nl=Math.min,rs=Math.round;function qm(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function y5(){return!/^((?!chrome|android).)*safari/i.test(qm())}function ns(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,o=1;e&&Wr(t)&&(i=t.offsetWidth>0&&rs(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&rs(n.height)/t.offsetHeight||1);var s=Qi(t)?Or(t):window,a=s.visualViewport,l=!y5()&&r,c=(n.left+(l&&a?a.offsetLeft:0))/i,d=(n.top+(l&&a?a.offsetTop:0))/o,u=n.width/i,f=n.height/o;return{width:u,height:f,top:d,right:c+u,bottom:d+f,left:c,x:c,y:d}}function qv(t){var e=ns(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function w5(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Wv(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Hn(t){return Or(t).getComputedStyle(t)}function _I(t){return["table","td","th"].indexOf(Cn(t))>=0}function Ai(t){return((Qi(t)?t.ownerDocument:t.document)||window.document).documentElement}function bc(t){return Cn(t)==="html"?t:t.assignedSlot||t.parentNode||(Wv(t)?t.host:null)||Ai(t)}function M0(t){return!Wr(t)||Hn(t).position==="fixed"?null:t.offsetParent}function yI(t){var e=/firefox/i.test(qm()),r=/Trident/i.test(qm());if(r&&Wr(t)){var n=Hn(t);if(n.position==="fixed")return null}var i=bc(t);for(Wv(i)&&(i=i.host);Wr(i)&&["html","body"].indexOf(Cn(i))<0;){var o=Hn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ba(t){for(var e=Or(t),r=M0(t);r&&_I(r)&&Hn(r).position==="static";)r=M0(r);return r&&(Cn(r)==="html"||Cn(r)==="body"&&Hn(r).position==="static")?e:r||yI(t)||e}function Hv(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Qs(t,e,r){return zi(t,Nl(e,r))}function wI(t,e,r){var n=Qs(t,e,r);return n>r?r:n}function k5(){return{top:0,right:0,bottom:0,left:0}}function S5(t){return Object.assign({},k5(),t)}function x5(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var kI=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,S5(typeof e!="number"?e:x5(e,va))};function SI(t){var e,r=t.state,n=t.name,i=t.options,o=r.elements.arrow,s=r.modifiersData.popperOffsets,a=xn(r.placement),l=Hv(a),c=[Er,Kr].indexOf(a)>=0,d=c?"height":"width";if(!(!o||!s)){var u=kI(i.padding,r),f=qv(o),h=l==="y"?Tr:Er,g=l==="y"?zr:Kr,p=r.rects.reference[d]+r.rects.reference[l]-s[l]-r.rects.popper[d],m=s[l]-r.rects.reference[l],b=ba(o),k=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,_=p/2-m/2,v=u[h],x=k-f[d]-u[g],S=k/2-f[d]/2+_,w=Qs(v,S,x),T=l;r.modifiersData[n]=(e={},e[T]=w,e.centerOffset=w-S,e)}}function xI(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||w5(e.elements.popper,i)&&(e.elements.arrow=i))}const TI={name:"arrow",enabled:!0,phase:"main",fn:SI,effect:xI,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function is(t){return t.split("-")[1]}var EI={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CI(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:rs(r*i)/i||0,y:rs(n*i)/i||0}}function N0(t){var e,r=t.popper,n=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,u=t.isFixed,f=s.x,h=f===void 0?0:f,g=s.y,p=g===void 0?0:g,m=typeof d=="function"?d({x:h,y:p}):{x:h,y:p};h=m.x,p=m.y;var b=s.hasOwnProperty("x"),k=s.hasOwnProperty("y"),_=Er,v=Tr,x=window;if(c){var S=ba(r),w="clientHeight",T="clientWidth";if(S===Or(r)&&(S=Ai(r),Hn(S).position!=="static"&&a==="absolute"&&(w="scrollHeight",T="scrollWidth")),S=S,i===Tr||(i===Er||i===Kr)&&o===sa){v=zr;var L=u&&S===x&&x.visualViewport?x.visualViewport.height:S[w];p-=L-n.height,p*=l?1:-1}if(i===Er||(i===Tr||i===zr)&&o===sa){_=Kr;var E=u&&S===x&&x.visualViewport?x.visualViewport.width:S[T];h-=E-n.width,h*=l?1:-1}}var C=Object.assign({position:a},c&&EI),F=d===!0?CI({x:h,y:p},Or(r)):{x:h,y:p};if(h=F.x,p=F.y,l){var $;return Object.assign({},C,($={},$[v]=k?"0":"",$[_]=b?"0":"",$.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",$))}return Object.assign({},C,(e={},e[v]=k?p+"px":"",e[_]=b?h+"px":"",e.transform="",e))}function LI(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,s=o===void 0?!0:o,a=r.roundOffsets,l=a===void 0?!0:a,c={placement:xn(e.placement),variation:is(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,N0(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,N0(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const II={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:LI,data:{}};var qa={passive:!0};function AI(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,o=i===void 0?!0:i,s=n.resize,a=s===void 0?!0:s,l=Or(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",r.update,qa)}),a&&l.addEventListener("resize",r.update,qa),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",r.update,qa)}),a&&l.removeEventListener("resize",r.update,qa)}}const FI={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:AI,data:{}};var RI={left:"right",right:"left",bottom:"top",top:"bottom"};function gl(t){return t.replace(/left|right|bottom|top/g,function(e){return RI[e]})}var PI={start:"end",end:"start"};function G0(t){return t.replace(/start|end/g,function(e){return PI[e]})}function Vv(t){var e=Or(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function jv(t){return ns(Ai(t)).left+Vv(t).scrollLeft}function $I(t,e){var r=Or(t),n=Ai(t),i=r.visualViewport,o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=y5();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+jv(t),y:l}}function DI(t){var e,r=Ai(t),n=Vv(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=zi(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=zi(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-n.scrollLeft+jv(t),l=-n.scrollTop;return Hn(i||r).direction==="rtl"&&(a+=zi(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function zv(t){var e=Hn(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function T5(t){return["html","body","#document"].indexOf(Cn(t))>=0?t.ownerDocument.body:Wr(t)&&zv(t)?t:T5(bc(t))}function ea(t,e){var r;e===void 0&&(e=[]);var n=T5(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),o=Or(n),s=i?[o].concat(o.visualViewport||[],zv(n)?n:[]):n,a=e.concat(s);return i?a:a.concat(ea(bc(s)))}function Hm(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function OI(t,e){var r=ns(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function U0(t,e,r){return e===v5?Hm($I(t,r)):Qi(e)?OI(e,r):Hm(DI(Ai(t)))}function BI(t){var e=ea(bc(t)),r=["absolute","fixed"].indexOf(Hn(t).position)>=0,n=r&&Wr(t)?ba(t):t;return Qi(n)?e.filter(function(i){return Qi(i)&&w5(i,n)&&Cn(i)!=="body"}):[]}function MI(t,e,r,n){var i=e==="clippingParents"?BI(t):[].concat(e),o=[].concat(i,[r]),s=o[0],a=o.reduce(function(l,c){var d=U0(t,c,n);return l.top=zi(d.top,l.top),l.right=Nl(d.right,l.right),l.bottom=Nl(d.bottom,l.bottom),l.left=zi(d.left,l.left),l},U0(t,s,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function E5(t){var e=t.reference,r=t.element,n=t.placement,i=n?xn(n):null,o=n?is(n):null,s=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,l;switch(i){case Tr:l={x:s,y:e.y-r.height};break;case zr:l={x:s,y:e.y+e.height};break;case Kr:l={x:e.x+e.width,y:a};break;case Er:l={x:e.x-r.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?Hv(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case ts:l[c]=l[c]-(e[d]/2-r[d]/2);break;case sa:l[c]=l[c]+(e[d]/2-r[d]/2);break}}return l}function aa(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,o=r.strategy,s=o===void 0?t.strategy:o,a=r.boundary,l=a===void 0?oI:a,c=r.rootBoundary,d=c===void 0?v5:c,u=r.elementContext,f=u===void 0?Ds:u,h=r.altBoundary,g=h===void 0?!1:h,p=r.padding,m=p===void 0?0:p,b=S5(typeof m!="number"?m:x5(m,va)),k=f===Ds?sI:Ds,_=t.rects.popper,v=t.elements[g?k:f],x=MI(Qi(v)?v:v.contextElement||Ai(t.elements.popper),l,d,s),S=ns(t.elements.reference),w=E5({reference:S,element:_,strategy:"absolute",placement:i}),T=Hm(Object.assign({},_,w)),L=f===Ds?T:S,E={top:x.top-L.top+b.top,bottom:L.bottom-x.bottom+b.bottom,left:x.left-L.left+b.left,right:L.right-x.right+b.right},C=t.modifiersData.offset;if(f===Ds&&C){var F=C[i];Object.keys(E).forEach(function($){var O=[Kr,zr].indexOf($)>=0?1:-1,M=[Tr,zr].indexOf($)>=0?"y":"x";E[$]+=F[M]*O})}return E}function NI(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,o=r.rootBoundary,s=r.padding,a=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?b5:l,d=is(n),u=d?a?B0:B0.filter(function(g){return is(g)===d}):va,f=u.filter(function(g){return c.indexOf(g)>=0});f.length===0&&(f=u);var h=f.reduce(function(g,p){return g[p]=aa(t,{placement:p,boundary:i,rootBoundary:o,padding:s})[xn(p)],g},{});return Object.keys(h).sort(function(g,p){return h[g]-h[p]})}function GI(t){if(xn(t)===Uv)return[];var e=gl(t);return[G0(t),e,G0(e)]}function UI(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!0:s,l=r.fallbackPlacements,c=r.padding,d=r.boundary,u=r.rootBoundary,f=r.altBoundary,h=r.flipVariations,g=h===void 0?!0:h,p=r.allowedAutoPlacements,m=e.options.placement,b=xn(m),k=b===m,_=l||(k||!g?[gl(m)]:GI(m)),v=[m].concat(_).reduce(function(ee,le){return ee.concat(xn(le)===Uv?NI(e,{placement:le,boundary:d,rootBoundary:u,padding:c,flipVariations:g,allowedAutoPlacements:p}):le)},[]),x=e.rects.reference,S=e.rects.popper,w=new Map,T=!0,L=v[0],E=0;E<v.length;E++){var C=v[E],F=xn(C),$=is(C)===ts,O=[Tr,zr].indexOf(F)>=0,M=O?"width":"height",I=aa(e,{placement:C,boundary:d,rootBoundary:u,altBoundary:f,padding:c}),W=O?$?Kr:Er:$?zr:Tr;x[M]>S[M]&&(W=gl(W));var q=gl(W),G=[];if(o&&G.push(I[F]<=0),a&&G.push(I[W]<=0,I[q]<=0),G.every(function(ee){return ee})){L=C,T=!1;break}w.set(C,G)}if(T)for(var H=g?3:1,J=function(le){var de=v.find(function(B){var N=w.get(B);if(N)return N.slice(0,le).every(function(ie){return ie})});if(de)return L=de,"break"},Z=H;Z>0;Z--){var te=J(Z);if(te==="break")break}e.placement!==L&&(e.modifiersData[n]._skip=!0,e.placement=L,e.reset=!0)}}const WI={name:"flip",enabled:!0,phase:"main",fn:UI,requiresIfExists:["offset"],data:{_skip:!1}};function W0(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function q0(t){return[Tr,Kr,zr,Er].some(function(e){return t[e]>=0})}function qI(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=aa(e,{elementContext:"reference"}),a=aa(e,{altBoundary:!0}),l=W0(s,n),c=W0(a,i,o),d=q0(l),u=q0(c);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}const HI={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:qI};function VI(t,e,r){var n=xn(t),i=[Er,Tr].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Er,Kr].indexOf(n)>=0?{x:a,y:s}:{x:s,y:a}}function jI(t){var e=t.state,r=t.options,n=t.name,i=r.offset,o=i===void 0?[0,0]:i,s=b5.reduce(function(d,u){return d[u]=VI(u,e.rects,o),d},{}),a=s[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=s}const zI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jI};function KI(t){var e=t.state,r=t.name;e.modifiersData[r]=E5({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const XI={name:"popperOffsets",enabled:!0,phase:"read",fn:KI,data:{}};function YI(t){return t==="x"?"y":"x"}function JI(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,o=i===void 0?!0:i,s=r.altAxis,a=s===void 0?!1:s,l=r.boundary,c=r.rootBoundary,d=r.altBoundary,u=r.padding,f=r.tether,h=f===void 0?!0:f,g=r.tetherOffset,p=g===void 0?0:g,m=aa(e,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),b=xn(e.placement),k=is(e.placement),_=!k,v=Hv(b),x=YI(v),S=e.modifiersData.popperOffsets,w=e.rects.reference,T=e.rects.popper,L=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,E=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),C=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(S){if(o){var $,O=v==="y"?Tr:Er,M=v==="y"?zr:Kr,I=v==="y"?"height":"width",W=S[v],q=W+m[O],G=W-m[M],H=h?-T[I]/2:0,J=k===ts?w[I]:T[I],Z=k===ts?-T[I]:-w[I],te=e.elements.arrow,ee=h&&te?qv(te):{width:0,height:0},le=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:k5(),de=le[O],B=le[M],N=Qs(0,w[I],ee[I]),ie=_?w[I]/2-H-N-de-E.mainAxis:J-N-de-E.mainAxis,ce=_?-w[I]/2+H+N+B+E.mainAxis:Z+N+B+E.mainAxis,ke=e.elements.arrow&&ba(e.elements.arrow),xe=ke?v==="y"?ke.clientTop||0:ke.clientLeft||0:0,Ae=($=C?.[v])!=null?$:0,Ne=W+ie-Ae-xe,ve=W+ce-Ae,qe=Qs(h?Nl(q,Ne):q,W,h?zi(G,ve):G);S[v]=qe,F[v]=qe-W}if(a){var Re,et=v==="x"?Tr:Er,ue=v==="x"?zr:Kr,Se=S[x],De=x==="y"?"height":"width",Ke=Se+m[et],Ue=Se-m[ue],be=[Tr,Er].indexOf(b)!==-1,He=(Re=C?.[x])!=null?Re:0,dt=be?Ke:Se-w[De]-T[De]-He+E.altAxis,Le=be?Se+w[De]+T[De]-He-E.altAxis:Ue,Oe=h&&be?wI(dt,Se,Le):Qs(h?dt:Ke,Se,h?Le:Ue);S[x]=Oe,F[x]=Oe-Se}e.modifiersData[n]=F}}const ZI={name:"preventOverflow",enabled:!0,phase:"main",fn:JI,requiresIfExists:["offset"]};function QI(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function eA(t){return t===Or(t)||!Wr(t)?Vv(t):QI(t)}function tA(t){var e=t.getBoundingClientRect(),r=rs(e.width)/t.offsetWidth||1,n=rs(e.height)/t.offsetHeight||1;return r!==1||n!==1}function rA(t,e,r){r===void 0&&(r=!1);var n=Wr(e),i=Wr(e)&&tA(e),o=Ai(e),s=ns(t,i,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Cn(e)!=="body"||zv(o))&&(a=eA(e)),Wr(e)?(l=ns(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=jv(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function nA(t){var e=new Map,r=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function i(o){r.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!r.has(a)){var l=e.get(a);l&&i(l)}}),n.push(o)}return t.forEach(function(o){r.has(o.name)||i(o)}),n}function iA(t){var e=nA(t);return mI.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function oA(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function sA(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var H0={placement:"bottom",modifiers:[],strategy:"absolute"};function V0(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function aA(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,o=i===void 0?H0:i;return function(a,l,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},H0,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},u=[],f=!1,h={state:d,setOptions:function(b){var k=typeof b=="function"?b(d.options):b;p(),d.options=Object.assign({},o,d.options,k),d.scrollParents={reference:Qi(a)?ea(a):a.contextElement?ea(a.contextElement):[],popper:ea(l)};var _=iA(sA([].concat(n,d.options.modifiers)));return d.orderedModifiers=_.filter(function(v){return v.enabled}),g(),h.update()},forceUpdate:function(){if(!f){var b=d.elements,k=b.reference,_=b.popper;if(V0(k,_)){d.rects={reference:rA(k,ba(_),d.options.strategy==="fixed"),popper:qv(_)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(E){return d.modifiersData[E.name]=Object.assign({},E.data)});for(var v=0;v<d.orderedModifiers.length;v++){if(d.reset===!0){d.reset=!1,v=-1;continue}var x=d.orderedModifiers[v],S=x.fn,w=x.options,T=w===void 0?{}:w,L=x.name;typeof S=="function"&&(d=S({state:d,options:T,name:L,instance:h})||d)}}}},update:oA(function(){return new Promise(function(m){h.forceUpdate(),m(d)})}),destroy:function(){p(),f=!0}};if(!V0(a,l))return h;h.setOptions(c).then(function(m){!f&&c.onFirstUpdate&&c.onFirstUpdate(m)});function g(){d.orderedModifiers.forEach(function(m){var b=m.name,k=m.options,_=k===void 0?{}:k,v=m.effect;if(typeof v=="function"){var x=v({state:d,name:b,instance:h,options:_}),S=function(){};u.push(x||S)}})}function p(){u.forEach(function(m){return m()}),u=[]}return h}}var lA=[FI,XI,II,_5,zI,WI,ZI,TI,HI],cA=aA({defaultModifiers:lA}),dA="tippy-box",C5="tippy-content",uA="tippy-backdrop",L5="tippy-arrow",I5="tippy-svg-arrow",Gi={passive:!0,capture:!0},A5=function(){return document.body};function Yd(t,e,r){if(Array.isArray(t)){var n=t[e];return n??(Array.isArray(r)?r[e]:r)}return t}function Kv(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function F5(t,e){return typeof t=="function"?t.apply(void 0,e):t}function j0(t,e){if(e===0)return t;var r;return function(n){clearTimeout(r),r=setTimeout(function(){t(n)},e)}}function hA(t){return t.split(/\s+/).filter(Boolean)}function Fo(t){return[].concat(t)}function z0(t,e){t.indexOf(e)===-1&&t.push(e)}function fA(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function gA(t){return t.split("-")[0]}function Gl(t){return[].slice.call(t)}function K0(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function ta(){return document.createElement("div")}function _c(t){return["Element","Fragment"].some(function(e){return Kv(t,e)})}function pA(t){return Kv(t,"NodeList")}function mA(t){return Kv(t,"MouseEvent")}function vA(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function bA(t){return _c(t)?[t]:pA(t)?Gl(t):Array.isArray(t)?t:Gl(document.querySelectorAll(t))}function Jd(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function X0(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function _A(t){var e,r=Fo(t),n=r[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function yA(t,e){var r=e.clientX,n=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,l=a.interactiveBorder,c=gA(s.placement),d=s.modifiersData.offset;if(!d)return!0;var u=c==="bottom"?d.top.y:0,f=c==="top"?d.bottom.y:0,h=c==="right"?d.left.x:0,g=c==="left"?d.right.x:0,p=o.top-n+u>l,m=n-o.bottom-f>l,b=o.left-r+h>l,k=r-o.right-g>l;return p||m||b||k})}function Zd(t,e,r){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[n](i,r)})}function Y0(t,e){for(var r=e;r;){var n;if(t.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var bn={isTouch:!1},J0=0;function wA(){bn.isTouch||(bn.isTouch=!0,window.performance&&document.addEventListener("mousemove",R5))}function R5(){var t=performance.now();t-J0<20&&(bn.isTouch=!1,document.removeEventListener("mousemove",R5)),J0=t}function kA(){var t=document.activeElement;if(vA(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function SA(){document.addEventListener("touchstart",wA,Gi),window.addEventListener("blur",kA)}var xA=typeof window<"u"&&typeof document<"u",TA=xA?!!window.msCrypto:!1,EA={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},CA={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ln=Object.assign({appendTo:A5,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},EA,CA),LA=Object.keys(ln),IA=function(e){var r=Object.keys(e);r.forEach(function(n){ln[n]=e[n]})};function P5(t){var e=t.plugins||[],r=e.reduce(function(n,i){var o=i.name,s=i.defaultValue;if(o){var a;n[o]=t[o]!==void 0?t[o]:(a=ln[o])!=null?a:s}return n},{});return Object.assign({},t,r)}function AA(t,e){var r=e?Object.keys(P5(Object.assign({},ln,{plugins:e}))):LA,n=r.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return n}function Z0(t,e){var r=Object.assign({},e,{content:F5(e.content,[t])},e.ignoreAttributes?{}:AA(t,e.plugins));return r.aria=Object.assign({},ln.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var FA=function(){return"innerHTML"};function Vm(t,e){t[FA()]=e}function Q0(t){var e=ta();return t===!0?e.className=L5:(e.className=I5,_c(t)?e.appendChild(t):Vm(e,t)),e}function e_(t,e){_c(e.content)?(Vm(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Vm(t,e.content):t.textContent=e.content)}function jm(t){var e=t.firstElementChild,r=Gl(e.children);return{box:e,content:r.find(function(n){return n.classList.contains(C5)}),arrow:r.find(function(n){return n.classList.contains(L5)||n.classList.contains(I5)}),backdrop:r.find(function(n){return n.classList.contains(uA)})}}function $5(t){var e=ta(),r=ta();r.className=dA,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=ta();n.className=C5,n.setAttribute("data-state","hidden"),e_(n,t.props),e.appendChild(r),r.appendChild(n),i(t.props,t.props);function i(o,s){var a=jm(e),l=a.box,c=a.content,d=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&e_(c,t.props),s.arrow?d?o.arrow!==s.arrow&&(l.removeChild(d),l.appendChild(Q0(s.arrow))):l.appendChild(Q0(s.arrow)):d&&l.removeChild(d)}return{popper:e,onUpdate:i}}$5.$$tippy=!0;var RA=1,Ha=[],Qd=[];function PA(t,e){var r=Z0(t,Object.assign({},ln,P5(K0(e)))),n,i,o,s=!1,a=!1,l=!1,c=!1,d,u,f,h=[],g=j0(Ne,r.interactiveDebounce),p,m=RA++,b=null,k=fA(r.plugins),_={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},v={id:m,reference:t,popper:ta(),popperInstance:b,props:r,state:_,plugins:k,clearDelayTimeouts:dt,setProps:Le,setContent:Oe,show:Ve,hide:Qe,hideWithInteractivity:st,enable:be,disable:He,unmount:lt,destroy:ut};if(!r.render)return v;var x=r.render(v),S=x.popper,w=x.onUpdate;S.setAttribute("data-tippy-root",""),S.id="tippy-"+v.id,v.popper=S,t._tippy=v,S._tippy=v;var T=k.map(function(ne){return ne.fn(v)}),L=t.hasAttribute("aria-expanded");return ke(),H(),W(),q("onCreate",[v]),r.showOnCreate&&Ke(),S.addEventListener("mouseenter",function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()}),S.addEventListener("mouseleave",function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&O().addEventListener("mousemove",g)}),v;function E(){var ne=v.props.touch;return Array.isArray(ne)?ne:[ne,0]}function C(){return E()[0]==="hold"}function F(){var ne;return!!((ne=v.props.render)!=null&&ne.$$tippy)}function $(){return p||t}function O(){var ne=$().parentNode;return ne?_A(ne):document}function M(){return jm(S)}function I(ne){return v.state.isMounted&&!v.state.isVisible||bn.isTouch||d&&d.type==="focus"?0:Yd(v.props.delay,ne?0:1,ln.delay)}function W(ne){ne===void 0&&(ne=!1),S.style.pointerEvents=v.props.interactive&&!ne?"":"none",S.style.zIndex=""+v.props.zIndex}function q(ne,he,Te){if(Te===void 0&&(Te=!0),T.forEach(function(_e){_e[ne]&&_e[ne].apply(_e,he)}),Te){var Fe;(Fe=v.props)[ne].apply(Fe,he)}}function G(){var ne=v.props.aria;if(ne.content){var he="aria-"+ne.content,Te=S.id,Fe=Fo(v.props.triggerTarget||t);Fe.forEach(function(_e){var X=_e.getAttribute(he);if(v.state.isVisible)_e.setAttribute(he,X?X+" "+Te:Te);else{var K=X&&X.replace(Te,"").trim();K?_e.setAttribute(he,K):_e.removeAttribute(he)}})}}function H(){if(!(L||!v.props.aria.expanded)){var ne=Fo(v.props.triggerTarget||t);ne.forEach(function(he){v.props.interactive?he.setAttribute("aria-expanded",v.state.isVisible&&he===$()?"true":"false"):he.removeAttribute("aria-expanded")})}}function J(){O().removeEventListener("mousemove",g),Ha=Ha.filter(function(ne){return ne!==g})}function Z(ne){if(!(bn.isTouch&&(l||ne.type==="mousedown"))){var he=ne.composedPath&&ne.composedPath()[0]||ne.target;if(!(v.props.interactive&&Y0(S,he))){if(Fo(v.props.triggerTarget||t).some(function(Te){return Y0(Te,he)})){if(bn.isTouch||v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else q("onClickOutside",[v,ne]);v.props.hideOnClick===!0&&(v.clearDelayTimeouts(),v.hide(),a=!0,setTimeout(function(){a=!1}),v.state.isMounted||de())}}}function te(){l=!0}function ee(){l=!1}function le(){var ne=O();ne.addEventListener("mousedown",Z,!0),ne.addEventListener("touchend",Z,Gi),ne.addEventListener("touchstart",ee,Gi),ne.addEventListener("touchmove",te,Gi)}function de(){var ne=O();ne.removeEventListener("mousedown",Z,!0),ne.removeEventListener("touchend",Z,Gi),ne.removeEventListener("touchstart",ee,Gi),ne.removeEventListener("touchmove",te,Gi)}function B(ne,he){ie(ne,function(){!v.state.isVisible&&S.parentNode&&S.parentNode.contains(S)&&he()})}function N(ne,he){ie(ne,he)}function ie(ne,he){var Te=M().box;function Fe(_e){_e.target===Te&&(Zd(Te,"remove",Fe),he())}if(ne===0)return he();Zd(Te,"remove",u),Zd(Te,"add",Fe),u=Fe}function ce(ne,he,Te){Te===void 0&&(Te=!1);var Fe=Fo(v.props.triggerTarget||t);Fe.forEach(function(_e){_e.addEventListener(ne,he,Te),h.push({node:_e,eventType:ne,handler:he,options:Te})})}function ke(){C()&&(ce("touchstart",Ae,{passive:!0}),ce("touchend",ve,{passive:!0})),hA(v.props.trigger).forEach(function(ne){if(ne!=="manual")switch(ce(ne,Ae),ne){case"mouseenter":ce("mouseleave",ve);break;case"focus":ce(TA?"focusout":"blur",qe);break;case"focusin":ce("focusout",qe);break}})}function xe(){h.forEach(function(ne){var he=ne.node,Te=ne.eventType,Fe=ne.handler,_e=ne.options;he.removeEventListener(Te,Fe,_e)}),h=[]}function Ae(ne){var he,Te=!1;if(!(!v.state.isEnabled||Re(ne)||a)){var Fe=((he=d)==null?void 0:he.type)==="focus";d=ne,p=ne.currentTarget,H(),!v.state.isVisible&&mA(ne)&&Ha.forEach(function(_e){return _e(ne)}),ne.type==="click"&&(v.props.trigger.indexOf("mouseenter")<0||s)&&v.props.hideOnClick!==!1&&v.state.isVisible?Te=!0:Ke(ne),ne.type==="click"&&(s=!Te),Te&&!Fe&&Ue(ne)}}function Ne(ne){var he=ne.target,Te=$().contains(he)||S.contains(he);if(!(ne.type==="mousemove"&&Te)){var Fe=De().concat(S).map(function(_e){var X,K=_e._tippy,fe=(X=K.popperInstance)==null?void 0:X.state;return fe?{popperRect:_e.getBoundingClientRect(),popperState:fe,props:r}:null}).filter(Boolean);yA(Fe,ne)&&(J(),Ue(ne))}}function ve(ne){var he=Re(ne)||v.props.trigger.indexOf("click")>=0&&s;if(!he){if(v.props.interactive){v.hideWithInteractivity(ne);return}Ue(ne)}}function qe(ne){v.props.trigger.indexOf("focusin")<0&&ne.target!==$()||v.props.interactive&&ne.relatedTarget&&S.contains(ne.relatedTarget)||Ue(ne)}function Re(ne){return bn.isTouch?C()!==ne.type.indexOf("touch")>=0:!1}function et(){ue();var ne=v.props,he=ne.popperOptions,Te=ne.placement,Fe=ne.offset,_e=ne.getReferenceClientRect,X=ne.moveTransition,K=F()?jm(S).arrow:null,fe=_e?{getBoundingClientRect:_e,contextElement:_e.contextElement||$()}:t,j={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(me){var Pe=me.state;if(F()){var Be=M(),We=Be.box;["placement","reference-hidden","escaped"].forEach(function(nt){nt==="placement"?We.setAttribute("data-placement",Pe.placement):Pe.attributes.popper["data-popper-"+nt]?We.setAttribute("data-"+nt,""):We.removeAttribute("data-"+nt)}),Pe.attributes.popper={}}}},Q=[{name:"offset",options:{offset:Fe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!X}},j];F()&&K&&Q.push({name:"arrow",options:{element:K,padding:3}}),Q.push.apply(Q,he?.modifiers||[]),v.popperInstance=cA(fe,S,Object.assign({},he,{placement:Te,onFirstUpdate:f,modifiers:Q}))}function ue(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function Se(){var ne=v.props.appendTo,he,Te=$();v.props.interactive&&ne===A5||ne==="parent"?he=Te.parentNode:he=F5(ne,[Te]),he.contains(S)||he.appendChild(S),v.state.isMounted=!0,et()}function De(){return Gl(S.querySelectorAll("[data-tippy-root]"))}function Ke(ne){v.clearDelayTimeouts(),ne&&q("onTrigger",[v,ne]),le();var he=I(!0),Te=E(),Fe=Te[0],_e=Te[1];bn.isTouch&&Fe==="hold"&&_e&&(he=_e),he?n=setTimeout(function(){v.show()},he):v.show()}function Ue(ne){if(v.clearDelayTimeouts(),q("onUntrigger",[v,ne]),!v.state.isVisible){de();return}if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ne.type)>=0&&s)){var he=I(!1);he?i=setTimeout(function(){v.state.isVisible&&v.hide()},he):o=requestAnimationFrame(function(){v.hide()})}}function be(){v.state.isEnabled=!0}function He(){v.hide(),v.state.isEnabled=!1}function dt(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(o)}function Le(ne){if(!v.state.isDestroyed){q("onBeforeUpdate",[v,ne]),xe();var he=v.props,Te=Z0(t,Object.assign({},he,K0(ne),{ignoreAttributes:!0}));v.props=Te,ke(),he.interactiveDebounce!==Te.interactiveDebounce&&(J(),g=j0(Ne,Te.interactiveDebounce)),he.triggerTarget&&!Te.triggerTarget?Fo(he.triggerTarget).forEach(function(Fe){Fe.removeAttribute("aria-expanded")}):Te.triggerTarget&&t.removeAttribute("aria-expanded"),H(),W(),w&&w(he,Te),v.popperInstance&&(et(),De().forEach(function(Fe){requestAnimationFrame(Fe._tippy.popperInstance.forceUpdate)})),q("onAfterUpdate",[v,ne])}}function Oe(ne){v.setProps({content:ne})}function Ve(){var ne=v.state.isVisible,he=v.state.isDestroyed,Te=!v.state.isEnabled,Fe=bn.isTouch&&!v.props.touch,_e=Yd(v.props.duration,0,ln.duration);if(!(ne||he||Te||Fe)&&!$().hasAttribute("disabled")&&(q("onShow",[v],!1),v.props.onShow(v)!==!1)){if(v.state.isVisible=!0,F()&&(S.style.visibility="visible"),W(),le(),v.state.isMounted||(S.style.transition="none"),F()){var X=M(),K=X.box,fe=X.content;Jd([K,fe],0)}f=function(){var Q;if(!(!v.state.isVisible||c)){if(c=!0,S.offsetHeight,S.style.transition=v.props.moveTransition,F()&&v.props.animation){var ge=M(),me=ge.box,Pe=ge.content;Jd([me,Pe],_e),X0([me,Pe],"visible")}G(),H(),z0(Qd,v),(Q=v.popperInstance)==null||Q.forceUpdate(),q("onMount",[v]),v.props.animation&&F()&&N(_e,function(){v.state.isShown=!0,q("onShown",[v])})}},Se()}}function Qe(){var ne=!v.state.isVisible,he=v.state.isDestroyed,Te=!v.state.isEnabled,Fe=Yd(v.props.duration,1,ln.duration);if(!(ne||he||Te)&&(q("onHide",[v],!1),v.props.onHide(v)!==!1)){if(v.state.isVisible=!1,v.state.isShown=!1,c=!1,s=!1,F()&&(S.style.visibility="hidden"),J(),de(),W(!0),F()){var _e=M(),X=_e.box,K=_e.content;v.props.animation&&(Jd([X,K],Fe),X0([X,K],"hidden"))}G(),H(),v.props.animation?F()&&B(Fe,v.unmount):v.unmount()}}function st(ne){O().addEventListener("mousemove",g),z0(Ha,g),g(ne)}function lt(){v.state.isVisible&&v.hide(),v.state.isMounted&&(ue(),De().forEach(function(ne){ne._tippy.unmount()}),S.parentNode&&S.parentNode.removeChild(S),Qd=Qd.filter(function(ne){return ne!==v}),v.state.isMounted=!1,q("onHidden",[v]))}function ut(){v.state.isDestroyed||(v.clearDelayTimeouts(),v.unmount(),xe(),delete t._tippy,v.state.isDestroyed=!0,q("onDestroy",[v]))}}function bs(t,e){e===void 0&&(e={});var r=ln.plugins.concat(e.plugins||[]);SA();var n=Object.assign({},e,{plugins:r}),i=bA(t),o=i.reduce(function(s,a){var l=a&&PA(a,n);return l&&s.push(l),s},[]);return _c(t)?o[0]:o}bs.defaultProps=ln;bs.setDefaultProps=IA;bs.currentInput=bn;Object.assign({},_5,{effect:function(e){var r=e.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});bs.setDefaultProps({render:$5});var $A=Object.defineProperty,t_=Object.getOwnPropertySymbols,DA=Object.prototype.hasOwnProperty,OA=Object.prototype.propertyIsEnumerable,r_=(t,e,r)=>e in t?$A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,BA=(t,e)=>{for(var r in e||(e={}))DA.call(e,r)&&r_(t,r,e[r]);if(t_)for(var r of t_(e))OA.call(e,r)&&r_(t,r,e[r]);return t};function MA(t,e){yt(()=>{let r=e(),n=bs(t,Xt(()=>r?.props));dl(()=>{r!=null&&r.disabled?n.disable():n.enable()}),dl(()=>{r!=null&&r.hidden?n.hide():n.show()}),dl(()=>{var i;n.setProps(BA({},(i=r?.props)!=null?i:{}))}),Xe(()=>{n.destroy()})})}const D5=1500,NA=150;let Os=D5,eu;const So=new Map;function re(t,e){MA(t,()=>{const r=e(),n=r?.instanceType||"default",i=r?.defaultDelay??D5,o=r?.shortDelay??NA;Os=i;const s=r?.content;return s?{hideOnClick:!0,hidden:!0,props:{showOnCreate:!1,onCreate(a){r.onCreate?.(a)},content:typeof s=="string"?s:typeof s=="function"?void 0:()=>_r(()=>s),onShow:a=>{r.onShow?.(a);const l=()=>{for(const[c,{instanceType:d}]of So.entries())c!==a&&d===n&&c.hide()};typeof s=="function"?(l(),_r(()=>{const{content:c,readyToRender:d}=s(),u=()=>{a.setContent(c);const f=a.popper.querySelector(".tippy-box");f&&(f.style.display=""),a.popperInstance?.update()};d()?setTimeout(u,0):we(d,f=>{f&&u()})}),So.set(a,{instanceType:n})):r.delay===void 0&&So.set(a,{displayTimeout:setTimeout(()=>{l();const c=a.popper.querySelector(".tippy-box");c&&(c.style.display=""),a.popperInstance?.update(),Os=o},Os),instanceType:n}),clearTimeout(eu)},onHide:a=>{r.onHide?.(a),clearTimeout(So.get(a)?.displayTimeout),So.delete(a),So.size===0&&(clearTimeout(eu),Os!==i&&(eu=setTimeout(()=>{Os=i},1e3)))},delay:r.delay??[0,null],duration:0,interactive:!0,appendTo:()=>document.body,allowHTML:!0,trigger:r.trigger||"mouseenter",placement:r.placement||"auto-start",offset:r.offset,maxWidth:r.maxWidth,zIndex:r.zIndex,getReferenceClientRect:r.getReferenceClientRect,onMount:a=>{const l=a.popper.querySelector(".tippy-box");l&&(r.class&&l.classList.add(...r.class.split(" ")),(r.delay===void 0||typeof s=="function")&&(l.style.display="none"))}}}:{disabled:!0,hidden:!0}})}var GA=!!g4,UA=GA?t=>Ir()?Xe(t):t:Xe;function O5(t,e=Ir()){let r=0,n,i;return()=>(r++,Xe(()=>{r--,queueMicrotask(()=>{!r&&i&&(i(),i=n=void 0)})}),i||_r(o=>n=t(i=o),e),n)}function B5(t,e,r,n){return t.addEventListener(e,r,n),UA(t.removeEventListener.bind(t,e,r,n))}const os=navigator.platform.toUpperCase().indexOf("MAC")>=0,vr=os?"":"Ctrl";function zm(t){return dr(t)&&(t.key==="c"||t.key==="a"||t.key==="f"||t.key==="r"||t.key==="="||t.key==="-")||t.key==="Tab"||t.key==="F5"||t.key==="F12"}function Ee(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}function dr(t){return os?t.metaKey:t.ctrlKey}function Va(t){return t.altKey||t.ctrlKey||t.metaKey}function mi(t,e){if(e=e||{},os){if(t.metaKey)return new MouseEvent("click",{...e,metaKey:!0,bubbles:!0})}else if(t.ctrlKey)return new MouseEvent("click",{...e,ctrlKey:!0,bubbles:!0});return new MouseEvent("click",{...e,bubbles:!0})}const WA=O5(()=>{const[t,e]=z(null);return B5(window,"keydown",r=>{e(r),setTimeout(()=>e(null))},{capture:!0}),t});var qA=D('<ul class="context-menu bg-[--menu-background] text-[length:--panel-font-size] text-[--menu-foreground] outline-none [&amp;_li.disabled]:cursor-default [&amp;_li.disabled]:text-[--menu-disabled-foreground] [&amp;_li.separator]:h-[1px] [&amp;_li.separator]:border-t [&amp;_li.separator]:border-t-[--editor-hover-widget-border] [&amp;_li.separator]:py-0 [&amp;_li.separator]:mx-0 [&amp;_li:focus_span]:text-[--menu-selection-foreground] [&amp;_li:not(.disabled)]:cursor-pointer [&amp;_li:not(.disabled)]:text-[--menu-foreground] [&amp;_li]:mx-[0.26625rem] [&amp;_li]:my-[0.3em] [&amp;_li]:flex [&amp;_li]:flex-row [&amp;_li]:items-center [&amp;_li]:py-[0.2rem] [&amp;_li]:pr-[1.625rem] [&amp;_li]:outline-none focus:[&amp;_li]:rounded-[--menu-border-radius] focus:[&amp;_li]:border-[--focus-border] focus:[&amp;_li]:bg-[--menu-selection-background] focus:[&amp;_li]:text-[--menu-selection-foreground] [&amp;_span.check]:w-[1.625rem] [&amp;_span.check]:min-w-[1.625rem] [&amp;_span.shortcut]:ml-auto [&amp;_span.shortcut]:pl-[2rem] [&amp;_span.shortcut]:text-[--menu-disabled-foreground]"tabindex=-1>'),HA=D('<li class="separator disabled">'),VA=D('<li><span class="codicon check"></span><span class=shortcut>');const eo={text:""};let M5=0,Km,Xm;function N5(t){Km=t.clientX,Xm=t.clientY}function jA(){M5++===0&&document.addEventListener("mousemove",N5)}function zA(){--M5===0&&document.removeEventListener("mousemove",N5)}function KA(){const t=document.createElement("div");t.className="fixed inset-0 bg-transparent pointer-events-auto z-20 context-menu-overlay",document.body.appendChild(t)}function XA(){document.querySelector(".context-menu-overlay")?.remove()}function _i(t,e){const r=e();if(!r)return;const[n,i]=r.menuOpen;let o,s,a=null;function l(b){u(b)&&(b.preventDefault(),b.stopPropagation())}function c(b){if(b.preventDefault(),b.stopPropagation(),b.key==="Escape"){s.hide();return}const k=b.target;if(k.matches("ul")&&(b.key==="ArrowDown"?k.querySelector("li:not(.disabled)")?.focus():b.key==="ArrowUp"&&k.querySelector("li:last-of-type:not(.disabled)")?.focus()),k.matches("li"))if(b.key==="ArrowDown"){let _=k.nextElementSibling;for(;_&&_.classList.contains("disabled");)_=_.nextElementSibling;(_||k.parentElement?.querySelector("li:not(.disabled)"))?.focus()}else if(b.key==="ArrowUp"){let _=k.previousElementSibling;for(;_&&_.classList.contains("disabled");)_=_.previousElementSibling;(_||k.parentElement?.querySelector("li:last-of-type:not(.disabled)"))?.focus()}else(b.key===" "||b.key==="Enter")&&k.dispatchEvent(new MouseEvent("click",{bubbles:!0}))}function d(b){b.target&&u(b)&&(b.preventDefault(),b.stopPropagation(),r.keyboardTrigger?.beforeOpen(b.target,b.currentTarget)&&i(!0))}function u(b){return b.key==="F10"&&b.shiftKey||b.key==="."&&dr(b)||b.key==="ContextMenu"}function f(b){b.preventDefault(),b.stopPropagation()}function h(b){b.preventDefault(),b.stopPropagation()}function g(b){b.currentTarget?.querySelector("ul")?.focus()}const p={placement:"bottom-start",trigger:"manual",hideOnClick:!0,interactive:!0,delay:0,duration:0,allowHTML:!0,appendTo:document.querySelector("body"),onShow:b=>{const k=r.menuItemFactory();if(!k||k.length===0)return!1;b.setContent(_r(()=>(()=>{var _=qA();return A(_,y(It,{each:k,children:v=>v===eo?HA():(()=>{var x=VA(),S=x.firstChild,w=S.nextSibling;return x.addEventListener("mouseenter",T=>T.currentTarget.focus()),x.$$click=T=>{v.action?.(T),i(!1)},A(x,()=>v.text,w),A(w,()=>v.shortcut),oe(T=>{var L=v.action?"-1":void 0,E=!v.action,C=v.checked===!0;return L!==T.e&&Me(x,"tabindex",T.e=L),E!==T.t&&x.classList.toggle("disabled",T.t=E),C!==T.a&&S.classList.toggle("codicon-check",T.a=C),T},{e:void 0,t:void 0,a:void 0}),x})()})),_})())),b.popper.classList.add("context-menu"),b.popper.addEventListener("mousedown",f),b.popper.addEventListener("mouseleave",g),b.popper.addEventListener("contextmenu",h),document.addEventListener("keydown",c),document.addEventListener("keyup",l),requestAnimationFrame(()=>{KA()}),i(!0)},onShown:b=>{o=document.activeElement,b.popper.querySelector("ul")?.focus()},onHide:b=>{b.setContent(""),b.popper.removeEventListener("mousedown",f),b.popper.removeEventListener("mouseleave",g),b.popper.removeEventListener("contextmenu",h),document.removeEventListener("keydown",c),document.removeEventListener("keyup",l),XA(),i(!1),requestAnimationFrame(()=>{o?.focus?.({preventScroll:!0}),o=null})},getReferenceClientRect:r.menuPositionOverride?()=>{let b,k;const _=r.menuPositionOverride();if(!_)b=Km,k=Xm;else{const v=_();v?(b=v[0],k=v[1]):(b=Km,k=Xm)}return{width:0,height:0,top:k,right:b,bottom:k,left:b}}:null,popperOptions:{strategy:"fixed",modifiers:[{name:"preventOverflow",options:{boundary:"viewport",padding:2}},{name:"flip",options:{fallbackPlacements:["top","bottom","right","left"]}}]}},m=r.tippyPropOverrides?{...p,...r.tippyPropOverrides}:p;Vt(()=>{if(r.keyboardTrigger){let b=t;for(;b;){if(b.getAttribute("data-namespace")===r.keyboardTrigger.namespace){a=b;break}b=b.parentElement}}a?.addEventListener("keyup",d),jA(),s=bs(t,m),yt(()=>{n()?s.show():s.hide()})}),Xe(()=>{s.destroy(),a?.removeEventListener("keyup",d),zA()})}At(["click"]);var YA=D("<button>"),JA=D("<a target=_blank>"),ZA=D('<svg class="h-[--panel-smaller-font-size] w-[--panel-smaller-font-size] fill-[--foreground] opacity-90"xmlns=http://www.w3.org/2000/svg viewBox="0 0 256 512"><path d="M.1 29.3C-1.4 47 11.7 62.4 29.3 63.9l8 .7C70.5 67.3 96 95 96 128.3L96 224l-32 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l32 0 0 95.7c0 33.3-25.5 61-58.7 63.8l-8 .7C11.7 449.6-1.4 465 .1 482.7s16.9 30.7 34.5 29.2l8-.7c34.1-2.8 64.2-18.9 85.4-42.9c21.2 24 51.2 40 85.4 42.9l8 .7c17.6 1.5 33.1-11.6 34.5-29.2s-11.6-33.1-29.2-34.5l-8-.7C185.5 444.7 160 417 160 383.7l0-95.7 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-32 0 0-95.7c0-33.3 25.5-61 58.7-63.8l8-.7c17.6-1.5 30.7-16.9 29.2-34.5S239-1.4 221.3 .1l-8 .7C179.2 3.6 149.2 19.7 128 43.7c-21.2-24-51.2-40-85.4-42.9l-8-.7C17-1.4 1.6 11.7 .1 29.3z">');function se(t){const[e,r]=z(),[n,i]=z(!1);yt(()=>{r(t.classList)});const o=(()=>{var s=YA();return ae(_i,s,()=>_i&&t.menuItems&&{menuItemFactory:t.menuItems,menuOpen:[n,i],tippyPropOverrides:{maxWidth:"95vw"}}),ae(re,s,()=>re&&{content:t.tooltip,...t.tooltipOpts}),s.$$focusout=a=>t.onFocusOut?.(a),Ci(s,"click",t.onClick?t.onClick:t.menuItems?()=>i(!n()):void 0,!0),A(s,()=>t.children),oe(a=>{var l=t.contentEditable,c=t.namespace,d=t.tabIndex===void 0?-1:t.tabIndex,u=e(),f=t.style,h=`icon ${t.onClick||t.menuItems?"clickableIcon":""} icon-opacity codicon p-[0.15625rem] ${t.class||void 0}`;return l!==a.e&&Me(s,"contenteditable",a.e=l),c!==a.t&&Me(s,"data-namespace",a.t=c),d!==a.a&&Me(s,"tabindex",a.a=d),a.o=Et(s,u,a.o),a.i=dn(s,f,a.i),h!==a.n&&hr(s,a.n=h),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),s})();return t.href?(()=>{var s=JA();return A(s,o),oe(()=>Me(s,"href",t.href)),s})():o}const tu=ZA();At(["click","focusout"]);const G5=6.8,ss="When you focus a test, coverage indicators in the editor will be updated to show only the coverage for the focused test. Inline logs and errors displayed in the editor will also be updated to show only the logs and errors for the focused test.",U5="When enabled, hovering over any expression or selection will evaluate, capture, and display the associated value(s).",W5="When disabled, the inline view will be used to display the diff when horizontal space is limited.",QA="Copilot Chat is used to send error details (message, stack trace, and test name) to the AI model. The model may use Wallaby tools for additional info, but all tool calls require explicit user permission by default.";function n_(t,e,r){let n=0,i=t.length;for(;n<i;){const o=n+i>>>1;r(t[o],e)<0?n=o+1:i=o}return n}const $t={tests:100,logs:1e3,preCompletedLogs:100,errors:100,errorSizeBytesToSkipCompactDiff:15e3,errorExpectedActualSizeBytesToSkipCompactDiff:18e3,errorSizeBytesToPartiallyTruncate:2e4,errorsWithFullDisplayOnly:30,errorSizeBytesWithFullDisplayOnly:5e4,errorSizeBytesToFullyTruncateIfExceeded:1e4},e9=300,[t9,q5]=Ar(t=>t.value),[r9,yc]=Ar(t=>t.value);function n9(t){return JSON.parse(t.value)}function i9(t){return t=t.replace(/\\/g,"/"),t[0]!=="/"&&(t=`/${t}`),encodeURI(`file://${t}`).replace(/[?#]/g,encodeURIComponent)}function H5(t){try{const e=new URL(t).pathname;return decodeURIComponent(e)}catch{return}}function o9(t){return V5(t)||t.startsWith("file")?t:i9(t)}function V5(t){return t.startsWith("http://")||t.startsWith("https://")}function s9(t,e){if(V5(t))return t;if(t.startsWith("file")&&(t=H5(t)||t),t=t.replace(/\\/g,"/"),e&&(e=e.replace(/\\/g,"/"),t.startsWith(e))){let r=t.substring(e.length);return r.startsWith("/")&&(r=r.substring(1)),r}return t}function i_(t,e){return t.length>e?t.substr(0,e):t}var a9=D('<div class="code absolute z-[9998] max-w-[90%] overflow-y-auto rounded-[var(--editor-hover-widget-border-radius)] border border-[--editor-hover-widget-border] bg-[--editor-hover-widget-code-background] text-[length:var(--panel-font-size)] outline-none"data-namespace=shared.popup.fragment tabindex=-1><div class="mb-1 flex flex-row items-center justify-center border-b border-b-[--editor-hover-widget-border] py-[0.1875rem] pl-3 pr-1 text-[--subtle-foreground] [&amp;_button]:!text-[length:--icon-font-size]"><div class="flex-grow truncate pr-1">:</div><div></div></div><div class="overflow-auto pb-1">'),l9=D('<span class="text-[var(--source-context-foreground)] opacity-80"> '),c9=D('<p class="m-0 ml-3 mr-3 whitespace-pre"><span class=" inline-block select-none pr-3 text-[--editor-line-number-foreground]"></span><span class=inline-block>');let rr;const pl=(t,e)=>t===void 0&&e===void 0||(t?.frame===void 0&&e?.frame===void 0&&t?.file===e?.file&&t?.line===e?.line||t?.frame!==void 0&&e?.frame!==void 0&&t?.frame===e?.frame)&&t?.navigatable===e?.navigatable&&t?.context===e?.context,[kt,di]=z(void 0,{equals:pl}),d9=()=>kt()!==void 0;let Sr;function la(t,e){Sr?.(),_r(r=>{ca(t,()=>({file:e.file,line:e.line||1,cwd:e.cwd,options:{focus:!0,select:!0,closeOnClickOutside:!0},navigatable:!0}));const n=t.closest(".scrollable,.scrollable_");let i;if(n){const o=t.getBoundingClientRect(),s=n.getBoundingClientRect();i=o.top>=s.top&&o.bottom<=s.bottom&&o.left>=s.left&&o.right<=s.right?o:s}else i=t.getBoundingClientRect();if(i)Sr=()=>{d9()&&t.dispatchEvent(new CustomEvent("hideCodeFragment")),r(),Sr=void 0},t.dispatchEvent(new CustomEvent("showCodeFragment",{detail:i}));else return})}function _a(t){return Sr?(kt()&&(t.key==="Enter"||t.key===" ")&&yc().navigate({file:kt().file,line:kt().line,column:kt().column},t,{...kt().options||{},focus:t.key==="Enter"}),Sr(),!0):!1}function u9(){const t=q5(),[e,r]=z();a5(e,()=>{rr&&(rr=void 0,di(void 0),Sr?.())});const n=s=>{kt().navigatable&&(s.preventDefault(),s.stopPropagation(),rr=void 0,t.navigate({file:kt().file,line:kt().line,column:kt().column},s,kt().options),di(void 0),Sr?.())},i=()=>kt().content,o=()=>i().frame.end.toString().length;return y(V,{get when(){return kt()},get children(){var s=a9(),a=s.firstChild,l=a.firstChild,c=l.firstChild,d=l.nextSibling,u=a.nextSibling;return s.addEventListener("mouseleave",()=>{rr=void 0,setTimeout(()=>rr===void 0&&di(void 0),150),Sr?.()}),s.$$keydown=f=>{f.key==="Escape"&&(rr=void 0,di(void 0),Sr?.(),f.preventDefault(),f.stopPropagation())},s.addEventListener("mouseenter",()=>kt()&&(rr={file:kt().file,line:kt().line,frame:kt().frame,cwd:kt().cwd,navigatable:kt().navigatable,element:e(),handleMouseMove:kt().handleMouseMove})),ae(f=>{r(f),yt(()=>kt()&&h9(f,kt().position.x,kt().position.y))},s),l.$$click=n,A(l,()=>s9(kt().file,kt().cwd),c),A(l,()=>kt().line,null),A(l,(()=>{var f=U(()=>!!kt().context);return()=>f()?(()=>{var h=l9();return h.firstChild,A(h,()=>kt().context,null),h})():null})(),null),A(d,y(V,{get when(){return kt().navigatable},get children(){return y(se,{class:"codicon-go-to-file pl-[0.09375rem] pr-[0.21875rem]",get style(){return{color:kt().color?`color-mix(in srgb, ${kt().color} 45%, var(--subtle-foreground))`:void 0}},onClick:n,get tooltip(){return`Open in editor${t.editorTooltipAddendum()()}${Sr?"<br/><br/><span class='keyboard-shortcut'>Enter</span> to open and focus, <span class='keyboard-shortcut'>Space</span> to open without focus":""}`}})}})),A(u,()=>kt()?.content.lines.map((f,h)=>{const g=i().frame.start+h;return(()=>{var p=c9(),m=p.firstChild,b=m.nextSibling;return A(m,()=>g.toString().padStart(o()," ")),b.innerHTML=f,oe(k=>{var _=i().current===h?"var(--editor-line-number-active-foreground)":void 0,v=i().current!==h?.6:void 0;return _!==k.e&&((k.e=_)!=null?m.style.setProperty("color",_):m.style.removeProperty("color")),v!==k.t&&((k.t=v)!=null?b.style.setProperty("opacity",v):b.style.removeProperty("opacity")),k},{e:void 0,t:void 0}),p})()})),oe(()=>(kt().navigatable?"pointer":"default")!=null?l.style.setProperty("cursor",kt().navigatable?"pointer":"default"):l.style.removeProperty("cursor")),s}})}function ca(t,e){const r=yc(),n=async(d,u,f)=>{const h=e();if(h&&!(rr&&pl(rr,h)&&f9(rr.element,t))&&(rr={...h,element:t},f||await new Promise(g=>setTimeout(g,h.delay||200)),rr&&pl(rr,h)&&rr.element===t)){di(void 0),await new Promise(m=>setTimeout(m,1));let g={file:h.file,line:h.line,cwd:h.cwd};h.frame!==void 0&&(g=await r.getLocationByTraceFrame(h.frame)||g);const p=await r.highlight(g.file,g.line||1);rr&&pl(rr,h)&&rr.element===t&&(di(p?{file:g.file,line:g.line,cwd:g.cwd,column:h.column,navigatable:h.navigatable,handleMouseMove:h.handleMouseMove,options:h.options,context:h.context,content:p,position:{x:d,y:u},color:h.color}:void 0),r.featureUsed("codeTooltip"))}},i=d=>{try{rr=void 0,d?di(void 0):setTimeout(()=>{rr===void 0&&di(void 0)},200)}finally{Sr?.()}},o=async d=>{d.detail&&(Sr||(Sr=()=>{Sr=void 0,s()}),await n(d.detail.x,d.detail.y,!0))},s=()=>{i(!0)},a=async d=>{await n(d.clientX,d.clientY,!1)},l=()=>{Sr||i(!1)},c=async d=>{if(rr&&!rr.handleMouseMove){t.removeEventListener("mousemove",c);return}await n(d.clientX,d.clientY,!1)};t.addEventListener("showCodeFragment",o),t.addEventListener("hideCodeFragment",s),t.addEventListener("mouseenter",a),t.addEventListener("mouseleave",l),t.addEventListener("mousemove",c),Xe(()=>t.removeEventListener("showCodeFragment",o)),Xe(()=>t.removeEventListener("hideCodeFragment",s)),Xe(()=>t.removeEventListener("mouseenter",a)),Xe(()=>t.removeEventListener("mouseleave",l)),Xe(()=>t.removeEventListener("mousemove",c))}function h9(t,e,r){const n=t.offsetHeight,i=t.offsetWidth,o=10;t.style.maxHeight="unset";const s=r+n+o<t.parentElement.offsetHeight,a=r-n-o>0;!s&&!a&&(t.style.maxHeight=`${t.parentElement.offsetHeight}px`),t.style.top=`${s?r+o:a?r-n-o:0}px`;const l=e+i<t.parentElement.offsetWidth;e-i>0?t.style.right=`${t.parentElement.offsetWidth-e}px`:l&&(t.style.left=`${e}px`)}function f9(t,e){return t===e?!0:t instanceof HTMLElement?t.getAttribute("data-id")===e.getAttribute("data-id"):!1}At(["keydown","click"]);function g9(t,e){const r=/^#([A-Fa-f0-9]{3,8})$/.test(e)?o_(e):p9(e);if(/^#([A-Fa-f0-9]{3,8})$/.test(t)){const o=o_(t);return s_(o,r)}const n=/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/,i=t.match(n);if(i){const o=parseInt(i[1]),s=parseInt(i[2]),a=parseInt(i[3]),l=i[4]!==void 0?parseFloat(i[4]):1;return s_({r:o,g:s,b:a,a:l},r)}return t}function o_(t){t.length===4&&(t="#"+[...t.slice(1)].map(s=>s+s).join(""));const e=parseInt(t.slice(1),16),r=e>>16&255,n=e>>8&255,i=e&255,o=t.length===9?(e&255)/255:1;return{r,g:n,b:i,a:o}}function p9(t){const e=/rgb\((\d+),\s*(\d+),\s*(\d+)\)/,r=t.match(e);return r?{r:parseInt(r[1]),g:parseInt(r[2]),b:parseInt(r[3])}:{r:255,g:255,b:255}}function s_(t,e){const r=Math.round(t.r*t.a+e.r*(1-t.a)),n=Math.round(t.g*t.a+e.g*(1-t.a)),i=Math.round(t.b*t.a+e.b*(1-t.a));return`rgb(${r}, ${n}, ${i})`}function yi(t){const[e,r]=z(!1);let n;return yt(()=>{t.when,clearTimeout(n),t.delay===0?r(!0):(r(!1),n=setTimeout(()=>r(!0),t.delay||250))}),Xe(()=>clearTimeout(n)),y(V,{get when(){return e()},get fallback(){return t.untilThen},get children(){return y(V,{get when(){return t.when??!0},get fallback(){return t.fallback},get children(){return t.children}})}})}function ze(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var Mt=-1,Wt=1,ct=0;ze.prototype.diff_main=function(t,e,r,n){typeof n>"u"&&(this.Diff_Timeout<=0?n=Number.MAX_VALUE:n=new Date().getTime()+this.Diff_Timeout*1e3);var i=n;if(t==null||e==null)throw new Error("Null input. (diff_main)");if(t==e)return t?[[ct,t]]:[];typeof r>"u"&&(r=!0);var o=r,s=this.diff_commonPrefix(t,e),a=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=this.diff_commonSuffix(t,e);var l=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var c=this.diff_compute_(t,e,o,i);return a&&c.unshift([ct,a]),l&&c.push([ct,l]),this.diff_cleanupMerge(c),c};ze.prototype.diff_compute_=function(t,e,r,n){var i;if(!t)return[[Wt,e]];if(!e)return[[Mt,t]];var o=t.length>e.length?t:e,s=t.length>e.length?e:t,a=o.indexOf(s);if(a!=-1)return i=[[Wt,o.substring(0,a)],[ct,s],[Wt,o.substring(a+s.length)]],t.length>e.length&&(i[0][0]=i[2][0]=Mt),i;if(s.length==1)return[[Mt,t],[Wt,e]];var l=this.diff_halfMatch_(t,e);if(l){var c=l[0],d=l[1],u=l[2],f=l[3],h=l[4],g=this.diff_main(c,u,r,n),p=this.diff_main(d,f,r,n);return g.concat([[ct,h]],p)}return r&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,n):this.diff_bisect_(t,e,n)};ze.prototype.diff_lineMode_=function(t,e,r){var n=this.diff_linesToChars_(t,e);t=n.chars1,e=n.chars2;var i=n.lineArray,o=this.diff_main(t,e,!1,r);this.diff_charsToLines_(o,i),this.diff_cleanupSemantic(o),o.push([ct,""]);for(var s=0,a=0,l=0,c="",d="";s<o.length;){switch(o[s][0]){case Wt:l++,d+=o[s][1];break;case Mt:a++,c+=o[s][1];break;case ct:if(a>=1&&l>=1){o.splice(s-a-l,a+l),s=s-a-l;for(var n=this.diff_main(c,d,!1,r),u=n.length-1;u>=0;u--)o.splice(s,0,n[u]);s=s+n.length}l=0,a=0,c="",d="";break}s++}return o.pop(),o};ze.prototype.diff_bisect_=function(t,e,r){for(var n=t.length,i=e.length,o=Math.ceil((n+i)/2),s=o,a=2*o,l=new Array(a),c=new Array(a),d=0;d<a;d++)l[d]=-1,c[d]=-1;l[s+1]=0,c[s+1]=0;for(var u=n-i,f=u%2!=0,h=0,g=0,p=0,m=0,b=0;b<o&&!(new Date().getTime()>r);b++){for(var k=-b+h;k<=b-g;k+=2){var _=s+k,v;k==-b||k!=b&&l[_-1]<l[_+1]?v=l[_+1]:v=l[_-1]+1;for(var x=v-k;v<n&&x<i&&t.charAt(v)==e.charAt(x);)v++,x++;if(l[_]=v,v>n)g+=2;else if(x>i)h+=2;else if(f){var S=s+u-k;if(S>=0&&S<a&&c[S]!=-1){var w=n-c[S];if(v>=w)return this.diff_bisectSplit_(t,e,v,x,r)}}}for(var T=-b+p;T<=b-m;T+=2){var S=s+T,w;T==-b||T!=b&&c[S-1]<c[S+1]?w=c[S+1]:w=c[S-1]+1;for(var L=w-T;w<n&&L<i&&t.charAt(n-w-1)==e.charAt(i-L-1);)w++,L++;if(c[S]=w,w>n)m+=2;else if(L>i)p+=2;else if(!f){var _=s+u-T;if(_>=0&&_<a&&l[_]!=-1){var v=l[_],x=s+v-_;if(w=n-w,v>=w)return this.diff_bisectSplit_(t,e,v,x,r)}}}}return[[Mt,t],[Wt,e]]};ze.prototype.diff_bisectSplit_=function(t,e,r,n,i){var o=t.substring(0,r),s=e.substring(0,n),a=t.substring(r),l=e.substring(n),c=this.diff_main(o,s,!1,i),d=this.diff_main(a,l,!1,i);return c.concat(d)};ze.prototype.diff_linesToChars_=function(t,e){var r=[],n=Object.create(null);r[0]="";function i(a){for(var l="",c=0,d=-1,u=r.length;d<a.length-1;){d=a.indexOf(`
`,c),d==-1&&(d=a.length-1);var f=a.substring(c,d+1);c=d+1,n[f]!==void 0?l+=String.fromCharCode(n[f]):(l+=String.fromCharCode(u),n[f]=u,r[u++]=f)}return l}var o=i(t),s=i(e);return{chars1:o,chars2:s,lineArray:r}};ze.prototype.diff_wordMode=function(t,e){var r=this.diff_linesToWords_(t,e),n=r.chars1,i=r.chars2,o=r.lineArray,s=this.diff_main(n,i,!1);return this.diff_charsToLines_(s,o),s};ze.prototype.diff_linesToWords_=function(t,e){var r=[],n=Object.create(null);r[0]="";var i=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/;function o(c){for(var d=c.split(/(\s+|\b)/),u=0;u<d.length-1;u++)!d[u+1]&&d[u+2]&&i.test(d[u])&&i.test(d[u+2])&&(d[u]+=d[u+2],d.splice(u+1,2),u--);return d}function s(c){for(var d="",u=o(c),f=r.length,h=0,g=u.length;h<g;h++){var p=u[h];n[p]!==void 0?d+=String.fromCharCode(n[p]):(d+=String.fromCharCode(f),n[p]=f,r[f++]=p)}return d}var a=s(t),l=s(e);return{chars1:a,chars2:l,lineArray:r}};ze.prototype.diff_charsToLines_=function(t,e){for(var r=0;r<t.length;r++){for(var n=t[r][1],i=[],o=0;o<n.length;o++)i[o]=e[n.charCodeAt(o)];t[r][1]=i.join("")}};ze.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,o=0;r<i;)t.substring(o,i)==e.substring(o,i)?(r=i,o=r):n=i,i=Math.floor((n-r)/2+r);return i};ze.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,o=0;r<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(r=i,o=r):n=i,i=Math.floor((n-r)/2+r);return i};ze.prototype.diff_commonOverlap_=function(t,e){var r=t.length,n=e.length;if(r==0||n==0)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var i=Math.min(r,n);if(t==e)return i;for(var o=0,s=1;;){var a=t.substring(i-s),l=e.indexOf(a);if(l==-1)return o;s+=l,(l==0||t.substring(i-s)==e.substring(0,s))&&(o=s,s++)}};ze.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;var i=this;function o(g,p,m){for(var b=g.substring(m,m+Math.floor(g.length/4)),k=-1,_="",v,x,S,w;(k=p.indexOf(b,k+1))!=-1;){var T=i.diff_commonPrefix(g.substring(m),p.substring(k)),L=i.diff_commonSuffix(g.substring(0,m),p.substring(0,k));_.length<L+T&&(_=p.substring(k-L,k)+p.substring(k,k+T),v=g.substring(0,m-L),x=g.substring(m+T),S=p.substring(0,k-L),w=p.substring(k+T))}return _.length*2>=g.length?[v,x,S,w,_]:null}var s=o(r,n,Math.ceil(r.length/4)),a=o(r,n,Math.ceil(r.length/2)),l;if(!s&&!a)return null;a?s?l=s[4].length>a[4].length?s:a:l=a:l=s;var c,d,u,f;t.length>e.length?(c=l[0],d=l[1],u=l[2],f=l[3]):(u=l[0],f=l[1],c=l[2],d=l[3]);var h=l[4];return[c,d,u,f,h]};ze.prototype.diff_cleanupSemantic=function(t){for(var e=!1,r=[],n=0,i=null,o=0,s=0,a=0,l=0,c=0;o<t.length;)t[o][0]==ct?(r[n++]=o,s=l,a=c,l=0,c=0,i=t[o][1]):(t[o][0]==Wt?l+=t[o][1].length:c+=t[o][1].length,i&&i.length<=Math.max(s,a)&&i.length<=Math.max(l,c)&&(t.splice(r[n-1],0,[Mt,i]),t[r[n-1]+1][0]=Wt,n--,n--,o=n>0?r[n-1]:-1,s=0,a=0,l=0,c=0,i=null,e=!0)),o++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),o=1;o<t.length;){if(t[o-1][0]==Mt&&t[o][0]==Wt){var d=t[o-1][1],u=t[o][1],f=this.diff_commonOverlap_(d,u),h=this.diff_commonOverlap_(u,d);f>=h?(f>=d.length/2||f>=u.length/2)&&(t.splice(o,0,[ct,u.substring(0,f)]),t[o-1][1]=d.substring(0,d.length-f),t[o+1][1]=u.substring(f),o++):(h>=d.length/2||h>=u.length/2)&&(t.splice(o,0,[ct,d.substring(0,h)]),t[o-1][0]=Wt,t[o-1][1]=u.substring(0,u.length-h),t[o+1][0]=Mt,t[o+1][1]=d.substring(h),o++),o++}o++}};ze.prototype.diff_cleanupSemanticLossless=function(t){function e(h,g){if(!h||!g)return 6;var p=h.charAt(h.length-1),m=g.charAt(0),b=p.match(ze.nonAlphaNumericRegex_),k=m.match(ze.nonAlphaNumericRegex_),_=b&&p.match(ze.whitespaceRegex_),v=k&&m.match(ze.whitespaceRegex_),x=_&&p.match(ze.linebreakRegex_),S=v&&m.match(ze.linebreakRegex_),w=x&&h.match(ze.blanklineEndRegex_),T=S&&g.match(ze.blanklineStartRegex_);return w||T?5:x||S?4:b&&!_&&v?3:_||v?2:b||k?1:0}for(var r=1;r<t.length-1;){if(t[r-1][0]==ct&&t[r+1][0]==ct){var n=t[r-1][1],i=t[r][1],o=t[r+1][1],s=this.diff_commonSuffix(n,i);if(s){var a=i.substring(i.length-s);n=n.substring(0,n.length-s),i=a+i.substring(0,i.length-s),o=a+o}for(var l=n,c=i,d=o,u=e(n,i)+e(i,o);i.charAt(0)===o.charAt(0);){n+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var f=e(n,i)+e(i,o);f>=u&&(u=f,l=n,c=i,d=o)}t[r-1][1]!=l&&(l?t[r-1][1]=l:(t.splice(r-1,1),r--),t[r][1]=c,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}};ze.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;ze.whitespaceRegex_=/\s/;ze.linebreakRegex_=/[\r\n]/;ze.blanklineEndRegex_=/\n\r?\n$/;ze.blanklineStartRegex_=/^\r?\n\r?\n/;ze.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,r=[],n=0,i=null,o=0,s=!1,a=!1,l=!1,c=!1;o<t.length;)t[o][0]==ct?(t[o][1].length<this.Diff_EditCost&&(l||c)?(r[n++]=o,s=l,a=c,i=t[o][1]):(n=0,i=null),l=c=!1):(t[o][0]==Mt?c=!0:l=!0,i&&(s&&a&&l&&c||i.length<this.Diff_EditCost/2&&s+a+l+c==3)&&(t.splice(r[n-1],0,[Mt,i]),t[r[n-1]+1][0]=Wt,n--,i=null,s&&a?(l=c=!0,n=0):(n--,o=n>0?r[n-1]:-1,l=c=!1),e=!0)),o++;e&&this.diff_cleanupMerge(t)};ze.prototype.diff_cleanupMerge=function(t){t.push([ct,""]);for(var e=0,r=0,n=0,i="",o="",s;e<t.length;)switch(t[e][0]){case Wt:n++,o+=t[e][1],e++;break;case Mt:r++,i+=t[e][1],e++;break;case ct:r+n>1?(r!==0&&n!==0&&(s=this.diff_commonPrefix(o,i),s!==0&&(e-r-n>0&&t[e-r-n-1][0]==ct?t[e-r-n-1][1]+=o.substring(0,s):(t.splice(0,0,[ct,o.substring(0,s)]),e++),o=o.substring(s),i=i.substring(s)),s=this.diff_commonSuffix(o,i),s!==0&&(t[e][1]=o.substring(o.length-s)+t[e][1],o=o.substring(0,o.length-s),i=i.substring(0,i.length-s))),r===0?t.splice(e-n,r+n,[Wt,o]):n===0?t.splice(e-r,r+n,[Mt,i]):t.splice(e-r-n,r+n,[Mt,i],[Wt,o]),e=e-r-n+(r?1:0)+(n?1:0)+1):e!==0&&t[e-1][0]==ct?(t[e-1][1]+=t[e][1],t.splice(e,1)):e++,n=0,r=0,i="",o="";break}t[t.length-1][1]===""&&t.pop();var a=!1;for(e=1;e<t.length-1;)t[e-1][0]==ct&&t[e+1][0]==ct&&(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]?(t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length),t[e+1][1]=t[e-1][1]+t[e+1][1],t.splice(e-1,1),a=!0):t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]&&(t[e-1][1]+=t[e+1][1],t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1],t.splice(e+1,1),a=!0)),e++;a&&this.diff_cleanupMerge(t)};ze.prototype.diff_xIndex=function(t,e){var r=0,n=0,i=0,o=0,s;for(s=0;s<t.length&&(t[s][0]!==Wt&&(r+=t[s][1].length),t[s][0]!==Mt&&(n+=t[s][1].length),!(r>e));s++)i=r,o=n;return t.length!=s&&t[s][0]===Mt?o:o+(e-i)};ze.prototype.diff_prettyHtml=function(t){for(var e=[],r=/&/g,n=/</g,i=/>/g,o=/\n/g,s=0;s<t.length;s++){var a=t[s][0],l=t[s][1],c=l.replace(r,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(a){case Wt:e[s]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case Mt:e[s]='<del style="background:#ffe6e6;">'+c+"</del>";break;case ct:e[s]="<span>"+c+"</span>";break}}return e.join("")};ze.prototype.diff_prettyCompactHtml=function(t){for(var e=[],r=0;r<t.length;r++){var n=r===0,i=r===t.length-1,o=t[r][0],s=t[r][1];switch(o){case Wt:e[r]='<ins style="background:#e6ffe6;">'+this.prepare_text_(s)+"</ins>";break;case Mt:e[r]='<del style="background:#ffe6e6;">'+this.prepare_text_(s)+"</del>";break;case ct:e[r]="<span>"+this.truncate_context_(s,n,i)+"</span>";break}}return e.join("")};ze.prototype.prepare_text_=function(t){var e=/&/g,r=/</g,n=/>/g,i=/\n/g;return t.replace(e,"&amp;").replace(r,"&lt;").replace(n,"&gt;").replace(i,"&para;<br>")};ze.prototype.truncate_context_=function(t,e,r){var n=t.split(/\r\n|\r|\n/),i='<span class="dots">...</span>',o=n.length,s=4;return o<=s?this.prepare_text_(t):!e&&!r&&o<=s*2?this.prepare_text_(t):e?i+this.prepare_text_(`
`+n.slice(-s).join(`
`)):r?this.prepare_text_(n.slice(0,s).join(`
`)+`
`)+i:this.prepare_text_(n.slice(0,s).join(`
`)+`
`)+i+this.prepare_text_(`
`+n.slice(-s).join(`
`))};ze.prototype.diff_text1=function(t){for(var e=[],r=0;r<t.length;r++)t[r][0]!==Wt&&(e[r]=t[r][1]);return e.join("")};ze.prototype.diff_text2=function(t){for(var e=[],r=0;r<t.length;r++)t[r][0]!==Mt&&(e[r]=t[r][1]);return e.join("")};ze.prototype.diff_levenshtein=function(t){for(var e=0,r=0,n=0,i=0;i<t.length;i++){var o=t[i][0],s=t[i][1];switch(o){case Wt:r+=s.length;break;case Mt:n+=s.length;break;case ct:e+=Math.max(r,n),r=0,n=0;break}}return e+=Math.max(r,n),e};ze.prototype.diff_toDelta=function(t){for(var e=[],r=0;r<t.length;r++)switch(t[r][0]){case Wt:e[r]="+"+encodeURI(t[r][1]);break;case Mt:e[r]="-"+t[r][1].length;break;case ct:e[r]="="+t[r][1].length;break}return e.join("	").replace(/%20/g," ")};ze.prototype.diff_fromDelta=function(t,e){for(var r=[],n=0,i=0,o=e.split(/\t/g),s=0;s<o.length;s++){var a=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{r[n++]=[Wt,decodeURI(a)]}catch{throw new Error("Illegal escape in diff_fromDelta: "+a)}break;case"-":case"=":var l=parseInt(a,10);if(isNaN(l)||l<0)throw new Error("Invalid number in diff_fromDelta: "+a);var c=t.substring(i,i+=l);o[s].charAt(0)=="="?r[n++]=[ct,c]:r[n++]=[Mt,c];break;default:if(o[s])throw new Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(i!=t.length)throw new Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return r};ze.prototype.match_main=function(t,e,r){if(t==null||e==null||r==null)throw new Error("Null input. (match_main)");return r=Math.max(0,Math.min(r,t.length)),t==e?0:t.length?t.substring(r,r+e.length)==e?r:this.match_bitap_(t,e,r):-1};ze.prototype.match_bitap_=function(t,e,r){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var n=this.match_alphabet_(e),i=this;function o(v,x){var S=v/e.length,w=Math.abs(r-x);return i.Match_Distance?S+w/i.Match_Distance:w?1:S}var s=this.Match_Threshold,a=t.indexOf(e,r);a!=-1&&(s=Math.min(o(0,a),s),a=t.lastIndexOf(e,r+e.length),a!=-1&&(s=Math.min(o(0,a),s)));var l=1<<e.length-1;a=-1;for(var c,d,u=e.length+t.length,f,h=0;h<e.length;h++){for(c=0,d=u;c<d;)o(h,r+d)<=s?c=d:u=d,d=Math.floor((u-c)/2+c);u=d;var g=Math.max(1,r-d+1),p=Math.min(r+d,t.length)+e.length,m=Array(p+2);m[p+1]=(1<<h)-1;for(var b=p;b>=g;b--){var k=n[t.charAt(b-1)];if(h===0?m[b]=(m[b+1]<<1|1)&k:m[b]=(m[b+1]<<1|1)&k|((f[b+1]|f[b])<<1|1)|f[b+1],m[b]&l){var _=o(h,b-1);if(_<=s)if(s=_,a=b-1,a>r)g=Math.max(1,2*r-a);else break}}if(o(h+1,r)>s)break;f=m}return a};ze.prototype.match_alphabet_=function(t){for(var e={},r=0;r<t.length;r++)e[t.charAt(r)]=0;for(var r=0;r<t.length;r++)e[t.charAt(r)]|=1<<t.length-r-1;return e};ze.prototype.patch_addContext_=function(t,e){if(e.length!=0){for(var r=e.substring(t.start2,t.start2+t.length1),n=0;e.indexOf(r)!=e.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n+=this.Patch_Margin,r=e.substring(t.start2-n,t.start2+t.length1+n);n+=this.Patch_Margin;var i=e.substring(t.start2-n,t.start2);i&&t.diffs.unshift([ct,i]);var o=e.substring(t.start2+t.length1,t.start2+t.length1+n);o&&t.diffs.push([ct,o]),t.start1-=i.length,t.start2-=i.length,t.length1+=i.length+o.length,t.length2+=i.length+o.length}};ze.prototype.patch_make=function(t,e,r){var n,i;if(typeof t=="string"&&typeof e=="string"&&typeof r>"u")n=t,i=this.diff_main(n,e,!0),i.length>2&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(t&&typeof t=="object"&&typeof e>"u"&&typeof r>"u")i=t,n=this.diff_text1(i);else if(typeof t=="string"&&e&&typeof e=="object"&&typeof r>"u")n=t,i=e;else if(typeof t=="string"&&typeof e=="string"&&r&&typeof r=="object")n=t,i=r;else throw new Error("Unknown call format to patch_make.");if(i.length===0)return[];for(var o=[],s=new ze.patch_obj,a=0,l=0,c=0,d=n,u=n,f=0;f<i.length;f++){var h=i[f][0],g=i[f][1];switch(!a&&h!==ct&&(s.start1=l,s.start2=c),h){case Wt:s.diffs[a++]=i[f],s.length2+=g.length,u=u.substring(0,c)+g+u.substring(c);break;case Mt:s.length1+=g.length,s.diffs[a++]=i[f],u=u.substring(0,c)+u.substring(c+g.length);break;case ct:g.length<=2*this.Patch_Margin&&a&&i.length!=f+1?(s.diffs[a++]=i[f],s.length1+=g.length,s.length2+=g.length):g.length>=2*this.Patch_Margin&&a&&(this.patch_addContext_(s,d),o.push(s),s=new ze.patch_obj,a=0,d=u,l=c);break}h!==Wt&&(l+=g.length),h!==Mt&&(c+=g.length)}return a&&(this.patch_addContext_(s,d),o.push(s)),o};ze.prototype.patch_deepCopy=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r],i=new ze.patch_obj;i.diffs=[];for(var o=0;o<n.diffs.length;o++)i.diffs[o]=n.diffs[o].slice();i.start1=n.start1,i.start2=n.start2,i.length1=n.length1,i.length2=n.length2,e[r]=i}return e};ze.prototype.patch_apply=function(t,e){if(t.length==0)return[e,[]];t=this.patch_deepCopy(t);var r=this.patch_addPadding(t);e=r+e+r,this.patch_splitMax(t);for(var n=0,i=[],o=0;o<t.length;o++){var s=t[o].start2+n,a=this.diff_text1(t[o].diffs),l,c=-1;if(a.length>this.Match_MaxBits?(l=this.match_main(e,a.substring(0,this.Match_MaxBits),s),l!=-1&&(c=this.match_main(e,a.substring(a.length-this.Match_MaxBits),s+a.length-this.Match_MaxBits),(c==-1||l>=c)&&(l=-1))):l=this.match_main(e,a,s),l==-1)i[o]=!1,n-=t[o].length2-t[o].length1;else{i[o]=!0,n=l-s;var d;if(c==-1?d=e.substring(l,l+a.length):d=e.substring(l,c+this.Match_MaxBits),a==d)e=e.substring(0,l)+this.diff_text2(t[o].diffs)+e.substring(l+a.length);else{var u=this.diff_main(a,d,!1);if(a.length>this.Match_MaxBits&&this.diff_levenshtein(u)/a.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(u);for(var f=0,h,g=0;g<t[o].diffs.length;g++){var p=t[o].diffs[g];p[0]!==ct&&(h=this.diff_xIndex(u,f)),p[0]===Wt?e=e.substring(0,l+h)+p[1]+e.substring(l+h):p[0]===Mt&&(e=e.substring(0,l+h)+e.substring(l+this.diff_xIndex(u,f+p[1].length))),p[0]!==Mt&&(f+=p[1].length)}}}}}return e=e.substring(r.length,e.length-r.length),[e,i]};ze.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,r="",n=1;n<=e;n++)r+=String.fromCharCode(n);for(var n=0;n<t.length;n++)t[n].start1+=e,t[n].start2+=e;var i=t[0],o=i.diffs;if(o.length==0||o[0][0]!=ct)o.unshift([ct,r]),i.start1-=e,i.start2-=e,i.length1+=e,i.length2+=e;else if(e>o[0][1].length){var s=e-o[0][1].length;o[0][1]=r.substring(o[0][1].length)+o[0][1],i.start1-=s,i.start2-=s,i.length1+=s,i.length2+=s}if(i=t[t.length-1],o=i.diffs,o.length==0||o[o.length-1][0]!=ct)o.push([ct,r]),i.length1+=e,i.length2+=e;else if(e>o[o.length-1][1].length){var s=e-o[o.length-1][1].length;o[o.length-1][1]+=r.substring(0,s),i.length1+=s,i.length2+=s}return r};ze.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=e)){var n=t[r];t.splice(r--,1);for(var i=n.start1,o=n.start2,s="";n.diffs.length!==0;){var a=new ze.patch_obj,l=!0;for(a.start1=i-s.length,a.start2=o-s.length,s!==""&&(a.length1=a.length2=s.length,a.diffs.push([ct,s]));n.diffs.length!==0&&a.length1<e-this.Patch_Margin;){var c=n.diffs[0][0],d=n.diffs[0][1];c===Wt?(a.length2+=d.length,o+=d.length,a.diffs.push(n.diffs.shift()),l=!1):c===Mt&&a.diffs.length==1&&a.diffs[0][0]==ct&&d.length>2*e?(a.length1+=d.length,i+=d.length,l=!1,a.diffs.push([c,d]),n.diffs.shift()):(d=d.substring(0,e-a.length1-this.Patch_Margin),a.length1+=d.length,i+=d.length,c===ct?(a.length2+=d.length,o+=d.length):l=!1,a.diffs.push([c,d]),d==n.diffs[0][1]?n.diffs.shift():n.diffs[0][1]=n.diffs[0][1].substring(d.length))}s=this.diff_text2(a.diffs),s=s.substring(s.length-this.Patch_Margin);var u=this.diff_text1(n.diffs).substring(0,this.Patch_Margin);u!==""&&(a.length1+=u.length,a.length2+=u.length,a.diffs.length!==0&&a.diffs[a.diffs.length-1][0]===ct?a.diffs[a.diffs.length-1][1]+=u:a.diffs.push([ct,u])),l||t.splice(++r,0,a)}}};ze.prototype.patch_toText=function(t){for(var e=[],r=0;r<t.length;r++)e[r]=t[r];return e.join("")};ze.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var r=t.split(`
`),n=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;n<r.length;){var o=r[n].match(i);if(!o)throw new Error("Invalid patch string: "+r[n]);var s=new ze.patch_obj;for(e.push(s),s.start1=parseInt(o[1],10),o[2]===""?(s.start1--,s.length1=1):o[2]=="0"?s.length1=0:(s.start1--,s.length1=parseInt(o[2],10)),s.start2=parseInt(o[3],10),o[4]===""?(s.start2--,s.length2=1):o[4]=="0"?s.length2=0:(s.start2--,s.length2=parseInt(o[4],10)),n++;n<r.length;){var a=r[n].charAt(0);try{var l=decodeURI(r[n].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+l)}if(a=="-")s.diffs.push([Mt,l]);else if(a=="+")s.diffs.push([Wt,l]);else if(a==" ")s.diffs.push([ct,l]);else{if(a=="@")break;if(a!=="")throw new Error('Invalid patch mode "'+a+'" in: '+l)}n++}}return e};ze.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0};ze.patch_obj.prototype.toString=function(){var t,e;this.length1===0?t=this.start1+",0":this.length1==1?t=this.start1+1:t=this.start1+1+","+this.length1,this.length2===0?e=this.start2+",0":this.length2==1?e=this.start2+1:e=this.start2+1+","+this.length2;for(var r=["@@ -"+t+" +"+e+` @@
`],n,i=0;i<this.diffs.length;i++){switch(this.diffs[i][0]){case Wt:n="+";break;case Mt:n="-";break;case ct:n=" ";break}r[i+1]=n+encodeURI(this.diffs[i][1])+`
`}return r.join("").replace(/%20/g," ")};const a_=new ze,m9=/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g;function v9(t){return t.startsWith("http://")||t.startsWith("https://")}function wi(t,e=25){const r=v9(t);let n=(r?`${t.split(":").shift()}://.../`:"")+t.replace(/\\/g,"/").split("/").pop();return n=r?n.split("?").shift():n,Ul(n,e)}function b9(t){return t.replace(/\\/g,"/").split("/").slice(0,-1).join("/")}function _9(t){return t.replace(/^\//,"").replace(/node_modules/g,"")}function Ul(t,e=25){return t.length>e&&(t=t.substring(0,e-3)+"..."),t}function j5(t){const e=[...t];return e.shift(),e}function y9(t,e){return a_.diff_prettyCompactHtml(a_.diff_wordMode(t,e)).replace(/&para;<br>/g,`
`).replace(/<br>/g,`
`).replace(/<\/?span[^>]*>/g,"").replace(/style="background:#e6ffe6;"/g,"").replace(/style="background:#ffe6e6;"/g,"")}function ml(t){return!t||typeof t!="string"?t:t.replace(m9,"")}function Wo(t){return t.find(e=>!e.notMappedFile)}function wc(t){let e=!1;if(t.length){const r=Math.min(t.reduce((n,i)=>i.context&&i.context.length>n?i.context.length:n,0)||0,30);t.forEach(n=>{n.context=Ul(n.context||"",r),n.context.length<r&&(n.context=n.context.padEnd(r," ")),n.context.length&&(n.context+=" "),n.notMappedFile||(e=!0)})}return e}function ru(t){const e=t&&t.callStackNode&&t.props?.map((r,n)=>({...r.target,context:t.callStack?.context?.[n]}));if(e)return wc(e),e}function z5(t,...e){if(e.length<2)throw new Error("At least one path and a value are required");e.pop();const r=e,n=r.reduce((i,o)=>i?.[o],t);return r.reduceRight((i,o)=>({[o]:i}),n)}class Xv{constructor(e,r){this.properties=r,this.sequenceNumber=1,this.awaitingPromises={},this.sendAcknowledgement=!0,this.remoteApiAcknowledgement=!0,this.onConnectedListeners=[],this.onVersionMismatchListeners=[],this.onDisposeListeners=[];const n=this;this.id=Xv.nextId++,this._api=new Proxy({},{get:function(i,o){return async(...s)=>await n._sendInternal({method:o,args:s})}}),this.inboundApi=e(this)}static{this.nextId=0}get api(){return this._api}async processMethod(e,r,n){n?this.sendAcknowledgement&&e.sequenceNumber&&this.sendMessage({sequenceNumber:e.sequenceNumber,error:n}):this.sendAcknowledgement&&e.sequenceNumber&&this.sendMessage({sequenceNumber:e.sequenceNumber,result:{value:r}})}async processResult(e,r,n,i){r(i)}async processError(e,r,n,i){n(i)}async processMessageReceived(e){if(e.method)try{const r=await this.inboundApi[e.method].apply(this.inboundApi,e.args);await this.processMethod(e,r,void 0)}catch(r){r=r||new Error("An unknown error occurred"),await this.processMethod(e,void 0,r)}else if(e.result){const{sequenceNumber:r,result:n}=e;if(this.awaitingPromises[r]){const{resolve:i,reject:o}=this.awaitingPromises[r];delete this.awaitingPromises[r],i&&n&&await this.processResult(e,i,o,n.value)}}else if(e.error){const{sequenceNumber:r,error:n}=e;if(this.awaitingPromises[r]){const{resolve:i,reject:o}=this.awaitingPromises[r];delete this.awaitingPromises[r],i&&o&&await this.processError(e,i,o,n)}}}rejectAwaitingPromises(e){Object.values(this.awaitingPromises).forEach(({reject:r})=>r(e))}async onMessageReceived(e){this.processMessageReceived(e)}async _sendInternal(e){if(this.remoteApiAcknowledgement&&(this.remoteApiAcknowledgement===!0||this.remoteApiAcknowledgement(e)))return e.sequenceNumber=this.sequenceNumber++,await new Promise(async(n,i)=>{this.awaitingPromises[e.sequenceNumber]={resolve:n,reject:i};try{await this.sendMessage(e)}catch(o){delete this.awaitingPromises[e.sequenceNumber],i(o)}});try{await this.sendMessage(e)}catch{}}dispose(){this.onDisposeListeners.map(e=>e()),this.onDisposeListeners=[],this.onConnectedListeners=[],this.onVersionMismatchListeners=[],this.rejectAwaitingPromises(new Error("Channel disposed"))}subscribeOnConnected(e){this.onConnectedListeners.push(e)}unsubscribeOnConnected(e){this.onConnectedListeners=this.onConnectedListeners.filter(r=>r!==e)}connected(){this.onConnectedListeners.map(e=>e()),this.onConnectedListeners=[]}subscribeOnVersionMismatch(e){this.onVersionMismatchListeners.push(e)}unsubscribeOnVersionMismatch(e){this.onVersionMismatchListeners=this.onVersionMismatchListeners.filter(r=>r!==e)}versionMismatch(e,r){this.onVersionMismatchListeners.map(n=>n(e,r))}subscribeOnDispose(e){this.onDisposeListeners.push(e)}unsubscribeOnDispose(e){this.onDisposeListeners=this.onDisposeListeners.filter(r=>r!==e)}replaceReceiver(e){this._originalProcessMessageReceived||(this._originalProcessMessageReceived=this.processMessageReceived);let r=e.allowedCalls;this.processMessageReceived=n=>{if(e.filter(n)){if(r<=0)return e.replacement(n);r--}return this._originalProcessMessageReceived.bind(this)(n)}}restoreReceiver(){this.processMessageReceived=(this._originalProcessMessageReceived||this.processMessageReceived).bind(this),delete this._originalProcessMessageReceived}}class w9{constructor(e,r){this.inboundApiFactory=e,this.channelBaseConstructor=r,this._channels=[]}get channels(){return[...this._channels]}createChannel(e){const r=new this.channelBaseConstructor(this.inboundApiFactory,e);return this._channels.push(r),r.connected(),r}destroyChannel(e){const r=this._channels.indexOf(e);r!==-1&&this._channels.splice(r,1)[0].dispose()}dispose(){this.channels.map(e=>this.destroyChannel(e))}}function k9(t,e){t.addEventListener("message",r=>{try{const n=JSON.parse(r.data.toString());e(n)}catch(n){console.error("incoming message processing error: %s",n?.message)}})}function S9(t){return new Promise((e,r)=>{t.readyState===WebSocket.OPEN?e(t):t.readyState===WebSocket.CONNECTING?t.addEventListener("open",()=>{e(t)},{once:!0}):r(new Error("WebSocket is not in a state to send messages"))})}function x9(t,e,r){const{isSecure:n,host:i,port:o,secret:s,onSocketClosedDueToError:a,onClose:l,clientType:c}=t,d=n?"wss://":"ws://",u=o?`:${o}`:"",f=s?`?secret=${s}`:"",h=c?f?`&clientType=${c}`:`?clientType=${c}`:"",g=new WebSocket(d+(i||"localhost")+u+f+h);return r&&k9(g,r),g.onclose=({code:p,reason:m})=>{console.info("client disconnected: %s %s",p,m);try{l&&l(g,p,m?.toString())}catch(b){console.error("error when closing connection: %s",b?.message)}},g.onerror=p=>{try{console.error("connection error",p),a&&a(p)}catch(m){console.error("error when processing connection error: %s",m?.message)}},g.onopen=p=>{e(p)},g}class T9 extends Xv{started=!1;version="";onSocketError=()=>{};setOptions(e,r){this.onSocketError=e,this.version=r}async sendMessage(e){if(!this.properties){console.error("Channel has been disposed"),this.onSocketError(new Event("Channel has been disposed"));return}if(!this.started)try{await S9(this.properties),this.started=!0}catch(n){console.error("WebSocket failed to become ready to send messages %s",n?.message),this.onSocketError(n);return}let r;try{e.version=this.version,r=JSON.stringify(e)}catch(n){console.error("failed to serialize message: %s",n?.message);return}try{this.properties.send(r)}catch(n){console.error("WebSocket send error: %s",n?.message),this.onSocketError(n)}}async processMethod(e,r,n){n&&console.error("error processing message: %s, %s",JSON.stringify(e),n?.stack),await super.processMethod(e,r,n)}async processError(e,r,n,i){i&&console.error("error processing message: %s, %s",JSON.stringify(e),i.toString()),await super.processError(e,r,n,i)}async processMessageReceived(e){await super.processMessageReceived(e)}}class K5 extends w9{ignoreErrorResults;onSocketError;constructor(e,r){super(r,T9),this.ignoreErrorResults=!!e.ignoreErrorResults,this.onSocketError=e.onSocketError||(i=>{this.channels.forEach(o=>{o.rejectAwaitingPromises(i),this.destroyChannel(o)})}),e.onSocketClosedDueToError||(e.onSocketClosedDueToError=i=>{this.channels.forEach(o=>{o.rejectAwaitingPromises(i),this.destroyChannel(o)})}),e.onClose||(e.onClose=(i,o,s)=>{this.channels.forEach(a=>{a.rejectAwaitingPromises(new Event(`WebSocket closed with code ${o} and reason ${s}`)),this.destroyChannel(a)})});const n=x9(e,i=>{this.createChannel(n).setOptions(this.onSocketError,e.version)},i=>{this.channels.forEach(o=>{o.onMessageReceived(i)})})}async dispose(){this.channels.forEach(e=>{try{e.properties.readyState!==WebSocket.CLOSED&&e.properties.readyState!==WebSocket.CLOSING&&e.properties?.close()}catch(r){console.error("Error closing channel:",r)}}),await super.dispose()}}class Cr{_disposables;constructor(e){this._disposables=[],e&&this.add(e)}add(e){e.dispose?this._disposables.push(e):this._disposables.push({dispose:e})}dispose(){this._disposables.forEach(e=>e.dispose())}}let X5,Y5;function E9(){const t=new Map;return[new Proxy({},{get:function(e,r){return function(n){let i=t.get(r);return i?i.push(n):(i=[n],t.set(r,i)),new Cr(()=>{let o=i.indexOf(n);for(;o>=0;)i.splice(o,1),o=i.indexOf(n)})}}}),new Proxy({},{get:function(e,r){return async(...n)=>{t.get(`on${r.charAt(0).toUpperCase()}${r.slice(1)}`)?.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}}})]}async function C9(t,e,r,n,i){const o=new Cr;let s,a,l=[r||(window.location.port?parseInt(window.location.port,10):void 0)];for(const c of l){const d=await new Promise(u=>{try{const f=new K5({version:h6,isSecure:t,host:e||"localhost",port:c,secret:n,onSocketError(h){console.log("Socket error",h)},onClose(){i?.onClose?.(),u(void 0)},onSocketClosedDueToError(){i?.onCloseDueToError?.(),u(void 0)}},h=>{const[g,p]=E9();return a=g,u({dispose:()=>f?.dispose(),instance:h}),p})}catch(f){console.error(f)}});if(d){o.add(d),s=d.instance.api;break}}return{disposable:o,appToCore:s,coreToApp:a}}async function l_(t,e,r,n,i){const o=await C9(t,e,r,n,i);return{appToCore:X5,coreToApp:Y5}=o,o}const J5=()=>X5,[L9,ya]=Ar(J5),[I9,wa]=Ar(()=>Y5),A9=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/,F9=/^(0|[1-9][0-9]*)$/,R9=/'([^\\']|\\')*'/;function Yv(t,e){return e?.reduce((r,n)=>{if(n.rangeNode){const i={...n,parent:void 0,cappedRange:void 0},o=n.id===t.id&&n.name===t.name;n.props?!n.props.length&&o||n.props.length&&!n.props[0].rangeNode?(i.props=!0,delete i.capped):i.props=Yv(t,n.props):o&&(i.props=!0,delete i.capped),r.push(i)}return r},[])||[]}function P9(t,e){if(!t&&!e)return;if(!t)return e;if(!e)return t;const r=Z5(t.props,e.props);return{length:Math.max(t.length||0,e.length||0),props:r}}function Z5(t,e){if(!e||!e.length)return t;if(!t||!t.length)return e;const r=[...t];for(const n of e){const i=r.findIndex(o=>o.id===n.id&&o.name===n.name);if(i>=0){const o=r[i];if(o.props===!0)continue;n.props===!0?r[i]={...o,props:!0}:o.props&&n.props?r[i]={...o,props:Z5(o.props,n.props)}:n.props&&(r[i]={...o,props:n.props})}else return e}return r}function $9(t){if(t.error)return;if(t.type==="array")return t.length&&t.length>5?"Array("+t.length+")":"";const e=t.type;if(!e)return;const r=e.toLowerCase();return r==="function"?""+(t.funcName?" "+t.funcName:""):r==="string"||r==="number"||r==="symbol"||r==="object"||r==="null"||r==="undefined"||r==="boolean"||r==="date"||r==="regexp"?void 0:e}function Q5(t){return t.type==="array"?`Array(${t.length!==void 0?t.length:""})`:t.type}function eT(t){return t?t.match(F9)?"["+t+"]":t.match(A9)?"."+t:t.match(R9)?"["+t+"]":"['"+t+"']":""}let Qt=class{constructor(e={selection:{implicit:{}}},r){this._state=e,this._setState=r,this._appToCore=ya()}_appToCore;selectLog(e){this._setState(Je(r=>{r.selection.log=e}))}showAsDiagram(e){this._setState("selection","diagram",e)}hideLogStackTrace(){this._state.logs&&this._setState(Je(e=>{e.logs.stackTraceToShow=void 0}))}requestValues(e,r){e.path?this._setState(Je(n=>{n.filesWithExpressionsToEvaluate=n.filesWithExpressionsToEvaluate||{files:{},expressions:{}};const i=e.path[0],o=D9(i),s=n.filesWithExpressionsToEvaluate.files[o]=n.filesWithExpressionsToEvaluate.files[o]||{};s[i]=!0;let a=n.filesWithExpressionsToEvaluate.expressions;for(const c of e.path)a[c]=a[c]||{},a=a[c];a.props=a.props||e.props,a.strLength=a.strLength||e.strLength;const l=a;if(l.ranges=P9(l.ranges,e.ranges),i.indexOf("#")>=0){const c=i.split("#")[0];s[c]=!0,n.filesWithExpressionsToEvaluate.expressions[c]=n.filesWithExpressionsToEvaluate.expressions[c]||{}}this._appToCore.requestValues(n.filesWithExpressionsToEvaluate.expressions,r.loc).then(c=>{!c&&this._state.logs&&this._state.logs.showStackTraceFor&&this._setState("logs","showStackTraceFor",void 0)})})):e.stackNode&&this.requestCallStackNode(e.stackNode,r)}requestCallStackNode(e,r){e.props?.length?this._setState(Je(n=>{n.logs&&(n.logs.showStackTraceFor=void 0,n.logs.stackTraceToShow=ru(e))})):(this._setState(Je(n=>{n.logs&&(n.logs.showStackTraceFor={logId:r.id,expressionToEvaluateKey:e.queryPath[0]})})),this.requestValues({path:e.queryPath},r),this._appToCore.featureUsed("callStack"))}requestLogEntryDetailsWithLargestAvailableValue(e,r,n){return this._appToCore.getLogEntryDetailsWithLargestAvailableValue(r,n).then(i=>{if(i){const o=i.watchExpressionId||i.id,s=Bs(i,e);return this._state.logs?.items[s]?.logs[o]&&this._setState("logs","items",s,"logs",o,l=>({...l,value:i.value,valueWasRequestedShallow:!1})),i}})}copyValue(e){this._appToCore.copyValue(e)}dispose(){}static updateLogs(e,r,n,i,o){let s,a,l=0;const c=e.logs?.items?.watch?.logs,d=r.reduce((u,f)=>{const h=o?{...f,test:o}:f;h.order=l++;const g=Bs(h),p=u[g]=u[g]||{test:h.test,watch:h.watchExpressionId?!0:void 0,logs:{}},m=h.watchExpressionId||h.id;p.logs[m]=h;let b;if(e.selection.implicit.log?e.selection.implicit.log===m&&(s={logOrExpressionId:m,logSource:g}):h.watchExpressionId&&!c?.[h.watchExpressionId]?(b=!0,s={logOrExpressionId:m,logSource:g}):n&&(!s||!s.logOrExpressionId)&&(n.logOrExpressionId===m?s={logOrExpressionId:m,logSource:g}:n.logSource===g&&(s={logSource:g})),e.selection.implicit.logs?.has(m)?h.selection={active:e.selection.implicit.log===m,marked:!0}:b&&(h.selection={active:!0,marked:!0}),i){const k=h.value.id;if(h.id===i.logId&&k){if(i.expressionToEvaluateKey===k)a=ru(h.value.props?.[0]);else if(k.split(",valueContainer")[0]===i.expressionToEvaluateKey.split("#")[0]){const _=parseInt(i.expressionToEvaluateKey.split("#")[1],10);a=ru(h.value.props?.[0]?.props?.[_]?.props?.[0])}}}return u},{});if(!s){const u=Object.keys(d)[0];if(u){const f=d[u].logs,h=Object.keys(f)[0];h&&(s={logOrExpressionId:h,logSource:u})}}return{selected:s,items:d,stackTraceToShow:a}}static updateLogsSelection(e,r,n,i){let o=!1;if(n){const s=n.length>0?n[0]:void 0;let a;const l=e.selection.implicit.logs||new Set,c=new Set(n);if(e.logs){const d=Object.values(e.logs?.items||{}).reduce((u,f)=>{for(const h of Object.values(f.logs))u[h.id]=h,h.watchExpressionId&&(u[h.watchExpressionId]=h);return u},{});if(l.forEach(u=>{const f=d[u];f&&r("logs","items",Bs(f),"logs",f.watchExpressionId||f.id,h=>({...h,selection:void 0}))}),c.forEach(u=>{const f=d[u];f?r("logs","items",Bs(f),"logs",f.watchExpressionId||f.id,h=>({...h,selection:{active:u===s&&!i?.markOnly,marked:!0}})):o=!0}),s){const u=d[s];a=u&&Bs(u)}}else o=!0;r("selection",Je(d=>{i?.markOnly||(d.log=s&&a?{logOrExpressionId:s,logSource:a}:void 0,d.implicit.log=s,d.diagram=i?.diagram&&d.log?{...d.log}:void 0),d.implicit.logs=c}))}return o}static resetExpressionsToEvaluate(e,r){if(e.filesWithExpressionsToEvaluate)if(!r)e.filesWithExpressionsToEvaluate={files:{},expressions:{}};else for(const n of r){const i=e.filesWithExpressionsToEvaluate.files[n];if(i){delete e.filesWithExpressionsToEvaluate.files[n];for(const o of Object.keys(i))delete e.filesWithExpressionsToEvaluate.expressions[o]}}}static Provider};function Bs(t,e){return t.watchExpressionId?"watch":e||t.test?.id||"global"}function D9(t){return t.split(",")[0]}const[O9,io]=Ar(t=>t.initial);Qt.Provider=O9;function Do(t){const e=new Qt(t.state(t.parent),t.setState);return Xe(()=>e.dispose()),y(Qt.Provider,{initial:e,get children(){return t.view({state:t.parent})}})}var B9=O5(()=>{const[t,e]=z(null);return B5(window,"keydown",r=>{e(r),setTimeout(()=>e(null))}),t});function M9(t){const e=yc();we(WA(),d=>{if(d&&d.key==="f"&&dr(d)){if(c(d)){const u=d.target;if(u?.hasAttribute("data-namespace")){const f=u.getAttribute("data-namespace");if(f){t.onKeyPress(d,f);return}}}e.isIntegratedOverview()&&(d.preventDefault(),d.stopPropagation())}}),we(B9(),d=>{if(d&&c(d)){let u=null;const f=d.target;f?.hasAttribute("data-namespace")?(u=f.getAttribute("data-namespace"),u&&(d.key!==n?t.onKeyPress(d,u):(e.showShortcuts(u),d.preventDefault(),d.stopPropagation()))):d.target===window.document.body&&t.onFocus()}});const r="g",n="?",i=e.isStandalone()?2e3:1e3;let o,s;const a=5e3;let l;function c(d){if(e.isIntegratedVSCode()){if(d.key==="k"&&(d.ctrlKey||d.metaKey))return l?l=void 0:l=Date.now(),!1;if(d.key!=="Control"&&d.key!=="Meta"&&d.key!=="Alt"&&d.key!=="Shift"){const f=l;if(l=void 0,f&&Date.now()-f<a)return!1}else if(l)return!1}const u=window.document.activeElement;if(u?.nodeName!=="INPUT"&&u?.nodeName!=="TEXTAREA"&&u?.type!=="text"){const f=Ee(d);if(d.key===r&&!f&&!o)return o=Date.now(),s=void 0,d.preventDefault(),d.stopPropagation(),!1;{let h,g;if(f||(h=o,o=void 0,g=s,s=void 0),h&&Date.now()-h<i&&!f)if(e.isStandalone()){if(g)return g==="o"?t.onKeyPress(d,"overview"):g==="s"&&t.onKeyPress(d,"details"),d.preventDefault(),d.stopPropagation(),!1;if(d.key==="o"||d.key==="s")return o=Date.now(),s=d.key,d.preventDefault(),d.stopPropagation(),!1}else{if(e.isIntegratedOverview()||e.isIntegratedSideView()||e.isIntegratedQuokkaOutput())return d.key==="o"&&e.isIntegratedSideView()?(e.focus("overview"),d.preventDefault(),d.stopPropagation(),!1):d.key==="s"&&e.isIntegratedOverview()?(e.focus("side-view"),d.preventDefault(),d.stopPropagation(),!1):(e.isIntegratedOverview()?t.onKeyPress(d,"overview"):e.isIntegratedSideView()?t.onKeyPress(d,"details"):e.isIntegratedQuokkaOutput()&&t.onKeyPress(d,"quokka.output"),!1);if(e.isIntegratedNinja())return t.onKeyPress(d,"console-ninja.panel"),!1}}}else if(d.key===n)return!1;return!0}return[]}function N9(t,e){return ps(t)?new Vr(r=>we(t,n=>r.next(n),e)):z6(t)}function G9(t){return{next:e=>{t(()=>e)}}}function tT(t){ms(()=>{t.unsubscribe()})}var U9=D("<span class=pr-0.5>"),W9=D('<span class="codicon codicon-eye icon-opacity cursor-default !px-0 pb-[0.0625rem] align-middle !text-[length:--icon-font-size] !text-[--foreground] hover:brightness-125">'),q9=D("<span><span>");class H9 extends CustomEvent{constructor(e){super("previewSourceLinkInEditor"),this.keyboardEvent=e}}function vi(t){const[e,r]=z();yt(()=>{r(t.classList)});const n=q5(),i=U(()=>{if(t.codeFragmentTooltipOptions){const o=t.codeFragmentTooltipOptions();if(o)return{...o,options:t.options}}});return(()=>{var o=q9(),s=o.firstChild;return s.$$click=a=>{n.navigate(t.value,a,t.options),t.preventClickDefault&&(a.preventDefault(),a.stopPropagation())},s.addEventListener("previewSourceLinkInEditor",a=>n.navigate(t.value,a.keyboardEvent,{...t.options||{},focus:!1})),A(s,y(V,{get when(){return!t.lineAndColumnOnly},get children(){return U(()=>!!t.compactFileNameOnly)()?wi(t.value.file):_9(t.value.file)}}),null),A(s,y(V,{get when(){return t.value.line!==void 0},get children(){var a=U9();return A(a,()=>t.lineAndColumnOnly?"":":",null),A(a,()=>t.value.line,null),A(a,()=>t.noColumn?"":t.value.column!==void 0?`:${t.value.column+1}`:":1",null),a}}),null),A(o,y(V,{get when(){return t.value.line!==void 0},get children(){var a=W9();return ae(ca,a,()=>ca&&i()),A(a,()=>t.textModeOptions?.addSpace?" ":""),oe(l=>{var c=t.id,d=t.textModeOptions?t.textModeOptions.contentEditable:!1;return c!==l.e&&Me(a,"data-id",l.e=c),d!==l.t&&Me(a,"contenteditable",l.t=d),l},{e:void 0,t:void 0}),a}}),null),oe(a=>{var l=t.class||"source-link hover:underline",c=e();return l!==a.e&&hr(s,a.e=l),a.t=Et(s,c,a.t),a},{e:void 0,t:void 0}),o})()}At(["click"]);class kc{constructor(e,r){this._namespace=e,this._appService=r}matches(e){return e.startsWith(this._namespace)}handle(e,r,n){if(e=this._narrow(e),!r.target)return;const i=r.target,o=a=>{r.preventDefault(),r.stopPropagation()};if(_a(r))return o();const s=this._locateErrorsElement(e,i);if(r.key==="Escape"&&!Ee(r)&&this._appService.getFindState()()?.namespace===this._namespace)return this._appService.closeFind(),o(s?.focus());if(r.key==="f"&&dr(r)||r.key==="/"&&!Ee(r))return o(this._appService.showFind(this._namespace));if(e.startsWith("diff")){if(e.startsWith("diff")){if(r.key==="Escape"&&!Ee(r)){if(e==="diff"||e==="diff.content")return s?.focus();if(e==="diff.header.action")return o(this._locateDiffEditorElement(i)?.focus())}if(r.key==="ArrowUp"&&!Ee(r)){if(e==="diff"||e==="diff.content")return s?.focus();if(e==="diff.header.action")return s?.focus()}if(r.key==="ArrowDown"&&!Ee(r))return o(this._locateDiffEditorElement(i)?.focus())}}else if(s){const a=document.getSelection();if(e==="."||e==="content")return o(s.focus());if(e==="header.action"){if((r.key==="ArrowDown"||r.key==="ArrowUp")&&!Ee(r)||r.key==="Escape"&&!Ee(r))return o(s.focus())}else if(e.endsWith("error.action")){if((r.key==="ArrowUp"||r.key==="ArrowDown"||r.key=="Escape")&&!Ee(r))return o(s.focus());if((r.key==="ArrowRight"||r.key==="ArrowLeft")&&!Ee(r)){const l=this._locateErrorElement(a?.anchorNode?.parentElement);if(l)return o(this._selectItemAction(l,i,r.key==="ArrowRight"))}else if(r.key==="Enter"||r.key===" ")return o(i.dispatchEvent(mi(r)))}else if(e==="content.viewer"&&r.key!=="ArrowDown"&&r.key!=="ArrowUp"&&r.key!=="ArrowLeft"&&r.key!=="ArrowRight"){if(r.key==="Home"||r.key==="End"){if(os&&dr(r)){if(a){const c=r.key==="Home"?s.firstElementChild:s.lastElementChild;if(c){const d=r.key==="Home"?c:nu(c);a.setPosition(d,r.key==="Home"?0:1);const u=s.parentElement?.parentElement;u&&(u.scrollTop=d.offsetTop)}}return o()}return}if((r.key==="PageUp"||r.key==="PageDown")&&!Ee(r)){if(os||this._appService.isIntegratedVSCode()){const c=s.parentElement?.parentElement;if(c&&a){const u=c.getBoundingClientRect().height,f=s.getBoundingClientRect().height;if(u>=f){const h=r.key==="PageUp"?s.firstElementChild:s.lastElementChild;if(h){const g=r.key==="PageUp"?h:nu(h);a.setPosition(g,r.key==="PageUp"?0:1),c&&(c.scrollTop=g.offsetTop)}}else{const h=u/2,g=c.scrollTop;c.scrollTop+=r.key==="PageUp"?-h:h;const p=V9(c);if(p)if(p===s.parentElement)a.setPosition(s.firstElementChild);else if(g!==0&&g===c.scrollTop)if(s.lastElementChild){const m=nu(s.lastElementChild);m?a.setPosition(m,1):a.setPosition(p)}else a.setPosition(p);else a.setPosition(p)}}return o()}return}if(r.key===" ")return o(this._navigate(n,r,a,!1));if(r.key==="Enter"){const c=this._isAction(a);return c?c.lastElementChild?.dispatchEvent(mi(r)):(this._navigate(n,r,a,!0),a?.anchorNode?.parentElement?.dispatchEvent(mi(r))),o()}if(r.key==="e"&&!Ee(r))return o(this._navigate(n,r,a,!0,!0));let l=this._locateErrorElement(a?.anchorNode?.parentElement);if(l||(l=this._locateErrorElement(s)),r.key==="Tab"&&!Ee(r)&&!this._appService.isIntegratedQuokkaOutput()&&l)return o(this._selectItemAction(l,null,!1));if(r.key==="f"&&!Ee(r)&&l&&!this._appService.getDebuggerStarted()()){const c=this._getError(n,l);if(c&&c.test)return o(this._appService.toggleTestFilter(c.test.path))}if(r.key==="d"&&!Ee(r)&&l&&!this._appService.getDebuggerStarted()()){const c=this._getError(n,l);if(c&&c.test)return o(this._appService.debug(c.test.path))}if(r.key==="p"&&!Ee(r)&&l&&!this._appService.getDebuggerStarted()()){const c=this._getError(n,l);if(c&&c.test)return o(this._appService.profile(c.test.path))}if(r.key==="u"&&!Ee(r)&&l){const c=this._getError(n,l),d=c&&Wo(c.stack);if(c&&c.snapshot&&d?.file)return o(this._appService.updateSnapshots(d))}if(r.key==="v"&&!Ee(r)&&l)return o(this._navigateToDiff(l,r,n));if(r.key==="s"&&!Ee(r)&&this._namespace.startsWith("overview")&&l){const c=this._getError(n,l);if(c&&c.id)return o(this._appService.openInSideView(Ye.Errors,{errors:{selection:{errorId:c?.id}}}))}if(r.key==="s"&&!Ee(r)&&this._namespace.startsWith("details")&&l){const c=this._getError(n,l);if(c&&c.id)return n.selection.error?o(this._appService.openInSideView(Ye.Errors,{})):o(this._appService.openInSideView(Ye.Errors,{errors:{selection:{errorId:c?.id}}}))}if(r.key==="."&&!Ee(r)){const c=this._isSourceLink(a);if(c){const d=c.getBoundingClientRect();d&&c.parentElement?.lastChild?.dispatchEvent(new CustomEvent("showCodeFragment",{detail:d}))}else if(l){const d=this._getError(n,l);if(d){const u=Wo(d.stack);u&&la(a?.anchorNode?.parentElement||l,u)}}return o()}if(r.key==="Escape"&&!Ee(r))return a&&!a?.isCollapsed?a?.collapseToEnd():this._appService.focus("editor"),o();if(!zm(r))return o()}}else if(e==="."||e==="content"){if(r.key==="Escape"&&!Ee(r))return o(this._appService.focus("editor"))}else if(e==="header.action"&&r.key==="Escape"&&!Ee(r)){let a=i.closest(`[data-namespace="${this._namespace}"]`);if(a||(a=i.parentElement?.parentElement?.nextElementSibling?.querySelector(`[data-namespace="${this._namespace}"]`),a))return o(a.focus())}}_getError(e,r){const n=r.getAttribute("data-id")||"";return e.errors?.allById?.[n]}_narrow(e){return e=e.replace(`${this._namespace}.`,""),e=e.replace(this._namespace,"."),e}_navigate(e,r,n,i,o=!1){if(n&&e.errors){const s=this._locateErrorElement(n.anchorNode?.parentElement);if(s)if(o)this._navigateToError(s,r,e,i);else{const a=this._isSourceLink(n);i?a?n?.anchorNode?.parentElement?.dispatchEvent(new MouseEvent("click")):this._isTestName(n)?this._navigateToTest(s,r,e,i):this._navigateToError(s,r,e,i):a?a.dispatchEvent(new H9(r)):this._isTestName(n)?this._navigateToTest(s,r,e,i):this._navigateToError(s,r,e,i)}}}_navigateToDiff(e,r,n){const i=this._getError(n,e);if(i&&i.test&&i.id&&(i.actual||i.expected))return this._appService.showSideBySideDiff({id:i.id,test:i.test.path,expected:i.expected,actual:i.actual},r)}_navigateToTest(e,r,n,i){const o=this._getError(n,e);o&&o.test&&o.test.location&&this._appService.navigate(o.test.location,r,{focus:i})}_navigateToError(e,r,n,i){const o=this._getError(n,e),s=o&&Wo(o.stack);o&&s&&s.file&&this._appService.navigate({file:s.file,line:s.line,column:s.column},r,{focus:i})}_isTestName(e){return e.anchorNode?.parentElement?.getAttribute("aria-role")==="test name"}_isAction(e){if(!e)return;const r=e.anchorNode?.parentElement;if(r)return r.getAttribute("aria-role")==="action"?r:r.closest('[aria-role="action"]')}_isSourceLink(e){if(!e)return;const r=i=>i?.classList.contains("source-link");let n=e.anchorNode?.parentElement;return r(n)?n:r(n?.parentElement)?n?.parentElement:void 0}_locateErrorsElement(e,r){if(e==="content.viewer")return r;if(e==="."||e==="content")return r.querySelector(`[data-namespace="${this._namespace}.content.viewer"]`);if(e==="header.action"){let n=r.closest(`[data-namespace="${this._namespace}"]`);return n?n.querySelector(`[data-namespace="${this._namespace}.content.viewer"]`):r.parentElement?.parentElement?.nextElementSibling?.querySelector(`[data-namespace="${this._namespace}.content.viewer"]`)}if(e.endsWith("error.action"))return r.parentElement?.parentElement?.parentElement?.parentElement;if(e.startsWith("diff"))for(;r;){if(r.getAttribute("data-namespace")===`${this._namespace}`)return r.querySelector(`[data-namespace="${this._namespace}.content.viewer"]`);r=r.parentElement}}_locateErrorElement(e){let r=e?.getAttribute("data-namespace")===`${this._namespace}.content.viewer`?e:null;if(r=r||e?.querySelector(`[data-namespace="${this._namespace}.content.viewer"]`),r)return e=r.querySelector("[data-id]"),e;for(;e;){if(e.getAttribute("data-id"))return e;e=e.parentElement}return null}_locateDiffEditorElement(e){for(;e;){if(e.getAttribute("data-namespace")===`${this._namespace}`){const r=e.querySelectorAll("textarea");return r.length?r[r.length-1]:void 0}e=e.parentElement}}_selectItemAction(e,r,n){const i=e.querySelectorAll("button");if(i.length){let o=-1;if(r){for(let s=0;s<i.length;s++)if(i[s]===r){o=s;break}}else return i[0].focus(),!0;return o=o>=0?o:0,n?(o+1>i.length-1||i[o+1].focus(),!0):o-1>=0?(i[o-1].focus(),!0):!1}return!1}}function nu(t){let e=t.lastElementChild;for(;e&&e.nodeType===Node.ELEMENT_NODE&&e.lastElementChild;)e=e.lastElementChild;return e}function V9(t){const e=t.getBoundingClientRect();for(let r=0;r<t.children.length;r++){const n=t.children[r],i=rT(e,n);if(i)return i}return null}function rT(t,e){const r=e.getBoundingClientRect();if(r.top>=t.top&&r.bottom<=t.bottom)return e;for(let n=0;n<e.children.length;n++){const i=e.children[n],o=rT(t,i);if(o)return o}return null}var iu=Symbol("fallback");function c_(t){for(const e of t)e.dispose()}function j9(t,e,r,n={}){const i=new Map;return Xe(()=>c_(i.values())),()=>{const s=t()||[];return s[Xi],Xt(()=>{if(!s.length)return c_(i.values()),i.clear(),n.fallback?[_r(u=>(i.set(iu,{dispose:u}),n.fallback()))]:[];const a=new Array(s.length),l=i.get(iu);if(!i.size||l){l?.dispose(),i.delete(iu);for(let d=0;d<s.length;d++){const u=s[d],f=e(u,d);o(a,u,d,f)}return a}const c=new Set(i.keys());for(let d=0;d<s.length;d++){const u=s[d],f=e(u,d);c.delete(f);const h=i.get(f);h?(a[d]=h.mapped,h.setIndex?.(d),h.setItem(()=>u)):o(a,u,d,f)}for(const d of c)i.get(d)?.dispose(),i.delete(d);return a})};function o(s,a,l,c){_r(d=>{const[u,f]=z(a),h={setItem:f,dispose:d};if(r.length>1){const[g,p]=z(l);h.setIndex=p,h.mapped=r(u,g)}else h.mapped=r(u);i.set(c,h),s[l]=h.mapped})}}function On(t){const{by:e}=t;return U(j9(()=>t.each,typeof e=="function"?e:r=>r[e],t.children,"fallback"in t?{fallback:()=>t.fallback}:void 0))}function z9(t){const e=t.children;return U(Qx(()=>t.of&&Object.keys(t.of),e.length<3?r=>e(r,()=>t.of[r]):(r,n)=>e(r,()=>t.of[r],n),"fallback"in t?{fallback:()=>t.fallback}:void 0))}var to=(t,e)=>{let r;const n=()=>clearTimeout(r);return Ir()&&Xe(n),Object.assign((...o)=>{r!==void 0&&n(),r=setTimeout(()=>t(...o),e)},{clear:n})},K9=(t,e)=>{let r=!1,n,i;const o=(...a)=>{i=a,!r&&(r=!0,n=setTimeout(()=>{t(...i),r=!1},e))},s=()=>{clearTimeout(n),r=!1};return Ir()&&Xe(s),Object.assign(o,{clear:s})},X9=window.requestIdleCallback?(t,e)=>{let r=!1,n,i;const o=(...a)=>{i=a,!r&&(r=!0,n=requestIdleCallback(()=>{t(...i),r=!1},{timeout:e}))},s=()=>{cancelIdleCallback(n),r=!1};return Ir()&&Xe(s),Object.assign(o,{clear:s})}:t=>K9(t),Y9=D("<span>"),J9=D("<span class=test-name-separator> / ");function Jv(t){const e=U(()=>j5(t.test.path));return y(It,{get each(){return e()},children:(r,n)=>[(()=>{var i=Y9();return A(i,r),i})(),y(V,{get when(){return n()!==e().length-1},get children(){return J9()}})]})}var Z9=D('<div class="pointer-events-none absolute bottom-0 left-0 right-0 top-0 overflow-x-hidden overflow-y-hidden"><div class="codicon codicon-kebab-vertical pointer-events-auto absolute z-10 cursor-pointer !text-[length:--panel-larger-font-size] opacity-25">');function Q9(t){const e=io(),[r,n]=z(),[i,o]=z(!1),[s,a]=z({x:0,y:0}),[l,c]=z(!1),d=1,u=20,f=3;let h,g,p,m,b=Date.now(),k=0,_=0,v=null;const[x,S]=z(()=>et());Vt(()=>{g=h.parentElement,g.addEventListener("mousemove",w),g.addEventListener("mousedown",G),g.addEventListener("mouseup",H),g.addEventListener("mouseenter",de),g.addEventListener("mouseleave",B),g.addEventListener("contextmenu",$),g.addEventListener("scroll",F),g.addEventListener(as.name,W),g.addEventListener(ka.name,q),g.addEventListener(ls.name,J),g.addEventListener(cs.name,Z),g.addEventListener("focusin",te),g.addEventListener("focusout",ee),document.addEventListener("selectionchange",I),window.addEventListener("blur",le),v=new ResizeObserver(()=>ce()),v.observe(g)}),Xe(()=>{g.removeEventListener("mousemove",w),g.removeEventListener("mousedown",G),g.removeEventListener("mouseup",H),g.removeEventListener("mouseenter",de),g.removeEventListener("mouseleave",B),g.removeEventListener("contextmenu",$),g.removeEventListener("scroll",F),g.removeEventListener(as.name,W),g.removeEventListener(ls.name,J),g.removeEventListener(cs.name,Z),g.removeEventListener("focusin",te),g.removeEventListener("focusout",ee),document.removeEventListener("selectionchange",I),window.removeEventListener("blur",le),v?.disconnect()});function w(ue){if(l()||b>Date.now())return;const Se=ue.target;if(!Se||Se===r()||E())return;const De=Se.closest(".logentry")||Se.closest(".preview");if(De){N(De,ue.clientY);return}T();const Ke=document.elementFromPoint(_,ue.clientY),Ue=Ke?.closest(".logentry");Ue?N(Ue,ue.clientY):Ke&&L(Ke,ue.clientY)&&ie()}function T(){if(!k){const ue=g.querySelector(".content");ue&&(k=parseFloat(getComputedStyle(ue).marginLeft),_=ue.getBoundingClientRect().x)}}function L(ue,Se){const De=ue.lastElementChild?.lastElementChild;if(!De||De.parentElement?.querySelector("br")?.className==="hidden"||De.previousElementSibling?.classList.contains("level-expander-ellipsis"))return!1;const Ue=De.getBoundingClientRect(),be=Math.floor(Ue.y)-f,He=Math.ceil(Ue.y+Ue.height);return Se>=be&&Se<=He}function E(){return g.querySelector(":scope>.item.editable")}function C(ue){return ue instanceof HTMLElement&&(g.contains(ue)||!!ue.closest(".tippy-box"))}function F(){ie()}function $(ue){ue.preventDefault(),ue.stopPropagation()}function O(ue){ue.preventDefault(),ue.stopPropagation()}function M(ue){xe(ue),p&&c(!0)}function I(){const ue=document.getSelection(),Se=ue?.anchorNode;if(!Se||!ue.isCollapsed)return;const De=Se.nodeType===Node.ELEMENT_NODE?Se:Se.parentElement;if(!De||!ke(De))return;T();const Ke=De.closest(".logentry")??De.closest(".preview");N(Ke,De.getBoundingClientRect().y)}function W(ue){I()}function q(ue){p?.closest(".item")===ue.target&&ie()}function G(){m=p}function H(ue){ue.button===2&&(ue.preventDefault(),ue.stopPropagation(),p===m&&M(ue))}function J(ue){xe(ue);const Se=Ne(p);Se?.noCopyReason?.()||ve(Se,De=>e.copyValue(De))}function Z(ue){xe(ue),qe(Ne(p),p,Se=>e.copyValue(Se))}function te(ue){const Se=ue.target;!p&&Se&&g.contains(Se)&&Se.classList.contains("item")&&N(Se,-1)}function ee(ue){C(ue.relatedTarget)||(ie(),c(!1))}function le(){ie(),c(!1)}function de(){S(void 0)}function B(ue){!l()&&!C(ue.relatedTarget)&&!E()&&ie(),C(ue.relatedTarget)||S(()=>et)}function N(ue,Se){if(!ue||ue.classList.contains("group-item")||L(ue,Se)){ie();return}if(p=ue,ue.className==="logentry"){const De=ue.getBoundingClientRect();let Ke,Ue=!1;const be=document.elementFromPoint(_,De.y);if(be?.className==="indentation"){const He=be.parentElement?.querySelectorAll(":scope>.indentation"),dt=He?.[He.length-1];dt&&(Ke=dt.getBoundingClientRect(),Ue=He.length===1)}if(Ke){const He=r().clientWidth,dt=h.getBoundingClientRect();T(),a({x:Ue?Ke.x-(k+He)/2-dt.x:Ke.x-(Ke.width+He-d)/2-dt.x,y:De.y-dt.y}),o(!0)}}else o(!1)}function ie(){p=void 0,o(!1)}function ce(){k=0,_=0}function ke(ue){return ue.closest(".item")?.classList.contains("editable")}function xe(ue){return Ae(ue.target)}function Ae(ue){if(!i()&&ue){const Se=ue?.closest(".item");Se&&N(Se,-1)}}function Ne(ue){if(!ue)return;const Se=ue.closest(".preview");return Se?Se.closest(".item")?.entryInfo:ue.entryInfo}function ve(ue,Se){ue?.value().then(De=>De&&Se(De))}function qe(ue,Se,De){if(!ue)return;const Ke=ue.isRoot?ue.rootContext?.():Se.closest(".item").entryInfo?.rootContext?.();ve(ue,Ue=>{const be=(Ke?[Ke]:["root"]).concat(Ue.queryPath?.slice(1).map(He=>He.startsWith("_p_")?He.substring(3):He).map(He=>eT(He))||[]).join("");be&&De(be)})}function Re(){const ue=p,Se=Ne(ue);if(!Se)return[];const De=()=>{ve(Se,be=>e.copyValue(be)),b=Date.now()+u},Ke=()=>{qe(Se,ue,be=>e.copyValue(be)),b=Date.now()+u},Ue=Se.noCopyReason?.();return[Ue?{text:Ue}:{text:"Copy value",action:De,shortcut:"Shift+C"},{text:"Copy path",action:Ke,shortcut:"Shift+D"}]}function et(){const ue=g.getBoundingClientRect();return[Math.max(ue.x+g.clientWidth/2-200,ue.x+50),Math.max(ue.y+g.clientHeight/2-50,ue.y+50)]}return(()=>{var ue=Z9(),Se=ue.firstChild;return ae(_i,ue,()=>_i&&{menuItemFactory:Re,menuOpen:[l,c],menuPositionOverride:x,keyboardTrigger:{namespace:t.namespace,beforeOpen:(De,Ke)=>{const Ue=Ke.querySelector(".selected")||Ke.querySelector(".item");return Ae(Ue),!!p}}}),ae(De=>h=De,ue),ae(re,Se,()=>re&&{defaultDelay:2e3,shortDelay:2e3,content:`
            <table class="keyboard-shortcut-tooltip-table">
              <tr><td>Copy value</td><td><span class="kbd">Shift</span> + <span class="kbd">C</span></td></tr>
              <tr><td>Copy path</td><td><span class="kbd">Shift</span> + <span class="kbd">D</span></td></tr>
              <tr>
                <td>Context menu</td>
                <td>
                  <span class="kbd">Shift</span> + <span class="kbd">F10</span> or
                  <br />
                  <span class="keyboard-shortcut">${vr}</span> + <span class="kbd">.</span>
                </td>
              </tr>
            </table>`}),Se.$$click=De=>{c(!0)},Se.$$mousedown=O,ae(n,Se),oe(De=>{var Ke=`${s().x}px`,Ue=`${s().y}px`,be=i()?"visible":"hidden";return Ke!==De.e&&((De.e=Ke)!=null?Se.style.setProperty("left",Ke):Se.style.removeProperty("left")),Ue!==De.t&&((De.t=Ue)!=null?Se.style.setProperty("top",Ue):Se.style.removeProperty("top")),be!==De.a&&((De.a=be)!=null?Se.style.setProperty("visibility",be):Se.style.removeProperty("visibility")),De},{e:void 0,t:void 0,a:void 0}),ue})()}class as extends CustomEvent{static name="enteredtextmode";constructor(){super(as.name,{bubbles:!0})}}class ka extends CustomEvent{static name="exitedtextmode";constructor(){super(ka.name,{bubbles:!0})}}class ls extends CustomEvent{static name="copyvaluerequested";constructor(){super(ls.name,{bubbles:!0})}}class cs extends CustomEvent{static name="copypathrequested";constructor(){super(cs.name,{bubbles:!0})}}At(["mousedown","click"]);class e7{listeners={};onceListeners={};on(e,r){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(r)}once(e,r){this.onceListeners[e]||(this.onceListeners[e]=new Set),this.onceListeners[e].add(r)}off(e,r){this.listeners[e]?.delete(r),this.listeners[e]?.size===0&&delete this.listeners[e],this.onceListeners[e]?.delete(r),this.onceListeners[e]?.size===0&&delete this.onceListeners[e]}emit(e,r){const n=this.listeners[e];n&&[...n].forEach(o=>o(r));const i=this.onceListeners[e];i&&[...i].forEach(o=>{o(r),this.off(e,o)})}}class t7 extends e7{}let d_=!1,u_=new Set,ou;async function h_(t,e){await r7();const r=document.querySelector(":root");t&&r&&await n7(t,r),M2(t?.theme?.type||"dark")}async function r7(){d_||(d_=!0,await qr(()=>Promise.resolve({}),__vite__mapDeps([1]),import.meta.url))}async function n7(t,e){const r=e.style,n=new Set;function i(l,c){if(!c)return;const d=`--intellij-${l}`;r.setProperty(d,c),n.add(d)}const o=t.theme?.ui;if(o)for(const l of Object.keys(o))i(l,o[l]);const s=t.theme?.code;if(s){!s.tokenDiffInserted&&o?.diffInserted&&(s.tokenDiffInserted={foreground:o.diffInserted}),!s.tokenDiffDeleted&&o?.diffDeleted&&(s.tokenDiffDeleted={foreground:o.diffDeleted});for(const c of Object.keys(s)){const d=s[c];d&&(d.foreground&&i(`${c}-foreground`,d.foreground),d.background&&i(`${c}-background`,d.background),i(`${c}-style`,d.style==="italic"?"italic":"normal"))}const l={};for(const[c,d]of s7.entries())if(s[c])for(const u of d)l[u]=s[c];ou||(ou=(await qr(()=>Promise.resolve().then(()=>Tc),void 0,import.meta.url)).customize),await ou(l)}const a=t.settings;if(a){let l=function(d,u){const f=a[d];f&&i(d,u?u(f):f)};l("editorFontFamily"),l("editorFontLigatures"),i7(a.editorFontFamily,a.editorFontPsName);const c=a.fontSize;if(c){const d=parseInt(c,10);d>0?r.setProperty("--panel-font-size",`${d}px`):r.removeProperty("--panel-font-size")}else r.removeProperty("--panel-font-size")}for(const l of[...u_].filter(c=>!n.has(c)))r.removeProperty(l);u_=n}function i7(t,e){const r=`
      @font-face {
          font-family: '${t}';
          src: url('fonts/${e}');
      }
  `;o7(r,"intellij-font-face")}function o7(t,e){let r=document.getElementById(e);r||(r=document.createElement("style"),r.id=e,document.head.appendChild(r)),r.textContent=t}const s7=new Map([["tokenDiffInserted",["markup.inserted"]],["tokenDiffDeleted",["markup.deleted"]],["tokenKeyword",["constant.language","entity.name.tag","markup.bold","markup.heading","markup.changed","meta.preprocessor","entity.name.function.preprocessor","meta.diff.header","storage","storage.type","storage.modifier","keyword.operator.noexcept","punctuation.definition.template-expression.begin","punctuation.definition.template-expression.end","punctuation.section.embedded","keyword","keyword.operator.new","keyword.operator.expression","keyword.operator.cast","keyword.operator.sizeof","keyword.operator.alignof","keyword.operator.typeid","keyword.operator.alignas","keyword.operator.instanceof","keyword.operator.logical.python","keyword.operator.wordlike","punctuation.section.embedded.begin.php","punctuation.section.embedded.end.php","variable.language","constant.character","constant.other.option"]],["tokenNumber",["constant.numeric","keyword.operator.plus.exponent","keyword.operator.minus.exponent","meta.preprocessor.numeric","keyword.other.unit","constant.sha.git-rebase"]],["tokenString",["markup.inline.raw","meta.preprocessor.string","string","meta.embedded.assembly","string.tag","string.value","support.constant.property-value","support.constant.font-name","support.constant.media-type","support.constant.media","constant.other.color.rgb-value","constant.other.rgb-value","support.constant.color","punctuation.definition.group.regexp","punctuation.definition.group.assertion.regexp","punctuation.definition.character-class.regexp","punctuation.character.set.begin.regexp","punctuation.character.set.end.regexp","keyword.operator.negation.regexp","support.other.parenthesis.regexp"]],["tokenComment",["comment","punctuation.definition.quote.begin.markdown"]],["tokenRegexp",["string.regexp","constant.character.character-class.regexp","constant.other.character-class.set.regexp","constant.other.character-class.regexp","constant.character.set.regexp"]],["#D4D4D4",["meta.embedded","source.groovy.embedded","string meta.image.inline.markdown","variable.legacy.builtin.python","meta.template.expression","keyword.operator","storage.modifier.import.java","variable.language.wildcard.java","storage.modifier.package.java"]],["#000080",["header"]],["#4FC1FF",["variable.other.enummember","variable.other.constant"]],["#646695",["constant.regexp"]],["#D7BA7D",["entity.name.tag.css","entity.name.tag.less","entity.other.attribute-name.class.css","source.css entity.other.attribute-name.class","entity.other.attribute-name.id.css","entity.other.attribute-name.parent-selector.css","entity.other.attribute-name.parent.less","source.css entity.other.attribute-name.pseudo-class","entity.other.attribute-name.pseudo-element.css","source.css.less entity.other.attribute-name.id","entity.other.attribute-name.scss","keyword.operator.quantifier.regexp","constant.character.escape"]],["#9CDCFE",["entity.other.attribute-name","meta.structure.dictionary.key.python","support.type.vendored.property-name","support.type.property-name","source.css variable","source.coffee.embedded","support.function.git-rebase","variable","meta.definition.variable.name","support.variable","entity.name.variable","constant.other.placeholder","meta.object-literal.key"]],["#F44747",["invalid"]],["#6796E6",["punctuation.definition.list.begin.markdown"]],["#808080",["punctuation.definition.tag"]],["#C586C0",["keyword.control","source.cpp keyword.operator.new","keyword.operator.delete","keyword.other.using","keyword.other.directive.using","keyword.other.operator","entity.name.operator"]],["#DCDCAA",["entity.name.function","support.function","support.constant.handlebars","source.powershell variable.other.member","entity.name.operator.custom-literal","keyword.operator.or.regexp","keyword.control.anchor.regexp"]],["#4EC9B0",["support.class","support.type","entity.name.type","entity.name.namespace","entity.other.attribute","entity.name.scope-resolution","entity.name.class","storage.type.numeric.go","storage.type.byte.go","storage.type.boolean.go","storage.type.string.go","storage.type.uintptr.go","storage.type.error.go","storage.type.rune.go","storage.type.cs","storage.type.generic.cs","storage.type.modifier.cs","storage.type.variable.cs","storage.type.annotation.java","storage.type.generic.java","storage.type.java","storage.type.object.array.java","storage.type.primitive.array.java","storage.type.primitive.java","storage.type.token.java","storage.type.groovy","storage.type.annotation.groovy","storage.type.parameters.groovy","storage.type.generic.groovy","storage.type.object.array.groovy","storage.type.primitive.array.groovy","storage.type.primitive.groovy","meta.type.cast.expr","meta.type.new.expr","support.constant.math","support.constant.dom","support.constant.json","entity.other.inherited-class"]],["#C8C8C8",["entity.name.label"]]]);async function vl(t){const e=await $v.find(r=>r.name===t?.theme)?.load()||Pv;await oa({theme:e,settings:{"editor.fontFamily":t?.editorFontFamily,"window.fontFamily":t?.panelFontFamily}},!0)}let su,Sc=class{constructor(e={connecting:!0,kind:"standalone",sideViewScreen:{name:Ye.Logs},status:{state:"starting",firstTestResultAvailable:!1,longRunningOperation:!1,troubleshootingHint:[]},testFiles:[]},r){this._state=e,this._setState=r;const[n,i]=fa(f6(this._state.kind==="quokka.output"));this._settingsState=n,this._setSettingsState=i;const o=this;this._doSetSettingsState=function(){try{return o._setSettingsState.apply(this,arguments)}finally{const a=z5(o._settingsState,...arguments);o._appToCore.updateAppSettings(a)}},this._updateSettingsDebounced=to(a=>this._appToCore?.updateAppSettings(a),1e3),this._disposable=new Cr,this._setState(Je(a=>{a.connecting=!0})),this.connect().then(()=>this._onConnected()),this._state.kind!=="quokka.output"&&this.setPanelState(pe.OverviewDebugger,a=>({...a,collapsed:!0}));const s=U(()=>this._state.testFiles);this._testFilesDebounced=Gv(s,100,{maxWait:100}),we([()=>this._state.openedTab?.requestedLocation?.line,()=>this._state.trackCodeViewerCursor],()=>{const a=this._state.openedTab?.requestedLocation?.line,l=this._state.trackCodeViewerCursor;a&&l&&this._appToCore.codeViewerCursorPositionChanged(this._state.openedTab.requestedLocation)})}_appToCore;_coreToApp;_disposable;_settingsState;_setSettingsState;_doSetSettingsState;_reconnectTimeout;_trackStatusCount=0;_trackTestRunCount=0;_trackExecutionProgressCount=0;_trackStatsCount=0;_trackTestDataCount=0;_trackDiagnosticMessagesCount=0;_diagnosticMessagesEmitter=new t7;_testFilesDebounced;_testFileStatusIndex=new Map;_updateSettingsDebounced;_onConnected(){this._appToCore.handshake({kind:this._state.kind}),this._appToCore.trackEditorCursor(),this._appToCore.trackProjectConfig(),this.isStandalone()&&this.trackStats(),this.trackStatus(),this._disposable.add(this._coreToApp.onPauseState(this.onPauseStateChanged.bind(this))),this._disposable.add(this._coreToApp.onDebuggerState(this.onDebuggerStateChanged.bind(this))),this._disposable.add(this._coreToApp.onOpenedFile(this.onOpenedFileChanged.bind(this))),this._disposable.add(this._coreToApp.onOpenedDiff(this.onOpenedDiffChanged.bind(this))),this._disposable.add(this._coreToApp.onRunStats(this.onRunStatsAvailable.bind(this))),this._disposable.add(this._coreToApp.onTestRunModeParams(this.onTestRunModeParamsChanged.bind(this))),this._disposable.add(this._coreToApp.onOpenInSideView(this.onOpenInSideView.bind(this))),this._disposable.add(this._coreToApp.onAccountDetails(this.onAccountDetailsChanged.bind(this))),this._disposable.add(this._coreToApp.onStatus(this.onStatus.bind(this))),this._disposable.add(this._coreToApp.onTestRunStatus(this.onTestRunStatus.bind(this))),this._disposable.add(this._coreToApp.onTestRunTestFileUpdated(this.onTestRunTestFileUpdated.bind(this))),this._disposable.add(this._coreToApp.onDiagnosticMessages(this.onDiagnosticMessages.bind(this))),this._disposable.add(this._coreToApp.onExecutionProgress(this.onExecutionProgress.bind(this))),this._disposable.add(this._coreToApp.onProject(this.onProject.bind(this)))}appSettings(){return[this._settingsState,this._doSetSettingsState]}isStandalone(){return this._state.kind==="standalone"}isIntegratedOverview(){return this._state.kind==="overview"}isIntegratedSideView(){return this._state.kind==="side-view"}isIntegratedNinja(){return!1}isEditorConnected(){return this._state.editor!=="unknown"}isEditorConnectedWithNoPreferences(){return this.isEditorConnected()&&(this._state.editor==="vs"||this._state.editor==="sublime"||this._state.editor==="atom")}isIntegratedVSCode(){return!this.isStandalone()&&this._state.editor==="vscode"}isIntegratedIntelliJ(){return!this.isStandalone()&&this._state.editor==="intellij"}getCoreVersion(){return this._state.version}isIntegratedQuokkaOutput(){return this._state.kind==="quokka.output"}isAiAvailable(){return U(()=>!!this._state.aiAvailable)}canShowCoverageInExplorer(){return U(()=>this._state.canShowCoverageInExplorer)}showCoverageInExplorer(){return U(()=>this._state.showCoverageInExplorer)}featureUsed(e){this._appToCore.featureUsed(e)}getDebuggerStarted(){return U(()=>this._state.debuggerStarted)}getTestRunModeParams(){return U(()=>this._state.testRunMode)}getProject(){return U(()=>this._state.project)}getFindState(){return U(()=>this._state.find)}shouldOpenInEditor(e){return!this.isStandalone()||this.isEditorConnected()&&(!dr(e)&&this._settingsState.linkedMode.fileNavigation!=="browser"||dr(e)&&this._settingsState.linkedMode.fileNavigationWithModifier!=="browser"||this._allowedToRunInEditorWithoutSpecialKeys())}shouldOpenInBrowser(e){return this.isStandalone()&&!this.isEditorConnected()||this.isStandalone()&&this.isEditorConnected()&&(!dr(e)&&this._settingsState.linkedMode.fileNavigation!=="editor"&&!this._allowedToRunInEditorWithoutSpecialKeys()||dr(e)&&this._settingsState.linkedMode.fileNavigationWithModifier!=="editor")}editorTooltipAddendum(e="navigation"){return U(()=>{if(!this.isStandalone()||!this.isEditorConnected())return"";if(this._allowedToRunInEditorWithoutSpecialKeys()&&this._settingsState.linkedMode.fileNavigation!=="editor")return'<br/><br/>Show the "Code" Panel to to display in your browser';const r=n=>{switch(e){case"debugger":return`to run to your ${n?"code editor":"code viewer"} active line`;case"navigation":return`to navigate in your ${n?"editor":"browser"}`;case"diff":return`to show side-by-side diff in your ${n?"editor":"browser"}`;case"lineTests":return`to start tracking current line in your ${n?"code editor":"code viewer"}`}};return!this._allowedToRunInEditorWithoutSpecialKeys()&&this._settingsState.linkedMode.fileNavigation==="browser"&&this._settingsState.linkedMode.fileNavigationWithModifier!=="browser"?`<br/><br/>Hold <span class='keyboard-shortcut'>${vr}</span> ${r(!0)}`:this._settingsState.linkedMode.fileNavigation==="editor"&&this._settingsState.linkedMode.fileNavigationWithModifier!=="editor"?`<br/><br/>Hold <span class='keyboard-shortcut'>${vr}</span> ${r(!1)}`:""})}navigate(e,r,n){this.shouldOpenInEditor(r)&&this._appToCore.navigate(e,n),this.shouldOpenInBrowser(r)&&(this.openCodePanelIfRequired(!0),this.openFile(e,n))}_allowedToOpenFileInApp(){return this.isStandalone()?this.isEditorConnected()?!this._getPanelState(pe.StandaloneMainCode).collapsed:!0:!1}_allowedToRunInEditorWithoutSpecialKeys(){return this.isStandalone()&&this.isEditorConnected()&&!!this._getPanelState(pe.StandaloneMainCode).collapsed}openCodePanelIfRequired(e){this.isStandalone()&&this._getPanelState(pe.StandaloneMainCode).collapsed&&(!this.isEditorConnected()||e)&&this.setPanelState(pe.StandaloneMainCode,r=>({...r,collapsed:!r.collapsed,size:r.size||50}))}openPanelIfRequired(e){this._getPanelState(e).collapsed&&this.setPanelState(e,r=>({...r,collapsed:!r.collapsed,size:r.size||50}))}openFile(e,r){this._allowedToOpenFileInApp()&&(this._state.openedTab?.requestedLocation?.file===e.file?this._setState(Je(n=>{n.openedTab.requestedLocation={...e,options:r},delete n.openedTab.diff})):(this._setState(Je(n=>{n.openedTab=n.openedTab||{requestedLocation:e},n.openedTab.requestedLocation={...e,options:r},delete n.openedTab.diff})),this._appToCore.openFile(e.file)))}closeAllFiles(){this._appToCore.closeAllFiles(),this._setState("openedTab",void 0)}updateOpenedSourceFilePosition(e){this._state.openedTab?.requestedLocation&&this._setState(Je(r=>{r.openedTab.requestedLocation.line=e.line,r.openedTab.requestedLocation.column=e.column}))}trackCodeViewerCursor(){this._setState("trackCodeViewerCursor",!0)}untrackCodeViewerCursor(){this._setState("trackCodeViewerCursor",void 0)}onOpenedFileChanged(e){(!this._state.openedTab||this._state.openedTab?.requestedLocation?.file===e.path||e.forcedLocation)&&(this.openCodePanelIfRequired(!1),this._state.openedTab?this._setState("openedTab",Je(r=>{e.forcedLocation&&(r.requestedLocation={file:e.path,...e.forcedLocation}),r.source=e})):this._setState(Je(r=>{r.openedTab={requestedLocation:{file:e.path,...e.forcedLocation},source:e}})))}onOpenedDiffChanged(e){this._state.openedTab?.diff&&this._setState("openedTab",je({diff:{actual:e.actual,expected:e.expected}}))}onRunStatsAvailable(e){this._setState("runStats",je(e))}onTestRunModeParamsChanged(e){this._setState("testRunMode",je(Object.keys(e).length>0?e:void 0))}onOpenInSideView(e){if(e.name===Ye.Shortcuts){e.state?.shortcuts?.open?this._setState("shortcuts","lastFocusedNamespace"):this.closeShortcuts();return}this._setState("sideViewScreen",e)}onAccountDetailsChanged(e){this._setState("account",je(e)),this._state.openedTab?.account&&this._setState("openedTab","account",je(e))}getRunStats(){return U(()=>this._state.runStats)}getStatus(){return U(()=>this._state.status)}getTestFilesStatus(){return this._testFilesDebounced}getTestFilesTotal(){return U(()=>this._state.testFilesTotal)}getTestFilesStarted(){return U(()=>this._state.testFilesStarted)}getFailingStatus(){return U(()=>!!this._state.runStats?.failing||!!this._state.runStats?.hasRunErrors)}getSideViewTab(){return U(()=>this._state.sideViewScreen)}getPausedState(){return U(()=>this._state.pausedState)}focus(e){this._appToCore.focus(e)}closeFind(){this._setState("find",void 0)}showFind(e){this._setState("find",{namespace:e,lastShowTime:Date.now()})}closeShortcuts(){this._setState("shortcuts",void 0)}showShortcuts(e,r){const n=r&&this._state.kind!=="standalone";this._state.shortcuts?(this.closeShortcuts(),n&&this._appToCore.openInSideView({name:Ye.Shortcuts,state:{shortcuts:{open:void 0}}})):(this._setState("shortcuts",e),n&&this._appToCore.openInSideView({name:Ye.Shortcuts,state:{shortcuts:{open:!0}}}))}debug(e){this._appToCore.debug(e)}investigateWithAi(e,r){this._appToCore.investigateWithAi(e,r)}getLocationByTraceFrame(e){return this._appToCore.getLocationByTraceFrame(e)}stepInDebugger(e,r){if(!r){this._appToCore.stepInDebugger(e);return}this.shouldOpenInEditor(r)&&this._appToCore.stepInDebugger(e),e.runViaEditor?.line&&r&&this.shouldOpenInBrowser(r)&&this._state.openedTab?.requestedLocation&&(e.file=this._state.openedTab.requestedLocation.file,e.line=this._state.openedTab.requestedLocation.line,delete e.runViaEditor,this._appToCore.stepInDebugger(e))}stopDebugger(){this._appToCore.stopDebugger()}sendTraceFramesData(e,r){this._appToCore.sendTraceFramesData(e,r)}sendCurrentStepEcho(){this._appToCore.sendCurrentStepEcho()}stopSendingCurrentStepEcho(){this._appToCore.stopSendingCurrentStepEcho()}addWatchExpression(e,r,n){this._appToCore.addWatchExpression(e,r,n)}removeWatchExpressions(e){this._appToCore.removeWatchExpressions(e)}evaluateWatchExpressions(){this._appToCore.evaluateWatchExpressions()}showCallStack(){this._appToCore.showCallStack(),this.featureUsed("callStack")}profile(e){this._appToCore.profile(e)}toggleTestFilter(e,r){this._appToCore.toggleTestFilter(e,r)}updateSnapshots(e){this._appToCore.updateSnapshots(e)}showSideBySideDiff(e,r){const n=this.shouldOpenInEditor(r),i=this.shouldOpenInBrowser(r);this._appToCore.showSideBySideDiff(e.test,e.id,{showInEditor:n,showInBrowser:i}),i&&(e.actual!==void 0||e.expected!==void 0)&&(this.openCodePanelIfRequired(!0),this._setState("openedTab",je({diff:{actual:e.actual,expected:e.expected}})))}copyDiagnosticsReport(){this._appToCore.copyDiagnosticsReport()}requestTrial(e){this._state.openedTab?.account&&this._setState("openedTab","account","requestingTrial",!0),this._appToCore.requestTrial(e).then(r=>{this._state.openedTab?.account&&(this._setState("openedTab","account","requestingTrial",void 0),this._setState("openedTab","account","trialRequestResult",r))})}resetAccountRequests(){this._state.openedTab?.account&&(this._setState("openedTab","account","trialRequestResult",void 0),this._setState("openedTab","account","activationRequestResult",void 0),this._setState("openedTab","account","requestingTrial",void 0),this._setState("openedTab","account","activating",void 0))}activateLicense(e){this._state.openedTab?.account&&this._setState("openedTab","account","activating",!0),this._appToCore.activateLicense(e).then(r=>{this._state.openedTab?.account&&(this._setState("openedTab","account","activating",void 0),this._setState("openedTab","account","activationRequestResult",r))})}async highlight(e,r){const n=e.endsWith(".vue")?"vue":e.endsWith(".svelte")?"svelte":"typescript",i=n==="vue"||n==="svelte"?75:3,o=await this._appToCore.extractFileFragment(e,{line:r,frame:i});if(o&&o.lines.length>0)return su||(su=(await qr(()=>Promise.resolve().then(()=>Tc),void 0,import.meta.url)).highlight),await su(n,o,n==="vue"||n==="svelte"?3:void 0)}trackStatus(){this._trackStatusCount++,this._appToCore.trackStatus()}untrackStatus(){this._trackStatusCount--,this._trackStatusCount===0&&this._appToCore.untrackStatus()}trackTestRun(){this._trackTestRunCount++,this._appToCore.trackTestRun()}untrackTestRun(){this._trackTestRunCount--,this._trackTestRunCount===0&&this._appToCore.untrackTestRun()}trackExecutionProgress(){this._trackExecutionProgressCount++,this._appToCore.trackExecutionProgress()}untrackExecutionProgress(){this._trackExecutionProgressCount--,this._trackExecutionProgressCount===0&&this._appToCore.untrackExecutionProgress()}trackStats(){this._trackStatsCount++,this._appToCore.trackStats()}untrackStats(){this._trackStatsCount--,this._trackStatsCount===0&&this._appToCore.untrackStats()}optInToLogsAndErrors(){this._trackTestDataCount++}optOutFromLogsAndErrors(){this._trackTestDataCount--,this._trackTestDataCount===0&&this._appToCore.untrackAllLogsAndErrors()}trackDiagnosticMessages(){this._trackDiagnosticMessagesCount++,this._appToCore.trackDiagnosticMessages()}untrackDiagnosticMessages(){this._trackDiagnosticMessagesCount--,this._trackDiagnosticMessagesCount===0&&this._appToCore.untrackDiagnosticMessages()}pause(){this._appToCore.pause()}resume(){this._appToCore.resume()}restart(){this._setState("restarting",!0),_r(()=>{we(()=>this._state.disconnected,async r=>{if(r){this._setState("reconnectingAfterRestart",!0);let n;const i=()=>{n&&clearTimeout(n)},o=await Promise.race([new Promise(s=>setTimeout(s,1e4)),new Promise(s=>{const a=()=>{i(),n=setTimeout(l,250)},l=()=>{try{l_(this._state.network?.isSecure,this._state.network?.host,this._state.network?.port,this._state.network?.secret,{onCloseDueToError:()=>a()}).then(({coreToApp:c})=>c.onHandshake(async d=>s(!0))).catch(()=>a())}catch{a()}};l()})]);i(),o?window.location.reload():(this._setState("failedToReconnectAfterRestart",!0),this._setState("reconnectingAfterRestart",void 0))}}),this._appToCore.restart()})}getPanelState(e,r){return U(()=>this._getPanelState(e,r))}_getPanelState(e,r){return this._settingsState.panels?.[e]||r||{}}setPanelState(e,r){const{size:n,collapsed:i}=this._getPanelState(e),o={panels:{...this._settingsState.panels,[e]:r(this._settingsState.panels?.[e]||{})}};this._setSettingsState({...this._settingsState,...o});const{size:s,collapsed:a}=this._getPanelState(e);(i!==a||n!==s)&&this._updateSettingsDebounced(o)}onPauseStateChanged(e){this._setState("pausedState",e)}onDebuggerStateChanged(e){this._state.kind!=="quokka.output"&&(e?.started?(this.isStandalone()&&this.openPanelIfRequired(pe.StandaloneOverview),this.setPanelState(pe.OverviewDebugger,r=>({...r,collapsed:!1,size:r.size||20}))):this.setPanelState(pe.OverviewDebugger,r=>({...r,collapsed:!0}))),this._setState("debuggerState",e),this._setState("debuggerStarted",e?.started)}onStatus(e){this._setState("status",je(e))}onTestRunStatus(e){this._testFileStatusIndex.clear(),e.tests.reduce((r,n,i)=>(this._testFileStatusIndex.set(n.id,i),r.total++,(n.status==="complete"||n.status==="running")&&r.started++,r),{total:0,started:0,files:{}}),this._setState("testFiles",e.tests)}onExecutionProgress(e){this._setState("testFilesStarted",e.startedOrCompleted),this._setState("testFilesTotal",e.total)}onProject(e){this._setState("project",je(e))}onTestRunTestFileUpdated(e){const r=this._testFileStatusIndex.get(e.id);r===void 0||!this._state.testFiles[r]===void 0||this._setState("testFiles",r,e)}onDiagnosticMessages(e){e.initial?this._diagnosticMessagesEmitter.emit("initial",e.messages):this._diagnosticMessagesEmitter.emit("incremental",e.messages)}openAccountDetails(e){this.closeAllFiles(),this.openCodePanelIfRequired(!0),this._setState("openedTab",je({account:this._state.account?{...this._state.account,...e}:void 0})),this.resetAccountRequests()}openSettings(){this.closeAllFiles(),this.openCodePanelIfRequired(!0),this._setState("openedTab",je({settings:{}}))}clearNotifications(){this._setState("notifications",void 0)}async connect(){let e=!1,r,n;const i=()=>{this._state.stopped||(this._setState("disconnected",!0),e=!0,n&&n(),this._state.restarting||(this._disposable.dispose(),this._disposable=new Cr,this._setState("connecting",!0),this._setState("status",{state:"starting",firstTestResultAvailable:!1}),clearTimeout(this._reconnectTimeout),this._reconnectTimeout=setTimeout(()=>{this.connect().then(()=>{this._state.disconnected||this._onConnected()})},1e3)))},{disposable:o,appToCore:s,coreToApp:a}=await l_(this._state.network?.isSecure,this._state.network?.host,this._state.network?.port,this._state.network?.secret,{onClose:()=>i(),onCloseDueToError:()=>i()});if(e)return;const l=new Promise((d,u)=>{r=d,n=u});let c;c=a.onHandshake(async d=>{c.dispose(),d.editor.type==="vscode"?(await oa(d.editor,this._state.kind==="standalone"),this._state.kind!=="standalone"&&(document.body.getAttribute("data-vscode-theme-id")&&document.body.getAttribute("data-vscode-theme-id")!==d.editor.theme?.name&&s.themeChanged(document.body.getAttribute("data-vscode-theme-id")),new MutationObserver(f=>{f.forEach(h=>{h.type==="attributes"&&h.attributeName==="data-vscode-theme-id"&&s.themeChanged(document.body.getAttribute("data-vscode-theme-id"))})}).observe(document.body,{attributes:!0,attributeFilter:["data-vscode-theme-id"]}))):d.editor.type==="intellij"?await h_(d.editor,this._state.kind==="standalone"):await vl({theme:d.settings.standalone.cli.theme,editorFontFamily:d.settings.standalone.cli.editorFontFamily,panelFontFamily:d.settings.standalone.cli.panelFontFamily}),this._setState(Je(u=>{u.editor=d.editor.type,u.pausedState=d.pausedState,u.debuggerState=d.debuggerState,u.project=d.project,u.version=d.version,u.notifications=d.notifications,u.sideViewScreen=d.settings.sideViewScreen?{name:d.settings.sideViewScreen}:{name:Ye.Tests},u.aiAvailable=d.editor.aiAvailable,u.canShowCoverageInExplorer=d.editor.canShowCoverageInExplorer,u.showCoverageInExplorer=d.editor.showCoverageInExplorer,this.onDebuggerStateChanged(d.debuggerState),d.testRunMode&&this.onTestRunModeParamsChanged(d.testRunMode),d.account&&this.onAccountDetailsChanged(d.account),u.quokkaConfig=d.quokka})),this._setSettingsState(u=>({...u,...d.settings})),r&&(r(),r=void 0)});try{await Promise.race([l,new Promise((d,u)=>setTimeout(()=>u(new Error("Handshake timeout")),12e4))])}catch{console.error("Handshake failed");return}e||(this._disposable.add(a.onPreferences(async d=>{this._setState("canShowCoverageInExplorer",d.editor?.canShowCoverageInExplorer),this._setState("showCoverageInExplorer",d.editor?.showCoverageInExplorer),this._state.editor==="vscode"?await oa(d.editor,this._state.kind==="standalone"):this._state.editor==="intellij"&&await h_(d.editor,this._state.kind==="standalone")})),this._disposable.add(o),this._appToCore=s,this._coreToApp=a,this._setState(Je(d=>{delete d.disconnected,d.connecting=!1})))}openInSideView(e,r){const n={name:e,state:r};this._setState("sideViewScreen",n);const i=this._settingsState.panels?.[pe.StandaloneMainSideView]||{},o={panels:{...this._settingsState.panels,[pe.StandaloneMainSideView]:{...i,collapsed:!1,size:i.size||50}},sideViewScreen:e};this._setSettingsState({...this._settingsState,...o}),this._appToCore?.updateAppSettings(o),this._state.kind!=="standalone"&&this._appToCore.openInSideView(n)}getDiagnosticMessagesEmitter(){return this._diagnosticMessagesEmitter}clearPreviousDiagnosticMessages(){this._appToCore.clearPreviousDiagnosticMessages()}openMcpSettings(){this._appToCore.openMcpSettings()}installCoreVersion(){this._appToCore.installCoreVersion()}toggleCoverageInExplorer(e){this._appToCore.toggleCoverageInExplorer(e)}showFileUncoveredRegions(e,r,n){this.shouldOpenInEditor(n)&&this._appToCore.showFileUncoveredRegions(e,n.buttons===999),this.shouldOpenInBrowser(n)&&(this.openCodePanelIfRequired(!0),this.openFile({file:r}))}dispose(){this._setState("stopped",!0),clearTimeout(this._reconnectTimeout),this._disposable.dispose()}static Provider};const[a7,Ge]=Ar(t=>t.initial);Sc.Provider=a7;var wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nT={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(wn,()=>{return r={770:function(i,o,s){var a=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(o,"__esModule",{value:!0}),o.setDefaultDebugCall=o.createOnigScanner=o.createOnigString=o.loadWASM=o.OnigScanner=o.OnigString=void 0;const l=a(s(418));let c=null,d=!1;class u{static _utf8ByteLength(b){let k=0;for(let _=0,v=b.length;_<v;_++){const x=b.charCodeAt(_);let S=x,w=!1;if(x>=55296&&x<=56319&&_+1<v){const T=b.charCodeAt(_+1);T>=56320&&T<=57343&&(S=65536+(x-55296<<10)|T-56320,w=!0)}k+=S<=127?1:S<=2047?2:S<=65535?3:4,w&&_++}return k}constructor(b){const k=b.length,_=u._utf8ByteLength(b),v=_!==k,x=v?new Uint32Array(k+1):null;v&&(x[k]=_);const S=v?new Uint32Array(_+1):null;v&&(S[_]=k);const w=new Uint8Array(_);let T=0;for(let L=0;L<k;L++){const E=b.charCodeAt(L);let C=E,F=!1;if(E>=55296&&E<=56319&&L+1<k){const $=b.charCodeAt(L+1);$>=56320&&$<=57343&&(C=65536+(E-55296<<10)|$-56320,F=!0)}v&&(x[L]=T,F&&(x[L+1]=T),C<=127?S[T+0]=L:C<=2047?(S[T+0]=L,S[T+1]=L):C<=65535?(S[T+0]=L,S[T+1]=L,S[T+2]=L):(S[T+0]=L,S[T+1]=L,S[T+2]=L,S[T+3]=L)),C<=127?w[T++]=C:C<=2047?(w[T++]=192|(1984&C)>>>6,w[T++]=128|(63&C)>>>0):C<=65535?(w[T++]=224|(61440&C)>>>12,w[T++]=128|(4032&C)>>>6,w[T++]=128|(63&C)>>>0):(w[T++]=240|(1835008&C)>>>18,w[T++]=128|(258048&C)>>>12,w[T++]=128|(4032&C)>>>6,w[T++]=128|(63&C)>>>0),F&&L++}this.utf16Length=k,this.utf8Length=_,this.utf16Value=b,this.utf8Value=w,this.utf16OffsetToUtf8=x,this.utf8OffsetToUtf16=S}createString(b){const k=b._omalloc(this.utf8Length);return b.HEAPU8.set(this.utf8Value,k),k}}class f{constructor(b){if(this.id=++f.LAST_ID,!c)throw new Error("Must invoke loadWASM first.");this._onigBinding=c,this.content=b;const k=new u(b);this.utf16Length=k.utf16Length,this.utf8Length=k.utf8Length,this.utf16OffsetToUtf8=k.utf16OffsetToUtf8,this.utf8OffsetToUtf16=k.utf8OffsetToUtf16,this.utf8Length<1e4&&!f._sharedPtrInUse?(f._sharedPtr||(f._sharedPtr=c._omalloc(1e4)),f._sharedPtrInUse=!0,c.HEAPU8.set(k.utf8Value,f._sharedPtr),this.ptr=f._sharedPtr):this.ptr=k.createString(c)}convertUtf8OffsetToUtf16(b){return this.utf8OffsetToUtf16?b<0?0:b>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[b]:b}convertUtf16OffsetToUtf8(b){return this.utf16OffsetToUtf8?b<0?0:b>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[b]:b}dispose(){this.ptr===f._sharedPtr?f._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}o.OnigString=f,f.LAST_ID=0,f._sharedPtr=0,f._sharedPtrInUse=!1;class h{constructor(b,k){var _,v;if(!c)throw new Error("Must invoke loadWASM first.");const x=[],S=[];for(let F=0,$=b.length;F<$;F++){const O=new u(b[F]);x[F]=O.createString(c),S[F]=O.utf8Length}const w=c._omalloc(4*b.length);c.HEAPU32.set(x,w/4);const T=c._omalloc(4*b.length);c.HEAPU32.set(S,T/4),this._onigBinding=c,this._options=(_=k?.options)!==null&&_!==void 0?_:[10];const L=this.onigOptions(this._options),E=this.onigSyntax((v=k?.syntax)!==null&&v!==void 0?v:0),C=c._createOnigScanner(w,T,b.length,L,E);this._ptr=C;for(let F=0,$=b.length;F<$;F++)c._ofree(x[F]);c._ofree(T),c._ofree(w),C===0&&function(F){throw new Error(F.UTF8ToString(F._getLastOnigError()))}(c)}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(b,k,_){let v=d,x=this._options;if(Array.isArray(_)?(_.includes(25)&&(v=!0),x=x.concat(_)):typeof _=="boolean"&&(v=_),typeof b=="string"){b=new f(b);const S=this._findNextMatchSync(b,k,v,x);return b.dispose(),S}return this._findNextMatchSync(b,k,v,x)}_findNextMatchSync(b,k,_,v){const x=this._onigBinding,S=this.onigOptions(v);let w;if(w=_?x._findNextOnigScannerMatchDbg(this._ptr,b.id,b.ptr,b.utf8Length,b.convertUtf16OffsetToUtf8(k),S):x._findNextOnigScannerMatch(this._ptr,b.id,b.ptr,b.utf8Length,b.convertUtf16OffsetToUtf8(k),S),w===0)return null;const T=x.HEAPU32;let L=w/4;const E=T[L++],C=T[L++];let F=[];for(let $=0;$<C;$++){const O=b.convertUtf8OffsetToUtf16(T[L++]),M=b.convertUtf8OffsetToUtf16(T[L++]);F[$]={start:O,end:M,length:M-O}}return{index:E,captureIndices:F}}onigOptions(b){return b.map(k=>this.onigOption(k)).reduce((k,_)=>k|_,this._onigBinding.ONIG_OPTION_NONE)}onigSyntax(b){switch(b){case 0:return this._onigBinding.ONIG_SYNTAX_DEFAULT;case 1:return this._onigBinding.ONIG_SYNTAX_ASIS;case 2:return this._onigBinding.ONIG_SYNTAX_POSIX_BASIC;case 3:return this._onigBinding.ONIG_SYNTAX_POSIX_EXTENDED;case 4:return this._onigBinding.ONIG_SYNTAX_EMACS;case 5:return this._onigBinding.ONIG_SYNTAX_GREP;case 6:return this._onigBinding.ONIG_SYNTAX_GNU_REGEX;case 7:return this._onigBinding.ONIG_SYNTAX_JAVA;case 8:return this._onigBinding.ONIG_SYNTAX_PERL;case 9:return this._onigBinding.ONIG_SYNTAX_PERL_NG;case 10:return this._onigBinding.ONIG_SYNTAX_RUBY;case 11:return this._onigBinding.ONIG_SYNTAX_PYTHON;case 12:return this._onigBinding.ONIG_SYNTAX_ONIGURUMA}}onigOption(b){switch(b){case 1:return this._onigBinding.ONIG_OPTION_NONE;case 0:case 25:return this._onigBinding.ONIG_OPTION_DEFAULT;case 2:return this._onigBinding.ONIG_OPTION_IGNORECASE;case 3:return this._onigBinding.ONIG_OPTION_EXTEND;case 4:return this._onigBinding.ONIG_OPTION_MULTILINE;case 5:return this._onigBinding.ONIG_OPTION_SINGLELINE;case 6:return this._onigBinding.ONIG_OPTION_FIND_LONGEST;case 7:return this._onigBinding.ONIG_OPTION_FIND_NOT_EMPTY;case 8:return this._onigBinding.ONIG_OPTION_NEGATE_SINGLELINE;case 9:return this._onigBinding.ONIG_OPTION_DONT_CAPTURE_GROUP;case 10:return this._onigBinding.ONIG_OPTION_CAPTURE_GROUP;case 11:return this._onigBinding.ONIG_OPTION_NOTBOL;case 12:return this._onigBinding.ONIG_OPTION_NOTEOL;case 13:return this._onigBinding.ONIG_OPTION_CHECK_VALIDITY_OF_STRING;case 14:return this._onigBinding.ONIG_OPTION_IGNORECASE_IS_ASCII;case 15:return this._onigBinding.ONIG_OPTION_WORD_IS_ASCII;case 16:return this._onigBinding.ONIG_OPTION_DIGIT_IS_ASCII;case 17:return this._onigBinding.ONIG_OPTION_SPACE_IS_ASCII;case 18:return this._onigBinding.ONIG_OPTION_POSIX_IS_ASCII;case 19:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_EXTENDED_GRAPHEME_CLUSTER;case 20:return this._onigBinding.ONIG_OPTION_TEXT_SEGMENT_WORD;case 21:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_STRING;case 22:return this._onigBinding.ONIG_OPTION_NOT_END_STRING;case 23:return this._onigBinding.ONIG_OPTION_NOT_BEGIN_POSITION;case 24:return this._onigBinding.ONIG_OPTION_CALLBACK_EACH_MATCH}}}o.OnigScanner=h;let g=!1,p=null;o.loadWASM=function(m){if(g)return p;let b,k,_,v;if(g=!0,function(x){return typeof x.instantiator=="function"}(m))b=m.instantiator,k=m.print;else{let x;(function(S){return S.data!==void 0})(m)?(x=m.data,k=m.print):x=m,b=function(S){return typeof Response<"u"&&S instanceof Response}(x)?typeof WebAssembly.instantiateStreaming=="function"?function(S){return w=>WebAssembly.instantiateStreaming(S,w)}(x):function(S){return async w=>{const T=await S.arrayBuffer();return WebAssembly.instantiate(T,w)}}(x):function(S){return w=>WebAssembly.instantiate(S,w)}(x)}return p=new Promise((x,S)=>{_=x,v=S}),function(x,S,w,T){(0,l.default)({print:S,instantiateWasm:(L,E)=>{if(typeof performance>"u"){const C=()=>Date.now();L.env.emscripten_get_now=C,L.wasi_snapshot_preview1.emscripten_get_now=C}return x(L).then(C=>E(C.instance),T),{}}}).then(L=>{c=L,w()})}(b,k,_,v),p},o.createOnigString=function(m){return new f(m)},o.createOnigScanner=function(m){return new h(m)},o.setDefaultDebugCall=function(m){d=m}},418:i=>{var o=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(s={}){var a,l,c=s;c.ready=new Promise((X,K)=>{a=X,l=K});var d,u=Object.assign({},c);typeof read<"u"&&read,d=X=>{if(typeof readbuffer=="function")return new Uint8Array(readbuffer(X));let K=read(X,"binary");return typeof K=="object"||M(fe),K;var fe},typeof clearTimeout>"u"&&(globalThis.clearTimeout=X=>{}),typeof setTimeout>"u"&&(globalThis.setTimeout=X=>typeof X=="function"?X():M()),typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var f,h,g=c.print||console.log.bind(console),p=c.printErr||console.error.bind(console);Object.assign(c,u),u=null,c.arguments&&c.arguments,c.thisProgram&&c.thisProgram,c.quit&&c.quit,c.wasmBinary&&(f=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&M("no native wasm support detected");var m,b,k,_,v,x,S,w,T=!1;function L(){var X=h.buffer;c.HEAP8=m=new Int8Array(X),c.HEAP16=k=new Int16Array(X),c.HEAPU8=b=new Uint8Array(X),c.HEAPU16=_=new Uint16Array(X),c.HEAP32=v=new Int32Array(X),c.HEAPU32=x=new Uint32Array(X),c.HEAPF32=S=new Float32Array(X),c.HEAPF64=w=new Float64Array(X)}var E=[],C=[],F=[],$=0,O=null;function M(X){c.onAbort&&c.onAbort(X),p(X="Aborted("+X+")"),T=!0,X+=". Build with -sASSERTIONS for more info.";var K=new WebAssembly.RuntimeError(X);throw l(K),K}var I,W;function q(X){return X.startsWith("data:application/octet-stream;base64,")}function G(X){if(X==I&&f)return new Uint8Array(f);if(d)return d(X);throw"both async and sync fetching of the wasm failed"}function H(X,K,fe){return function(j){return Promise.resolve().then(()=>G(j))}(X).then(j=>WebAssembly.instantiate(j,K)).then(j=>j).then(fe,j=>{p(`failed to asynchronously prepare wasm: ${j}`),M(j)})}q(I="onig.wasm")||(W=I,I=c.locateFile?c.locateFile(W,""):""+W);var J=X=>{for(;X.length>0;)X.shift()(c)},Z=void 0,te=X=>{for(var K="",fe=X;b[fe];)K+=Z[b[fe++]];return K},ee={},le={},de=void 0,B=X=>{throw new de(X)},N=void 0,ie=(X,K,fe)=>{function j(Pe){var Be=fe(Pe);Be.length!==X.length&&(nt=>{throw new N(nt)})("Mismatched type converter count");for(var We=0;We<X.length;++We)ce(X[We],Be[We])}X.forEach(function(Pe){});var Q=new Array(K.length),ge=[],me=0;K.forEach((Pe,Be)=>{le.hasOwnProperty(Pe)?Q[Be]=le[Pe]:(ge.push(Pe),ee.hasOwnProperty(Pe)||(ee[Pe]=[]),ee[Pe].push(()=>{Q[Be]=le[Pe],++me===ge.length&&j(Q)}))}),ge.length===0&&j(Q)};function ce(X,K,fe={}){if(!("argPackAdvance"in K))throw new TypeError("registerType registeredInstance requires argPackAdvance");return function(j,Q,ge={}){var me=Q.name;if(j||B(`type "${me}" must have a positive integer typeid pointer`),le.hasOwnProperty(j)){if(ge.ignoreDuplicateRegistrations)return;B(`Cannot register type '${me}' twice`)}if(le[j]=Q,ee.hasOwnProperty(j)){var Pe=ee[j];delete ee[j],Pe.forEach(Be=>Be())}}(X,K,fe)}function ke(){this.allocated=[void 0],this.freelist=[]}var xe=new ke,Ae=()=>{for(var X=0,K=xe.reserved;K<xe.allocated.length;++K)xe.allocated[K]!==void 0&&++X;return X},Ne=X=>(X||B("Cannot use deleted val. handle = "+X),xe.get(X).value),ve=X=>{switch(X){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return xe.allocate({refcount:1,value:X})}};function qe(X){return this.fromWireType(v[X>>2])}var Re=(X,K)=>{switch(K){case 4:return function(fe){return this.fromWireType(S[fe>>2])};case 8:return function(fe){return this.fromWireType(w[fe>>3])};default:throw new TypeError(`invalid float width (${K}): ${X}`)}},et=(X,K,fe)=>{switch(K){case 1:return fe?j=>m[j>>0]:j=>b[j>>0];case 2:return fe?j=>k[j>>1]:j=>_[j>>1];case 4:return fe?j=>v[j>>2]:j=>x[j>>2];default:throw new TypeError(`invalid integer width (${K}): ${X}`)}};function ue(X){return this.fromWireType(x[X>>2])}var Se,De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ke=(X,K,fe)=>{for(var j=K+fe,Q=K;X[Q]&&!(Q>=j);)++Q;if(Q-K>16&&X.buffer&&De)return De.decode(X.subarray(K,Q));for(var ge="";K<Q;){var me=X[K++];if(128&me){var Pe=63&X[K++];if((224&me)!=192){var Be=63&X[K++];if((me=(240&me)==224?(15&me)<<12|Pe<<6|Be:(7&me)<<18|Pe<<12|Be<<6|63&X[K++])<65536)ge+=String.fromCharCode(me);else{var We=me-65536;ge+=String.fromCharCode(55296|We>>10,56320|1023&We)}}else ge+=String.fromCharCode((31&me)<<6|Pe)}else ge+=String.fromCharCode(me)}return ge},Ue=(X,K)=>X?Ke(b,X,K):"",be=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,He=(X,K)=>{for(var fe=X,j=fe>>1,Q=j+K/2;!(j>=Q)&&_[j];)++j;if((fe=j<<1)-X>32&&be)return be.decode(b.subarray(X,fe));for(var ge="",me=0;!(me>=K/2);++me){var Pe=k[X+2*me>>1];if(Pe==0)break;ge+=String.fromCharCode(Pe)}return ge},dt=(X,K,fe)=>{if(fe===void 0&&(fe=2147483647),fe<2)return 0;for(var j=K,Q=(fe-=2)<2*X.length?fe/2:X.length,ge=0;ge<Q;++ge){var me=X.charCodeAt(ge);k[K>>1]=me,K+=2}return k[K>>1]=0,K-j},Le=X=>2*X.length,Oe=(X,K)=>{for(var fe=0,j="";!(fe>=K/4);){var Q=v[X+4*fe>>2];if(Q==0)break;if(++fe,Q>=65536){var ge=Q-65536;j+=String.fromCharCode(55296|ge>>10,56320|1023&ge)}else j+=String.fromCharCode(Q)}return j},Ve=(X,K,fe)=>{if(fe===void 0&&(fe=2147483647),fe<4)return 0;for(var j=K,Q=j+fe-4,ge=0;ge<X.length;++ge){var me=X.charCodeAt(ge);if(me>=55296&&me<=57343&&(me=65536+((1023&me)<<10)|1023&X.charCodeAt(++ge)),v[K>>2]=me,(K+=4)+4>Q)break}return v[K>>2]=0,K-j},Qe=X=>{for(var K=0,fe=0;fe<X.length;++fe){var j=X.charCodeAt(fe);j>=55296&&j<=57343&&++fe,K+=4}return K};Se=()=>performance.now();var st=X=>{var K=(X-h.buffer.byteLength+65535)/65536;try{return h.grow(K),L(),1}catch{}},lt=[null,[],[]];(()=>{for(var X=new Array(256),K=0;K<256;++K)X[K]=String.fromCharCode(K);Z=X})(),de=c.BindingError=class extends Error{constructor(X){super(X),this.name="BindingError"}},N=c.InternalError=class extends Error{constructor(X){super(X),this.name="InternalError"}},Object.assign(ke.prototype,{get(X){return this.allocated[X]},has(X){return this.allocated[X]!==void 0},allocate(X){var K=this.freelist.pop()||this.allocated.length;return this.allocated[K]=X,K},free(X){this.allocated[X]=void 0,this.freelist.push(X)}}),xe.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),xe.reserved=xe.allocated.length,c.count_emval_handles=Ae;var ut,ne={_embind_register_bigint:(X,K,fe,j,Q)=>{},_embind_register_bool:(X,K,fe,j)=>{ce(X,{name:K=te(K),fromWireType:function(Q){return!!Q},toWireType:function(Q,ge){return ge?fe:j},argPackAdvance:8,readValueFromPointer:function(Q){return this.fromWireType(b[Q])},destructorFunction:null})},_embind_register_constant:(X,K,fe)=>{X=te(X),ie([],[K],function(j){return j=j[0],c[X]=j.fromWireType(fe),[]})},_embind_register_emval:(X,K)=>{ce(X,{name:K=te(K),fromWireType:fe=>{var j=Ne(fe);return(Q=>{Q>=xe.reserved&&--xe.get(Q).refcount==0&&xe.free(Q)})(fe),j},toWireType:(fe,j)=>ve(j),argPackAdvance:8,readValueFromPointer:qe,destructorFunction:null})},_embind_register_float:(X,K,fe)=>{ce(X,{name:K=te(K),fromWireType:j=>j,toWireType:(j,Q)=>Q,argPackAdvance:8,readValueFromPointer:Re(K,fe),destructorFunction:null})},_embind_register_integer:(X,K,fe,j,Q)=>{K=te(K);var ge=Be=>Be;if(j===0){var me=32-8*fe;ge=Be=>Be<<me>>>me}var Pe=K.includes("unsigned");ce(X,{name:K,fromWireType:ge,toWireType:Pe?function(Be,We){return this.name,We>>>0}:function(Be,We){return this.name,We},argPackAdvance:8,readValueFromPointer:et(K,fe,j!==0),destructorFunction:null})},_embind_register_memory_view:(X,K,fe)=>{var j=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][K];function Q(ge){var me=x[ge>>2],Pe=x[ge+4>>2];return new j(m.buffer,Pe,me)}ce(X,{name:fe=te(fe),fromWireType:Q,argPackAdvance:8,readValueFromPointer:Q},{ignoreDuplicateRegistrations:!0})},_embind_register_std_string:(X,K)=>{var fe=(K=te(K))==="std::string";ce(X,{name:K,fromWireType:j=>{var Q,ge=x[j>>2],me=j+4;if(fe)for(var Pe=me,Be=0;Be<=ge;++Be){var We=me+Be;if(Be==ge||b[We]==0){var nt=Ue(Pe,We-Pe);Q===void 0?Q=nt:(Q+="\0",Q+=nt),Pe=We+1}}else{var it=new Array(ge);for(Be=0;Be<ge;++Be)it[Be]=String.fromCharCode(b[me+Be]);Q=it.join("")}return Fe(j),Q},toWireType:(j,Q)=>{var ge;Q instanceof ArrayBuffer&&(Q=new Uint8Array(Q));var me=typeof Q=="string";me||Q instanceof Uint8Array||Q instanceof Uint8ClampedArray||Q instanceof Int8Array||B("Cannot pass non-string to std::string"),ge=fe&&me?(it=>{for(var bt=0,gt=0;gt<it.length;++gt){var xt=it.charCodeAt(gt);xt<=127?bt++:xt<=2047?bt+=2:xt>=55296&&xt<=57343?(bt+=4,++gt):bt+=3}return bt})(Q):Q.length;var Pe=Te(4+ge+1),Be=Pe+4;if(x[Pe>>2]=ge,fe&&me)((it,bt,gt,xt)=>{if(!(xt>0))return 0;for(var lr=gt,Fr=gt+xt-1,mt=0;mt<it.length;++mt){var Pt=it.charCodeAt(mt);if(Pt>=55296&&Pt<=57343&&(Pt=65536+((1023&Pt)<<10)|1023&it.charCodeAt(++mt)),Pt<=127){if(gt>=Fr)break;bt[gt++]=Pt}else if(Pt<=2047){if(gt+1>=Fr)break;bt[gt++]=192|Pt>>6,bt[gt++]=128|63&Pt}else if(Pt<=65535){if(gt+2>=Fr)break;bt[gt++]=224|Pt>>12,bt[gt++]=128|Pt>>6&63,bt[gt++]=128|63&Pt}else{if(gt+3>=Fr)break;bt[gt++]=240|Pt>>18,bt[gt++]=128|Pt>>12&63,bt[gt++]=128|Pt>>6&63,bt[gt++]=128|63&Pt}}bt[gt]=0})(Q,b,Be,ge+1);else if(me)for(var We=0;We<ge;++We){var nt=Q.charCodeAt(We);nt>255&&(Fe(Be),B("String has UTF-16 code units that do not fit in 8 bits")),b[Be+We]=nt}else for(We=0;We<ge;++We)b[Be+We]=Q[We];return j!==null&&j.push(Fe,Pe),Pe},argPackAdvance:8,readValueFromPointer:ue,destructorFunction:j=>Fe(j)})},_embind_register_std_wstring:(X,K,fe)=>{var j,Q,ge,me,Pe;fe=te(fe),K===2?(j=He,Q=dt,me=Le,ge=()=>_,Pe=1):K===4&&(j=Oe,Q=Ve,me=Qe,ge=()=>x,Pe=2),ce(X,{name:fe,fromWireType:Be=>{for(var We,nt=x[Be>>2],it=ge(),bt=Be+4,gt=0;gt<=nt;++gt){var xt=Be+4+gt*K;if(gt==nt||it[xt>>Pe]==0){var lr=j(bt,xt-bt);We===void 0?We=lr:(We+="\0",We+=lr),bt=xt+K}}return Fe(Be),We},toWireType:(Be,We)=>{typeof We!="string"&&B(`Cannot pass non-string to C++ string type ${fe}`);var nt=me(We),it=Te(4+nt+K);return x[it>>2]=nt>>Pe,Q(We,it+4,nt+K),Be!==null&&Be.push(Fe,it),it},argPackAdvance:8,readValueFromPointer:qe,destructorFunction:Be=>Fe(Be)})},_embind_register_void:(X,K)=>{ce(X,{isVoid:!0,name:K=te(K),argPackAdvance:0,fromWireType:()=>{},toWireType:(fe,j)=>{}})},emscripten_get_now:Se,emscripten_memcpy_big:(X,K,fe)=>b.copyWithin(X,K,K+fe),emscripten_resize_heap:X=>{var K=b.length,fe=2147483648;if((X>>>=0)>fe)return!1;for(var j,Q=1;Q<=4;Q*=2){var ge=K*(1+.2/Q);ge=Math.min(ge,X+100663296);var me=Math.min(fe,(j=Math.max(X,ge))+(65536-j%65536)%65536);if(st(me))return!0}return!1},fd_write:(X,K,fe,j)=>{for(var Q=0,ge=0;ge<fe;ge++){var me=x[K>>2],Pe=x[K+4>>2];K+=8;for(var Be=0;Be<Pe;Be++)We=X,nt=b[me+Be],it=void 0,it=lt[We],nt===0||nt===10?((We===1?g:p)(Ke(it,0)),it.length=0):it.push(nt);Q+=Pe}var We,nt,it;return x[j>>2]=Q,0}},he=function(){var X,K,fe,j,Q={env:ne,wasi_snapshot_preview1:ne};function ge(me,Pe){var Be,We=me.exports;return h=(he=We).memory,L(),he.__indirect_function_table,Be=he.__wasm_call_ctors,C.unshift(Be),function(nt){if($--,c.monitorRunDependencies&&c.monitorRunDependencies($),$==0&&O){var it=O;O=null,it()}}(),We}if($++,c.monitorRunDependencies&&c.monitorRunDependencies($),c.instantiateWasm)try{return c.instantiateWasm(Q,ge)}catch(me){p(`Module.instantiateWasm callback failed with error: ${me}`),l(me)}return(X=f,K=I,fe=Q,j=function(me){ge(me.instance)},X||typeof WebAssembly.instantiateStreaming!="function"||q(K)||typeof fetch!="function"?H(K,fe,j):fetch(K,{credentials:"same-origin"}).then(me=>WebAssembly.instantiateStreaming(me,fe).then(j,function(Pe){return p(`wasm streaming compile failed: ${Pe}`),p("falling back to ArrayBuffer instantiation"),H(K,fe,j)}))).catch(l),{}}(),Te=X=>(Te=he.malloc)(X),Fe=X=>(Fe=he.free)(X);function _e(){function X(){ut||(ut=!0,c.calledRun=!0,T||(J(C),a(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),function(){if(c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;)K=c.postRun.shift(),F.unshift(K);var K;J(F)}()))}$>0||(function(){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)K=c.preRun.shift(),E.unshift(K);var K;J(E)}(),$>0||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),X()},1)):X()))}if(c._omalloc=X=>(c._omalloc=he.omalloc)(X),c._ofree=X=>(c._ofree=he.ofree)(X),c._getLastOnigError=()=>(c._getLastOnigError=he.getLastOnigError)(),c._createOnigScanner=(X,K,fe,j,Q)=>(c._createOnigScanner=he.createOnigScanner)(X,K,fe,j,Q),c._freeOnigScanner=X=>(c._freeOnigScanner=he.freeOnigScanner)(X),c._findNextOnigScannerMatch=(X,K,fe,j,Q,ge)=>(c._findNextOnigScannerMatch=he.findNextOnigScannerMatch)(X,K,fe,j,Q,ge),c._findNextOnigScannerMatchDbg=(X,K,fe,j,Q,ge)=>(c._findNextOnigScannerMatchDbg=he.findNextOnigScannerMatchDbg)(X,K,fe,j,Q,ge),c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=he._embind_initialize_bindings)(),c.dynCall_jiji=(X,K,fe,j,Q)=>(c.dynCall_jiji=he.dynCall_jiji)(X,K,fe,j,Q),c.UTF8ToString=Ue,O=function X(){ut||_e(),ut||(O=X)},c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();return _e(),s.ready});i.exports=o}},n={},function i(o){var s=n[o];if(s!==void 0)return s.exports;var a=n[o]={exports:{}};return r[o].call(a.exports,a,a.exports,i),a.exports}(770);var r,n})})(nT);var au=nT.exports,iT={exports:{}};(function(t,e){var r={};(function(n,i){t.exports=i()})(wn,()=>(()=>{var n={350:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UseOnigurumaFindOptions=s.DebugFlags=void 0,s.DebugFlags={InDebugMode:typeof process<"u"&&!!r.VSCODE_TEXTMATE_DEBUG},s.UseOnigurumaFindOptions=!1},442:(o,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.applyStateStackDiff=s.diffStateStacksRefEq=void 0;const l=a(391);s.diffStateStacksRefEq=function(c,d){let u=0;const f=[];let h=c,g=d;for(;h!==g;)h&&(!g||h.depth>=g.depth)?(u++,h=h.parent):(f.push(g.toStateStackFrame()),g=g.parent);return{pops:u,newFrames:f.reverse()}},s.applyStateStackDiff=function(c,d){let u=c;for(let f=0;f<d.pops;f++)u=u.parent;for(const f of d.newFrames)u=l.StateStackImpl.pushFrame(u,f);return u}},36:(o,s)=>{var a;Object.defineProperty(s,"__esModule",{value:!0}),s.toOptionalTokenType=s.EncodedTokenAttributes=void 0,(a=s.EncodedTokenAttributes||(s.EncodedTokenAttributes={})).toBinaryStr=function(l){return l.toString(2).padStart(32,"0")},a.print=function(l){const c=a.getLanguageId(l),d=a.getTokenType(l),u=a.getFontStyle(l),f=a.getForeground(l),h=a.getBackground(l);console.log({languageId:c,tokenType:d,fontStyle:u,foreground:f,background:h})},a.getLanguageId=function(l){return(255&l)>>>0},a.getTokenType=function(l){return(768&l)>>>8},a.containsBalancedBrackets=function(l){return(1024&l)!=0},a.getFontStyle=function(l){return(30720&l)>>>11},a.getForeground=function(l){return(16744448&l)>>>15},a.getBackground=function(l){return(4278190080&l)>>>24},a.set=function(l,c,d,u,f,h,g){let p=a.getLanguageId(l),m=a.getTokenType(l),b=a.containsBalancedBrackets(l)?1:0,k=a.getFontStyle(l),_=a.getForeground(l),v=a.getBackground(l);return c!==0&&(p=c),d!==8&&(m=d),u!==null&&(b=u?1:0),f!==-1&&(k=f),h!==0&&(_=h),g!==0&&(v=g),(p<<0|m<<8|b<<10|k<<11|_<<15|v<<24)>>>0},s.toOptionalTokenType=function(l){return l}},996:(o,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BasicScopeAttributesProvider=s.BasicScopeAttributes=void 0;const l=a(878);class c{constructor(h,g){this.languageId=h,this.tokenType=g}}s.BasicScopeAttributes=c;class d{constructor(h,g){this._getBasicScopeAttributes=new l.CachedFn(p=>{const m=this._scopeToLanguage(p),b=this._toStandardTokenType(p);return new c(m,b)}),this._defaultAttributes=new c(h,8),this._embeddedLanguagesMatcher=new u(Object.entries(g||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(h){return h===null?d._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(h)}_scopeToLanguage(h){return this._embeddedLanguagesMatcher.match(h)||0}_toStandardTokenType(h){const g=h.match(d.STANDARD_TOKEN_TYPE_REGEXP);if(!g)return 8;switch(g[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}s.BasicScopeAttributesProvider=d,d._NULL_SCOPE_METADATA=new c(0,0),d.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class u{constructor(h){if(h.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(h);const g=h.map(([p,m])=>l.escapeRegExpCharacters(p));g.sort(),g.reverse(),this.scopesRegExp=new RegExp(`^((${g.join(")|(")}))($|\\.)`,"")}}match(h){if(!this.scopesRegExp)return;const g=h.match(this.scopesRegExp);return g?this.values.get(g[1]):void 0}}},947:(o,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LineTokens=s.BalancedBracketSelectors=s.StateStackImpl=s.AttributedScopeStack=s.Grammar=s.createGrammar=void 0;const l=a(350),c=a(36),d=a(736),u=a(44),f=a(792),h=a(583),g=a(878),p=a(996),m=a(47);function b(L,E,C,F,$){const O=d.createMatchers(E,k),M=f.RuleFactory.getCompiledRuleId(C,F,$.repository);for(const I of O)L.push({debugSelector:E,matcher:I.matcher,ruleId:M,grammar:$,priority:I.priority})}function k(L,E){if(E.length<L.length)return!1;let C=0;return L.every(F=>{for(let $=C;$<E.length;$++)if(_(E[$],F))return C=$+1,!0;return!1})}function _(L,E){if(!L)return!1;if(L===E)return!0;const C=E.length;return L.length>C&&L.substr(0,C)===E&&L[C]==="."}s.createGrammar=function(L,E,C,F,$,O,M,I){return new v(L,E,C,F,$,O,M,I)};class v{constructor(E,C,F,$,O,M,I,W){if(this._rootScopeName=E,this.balancedBracketSelectors=M,this._onigLib=W,this._basicScopeAttributesProvider=new p.BasicScopeAttributesProvider(F,$),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=I,this._grammar=x(C,null),this._injections=null,this._tokenTypeMatchers=[],O)for(const q of Object.keys(O)){const G=d.createMatchers(q,k);for(const H of G)this._tokenTypeMatchers.push({matcher:H.matcher,type:O[q]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const E of this._ruleId2desc)E&&E.dispose()}createOnigScanner(E){return this._onigLib.createOnigScanner(E)}createOnigString(E){return this._onigLib.createOnigString(E)}getMetadataForScope(E){return this._basicScopeAttributesProvider.getBasicScopeAttributes(E)}_collectInjections(){const E=[],C=this._rootScopeName,F=($=>$===this._rootScopeName?this._grammar:this.getExternalGrammar($))(C);if(F){const $=F.injections;if($)for(let M in $)b(E,M,$[M],this,F);const O=this._grammarRepository.injections(C);O&&O.forEach(M=>{const I=this.getExternalGrammar(M);if(I){const W=I.injectionSelector;W&&b(E,W,I,this,I)}})}return E.sort(($,O)=>$.priority-O.priority),E}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),l.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const E of this._injections)console.log(`  - ${E.debugSelector}`)}return this._injections}registerRule(E){const C=++this._lastRuleId,F=E(f.ruleIdFromNumber(C));return this._ruleId2desc[C]=F,F}getRule(E){return this._ruleId2desc[f.ruleIdToNumber(E)]}getExternalGrammar(E,C){if(this._includedGrammars[E])return this._includedGrammars[E];if(this._grammarRepository){const F=this._grammarRepository.lookup(E);if(F)return this._includedGrammars[E]=x(F,C&&C.$base),this._includedGrammars[E]}}tokenizeLine(E,C,F=0){const $=this._tokenize(E,C,!1,F);return{tokens:$.lineTokens.getResult($.ruleStack,$.lineLength),ruleStack:$.ruleStack,stoppedEarly:$.stoppedEarly}}tokenizeLine2(E,C,F=0){const $=this._tokenize(E,C,!0,F);return{tokens:$.lineTokens.getBinaryResult($.ruleStack,$.lineLength),ruleStack:$.ruleStack,stoppedEarly:$.stoppedEarly}}_tokenize(E,C,F,$){let O;if(this._rootId===-1&&(this._rootId=f.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections()),C&&C!==w.NULL)O=!1,C.reset();else{O=!0;const G=this._basicScopeAttributesProvider.getDefaultAttributes(),H=this.themeProvider.getDefaults(),J=c.EncodedTokenAttributes.set(0,G.languageId,G.tokenType,null,H.fontStyle,H.foregroundId,H.backgroundId),Z=this.getRule(this._rootId).getName(null,null);let te;te=Z?S.createRootAndLookUpScopeName(Z,J,this):S.createRoot("unknown",J),C=new w(null,this._rootId,-1,-1,!1,null,te,te)}E+=`
`;const M=this.createOnigString(E),I=M.content.length,W=new T(F,E,this._tokenTypeMatchers,this.balancedBracketSelectors),q=m._tokenizeString(this,M,O,0,C,W,!0,$);return u.disposeOnigString(M),{lineLength:I,lineTokens:W,ruleStack:q.stack,stoppedEarly:q.stoppedEarly}}}function x(L,E){return(L=g.clone(L)).repository=L.repository||{},L.repository.$self={$vscodeTextmateLocation:L.$vscodeTextmateLocation,patterns:L.patterns,name:L.scopeName},L.repository.$base=E||L.repository.$self,L}s.Grammar=v;class S{constructor(E,C,F){this.parent=E,this.scopePath=C,this.tokenAttributes=F}static fromExtension(E,C){let F=E,$=E?.scopePath??null;for(const O of C)$=h.ScopeStack.push($,O.scopeNames),F=new S(F,$,O.encodedTokenAttributes);return F}static createRoot(E,C){return new S(null,new h.ScopeStack(null,E),C)}static createRootAndLookUpScopeName(E,C,F){const $=F.getMetadataForScope(E),O=new h.ScopeStack(null,E),M=F.themeProvider.themeMatch(O),I=S.mergeAttributes(C,$,M);return new S(null,O,I)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(E){return S.equals(this,E)}static equals(E,C){for(;;){if(E===C||!E&&!C)return!0;if(!E||!C||E.scopeName!==C.scopeName||E.tokenAttributes!==C.tokenAttributes)return!1;E=E.parent,C=C.parent}}static mergeAttributes(E,C,F){let $=-1,O=0,M=0;return F!==null&&($=F.fontStyle,O=F.foregroundId,M=F.backgroundId),c.EncodedTokenAttributes.set(E,C.languageId,C.tokenType,null,$,O,M)}pushAttributed(E,C){if(E===null)return this;if(E.indexOf(" ")===-1)return S._pushAttributed(this,E,C);const F=E.split(/ /g);let $=this;for(const O of F)$=S._pushAttributed($,O,C);return $}static _pushAttributed(E,C,F){const $=F.getMetadataForScope(C),O=E.scopePath.push(C),M=F.themeProvider.themeMatch(O),I=S.mergeAttributes(E.tokenAttributes,$,M);return new S(E,O,I)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(E){const C=[];let F=this;for(;F&&F!==E;)C.push({encodedTokenAttributes:F.tokenAttributes,scopeNames:F.scopePath.getExtensionIfDefined(F.parent?.scopePath??null)}),F=F.parent;return F===E?C.reverse():void 0}}s.AttributedScopeStack=S;class w{constructor(E,C,F,$,O,M,I,W){this.parent=E,this.ruleId=C,this.beginRuleCapturedEOL=O,this.endRule=M,this.nameScopesList=I,this.contentNameScopesList=W,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=F,this._anchorPos=$}equals(E){return E!==null&&w._equals(this,E)}static _equals(E,C){return E===C||!!this._structuralEquals(E,C)&&S.equals(E.contentNameScopesList,C.contentNameScopesList)}static _structuralEquals(E,C){for(;;){if(E===C||!E&&!C)return!0;if(!E||!C||E.depth!==C.depth||E.ruleId!==C.ruleId||E.endRule!==C.endRule)return!1;E=E.parent,C=C.parent}}clone(){return this}static _reset(E){for(;E;)E._enterPos=-1,E._anchorPos=-1,E=E.parent}reset(){w._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(E,C,F,$,O,M,I){return new w(this,E,C,F,$,O,M,I)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(E){return E.getRule(this.ruleId)}toString(){const E=[];return this._writeString(E,0),"["+E.join(",")+"]"}_writeString(E,C){return this.parent&&(C=this.parent._writeString(E,C)),E[C++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,C}withContentNameScopesList(E){return this.contentNameScopesList===E?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,E)}withEndRule(E){return this.endRule===E?this:new w(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,E,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(E){let C=this;for(;C&&C._enterPos===E._enterPos;){if(C.ruleId===E.ruleId)return!0;C=C.parent}return!1}toStateStackFrame(){return{ruleId:f.ruleIdToNumber(this.ruleId),beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(E,C){const F=S.fromExtension(E?.nameScopesList??null,C.nameScopesList);return new w(E,f.ruleIdFromNumber(C.ruleId),C.enterPos??-1,C.anchorPos??-1,C.beginRuleCapturedEOL,C.endRule,F,S.fromExtension(F,C.contentNameScopesList))}}s.StateStackImpl=w,w.NULL=new w(null,0,0,0,!1,null,null,null),s.BalancedBracketSelectors=class{constructor(L,E){this.allowAny=!1,this.balancedBracketScopes=L.flatMap(C=>C==="*"?(this.allowAny=!0,[]):d.createMatchers(C,k).map(F=>F.matcher)),this.unbalancedBracketScopes=E.flatMap(C=>d.createMatchers(C,k).map(F=>F.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(L){for(const E of this.unbalancedBracketScopes)if(E(L))return!1;for(const E of this.balancedBracketScopes)if(E(L))return!0;return this.allowAny}};class T{constructor(E,C,F,$){this.balancedBracketSelectors=$,this._emitBinaryTokens=E,this._tokenTypeOverrides=F,l.DebugFlags.InDebugMode?this._lineText=C:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(E,C){this.produceFromScopes(E.contentNameScopesList,C)}produceFromScopes(E,C){if(this._lastTokenEndIndex>=C)return;if(this._emitBinaryTokens){let $=E?.tokenAttributes??0,O=!1;if(this.balancedBracketSelectors?.matchesAlways&&(O=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const M=E?.getScopeNames()??[];for(const I of this._tokenTypeOverrides)I.matcher(M)&&($=c.EncodedTokenAttributes.set($,0,c.toOptionalTokenType(I.type),null,-1,0,0));this.balancedBracketSelectors&&(O=this.balancedBracketSelectors.match(M))}if(O&&($=c.EncodedTokenAttributes.set($,0,8,O,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===$)return void(this._lastTokenEndIndex=C);if(l.DebugFlags.InDebugMode){const M=E?.getScopeNames()??[];console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,C).replace(/\n$/,"\\n")+"|");for(let I=0;I<M.length;I++)console.log("      * "+M[I])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push($),void(this._lastTokenEndIndex=C)}const F=E?.getScopeNames()??[];if(l.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,C).replace(/\n$/,"\\n")+"|");for(let $=0;$<F.length;$++)console.log("      * "+F[$])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:C,scopes:F}),this._lastTokenEndIndex=C}getResult(E,C){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===C-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(E,C),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(E,C){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===C-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(E,C),this._binaryTokens[this._binaryTokens.length-2]=0);const F=new Uint32Array(this._binaryTokens.length);for(let $=0,O=this._binaryTokens.length;$<O;$++)F[$]=this._binaryTokens[$];return F}}s.LineTokens=T},965:(o,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parseInclude=s.TopLevelRepositoryReference=s.TopLevelReference=s.RelativeReference=s.SelfReference=s.BaseReference=s.ScopeDependencyProcessor=s.ExternalReferenceCollector=s.TopLevelRepositoryRuleReference=s.TopLevelRuleReference=void 0;const l=a(878);class c{constructor(w){this.scopeName=w}toKey(){return this.scopeName}}s.TopLevelRuleReference=c;class d{constructor(w,T){this.scopeName=w,this.ruleName=T}toKey(){return`${this.scopeName}#${this.ruleName}`}}s.TopLevelRepositoryRuleReference=d;class u{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(w){const T=w.toKey();this._seenReferenceKeys.has(T)||(this._seenReferenceKeys.add(T),this._references.push(w))}}function f(S,w,T,L){const E=T.lookup(S.scopeName);if(!E){if(S.scopeName===w)throw new Error(`No grammar provided for <${w}>`);return}const C=T.lookup(w);S instanceof c?g({baseGrammar:C,selfGrammar:E},L):h(S.ruleName,{baseGrammar:C,selfGrammar:E,repository:E.repository},L);const F=T.injections(S.scopeName);if(F)for(const $ of F)L.add(new c($))}function h(S,w,T){w.repository&&w.repository[S]&&p([w.repository[S]],w,T)}function g(S,w){S.selfGrammar.patterns&&Array.isArray(S.selfGrammar.patterns)&&p(S.selfGrammar.patterns,{...S,repository:S.selfGrammar.repository},w),S.selfGrammar.injections&&p(Object.values(S.selfGrammar.injections),{...S,repository:S.selfGrammar.repository},w)}function p(S,w,T){for(const L of S){if(T.visitedRule.has(L))continue;T.visitedRule.add(L);const E=L.repository?l.mergeObjects({},w.repository,L.repository):w.repository;Array.isArray(L.patterns)&&p(L.patterns,{...w,repository:E},T);const C=L.include;if(!C)continue;const F=x(C);switch(F.kind){case 0:g({...w,selfGrammar:w.baseGrammar},T);break;case 1:g(w,T);break;case 2:h(F.ruleName,{...w,repository:E},T);break;case 3:case 4:const $=F.scopeName===w.selfGrammar.scopeName?w.selfGrammar:F.scopeName===w.baseGrammar.scopeName?w.baseGrammar:void 0;if($){const O={baseGrammar:w.baseGrammar,selfGrammar:$,repository:E};F.kind===4?h(F.ruleName,O,T):g(O,T)}else F.kind===4?T.add(new d(F.scopeName,F.ruleName)):T.add(new c(F.scopeName))}}}s.ExternalReferenceCollector=u,s.ScopeDependencyProcessor=class{constructor(S,w){this.repo=S,this.initialScopeName=w,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new c(this.initialScopeName)]}processQueue(){const S=this.Q;this.Q=[];const w=new u;for(const T of S)f(T,this.initialScopeName,this.repo,w);for(const T of w.references)if(T instanceof c){if(this.seenFullScopeRequests.has(T.scopeName))continue;this.seenFullScopeRequests.add(T.scopeName),this.Q.push(T)}else{if(this.seenFullScopeRequests.has(T.scopeName)||this.seenPartialScopeRequests.has(T.toKey()))continue;this.seenPartialScopeRequests.add(T.toKey()),this.Q.push(T)}}};class m{constructor(){this.kind=0}}s.BaseReference=m;class b{constructor(){this.kind=1}}s.SelfReference=b;class k{constructor(w){this.ruleName=w,this.kind=2}}s.RelativeReference=k;class _{constructor(w){this.scopeName=w,this.kind=3}}s.TopLevelReference=_;class v{constructor(w,T){this.scopeName=w,this.ruleName=T,this.kind=4}}function x(S){if(S==="$base")return new m;if(S==="$self")return new b;const w=S.indexOf("#");if(w===-1)return new _(S);if(w===0)return new k(S.substring(1));{const T=S.substring(0,w),L=S.substring(w+1);return new v(T,L)}}s.TopLevelRepositoryReference=v,s.parseInclude=x},391:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(d,u,f,h){h===void 0&&(h=f),Object.defineProperty(d,h,{enumerable:!0,get:function(){return u[f]}})}:function(d,u,f,h){h===void 0&&(h=f),d[h]=u[f]}),c=this&&this.__exportStar||function(d,u){for(var f in d)f==="default"||Object.prototype.hasOwnProperty.call(u,f)||l(u,d,f)};Object.defineProperty(s,"__esModule",{value:!0}),c(a(947),s)},47:(o,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LocalStackElement=s._tokenizeString=void 0;const l=a(350),c=a(44),d=a(792),u=a(878);class f{constructor(v,x){this.stack=v,this.stoppedEarly=x}}function h(_,v,x,S,w,T,L,E){const C=v.content.length;let F=!1,$=-1;if(L){const I=function(W,q,G,H,J,Z){let te=J.beginRuleCapturedEOL?0:-1;const ee=[];for(let le=J;le;le=le.pop()){const de=le.getRule(W);de instanceof d.BeginWhileRule&&ee.push({rule:de,stack:le})}for(let le=ee.pop();le;le=ee.pop()){const{ruleScanner:de,findOptions:B}=p(le.rule,W,le.stack.endRule,G,H===te),N=de.findNextMatchSync(q,H,B);if(l.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(de.toString())),!N){l.DebugFlags.InDebugMode&&console.log("  popping "+le.rule.debugName+" - "+le.rule.debugWhileRegExp),J=le.stack.pop();break}if(N.ruleId!==d.whileRuleId){J=le.stack.pop();break}N.captureIndices&&N.captureIndices.length&&(Z.produce(le.stack,N.captureIndices[0].start),b(W,q,G,le.stack,Z,le.rule.whileCaptures,N.captureIndices),Z.produce(le.stack,N.captureIndices[0].end),te=N.captureIndices[0].end,N.captureIndices[0].end>H&&(H=N.captureIndices[0].end,G=!1))}return{stack:J,linePos:H,anchorPosition:te,isFirstLine:G}}(_,v,x,S,w,T);w=I.stack,S=I.linePos,x=I.isFirstLine,$=I.anchorPosition}const O=Date.now();for(;!F;){if(E!==0&&Date.now()-O>E)return new f(w,!0);M()}return new f(w,!1);function M(){l.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${S}: |${v.content.substr(S).replace(/\n$/,"\\n")}|`));const I=function(H,J,Z,te,ee,le){const de=function(ke,xe,Ae,Ne,ve,qe){const Re=ve.getRule(ke),{ruleScanner:et,findOptions:ue}=g(Re,ke,ve.endRule,Ae,Ne===qe);let Se=0;l.DebugFlags.InDebugMode&&(Se=u.performanceNow());const De=et.findNextMatchSync(xe,Ne,ue);if(l.DebugFlags.InDebugMode){const Ke=u.performanceNow()-Se;Ke>5&&console.warn(`Rule ${Re.debugName} (${Re.id}) matching took ${Ke} against '${xe}'`),console.log(`  scanning for (linePos: ${Ne}, anchorPosition: ${qe})`),console.log(et.toString()),De&&console.log(`matched rule id: ${De.ruleId} from ${De.captureIndices[0].start} to ${De.captureIndices[0].end}`)}return De?{captureIndices:De.captureIndices,matchedRuleId:De.ruleId}:null}(H,J,Z,te,ee,le),B=H.getInjections();if(B.length===0)return de;const N=function(ke,xe,Ae,Ne,ve,qe,Re){let et,ue=Number.MAX_VALUE,Se=null,De=0;const Ke=qe.contentNameScopesList.getScopeNames();for(let Ue=0,be=ke.length;Ue<be;Ue++){const He=ke[Ue];if(!He.matcher(Ke))continue;const dt=xe.getRule(He.ruleId),{ruleScanner:Le,findOptions:Oe}=g(dt,xe,null,Ne,ve===Re),Ve=Le.findNextMatchSync(Ae,ve,Oe);if(!Ve)continue;l.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${He.debugSelector}`),console.log(Le.toString()));const Qe=Ve.captureIndices[0].start;if(!(Qe>=ue)&&(ue=Qe,Se=Ve.captureIndices,et=Ve.ruleId,De=He.priority,ue===ve))break}return Se?{priorityMatch:De===-1,captureIndices:Se,matchedRuleId:et}:null}(B,H,J,Z,te,ee,le);if(!N)return de;if(!de)return N;const ie=de.captureIndices[0].start,ce=N.captureIndices[0].start;return ce<ie||N.priorityMatch&&ce===ie?N:de}(_,v,x,S,w,$);if(!I)return l.DebugFlags.InDebugMode&&console.log("  no more matches."),T.produce(w,C),void(F=!0);const W=I.captureIndices,q=I.matchedRuleId,G=!!(W&&W.length>0)&&W[0].end>S;if(q===d.endRuleId){const H=w.getRule(_);l.DebugFlags.InDebugMode&&console.log("  popping "+H.debugName+" - "+H.debugEndRegExp),T.produce(w,W[0].start),w=w.withContentNameScopesList(w.nameScopesList),b(_,v,x,w,T,H.endCaptures,W),T.produce(w,W[0].end);const J=w;if(w=w.parent,$=J.getAnchorPos(),!G&&J.getEnterPos()===S)return l.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),w=J,T.produce(w,C),void(F=!0)}else{const H=_.getRule(q);T.produce(w,W[0].start);const J=w,Z=H.getName(v.content,W),te=w.contentNameScopesList.pushAttributed(Z,_);if(w=w.push(q,S,$,W[0].end===C,null,te,te),H instanceof d.BeginEndRule){const ee=H;l.DebugFlags.InDebugMode&&console.log("  pushing "+ee.debugName+" - "+ee.debugBeginRegExp),b(_,v,x,w,T,ee.beginCaptures,W),T.produce(w,W[0].end),$=W[0].end;const le=ee.getContentName(v.content,W),de=te.pushAttributed(le,_);if(w=w.withContentNameScopesList(de),ee.endHasBackReferences&&(w=w.withEndRule(ee.getEndWithResolvedBackReferences(v.content,W))),!G&&J.hasSameRuleAs(w))return l.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),w=w.pop(),T.produce(w,C),void(F=!0)}else if(H instanceof d.BeginWhileRule){const ee=H;l.DebugFlags.InDebugMode&&console.log("  pushing "+ee.debugName),b(_,v,x,w,T,ee.beginCaptures,W),T.produce(w,W[0].end),$=W[0].end;const le=ee.getContentName(v.content,W),de=te.pushAttributed(le,_);if(w=w.withContentNameScopesList(de),ee.whileHasBackReferences&&(w=w.withEndRule(ee.getWhileWithResolvedBackReferences(v.content,W))),!G&&J.hasSameRuleAs(w))return l.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),w=w.pop(),T.produce(w,C),void(F=!0)}else{const ee=H;if(l.DebugFlags.InDebugMode&&console.log("  matched "+ee.debugName+" - "+ee.debugMatchRegExp),b(_,v,x,w,T,ee.captures,W),T.produce(w,W[0].end),w=w.pop(),!G)return l.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),w=w.safePop(),T.produce(w,C),void(F=!0)}}W[0].end>S&&(S=W[0].end,x=!1)}}function g(_,v,x,S,w){return l.UseOnigurumaFindOptions?{ruleScanner:_.compile(v,x),findOptions:m(S,w)}:{ruleScanner:_.compileAG(v,x,S,w),findOptions:0}}function p(_,v,x,S,w){return l.UseOnigurumaFindOptions?{ruleScanner:_.compileWhile(v,x),findOptions:m(S,w)}:{ruleScanner:_.compileWhileAG(v,x,S,w),findOptions:0}}function m(_,v){let x=0;return _||(x|=1),v||(x|=4),x}function b(_,v,x,S,w,T,L){if(T.length===0)return;const E=v.content,C=Math.min(T.length,L.length),F=[],$=L[0].end;for(let O=0;O<C;O++){const M=T[O];if(M===null)continue;const I=L[O];if(I.length===0)continue;if(I.start>$)break;for(;F.length>0&&F[F.length-1].endPos<=I.start;)w.produceFromScopes(F[F.length-1].scopes,F[F.length-1].endPos),F.pop();if(F.length>0?w.produceFromScopes(F[F.length-1].scopes,I.start):w.produce(S,I.start),M.retokenizeCapturedWithRuleId){const q=M.getName(E,L),G=S.contentNameScopesList.pushAttributed(q,_),H=M.getContentName(E,L),J=G.pushAttributed(H,_),Z=S.push(M.retokenizeCapturedWithRuleId,I.start,-1,!1,null,G,J),te=_.createOnigString(E.substring(0,I.end));h(_,te,x&&I.start===0,I.start,Z,w,!1,0),c.disposeOnigString(te);continue}const W=M.getName(E,L);if(W!==null){const q=(F.length>0?F[F.length-1].scopes:S.contentNameScopesList).pushAttributed(W,_);F.push(new k(q,I.end))}}for(;F.length>0;)w.produceFromScopes(F[F.length-1].scopes,F[F.length-1].endPos),F.pop()}s._tokenizeString=h;class k{constructor(v,x){this.scopes=v,this.endPos=x}}s.LocalStackElement=k},974:(o,s)=>{function a(u,f){throw new Error("Near offset "+u.pos+": "+f+" ~~~"+u.source.substr(u.pos,50)+"~~~")}Object.defineProperty(s,"__esModule",{value:!0}),s.parseJSON=void 0,s.parseJSON=function(u,f,h){let g=new l(u),p=new c,m=0,b=null,k=[],_=[];function v(){k.push(m),_.push(b)}function x(){m=k.pop(),b=_.pop()}function S(w){a(g,w)}for(;d(g,p);){if(m===0){if(b!==null&&S("too many constructs in root"),p.type===3){b={},h&&(b.$vscodeTextmateLocation=p.toLocation(f)),v(),m=1;continue}if(p.type===2){b=[],v(),m=4;continue}S("unexpected token in root")}if(m===2){if(p.type===5){x();continue}if(p.type===7){m=3;continue}S("expected , or }")}if(m===1||m===3){if(m===1&&p.type===5){x();continue}if(p.type===1){let w=p.value;if(d(g,p)&&p.type===6||S("expected colon"),d(g,p)||S("expected value"),m=2,p.type===1){b[w]=p.value;continue}if(p.type===8){b[w]=null;continue}if(p.type===9){b[w]=!0;continue}if(p.type===10){b[w]=!1;continue}if(p.type===11){b[w]=parseFloat(p.value);continue}if(p.type===2){let T=[];b[w]=T,v(),m=4,b=T;continue}if(p.type===3){let T={};h&&(T.$vscodeTextmateLocation=p.toLocation(f)),b[w]=T,v(),m=1,b=T;continue}}S("unexpected token in dict")}if(m===5){if(p.type===4){x();continue}if(p.type===7){m=6;continue}S("expected , or ]")}if(m===4||m===6){if(m===4&&p.type===4){x();continue}if(m=5,p.type===1){b.push(p.value);continue}if(p.type===8){b.push(null);continue}if(p.type===9){b.push(!0);continue}if(p.type===10){b.push(!1);continue}if(p.type===11){b.push(parseFloat(p.value));continue}if(p.type===2){let w=[];b.push(w),v(),m=4,b=w;continue}if(p.type===3){let w={};h&&(w.$vscodeTextmateLocation=p.toLocation(f)),b.push(w),v(),m=1,b=w;continue}S("unexpected token in array")}S("unknown state")}return _.length!==0&&S("unclosed constructs"),b};class l{constructor(f){this.source=f,this.pos=0,this.len=f.length,this.line=1,this.char=0}}class c{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(f){return{filename:f,line:this.line,char:this.char}}}function d(u,f){f.value=null,f.type=0,f.offset=-1,f.len=-1,f.line=-1,f.char=-1;let h,g=u.source,p=u.pos,m=u.len,b=u.line,k=u.char;for(;;){if(p>=m)return!1;if(h=g.charCodeAt(p),h!==32&&h!==9&&h!==13){if(h!==10)break;p++,b++,k=0}else p++,k++}if(f.offset=p,f.line=b,f.char=k,h===34){for(f.type=1,p++,k++;;){if(p>=m)return!1;if(h=g.charCodeAt(p),p++,k++,h!==92){if(h===34)break}else p++,k++}f.value=g.substring(f.offset+1,p-1).replace(/\\u([0-9A-Fa-f]{4})/g,(_,v)=>String.fromCodePoint(parseInt(v,16))).replace(/\\(.)/g,(_,v)=>{switch(v){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:a(u,"invalid escape sequence")}throw new Error("unreachable")})}else if(h===91)f.type=2,p++,k++;else if(h===123)f.type=3,p++,k++;else if(h===93)f.type=4,p++,k++;else if(h===125)f.type=5,p++,k++;else if(h===58)f.type=6,p++,k++;else if(h===44)f.type=7,p++,k++;else if(h===110){if(f.type=8,p++,k++,h=g.charCodeAt(p),h!==117||(p++,k++,h=g.charCodeAt(p),h!==108)||(p++,k++,h=g.charCodeAt(p),h!==108))return!1;p++,k++}else if(h===116){if(f.type=9,p++,k++,h=g.charCodeAt(p),h!==114||(p++,k++,h=g.charCodeAt(p),h!==117)||(p++,k++,h=g.charCodeAt(p),h!==101))return!1;p++,k++}else if(h===102){if(f.type=10,p++,k++,h=g.charCodeAt(p),h!==97||(p++,k++,h=g.charCodeAt(p),h!==108)||(p++,k++,h=g.charCodeAt(p),h!==115)||(p++,k++,h=g.charCodeAt(p),h!==101))return!1;p++,k++}else for(f.type=11;;){if(p>=m)return!1;if(h=g.charCodeAt(p),!(h===46||h>=48&&h<=57||h===101||h===69||h===45||h===43))break;p++,k++}return f.len=p-f.offset,f.value===null&&(f.value=g.substr(f.offset,f.len)),u.pos=p,u.line=b,u.char=k,!0}},787:function(o,s,a){var l=this&&this.__createBinding||(Object.create?function(m,b,k,_){_===void 0&&(_=k),Object.defineProperty(m,_,{enumerable:!0,get:function(){return b[k]}})}:function(m,b,k,_){_===void 0&&(_=k),m[_]=b[k]}),c=this&&this.__exportStar||function(m,b){for(var k in m)k==="default"||Object.prototype.hasOwnProperty.call(b,k)||l(b,m,k)};Object.defineProperty(s,"__esModule",{value:!0}),s.applyStateStackDiff=s.diffStateStacksRefEq=s.parseRawGrammar=s.INITIAL=s.Registry=void 0;const d=a(391),u=a(50),f=a(652),h=a(583),g=a(965),p=a(442);Object.defineProperty(s,"applyStateStackDiff",{enumerable:!0,get:function(){return p.applyStateStackDiff}}),Object.defineProperty(s,"diffStateStacksRefEq",{enumerable:!0,get:function(){return p.diffStateStacksRefEq}}),c(a(44),s),s.Registry=class{constructor(m){this._options=m,this._syncRegistry=new f.SyncRegistry(h.Theme.createFromRawTheme(m.theme,m.colorMap),m.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(m,b){this._syncRegistry.setTheme(h.Theme.createFromRawTheme(m,b))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(m,b,k){return this.loadGrammarWithConfiguration(m,b,{embeddedLanguages:k})}loadGrammarWithConfiguration(m,b,k){return this._loadGrammar(m,b,k.embeddedLanguages,k.tokenTypes,new d.BalancedBracketSelectors(k.balancedBracketSelectors||[],k.unbalancedBracketSelectors||[]))}loadGrammar(m){return this._loadGrammar(m,0,null,null,null)}async _loadGrammar(m,b,k,_,v){const x=new g.ScopeDependencyProcessor(this._syncRegistry,m);for(;x.Q.length>0;)await Promise.all(x.Q.map(S=>this._loadSingleGrammar(S.scopeName))),x.processQueue();return this._grammarForScopeName(m,b,k,_,v)}async _loadSingleGrammar(m){return this._ensureGrammarCache.has(m)||this._ensureGrammarCache.set(m,this._doLoadSingleGrammar(m)),this._ensureGrammarCache.get(m)}async _doLoadSingleGrammar(m){const b=await this._options.loadGrammar(m);if(b){const k=typeof this._options.getInjections=="function"?this._options.getInjections(m):void 0;this._syncRegistry.addGrammar(b,k)}}async addGrammar(m,b=[],k=0,_=null){return this._syncRegistry.addGrammar(m,b),await this._grammarForScopeName(m.scopeName,k,_)}_grammarForScopeName(m,b=0,k=null,_=null,v=null){return this._syncRegistry.grammarForScopeName(m,b,k,_,v)}},s.INITIAL=d.StateStackImpl.NULL,s.parseRawGrammar=u.parseRawGrammar},736:(o,s)=>{function a(l){return!!l&&!!l.match(/[\w\.:]+/)}Object.defineProperty(s,"__esModule",{value:!0}),s.createMatchers=void 0,s.createMatchers=function(l,c){const d=[],u=function(p){let m=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,b=m.exec(p);return{next:()=>{if(!b)return null;const k=b[0];return b=m.exec(p),k}}}(l);let f=u.next();for(;f!==null;){let p=0;if(f.length===2&&f.charAt(1)===":"){switch(f.charAt(0)){case"R":p=1;break;case"L":p=-1;break;default:console.log(`Unknown priority ${f} in scope selector`)}f=u.next()}let m=g();if(d.push({matcher:m,priority:p}),f!==",")break;f=u.next()}return d;function h(){if(f==="-"){f=u.next();const p=h();return m=>!!p&&!p(m)}if(f==="("){f=u.next();const p=function(){const m=[];let b=g();for(;b&&(m.push(b),f==="|"||f===",");){do f=u.next();while(f==="|"||f===",");b=g()}return k=>m.some(_=>_(k))}();return f===")"&&(f=u.next()),p}if(a(f)){const p=[];do p.push(f),f=u.next();while(a(f));return m=>c(p,m)}return null}function g(){const p=[];let m=h();for(;m;)p.push(m),m=h();return b=>p.every(k=>k(b))}}},44:(o,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.disposeOnigString=void 0,s.disposeOnigString=function(a){typeof a.dispose=="function"&&a.dispose()}},50:(o,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.parseRawGrammar=void 0;const l=a(69),c=a(350),d=a(974);s.parseRawGrammar=function(u,f=null){return f!==null&&/\.json$/.test(f)?(h=u,g=f,c.DebugFlags.InDebugMode?d.parseJSON(h,g,!0):JSON.parse(h)):function(p,m){return c.DebugFlags.InDebugMode?l.parseWithLocation(p,m,"$vscodeTextmateLocation"):l.parsePLIST(p)}(u,f);var h,g}},69:(o,s)=>{function a(l,c,d){const u=l.length;let f=0,h=1,g=0;function p(N){if(d===null)f+=N;else for(;N>0;)l.charCodeAt(f)===10?(f++,h++,g=0):(f++,g++),N--}function m(N){d===null?f=N:p(N-f)}function b(){for(;f<u;){let N=l.charCodeAt(f);if(N!==32&&N!==9&&N!==13&&N!==10)break;p(1)}}function k(N){return l.substr(f,N.length)===N&&(p(N.length),!0)}function _(N){let ie=l.indexOf(N,f);m(ie!==-1?ie+N.length:u)}function v(N){let ie=l.indexOf(N,f);if(ie!==-1){let ce=l.substring(f,ie);return m(ie+N.length),ce}{let ce=l.substr(f);return m(u),ce}}u>0&&l.charCodeAt(0)===65279&&(f=1);let x=0,S=null,w=[],T=[],L=null;function E(N,ie){w.push(x),T.push(S),x=N,S=ie}function C(){if(w.length===0)return F("illegal state stack");x=w.pop(),S=T.pop()}function F(N){throw new Error("Near offset "+f+": "+N+" ~~~"+l.substr(f,50)+"~~~")}const $=function(){if(L===null)return F("missing <key>");let N={};d!==null&&(N[d]={filename:c,line:h,char:g}),S[L]=N,L=null,E(1,N)},O=function(){if(L===null)return F("missing <key>");let N=[];S[L]=N,L=null,E(2,N)},M=function(){let N={};d!==null&&(N[d]={filename:c,line:h,char:g}),S.push(N),E(1,N)},I=function(){let N=[];S.push(N),E(2,N)};function W(){if(x!==1)return F("unexpected </dict>");C()}function q(){return x===1||x!==2?F("unexpected </array>"):void C()}function G(N){if(x===1){if(L===null)return F("missing <key>");S[L]=N,L=null}else x===2?S.push(N):S=N}function H(N){if(isNaN(N))return F("cannot parse float");if(x===1){if(L===null)return F("missing <key>");S[L]=N,L=null}else x===2?S.push(N):S=N}function J(N){if(isNaN(N))return F("cannot parse integer");if(x===1){if(L===null)return F("missing <key>");S[L]=N,L=null}else x===2?S.push(N):S=N}function Z(N){if(x===1){if(L===null)return F("missing <key>");S[L]=N,L=null}else x===2?S.push(N):S=N}function te(N){if(x===1){if(L===null)return F("missing <key>");S[L]=N,L=null}else x===2?S.push(N):S=N}function ee(N){if(x===1){if(L===null)return F("missing <key>");S[L]=N,L=null}else x===2?S.push(N):S=N}function le(){let N=v(">"),ie=!1;return N.charCodeAt(N.length-1)===47&&(ie=!0,N=N.substring(0,N.length-1)),{name:N.trim(),isClosed:ie}}function de(N){if(N.isClosed)return"";let ie=v("</");return _(">"),ie.replace(/&#([0-9]+);/g,function(ce,ke){return String.fromCodePoint(parseInt(ke,10))}).replace(/&#x([0-9a-f]+);/g,function(ce,ke){return String.fromCodePoint(parseInt(ke,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(ce){switch(ce){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return ce})}for(;f<u&&(b(),!(f>=u));){const N=l.charCodeAt(f);if(p(1),N!==60)return F("expected <");if(f>=u)return F("unexpected end of input");const ie=l.charCodeAt(f);if(ie===63){p(1),_("?>");continue}if(ie===33){if(p(1),k("--")){_("-->");continue}_(">");continue}if(ie===47){if(p(1),b(),k("plist")){_(">");continue}if(k("dict")){_(">"),W();continue}if(k("array")){_(">"),q();continue}return F("unexpected closed tag")}let ce=le();switch(ce.name){case"dict":x===1?$():x===2?M():(S={},d!==null&&(S[d]={filename:c,line:h,char:g}),E(1,S)),ce.isClosed&&W();continue;case"array":x===1?O():x===2?I():(S=[],E(2,S)),ce.isClosed&&q();continue;case"key":B=de(ce),x!==1?F("unexpected <key>"):L!==null?F("too many <key>"):L=B;continue;case"string":G(de(ce));continue;case"real":H(parseFloat(de(ce)));continue;case"integer":J(parseInt(de(ce),10));continue;case"date":Z(new Date(de(ce)));continue;case"data":te(de(ce));continue;case"true":de(ce),ee(!0);continue;case"false":de(ce),ee(!1);continue}if(!/^plist/.test(ce.name))return F("unexpected opened tag "+ce.name)}var B;return S}Object.defineProperty(s,"__esModule",{value:!0}),s.parsePLIST=s.parseWithLocation=void 0,s.parseWithLocation=function(l,c,d){return a(l,c,d)},s.parsePLIST=function(l){return a(l,null,null)}},652:(o,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SyncRegistry=void 0;const l=a(391);s.SyncRegistry=class{constructor(c,d){this._onigLibPromise=d,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=c}dispose(){for(const c of this._grammars.values())c.dispose()}setTheme(c){this._theme=c}getColorMap(){return this._theme.getColorMap()}addGrammar(c,d){this._rawGrammars.set(c.scopeName,c),d&&this._injectionGrammars.set(c.scopeName,d)}lookup(c){return this._rawGrammars.get(c)}injections(c){return this._injectionGrammars.get(c)}getDefaults(){return this._theme.getDefaults()}themeMatch(c){return this._theme.match(c)}async grammarForScopeName(c,d,u,f,h){if(!this._grammars.has(c)){let g=this._rawGrammars.get(c);if(!g)return null;this._grammars.set(c,l.createGrammar(c,g,d,u,f,h,this,await this._onigLibPromise))}return this._grammars.get(c)}}},792:(o,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CompiledRule=s.RegExpSourceList=s.RegExpSource=s.RuleFactory=s.BeginWhileRule=s.BeginEndRule=s.IncludeOnlyRule=s.MatchRule=s.CaptureRule=s.Rule=s.ruleIdToNumber=s.ruleIdFromNumber=s.whileRuleId=s.endRuleId=void 0;const l=a(878),c=a(965),d=/\\(\d+)/,u=/\\(\d+)/g;s.endRuleId=-1,s.whileRuleId=-2,s.ruleIdFromNumber=function(S){return S},s.ruleIdToNumber=function(S){return S};class f{constructor(w,T,L,E){this.$location=w,this.id=T,this._name=L||null,this._nameIsCapturing=l.RegexSource.hasCaptures(this._name),this._contentName=E||null,this._contentNameIsCapturing=l.RegexSource.hasCaptures(this._contentName)}get debugName(){const w=this.$location?`${l.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${w}`}getName(w,T){return this._nameIsCapturing&&this._name!==null&&w!==null&&T!==null?l.RegexSource.replaceCaptures(this._name,w,T):this._name}getContentName(w,T){return this._contentNameIsCapturing&&this._contentName!==null?l.RegexSource.replaceCaptures(this._contentName,w,T):this._contentName}}s.Rule=f;class h extends f{constructor(w,T,L,E,C){super(w,T,L,E),this.retokenizeCapturedWithRuleId=C}dispose(){}collectPatterns(w,T){throw new Error("Not supported!")}compile(w,T){throw new Error("Not supported!")}compileAG(w,T,L,E){throw new Error("Not supported!")}}s.CaptureRule=h;class g extends f{constructor(w,T,L,E,C){super(w,T,L,null),this._match=new _(E,this.id),this.captures=C,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(w,T){T.push(this._match)}compile(w,T){return this._getCachedCompiledPatterns(w).compile(w)}compileAG(w,T,L,E){return this._getCachedCompiledPatterns(w).compileAG(w,L,E)}_getCachedCompiledPatterns(w){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new v,this.collectPatterns(w,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}s.MatchRule=g;class p extends f{constructor(w,T,L,E,C){super(w,T,L,E),this.patterns=C.patterns,this.hasMissingPatterns=C.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(w,T){for(const L of this.patterns)w.getRule(L).collectPatterns(w,T)}compile(w,T){return this._getCachedCompiledPatterns(w).compile(w)}compileAG(w,T,L,E){return this._getCachedCompiledPatterns(w).compileAG(w,L,E)}_getCachedCompiledPatterns(w){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new v,this.collectPatterns(w,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}s.IncludeOnlyRule=p;class m extends f{constructor(w,T,L,E,C,F,$,O,M,I){super(w,T,L,E),this._begin=new _(C,this.id),this.beginCaptures=F,this._end=new _($||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=O,this.applyEndPatternLast=M||!1,this.patterns=I.patterns,this.hasMissingPatterns=I.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(w,T){return this._end.resolveBackReferences(w,T)}collectPatterns(w,T){T.push(this._begin)}compile(w,T){return this._getCachedCompiledPatterns(w,T).compile(w)}compileAG(w,T,L,E){return this._getCachedCompiledPatterns(w,T).compileAG(w,L,E)}_getCachedCompiledPatterns(w,T){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new v;for(const L of this.patterns)w.getRule(L).collectPatterns(w,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,T):this._cachedCompiledPatterns.setSource(0,T)),this._cachedCompiledPatterns}}s.BeginEndRule=m;class b extends f{constructor(w,T,L,E,C,F,$,O,M){super(w,T,L,E),this._begin=new _(C,this.id),this.beginCaptures=F,this.whileCaptures=O,this._while=new _($,s.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=M.patterns,this.hasMissingPatterns=M.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(w,T){return this._while.resolveBackReferences(w,T)}collectPatterns(w,T){T.push(this._begin)}compile(w,T){return this._getCachedCompiledPatterns(w).compile(w)}compileAG(w,T,L,E){return this._getCachedCompiledPatterns(w).compileAG(w,L,E)}_getCachedCompiledPatterns(w){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new v;for(const T of this.patterns)w.getRule(T).collectPatterns(w,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(w,T){return this._getCachedCompiledWhilePatterns(w,T).compile(w)}compileWhileAG(w,T,L,E){return this._getCachedCompiledWhilePatterns(w,T).compileAG(w,L,E)}_getCachedCompiledWhilePatterns(w,T){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new v,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,T||""),this._cachedCompiledWhilePatterns}}s.BeginWhileRule=b;class k{static createCaptureRule(w,T,L,E,C){return w.registerRule(F=>new h(T,F,L,E,C))}static getCompiledRuleId(w,T,L){return w.id||T.registerRule(E=>{if(w.id=E,w.match)return new g(w.$vscodeTextmateLocation,w.id,w.name,w.match,k._compileCaptures(w.captures,T,L));if(w.begin===void 0){w.repository&&(L=l.mergeObjects({},L,w.repository));let C=w.patterns;return C===void 0&&w.include&&(C=[{include:w.include}]),new p(w.$vscodeTextmateLocation,w.id,w.name,w.contentName,k._compilePatterns(C,T,L))}return w.while?new b(w.$vscodeTextmateLocation,w.id,w.name,w.contentName,w.begin,k._compileCaptures(w.beginCaptures||w.captures,T,L),w.while,k._compileCaptures(w.whileCaptures||w.captures,T,L),k._compilePatterns(w.patterns,T,L)):new m(w.$vscodeTextmateLocation,w.id,w.name,w.contentName,w.begin,k._compileCaptures(w.beginCaptures||w.captures,T,L),w.end,k._compileCaptures(w.endCaptures||w.captures,T,L),w.applyEndPatternLast,k._compilePatterns(w.patterns,T,L))}),w.id}static _compileCaptures(w,T,L){let E=[];if(w){let C=0;for(const F in w){if(F==="$vscodeTextmateLocation")continue;const $=parseInt(F,10);$>C&&(C=$)}for(let F=0;F<=C;F++)E[F]=null;for(const F in w){if(F==="$vscodeTextmateLocation")continue;const $=parseInt(F,10);let O=0;w[F].patterns&&(O=k.getCompiledRuleId(w[F],T,L)),E[$]=k.createCaptureRule(T,w[F].$vscodeTextmateLocation,w[F].name,w[F].contentName,O)}}return E}static _compilePatterns(w,T,L){let E=[];if(w)for(let C=0,F=w.length;C<F;C++){const $=w[C];let O=-1;if($.include){const M=c.parseInclude($.include);switch(M.kind){case 0:case 1:O=k.getCompiledRuleId(L[$.include],T,L);break;case 2:let I=L[M.ruleName];I&&(O=k.getCompiledRuleId(I,T,L));break;case 3:case 4:const W=M.scopeName,q=M.kind===4?M.ruleName:null,G=T.getExternalGrammar(W,L);if(G)if(q){let H=G.repository[q];H&&(O=k.getCompiledRuleId(H,T,G.repository))}else O=k.getCompiledRuleId(G.repository.$self,T,G.repository)}}else O=k.getCompiledRuleId($,T,L);if(O!==-1){const M=T.getRule(O);let I=!1;if((M instanceof p||M instanceof m||M instanceof b)&&M.hasMissingPatterns&&M.patterns.length===0&&(I=!0),I)continue;E.push(O)}}return{patterns:E,hasMissingPatterns:(w?w.length:0)!==E.length}}}s.RuleFactory=k;class _{constructor(w,T){if(w){const L=w.length;let E=0,C=[],F=!1;for(let $=0;$<L;$++)if(w.charAt($)==="\\"&&$+1<L){const O=w.charAt($+1);O==="z"?(C.push(w.substring(E,$)),C.push("$(?!\\n)(?<!\\n)"),E=$+2):O!=="A"&&O!=="G"||(F=!0),$++}this.hasAnchor=F,E===0?this.source=w:(C.push(w.substring(E,L)),this.source=C.join(""))}else this.hasAnchor=!1,this.source=w;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=T,this.hasBackReferences=d.test(this.source)}clone(){return new _(this.source,this.ruleId)}setSource(w){this.source!==w&&(this.source=w,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(w,T){let L=T.map(E=>w.substring(E.start,E.end));return u.lastIndex=0,this.source.replace(u,(E,C)=>l.escapeRegExpCharacters(L[parseInt(C,10)]||""))}_buildAnchorCache(){let w,T,L,E,C=[],F=[],$=[],O=[];for(w=0,T=this.source.length;w<T;w++)L=this.source.charAt(w),C[w]=L,F[w]=L,$[w]=L,O[w]=L,L==="\\"&&w+1<T&&(E=this.source.charAt(w+1),E==="A"?(C[w+1]="",F[w+1]="",$[w+1]="A",O[w+1]="A"):E==="G"?(C[w+1]="",F[w+1]="G",$[w+1]="",O[w+1]="G"):(C[w+1]=E,F[w+1]=E,$[w+1]=E,O[w+1]=E),w++);return{A0_G0:C.join(""),A0_G1:F.join(""),A1_G0:$.join(""),A1_G1:O.join("")}}resolveAnchors(w,T){return this.hasAnchor&&this._anchorCache?w?T?this._anchorCache.A1_G1:this._anchorCache.A1_G0:T?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}s.RegExpSource=_;class v{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(w){this._items.push(w),this._hasAnchors=this._hasAnchors||w.hasAnchor}unshift(w){this._items.unshift(w),this._hasAnchors=this._hasAnchors||w.hasAnchor}length(){return this._items.length}setSource(w,T){this._items[w].source!==T&&(this._disposeCaches(),this._items[w].setSource(T))}compile(w){if(!this._cached){let T=this._items.map(L=>L.source);this._cached=new x(w,T,this._items.map(L=>L.ruleId))}return this._cached}compileAG(w,T,L){return this._hasAnchors?T?L?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(w,T,L)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(w,T,L)),this._anchorCache.A1_G0):L?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(w,T,L)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(w,T,L)),this._anchorCache.A0_G0):this.compile(w)}_resolveAnchors(w,T,L){let E=this._items.map(C=>C.resolveAnchors(T,L));return new x(w,E,this._items.map(C=>C.ruleId))}}s.RegExpSourceList=v;class x{constructor(w,T,L){this.regExps=T,this.rules=L,this.scanner=w.createOnigScanner(T)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const w=[];for(let T=0,L=this.rules.length;T<L;T++)w.push("   - "+this.rules[T]+": "+this.regExps[T]);return w.join(`
`)}findNextMatchSync(w,T,L){const E=this.scanner.findNextMatchSync(w,T,L);return E?{ruleId:this.rules[E.index],captureIndices:E.captureIndices}:null}}s.CompiledRule=x},583:(o,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeTrieElement=s.ThemeTrieElementRule=s.ColorMap=s.fontStyleToString=s.ParsedThemeRule=s.parseTheme=s.StyleAttributes=s.ScopeStack=s.Theme=void 0;const l=a(878);class c{constructor(v,x,S){this._colorMap=v,this._defaults=x,this._root=S,this._cachedMatchRoot=new l.CachedFn(w=>this._root.match(w))}static createFromRawTheme(v,x){return this.createFromParsedTheme(h(v),x)}static createFromParsedTheme(v,x){return function(S,w){S.sort((O,M)=>{let I=l.strcmp(O.scope,M.scope);return I!==0?I:(I=l.strArrCmp(O.parentScopes,M.parentScopes),I!==0?I:O.index-M.index)});let T=0,L="#000000",E="#ffffff";for(;S.length>=1&&S[0].scope==="";){let O=S.shift();O.fontStyle!==-1&&(T=O.fontStyle),O.foreground!==null&&(L=O.foreground),O.background!==null&&(E=O.background)}let C=new p(w),F=new f(T,C.getId(L),C.getId(E)),$=new k(new b(0,null,-1,0,0),[]);for(let O=0,M=S.length;O<M;O++){let I=S[O];$.insert(0,I.scope,I.parentScopes,I.fontStyle,C.getId(I.foreground),C.getId(I.background))}return new c(C,F,$)}(v,x)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(v){if(v===null)return this._defaults;const x=v.scopeName,S=this._cachedMatchRoot.get(x).find(w=>function(T,L){if(L.length===0)return!0;for(let E=0;E<L.length;E++){let C=L[E],F=!1;if(C===">"){if(E===L.length-1)return!1;C=L[++E],F=!0}for(;T&&!u(T.scopeName,C);){if(F)return!1;T=T.parent}if(!T)return!1;T=T.parent}return!0}(v.parent,w.parentScopes));return S?new f(S.fontStyle,S.foreground,S.background):null}}s.Theme=c;class d{constructor(v,x){this.parent=v,this.scopeName=x}static push(v,x){for(const S of x)v=new d(v,S);return v}static from(...v){let x=null;for(let S=0;S<v.length;S++)x=new d(x,v[S]);return x}push(v){return new d(this,v)}getSegments(){let v=this;const x=[];for(;v;)x.push(v.scopeName),v=v.parent;return x.reverse(),x}toString(){return this.getSegments().join(" ")}extends(v){return this===v||this.parent!==null&&this.parent.extends(v)}getExtensionIfDefined(v){const x=[];let S=this;for(;S&&S!==v;)x.push(S.scopeName),S=S.parent;return S===v?x.reverse():void 0}}function u(_,v){return v===_||_.startsWith(v)&&_[v.length]==="."}s.ScopeStack=d;class f{constructor(v,x,S){this.fontStyle=v,this.foregroundId=x,this.backgroundId=S}}function h(_){if(!_)return[];if(!_.settings||!Array.isArray(_.settings))return[];let v=_.settings,x=[],S=0;for(let w=0,T=v.length;w<T;w++){let L,E=v[w];if(!E.settings)continue;if(typeof E.scope=="string"){let O=E.scope;O=O.replace(/^[,]+/,""),O=O.replace(/[,]+$/,""),L=O.split(",")}else L=Array.isArray(E.scope)?E.scope:[""];let C=-1;if(typeof E.settings.fontStyle=="string"){C=0;let O=E.settings.fontStyle.split(" ");for(let M=0,I=O.length;M<I;M++)switch(O[M]){case"italic":C|=1;break;case"bold":C|=2;break;case"underline":C|=4;break;case"strikethrough":C|=8}}let F=null;typeof E.settings.foreground=="string"&&l.isValidHexColor(E.settings.foreground)&&(F=E.settings.foreground);let $=null;typeof E.settings.background=="string"&&l.isValidHexColor(E.settings.background)&&($=E.settings.background);for(let O=0,M=L.length;O<M;O++){let I=L[O].trim().split(" "),W=I[I.length-1],q=null;I.length>1&&(q=I.slice(0,I.length-1),q.reverse()),x[S++]=new g(W,q,w,C,F,$)}}return x}s.StyleAttributes=f,s.parseTheme=h;class g{constructor(v,x,S,w,T,L){this.scope=v,this.parentScopes=x,this.index=S,this.fontStyle=w,this.foreground=T,this.background=L}}s.ParsedThemeRule=g,s.fontStyleToString=function(_){if(_===-1)return"not set";let v="";return 1&_&&(v+="italic "),2&_&&(v+="bold "),4&_&&(v+="underline "),8&_&&(v+="strikethrough "),v===""&&(v="none"),v.trim()};class p{constructor(v){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(v)){this._isFrozen=!0;for(let x=0,S=v.length;x<S;x++)this._color2id[v[x]]=x,this._id2color[x]=v[x]}else this._isFrozen=!1}getId(v){if(v===null)return 0;v=v.toUpperCase();let x=this._color2id[v];if(x)return x;if(this._isFrozen)throw new Error(`Missing color in color map - ${v}`);return x=++this._lastColorId,this._color2id[v]=x,this._id2color[x]=v,x}getColorMap(){return this._id2color.slice(0)}}s.ColorMap=p;const m=Object.freeze([]);class b{constructor(v,x,S,w,T){this.scopeDepth=v,this.parentScopes=x||m,this.fontStyle=S,this.foreground=w,this.background=T}clone(){return new b(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(v){let x=[];for(let S=0,w=v.length;S<w;S++)x[S]=v[S].clone();return x}acceptOverwrite(v,x,S,w){this.scopeDepth>v?console.log("how did this happen?"):this.scopeDepth=v,x!==-1&&(this.fontStyle=x),S!==0&&(this.foreground=S),w!==0&&(this.background=w)}}s.ThemeTrieElementRule=b;class k{constructor(v,x=[],S={}){this._mainRule=v,this._children=S,this._rulesWithParentScopes=x}static _cmpBySpecificity(v,x){if(v.scopeDepth!==x.scopeDepth)return x.scopeDepth-v.scopeDepth;let S=0,w=0;for(;v.parentScopes[S]===">"&&S++,x.parentScopes[w]===">"&&w++,!(S>=v.parentScopes.length||w>=x.parentScopes.length);){const T=x.parentScopes[w].length-v.parentScopes[S].length;if(T!==0)return T;S++,w++}return x.parentScopes.length-v.parentScopes.length}match(v){if(v!==""){let S,w,T=v.indexOf(".");if(T===-1?(S=v,w=""):(S=v.substring(0,T),w=v.substring(T+1)),this._children.hasOwnProperty(S))return this._children[S].match(w)}const x=this._rulesWithParentScopes.concat(this._mainRule);return x.sort(k._cmpBySpecificity),x}insert(v,x,S,w,T,L){if(x==="")return void this._doInsertHere(v,S,w,T,L);let E,C,F,$=x.indexOf(".");$===-1?(E=x,C=""):(E=x.substring(0,$),C=x.substring($+1)),this._children.hasOwnProperty(E)?F=this._children[E]:(F=new k(this._mainRule.clone(),b.cloneArr(this._rulesWithParentScopes)),this._children[E]=F),F.insert(v+1,C,S,w,T,L)}_doInsertHere(v,x,S,w,T){if(x!==null){for(let L=0,E=this._rulesWithParentScopes.length;L<E;L++){let C=this._rulesWithParentScopes[L];if(l.strArrCmp(C.parentScopes,x)===0)return void C.acceptOverwrite(v,S,w,T)}S===-1&&(S=this._mainRule.fontStyle),w===0&&(w=this._mainRule.foreground),T===0&&(T=this._mainRule.background),this._rulesWithParentScopes.push(new b(v,x,S,w,T))}else this._mainRule.acceptOverwrite(v,S,w,T)}}s.ThemeTrieElement=k},878:(o,s)=>{function a(d){return Array.isArray(d)?function(u){let f=[];for(let h=0,g=u.length;h<g;h++)f[h]=a(u[h]);return f}(d):typeof d=="object"?function(u){let f={};for(let h in u)f[h]=a(u[h]);return f}(d):d}Object.defineProperty(s,"__esModule",{value:!0}),s.performanceNow=s.CachedFn=s.escapeRegExpCharacters=s.isValidHexColor=s.strArrCmp=s.strcmp=s.RegexSource=s.basename=s.mergeObjects=s.clone=void 0,s.clone=function(d){return a(d)},s.mergeObjects=function(d,...u){return u.forEach(f=>{for(let h in f)d[h]=f[h]}),d},s.basename=function d(u){const f=~u.lastIndexOf("/")||~u.lastIndexOf("\\");return f===0?u:~f==u.length-1?d(u.substring(0,u.length-1)):u.substr(1+~f)};let l=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function c(d,u){return d<u?-1:d>u?1:0}s.RegexSource=class{static hasCaptures(d){return d!==null&&(l.lastIndex=0,l.test(d))}static replaceCaptures(d,u,f){return d.replace(l,(h,g,p,m)=>{let b=f[parseInt(g||p,10)];if(!b)return h;{let k=u.substring(b.start,b.end);for(;k[0]===".";)k=k.substring(1);switch(m){case"downcase":return k.toLowerCase();case"upcase":return k.toUpperCase();default:return k}}})}},s.strcmp=c,s.strArrCmp=function(d,u){if(d===null&&u===null)return 0;if(!d)return-1;if(!u)return 1;let f=d.length,h=u.length;if(f===h){for(let g=0;g<f;g++){let p=c(d[g],u[g]);if(p!==0)return p}return 0}return f-h},s.isValidHexColor=function(d){return!!(/^#[0-9a-f]{6}$/i.test(d)||/^#[0-9a-f]{8}$/i.test(d)||/^#[0-9a-f]{3}$/i.test(d)||/^#[0-9a-f]{4}$/i.test(d))},s.escapeRegExpCharacters=function(d){return d.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},s.CachedFn=class{constructor(d){this.fn=d,this.cache=new Map}get(d){if(this.cache.has(d))return this.cache.get(d);const u=this.fn(d);return this.cache.set(d,u),u}},s.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},i={};return function o(s){var a=i[s];if(a!==void 0)return a.exports;var l=i[s]={exports:{}};return n[s].call(l.exports,l,l.exports,o),l.exports}(787)})())})(iT);var Ym=iT.exports;class l7{_locked=!1;_waiting=[];get locked(){return this._locked}async lock(){if(!this._locked)this._locked=!0;else return new Promise(e=>{this._waiting.push(e)})}unlock(){if(this._waiting.length>0){const e=this._waiting.shift();e&&e()}else this._locked=!1}}const c7=""+new URL("onig-sIwl6pz-.wasm",import.meta.url).href,d7=""+new URL("javascript.tmLanguage-HDSMuL7K.json",import.meta.url).href,u7=""+new URL("svelte.tmLanguage-56cyxSas.json",import.meta.url).href,h7=""+new URL("typescript.tmLanguage-zyHvLQfi.json",import.meta.url).href,f7=""+new URL("vue.tmLanguage-GZHfp8fS.json",import.meta.url).href,g7="data:application/json;base64,ewogICJzY29wZU5hbWUiOiAic291cmNlLmNvbnNvbGUiLAogICJuYW1lIjogImNvbnNvbGUiLAogICJwYXR0ZXJucyI6IFsKICAgIHsKICAgICAgImNvbW1lbnQiOiAiRXJyb3IgTWVzc2FnZSIsCiAgICAgICJiZWdpbiI6ICJeKFxcZHsyfTpcXGR7Mn06XFxkezJ9XFwuXFxkezN9KSAoXFxbRVJST1JcXF0pICIsCiAgICAgICJlbmQiOiAiKD89XlxcZHsyfTpcXGR7Mn06XFxkezJ9XFwuXFxkezN9IFxcWyhJTkZPfEVSUk9SfFdBUk4pXFxdIHxcXFopIiwKICAgICAgImJlZ2luQ2FwdHVyZXMiOiB7CiAgICAgICAgIjEiOiB7ICJuYW1lIjogImNvbW1lbnQud2FsbGFieS1jb25zb2xlIiB9LAogICAgICAgICIyIjogeyAibmFtZSI6ICJ0b2tlbi5lcnJvci10b2tlbi53YWxsYWJ5LWNvbnNvbGUgaW52YWxpZC53YWxsYWJ5LWNvbnNvbGUiIH0KICAgICAgfQogICAgfSwKICAgIHsKICAgICAgImNvbW1lbnQiOiAiSW5mbyBNZXNzYWdlIiwKICAgICAgImJlZ2luIjogIl4oXFxkezJ9OlxcZHsyfTpcXGR7Mn1cXC5cXGR7M30pIChcXFtJTkZPXFxdKSAiLAogICAgICAiZW5kIjogIig/PV5cXGR7Mn06XFxkezJ9OlxcZHsyfVxcLlxcZHszfSBcXFsoSU5GT3xFUlJPUnxXQVJOKVxcXSB8XFxaKSIsCiAgICAgICJiZWdpbkNhcHR1cmVzIjogewogICAgICAgICIxIjogeyAibmFtZSI6ICJjb21tZW50LndhbGxhYnktY29uc29sZSIgfSwKICAgICAgICAiMiI6IHsgIm5hbWUiOiAidG9rZW4uaW5mby10b2tlbi53YWxsYWJ5LWNvbnNvbGUgY29uc3RhbnQubnVtZXJpYy53YWxsYWJ5LWNvbnNvbGUiIH0KICAgICAgfQogICAgfSwKICAgIHsKICAgICAgImNvbW1lbnQiOiAiV2FybmluZyBNZXNzYWdlIiwKICAgICAgImJlZ2luIjogIl4oXFxkezJ9OlxcZHsyfTpcXGR7Mn1cXC5cXGR7M30pIChcXFtXQVJOXFxdKSAiLAogICAgICAiZW5kIjogIig/PV5cXGR7Mn06XFxkezJ9OlxcZHsyfVxcLlxcZHszfSBcXFsoSU5GT3xFUlJPUnxXQVJOKVxcXSB8XFxaKSIsCiAgICAgICJiZWdpbkNhcHR1cmVzIjogewogICAgICAgICIxIjogeyAibmFtZSI6ICJjb21tZW50LndhbGxhYnktY29uc29sZSIgfSwKICAgICAgICAiMiI6IHsgIm5hbWUiOiAidG9rZW4ud2Fybi10b2tlbi53YWxsYWJ5LWNvbnNvbGUgc3RyaW5nLnZhbHVlLndhbGxhYnktY29uc29sZSIgfQogICAgICB9CiAgICB9CiAgXQp9Cg==",p7="data:application/json;base64,ewoJImluZm9ybWF0aW9uX2Zvcl9jb250cmlidXRvcnMiOiBbCgkJIlRoaXMgZmlsZSBoYXMgYmVlbiBjb252ZXJ0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdGV4dG1hdGUvZGlmZi50bWJ1bmRsZS9ibG9iL21hc3Rlci9TeW50YXhlcy9EaWZmLnBsaXN0IiwKCQkiSWYgeW91IHdhbnQgdG8gcHJvdmlkZSBhIGZpeCBvciBpbXByb3ZlbWVudCwgcGxlYXNlIGNyZWF0ZSBhIHB1bGwgcmVxdWVzdCBhZ2FpbnN0IHRoZSBvcmlnaW5hbCByZXBvc2l0b3J5LiIsCgkJIk9uY2UgYWNjZXB0ZWQgdGhlcmUsIHdlIGFyZSBoYXBweSB0byByZWNlaXZlIGFuIHVwZGF0ZSByZXF1ZXN0LiIKCV0sCgkidmVyc2lvbiI6ICJodHRwczovL2dpdGh1Yi5jb20vdGV4dG1hdGUvZGlmZi50bWJ1bmRsZS9jb21taXQvMDU5M2JiNzc1ZWFiMTgyNGFmOTdlZjIxNzJmZDM4ODIyYWJkOTdkNyIsCgkibmFtZSI6ICJEaWZmIiwKCSJzY29wZU5hbWUiOiAic291cmNlLmRpZmYiLAoJInBhdHRlcm5zIjogWwoJCXsKCQkJImNhcHR1cmVzIjogewoJCQkJIjEiOiB7CgkJCQkJIm5hbWUiOiAicHVuY3R1YXRpb24uZGVmaW5pdGlvbi5zZXBhcmF0b3IuZGlmZiIKCQkJCX0KCQkJfSwKCQkJIm1hdGNoIjogIl4oKFxcKnsxNX0pfCg9ezY3fSl8KC17M30pKSRcXG4/IiwKCQkJIm5hbWUiOiAibWV0YS5zZXBhcmF0b3IuZGlmZiIKCQl9LAoJCXsKCQkJIm1hdGNoIjogIl5cXGQrKCxcXGQrKSooYXxkfGMpXFxkKygsXFxkKykqJFxcbj8iLAoJCQkibmFtZSI6ICJtZXRhLmRpZmYucmFuZ2Uubm9ybWFsIgoJCX0sCgkJewoJCQkiY2FwdHVyZXMiOiB7CgkJCQkiMSI6IHsKCQkJCQkibmFtZSI6ICJwdW5jdHVhdGlvbi5kZWZpbml0aW9uLnJhbmdlLmRpZmYiCgkJCQl9LAoJCQkJIjIiOiB7CgkJCQkJIm5hbWUiOiAibWV0YS50b2MtbGlzdC5saW5lLW51bWJlci5kaWZmIgoJCQkJfSwKCQkJCSIzIjogewoJCQkJCSJuYW1lIjogInB1bmN0dWF0aW9uLmRlZmluaXRpb24ucmFuZ2UuZGlmZiIKCQkJCX0KCQkJfSwKCQkJIm1hdGNoIjogIl4oQEApXFxzKiguKz8pXFxzKihAQCkoJFxcbj8pPyIsCgkJCSJuYW1lIjogIm1ldGEuZGlmZi5yYW5nZS51bmlmaWVkIgoJCX0sCgkJewoJCQkiY2FwdHVyZXMiOiB7CgkJCQkiMyI6IHsKCQkJCQkibmFtZSI6ICJwdW5jdHVhdGlvbi5kZWZpbml0aW9uLnJhbmdlLmRpZmYiCgkJCQl9LAoJCQkJIjQiOiB7CgkJCQkJIm5hbWUiOiAicHVuY3R1YXRpb24uZGVmaW5pdGlvbi5yYW5nZS5kaWZmIgoJCQkJfSwKCQkJCSI2IjogewoJCQkJCSJuYW1lIjogInB1bmN0dWF0aW9uLmRlZmluaXRpb24ucmFuZ2UuZGlmZiIKCQkJCX0sCgkJCQkiNyI6IHsKCQkJCQkibmFtZSI6ICJwdW5jdHVhdGlvbi5kZWZpbml0aW9uLnJhbmdlLmRpZmYiCgkJCQl9CgkJCX0sCgkJCSJtYXRjaCI6ICJeKCgoXFwtezN9KSAuKyAoXFwtezR9KSl8KChcXCp7M30pIC4rIChcXCp7NH0pKSkkXFxuPyIsCgkJCSJuYW1lIjogIm1ldGEuZGlmZi5yYW5nZS5jb250ZXh0IgoJCX0sCgkJewoJCQkibWF0Y2giOiAiXmRpZmYgLS1naXQgYS8uKiRcXG4/IiwKCQkJIm5hbWUiOiAibWV0YS5kaWZmLmhlYWRlci5naXQiCgkJfSwKCQl7CgkJCSJtYXRjaCI6ICJeZGlmZiAoLXxcXFMrXFxzK1xcUyspLiokXFxuPyIsCgkJCSJuYW1lIjogIm1ldGEuZGlmZi5oZWFkZXIuY29tbWFuZCIKCQl9LAoJCXsKCQkJImNhcHR1cmVzIjogewoJCQkJIjQiOiB7CgkJCQkJIm5hbWUiOiAicHVuY3R1YXRpb24uZGVmaW5pdGlvbi5mcm9tLWZpbGUuZGlmZiIKCQkJCX0sCgkJCQkiNiI6IHsKCQkJCQkibmFtZSI6ICJwdW5jdHVhdGlvbi5kZWZpbml0aW9uLmZyb20tZmlsZS5kaWZmIgoJCQkJfSwKCQkJCSI3IjogewoJCQkJCSJuYW1lIjogInB1bmN0dWF0aW9uLmRlZmluaXRpb24uZnJvbS1maWxlLmRpZmYiCgkJCQl9CgkJCX0sCgkJCSJtYXRjaCI6ICIoXigoKC17M30pIC4rKXwoKFxcKnszfSkgLispKSRcXG4/fF4oPXs0fSkgLisoPz0gLSApKSIsCgkJCSJuYW1lIjogIm1ldGEuZGlmZi5oZWFkZXIuZnJvbS1maWxlIgoJCX0sCgkJewoJCQkiY2FwdHVyZXMiOiB7CgkJCQkiMiI6IHsKCQkJCQkibmFtZSI6ICJwdW5jdHVhdGlvbi5kZWZpbml0aW9uLnRvLWZpbGUuZGlmZiIKCQkJCX0sCgkJCQkiMyI6IHsKCQkJCQkibmFtZSI6ICJwdW5jdHVhdGlvbi5kZWZpbml0aW9uLnRvLWZpbGUuZGlmZiIKCQkJCX0sCgkJCQkiNCI6IHsKCQkJCQkibmFtZSI6ICJwdW5jdHVhdGlvbi5kZWZpbml0aW9uLnRvLWZpbGUuZGlmZiIKCQkJCX0KCQkJfSwKCQkJIm1hdGNoIjogIiheKFxcK3szfSkgLiskXFxuP3wgKC0pIC4qICg9ezR9KSRcXG4/KSIsCgkJCSJuYW1lIjogIm1ldGEuZGlmZi5oZWFkZXIudG8tZmlsZSIKCQl9LAoJCXsKCQkJImNhcHR1cmVzIjogewoJCQkJIjMiOiB7CgkJCQkJIm5hbWUiOiAicHVuY3R1YXRpb24uZGVmaW5pdGlvbi5pbnNlcnRlZC5kaWZmIgoJCQkJfSwKCQkJCSI2IjogewoJCQkJCSJuYW1lIjogInB1bmN0dWF0aW9uLmRlZmluaXRpb24uaW5zZXJ0ZWQuZGlmZiIKCQkJCX0KCQkJfSwKCQkJIm1hdGNoIjogIl4oKCg+KSggLiopPyl8KChcXCspLiopKSRcXG4/IiwKCQkJIm5hbWUiOiAibWFya3VwLmluc2VydGVkLmRpZmYiCgkJfSwKCQl7CgkJCSJjYXB0dXJlcyI6IHsKCQkJCSIxIjogewoJCQkJCSJuYW1lIjogInB1bmN0dWF0aW9uLmRlZmluaXRpb24uY2hhbmdlZC5kaWZmIgoJCQkJfQoJCQl9LAoJCQkibWF0Y2giOiAiXighKS4qJFxcbj8iLAoJCQkibmFtZSI6ICJtYXJrdXAuY2hhbmdlZC5kaWZmIgoJCX0sCgkJewoJCQkiY2FwdHVyZXMiOiB7CgkJCQkiMyI6IHsKCQkJCQkibmFtZSI6ICJwdW5jdHVhdGlvbi5kZWZpbml0aW9uLmRlbGV0ZWQuZGlmZiIKCQkJCX0sCgkJCQkiNiI6IHsKCQkJCQkibmFtZSI6ICJwdW5jdHVhdGlvbi5kZWZpbml0aW9uLmRlbGV0ZWQuZGlmZiIKCQkJCX0KCQkJfSwKCQkJIm1hdGNoIjogIl4oKCg8KSggLiopPyl8KCgtKS4qKSkkXFxuPyIsCgkJCSJuYW1lIjogIm1hcmt1cC5kZWxldGVkLmRpZmYiCgkJfSwKCQl7CgkJCSJiZWdpbiI6ICJeKCMpIiwKCQkJImNhcHR1cmVzIjogewoJCQkJIjEiOiB7CgkJCQkJIm5hbWUiOiAicHVuY3R1YXRpb24uZGVmaW5pdGlvbi5jb21tZW50LmRpZmYiCgkJCQl9CgkJCX0sCgkJCSJjb21tZW50IjogIkdpdCBwcm9kdWNlcyB1bmlmaWVkIGRpZmZzIHdpdGggZW1iZWRkZWQgY29tbWVudHNcIiIsCgkJCSJlbmQiOiAiXFxuIiwKCQkJIm5hbWUiOiAiY29tbWVudC5saW5lLm51bWJlci1zaWduLmRpZmYiCgkJfSwKCQl7CgkJCSJtYXRjaCI6ICJeaW5kZXggWzAtOWEtZl17Nyw0MH1cXC5cXC5bMC05YS1mXXs3LDQwfS4qJFxcbj8iLAoJCQkibmFtZSI6ICJtZXRhLmRpZmYuaW5kZXguZ2l0IgoJCX0sCgkJewoJCQkiY2FwdHVyZXMiOiB7CgkJCQkiMSI6IHsKCQkJCQkibmFtZSI6ICJwdW5jdHVhdGlvbi5zZXBhcmF0b3Iua2V5LXZhbHVlLmRpZmYiCgkJCQl9LAoJCQkJIjIiOiB7CgkJCQkJIm5hbWUiOiAibWV0YS50b2MtbGlzdC5maWxlLW5hbWUuZGlmZiIKCQkJCX0KCQkJfSwKCQkJIm1hdGNoIjogIl5JbmRleCg6KSAoLispJFxcbj8iLAoJCQkibmFtZSI6ICJtZXRhLmRpZmYuaW5kZXgiCgkJfSwKCQl7CgkJCSJtYXRjaCI6ICJeT25seSBpbiAuKjogLiokXFxuPyIsCgkJCSJuYW1lIjogIm1ldGEuZGlmZi5vbmx5LWluIgoJCX0KCV0KfQo=",Wl=new l7,oT=new Set(["typescript","javascript","vue","svelte","console","diff"]),m7=new Map([["typescript","source.ts"],["javascript","source.js"],["vue","source.vue"],["svelte","source.svelte"],["console","source.console"],["diff","source.diff"]]),v7=new Map([["source.ts","typescript"],["source.js","javascript"],["source.vue","vue"],["source.svelte","svelte"],["source.console","console"],["source.diff","diff"]]);let Jm={},Oo,lu,cu,ja;function b7(){return Oo}class _7{static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getInlineStyleFromMetadata(e,r){const n=this.getForeground(e),i=this.getFontStyle(e);let o=r[n];(n===0||n===1)&&o==="#000000"&&(o="var(--editor-foreground)");let s=`color: ${o};`;i&1&&(s+="font-style: italic;"),i&2&&(s+="font-weight: bold;");let a="";return i&4&&(a+=" underline"),i&8&&(a+=" line-through"),a&&(s+=`text-decoration:${a};`),s}}class f_{_tokens;_tokensCount;constructor(e){this._tokens=e,this._tokensCount=this._tokens.length>>>1}getCount(){return this._tokensCount}getEndOffset(e){return this._tokens[e<<1]}getInlineStyle(e,r){const n=this._tokens[(e<<1)+1];return _7.getInlineStyleFromMetadata(n,r)}static convertToEndOffset(e,r){const i=(e.length>>>1)-1;for(let o=0;o<i;o++)e[o<<1]=e[o+1<<1];e[i<<1]=r}}async function sT(){try{if(await Wl.lock(),!cu){const t=await fetch(c7);await au.loadWASM(t);const e=new Map;e.set("javascript",await(await fetch(d7)).text()),e.set("typescript",await(await fetch(h7)).text()),e.set("vue",await(await fetch(f7)).text()),e.set("svelte",await(await fetch(u7)).text()),e.set("console",await(await fetch(g7)).text()),e.set("diff",await(await fetch(p7)).text()),cu=e}if(!Oo){Oo={settings:[]};for(const t in Jm){const e=Jm[t];e!==void 0&&Oo.settings.push({scope:t,settings:{foreground:e.foreground,background:e.background,fontStyle:e.style}})}lu=new Ym.Registry({onigLib:Promise.resolve({createOnigScanner:au.createOnigScanner,createOnigString:au.createOnigString}),theme:Oo,loadGrammar:async t=>{let e=v7.get(t);return Ym.parseRawGrammar(e&&cu?.get(e)||"{}","example.json")}}),ja||(ja=new Map);for(const t of oT){const e=m7.get(t),r=await lu.loadGrammar(e||"source.ts");r&&ja.set(t,r)}}return{grammars:ja,registry:lu}}finally{Wl.unlock()}}async function y7(t){try{await Wl.lock(),Oo=void 0,Jm=t}finally{Wl.unlock()}}async function Zv(t,e,r){try{const{grammars:n,registry:i}=await sT();if(n.has(t)){const o=n.get(t);if(!o||e.lines.length===0)return;const s=i.getColorMap();let a=[],l=Ym.INITIAL;for(let h=0;h<e.lines.length;h++){const g=e.lines[h],p=o.tokenizeLine2(g,l);f_.convertToEndOffset(p.tokens,g.length);const m=new f_(p.tokens);a.push(g===""?void 0:w7(g,m,s,2,!1)),l=p.ruleStack}let c=e.current,d=e.frame;if(r&&a.length>=r*2+1){const h=a.slice(e.current-r,e.current+r+1),g=a.length-h.length;a=h,c=r,d={start:e.frame.start+g,end:e.frame.end-g}}const u=/^\s+/u,f=a.filter(h=>h).map(h=>h[0]);if(!f.some(h=>!u.test(h.content||""))){const h=Math.min(...f.map(g=>{if(!g.content)return 0;const p=g.content.match(u);return p?p[0].length:0}));f.forEach(g=>g.content=(g.content||"").slice(h))}return{lines:a.map(h=>h?h.map(g=>`<span style="${g.style};white-space:pre">${g.content}</span>`).join(""):"<br>"),current:c,frame:d}}}catch(n){console.error(n)}}function w7(t,e,r,n,i){const o=[];let s=0,a=0,l=!0;for(let c=0,d=e.getCount();c<d;c++){const u=e.getEndOffset(c);let f="";for(;s<u;s++){const h=t.charCodeAt(s);switch(h){case 9:{let g=n-(s+a)%n;for(a+=g-1;g>0;)i&&l?(f+="&#160;",l=!1):(f+=" ",l=!0),g--;break}case 60:f+="&lt;",l=!1;break;case 62:f+="&gt;",l=!1;break;case 38:f+="&amp;",l=!1;break;case 0:f+="&#00;",l=!1;break;case 65279:case 8232:case 8233:case 133:f+="",l=!1;break;case 13:f+="&#8203",l=!1;break;case 32:i&&l?(f+="&#160;",l=!1):(f+=" ",l=!0);break;default:f+=String.fromCharCode(h),l=!1}}if(o.push({style:e.getInlineStyle(c,r),content:f}),u>t.length||s>=t.length)break}return o}const Tc=Object.freeze(Object.defineProperty({__proto__:null,customize:y7,getCurrentTheme:b7,highlight:Zv,languages:oT,load:sT},Symbol.toStringTag,{value:"Module"}));var k7=D("<span class=token-regexp>"),S7=D("<span class=token-boolean>"),x7=D("<span class=whitespace-pre-line>"),g_=D("<span class=token-number>"),T7=D("<span class=token-undefined>"),E7=D("<span class=token-null>"),C7=D("<span class=token-error>"),L7=D('<span class="raw [word-spacing:0]">'),Qv=D("<span>"),I7=D("<span class=token-class>"),eb=D("<span class=token-string>"),A7=D("<span>..."),za=D("<span class=token-type> "),xo=D("<span class=token-punctuation>"),p_=D('<span class="token-punctuation level-expander-ellipsis">...'),F7=D("<span class=token-punctuation>..."),Zm=D("<br>"),R7=D("<span><span class=token-punctuation></span><span></span><span class=token-punctuation>"),P7=D("<span class=logentry><br>"),aT=D("<span class=token-property>"),$7=D("<span class=token-comment> "),D7=D('<span class="actions [&amp;_button]:p-[0.0625rem] [&amp;_button]:!pb-[0.03125rem] [&amp;_button]:!pt-[0.09375rem] [&amp;_button]:!text-[length:--icon-smaller-font-size]">'),O7=D("<span class=level-expander-chevron>  "),B7=D("<span class=indentation>"),M7=D("<span class=token-string>'<!>'"),N7=D("<span class=token-operator> +"),G7=D("<span><span class=token-string>"),U7=D("<span class=token-new>new "),W7=D("<span class=token-class>Date"),q7=D("<span class=token-punctuation>("),H7=D("<span class=token-punctuation>)");function ql(t){const e=()=>t.data.type?.toLowerCase(),r=()=>t.data.value!==void 0?t.data.value+"":"";return y(qt,{get fallback(){return U(()=>t.data.value===void 0)()?(()=>{const n={...t.context,depth:t.context.depth+1};return y(J7,{get data(){return t.data},context:n,get onDataAvailable(){return t.onDataAvailable},get onValueLoadRequest(){return t.onValueLoadRequest}})})():(()=>{var n=eb();return A(n,y(gr,{get value(){return r()},get onDataAvailable(){return t.onDataAvailable},get context(){return t.context}})),n})()},get children(){return[y(Ce,{get when(){return e()==="date"},get children(){return y(rF,{get data(){return t.data},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})}}),y(Ce,{get when(){return e()==="regexp"},get children(){var n=k7();return A(n,y(gr,{get value(){return r()},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})),n}}),y(Ce,{get when(){return e()==="boolean"},get children(){var n=S7();return A(n,y(gr,{get value(){return r()},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})),n}}),y(Ce,{get when(){return e()==="string"},get children(){return y(V,{get when(){return t.displayRawValue},get fallback(){return y(tF,{get data(){return t.data},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable},get onValueLoadRequest(){return t.onValueLoadRequest},get isArrayProp(){return t.isArrayProp}})},get children(){var n=x7();return A(n,()=>cT(t.data)+(t.data.capped?"...":"")),n}})}}),y(Ce,{get when(){return e()==="number"},get children(){var n=g_();return A(n,y(qt,{get fallback(){return y(gr,{get value(){return t.data.value+""},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})},get children(){return[y(Ce,{get when(){return t.data.nan},get children(){return y(gr,{value:"NaN",get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})}}),y(Ce,{get when(){return t.data.positiveInfinity},get children(){return y(gr,{value:"Infinity",get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})}}),y(Ce,{get when(){return t.data.negativeInfinity},get children(){return y(gr,{value:"-Infinity",get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})}}),y(Ce,{get when(){return t.data.negativeZero},get children(){return y(gr,{value:"-0",get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})}})]}})),n}}),y(Ce,{get when(){return e()==="bigint"},get children(){var n=g_();return A(n,y(gr,{get value(){return`${t.data.value}n`},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})),n}}),y(Ce,{get when(){return e()==="undefined"},get children(){var n=T7();return A(n,y(gr,{get value(){return e()},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})),n}}),y(Ce,{get when(){return e()==="null"},get children(){var n=E7();return A(n,y(gr,{get value(){return e()},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})),n}}),y(Ce,{get when(){return e()==="unknown"},get children(){var n=C7();return A(n,y(gr,{get value(){return`${t.data.error?t.context.multiline?t.data.error:ml(t.data.error).replace(/\r?\n|\r/g," ").replace(/\s\s+/g," "):""}`},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})),oe(()=>n.classList.toggle("!whitespace-break-spaces",!!t.context.multiline)),n}}),y(Ce,{get when(){return e()==="raw"},get children(){var n=L7();return A(n,y(gr,{get value(){return U(()=>!!t.context.multiline)()?t.data.value:ml(t.data.value).replace(/\r?\n|\r/g," ").replace(/\s\s+/g," ")},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})),oe(()=>n.classList.toggle("!whitespace-break-spaces",!!t.context.multiline)),n}}),y(Ce,{get when(){return e()==="html"},get children(){var n=Qv();return A(n,y(V,{get when(){return t.context.multiline},get fallback(){return y(gr,{get value(){return ml(t.data.value).replace(/\r?\n|\r/g," ").replace(/\s\s+/g," ")},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})},get children(){return y(eF,{get value(){return t.data.value},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})}})),oe(()=>n.classList.toggle("!whitespace-break-spaces",!!t.context.multiline)),n}}),y(Ce,{get when(){return e()==="symbol"},get children(){var n=I7();return A(n,y(gr,{get value(){return r()},get context(){return t.context},get onDataAvailable(){return t.onDataAvailable}})),n}})]}})}const m_=1,Ka=m_+m_,du=3,V7="[",j7="]",z7="{",K7="}",X7="(",Y7=")";function J7(t){const e=t.context.multiline,r=t.context.indentationLvl+1,n=U(()=>t.data.type==="array"||!!t.data.rangeNode),i=U(()=>n()||t.data.functionsNode?[V7,j7]:t.data.getter?[X7,Y7]:[z7,K7]),o=U(()=>$9(t.data)),s=U(()=>t.context.omitTypes||e&&t.context.depth===1),a=U(()=>{const I=o();return!s()&&I?I:""}),l=U(()=>a()?a().length+1:0),[c,d]=z(!0),u=t.context.displayPropLimit,f=U(()=>{const I=u,W=t.data.props?.slice()||[];W[0]?.callStackNode&&W.shift();const q=[];let G=0;const H=[];let J,Z;for(var te=0;te<W.length&&(G<I||!c());te++){const ee=W[te];if(ee.functionsNode){Z=ee;continue}if(ee.type==="function"&&!t.data.functionsNode){H.push(ee);continue}if(ee.loadActionNode){J=ee;continue}if(ee.rangeNode){const le=t.data.parent||t.data;q.push({...ee,parent:le,queryPath:le.queryPath})}else q.push(ee);G++}if(Z&&q.push({...Z,queryPath:t.data.queryPath}),J)q.push(t.data.functionsNode?{...J,expandable:!0,queryPath:t.data.queryPath}:J);else if(G===I)q.push({loadActionNode:!0,loadAction:e?()=>d(!1):void 0});else if(t.data.cappedRange){const ee=t.data.parent||t.data;q.push({loadActionNode:!0,expandable:!0,parent:ee,queryPath:ee.queryPath})}if(G<I&&H.length>0){const ee=H.slice(0,I-G);for(const le of ee)q.push(le)}return q}),[h,g]=z(!e),[p,m]=z({},{equals:!1}),b=U(()=>f().length),k=U(()=>b()>0),[_,v]=z(Array.from({length:b()}),{equals:!1}),x=U(()=>t.data.expandable&&!(t.context.depth===1&&t.data.props?.length===1&&t.data.props?.[0]?.callStackNode)),S=U(()=>x()&&!k()),[w,T]=z({expanded:!0,wasExpanded:!1,changeReason:"reset"}),L=U(()=>x()&&w().changeReason!=="user"&&(t.context.collapsedUntilExpandedByUser||t.data.functionsNode||t.context.depth>=t.context.maxDepth||t.context.depth>1&&(t.data.props?.length||0)>t.context.expandedPropLimit)),E={toggle:()=>T(I=>{if(!I.expanded){if(t.data.loadAction)return t.data.loadAction(),{...I,expanded:!0,loading:!0,changeReason:"user"};if(S()){if(t.context.disallowValueLoad())return{...I,expanded:!1,changeReason:"user"};const W=t.data.parent?{ranges:{props:Yv(t.data,t.data.parent.props),length:t.data.parent.length}}:t.data.loadActionNode?{props:Number.MAX_VALUE}:{};return t.onValueLoadRequest({path:t.data.queryPath,...W}),{...I,expanded:!0,loading:!0,changeReason:"user"}}}return{expanded:!I.expanded,wasExpanded:I.expanded,changeReason:"user"}}),get collapsed(){return!w().expanded},get expanding(){return!!w().loading},get hasLoadedValue(){return k()}},[C,F]=z(t.context.maxLineLength()),[$,O]=z(!1);if(e){const I=U(()=>C()-t.context.indentationLvl*2-t.context.linePrefixLength),W=U(()=>C()-(t.context.indentationLvl+1)*2);we(t.context.maxLineLength,q=>{F(q),O(!0)}),we([h,x,k],()=>{const q=h(),G=x(),H=k();T(J=>{if(!J.expanded){if(q)return{expanded:!0,changeReason:"inline",wasExpanded:J.expanded};if(!G)return{expanded:!0,changeReason:"expandable",wasExpanded:J.expanded}}return t.context.depth===1?{expanded:!0,changeReason:"reset",wasExpanded:J.expanded}:(!J.expanded||J.expanded&&!J.wasExpanded)&&J.changeReason!=="user"&&J.changeReason!=="reset"||L()?{expanded:!1,changeReason:"reset",wasExpanded:J.expanded}:J.expanded!==H?{expanded:H,changeReason:"props",wasExpanded:J.expanded}:{...J,loading:void 0}})}),we(f,q=>{m(G=>q.reduce((J,Z)=>(J[Z.id]=G[Z.id],J),{}))}),we([p,n,l,S,L],()=>{const q=n(),G=Object.values(p());if(G.some(N=>N===void 0))return;let H=0,J=!1;for(let N=0;N<G.length;N++){const ie=G[N];H+=ie.length||0,J=J||ie.expander?.hasLoadedValue===!1||ie.hasPropsStoppingParentInlining===!0}const Z=H+l()+Ka+2,te=L(),ee=S(),le=$(),de=w().changeReason==="user";O(!1);const B=(le||de)&&I()>=Z&&!ee&&!te&&!J;if(g(B),t.onDataAvailable({length:Z,expander:B?void 0:E,hasPropsStoppingParentInlining:J}),!B&&(le||de)&&q&&G.length>0){let N=p()[f()[0]?.id]?.length||0;const ie=W();for(let ce=1;ce<f().length;ce++){const ke=p()[f()[ce]?.id],xe=ke?.length||0;N+=xe;const Ae=p()[f()[ce-1]?.id],Ne=!!Ae?.expander||Ae?.hasPropsStoppingParentInlining,ve=!!ke?.expander||ke?.hasPropsStoppingParentInlining,qe=_()[ce];ie>=N&&!Ne&&!ve?qe||v(Re=>(Re[ce]=!0,Re)):(qe&&v(Re=>(Re[ce]=void 0,Re)),N=xe)}}else v(Array.from({length:f().length}))},{defer:!0})}const M={...t.context,linePrefixLength:0,indentationLvl:r};return y(qt,{get fallback(){return(()=>{var I=R7(),W=I.firstChild,q=W.nextSibling,G=q.nextSibling;return A(I,y(V,{get when(){return a()},get children(){var H=za(),J=H.firstChild;return A(H,a,J),H}}),W),A(W,()=>i()[0]),A(I,y(V,{get when(){return h()},children:" "}),q),A(q,y(On,{get each(){return f()},by:H=>H.id,children:(H,J)=>{const Z=U(()=>J()<f().length-1),te=U(()=>h()||_()[J()]),[ee,le]=z(),de=e?ie=>{const ce=ie.length+(Z()?2:0),ke=ie.expander;le(ke);const xe=Xt(p)[H().id];!Xt($)&&xe&&xe.expander===ie.expander&&xe.length===ce&&xe.hasPropsStoppingParentInlining===ie.hasPropsStoppingParentInlining||m(Ae=>(Ae[H().id]={...xe,...ie,length:ce},Ae))}:ie=>{},B=U(()=>t.data.proxyContainerNode!==void 0||t.data.proxyNode!==void 0?{container:t.data.proxyContainerNode!==void 0,member:t.data.proxyNode!==void 0}:void 0),N={value:()=>new Promise(ie=>ie(H())),isRoot:!1,noCopyReason:()=>H().getter?"Expand to enable copy":void 0};return(()=>{var ie=P7(),ce=ie.firstChild;return ae(ke=>ke.entryInfo=N,ie),A(ie,y(V,{get when(){return!te()},get children(){return y(Hl,{level:r,get expander(){return ee()}})}}),null),A(ie,y(V,{get when(){return B()},get fallback(){return y(Z7,{get i(){return J()},get data(){return H()},context:M,get isArray(){return n()},onDataAvailable:de,get onValueLoadRequest(){return t.onValueLoadRequest}})},get children(){return y(Q7,{get isProxy(){return B()},get data(){return H()},context:M,get isArray(){return n()},onDataAvailable:de,get onValueLoadRequest(){return t.onValueLoadRequest}})}}),null),A(ie,y(V,{get when(){return Z()},get children(){return[",",U(()=>h()||_()[J()+1]?" ":"")]}}),null),oe(()=>ce.classList.toggle("hidden",!!te())),ie})()}}),null),A(q,y(V,{get when(){return!h()},get fallback(){return" "},get children(){return[Zm(),y(Hl,{level:r-1})]}}),null),A(I,y(V,{get when(){return!w().expanded},get children(){return(()=>{var H=p_();return H.$$click=()=>E.toggle(),oe(()=>H.classList.toggle("has-no-loaded-value",!E.hasLoadedValue)),H})()}}),G),A(G,()=>i().slice(1)),oe(H=>{var J=!w().expanded,Z=!!(t.context.noValueLoadBeyondMaxDepth&&t.context.depth>t.context.maxDepth);return J!==H.e&&q.classList.toggle("hidden",H.e=J),Z!==H.t&&q.classList.toggle("disallow-value-load",H.t=Z),H},{e:void 0,t:void 0}),I})()},get children(){return[y(Ce,{get when(){return t.data.loadActionNode},get children(){return y(Xa,{length:du,get context(){return t.context},onDataAvailable:I=>t.onDataAvailable({...I,expander:E}),get children(){var I=A7();return I.$$click=()=>E.toggle(),hr(I,e?"token-load level-expander-ellipsis":"token-punctuation"),oe(()=>I.classList.toggle("has-no-loaded-value",!E.hasLoadedValue)),I}})}}),y(Ce,{get when(){return U(()=>!!(t.data.capped||t.data.cappedElements))()&&!k()||L()||S()},get children(){return y(Xa,{get length(){return Ka+du+l()},get context(){return t.context},onDataAvailable:I=>t.onDataAvailable({...I,expander:E,hasPropsStoppingParentInlining:I.hasPropsStoppingParentInlining||L()}),get children(){return[y(V,{get when(){return a()},get children(){var I=za(),W=I.firstChild;return A(I,a,W),I}}),(()=>{var I=xo();return A(I,()=>i()[0]),I})(),(()=>{var I=p_();return I.$$click=()=>E.toggle(),oe(()=>I.classList.toggle("has-no-loaded-value",!E.hasLoadedValue)),I})(),(()=>{var I=xo();return A(I,()=>i().slice(1)),I})()]}})}}),y(Ce,{get when(){return o()==="Promise"},get children(){return y(Xa,{get length(){return Ka+du+l()},get context(){return t.context},onDataAvailable:I=>t.onDataAvailable(I),get children(){return[(()=>{var I=za(),W=I.firstChild;return A(I,a,W),I})(),(()=>{var I=xo();return A(I,()=>i()[0]),I})(),F7(),(()=>{var I=xo();return A(I,()=>i().slice(1)),I})()]}})}}),y(Ce,{get when(){return!x()},get children(){return y(Xa,{get length(){return Ka+l()},get context(){return t.context},onDataAvailable:I=>t.onDataAvailable({...I}),get children(){return[y(V,{get when(){return a()},get children(){var I=za(),W=I.firstChild;return A(I,a,W),I}}),(()=>{var I=xo();return A(I,()=>i()[0]),I})(),(()=>{var I=xo();return A(I,()=>i().slice(1)),I})()]}})}})]}})}function lT(t){var e=Math.floor(Number(t));return e!==1/0&&String(e)===t&&e>=0}function Z7(t){const e=U(()=>t.data.name?.toString()||(t.data.functionsNode?"":"")),r=U(()=>lT(e())),n=U(()=>!t.data.loadActionNode&&(!t.isArray||!r())),i=U(()=>n()?e().length+2:0),o=U(()=>({...t.context,linePrefixLength:i(),collapsedUntilExpandedByUser:t.i>t.context.expandedPropLimit})),[s,a]=z(void 0);return yt(()=>{s()!==void 0&&t.onDataAvailable({...s(),length:i()+s().length})},{defer:!0}),[y(V,{get when(){return n()},get children(){var l=aT();return A(l,()=>`${e()}: `),l}}),y(ql,{get data(){return t.data},get context(){return o()},onDataAvailable:a,get onValueLoadRequest(){return t.onValueLoadRequest},get isArrayProp(){return t.isArray}})]}function Q7(t){const e=U(()=>t.isProxy.container?t.data.label?.name.toLowerCase()||"members":t.data.proxyData.path.join(".")),r=U(()=>lT(e())),n=U(()=>!t.data.loadActionNode&&(!t.isArray||!r())),i=U(()=>n()?e().length+2+(t.isProxy?.member?t.data.proxyData.trap.length+1:0):0),o=U(()=>({...t.context,linePrefixLength:i()})),[s,a]=z(void 0);return yt(()=>{s()!==void 0&&t.onDataAvailable({...s(),length:i()+s().length})},{defer:!0}),[y(V,{get when(){return n()},get children(){return[y(V,{get when(){return t.isProxy?.member},get children(){var l=$7(),c=l.firstChild;return A(l,()=>t.data.proxyData.trap,c),l}}),(()=>{var l=aT();return A(l,()=>`${e()}: `),oe(()=>l.classList.toggle("token-comment",!!t.isProxy?.container)),l})(),y(V,{get when(){return t.context.multiline&&t.isProxy?.member&&t.data.props?.[0]?.callStackNode},get children(){var l=D7();return A(l,y(se,{class:"codicon-layers",contentEditable:!0,onClick:()=>{t.onValueLoadRequest({stackNode:t.data.props?.[0]})},tooltip:"Show call stack"})),l}})]}}),y(ql,{get data(){return t.data},get context(){return o()},onDataAvailable:a,get onValueLoadRequest(){return t.onValueLoadRequest},get isArrayProp(){return t.isArray}})]}function Hl(t){return y(It,{get each(){return Array(t.level)},children:(e,r)=>(()=>{var n=B7();return A(n,y(V,{get when(){return U(()=>!!t.expander)()&&r()===t.level-1},fallback:"  ",get children(){var i=O7();return i.$$click=()=>t.expander.toggle(),i.addEventListener("valueToggleExternally",()=>t.expander.toggle()),oe(o=>{var s=!!t.expander.collapsed,a=!!t.expander.expanding,l=!t.expander.hasLoadedValue;return s!==o.e&&i.classList.toggle("collapsed",o.e=s),a!==o.t&&i.classList.toggle("expanding",o.t=a),l!==o.a&&i.classList.toggle("has-no-loaded-value",o.a=l),o},{e:void 0,t:void 0,a:void 0}),i}})),n})()})}function Xa(t){return yt(()=>{t.context.maxLineLength()&&t.onDataAvailable({length:t.length})}),U(()=>t.children)}function gr(t){return yt(()=>{t.context.maxLineLength()&&t.onDataAvailable({length:t.value.length})}),U(()=>t.value)}function eF(t){const[e,r]=z(null);return yt(async()=>{try{const i=(await Zv("svelte",{lines:t.value.split(`
`),current:0,frame:{start:0,end:t.value.length}}))?.lines.join(`
`);i&&(e().innerHTML=i)}catch(n){console.error("Log HTML highlighting failed",n)}t.context.maxLineLength()&&t.onDataAvailable({length:t.value.length})}),(()=>{var n=Qv();return ae(r,n),A(n,()=>t.value),n})()}function cT(t){return(t.value||(t.capped===!0?"":t.capped)||"")+""}function tF(t){const e=U(()=>!!(t.context.multiline&&t.data.capped)),r=U(()=>cT(t.data)),n=U(()=>{let w=r();return w=w.length>t.context.maxStrLength?`${w.substring(0,t.context.maxStrLength)}...`:typeof t.data.capped=="string"||t.data.capped===!0?`${w} ... (length: ${t.data.length||"unknown"})`:w,ml(w).replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/'/g,"\\'")}),i=U(()=>n().split(`
`)),o=U(()=>t.context.maxLineLength()-t.context.indentationLvl*2-t.context.linePrefixLength),s=2,c=2+s+2,d=U(()=>!e()&&i()[0].length+(i().length>1?c:s)<=o()),u=U(()=>t.context.multiline&&!t.isArrayProp&&n().length>16&&i().length>1&&n().length>o()),[f,h]=z(d()),[g,p]=z(u());we([o,()=>t.isArrayProp],()=>{h(d()),p(u())});const[m,b]=z(!0),k={toggle:()=>b(w=>!w),get collapsed(){return!m()},get expanding(){return!1},get hasLoadedValue(){return!0}},[_,v]=z(!1),x={toggle:()=>{v(!0),t.onValueLoadRequest({path:t.data.queryPath,strLength:Number.MAX_VALUE})},get collapsed(){return!0},get expanding(){return _()},get hasLoadedValue(){return t.data.capped===void 0}},S=U(()=>!g()&&e());return yt(()=>{const w=i();if(v(!1),!g()){b(!0);return}t.onDataAvailable({length:w.reduce((T,L)=>T+L.length+c,-c+s),expander:k,hasPropsStoppingParentInlining:!0})}),[y(V,{get when(){return t.context.indentationLvl>0&&!f()&&!t.isArrayProp},get children(){return y(V,{get when(){return!k.collapsed},get fallback(){return(()=>{var w=M7(),T=w.firstChild,L=T.nextSibling;return L.nextSibling,A(w,()=>i()[0].substring(0,13)+"...",L),w})()},get children(){return[(()=>{var w=Zm();return oe(()=>w.classList.toggle("hidden",!!t.isArrayProp)),w})(),y(Hl,{get level(){return t.context.indentationLvl+1},get expander(){return S()?x:void 0}})]}})}}),y(V,{get when(){return g()},get fallback(){return(()=>{var w=eb();return A(w,y(gr,{get value(){return`'${i().join("\\n")}'`},get context(){return t.context},onDataAvailable:T=>t.onDataAvailable({...T,hasPropsStoppingParentInlining:!f(),expander:t.isArrayProp&&e()?x:void 0})})),w})()},get children(){var w=Qv();return A(w,y(It,{get each(){return i()},children:(T,L)=>{const E=()=>L()===i().length-1;return(()=>{var C=G7(),F=C.firstChild;return A(F,y(gr,{get value(){return`'${T}${E()?"":"\\n"}'`},onDataAvailable:()=>{},get context(){return t.context}})),A(C,y(V,{get when(){return!E()},get children(){return[N7(),Zm(),y(Hl,{get level(){return t.context.indentationLvl+1},get expander(){return e()&&L()===i().length-2?x:void 0}})]}}),null),C})()}})),oe(()=>w.classList.toggle("hidden",!!k.collapsed)),w}})]}function rF(t){const o="new ".length+"Date".length+"(".length+")".length,s=U(()=>`'${new Date(t.data.value).toJSON()}'`);return yt(()=>{t.onDataAvailable({length:s().length+o})}),[U7(),W7(),q7(),(()=>{var a=eb();return A(a,s),a})(),H7()]}At(["click"]);var tb={exports:{}},Ec={},dT={},ft={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof wn<"u"?wn:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.20",isBrowser:r(),isUnminified:/param/.test(function(i){}.toString()),dblClickWindow:400,getAngle(i){return t.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var i;return(i=t.Konva.Transformer)===null||i===void 0?void 0:i.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(i){t.glob.Konva=i}};const n=i=>{t.Konva[i.prototype.getClassName()]=i};t._registerNode=n,t.Konva._injectGlobal(t.Konva)})(ft);var Zt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=ft;class r{constructor(v=[1,0,0,1,0,0]){this.dirty=!1,this.m=v&&v.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(v){v.m[0]=this.m[0],v.m[1]=this.m[1],v.m[2]=this.m[2],v.m[3]=this.m[3],v.m[4]=this.m[4],v.m[5]=this.m[5]}point(v){const x=this.m;return{x:x[0]*v.x+x[2]*v.y+x[4],y:x[1]*v.x+x[3]*v.y+x[5]}}translate(v,x){return this.m[4]+=this.m[0]*v+this.m[2]*x,this.m[5]+=this.m[1]*v+this.m[3]*x,this}scale(v,x){return this.m[0]*=v,this.m[1]*=v,this.m[2]*=x,this.m[3]*=x,this}rotate(v){const x=Math.cos(v),S=Math.sin(v),w=this.m[0]*x+this.m[2]*S,T=this.m[1]*x+this.m[3]*S,L=this.m[0]*-S+this.m[2]*x,E=this.m[1]*-S+this.m[3]*x;return this.m[0]=w,this.m[1]=T,this.m[2]=L,this.m[3]=E,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(v,x){const S=this.m[0]+this.m[2]*x,w=this.m[1]+this.m[3]*x,T=this.m[2]+this.m[0]*v,L=this.m[3]+this.m[1]*v;return this.m[0]=S,this.m[1]=w,this.m[2]=T,this.m[3]=L,this}multiply(v){const x=this.m[0]*v.m[0]+this.m[2]*v.m[1],S=this.m[1]*v.m[0]+this.m[3]*v.m[1],w=this.m[0]*v.m[2]+this.m[2]*v.m[3],T=this.m[1]*v.m[2]+this.m[3]*v.m[3],L=this.m[0]*v.m[4]+this.m[2]*v.m[5]+this.m[4],E=this.m[1]*v.m[4]+this.m[3]*v.m[5]+this.m[5];return this.m[0]=x,this.m[1]=S,this.m[2]=w,this.m[3]=T,this.m[4]=L,this.m[5]=E,this}invert(){const v=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),x=this.m[3]*v,S=-this.m[1]*v,w=-this.m[2]*v,T=this.m[0]*v,L=v*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),E=v*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=x,this.m[1]=S,this.m[2]=w,this.m[3]=T,this.m[4]=L,this.m[5]=E,this}getMatrix(){return this.m}decompose(){const v=this.m[0],x=this.m[1],S=this.m[2],w=this.m[3],T=this.m[4],L=this.m[5],E=v*w-x*S,C={x:T,y:L,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(v!=0||x!=0){const F=Math.sqrt(v*v+x*x);C.rotation=x>0?Math.acos(v/F):-Math.acos(v/F),C.scaleX=F,C.scaleY=E/F,C.skewX=(v*S+x*w)/E,C.skewY=0}else if(S!=0||w!=0){const F=Math.sqrt(S*S+w*w);C.rotation=Math.PI/2-(w>0?Math.acos(-S/F):-Math.acos(S/F)),C.scaleX=E/F,C.scaleY=F,C.skewX=0,C.skewY=(v*S+x*w)/E}return C.rotation=t.Util._getRotation(C.rotation),C}}t.Transform=r;const n="[object Array]",i="[object Number]",o="[object String]",s="[object Boolean]",a=Math.PI/180,l=180/Math.PI,c="#",d="",u="0",f="Konva warning: ",h="Konva error: ",g="rgb(",p={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},m=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let b=[];const k=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(_){setTimeout(_,60)};t.Util={_isElement(_){return!!(_&&_.nodeType==1)},_isFunction(_){return!!(_&&_.constructor&&_.call&&_.apply)},_isPlainObject(_){return!!_&&_.constructor===Object},_isArray(_){return Object.prototype.toString.call(_)===n},_isNumber(_){return Object.prototype.toString.call(_)===i&&!isNaN(_)&&isFinite(_)},_isString(_){return Object.prototype.toString.call(_)===o},_isBoolean(_){return Object.prototype.toString.call(_)===s},isObject(_){return _ instanceof Object},isValidSelector(_){if(typeof _!="string")return!1;const v=_[0];return v==="#"||v==="."||v===v.toUpperCase()},_sign(_){return _===0||_>0?1:-1},requestAnimFrame(_){b.push(_),b.length===1&&k(function(){const v=b;b=[],v.forEach(function(x){x()})})},createCanvasElement(){const _=document.createElement("canvas");try{_.style=_.style||{}}catch{}return _},createImageElement(){return document.createElement("img")},_isInDocument(_){for(;_=_.parentNode;)if(_==document)return!0;return!1},_urlToImage(_,v){const x=t.Util.createImageElement();x.onload=function(){v(x)},x.src=_},_rgbToHex(_,v,x){return((1<<24)+(_<<16)+(v<<8)+x).toString(16).slice(1)},_hexToRgb(_){_=_.replace(c,d);const v=parseInt(_,16);return{r:v>>16&255,g:v>>8&255,b:v&255}},getRandomColor(){let _=(Math.random()*16777215<<0).toString(16);for(;_.length<6;)_=u+_;return c+_},getRGB(_){let v;return _ in p?(v=p[_],{r:v[0],g:v[1],b:v[2]}):_[0]===c?this._hexToRgb(_.substring(1)):_.substr(0,4)===g?(v=m.exec(_.replace(/ /g,"")),{r:parseInt(v[1],10),g:parseInt(v[2],10),b:parseInt(v[3],10)}):{r:0,g:0,b:0}},colorToRGBA(_){return _=_||"black",t.Util._namedColorToRBA(_)||t.Util._hex3ColorToRGBA(_)||t.Util._hex4ColorToRGBA(_)||t.Util._hex6ColorToRGBA(_)||t.Util._hex8ColorToRGBA(_)||t.Util._rgbColorToRGBA(_)||t.Util._rgbaColorToRGBA(_)||t.Util._hslColorToRGBA(_)},_namedColorToRBA(_){const v=p[_.toLowerCase()];return v?{r:v[0],g:v[1],b:v[2],a:1}:null},_rgbColorToRGBA(_){if(_.indexOf("rgb(")===0){_=_.match(/rgb\(([^)]+)\)/)[1];const v=_.split(/ *, */).map(Number);return{r:v[0],g:v[1],b:v[2],a:1}}},_rgbaColorToRGBA(_){if(_.indexOf("rgba(")===0){_=_.match(/rgba\(([^)]+)\)/)[1];const v=_.split(/ *, */).map((x,S)=>x.slice(-1)==="%"?S===3?parseInt(x)/100:parseInt(x)/100*255:Number(x));return{r:v[0],g:v[1],b:v[2],a:v[3]}}},_hex8ColorToRGBA(_){if(_[0]==="#"&&_.length===9)return{r:parseInt(_.slice(1,3),16),g:parseInt(_.slice(3,5),16),b:parseInt(_.slice(5,7),16),a:parseInt(_.slice(7,9),16)/255}},_hex6ColorToRGBA(_){if(_[0]==="#"&&_.length===7)return{r:parseInt(_.slice(1,3),16),g:parseInt(_.slice(3,5),16),b:parseInt(_.slice(5,7),16),a:1}},_hex4ColorToRGBA(_){if(_[0]==="#"&&_.length===5)return{r:parseInt(_[1]+_[1],16),g:parseInt(_[2]+_[2],16),b:parseInt(_[3]+_[3],16),a:parseInt(_[4]+_[4],16)/255}},_hex3ColorToRGBA(_){if(_[0]==="#"&&_.length===4)return{r:parseInt(_[1]+_[1],16),g:parseInt(_[2]+_[2],16),b:parseInt(_[3]+_[3],16),a:1}},_hslColorToRGBA(_){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(_)){const[v,...x]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(_),S=Number(x[0])/360,w=Number(x[1])/100,T=Number(x[2])/100;let L,E,C;if(w===0)return C=T*255,{r:Math.round(C),g:Math.round(C),b:Math.round(C),a:1};T<.5?L=T*(1+w):L=T+w-T*w;const F=2*T-L,$=[0,0,0];for(let O=0;O<3;O++)E=S+1/3*-(O-1),E<0&&E++,E>1&&E--,6*E<1?C=F+(L-F)*6*E:2*E<1?C=L:3*E<2?C=F+(L-F)*(2/3-E)*6:C=F,$[O]=C*255;return{r:Math.round($[0]),g:Math.round($[1]),b:Math.round($[2]),a:1}}},haveIntersection(_,v){return!(v.x>_.x+_.width||v.x+v.width<_.x||v.y>_.y+_.height||v.y+v.height<_.y)},cloneObject(_){const v={};for(const x in _)this._isPlainObject(_[x])?v[x]=this.cloneObject(_[x]):this._isArray(_[x])?v[x]=this.cloneArray(_[x]):v[x]=_[x];return v},cloneArray(_){return _.slice(0)},degToRad(_){return _*a},radToDeg(_){return _*l},_degToRad(_){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(_)},_radToDeg(_){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(_)},_getRotation(_){return e.Konva.angleDeg?t.Util.radToDeg(_):_},_capitalize(_){return _.charAt(0).toUpperCase()+_.slice(1)},throw(_){throw new Error(h+_)},error(_){console.error(h+_)},warn(_){e.Konva.showWarnings&&console.warn(f+_)},each(_,v){for(const x in _)v(x,_[x])},_inRange(_,v,x){return v<=_&&_<x},_getProjectionToSegment(_,v,x,S,w,T){let L,E,C;const F=(_-x)*(_-x)+(v-S)*(v-S);if(F==0)L=_,E=v,C=(w-x)*(w-x)+(T-S)*(T-S);else{const $=((w-_)*(x-_)+(T-v)*(S-v))/F;$<0?(L=_,E=v,C=(_-w)*(_-w)+(v-T)*(v-T)):$>1?(L=x,E=S,C=(x-w)*(x-w)+(S-T)*(S-T)):(L=_+$*(x-_),E=v+$*(S-v),C=(L-w)*(L-w)+(E-T)*(E-T))}return[L,E,C]},_getProjectionToLine(_,v,x){const S=t.Util.cloneObject(_);let w=Number.MAX_VALUE;return v.forEach(function(T,L){if(!x&&L===v.length-1)return;const E=v[(L+1)%v.length],C=t.Util._getProjectionToSegment(T.x,T.y,E.x,E.y,_.x,_.y),F=C[0],$=C[1],O=C[2];O<w&&(S.x=F,S.y=$,w=O)}),S},_prepareArrayForTween(_,v,x){const S=[],w=[];if(_.length>v.length){const L=v;v=_,_=L}for(let L=0;L<_.length;L+=2)S.push({x:_[L],y:_[L+1]});for(let L=0;L<v.length;L+=2)w.push({x:v[L],y:v[L+1]});const T=[];return w.forEach(function(L){const E=t.Util._getProjectionToLine(L,S,x);T.push(E.x),T.push(E.y)}),T},_prepareToStringify(_){let v;_.visitedByCircularReferenceRemoval=!0;for(const x in _)if(_.hasOwnProperty(x)&&_[x]&&typeof _[x]=="object"){if(v=Object.getOwnPropertyDescriptor(_,x),_[x].visitedByCircularReferenceRemoval||t.Util._isElement(_[x]))if(v.configurable)delete _[x];else return null;else if(t.Util._prepareToStringify(_[x])===null)if(v.configurable)delete _[x];else return null}return delete _.visitedByCircularReferenceRemoval,_},_assign(_,v){for(const x in v)_[x]=v[x];return _},_getFirstPointerId(_){return _.touches?_.changedTouches[0].identifier:_.pointerId||999},releaseCanvas(..._){e.Konva.releaseCanvasOnDestroy&&_.forEach(v=>{v.width=0,v.height=0})},drawRoundedRectPath(_,v,x,S){let w=0,T=0,L=0,E=0;typeof S=="number"?w=T=L=E=Math.min(S,v/2,x/2):(w=Math.min(S[0]||0,v/2,x/2),T=Math.min(S[1]||0,v/2,x/2),E=Math.min(S[2]||0,v/2,x/2),L=Math.min(S[3]||0,v/2,x/2)),_.moveTo(w,0),_.lineTo(v-T,0),_.arc(v-T,T,T,Math.PI*3/2,0,!1),_.lineTo(v,x-E),_.arc(v-E,x-E,E,0,Math.PI/2,!1),_.lineTo(L,x),_.arc(L,x-L,L,Math.PI/2,Math.PI,!1),_.lineTo(0,w),_.arc(w,w,w,Math.PI,Math.PI*3/2,!1)}}})(Zt);var Yt={},pt={},tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.RGBComponent=nF;tt.alphaComponent=iF;tt.getNumberValidator=oF;tt.getNumberOrArrayOfNumbersValidator=sF;tt.getNumberOrAutoValidator=aF;tt.getStringValidator=lF;tt.getStringOrGradientValidator=cF;tt.getFunctionValidator=dF;tt.getNumberArrayValidator=uF;tt.getBooleanValidator=hF;tt.getComponentValidator=fF;const Kn=ft,er=Zt;function Xn(t){return er.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||er.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function nF(t){return t>255?255:t<0?0:Math.round(t)}function iF(t){return t>1?1:t<1e-4?1e-4:t}function oF(){if(Kn.Konva.isUnminified)return function(t,e){return er.Util._isNumber(t)||er.Util.warn(Xn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function sF(t){if(Kn.Konva.isUnminified)return function(e,r){let n=er.Util._isNumber(e),i=er.Util._isArray(e)&&e.length==t;return!n&&!i&&er.Util.warn(Xn(e)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function aF(){if(Kn.Konva.isUnminified)return function(t,e){var r=er.Util._isNumber(t),n=t==="auto";return r||n||er.Util.warn(Xn(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function lF(){if(Kn.Konva.isUnminified)return function(t,e){return er.Util._isString(t)||er.Util.warn(Xn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function cF(){if(Kn.Konva.isUnminified)return function(t,e){const r=er.Util._isString(t),n=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return r||n||er.Util.warn(Xn(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function dF(){if(Kn.Konva.isUnminified)return function(t,e){return er.Util._isFunction(t)||er.Util.warn(Xn(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function uF(){if(Kn.Konva.isUnminified)return function(t,e){const r=Int8Array?Object.getPrototypeOf(Int8Array):null;return r&&t instanceof r||(er.Util._isArray(t)?t.forEach(function(n){er.Util._isNumber(n)||er.Util.warn('"'+e+'" attribute has non numeric element '+n+". Make sure that all elements are numbers.")}):er.Util.warn(Xn(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function hF(){if(Kn.Konva.isUnminified)return function(t,e){var r=t===!0||t===!1;return r||er.Util.warn(Xn(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function fF(t){if(Kn.Konva.isUnminified)return function(e,r){return e==null||er.Util.isObject(e)||er.Util.warn(Xn(e)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+t),e}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Zt,r=tt,n="get",i="set";t.Factory={addGetterSetter(o,s,a,l,c){t.Factory.addGetter(o,s,a),t.Factory.addSetter(o,s,l,c),t.Factory.addOverloadedGetterSetter(o,s)},addGetter(o,s,a){var l=n+e.Util._capitalize(s);o.prototype[l]=o.prototype[l]||function(){const c=this.attrs[s];return c===void 0?a:c}},addSetter(o,s,a,l){var c=i+e.Util._capitalize(s);o.prototype[c]||t.Factory.overWriteSetter(o,s,a,l)},overWriteSetter(o,s,a,l){var c=i+e.Util._capitalize(s);o.prototype[c]=function(d){return a&&d!==void 0&&d!==null&&(d=a.call(this,d,s)),this._setAttr(s,d),l&&l.call(this),this}},addComponentsGetterSetter(o,s,a,l,c){const d=a.length,u=e.Util._capitalize,f=n+u(s),h=i+u(s);o.prototype[f]=function(){const p={};for(let m=0;m<d;m++){const b=a[m];p[b]=this.getAttr(s+u(b))}return p};const g=(0,r.getComponentValidator)(a);o.prototype[h]=function(p){const m=this.attrs[s];l&&(p=l.call(this,p,s)),g&&g.call(this,p,s);for(const b in p)p.hasOwnProperty(b)&&this._setAttr(s+u(b),p[b]);return p||a.forEach(b=>{this._setAttr(s+u(b),void 0)}),this._fireChangeEvent(s,m,p),c&&c.call(this),this},t.Factory.addOverloadedGetterSetter(o,s)},addOverloadedGetterSetter(o,s){var a=e.Util._capitalize(s),l=i+a,c=n+a;o.prototype[s]=function(){return arguments.length?(this[l](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(o,s,a,l){e.Util.error("Adding deprecated "+s);const c=n+e.Util._capitalize(s),d=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";o.prototype[c]=function(){e.Util.error(d);const u=this.attrs[s];return u===void 0?a:u},t.Factory.addSetter(o,s,l,function(){e.Util.error(d)}),t.Factory.addOverloadedGetterSetter(o,s)},backCompat(o,s){e.Util.each(s,function(a,l){const c=o.prototype[l],d=n+e.Util._capitalize(a),u=i+e.Util._capitalize(a);function f(){c.apply(this,arguments),e.Util.error('"'+a+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}o.prototype[a]=f,o.prototype[d]=f,o.prototype[u]=f})},afterSetFilter(){this._filterUpToDate=!1}}})(pt);var cn={},Un={};Object.defineProperty(Un,"__esModule",{value:!0});Un.HitContext=Un.SceneContext=Un.Context=void 0;const uT=Zt,gF=ft;function pF(t){const e=[],r=t.length,n=uT.Util;for(let i=0;i<r;i++){let o=t[i];n._isNumber(o)?o=Math.round(o*1e3)/1e3:n._isString(o)||(o=o+""),e.push(o)}return e}const v_=",",mF="(",vF=")",bF="([",_F="])",yF=";",wF="()",kF="=",b_=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],SF=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],xF=100;class Cc{constructor(e){this.canvas=e,gF.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,r){let n=this.traceArr,i=n.length,o="",s,a,l,c;for(s=0;s<i;s++)a=n[s],l=a.method,l?(c=a.args,o+=l,e?o+=wF:uT.Util._isArray(c[0])?o+=bF+c.join(v_)+_F:(r&&(c=c.map(d=>typeof d=="number"?Math.floor(d):d)),o+=mF+c.join(v_)+vF)):(o+=a.property,e||(o+=kF+a.val)),o+=yF;return o}clearTrace(){this.traceArr=[]}_trace(e){let r=this.traceArr,n;r.push(e),n=r.length,n>=xF&&r.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const r=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,r.getWidth()/r.pixelRatio,r.getHeight()/r.pixelRatio)}_applyLineCap(e){const r=e.attrs.lineCap;r&&this.setAttr("lineCap",r)}_applyOpacity(e){const r=e.getAbsoluteOpacity();r!==1&&this.setAttr("globalAlpha",r)}_applyLineJoin(e){const r=e.attrs.lineJoin;r&&this.setAttr("lineJoin",r)}setAttr(e,r){this._context[e]=r}arc(e,r,n,i,o,s){this._context.arc(e,r,n,i,o,s)}arcTo(e,r,n,i,o){this._context.arcTo(e,r,n,i,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,r,n,i,o,s){this._context.bezierCurveTo(e,r,n,i,o,s)}clearRect(e,r,n,i){this._context.clearRect(e,r,n,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,r){const n=arguments;if(n.length===2)return this._context.createImageData(e,r);if(n.length===1)return this._context.createImageData(e)}createLinearGradient(e,r,n,i){return this._context.createLinearGradient(e,r,n,i)}createPattern(e,r){return this._context.createPattern(e,r)}createRadialGradient(e,r,n,i,o,s){return this._context.createRadialGradient(e,r,n,i,o,s)}drawImage(e,r,n,i,o,s,a,l,c){const d=arguments,u=this._context;d.length===3?u.drawImage(e,r,n):d.length===5?u.drawImage(e,r,n,i,o):d.length===9&&u.drawImage(e,r,n,i,o,s,a,l,c)}ellipse(e,r,n,i,o,s,a,l){this._context.ellipse(e,r,n,i,o,s,a,l)}isPointInPath(e,r,n,i){return n?this._context.isPointInPath(n,e,r,i):this._context.isPointInPath(e,r,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,r,n,i){this._context.fillRect(e,r,n,i)}strokeRect(e,r,n,i){this._context.strokeRect(e,r,n,i)}fillText(e,r,n,i){i?this._context.fillText(e,r,n,i):this._context.fillText(e,r,n)}measureText(e){return this._context.measureText(e)}getImageData(e,r,n,i){return this._context.getImageData(e,r,n,i)}lineTo(e,r){this._context.lineTo(e,r)}moveTo(e,r){this._context.moveTo(e,r)}rect(e,r,n,i){this._context.rect(e,r,n,i)}roundRect(e,r,n,i,o){this._context.roundRect(e,r,n,i,o)}putImageData(e,r,n){this._context.putImageData(e,r,n)}quadraticCurveTo(e,r,n,i){this._context.quadraticCurveTo(e,r,n,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,r){this._context.scale(e,r)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,r,n,i,o,s){this._context.setTransform(e,r,n,i,o,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,r,n,i){this._context.strokeText(e,r,n,i)}transform(e,r,n,i,o,s){this._context.transform(e,r,n,i,o,s)}translate(e,r){this._context.translate(e,r)}_enableTrace(){let e=this,r=b_.length,n=this.setAttr,i,o;const s=function(a){let l=e[a],c;e[a]=function(){return o=pF(Array.prototype.slice.call(arguments,0)),c=l.apply(e,arguments),e._trace({method:a,args:o}),c}};for(i=0;i<r;i++)s(b_[i]);e.setAttr=function(){n.apply(e,arguments);const a=arguments[0];let l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){const r=e.attrs.globalCompositeOperation;!r||r==="source-over"||this.setAttr("globalCompositeOperation",r)}}Un.Context=Cc;SF.forEach(function(t){Object.defineProperty(Cc.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class TF extends Cc{constructor(e,{willReadFrequently:r=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:r})}_fillColor(e){const r=e.fill();this.setAttr("fillStyle",r),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const r=e._getLinearGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fillRadialGradient(e){const r=e._getRadialGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fill(e){const r=e.fill(),n=e.getFillPriority();if(r&&n==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&n==="pattern"){this._fillPattern(e);return}const o=e.getFillLinearGradientColorStops();if(o&&n==="linear-gradient"){this._fillLinearGradient(e);return}const s=e.getFillRadialGradientColorStops();if(s&&n==="radial-gradient"){this._fillRadialGradient(e);return}r?this._fillColor(e):i?this._fillPattern(e):o?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const r=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(r.x,r.y,n.x,n.y);if(i){for(let s=0;s<i.length;s+=2)o.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",o)}}_stroke(e){const r=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e),r&&e.dashEnabled()&&(this.setLineDash(r),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var r,n,i;const o=(r=e.getShadowRGBA())!==null&&r!==void 0?r:"black",s=(n=e.getShadowBlur())!==null&&n!==void 0?n:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),c=this.canvas.getPixelRatio(),d=l.x*c,u=l.y*c;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",s*Math.min(Math.abs(d),Math.abs(u))),this.setAttr("shadowOffsetX",a.x*d),this.setAttr("shadowOffsetY",a.y*u)}}Un.SceneContext=TF;class EF extends Cc{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const r=e.getStrokeScaleEnabled();if(!r){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e);const n=e.hitStrokeWidth(),i=n==="auto"?e.strokeWidth():n;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),r||this.restore()}}}Un.HitContext=EF;Object.defineProperty(cn,"__esModule",{value:!0});cn.HitCanvas=cn.SceneCanvas=cn.Canvas=void 0;const Vl=Zt,hT=Un,fT=ft;let Ya;function CF(){if(Ya)return Ya;const t=Vl.Util.createCanvasElement(),e=t.getContext("2d");return Ya=function(){const r=fT.Konva._global.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}(),Vl.Util.releaseCanvas(t),Ya}class rb{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const n=(e||{}).pixelRatio||fT.Konva.pixelRatio||CF();this.pixelRatio=n,this._canvas=Vl.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const r=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/r,this.getHeight()/r)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const r=this.pixelRatio;this.getContext()._context.scale(r,r)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const r=this.pixelRatio;this.getContext()._context.scale(r,r)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,r){this.setWidth(e||0),this.setHeight(r||0)}toDataURL(e,r){try{return this._canvas.toDataURL(e,r)}catch{try{return this._canvas.toDataURL()}catch(i){return Vl.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}cn.Canvas=rb;class LF extends rb{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new hT.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}cn.SceneCanvas=LF;class IF extends rb{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new hT.HitContext(this),this.setSize(e.width,e.height)}}cn.HitCanvas=IF;var Lc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=ft,r=Zt;t.DD={get isDragging(){let n=!1;return t.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return t.DD._dragElements.forEach(i=>{n=i.node}),n},_dragElements:new Map,_drag(n){const i=[];t.DD._dragElements.forEach((o,s)=>{const{node:a}=o,l=a.getStage();l.setPointersPositions(n),o.pointerId===void 0&&(o.pointerId=r.Util._getFirstPointerId(n));const c=l._changedPointerPositions.find(d=>d.id===o.pointerId);if(c){if(o.dragStatus!=="dragging"){const d=a.dragDistance();if(Math.max(Math.abs(c.x-o.startPointerPos.x),Math.abs(c.y-o.startPointerPos.y))<d||(a.startDrag({evt:n}),!a.isDragging()))return}a._setDragPosition(n,o),i.push(a)}}),i.forEach(o=>{o.fire("dragmove",{type:"dragmove",target:o,evt:n},!0)})},_endDragBefore(n){const i=[];t.DD._dragElements.forEach(o=>{const{node:s}=o,a=s.getStage();if(n&&a.setPointersPositions(n),!a._changedPointerPositions.find(d=>d.id===o.pointerId))return;(o.dragStatus==="dragging"||o.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,o.dragStatus="stopped");const c=o.node.getLayer()||o.node instanceof e.Konva.Stage&&o.node;c&&i.indexOf(c)===-1&&i.push(c)}),i.forEach(o=>{o.draw()})},_endDragAfter(n){t.DD._dragElements.forEach((i,o)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:n},!0),i.dragStatus!=="dragging"&&t.DD._dragElements.delete(o)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(Lc);Object.defineProperty(Yt,"__esModule",{value:!0});Yt.Node=void 0;const _t=Zt,Sa=pt,Ms=cn,ri=ft,Mr=Lc,nr=tt,bl="absoluteOpacity",Ja="allEventListeners",Pn="absoluteTransform",__="absoluteScale",Ni="canvas",AF="Change",FF="children",RF="konva",Qm="listening",y_="mouseenter",w_="mouseleave",k_="set",S_="Shape",_l=" ",x_="stage",ai="transform",PF="Stage",ev="visible",$F=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(_l);let DF=1,ot=class tv{constructor(e){this._id=DF++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===ai||e===Pn)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,r){let n=this._cache.get(e);return(n===void 0||(e===ai||e===Pn)&&n.dirty===!0)&&(n=r.call(this),this._cache.set(e,n)),n}_calculate(e,r,n){if(!this._attachedDepsListeners.get(e)){const i=r.map(o=>o+"Change.konva").join(_l);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(Ni)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Pn&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Ni)){const{scene:e,filter:r,hit:n}=this._cache.get(Ni);_t.Util.releaseCanvas(e,r,n),this._cache.delete(Ni)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const r=e||{};let n={};(r.x===void 0||r.y===void 0||r.width===void 0||r.height===void 0)&&(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(r.width||n.width),o=Math.ceil(r.height||n.height),s=r.pixelRatio,a=r.x===void 0?Math.floor(n.x):r.x,l=r.y===void 0?Math.floor(n.y):r.y,c=r.offset||0,d=r.drawBorder||!1,u=r.hitCanvasPixelRatio||1;if(!i||!o){_t.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const f=Math.abs(Math.round(n.x)-a)>.5?1:0,h=Math.abs(Math.round(n.y)-l)>.5?1:0;i+=c*2+f,o+=c*2+h,a-=c,l-=c;const g=new Ms.SceneCanvas({pixelRatio:s,width:i,height:o}),p=new Ms.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),m=new Ms.HitCanvas({pixelRatio:u,width:i,height:o}),b=g.getContext(),k=m.getContext();return m.isCache=!0,g.isCache=!0,this._cache.delete(Ni),this._filterUpToDate=!1,r.imageSmoothingEnabled===!1&&(g.getContext()._context.imageSmoothingEnabled=!1,p.getContext()._context.imageSmoothingEnabled=!1),b.save(),k.save(),b.translate(-a,-l),k.translate(-a,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(bl),this._clearSelfAndDescendantCache(__),this.drawScene(g,this),this.drawHit(m,this),this._isUnderCache=!1,b.restore(),k.restore(),d&&(b.save(),b.beginPath(),b.rect(0,0,i,o),b.closePath(),b.setAttr("strokeStyle","red"),b.setAttr("lineWidth",5),b.stroke(),b.restore()),this._cache.set(Ni,{scene:g,filter:p,hit:m,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Ni)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,r){const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,o=1/0,s=-1/0,a=-1/0;const l=this.getAbsoluteTransform(r);return n.forEach(function(c){const d=l.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),{x:i,y:o,width:s-i,height:a-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const r=this._getCanvasCache();e.translate(r.x,r.y);const n=this._getCachedSceneCanvas(),i=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/i,n.height/i),e.restore()}_drawCachedHitCanvas(e){const r=this._getCanvasCache(),n=r.hit;e.save(),e.translate(r.x,r.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),r=this._getCanvasCache(),n=r.scene,i=r.filter,o=i.getContext(),s,a,l,c;if(e){if(!this._filterUpToDate){const d=n.pixelRatio;i.setSize(n.width/n.pixelRatio,n.height/n.pixelRatio);try{for(s=e.length,o.clear(),o.drawImage(n._canvas,0,0,n.getWidth()/d,n.getHeight()/d),a=o.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<s;l++){if(c=e[l],typeof c!="function"){_t.Util.error("Filter should be type of function, but got "+typeof c+" instead. Please check correct filters");continue}c.call(this,a),o.putImageData(a,0,0)}}catch(u){_t.Util.error("Unable to apply filter. "+u.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return n}on(e,r){if(this._cache&&this._cache.delete(Ja),arguments.length===3)return this._delegate.apply(this,arguments);let n=e.split(_l),i=n.length,o,s,a,l,c;for(o=0;o<i;o++)s=n[o],a=s.split("."),l=a[0],c=a[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:c,handler:r});return this}off(e,r){let n=(e||"").split(_l),i=n.length,o,s,a,l,c,d;if(this._cache&&this._cache.delete(Ja),!e)for(s in this.eventListeners)this._off(s);for(o=0;o<i;o++)if(a=n[o],l=a.split("."),c=l[0],d=l[1],c)this.eventListeners[c]&&this._off(c,d,r);else for(s in this.eventListeners)this._off(s,d,r);return this}dispatchEvent(e){const r={target:this,type:e.type,evt:e};return this.fire(e.type,r),this}addEventListener(e,r){return this.on(e,function(n){r.call(this,n.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,r,n){const i=this;this.on(e,function(o){const s=o.target.findAncestors(r,!0,i);for(let a=0;a<s.length;a++)o=_t.Util.cloneObject(o),o.currentTarget=s[a],n.call(s[a],o)})}remove(){return this.isDragging()&&this.stopDrag(),Mr.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Pn),this._clearSelfAndDescendantCache(bl),this._clearSelfAndDescendantCache(__),this._clearSelfAndDescendantCache(x_),this._clearSelfAndDescendantCache(ev),this._clearSelfAndDescendantCache(Qm)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const r="get"+_t.Util._capitalize(e);return _t.Util._isFunction(this[r])?this[r]():this.attrs[e]}getAncestors(){let e=this.getParent(),r=[];for(;e;)r.push(e),e=e.getParent();return r}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let r,n;if(!e)return this;for(r in e)r!==FF&&(n=k_+_t.Util._capitalize(r),_t.Util._isFunction(this[n])?this[n](e[r]):this._setAttr(r,e[r]))}),this}isListening(){return this._getCache(Qm,this._isListening)}_isListening(e){if(!this.listening())return!1;const n=this.getParent();return n&&n!==e&&this!==e?n._isListening(e):!0}isVisible(){return this._getCache(ev,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const n=this.getParent();return n&&n!==e&&this!==e?n._isVisible(e):!0}shouldDrawHit(e,r=!1){if(e)return this._isVisible(e)&&this._isListening(e);const n=this.getLayer();let i=!1;Mr.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===n)&&(i=!0)});const o=!r&&!ri.Konva.hitOnDragEnabled&&(i||ri.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),r=this,n=0,i,o,s,a;function l(d){for(i=[],o=d.length,s=0;s<o;s++)a=d[s],n++,a.nodeType!==S_&&(i=i.concat(a.getChildren().slice())),a._id===r._id&&(s=o);i.length>0&&i[0].getDepth()<=e&&l(i)}const c=this.getStage();return r.nodeType!==PF&&c&&l(c.getChildren()),n}getDepth(){let e=0,r=this.parent;for(;r;)e++,r=r.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(ai),this._clearSelfAndDescendantCache(Pn)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const r=e.getPointerPosition();if(!r)return null;const n=this.getAbsoluteTransform().copy();return n.invert(),n.point(r)}getAbsolutePosition(e){let r=!1,n=this.parent;for(;n;){if(n.isCached()){r=!0;break}n=n.parent}r&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),o=new _t.Transform,s=this.offset();return o.m=i.slice(),o.translate(s.x,s.y),o.getTranslation()}setAbsolutePosition(e){const{x:r,y:n,...i}=this._clearTransform();this.attrs.x=r,this.attrs.y=n,this._clearCache(ai);const o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(ai),this._clearSelfAndDescendantCache(Pn),this}_setTransform(e){let r;for(r in e)this.attrs[r]=e[r]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let r=e.x,n=e.y,i=this.x(),o=this.y();return r!==void 0&&(i+=r),n!==void 0&&(o+=n),this.setPosition({x:i,y:o}),this}_eachAncestorReverse(e,r){let n=[],i=this.getParent(),o,s;if(!(r&&r._id===this._id)){for(n.unshift(this);i&&(!r||i._id!==r._id);)n.unshift(i),i=i.parent;for(o=n.length,s=0;s<o;s++)e(n[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return _t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return _t.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return _t.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return _t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return _t.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&_t.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const r=this.index;return this.parent.children.splice(r,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(bl,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const r=this.getParent();return r&&!r._isUnderCache&&(e*=r.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),r,n,i,o,s;const a={attrs:{},className:this.getClassName()};for(r in e)n=e[r],s=_t.Util.isObject(n)&&!_t.Util._isPlainObject(n)&&!_t.Util._isArray(n),!s&&(i=typeof this[r]=="function"&&this[r],delete e[r],o=i?i.call(this):null,e[r]=n,o!==n&&(a.attrs[r]=n));return _t.Util._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,r,n){const i=[];r&&this._isMatch(e)&&i.push(this);let o=this.parent;for(;o;){if(o===n)return i;o._isMatch(e)&&i.push(o),o=o.parent}return i}isAncestorOf(e){return!1}findAncestor(e,r,n){return this.findAncestors(e,r,n)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let r=e.replace(/ /g,"").split(","),n=r.length,i,o;for(i=0;i<n;i++)if(o=r[i],_t.Util.isValidSelector(o)||(_t.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),_t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),_t.Util.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(x_,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,r={},n){return r.target=r.target||this,n?this._fireAndBubble(e,r):this._fire(e,r),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Pn,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let r;if(e)return r=new _t.Transform,this._eachAncestorReverse(function(n){const i=n.transformsEnabled();i==="all"?r.multiply(n.getTransform()):i==="position"&&r.translate(n.x()-n.offsetX(),n.y()-n.offsetY())},e),r;{r=this._cache.get(Pn)||new _t.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(r):r.reset();const n=this.transformsEnabled();if(n==="all")r.multiply(this.getTransform());else if(n==="position"){const i=this.attrs.x||0,o=this.attrs.y||0,s=this.attrs.offsetX||0,a=this.attrs.offsetY||0;r.translate(i-s,o-a)}return r.dirty=!1,r}}getAbsoluteScale(e){let r=this;for(;r;)r._isUnderCache&&(e=r),r=r.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(ai,this._getTransform)}_getTransform(){var e,r;const n=this._cache.get(ai)||new _t.Transform;n.reset();const i=this.x(),o=this.y(),s=ri.Konva.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(r=this.attrs.scaleY)!==null&&r!==void 0?r:1,c=this.attrs.skewX||0,d=this.attrs.skewY||0,u=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return(i!==0||o!==0)&&n.translate(i,o),s!==0&&n.rotate(s),(c!==0||d!==0)&&n.skew(c,d),(a!==1||l!==1)&&n.scale(a,l),(u!==0||f!==0)&&n.translate(-1*u,-1*f),n.dirty=!1,n}clone(e){let r=_t.Util.cloneObject(this.attrs),n,i,o,s,a;for(n in e)r[n]=e[n];const l=new this.constructor(r);for(n in this.eventListeners)for(i=this.eventListeners[n],o=i.length,s=0;s<o;s++)a=i[s],a.name.indexOf(RF)<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(a));return l}_toKonvaCanvas(e){e=e||{};const r=this.getClientRect(),n=this.getStage(),i=e.x!==void 0?e.x:Math.floor(r.x),o=e.y!==void 0?e.y:Math.floor(r.y),s=e.pixelRatio||1,a=new Ms.SceneCanvas({width:e.width||Math.ceil(r.width)||(n?n.width():0),height:e.height||Math.ceil(r.height)||(n?n.height():0),pixelRatio:s}),l=a.getContext(),c=new Ms.SceneCanvas({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(o),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||o)&&l.translate(-1*i,-1*o),this.drawScene(a,void 0,c),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const r=e.mimeType||null,n=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(r,n);return e.callback&&e.callback(i),i}toImage(e){return new Promise((r,n)=>{try{const i=e?.callback;i&&delete e.callback,_t.Util._urlToImage(this.toDataURL(e),function(o){r(o),i?.(o)})}catch(i){n(i)}})}toBlob(e){return new Promise((r,n)=>{try{const i=e?.callback;i&&delete e.callback,this.toCanvas(e).toBlob(o=>{r(o),i?.(o)},e?.mimeType,e?.quality)}catch(i){n(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():ri.Konva.dragDistance}_off(e,r,n){let i=this.eventListeners[e],o,s,a;for(o=0;o<i.length;o++)if(s=i[o].name,a=i[o].handler,(s!=="konva"||r==="konva")&&(!r||s===r)&&(!n||n===a)){if(i.splice(o,1),i.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,r,n){this._fire(e+AF,{oldVal:r,newVal:n})}addName(e){if(!this.hasName(e)){const r=this.name(),n=r?r+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const r=this.name();return r?(r||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const r=(this.name()||"").split(/\s/g),n=r.indexOf(e);return n!==-1&&(r.splice(n,1),this.name(r.join(" "))),this}setAttr(e,r){const n=this[k_+_t.Util._capitalize(e)];return _t.Util._isFunction(n)?n.call(this,r):this._setAttr(e,r),this}_requestDraw(){if(ri.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,r){const n=this.attrs[e];n===r&&!_t.Util.isObject(r)||(r==null?delete this.attrs[e]:this.attrs[e]=r,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,r),this._requestDraw())}_setComponentAttr(e,r,n){let i;n!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][r]=n,this._fireChangeEvent(e,i,n))}_fireAndBubble(e,r,n){if(r&&this.nodeType===S_&&(r.target=this),!((e===y_||e===w_)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||this.nodeType==="Stage"&&!n))){this._fire(e,r);const o=(e===y_||e===w_)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(r&&!r.cancelBubble||!r)&&this.parent&&this.parent.isListening()&&!o&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,r,n):this._fireAndBubble.call(this.parent,e,r))}}_getProtoListeners(e){var r,n,i;const o=(r=this._cache.get(Ja))!==null&&r!==void 0?r:{};let s=o?.[e];if(s===void 0){s=[];let a=Object.getPrototypeOf(this);for(;a;){const l=(i=(n=a.eventListeners)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:[];s.push(...l),a=Object.getPrototypeOf(a)}o[e]=s,this._cache.set(Ja,o)}return s}_fire(e,r){r=r||{},r.currentTarget=this,r.type=e;const n=this._getProtoListeners(e);if(n)for(var i=0;i<n.length;i++)n[i].handler.call(this,r);const o=this.eventListeners[e];if(o)for(var i=0;i<o.length;i++)o[i].handler.call(this,r)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const r=e?e.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition();if(!n)return;const o=n._getPointerById(r)||n._changedPointerPositions[0]||i;Mr.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-i.x,y:o.y-i.y},dragStatus:"ready",pointerId:r})}startDrag(e,r=!0){Mr.DD._dragElements.has(this._id)||this._createDragElement(e);const n=Mr.DD._dragElements.get(this._id);n.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},r)}_setDragPosition(e,r){const n=this.getStage()._getPointerById(r.pointerId);if(!n)return;let i={x:n.x-r.offset.x,y:n.y-r.offset.y};const o=this.dragBoundFunc();if(o!==void 0){const s=o.call(this,i,e);s?i=s:_t.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const r=Mr.DD._dragElements.get(this._id);r&&(r.dragStatus="stopped"),Mr.DD._endDragBefore(e),Mr.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Mr.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||ri.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;Mr.DD._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const r=Mr.DD._dragElements.get(this._id),n=r&&r.dragStatus==="dragging",i=r&&r.dragStatus==="ready";n?this.stopDrag():i&&Mr.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const r=this.getStage();if(!r)return!1;const n={x:-e.x,y:-e.y,width:r.width()+2*e.x,height:r.height()+2*e.y};return _t.Util.haveIntersection(n,this.getClientRect())}static create(e,r){return _t.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,r)}static _createNode(e,r){let n=tv.prototype.getClassName.call(e),i=e.children,o,s,a;r&&(e.attrs.container=r),ri.Konva[n]||(_t.Util.warn('Can not find a node with class name "'+n+'". Fallback to "Shape".'),n="Shape");const l=ri.Konva[n];if(o=new l(e.attrs),i)for(s=i.length,a=0;a<s;a++)o.add(tv._createNode(i[a]));return o}};Yt.Node=ot;ot.prototype.nodeType="Node";ot.prototype._attrsAffectingSize=[];ot.prototype.eventListeners={};ot.prototype.on.call(ot.prototype,$F,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(ai),this._clearSelfAndDescendantCache(Pn)});ot.prototype.on.call(ot.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(ev)});ot.prototype.on.call(ot.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Qm)});ot.prototype.on.call(ot.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(bl)});const Ht=Sa.Factory.addGetterSetter;Ht(ot,"zIndex");Ht(ot,"absolutePosition");Ht(ot,"position");Ht(ot,"x",0,(0,nr.getNumberValidator)());Ht(ot,"y",0,(0,nr.getNumberValidator)());Ht(ot,"globalCompositeOperation","source-over",(0,nr.getStringValidator)());Ht(ot,"opacity",1,(0,nr.getNumberValidator)());Ht(ot,"name","",(0,nr.getStringValidator)());Ht(ot,"id","",(0,nr.getStringValidator)());Ht(ot,"rotation",0,(0,nr.getNumberValidator)());Sa.Factory.addComponentsGetterSetter(ot,"scale",["x","y"]);Ht(ot,"scaleX",1,(0,nr.getNumberValidator)());Ht(ot,"scaleY",1,(0,nr.getNumberValidator)());Sa.Factory.addComponentsGetterSetter(ot,"skew",["x","y"]);Ht(ot,"skewX",0,(0,nr.getNumberValidator)());Ht(ot,"skewY",0,(0,nr.getNumberValidator)());Sa.Factory.addComponentsGetterSetter(ot,"offset",["x","y"]);Ht(ot,"offsetX",0,(0,nr.getNumberValidator)());Ht(ot,"offsetY",0,(0,nr.getNumberValidator)());Ht(ot,"dragDistance",void 0,(0,nr.getNumberValidator)());Ht(ot,"width",0,(0,nr.getNumberValidator)());Ht(ot,"height",0,(0,nr.getNumberValidator)());Ht(ot,"listening",!0,(0,nr.getBooleanValidator)());Ht(ot,"preventDefault",!0,(0,nr.getBooleanValidator)());Ht(ot,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Ht(ot,"visible",!0,(0,nr.getBooleanValidator)());Ht(ot,"transformsEnabled","all",(0,nr.getStringValidator)());Ht(ot,"size");Ht(ot,"dragBoundFunc");Ht(ot,"draggable",!1,(0,nr.getBooleanValidator)());Sa.Factory.backCompat(ot,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var oo={};Object.defineProperty(oo,"__esModule",{value:!0});oo.Container=void 0;const _s=pt,uu=Yt,Ic=tt;class so extends uu.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const r=this.children||[],n=[];return r.forEach(function(i){e(i)&&n.push(i)}),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let n=0;n<e.length;n++)this.add(e[n]);return this}const r=e[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const r=this._generalFind(e,!0);return r.length>0?r[0]:void 0}_generalFind(e,r){const n=[];return this._descendants(i=>{const o=i._isMatch(e);return o&&n.push(i),!!(o&&r)}),n}_descendants(e){let r=!1;const n=this.getChildren();for(const i of n){if(r=e(i),r)return!0;if(i.hasChildren()&&(r=i._descendants(e),r))return!0}return!1}toObject(){const e=uu.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(r=>{e.children.push(r.toObject())}),e}isAncestorOf(e){let r=e.getParent();for(;r;){if(r._id===this._id)return!0;r=r.getParent()}return!1}clone(e){const r=uu.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(n){r.add(n.clone())}),r}getAllIntersections(e){const r=[];return this.find("Shape").forEach(n=>{n.isVisible()&&n.intersects(e)&&r.push(n)}),r}_clearSelfAndDescendantCache(e){var r;super._clearSelfAndDescendantCache(e),!this.isCached()&&((r=this.children)===null||r===void 0||r.forEach(function(n){n._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(r,n){r.index=n}),this._requestDraw()}drawScene(e,r,n){const i=this.getLayer(),o=e||i&&i.getCanvas(),s=o&&o.getContext(),a=this._getCanvasCache(),l=a&&a.scene,c=o&&o.isCache;if(!this.isVisible()&&!c)return this;if(l){s.save();const d=this.getAbsoluteTransform(r).getMatrix();s.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",o,r,n);return this}drawHit(e,r){if(!this.shouldDrawHit(r))return this;const n=this.getLayer(),i=e||n&&n.hitCanvas,o=i&&i.getContext(),s=this._getCanvasCache();if(s&&s.hit){o.save();const l=this.getAbsoluteTransform(r).getMatrix();o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",i,r);return this}_drawChildren(e,r,n,i){var o;const s=r&&r.getContext(),a=this.clipWidth(),l=this.clipHeight(),c=this.clipFunc(),d=typeof a=="number"&&typeof l=="number"||c,u=n===this;if(d){s.save();const h=this.getAbsoluteTransform(n);let g=h.getMatrix();s.transform(g[0],g[1],g[2],g[3],g[4],g[5]),s.beginPath();let p;if(c)p=c.call(this,s,this);else{const m=this.clipX(),b=this.clipY();s.rect(m||0,b||0,a,l)}s.clip.apply(s,p),g=h.copy().invert().getMatrix(),s.transform(g[0],g[1],g[2],g[3],g[4],g[5])}const f=!u&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";f&&(s.save(),s._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(h){h[e](r,n,i)}),f&&s.restore(),d&&s.restore()}getClientRect(e={}){var r;const n=e.skipTransform,i=e.relativeTo;let o,s,a,l,c={x:1/0,y:1/0,width:0,height:0};const d=this;(r=this.children)===null||r===void 0||r.forEach(function(h){if(!h.visible())return;const g=h.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});g.width===0&&g.height===0||(o===void 0?(o=g.x,s=g.y,a=g.x+g.width,l=g.y+g.height):(o=Math.min(o,g.x),s=Math.min(s,g.y),a=Math.max(a,g.x+g.width),l=Math.max(l,g.y+g.height)))});const u=this.find("Shape");let f=!1;for(let h=0;h<u.length;h++)if(u[h]._isVisible(this)){f=!0;break}return f&&o!==void 0?c={x:o,y:s,width:a-o,height:l-s}:c={x:0,y:0,width:0,height:0},n?c:this._transformedRect(c,i)}}oo.Container=so;_s.Factory.addComponentsGetterSetter(so,"clip",["x","y","width","height"]);_s.Factory.addGetterSetter(so,"clipX",void 0,(0,Ic.getNumberValidator)());_s.Factory.addGetterSetter(so,"clipY",void 0,(0,Ic.getNumberValidator)());_s.Factory.addGetterSetter(so,"clipWidth",void 0,(0,Ic.getNumberValidator)());_s.Factory.addGetterSetter(so,"clipHeight",void 0,(0,Ic.getNumberValidator)());_s.Factory.addGetterSetter(so,"clipFunc");var gT={},Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.getCapturedShape=BF;Fi.createEvent=nb;Fi.hasPointerCapture=MF;Fi.setPointerCapture=NF;Fi.releaseCapture=mT;const OF=ft,da=new Map,pT=OF.Konva._global.PointerEvent!==void 0;function BF(t){return da.get(t)}function nb(t){return{evt:t,pointerId:t.pointerId}}function MF(t,e){return da.get(t)===e}function NF(t,e){mT(t),e.getStage()&&(da.set(t,e),pT&&e._fire("gotpointercapture",nb(new PointerEvent("gotpointercapture"))))}function mT(t,e){const r=da.get(t);if(!r)return;const n=r.getStage();n&&n.content,da.delete(t),pT&&r._fire("lostpointercapture",nb(new PointerEvent("lostpointercapture")))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Zt,r=pt,n=oo,i=ft,o=cn,s=Lc,a=ft,l=Fi,c="Stage",d="string",u="px",f="mouseout",h="mouseleave",g="mouseover",p="mouseenter",m="mousemove",b="mousedown",k="mouseup",_="pointermove",v="pointerdown",x="pointerup",S="pointercancel",w="lostpointercapture",T="pointerout",L="pointerleave",E="pointerover",C="pointerenter",F="contextmenu",$="touchstart",O="touchend",M="touchmove",I="touchcancel",W="wheel",q=5,G=[[p,"_pointerenter"],[b,"_pointerdown"],[m,"_pointermove"],[k,"_pointerup"],[h,"_pointerleave"],[$,"_pointerdown"],[M,"_pointermove"],[O,"_pointerup"],[I,"_pointercancel"],[g,"_pointerover"],[W,"_wheel"],[F,"_contextmenu"],[v,"_pointerdown"],[_,"_pointermove"],[x,"_pointerup"],[S,"_pointercancel"],[w,"_lostpointercapture"]],H={mouse:{[T]:f,[L]:h,[E]:g,[C]:p,[_]:m,[v]:b,[x]:k,[S]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[T]:"touchout",[L]:"touchleave",[E]:"touchover",[C]:"touchenter",[_]:M,[v]:$,[x]:O,[S]:I,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[T]:T,[L]:L,[E]:E,[C]:C,[_]:_,[v]:v,[x]:x,[S]:S,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},J=de=>de.indexOf("pointer")>=0?"pointer":de.indexOf("touch")>=0?"touch":"mouse",Z=de=>{const B=J(de);if(B==="pointer")return i.Konva.pointerEventsEnabled&&H.pointer;if(B==="touch")return H.touch;if(B==="mouse")return H.mouse};function te(de={}){return(de.clipFunc||de.clipWidth||de.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),de}const ee="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class le extends n.Container{constructor(B){super(te(B)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{te(this.attrs)}),this._checkVisibility()}_validateAdd(B){const N=B.getType()==="Layer",ie=B.getType()==="FastLayer";N||ie||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const B=this.visible()?"":"none";this.content.style.display=B}setContainer(B){if(typeof B===d){if(B.charAt(0)==="."){const ie=B.slice(1);B=document.getElementsByClassName(ie)[0]}else{var N;B.charAt(0)!=="#"?N=B:N=B.slice(1),B=document.getElementById(N)}if(!B)throw"Can not find container in document with id "+N}return this._setAttr("container",B),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),B.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const B=this.children,N=B.length;for(let ie=0;ie<N;ie++)B[ie].clear();return this}clone(B){return B||(B={}),B.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,B)}destroy(){super.destroy();const B=this.content;B&&e.Util._isInDocument(B)&&this.container().removeChild(B);const N=t.stages.indexOf(this);return N>-1&&t.stages.splice(N,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const B=this._pointerPositions[0]||this._changedPointerPositions[0];return B?{x:B.x,y:B.y}:(e.Util.warn(ee),null)}_getPointerById(B){return this._pointerPositions.find(N=>N.id===B)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(B){B=B||{},B.x=B.x||0,B.y=B.y||0,B.width=B.width||this.width(),B.height=B.height||this.height();const N=new o.SceneCanvas({width:B.width,height:B.height,pixelRatio:B.pixelRatio||1}),ie=N.getContext()._context,ce=this.children;return(B.x||B.y)&&ie.translate(-1*B.x,-1*B.y),ce.forEach(function(ke){if(!ke.isVisible())return;const xe=ke._toKonvaCanvas(B);ie.drawImage(xe._canvas,B.x,B.y,xe.getWidth()/xe.getPixelRatio(),xe.getHeight()/xe.getPixelRatio())}),N}getIntersection(B){if(!B)return null;const N=this.children,ie=N.length,ce=ie-1;for(let ke=ce;ke>=0;ke--){const xe=N[ke].getIntersection(B);if(xe)return xe}return null}_resizeDOM(){const B=this.width(),N=this.height();this.content&&(this.content.style.width=B+u,this.content.style.height=N+u),this.bufferCanvas.setSize(B,N),this.bufferHitCanvas.setSize(B,N),this.children.forEach(ie=>{ie.setSize({width:B,height:N}),ie.draw()})}add(B,...N){if(arguments.length>1){for(let ce=0;ce<arguments.length;ce++)this.add(arguments[ce]);return this}super.add(B);const ie=this.children.length;return ie>q&&e.Util.warn("The stage has "+ie+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),B.setSize({width:this.width(),height:this.height()}),B.draw(),i.Konva.isBrowser&&this.content.appendChild(B.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(B){return l.hasPointerCapture(B,this)}setPointerCapture(B){l.setPointerCapture(B,this)}releaseCapture(B){l.releaseCapture(B,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&G.forEach(([B,N])=>{this.content.addEventListener(B,ie=>{this[N](ie)},{passive:!1})})}_pointerenter(B){this.setPointersPositions(B);const N=Z(B.type);N&&this._fire(N.pointerenter,{evt:B,target:this,currentTarget:this})}_pointerover(B){this.setPointersPositions(B);const N=Z(B.type);N&&this._fire(N.pointerover,{evt:B,target:this,currentTarget:this})}_getTargetShape(B){let N=this[B+"targetShape"];return N&&!N.getStage()&&(N=null),N}_pointerleave(B){const N=Z(B.type),ie=J(B.type);if(!N)return;this.setPointersPositions(B);const ce=this._getTargetShape(ie),ke=!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled;ce&&ke?(ce._fireAndBubble(N.pointerout,{evt:B}),ce._fireAndBubble(N.pointerleave,{evt:B}),this._fire(N.pointerleave,{evt:B,target:this,currentTarget:this}),this[ie+"targetShape"]=null):ke&&(this._fire(N.pointerleave,{evt:B,target:this,currentTarget:this}),this._fire(N.pointerout,{evt:B,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(B){const N=Z(B.type),ie=J(B.type);if(!N)return;this.setPointersPositions(B);let ce=!1;this._changedPointerPositions.forEach(ke=>{const xe=this.getIntersection(ke);if(s.DD.justDragged=!1,i.Konva["_"+ie+"ListenClick"]=!0,!xe||!xe.isListening()){this[ie+"ClickStartShape"]=void 0;return}i.Konva.capturePointerEventsEnabled&&xe.setPointerCapture(ke.id),this[ie+"ClickStartShape"]=xe,xe._fireAndBubble(N.pointerdown,{evt:B,pointerId:ke.id}),ce=!0;const Ae=B.type.indexOf("touch")>=0;xe.preventDefault()&&B.cancelable&&Ae&&B.preventDefault()}),ce||this._fire(N.pointerdown,{evt:B,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(B){const N=Z(B.type),ie=J(B.type);if(!N||(i.Konva.isDragging()&&s.DD.node.preventDefault()&&B.cancelable&&B.preventDefault(),this.setPointersPositions(B),!(!(i.Konva.isDragging()||i.Konva.isTransforming())||i.Konva.hitOnDragEnabled)))return;const ke={};let xe=!1;const Ae=this._getTargetShape(ie);this._changedPointerPositions.forEach(Ne=>{const ve=l.getCapturedShape(Ne.id)||this.getIntersection(Ne),qe=Ne.id,Re={evt:B,pointerId:qe},et=Ae!==ve;if(et&&Ae&&(Ae._fireAndBubble(N.pointerout,{...Re},ve),Ae._fireAndBubble(N.pointerleave,{...Re},ve)),ve){if(ke[ve._id])return;ke[ve._id]=!0}ve&&ve.isListening()?(xe=!0,et&&(ve._fireAndBubble(N.pointerover,{...Re},Ae),ve._fireAndBubble(N.pointerenter,{...Re},Ae),this[ie+"targetShape"]=ve),ve._fireAndBubble(N.pointermove,{...Re})):Ae&&(this._fire(N.pointerover,{evt:B,target:this,currentTarget:this,pointerId:qe}),this[ie+"targetShape"]=null)}),xe||this._fire(N.pointermove,{evt:B,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(B){const N=Z(B.type),ie=J(B.type);if(!N)return;this.setPointersPositions(B);const ce=this[ie+"ClickStartShape"],ke=this[ie+"ClickEndShape"],xe={};let Ae=!1;this._changedPointerPositions.forEach(Ne=>{const ve=l.getCapturedShape(Ne.id)||this.getIntersection(Ne);if(ve){if(ve.releaseCapture(Ne.id),xe[ve._id])return;xe[ve._id]=!0}const qe=Ne.id,Re={evt:B,pointerId:qe};let et=!1;i.Konva["_"+ie+"InDblClickWindow"]?(et=!0,clearTimeout(this[ie+"DblTimeout"])):s.DD.justDragged||(i.Konva["_"+ie+"InDblClickWindow"]=!0,clearTimeout(this[ie+"DblTimeout"])),this[ie+"DblTimeout"]=setTimeout(function(){i.Konva["_"+ie+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),ve&&ve.isListening()?(Ae=!0,this[ie+"ClickEndShape"]=ve,ve._fireAndBubble(N.pointerup,{...Re}),i.Konva["_"+ie+"ListenClick"]&&ce&&ce===ve&&(ve._fireAndBubble(N.pointerclick,{...Re}),et&&ke&&ke===ve&&ve._fireAndBubble(N.pointerdblclick,{...Re}))):(this[ie+"ClickEndShape"]=null,i.Konva["_"+ie+"ListenClick"]&&this._fire(N.pointerclick,{evt:B,target:this,currentTarget:this,pointerId:qe}),et&&this._fire(N.pointerdblclick,{evt:B,target:this,currentTarget:this,pointerId:qe}))}),Ae||this._fire(N.pointerup,{evt:B,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+ie+"ListenClick"]=!1,B.cancelable&&ie!=="touch"&&ie!=="pointer"&&B.preventDefault()}_contextmenu(B){this.setPointersPositions(B);const N=this.getIntersection(this.getPointerPosition());N&&N.isListening()?N._fireAndBubble(F,{evt:B}):this._fire(F,{evt:B,target:this,currentTarget:this})}_wheel(B){this.setPointersPositions(B);const N=this.getIntersection(this.getPointerPosition());N&&N.isListening()?N._fireAndBubble(W,{evt:B}):this._fire(W,{evt:B,target:this,currentTarget:this})}_pointercancel(B){this.setPointersPositions(B);const N=l.getCapturedShape(B.pointerId)||this.getIntersection(this.getPointerPosition());N&&N._fireAndBubble(x,l.createEvent(B)),l.releaseCapture(B.pointerId)}_lostpointercapture(B){l.releaseCapture(B.pointerId)}setPointersPositions(B){const N=this._getContentPosition();let ie=null,ce=null;B=B||window.event,B.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(B.touches,ke=>{this._pointerPositions.push({id:ke.identifier,x:(ke.clientX-N.left)/N.scaleX,y:(ke.clientY-N.top)/N.scaleY})}),Array.prototype.forEach.call(B.changedTouches||B.touches,ke=>{this._changedPointerPositions.push({id:ke.identifier,x:(ke.clientX-N.left)/N.scaleX,y:(ke.clientY-N.top)/N.scaleY})})):(ie=(B.clientX-N.left)/N.scaleX,ce=(B.clientY-N.top)/N.scaleY,this.pointerPos={x:ie,y:ce},this._pointerPositions=[{x:ie,y:ce,id:e.Util._getFirstPointerId(B)}],this._changedPointerPositions=[{x:ie,y:ce,id:e.Util._getFirstPointerId(B)}])}_setPointerPosition(B){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(B)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const B=this.content.getBoundingClientRect();return{top:B.top,left:B.left,scaleX:B.width/this.content.clientWidth||1,scaleY:B.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new o.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new o.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!i.Konva.isBrowser)return;const B=this.container();if(!B)throw"Stage has no container. A container is required.";B.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),B.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(B){B.batchDraw()}),this}}t.Stage=le,le.prototype.nodeType=c,(0,a._registerNode)(le),r.Factory.addGetterSetter(le,"container"),i.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(de=>{de.batchDraw()})})})(gT);var xa={},sr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=ft,r=Zt,n=pt,i=Yt,o=tt,s=ft,a=Fi,l="hasShadow",c="shadowRGBA",d="patternImage",u="linearGradient",f="radialGradient";let h;function g(){return h||(h=r.Util.createCanvasElement().getContext("2d"),h)}t.shapes={};function p(L){const E=this.attrs.fillRule;E?L.fill(E):L.fill()}function m(L){L.stroke()}function b(L){const E=this.attrs.fillRule;E?L.fill(E):L.fill()}function k(L){L.stroke()}function _(){this._clearCache(l)}function v(){this._clearCache(c)}function x(){this._clearCache(d)}function S(){this._clearCache(u)}function w(){this._clearCache(f)}class T extends i.Node{constructor(E){super(E);let C;for(;C=r.Util.getRandomColor(),!(C&&!(C in t.shapes)););this.colorKey=C,t.shapes[C]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(d,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const C=g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(C&&C.setTransform){const F=new r.Transform;F.translate(this.fillPatternX(),this.fillPatternY()),F.rotate(e.Konva.getAngle(this.fillPatternRotation())),F.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),F.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const $=F.getMatrix(),O=typeof DOMMatrix>"u"?{a:$[0],b:$[1],c:$[2],d:$[3],e:$[4],f:$[5]}:new DOMMatrix($);C.setTransform(O)}return C}}_getLinearGradient(){return this._getCache(u,this.__getLinearGradient)}__getLinearGradient(){const E=this.fillLinearGradientColorStops();if(E){const C=g(),F=this.fillLinearGradientStartPoint(),$=this.fillLinearGradientEndPoint(),O=C.createLinearGradient(F.x,F.y,$.x,$.y);for(let M=0;M<E.length;M+=2)O.addColorStop(E[M],E[M+1]);return O}}_getRadialGradient(){return this._getCache(f,this.__getRadialGradient)}__getRadialGradient(){const E=this.fillRadialGradientColorStops();if(E){const C=g(),F=this.fillRadialGradientStartPoint(),$=this.fillRadialGradientEndPoint(),O=C.createRadialGradient(F.x,F.y,this.fillRadialGradientStartRadius(),$.x,$.y,this.fillRadialGradientEndRadius());for(let M=0;M<E.length;M+=2)O.addColorStop(E[M],E[M+1]);return O}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const E=r.Util.colorToRGBA(this.shadowColor());if(E)return"rgba("+E.r+","+E.g+","+E.b+","+E.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const E=this.hitStrokeWidth();return E==="auto"?this.hasStroke():this.strokeEnabled()&&!!E}intersects(E){const C=this.getStage();if(!C)return!1;const F=C.bufferHitCanvas;return F.getContext().clear(),this.drawHit(F,void 0,!0),F.context.getImageData(Math.round(E.x),Math.round(E.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(E){var C;if(!((C=this.attrs.perfectDrawEnabled)!==null&&C!==void 0?C:!0))return!1;const $=E||this.hasFill(),O=this.hasStroke(),M=this.getAbsoluteOpacity()!==1;if($&&O&&M)return!0;const I=this.hasShadow(),W=this.shadowForStrokeEnabled();return!!($&&O&&I&&W)}setStrokeHitEnabled(E){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),E?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const E=this.size();return{x:this._centroid?-E.width/2:0,y:this._centroid?-E.height/2:0,width:E.width,height:E.height}}getClientRect(E={}){let C=!1,F=this.getParent();for(;F;){if(F.isCached()){C=!0;break}F=F.getParent()}const $=E.skipTransform,O=E.relativeTo||C&&this.getStage()||void 0,M=this.getSelfRect(),W=!E.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,q=M.width+W,G=M.height+W,H=!E.skipShadow&&this.hasShadow(),J=H?this.shadowOffsetX():0,Z=H?this.shadowOffsetY():0,te=q+Math.abs(J),ee=G+Math.abs(Z),le=H&&this.shadowBlur()||0,de=te+le*2,B=ee+le*2,N={width:de,height:B,x:-(W/2+le)+Math.min(J,0)+M.x,y:-(W/2+le)+Math.min(Z,0)+M.y};return $?N:this._transformedRect(N,O)}drawScene(E,C,F){const $=this.getLayer();let O=E||$.getCanvas(),M=O.getContext(),I=this._getCanvasCache(),W=this.getSceneFunc(),q=this.hasShadow(),G,H;const J=O.isCache,Z=C===this;if(!this.isVisible()&&!Z)return this;if(I){M.save();const ee=this.getAbsoluteTransform(C).getMatrix();return M.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),this._drawCachedSceneCanvas(M),M.restore(),this}if(!W)return this;if(M.save(),this._useBufferCanvas()&&!J){G=this.getStage();const ee=F||G.bufferCanvas;H=ee.getContext(),H.clear(),H.save(),H._applyLineJoin(this);var te=this.getAbsoluteTransform(C).getMatrix();H.transform(te[0],te[1],te[2],te[3],te[4],te[5]),W.call(this,H,this),H.restore();const le=ee.pixelRatio;q&&M._applyShadow(this),M._applyOpacity(this),M._applyGlobalCompositeOperation(this),M.drawImage(ee._canvas,0,0,ee.width/le,ee.height/le)}else{if(M._applyLineJoin(this),!Z){var te=this.getAbsoluteTransform(C).getMatrix();M.transform(te[0],te[1],te[2],te[3],te[4],te[5]),M._applyOpacity(this),M._applyGlobalCompositeOperation(this)}q&&M._applyShadow(this),W.call(this,M,this)}return M.restore(),this}drawHit(E,C,F=!1){if(!this.shouldDrawHit(C,F))return this;const $=this.getLayer(),O=E||$.hitCanvas,M=O&&O.getContext(),I=this.hitFunc()||this.sceneFunc(),W=this._getCanvasCache(),q=W&&W.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),q){M.save();const H=this.getAbsoluteTransform(C).getMatrix();return M.transform(H[0],H[1],H[2],H[3],H[4],H[5]),this._drawCachedHitCanvas(M),M.restore(),this}if(!I)return this;if(M.save(),M._applyLineJoin(this),!(this===C)){const H=this.getAbsoluteTransform(C).getMatrix();M.transform(H[0],H[1],H[2],H[3],H[4],H[5])}return I.call(this,M,this),M.restore(),this}drawHitFromCache(E=0){const C=this._getCanvasCache(),F=this._getCachedSceneCanvas(),$=C.hit,O=$.getContext(),M=$.getWidth(),I=$.getHeight();O.clear(),O.drawImage(F._canvas,0,0,M,I);try{const W=O.getImageData(0,0,M,I),q=W.data,G=q.length,H=r.Util._hexToRgb(this.colorKey);for(let J=0;J<G;J+=4)q[J+3]>E?(q[J]=H.r,q[J+1]=H.g,q[J+2]=H.b,q[J+3]=255):q[J+3]=0;O.putImageData(W,0,0)}catch(W){r.Util.error("Unable to draw hit graph from cached scene canvas. "+W.message)}return this}hasPointerCapture(E){return a.hasPointerCapture(E,this)}setPointerCapture(E){a.setPointerCapture(E,this)}releaseCapture(E){a.releaseCapture(E,this)}}t.Shape=T,T.prototype._fillFunc=p,T.prototype._strokeFunc=m,T.prototype._fillFuncHit=b,T.prototype._strokeFuncHit=k,T.prototype._centroid=!1,T.prototype.nodeType="Shape",(0,s._registerNode)(T),T.prototype.eventListeners={},T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_),T.prototype.on.call(T.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",x),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",S),T.prototype.on.call(T.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",w),n.Factory.addGetterSetter(T,"stroke",void 0,(0,o.getStringOrGradientValidator)()),n.Factory.addGetterSetter(T,"strokeWidth",2,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(T,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(T,"hitStrokeWidth","auto",(0,o.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(T,"strokeHitEnabled",!0,(0,o.getBooleanValidator)()),n.Factory.addGetterSetter(T,"perfectDrawEnabled",!0,(0,o.getBooleanValidator)()),n.Factory.addGetterSetter(T,"shadowForStrokeEnabled",!0,(0,o.getBooleanValidator)()),n.Factory.addGetterSetter(T,"lineJoin"),n.Factory.addGetterSetter(T,"lineCap"),n.Factory.addGetterSetter(T,"sceneFunc"),n.Factory.addGetterSetter(T,"hitFunc"),n.Factory.addGetterSetter(T,"dash"),n.Factory.addGetterSetter(T,"dashOffset",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(T,"shadowColor",void 0,(0,o.getStringValidator)()),n.Factory.addGetterSetter(T,"shadowBlur",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(T,"shadowOpacity",1,(0,o.getNumberValidator)()),n.Factory.addComponentsGetterSetter(T,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(T,"shadowOffsetX",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(T,"shadowOffsetY",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(T,"fillPatternImage"),n.Factory.addGetterSetter(T,"fill",void 0,(0,o.getStringOrGradientValidator)()),n.Factory.addGetterSetter(T,"fillPatternX",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(T,"fillPatternY",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(T,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(T,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(T,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(T,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(T,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(T,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(T,"fillEnabled",!0),n.Factory.addGetterSetter(T,"strokeEnabled",!0),n.Factory.addGetterSetter(T,"shadowEnabled",!0),n.Factory.addGetterSetter(T,"dashEnabled",!0),n.Factory.addGetterSetter(T,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(T,"fillPriority","color"),n.Factory.addComponentsGetterSetter(T,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(T,"fillPatternOffsetX",0,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(T,"fillPatternOffsetY",0,(0,o.getNumberValidator)()),n.Factory.addComponentsGetterSetter(T,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(T,"fillPatternScaleX",1,(0,o.getNumberValidator)()),n.Factory.addGetterSetter(T,"fillPatternScaleY",1,(0,o.getNumberValidator)()),n.Factory.addComponentsGetterSetter(T,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(T,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(T,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(T,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(T,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(T,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(T,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(T,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(T,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(T,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(T,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(T,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(T,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(T,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(T,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(T,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(T,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(T,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(T,"fillPatternRotation",0),n.Factory.addGetterSetter(T,"fillRule",void 0,(0,o.getStringValidator)()),n.Factory.backCompat(T,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(sr);Object.defineProperty(xa,"__esModule",{value:!0});xa.Layer=void 0;const Fn=Zt,hu=oo,To=Yt,ib=pt,T_=cn,GF=tt,UF=sr,WF=ft,qF="#",HF="beforeDraw",VF="draw",vT=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],jF=vT.length;class ys extends hu.Container{constructor(e){super(e),this.canvas=new T_.SceneCanvas,this.hitCanvas=new T_.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const r=this.getStage();return r&&r.content&&(r.content.removeChild(this.getNativeCanvasElement()),e<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[e+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){To.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!To.Node.prototype.moveUp.call(this))return!1;const r=this.getStage();return!r||!r.content?!1:(r.content.removeChild(this.getNativeCanvasElement()),this.index<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[this.index+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(To.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(To.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return To.Node.prototype.remove.call(this),e&&e.parentNode&&Fn.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:r}){return this.canvas.setSize(e,r),this.hitCanvas.setSize(e,r),this._setSmoothEnabled(),this}_validateAdd(e){const r=e.getType();r!=="Group"&&r!=="Shape"&&Fn.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),To.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Fn.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Fn.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Fn.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let r=1,n=!1;for(;;){for(let i=0;i<jF;i++){const o=vT[i],s=this._getIntersection({x:e.x+o.x*r,y:e.y+o.y*r}),a=s.shape;if(a)return a;if(n=!!s.antialiased,!s.antialiased)break}if(n)r+=1;else return null}}_getIntersection(e){const r=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*r),Math.round(e.y*r),1,1).data,i=n[3];if(i===255){const o=Fn.Util._rgbToHex(n[0],n[1],n[2]),s=UF.shapes[qF+o];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,r){const n=this.getLayer(),i=e||n&&n.getCanvas();return this._fire(HF,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),hu.Container.prototype.drawScene.call(this,i,r),this._fire(VF,{node:this}),this}drawHit(e,r){const n=this.getLayer(),i=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),hu.Container.prototype.drawHit.call(this,i,r),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Fn.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Fn.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Fn.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}xa.Layer=ys;ys.prototype.nodeType="Layer";(0,WF._registerNode)(ys);ib.Factory.addGetterSetter(ys,"imageSmoothingEnabled",!0);ib.Factory.addGetterSetter(ys,"clearBeforeDraw",!0);ib.Factory.addGetterSetter(ys,"hitGraphEnabled",!0,(0,GF.getBooleanValidator)());var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.FastLayer=void 0;const zF=Zt,KF=xa,XF=ft;class ob extends KF.Layer{constructor(e){super(e),this.listening(!1),zF.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Ac.FastLayer=ob;ob.prototype.nodeType="FastLayer";(0,XF._registerNode)(ob);var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.Group=void 0;const YF=Zt,JF=oo,ZF=ft;class sb extends JF.Container{_validateAdd(e){const r=e.getType();r!=="Group"&&r!=="Shape"&&YF.Util.throw("You may only add groups and shapes to groups.")}}ws.Group=sb;sb.prototype.nodeType="Group";(0,ZF._registerNode)(sb);var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.Animation=void 0;const fu=ft,E_=Zt,gu=function(){return fu.glob.performance&&fu.glob.performance.now?function(){return fu.glob.performance.now()}:function(){return new Date().getTime()}}();class _n{constructor(e,r){this.id=_n.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:gu(),frameRate:0},this.func=e,this.setLayers(r)}setLayers(e){let r=[];return e&&(r=Array.isArray(e)?e:[e]),this.layers=r,this}getLayers(){return this.layers}addLayer(e){const r=this.layers,n=r.length;for(let i=0;i<n;i++)if(r[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const r=_n.animations,n=r.length;for(let i=0;i<n;i++)if(r[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=gu(),_n._addAnimation(this),this}stop(){return _n._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const r=e.id,n=this.animations,i=n.length;for(let o=0;o<i;o++)if(n[o].id===r){this.animations.splice(o,1);break}}static _runFrames(){const e={},r=this.animations;for(let n=0;n<r.length;n++){const i=r[n],o=i.layers,s=i.func;i._updateFrameObject(gu());const a=o.length;let l;if(s?l=s.call(i,i.frame)!==!1:l=!0,!!l)for(let c=0;c<a;c++){const d=o[c];d._id!==void 0&&(e[d._id]=d)}}for(const n in e)e.hasOwnProperty(n)&&e[n].batchDraw()}static _animationLoop(){const e=_n;e.animations.length?(e._runFrames(),E_.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,E_.Util.requestAnimFrame(this._animationLoop))}}ks.Animation=_n;_n.animations=[];_n.animIdCounter=0;_n.animRunning=!1;var bT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Zt,r=ks,n=Yt,i=ft,o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,a=2,l=3,c=["fill","stroke","shadowColor"];let d=0;class u{constructor(g,p,m,b,k,_,v){this.prop=g,this.propFunc=p,this.begin=b,this._pos=b,this.duration=_,this._change=0,this.prevPos=0,this.yoyo=v,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=m,this._change=k-this.begin,this.pause()}fire(g){const p=this[g];p&&p()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=a,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const g=this.getTimer()-this._startTime;this.state===a?this.setTime(g):this.state===l&&this.setTime(this.duration-g)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class f{constructor(g){const p=this,m=g.node,b=m._id,k=g.easing||t.Easings.Linear,_=!!g.yoyo;let v,x;typeof g.duration>"u"?v=.3:g.duration===0?v=.001:v=g.duration,this.node=m,this._id=d++;const S=m.getLayer()||(m instanceof i.Konva.Stage?m.getLayers():null);S||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){p.tween.onEnterFrame()},S),this.tween=new u(x,function(w){p._tweenFunc(w)},k,0,1,v*1e3,_),this._addListeners(),f.attrs[b]||(f.attrs[b]={}),f.attrs[b][this._id]||(f.attrs[b][this._id]={}),f.tweens[b]||(f.tweens[b]={});for(x in g)o[x]===void 0&&this._addAttr(x,g[x]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,p){const m=this.node,b=m._id;let k,_,v,x,S;const w=f.tweens[b][g];w&&delete f.attrs[b][w][g];let T=m.getAttr(g);if(e.Util._isArray(p))if(k=[],_=Math.max(p.length,T.length),g==="points"&&p.length!==T.length&&(p.length>T.length?(x=T,T=e.Util._prepareArrayForTween(T,p,m.closed())):(v=p,p=e.Util._prepareArrayForTween(p,T,m.closed()))),g.indexOf("fill")===0)for(let L=0;L<_;L++)if(L%2===0)k.push(p[L]-T[L]);else{const E=e.Util.colorToRGBA(T[L]);S=e.Util.colorToRGBA(p[L]),T[L]=E,k.push({r:S.r-E.r,g:S.g-E.g,b:S.b-E.b,a:S.a-E.a})}else for(let L=0;L<_;L++)k.push(p[L]-T[L]);else c.indexOf(g)!==-1?(T=e.Util.colorToRGBA(T),S=e.Util.colorToRGBA(p),k={r:S.r-T.r,g:S.g-T.g,b:S.b-T.b,a:S.a-T.a}):k=p-T;f.attrs[b][this._id][g]={start:T,diff:k,end:p,trueEnd:v,trueStart:x},f.tweens[b][g]=this._id}_tweenFunc(g){const p=this.node,m=f.attrs[p._id][this._id];let b,k,_,v,x,S,w,T;for(b in m){if(k=m[b],_=k.start,v=k.diff,T=k.end,e.Util._isArray(_))if(x=[],w=Math.max(_.length,T.length),b.indexOf("fill")===0)for(S=0;S<w;S++)S%2===0?x.push((_[S]||0)+v[S]*g):x.push("rgba("+Math.round(_[S].r+v[S].r*g)+","+Math.round(_[S].g+v[S].g*g)+","+Math.round(_[S].b+v[S].b*g)+","+(_[S].a+v[S].a*g)+")");else for(S=0;S<w;S++)x.push((_[S]||0)+v[S]*g);else c.indexOf(b)!==-1?x="rgba("+Math.round(_.r+v.r*g)+","+Math.round(_.g+v.g*g)+","+Math.round(_.b+v.b*g)+","+(_.a+v.a*g)+")":x=_+v*g;p.setAttr(b,x)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const g=this.node,p=f.attrs[g._id][this._id];p.points&&p.points.trueEnd&&g.setAttr("points",p.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const g=this.node,p=f.attrs[g._id][this._id];p.points&&p.points.trueStart&&g.points(p.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const g=this.node._id,p=this._id,m=f.tweens[g];this.pause();for(const b in m)delete f.tweens[g][b];delete f.attrs[g][p]}}t.Tween=f,f.attrs={},f.tweens={},n.Node.prototype.to=function(h){const g=h.onFinish;h.node=this,h.onFinish=function(){this.destroy(),g&&g()},new f(h).play()},t.Easings={BackEaseIn(h,g,p,m){return p*(h/=m)*h*((1.70158+1)*h-1.70158)+g},BackEaseOut(h,g,p,m){return p*((h=h/m-1)*h*((1.70158+1)*h+1.70158)+1)+g},BackEaseInOut(h,g,p,m){let b=1.70158;return(h/=m/2)<1?p/2*(h*h*(((b*=1.525)+1)*h-b))+g:p/2*((h-=2)*h*(((b*=1.525)+1)*h+b)+2)+g},ElasticEaseIn(h,g,p,m,b,k){let _=0;return h===0?g:(h/=m)===1?g+p:(k||(k=m*.3),!b||b<Math.abs(p)?(b=p,_=k/4):_=k/(2*Math.PI)*Math.asin(p/b),-(b*Math.pow(2,10*(h-=1))*Math.sin((h*m-_)*(2*Math.PI)/k))+g)},ElasticEaseOut(h,g,p,m,b,k){let _=0;return h===0?g:(h/=m)===1?g+p:(k||(k=m*.3),!b||b<Math.abs(p)?(b=p,_=k/4):_=k/(2*Math.PI)*Math.asin(p/b),b*Math.pow(2,-10*h)*Math.sin((h*m-_)*(2*Math.PI)/k)+p+g)},ElasticEaseInOut(h,g,p,m,b,k){let _=0;return h===0?g:(h/=m/2)===2?g+p:(k||(k=m*(.3*1.5)),!b||b<Math.abs(p)?(b=p,_=k/4):_=k/(2*Math.PI)*Math.asin(p/b),h<1?-.5*(b*Math.pow(2,10*(h-=1))*Math.sin((h*m-_)*(2*Math.PI)/k))+g:b*Math.pow(2,-10*(h-=1))*Math.sin((h*m-_)*(2*Math.PI)/k)*.5+p+g)},BounceEaseOut(h,g,p,m){return(h/=m)<1/2.75?p*(7.5625*h*h)+g:h<2/2.75?p*(7.5625*(h-=1.5/2.75)*h+.75)+g:h<2.5/2.75?p*(7.5625*(h-=2.25/2.75)*h+.9375)+g:p*(7.5625*(h-=2.625/2.75)*h+.984375)+g},BounceEaseIn(h,g,p,m){return p-t.Easings.BounceEaseOut(m-h,0,p,m)+g},BounceEaseInOut(h,g,p,m){return h<m/2?t.Easings.BounceEaseIn(h*2,0,p,m)*.5+g:t.Easings.BounceEaseOut(h*2-m,0,p,m)*.5+p*.5+g},EaseIn(h,g,p,m){return p*(h/=m)*h+g},EaseOut(h,g,p,m){return-p*(h/=m)*(h-2)+g},EaseInOut(h,g,p,m){return(h/=m/2)<1?p/2*h*h+g:-p/2*(--h*(h-2)-1)+g},StrongEaseIn(h,g,p,m){return p*(h/=m)*h*h*h*h+g},StrongEaseOut(h,g,p,m){return p*((h=h/m-1)*h*h*h*h+1)+g},StrongEaseInOut(h,g,p,m){return(h/=m/2)<1?p/2*h*h*h*h*h+g:p/2*((h-=2)*h*h*h*h+2)+g},Linear(h,g,p,m){return p*h/m+g}}})(bT);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=ft,r=Zt,n=Yt,i=oo,o=gT,s=xa,a=Ac,l=ws,c=Lc,d=sr,u=ks,f=bT,h=Un,g=cn;t.Konva=r.Util._assign(e.Konva,{Util:r.Util,Transform:r.Transform,Node:n.Node,Container:i.Container,Stage:o.Stage,stages:o.stages,Layer:s.Layer,FastLayer:a.FastLayer,Group:l.Group,DD:c.DD,Shape:d.Shape,shapes:d.shapes,Animation:u.Animation,Tween:f.Tween,Easings:f.Easings,Context:h.Context,Canvas:g.Canvas}),t.default=t.Konva})(dT);var Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.Arc=void 0;const Rc=pt,QF=sr,C_=ft,Pc=tt,eR=ft;class Yn extends QF.Shape{_sceneFunc(e){const r=C_.Konva.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,r,n),e.arc(0,0,this.innerRadius(),r,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),r=this.outerRadius(),n=this.clockwise(),i=C_.Konva.getAngle(n?360-this.angle():this.angle()),o=Math.cos(Math.min(i,Math.PI)),s=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),c=o*(o>0?e:r),d=s*r,u=a*(a>0?e:r),f=l*(l>0?r:e);return{x:c,y:n?-1*f:u,width:d-c,height:f-u}}}Fc.Arc=Yn;Yn.prototype._centroid=!0;Yn.prototype.className="Arc";Yn.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,eR._registerNode)(Yn);Rc.Factory.addGetterSetter(Yn,"innerRadius",0,(0,Pc.getNumberValidator)());Rc.Factory.addGetterSetter(Yn,"outerRadius",0,(0,Pc.getNumberValidator)());Rc.Factory.addGetterSetter(Yn,"angle",0,(0,Pc.getNumberValidator)());Rc.Factory.addGetterSetter(Yn,"clockwise",!1,(0,Pc.getBooleanValidator)());var $c={},Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.Line=void 0;const Dc=pt,tR=ft,rR=sr,_T=tt;function rv(t,e,r,n,i,o,s){const a=Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2)),l=Math.sqrt(Math.pow(i-r,2)+Math.pow(o-n,2)),c=s*a/(a+l),d=s*l/(a+l),u=r-c*(i-t),f=n-c*(o-e),h=r+d*(i-t),g=n+d*(o-e);return[u,f,h,g]}function L_(t,e){const r=t.length,n=[];for(let i=2;i<r-2;i+=2){const o=rv(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(o[0])||(n.push(o[0]),n.push(o[1]),n.push(t[i]),n.push(t[i+1]),n.push(o[2]),n.push(o[3]))}return n}class Ri extends rR.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){let r=this.points(),n=r.length,i=this.tension(),o=this.closed(),s=this.bezier(),a,l,c;if(n){if(e.beginPath(),e.moveTo(r[0],r[1]),i!==0&&n>4){for(a=this.getTensionPoints(),l=a.length,c=o?0:4,o||e.quadraticCurveTo(a[0],a[1],a[2],a[3]);c<l-2;)e.bezierCurveTo(a[c++],a[c++],a[c++],a[c++],a[c++],a[c++]);o||e.quadraticCurveTo(a[l-2],a[l-1],r[n-2],r[n-1])}else if(s)for(c=2;c<n;)e.bezierCurveTo(r[c++],r[c++],r[c++],r[c++],r[c++],r[c++]);else for(c=2;c<n;c+=2)e.lineTo(r[c],r[c+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():L_(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),r=e.length,n=this.tension(),i=rv(e[r-2],e[r-1],e[0],e[1],e[2],e[3],n),o=rv(e[r-4],e[r-3],e[r-2],e[r-1],e[0],e[1],n),s=L_(e,n);return[i[2],i[3]].concat(s).concat([o[0],o[1],e[r-2],e[r-1],o[2],o[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let r=e[0],n=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],r=Math.min(r,s),n=Math.max(n,s),i=Math.min(i,a),o=Math.max(o,a);return{x:r,y:i,width:n-r,height:o-i}}}Ta.Line=Ri;Ri.prototype.className="Line";Ri.prototype._attrsAffectingSize=["points","bezier","tension"];(0,tR._registerNode)(Ri);Dc.Factory.addGetterSetter(Ri,"closed",!1);Dc.Factory.addGetterSetter(Ri,"bezier",!1);Dc.Factory.addGetterSetter(Ri,"tension",0,(0,_T.getNumberValidator)());Dc.Factory.addGetterSetter(Ri,"points",[],(0,_T.getNumberArrayValidator)());var Ss={},yT={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(s,a,l)=>{let c,d;const f=l/2;c=0;for(let h=0;h<20;h++)d=f*t.tValues[20][h]+f,c+=t.cValues[20][h]*n(s,a,d);return f*c};t.getCubicArcLength=e;const r=(s,a,l)=>{l===void 0&&(l=1);const c=s[0]-2*s[1]+s[2],d=a[0]-2*a[1]+a[2],u=2*s[1]-2*s[0],f=2*a[1]-2*a[0],h=4*(c*c+d*d),g=4*(c*u+d*f),p=u*u+f*f;if(h===0)return l*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(a[2]-a[0],2));const m=g/(2*h),b=p/h,k=l+m,_=b-m*m,v=k*k+_>0?Math.sqrt(k*k+_):0,x=m*m+_>0?Math.sqrt(m*m+_):0,S=m+Math.sqrt(m*m+_)!==0?_*Math.log(Math.abs((k+v)/(m+x))):0;return Math.sqrt(h)/2*(k*v-m*x+S)};t.getQuadraticArcLength=r;function n(s,a,l){const c=i(1,l,s),d=i(1,l,a),u=c*c+d*d;return Math.sqrt(u)}const i=(s,a,l)=>{const c=l.length-1;let d,u;if(c===0)return 0;if(s===0){u=0;for(let f=0;f<=c;f++)u+=t.binomialCoefficients[c][f]*Math.pow(1-a,c-f)*Math.pow(a,f)*l[f];return u}else{d=new Array(c);for(let f=0;f<c;f++)d[f]=c*(l[f+1]-l[f]);return i(s-1,a,d)}},o=(s,a,l)=>{let c=1,d=s/a,u=(s-l(d))/a,f=0;for(;c>.001;){const h=l(d+u),g=Math.abs(s-h)/a;if(g<c)c=g,d+=u;else{const p=l(d-u),m=Math.abs(s-p)/a;m<c?(c=m,d-=u):u/=2}if(f++,f>500)break}return d};t.t2length=o})(yT);Object.defineProperty(Ss,"__esModule",{value:!0});Ss.Path=void 0;const nR=pt,iR=sr,oR=ft,Eo=yT;class or extends iR.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=or.parsePathData(this.data()),this.pathLength=or.getPathLength(this.dataArray)}_sceneFunc(e){const r=this.dataArray;e.beginPath();let n=!1;for(let p=0;p<r.length;p++){const m=r[p].command,b=r[p].points;switch(m){case"L":e.lineTo(b[0],b[1]);break;case"M":e.moveTo(b[0],b[1]);break;case"C":e.bezierCurveTo(b[0],b[1],b[2],b[3],b[4],b[5]);break;case"Q":e.quadraticCurveTo(b[0],b[1],b[2],b[3]);break;case"A":var i=b[0],o=b[1],s=b[2],a=b[3],l=b[4],c=b[5],d=b[6],u=b[7],f=s>a?s:a,h=s>a?1:s/a,g=s>a?a/s:1;e.translate(i,o),e.rotate(d),e.scale(h,g),e.arc(0,0,f,l,l+c,1-u),e.scale(1/h,1/g),e.rotate(-d),e.translate(-i,-o);break;case"z":n=!0,e.closePath();break}}!n&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const c=l.points[4],d=l.points[5],u=l.points[4]+d;let f=Math.PI/180;if(Math.abs(c-u)<f&&(f=Math.abs(c-u)),d<0)for(let h=c-f;h>u;h-=f){const g=or.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],h,0);e.push(g.x,g.y)}else for(let h=c+f;h<u;h+=f){const g=or.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],h,0);e.push(g.x,g.y)}}else if(l.command==="C")for(let c=0;c<=1;c+=.01){const d=or.getPointOnCubicBezier(c,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(d.x,d.y)}else e=e.concat(l.points)});let r=e[0],n=e[0],i=e[1],o=e[1],s,a;for(let l=0;l<e.length/2;l++)s=e[l*2],a=e[l*2+1],isNaN(s)||(r=Math.min(r,s),n=Math.max(n,s)),isNaN(a)||(i=Math.min(i,a),o=Math.max(o,a));return{x:r,y:i,width:n-r,height:o-i}}getLength(){return this.pathLength}getPointAtLength(e){return or.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,r,n,i){return Math.sqrt((n-e)*(n-e)+(i-r)*(i-r))}static getPathLength(e){let r=0;for(let n=0;n<e.length;++n)r+=e[n].pathLength;return r}static getPointAtLengthOfDataArray(e,r){let n,i=0,o=r.length;if(!o)return null;for(;i<o&&e>r[i].pathLength;)e-=r[i].pathLength,++i;if(i===o)return n=r[i-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=r[i].points.slice(0,2),{x:n[0],y:n[1]};const s=r[i],a=s.points;switch(s.command){case"L":return or.getPointOnLine(e,s.start.x,s.start.y,a[0],a[1]);case"C":return or.getPointOnCubicBezier((0,Eo.t2length)(e,or.getPathLength(r),p=>(0,Eo.getCubicArcLength)([s.start.x,a[0],a[2],a[4]],[s.start.y,a[1],a[3],a[5]],p)),s.start.x,s.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return or.getPointOnQuadraticBezier((0,Eo.t2length)(e,or.getPathLength(r),p=>(0,Eo.getQuadraticArcLength)([s.start.x,a[0],a[2]],[s.start.y,a[1],a[3]],p)),s.start.x,s.start.y,a[0],a[1],a[2],a[3]);case"A":var l=a[0],c=a[1],d=a[2],u=a[3],f=a[4],h=a[5],g=a[6];return f+=h*e/s.pathLength,or.getPointOnEllipticalArc(l,c,d,u,f,g)}return null}static getPointOnLine(e,r,n,i,o,s,a){s=s??r,a=a??n;const l=this.getLineLength(r,n,i,o);if(l<1e-10)return{x:r,y:n};if(i===r)return{x:s,y:a+(o>n?e:-e)};const c=(o-n)/(i-r),d=Math.sqrt(e*e/(1+c*c))*(i<r?-1:1),u=c*d;if(Math.abs(a-n-c*(s-r))<1e-10)return{x:s+d,y:a+u};const f=((s-r)*(i-r)+(a-n)*(o-n))/(l*l),h=r+f*(i-r),g=n+f*(o-n),p=this.getLineLength(s,a,h,g),m=Math.sqrt(e*e-p*p),b=Math.sqrt(m*m/(1+c*c))*(i<r?-1:1),k=c*b;return{x:h+b,y:g+k}}static getPointOnCubicBezier(e,r,n,i,o,s,a,l,c){function d(m){return m*m*m}function u(m){return 3*m*m*(1-m)}function f(m){return 3*m*(1-m)*(1-m)}function h(m){return(1-m)*(1-m)*(1-m)}const g=l*d(e)+s*u(e)+i*f(e)+r*h(e),p=c*d(e)+a*u(e)+o*f(e)+n*h(e);return{x:g,y:p}}static getPointOnQuadraticBezier(e,r,n,i,o,s,a){function l(h){return h*h}function c(h){return 2*h*(1-h)}function d(h){return(1-h)*(1-h)}const u=s*l(e)+i*c(e)+r*d(e),f=a*l(e)+o*c(e)+n*d(e);return{x:u,y:f}}static getPointOnEllipticalArc(e,r,n,i,o,s){const a=Math.cos(s),l=Math.sin(s),c={x:n*Math.cos(o),y:i*Math.sin(o)};return{x:e+(c.x*a-c.y*l),y:r+(c.x*l+c.y*a)}}static parsePathData(e){if(!e)return[];let r=e;const n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];r=r.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)r=r.replace(new RegExp(n[i],"g"),"|"+n[i]);const o=r.split("|"),s=[],a=[];let l=0,c=0;const d=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let u;for(i=1;i<o.length;i++){let T=o[i],L=T.charAt(0);for(T=T.slice(1),a.length=0;u=d.exec(T);)a.push(u[0]);const E=[];for(let C=0,F=a.length;C<F;C++){if(a[C]==="00"){E.push(0,0);continue}const $=parseFloat(a[C]);isNaN($)?E.push(0):E.push($)}for(;E.length>0&&!isNaN(E[0]);){let C="",F=[];const $=l,O=c;var f,h,g,p,m,b,k,_,v,x;switch(L){case"l":l+=E.shift(),c+=E.shift(),C="L",F.push(l,c);break;case"L":l=E.shift(),c=E.shift(),F.push(l,c);break;case"m":var S=E.shift(),w=E.shift();if(l+=S,c+=w,C="M",s.length>2&&s[s.length-1].command==="z"){for(let M=s.length-2;M>=0;M--)if(s[M].command==="M"){l=s[M].points[0]+S,c=s[M].points[1]+w;break}}F.push(l,c),L="l";break;case"M":l=E.shift(),c=E.shift(),C="M",F.push(l,c),L="L";break;case"h":l+=E.shift(),C="L",F.push(l,c);break;case"H":l=E.shift(),C="L",F.push(l,c);break;case"v":c+=E.shift(),C="L",F.push(l,c);break;case"V":c=E.shift(),C="L",F.push(l,c);break;case"C":F.push(E.shift(),E.shift(),E.shift(),E.shift()),l=E.shift(),c=E.shift(),F.push(l,c);break;case"c":F.push(l+E.shift(),c+E.shift(),l+E.shift(),c+E.shift()),l+=E.shift(),c+=E.shift(),C="C",F.push(l,c);break;case"S":h=l,g=c,f=s[s.length-1],f.command==="C"&&(h=l+(l-f.points[2]),g=c+(c-f.points[3])),F.push(h,g,E.shift(),E.shift()),l=E.shift(),c=E.shift(),C="C",F.push(l,c);break;case"s":h=l,g=c,f=s[s.length-1],f.command==="C"&&(h=l+(l-f.points[2]),g=c+(c-f.points[3])),F.push(h,g,l+E.shift(),c+E.shift()),l+=E.shift(),c+=E.shift(),C="C",F.push(l,c);break;case"Q":F.push(E.shift(),E.shift()),l=E.shift(),c=E.shift(),F.push(l,c);break;case"q":F.push(l+E.shift(),c+E.shift()),l+=E.shift(),c+=E.shift(),C="Q",F.push(l,c);break;case"T":h=l,g=c,f=s[s.length-1],f.command==="Q"&&(h=l+(l-f.points[0]),g=c+(c-f.points[1])),l=E.shift(),c=E.shift(),C="Q",F.push(h,g,l,c);break;case"t":h=l,g=c,f=s[s.length-1],f.command==="Q"&&(h=l+(l-f.points[0]),g=c+(c-f.points[1])),l+=E.shift(),c+=E.shift(),C="Q",F.push(h,g,l,c);break;case"A":p=E.shift(),m=E.shift(),b=E.shift(),k=E.shift(),_=E.shift(),v=l,x=c,l=E.shift(),c=E.shift(),C="A",F=this.convertEndpointToCenterParameterization(v,x,l,c,k,_,p,m,b);break;case"a":p=E.shift(),m=E.shift(),b=E.shift(),k=E.shift(),_=E.shift(),v=l,x=c,l+=E.shift(),c+=E.shift(),C="A",F=this.convertEndpointToCenterParameterization(v,x,l,c,k,_,p,m,b);break}s.push({command:C||L,points:F,start:{x:$,y:O},pathLength:this.calcLength($,O,C||L,F)})}(L==="z"||L==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(e,r,n,i){let o,s,a,l;const c=or;switch(n){case"L":return c.getLineLength(e,r,i[0],i[1]);case"C":return(0,Eo.getCubicArcLength)([e,i[0],i[2],i[4]],[r,i[1],i[3],i[5]],1);case"Q":return(0,Eo.getQuadraticArcLength)([e,i[0],i[2]],[r,i[1],i[3]],1);case"A":o=0;var d=i[4],u=i[5],f=i[4]+u,h=Math.PI/180;if(Math.abs(d-f)<h&&(h=Math.abs(d-f)),s=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),u<0)for(l=d-h;l>f;l-=h)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;else for(l=d+h;l<f;l+=h)a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),s=a;return a=c.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),o+=c.getLineLength(s.x,s.y,a.x,a.y),o}return 0}static convertEndpointToCenterParameterization(e,r,n,i,o,s,a,l,c){const d=c*(Math.PI/180),u=Math.cos(d)*(e-n)/2+Math.sin(d)*(r-i)/2,f=-1*Math.sin(d)*(e-n)/2+Math.cos(d)*(r-i)/2,h=u*u/(a*a)+f*f/(l*l);h>1&&(a*=Math.sqrt(h),l*=Math.sqrt(h));let g=Math.sqrt((a*a*(l*l)-a*a*(f*f)-l*l*(u*u))/(a*a*(f*f)+l*l*(u*u)));o===s&&(g*=-1),isNaN(g)&&(g=0);const p=g*a*f/l,m=g*-l*u/a,b=(e+n)/2+Math.cos(d)*p-Math.sin(d)*m,k=(r+i)/2+Math.sin(d)*p+Math.cos(d)*m,_=function(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])},v=function(E,C){return(E[0]*C[0]+E[1]*C[1])/(_(E)*_(C))},x=function(E,C){return(E[0]*C[1]<E[1]*C[0]?-1:1)*Math.acos(v(E,C))},S=x([1,0],[(u-p)/a,(f-m)/l]),w=[(u-p)/a,(f-m)/l],T=[(-1*u-p)/a,(-1*f-m)/l];let L=x(w,T);return v(w,T)<=-1&&(L=Math.PI),v(w,T)>=1&&(L=0),s===0&&L>0&&(L=L-2*Math.PI),s===1&&L<0&&(L=L+2*Math.PI),[b,k,a,l,S,L,d,s]}}Ss.Path=or;or.prototype.className="Path";or.prototype._attrsAffectingSize=["data"];(0,oR._registerNode)(or);nR.Factory.addGetterSetter(or,"data");Object.defineProperty($c,"__esModule",{value:!0});$c.Arrow=void 0;const Oc=pt,sR=Ta,wT=tt,aR=ft,I_=Ss;class ao extends sR.Line{_sceneFunc(e){super._sceneFunc(e);const r=Math.PI*2,n=this.points();let i=n;const o=this.tension()!==0&&n.length>4;o&&(i=this.getTensionPoints());const s=this.pointerLength(),a=n.length;let l,c;if(o){const f=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],n[a-2],n[a-1]],h=I_.Path.calcLength(i[i.length-4],i[i.length-3],"C",f),g=I_.Path.getPointOnQuadraticBezier(Math.min(1,1-s/h),f[0],f[1],f[2],f[3],f[4],f[5]);l=n[a-2]-g.x,c=n[a-1]-g.y}else l=n[a-2]-n[a-4],c=n[a-1]-n[a-3];const d=(Math.atan2(c,l)+r)%r,u=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[a-2],n[a-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-s,u/2),e.lineTo(-s,-u/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),o?(l=(i[0]+i[2])/2-n[0],c=(i[1]+i[3])/2-n[1]):(l=n[2]-n[0],c=n[3]-n[1]),e.rotate((Math.atan2(-c,-l)+r)%r),e.moveTo(0,0),e.lineTo(-s,u/2),e.lineTo(-s,-u/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const r=this.dashEnabled();r&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),r&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),r=this.pointerWidth()/2;return{x:e.x,y:e.y-r,width:e.width,height:e.height+r*2}}}$c.Arrow=ao;ao.prototype.className="Arrow";(0,aR._registerNode)(ao);Oc.Factory.addGetterSetter(ao,"pointerLength",10,(0,wT.getNumberValidator)());Oc.Factory.addGetterSetter(ao,"pointerWidth",10,(0,wT.getNumberValidator)());Oc.Factory.addGetterSetter(ao,"pointerAtBeginning",!1);Oc.Factory.addGetterSetter(ao,"pointerAtEnding",!0);var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.Circle=void 0;const lR=pt,cR=sr,dR=tt,uR=ft;class xs extends cR.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Bc.Circle=xs;xs.prototype._centroid=!0;xs.prototype.className="Circle";xs.prototype._attrsAffectingSize=["radius"];(0,uR._registerNode)(xs);lR.Factory.addGetterSetter(xs,"radius",0,(0,dR.getNumberValidator)());var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.Ellipse=void 0;const ab=pt,hR=sr,kT=tt,fR=ft;class Pi extends hR.Shape{_sceneFunc(e){const r=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),r!==n&&e.scale(1,n/r),e.arc(0,0,r,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Mc.Ellipse=Pi;Pi.prototype.className="Ellipse";Pi.prototype._centroid=!0;Pi.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,fR._registerNode)(Pi);ab.Factory.addComponentsGetterSetter(Pi,"radius",["x","y"]);ab.Factory.addGetterSetter(Pi,"radiusX",0,(0,kT.getNumberValidator)());ab.Factory.addGetterSetter(Pi,"radiusY",0,(0,kT.getNumberValidator)());var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.Image=void 0;const pu=Zt,lo=pt,gR=sr,pR=ft,Ea=tt;class Yr extends gR.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",r=>{this._removeImageLoad(r.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),r=this.hasShadow();return e&&r?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const r=this.getWidth(),n=this.getHeight(),i=this.cornerRadius(),o=this.attrs.image;let s;if(o){const a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?s=[o,this.cropX(),this.cropY(),a,l,0,0,r,n]:s=[o,0,0,r,n]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?pu.Util.drawRoundedRectPath(e,r,n,i):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)),o&&(i&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){const r=this.width(),n=this.height(),i=this.cornerRadius();e.beginPath(),i?pu.Util.drawRoundedRectPath(e,r,n,i):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,r;return(e=this.attrs.width)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.width}getHeight(){var e,r;return(e=this.attrs.height)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.height}static fromURL(e,r,n=null){const i=pu.Util.createImageElement();i.onload=function(){const o=new Yr({image:i});r(o)},i.onerror=n,i.crossOrigin="Anonymous",i.src=e}}Nc.Image=Yr;Yr.prototype.className="Image";(0,pR._registerNode)(Yr);lo.Factory.addGetterSetter(Yr,"cornerRadius",0,(0,Ea.getNumberOrArrayOfNumbersValidator)(4));lo.Factory.addGetterSetter(Yr,"image");lo.Factory.addComponentsGetterSetter(Yr,"crop",["x","y","width","height"]);lo.Factory.addGetterSetter(Yr,"cropX",0,(0,Ea.getNumberValidator)());lo.Factory.addGetterSetter(Yr,"cropY",0,(0,Ea.getNumberValidator)());lo.Factory.addGetterSetter(Yr,"cropWidth",0,(0,Ea.getNumberValidator)());lo.Factory.addGetterSetter(Yr,"cropHeight",0,(0,Ea.getNumberValidator)());var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.Tag=ds.Label=void 0;const Gc=pt,mR=sr,vR=ws,lb=tt,ST=ft,xT=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],bR="Change.konva",_R="none",nv="up",iv="right",ov="down",sv="left",yR=xT.length;class cb extends vR.Group{constructor(e){super(e),this.on("add.konva",function(r){this._addListeners(r.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let r=this,n;const i=function(){r._sync()};for(n=0;n<yR;n++)e.on(xT[n]+bR,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),r=this.getTag(),n,i,o,s,a,l,c;if(e&&r){switch(n=e.width(),i=e.height(),o=r.pointerDirection(),s=r.pointerWidth(),c=r.pointerHeight(),a=0,l=0,o){case nv:a=n/2,l=-1*c;break;case iv:a=n+s,l=i/2;break;case ov:a=n/2,l=i+c;break;case sv:a=-1*s,l=i/2;break}r.setAttrs({x:-1*a,y:-1*l,width:n,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}}ds.Label=cb;cb.prototype.className="Label";(0,ST._registerNode)(cb);class co extends mR.Shape{_sceneFunc(e){const r=this.width(),n=this.height(),i=this.pointerDirection(),o=this.pointerWidth(),s=this.pointerHeight(),a=this.cornerRadius();let l=0,c=0,d=0,u=0;typeof a=="number"?l=c=d=u=Math.min(a,r/2,n/2):(l=Math.min(a[0]||0,r/2,n/2),c=Math.min(a[1]||0,r/2,n/2),u=Math.min(a[2]||0,r/2,n/2),d=Math.min(a[3]||0,r/2,n/2)),e.beginPath(),e.moveTo(l,0),i===nv&&(e.lineTo((r-o)/2,0),e.lineTo(r/2,-1*s),e.lineTo((r+o)/2,0)),e.lineTo(r-c,0),e.arc(r-c,c,c,Math.PI*3/2,0,!1),i===iv&&(e.lineTo(r,(n-s)/2),e.lineTo(r+o,n/2),e.lineTo(r,(n+s)/2)),e.lineTo(r,n-u),e.arc(r-u,n-u,u,0,Math.PI/2,!1),i===ov&&(e.lineTo((r+o)/2,n),e.lineTo(r/2,n+s),e.lineTo((r-o)/2,n)),e.lineTo(d,n),e.arc(d,n-d,d,Math.PI/2,Math.PI,!1),i===sv&&(e.lineTo(0,(n+s)/2),e.lineTo(-1*o,n/2),e.lineTo(0,(n-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,r=0,n=this.pointerWidth(),i=this.pointerHeight(),o=this.pointerDirection(),s=this.width(),a=this.height();return o===nv?(r-=i,a+=i):o===ov?a+=i:o===sv?(e-=n*1.5,s+=n):o===iv&&(s+=n*1.5),{x:e,y:r,width:s,height:a}}}ds.Tag=co;co.prototype.className="Tag";(0,ST._registerNode)(co);Gc.Factory.addGetterSetter(co,"pointerDirection",_R);Gc.Factory.addGetterSetter(co,"pointerWidth",0,(0,lb.getNumberValidator)());Gc.Factory.addGetterSetter(co,"pointerHeight",0,(0,lb.getNumberValidator)());Gc.Factory.addGetterSetter(co,"cornerRadius",0,(0,lb.getNumberOrArrayOfNumbersValidator)(4));var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.Rect=void 0;const wR=pt,kR=sr,SR=ft,xR=Zt,TR=tt;class Uc extends kR.Shape{_sceneFunc(e){const r=this.cornerRadius(),n=this.width(),i=this.height();e.beginPath(),r?xR.Util.drawRoundedRectPath(e,n,i,r):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}}Ca.Rect=Uc;Uc.prototype.className="Rect";(0,SR._registerNode)(Uc);wR.Factory.addGetterSetter(Uc,"cornerRadius",0,(0,TR.getNumberOrArrayOfNumbersValidator)(4));var Wc={};Object.defineProperty(Wc,"__esModule",{value:!0});Wc.RegularPolygon=void 0;const TT=pt,ER=sr,ET=tt,CR=ft;class uo extends ER.Shape{_sceneFunc(e){const r=this._getPoints();e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;n++)e.lineTo(r[n].x,r[n].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,r=this.attrs.radius||0,n=[];for(let i=0;i<e;i++)n.push({x:r*Math.sin(i*2*Math.PI/e),y:-1*r*Math.cos(i*2*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();let r=e[0].x,n=e[0].y,i=e[0].x,o=e[0].y;return e.forEach(s=>{r=Math.min(r,s.x),n=Math.max(n,s.x),i=Math.min(i,s.y),o=Math.max(o,s.y)}),{x:r,y:i,width:n-r,height:o-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Wc.RegularPolygon=uo;uo.prototype.className="RegularPolygon";uo.prototype._centroid=!0;uo.prototype._attrsAffectingSize=["radius"];(0,CR._registerNode)(uo);TT.Factory.addGetterSetter(uo,"radius",0,(0,ET.getNumberValidator)());TT.Factory.addGetterSetter(uo,"sides",0,(0,ET.getNumberValidator)());var qc={};Object.defineProperty(qc,"__esModule",{value:!0});qc.Ring=void 0;const CT=pt,LR=sr,LT=tt,IR=ft,A_=Math.PI*2;class ho extends LR.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,A_,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),A_,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}qc.Ring=ho;ho.prototype.className="Ring";ho.prototype._centroid=!0;ho.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,IR._registerNode)(ho);CT.Factory.addGetterSetter(ho,"innerRadius",0,(0,LT.getNumberValidator)());CT.Factory.addGetterSetter(ho,"outerRadius",0,(0,LT.getNumberValidator)());var Hc={};Object.defineProperty(Hc,"__esModule",{value:!0});Hc.Sprite=void 0;const fo=pt,AR=sr,FR=ks,IT=tt,RR=ft;class In extends AR.Shape{constructor(e){super(e),this._updated=!0,this.anim=new FR.Animation(()=>{const r=this._updated;return this._updated=!1,r}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const r=this.animation(),n=this.frameIndex(),i=n*4,o=this.animations()[r],s=this.frameOffsets(),a=o[i+0],l=o[i+1],c=o[i+2],d=o[i+3],u=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,c,d),e.closePath(),e.fillStrokeShape(this)),u)if(s){const f=s[r],h=n*2;e.drawImage(u,a,l,c,d,f[h+0],f[h+1],c,d)}else e.drawImage(u,a,l,c,d,0,0,c,d)}_hitFunc(e){const r=this.animation(),n=this.frameIndex(),i=n*4,o=this.animations()[r],s=this.frameOffsets(),a=o[i+2],l=o[i+3];if(e.beginPath(),s){const c=s[r],d=n*2;e.rect(c[d+0],c[d+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),r=this.animation(),n=this.animations(),i=n[r],o=i.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}}Hc.Sprite=In;In.prototype.className="Sprite";(0,RR._registerNode)(In);fo.Factory.addGetterSetter(In,"animation");fo.Factory.addGetterSetter(In,"animations");fo.Factory.addGetterSetter(In,"frameOffsets");fo.Factory.addGetterSetter(In,"image");fo.Factory.addGetterSetter(In,"frameIndex",0,(0,IT.getNumberValidator)());fo.Factory.addGetterSetter(In,"frameRate",17,(0,IT.getNumberValidator)());fo.Factory.backCompat(In,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Vc={};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.Star=void 0;const db=pt,PR=sr,ub=tt,$R=ft;class $i extends PR.Shape{_sceneFunc(e){const r=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(let o=1;o<i*2;o++){const s=o%2===0?n:r,a=s*Math.sin(o*Math.PI/i),l=-1*s*Math.cos(o*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Vc.Star=$i;$i.prototype.className="Star";$i.prototype._centroid=!0;$i.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,$R._registerNode)($i);db.Factory.addGetterSetter($i,"numPoints",5,(0,ub.getNumberValidator)());db.Factory.addGetterSetter($i,"innerRadius",0,(0,ub.getNumberValidator)());db.Factory.addGetterSetter($i,"outerRadius",0,(0,ub.getNumberValidator)());var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.Text=void 0;Ts.stringToArray=Ui;const av=Zt,kr=pt,DR=sr,mu=ft,Di=tt,OR=ft;function Ui(t){return[...t].reduce((e,r,n,i)=>{if(/\p{Emoji}/u.test(r)){const o=i[n+1];o&&/\p{Emoji_Modifier}|\u200D/u.test(o)?(e.push(r+o),i[n+1]=""):e.push(r)}else/\p{Regional_Indicator}{2}/u.test(r+(i[n+1]||""))?e.push(r+i[n+1]):n>0&&/\p{Mn}|\p{Me}|\p{Mc}/u.test(r)?e[e.length-1]+=r:r&&e.push(r);return e},[])}const Co="auto",BR="center",AT="inherit",Ns="justify",MR="Change.konva",NR="2d",F_="-",FT="left",GR="text",UR="Text",WR="top",qR="bottom",R_="middle",RT="normal",HR="px ",Za=" ",VR="right",P_="rtl",jR="word",zR="char",$_="none",vu="",PT=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],KR=PT.length;function XR(t){return t.split(",").map(e=>{e=e.trim();const r=e.indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return r&&!n&&(e=`"${e}"`),e}).join(", ")}let Qa;function bu(){return Qa||(Qa=av.Util.createCanvasElement().getContext(NR),Qa)}function YR(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function JR(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function ZR(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class tr extends DR.Shape{constructor(e){super(ZR(e)),this._partialTextX=0,this._partialTextY=0;for(let r=0;r<KR;r++)this.on(PT[r]+MR,this._setTextData);this._setTextData()}_sceneFunc(e){const r=this.textArr,n=r.length;if(!this.text())return;let i=this.padding(),o=this.fontSize(),s=this.lineHeight()*o,a=this.verticalAlign(),l=this.direction(),c=0,d=this.align(),u=this.getWidth(),f=this.letterSpacing(),h=this.fill(),g=this.textDecoration(),p=g.indexOf("underline")!==-1,m=g.indexOf("line-through")!==-1,b;l=l===AT?e.direction:l;let k=s/2,_=R_;if(mu.Konva._fixTextRendering){const F=this.measureSize("M");_="alphabetic",k=(F.fontBoundingBoxAscent-F.fontBoundingBoxDescent)/2+s/2}var v=0,x=0;for(l===P_&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",_),e.setAttr("textAlign",FT),a===R_?c=(this.getHeight()-n*s-i*2)/2:a===qR&&(c=this.getHeight()-n*s-i*2),e.translate(i,c+i),b=0;b<n;b++){var v=0,x=0,S=r[b],w=S.text,T=S.width,L=S.lastInParagraph,E,C;if(e.save(),d===VR?v+=u-T-i*2:d===BR&&(v+=(u-T-i*2)/2),p){e.save(),e.beginPath();const O=mu.Konva._fixTextRendering?Math.round(o/4):Math.round(o/2),M=v,I=k+x+O;e.moveTo(M,I),E=w.split(" ").length-1,C=d===Ns&&!L?u-i*2:T,e.lineTo(M+Math.round(C),I),e.lineWidth=o/15;const W=this._getLinearGradient();e.strokeStyle=W||h,e.stroke(),e.restore()}if(m){e.save(),e.beginPath();const O=mu.Konva._fixTextRendering?-Math.round(o/4):0;e.moveTo(v,k+x+O),E=w.split(" ").length-1,C=d===Ns&&!L?u-i*2:T,e.lineTo(v+Math.round(C),k+x+O),e.lineWidth=o/15;const M=this._getLinearGradient();e.strokeStyle=M||h,e.stroke(),e.restore()}if(l!==P_&&(f!==0||d===Ns)){E=w.split(" ").length-1;const O=Ui(w);for(let M=0;M<O.length;M++){const I=O[M];I===" "&&!L&&d===Ns&&(v+=(u-i*2-T)/E),this._partialTextX=v,this._partialTextY=k+x,this._partialText=I,e.fillStrokeShape(this),v+=this.measureSize(I).width+f}}else f!==0&&e.setAttr("letterSpacing",`${f}px`),this._partialTextX=v,this._partialTextY=k+x,this._partialText=w,e.fillStrokeShape(this);e.restore(),n>1&&(k+=s)}}_hitFunc(e){const r=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}setText(e){const r=av.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(GR,r),this}getWidth(){return this.attrs.width===Co||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Co||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return av.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var r,n,i,o,s,a,l,c,d,u,f;let h=bu(),g=this.fontSize(),p;h.save(),h.font=this._getContextFont(),p=h.measureText(e),h.restore();const m=g/100;return{actualBoundingBoxAscent:(r=p.actualBoundingBoxAscent)!==null&&r!==void 0?r:71.58203125*m,actualBoundingBoxDescent:(n=p.actualBoundingBoxDescent)!==null&&n!==void 0?n:0,actualBoundingBoxLeft:(i=p.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*m,actualBoundingBoxRight:(o=p.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*m,alphabeticBaseline:(s=p.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(a=p.emHeightAscent)!==null&&a!==void 0?a:100*m,emHeightDescent:(l=p.emHeightDescent)!==null&&l!==void 0?l:-20*m,fontBoundingBoxAscent:(c=p.fontBoundingBoxAscent)!==null&&c!==void 0?c:91*m,fontBoundingBoxDescent:(d=p.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*m,hangingBaseline:(u=p.hangingBaseline)!==null&&u!==void 0?u:72.80000305175781*m,ideographicBaseline:(f=p.ideographicBaseline)!==null&&f!==void 0?f:-21*m,width:p.width,height:g}}_getContextFont(){return this.fontStyle()+Za+this.fontVariant()+Za+(this.fontSize()+HR)+XR(this.fontFamily())}_addTextLine(e){this.align()===Ns&&(e=e.trim());const n=this._getTextWidth(e);return this.textArr.push({text:e,width:n,lastInParagraph:!1})}_getTextWidth(e){const r=this.letterSpacing(),n=e.length;return bu().measureText(e).width+r*n}_setTextData(){let e=this.text().split(`
`),r=+this.fontSize(),n=0,i=this.lineHeight()*r,o=this.attrs.width,s=this.attrs.height,a=o!==Co&&o!==void 0,l=s!==Co&&s!==void 0,c=this.padding(),d=o-c*2,u=s-c*2,f=0,h=this.wrap(),g=h!==$_,p=h!==zR&&g,m=this.ellipsis();this.textArr=[],bu().font=this._getContextFont();const b=m?this._getTextWidth(vu):0;for(let k=0,_=e.length;k<_;++k){let v=e[k],x=this._getTextWidth(v);if(a&&x>d)for(;v.length>0;){let S=0,w=Ui(v).length,T="",L=0;for(;S<w;){const E=S+w>>>1,C=Ui(v),F=C.slice(0,E+1).join(""),$=this._getTextWidth(F);(m&&l&&f+i>u?$+b:$)<=d?(S=E+1,T=F,L=$):w=E}if(T){if(p){const F=Ui(v),$=Ui(T),O=F[$.length],M=O===Za||O===F_;let I;if(M&&L<=d)I=$.length;else{const W=$.lastIndexOf(Za),q=$.lastIndexOf(F_);I=Math.max(W,q)+1}I>0&&(S=I,T=F.slice(0,S).join(""),L=this._getTextWidth(T))}if(T=T.trimRight(),this._addTextLine(T),n=Math.max(n,L),f+=i,this._shouldHandleEllipsis(f)){this._tryToAddEllipsisToLastLine();break}if(v=Ui(v).slice(S).join("").trimLeft(),v.length>0&&(x=this._getTextWidth(v),x<=d)){this._addTextLine(v),f+=i,n=Math.max(n,x);break}}else break}else this._addTextLine(v),f+=i,n=Math.max(n,x),this._shouldHandleEllipsis(f)&&k<_-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&f+i>u)break}this.textHeight=r,this.textWidth=n}_shouldHandleEllipsis(e){const r=+this.fontSize(),n=this.lineHeight()*r,i=this.attrs.height,o=i!==Co&&i!==void 0,s=this.padding(),a=i-s*2;return!(this.wrap()!==$_)||o&&e+n>a}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,r=e!==Co&&e!==void 0,n=this.padding(),i=e-n*2,o=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!o||(r&&(this._getTextWidth(s.text+vu)<i||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+vu))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,r=this.hasShadow();return e&&r?!0:super._useBufferCanvas()}}Ts.Text=tr;tr.prototype._fillFunc=YR;tr.prototype._strokeFunc=JR;tr.prototype.className=UR;tr.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,OR._registerNode)(tr);kr.Factory.overWriteSetter(tr,"width",(0,Di.getNumberOrAutoValidator)());kr.Factory.overWriteSetter(tr,"height",(0,Di.getNumberOrAutoValidator)());kr.Factory.addGetterSetter(tr,"direction",AT);kr.Factory.addGetterSetter(tr,"fontFamily","Arial");kr.Factory.addGetterSetter(tr,"fontSize",12,(0,Di.getNumberValidator)());kr.Factory.addGetterSetter(tr,"fontStyle",RT);kr.Factory.addGetterSetter(tr,"fontVariant",RT);kr.Factory.addGetterSetter(tr,"padding",0,(0,Di.getNumberValidator)());kr.Factory.addGetterSetter(tr,"align",FT);kr.Factory.addGetterSetter(tr,"verticalAlign",WR);kr.Factory.addGetterSetter(tr,"lineHeight",1,(0,Di.getNumberValidator)());kr.Factory.addGetterSetter(tr,"wrap",jR);kr.Factory.addGetterSetter(tr,"ellipsis",!1,(0,Di.getBooleanValidator)());kr.Factory.addGetterSetter(tr,"letterSpacing",0,(0,Di.getNumberValidator)());kr.Factory.addGetterSetter(tr,"text","",(0,Di.getStringValidator)());kr.Factory.addGetterSetter(tr,"textDecoration","");var jc={};Object.defineProperty(jc,"__esModule",{value:!0});jc.TextPath=void 0;const _u=Zt,gn=pt,QR=sr,Gs=Ss,yu=Ts,$T=tt,eP=ft,tP="",DT="normal";function OT(t){t.fillText(this.partialText,0,0)}function BT(t){t.strokeText(this.partialText,0,0)}class ar extends QR.Shape{constructor(e){super(e),this.dummyCanvas=_u.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Gs.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const r=this.pathLength;return e-1>r?null:Gs.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Gs.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const r=this.textDecoration(),n=this.fill(),i=this.fontSize(),o=this.glyphInfo;r==="underline"&&e.beginPath();for(let s=0;s<o.length;s++){e.save();const a=o[s].p0;e.translate(a.x,a.y),e.rotate(o[s].rotation),this.partialText=o[s].text,e.fillStrokeShape(this),r==="underline"&&(s===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}r==="underline"&&(e.strokeStyle=n,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const r=this.glyphInfo;if(r.length>=1){const n=r[0].p0;e.moveTo(n.x,n.y)}for(let n=0;n<r.length;n++){const i=r[n].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return _u.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return yu.Text.prototype.setText.call(this,e)}_getContextFont(){return yu.Text.prototype._getContextFont.call(this)}_getTextSize(e){const n=this.dummyCanvas.getContext("2d");n.save(),n.font=this._getContextFont();const i=n.measureText(e);return n.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;const n=this.letterSpacing(),i=this.align(),o=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);let a=0;i==="center"&&(a=Math.max(0,this.pathLength/2-s/2)),i==="right"&&(a=Math.max(0,this.pathLength-s));const l=(0,yu.stringToArray)(this.text());let c=a;for(let d=0;d<l.length;d++){const u=this._getPointAtLength(c);if(!u)return;let f=this._getTextSize(l[d]).width+n;if(l[d]===" "&&i==="justify"){const k=this.text().split(" ").length-1;f+=(this.pathLength-s)/k}const h=this._getPointAtLength(c+f);if(!h)return;const g=Gs.Path.getLineLength(u.x,u.y,h.x,h.y);let p=0;if(o)try{p=o(l[d-1],l[d])*this.fontSize()}catch{p=0}u.x+=p,h.x+=p,this.textWidth+=p;const m=Gs.Path.getPointOnLine(p+g/2,u.x,u.y,h.x,h.y),b=Math.atan2(h.y-u.y,h.x-u.x);this.glyphInfo.push({transposeX:m.x,transposeY:m.y,text:l[d],rotation:b,p0:u,p1:h}),c+=f}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});let r=e[0]||0,n=e[0]||0,i=e[1]||0,o=e[1]||0,s,a;for(let c=0;c<e.length/2;c++)s=e[c*2],a=e[c*2+1],r=Math.min(r,s),n=Math.max(n,s),i=Math.min(i,a),o=Math.max(o,a);const l=this.fontSize();return{x:r-l/2,y:i-l/2,width:n-r+l,height:o-i+l}}destroy(){return _u.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}jc.TextPath=ar;ar.prototype._fillFunc=OT;ar.prototype._strokeFunc=BT;ar.prototype._fillFuncHit=OT;ar.prototype._strokeFuncHit=BT;ar.prototype.className="TextPath";ar.prototype._attrsAffectingSize=["text","fontSize","data"];(0,eP._registerNode)(ar);gn.Factory.addGetterSetter(ar,"data");gn.Factory.addGetterSetter(ar,"fontFamily","Arial");gn.Factory.addGetterSetter(ar,"fontSize",12,(0,$T.getNumberValidator)());gn.Factory.addGetterSetter(ar,"fontStyle",DT);gn.Factory.addGetterSetter(ar,"align","left");gn.Factory.addGetterSetter(ar,"letterSpacing",0,(0,$T.getNumberValidator)());gn.Factory.addGetterSetter(ar,"textBaseline","middle");gn.Factory.addGetterSetter(ar,"fontVariant",DT);gn.Factory.addGetterSetter(ar,"text",tP);gn.Factory.addGetterSetter(ar,"textDecoration","");gn.Factory.addGetterSetter(ar,"kerningFunc",void 0);var zc={};Object.defineProperty(zc,"__esModule",{value:!0});zc.Transformer=void 0;const Ot=Zt,Ft=pt,D_=Yt,rP=sr,nP=Ca,O_=ws,nn=ft,Oi=tt,iP=ft,MT="tr-konva",oP=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${MT}`).join(" "),B_="nodesRect",sP=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],aP={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},lP="ontouchstart"in nn.Konva._global;function cP(t,e,r){if(t==="rotater")return r;e+=Ot.Util.degToRad(aP[t]||0);const n=(Ot.Util.radToDeg(e)%360+360)%360;return Ot.Util._inRange(n,315+22.5,360)||Ot.Util._inRange(n,0,22.5)?"ns-resize":Ot.Util._inRange(n,45-22.5,45+22.5)?"nesw-resize":Ot.Util._inRange(n,90-22.5,90+22.5)?"ew-resize":Ot.Util._inRange(n,135-22.5,135+22.5)?"nwse-resize":Ot.Util._inRange(n,180-22.5,180+22.5)?"ns-resize":Ot.Util._inRange(n,225-22.5,225+22.5)?"nesw-resize":Ot.Util._inRange(n,270-22.5,270+22.5)?"ew-resize":Ot.Util._inRange(n,315-22.5,315+22.5)?"nwse-resize":(Ot.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}const jl=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],M_=1e8;function dP(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function NT(t,e,r){const n=r.x+(t.x-r.x)*Math.cos(e)-(t.y-r.y)*Math.sin(e),i=r.y+(t.x-r.x)*Math.sin(e)+(t.y-r.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:n,y:i}}function uP(t,e){const r=dP(t);return NT(t,e,r)}function hP(t,e,r){let n=e;for(let i=0;i<t.length;i++){const o=nn.Konva.getAngle(t[i]),s=Math.abs(o-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<r&&(n=o)}return n}let lv=0;class wt extends O_.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(oP,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Ot.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return MT+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const r=e.filter(i=>i.isAncestorOf(this)?(Ot.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=r,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const s=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(s,o)}i.on(sP.map(s=>s+`.${this._getEventNamespace()}`).join(" "),o),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let r;e.on(`dragstart.${this._getEventNamespace()}`,n=>{r=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(n,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,n=>{if(!r)return;const i=e.getAbsolutePosition(),o=i.x-r.x,s=i.y-r.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+o,y:l.y+s}),a.startDrag(n)}),r=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(B_),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(B_,this.__getNodeRect)}__getNodeShape(e,r=this.rotation(),n){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(n),s=e.getAbsolutePosition(n),a=i.x*o.x-e.offsetX()*o.x,l=i.y*o.y-e.offsetY()*o.y,c=(nn.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:s.x+a*Math.cos(c)+l*Math.sin(-c),y:s.y+l*Math.cos(c)+a*Math.sin(c),width:i.width*o.x,height:i.height*o.y,rotation:c};return NT(d,-nn.Konva.getAngle(r),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-M_,y:-M_,width:0,height:0,rotation:0};const r=[];this.nodes().map(c=>{const d=c.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),u=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],f=c.getAbsoluteTransform();u.forEach(function(h){const g=f.point(h);r.push(g)})});const n=new Ot.Transform;n.rotate(-nn.Konva.getAngle(this.rotation()));let i=1/0,o=1/0,s=-1/0,a=-1/0;r.forEach(function(c){const d=n.point(c);i===void 0&&(i=s=d.x,o=a=d.y),i=Math.min(i,d.x),o=Math.min(o,d.y),s=Math.max(s,d.x),a=Math.max(a,d.y)}),n.invert();const l=n.point({x:i,y:o});return{x:l.x,y:l.y,width:s-i,height:a-o,rotation:nn.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),jl.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const r=new nP.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:lP?10:"auto"}),n=this;r.on("mousedown touchstart",function(i){n._handleMouseDown(i)}),r.on("dragstart",i=>{r.stopDrag(),i.cancelBubble=!0}),r.on("dragend",i=>{i.cancelBubble=!0}),r.on("mouseenter",()=>{const i=nn.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),s=cP(e,i,o);r.getStage().content&&(r.getStage().content.style.cursor=s),this._cursorChange=!0}),r.on("mouseout",()=>{r.getStage().content&&(r.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(r)}_createBack(){const e=new rP.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(r,n){const i=n.getParent(),o=i.padding();r.beginPath(),r.rect(-o,-o,n.width()+o*2,n.height()+o*2),r.moveTo(n.width()/2,-o),i.rotateEnabled()&&i.rotateLineVisible()&&r.lineTo(n.width()/2,-i.rotateAnchorOffset()*Ot.Util._sign(n.height())-o),r.fillStrokeShape(n)},hitFunc:(r,n)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();r.beginPath(),r.rect(-i,-i,n.width()+i*2,n.height()+i*2),r.fillStrokeShape(n)}});this.add(e),this._proxyDrag(e),e.on("dragstart",r=>{r.cancelBubble=!0}),e.on("dragmove",r=>{r.cancelBubble=!0}),e.on("dragend",r=>{r.cancelBubble=!0}),this.on("dragmove",r=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const r=this._getNodeRect(),n=r.width,i=r.height,o=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/o),this.cos=Math.abs(n/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const s=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-s.x,y:a.y-s.y},lv++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let r,n,i;const o=this.findOne("."+this._movingAnchorName),s=o.getStage();s.setPointersPositions(e);const a=s.getPointerPosition();let l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const c=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(c,l,e)),o.setAbsolutePosition(l);const d=o.getAbsolutePosition();if(c.x===d.x&&c.y===d.y)return;if(this._movingAnchorName==="rotater"){const x=this._getNodeRect();r=o.x()-x.width/2,n=-o.y()+x.height/2;let S=Math.atan2(-n,r)+Math.PI/2;x.height<0&&(S-=Math.PI);const T=nn.Konva.getAngle(this.rotation())+S,L=nn.Konva.getAngle(this.rotationSnapTolerance()),C=hP(this.rotationSnaps(),T,L)-x.rotation,F=uP(x,C);this._fitNodesInto(F,e);return}const u=this.shiftBehavior();let f;u==="inverted"?f=this.keepRatio()&&!e.shiftKey:u==="none"?f=this.keepRatio():f=this.keepRatio()||e.shiftKey;var b=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(f){var h=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(h.x-o.x(),2)+Math.pow(h.y-o.y(),2));var g=this.findOne(".top-left").x()>h.x?-1:1,p=this.findOne(".top-left").y()>h.y?-1:1;r=i*this.cos*g,n=i*this.sin*p,this.findOne(".top-left").x(h.x-r),this.findOne(".top-left").y(h.y-n)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(f){var h=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(o.x()-h.x,2)+Math.pow(h.y-o.y(),2));var g=this.findOne(".top-right").x()<h.x?-1:1,p=this.findOne(".top-right").y()>h.y?-1:1;r=i*this.cos*g,n=i*this.sin*p,this.findOne(".top-right").x(h.x+r),this.findOne(".top-right").y(h.y-n)}var m=o.position();this.findOne(".top-left").y(m.y),this.findOne(".bottom-right").x(m.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(f){var h=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(h.x-o.x(),2)+Math.pow(o.y()-h.y,2));var g=h.x<o.x()?-1:1,p=o.y()<h.y?-1:1;r=i*this.cos*g,n=i*this.sin*p,o.x(h.x-r),o.y(h.y+n)}m=o.position(),this.findOne(".top-left").x(m.x),this.findOne(".bottom-right").y(m.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(f){var h=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(o.x()-h.x,2)+Math.pow(o.y()-h.y,2));var g=this.findOne(".bottom-right").x()<h.x?-1:1,p=this.findOne(".bottom-right").y()<h.y?-1:1;r=i*this.cos*g,n=i*this.sin*p,this.findOne(".bottom-right").x(h.x+r),this.findOne(".bottom-right").y(h.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var b=this.centeredScaling()||e.altKey;if(b){const x=this.findOne(".top-left"),S=this.findOne(".bottom-right"),w=x.x(),T=x.y(),L=this.getWidth()-S.x(),E=this.getHeight()-S.y();S.move({x:-w,y:-T}),x.move({x:L,y:E})}const k=this.findOne(".top-left").getAbsolutePosition();r=k.x,n=k.y;const _=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),v=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:r,y:n,width:_,height:v,rotation:nn.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var r;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const n=this.getNode();lv--,this._fire("transformend",{evt:e,target:n}),(r=this.getLayer())===null||r===void 0||r.batchDraw(),n&&this._nodes.forEach(i=>{var o;i._fire("transformend",{evt:e,target:i}),(o=i.getLayer())===null||o===void 0||o.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,r){const n=this._getNodeRect(),i=1;if(Ot.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(Ot.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const o=new Ot.Transform;if(o.rotate(nn.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const f=o.point({x:-this.padding()*2,y:0});e.x+=f.x,e.y+=f.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const f=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const f=o.point({x:0,y:-this.padding()*2});e.x+=f.x,e.y+=f.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const f=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const f=this.boundBoxFunc()(n,e);f?e=f:Ot.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,a=new Ot.Transform;a.translate(n.x,n.y),a.rotate(n.rotation),a.scale(n.width/s,n.height/s);const l=new Ot.Transform,c=e.width/s,d=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(c),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(c,d));const u=l.multiply(a.invert());this._nodes.forEach(f=>{var h;const g=f.getParent().getAbsoluteTransform(),p=f.getTransform().copy();p.translate(f.offsetX(),f.offsetY());const m=new Ot.Transform;m.multiply(g.copy().invert()).multiply(u).multiply(g).multiply(p);const b=m.decompose();f.setAttrs(b),(h=f.getLayer())===null||h===void 0||h.batchDraw()}),this.rotation(Ot.Util._getRotation(e.rotation)),this._nodes.forEach(f=>{this._fire("transform",{evt:r,target:f}),f._fire("transform",{evt:r,target:f})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,r){this.findOne(e).setAttrs(r)}update(){var e;const r=this._getNodeRect();this.rotation(Ot.Util._getRotation(r.rotation));const n=r.width,i=r.height,o=this.enabledAnchors(),s=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),c=this.find("._anchor");c.forEach(u=>{u.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:s&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+a,visible:s&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:s&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:s&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:i/2,offsetX:l/2-a,visible:s&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:i,offsetY:l/2-a,visible:s&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:s&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*Ot.Util._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const d=this.anchorStyleFunc();d&&c.forEach(u=>{d(u)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),O_.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return D_.Node.prototype.toObject.call(this)}clone(e){return D_.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}zc.Transformer=wt;wt.isTransforming=()=>lv>0;function fP(t){return t instanceof Array||Ot.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){jl.indexOf(e)===-1&&Ot.Util.warn("Unknown anchor name: "+e+". Available names are: "+jl.join(", "))}),t||[]}wt.prototype.className="Transformer";(0,iP._registerNode)(wt);Ft.Factory.addGetterSetter(wt,"enabledAnchors",jl,fP);Ft.Factory.addGetterSetter(wt,"flipEnabled",!0,(0,Oi.getBooleanValidator)());Ft.Factory.addGetterSetter(wt,"resizeEnabled",!0);Ft.Factory.addGetterSetter(wt,"anchorSize",10,(0,Oi.getNumberValidator)());Ft.Factory.addGetterSetter(wt,"rotateEnabled",!0);Ft.Factory.addGetterSetter(wt,"rotateLineVisible",!0);Ft.Factory.addGetterSetter(wt,"rotationSnaps",[]);Ft.Factory.addGetterSetter(wt,"rotateAnchorOffset",50,(0,Oi.getNumberValidator)());Ft.Factory.addGetterSetter(wt,"rotateAnchorCursor","crosshair");Ft.Factory.addGetterSetter(wt,"rotationSnapTolerance",5,(0,Oi.getNumberValidator)());Ft.Factory.addGetterSetter(wt,"borderEnabled",!0);Ft.Factory.addGetterSetter(wt,"anchorStroke","rgb(0, 161, 255)");Ft.Factory.addGetterSetter(wt,"anchorStrokeWidth",1,(0,Oi.getNumberValidator)());Ft.Factory.addGetterSetter(wt,"anchorFill","white");Ft.Factory.addGetterSetter(wt,"anchorCornerRadius",0,(0,Oi.getNumberValidator)());Ft.Factory.addGetterSetter(wt,"borderStroke","rgb(0, 161, 255)");Ft.Factory.addGetterSetter(wt,"borderStrokeWidth",1,(0,Oi.getNumberValidator)());Ft.Factory.addGetterSetter(wt,"borderDash");Ft.Factory.addGetterSetter(wt,"keepRatio",!0);Ft.Factory.addGetterSetter(wt,"shiftBehavior","default");Ft.Factory.addGetterSetter(wt,"centeredScaling",!1);Ft.Factory.addGetterSetter(wt,"ignoreStroke",!1);Ft.Factory.addGetterSetter(wt,"padding",0,(0,Oi.getNumberValidator)());Ft.Factory.addGetterSetter(wt,"nodes");Ft.Factory.addGetterSetter(wt,"node");Ft.Factory.addGetterSetter(wt,"boundBoxFunc");Ft.Factory.addGetterSetter(wt,"anchorDragBoundFunc");Ft.Factory.addGetterSetter(wt,"anchorStyleFunc");Ft.Factory.addGetterSetter(wt,"shouldOverdrawWholeArea",!1);Ft.Factory.addGetterSetter(wt,"useSingleNodeRotation",!0);Ft.Factory.backCompat(wt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var Kc={};Object.defineProperty(Kc,"__esModule",{value:!0});Kc.Wedge=void 0;const Xc=pt,gP=sr,pP=ft,GT=tt,mP=ft;class Jn extends gP.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,pP.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Kc.Wedge=Jn;Jn.prototype.className="Wedge";Jn.prototype._centroid=!0;Jn.prototype._attrsAffectingSize=["radius"];(0,mP._registerNode)(Jn);Xc.Factory.addGetterSetter(Jn,"radius",0,(0,GT.getNumberValidator)());Xc.Factory.addGetterSetter(Jn,"angle",0,(0,GT.getNumberValidator)());Xc.Factory.addGetterSetter(Jn,"clockwise",!1);Xc.Factory.backCompat(Jn,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.Blur=void 0;const N_=pt,vP=Yt,bP=tt;function G_(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const _P=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],yP=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function wP(t,e){const r=t.data,n=t.width,i=t.height;let o,s,a,l,c,d,u,f,h,g,p,m,b,k,_,v,x,S,w,T,L,E,C,F;const $=e+e+1,O=n-1,M=i-1,I=e+1,W=I*(I+1)/2,q=new G_,G=_P[e],H=yP[e];let J=null,Z=q,te=null,ee=null;for(a=1;a<$;a++)Z=Z.next=new G_,a===I&&(J=Z);for(Z.next=q,u=d=0,s=0;s<i;s++){for(v=x=S=w=f=h=g=p=0,m=I*(T=r[d]),b=I*(L=r[d+1]),k=I*(E=r[d+2]),_=I*(C=r[d+3]),f+=W*T,h+=W*L,g+=W*E,p+=W*C,Z=q,a=0;a<I;a++)Z.r=T,Z.g=L,Z.b=E,Z.a=C,Z=Z.next;for(a=1;a<I;a++)l=d+((O<a?O:a)<<2),f+=(Z.r=T=r[l])*(F=I-a),h+=(Z.g=L=r[l+1])*F,g+=(Z.b=E=r[l+2])*F,p+=(Z.a=C=r[l+3])*F,v+=T,x+=L,S+=E,w+=C,Z=Z.next;for(te=q,ee=J,o=0;o<n;o++)r[d+3]=C=p*G>>H,C!==0?(C=255/C,r[d]=(f*G>>H)*C,r[d+1]=(h*G>>H)*C,r[d+2]=(g*G>>H)*C):r[d]=r[d+1]=r[d+2]=0,f-=m,h-=b,g-=k,p-=_,m-=te.r,b-=te.g,k-=te.b,_-=te.a,l=u+((l=o+e+1)<O?l:O)<<2,v+=te.r=r[l],x+=te.g=r[l+1],S+=te.b=r[l+2],w+=te.a=r[l+3],f+=v,h+=x,g+=S,p+=w,te=te.next,m+=T=ee.r,b+=L=ee.g,k+=E=ee.b,_+=C=ee.a,v-=T,x-=L,S-=E,w-=C,ee=ee.next,d+=4;u+=n}for(o=0;o<n;o++){for(x=S=w=v=h=g=p=f=0,d=o<<2,m=I*(T=r[d]),b=I*(L=r[d+1]),k=I*(E=r[d+2]),_=I*(C=r[d+3]),f+=W*T,h+=W*L,g+=W*E,p+=W*C,Z=q,a=0;a<I;a++)Z.r=T,Z.g=L,Z.b=E,Z.a=C,Z=Z.next;for(c=n,a=1;a<=e;a++)d=c+o<<2,f+=(Z.r=T=r[d])*(F=I-a),h+=(Z.g=L=r[d+1])*F,g+=(Z.b=E=r[d+2])*F,p+=(Z.a=C=r[d+3])*F,v+=T,x+=L,S+=E,w+=C,Z=Z.next,a<M&&(c+=n);for(d=o,te=q,ee=J,s=0;s<i;s++)l=d<<2,r[l+3]=C=p*G>>H,C>0?(C=255/C,r[l]=(f*G>>H)*C,r[l+1]=(h*G>>H)*C,r[l+2]=(g*G>>H)*C):r[l]=r[l+1]=r[l+2]=0,f-=m,h-=b,g-=k,p-=_,m-=te.r,b-=te.g,k-=te.b,_-=te.a,l=o+((l=s+I)<M?l:M)*n<<2,f+=v+=te.r=r[l],h+=x+=te.g=r[l+1],g+=S+=te.b=r[l+2],p+=w+=te.a=r[l+3],te=te.next,m+=T=ee.r,b+=L=ee.g,k+=E=ee.b,_+=C=ee.a,v-=T,x-=L,S-=E,w-=C,ee=ee.next,d+=n}}const kP=function(e){const r=Math.round(this.blurRadius());r>0&&wP(e,r)};Yc.Blur=kP;N_.Factory.addGetterSetter(vP.Node,"blurRadius",0,(0,bP.getNumberValidator)(),N_.Factory.afterSetFilter);var Jc={};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.Brighten=void 0;const U_=pt,SP=Yt,xP=tt,TP=function(t){const e=this.brightness()*255,r=t.data,n=r.length;for(let i=0;i<n;i+=4)r[i]+=e,r[i+1]+=e,r[i+2]+=e};Jc.Brighten=TP;U_.Factory.addGetterSetter(SP.Node,"brightness",0,(0,xP.getNumberValidator)(),U_.Factory.afterSetFilter);var Zc={};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.Contrast=void 0;const W_=pt,EP=Yt,CP=tt,LP=function(t){const e=Math.pow((this.contrast()+100)/100,2),r=t.data,n=r.length;let i=150,o=150,s=150;for(let a=0;a<n;a+=4)i=r[a],o=r[a+1],s=r[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,i=i<0?0:i>255?255:i,o=o<0?0:o>255?255:o,s=s<0?0:s>255?255:s,r[a]=i,r[a+1]=o,r[a+2]=s};Zc.Contrast=LP;W_.Factory.addGetterSetter(EP.Node,"contrast",0,(0,CP.getNumberValidator)(),W_.Factory.afterSetFilter);var Qc={};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.Emboss=void 0;const ki=pt,ed=Yt,IP=Zt,UT=tt,AP=function(t){const e=this.embossStrength()*10,r=this.embossWhiteLevel()*255,n=this.embossDirection(),i=this.embossBlend(),o=t.data,s=t.width,a=t.height,l=s*4;let c=0,d=0,u=a;switch(n){case"top-left":c=-1,d=-1;break;case"top":c=-1,d=0;break;case"top-right":c=-1,d=1;break;case"right":c=0,d=1;break;case"bottom-right":c=1,d=1;break;case"bottom":c=1,d=0;break;case"bottom-left":c=1,d=-1;break;case"left":c=0,d=-1;break;default:IP.Util.error("Unknown emboss direction: "+n)}do{const f=(u-1)*l;let h=c;u+h<1&&(h=0),u+h>a&&(h=0);const g=(u-1+h)*s*4;let p=s;do{const m=f+(p-1)*4;let b=d;p+b<1&&(b=0),p+b>s&&(b=0);const k=g+(p-1+b)*4,_=o[m]-o[k],v=o[m+1]-o[k+1],x=o[m+2]-o[k+2];let S=_;const w=S>0?S:-S,T=v>0?v:-v,L=x>0?x:-x;if(T>w&&(S=v),L>w&&(S=x),S*=e,i){const E=o[m]+S,C=o[m+1]+S,F=o[m+2]+S;o[m]=E>255?255:E<0?0:E,o[m+1]=C>255?255:C<0?0:C,o[m+2]=F>255?255:F<0?0:F}else{let E=r-S;E<0?E=0:E>255&&(E=255),o[m]=o[m+1]=o[m+2]=E}}while(--p)}while(--u)};Qc.Emboss=AP;ki.Factory.addGetterSetter(ed.Node,"embossStrength",.5,(0,UT.getNumberValidator)(),ki.Factory.afterSetFilter);ki.Factory.addGetterSetter(ed.Node,"embossWhiteLevel",.5,(0,UT.getNumberValidator)(),ki.Factory.afterSetFilter);ki.Factory.addGetterSetter(ed.Node,"embossDirection","top-left",void 0,ki.Factory.afterSetFilter);ki.Factory.addGetterSetter(ed.Node,"embossBlend",!1,void 0,ki.Factory.afterSetFilter);var td={};Object.defineProperty(td,"__esModule",{value:!0});td.Enhance=void 0;const q_=pt,FP=Yt,RP=tt;function wu(t,e,r,n,i){const o=r-e,s=i-n;if(o===0)return n+s/2;if(s===0)return n;let a=(t-e)/o;return a=s*a+n,a}const PP=function(t){const e=t.data,r=e.length;let n=e[0],i=n,o,s=e[1],a=s,l,c=e[2],d=c,u;const f=this.enhance();if(f===0)return;for(let S=0;S<r;S+=4)o=e[S+0],o<n?n=o:o>i&&(i=o),l=e[S+1],l<s?s=l:l>a&&(a=l),u=e[S+2],u<c?c=u:u>d&&(d=u);i===n&&(i=255,n=0),a===s&&(a=255,s=0),d===c&&(d=255,c=0);let h,g,p,m,b,k,_,v,x;f>0?(g=i+f*(255-i),p=n-f*(n-0),b=a+f*(255-a),k=s-f*(s-0),v=d+f*(255-d),x=c-f*(c-0)):(h=(i+n)*.5,g=i+f*(i-h),p=n+f*(n-h),m=(a+s)*.5,b=a+f*(a-m),k=s+f*(s-m),_=(d+c)*.5,v=d+f*(d-_),x=c+f*(c-_));for(let S=0;S<r;S+=4)e[S+0]=wu(e[S+0],n,i,p,g),e[S+1]=wu(e[S+1],s,a,k,b),e[S+2]=wu(e[S+2],c,d,x,v)};td.Enhance=PP;q_.Factory.addGetterSetter(FP.Node,"enhance",0,(0,RP.getNumberValidator)(),q_.Factory.afterSetFilter);var rd={};Object.defineProperty(rd,"__esModule",{value:!0});rd.Grayscale=void 0;const $P=function(t){const e=t.data,r=e.length;for(let n=0;n<r;n+=4){const i=.34*e[n]+.5*e[n+1]+.16*e[n+2];e[n]=i,e[n+1]=i,e[n+2]=i}};rd.Grayscale=$P;var nd={};Object.defineProperty(nd,"__esModule",{value:!0});nd.HSL=void 0;const us=pt,hb=Yt,fb=tt;us.Factory.addGetterSetter(hb.Node,"hue",0,(0,fb.getNumberValidator)(),us.Factory.afterSetFilter);us.Factory.addGetterSetter(hb.Node,"saturation",0,(0,fb.getNumberValidator)(),us.Factory.afterSetFilter);us.Factory.addGetterSetter(hb.Node,"luminance",0,(0,fb.getNumberValidator)(),us.Factory.afterSetFilter);const DP=function(t){const e=t.data,r=e.length,n=1,i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=this.luminance()*127,a=n*i*Math.cos(o*Math.PI/180),l=n*i*Math.sin(o*Math.PI/180),c=.299*n+.701*a+.167*l,d=.587*n-.587*a+.33*l,u=.114*n-.114*a-.497*l,f=.299*n-.299*a-.328*l,h=.587*n+.413*a+.035*l,g=.114*n-.114*a+.293*l,p=.299*n-.3*a+1.25*l,m=.587*n-.586*a-1.05*l,b=.114*n+.886*a-.2*l;let k,_,v,x;for(let S=0;S<r;S+=4)k=e[S+0],_=e[S+1],v=e[S+2],x=e[S+3],e[S+0]=c*k+d*_+u*v+s,e[S+1]=f*k+h*_+g*v+s,e[S+2]=p*k+m*_+b*v+s,e[S+3]=x};nd.HSL=DP;var id={};Object.defineProperty(id,"__esModule",{value:!0});id.HSV=void 0;const hs=pt,gb=Yt,pb=tt,OP=function(t){const e=t.data,r=e.length,n=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,s=n*i*Math.cos(o*Math.PI/180),a=n*i*Math.sin(o*Math.PI/180),l=.299*n+.701*s+.167*a,c=.587*n-.587*s+.33*a,d=.114*n-.114*s-.497*a,u=.299*n-.299*s-.328*a,f=.587*n+.413*s+.035*a,h=.114*n-.114*s+.293*a,g=.299*n-.3*s+1.25*a,p=.587*n-.586*s-1.05*a,m=.114*n+.886*s-.2*a;let b,k,_,v;for(let x=0;x<r;x+=4)b=e[x+0],k=e[x+1],_=e[x+2],v=e[x+3],e[x+0]=l*b+c*k+d*_,e[x+1]=u*b+f*k+h*_,e[x+2]=g*b+p*k+m*_,e[x+3]=v};id.HSV=OP;hs.Factory.addGetterSetter(gb.Node,"hue",0,(0,pb.getNumberValidator)(),hs.Factory.afterSetFilter);hs.Factory.addGetterSetter(gb.Node,"saturation",0,(0,pb.getNumberValidator)(),hs.Factory.afterSetFilter);hs.Factory.addGetterSetter(gb.Node,"value",0,(0,pb.getNumberValidator)(),hs.Factory.afterSetFilter);var od={};Object.defineProperty(od,"__esModule",{value:!0});od.Invert=void 0;const BP=function(t){const e=t.data,r=e.length;for(let n=0;n<r;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2]};od.Invert=BP;var sd={};Object.defineProperty(sd,"__esModule",{value:!0});sd.Kaleidoscope=void 0;const zl=pt,WT=Yt,H_=Zt,qT=tt,MP=function(t,e,r){const n=t.data,i=e.data,o=t.width,s=t.height,a=r.polarCenterX||o/2,l=r.polarCenterY||s/2;let c=Math.sqrt(a*a+l*l),d=o-a,u=s-l;const f=Math.sqrt(d*d+u*u);c=f>c?f:c;const h=s,g=o,p=360/g*Math.PI/180;for(let m=0;m<g;m+=1){const b=Math.sin(m*p),k=Math.cos(m*p);for(let _=0;_<h;_+=1){d=Math.floor(a+c*_/h*k),u=Math.floor(l+c*_/h*b);let v=(u*o+d)*4;const x=n[v+0],S=n[v+1],w=n[v+2],T=n[v+3];v=(m+_*o)*4,i[v+0]=x,i[v+1]=S,i[v+2]=w,i[v+3]=T}}},NP=function(t,e,r){const n=t.data,i=e.data,o=t.width,s=t.height,a=r.polarCenterX||o/2,l=r.polarCenterY||s/2;let c=Math.sqrt(a*a+l*l),d=o-a,u=s-l;const f=Math.sqrt(d*d+u*u);c=f>c?f:c;const h=s,g=o,p=r.polarRotation||0;let m,b;for(d=0;d<o;d+=1)for(u=0;u<s;u+=1){const k=d-a,_=u-l,v=Math.sqrt(k*k+_*_)*h/c;let x=(Math.atan2(_,k)*180/Math.PI+360+p)%360;x=x*g/360,m=Math.floor(x),b=Math.floor(v);let S=(b*o+m)*4;const w=n[S+0],T=n[S+1],L=n[S+2],E=n[S+3];S=(u*o+d)*4,i[S+0]=w,i[S+1]=T,i[S+2]=L,i[S+3]=E}},GP=function(t){const e=t.width,r=t.height;let n,i,o,s,a,l,c,d,u,f,h=Math.round(this.kaleidoscopePower());const g=Math.round(this.kaleidoscopeAngle()),p=Math.floor(e*(g%360)/360);if(h<1)return;const m=H_.Util.createCanvasElement();m.width=e,m.height=r;const b=m.getContext("2d").getImageData(0,0,e,r);H_.Util.releaseCanvas(m),MP(t,b,{polarCenterX:e/2,polarCenterY:r/2});let k=e/Math.pow(2,h);for(;k<=8;)k=k*2,h-=1;k=Math.ceil(k);let _=k,v=0,x=_,S=1;for(p+k>e&&(v=_,x=0,S=-1),i=0;i<r;i+=1)for(n=v;n!==x;n+=S)o=Math.round(n+p)%e,u=(e*i+o)*4,a=b.data[u+0],l=b.data[u+1],c=b.data[u+2],d=b.data[u+3],f=(e*i+n)*4,b.data[f+0]=a,b.data[f+1]=l,b.data[f+2]=c,b.data[f+3]=d;for(i=0;i<r;i+=1)for(_=Math.floor(k),s=0;s<h;s+=1){for(n=0;n<_+1;n+=1)u=(e*i+n)*4,a=b.data[u+0],l=b.data[u+1],c=b.data[u+2],d=b.data[u+3],f=(e*i+_*2-n-1)*4,b.data[f+0]=a,b.data[f+1]=l,b.data[f+2]=c,b.data[f+3]=d;_*=2}NP(b,t,{polarRotation:0})};sd.Kaleidoscope=GP;zl.Factory.addGetterSetter(WT.Node,"kaleidoscopePower",2,(0,qT.getNumberValidator)(),zl.Factory.afterSetFilter);zl.Factory.addGetterSetter(WT.Node,"kaleidoscopeAngle",0,(0,qT.getNumberValidator)(),zl.Factory.afterSetFilter);var ad={};Object.defineProperty(ad,"__esModule",{value:!0});ad.Mask=void 0;const V_=pt,UP=Yt,WP=tt;function el(t,e,r){let n=(r*t.width+e)*4;const i=[];return i.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),i}function Us(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function qP(t){const e=[0,0,0];for(let r=0;r<t.length;r++)e[0]+=t[r][0],e[1]+=t[r][1],e[2]+=t[r][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function HP(t,e){const r=el(t,0,0),n=el(t,t.width-1,0),i=el(t,0,t.height-1),o=el(t,t.width-1,t.height-1),s=e||10;if(Us(r,n)<s&&Us(n,o)<s&&Us(o,i)<s&&Us(i,r)<s){const a=qP([n,r,o,i]),l=[];for(let c=0;c<t.width*t.height;c++){const d=Us(a,[t.data[c*4],t.data[c*4+1],t.data[c*4+2]]);l[c]=d<s?0:255}return l}}function VP(t,e){for(let r=0;r<t.width*t.height;r++)t.data[4*r+3]=e[r]}function jP(t,e,r){const n=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),s=[];for(let a=0;a<r;a++)for(let l=0;l<e;l++){const c=a*e+l;let d=0;for(let u=0;u<i;u++)for(let f=0;f<i;f++){const h=a+u-o,g=l+f-o;if(h>=0&&h<r&&g>=0&&g<e){const p=h*e+g,m=n[u*i+f];d+=t[p]*m}}s[c]=d===255*8?255:0}return s}function zP(t,e,r){const n=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),s=[];for(let a=0;a<r;a++)for(let l=0;l<e;l++){const c=a*e+l;let d=0;for(let u=0;u<i;u++)for(let f=0;f<i;f++){const h=a+u-o,g=l+f-o;if(h>=0&&h<r&&g>=0&&g<e){const p=h*e+g,m=n[u*i+f];d+=t[p]*m}}s[c]=d>=255*4?255:0}return s}function KP(t,e,r){const n=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(n.length)),o=Math.floor(i/2),s=[];for(let a=0;a<r;a++)for(let l=0;l<e;l++){const c=a*e+l;let d=0;for(let u=0;u<i;u++)for(let f=0;f<i;f++){const h=a+u-o,g=l+f-o;if(h>=0&&h<r&&g>=0&&g<e){const p=h*e+g,m=n[u*i+f];d+=t[p]*m}}s[c]=d}return s}const XP=function(t){const e=this.threshold();let r=HP(t,e);return r&&(r=jP(r,t.width,t.height),r=zP(r,t.width,t.height),r=KP(r,t.width,t.height),VP(t,r)),t};ad.Mask=XP;V_.Factory.addGetterSetter(UP.Node,"threshold",0,(0,WP.getNumberValidator)(),V_.Factory.afterSetFilter);var ld={};Object.defineProperty(ld,"__esModule",{value:!0});ld.Noise=void 0;const j_=pt,YP=Yt,JP=tt,ZP=function(t){const e=this.noise()*255,r=t.data,n=r.length,i=e/2;for(let o=0;o<n;o+=4)r[o+0]+=i-2*i*Math.random(),r[o+1]+=i-2*i*Math.random(),r[o+2]+=i-2*i*Math.random()};ld.Noise=ZP;j_.Factory.addGetterSetter(YP.Node,"noise",.2,(0,JP.getNumberValidator)(),j_.Factory.afterSetFilter);var cd={};Object.defineProperty(cd,"__esModule",{value:!0});cd.Pixelate=void 0;const z_=pt,QP=Zt,e$=Yt,t$=tt,r$=function(t){let e=Math.ceil(this.pixelSize()),r=t.width,n=t.height,i,o,s,a,l,c,d,u=Math.ceil(r/e),f=Math.ceil(n/e),h,g,p,m,b,k,_,v=t.data;if(e<=0){QP.Util.error("pixelSize value can not be <= 0");return}for(b=0;b<u;b+=1)for(k=0;k<f;k+=1){for(a=0,l=0,c=0,d=0,h=b*e,g=h+e,p=k*e,m=p+e,_=0,i=h;i<g;i+=1)if(!(i>=r))for(o=p;o<m;o+=1)o>=n||(s=(r*o+i)*4,a+=v[s+0],l+=v[s+1],c+=v[s+2],d+=v[s+3],_+=1);for(a=a/_,l=l/_,c=c/_,d=d/_,i=h;i<g;i+=1)if(!(i>=r))for(o=p;o<m;o+=1)o>=n||(s=(r*o+i)*4,v[s+0]=a,v[s+1]=l,v[s+2]=c,v[s+3]=d)}};cd.Pixelate=r$;z_.Factory.addGetterSetter(e$.Node,"pixelSize",8,(0,t$.getNumberValidator)(),z_.Factory.afterSetFilter);var dd={};Object.defineProperty(dd,"__esModule",{value:!0});dd.Posterize=void 0;const K_=pt,n$=Yt,i$=tt,o$=function(t){const e=Math.round(this.levels()*254)+1,r=t.data,n=r.length,i=255/e;for(let o=0;o<n;o+=1)r[o]=Math.floor(r[o]/i)*i};dd.Posterize=o$;K_.Factory.addGetterSetter(n$.Node,"levels",.5,(0,i$.getNumberValidator)(),K_.Factory.afterSetFilter);var ud={};Object.defineProperty(ud,"__esModule",{value:!0});ud.RGB=void 0;const Kl=pt,mb=Yt,s$=tt,a$=function(t){const e=t.data,r=e.length,n=this.red(),i=this.green(),o=this.blue();for(let s=0;s<r;s+=4){const a=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255;e[s]=a*n,e[s+1]=a*i,e[s+2]=a*o,e[s+3]=e[s+3]}};ud.RGB=a$;Kl.Factory.addGetterSetter(mb.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Kl.Factory.addGetterSetter(mb.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Kl.Factory.addGetterSetter(mb.Node,"blue",0,s$.RGBComponent,Kl.Factory.afterSetFilter);var hd={};Object.defineProperty(hd,"__esModule",{value:!0});hd.RGBA=void 0;const ua=pt,fd=Yt,l$=tt,c$=function(t){const e=t.data,r=e.length,n=this.red(),i=this.green(),o=this.blue(),s=this.alpha();for(let a=0;a<r;a+=4){const l=1-s;e[a]=n*s+e[a]*l,e[a+1]=i*s+e[a+1]*l,e[a+2]=o*s+e[a+2]*l}};hd.RGBA=c$;ua.Factory.addGetterSetter(fd.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ua.Factory.addGetterSetter(fd.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ua.Factory.addGetterSetter(fd.Node,"blue",0,l$.RGBComponent,ua.Factory.afterSetFilter);ua.Factory.addGetterSetter(fd.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var gd={};Object.defineProperty(gd,"__esModule",{value:!0});gd.Sepia=void 0;const d$=function(t){const e=t.data,r=e.length;for(let n=0;n<r;n+=4){const i=e[n+0],o=e[n+1],s=e[n+2];e[n+0]=Math.min(255,i*.393+o*.769+s*.189),e[n+1]=Math.min(255,i*.349+o*.686+s*.168),e[n+2]=Math.min(255,i*.272+o*.534+s*.131)}};gd.Sepia=d$;var pd={};Object.defineProperty(pd,"__esModule",{value:!0});pd.Solarize=void 0;const u$=function(t){const e=t.data,r=t.width,n=t.height,i=r*4;let o=n;do{const s=(o-1)*i;let a=r;do{const l=s+(a-1)*4;let c=e[l],d=e[l+1],u=e[l+2];c>127&&(c=255-c),d>127&&(d=255-d),u>127&&(u=255-u),e[l]=c,e[l+1]=d,e[l+2]=u}while(--a)}while(--o)};pd.Solarize=u$;var md={};Object.defineProperty(md,"__esModule",{value:!0});md.Threshold=void 0;const X_=pt,h$=Yt,f$=tt,g$=function(t){const e=this.threshold()*255,r=t.data,n=r.length;for(let i=0;i<n;i+=1)r[i]=r[i]<e?0:255};md.Threshold=g$;X_.Factory.addGetterSetter(h$.Node,"threshold",.5,(0,f$.getNumberValidator)(),X_.Factory.afterSetFilter);Object.defineProperty(Ec,"__esModule",{value:!0});Ec.Konva=void 0;const Y_=dT,p$=Fc,m$=$c,v$=Bc,b$=Mc,_$=Nc,J_=ds,y$=Ta,w$=Ss,k$=Ca,S$=Wc,x$=qc,T$=Hc,E$=Vc,C$=Ts,L$=jc,I$=zc,A$=Kc,F$=Yc,R$=Jc,P$=Zc,$$=Qc,D$=td,O$=rd,B$=nd,M$=id,N$=od,G$=sd,U$=ad,W$=ld,q$=cd,H$=dd,V$=ud,j$=hd,z$=gd,K$=pd,X$=md;Ec.Konva=Y_.Konva.Util._assign(Y_.Konva,{Arc:p$.Arc,Arrow:m$.Arrow,Circle:v$.Circle,Ellipse:b$.Ellipse,Image:_$.Image,Label:J_.Label,Tag:J_.Tag,Line:y$.Line,Path:w$.Path,Rect:k$.Rect,RegularPolygon:S$.RegularPolygon,Ring:x$.Ring,Sprite:T$.Sprite,Star:E$.Star,Text:C$.Text,TextPath:L$.TextPath,Transformer:I$.Transformer,Wedge:A$.Wedge,Filters:{Blur:F$.Blur,Brighten:R$.Brighten,Contrast:P$.Contrast,Emboss:$$.Emboss,Enhance:D$.Enhance,Grayscale:O$.Grayscale,HSL:B$.HSL,HSV:M$.HSV,Invert:N$.Invert,Kaleidoscope:G$.Kaleidoscope,Mask:U$.Mask,Noise:W$.Noise,Pixelate:q$.Pixelate,Posterize:H$.Posterize,RGB:V$.RGB,RGBA:j$.RGBA,Sepia:z$.Sepia,Solarize:K$.Solarize,Threshold:X$.Threshold}});var Y$=tb.exports;Object.defineProperty(Y$,"__esModule",{value:!0});const J$=Ec;tb.exports=J$.Konva;var Z$=tb.exports;const cr=xc(Z$);function vb(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ku,Z_;function Q$(){if(Z_)return ku;Z_=1;function t(){this.__data__=[],this.size=0}return ku=t,ku}var Su,Q_;function Es(){if(Q_)return Su;Q_=1;function t(e,r){return e===r||e!==e&&r!==r}return Su=t,Su}var xu,ey;function vd(){if(ey)return xu;ey=1;var t=Es();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return xu=e,xu}var Tu,ty;function eD(){if(ty)return Tu;ty=1;var t=vd(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():r.call(o,s,1),--this.size,!0}return Tu=n,Tu}var Eu,ry;function tD(){if(ry)return Eu;ry=1;var t=vd();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return Eu=e,Eu}var Cu,ny;function rD(){if(ny)return Cu;ny=1;var t=vd();function e(r){return t(this.__data__,r)>-1}return Cu=e,Cu}var Lu,iy;function nD(){if(iy)return Lu;iy=1;var t=vd();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return Lu=e,Lu}var Iu,oy;function bd(){if(oy)return Iu;oy=1;var t=Q$(),e=eD(),r=tD(),n=rD(),i=nD();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,Iu=o,Iu}var Au,sy;function iD(){if(sy)return Au;sy=1;var t=bd();function e(){this.__data__=new t,this.size=0}return Au=e,Au}var Fu,ay;function oD(){if(ay)return Fu;ay=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Fu=t,Fu}var Ru,ly;function sD(){if(ly)return Ru;ly=1;function t(e){return this.__data__.get(e)}return Ru=t,Ru}var Pu,cy;function aD(){if(cy)return Pu;cy=1;function t(e){return this.__data__.has(e)}return Pu=t,Pu}var $u,dy;function HT(){if(dy)return $u;dy=1;var t=typeof wn=="object"&&wn&&wn.Object===Object&&wn;return $u=t,$u}var Du,uy;function pn(){if(uy)return Du;uy=1;var t=HT(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Du=r,Du}var Ou,hy;function Cs(){if(hy)return Ou;hy=1;var t=pn(),e=t.Symbol;return Ou=e,Ou}var Bu,fy;function lD(){if(fy)return Bu;fy=1;var t=Cs(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(s){var a=r.call(s,i),l=s[i];try{s[i]=void 0;var c=!0}catch{}var d=n.call(s);return c&&(a?s[i]=l:delete s[i]),d}return Bu=o,Bu}var Mu,gy;function cD(){if(gy)return Mu;gy=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Mu=r,Mu}var Nu,py;function go(){if(py)return Nu;py=1;var t=Cs(),e=lD(),r=cD(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?i:n:o&&o in Object(a)?e(a):r(a)}return Nu=s,Nu}var Gu,my;function Jr(){if(my)return Gu;my=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Gu=t,Gu}var Uu,vy;function La(){if(vy)return Uu;vy=1;var t=go(),e=Jr(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var l=t(a);return l==n||l==i||l==r||l==o}return Uu=s,Uu}var Wu,by;function dD(){if(by)return Wu;by=1;var t=pn(),e=t["__core-js_shared__"];return Wu=e,Wu}var qu,_y;function uD(){if(_y)return qu;_y=1;var t=dD(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return qu=r,qu}var Hu,yy;function VT(){if(yy)return Hu;yy=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Hu=r,Hu}var Vu,wy;function hD(){if(wy)return Vu;wy=1;var t=La(),e=uD(),r=Jr(),n=VT(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u(f){if(!r(f)||e(f))return!1;var h=t(f)?d:o;return h.test(n(f))}return Vu=u,Vu}var ju,ky;function fD(){if(ky)return ju;ky=1;function t(e,r){return e?.[r]}return ju=t,ju}var zu,Sy;function po(){if(Sy)return zu;Sy=1;var t=hD(),e=fD();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return zu=r,zu}var Ku,xy;function bb(){if(xy)return Ku;xy=1;var t=po(),e=pn(),r=t(e,"Map");return Ku=r,Ku}var Xu,Ty;function _d(){if(Ty)return Xu;Ty=1;var t=po(),e=t(Object,"create");return Xu=e,Xu}var Yu,Ey;function gD(){if(Ey)return Yu;Ey=1;var t=_d();function e(){this.__data__=t?t(null):{},this.size=0}return Yu=e,Yu}var Ju,Cy;function pD(){if(Cy)return Ju;Cy=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Ju=t,Ju}var Zu,Ly;function mD(){if(Ly)return Zu;Ly=1;var t=_d(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var s=this.__data__;if(t){var a=s[o];return a===e?void 0:a}return n.call(s,o)?s[o]:void 0}return Zu=i,Zu}var Qu,Iy;function vD(){if(Iy)return Qu;Iy=1;var t=_d(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return Qu=n,Qu}var eh,Ay;function bD(){if(Ay)return eh;Ay=1;var t=_d(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return eh=r,eh}var th,Fy;function _D(){if(Fy)return th;Fy=1;var t=gD(),e=pD(),r=mD(),n=vD(),i=bD();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,th=o,th}var rh,Ry;function yD(){if(Ry)return rh;Ry=1;var t=_D(),e=bd(),r=bb();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return rh=n,rh}var nh,Py;function wD(){if(Py)return nh;Py=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return nh=t,nh}var ih,$y;function yd(){if($y)return ih;$y=1;var t=wD();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return ih=e,ih}var oh,Dy;function kD(){if(Dy)return oh;Dy=1;var t=yd();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return oh=e,oh}var sh,Oy;function SD(){if(Oy)return sh;Oy=1;var t=yd();function e(r){return t(this,r).get(r)}return sh=e,sh}var ah,By;function xD(){if(By)return ah;By=1;var t=yd();function e(r){return t(this,r).has(r)}return ah=e,ah}var lh,My;function TD(){if(My)return lh;My=1;var t=yd();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return lh=e,lh}var ch,Ny;function _b(){if(Ny)return ch;Ny=1;var t=yD(),e=kD(),r=SD(),n=xD(),i=TD();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,ch=o,ch}var dh,Gy;function ED(){if(Gy)return dh;Gy=1;var t=bd(),e=bb(),r=_b(),n=200;function i(o,s){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<n-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new r(l)}return a.set(o,s),this.size=a.size,this}return dh=i,dh}var uh,Uy;function wd(){if(Uy)return uh;Uy=1;var t=bd(),e=iD(),r=oD(),n=sD(),i=aD(),o=ED();function s(a){var l=this.__data__=new t(a);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,uh=s,uh}var hh,Wy;function yb(){if(Wy)return hh;Wy=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return hh=t,hh}var fh,qy;function jT(){if(qy)return fh;qy=1;var t=po(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return fh=e,fh}var gh,Hy;function kd(){if(Hy)return gh;Hy=1;var t=jT();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return gh=e,gh}var ph,Vy;function Sd(){if(Vy)return ph;Vy=1;var t=kd(),e=Es(),r=Object.prototype,n=r.hasOwnProperty;function i(o,s,a){var l=o[s];(!(n.call(o,s)&&e(l,a))||a===void 0&&!(s in o))&&t(o,s,a)}return ph=i,ph}var mh,jy;function Ia(){if(jy)return mh;jy=1;var t=Sd(),e=kd();function r(n,i,o,s){var a=!o;o||(o={});for(var l=-1,c=i.length;++l<c;){var d=i[l],u=s?s(o[d],n[d],d,o,n):void 0;u===void 0&&(u=n[d]),a?e(o,d,u):t(o,d,u)}return o}return mh=r,mh}var vh,zy;function CD(){if(zy)return vh;zy=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return vh=t,vh}var bh,Ky;function An(){if(Ky)return bh;Ky=1;function t(e){return e!=null&&typeof e=="object"}return bh=t,bh}var _h,Xy;function LD(){if(Xy)return _h;Xy=1;var t=go(),e=An(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return _h=n,_h}var yh,Yy;function Aa(){if(Yy)return yh;Yy=1;var t=LD(),e=An(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return yh=o,yh}var wh,Jy;function ir(){if(Jy)return wh;Jy=1;var t=Array.isArray;return wh=t,wh}var Hs={exports:{}},kh,Zy;function ID(){if(Zy)return kh;Zy=1;function t(){return!1}return kh=t,kh}Hs.exports;var Qy;function Ls(){return Qy||(Qy=1,function(t,e){var r=pn(),n=ID(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?r.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||n;t.exports=c}(Hs,Hs.exports)),Hs.exports}var Sh,e1;function xd(){if(e1)return Sh;e1=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Sh=r,Sh}var xh,t1;function wb(){if(t1)return xh;t1=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return xh=e,xh}var Th,r1;function AD(){if(r1)return Th;r1=1;var t=go(),e=wb(),r=An(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",u="[object Object]",f="[object RegExp]",h="[object Set]",g="[object String]",p="[object WeakMap]",m="[object ArrayBuffer]",b="[object DataView]",k="[object Float32Array]",_="[object Float64Array]",v="[object Int8Array]",x="[object Int16Array]",S="[object Int32Array]",w="[object Uint8Array]",T="[object Uint8ClampedArray]",L="[object Uint16Array]",E="[object Uint32Array]",C={};C[k]=C[_]=C[v]=C[x]=C[S]=C[w]=C[T]=C[L]=C[E]=!0,C[n]=C[i]=C[m]=C[o]=C[b]=C[s]=C[a]=C[l]=C[c]=C[d]=C[u]=C[f]=C[h]=C[g]=C[p]=!1;function F($){return r($)&&e($.length)&&!!C[t($)]}return Th=F,Th}var Eh,n1;function Td(){if(n1)return Eh;n1=1;function t(e){return function(r){return e(r)}}return Eh=t,Eh}var Vs={exports:{}};Vs.exports;var i1;function kb(){return i1||(i1=1,function(t,e){var r=HT(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a}(Vs,Vs.exports)),Vs.exports}var Ch,o1;function Fa(){if(o1)return Ch;o1=1;var t=AD(),e=Td(),r=kb(),n=r&&r.isTypedArray,i=n?e(n):t;return Ch=i,Ch}var Lh,s1;function zT(){if(s1)return Lh;s1=1;var t=CD(),e=Aa(),r=ir(),n=Ls(),i=xd(),o=Fa(),s=Object.prototype,a=s.hasOwnProperty;function l(c,d){var u=r(c),f=!u&&e(c),h=!u&&!f&&n(c),g=!u&&!f&&!h&&o(c),p=u||f||h||g,m=p?t(c.length,String):[],b=m.length;for(var k in c)(d||a.call(c,k))&&!(p&&(k=="length"||h&&(k=="offset"||k=="parent")||g&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,b)))&&m.push(k);return m}return Lh=l,Lh}var Ih,a1;function Ed(){if(a1)return Ih;a1=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return Ih=e,Ih}var Ah,l1;function KT(){if(l1)return Ah;l1=1;function t(e,r){return function(n){return e(r(n))}}return Ah=t,Ah}var Fh,c1;function FD(){if(c1)return Fh;c1=1;var t=KT(),e=t(Object.keys,Object);return Fh=e,Fh}var Rh,d1;function Sb(){if(d1)return Rh;d1=1;var t=Ed(),e=FD(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))n.call(o,a)&&a!="constructor"&&s.push(a);return s}return Rh=i,Rh}var Ph,u1;function Zn(){if(u1)return Ph;u1=1;var t=La(),e=wb();function r(n){return n!=null&&e(n.length)&&!t(n)}return Ph=r,Ph}var $h,h1;function Bi(){if(h1)return $h;h1=1;var t=zT(),e=Sb(),r=Zn();function n(i){return r(i)?t(i):e(i)}return $h=n,$h}var Dh,f1;function RD(){if(f1)return Dh;f1=1;var t=Ia(),e=Bi();function r(n,i){return n&&t(i,e(i),n)}return Dh=r,Dh}var Oh,g1;function PD(){if(g1)return Oh;g1=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return Oh=t,Oh}var Bh,p1;function $D(){if(p1)return Bh;p1=1;var t=Jr(),e=Ed(),r=PD(),n=Object.prototype,i=n.hasOwnProperty;function o(s){if(!t(s))return r(s);var a=e(s),l=[];for(var c in s)c=="constructor"&&(a||!i.call(s,c))||l.push(c);return l}return Bh=o,Bh}var Mh,m1;function mo(){if(m1)return Mh;m1=1;var t=zT(),e=$D(),r=Zn();function n(i){return r(i)?t(i,!0):e(i)}return Mh=n,Mh}var Nh,v1;function DD(){if(v1)return Nh;v1=1;var t=Ia(),e=mo();function r(n,i){return n&&t(i,e(i),n)}return Nh=r,Nh}var js={exports:{}};js.exports;var b1;function XT(){return b1||(b1=1,function(t,e){var r=pn(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var u=c.length,f=a?a(u):new c.constructor(u);return c.copy(f),f}t.exports=l}(js,js.exports)),js.exports}var Gh,_1;function YT(){if(_1)return Gh;_1=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return Gh=t,Gh}var Uh,y1;function JT(){if(y1)return Uh;y1=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,s=[];++n<i;){var a=e[n];r(a,n,e)&&(s[o++]=a)}return s}return Uh=t,Uh}var Wh,w1;function ZT(){if(w1)return Wh;w1=1;function t(){return[]}return Wh=t,Wh}var qh,k1;function xb(){if(k1)return qh;k1=1;var t=JT(),e=ZT(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(a){return n.call(s,a)}))}:e;return qh=o,qh}var Hh,S1;function OD(){if(S1)return Hh;S1=1;var t=Ia(),e=xb();function r(n,i){return t(n,e(n),i)}return Hh=r,Hh}var Vh,x1;function Tb(){if(x1)return Vh;x1=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return Vh=t,Vh}var jh,T1;function Cd(){if(T1)return jh;T1=1;var t=KT(),e=t(Object.getPrototypeOf,Object);return jh=e,jh}var zh,E1;function QT(){if(E1)return zh;E1=1;var t=Tb(),e=Cd(),r=xb(),n=ZT(),i=Object.getOwnPropertySymbols,o=i?function(s){for(var a=[];s;)t(a,r(s)),s=e(s);return a}:n;return zh=o,zh}var Kh,C1;function BD(){if(C1)return Kh;C1=1;var t=Ia(),e=QT();function r(n,i){return t(n,e(n),i)}return Kh=r,Kh}var Xh,L1;function eE(){if(L1)return Xh;L1=1;var t=Tb(),e=ir();function r(n,i,o){var s=i(n);return e(n)?s:t(s,o(n))}return Xh=r,Xh}var Yh,I1;function tE(){if(I1)return Yh;I1=1;var t=eE(),e=xb(),r=Bi();function n(i){return t(i,r,e)}return Yh=n,Yh}var Jh,A1;function MD(){if(A1)return Jh;A1=1;var t=eE(),e=QT(),r=mo();function n(i){return t(i,r,e)}return Jh=n,Jh}var Zh,F1;function ND(){if(F1)return Zh;F1=1;var t=po(),e=pn(),r=t(e,"DataView");return Zh=r,Zh}var Qh,R1;function GD(){if(R1)return Qh;R1=1;var t=po(),e=pn(),r=t(e,"Promise");return Qh=r,Qh}var ef,P1;function rE(){if(P1)return ef;P1=1;var t=po(),e=pn(),r=t(e,"Set");return ef=r,ef}var tf,$1;function UD(){if($1)return tf;$1=1;var t=po(),e=pn(),r=t(e,"WeakMap");return tf=r,tf}var rf,D1;function Is(){if(D1)return rf;D1=1;var t=ND(),e=bb(),r=GD(),n=rE(),i=UD(),o=go(),s=VT(),a="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",u="[object WeakMap]",f="[object DataView]",h=s(t),g=s(e),p=s(r),m=s(n),b=s(i),k=o;return(t&&k(new t(new ArrayBuffer(1)))!=f||e&&k(new e)!=a||r&&k(r.resolve())!=c||n&&k(new n)!=d||i&&k(new i)!=u)&&(k=function(_){var v=o(_),x=v==l?_.constructor:void 0,S=x?s(x):"";if(S)switch(S){case h:return f;case g:return a;case p:return c;case m:return d;case b:return u}return v}),rf=k,rf}var nf,O1;function WD(){if(O1)return nf;O1=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,o=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(o.index=n.index,o.input=n.input),o}return nf=r,nf}var of,B1;function nE(){if(B1)return of;B1=1;var t=pn(),e=t.Uint8Array;return of=e,of}var sf,M1;function Eb(){if(M1)return sf;M1=1;var t=nE();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return sf=e,sf}var af,N1;function qD(){if(N1)return af;N1=1;var t=Eb();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return af=e,af}var lf,G1;function HD(){if(G1)return lf;G1=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return lf=e,lf}var cf,U1;function VD(){if(U1)return cf;U1=1;var t=Cs(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return cf=n,cf}var df,W1;function iE(){if(W1)return df;W1=1;var t=Eb();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return df=e,df}var uf,q1;function jD(){if(q1)return uf;q1=1;var t=Eb(),e=qD(),r=HD(),n=VD(),i=iE(),o="[object Boolean]",s="[object Date]",a="[object Map]",l="[object Number]",c="[object RegExp]",d="[object Set]",u="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",g="[object DataView]",p="[object Float32Array]",m="[object Float64Array]",b="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",v="[object Uint8Array]",x="[object Uint8ClampedArray]",S="[object Uint16Array]",w="[object Uint32Array]";function T(L,E,C){var F=L.constructor;switch(E){case h:return t(L);case o:case s:return new F(+L);case g:return e(L,C);case p:case m:case b:case k:case _:case v:case x:case S:case w:return i(L,C);case a:return new F;case l:case u:return new F(L);case c:return r(L);case d:return new F;case f:return n(L)}}return uf=T,uf}var hf,H1;function oE(){if(H1)return hf;H1=1;var t=Jr(),e=Object.create,r=function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var o=new n;return n.prototype=void 0,o}}();return hf=r,hf}var ff,V1;function sE(){if(V1)return ff;V1=1;var t=oE(),e=Cd(),r=Ed();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return ff=n,ff}var gf,j1;function zD(){if(j1)return gf;j1=1;var t=Is(),e=An(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return gf=n,gf}var pf,z1;function KD(){if(z1)return pf;z1=1;var t=zD(),e=Td(),r=kb(),n=r&&r.isMap,i=n?e(n):t;return pf=i,pf}var mf,K1;function XD(){if(K1)return mf;K1=1;var t=Is(),e=An(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return mf=n,mf}var vf,X1;function YD(){if(X1)return vf;X1=1;var t=XD(),e=Td(),r=kb(),n=r&&r.isSet,i=n?e(n):t;return vf=i,vf}var bf,Y1;function aE(){if(Y1)return bf;Y1=1;var t=wd(),e=yb(),r=Sd(),n=RD(),i=DD(),o=XT(),s=YT(),a=OD(),l=BD(),c=tE(),d=MD(),u=Is(),f=WD(),h=jD(),g=sE(),p=ir(),m=Ls(),b=KD(),k=Jr(),_=YD(),v=Bi(),x=mo(),S=1,w=2,T=4,L="[object Arguments]",E="[object Array]",C="[object Boolean]",F="[object Date]",$="[object Error]",O="[object Function]",M="[object GeneratorFunction]",I="[object Map]",W="[object Number]",q="[object Object]",G="[object RegExp]",H="[object Set]",J="[object String]",Z="[object Symbol]",te="[object WeakMap]",ee="[object ArrayBuffer]",le="[object DataView]",de="[object Float32Array]",B="[object Float64Array]",N="[object Int8Array]",ie="[object Int16Array]",ce="[object Int32Array]",ke="[object Uint8Array]",xe="[object Uint8ClampedArray]",Ae="[object Uint16Array]",Ne="[object Uint32Array]",ve={};ve[L]=ve[E]=ve[ee]=ve[le]=ve[C]=ve[F]=ve[de]=ve[B]=ve[N]=ve[ie]=ve[ce]=ve[I]=ve[W]=ve[q]=ve[G]=ve[H]=ve[J]=ve[Z]=ve[ke]=ve[xe]=ve[Ae]=ve[Ne]=!0,ve[$]=ve[O]=ve[te]=!1;function qe(Re,et,ue,Se,De,Ke){var Ue,be=et&S,He=et&w,dt=et&T;if(ue&&(Ue=De?ue(Re,Se,De,Ke):ue(Re)),Ue!==void 0)return Ue;if(!k(Re))return Re;var Le=p(Re);if(Le){if(Ue=f(Re),!be)return s(Re,Ue)}else{var Oe=u(Re),Ve=Oe==O||Oe==M;if(m(Re))return o(Re,be);if(Oe==q||Oe==L||Ve&&!De){if(Ue=He||Ve?{}:g(Re),!be)return He?l(Re,i(Ue,Re)):a(Re,n(Ue,Re))}else{if(!ve[Oe])return De?Re:{};Ue=h(Re,Oe,be)}}Ke||(Ke=new t);var Qe=Ke.get(Re);if(Qe)return Qe;Ke.set(Re,Ue),_(Re)?Re.forEach(function(ut){Ue.add(qe(ut,et,ue,ut,Re,Ke))}):b(Re)&&Re.forEach(function(ut,ne){Ue.set(ne,qe(ut,et,ue,ne,Re,Ke))});var st=dt?He?d:c:He?x:v,lt=Le?void 0:st(Re);return e(lt||Re,function(ut,ne){lt&&(ne=ut,ut=Re[ne]),r(Ue,ne,qe(ut,et,ue,ne,Re,Ke))}),Ue}return bf=qe,bf}var _f,J1;function JD(){if(J1)return _f;J1=1;var t=aE(),e=4;function r(n){return t(n,e)}return _f=r,_f}var yf,Z1;function Cb(){if(Z1)return yf;Z1=1;function t(e){return function(){return e}}return yf=t,yf}var wf,Q1;function ZD(){if(Q1)return wf;Q1=1;function t(e){return function(r,n,i){for(var o=-1,s=Object(r),a=i(r),l=a.length;l--;){var c=a[e?l:++o];if(n(s[c],c,s)===!1)break}return r}}return wf=t,wf}var kf,ew;function Lb(){if(ew)return kf;ew=1;var t=ZD(),e=t();return kf=e,kf}var Sf,tw;function Ib(){if(tw)return Sf;tw=1;var t=Lb(),e=Bi();function r(n,i){return n&&t(n,i,e)}return Sf=r,Sf}var xf,rw;function QD(){if(rw)return xf;rw=1;var t=Zn();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var s=i.length,a=n?s:-1,l=Object(i);(n?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return xf=e,xf}var Tf,nw;function Ld(){if(nw)return Tf;nw=1;var t=Ib(),e=QD(),r=e(t);return Tf=r,Tf}var Ef,iw;function vo(){if(iw)return Ef;iw=1;function t(e){return e}return Ef=t,Ef}var Cf,ow;function lE(){if(ow)return Cf;ow=1;var t=vo();function e(r){return typeof r=="function"?r:t}return Cf=e,Cf}var Lf,sw;function cE(){if(sw)return Lf;sw=1;var t=yb(),e=Ld(),r=lE(),n=ir();function i(o,s){var a=n(o)?t:e;return a(o,r(s))}return Lf=i,Lf}var If,aw;function dE(){return aw||(aw=1,If=cE()),If}var Af,lw;function eO(){if(lw)return Af;lw=1;var t=Ld();function e(r,n){var i=[];return t(r,function(o,s,a){n(o,s,a)&&i.push(o)}),i}return Af=e,Af}var Ff,cw;function tO(){if(cw)return Ff;cw=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Ff=e,Ff}var Rf,dw;function rO(){if(dw)return Rf;dw=1;function t(e){return this.__data__.has(e)}return Rf=t,Rf}var Pf,uw;function uE(){if(uw)return Pf;uw=1;var t=_b(),e=tO(),r=rO();function n(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Pf=n,Pf}var $f,hw;function nO(){if(hw)return $f;hw=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return $f=t,$f}var Df,fw;function hE(){if(fw)return Df;fw=1;function t(e,r){return e.has(r)}return Df=t,Df}var Of,gw;function fE(){if(gw)return Of;gw=1;var t=uE(),e=nO(),r=hE(),n=1,i=2;function o(s,a,l,c,d,u){var f=l&n,h=s.length,g=a.length;if(h!=g&&!(f&&g>h))return!1;var p=u.get(s),m=u.get(a);if(p&&m)return p==a&&m==s;var b=-1,k=!0,_=l&i?new t:void 0;for(u.set(s,a),u.set(a,s);++b<h;){var v=s[b],x=a[b];if(c)var S=f?c(x,v,b,a,s,u):c(v,x,b,s,a,u);if(S!==void 0){if(S)continue;k=!1;break}if(_){if(!e(a,function(w,T){if(!r(_,T)&&(v===w||d(v,w,l,c,u)))return _.push(T)})){k=!1;break}}else if(!(v===x||d(v,x,l,c,u))){k=!1;break}}return u.delete(s),u.delete(a),k}return Of=o,Of}var Bf,pw;function iO(){if(pw)return Bf;pw=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return Bf=t,Bf}var Mf,mw;function Ab(){if(mw)return Mf;mw=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return Mf=t,Mf}var Nf,vw;function oO(){if(vw)return Nf;vw=1;var t=Cs(),e=nE(),r=Es(),n=fE(),i=iO(),o=Ab(),s=1,a=2,l="[object Boolean]",c="[object Date]",d="[object Error]",u="[object Map]",f="[object Number]",h="[object RegExp]",g="[object Set]",p="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",k="[object DataView]",_=t?t.prototype:void 0,v=_?_.valueOf:void 0;function x(S,w,T,L,E,C,F){switch(T){case k:if(S.byteLength!=w.byteLength||S.byteOffset!=w.byteOffset)return!1;S=S.buffer,w=w.buffer;case b:return!(S.byteLength!=w.byteLength||!C(new e(S),new e(w)));case l:case c:case f:return r(+S,+w);case d:return S.name==w.name&&S.message==w.message;case h:case p:return S==w+"";case u:var $=i;case g:var O=L&s;if($||($=o),S.size!=w.size&&!O)return!1;var M=F.get(S);if(M)return M==w;L|=a,F.set(S,w);var I=n($(S),$(w),L,E,C,F);return F.delete(S),I;case m:if(v)return v.call(S)==v.call(w)}return!1}return Nf=x,Nf}var Gf,bw;function sO(){if(bw)return Gf;bw=1;var t=tE(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,s,a,l,c,d){var u=a&e,f=t(o),h=f.length,g=t(s),p=g.length;if(h!=p&&!u)return!1;for(var m=h;m--;){var b=f[m];if(!(u?b in s:n.call(s,b)))return!1}var k=d.get(o),_=d.get(s);if(k&&_)return k==s&&_==o;var v=!0;d.set(o,s),d.set(s,o);for(var x=u;++m<h;){b=f[m];var S=o[b],w=s[b];if(l)var T=u?l(w,S,b,s,o,d):l(S,w,b,o,s,d);if(!(T===void 0?S===w||c(S,w,a,l,d):T)){v=!1;break}x||(x=b=="constructor")}if(v&&!x){var L=o.constructor,E=s.constructor;L!=E&&"constructor"in o&&"constructor"in s&&!(typeof L=="function"&&L instanceof L&&typeof E=="function"&&E instanceof E)&&(v=!1)}return d.delete(o),d.delete(s),v}return Gf=i,Gf}var Uf,_w;function aO(){if(_w)return Uf;_w=1;var t=wd(),e=fE(),r=oO(),n=sO(),i=Is(),o=ir(),s=Ls(),a=Fa(),l=1,c="[object Arguments]",d="[object Array]",u="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function g(p,m,b,k,_,v){var x=o(p),S=o(m),w=x?d:i(p),T=S?d:i(m);w=w==c?u:w,T=T==c?u:T;var L=w==u,E=T==u,C=w==T;if(C&&s(p)){if(!s(m))return!1;x=!0,L=!1}if(C&&!L)return v||(v=new t),x||a(p)?e(p,m,b,k,_,v):r(p,m,w,b,k,_,v);if(!(b&l)){var F=L&&h.call(p,"__wrapped__"),$=E&&h.call(m,"__wrapped__");if(F||$){var O=F?p.value():p,M=$?m.value():m;return v||(v=new t),_(O,M,b,k,v)}}return C?(v||(v=new t),n(p,m,b,k,_,v)):!1}return Uf=g,Uf}var Wf,yw;function gE(){if(yw)return Wf;yw=1;var t=aO(),e=An();function r(n,i,o,s,a){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,s,r,a)}return Wf=r,Wf}var qf,ww;function lO(){if(ww)return qf;ww=1;var t=wd(),e=gE(),r=1,n=2;function i(o,s,a,l){var c=a.length,d=c,u=!l;if(o==null)return!d;for(o=Object(o);c--;){var f=a[c];if(u&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++c<d;){f=a[c];var h=f[0],g=o[h],p=f[1];if(u&&f[2]){if(g===void 0&&!(h in o))return!1}else{var m=new t;if(l)var b=l(g,p,h,o,s,m);if(!(b===void 0?e(p,g,r|n,l,m):b))return!1}}return!0}return qf=i,qf}var Hf,kw;function pE(){if(kw)return Hf;kw=1;var t=Jr();function e(r){return r===r&&!t(r)}return Hf=e,Hf}var Vf,Sw;function cO(){if(Sw)return Vf;Sw=1;var t=pE(),e=Bi();function r(n){for(var i=e(n),o=i.length;o--;){var s=i[o],a=n[s];i[o]=[s,a,t(a)]}return i}return Vf=r,Vf}var jf,xw;function mE(){if(xw)return jf;xw=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return jf=t,jf}var zf,Tw;function dO(){if(Tw)return zf;Tw=1;var t=lO(),e=cO(),r=mE();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return zf=n,zf}var Kf,Ew;function As(){if(Ew)return Kf;Ew=1;var t=go(),e=An(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Kf=n,Kf}var Xf,Cw;function Fb(){if(Cw)return Xf;Cw=1;var t=ir(),e=As(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,s){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||s!=null&&o in Object(s)}return Xf=i,Xf}var Yf,Lw;function uO(){if(Lw)return Yf;Lw=1;var t=_b(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var c=n.apply(this,s);return o.cache=l.set(a,c)||l,c};return o.cache=new(r.Cache||t),o}return r.Cache=t,Yf=r,Yf}var Jf,Iw;function hO(){if(Iw)return Jf;Iw=1;var t=uO(),e=500;function r(n){var i=t(n,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return Jf=r,Jf}var Zf,Aw;function fO(){if(Aw)return Zf;Aw=1;var t=hO(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,a,l,c){o.push(l?c.replace(r,"$1"):a||s)}),o});return Zf=n,Zf}var Qf,Fw;function Id(){if(Fw)return Qf;Fw=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return Qf=t,Qf}var eg,Rw;function gO(){if(Rw)return eg;Rw=1;var t=Cs(),e=Id(),r=ir(),n=As(),i=1/0,o=t?t.prototype:void 0,s=o?o.toString:void 0;function a(l){if(typeof l=="string")return l;if(r(l))return e(l,a)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-i?"-0":c}return eg=a,eg}var tg,Pw;function vE(){if(Pw)return tg;Pw=1;var t=gO();function e(r){return r==null?"":t(r)}return tg=e,tg}var rg,$w;function Ad(){if($w)return rg;$w=1;var t=ir(),e=Fb(),r=fO(),n=vE();function i(o,s){return t(o)?o:e(o,s)?[o]:r(n(o))}return rg=i,rg}var ng,Dw;function Ra(){if(Dw)return ng;Dw=1;var t=As(),e=1/0;function r(n){if(typeof n=="string"||t(n))return n;var i=n+"";return i=="0"&&1/n==-e?"-0":i}return ng=r,ng}var ig,Ow;function Fd(){if(Ow)return ig;Ow=1;var t=Ad(),e=Ra();function r(n,i){i=t(i,n);for(var o=0,s=i.length;n!=null&&o<s;)n=n[e(i[o++])];return o&&o==s?n:void 0}return ig=r,ig}var og,Bw;function pO(){if(Bw)return og;Bw=1;var t=Fd();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return og=e,og}var sg,Mw;function mO(){if(Mw)return sg;Mw=1;function t(e,r){return e!=null&&r in Object(e)}return sg=t,sg}var ag,Nw;function bE(){if(Nw)return ag;Nw=1;var t=Ad(),e=Aa(),r=ir(),n=xd(),i=wb(),o=Ra();function s(a,l,c){l=t(l,a);for(var d=-1,u=l.length,f=!1;++d<u;){var h=o(l[d]);if(!(f=a!=null&&c(a,h)))break;a=a[h]}return f||++d!=u?f:(u=a==null?0:a.length,!!u&&i(u)&&n(h,u)&&(r(a)||e(a)))}return ag=s,ag}var lg,Gw;function _E(){if(Gw)return lg;Gw=1;var t=mO(),e=bE();function r(n,i){return n!=null&&e(n,i,t)}return lg=r,lg}var cg,Uw;function vO(){if(Uw)return cg;Uw=1;var t=gE(),e=pO(),r=_E(),n=Fb(),i=pE(),o=mE(),s=Ra(),a=1,l=2;function c(d,u){return n(d)&&i(u)?o(s(d),u):function(f){var h=e(f,d);return h===void 0&&h===u?r(f,d):t(u,h,a|l)}}return cg=c,cg}var dg,Ww;function yE(){if(Ww)return dg;Ww=1;function t(e){return function(r){return r?.[e]}}return dg=t,dg}var ug,qw;function bO(){if(qw)return ug;qw=1;var t=Fd();function e(r){return function(n){return t(n,r)}}return ug=e,ug}var hg,Hw;function _O(){if(Hw)return hg;Hw=1;var t=yE(),e=bO(),r=Fb(),n=Ra();function i(o){return r(o)?t(n(o)):e(o)}return hg=i,hg}var fg,Vw;function Qn(){if(Vw)return fg;Vw=1;var t=dO(),e=vO(),r=vo(),n=ir(),i=_O();function o(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return fg=o,fg}var gg,jw;function wE(){if(jw)return gg;jw=1;var t=JT(),e=eO(),r=Qn(),n=ir();function i(o,s){var a=n(o)?t:e;return a(o,r(s,3))}return gg=i,gg}var pg,zw;function yO(){if(zw)return pg;zw=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n,i){return n!=null&&e.call(n,i)}return pg=r,pg}var mg,Kw;function kE(){if(Kw)return mg;Kw=1;var t=yO(),e=bE();function r(n,i){return n!=null&&e(n,i,t)}return mg=r,mg}var vg,Xw;function wO(){if(Xw)return vg;Xw=1;var t=Sb(),e=Is(),r=Aa(),n=ir(),i=Zn(),o=Ls(),s=Ed(),a=Fa(),l="[object Map]",c="[object Set]",d=Object.prototype,u=d.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(n(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||a(h)||r(h)))return!h.length;var g=e(h);if(g==l||g==c)return!h.size;if(s(h))return!t(h).length;for(var p in h)if(u.call(h,p))return!1;return!0}return vg=f,vg}var bg,Yw;function SE(){if(Yw)return bg;Yw=1;function t(e){return e===void 0}return bg=t,bg}var _g,Jw;function xE(){if(Jw)return _g;Jw=1;var t=Ld(),e=Zn();function r(n,i){var o=-1,s=e(n)?Array(n.length):[];return t(n,function(a,l,c){s[++o]=i(a,l,c)}),s}return _g=r,_g}var yg,Zw;function TE(){if(Zw)return yg;Zw=1;var t=Id(),e=Qn(),r=xE(),n=ir();function i(o,s){var a=n(o)?t:r;return a(o,e(s,3))}return yg=i,yg}var wg,Qw;function kO(){if(Qw)return wg;Qw=1;function t(e,r,n,i){var o=-1,s=e==null?0:e.length;for(i&&s&&(n=e[++o]);++o<s;)n=r(n,e[o],o,e);return n}return wg=t,wg}var kg,ek;function SO(){if(ek)return kg;ek=1;function t(e,r,n,i,o){return o(e,function(s,a,l){n=i?(i=!1,s):r(n,s,a,l)}),n}return kg=t,kg}var Sg,tk;function EE(){if(tk)return Sg;tk=1;var t=kO(),e=Ld(),r=Qn(),n=SO(),i=ir();function o(s,a,l){var c=i(s)?t:n,d=arguments.length<3;return c(s,r(a,4),l,d,e)}return Sg=o,Sg}var xg,rk;function xO(){if(rk)return xg;rk=1;var t=go(),e=ir(),r=An(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return xg=i,xg}var Tg,nk;function TO(){if(nk)return Tg;nk=1;var t=yE(),e=t("length");return Tg=e,Tg}var Eg,ik;function EO(){if(ik)return Eg;ik=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+t+i+o+"]");function l(c){return a.test(c)}return Eg=l,Eg}var Cg,ok;function CO(){if(ok)return Cg;ok=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="["+t+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+a+"|"+l+")",d="[^"+t+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",g=c+"?",p="["+o+"]?",m="(?:"+h+"(?:"+[d,u,f].join("|")+")"+p+g+")*",b=p+g+m,k="(?:"+[d+a+"?",a,u,f,s].join("|")+")",_=RegExp(l+"(?="+l+")|"+k+b,"g");function v(x){for(var S=_.lastIndex=0;_.test(x);)++S;return S}return Cg=v,Cg}var Lg,sk;function LO(){if(sk)return Lg;sk=1;var t=TO(),e=EO(),r=CO();function n(i){return e(i)?r(i):t(i)}return Lg=n,Lg}var Ig,ak;function IO(){if(ak)return Ig;ak=1;var t=Sb(),e=Is(),r=Zn(),n=xO(),i=LO(),o="[object Map]",s="[object Set]";function a(l){if(l==null)return 0;if(r(l))return n(l)?i(l):l.length;var c=e(l);return c==o||c==s?l.size:t(l).length}return Ig=a,Ig}var Ag,lk;function AO(){if(lk)return Ag;lk=1;var t=yb(),e=oE(),r=Ib(),n=Qn(),i=Cd(),o=ir(),s=Ls(),a=La(),l=Jr(),c=Fa();function d(u,f,h){var g=o(u),p=g||s(u)||c(u);if(f=n(f,4),h==null){var m=u&&u.constructor;p?h=g?new m:[]:l(u)?h=a(m)?e(i(u)):{}:h={}}return(p?t:r)(u,function(b,k,_){return f(h,b,k,_)}),h}return Ag=d,Ag}var Fg,ck;function FO(){if(ck)return Fg;ck=1;var t=Cs(),e=Aa(),r=ir(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return Fg=i,Fg}var Rg,dk;function Rb(){if(dk)return Rg;dk=1;var t=Tb(),e=FO();function r(n,i,o,s,a){var l=-1,c=n.length;for(o||(o=e),a||(a=[]);++l<c;){var d=n[l];i>0&&o(d)?i>1?r(d,i-1,o,s,a):t(a,d):s||(a[a.length]=d)}return a}return Rg=r,Rg}var Pg,uk;function RO(){if(uk)return Pg;uk=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return Pg=t,Pg}var $g,hk;function CE(){if(hk)return $g;hk=1;var t=RO(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,a=-1,l=e(s.length-i,0),c=Array(l);++a<l;)c[a]=s[i+a];a=-1;for(var d=Array(i+1);++a<i;)d[a]=s[a];return d[i]=o(c),t(n,this,d)}}return $g=r,$g}var Dg,fk;function PO(){if(fk)return Dg;fk=1;var t=Cb(),e=jT(),r=vo(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return Dg=n,Dg}var Og,gk;function $O(){if(gk)return Og;gk=1;var t=800,e=16,r=Date.now;function n(i){var o=0,s=0;return function(){var a=r(),l=e-(a-s);if(s=a,l>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return Og=n,Og}var Bg,pk;function LE(){if(pk)return Bg;pk=1;var t=PO(),e=$O(),r=e(t);return Bg=r,Bg}var Mg,mk;function Rd(){if(mk)return Mg;mk=1;var t=vo(),e=CE(),r=LE();function n(i,o){return r(e(i,o,t),i+"")}return Mg=n,Mg}var Ng,vk;function IE(){if(vk)return Ng;vk=1;function t(e,r,n,i){for(var o=e.length,s=n+(i?1:-1);i?s--:++s<o;)if(r(e[s],s,e))return s;return-1}return Ng=t,Ng}var Gg,bk;function DO(){if(bk)return Gg;bk=1;function t(e){return e!==e}return Gg=t,Gg}var Ug,_k;function OO(){if(_k)return Ug;_k=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return Ug=t,Ug}var Wg,yk;function BO(){if(yk)return Wg;yk=1;var t=IE(),e=DO(),r=OO();function n(i,o,s){return o===o?r(i,o,s):t(i,e,s)}return Wg=n,Wg}var qg,wk;function MO(){if(wk)return qg;wk=1;var t=BO();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return qg=e,qg}var Hg,kk;function NO(){if(kk)return Hg;kk=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return Hg=t,Hg}var Vg,Sk;function GO(){if(Sk)return Vg;Sk=1;function t(){}return Vg=t,Vg}var jg,xk;function UO(){if(xk)return jg;xk=1;var t=rE(),e=GO(),r=Ab(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return jg=i,jg}var zg,Tk;function WO(){if(Tk)return zg;Tk=1;var t=uE(),e=MO(),r=NO(),n=hE(),i=UO(),o=Ab(),s=200;function a(l,c,d){var u=-1,f=e,h=l.length,g=!0,p=[],m=p;if(d)g=!1,f=r;else if(h>=s){var b=c?null:i(l);if(b)return o(b);g=!1,f=n,m=new t}else m=c?[]:p;e:for(;++u<h;){var k=l[u],_=c?c(k):k;if(k=d||k!==0?k:0,g&&_===_){for(var v=m.length;v--;)if(m[v]===_)continue e;c&&m.push(_),p.push(k)}else f(m,_,d)||(m!==p&&m.push(_),p.push(k))}return p}return zg=a,zg}var Kg,Ek;function AE(){if(Ek)return Kg;Ek=1;var t=Zn(),e=An();function r(n){return e(n)&&t(n)}return Kg=r,Kg}var Xg,Ck;function qO(){if(Ck)return Xg;Ck=1;var t=Rb(),e=Rd(),r=WO(),n=AE(),i=e(function(o){return r(t(o,1,n,!0))});return Xg=i,Xg}var Yg,Lk;function HO(){if(Lk)return Yg;Lk=1;var t=Id();function e(r,n){return t(n,function(i){return r[i]})}return Yg=e,Yg}var Jg,Ik;function FE(){if(Ik)return Jg;Ik=1;var t=HO(),e=Bi();function r(n){return n==null?[]:t(n,e(n))}return Jg=r,Jg}var Zg,Ak;function Zr(){if(Ak)return Zg;Ak=1;var t;if(typeof vb=="function")try{t={clone:JD(),constant:Cb(),each:dE(),filter:wE(),has:kE(),isArray:ir(),isEmpty:wO(),isFunction:La(),isUndefined:SE(),keys:Bi(),map:TE(),reduce:EE(),size:IO(),transform:AO(),union:qO(),values:FE()}}catch{}return t||(t=window._),Zg=t,Zg}var Qg,Fk;function Pb(){if(Fk)return Qg;Fk=1;var t=Zr();Qg=i;var e="\0",r="\0",n="";function i(d){this._isDirected=t.has(d,"directed")?d.directed:!0,this._isMultigraph=t.has(d,"multigraph")?d.multigraph:!1,this._isCompound=t.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=t.constant(void 0),this._defaultEdgeLabelFn=t.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(d){return this._label=d,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(d){return t.isFunction(d)||(d=t.constant(d)),this._defaultNodeLabelFn=d,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return t.keys(this._nodes)},i.prototype.sources=function(){var d=this;return t.filter(this.nodes(),function(u){return t.isEmpty(d._in[u])})},i.prototype.sinks=function(){var d=this;return t.filter(this.nodes(),function(u){return t.isEmpty(d._out[u])})},i.prototype.setNodes=function(d,u){var f=arguments,h=this;return t.each(d,function(g){f.length>1?h.setNode(g,u):h.setNode(g)}),this},i.prototype.setNode=function(d,u){return t.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=u),this):(this._nodes[d]=arguments.length>1?u:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=r,this._children[d]={},this._children[r][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},i.prototype.node=function(d){return this._nodes[d]},i.prototype.hasNode=function(d){return t.has(this._nodes,d)},i.prototype.removeNode=function(d){var u=this;if(t.has(this._nodes,d)){var f=function(h){u.removeEdge(u._edgeObjs[h])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],t.each(this.children(d),function(h){u.setParent(h)}),delete this._children[d]),t.each(t.keys(this._in[d]),f),delete this._in[d],delete this._preds[d],t.each(t.keys(this._out[d]),f),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},i.prototype.setParent=function(d,u){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(t.isUndefined(u))u=r;else{u+="";for(var f=u;!t.isUndefined(f);f=this.parent(f))if(f===d)throw new Error("Setting "+u+" as parent of "+d+" would create a cycle");this.setNode(u)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=u,this._children[u][d]=!0,this},i.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},i.prototype.parent=function(d){if(this._isCompound){var u=this._parent[d];if(u!==r)return u}},i.prototype.children=function(d){if(t.isUndefined(d)&&(d=r),this._isCompound){var u=this._children[d];if(u)return t.keys(u)}else{if(d===r)return this.nodes();if(this.hasNode(d))return[]}},i.prototype.predecessors=function(d){var u=this._preds[d];if(u)return t.keys(u)},i.prototype.successors=function(d){var u=this._sucs[d];if(u)return t.keys(u)},i.prototype.neighbors=function(d){var u=this.predecessors(d);if(u)return t.union(u,this.successors(d))},i.prototype.isLeaf=function(d){var u;return this.isDirected()?u=this.successors(d):u=this.neighbors(d),u.length===0},i.prototype.filterNodes=function(d){var u=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});u.setGraph(this.graph());var f=this;t.each(this._nodes,function(p,m){d(m)&&u.setNode(m,p)}),t.each(this._edgeObjs,function(p){u.hasNode(p.v)&&u.hasNode(p.w)&&u.setEdge(p,f.edge(p))});var h={};function g(p){var m=f.parent(p);return m===void 0||u.hasNode(m)?(h[p]=m,m):m in h?h[m]:g(m)}return this._isCompound&&t.each(u.nodes(),function(p){u.setParent(p,g(p))}),u},i.prototype.setDefaultEdgeLabel=function(d){return t.isFunction(d)||(d=t.constant(d)),this._defaultEdgeLabelFn=d,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return t.values(this._edgeObjs)},i.prototype.setPath=function(d,u){var f=this,h=arguments;return t.reduce(d,function(g,p){return h.length>1?f.setEdge(g,p,u):f.setEdge(g,p),p}),this},i.prototype.setEdge=function(){var d,u,f,h,g=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(d=p.v,u=p.w,f=p.name,arguments.length===2&&(h=arguments[1],g=!0)):(d=p,u=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),d=""+d,u=""+u,t.isUndefined(f)||(f=""+f);var m=a(this._isDirected,d,u,f);if(t.has(this._edgeLabels,m))return g&&(this._edgeLabels[m]=h),this;if(!t.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(u),this._edgeLabels[m]=g?h:this._defaultEdgeLabelFn(d,u,f);var b=l(this._isDirected,d,u,f);return d=b.v,u=b.w,Object.freeze(b),this._edgeObjs[m]=b,o(this._preds[u],d),o(this._sucs[d],u),this._in[u][m]=b,this._out[d][m]=b,this._edgeCount++,this},i.prototype.edge=function(d,u,f){var h=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,d,u,f);return this._edgeLabels[h]},i.prototype.hasEdge=function(d,u,f){var h=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,d,u,f);return t.has(this._edgeLabels,h)},i.prototype.removeEdge=function(d,u,f){var h=arguments.length===1?c(this._isDirected,arguments[0]):a(this._isDirected,d,u,f),g=this._edgeObjs[h];return g&&(d=g.v,u=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],s(this._preds[u],d),s(this._sucs[d],u),delete this._in[u][h],delete this._out[d][h],this._edgeCount--),this},i.prototype.inEdges=function(d,u){var f=this._in[d];if(f){var h=t.values(f);return u?t.filter(h,function(g){return g.v===u}):h}},i.prototype.outEdges=function(d,u){var f=this._out[d];if(f){var h=t.values(f);return u?t.filter(h,function(g){return g.w===u}):h}},i.prototype.nodeEdges=function(d,u){var f=this.inEdges(d,u);if(f)return f.concat(this.outEdges(d,u))};function o(d,u){d[u]?d[u]++:d[u]=1}function s(d,u){--d[u]||delete d[u]}function a(d,u,f,h){var g=""+u,p=""+f;if(!d&&g>p){var m=g;g=p,p=m}return g+n+p+n+(t.isUndefined(h)?e:h)}function l(d,u,f,h){var g=""+u,p=""+f;if(!d&&g>p){var m=g;g=p,p=m}var b={v:g,w:p};return h&&(b.name=h),b}function c(d,u){return a(d,u.v,u.w,u.name)}return Qg}var ep,Rk;function VO(){return Rk||(Rk=1,ep="2.1.8"),ep}var tp,Pk;function jO(){return Pk||(Pk=1,tp={Graph:Pb(),version:VO()}),tp}var rp,$k;function zO(){if($k)return rp;$k=1;var t=Zr(),e=Pb();rp={write:r,read:o};function r(s){var a={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:i(s)};return t.isUndefined(s.graph())||(a.value=t.clone(s.graph())),a}function n(s){return t.map(s.nodes(),function(a){var l=s.node(a),c=s.parent(a),d={v:a};return t.isUndefined(l)||(d.value=l),t.isUndefined(c)||(d.parent=c),d})}function i(s){return t.map(s.edges(),function(a){var l=s.edge(a),c={v:a.v,w:a.w};return t.isUndefined(a.name)||(c.name=a.name),t.isUndefined(l)||(c.value=l),c})}function o(s){var a=new e(s.options).setGraph(s.value);return t.each(s.nodes,function(l){a.setNode(l.v,l.value),l.parent&&a.setParent(l.v,l.parent)}),t.each(s.edges,function(l){a.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),a}return rp}var np,Dk;function KO(){if(Dk)return np;Dk=1;var t=Zr();np=e;function e(r){var n={},i=[],o;function s(a){t.has(n,a)||(n[a]=!0,o.push(a),t.each(r.successors(a),s),t.each(r.predecessors(a),s))}return t.each(r.nodes(),function(a){o=[],s(a),o.length&&i.push(o)}),i}return np}var ip,Ok;function RE(){if(Ok)return ip;Ok=1;var t=Zr();ip=e;function e(){this._arr=[],this._keyIndices={}}return e.prototype.size=function(){return this._arr.length},e.prototype.keys=function(){return this._arr.map(function(r){return r.key})},e.prototype.has=function(r){return t.has(this._keyIndices,r)},e.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},e.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},e.prototype.add=function(r,n){var i=this._keyIndices;if(r=String(r),!t.has(i,r)){var o=this._arr,s=o.length;return i[r]=s,o.push({key:r,priority:n}),this._decrease(s),!0}return!1},e.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},e.prototype.decrease=function(r,n){var i=this._keyIndices[r];if(n>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[i].priority+" New: "+n);this._arr[i].priority=n,this._decrease(i)},e.prototype._heapify=function(r){var n=this._arr,i=2*r,o=i+1,s=r;i<n.length&&(s=n[i].priority<n[s].priority?i:s,o<n.length&&(s=n[o].priority<n[s].priority?o:s),s!==r&&(this._swap(r,s),this._heapify(s)))},e.prototype._decrease=function(r){for(var n=this._arr,i=n[r].priority,o;r!==0&&(o=r>>1,!(n[o].priority<i));)this._swap(r,o),r=o},e.prototype._swap=function(r,n){var i=this._arr,o=this._keyIndices,s=i[r],a=i[n];i[r]=a,i[n]=s,o[a.key]=r,o[s.key]=n},ip}var op,Bk;function PE(){if(Bk)return op;Bk=1;var t=Zr(),e=RE();op=n;var r=t.constant(1);function n(o,s,a,l){return i(o,String(s),a||r,l||function(c){return o.outEdges(c)})}function i(o,s,a,l){var c={},d=new e,u,f,h=function(g){var p=g.v!==u?g.v:g.w,m=c[p],b=a(g),k=f.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+g+" Weight: "+b);k<m.distance&&(m.distance=k,m.predecessor=u,d.decrease(p,k))};for(o.nodes().forEach(function(g){var p=g===s?0:Number.POSITIVE_INFINITY;c[g]={distance:p},d.add(g,p)});d.size()>0&&(u=d.removeMin(),f=c[u],f.distance!==Number.POSITIVE_INFINITY);)l(u).forEach(h);return c}return op}var sp,Mk;function XO(){if(Mk)return sp;Mk=1;var t=PE(),e=Zr();sp=r;function r(n,i,o){return e.transform(n.nodes(),function(s,a){s[a]=t(n,a,i,o)},{})}return sp}var ap,Nk;function $E(){if(Nk)return ap;Nk=1;var t=Zr();ap=e;function e(r){var n=0,i=[],o={},s=[];function a(l){var c=o[l]={onStack:!0,lowlink:n,index:n++};if(i.push(l),r.successors(l).forEach(function(f){t.has(o,f)?o[f].onStack&&(c.lowlink=Math.min(c.lowlink,o[f].index)):(a(f),c.lowlink=Math.min(c.lowlink,o[f].lowlink))}),c.lowlink===c.index){var d=[],u;do u=i.pop(),o[u].onStack=!1,d.push(u);while(l!==u);s.push(d)}}return r.nodes().forEach(function(l){t.has(o,l)||a(l)}),s}return ap}var lp,Gk;function YO(){if(Gk)return lp;Gk=1;var t=Zr(),e=$E();lp=r;function r(n){return t.filter(e(n),function(i){return i.length>1||i.length===1&&n.hasEdge(i[0],i[0])})}return lp}var cp,Uk;function JO(){if(Uk)return cp;Uk=1;var t=Zr();cp=r;var e=t.constant(1);function r(i,o,s){return n(i,o||e,s||function(a){return i.outEdges(a)})}function n(i,o,s){var a={},l=i.nodes();return l.forEach(function(c){a[c]={},a[c][c]={distance:0},l.forEach(function(d){c!==d&&(a[c][d]={distance:Number.POSITIVE_INFINITY})}),s(c).forEach(function(d){var u=d.v===c?d.w:d.v,f=o(d);a[c][u]={distance:f,predecessor:c}})}),l.forEach(function(c){var d=a[c];l.forEach(function(u){var f=a[u];l.forEach(function(h){var g=f[c],p=d[h],m=f[h],b=g.distance+p.distance;b<m.distance&&(m.distance=b,m.predecessor=p.predecessor)})})}),a}return cp}var dp,Wk;function DE(){if(Wk)return dp;Wk=1;var t=Zr();dp=e,e.CycleException=r;function e(n){var i={},o={},s=[];function a(l){if(t.has(o,l))throw new r;t.has(i,l)||(o[l]=!0,i[l]=!0,t.each(n.predecessors(l),a),delete o[l],s.push(l))}if(t.each(n.sinks(),a),t.size(i)!==n.nodeCount())throw new r;return s}function r(){}return r.prototype=new Error,dp}var up,qk;function ZO(){if(qk)return up;qk=1;var t=DE();up=e;function e(r){try{t(r)}catch(n){if(n instanceof t.CycleException)return!1;throw n}return!0}return up}var hp,Hk;function OE(){if(Hk)return hp;Hk=1;var t=Zr();hp=e;function e(n,i,o){t.isArray(i)||(i=[i]);var s=(n.isDirected()?n.successors:n.neighbors).bind(n),a=[],l={};return t.each(i,function(c){if(!n.hasNode(c))throw new Error("Graph does not have node: "+c);r(n,c,o==="post",l,s,a)}),a}function r(n,i,o,s,a,l){t.has(s,i)||(s[i]=!0,o||l.push(i),t.each(a(i),function(c){r(n,c,o,s,a,l)}),o&&l.push(i))}return hp}var fp,Vk;function QO(){if(Vk)return fp;Vk=1;var t=OE();fp=e;function e(r,n){return t(r,n,"post")}return fp}var gp,jk;function eB(){if(jk)return gp;jk=1;var t=OE();gp=e;function e(r,n){return t(r,n,"pre")}return gp}var pp,zk;function tB(){if(zk)return pp;zk=1;var t=Zr(),e=Pb(),r=RE();pp=n;function n(i,o){var s=new e,a={},l=new r,c;function d(f){var h=f.v===c?f.w:f.v,g=l.priority(h);if(g!==void 0){var p=o(f);p<g&&(a[h]=c,l.decrease(h,p))}}if(i.nodeCount()===0)return s;t.each(i.nodes(),function(f){l.add(f,Number.POSITIVE_INFINITY),s.setNode(f)}),l.decrease(i.nodes()[0],0);for(var u=!1;l.size()>0;){if(c=l.removeMin(),t.has(a,c))s.setEdge(c,a[c]);else{if(u)throw new Error("Input graph is not connected: "+i);u=!0}i.nodeEdges(c).forEach(d)}return s}return pp}var mp,Kk;function rB(){return Kk||(Kk=1,mp={components:KO(),dijkstra:PE(),dijkstraAll:XO(),findCycles:YO(),floydWarshall:JO(),isAcyclic:ZO(),postorder:QO(),preorder:eB(),prim:tB(),tarjan:$E(),topsort:DE()}),mp}var vp,Xk;function nB(){if(Xk)return vp;Xk=1;var t=jO();return vp={Graph:t.Graph,json:zO(),alg:rB(),version:t.version},vp}var Xl;if(typeof vb=="function")try{Xl=nB()}catch{}Xl||(Xl=window.graphlib);var mn=Xl,bp,Yk;function iB(){if(Yk)return bp;Yk=1;var t=aE(),e=1,r=4;function n(i){return t(i,e|r)}return bp=n,bp}var _p,Jk;function Pd(){if(Jk)return _p;Jk=1;var t=Es(),e=Zn(),r=xd(),n=Jr();function i(o,s,a){if(!n(a))return!1;var l=typeof s;return(l=="number"?e(a)&&r(s,a.length):l=="string"&&s in a)?t(a[s],o):!1}return _p=i,_p}var yp,Zk;function oB(){if(Zk)return yp;Zk=1;var t=Rd(),e=Es(),r=Pd(),n=mo(),i=Object.prototype,o=i.hasOwnProperty,s=t(function(a,l){a=Object(a);var c=-1,d=l.length,u=d>2?l[2]:void 0;for(u&&r(l[0],l[1],u)&&(d=1);++c<d;)for(var f=l[c],h=n(f),g=-1,p=h.length;++g<p;){var m=h[g],b=a[m];(b===void 0||e(b,i[m])&&!o.call(a,m))&&(a[m]=f[m])}return a});return yp=s,yp}var wp,Qk;function sB(){if(Qk)return wp;Qk=1;var t=Qn(),e=Zn(),r=Bi();function n(i){return function(o,s,a){var l=Object(o);if(!e(o)){var c=t(s,3);o=r(o),s=function(u){return c(l[u],u,l)}}var d=i(o,s,a);return d>-1?l[c?o[d]:d]:void 0}}return wp=n,wp}var kp,eS;function aB(){if(eS)return kp;eS=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return kp=e,kp}var Sp,tS;function lB(){if(tS)return Sp;tS=1;var t=aB(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return Sp=r,Sp}var xp,rS;function cB(){if(rS)return xp;rS=1;var t=lB(),e=Jr(),r=As(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var u=o.test(c);return u||s.test(c)?a(c.slice(2),u?2:8):i.test(c)?n:+c}return xp=l,xp}var Tp,nS;function BE(){if(nS)return Tp;nS=1;var t=cB(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*r}return i===i?i:0}return Tp=n,Tp}var Ep,iS;function dB(){if(iS)return Ep;iS=1;var t=BE();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Ep=e,Ep}var Cp,oS;function uB(){if(oS)return Cp;oS=1;var t=IE(),e=Qn(),r=dB(),n=Math.max;function i(o,s,a){var l=o==null?0:o.length;if(!l)return-1;var c=a==null?0:r(a);return c<0&&(c=n(l+c,0)),t(o,e(s,3),c)}return Cp=i,Cp}var Lp,sS;function hB(){if(sS)return Lp;sS=1;var t=sB(),e=uB(),r=t(e);return Lp=r,Lp}var Ip,aS;function ME(){if(aS)return Ip;aS=1;var t=Rb();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return Ip=e,Ip}var Ap,lS;function fB(){if(lS)return Ap;lS=1;var t=Lb(),e=lE(),r=mo();function n(i,o){return i==null?i:t(i,e(o),r)}return Ap=n,Ap}var Fp,cS;function gB(){if(cS)return Fp;cS=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Fp=t,Fp}var Rp,dS;function pB(){if(dS)return Rp;dS=1;var t=kd(),e=Ib(),r=Qn();function n(i,o){var s={};return o=r(o,3),e(i,function(a,l,c){t(s,l,o(a,l,c))}),s}return Rp=n,Rp}var Pp,uS;function $b(){if(uS)return Pp;uS=1;var t=As();function e(r,n,i){for(var o=-1,s=r.length;++o<s;){var a=r[o],l=n(a);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,d=a}return d}return Pp=e,Pp}var $p,hS;function mB(){if(hS)return $p;hS=1;function t(e,r){return e>r}return $p=t,$p}var Dp,fS;function vB(){if(fS)return Dp;fS=1;var t=$b(),e=mB(),r=vo();function n(i){return i&&i.length?t(i,r,e):void 0}return Dp=n,Dp}var Op,gS;function NE(){if(gS)return Op;gS=1;var t=kd(),e=Es();function r(n,i,o){(o!==void 0&&!e(n[i],o)||o===void 0&&!(i in n))&&t(n,i,o)}return Op=r,Op}var Bp,pS;function bB(){if(pS)return Bp;pS=1;var t=go(),e=Cd(),r=An(),n="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function c(d){if(!r(d)||t(d)!=n)return!1;var u=e(d);if(u===null)return!0;var f=a.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&s.call(f)==l}return Bp=c,Bp}var Mp,mS;function GE(){if(mS)return Mp;mS=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return Mp=t,Mp}var Np,vS;function _B(){if(vS)return Np;vS=1;var t=Ia(),e=mo();function r(n){return t(n,e(n))}return Np=r,Np}var Gp,bS;function yB(){if(bS)return Gp;bS=1;var t=NE(),e=XT(),r=iE(),n=YT(),i=sE(),o=Aa(),s=ir(),a=AE(),l=Ls(),c=La(),d=Jr(),u=bB(),f=Fa(),h=GE(),g=_B();function p(m,b,k,_,v,x,S){var w=h(m,k),T=h(b,k),L=S.get(T);if(L){t(m,k,L);return}var E=x?x(w,T,k+"",m,b,S):void 0,C=E===void 0;if(C){var F=s(T),$=!F&&l(T),O=!F&&!$&&f(T);E=T,F||$||O?s(w)?E=w:a(w)?E=n(w):$?(C=!1,E=e(T,!0)):O?(C=!1,E=r(T,!0)):E=[]:u(T)||o(T)?(E=w,o(w)?E=g(w):(!d(w)||c(w))&&(E=i(T))):C=!1}C&&(S.set(T,E),v(E,T,_,x,S),S.delete(T)),t(m,k,E)}return Gp=p,Gp}var Up,_S;function wB(){if(_S)return Up;_S=1;var t=wd(),e=NE(),r=Lb(),n=yB(),i=Jr(),o=mo(),s=GE();function a(l,c,d,u,f){l!==c&&r(c,function(h,g){if(f||(f=new t),i(h))n(l,c,g,d,a,u,f);else{var p=u?u(s(l,g),h,g+"",l,c,f):void 0;p===void 0&&(p=h),e(l,g,p)}},o)}return Up=a,Up}var Wp,yS;function kB(){if(yS)return Wp;yS=1;var t=Rd(),e=Pd();function r(n){return t(function(i,o){var s=-1,a=o.length,l=a>1?o[a-1]:void 0,c=a>2?o[2]:void 0;for(l=n.length>3&&typeof l=="function"?(a--,l):void 0,c&&e(o[0],o[1],c)&&(l=a<3?void 0:l,a=1),i=Object(i);++s<a;){var d=o[s];d&&n(i,d,s,l)}return i})}return Wp=r,Wp}var qp,wS;function SB(){if(wS)return qp;wS=1;var t=wB(),e=kB(),r=e(function(n,i,o){t(n,i,o)});return qp=r,qp}var Hp,kS;function UE(){if(kS)return Hp;kS=1;function t(e,r){return e<r}return Hp=t,Hp}var Vp,SS;function xB(){if(SS)return Vp;SS=1;var t=$b(),e=UE(),r=vo();function n(i){return i&&i.length?t(i,r,e):void 0}return Vp=n,Vp}var jp,xS;function TB(){if(xS)return jp;xS=1;var t=$b(),e=Qn(),r=UE();function n(i,o){return i&&i.length?t(i,e(o,2),r):void 0}return jp=n,jp}var zp,TS;function EB(){if(TS)return zp;TS=1;var t=pn(),e=function(){return t.Date.now()};return zp=e,zp}var Kp,ES;function CB(){if(ES)return Kp;ES=1;var t=Sd(),e=Ad(),r=xd(),n=Jr(),i=Ra();function o(s,a,l,c){if(!n(s))return s;a=e(a,s);for(var d=-1,u=a.length,f=u-1,h=s;h!=null&&++d<u;){var g=i(a[d]),p=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return s;if(d!=f){var m=h[g];p=c?c(m,g,h):void 0,p===void 0&&(p=n(m)?m:r(a[d+1])?[]:{})}t(h,g,p),h=h[g]}return s}return Kp=o,Kp}var Xp,CS;function LB(){if(CS)return Xp;CS=1;var t=Fd(),e=CB(),r=Ad();function n(i,o,s){for(var a=-1,l=o.length,c={};++a<l;){var d=o[a],u=t(i,d);s(u,d)&&e(c,r(d,i),u)}return c}return Xp=n,Xp}var Yp,LS;function IB(){if(LS)return Yp;LS=1;var t=LB(),e=_E();function r(n,i){return t(n,i,function(o,s){return e(n,s)})}return Yp=r,Yp}var Jp,IS;function AB(){if(IS)return Jp;IS=1;var t=ME(),e=CE(),r=LE();function n(i){return r(e(i,void 0,t),i+"")}return Jp=n,Jp}var Zp,AS;function FB(){if(AS)return Zp;AS=1;var t=IB(),e=AB(),r=e(function(n,i){return n==null?{}:t(n,i)});return Zp=r,Zp}var Qp,FS;function RB(){if(FS)return Qp;FS=1;var t=Math.ceil,e=Math.max;function r(n,i,o,s){for(var a=-1,l=e(t((i-n)/(o||1)),0),c=Array(l);l--;)c[s?l:++a]=n,n+=o;return c}return Qp=r,Qp}var em,RS;function PB(){if(RS)return em;RS=1;var t=RB(),e=Pd(),r=BE();function n(i){return function(o,s,a){return a&&typeof a!="number"&&e(o,s,a)&&(s=a=void 0),o=r(o),s===void 0?(s=o,o=0):s=r(s),a=a===void 0?o<s?1:-1:r(a),t(o,s,a,i)}}return em=n,em}var tm,PS;function $B(){if(PS)return tm;PS=1;var t=PB(),e=t();return tm=e,tm}var rm,$S;function DB(){if($S)return rm;$S=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return rm=t,rm}var nm,DS;function OB(){if(DS)return nm;DS=1;var t=As();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,s=r===r,a=t(r),l=n!==void 0,c=n===null,d=n===n,u=t(n);if(!c&&!u&&!a&&r>n||a&&l&&d&&!c&&!u||o&&l&&d||!i&&d||!s)return 1;if(!o&&!a&&!u&&r<n||u&&i&&s&&!o&&!a||c&&i&&s||!l&&s||!d)return-1}return 0}return nm=e,nm}var im,OS;function BB(){if(OS)return im;OS=1;var t=OB();function e(r,n,i){for(var o=-1,s=r.criteria,a=n.criteria,l=s.length,c=i.length;++o<l;){var d=t(s[o],a[o]);if(d){if(o>=c)return d;var u=i[o];return d*(u=="desc"?-1:1)}}return r.index-n.index}return im=e,im}var om,BS;function MB(){if(BS)return om;BS=1;var t=Id(),e=Fd(),r=Qn(),n=xE(),i=DB(),o=Td(),s=BB(),a=vo(),l=ir();function c(d,u,f){u.length?u=t(u,function(p){return l(p)?function(m){return e(m,p.length===1?p[0]:p)}:p}):u=[a];var h=-1;u=t(u,o(r));var g=n(d,function(p,m,b){var k=t(u,function(_){return _(p)});return{criteria:k,index:++h,value:p}});return i(g,function(p,m){return s(p,m,f)})}return om=c,om}var sm,MS;function NB(){if(MS)return sm;MS=1;var t=Rb(),e=MB(),r=Rd(),n=Pd(),i=r(function(o,s){if(o==null)return[];var a=s.length;return a>1&&n(o,s[0],s[1])?s=[]:a>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return sm=i,sm}var am,NS;function GB(){if(NS)return am;NS=1;var t=vE(),e=0;function r(n){var i=++e;return t(n)+i}return am=r,am}var lm,GS;function UB(){if(GS)return lm;GS=1;function t(e,r,n){for(var i=-1,o=e.length,s=r.length,a={};++i<o;){var l=i<s?r[i]:void 0;n(a,e[i],l)}return a}return lm=t,lm}var cm,US;function WB(){if(US)return cm;US=1;var t=Sd(),e=UB();function r(n,i){return e(n||[],i||[],t)}return cm=r,cm}var Yl;if(typeof vb=="function")try{Yl={cloneDeep:iB(),constant:Cb(),defaults:oB(),each:dE(),filter:wE(),find:hB(),flatten:ME(),forEach:cE(),forIn:fB(),has:kE(),isUndefined:SE(),last:gB(),map:TE(),mapValues:pB(),max:vB(),merge:SB(),min:xB(),minBy:TB(),now:EB(),pick:FB(),range:$B(),reduce:EE(),sortBy:NB(),uniqueId:GB(),values:FE(),zipObject:WB()}}catch{}Yl||(Yl=window._);var Jt=Yl,qB=$d;function $d(){var t={};t._next=t._prev=t,this._sentinel=t}$d.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return WE(e),e};$d.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&WE(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e};$d.prototype.toString=function(){for(var t=[],e=this._sentinel,r=e._prev;r!==e;)t.push(JSON.stringify(r,HB)),r=r._prev;return"["+t.join(", ")+"]"};function WE(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function HB(t,e){if(t!=="_next"&&t!=="_prev")return e}var Bn=Jt,VB=mn.Graph,jB=qB,zB=XB,KB=Bn.constant(1);function XB(t,e){if(t.nodeCount()<=1)return[];var r=JB(t,e||KB),n=YB(r.graph,r.buckets,r.zeroIdx);return Bn.flatten(Bn.map(n,function(i){return t.outEdges(i.v,i.w)}),!0)}function YB(t,e,r){for(var n=[],i=e[e.length-1],o=e[0],s;t.nodeCount();){for(;s=o.dequeue();)dm(t,e,r,s);for(;s=i.dequeue();)dm(t,e,r,s);if(t.nodeCount()){for(var a=e.length-2;a>0;--a)if(s=e[a].dequeue(),s){n=n.concat(dm(t,e,r,s,!0));break}}}return n}function dm(t,e,r,n,i){var o=i?[]:void 0;return Bn.forEach(t.inEdges(n.v),function(s){var a=t.edge(s),l=t.node(s.v);i&&o.push({v:s.v,w:s.w}),l.out-=a,cv(e,r,l)}),Bn.forEach(t.outEdges(n.v),function(s){var a=t.edge(s),l=s.w,c=t.node(l);c.in-=a,cv(e,r,c)}),t.removeNode(n.v),o}function JB(t,e){var r=new VB,n=0,i=0;Bn.forEach(t.nodes(),function(a){r.setNode(a,{v:a,in:0,out:0})}),Bn.forEach(t.edges(),function(a){var l=r.edge(a.v,a.w)||0,c=e(a),d=l+c;r.setEdge(a.v,a.w,d),i=Math.max(i,r.node(a.v).out+=c),n=Math.max(n,r.node(a.w).in+=c)});var o=Bn.range(i+n+3).map(function(){return new jB}),s=n+1;return Bn.forEach(r.nodes(),function(a){cv(o,s,r.node(a))}),{graph:r,buckets:o,zeroIdx:s}}function cv(t,e,r){r.out?r.in?t[r.out-r.in+e].enqueue(r):t[t.length-1].enqueue(r):t[0].enqueue(r)}var Hi=Jt,ZB=zB,QB={run:eM,undo:rM};function eM(t){var e=t.graph().acyclicer==="greedy"?ZB(t,r(t)):tM(t);Hi.forEach(e,function(n){var i=t.edge(n);t.removeEdge(n),i.forwardName=n.name,i.reversed=!0,t.setEdge(n.w,n.v,i,Hi.uniqueId("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function tM(t){var e=[],r={},n={};function i(o){Hi.has(n,o)||(n[o]=!0,r[o]=!0,Hi.forEach(t.outEdges(o),function(s){Hi.has(r,s.w)?e.push(s):i(s.w)}),delete r[o])}return Hi.forEach(t.nodes(),i),e}function rM(t){Hi.forEach(t.edges(),function(e){var r=t.edge(e);if(r.reversed){t.removeEdge(e);var n=r.forwardName;delete r.reversed,delete r.forwardName,t.setEdge(e.w,e.v,r,n)}})}var Lt=Jt,qE=mn.Graph,Lr={addDummyNode:HE,simplify:nM,asNonCompoundGraph:iM,successorWeights:oM,predecessorWeights:sM,intersectRect:aM,buildLayerMatrix:lM,normalizeRanks:cM,removeEmptyRanks:dM,addBorderNode:uM,maxRank:VE,partition:hM,time:fM,notime:gM};function HE(t,e,r,n){var i;do i=Lt.uniqueId(n);while(t.hasNode(i));return r.dummy=e,t.setNode(i,r),i}function nM(t){var e=new qE().setGraph(t.graph());return Lt.forEach(t.nodes(),function(r){e.setNode(r,t.node(r))}),Lt.forEach(t.edges(),function(r){var n=e.edge(r.v,r.w)||{weight:0,minlen:1},i=t.edge(r);e.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),e}function iM(t){var e=new qE({multigraph:t.isMultigraph()}).setGraph(t.graph());return Lt.forEach(t.nodes(),function(r){t.children(r).length||e.setNode(r,t.node(r))}),Lt.forEach(t.edges(),function(r){e.setEdge(r,t.edge(r))}),e}function oM(t){var e=Lt.map(t.nodes(),function(r){var n={};return Lt.forEach(t.outEdges(r),function(i){n[i.w]=(n[i.w]||0)+t.edge(i).weight}),n});return Lt.zipObject(t.nodes(),e)}function sM(t){var e=Lt.map(t.nodes(),function(r){var n={};return Lt.forEach(t.inEdges(r),function(i){n[i.v]=(n[i.v]||0)+t.edge(i).weight}),n});return Lt.zipObject(t.nodes(),e)}function aM(t,e){var r=t.x,n=t.y,i=e.x-r,o=e.y-n,s=t.width/2,a=t.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),l=a*i/o,c=a):(i<0&&(s=-s),l=s,c=s*o/i),{x:r+l,y:n+c}}function lM(t){var e=Lt.map(Lt.range(VE(t)+1),function(){return[]});return Lt.forEach(t.nodes(),function(r){var n=t.node(r),i=n.rank;Lt.isUndefined(i)||(e[i][n.order]=r)}),e}function cM(t){var e=Lt.min(Lt.map(t.nodes(),function(r){return t.node(r).rank}));Lt.forEach(t.nodes(),function(r){var n=t.node(r);Lt.has(n,"rank")&&(n.rank-=e)})}function dM(t){var e=Lt.min(Lt.map(t.nodes(),function(o){return t.node(o).rank})),r=[];Lt.forEach(t.nodes(),function(o){var s=t.node(o).rank-e;r[s]||(r[s]=[]),r[s].push(o)});var n=0,i=t.graph().nodeRankFactor;Lt.forEach(r,function(o,s){Lt.isUndefined(o)&&s%i!==0?--n:n&&Lt.forEach(o,function(a){t.node(a).rank+=n})})}function uM(t,e,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),HE(t,"border",i,e)}function VE(t){return Lt.max(Lt.map(t.nodes(),function(e){var r=t.node(e).rank;if(!Lt.isUndefined(r))return r}))}function hM(t,e){var r={lhs:[],rhs:[]};return Lt.forEach(t,function(n){e(n)?r.lhs.push(n):r.rhs.push(n)}),r}function fM(t,e){var r=Lt.now();try{return e()}finally{console.log(t+" time: "+(Lt.now()-r)+"ms")}}function gM(t,e){return e()}var jE=Jt,pM=Lr,mM={run:vM,undo:_M};function vM(t){t.graph().dummyChains=[],jE.forEach(t.edges(),function(e){bM(t,e)})}function bM(t,e){var r=e.v,n=t.node(r).rank,i=e.w,o=t.node(i).rank,s=e.name,a=t.edge(e),l=a.labelRank;if(o!==n+1){t.removeEdge(e);var c,d,u;for(u=0,++n;n<o;++u,++n)a.points=[],d={width:0,height:0,edgeLabel:a,edgeObj:e,rank:n},c=pM.addDummyNode(t,"edge",d,"_d"),n===l&&(d.width=a.width,d.height=a.height,d.dummy="edge-label",d.labelpos=a.labelpos),t.setEdge(r,c,{weight:a.weight},s),u===0&&t.graph().dummyChains.push(c),r=c;t.setEdge(r,i,{weight:a.weight},s)}}function _M(t){jE.forEach(t.graph().dummyChains,function(e){var r=t.node(e),n=r.edgeLabel,i;for(t.setEdge(r.edgeObj,n);r.dummy;)i=t.successors(e)[0],t.removeNode(e),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),e=i,r=t.node(e)})}var tl=Jt,Dd={longestPath:yM,slack:wM};function yM(t){var e={};function r(n){var i=t.node(n);if(tl.has(e,n))return i.rank;e[n]=!0;var o=tl.min(tl.map(t.outEdges(n),function(s){return r(s.w)-t.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}tl.forEach(t.sources(),r)}function wM(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var Jl=Jt,kM=mn.Graph,Zl=Dd.slack,zE=SM;function SM(t){var e=new kM({directed:!1}),r=t.nodes()[0],n=t.nodeCount();e.setNode(r,{});for(var i,o;xM(e,t)<n;)i=TM(e,t),o=e.hasNode(i.v)?Zl(t,i):-Zl(t,i),EM(e,t,o);return e}function xM(t,e){function r(n){Jl.forEach(e.nodeEdges(n),function(i){var o=i.v,s=n===o?i.w:o;!t.hasNode(s)&&!Zl(e,i)&&(t.setNode(s,{}),t.setEdge(n,s,{}),r(s))})}return Jl.forEach(t.nodes(),r),t.nodeCount()}function TM(t,e){return Jl.minBy(e.edges(),function(r){if(t.hasNode(r.v)!==t.hasNode(r.w))return Zl(e,r)})}function EM(t,e,r){Jl.forEach(t.nodes(),function(n){e.node(n).rank+=r})}var Vn=Jt,CM=zE,LM=Dd.slack,IM=Dd.longestPath,AM=mn.alg.preorder,FM=mn.alg.postorder,RM=Lr.simplify,PM=bo;bo.initLowLimValues=Ob;bo.initCutValues=Db;bo.calcCutValue=KE;bo.leaveEdge=YE;bo.enterEdge=JE;bo.exchangeEdges=ZE;function bo(t){t=RM(t),IM(t);var e=CM(t);Ob(e),Db(e,t);for(var r,n;r=YE(e);)n=JE(e,t,r),ZE(e,t,r,n)}function Db(t,e){var r=FM(t,t.nodes());r=r.slice(0,r.length-1),Vn.forEach(r,function(n){$M(t,e,n)})}function $M(t,e,r){var n=t.node(r),i=n.parent;t.edge(r,i).cutvalue=KE(t,e,r)}function KE(t,e,r){var n=t.node(r),i=n.parent,o=!0,s=e.edge(r,i),a=0;return s||(o=!1,s=e.edge(i,r)),a=s.weight,Vn.forEach(e.nodeEdges(r),function(l){var c=l.v===r,d=c?l.w:l.v;if(d!==i){var u=c===o,f=e.edge(l).weight;if(a+=u?f:-f,OM(t,r,d)){var h=t.edge(r,d).cutvalue;a+=u?-h:h}}}),a}function Ob(t,e){arguments.length<2&&(e=t.nodes()[0]),XE(t,{},1,e)}function XE(t,e,r,n,i){var o=r,s=t.node(n);return e[n]=!0,Vn.forEach(t.neighbors(n),function(a){Vn.has(e,a)||(r=XE(t,e,r,a,n))}),s.low=o,s.lim=r++,i?s.parent=i:delete s.parent,r}function YE(t){return Vn.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function JE(t,e,r){var n=r.v,i=r.w;e.hasEdge(n,i)||(n=r.w,i=r.v);var o=t.node(n),s=t.node(i),a=o,l=!1;o.lim>s.lim&&(a=s,l=!0);var c=Vn.filter(e.edges(),function(d){return l===WS(t,t.node(d.v),a)&&l!==WS(t,t.node(d.w),a)});return Vn.minBy(c,function(d){return LM(e,d)})}function ZE(t,e,r,n){var i=r.v,o=r.w;t.removeEdge(i,o),t.setEdge(n.v,n.w,{}),Ob(t),Db(t,e),DM(t,e)}function DM(t,e){var r=Vn.find(t.nodes(),function(i){return!e.node(i).parent}),n=AM(t,r);n=n.slice(1),Vn.forEach(n,function(i){var o=t.node(i).parent,s=e.edge(i,o),a=!1;s||(s=e.edge(o,i),a=!0),e.node(i).rank=e.node(o).rank+(a?s.minlen:-s.minlen)})}function OM(t,e,r){return t.hasEdge(e,r)}function WS(t,e,r){return r.low<=e.lim&&e.lim<=r.lim}var BM=Dd,QE=BM.longestPath,MM=zE,NM=PM,GM=UM;function UM(t){switch(t.graph().ranker){case"network-simplex":qS(t);break;case"tight-tree":qM(t);break;case"longest-path":WM(t);break;default:qS(t)}}var WM=QE;function qM(t){QE(t),MM(t)}function qS(t){NM(t)}var dv=Jt,HM=VM;function VM(t){var e=zM(t);dv.forEach(t.graph().dummyChains,function(r){for(var n=t.node(r),i=n.edgeObj,o=jM(t,e,i.v,i.w),s=o.path,a=o.lca,l=0,c=s[l],d=!0;r!==i.w;){if(n=t.node(r),d){for(;(c=s[l])!==a&&t.node(c).maxRank<n.rank;)l++;c===a&&(d=!1)}if(!d){for(;l<s.length-1&&t.node(c=s[l+1]).minRank<=n.rank;)l++;c=s[l]}t.setParent(r,c),r=t.successors(r)[0]}})}function jM(t,e,r,n){var i=[],o=[],s=Math.min(e[r].low,e[n].low),a=Math.max(e[r].lim,e[n].lim),l,c;l=r;do l=t.parent(l),i.push(l);while(l&&(e[l].low>s||a>e[l].lim));for(c=l,l=n;(l=t.parent(l))!==c;)o.push(l);return{path:i.concat(o.reverse()),lca:c}}function zM(t){var e={},r=0;function n(i){var o=r;dv.forEach(t.children(i),n),e[i]={low:o,lim:r++}}return dv.forEach(t.children(),n),e}var Mn=Jt,uv=Lr,KM={run:XM,cleanup:ZM};function XM(t){var e=uv.addDummyNode(t,"root",{},"_root"),r=YM(t),n=Mn.max(Mn.values(r))-1,i=2*n+1;t.graph().nestingRoot=e,Mn.forEach(t.edges(),function(s){t.edge(s).minlen*=i});var o=JM(t)+1;Mn.forEach(t.children(),function(s){eC(t,e,i,o,n,r,s)}),t.graph().nodeRankFactor=i}function eC(t,e,r,n,i,o,s){var a=t.children(s);if(!a.length){s!==e&&t.setEdge(e,s,{weight:0,minlen:r});return}var l=uv.addBorderNode(t,"_bt"),c=uv.addBorderNode(t,"_bb"),d=t.node(s);t.setParent(l,s),d.borderTop=l,t.setParent(c,s),d.borderBottom=c,Mn.forEach(a,function(u){eC(t,e,r,n,i,o,u);var f=t.node(u),h=f.borderTop?f.borderTop:u,g=f.borderBottom?f.borderBottom:u,p=f.borderTop?n:2*n,m=h!==g?1:i-o[s]+1;t.setEdge(l,h,{weight:p,minlen:m,nestingEdge:!0}),t.setEdge(g,c,{weight:p,minlen:m,nestingEdge:!0})}),t.parent(s)||t.setEdge(e,l,{weight:0,minlen:i+o[s]})}function YM(t){var e={};function r(n,i){var o=t.children(n);o&&o.length&&Mn.forEach(o,function(s){r(s,i+1)}),e[n]=i}return Mn.forEach(t.children(),function(n){r(n,1)}),e}function JM(t){return Mn.reduce(t.edges(),function(e,r){return e+t.edge(r).weight},0)}function ZM(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Mn.forEach(t.edges(),function(r){var n=t.edge(r);n.nestingEdge&&t.removeEdge(r)})}var um=Jt,QM=Lr,eN=tN;function tN(t){function e(r){var n=t.children(r),i=t.node(r);if(n.length&&um.forEach(n,e),um.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)HS(t,"borderLeft","_bl",r,i,o),HS(t,"borderRight","_br",r,i,o)}}um.forEach(t.children(),e)}function HS(t,e,r,n,i,o){var s={width:0,height:0,rank:o,borderType:e},a=i[e][o-1],l=QM.addDummyNode(t,"border",s,r);i[e][o]=l,t.setParent(l,n),a&&t.setEdge(a,l,{weight:1})}var kn=Jt,rN={adjust:nN,undo:iN};function nN(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&tC(t)}function iN(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&oN(t),(e==="lr"||e==="rl")&&(sN(t),tC(t))}function tC(t){kn.forEach(t.nodes(),function(e){VS(t.node(e))}),kn.forEach(t.edges(),function(e){VS(t.edge(e))})}function VS(t){var e=t.width;t.width=t.height,t.height=e}function oN(t){kn.forEach(t.nodes(),function(e){hm(t.node(e))}),kn.forEach(t.edges(),function(e){var r=t.edge(e);kn.forEach(r.points,hm),kn.has(r,"y")&&hm(r)})}function hm(t){t.y=-t.y}function sN(t){kn.forEach(t.nodes(),function(e){fm(t.node(e))}),kn.forEach(t.edges(),function(e){var r=t.edge(e);kn.forEach(r.points,fm),kn.has(r,"x")&&fm(r)})}function fm(t){var e=t.x;t.x=t.y,t.y=e}var Rn=Jt,aN=lN;function lN(t){var e={},r=Rn.filter(t.nodes(),function(a){return!t.children(a).length}),n=Rn.max(Rn.map(r,function(a){return t.node(a).rank})),i=Rn.map(Rn.range(n+1),function(){return[]});function o(a){if(!Rn.has(e,a)){e[a]=!0;var l=t.node(a);i[l.rank].push(a),Rn.forEach(t.successors(a),o)}}var s=Rn.sortBy(r,function(a){return t.node(a).rank});return Rn.forEach(s,o),i}var ni=Jt,cN=dN;function dN(t,e){for(var r=0,n=1;n<e.length;++n)r+=uN(t,e[n-1],e[n]);return r}function uN(t,e,r){for(var n=ni.zipObject(r,ni.map(r,function(c,d){return d})),i=ni.flatten(ni.map(e,function(c){return ni.sortBy(ni.map(t.outEdges(c),function(d){return{pos:n[d.w],weight:t.edge(d).weight}}),"pos")}),!0),o=1;o<r.length;)o<<=1;var s=2*o-1;o-=1;var a=ni.map(new Array(s),function(){return 0}),l=0;return ni.forEach(i.forEach(function(c){var d=c.pos+o;a[d]+=c.weight;for(var u=0;d>0;)d%2&&(u+=a[d+1]),d=d-1>>1,a[d]+=c.weight;l+=c.weight*u})),l}var jS=Jt,hN=fN;function fN(t,e){return jS.map(e,function(r){var n=t.inEdges(r);if(n.length){var i=jS.reduce(n,function(o,s){var a=t.edge(s),l=t.node(s.v);return{sum:o.sum+a.weight*l.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}var Rr=Jt,gN=pN;function pN(t,e){var r={};Rr.forEach(t,function(i,o){var s=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};Rr.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),Rr.forEach(e.edges(),function(i){var o=r[i.v],s=r[i.w];!Rr.isUndefined(o)&&!Rr.isUndefined(s)&&(s.indegree++,o.out.push(r[i.w]))});var n=Rr.filter(r,function(i){return!i.indegree});return mN(n)}function mN(t){var e=[];function r(o){return function(s){s.merged||(Rr.isUndefined(s.barycenter)||Rr.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&vN(o,s)}}function n(o){return function(s){s.in.push(o),--s.indegree===0&&t.push(s)}}for(;t.length;){var i=t.pop();e.push(i),Rr.forEach(i.in.reverse(),r(i)),Rr.forEach(i.out,n(i))}return Rr.map(Rr.filter(e,function(o){return!o.merged}),function(o){return Rr.pick(o,["vs","i","barycenter","weight"])})}function vN(t,e){var r=0,n=0;t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=r/n,t.weight=n,t.i=Math.min(e.i,t.i),e.merged=!0}var zs=Jt,bN=Lr,_N=yN;function yN(t,e){var r=bN.partition(t,function(d){return zs.has(d,"barycenter")}),n=r.lhs,i=zs.sortBy(r.rhs,function(d){return-d.i}),o=[],s=0,a=0,l=0;n.sort(wN(!!e)),l=zS(o,i,l),zs.forEach(n,function(d){l+=d.vs.length,o.push(d.vs),s+=d.barycenter*d.weight,a+=d.weight,l=zS(o,i,l)});var c={vs:zs.flatten(o,!0)};return a&&(c.barycenter=s/a,c.weight=a),c}function zS(t,e,r){for(var n;e.length&&(n=zs.last(e)).i<=r;)e.pop(),t.push(n.vs),r++;return r}function wN(t){return function(e,r){return e.barycenter<r.barycenter?-1:e.barycenter>r.barycenter?1:t?r.i-e.i:e.i-r.i}}var li=Jt,kN=hN,SN=gN,xN=_N,TN=rC;function rC(t,e,r,n){var i=t.children(e),o=t.node(e),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,l={};s&&(i=li.filter(i,function(g){return g!==s&&g!==a}));var c=kN(t,i);li.forEach(c,function(g){if(t.children(g.v).length){var p=rC(t,g.v,r,n);l[g.v]=p,li.has(p,"barycenter")&&CN(g,p)}});var d=SN(c,r);EN(d,l);var u=xN(d,n);if(s&&(u.vs=li.flatten([s,u.vs,a],!0),t.predecessors(s).length)){var f=t.node(t.predecessors(s)[0]),h=t.node(t.predecessors(a)[0]);li.has(u,"barycenter")||(u.barycenter=0,u.weight=0),u.barycenter=(u.barycenter*u.weight+f.order+h.order)/(u.weight+2),u.weight+=2}return u}function EN(t,e){li.forEach(t,function(r){r.vs=li.flatten(r.vs.map(function(n){return e[n]?e[n].vs:n}),!0)})}function CN(t,e){li.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}var Ks=Jt,LN=mn.Graph,IN=AN;function AN(t,e,r){var n=FN(t),i=new LN({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(o){return t.node(o)});return Ks.forEach(t.nodes(),function(o){var s=t.node(o),a=t.parent(o);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||n),Ks.forEach(t[r](o),function(l){var c=l.v===o?l.w:l.v,d=i.edge(c,o),u=Ks.isUndefined(d)?0:d.weight;i.setEdge(c,o,{weight:t.edge(l).weight+u})}),Ks.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),i}function FN(t){for(var e;t.hasNode(e=Ks.uniqueId("_root")););return e}var RN=Jt,PN=$N;function $N(t,e,r){var n={},i;RN.forEach(r,function(o){for(var s=t.parent(o),a,l;s;){if(a=t.parent(s),a?(l=n[a],n[a]=s):(l=i,i=s),l&&l!==s){e.setEdge(l,s);return}s=a}})}var bi=Jt,DN=aN,ON=cN,BN=TN,MN=IN,NN=PN,GN=mn.Graph,KS=Lr,UN=WN;function WN(t){var e=KS.maxRank(t),r=XS(t,bi.range(1,e+1),"inEdges"),n=XS(t,bi.range(e-1,-1,-1),"outEdges"),i=DN(t);YS(t,i);for(var o=Number.POSITIVE_INFINITY,s,a=0,l=0;l<4;++a,++l){qN(a%2?r:n,a%4>=2),i=KS.buildLayerMatrix(t);var c=ON(t,i);c<o&&(l=0,s=bi.cloneDeep(i),o=c)}YS(t,s)}function XS(t,e,r){return bi.map(e,function(n){return MN(t,n,r)})}function qN(t,e){var r=new GN;bi.forEach(t,function(n){var i=n.graph().root,o=BN(n,i,r,e);bi.forEach(o.vs,function(s,a){n.node(s).order=a}),NN(n,r,o.vs)})}function YS(t,e){bi.forEach(e,function(r){bi.forEach(r,function(n,i){t.node(n).order=i})})}var rt=Jt,HN=mn.Graph,VN=Lr,jN={positionX:XN,findType1Conflicts:nC,findType2Conflicts:iC,addConflict:Bb,hasConflict:oC,verticalAlignment:sC,horizontalCompaction:aC,alignCoordinates:cC,findSmallestWidthAlignment:lC,balance:dC};function nC(t,e){var r={};function n(i,o){var s=0,a=0,l=i.length,c=rt.last(o);return rt.forEach(o,function(d,u){var f=zN(t,d),h=f?t.node(f).order:l;(f||d===c)&&(rt.forEach(o.slice(a,u+1),function(g){rt.forEach(t.predecessors(g),function(p){var m=t.node(p),b=m.order;(b<s||h<b)&&!(m.dummy&&t.node(g).dummy)&&Bb(r,p,g)})}),a=u+1,s=h)}),o}return rt.reduce(e,n),r}function iC(t,e){var r={};function n(o,s,a,l,c){var d;rt.forEach(rt.range(s,a),function(u){d=o[u],t.node(d).dummy&&rt.forEach(t.predecessors(d),function(f){var h=t.node(f);h.dummy&&(h.order<l||h.order>c)&&Bb(r,f,d)})})}function i(o,s){var a=-1,l,c=0;return rt.forEach(s,function(d,u){if(t.node(d).dummy==="border"){var f=t.predecessors(d);f.length&&(l=t.node(f[0]).order,n(s,c,u,a,l),c=u,a=l)}n(s,c,s.length,l,o.length)}),s}return rt.reduce(e,i),r}function zN(t,e){if(t.node(e).dummy)return rt.find(t.predecessors(e),function(r){return t.node(r).dummy})}function Bb(t,e,r){if(e>r){var n=e;e=r,r=n}var i=t[e];i||(t[e]=i={}),i[r]=!0}function oC(t,e,r){if(e>r){var n=e;e=r,r=n}return rt.has(t[e],r)}function sC(t,e,r,n){var i={},o={},s={};return rt.forEach(e,function(a){rt.forEach(a,function(l,c){i[l]=l,o[l]=l,s[l]=c})}),rt.forEach(e,function(a){var l=-1;rt.forEach(a,function(c){var d=n(c);if(d.length){d=rt.sortBy(d,function(p){return s[p]});for(var u=(d.length-1)/2,f=Math.floor(u),h=Math.ceil(u);f<=h;++f){var g=d[f];o[c]===c&&l<s[g]&&!oC(r,c,g)&&(o[g]=c,o[c]=i[c]=i[g],l=s[g])}}})}),{root:i,align:o}}function aC(t,e,r,n,i){var o={},s=KN(t,e,r,i),a=i?"borderLeft":"borderRight";function l(u,f){for(var h=s.nodes(),g=h.pop(),p={};g;)p[g]?u(g):(p[g]=!0,h.push(g),h=h.concat(f(g))),g=h.pop()}function c(u){o[u]=s.inEdges(u).reduce(function(f,h){return Math.max(f,o[h.v]+s.edge(h))},0)}function d(u){var f=s.outEdges(u).reduce(function(g,p){return Math.min(g,o[p.w]-s.edge(p))},Number.POSITIVE_INFINITY),h=t.node(u);f!==Number.POSITIVE_INFINITY&&h.borderType!==a&&(o[u]=Math.max(o[u],f))}return l(c,s.predecessors.bind(s)),l(d,s.successors.bind(s)),rt.forEach(n,function(u){o[u]=o[r[u]]}),o}function KN(t,e,r,n){var i=new HN,o=t.graph(),s=YN(o.nodesep,o.edgesep,n);return rt.forEach(e,function(a){var l;rt.forEach(a,function(c){var d=r[c];if(i.setNode(d),l){var u=r[l],f=i.edge(u,d);i.setEdge(u,d,Math.max(s(t,c,l),f||0))}l=c})}),i}function lC(t,e){return rt.minBy(rt.values(e),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return rt.forIn(r,function(o,s){var a=JN(t,s)/2;n=Math.max(o+a,n),i=Math.min(o-a,i)}),n-i})}function cC(t,e){var r=rt.values(e),n=rt.min(r),i=rt.max(r);rt.forEach(["u","d"],function(o){rt.forEach(["l","r"],function(s){var a=o+s,l=t[a],c;if(l!==e){var d=rt.values(l);c=s==="l"?n-rt.min(d):i-rt.max(d),c&&(t[a]=rt.mapValues(l,function(u){return u+c}))}})})}function dC(t,e){return rt.mapValues(t.ul,function(r,n){if(e)return t[e.toLowerCase()][n];var i=rt.sortBy(rt.map(t,n));return(i[1]+i[2])/2})}function XN(t){var e=VN.buildLayerMatrix(t),r=rt.merge(nC(t,e),iC(t,e)),n={},i;rt.forEach(["u","d"],function(s){i=s==="u"?e:rt.values(e).reverse(),rt.forEach(["l","r"],function(a){a==="r"&&(i=rt.map(i,function(u){return rt.values(u).reverse()}));var l=(s==="u"?t.predecessors:t.successors).bind(t),c=sC(t,i,r,l),d=aC(t,i,c.root,c.align,a==="r");a==="r"&&(d=rt.mapValues(d,function(u){return-u})),n[s+a]=d})});var o=lC(t,n);return cC(n,o),dC(n,t.graph().align)}function YN(t,e,r){return function(n,i,o){var s=n.node(i),a=n.node(o),l=0,c;if(l+=s.width/2,rt.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=-s.width/2;break;case"r":c=s.width/2;break}if(c&&(l+=r?c:-c),c=0,l+=(s.dummy?e:t)/2,l+=(a.dummy?e:t)/2,l+=a.width/2,rt.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=a.width/2;break;case"r":c=-a.width/2;break}return c&&(l+=r?c:-c),c=0,l}}function JN(t,e){return t.node(e).width}var Xs=Jt,uC=Lr,ZN=jN.positionX,QN=eG;function eG(t){t=uC.asNonCompoundGraph(t),tG(t),Xs.forEach(ZN(t),function(e,r){t.node(r).x=e})}function tG(t){var e=uC.buildLayerMatrix(t),r=t.graph().ranksep,n=0;Xs.forEach(e,function(i){var o=Xs.max(Xs.map(i,function(s){return t.node(s).height}));Xs.forEach(i,function(s){t.node(s).y=n+o/2}),n+=o+r})}var ht=Jt,JS=QB,ZS=mM,rG=GM,nG=Lr.normalizeRanks,iG=HM,oG=Lr.removeEmptyRanks,QS=KM,sG=eN,ex=rN,aG=UN,lG=QN,Si=Lr,cG=mn.Graph,dG=uG;function uG(t,e){var r=e&&e.debugTiming?Si.time:Si.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return kG(t)});r("  runLayout",function(){hG(n,r)}),r("  updateInputGraph",function(){fG(t,n)})})}function hG(t,e){e("    makeSpaceForEdgeLabels",function(){SG(t)}),e("    removeSelfEdges",function(){RG(t)}),e("    acyclic",function(){JS.run(t)}),e("    nestingGraph.run",function(){QS.run(t)}),e("    rank",function(){rG(Si.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){xG(t)}),e("    removeEmptyRanks",function(){oG(t)}),e("    nestingGraph.cleanup",function(){QS.cleanup(t)}),e("    normalizeRanks",function(){nG(t)}),e("    assignRankMinMax",function(){TG(t)}),e("    removeEdgeLabelProxies",function(){EG(t)}),e("    normalize.run",function(){ZS.run(t)}),e("    parentDummyChains",function(){iG(t)}),e("    addBorderSegments",function(){sG(t)}),e("    order",function(){aG(t)}),e("    insertSelfEdges",function(){PG(t)}),e("    adjustCoordinateSystem",function(){ex.adjust(t)}),e("    position",function(){lG(t)}),e("    positionSelfEdges",function(){$G(t)}),e("    removeBorderNodes",function(){FG(t)}),e("    normalize.undo",function(){ZS.undo(t)}),e("    fixupEdgeLabelCoords",function(){IG(t)}),e("    undoCoordinateSystem",function(){ex.undo(t)}),e("    translateGraph",function(){CG(t)}),e("    assignNodeIntersects",function(){LG(t)}),e("    reversePoints",function(){AG(t)}),e("    acyclic.undo",function(){JS.undo(t)})}function fG(t,e){ht.forEach(t.nodes(),function(r){var n=t.node(r),i=e.node(r);n&&(n.x=i.x,n.y=i.y,e.children(r).length&&(n.width=i.width,n.height=i.height))}),ht.forEach(t.edges(),function(r){var n=t.edge(r),i=e.edge(r);n.points=i.points,ht.has(i,"x")&&(n.x=i.x,n.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var gG=["nodesep","edgesep","ranksep","marginx","marginy"],pG={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},mG=["acyclicer","ranker","rankdir","align"],vG=["width","height"],bG={width:0,height:0},_G=["minlen","weight","width","height","labeloffset"],yG={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},wG=["labelpos"];function kG(t){var e=new cG({multigraph:!0,compound:!0}),r=pm(t.graph());return e.setGraph(ht.merge({},pG,gm(r,gG),ht.pick(r,mG))),ht.forEach(t.nodes(),function(n){var i=pm(t.node(n));e.setNode(n,ht.defaults(gm(i,vG),bG)),e.setParent(n,t.parent(n))}),ht.forEach(t.edges(),function(n){var i=pm(t.edge(n));e.setEdge(n,ht.merge({},yG,gm(i,_G),ht.pick(i,wG)))}),e}function SG(t){var e=t.graph();e.ranksep/=2,ht.forEach(t.edges(),function(r){var n=t.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function xG(t){ht.forEach(t.edges(),function(e){var r=t.edge(e);if(r.width&&r.height){var n=t.node(e.v),i=t.node(e.w),o={rank:(i.rank-n.rank)/2+n.rank,e};Si.addDummyNode(t,"edge-proxy",o,"_ep")}})}function TG(t){var e=0;ht.forEach(t.nodes(),function(r){var n=t.node(r);n.borderTop&&(n.minRank=t.node(n.borderTop).rank,n.maxRank=t.node(n.borderBottom).rank,e=ht.max(e,n.maxRank))}),t.graph().maxRank=e}function EG(t){ht.forEach(t.nodes(),function(e){var r=t.node(e);r.dummy==="edge-proxy"&&(t.edge(r.e).labelRank=r.rank,t.removeNode(e))})}function CG(t){var e=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,o=t.graph(),s=o.marginx||0,a=o.marginy||0;function l(c){var d=c.x,u=c.y,f=c.width,h=c.height;e=Math.min(e,d-f/2),r=Math.max(r,d+f/2),n=Math.min(n,u-h/2),i=Math.max(i,u+h/2)}ht.forEach(t.nodes(),function(c){l(t.node(c))}),ht.forEach(t.edges(),function(c){var d=t.edge(c);ht.has(d,"x")&&l(d)}),e-=s,n-=a,ht.forEach(t.nodes(),function(c){var d=t.node(c);d.x-=e,d.y-=n}),ht.forEach(t.edges(),function(c){var d=t.edge(c);ht.forEach(d.points,function(u){u.x-=e,u.y-=n}),ht.has(d,"x")&&(d.x-=e),ht.has(d,"y")&&(d.y-=n)}),o.width=r-e+s,o.height=i-n+a}function LG(t){ht.forEach(t.edges(),function(e){var r=t.edge(e),n=t.node(e.v),i=t.node(e.w),o,s;r.points?(o=r.points[0],s=r.points[r.points.length-1]):(r.points=[],o=i,s=n),r.points.unshift(Si.intersectRect(n,o)),r.points.push(Si.intersectRect(i,s))})}function IG(t){ht.forEach(t.edges(),function(e){var r=t.edge(e);if(ht.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function AG(t){ht.forEach(t.edges(),function(e){var r=t.edge(e);r.reversed&&r.points.reverse()})}function FG(t){ht.forEach(t.nodes(),function(e){if(t.children(e).length){var r=t.node(e),n=t.node(r.borderTop),i=t.node(r.borderBottom),o=t.node(ht.last(r.borderLeft)),s=t.node(ht.last(r.borderRight));r.width=Math.abs(s.x-o.x),r.height=Math.abs(i.y-n.y),r.x=o.x+r.width/2,r.y=n.y+r.height/2}}),ht.forEach(t.nodes(),function(e){t.node(e).dummy==="border"&&t.removeNode(e)})}function RG(t){ht.forEach(t.edges(),function(e){if(e.v===e.w){var r=t.node(e.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function PG(t){var e=Si.buildLayerMatrix(t);ht.forEach(e,function(r){var n=0;ht.forEach(r,function(i,o){var s=t.node(i);s.order=o+n,ht.forEach(s.selfEdges,function(a){Si.addDummyNode(t,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++n,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function $G(t){ht.forEach(t.nodes(),function(e){var r=t.node(e);if(r.dummy==="selfedge"){var n=t.node(r.e.v),i=n.x+n.width/2,o=n.y,s=r.x-i,a=n.height/2;t.setEdge(r.e,r.label),t.removeNode(e),r.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],r.label.x=r.x,r.label.y=r.y}})}function gm(t,e){return ht.mapValues(ht.pick(t,e),Number)}function pm(t){var e={};return ht.forEach(t,function(r,n){e[n.toLowerCase()]=r}),e}var rl=Jt,DG=Lr,OG=mn.Graph,BG={debugOrdering:MG};function MG(t){var e=DG.buildLayerMatrix(t),r=new OG({compound:!0,multigraph:!0}).setGraph({});return rl.forEach(t.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+t.node(n).rank)}),rl.forEach(t.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),rl.forEach(e,function(n,i){var o="layer"+i;r.setNode(o,{rank:"same"}),rl.reduce(n,function(s,a){return r.setEdge(s,a,{style:"invis"}),a})}),r}var NG="0.8.5",GG={graphlib:mn,layout:dG,debug:BG,util:{time:Lr.time,notime:Lr.notime},version:NG};const hC=xc(GG),Mb=.05,Nb=2.5;function UG(t){let e;const r={...t,interactionTimers:{nodeHighlight:void 0,nodeUnhighlight:void 0,edgeHighlight:void 0,edgeUnhighlight:void 0},update:()=>{e&&hv(r,e,r.data,r.opts)}};return{init:(n,i)=>{e=gC(r,n,i,{showRootNode:!0,layout:!0})},resize:()=>{r.onContainerResize?.()},update:n=>{yC(),hv(r,e,n,{layout:!0})},zoom:n=>{YG(e,n)},fitView:()=>{JG(r,e)},destroy:()=>{e.destroy()}}}function fC(t){const e=t.nodes+t.edges;return e>250?16:e>100?8:0}function gC(t,e,r,n){yC();const i=new cr.Stage({container:e,width:e.clientWidth,height:e.clientHeight,draggable:!0});return i.add(new cr.Layer),i.on("dragmove",()=>{xi(i),t.setCursorIcon("grabbing")}),i.on("dragend",()=>{t.setCursorIcon("default")}),pC(i,t),i.on("click",o=>{o.target===i&&kC(t)}),i.on("mousemove",o=>{const s=t.hoveredEdge;s&&(clearTimeout(t.interactionTimers.edgeUnhighlight),vC(t,s,ui(),{updatePointer:!0,markHovered:!0}),t.interactionTimers.edgeUnhighlight=setTimeout(()=>{Pa(t,s,ui())},200))}),t.onContainerResize=()=>{i.size({width:e.clientWidth,height:e.clientHeight}),xi(i),i.batchDraw()},hv(t,i,r,n),i}function pC(t,e){t.off("wheel");const r=WG(e.stats||{nodes:0,edges:0});t.on("wheel",SC(n=>{if(n.evt.ctrlKey||n.evt.metaKey){n.evt.preventDefault();const i={x:t.x()-n.evt.deltaX,y:t.y()-n.evt.deltaY};t.position(i)}else{if(Math.abs(n.evt.deltaY)<Math.abs(n.evt.deltaX))return;n.evt.preventDefault();const i=t.scaleX(),o=t.getPointerPosition();if(!o)return;const s={x:(o.x-t.x())/i,y:(o.y-t.y())/i},a=n.evt.deltaY>0?Math.max(i/r,Mb):Math.min(i*r,Nb),l={x:o.x-s.x*a,y:o.y-s.y*a};t.scale({x:a,y:a}),t.position(l)}xi(t)},fC(e.stats||{nodes:0,edges:0})))}function hv(t,e,r,n){if(e instanceof HTMLDivElement)return gC(t,e,r,n);{const i=t.baseFontSize*.8,o=280,s=t.baseFontSize+1;let a;if(t.lastClicked){const h=t.value?.node(t.lastClicked.nodeId);if(h){const g=h.visuals.group.absolutePosition(),m=e.getAbsoluteTransform().copy().invert().point(g);a={x:m.x*e.scaleX()+e.x(),y:m.y*e.scaleY()+e.y(),id:t.lastClicked.nodeId}}}else if(t.value){let h,g=1/0;const p=e.width(),m=e.height(),b=e.getAbsoluteTransform().copy().invert();if(t.value.nodes().forEach(k=>{const _=t.value.node(k);if(_&&_.visuals){const v=_.visuals.group.absolutePosition(),x=_.visuals.group.width(),S=_.visuals.group.height(),w=b.point(v),T=w.x*e.scaleX()+e.x(),L=w.y*e.scaleY()+e.y(),E=T+x*e.scaleX(),C=L+S*e.scaleY();E>0&&T<p&&C>0&&L<m&&T<g&&(g=T,h=_)}}),h){const k=h.visuals.group.absolutePosition(),_=b.point(k);a={x:_.x*e.scaleX()+e.x(),y:_.y*e.scaleY()+e.y(),id:h.id}}}e.getLayers()[0].destroyChildren(),t.collapsedNodes=t.collapsedNodes||new Set,t.loadAllPropsNodes=t.loadAllPropsNodes||new Set;const l=new hC.graphlib.Graph({directed:!0,multigraph:!1,compound:!0});l.setDefaultEdgeLabel(()=>({})),t.value=l;const c=t.selectedNode?.id,d=t.hoveredNode?.id;t.firstRoot=void 0,t.hoveredEdge=void 0,t.selectedNode=void 0,t.hoveredNode=void 0,t.disallowValueLoad=t.disallowValueLoad,t.maxDepth=t.maxDepth,t.noValueLoadBeyondMaxDepth=t.noValueLoadBeyondMaxDepth;const u=[];let f=0;for(const h of r){const{nodeData:g}=_C(t,{fontSize:t.baseFontSize,headerFontSize:s,headerLineHeight:s*1.5,lineHeight:t.baseFontSize*1.5,padding:i,charWidth:rx(t.baseFontSize),headerCharWidth:rx(s),maxContentWidth:o-i*2,maxNodeWidth:o,stage:e,dragThrottleDelay:()=>fC(t.stats)},h.value,bC(h.value,h.name),0,f++);u.push(g),g.name=h.name}if(t.firstRoot=u[0],t.opts=n,t.data=r,t.stats={nodes:t.value.nodeCount(),edges:t.value.edgeCount()},pC(e,t),XG(t,e,n),c){const h=t.value.node(c);h&&wl(t,h)}if(d){const h=t.value.node(d);h&&mC(t,h,ui())}if(a){const h=t.value?.node(a.id);if(h){const g=h.visuals.group.absolutePosition(),m=e.getAbsoluteTransform().copy().invert().point(g),b={x:m.x*e.scaleX()+e.x(),y:m.y*e.scaleY()+e.y()},k={x:a.x-b.x,y:a.y-b.y};e.position({x:e.x()+k.x,y:e.y()+k.y})}}return t.lastClicked=void 0,e.batchDraw(),xi(e),e}}function xi(t){const e=t.scaleX(),r=t.x(),n=t.y(),i=20,o=100;let s=i*e;const a=o*e;let l="--value-diagram-large-grid-border",c="--value-diagram-small-grid-border";s<3&&(l="--value-diagram-small-grid-border",c="--value-diagram-extra-small-grid-border"),s<1&&(l="--value-diagram-extra-small-grid-border",s=0);const d=r%s,u=n%s,f=r%a,h=n%a,g=t.container();g&&(g.style.backgroundImage=`
        linear-gradient(to right, var(${c}) 1px, transparent 1px),
        linear-gradient(to bottom, var(${c}) 1px, transparent 1px),
        linear-gradient(to right, var(${l}) 1px, transparent 1px),
        linear-gradient(to bottom, var(${l}) 1px, transparent 1px)
      `,g.style.backgroundSize=`
        ${s}px ${s}px,
        ${s}px ${s}px,
        ${a}px ${a}px,
        ${a}px ${a}px
      `,g.style.backgroundPosition=`
        ${d}px ${u}px,
        ${d}px ${u}px,
        ${f}px ${h}px,
        ${f}px ${h}px
      `)}function WG(t){const{nodes:e,edges:r}=t,n=Math.max(e,r),i=1.08,o=2.3;if(n<=50)return i;const s=Math.log10(n),a=i+(s-1)*.03;return Math.min(o,Math.max(i,a))}function mC(t,e,r){if(r.highlightedNodes.has(e))return;r.highlightedNodes.add(e),t.hoveredNode&&t.hoveredNode!==e&&Wn(t,t.hoveredNode,ui());const n=t.hoveredEdge;n&&(Pa(t,n,r),Wn(t,n.to,r),Wn(t,n.from,r),t.hoveredEdge=void 0),t.hoveredNode=e,t.selectedNode!==e&&e.visuals.highlight()}function Wn(t,e,r){r.unhighlightedNodes.has(e)||(r.unhighlightedNodes.add(e),t.selectedNode!==e&&e.visuals.unhighlight(),e.edges.forEach(n=>Pa(t,n,r)),t.hoveredNode===e&&(t.hoveredNode=void 0))}function vC(t,e,r,n){if(r.highlightedEdges.has(e))return;r.highlightedEdges.add(e);const i=t.hoveredNode,o=t.hoveredEdge;i&&Wn(t,i,r),Wn(t,e.from,r),Wn(t,e.to,r),e.visuals.highlight(n),o!==e&&o&&Pa(t,o,r),n?.markHovered&&(t.hoveredEdge=e)}function Pa(t,e,r){r.unhighlightedEdges.has(e)||(r.unhighlightedEdges.add(e),e.visuals.unhighlight(),Wn(t,e.to,r),Wn(t,e.from,r),t.hoveredEdge===e&&(t.hoveredEdge=void 0))}function ui(){return{highlightedNodes:new Set,highlightedEdges:new Set,unhighlightedNodes:new Set,unhighlightedEdges:new Set}}function tx(t,e){return t.id===void 0&&(t.id=e.toString()),t.id}function bC(t,e){e=e||t.name||"unknown";const r=Q5(t);return`${e}${r?`: ${r}`:""}`}function _C(t,e,r,n,i,o,s){s&&!r.id&&tx(r,o);const a=s?.id?`${s.id}-${r.id}`:o.toString(),l={id:a,value:r,edges:[],visuals:{},width:0,height:0,parent:s};let c=0;const d=qG(r,n,e,{getEdges:()=>l.edges,onProp:u=>{tx(u,c)},onExpandableProp:u=>{const f=!!u.props?.length,h=`${a}-${u.id}`,g=(f||!t.disallowValueLoad)&&(!t.noValueLoadBeyondMaxDepth||i<(t.maxDepth||Number.MAX_VALUE)),p=g&&f&&!t.collapsedNodes?.has(h);if(p||t.collapsedNodes?.add(h),u.rangeNode){const m=r.parent||r;u.parent=m,u.queryPath=m.queryPath}if(u.cappedRange){const m=r.parent||r;u.props=u.props||[],u.props.push({loadActionNode:!0,expandable:!0,parent:m,queryPath:m.queryPath})}if(p){const{nodeId:m,nodeData:b}=_C(t,e,u,bC(u),i+1,c,l),k={visuals:zG({onEdgeClick:_=>{_==="end"?(nx(b),wl(t,b)):(nx(l),wl(t,l))},onMouseMove:()=>{clearTimeout(t.interactionTimers.edgeHighlight),clearTimeout(t.interactionTimers.edgeUnhighlight),clearTimeout(t.interactionTimers.nodeHighlight),clearTimeout(t.interactionTimers.nodeUnhighlight),queueMicrotask(()=>{clearTimeout(t.interactionTimers.edgeUnhighlight)}),t.interactionTimers.edgeHighlight=setTimeout(()=>{vC(t,k,ui(),{updatePointer:!0,markHovered:!0})},25)},onMouseOut:()=>{clearTimeout(t.interactionTimers.edgeHighlight),clearTimeout(t.interactionTimers.edgeUnhighlight),t.interactionTimers.edgeUnhighlight=setTimeout(()=>{Pa(t,k,ui())},100)}}),from:l,to:b,propertyId:u.id};t.value.setEdge(a,m,k),l.edges.push(k),b.edges.push(k)}return c++,{onPropValueClick:()=>{if(t.lastClicked={nodeId:a,propertyNodeId:h},t.collapsedNodes?.has(h)?t.collapsedNodes?.delete(h):t.collapsedNodes?.add(h),u.loadAction)u.loadAction();else if(f)t.update();else{const m=u.parent?{ranges:{props:Yv(u,u.parent.props),length:u.parent.length}}:u.loadActionNode?{props:Number.MAX_VALUE}:{};t.loadValue({path:u.queryPath,...m})}},expanded:p,hovered:t.lastClicked?.propertyNodeId===h,allowedToExpand:g}},onNodeClick:()=>{wl(t,l)},onMouseMove:()=>{clearTimeout(t.interactionTimers.nodeHighlight),clearTimeout(t.interactionTimers.nodeUnhighlight),clearTimeout(t.interactionTimers.edgeHighlight),clearTimeout(t.interactionTimers.edgeUnhighlight),queueMicrotask(()=>{clearTimeout(t.interactionTimers.edgeUnhighlight)}),t.interactionTimers.nodeHighlight=setTimeout(()=>mC(t,l,ui()),25)},onMouseOut:()=>{clearTimeout(t.interactionTimers.nodeHighlight),clearTimeout(t.interactionTimers.nodeUnhighlight),t.interactionTimers.nodeUnhighlight=setTimeout(()=>{Wn(t,l,ui())},100)},onElementWithTooltipMouseOver:(u,f,h)=>{t.onElementWithTooltipMouseOver({source:f,node:l,fullString:h,evt:u})},onElementWithTooltipMouseOut:()=>{t.onElementWithTooltipMouseOut()},onLoadAllPropsClick:()=>{t.loadAllPropsNodes=t.loadAllPropsNodes||new Set,t.loadAllPropsNodes.add(a),t.update()},loadAllProps:t.loadAllPropsNodes?.has(a)||void 0});return l.visuals=d,l.width=d.group.width(),l.height=d.group.height(),t.value.setNode(a,l),{nodeId:a,nodeData:l}}const mm=new Map;function rx(t){if(mm.has(t))return mm.get(t);const r=new cr.Text({text:"1",fontSize:t,fontFamily:at("--value-diagram-editor-font-family")}).width();return mm.set(t,r),r}function qG(t,e,r,n){const i=r.padding,o=r.fontSize,s=r.maxContentWidth,a=r.charWidth,l=r.maxNodeWidth,c=r.lineHeight,d=r.headerFontSize,u=r.headerLineHeight,f=r.headerCharWidth,h=c/4,g=new Map;let p=0,m=100;p+=i,p+=u;const b=[],k=[],_=[],v=new cr.Group({x:0,y:0,width:i*2,height:i*2,perfectDrawEnabled:!1,listening:!1}),x=new cr.Text({x:.4,y:0,fontSize:o,fontStyle:"bold",fontFamily:at("--value-diagram-editor-font-family"),perfectDrawEnabled:!1,listening:!1});v.add(x),v.visible(!1);const S=n.loadAllProps?1/0:70;let w=0;for(const I of t.props||[]){let W=I;if(W.functionsNode||W.type==="function"||W.callStackNode)continue;if(w===S)W={expandable:!0,loadActionNode:!0,loadAction:n.onLoadAllPropsClick};else if(w>S)break;w++;const{value:q,css:G,name:H,expandable:J}=HG(W);n.onProp(W);const Z=H+" ",te=q;let ee=Z,le=te,de=!1,B=!1,N=a*ee.length,ie=a*le.length;const ce=N+ie;if(ce>s){m=l;const Ne=Math.floor(s/a);if(ee.length+le.length>Ne){const qe=N/ce,Re=ie/ce,et="";let ue=Math.floor(Ne*qe),Se=Math.floor(Ne*Re);const De=ee.length>ue,Ke=le.length>Se,Ue=Ne-(De?et.length:0)-(Ke?et.length:0);ue=Math.floor(Ue*qe),Se=Math.floor(Ue*Re);const be=4;ue<be&&(ue=be,Se=Math.max(1,Ue-be)),Se<3&&le.length>0&&(Se=3,ue=Ue-Se),ee.length>ue&&(ee=ee.substring(0,ue)+et,B=!0),le.length>Se&&(le=le.substring(0,Se)+et,de=!0)}}else m=Math.max(m,ce+i*2);const ke=new cr.Line({id:"line",points:[.5,p,.5,p],stroke:at("--value-diagram-node-property-border"),strokeWidth:1,perfectDrawEnabled:!1,listening:!1});_.push(ke),p+=h;const xe=new cr.Text({x:i,y:p+h/2,text:ee,fill:at("--token-scope-property-foreground"),fontSize:o,fontFamily:at("--value-diagram-editor-font-family"),perfectDrawEnabled:!1,listening:B}),Ae=new cr.Text({x:N+i,y:p+(W.loadActionNode?0:h/2),text:le,fill:G,fontSize:o,fontFamily:at("--value-diagram-editor-font-family"),perfectDrawEnabled:!1,listening:!0,hitStrokeWidth:o});if(de&&(Ae.on("mouseover",Ne=>{n.onElementWithTooltipMouseOver(Ne.evt,"property value",te)}),Ae.on("mouseout",()=>{n.onElementWithTooltipMouseOut()})),B&&(xe.on("mouseover",Ne=>{n.onElementWithTooltipMouseOver(Ne.evt,"property name",Z)}),xe.on("mouseout",()=>{n.onElementWithTooltipMouseOut()})),k.push(Ae),b.push(xe),b.push(Ae),g.set(W.id,p+o/2+1),p+=c,J){const{onPropValueClick:Ne,expanded:ve,hovered:qe,allowedToExpand:Re}=n.onExpandableProp(W);if(Re){const et=ue=>{ue.getStage()&&(ue.getStage().container().style.cursor="default"),ue.fill(G),v.visible(!1)};Ae.on("mousemove",ue=>{const Se=ue.target;Se.getStage()&&(Se.getStage().container().style.cursor="pointer"),W.loadActionNode||(x.text(ve?"-":"+"),x.fill(Ae.fill()),v.visible(!0),v.setPosition({x:Se.x()+Se.width(),y:Se.y()-1}))}),Ae.on("mouseout",ue=>{et(ue.target)}),Ae.on("click",ue=>{const Se=ue.target;et(Se),Ne(W)}),qe&&queueMicrotask(()=>{const ue=Ae.getStage();if(!ue)return;const Se=ue.getPointerPosition();if(!Se)return;const De=Ae.getAbsolutePosition(),Ke=Ae.width(),Ue=Ae.height();Se.x>=De.x&&Se.x<=De.x+Ke&&Se.y>=De.y&&Se.y<=De.y+Ue&&Ae.fire("mousemove",{target:Ae})})}}}const T=f*e.length+f*2+i*2;m=Math.max(m,Math.min(T,l));const L=KG(e,f,m-i*2-f),E=new cr.Text({x:i,y:i,text:L,fill:at("--value-diagram-foreground"),fontSize:d,fontStyle:"bold",fontFamily:at("--value-diagram-editor-font-family"),perfectDrawEnabled:!1,listening:!1}),C=new cr.Text({x:m-i-a,y:i,width:d,height:u,text:"",fill:at("--value-diagram-foreground"),fontSize:d,fontStyle:"bold",fontFamily:at("--value-diagram-editor-font-family"),listening:!0});C.on("mouseover",I=>{n.onElementWithTooltipMouseOver(I.evt,"node header",e)}),C.on("mouseout",()=>{n.onElementWithTooltipMouseOut()});const F=new cr.Rect({id:"rect",width:m,height:p,fill:at("--value-diagram-node-background"),cornerRadius:3,stroke:at("--value-diagram-border"),strokeWidth:1,perfectDrawEnabled:!1,listening:!0});k.forEach((I,W)=>{const q=_[W],G=q.points();q.points([G[0],G[1],m-.5,G[3]]),I.setPosition({x:m-i-I.width(),y:I.y()})});const $=new cr.Group({draggable:!0,width:m,height:p});queueMicrotask(()=>{$.on("dragmove",SC(()=>{n.onNodeClick(),$.moveToTop(),n.getEdges().forEach(I=>{wC(r.stage,I),I.visuals.group.moveToBottom()})},r.dragThrottleDelay()))}),$.on("click",I=>{n.onNodeClick()});function O(){F.stroke(at("--value-diagram-hover-stroke"))}function M(){F.stroke(at("--value-diagram-border"))}return $.on("mousemove",I=>{n.onMouseMove()}),$.on("mouseout",I=>{n.onMouseOut()}),$.add(F,v,C,E),$.add(..._),$.add(...b),{group:$,propertyY:g,highlight:O,unhighlight:M}}function HG(t){const e=t.type?.toLowerCase(),r=t.value!==void 0?t.value+"":"";let n=t.name||"unknown",i=r,o=at("--token-scope-string-foreground");if(t.getter)i="get()",o=at("--value-diagram-foreground");else if(t.loadActionNode)n="",i="...",o=at("--value-diagram-attention-foreground");else if(e==="string")o=at("--token-scope-string-foreground");else if(e==="number")o=at("--token-scope-number-foreground"),t.nan?i="NaN":t.positiveInfinity?i="Infinity":t.negativeInfinity?i="-Infinity":t.negativeZero&&(i="-0");else if(e==="bigint")o=at("--token-scope-number-foreground"),i+="n";else if(e==="boolean")o=at("--token-scope-boolean-foreground");else if(e==="regexp")o=at("--token-scope-regexp-foreground");else if(e==="undefined")i="undefined",o=at("--token-scope-undefined-foreground");else if(e==="null")i="null",o=at("--token-scope-null-foreground");else if(e==="unknown")i=t.error?t.error:"",o=at("--value-diagram-error-foreground");else if(e==="symbol")o=at("--token-scope-class-foreground");else if(e==="date")i=`${new Date(t.value).toJSON()}`,o=at("--token-scope-class-foreground");else if(e==="raw")i=t.value,o=at("--value-diagram-foreground");else if(e==="html")o=at("--value-diagram-foreground");else if(t.value===void 0){const a=e==="array"||!!t.rangeNode,l=a&&t.length!==void 0;i=a?l?`Array(${t.length})`:"[]":`{${t.capped||e==="promise"&&!t.props?.length||t.expandable?"":""}}`,o=at(l?"--token-scope-type-foreground":"--value-diagram-foreground")}const s=!!t.expandable;return s&&!t.loadActionNode&&(o=at("--value-diagram-expandable-property-foreground")),{value:i.replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\n/g,"\\n"),css:o,name:n,expandable:s}}function fv(t,e){const[r,n,i,o]=e,s=1-t,a=t*t,l=s*s,c=l*s,d=a*t,u=c*r.x+3*l*t*n.x+3*s*a*i.x+d*o.x,f=c*r.y+3*l*t*n.y+3*s*a*i.y+d*o.y;return{x:u,y:f}}function VG(t,e){let r=1/0,n=0;const i=10;let o=0;for(let c=0;c<=i;c++){const d=c/i,u=fv(d,e),f=Math.hypot(u.x-t.x,u.y-t.y);f<r&&(r=f,o=d)}const s=Math.max(0,o-.1),a=Math.min(1,o+.1),l=50;r=1/0;for(let c=0;c<=l;c++){const d=s+c/l*(a-s),u=fv(d,e),f=Math.hypot(u.x-t.x,u.y-t.y);f<r&&(r=f,n=d)}return n}function jG(t,e){const[r,n,i,o]=e,s=1-t,a=t*t,l=s*s,c=-3*r.x*l+3*n.x*(l-2*s*t)+3*i.x*(2*s*t-a)+3*o.x*a,d=-3*r.y*l+3*n.y*(l-2*s*t)+3*i.y*(2*s*t-a)+3*o.y*a;return Math.atan2(d,c)}function zG(t){const e=new cr.Line({id:"line",points:[],stroke:at("--value-diagram-border"),fill:at("--value-diagram-border"),strokeWidth:2,hitStrokeWidth:15,pointerLength:10,pointerWidth:10,perfectDrawEnabled:!1,shadowForStrokeEnabled:!1,lineCap:"round",lineJoin:"round",listening:!0,bezier:!0}),r=new cr.Circle({id:"dot",radius:5,fill:at("--value-diagram-border"),perfectDrawEnabled:!1,listening:!1}),n=new cr.RegularPolygon({id:"hover-arrowhead",sides:3,radius:8,fill:at("--value-diagram-hover-stroke"),visible:!1,perfectDrawEnabled:!1}),i=new cr.Group({listening:!0});i.add(e,r,n);let o="end";i.on("mousemove",()=>{t.onMouseMove()});const s=c=>{c.getStage()&&(c.getStage().container().style.cursor="default"),e.stroke(at("--value-diagram-border")),r.fill(at("--value-diagram-border")),n.visible(!1)};return i.on("mouseout",c=>{t.onMouseOut()}),i.on("click",c=>{const d=c.target;s(d),t.onEdgeClick(o)}),{group:i,highlight:c=>{const d=i.getStage();if(d&&(d.container().style.cursor="pointer"),e.stroke(at("--value-diagram-hover-stroke")),r.fill(at("--value-diagram-hover-stroke")),c?.updatePointer){const u=d.getPointerPosition(),h=d.getAbsoluteTransform().copy().invert().point(u),g=e.points(),p=[{x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},{x:g[6],y:g[7]}],m=VG(h,p),b=fv(m,p),k=jG(m,p);n.position({x:b.x,y:b.y}),o=m<.5?"end":"start";const _=o==="end"?k*180/Math.PI+90:k*180/Math.PI+270;return n.rotation(_),n.visible(!0),o==="end"?"to":"from"}},unhighlight:()=>{s(i)}}}function KG(t,e,r){const n=Math.floor(r/e);return t.length<=n?t:t.slice(0,n-1)+""}function yC(){yl.clear()}const yl=new Map;function at(t){if(yl.has(t))return yl.get(t);const e=getComputedStyle(document.body)?.getPropertyValue(t)?.trim();return yl.set(t,e||""),e}function wC(t,e){const{visuals:r,from:n,to:i,propertyId:o}=e,s=n.visuals.group.absolutePosition(),a=i.visuals.group.absolutePosition(),l=n.visuals.group.height(),c=i.visuals.group.height(),d=n.visuals.group.width(),u=t.getAbsoluteTransform().copy().invert(),f=u.point(s),h=u.point(a),g=n.visuals.propertyY.get(o),m=g!==void 0?f.y+g:f.y+l/2,b=f.x+d,k=h.x,_=h.y+c/2,x=(k-b)*.5;r.group.findOne("#line").points([b,m,b+x,m,k-x,_,k,_]),r.group.findOne("#dot").position({x:b,y:m})}function XG(t,e,r){const n=t.firstRoot;if(ZG(t,e,r),n&&r?.showRootNode){e.scale({x:.8,y:.8});const i=e.getAbsoluteTransform().copy();let o=1/0,s=1/0,a=-1/0,l=-1/0;t.value.nodes().forEach(m=>{const b=t.value.node(m);if(b&&b.visuals){const k=b.visuals.group.absolutePosition();o=Math.min(o,k.x),s=Math.min(s,k.y),a=Math.max(a,k.x+b.visuals.group.width()),l=Math.max(l,k.y+b.visuals.group.height())}});const c=a-o,d=l-s,u=c<e.width()*.8,f=d<e.height()*.8,h=n.visuals.group.absolutePosition(),g={x:u?e.width()/2-c/2:20,y:f?e.height()/2-d/2:n.visuals.group.height()>e.height()?20:e.height()/2-n.visuals.group.height()/2},p=i.point(g);e.position({x:p.x-h.x,y:p.y-h.y}),n.visuals.group.moveToTop()}}function YG(t,e){const r=t.scaleX(),n=Math.max(Math.min(r+e,Nb),Mb);if(n===r)return;const i=t.width(),o=t.height(),s=i/2,a=o/2,l={x:(s-t.x())/r,y:(a-t.y())/r},c={x:s-l.x*n,y:a-l.y*n};t.scale({x:n,y:n}),t.position(c),xi(t)}function JG(t,e){let r=1/0,n=1/0,i=-1/0,o=-1/0;if(t.value.nodes().map(_=>t.value.node(_).visuals.group).forEach(_=>{_.getAbsolutePosition();const v=_.getClientRect({relativeTo:e});r=Math.min(r,v.x),n=Math.min(n,v.y),i=Math.max(i,v.x+v.width),o=Math.max(o,v.y+v.height)}),r===1/0)return;const s=20;r-=s,n-=s,i+=s,o+=s;const a=i-r,l=o-n,c=e.width(),d=e.height(),u=c/a,f=d/l;let h=Math.min(u,f);h=Math.max(Mb,Math.min(h,Nb));const g=r+a/2,p=n+l/2;e.scale({x:1,y:1}),e.batchDraw(),e.scale({x:h,y:h});let m=d/2-p*h;const b=20*h;t.firstRoot.visuals.group.y()*h+m<b&&(m=b-t.firstRoot.visuals.group.y()*h),e.position({x:c/2-g*h,y:m}),xi(e)}function ZG(t,e,r){r?.layout&&(t.value.setGraph({rankdir:"LR",nodesep:20,ranksep:Math.max((t.firstRoot?.visuals.group.width()||0)/2,150),marginx:40,marginy:40,ranker:"tight-tree"}),hC.layout(t.value));const n=e.getLayers()[0],i=n.children.length===0;t.value.nodes().forEach(o=>{const s=t.value.node(o);s&&(s.visuals.group.position({x:s.x,y:s.y-s.height/2}),i&&n.add(s.visuals.group))}),t.value.edges().forEach(o=>{if(o){const s=t.value.edge(o);s&&(wC(e,s),i&&(n.add(s.visuals.group),s.visuals.group.moveToBottom()))}})}function nx(t){const e=t.visuals.group.getStage(),r=t.visuals.group,n=r.absolutePosition(),i=r.width(),o=r.height(),s=e.width(),a=e.height(),l=e.scaleX(),d=e.getAbsoluteTransform().copy().invert().point(n),u={left:d.x*l+e.x(),top:d.y*l+e.y(),right:(d.x+i)*l+e.x(),bottom:(d.y+o)*l+e.y()},f=20;if(u.left>=f&&u.top>=f&&u.right<=s-f&&u.bottom<=a-f)return;let g=e.x(),p=e.y();u.left<f?g=f-d.x*l:u.right>s-f&&(g=s-f-(d.x+i)*l),u.top<f?p=f-d.y*l:u.bottom>a-f&&(p=a-f-(d.y+o)*l);const m=i*l,b=o*l;m>s-f*2&&(g=f-d.x*l),b>a-f*2&&(p=f-d.y*l),new cr.Tween({node:e,duration:.3,easing:cr.Easings.EaseInOut,x:g,y:p,onUpdate:()=>{xi(e)},onFinish:()=>{xi(e)}}).play()}function wl(t,e){kC(t);const n=e.visuals.group.findOne("#rect");n.stroke(at("--value-diagram-hover-stroke")),n.strokeWidth(1.5),t.selectedNode=e}function kC(t){if(!t.selectedNode)return;const r=t.selectedNode.visuals.group.findOne("#rect");r.stroke(at("--value-diagram-border")),r.strokeWidth(1),t.selectedNode=void 0}const SC=(t,e)=>{let r=!1;return(...n)=>{r||(t(...n),r=!0,setTimeout(()=>r=!1,e))}};var QG=D('<div class="flex h-fit max-w-[80vw] flex-row"><div class="code token-property flex-grow self-center break-all !text-[length:--panel-smaller-font-size]"></div><div class="ml-auto flex items-start justify-start self-start pl-1 [&amp;_button]:mx-[0.0625rem] [&amp;_button]:!text-[length:--icon-smallest-font-size]">'),eU=D('<div class="relative h-full w-full overflow-hidden"><div class="h-full w-full overflow-hidden">'),tU=D("<div>");function rU(t){Ge().featureUsed("logsDiagram");const[r,n]=z(void 0),[i,o]=z("default"),s=U(()=>t.logs[t.logPath.logSource]?.logs[t.logPath.logOrExpressionId]),a=U(()=>s()?.value),l=()=>s()?.maybeObsolete===!0||t.disallowValueLoad||void 0;Ii(r,()=>d.resize());const c=()=>[{value:Hr(a()),name:s()?.context||"root"}],d=UG({loadValue:q=>{t.logsService.requestValues(q,s())},onElementWithTooltipMouseOver:q=>{b(f(q)),E(!0)},onElementWithTooltipMouseOut:()=>{E(!1)},disallowValueLoad:l(),maxDepth:t.maxDepth,noValueLoadBeyondMaxDepth:t.noValueLoadBeyondMaxDepth,baseFontSize:t.baseFontSize,setCursorIcon:o}),u=Ir(),f=q=>Vi(u,()=>{if(q.source==="property name"||q.source==="property value")return q.fullString;if(q.source==="node header"){let G=q.node;const H=Q5(G.value),J=[];for(;G?.parent;)G.value.name&&J.unshift(eT(G.value.name)),G=G.parent;return J.unshift(G.name||"root"),(()=>{var Z=QG(),te=Z.firstChild,ee=te.nextSibling;return A(te,()=>J.join("")+(H?`: ${H}`:"")),A(ee,y(se,{class:"codicon-copy",onClick:()=>{function le(de){return delete de.parent,de.props&&de.props.forEach(B=>le(B)),de}t.logsService.copyValue(le(q.node.value))},tabIndex:0,get namespace(){return t.iconsNamespace},tooltip:"Copy value"}),null),A(ee,y(se,{class:"codicon-milestone",onClick:()=>t.logsService.copyValue(J.join("")),tabIndex:0,get namespace(){return t.iconsNamespace},tooltip:"Copy path"}),null),Z})()}});function h(q){return{...q,props:q?.props?.map(G=>h(G))}}const[g,p]=z(void 0,{equals:!1});tT(N2.subscribe(p)),we([()=>h(a()),()=>({...s()}),g],()=>{a()&&d.update(c())},{defer:!0}),we([r,a,s],()=>{!r()||!a()||!s()||(t.icons([y(se,{class:"codicon-zoom-in",onClick:()=>{d.zoom(.1)},tabIndex:0,get namespace(){return t.iconsNamespace},tooltip:"Zoom in"}),y(se,{class:"codicon-zoom-out",onClick:()=>{d.zoom(-.1)},tabIndex:0,get namespace(){return t.iconsNamespace},tooltip:"Zoom out"}),y(se,{class:"codicon-screen-full",onClick:()=>{d.fitView()},tabIndex:0,get namespace(){return t.iconsNamespace},tooltip:"Fit view"}),y(se,{class:"codicon-type-hierarchy-sub -rotate-90 activeIcon",onClick:()=>{t.close()},tabIndex:0,get namespace(){return t.iconsNamespace},tooltip:"Switch to tree view"})]),d.init(r(),c()))});const[m,b]=z(void 0),[k,_]=z(void 0),{x:v,y:x}=qi(r,{handleOutside:!1}),S={x:0,y:0,width:0,height:0,left:0,right:0,top:0,bottom:0,toJSON:()=>{}},[w,T]=z(S),[L,E]=z(!1),C=()=>({x:0,y:0,width:0,height:0,left:v()+10,right:v(),top:x()+10,bottom:x(),toJSON:()=>{}}),F=()=>{clearTimeout(M),T(S),k()?.hide(),k()?.disable()},$=()=>{T(C()),clearTimeout(O),k()?.enable(),k()?.popperInstance?.update(),k()?.show()};let O,M;we(L,q=>{clearTimeout(O),clearTimeout(M),q?M=setTimeout(()=>{$()},150):O=setTimeout(()=>{I()||F()},150)});const[I,W]=z(!1);return we(I,q=>{!q&&!L()&&(clearTimeout(O),F())}),we(k,q=>{q&&(q.popper.addEventListener("mouseenter",()=>{W(!0)}),q.popper.addEventListener("mouseleave",()=>{W(!1)}))}),Xe(()=>{t.close(),d.destroy(),clearTimeout(M),clearTimeout(O)}),(()=>{var q=eU(),G=q.firstChild;return G.$$click=H=>{const J=k();J&&!J.state.isVisible&&L()&&($(),H.stopPropagation())},ae(n,G),ae(re,G,()=>re&&{onCreate(H){_(H),queueMicrotask(()=>{H.hide(),H.disable()})},content:(()=>{var H=tU();return A(H,m),H})(),getReferenceClientRect:w,defaultDelay:600,shortDelay:150,instanceType:"diagram",placement:"auto",trigger:"manual",delay:0}),oe(()=>i()!=null?G.style.setProperty("cursor",i()):G.style.removeProperty("cursor")),q})()}At(["click"]);var xC={exports:{}};/*!***************************************************
* mark.js v8.11.1
* https://markjs.io/
* Copyright (c) 20142018, Julian Khnel
* Released under the MIT license https://git.io/vwTVl
*****************************************************/(function(t,e){(function(r,n){t.exports=n()})(wn,function(){var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},n=function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")},i=function(){function c(d,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,u,f){return u&&c(d.prototype,u),f&&c(d,f),d}}(),o=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var u=arguments[d];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(c[f]=u[f])}return c},s=function(){function c(d){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5e3;n(this,c),this.ctx=d,this.iframes=u,this.exclude=f,this.iframesTimeout=h}return i(c,[{key:"getContexts",value:function(){var u=void 0,f=[];return typeof this.ctx>"u"||!this.ctx?u=[]:NodeList.prototype.isPrototypeOf(this.ctx)?u=Array.prototype.slice.call(this.ctx):Array.isArray(this.ctx)?u=this.ctx:typeof this.ctx=="string"?u=Array.prototype.slice.call(document.querySelectorAll(this.ctx)):u=[this.ctx],u.forEach(function(h){var g=f.filter(function(p){return p.contains(h)}).length>0;f.indexOf(h)===-1&&!g&&f.push(h)}),f}},{key:"getIframeContents",value:function(u,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},g=void 0;try{var p=u.contentWindow;if(g=p.document,!p||!g)throw new Error("iframe inaccessible")}catch{h()}g&&f(g)}},{key:"isIframeBlank",value:function(u){var f="about:blank",h=u.getAttribute("src").trim(),g=u.contentWindow.location.href;return g===f&&h!==f&&h}},{key:"observeIframeLoad",value:function(u,f,h){var g=this,p=!1,m=null,b=function k(){if(!p){p=!0,clearTimeout(m);try{g.isIframeBlank(u)||(u.removeEventListener("load",k),g.getIframeContents(u,f,h))}catch{h()}}};u.addEventListener("load",b),m=setTimeout(b,this.iframesTimeout)}},{key:"onIframeReady",value:function(u,f,h){try{u.contentWindow.document.readyState==="complete"?this.isIframeBlank(u)?this.observeIframeLoad(u,f,h):this.getIframeContents(u,f,h):this.observeIframeLoad(u,f,h)}catch{h()}}},{key:"waitForIframes",value:function(u,f){var h=this,g=0;this.forEachIframe(u,function(){return!0},function(p){g++,h.waitForIframes(p.querySelector("html"),function(){--g||f()})},function(p){p||f()})}},{key:"forEachIframe",value:function(u,f,h){var g=this,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},m=u.querySelectorAll("iframe"),b=m.length,k=0;m=Array.prototype.slice.call(m);var _=function(){--b<=0&&p(k)};b||_(),m.forEach(function(v){c.matches(v,g.exclude)?_():g.onIframeReady(v,function(x){f(v)&&(k++,h(x)),_()},_)})}},{key:"createIterator",value:function(u,f,h){return document.createNodeIterator(u,f,h,!1)}},{key:"createInstanceOnIframe",value:function(u){return new c(u.querySelector("html"),this.iframes)}},{key:"compareNodeIframe",value:function(u,f,h){var g=u.compareDocumentPosition(h),p=Node.DOCUMENT_POSITION_PRECEDING;if(g&p)if(f!==null){var m=f.compareDocumentPosition(h),b=Node.DOCUMENT_POSITION_FOLLOWING;if(m&b)return!0}else return!0;return!1}},{key:"getIteratorNode",value:function(u){var f=u.previousNode(),h=void 0;return f===null?h=u.nextNode():h=u.nextNode()&&u.nextNode(),{prevNode:f,node:h}}},{key:"checkIframeFilter",value:function(u,f,h,g){var p=!1,m=!1;return g.forEach(function(b,k){b.val===h&&(p=k,m=b.handled)}),this.compareNodeIframe(u,f,h)?(p===!1&&!m?g.push({val:h,handled:!0}):p!==!1&&!m&&(g[p].handled=!0),!0):(p===!1&&g.push({val:h,handled:!1}),!1)}},{key:"handleOpenIframes",value:function(u,f,h,g){var p=this;u.forEach(function(m){m.handled||p.getIframeContents(m.val,function(b){p.createInstanceOnIframe(b).forEachNode(f,h,g)})})}},{key:"iterateThroughNodes",value:function(u,f,h,g,p){for(var m=this,b=this.createIterator(f,u,g),k=[],_=[],v=void 0,x=void 0,S=function(){var T=m.getIteratorNode(b);return x=T.prevNode,v=T.node,v};S();)this.iframes&&this.forEachIframe(f,function(w){return m.checkIframeFilter(v,x,w,k)},function(w){m.createInstanceOnIframe(w).forEachNode(u,function(T){return _.push(T)},g)}),_.push(v);_.forEach(function(w){h(w)}),this.iframes&&this.handleOpenIframes(k,u,h,g),p()}},{key:"forEachNode",value:function(u,f,h){var g=this,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){},m=this.getContexts(),b=m.length;b||p(),m.forEach(function(k){var _=function(){g.iterateThroughNodes(u,k,f,h,function(){--b<=0&&p()})};g.iframes?g.waitForIframes(k,_):_()})}}],[{key:"matches",value:function(u,f){var h=typeof f=="string"?[f]:f,g=u.matches||u.matchesSelector||u.msMatchesSelector||u.mozMatchesSelector||u.oMatchesSelector||u.webkitMatchesSelector;if(g){var p=!1;return h.every(function(m){return g.call(u,m)?(p=!0,!1):!0}),p}else return!1}}]),c}(),a=function(){function c(d){n(this,c),this.ctx=d,this.ie=!1;var u=window.navigator.userAgent;(u.indexOf("MSIE")>-1||u.indexOf("Trident")>-1)&&(this.ie=!0)}return i(c,[{key:"log",value:function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"debug",h=this.opt.log;this.opt.debug&&(typeof h>"u"?"undefined":r(h))==="object"&&typeof h[f]=="function"&&h[f]("mark.js: "+u)}},{key:"escapeStr",value:function(u){return u.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function(u){return this.opt.wildcards!=="disabled"&&(u=this.setupWildcardsRegExp(u)),u=this.escapeStr(u),Object.keys(this.opt.synonyms).length&&(u=this.createSynonymsRegExp(u)),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(u=this.setupIgnoreJoinersRegExp(u)),this.opt.diacritics&&(u=this.createDiacriticsRegExp(u)),u=this.createMergedBlanksRegExp(u),(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(u=this.createJoinersRegExp(u)),this.opt.wildcards!=="disabled"&&(u=this.createWildcardsRegExp(u)),u=this.createAccuracyRegExp(u),u}},{key:"createSynonymsRegExp",value:function(u){var f=this.opt.synonyms,h=this.opt.caseSensitive?"":"i",g=this.opt.ignoreJoiners||this.opt.ignorePunctuation.length?"\0":"";for(var p in f)if(f.hasOwnProperty(p)){var m=f[p],b=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(p):this.escapeStr(p),k=this.opt.wildcards!=="disabled"?this.setupWildcardsRegExp(m):this.escapeStr(m);b!==""&&k!==""&&(u=u.replace(new RegExp("("+this.escapeStr(b)+"|"+this.escapeStr(k)+")","gm"+h),g+("("+this.processSynomyms(b)+"|")+(this.processSynomyms(k)+")")+g))}return u}},{key:"processSynomyms",value:function(u){return(this.opt.ignoreJoiners||this.opt.ignorePunctuation.length)&&(u=this.setupIgnoreJoinersRegExp(u)),u}},{key:"setupWildcardsRegExp",value:function(u){return u=u.replace(/(?:\\)*\?/g,function(f){return f.charAt(0)==="\\"?"?":""}),u.replace(/(?:\\)*\*/g,function(f){return f.charAt(0)==="\\"?"*":""})}},{key:"createWildcardsRegExp",value:function(u){var f=this.opt.wildcards==="withSpaces";return u.replace(/\u0001/g,f?"[\\S\\s]?":"\\S?").replace(/\u0002/g,f?"[\\S\\s]*?":"\\S*")}},{key:"setupIgnoreJoinersRegExp",value:function(u){return u.replace(/[^(|)\\]/g,function(f,h,g){var p=g.charAt(h+1);return/[(|)\\]/.test(p)||p===""?f:f+"\0"})}},{key:"createJoinersRegExp",value:function(u){var f=[],h=this.opt.ignorePunctuation;return Array.isArray(h)&&h.length&&f.push(this.escapeStr(h.join(""))),this.opt.ignoreJoiners&&f.push("\\u00ad\\u200b\\u200c\\u200d"),f.length?u.split(/\u0000+/).join("["+f.join("")+"]*"):u}},{key:"createDiacriticsRegExp",value:function(u){var f=this.opt.caseSensitive?"":"i",h=this.opt.caseSensitive?["a","A","c","C","d","D","e","E","i","I","l","L","n","N","o","O","r","R","s","S","t","T","u","U","y","Y","z","Z"]:["aA","cC","dD","eE","iI","lL","nN","oO","rR","sS","tT","uU","yY","zZ"],g=[];return u.split("").forEach(function(p){h.every(function(m){if(m.indexOf(p)!==-1){if(g.indexOf(m)>-1)return!1;u=u.replace(new RegExp("["+m+"]","gm"+f),"["+m+"]"),g.push(m)}return!0})}),u}},{key:"createMergedBlanksRegExp",value:function(u){return u.replace(/[\s]+/gmi,"[\\s]+")}},{key:"createAccuracyRegExp",value:function(u){var f=this,h="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",g=this.opt.accuracy,p=typeof g=="string"?g:g.value,m=typeof g=="string"?[]:g.limiters,b="";switch(m.forEach(function(k){b+="|"+f.escapeStr(k)}),p){case"partially":default:return"()("+u+")";case"complementary":return b="\\s"+(b||this.escapeStr(h)),"()([^"+b+"]*"+u+"[^"+b+"]*)";case"exactly":return"(^|\\s"+b+")("+u+")(?=$|\\s"+b+")"}}},{key:"getSeparatedKeywords",value:function(u){var f=this,h=[];return u.forEach(function(g){f.opt.separateWordSearch?g.split(" ").forEach(function(p){p.trim()&&h.indexOf(p)===-1&&h.push(p)}):g.trim()&&h.indexOf(g)===-1&&h.push(g)}),{keywords:h.sort(function(g,p){return p.length-g.length}),length:h.length}}},{key:"isNumeric",value:function(u){return Number(parseFloat(u))==u}},{key:"checkRanges",value:function(u){var f=this;if(!Array.isArray(u)||Object.prototype.toString.call(u[0])!=="[object Object]")return this.log("markRanges() will only accept an array of objects"),this.opt.noMatch(u),[];var h=[],g=0;return u.sort(function(p,m){return p.start-m.start}).forEach(function(p){var m=f.callNoMatchOnInvalidRanges(p,g),b=m.start,k=m.end,_=m.valid;_&&(p.start=b,p.length=k-b,h.push(p),g=k)}),h}},{key:"callNoMatchOnInvalidRanges",value:function(u,f){var h=void 0,g=void 0,p=!1;return u&&typeof u.start<"u"?(h=parseInt(u.start,10),g=h+parseInt(u.length,10),this.isNumeric(u.start)&&this.isNumeric(u.length)&&g-f>0&&g-h>0?p=!0:(this.log("Ignoring invalid or overlapping range: "+(""+JSON.stringify(u))),this.opt.noMatch(u))):(this.log("Ignoring invalid range: "+JSON.stringify(u)),this.opt.noMatch(u)),{start:h,end:g,valid:p}}},{key:"checkWhitespaceRanges",value:function(u,f,h){var g=void 0,p=!0,m=h.length,b=f-m,k=parseInt(u.start,10)-b;return k=k>m?m:k,g=k+parseInt(u.length,10),g>m&&(g=m,this.log("End range automatically set to the max value of "+m)),k<0||g-k<0||k>m||g>m?(p=!1,this.log("Invalid range: "+JSON.stringify(u)),this.opt.noMatch(u)):h.substring(k,g).replace(/\s+/g,"")===""&&(p=!1,this.log("Skipping whitespace only range: "+JSON.stringify(u)),this.opt.noMatch(u)),{start:k,end:g,valid:p}}},{key:"getTextNodes",value:function(u){var f=this,h="",g=[];this.iterator.forEachNode(NodeFilter.SHOW_TEXT,function(p){g.push({start:h.length,end:(h+=p.textContent).length,node:p})},function(p){return f.matchesExclude(p.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},function(){u({value:h,nodes:g})})}},{key:"matchesExclude",value:function(u){return s.matches(u,this.opt.exclude.concat(["script","style","title","head","html"]))}},{key:"wrapRangeInTextNode",value:function(u,f,h){var g=this.opt.element?this.opt.element:"mark",p=u.splitText(f),m=p.splitText(h-f),b=document.createElement(g);return b.setAttribute("data-markjs","true"),this.opt.className&&b.setAttribute("class",this.opt.className),b.textContent=p.textContent,p.parentNode.replaceChild(b,p),m}},{key:"wrapRangeInMappedTextNode",value:function(u,f,h,g,p){var m=this;u.nodes.every(function(b,k){var _=u.nodes[k+1];if(typeof _>"u"||_.start>f){if(!g(b.node))return!1;var v=f-b.start,x=(h>b.end?b.end:h)-b.start,S=u.value.substr(0,b.start),w=u.value.substr(x+b.start);if(b.node=m.wrapRangeInTextNode(b.node,v,x),u.value=S+w,u.nodes.forEach(function(T,L){L>=k&&(u.nodes[L].start>0&&L!==k&&(u.nodes[L].start-=x),u.nodes[L].end-=x)}),h-=x,p(b.node.previousSibling,b.start),h>b.end)f=b.end;else return!1}return!0})}},{key:"wrapMatches",value:function(u,f,h,g,p){var m=this,b=f===0?0:f+1;this.getTextNodes(function(k){k.nodes.forEach(function(_){_=_.node;for(var v=void 0;(v=u.exec(_.textContent))!==null&&v[b]!=="";)if(h(v[b],_)){var x=v.index;if(b!==0)for(var S=1;S<b;S++)x+=v[S].length;_=m.wrapRangeInTextNode(_,x,x+v[b].length),g(_.previousSibling),u.lastIndex=0}}),p()})}},{key:"wrapMatchesAcrossElements",value:function(u,f,h,g,p){var m=this,b=f===0?0:f+1;this.getTextNodes(function(k){for(var _=void 0;(_=u.exec(k.value))!==null&&_[b]!=="";){var v=_.index;if(b!==0)for(var x=1;x<b;x++)v+=_[x].length;var S=v+_[b].length;m.wrapRangeInMappedTextNode(k,v,S,function(w){return h(_[b],w)},function(w,T){u.lastIndex=T,g(w)})}p()})}},{key:"wrapRangeFromIndex",value:function(u,f,h,g){var p=this;this.getTextNodes(function(m){var b=m.value.length;u.forEach(function(k,_){var v=p.checkWhitespaceRanges(k,b,m.value),x=v.start,S=v.end,w=v.valid;w&&p.wrapRangeInMappedTextNode(m,x,S,function(T){return f(T,k,m.value.substring(x,S),_)},function(T){h(T,k)})}),g()})}},{key:"unwrapMatches",value:function(u){for(var f=u.parentNode,h=document.createDocumentFragment();u.firstChild;)h.appendChild(u.removeChild(u.firstChild));f.replaceChild(h,u),this.ie?this.normalizeTextNode(f):f.normalize()}},{key:"normalizeTextNode",value:function(u){if(u){if(u.nodeType===3)for(;u.nextSibling&&u.nextSibling.nodeType===3;)u.nodeValue+=u.nextSibling.nodeValue,u.parentNode.removeChild(u.nextSibling);else this.normalizeTextNode(u.firstChild);this.normalizeTextNode(u.nextSibling)}}},{key:"markRegExp",value:function(u,f){var h=this;this.opt=f,this.log('Searching with expression "'+u+'"');var g=0,p="wrapMatches",m=function(k){g++,h.opt.each(k)};this.opt.acrossElements&&(p="wrapMatchesAcrossElements"),this[p](u,this.opt.ignoreGroups,function(b,k){return h.opt.filter(k,b,g)},m,function(){g===0&&h.opt.noMatch(u),h.opt.done(g)})}},{key:"mark",value:function(u,f){var h=this;this.opt=f;var g=0,p="wrapMatches",m=this.getSeparatedKeywords(typeof u=="string"?[u]:u),b=m.keywords,k=m.length,_=this.opt.caseSensitive?"":"i",v=function x(S){var w=new RegExp(h.createRegExp(S),"gm"+_),T=0;h.log('Searching with expression "'+w+'"'),h[p](w,1,function(L,E){return h.opt.filter(E,S,g,T)},function(L){T++,g++,h.opt.each(L)},function(){T===0&&h.opt.noMatch(S),b[k-1]===S?h.opt.done(g):x(b[b.indexOf(S)+1])})};this.opt.acrossElements&&(p="wrapMatchesAcrossElements"),k===0?this.opt.done(g):v(b[0])}},{key:"markRanges",value:function(u,f){var h=this;this.opt=f;var g=0,p=this.checkRanges(u);p&&p.length?(this.log("Starting to mark with the following ranges: "+JSON.stringify(p)),this.wrapRangeFromIndex(p,function(m,b,k,_){return h.opt.filter(m,b,k,_)},function(m,b){g++,h.opt.each(m,b)},function(){h.opt.done(g)})):this.opt.done(g)}},{key:"unmark",value:function(u){var f=this;this.opt=u;var h=this.opt.element?this.opt.element:"*";h+="[data-markjs]",this.opt.className&&(h+="."+this.opt.className),this.log('Removal selector "'+h+'"'),this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT,function(g){f.unwrapMatches(g)},function(g){var p=s.matches(g,h),m=f.matchesExclude(g);return!p||m?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},this.opt.done)}},{key:"opt",set:function(u){this._opt=o({},{element:"",className:"",exclude:[],iframes:!1,iframesTimeout:5e3,separateWordSearch:!0,diacritics:!0,synonyms:{},accuracy:"partially",acrossElements:!1,caseSensitive:!1,ignoreJoiners:!1,ignoreGroups:0,ignorePunctuation:[],wildcards:"disabled",each:function(){},noMatch:function(){},filter:function(){return!0},done:function(){},debug:!1,log:window.console},u)},get:function(){return this._opt}},{key:"iterator",get:function(){return new s(this.ctx,this.opt.iframes,this.opt.exclude,this.opt.iframesTimeout)}}]),c}();function l(c){var d=this,u=new a(c);return this.mark=function(f,h){return u.mark(f,h),d},this.markRegExp=function(f,h){return u.markRegExp(f,h),d},this.markRanges=function(f,h){return u.markRanges(f,h),d},this.unmark=function(f){return u.unmark(f),d},this}return l})})(xC);var nU=xC.exports;const gv=xc(nU);function Ln(t,e){const[r,n]=e().controller,i=e().prefix,o=new gv(t);let s=0,a=0,l=0;n({search:c=>{let d;const u=new Promise(f=>d=f);return c?o.unmark({element:"mark",done:()=>{o.mark(c,{acrossElements:!1,className:"search-result",separateWordSearch:!1,noMatch:()=>{s=0,l=0,a=0,d(void 0)},each:f=>{var g=(f.closest(".preview")||f.closest(".group"))?.getBoundingClientRect(),p=g?f.getBoundingClientRect():void 0;!g||p.left<g.right?(s++,f.id=`${i}_${s}`,s===1&&f.classList.add("search-result-active")):l++},done:f=>{if(s===0)s=0,l=0,a=0,o.unmark({element:"mark",done:()=>{d(void 0)}});else{s=1,a=f-l;const h=t.querySelector(`#${i}_${s}`);h&&nl(h),d({current:1,total:a})}}})}}):s>0?(s=0,l=0,a=0,o.unmark({element:"mark",done:()=>{d(void 0)}})):d(void 0),u},jumpToNext:async()=>{let c=t.querySelector(`#${i}_${s}`);if(c&&c.classList.remove("search-result-active"),s++,s>a&&(s=1),c=t.querySelector(`#${i}_${s}`),c)return c.classList.add("search-result-active"),nl(c),{current:s,total:a}},jumpToPrevious:async()=>{let c=t.querySelector(`#${i}_${s}`);if(c&&c.classList.remove("search-result-active"),s--,s<1&&(s=a),c=t.querySelector(`#${i}_${s}`),c)return c.classList.add("search-result-active"),nl(c),{current:s,total:a}},exit:c=>{let d;const u=new Promise(f=>d=f);if(c&&s>0){const f=t.querySelector(`#${i}_${s}`);if(f){const h=document.createRange();h.setStartBefore(f);const g=document.getSelection();g?.removeAllRanges(),g?.addRange(h),nl(f),f.closest("[data-id]")?.click(),f.closest("[data-id]")?.focus()}else t.closest('[data-namespace$="logs.content"]')?.focus()}else t.closest('[data-namespace$="logs.content"]')?.focus();return s=0,a=0,o.unmark({element:"mark",className:"search-result",done:()=>d()}),u}})}function nl(t){const e=t.closest(".scrollable,.scrollable_");e&&(e.scrollTop=t.offsetTop-e.getBoundingClientRect().height/3)}var iU=D("<li>"),oU=D('<div class="relative flex-1 cursor-default border-t border-t-[var(--panel-view-border)] outline-none"tabindex=-1><div class="flex max-h-7 flex-row items-center justify-center py-1 shadow-[var(--widget-shadow)]"><div class="flex-grow truncate px-2 py-0.5 pr-1 text-[length:--small-header-font-size] font-bold uppercase">Call Stack</div><div class="ml-auto flex pr-1 [&amp;_li]:flex [&amp;_li_button]:mx-[0.0625rem] [&amp;_li_button]:!text-[length:--icon-font-size]"><ul class="flex flex-row items-center justify-center"><li></li></ul></div></div><div class="panel-font-size absolute inset-0 top-7 flex cursor-text flex-col overflow-y-auto outline-none"tabindex=-1 data-vscode-context="{&quot;webviewSection&quot;: &quot;viewer&quot;, &quot;preventDefaultContextMenuItems&quot;: false}">'),sU=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[var(--subtle-foreground)]">'),aU=D('<span class="codicon codicon-info inline-flex justify-center pb-[0.14rem] pl-1 align-middle !text-[length:--icon-smaller-font-size]">'),lU=D("<div class=cursor-default>"),cU=D(`<div class="code w-full flex-1 overflow-y-auto overflow-x-hidden [word-spacing:-0.1rem] [&amp;>div.item.editable]:bg-[--text-mode-area-background] [&amp;>div.item.group-item]:bg-[--list-hover-background] [&amp;>div.item.marked]:after:absolute [&amp;>div.item.marked]:after:bottom-[-0.0625rem] [&amp;>div.item.marked]:after:right-[-0.0625rem] [&amp;>div.item.marked]:after:top-[-0.0625rem] [&amp;>div.item.marked]:after:border-r-[0.1875rem] [&amp;>div.item.marked]:after:border-r-[var(--focus-border)] [&amp;>div.item.marked]:after:content-[''] [&amp;>div.item.selected]:!border-[--focus-border-vivid] [&amp;>div.item:has(+div.item.selected)]:!border-b-transparent [&amp;>div.item]:relative [&amp;>div.item]:cursor-default [&amp;>div.item]:border [&amp;>div.item]:border-transparent [&amp;>div.item]:outline-none [&amp;>div.item_.token-punctuation]:tracking-tighter [&amp;_div.content[contentEditable='true']_.actions_.codicon-edit]:hidden [&amp;_div.content]:relative [&amp;_div.content]:ml-[0.625rem] [&amp;_div.content]:overflow-auto [&amp;_div.content]:pb-0.5 [&amp;_div.content]:pr-[0.625rem] [&amp;_div.content]:leading-[--log-viewer-line-height] [&amp;_div.content]:outline-none [&amp;_div.content_.actions]:float-right [&amp;_div.content_.actions]:mr-[-0.25rem] [&amp;_div.content_.actions]:inline-flex [&amp;_div.header]:flex [&amp;_div.header]:flex-row [&amp;_div.header]:items-center [&amp;_div.header]:justify-center [&amp;_div.header]:pl-1.5 [&amp;_div.header]:pr-2 [&amp;_div.header]:leading-[--log-viewer-preview-height] [&amp;_div.item-expander]:flex-shrink [&amp;_div.item-expander]:!text-[length:var(--panel-larger-font-size)] [&amp;_div.preview]:flex-grow [&amp;_div.preview]:truncate [&amp;_div.preview]:pr-0.5 [&amp;_div.preview]:[word-spacing:-0.25em] [&amp;_div.preview_span.token-punctuation]:tracking-[-.05rem] [&amp;_div.source-link]:ml-auto [&amp;_span.context]:opacity-80 [&amp;_span.indentation]:border-l [&amp;_span.indentation]:border-l-[var(--log-viewer-ruler)] [&amp;_span.indentation]:text-[length:var(--log-viewer-indentation-size)] [&amp;_span.level-expander-chevron]:cursor-pointer [&amp;_span.level-expander-ellipsis]:cursor-pointer [&amp;_span]:whitespace-pre"><a class=hidden target=_blank>`),dU=D("<span class=context>: "),ix=D("<div class=source-link tabindex=-1>"),uU=D('<div class=content tabindex=-1 data-vscode-context="{&quot;webviewSection&quot;: &quot;viewer&quot;, &quot;preventDefaultContextMenuItems&quot;: false}"><div class="actions flex items-center overflow-hidden [&amp;_.icon]:text-[length:--icon-smallest-font-size] [&amp;_.icon]:opacity-80 [&amp;_button]:mx-[0.0625rem] [&amp;_button]:my-[0.0625rem] [&amp;_button]:p-[0.0625rem]">'),hU=D('<div class=item tabindex=-1><div class=header><div class="item-expander codicon icon-opacity cursor-pointer"></div><div class=preview>'),fU=D("<span>Value is not available"),gU=D('<div class="item group-item"tabindex=-1><div><div class="group flex-grow truncate text-[length:--panel-smaller-font-size] opacity-80">'),pU=D('<div class="flex h-[--log-viewer-preview-height] flex-row items-center"><div class="flex-grow truncate">Watch expressions</div><div class="[&amp;_button]:!ml-0.0625rem] ml-auto flex items-center justify-center [&amp;_.codicon]:!p-[0.0625rem] [&amp;_.codicon]:text-[length:--icon-smaller-font-size]">'),mU=D('<span class="codicon codicon-eye icon-opacity">'),vU=D('<span class="codicon codicon-info inline-flex justify-center pb-[0.08rem] pl-1 align-middle !text-[length:--icon-smallest-font-size]">'),bU=D('<div class="item flex-grow !items-center !justify-center truncate pl-1.5 pr-1 text-center text-[length:--panel-smaller-font-size] leading-[--log-viewer-preview-height] tracking-tight text-[var(--subtle-foreground)] opacity-80">'),_U=D('<span class="codicon codicon-globe icon-opacity">'),yU=D('<span class="codicon codicon-beaker icon-opacity text-[--testing-icon-passed]">'),wU=D('<span class="codicon codicon-error icon-opacity text-[--error-foreground]">'),kU=D('<span class="codicon codicon-pass icon-opacity text-[--testing-icon-passed]">'),SU=D("<span>@ "),xU=D('<div class="code px-2 tracking-tight"><span class="whitespace-pre text-[var(--token-scope-function-foreground)]">');const ox=30,TU=/(\b(https?):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;function $a(t){const e=t.namespace,r=Ge(),n=t.service,[i,o]=r.appSettings(),[s,a]=z(null),[l,c]=z(ox),d=to(X9(E=>c(E)),300);Ii(s,([E])=>{const C=E.borderBoxSize[0].inlineSize-1;if(C>0){const F=Math.floor(Math.max(Math.max((C||0)-8,0)/f(),5));ox===l()?c(F):d(F)}});const u=U(()=>parseFloat(getComputedStyle(document.body)?.getPropertyValue("--panel-font-size").split("px")[0])),f=U(()=>G5*u()/10),h=()=>i.logs.reverseStack,g=()=>i.logs.fullSourceLinks,p=()=>i.logs.headers,m=()=>i.logs.context,b=()=>r.getDebuggerStarted()(),k=U(()=>!!t.disallowValueLoad);we(()=>t.state.selection.diagram,E=>{E||t.icons()});const[_,v]=z(null),[x,S]=z(),w=e==="logs",T=r.isStandalone()?"Select any expression in the code viewer to see its value":w?"Value currently unavailable; hover over expression again to refresh":"Hover over any expression in the editor to see its value",L=r.isStandalone()?"":'You may also <b>select and hover</b> over to evaluate the exact expression. "Show value" action does the same for the selected expression.';return y(V,{get when(){return t.state.logs},get fallback(){return(()=>{var E=sU();return A(E,y(V,{get when(){return!b()},get fallback(){return(()=>{var C=lU();return ae(re,C,()=>re&&{content:L}),A(C,T,null),A(C,y(V,{get when(){return!r.isStandalone()&&!w},get children(){return aU()}}),null),C})()},children:"no logs"})),E})()},get children(){return[y(V,{get when(){return t.state.selection.diagram},get fallback(){return(()=>{var E=cU(),C=E.firstChild;return ae(F=>{a(F),t.scrollableElementRef?.(F)},E),A(E,()=>{const F=(G,H)=>{const J=_e=>{le(_e),ie(!0)},[Z,te]=z(!1),[ee,le]=z(!1),[de,B]=z(!1),[N,ie]=z(!1),ce=()=>n.requestLogEntryDetailsWithLargestAvailableValue(G().test?.id||"global",G().test?.path||"global",G().id),ke=U(()=>G().maybeObsolete===!0||t.state.logs?.maybeObsolete===!0),xe=U(()=>ke()||k()),Ae=U(()=>G().watchExpressionWithNoValue),Ne=U(()=>{const _e=G().value.props?.[0];return _e?.callStackNode?_e:void 0}),ve=()=>!Ae()&&!ke()&&Ne(),qe=U(()=>G().value.type?.toLowerCase()==="string"),Re=()=>!ke()&&!Ae()&&qe(),et=()=>!ke()&&!Ae()&&qe()&&G().value.capped,ue=()=>!Ae(),Se=()=>G().value.props?.find(_e=>!_e.callStackNode),De=()=>ee()&&(ke()||Z()||Ae()),Ke=U(()=>!!G().watchExpressionId),Ue=()=>Ke()&&!w,be=()=>b()&&G().traceFrame&&!ke()&&!Ke(),He=U(()=>G().watchExpressionId||G().id),dt=U(()=>t.state.selection.log?.logOrExpressionId===He()),Le=U(()=>G().selection),Oe=U(()=>G().watchExpressionId?"watch":G().test?.id||"global");we(H,_e=>{J(_e)},{defer:!0}),we(t.foldAllOpenedLogs,()=>{J(!1)},{defer:!0}),we(()=>G().valueWasRequestedShallow,_e=>{_e||te(!0)}),we(()=>G().value.autoExpand,_e=>{_e?N()||(le(!0),B(!0)):de()&&le(!1)}),we(ee,_e=>{_e&&!Z()&&!ke()&&ce()});const[Ve,Qe]=z(!1);let st,lt;const ut=()=>{lt.focus({preventScroll:!0}),lt.setAttribute("contenteditable","true"),st.classList.add("editable");const _e=window.getSelection();(!_e?.anchorNode?.parentNode||!lt.contains(_e.anchorNode.parentNode))&&_e?.setPosition(lt.lastChild),st.dispatchEvent(new as),r.featureUsed("logTextMode")},[ne,he]=z(!1),Te=WL(Gv(ne,150),250),Fe={value:()=>Z()?Promise.resolve(G().value):Promise.resolve(he(!0)).then(()=>ce()).then(_e=>_e?.value).finally(()=>he(!1)),isRoot:!0,rootContext:()=>G().context};return(()=>{var _e=hU(),X=_e.firstChild,K=X.firstChild,fe=K.nextSibling;return ae(j=>{st=j,j.entryInfo=Fe,we([()=>j,Le],()=>{if(j&&Le()?.active){le(!0);const Q=j.closest(".scrollable,.scrollable_");Q&&(Q.scrollTop=j.offsetTop)}})},_e),_e.$$mousemove=j=>{const Q=j.target;if((Q.classList.contains("token-string")||Q.classList.contains("raw"))&&!Q.dataset.url){const Pe=(Q.textContent||"").trim().match(TU);if(Pe){let Be=Pe[0].replace(/^['"]|['"]$/g,"");Q.dataset.url=Be,Q.classList.add("hover:underline"),Q.classList.add("hover:cursor-pointer")}}},_e.$$click=j=>{const Q=j.target;if(Q.dataset?.url){S(Q.dataset.url),_()?.click();return}n.selectLog({logOrExpressionId:He(),logSource:Oe()})},Me(_e,"data-namespace",`${e}.logs.content.list.item`),K.$$click=()=>{J(!ee())},K.addEventListener("logExpandExternally",()=>{J(!0)}),K.addEventListener("logCollapseExternally",()=>{J(!1)}),A(fe,y(V,{get when(){return U(()=>!!m())()&&G().context},get children(){var j=dU(),Q=j.firstChild;return A(j,()=>G().context,Q),j}}),null),A(fe,y(V,{get when(){return!Ae()},get fallback(){return fU()},get children(){return y(ql,{get data(){return G().value},context:{depth:0,indentationLvl:0,linePrefixLength:0,displayPropLimit:5,maxDepth:3,maxStrLength:128,maxLineLength:()=>1/0,disallowValueLoad:k,expandedPropLimit:1/0},onDataAvailable:j=>{},onValueLoadRequest:j=>{}})}}),null),A(X,y(V,{get when(){return G().loc?.line&&!w},get children(){var j=ix();return j.$$focusout=Q=>Q.target.setAttribute("tabindex","-2"),Me(j,"data-namespace",`${e}.logs.content.list.item.link`),A(j,y(vi,{get value(){return G().loc},get lineAndColumnOnly(){return!g()},class:"source-link select-none hover:underline",compactFileNameOnly:!0,get classList(){return{"[&_span]:!no-underline":ke(),"!cursor-default":ke(),"!text-[var(--subtle-foreground)]":ke()}},codeFragmentTooltipOptions:()=>!ke()&&G().loc.file&&G().loc.line?{file:G().loc.file,line:G().loc.line,navigatable:!0}:void 0})),j}}),null),A(_e,y(V,{get when(){return De()},get children(){var j=uU(),Q=j.firstChild;j.$$dblclick=()=>ut(),j.$$focusout=me=>{const Pe=me.relatedTarget;Pe&&(lt.contains(Pe)||Pe.closest(".tippy-box"))||lt.hasAttribute("contentEditable")&&(lt.removeAttribute("contentEditable"),st.classList.remove("editable"),st.dispatchEvent(new ka))},j.addEventListener("paste",me=>me.preventDefault()),j.addEventListener("cut",me=>me.preventDefault()),j.$$input=()=>window.document.execCommand("undo");var ge=lt;return typeof ge=="function"?ae(ge,j):lt=j,Me(j,"spellcheck",!1),j.style.setProperty("caret-color","var(--editor-cursor-foreground)"),Me(j,"data-namespace",`${e}.logs.content.list.item.viewer`),A(Q,y(se,{class:"codicon-edit",namespace:`${e}.logs.content.list.item.viewer.action`,tooltip:'Enter text mode <span class="keyboard-shortcut">Enter</span><br/><br/>Use <span class="keyboard-shortcut">Esc</span> to exit text mode',onClick:me=>{me.preventDefault(),me.stopPropagation(),ut()}}),null),A(Q,y(V,{get when(){return be()},get children(){return y(se,{class:"codicon-debug-line-by-line",namespace:`${e}.logs.content.list.item.viewer.action`,tooltip:"Step to log in debugger",onClick:()=>r.stepInDebugger({frame:G().traceFrame,playToExactFrame:!0})})}}),null),A(Q,y(V,{get when(){return Re()},get children(){return y(se,{onClick:()=>Qe(!Ve()),get tooltip(){return Ve()?"Show string literal":"Show raw string value"},class:"codicon-symbol-string !pt-[0.125rem]",get classList(){return{activeIcon:Ve()}},namespace:`${e}.logs.content.list.item.viewer.action`})}}),null),A(Q,y(V,{get when(){return et()},get children(){return y(se,{onClick:()=>n.requestValues({path:G().value.queryPath,strLength:Number.MAX_VALUE},G()),tooltip:"Load full string value",class:"codicon-kebab-vertical rotate-90",namespace:`${e}.logs.content.list.item.viewer.action`})}}),null),A(Q,y(V,{get when(){return Se()},get children(){return y(se,{onClick:()=>n.showAsDiagram({logSource:Oe(),logOrExpressionId:He()}),tooltip:"Show as diagram <span class='keyboard-shortcut'>D</span>",class:"codicon-type-hierarchy-sub -rotate-90",namespace:`${e}.logs.content.list.item.viewer.action`})}}),null),A(Q,y(V,{get when(){return ve()},get children(){return y(se,{class:"!pb-[0.03125rem] !pt-[0.09375rem]",onClick:()=>n.requestCallStackNode(Ne(),G()),tooltip:"Show call stack",get classList(){return{"codicon-layers":!t.state.logs?.showStackTraceFor,"hover:!bg-[unset]":!!t.state.logs?.showStackTraceFor,"codicon-loading codicon-modifier-spin":!!t.state.logs?.showStackTraceFor}},namespace:`${e}.logs.content.list.item.viewer.action`})}}),null),A(Q,y(V,{get when(){return ue()},get children(){return y(se,{onClick:()=>n.copyValue(G().value),tooltip:"Copy value <span class='keyboard-shortcut'>C</span>",class:"codicon-copy",namespace:`${e}.logs.content.list.item.viewer.action`})}}),null),A(Q,y(V,{get when(){return Ue()},get children(){return y(se,{class:"codicon-close",tooltip:"Remove watch expression",onClick:me=>{r.removeWatchExpressions([G().loc]),me.preventDefault(),me.stopPropagation(),t.onFocus?.(`${e}.logs`,!0)},namespace:`${e}.logs.content.list.item.viewer.action`})}}),null),A(j,y(V,{get when(){return!Ae()},get children(){return y(ql,{get data(){return G().value},get context(){return{depth:0,indentationLvl:0,linePrefixLength:0,displayPropLimit:200,maxDepth:t.maxDepth||5,noValueLoadBeyondMaxDepth:t.noValueLoadBeyondMaxDepth,maxStrLength:1/0,multiline:!0,maxLineLength:l,disallowValueLoad:xe,expandedPropLimit:40}},onDataAvailable:me=>{},onValueLoadRequest:me=>n.requestValues(me,G()),get displayRawValue(){return Ve()}})}}),null),oe(()=>j.classList.toggle("disallow-value-load",!!xe())),j}}),null),oe(j=>{var Q={"opacity-50":ke(),selected:dt(),expanded:ee(),marked:Le()?.marked,"after:hidden":ee(),"!pb-0":ee()},ge=G().id,me=G().watchExpressionId,Pe=Oe(),Be=!!ee(),We=!ee(),nt=!!Te(),it=!!Ae(),bt=!!k();return j.e=Et(_e,Q,j.e),ge!==j.t&&Me(_e,"data-id",j.t=ge),me!==j.a&&Me(_e,"data-watch-id",j.a=me),Pe!==j.o&&Me(_e,"data-parent-id",j.o=Pe),Be!==j.i&&K.classList.toggle("codicon-chevron-down",j.i=Be),We!==j.n&&K.classList.toggle("codicon-chevron-right",j.n=We),nt!==j.s&&K.classList.toggle("busy",j.s=nt),it!==j.h&&fe.classList.toggle("text-[--subtle-foreground]",j.h=it),bt!==j.r&&fe.classList.toggle("disallow-value-load",j.r=bt),j},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),_e})()},$=()=>Object.values(t.state.logs.items.global?.logs||{}).sort((G,H)=>(G.order??0)-(H.order??0)),O=()=>Object.values(t.state.logs.items.watch?.logs||{}),M=()=>Object.values(t.state.logs.items||{}).filter(G=>G.test&&!G.watch),I=G=>(()=>{var H=gU(),J=H.firstChild,Z=J.firstChild;return H.$$click=()=>n.selectLog({logSource:G.id}),Me(H,"data-namespace",`${e}.logs.content.list.group`),H.addEventListener("logExpandExternally",G.onExpand),H.addEventListener("logCollapseExternally",G.onCollapse),A(J,()=>G.icon,Z),A(Z,()=>G.header),A(J,y(V,{get when(){return G.location?.line},get children(){var te=ix();return Me(te,"data-namespace",`${e}.logs.content.list.group.link`),A(te,y(vi,{get value(){return G.location},get lineAndColumnOnly(){return!g()},compactFileNameOnly:!0,get classList(){return{"[&_span]:!no-underline":G.maybeObsolete,"!cursor-default":G.maybeObsolete,"!text-[var(--subtle-foreground)]":G.maybeObsolete}},codeFragmentTooltipOptions:()=>!G.maybeObsolete&&G.location.file&&G.location.line?{file:G.location.file,line:G.location.line,navigatable:!0}:void 0})),te}}),null),oe(te=>{var ee=!!G.selected,le=G.id,de=`header flex items-center
                  [&_span.codicon]:pl-0.5
                  [&_span.codicon]:pr-1
                  [&_span.codicon]:text-[length:--icon-smallest-font-size]
                  ${G.headerClass||""}`;return ee!==te.e&&H.classList.toggle("selected",te.e=ee),le!==te.t&&Me(H,"data-id",te.t=le),de!==te.a&&hr(J,te.a=de),te},{e:void 0,t:void 0,a:void 0}),H})(),[W,q]=z(!1,{equals:!1});return[y(V,{get when(){return b()},get children(){return[y(V,{when:!w,get children(){return y(I,{id:"watch",headerClass:"!pr-1.5",get header(){return(()=>{var G=pU(),H=G.firstChild,J=H.nextSibling;return A(J,y(V,{get when(){return O().length},get children(){return[y(se,{class:"codicon-refresh",tabIndex:0,namespace:`${e}.logs.content.list.group.action`,tooltip:"Re-evaluate all watch expressions for the currently active frame",onClick:()=>r.evaluateWatchExpressions()}),y(se,{class:"codicon-close-all",tabIndex:0,namespace:`${e}.logs.content.list.group.action`,tooltip:"Remove all watch expressions",onClick:Z=>{r.removeWatchExpressions(),Z.preventDefault(),Z.stopPropagation(),t.onFocus?.(`${e}.logs`,!0)}})]}})),G})()},get icon(){return(()=>{var G=mU();return ae(re,G,()=>re&&{content:`Watch expressions are temporary logs evaluated in the context of the currently active frame.<br/><br/>${T}. ${L}<br/><br/>If the value of a watch expression is displayed as unavailable but can be evaluated in the context of the current step, use the "Re-evaluate" action to retrieve the value.`}),G})()},get maybeObsolete(){return t.state.logs?.maybeObsolete},get selected(){return t.state.selection.log?.logSource==="watch"&&!t.state.selection.log?.logOrExpressionId},onCollapse:()=>q(!1),onExpand:()=>q(!0)})}}),y(V,{get when(){return O().length},get fallback(){return(()=>{var G=bU();return ae(re,G,()=>re&&{content:L}),A(G,T,null),A(G,y(V,{get when(){return!r.isStandalone()},get children(){return vU()}}),null),G})()},get children(){return y(On,{get each(){return O()},by:G=>G.watchExpressionId,children:G=>F(G,W)})}})]}}),y(V,{get when(){return $().length},get children(){return[y(V,{get when(){return p()||b()},get children(){return y(I,{id:"global",get header(){return t.globalLogsHeader||"Ambient (non-test) logs"},get icon(){return _U()},get maybeObsolete(){return t.state.logs?.maybeObsolete},get selected(){return t.state.selection.log?.logSource==="global"&&!t.state.selection.log?.logOrExpressionId},onCollapse:()=>q(!1),onExpand:()=>q(!0)})}}),y(On,{get each(){return $()},by:G=>G.id,children:G=>F(G,W)})]}}),y(On,{get each(){return M()},by:G=>G.test.id,children:G=>{const H=()=>Object.values(G().logs).sort((le,de)=>(le.order??0)-(de.order??0)),J=()=>G().test?.missing?void 0:G().test?.location,Z=()=>b()?(()=>{var le=yU();return oe(()=>le.classList.toggle("!text-[--error-foreground]",G().test.errors.length>0)),le})():G().test.errors.length?wU():kU(),[te,ee]=z(!1,{equals:!1});return[y(V,{get when(){return p()||b()},get children(){return y(I,{get id(){return G().test.id},get header(){return U(()=>!!b())()?"Test logs":y(Jv,{get test(){return G().test}})},get location(){return J()},get icon(){return Z()},get selected(){return t.state.selection.log?.logSource===G().test?.id&&!t.state.selection.log?.logOrExpressionId},get maybeObsolete(){return t.state.logs?.maybeObsolete},onCollapse:()=>ee(!1),onExpand:()=>ee(!0)})}}),y(On,{get each(){return H()},by:le=>le.id,children:le=>F(le,te)})]}})]},C),A(E,y(Q9,{namespace:`${e}.logs`}),C),A(E,()=>t.append,C),ae(v,C),oe(F=>{var $=!!t.scrollableElementRef,O=x();return $!==F.e&&E.classList.toggle("scrollable",F.e=$),O!==F.t&&Me(C,"href",F.t=O),F},{e:void 0,t:void 0}),E})()},get children(){return y(rU,{get logs(){return t.state.logs.items},get logPath(){return t.state.selection.diagram},get baseFontSize(){return u()},get icons(){return t.icons},get iconsNamespace(){return`${t.namespace}.logs.header.action`},close:()=>n.showAsDiagram(),logsService:n,get disallowValueLoad(){return k()||t.state.logs?.maybeObsolete||void 0},get maxDepth(){return t.maxDepth},get noValueLoadBeyondMaxDepth(){return t.noValueLoadBeyondMaxDepth}})}}),y(V,{get when(){return t.state.logs?.stackTraceToShow},get children(){var E=oU(),C=E.firstChild,F=C.firstChild,$=F.nextSibling,O=$.firstChild,M=O.firstChild,I=C.nextSibling;return Me(E,"data-namespace",`${e}.logs.content.stack`),A(O,y(V,{get when(){return t.state.logs.stackTraceToShow.length>1},get children(){var W=iU();return A(W,y(se,{get classList(){return{activeIcon:h()}},tooltip:"Toggle reversed call stack order",class:"codicon-arrow-swap rotate-90 !text-[length:--icon-font-size]",tabIndex:0,onClick:()=>o("logs","reverseStack",!h()),namespace:`${e}.logs.content.stack.header.action`})),W}}),M),A(M,y(se,{tooltip:"Close",tabIndex:0,class:"codicon-close !text-[length:--icon-font-size]",onClick:()=>{n.hideLogStackTrace(),t.onFocus?.(`${e}.logs`,!0)},namespace:`${e}.logs.content.stack.header.action`})),ae(W=>{yt(()=>W.focus())},I),I.addEventListener("paste",W=>W.preventDefault()),I.addEventListener("cut",W=>W.preventDefault()),I.$$input=()=>window.document.execCommand("undo"),Me(I,"contenteditable",!0),Me(I,"spellcheck",!1),Me(I,"data-namespace",`${e}.logs.content.stack.viewer`),I.style.setProperty("caret-color","var(--editor-cursor-foreground)"),A(I,y(Vo,{get each(){return U(()=>!!h())()?t.state.logs.stackTraceToShow.slice().reverse():t.state.logs.stackTraceToShow},children:W=>(()=>{var q=xU(),G=q.firstChild;return A(G,()=>W().context),A(q,y(V,{get when(){return W().file},get children(){return[SU(),y(vi,{get value(){return W()},get options(){return{focus:!0,callStackFrame:W()}},compactFileNameOnly:!0,textModeOptions:{addSpace:!0,contentEditable:!1},codeFragmentTooltipOptions:()=>W().file&&W().line?{file:W().file,line:W().line,navigatable:!0}:void 0})]}}),null),q})()})),E}})]}})}class sx extends CustomEvent{constructor(){super("logCollapseExternally")}}class vm extends CustomEvent{constructor(){super("logExpandExternally")}}class bm extends CustomEvent{constructor(){super("valueToggleExternally")}}At(["input","click","mousemove","focusout","dblclick"]);class Da{constructor(e,r,n){this._namespace=e,this._appService=r,this._logsService=n}matches(e){return e.startsWith(this._namespace)}handle(e,r,n){e=this._narrow(e);const i=document.getSelection();if(!r.target)return;const o=r.target,s=c=>{r.preventDefault(),r.stopPropagation()};if(_a(r))return s();if(r.key==="f"&&dr(r)||r.key==="/"&&!Ee(r))return s(this._appService.showFind(this._namespace));const a=this._locateLogElement(e,o),l=a?.classList.contains("expanded");if(a){if(r.key==="Escape"&&!Ee(r)&&this._appService.getFindState()()?.namespace===this._namespace)return this._appService.closeFind(),s(a.focus());if(e==="content.list.item.link"||e==="content.list.group.link")if((r.key==="ArrowDown"||r.key==="ArrowRight")&&l){const c=a.querySelector("button");return c?(c.setAttribute("contenteditable","false"),a.classList.remove("editable"),c.focus()):a.focus(),s()}else{if(r.key==="ArrowRight"&&!l)return s(this._expandLog(a));if(r.key==="ArrowLeft")return s(!l||e==="content.list.item.link"?a.focus():this._collapseLog(a));if(r.key==="Escape")return s(a.focus());if(r.key==="Enter")return o.firstChild?.firstChild?.dispatchEvent(mi(r)),a.focus(),s()}else if(e==="content.list.item.viewer.action")if(r.key==="ArrowUp"){if(this._selectLogLink(a))return s()}else{if(r.key==="Escape"||r.key==="ArrowDown")return s(a.focus());if(r.key==="ArrowRight")return this._selectLogAction(a,o,!0)?s():s(a.focus());if(r.key==="ArrowLeft")return this._selectLogAction(a,o,!1)?s():s(a.focus())}else if(e==="content.list.item.viewer"&&o.getAttribute("contenteditable")==="true")if(r.key!=="ArrowDown"&&r.key!=="ArrowUp"&&r.key!=="ArrowLeft"&&r.key!=="ArrowRight"){if(r.key==="Escape")return i&&!i?.isCollapsed?i?.collapseToEnd():(o.setAttribute("contenteditable","false"),a.classList.remove("editable"),a.dispatchEvent(new ka)),s();if(r.key==="Enter"){if(i&&i?.isCollapsed){const c=i.anchorNode?.parentElement;c&&(c.classList.contains("level-expander-chevron")?c.dispatchEvent(new bm):c.parentElement?.querySelector("&>span.indentation")?c.parentElement?.querySelector("&>span.indentation>span.level-expander-chevron")?.dispatchEvent(new bm):c.parentElement?.parentElement?.querySelector("&>span.indentation")&&c.parentElement?.parentElement?.querySelector("&>span.indentation>span.level-expander-chevron")?.dispatchEvent(new bm))}return s()}if(r.key==="Home"||r.key==="End"){if(dr(r)){if(i){const c=a.querySelector(".content");if(c){const d=c.lastElementChild;if(d){const u=d.children.length?r.key==="Home"?d.firstElementChild:_m(d):d;if(u){i.setPosition(u,r.key==="Home"?0:1);const f=a.closest(".scrollable,.scrollable_");if(f){const g=f.getBoundingClientRect().height;let p=f.scrollTop;if(r.key==="Home")a.offsetTop>f.scrollTop&&a.offsetTop<f.scrollTop+g||(p=a.offsetTop-g/3);else{const m=a.offsetTop+a.getBoundingClientRect().height;m>f.scrollTop&&m<f.scrollTop+g||(p=m-g/3)}f.scrollTop=p}}}}}return s()}return}if((r.key==="PageUp"||r.key==="PageDown")&&!Ee(r)){if(os||this._appService.isIntegratedVSCode()){const c=a.closest(".scrollable,.scrollable_");if(c&&i){const d=c.getBoundingClientRect(),u=a.getBoundingClientRect(),f=d.height,h=u.height;if(h<f){const g=a.querySelector(".content");if(g){const p=g.lastElementChild;if(p){const m=p.children.length?r.key==="PageUp"?p.firstElementChild:_m(p):p;if(m){i.setPosition(m,r.key==="PageUp"?0:1);const b=a.closest(".scrollable,.scrollable_");if(b){let k=b.scrollTop;if(r.key==="PageUp")a.offsetTop>b.scrollTop&&a.offsetTop<b.scrollTop+f||(k=a.offsetTop-f/3);else{const _=a.offsetTop+a.getBoundingClientRect().height;_>b.scrollTop&&_<b.scrollTop+f||(k=_-f/3)}b.scrollTop=k}}}}}else{const g=f/2,p=a.querySelector(".content");if(p){const m=p.lastElementChild;if(m)if(r.key==="PageUp")if(a.offsetTop>c.scrollTop&&a.offsetTop<c.scrollTop+f){const b=m.children.length?m.firstElementChild:m;i.setPosition(b)}else if(c.scrollTop-=g,a.offsetTop>c.scrollTop&&a.offsetTop<c.scrollTop+f){const b=m.children.length?m.firstElementChild:m;i.setPosition(b)}else{const b=ax(c);i.setPosition(b)}else if(a.offsetTop+h>c.scrollTop&&a.offsetTop+h<c.scrollTop+f){const b=m.children.length?_m(m):m;i.setPosition(b,1)}else{c.scrollTop+=g;const b=ax(c);i.setPosition(b)}}}}return s()}return}if(r.key==="c"&&!Ee(r)){const c=this._getLog(n.logs?.items,a);if(c)return s(this._logsService.copyValue(c.value))}if(r.key==="C"&&!Va(r)&&a)return s(a.dispatchEvent(new ls));if(r.key==="D"&&!Va(r)&&a)return s(a.dispatchEvent(new cs));if(!zm(r))return s()}else return;else if(e==="content.stack"){if(r.key==="Escape"||r.key==="ArrowUp")return this._logsService.hideLogStackTrace(),s(a.focus());if(r.key!=="Tab")return s(this._locateStackViewerElement(e,o)?.focus())}else{if(e==="content.stack.header.action")return r.key==="ArrowUp"?(this._logsService.hideLogStackTrace(),s(a.focus())):r.key==="Tab"||r.key===" "||r.key==="Enter"?void 0:s(this._locateStackViewerElement(e,o)?.focus());if(e==="content.stack.viewer")if(r.key!=="ArrowDown"&&r.key!=="ArrowUp"&&r.key!=="ArrowLeft"&&r.key!=="ArrowRight"&&r.key!=="Home"&&r.key!=="End"){if((r.key==="PageUp"||r.key==="PageDown")&&!Ee(r))return this._appService.isIntegratedVSCode()?s():void 0;if(r.key==="Escape")return i&&!i?.isCollapsed?i?.collapseToEnd():o.parentElement?.focus(),s();if(r.key==="."&&!Ee(r)){const c=this._isSourceLink(i),d=c?.getBoundingClientRect();d&&c?.parentElement?.lastChild?.dispatchEvent(new CustomEvent("showCodeFragment",{detail:d}))}if(r.key==="Enter")return i?.anchorNode?.parentElement?.dispatchEvent(mi(r)),s();if(!zm(r))return s()}else return;else if(e==="header.action"||e==="content.list.group.action"){if(r.key===" "||r.key==="Enter")return;if(r.key==="Escape")return s(a.focus())}}if(r.key==="."&&!Ee(r)&&a){const c=this._getLog(n.logs?.items,a);if(c?.loc)la(a,c.loc);else{const d=this._getHeaderLocation(n.logs?.items,a);d&&la(a,d)}return s()}if(r.key==="ArrowUp"){if(dr(r))return s(a.parentElement?.scrollBy({top:-50,behavior:"smooth"}));if(a.previousElementSibling)return s(this._selectLog(a.previousElementSibling));s()}else if(r.key==="ArrowDown"){if(dr(r))return s(a.parentElement?.scrollBy({top:50,behavior:"smooth"}));if(a.nextElementSibling)return s(this._selectLog(a.nextElementSibling));s()}else{if(r.key==="Home")return s(this._selectLog(a.parentElement?.firstElementChild));if(r.key==="End")return s(this._selectLog(a.parentElement?.lastElementChild));if((r.key==="PageDown"||r.key==="PageUp")&&!Ee(r)){const c=a.parentElement;if(c){const d=c.children.length;let u=0;for(let h=0;h<d;h++)if(c.children[h]===a){u=h;break}const f=u+(r.key==="PageUp"?-1:1)*12;return f<0?this._selectLog(a.parentElement?.firstElementChild):f>=d?this._selectLog(a.parentElement?.lastElementChild):this._selectLog(c.children[f]),s()}}else{if(r.key==="ArrowLeft")return e==="content.list.item.viewer"&&a.focus(),s(this._collapseLog(a));if(r.key==="Enter"&&e==="content.list.group")return s(this._expandLog(a));if(r.key==="ArrowRight"){if(a.classList.contains("expanded")){if(this._selectLogLink(a))return s()}else this._expandLog(a);return s()}else if(r.key==="e"&&!Ee(r)){const c=this._getLog(n.logs?.items,a);return c?.loc&&this._appService.navigate(c.loc,r),s()}else{if(r.key==="s"&&!Ee(r))return this._getLog(n.logs?.items,a)?.loc&&this._appService.openInSideView(Ye.Logs,n.selection?.log?{logs:{selection:n.selection?.log}}:void 0),s();if(r.key===" "){const c=this._getLog(n.logs?.items,a);return c?.loc&&this._appService.navigate(c.loc,r,{focus:!1}),s()}else if(r.key==="Enter"){if(e==="content.list.item"||e==="content.list.item.viewer"||e==="."){a.querySelector("&>.header>.item-expander")?.dispatchEvent(new vm);const c=a.querySelector("&>.content");return c&&(c.setAttribute("contenteditable","true"),a.classList.add("editable"),i?.anchorNode?.parentNode&&c.contains(i.anchorNode.parentNode)?c.focus():i?.setPosition(c.lastChild),c.dispatchEvent(new as)),s()}}else if(r.key==="c"&&!Ee(r)||r.key==="c"&&dr(r)&&(!i||i?.isCollapsed))if(e==="content.list.group"){const c=this._getLogs(n.logs?.items,a.getAttribute("data-id")||void 0);if(c)return s(this._logsService.copyValue(c.map(d=>({value:d.value,loc:d.loc}))))}else{const c=this._getLog(n.logs?.items,a);if(c)return s(this._logsService.copyValue(c.value))}else{if(r.key==="C"&&!Va(r)&&a)return s(a.dispatchEvent(new ls));if(r.key==="D"&&!Va(r)&&a)return s(a.dispatchEvent(new cs));if(r.key==="d"&&!Ee(r)){const c=this._getLogMetadata(a);if(c)return s(this._logsService.showAsDiagram(c))}else{if(r.key==="Escape")return s(this._appService.focus("editor"));if(r.key==="Tab"&&!Ee(r)&&(e==="content.list.item"||e==="content.list.group"||e==="content.list.item.viewer")&&this._selectLogLink(a))return s()}}}}}}else if(e==="."||e==="content"){if(r.key==="Escape"&&!Ee(r))if(this._appService.getFindState()()?.namespace===this._namespace){this._appService.closeFind();let c=this._locateRootElement(o);if(c)return s(c.focus())}else return s(this._appService.focus("editor"))}else if(e==="header.action"&&r.key==="Escape"&&!Ee(r)){let c=this._locateRootElement(o);return s(c?c.focus():o.parentElement?.parentElement?.nextElementSibling?.querySelector(`[data-namespace="${this._namespace}.content"]`)?.focus())}}_narrow(e){return e=e.replace(`${this._namespace}.`,""),e=e.replace(this._namespace,"."),e}_locateRootElement(e){return e.closest(`[data-namespace="${this._namespace}"]`)}_locateLogElement(e,r){if(e=="."||e=="content")return r.querySelector(".selected")||r.querySelector(".item");if(e==="header.action"){const n=r.closest(`[data-namespace="${this._namespace}"]`);return n?n.querySelector(".selected"):r.parentElement?.parentElement?.nextElementSibling?.querySelector(`[data-namespace="${this._namespace}.content"]`)?.querySelector(".selected")}if(e==="content.list.item"||e==="content.list.group")return r;if(e==="content.list.item.link"||e==="content.list.group.link")return r.parentElement?.parentElement;if(e==="content.list.group.action")return r.parentElement?.parentElement?.parentElement?.parentElement?.parentElement;if(e==="content.list.item.viewer")return r.parentElement;if(e==="content.list.item.viewer.action")return r.parentElement?.parentElement?.parentElement;if(e==="content.stack"||e==="content.stack.viewer"||e==="content.stack.header.action"){const n=r.closest(`[data-namespace="${this._namespace}"]`);return n?.querySelector(".selected")||n?.querySelector(".item")}}_locateStackViewerElement(e,r){if(e==="content.stack"){const n=r.lastChild;if(n)return n}if(e==="content.stack.header.action"){const n=r.parentElement?.parentElement?.parentElement?.parentElement?.parentElement?.lastChild;if(n)return n}}_selectLogAction(e,r,n){const i=e.querySelectorAll("button");if(i.length){let o=-1;for(let s=0;s<i.length;s++)if(i[s]===r){o=s;break}return o=o>=0?o:0,n?(o+1>i.length-1||i[o+1].focus(),!0):o-1>=0?(i[o-1].focus(),!0):this._selectLogLink(e)}return!1}_selectLogLink(e){const r=e.querySelector("&>div.header>div.source-link");return r?(r.focus(),!0):!1}_getLog(e,r){if(e&&r){const n=r,i=n.getAttribute("data-id"),o=n.getAttribute("data-watch-id"),s=n.getAttribute("data-parent-id"),a=n.getAttribute("data-namespace");if(i&&s&&a&&a.endsWith("content.list.item"))return e[s].logs[o||i]}}_getHeaderLocation(e,r){if(e&&r){const n=r,i=n.getAttribute("data-id"),o=n.getAttribute("data-parent-id");if(i&&!o)return e[i]?.test?.location}}_getLogMetadata(e){if(e){const r=e.getAttribute("data-id"),n=e.getAttribute("data-watch-id"),i=e.getAttribute("data-parent-id"),o=e.getAttribute("data-namespace");if(r&&i&&o&&o.endsWith("content.list.item"))return{logSource:i,logOrExpressionId:n||r}}}_getLogs(e,r){if(e&&r)return Object.values(e[r].logs)}_selectLog(e){const r=e?.getAttribute("data-id"),n=e?.getAttribute("data-watch-id"),i=e?.getAttribute("data-parent-id"),o=e?.getAttribute("data-namespace"),s=n||r;r&&s&&o&&(o.endsWith("content.list.item")&&i?(this._logsService.selectLog({logOrExpressionId:s,logSource:i}),e?.focus()):(this._logsService.selectLog({logSource:r}),e?.focus()))}_expandLog(e){const r=e.querySelector(".item-expander");r?r.dispatchEvent(new vm):e.dispatchEvent(new vm)}_collapseLog(e){const r=e.querySelector(".item-expander");r?r.dispatchEvent(new sx):e.dispatchEvent(new sx)}_isSourceLink(e){if(!e)return;const r=i=>i?.classList.contains("source-link");let n=e.anchorNode?.parentElement;return r(n)?n:r(n?.parentElement)?n?.parentElement:void 0}}function _m(t){let e=t.lastElementChild;for(;e&&e.nodeType===Node.ELEMENT_NODE&&e.lastElementChild;)e=e.lastElementChild;return e}function ax(t){const e=t.getBoundingClientRect();for(let r=0;r<t.children.length;r++){const n=t.children[r],i=TC(e,n);if(i)return i}return null}function TC(t,e){const r=e.getBoundingClientRect();let n=!1;r.top>=t.top&&r.bottom<=t.bottom&&(n=!0);for(let i=0;i<e.children.length;i++){const o=e.children[i],s=TC(t,o);if(s)return s}return n?e:null}var EU=D('<div class="flex items-center [&amp;_.metric]:text-[length:--panel-smaller-font-size] [&amp;_.visual]:ml-1 [&amp;_.visual]:w-4 [&amp;_.visual]:h-[0.5625rem] [&amp;_.visual]:rounded-[0.0625rem] [&amp;_.visual]:border [&amp;_.visual]:border-[--testing-icon-passed] [&amp;_.visual.low]:border-[--editor-warning-foreground] [&amp;_.visual.not-applicable]:border-[--editor-ruler-foreground] [&amp;_.background]:h-full [&amp;_.background]:bg-[--testing-icon-passed] [&amp;_.low_.background]:bg-[--editor-warning-foreground] [&amp;_.not-applicable_.background]:bg-[--editor-ruler-foreground]"><span class=metric></span><div class=visual><div class=background>');function Gb(t){const e=U(()=>{if(!t.coverage)return;const r=`<b>${t.coverage.ranges.covered}</b> code range${t.coverage.ranges.covered===1?"":"s"}`,n=`<b>${t.coverage.ranges.all}</b> total range${t.coverage.ranges.all===1?"":"s"}`;return t.coverage?`${r} of ${n} covered in the ${t.file?"file":"folder"}`:void 0});return(()=>{var r=EU(),n=r.firstChild,i=n.nextSibling,o=i.firstChild;return ae(re,r,()=>re&&{content:e()}),A(n,()=>t.coverage!==void 0?`${t.coverage.value}%`:"n/a"),oe(s=>{var a=!!t.coverage?.low,l=!t.coverage,c=`${t.coverage?.value}%`;return a!==s.e&&i.classList.toggle("low",s.e=a),l!==s.t&&i.classList.toggle("not-applicable",s.t=l),c!==s.a&&((s.a=c)!=null?o.style.setProperty("width",c):o.style.removeProperty("width")),s},{e:void 0,t:void 0,a:void 0}),r})()}var CU=D("<div>");function Od(t){const[e,r]=z(),[n,i]=z(t.text),o=[];return Ii(e,s=>{const a=s[0];if(a){if(!o.length){const c=document.createElement("canvas").getContext("2d");if(c){const d=window.getComputedStyle(e());c.font=`${d.fontWeight} ${d.fontSize} ${d.fontFamily}`,o.push({minWidth:c.measureText(t.text).width,displayText:t.text});const u=t.text.split("/");for(;u.length>1;){u.shift();const f=u.join("/"),h=c.measureText(".../"+f).width;o.push({minWidth:h,displayText:".../"+f})}o.push({minWidth:0,displayText:".../"+u[0]})}}const l=a.contentRect.width;i(o.find(c=>c.minWidth<=l).displayText)}}),(()=>{var s=CU();return ae(r,s),ae(re,s,()=>re&&t.tooltip!==!1&&{content:t.text}||void 0),A(s,n),oe(()=>hr(s,t.class)),s})()}function Oa(){return parseFloat(getComputedStyle(document.body)?.getPropertyValue("--panel-font-size").split("px")[0])*2-4}const Ql="data-resizable-panel-id",LU="data-panel-resize-handle",EC=100;let Nn=function(t){return t.panelGroup="resizeablePanelGroup",t.panelGroupVertical="resizeablePanelGroup_vertical",t.resizeHandle="resizeablePanelGroup-resizeHandle",t.resizeHandleDisabled="resizeablePanelGroup-resizeHandle_disabled",t.panel="resizeablePanelGroup-panel",t.documentResizingHorizontalPanel="resizingHorizontalPanel",t.documentResizingVerticalPanel="resizingVerticalPanel",t}({});const ec=t=>t.includes("row"),IU=t=>t.includes("reverse"),AU=(t,e)=>{let r=0;for(const n of t.children)n.getAttribute(Ql)&&(r+=n.getBoundingClientRect()[e]);return r},FU=(t,e,r)=>{let n=0;const i=U(()=>ec(r())?"width":"height");return yt(xr([t,i,e],([o,s])=>{o&&(n=AU(o,s))})),()=>n},il=(t,e,r)=>t/e/r,RU=({zoom:t,scale:e})=>{let r=0,n=0;const[i,o]=z(0),[s,a]=z(0);return{deltaX:i,deltaY:s,init:l=>{r=il(l.clientX,t(),e()),n=il(l.clientY,t(),e()),hi(()=>{o(0),a(0)})},updateMouseDelta:l=>{hi(()=>{o(il(l.clientX,t(),e())-r),a(il(l.clientY,t(),e())-n)})}}},PU=({zoom:t,scale:e,direction:r,updateLayout:n,state:i,containerRef:o})=>{const s=RU({zoom:t,scale:e}),[a,l]=z(void 0),c=d=>u=>{s.init(u),l(d)};return yt(xr(a,d=>{if(!d)return;const u=FU(o,()=>i().layout.length,r),f=i().layout.map(k=>k.size),h=k=>s.updateMouseDelta(k),g=()=>l(void 0);document.addEventListener("mousemove",h),document.addEventListener("mouseup",g,{once:!0}),document.body.classList.add(ec(r())?Nn.documentResizingHorizontalPanel:Nn.documentResizingVerticalPanel);const p=ec(r()),m=IU(r())?-1:1;yt(xr(()=>(p?s.deltaX():s.deltaY())*m,k=>{const _=k*EC/u();_!==0&&n(_,d,f)})),Xe(()=>{document.body.classList.remove(Nn.documentResizingHorizontalPanel,Nn.documentResizingVerticalPanel),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",g)})})),c},$U=t=>e=>Math.round(e*10**t)/10**t,pv=$U(4),ym=(t,e,r)=>Math.max(e,Math.min(t,r)),CC=1e-6,lx=t=>Math.abs(t)<CC,DU=(t,e,r,n)=>{let i=e.slice(),o=Math.sign(n)===1?"right":"left";const s=Math.abs(n),a=(o==="left"?-1:1)*Math.sign(n),l=t.length;let c=o==="left"?r+1:r,d;c>=l&&(c=r-1);const u=e[c]+a*s,f=ym(u,t[c].minSize,t[c].maxSize);if(t[c].collapsible&&e[c]===0&&u<t[c].minSize)return e;i[c]=f,d=Math.min(t[c].maxSize-e[c],s),o==="right"&&r===l-1&&(o="left");let h=0;const g=()=>o==="left"?r:r+1,p=k=>o==="left"?k>=0:k<l,m=k=>o==="left"?k-1:k+1;let b=g();for(;p(b);){if(e[b]===0){b=m(b);continue}const k=e[b]-a*d,_=ym(k,t[b].minSize,t[b].maxSize),v=e[b]-_;if(d-=v,h+=v,i[b]=_,b=m(b),lx(d))return i}for(b=g();p(b);){if(e[b]===0){b=m(b);continue}if(t[b].collapsible&&d>=t[b].minSize&&(d-=t[b].minSize,h+=t[b].minSize,i[b]=0),b=m(b),lx(d))break}return d>CC&&(i[c]=ym(e[c]+a*h,t[c].minSize,t[c].maxSize)),i},OU=(t,e,r)=>{const[n,i]=fa({layout:t},{name:"PanelStore"}),o=(c,d=100)=>{const u=c.reduce((f,h)=>f+h,0);return c.map(f=>pv(f/u*d))},s=c=>{const d=Hr(c),u=Hr(n.layout),f=u.map(g=>g.size),h=u.reduce((g,p)=>(g.set(p.id,p.size),g),new Map);if(f.length+1===d.length){const g=d.findIndex(b=>!h.has(b.id)),p=d[g];p.size===100&&(p.size=50);const m=o(f,100-p.size);d.splice(g,1);for(let b=0;b<m.length;b++)d[b].size=m[b];d.splice(g,0,p)}else if(f.length-1===d.length){const g=u.findIndex(m=>!d.find(b=>b.id===m.id));f.splice(g,1);const p=o(f);for(let m=0;m<p.length;m++)d[m].size=p[m]}else{const g=d.map(m=>m.size||h.get(m.id)||m.minSize||10),p=o(g);for(let m=0;m<p.length;m++)d[m].size=p[m]}i("layout",je(d))},a=U(()=>e()??DU);return{state:n,setConfig:s,updateLayout:(c,d,u)=>{const f=n.layout.findIndex(g=>g.id===d);if(f===-1)return;const h=Xt(a)(n.layout,u,f,c).map(pv);i(Je(g=>{for(let p=0;p<h.length;p++)h[p]!==void 0&&(g.layout[p].size=h[p])})),r?.(h)}}},Ub=ac(),Wb=t=>`SolidPanels: ${t}`,BU=t=>{let e=0,r=0;t.forEach(i=>{i.size?r+=i.size:e++});const n=pv((EC-r)/e);return t.map(i=>{const o={id:i.id,size:i.size??n,minSize:i.minSize,maxSize:i.maxSize,collapsible:i.collapsible,index:i.index??0},s=o.size<o.minSize,a=o.size>o.maxSize;return(s||a)&&console.warn(Wb(`Error. Item with id="${i.id}" has wrong size limitations: its size (${o.size}%) is ${s?"less":"more"} than ${s?"minimum":"maximum"} size (${s?o.minSize:o.maxSize}%). `)),o})},yr=t=>{const e=Yi({tag:"div",zoom:1,scale:1,direction:"row"},t),[r,n]=z(),[i,o]=fa([]),s=U(()=>BU(i)),{state:a,setConfig:l,updateLayout:c}=OU(s(),()=>e.resizeAlgorithm,e.onLayoutChange);dl(()=>{l(s())});const d=b=>o(Je(k=>{k.push(b),b.index!==void 0&&k.sort((_,v)=>_.index-v.index)})),u=b=>{o(Je(k=>{const _=k.findIndex(v=>v.id===b);_!==-1&&k.splice(_,1)}))},f=b=>U(()=>a.layout.find(k=>k.id===b)),h=PU({zoom:()=>e.zoom,scale:()=>e.scale,direction:()=>e.direction,state:()=>a,containerRef:r,updateLayout:c}),[g,p]=z(!1);Vt(()=>p(!0));const m=()=>g()?"":"hidden";return y(Ub.Provider,{value:{registerPanel:d,unregisterPanel:u,useData:f,createMouseDownHandler:h,direction:()=>e.direction},get children(){return y(Tv,{ref:n,get component(){return e.tag},get style(){return{"flex-direction":e.direction,visibility:m()}},get classList(){return{[Nn.panelGroup]:!0,[Nn.panelGroupVertical]:!ec(e.direction),[e.class??""]:!0}},get children(){return e.children}})}})},Ys=t=>{const e=Yi({tag:"div",minSize:0,maxSize:100,collapsible:!1},t),r=lc(Ub);if(!r)return console.warn(Wb("Error: Panel component must be rendered inside PanelGroup component")),null;const{registerPanel:n,unregisterPanel:i,useData:o}=r,s=o(e.id),a=()=>s()?.size;return Vt(()=>{const l=e.id;n({id:l,size:e.initialSize,minSize:e.minSize,maxSize:e.maxSize,collapsible:e.collapsible,index:e.index}),Xe(()=>i(l))}),yt(()=>{e.collapsible&&yt(xr(a,(l,c)=>{if(!(l===void 0||c===void 0))return l===0&&c!==0&&e.onCollapse?.(),l!==0&&c===0&&e.onExpand?.(),l},{defer:!0}),Xt(a))}),yt(()=>{const l=e.onResize;l&&yt(xr(a,c=>{c!==void 0&&l(c)}))}),y(Tv,Yi(()=>({[Ql]:e.id}),{ref:e.ref,get component(){return e.tag},get classList(){return{[Nn.panel]:!0,[e.class??""]:!0}},get style(){return{"flex-grow":a(),"flex-shrink":1,"flex-basis":"0px",overflow:"hidden"}},get children(){return e.children}}))},mv=t=>{const e=Yi({tag:"button",disabled:!1},t),r=lc(Ub);if(!r)return console.warn(Wb("Error: Panel component must be rendered inside PanelGroup component")),null;const n=i=>{if(e.disabled)return;const o=i.currentTarget;let s=null;if(o instanceof HTMLElement){let l=o.previousElementSibling;for(;l;){const c=l.getAttribute(Ql);if(c){s=c;break}l=l.previousElementSibling}}const a=o instanceof HTMLElement?o.nextElementSibling?.getAttribute(Ql):null;s&&a&&r.createMouseDownHandler(s)(i)};return y(Tv,Yi({[LU]:!0,tabIndex:-1},{get component(){return e.tag},get disabled(){return e.disabled},get classList(){return{[Nn.resizeHandle]:!0,[Nn.resizeHandleDisabled]:e.disabled,[e.class??""]:!0}},onMouseDown:n,get children(){return e.children}}))};var MU=D('<div class="resizeablePanelGroup-panel flex h-7 cursor-pointer items-center justify-center truncate py-1 pl-2"><div class="header-font-size header-tracking flex-grow select-none truncate py-0.5 pr-1 font-bold uppercase"><span class=pb-0.5></span></div><div class="ml-auto flex pr-1 leading-none [&amp;_li]:flex [&amp;_li_button]:mx-[0.0625rem] [&amp;_li_button]:!text-[length:--icon-font-size]"><ul class="flex flex-row items-center justify-center"><li>');function cx(t){const e=t?.parentElement?.children;return e?e[0]===t||e[0]?.attributes.getNamedItem("data-panel-resize-handle")&&e[1]===t:!1}function St(t){const e=yc(),r=e.getPanelState(t.id,t.defaultState);let[n,i]=z(),[o,s]=z(),[a,l]=z(!1);oe(()=>{n()?.parentElement&&s(n()?.parentElement),!cx(n())&&!t.notResizeable?l(!0):l(!1)}),l5(o,()=>{!cx(n())&&!t.notResizeable?l(!0):l(!1)},{childList:!0});const c=()=>{e.setPanelState(t.id,()=>({...r(),collapsed:!1}))};return y(V,{get when(){return U(()=>!r().collapsed)()&&r().size},get fallback(){return y(V,{get when(){return r().collapsed&&t.header},get children(){var d=MU(),u=d.firstChild,f=u.firstChild,h=u.nextSibling,g=h.firstChild,p=g.firstChild;return u.$$click=c,ae(re,f,()=>re&&{content:t.header.tooltip}),A(f,()=>t.header.title),A(p,y(se,{class:"codicon-chevron-up",get tooltip(){return`Expand "${t.header.title}" panel`},tabIndex:0,get namespace(){return t.header.namespace},onClick:c})),d}})},get children(){return[y(V,{get when(){return a()},get children(){return y(mv,{})}}),y(Ys,{ref(d){var u=i;typeof u=="function"?u(d):i=d},get index(){return t.index},minSize:5,get id(){return t.id},get class(){return t.class},get initialSize(){return r().size},onResize:d=>{t.onResize&&t.onResize(n()?.offsetWidth),e.setPanelState(t.id,u=>({...u,size:d}))},get children(){return t.children}})]}})}At(["click"]);var NU=D('<div class="relative h-full w-full outline-none"tabindex=-1><div></div><div tabindex=-1>');function Fs(t){const[e,r]=z(),n=vs(e);we(t.scrollable,s=>{s&&r(s)}),we(n.y,s=>{t.onVerticalScroll?.(s)});const[i,o]=z(!1);return(()=>{var s=NU(),a=s.firstChild,l=a.nextSibling;return s.$$focusout=()=>o(!1),s.$$focusin=()=>{t.namespace&&t?.onFocus?.(t.namespace),o(!0)},A(s,y(It,{get each(){return t.overlays||[]},children:c=>c}),l),ae(c=>!t.scrollable&&r(c),l),A(l,()=>t.children),oe(c=>{var d=t.namespace,u=!!n.y(),f=`absolute left-0 right-0 top-[-1.75rem] z-[1] flex h-[1.75rem] cursor-default flex-row items-center justify-center shadow-[--widget-shadow] ${t.headerClass||""}`,h=t.namespace?`${t.namespace}.content`:void 0,g=`scrollable absolute inset-0 overflow-y-auto outline-none ${t.contentClass||""}`;return d!==c.e&&Me(s,"data-namespace",c.e=d),u!==c.t&&a.classList.toggle("shadow-header",c.t=u),f!==c.a&&hr(a,c.a=f),h!==c.o&&Me(l,"data-namespace",c.o=h),g!==c.i&&hr(l,c.i=g),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),s})()}At(["focusin","focusout"]);function wm(t){return t[0]+"_"+t.slice(1).join(GU)}const GU="",dx="$$typeof: Symbol(jest.asymmetricMatcher)";function qb(t){const e=t.expected,r=t.actual;return t.formattedMessage?.body.format==="diff"&&t.formattedMessage.body.content&&(e?.indexOf(dx)!==-1||r?.indexOf(dx)!==-1)?UU(t.formattedMessage.body.content):{expected:e,actual:r}}function UU(t){const e=t.split(`
`);let r,n,i=!1,o=!1;for(const s of e){if(!i&&s.startsWith("+ Received")){i=!0;continue}if(!i||!o&&s.trim()==="")continue;o=!0;const a=s.substring(2);s.startsWith("- ")?r=r?r+`
`+a:a:(s.startsWith("+ ")||(r=r?r+`
`+a:a),n=n?n+`
`+a:a)}return{expected:r,actual:n}}function WU(t,e,r){switch(t){case"investigation":return{mode:"agent",query:`1. Analyze the failing test with Wallaby (use test id: "${wm(r)}" for tool calls) and identify the cause of the failure.
2. Use Wallaby's covered files to find relevant implementation files or narrow your search.
3. Use Wallaby's runtime values tool and coverage tool to support your reasoning.
4. Suggest and explain a code fix that will resolve the failure.
5. Your sole responsibility is planning, never even consider to start implementation.
When responding:
- Explain your reasoning step by step.
- Stop immediately if you consider starting implementation or switching to implementation mode.`};case"directFix":return{mode:"agent",query:`1. Analyze the failing test with Wallaby (use test id: "${wm(r)}" for tool calls) and identify the cause of the failure.
2. Use Wallaby's covered files to find relevant implementation files or narrow your search.
3. Use Wallaby's runtime values and coverage data to support your reasoning if needed.
4. Fix the issue and use Wallaby's to confirm that the test now passes, otherwise continue iterating until it passes.`};case"analyticalFix":return{mode:"agent",query:`1. Analyze the failing test with Wallaby (use test id: "${wm(r)}" for tool calls) and identify the cause of the failure.
2. Use Wallaby's covered files to find relevant implementation files or narrow your search.
3. Use Wallaby's runtime values tool and coverage tool to support your reasoning.
4. Suggest and explain a code fix that will resolve the failure.
5. After the fix, use Wallaby's reported test state to confirm that the test now passes.
6. If the test still fails, continue iterating with updated Wallaby data until it passes.
${e.snapshot?"7. If a snapshot update is needed, use Wallaby's snapshot tools for it.":""}
When responding:
- Explain your reasoning step by step.
- Use runtime and coverage data directly to justify your conclusions.`}}}const Kt="runError";function fs(t,e,r){return t.id||`${e.path.join("-")}-${r}`}function ro(t,e){const r=wc(e?.includeMappedOnly?t.stack.filter(i=>!i.notMappedFile):t.stack);t.noMappedStack=!r,t.id&&(e?.active||e?.marked?t.selection={active:e?.active||!1,marked:e?.marked||!1}:t.selection=void 0),ha(t),!(e?.allowSkippingCompactDiff&&t.formattedMessage?.body.format==="diff")&&t.size<$t.errorSizeBytesToSkipCompactDiff&&(t.expected?.length||0)+(t.actual?.length||0)<$t.errorExpectedActualSizeBytesToSkipCompactDiff&&(LC(t),ha(t))}function ha(t){const e=t.formattedMessage?.header.content||t.message||"",r=t.formattedMessage?.body.content||"",n=t.compactDiffHtml||"";t.size=e.length+r.length+n.length}function LC(t){if(t.expected||t.actual){const{expected:e,actual:r}=qb(t);t.compactDiffHtml=y9(e,r)}}function no(t){if(t>99e3){const e=Math.floor(t/6e4),r=Math.round(t%6e4/1e3);return`${e}m${r.toString().padStart(2,"0")}s`}else return t>1e4?`${Math.round(t/1e3)}s`:`${(Math.round(t/100)/10).toFixed(1)}s`}class qU{_baseQuantumMs=50;_timer;_scopes=new Map;_activeTasks=new Set;_idSeq=0;createScope(){const e=++this._idSeq,r={id:e,tasks:new Map,disposed:!1};return this._scopes.set(e,r),{addTask:(o,s)=>{if(r.disposed)return{request:()=>{},cancel:()=>{}};const a=++this._idSeq,l={id:a,cb:o,intervalMs:Math.max(1,Math.floor((s?.intervalMs??this._baseQuantumMs)/this._baseQuantumMs))*this._baseQuantumMs,active:!1,nextRunAt:0};return r.tasks.set(a,l),{request:()=>{if(r.disposed)return;const u=Date.now();l.active=!0,l.nextRunAt=u,this._activeTasks.add(l),this._ensureTimer()},cancel:()=>{r.disposed||(l.active&&(l.active=!1,l.nextRunAt=0,this._activeTasks.delete(l)),this._hasActiveTasks()||this._clearTimer())}}},dispose:()=>{if(!r.disposed){r.disposed=!0;for(const o of r.tasks.values())o.active&&this._activeTasks.delete(o);r.tasks.clear(),this._scopes.delete(e),this._hasActiveTasks()||this._clearTimer()}}}}_hasActiveTasks(){return this._activeTasks.size>0}_clearTimer(){this._timer&&(clearTimeout(this._timer),this._timer=void 0)}_ensureTimer(){this._timer||(this._timer=setTimeout(()=>this._tick(),this._baseQuantumMs))}_tick(){this._timer=void 0;const e=Date.now(),r=Array.from(this._activeTasks);for(const n of r){if(!n.active||n.nextRunAt>e)continue;n.cb(e)?n.nextRunAt=e+n.intervalMs:(n.active=!1,n.nextRunAt=0,this._activeTasks.delete(n))}this._hasActiveTasks()?this._timer=setTimeout(()=>this._tick(),this._baseQuantumMs):this._clearTimer()}}const IC=new qU;class AC{constructor(e,r,n){this.readAll=e,this.upsert=r,this.replaceAll=n}_use=IC.createScope();_taskHandle=this._use.addTask(()=>this._tickWrapper(),{intervalMs:50});_bufferMs=250;dispose(){this._clearTimer(),this._use.dispose()}_clearTimer(){this._taskHandle.cancel()}applyProgress(e,r={replaceAll:!0}){const n=Date.now();let i=!1;this._clearTimer();const o={};for(const s of e){const a=s.estimatedCompletionTime||0,l=Math.max(0,a-n);i=i||l>0,o[s.fileId]={...s,remainingTimeLabel:l>0?no(l):"",duration:l,isDeterminate:l>0,isIdle:s.status==="idle",hasTestFileProgressTime:s.status==="running"&&a>0}}if(r?.replaceAll&&this.replaceAll)this.replaceAll(o);else for(const[s,a]of Object.entries(o))this.upsert(s,a);i&&this._scheduleTick()}_scheduleTick(){this._taskHandle.request()}_tickWrapper(){const e=Date.now();let r=!1;const n=this.readAll()||{};for(const[i,o]of Object.entries(n)){const s=o.estimatedCompletionTime||0,a=Math.max(0,s-e),l=Math.max(0,s-e+this._bufferMs),c=l>0,d=c?no(a):"";l>0&&(r=!0),(o.remainingTimeLabel!==d||o.isDeterminate!==c)&&this.upsert(i,u=>({...u,remainingTimeLabel:d,isDeterminate:c,hasTestFileProgressTime:u.status==="running"&&(u.estimatedCompletionTime||0)>0&&a>0}))}return r}}class zt{constructor(e,r,n,i,o,s){this._state=e,this._setState=r,this._setLogsAndErrorState=n,this._appService=i,this._appToCore=o,this._threshold=s,this._disposable.add(()=>{this._progress?.dispose()})}_logsService;_lastTestTreeNodeId=BigInt(0);_trackedTestTreeNode=void 0;_manualSelectionMade=!1;_progress;_disposable=new Cr;static buildNodeTestPath(e){const r=[e.parent?e.name:e.key];let n=e.parent;for(n&&r.push(n.parent?n.name:n.key);n;)n=n.parent,n&&r.push(n.parent?n.name:n.key);return r.reverse()}static buildFileLocation(e){const r=[e];let n=e.parent;for(n&&r.unshift(n);n;)n=n.parent,n&&r.unshift(n);const i=r[0]?.type==="file"?r[0].name:void 0,o=r[r.length-1]?.location;if(i)return{file:i,...o}}get logs(){if(!(!this._state.tests.foreground||this._appService.isIntegratedOverview()))return this._logsService?this._logsService:this._logsService=new Qt(this._state.tests.foreground.details,this._setState.bind(this,"tests","foreground","details"))}trackTree(){this._appToCore.trackTestTree()}untrackTree(){const e=this._state.tests.foreground;this._untrackNode(),this._appToCore.untrackTestTree(),(e?.search?.raw||e?.tree.selection&&this._manualSelectionMade)&&this._setState("tests","background",{search:e?.search?.raw,selection:e?.tree.selection?.path}),this._setState("tests","foreground",void 0),this._logsService=void 0,this._lastTestTreeNodeId=BigInt(0)}trackSelection(){const e=this._state.tests.foreground;if(e){const r=e.tree.selection;if(r&&r.id){const n=e.tree.nodes[r.id];if(n){this._trackNode(n.id,zt.buildNodeTestPath(n),n.type==="test");return}}this._untrackNode()}}_trackNode(e,r,n){const{logs:i,errors:o,coverage:s}=this._detailsToRequest;!s&&!i&&!o?this._trackedTestTreeNode?.id===e&&this._untrackNode():(!this._trackedTestTreeNode||this._trackedTestTreeNode.id!==e||this._trackedTestTreeNode.coverage!==s||this._trackedTestTreeNode.logs!==i||this._trackedTestTreeNode.errors!==o)&&(this._trackedTestTreeNode={id:e,coverage:s,logs:i,errors:o},this._appToCore.trackTestTreeDetails(r,n,this._trackedTestTreeNode))}_untrackNode(){this._state.tests.foreground&&this._clearDetailsState(),this._appToCore.untrackTestTreeDetails(),this._trackedTestTreeNode=void 0}_clearDetailsState(){this._setLogsAndErrorState("logs",void 0),this._setLogsAndErrorState("filesWithExpressionsToEvaluate",void 0),this._setLogsAndErrorState("errors",void 0),this._setLogsAndErrorState("runError",void 0)}toggleNode(e,r){const n=this._state.tests.foreground;if(n){const i=n.tree.nodes[e],o=!!n.search;if(i){const s=i.expanded;let a=i.parent,l=a||i;for(;a;)a=a.parent,a&&(l=a);this._setState("tests","foreground","tree","nodes",i.id,Je(c=>{c&&(c.expanded=r===void 0?!s:r,c.expanded&&c.id===l.id?c.depth=this._countExpandedTreeNodes(c.children,o)+1:c.depth=1)})),l.expanded&&l.id!==i.id&&this._setState("tests","foreground","tree","nodes",l.id,Je(c=>{c&&(c.depth=this._countExpandedTreeNodes(c.children,o)+1)}))}}}selectNode(e){const r=this._state.tests.foreground;if(r){this._manualSelectionMade=!0,this._setState("tests","foreground","tree","revelation",void 0);const n=r.tree.selection;if(n&&n.id){if(n.id===e)return;const o=r.tree.nodes[n.id];o&&this._setState("tests","foreground","tree","nodes",o.id,"selected",!1)}const i=r.tree.nodes[e];i?(this._setState("tests","foreground","tree","selection",this._buildSelection(i.id,r.tree.nodes)),this._setState("tests","foreground","tree","nodes",i.id,"selected",!0),this._trackNode(i.id,zt.buildNodeTestPath(i),i.type==="test")):this._untrackNode()}}revealNode(e){const r=this._state.tests.foreground;if(r){const n=r.tree.revelation?.index,i=r.tree.revelation?.id;n!==void 0&&(e(n),i&&(this._setState("tests","foreground","tree","nodes",i,"revealed",!0),this._setState("tests","foreground","tree","nodes",i,"revealed",!1)))}}locateNode(e){const r=this._state.tests.foreground;if(r){const n=r.search?.parsed?r.tree.files.matched.items:r.tree.files.all.items;if((e==="first"||e==="last")&&n.length===0)return!1;const i=e==="first"?n[0]:e==="last"?n[n.length-1]:r.tree.nodes[e],o=e!=="first"&&e!=="last";if(i){e=i.id;const s=!!r.search;this.selectNode(e);const a=[];a.push(i.id);let l=i.parent;l&&a.push(l.id);let c=l||i;for(;l;)l=l.parent,l&&(a.push(l.id),c=l);if(o)for(const d of a)this._setState("tests","foreground","tree","nodes",d,Je(u=>{u&&(u.expanded=!0,u.id===c.id&&(u.depth=this._countExpandedTreeNodes(u.children,s)+1))}));return this._setState("tests","foreground","tree","revelation",{index:r.tree.files.all.indices[c.id],id:i.id}),!0}}return!1}toggleNodeFilter(e){const r=this._state.tests.foreground;if(r){const n=r.tree.nodes[e];n&&this._appService.toggleTestFilter(zt.buildNodeTestPath(n),{suite:n.type==="suite",source:"side-view"})}}loadTestDetails(e){this._setState("context",void 0),this._appToCore.getTestDetails(e).then(r=>{if(!r){this._setState("context",void 0);return}const n=r.flatMap(o=>o.globalErrors||[]).concat(r.flatMap(o=>o.errors.map(s=>({test:o,error:s}))).map(({test:o,error:s},a)=>({...s,id:fs(s,o,a),test:o}))),i={};n.forEach(o=>{o.maybeObsolete||ro(o,{allowSkippingCompactDiff:this._appService.appSettings()[0].errors.diff?.compact==="auto"}),i[o.id]=o}),this._setState("context",{errors:n})})}navigateNode(e,r,n){const i=this._state.tests.foreground;if(i){const o=i.tree.nodes[e];if(o){let s=o.name,a=o.parent;for(a&&(s=a.name);a;)a=a.parent,a&&(s=a.name);const l={file:s,line:o.location?.line,column:o.location?.column};if(o.type==="suite"){const c=u=>{if(u)for(const f of u){if(f.type==="test")return f;const h=c(f.children);if(h)return h}},d=c(o.children);d&&(l.line=d.location?.line,l.column=d.location?.column)}l.line=l.line||1,l.column=l.column||0,this._appService.navigate(l,r,n||{focus:!1})}}}updateSearch(e){const r=this._state.tests.foreground;r&&(r.search?this._setState("tests","foreground","search","raw",e?.trim()):this._setState("tests","foreground","search",{raw:e?.trim()}))}convertSearch(e){this._convertSearch(e)&&this.search()}checkSearch(e){const r=this._state.tests.foreground?.search?.raw;if(r&&e.slow){const n=r.match(/@time\s*>\s*(\d+)/g);if(n&&n.length>0)return parseInt(n[n.length-1].replace(/@time\s*>\s*/,""))>=(this._threshold()||0)}return!1}search(e,r){const n=this._state.tests.foreground;if(n){let i=this._parseSearch(e===void 0?n.search?.raw:e);this._compareSearch(n.search?.parsed,i)||(i?this._setState("tests","foreground",Je(o=>{let s;const a={},l=[],c={};let d=0,u=0;const f=!!(i.time||i.failed||i.skipped||i.todo||i.passed);for(const h of o.tree.files.all.items){const g=this._searchTreeNode(h,i,!1,f,d>50,"");g.matched&&(h.depth=g.depth,h.expanded&&(d+=g.depth),l.push(h),a[h.name]=h.id,c[h.id]=u,u++,!s&&g.selection&&(s={id:g.selection,fileId:h.id}))}o.tree.files.matched={items:l,indices:c,ids:a},o.search={raw:e||n.search?.raw,parsed:i},this._manualSelectionMade=!!s,this._selectTreeNode(s,o.tree,!0,!0),l.length===0&&r?.()})):this._setState("tests","foreground",Je(o=>{for(const s of Object.values(o.tree.nodes))s&&(s.match=void 0,s.expanded=!1,s.parent||(s.depth=1));o.search=void 0,o.tree.files.matched={items:[],indices:{},ids:{}},this._selectTreeNode(void 0,o.tree,!1,!0)})))}}updateTree(e){if(e.incremental){if(this._state.tests.foreground){const r=this._state.tests.foreground.search;this._setState("tests","foreground","tree",Je(n=>{const i={sort:!1,index:!1},o={sort:!1,index:!1};let s;for(const a of e.files){a.key&&!this._state.testFileProgressByFile[a.key]&&this._setState("testFileProgressByFile",a.key.toString(),{fileId:a.key.toString(),status:"idle",remainingTimeLabel:"",duration:0,isDeterminate:!1,isIdle:!0,hasTestFileProgressTime:!1});const l=n.nodes[n.files.all.ids[a.name]],c=this._buildTreeRoot(a,l,n.nodes,!this._manualSelectionMade,r?.parsed,l?.name||"");c?.selection&&(s=s||{id:c.selection,fileId:c.node.id}),c?(l||(i.sort=!0),n.nodes[c.node.id]=c.node,n.files.all.ids[c.node.name]=c.node.id):l&&(delete n.nodes[l.id],delete n.files.all.ids[l.name],i.index=!0),r&&(c&&c.matched?(n.files.matched.ids[c.node.name]||(o.sort=!0),n.files.matched.ids[c.node.name]=c.node.id):(s=void 0,l&&n.files.matched.ids[l.name]&&(delete n.files.matched.ids[l.name],o.index=!0)))}if(i.sort){const a={},l={},c=[];Object.keys(n.files.all.ids).sort((d,u)=>this._compareFilePaths(d,u)).forEach((d,u)=>{const f=n.files.all.ids[d];a[d]=f,l[f]=u,c.push(n.nodes[f])}),n.files.all={indices:l,items:c,ids:a}}else if(i.index){const a={},l=[];Object.values(n.files.all.ids).forEach((c,d)=>{a[c]=d,l.push(n.nodes[c])}),n.files.all={indices:a,items:l,ids:n.files.all.ids}}else n.files.all.items=Object.values(n.files.all.ids).map(a=>n.nodes[a]);if(r){if(o.sort){const a={},l={},c=[];Object.keys(n.files.matched.ids).sort((d,u)=>this._compareFilePaths(d,u)).forEach((d,u)=>{const f=n.files.matched.ids[d];a[d]=f,l[f]=u,c.push(n.nodes[f])}),n.files.matched={indices:l,items:c,ids:a}}else if(i.index){const a={},l=[];Object.values(n.files.matched.ids).forEach((c,d)=>{a[c]=d,l.push(n.nodes[c])}),n.files.matched={indices:a,items:l,ids:n.files.matched.ids}}else n.files.matched.items=Object.values(n.files.matched.ids).map(a=>n.nodes[a]);this._selectTreeNode(s,n,!0,!1)}else this._selectTreeNode(s,n,!1,!1)}))}}else{const r={all:{indices:{},items:[],ids:{}},matched:{indices:{},items:[],ids:{}}},n={};let i;if(e.files.sort((o,s)=>this._compareFilePaths(o.name,s.name)).forEach((o,s)=>{o.key&&!this._state.testFileProgressByFile[o.key]&&this._setState("testFileProgressByFile",o.key.toString(),{fileId:o.key.toString(),status:"idle",remainingTimeLabel:"",duration:0,isDeterminate:!1,isIdle:!0,hasTestFileProgressTime:!1});const a=this._buildTreeRoot(o,void 0,n,!this._manualSelectionMade,void 0,void 0);a&&(n[a.node.id]=a.node,r.all.ids[o.name]=a.node.id,r.all.indices[a.node.id]=s,r.all.items.push(a.node),i=i||this._buildSelection(a?.selection,n))}),!i){const o=r.all.items[0];o&&(i=this._buildSelection(o.id,n),o.selected=!0,this._trackNode(o.id,zt.buildNodeTestPath(o),o.type==="test"),this._manualSelectionMade=!1)}this._setState("tests","foreground",{tree:{files:r,nodes:n,selection:i},details:{coverage:{},selection:{implicit:{}}}})}}updateFilter(e){function r(n,i,o){let s;if(n&&i)for(const a of n){const l=i[a.name];l&&(l.filtered&&(a.type==="test"&&l.leaf===!0?(o.add(a.id),s=a.id):a.type==="suite"&&Object.keys(l.tests).length&&o.add(a.id)),a.children&&(s=r(a.children,l.tests,o)||s))}return s}if(this._state.tests.foreground){const n=this._state.tests.foreground,i=n.search,o=new Set;let s;for(const a in e.files){const l=n.tree.files.all.ids[a],c=n.tree.nodes[l];if(c){const d=e.files[a];d?.filtered&&o.add(c.id),s=r(c.children,d?.tests,o)||s}}this._setState("tests","foreground","tree","nodes",Je(a=>{if(a)for(const l of Object.values(a))l&&(!i||l.match)&&(l.filtered=o.has(l.id))})),e.external&&s&&n.tree.nodes[s]?.filtered&&this.locateNode(s)}}updateTestFileProgress(e){this._progress||(this._progress=new AC(()=>this._state.testFileProgressByFile,(r,n)=>this._setState("testFileProgressByFile",r,n),r=>this._setState(Je(n=>{const i=n.testFileProgressByFile;for(const o in r){const s=i[o],a=r[o];s&&s.status===a.status&&s.estimatedCompletionTime===a.estimatedCompletionTime||(i[o]=s?{...s,...a}:{...a})}})))),this._progress.applyProgress(e)}updateDetails(e){const r=this._state.tests.foreground;if(r){const{logs:n,errors:i,coverage:o}=this._detailsToRequest;e.logsAndErrors&&(n||i)?(this._appService.closeFind(),this._setLogsAndErrorState(Je(s=>{const a=e.logsAndErrors,c=!!a.runError,d=a.runError?[{id:Kt,message:a.runError.message,stack:[],header:a.runError.header}]:[],u=[];a.globalErrors&&d.push(...a.globalErrors);const f=a.idsOfTestFilesWithGlobalErrors&&a.idsOfTestFilesWithGlobalErrors.length>0&&new Set(a.idsOfTestFilesWithGlobalErrors);Object.values(a.tests).forEach(m=>{if(m.errors){const b=m.errors.map((k,_)=>({...k,id:fs(k,m,_),test:m}));d.push(...b)}m.logs&&u.push(...m.logs.map(b=>({...b,test:m}))),f&&f.delete(m.path[0].toString())});let h,g;if(f){if(s.errors?.all){h=[];for(const m of s.errors.all){const b=m.test?.path?.[0];b&&f.has(b.toString())&&(h=h||[],h.push({...m,maybeObsolete:!0}))}}if(s.logs?.items){g=[];for(const b of Object.values(s.logs.items)){const k=b.test?.path?.[0];k&&f.has(k.toString())&&(b.test&&(b.test.missing=!0),g.push(...Object.values(b.logs).map(_=>({..._,maybeObsolete:!0}))))}const m=s.logs.items.global?.logs;if(m){const b={...m};a.globalLogs.forEach(k=>{delete b[k.id]}),g.push(...Object.values(b).map(k=>({...k,maybeObsolete:!0})))}}}h&&d.push(...h),g&&u.push(...g);const p={};if(d.forEach(m=>{m.maybeObsolete||ro(m,{marked:m.id&&!!r.details.selection.implicit.errors?.has(m.id)||void 0,active:r.details.selection.implicit.error===m.id,allowSkippingCompactDiff:this._appService.appSettings()[0].errors.diff?.compact==="auto"}),p[m.id]=m}),u.length>0){const m=Qt.updateLogs(this._state.tests.foreground.details,u,s.selection.log,s.logs?.showStackTraceFor);s.selection.log=m.selected,this._setLogsAndErrorState("logs",je({items:m.items,maybeObsolete:c,stackTraceToShow:m.stackTraceToShow}))}else s.logs=void 0;d.length>0?this._setLogsAndErrorState("errors",je({singleTestSelected:!1,all:d,maybeObsolete:c,allById:p})):s.errors=void 0,delete s.selection.implicit.error,delete s.selection.implicit.log}))):this._clearDetailsState(),o&&e.coverage?this._setState("tests","foreground","details","coverage","items",je(e.coverage?.sort((s,a)=>this._compareFilePaths(s.path,a.path)),{key:"path"})):this._setState("tests","foreground","details","coverage","items",void 0)}}restoreSelection(e){const r=this._state.tests.foreground;if(r){const n=this._findClosestNode(e,r.search?r.tree.files.matched:r.tree.files.all);if(n)return this.locateNode(n.id)}return!1}showSearch(){this._setState("tests","searchControlVisible",!0)}hideSearch(){this._setState("tests","searchControlVisible",!1)}_buildTreeRoot(e,r,n,i,o,s){if(e.tests){let a,l;if(e.changed&&(e.status!=="stale"||!r)||!e.changed&&e.status!=="stale"&&r?.status==="stale"){const c={id:r?r.id:(this._lastTestTreeNodeId++).toString(),key:e.key,name:e.name,type:"file",expanded:r?.expanded||!1,selected:!1,filtered:e.filtered};r&&(r.replacementId=c.id);const d=this._buildTreeNodes(e.tests,this._indexTreeNodes(r?.children),c,n,i,o,s===void 0?void 0:s);return a=d.selection,r?.children&&this._releaseTreeNodeIds(r.children,n),c.children=d.children,c.count=d.count,c.time=this._roundTime(d.time),c.status=e.status==="stale"?"stale":e.status==="failed"?"failed":c.children?.length?d.failed?"failed":"executed":"unknown",c.expanded||=d.expanded,o&&(!!(o.time||o.skipped||o.todo)?d.matched&&(l=!0,c.match={}):this._matchTreeNode(c,o,s)?l=!0:d.matched&&(l=!0,c.match={})),c.expanded?c.depth=d.depth+1:c.depth=1,{node:c,selection:a,matched:l}}else if(r){if(e.status==="stale")r.status="stale",(r.match||o&&this._matchTreeNode(r,o,s))&&(l=!0),r.children&&this._traverseTreeNodes(r.children,c=>{c.status="stale",c.match&&(l=!0)});else{const c=this._updateTreeNodes(e.tests,this._indexTreeNodes(r?.children),i,o,"");a=c.selection,r.time=this._roundTime(c.time),r.status=c.failed?"failed":"executed",r.count=c.count,r.expanded||=c.expanded,r.filtered=e.filtered,r.selected=!1,delete r.match,o&&(!!(o.time||o.skipped||o.todo)?c.matched&&(l=!0,r.match={}):this._matchTreeNode(r,o,s)?l=!0:c.matched&&(l=!0,r.match={})),r.expanded?r.depth=c.depth+1:r.depth=1}return{node:r,selection:a,matched:l}}}}_buildTreeNodes(e,r,n,i,o,s,a){const l=[];let c=0,d=0,u=0,f=0,h=!1,g=!1,p,m;for(const b of e)if(b.tests&&b.tests.length>0){const k=r?.[b.name]?.suite,_={id:(this._lastTestTreeNodeId++).toString(),type:"suite",name:b.name,expanded:k?.expanded||!1,selected:!1,filtered:b.filtered,location:b.location,parent:n};k&&(k.replacementId=_.id),i[_.id]=_;const v=this._buildTreeNodes(b.tests,this._indexTreeNodes(k?.children),_,i,o,s,a===void 0?void 0:a+" "+b.name);c+=v.time,u+=v.count.total,f+=v.count.failing,h=v.failed||h,g||=v.expanded,p||=v.selection,l.push(_),_.time=this._roundTime(v.time),_.status=v.failed?"failed":"executed",_.count=v.count,_.children=v.children,_.expanded||=v.expanded,s&&(!!(s.time||s.failed||s.skipped||s.todo||s.passed)?v.matched&&(m=!0,_.match={}):this._matchTreeNode(_,s,a)?m=!0:v.matched&&(m=!0,_.match={})),_.expanded&&(d+=v.depth+1)}else{c+=b.time||0,b.status==="failed"&&(f++,h=!0),u++,d++;const k=r?.[b.name]?.test,_={id:(this._lastTestTreeNodeId++).toString(),type:"test",name:b.name,status:b.status,time:this._roundTime(b.time),expanded:!0,selected:!1,filtered:b.filtered,location:b.location,slow:b.slow,parent:n};if(k&&(k.replacementId=_.id),i[_.id]=_,l.push(_),s){const v=this._matchTreeNode(_,s,a);v&&(_.selected=o&&b.active||!1,_.selected&&(p=_.id)),m=v||m}else _.selected=o&&b.active||!1,_.selected&&(p=_.id);g||=_.selected}return{children:e.length>0?l:void 0,time:c,count:{total:u,failing:f},failed:h,expanded:g,depth:d,selection:p,matched:m}}_updateTreeNodes(e,r,n,i,o){let s,a=0,l=0,c=0,d=0,u=!1,f=!1,h;for(const g of e)if(g.tests&&g.tests.length>0){const p=r?.[g.name]?.suite;if(p){const m=this._updateTreeNodes(g.tests,this._indexTreeNodes(p?.children),n,i,o+" "+g.name);a+=m.time,c+=m.count.total,d+=m.count.failing,u=m.failed||u,f||=m.expanded,h||=m.selection,p.time=this._roundTime(m.time),p.status=m.failed?"failed":"executed",p.count=m.count,p.expanded||=m.expanded,p.filtered=g.filtered,p.selected=!1,delete p.match,i&&(!!(i.time||i.failed||i.skipped||i.todo||i.passed)?m.matched&&(s=!0,p.match={}):this._matchTreeNode(p,i,o)?s=!0:m.matched&&(s=!0,p.match={})),p.expanded&&(l+=m.depth+1)}}else{const p=r?.[g.name]?.test;if(p){if(p.status=g.status,p.time=this._roundTime(g.time),p.expanded=!0,p.selected=!1,p.filtered=g.filtered,p.slow=g.slow,a+=g.time||0,g.status==="failed"&&(d++,u=!0),c++,l++,delete p.match,i){const m=this._matchTreeNode(p,i,o);m&&(p.selected=n&&g.active||!1,p.selected&&(h=p.id)),s=m||s}else p.selected=n&&g.active||!1,p.selected&&(h=p.id);f||=p.selected}}return{time:a,depth:l,count:{total:c,failing:d},failed:u,expanded:f,selection:h,matched:s}}_searchTreeNode(e,r,n,i,o,s){let a=!1,l,c=1,d=!1;this._matchTreeNode(e,r,s)?(a=!0,d=!0,l||(l=e.id)):n&&(a=!0,d=!0,e.match={});let u=!0;if(e.children&&e.children.length>0)for(const f of e.children){const h=this._searchTreeNode(f,r,e.match?.text&&!i||n,i,o,s+" "+e.name);h.matched&&(c+=h.depth,u=!1),a||=h.expanded,!d&&h.matched&&(d=!0,e.match={}),l||(l=h.selection)}return u&&e.type!=="test"?(e.type!=="file"&&(d=!1,delete e.match),a=!1,n=!1,c=1,e.expanded=!1):(o?e.expanded=!1:(n||a)&&(e.expanded=!0),e.expanded||(c=1)),{expanded:(n||a)&&!o,depth:c,selection:l,matched:d}}_matchTreeNode(e,r,n){if(e.match=void 0,e.type!=="test")e.type==="file"?(r.failed&&(e.status==="failed"||e.status==="stale")||r.passed&&e.status!=="failed"&&e.status!=="stale"&&e.status!=="todo"&&e.status!=="skipped")&&(e.match={status:!0},r.text&&e.name.toLowerCase().includes(r.text.toLowerCase())&&(e.match.text=!0)):r.text&&e.name.toLowerCase().includes(r.text.toLowerCase())&&(e.match||(e.match={}),e.match.text=!0);else{if(r.failed||r.todo||r.skipped||r.passed)if(r.failed&&(e.status==="failed"||e.status==="stale")||r.todo&&e.status==="todo"||r.skipped&&e.status==="skipped"||r.passed&&e.status!=="failed"&&e.status!=="stale"&&e.status!=="todo"&&e.status!=="skipped")e.match={status:!0};else return delete e.match,!1;if(r.text&&(n===void 0?e.name:n+" "+e.name).toLowerCase().includes(r.text.toLowerCase())&&(e.match||(e.match={}),e.match.text=!0),r.time)if(e.time>=r.time)e.match={},e.match.time=!0;else return delete e.match,!1}return!!e.match}_indexTreeNodes(e){if(!e||e.length===0)return;const r={};for(const n of e)if(n.type==="suite"||n.type==="test"){const i=r[n.name];i?(n.type==="suite"&&(i.suite=n),n.type==="test"&&(i.test=n)):r[n.name]={suite:n.type==="suite"?n:void 0,test:n.type==="test"?n:void 0}}return r}_releaseTreeNodeIds(e,r){for(const n of e)n.children&&this._releaseTreeNodeIds(n.children,r),this._state.tests.foreground?.tree.selection?.id===n.id&&this._setState("tests","foreground","tree","selection",{id:n.replacementId,path:this._state.tests.foreground?.tree.selection.path}),delete r[n.id]}_traverseTreeNodes(e,r){for(const n of e)r(n),n.children&&this._traverseTreeNodes(n.children,r)}_selectTreeNode(e,r,n,i){if(e){let o=!0;if(r.selection?.id!==e.id){if(r.selection&&r.selection.id){const a=r.nodes[r.selection.id];a&&(a.selected=!1)}const s=r.nodes[e.id];if(s)s.selected=!0,this._trackNode(s.id,zt.buildNodeTestPath(s),s.type==="test"),r.selection={id:s.id};else{const a=n?r.files.matched.items:r.files.all.items;if(this._manualSelectionMade=!1,a.length>0){let l=r.nodes[a[0].id];l?(this._trackNode(l.id,zt.buildNodeTestPath(l),l.type==="test"),l.selected=!0,r.selection={id:l.id},r.revelation={index:0},o=!1):(r.selection=void 0,r.revelation={index:0},o=!1,setTimeout(()=>this._untrackNode(),0))}else r.selection=void 0,o=!1,setTimeout(()=>this._untrackNode(),0)}}if(o){const s=(n?r.files.matched:r.files.all).indices[e.fileId];r.revelation?r.revelation.index=s:r.revelation={index:s},e.fileId!==e.id&&(r.revelation.id=e.id)}}else{let o=r.selection&&r.selection.id?r.nodes[r.selection.id]:void 0;if(o)o.selected=!i;else if(r.selection&&r.selection.path&&!i){const s=n?r.files.matched:r.files.all;if(o=this._findClosestNode(r.selection.path,s),o){this._trackNode(o.id,zt.buildNodeTestPath(o),o.type==="test"),o.selected=!0,r.selection=this._buildSelection(o.id,r.nodes);return}}if(i||!o){const s=n?r.files.matched.items:r.files.all.items;if(s.length>0){let a=r.nodes[s[0].id];this._manualSelectionMade=!1,a?(this._trackNode(a.id,zt.buildNodeTestPath(a),a.type==="test"),a.selected=!0,r.revelation={index:0},r.selection=this._buildSelection(a.id,r.nodes)):(r.selection=void 0,setTimeout(()=>this._untrackNode(),0))}else r.selection=void 0,setTimeout(()=>this._untrackNode(),0)}}}_countExpandedTreeNodes(e,r){let n=0;if(!e)return n;for(const i of e)i.children&&i.expanded&&(n+=this._countExpandedTreeNodes(i.children,r)),(!r||i.match)&&n++;return n}_parseSearch(e){if(e){const r={};e.indexOf("@passed")>=0&&(r.passed=!0,e=e.replaceAll("@passed","")),e.indexOf("@failed")>=0&&(r.failed=!0,e=e.replaceAll("@failed","")),e.indexOf("@todo")>=0&&(r.todo=!0,e=e.replaceAll("@todo","")),e.indexOf("@skipped")>=0&&(r.skipped=!0,e=e.replaceAll("@skipped",""));const n=e.match(/@time\s*>\s*(\d+)/g);if(n&&n.length>0&&(r.time=parseInt(n[n.length-1].replace(/@time\s*>\s*/,"")),e=e.replaceAll(/@time\s*>\s*\d+/g,"")),e.trim().length>0&&(r.text=e.trim()),r.failed||r.skipped||r.todo||r.passed||r.time||r.text)return r}}_convertSearch(e){const r=this._state.tests.foreground;if(r){let n=function(s,a){a&&(i.indexOf(s)<0?i+=`${i.length>0?" ":""}${s}`:i=i.replaceAll(s,""))};r.search||this._setState("tests","foreground","search",{raw:""});let i=(r.search.raw||"").trim();n("@failed",e.failed),n("@todo",e.todo),n("@skipped",e.skipped);const o=this._threshold()||0;if(e.slow){const s=i.match(/@time\s*>\s*(\d+)/g);s&&s.length>0?i=parseInt(s[s.length-1].replace(/@time\s*>\s*/,""))>=o?i.replaceAll(/@time\s*>\s*\d+/g,""):`${i.length>0?" ":""}@time>${o}`:i+=`${i.length>0?" ":""}@time>${o}`}return this._setState("tests","foreground","search","raw",i.trim()),!0}return!1}_compareSearch(e,r){return!e&&!r?!0:!e||!r?!1:e.text===r.text&&e.time===r.time&&e.failed===r.failed&&e.skipped===r.skipped&&e.todo===r.todo&&e.passed===r.passed}_compareFilePaths(e,r){return e=e.toLowerCase(),r=r.toLowerCase(),e<r?-1:e>r?1:0}_roundTime(e){if(e!==void 0)return e>=100?Math.round(e):Math.round((e||0)*100)/100}_buildSelection(e,r){if(e){const n=r[e];return n?{id:e,path:zt.buildNodeTestPath(n)}:{id:e}}}_findClosestNode(e,r){let n;const i=r.items.find(o=>o.key===e[0]);if(i){const o=(s,a)=>{if(a.length){const l=s.find(c=>c.name===a[0]);return l&&l.children&&a.length>1&&o(l.children,a.slice(1))||l}};i.children&&(n=o(i.children,e.slice(1))),n||(n=i)}return n}get _detailsToRequest(){if(this._appService.isIntegratedOverview())return{coverage:!1,logs:!0,errors:!0};const[e]=this._appService.appSettings(),r=this._appService.isStandalone()?e.standalone.tests.layout==="horizontal":e.tests.layout==="horizontal",n=r?!e.panels?.[pe.SideViewTestsCoverage]?.collapsed:!e.panels?.[pe.SideViewTestsAltDetailsCoverage]?.collapsed,i=r?!e.panels?.[pe.SideViewTestsLogs]?.collapsed:!e.panels?.[pe.SideViewTestsAltDetailsLogs]?.collapsed,o=r?!e.panels?.[pe.SideViewTestsErrors]?.collapsed:!e.panels?.[pe.SideViewTestsAltDetailsErrors]?.collapsed;return{coverage:n,logs:i,errors:o}}dispose(){this._disposable.dispose()}static Provider}const[HU,VU]=Ar(t=>t.initial);zt.Provider=HU;const jU=1e3;class Dt{constructor(e,r){this._state=e,this._setState=r,this._coreToApp=wa(),this._appToCore=ya(),this._appService=Ge();const n=this._setState.bind(this,"tests","foreground","details");this._testsService=new zt(e,r,n,this._appService,this._appToCore,()=>this._state.project?.thresholds.slowTest),this._disposable.add(this._coreToApp.onProject(this.onProject.bind(this))),this._disposable.add(this._coreToApp.onFilesWithCoverage(this.onFilesWithCoverage.bind(this))),this._disposable.add(this._coreToApp.onTestTree(i=>this._testsService.updateTree(i))),this._disposable.add(this._coreToApp.onTestTreeFilter(i=>this._testsService.updateFilter(i))),this._disposable.add(this._coreToApp.onTestTreeDetails(i=>this._testsService.updateDetails(i))),this._disposable.add(this._coreToApp.onTestFileProgress(i=>this._testsService.updateTestFileProgress(i.testFileProgress))),this._disposable.add(this._coreToApp.onAllLogsAndErrors(this.onAllLogsAndErrors.bind(this))),this._disposable.add(this._coreToApp.onTestDetails(this.onTestDetails.bind(this))),this._disposable.add(this._coreToApp.onSelectedEntities(this.onSelectedEntities.bind(this))),this._disposable.add(this._coreToApp.onAutoSelectedEntities(this.onAutoSelectedEntities.bind(this))),this._disposable.add(this._coreToApp.onDebuggerState(this.onDebuggerStateChanged.bind(this))),this._disposable.add(this._coreToApp.onRunError(this.onRunErrorChanged.bind(this))),this._disposable.add(()=>this._testsService.dispose()),this._appToCore.trackProjectConfig()}_coreToApp;_appToCore;_disposable=new Cr;_testsService;_appService;get tests(){return this._testsService}trackFilesWithCoverage(){this._appToCore.trackFilesWithCoverage()}untrackFilesWithCoverage(){this._appToCore.untrackFilesWithCoverage(),this._setState("fileCoverage",void 0)}trackLogs(){this._appService.optInToLogsAndErrors(),this._appToCore.trackContextLogsAndErrors(),this._startApplyingLogsDisplayLimits()}_startApplyingLogsDisplayLimits(){this._setState("displayLimits",je({logs:{apply:!0}}))}untrackLogs(){this._appService.optOutFromLogsAndErrors(),this._setState("logs",void 0),this._setState("errors",void 0),this._setState("displayLimits","logs",void 0),this._setState("displayLimits","errors",void 0)}loadRestOfLogs(){this._setState("displayLimits",je({logs:{apply:!1}})),this._appToCore.trackContextLogsAndErrors()}syncLogSelection(e){e.logs?.selection&&(this._setState("selection","log",e.logs.selection),this._state.logs?.items?.[e.logs.selection.logSource]?.logs[e.logs.selection.logOrExpressionId]&&this._setState("logs","items",e.logs.selection.logSource,"logs",e.logs.selection.logOrExpressionId,"selection",r=>({...r,active:!0})))}trackErrors(){this._appService.optInToLogsAndErrors(),this._appToCore.trackContextLogsAndErrors(),this._startApplyingErrorsDisplayLimits()}_startApplyingErrorsDisplayLimits(){this._setState("displayLimits",je({errors:{apply:!0}}))}untrackErrors(){this._appService.optOutFromLogsAndErrors(),this._setState("logs",void 0),this._setState("errors",void 0),this._setState("displayLimits","logs",void 0),this._setState("displayLimits","errors",void 0)}loadRestOfErrors(){this._setState("displayLimits",je({errors:{apply:!1}})),this._appToCore.trackContextLogsAndErrors()}syncErrorSelection(e){if(!e||!e.errors?.selection){this._setState("selection","error",void 0);return}this._setState("selection","error",e.errors.selection)}selectFileTreeItem(e,r){this.isSelectFileTreeItem(e)&&!r||(this._setState("selectedFileTreeItem",{...e,sortedItems:[]}),this._setState("selectedFileTreeItem","sortedItems",je(this._allSortedFilesWithCoverage(e))))}isSelectFileTreeItem(e){return this._state.selectedFileTreeItem&&e.pathLabel===this._state.selectedFileTreeItem.pathLabel||!1}showFileUncoveredRegions(e,r,n){this._appService.shouldOpenInEditor(n)&&this._appToCore.showFileUncoveredRegions(e,n.buttons===999),this._appService.shouldOpenInBrowser(n)&&(this._appService.openCodePanelIfRequired(!0),this._appService.openFile({file:r}))}changeFileCoverageTableSort(e){this._setState(Je(r=>{const n=r.fileCoverageTableSort;n.field===e?n.direction=n.direction==="asc"?"desc":n.direction==="desc"?"none":"asc":(n.field=e,n.direction="asc"),this._state.selectedFileTreeItem&&this._setState("selectedFileTreeItem","sortedItems",je(this._allSortedFilesWithCoverage(this._state.selectedFileTreeItem)))}))}onAllLogsAndErrors(e){this._appService.closeFind(),this._setState(Je(r=>{r.runError=e.runError;const n=!!r.runError,i=e.runError?[{id:Kt,message:e.runError.message,stack:[],header:e.runError.header}]:[],o=e.globalLogs.slice();e.globalErrors&&i.push(...e.globalErrors);const s=e.idsOfTestFilesWithGlobalErrors&&e.idsOfTestFilesWithGlobalErrors.length>0&&new Set(e.idsOfTestFilesWithGlobalErrors),a=Object.keys(r.filesWithExpressionsToEvaluate?.files||{}),l=a.length>0?new Set(a):void 0;o.forEach(h=>{h.fileId&&l?.delete(h.fileId)}),Object.values(e.tests).forEach(h=>{if(h.errors){const g=h.errors.map((p,m)=>({...p,id:fs(p,h,m),test:h}));i.push(...g)}h.logs&&o.push(...h.logs.map(g=>(g.fileId&&l?.delete(g.fileId),{...g,test:h}))),s&&s.delete(h.path[0].toString())}),l?.size!==0&&this._resetExpressionsToEvaluate(l);let c,d;if(s){if(r.errors?.all){c=[];for(const h of r.errors.all){const g=h.test?.path?.[0];g&&s.has(g.toString())&&(c=c||[],c.push({...h,maybeObsolete:!0}))}}if(r.logs?.items){d=[];for(const g of Object.values(r.logs.items)){const p=g.test?.path?.[0];p&&s.has(p.toString())&&(g.test&&(g.test.missing=!0),d.push(...Object.values(g.logs).map(m=>({...m,maybeObsolete:!0}))))}const h=r.logs.items.global?.logs;if(h){const g={...h};e.globalLogs.forEach(p=>{delete g[p.id]}),d.push(...Object.values(g).map(p=>({...p,maybeObsolete:!0})))}}}c&&i.push(...c),d&&o.push(...d),r.displayLimits?.errors?.apply?(r.displayLimits.errors.applied=i.splice($t.errors).length>0,r.displayLimits.allErrorsLimitApplied=r.displayLimits.errors.applied):r.displayLimits&&(r.displayLimits.allErrorsLimitApplied=!1,i.length<$t.errors&&this._startApplyingErrorsDisplayLimits());const u={};let f=0;if(i.forEach((h,g)=>{h.maybeObsolete?ha(h):ro(h,{marked:h.id&&!!this._state.selection.implicit.errors?.has(h.id)||void 0,active:this._state.selection.implicit.error===h.id,allowSkippingCompactDiff:this._appService.appSettings()[0].errors.diff?.compact==="auto"}),f+=h.size||0,(g>=$t.errorsWithFullDisplayOnly||g>0&&f>$t.errorSizeBytesWithFullDisplayOnly)&&(h.allowToDisplayFullyTruncated=!0),u[h.id]=h}),r.displayLimits?.logs?.apply?(r.displayLimits.logs.applied=o.splice($t.logs).length>0,r.displayLimits.allLogsLimitApplied=r.displayLimits.logs.applied):r.displayLimits&&(r.displayLimits.allLogsLimitApplied=!1,o.length<$t.logs&&this._startApplyingLogsDisplayLimits()),o.length>0){const h=Qt.updateLogs(this._state,o,r.selection.log,r.logs?.showStackTraceFor);r.selection.log=h.selected,this._setState("logs",je({items:h.items,maybeObsolete:n,stackTraceToShow:h.stackTraceToShow}))}else r.logs=void 0;i.length>0?this._setState("errors",je({singleTestSelected:!1,all:i,maybeObsolete:n,allById:u})):r.errors=void 0,delete r.selection.implicit.log}))}onTestDetails(e){this._appService.closeFind(),this._setState(Je(r=>{const n=!!r.runError;let i,o,s;if(e.missing){if(r.errors?.all){i=[];for(const d of r.errors.all)d.test?.id===e.id&&(d.maybeObsolete=!0,i.push(d))}r.logs?.items&&(o=Object.values(r.logs?.items[e.id]?.logs||{}).map(d=>({...d,maybeObsolete:!0})))}r.debuggerState?.current?.watchExpressions&&(s=Object.values(r.debuggerState.current.watchExpressions).map(d=>({id:d.id,fileId:d.fileId,watchExpressionId:d.id,value:{autoExpand:!0},watchExpressionWithNoValue:!0,loc:{file:d.file,line:d.range[0],column:d.range[1]}})));const a=(r.runError?[{id:Kt,message:r.runError.message,stack:[],header:r.runError.header}]:[]).concat(e.globalErrors||[]).concat(i||e.errors.map((d,u)=>({...d,id:fs(d,e,u),test:e})));r.displayLimits?.errors?.apply?r.displayLimits.errors.applied=a.splice($t.errors).length>0:r.displayLimits&&a.length<$t.errors&&this._startApplyingErrorsDisplayLimits();const l={};a.forEach(d=>{d.maybeObsolete||ro(d,{marked:d.id&&!!this._state.selection.implicit.errors?.has(d.id)||void 0,active:this._state.selection.implicit.error===d.id,allowSkippingCompactDiff:this._appService.appSettings()[0].errors.diff?.compact==="auto"}),l[d.id]=d});const c=(o||[]).concat(s||[]).concat(e.logs||[]);if(r.displayLimits?.logs?.apply?r.displayLimits.logs.applied=c.splice($t.logs).length>0:r.displayLimits&&c.length<$t.logs&&this._startApplyingLogsDisplayLimits(),c?.length>0){const d=Qt.updateLogs(this._state,c,r.selection.log,r.logs?.showStackTraceFor,e);r.selection.log=d.selected,this._setState("logs",je({items:d.items,maybeObsolete:n,stackTraceToShow:d.stackTraceToShow}))}else r.logs=void 0;a.length>0?this._setState("errors",je({singleTestSelected:!0,all:a,maybeObsolete:n,allById:l})):r.errors=void 0,delete r.selection.implicit.log,delete r.selection.error}))}onDebuggerStateChanged(e){this._setState("debuggerState",e.started?je(e):void 0)}onRunErrorChanged(e){const r=!!this._state.runError;!r&&!e||(this._appService.closeFind(),this._setState(Je(n=>{if(n.runError=e,e){n.errors?n.errors.maybeObsolete=!0:n.errors={singleTestSelected:!1,all:[],allById:{},maybeObsolete:!0};const i={id:Kt,message:e.message,stack:[],header:e.header};n.errors.all[0]?.id===Kt?n.errors.all[0]=i:n.errors.all.unshift(i),n.errors.allById[Kt]=i}else n.errors?.all[0]?.id===Kt&&n.errors.all.shift(),delete n.errors?.allById?.[Kt];this._setState("errors",je(n.errors)),n.logs&&(r?e||this._setState("logs",i=>({...i,maybeObsolete:void 0})):this._setState("logs",i=>({...i,maybeObsolete:!0})))})))}onAutoSelectedEntities(e){Qt.updateLogsSelection(this._state,this._setState,e.logs,{markOnly:!0})}onSelectedEntities(e){Qt.updateLogsSelection(this._state,this._setState,e.logs||[],{diagram:e.diagram})&&(this._state.displayLimits?.logs?.applied||this._state.displayLimits?.allLogsLimitApplied)&&this.loadRestOfLogs(),!e.suppressFocus&&e.logs&&e.logs.length>0&&e.target==="side-view"&&this._focus(),e.errors&&e.errors.length>0&&(this._setState("selection","error",{errorId:e.errors[0]}),!e.suppressFocus&&e.target==="side-view"&&this._focus())}_resetExpressionsToEvaluate(e){this._setState(Je(r=>{Qt.resetExpressionsToEvaluate(r,e)}))}onProject(e){this._setState("project",je(e))}onFilesWithCoverage(e){const r=this._state.project?.thresholds.lowCoverage||80,n=new Map;if(this._state.fileCoverage&&!e.full)this._setState(Je(i=>{const o=i.fileCoverage;Dt._registerFolderWithAffectedCoverage(n,o);for(const s of e.files){const a=s.path.split("/");let l=o;const c=[];for(const d of a){c.push(d),l.itemsByPath=l.itemsByPath||{};let u=Dt._getFileCoverageTreeItem(l.itemsByPath,d);const f=c.length===a.length;if(u?f&&s.action!=="removed"&&!u.file||!f&&u.file?u=this._replaceFileCoverageTreeItem(l,c.slice(),u,s,d,f):f&&(s.action==="removed"?u.file&&(this._removeFileCoverageTreeItemByPath(l,u,d),this._removeEmptyParentFolders(l)):u.coverage=s.coverage):s.action!=="removed"&&(u=Dt._addFileCoverageTreeItem(l,c.slice(),s,d,f)),!u){this._removeEmptyParentFolders(l);break}u.file||Dt._registerFolderWithAffectedCoverage(n,u),l=u}}Dt._updateAggregatedCoverage(n,r)})),this._state.selectedFileTreeItem&&n.has(this._state.selectedFileTreeItem.pathLabel)&&(this._state.selectedFileTreeItem.sortedItems.length>jU?this._setState("fileCoverageTableSort","direction","none"):this._setState("selectedFileTreeItem","sortedItems",je(this._allSortedFilesWithCoverage(this._state.selectedFileTreeItem))));else{Dt.resetVisibleItemsLimit();const i={name:this._state.project?.name||"<rootDir>",path:[],pathLabel:""};Dt._registerFolderWithAffectedCoverage(n,i);for(const o of e.files){const s=o.path.split("/");let a=i;const l=[];for(const c of s){l.push(c),a.itemsByPath=a.itemsByPath||{};let d=Dt._getFileCoverageTreeItem(a.itemsByPath,c);if(!d){const u=l.length===s.length;d={parent:a,name:c,path:l.slice(),pathLabel:l.join("/"),file:u?!0:void 0,id:u?o.id:void 0},u?d.coverage=o.coverage:Dt._registerFolderWithAffectedCoverage(n,d),Dt._setFileCoverageTreeItemByPath(a.itemsByPath,c,d)}a=d}}this._sortAllFoldersAndFilesWithCoverageByName(i),Dt._updateAggregatedCoverage(n,r),this._setState("fileCoverage",i),this.selectFileTreeItem(i,!0)}}_removeEmptyParentFolders(e){if(!e.items?.length){let r=e;for(;r.parent;){const n=r.parent;if(n.items?.length===1)r=n;else break}r.parent&&this._removeFileCoverageTreeItemByPath(r.parent,r,r.name)}}_allSortedFilesWithCoverage(e){const r=this._state.fileCoverageTableSort,n=Dt._allFilesWithCoverage(e);if(!r||r.direction==="none")return n;const i=r.direction,o=r.field==="coverageValue"?s=>s.coverage.value||0:r.field==="numberOfUncoveredRegions"?s=>s.coverage.ranges.all-s.coverage.ranges.covered:r.field==="numberOfCoverableRegions"?s=>s.coverage.ranges.all:s=>s.pathLabel;return n.sort((s,a)=>{const l=o(s),c=o(a);return l>c?i==="desc"?-1:1:l<c?i==="asc"?-1:1:0})}static _allFilesWithCoverage(e){const r=[];for(const n of e.items||[])n.file?n.coverage&&r.push(n):r.push(...Dt._allFilesWithCoverage(n));return r}_replaceFileCoverageTreeItem(e,r,n,i,o,s){return this._removeFileCoverageTreeItemByPath(e,n,o),Dt._addFileCoverageTreeItem(e,r,i,o,s)}static _addFileCoverageTreeItem(e,r,n,i,o){const s={name:i,path:r,pathLabel:r.join("/"),file:o?!0:void 0,coverage:o?n.coverage:void 0,id:o?n.id:void 0,parent:e};if(e.itemsByPath&&Dt._setFileCoverageTreeItemByPath(e.itemsByPath,i,s),e.items){const a=n_(e.items,s,Dt._fileFolderNameComparator);e.items.splice(a,0,s)}else e.items=[s];return s}_removeFileCoverageTreeItemByPath(e,r,n){if(e.itemsByPath&&Dt._setFileCoverageTreeItemByPath(e.itemsByPath,n),e.items){const i=n_(e.items,r,Dt._fileFolderNameComparator);e.items.splice(i,1)}this.isSelectFileTreeItem(r)&&this._setState("selectedFileTreeItem",void 0)}static _updateAggregatedCoverage(e,r){const n=Array.from(e.values()).sort((i,o)=>o.path.length-i.path.length);for(const i of n)i.coverage=Dt._getAggregatedCoverage(i,r)}static _registerFolderWithAffectedCoverage(e,r){e.set(r.pathLabel,r)}static _getAggregatedCoverage(e,r){if(!e.items)return;const n={low:!1,value:0,ranges:{all:0,covered:0}};let i=!1;if(e.items.reduce((o,s)=>{const a=s.coverage;return a&&(o.ranges.all+=a.ranges.all,o.ranges.covered+=a.ranges.covered,i=!0),o},n),!!i)return n.value=Math.min(100,n.ranges.all?Math.round(1e4*n.ranges.covered/n.ranges.all)/100:0),n.low=n.value<r,n}static _getFileCoverageTreeItem(e,r){return e["_p"+r]}static _setFileCoverageTreeItemByPath(e,r,n){n===void 0?delete e["_p"+r]:e["_p"+r]=n}_sortAllFoldersAndFilesWithCoverageByName(e){if(e.itemsByPath){e.items=Object.values(e.itemsByPath),e.items.sort(Dt._fileFolderNameComparator);for(const r of e.items)this._sortAllFoldersAndFilesWithCoverageByName(r)}}static _fileFolderNameComparator(e,r){const n=!e.file,i=!r.file;return n&&!i?-1:!n&&i?1:e.name<r.name?-1:e.name>r.name?1:0}dispose(){this._disposable.dispose()}_focus(){this._appService.isStandalone()||this._appToCore.focus("side-view")}static Provider;static numberOfInitiallyVisibleItems=0;static resetVisibleItemsLimit(){Dt.numberOfInitiallyVisibleItems=0}}const[zU,ei]=Ar(t=>t.initial);Dt.Provider=zU;var KU=D("<div>Only coverage for source files run by the currently <b></b> tests is displayed."),Lo=D("<br>"),XU=D('<ul class="list-disc px-3 [&amp;_li]:font-bold">'),YU=D("<li>"),JU=D("<div>"),ZU=D("<span class=kbd>Wallaby.js: Toggle Coverage Display in File Explorer"),QU=D("<b>always display code coverage in the editor file explorer"),eW=D("<b>clicking this icon twice"),tW=D("<span class=kbd>wallaby.showCoverageInExplorer"),rW=D("<span class=kbd>testing.showCoverageInExplorer"),nW=D('<div class="h-full w-full outline-none"tabindex=-1 data-namespace=details.coverage>'),iW=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[var(--subtle-foreground)]">No coverage data available'),oW=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[var(--subtle-foreground)]">Select a folder to view sortable coverage table,<br>or a file to view uncovered regions in your editor'),sW=D('<div class=expander><span class="icon codicon"></span><span class="icon codicon">'),aW=D('<div class=item><div class="header pl-[calc(var(--tree-level)*0.375rem)]"><span class=label>'),lW=D('<span class="icon codicon codicon-file pl-4 brightness-75">'),cW=D('<div class="relative h-full w-full"><div class="absolute top-0 h-[1.875rem] w-full px-2 shadow-[--widget-shadow]"><table class="w-full table-fixed text-[length:--panel-font-size] leading-[1.875rem] [&amp;_.sorter]:flex [&amp;_.sorter]:flex-col [&amp;_.sorter]:pl-1 [&amp;_.sorter_.icon]:w-2 [&amp;_.sorter_.icon]:text-[length:--icon-smallest-font-size] [&amp;_th:not(:first-child)>div]:justify-end [&amp;_th:not(:last-child)]:pr-2 [&amp;_th>div>span]:truncate [&amp;_th>div]:flex [&amp;_th>div]:items-center [&amp;_th]:text-[length:--small-header-font-size] [&amp;_th]:uppercase"><thead><tr><th class=w-[50%]></th><th class=w-[20%]></th><th class=w-[15%]></th><th class=w-[15%]></th></tr></thead></table></div><div class="scrollable absolute bottom-0 top-[1.875rem] w-full overflow-y-auto pb-1"><div><table class="w-full table-fixed text-[length:--panel-font-size] [&amp;_.coverage-indicator.low]:bg-[--editor-warning-foreground] [&amp;_.coverage-indicator.zero]:bg-[--error-foreground] [&amp;_.coverage-indicator]:absolute [&amp;_.coverage-indicator]:bottom-[-0.0625rem] [&amp;_.coverage-indicator]:h-[0.125rem] [&amp;_.coverage-indicator]:self-end [&amp;_.coverage-indicator]:bg-[--testing-icon-passed] [&amp;_.coverage]:relative [&amp;_.coverage]:flex [&amp;_.coverage]:flex-col [&amp;_.icon]:text-[length:--icon-font-size] [&amp;_tbody_tr]:h-[--panel-item-height] hover:[&amp;_tbody_tr]:bg-[var(--list-hover-background)] [&amp;_td:first-child]:cursor-pointer [&amp;_td:first-child]:pl-2 [&amp;_td:first-child_div]:truncate [&amp;_td:last-child]:!pr-3 [&amp;_td:not(:first-child)]:pr-5 [&amp;_td:not(:first-child)]:text-right [&amp;_td:not(:first-child)]:text-[length:--panel-smaller-font-size] [&amp;_td]:overflow-hidden [&amp;_td]:p-0 [&amp;_td]:leading-[var(--tree-item-line-height)] [&amp;_td_.icon]:brightness-75"><thead><tr><th class=w-[50%]></th><th class=w-[20%]></th><th class=w-[15%]></th><th class=w-[15%]></th></tr></thead><tbody>'),dW=D('<tr><td><div class="flex items-center"><span class="icon codicon codicon-file"></span><div class="min-w-0 flex-grow pl-1"></div></div></td><td><div class=coverage><div>%</div><div class=coverage-indicator></div></div></td><td></td><td>'),uW=D('<span class="icon codicon codicon-triangle-up">'),ux=D('<span class="icon codicon codicon-triangle-down">'),hW=D('<div class="header-tracking cursor-pointer select-none"><span></span><div class=sorter>'),fW=D('<span class="icon codicon codicon-triangle-up mb-[-0.1875rem]">');function gW(t){const e=ei(),r=Ge(),n=r.canShowCoverageInExplorer(),i=r.showCoverageInExplorer(),[o,s]=z(n()===!0&&i()===void 0),a=r.getRunStats(),l=r.getTestRunModeParams(),c=U(()=>a()?.filtered||l()?.smartRunMode||l()?.included?.length);return Vt(()=>{if(r.trackStats(),Dt.resetVisibleItemsLimit(),e.trackFilesWithCoverage(),n()===!0&&i()===void 0&&r.toggleCoverageInExplorer({show:!0}),t.icons([y(V,{get when(){return c()},get children(){return y(se,{class:"codicon-filter text-[--editor-warning-foreground]",tabIndex:0,namespace:"details.coverage.header.action",get tooltip(){return(()=>{var d=KU(),u=d.firstChild,f=u.nextSibling;return f.nextSibling,A(f,(()=>{var h=U(()=>!!a()?.filtered);return()=>h()?"focused":l()?.smartRunMode?"watched":"selected"})()),A(d,(()=>{var h=U(()=>!!l()?.included?.length);return()=>h()?[Lo(),Lo(),"Following test files are ",U(()=>l()?.smartRunMode?"watched":"selected"),":",(()=>{var g=XU();return A(g,y(It,{get each(){return l()?.included||[]},children:p=>(()=>{var m=YU();return A(m,p),m})()})),g})()]:void 0})(),null),d})()}})}}),y(V,{get when(){return n()!==void 0},get children(){return y(se,{class:"codicon-files",get classList(){return{"transition-all duration-[1000ms] animate-pulse":o(),activeIcon:i()===!0,specialActiveIcon:i()===void 0&&n(),disabledIcon:n()===!1}},onClick:()=>{n()&&r.toggleCoverageInExplorer({save:!0})},tabIndex:0,namespace:"details.coverage.header.action",get tooltip(){return(()=>{var d=JU();return A(d,(()=>{var u=U(()=>n()===!0);return()=>u()?[U(()=>i()!==!1?"Hide code coverage in the editor file explorer":"Show code coverage in the editor file explorer"),Lo(),Lo(),U((()=>{var f=U(()=>i()===void 0);return()=>f()?["Right now, the code coverage display is enabled in the editor file explorer because the Wallaby Coverage side view is open. Once you close it, the code coverage display will be disabled in the file explorer. If you want to ",QU(),", you can toggle it off and on by ",eW(),"."]:["If you want to display code coverage in the editor file explorer only when the Wallaby Coverage side view is open, you can change the ",tW()," ","setting in VS Code."]})()),Lo(),Lo(),["You may also use ",ZU()," ","command in VS Code to toggle the code coverage display in the file explorer."]]:["Can not toggle coverage display in file explorer because your VS Code"," ",rW()," setting does not allow it."]})()),d})()}})}})]),n()){const d=setTimeout(()=>{s(!1)},6e3);Xe(()=>{d&&clearTimeout(d)})}}),Xe(()=>{r.untrackStats(),e.untrackFilesWithCoverage(),n()===!0&&i()===void 0&&r.toggleCoverageInExplorer({})}),(()=>{var d=nW();return A(d,y(V,{get when(){return t.state.fileCoverage},get fallback(){return y(yi,{get children(){return iW()}})},get children(){return y(yr,{class:"h-full w-full",direction:"column",get children(){return[y(St,{defaultState:{size:50},get id(){return pe.SideViewCoverageTree},class:`[&_.icon]:icon-opacity flex
               w-full
               !overflow-y-auto
               text-[length:--panel-font-size]
               [&_.expander]:flex
               [&_.expander]:flex-row
               [&_.expander]:items-center
               [&_.header]:flex
               [&_.header]:h-[--panel-item-height]
               [&_.header]:cursor-pointer
               [&_.header]:flex-row
               [&_.header]:items-center
               [&_.header]:justify-center

               [&_.header]:pr-2
               [&_.header]:leading-[var(--tree-item-line-height)]
               hover:[&_.header]:bg-[var(--list-hover-background)]
               [&_.icon]:pr-1

               [&_.icon]:text-[length:--icon-font-size]
               [&_.item.selected>.header]:rounded-[var(--focus-border-radius)]
               [&_.item.selected>.header]:border-[var(--focus-border)]

               [&_.item.selected>.header]:bg-[var(--list-active-selection-background)]
               [&_.item.selected>.header]:text-[var(--list-active-selection-foreground)]
               [&_.item]:w-full


               [&_.label]:flex-grow
               [&_.label]:truncate
               [&_.label]:pb-[0.0625rem]
        `,get children(){return y(Fs,{namespace:"details.coverage.tree",get children(){return y(V,{get when(){return t.state.fileCoverage},get children(){return y(FC,{get item(){return t.state.fileCoverage}})}})}})}}),y(St,{defaultState:{size:50},get id(){return pe.SideViewCoverageTable},get children(){return y(V,{get when(){return t.state.fileCoverage&&t.state.selectedFileTreeItem},get fallback(){return y(yi,{get children(){return oW()}})},get children(){return y(pW,{get items(){return t.state.selectedFileTreeItem.sortedItems},get level(){return t.state.selectedFileTreeItem.path.length},get sort(){return t.state.fileCoverageTableSort}})}})}})]}})}})),d})()}const hx=500;function FC(t){const e=ei(),r=Ge(),n=U(()=>!t.item.file),[i,o]=z(Dt.numberOfInitiallyVisibleItems<=hx&&(!t.item.items?.length||t.item.items.length<hx/2));Dt.numberOfInitiallyVisibleItems+=t.item.items?.length||0;const s=U(()=>t.item.coverage?.low),a=U(()=>e.isSelectFileTreeItem(t.item));return(()=>{var l=aW(),c=l.firstChild,d=c.firstChild;return c.$$click=u=>{n()?e.selectFileTreeItem(t.item):r.showFileUncoveredRegions(t.item.id,t.item.path.join("/"),u)},A(c,y(V,{get when(){return n()},get fallback(){return(()=>{var u=lW();return oe(f=>{var h=!s(),g=!!s();return h!==f.e&&u.classList.toggle("text-[--testing-icon-passed]",f.e=h),g!==f.t&&u.classList.toggle("text-[--editor-warning-foreground]",f.t=g),f},{e:void 0,t:void 0}),u})()},get children(){var u=sW(),f=u.firstChild,h=f.nextSibling;return u.$$click=()=>{o(g=>!g)},oe(g=>{var p=!!i(),m=!i(),b=!!i(),k=!i();return p!==g.e&&f.classList.toggle("codicon-chevron-down",g.e=p),m!==g.t&&f.classList.toggle("codicon-chevron-right",g.t=m),b!==g.a&&h.classList.toggle("codicon-folder-opened",g.a=b),k!==g.o&&h.classList.toggle("codicon-folder",g.o=k),g},{e:void 0,t:void 0,a:void 0,o:void 0}),u}}),d),A(d,()=>t.item.name),A(c,y(Gb,{get coverage(){return t.item.coverage},get file(){return!!t.item.file}}),null),A(l,y(V,{get when(){return U(()=>!!t.item.items)()&&i()},get children(){return y(It,{get each(){return t.item.items},children:u=>y(FC,{item:u})})}}),null),oe(u=>{var f=!!a(),h=t.item.path.length+1;return f!==u.e&&l.classList.toggle("selected",u.e=f),h!==u.t&&((u.t=h)!=null?c.style.setProperty("--tree-level",h):c.style.removeProperty("--tree-level")),u},{e:void 0,t:void 0}),l})()}function pW(t){const e=Ge(),[r,n]=z(),i=vs(r),o=U(()=>t.items.map(d=>d)),s=Oa(),{list:a,containerProps:l,wrapperProps:c}=mc(o,{overscan:50,itemHeight:s});return(()=>{var d=cW(),u=d.firstChild,f=u.firstChild,h=f.firstChild,g=h.firstChild,p=g.firstChild,m=p.nextSibling,b=m.nextSibling,k=b.nextSibling,_=u.nextSibling,v=_.firstChild,x=v.firstChild,S=x.firstChild,w=S.nextSibling;return A(p,y(ol,{text:"Relative path",title:"Sort by <b>file path</b> relative to the selected folder",get sort(){return t.sort},field:"name"})),A(m,y(ol,{text:"Coverage",title:"Sort by <b>coverage</b> of the file (%)",get sort(){return t.sort},field:"coverageValue"})),A(b,y(ol,{text:"Total",title:"Sort by <b>total number of coverable branches</b> in the file",get sort(){return t.sort},field:"numberOfCoverableRegions"})),A(k,y(ol,{text:"Uncovered",title:"Sort by <b>number of not covered branches</b> in the file",get sort(){return t.sort},field:"numberOfUncoveredRegions"})),Ci(_,"scroll",l.onScroll),ae(T=>{n(T),l.ref(T)},_),A(w,y(It,{get each(){return a()},children:T=>{const L=T.data;return(()=>{var E=dW(),C=E.firstChild,F=C.firstChild,$=F.firstChild,O=$.nextSibling,M=C.nextSibling,I=M.firstChild,W=I.firstChild,q=W.firstChild,G=W.nextSibling,H=M.nextSibling,J=H.nextSibling;return C.$$click=Z=>e.showFileUncoveredRegions(L.id,L.path.join("/"),Z),ae(re,$,()=>re&&{content:L.pathLabel}),A(O,y(Od,{get text(){return L.path.slice(t.level).join("/")},tooltip:!1})),A(W,()=>L.coverage.value,q),A(H,()=>L.coverage.ranges.all),A(J,()=>L.coverage.ranges.all-L.coverage.ranges.covered),oe(Z=>{var te=!L.coverage?.low,ee=!!L.coverage?.low,le=!!L.coverage.low,de=!(L.coverage.value>0),B=L.coverage.value>0?`${L.coverage.value}%`:"2px";return te!==Z.e&&$.classList.toggle("text-[--testing-icon-passed]",Z.e=te),ee!==Z.t&&$.classList.toggle("text-[--editor-warning-foreground]",Z.t=ee),le!==Z.a&&G.classList.toggle("low",Z.a=le),de!==Z.o&&G.classList.toggle("zero",Z.o=de),B!==Z.i&&((Z.i=B)!=null?G.style.setProperty("width",B):G.style.removeProperty("width")),Z},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),E})()}})),oe(T=>{var L=!!i.y(),E=l.style,C=c().style;return L!==T.e&&u.classList.toggle("shadow-header",T.e=L),T.t=dn(_,E,T.t),T.a=dn(v,C,T.a),T},{e:void 0,t:void 0,a:void 0}),d})()}function ol(t){const e=ei(),r=U(()=>t.sort.field===t.field);return(()=>{var n=hW(),i=n.firstChild,o=i.nextSibling;return n.$$click=()=>e.changeFileCoverageTableSort(t.field),ae(re,n,()=>re&&{content:`${t.title}${r()&&t.sort.direction!=="none"?` (in ${t.sort.direction==="asc"?"ascending":"descending"} order)`:""}`}),A(i,()=>t.text),A(o,y(qt,{get fallback(){return[fW(),ux()]},get children(){return[y(Ce,{get when(){return U(()=>t.sort.direction==="asc")()&&r()},get children(){return uW()}}),y(Ce,{get when(){return U(()=>t.sort.direction==="desc")()&&r()},get children(){return ux()}})]}})),oe(()=>o.classList.toggle("opacity-50",!r()||t.sort.direction==="none")),n})()}At(["click"]);var mW=D('<span class="pt-1.5 pb-1.5 flex items-center w-full justify-center">');function Rs(t){return y(V,{get when(){return t.state?.applied},get children(){var e=mW();return A(e,y(se,{class:"codicon-cloud-download",tooltip:"Load the rest of elements",get onClick(){return t.handler}})),e}})}var vW=D('<div class="m-[0_0_0_3px] box-border flex h-[25px] min-w-[70px] flex-initial select-none p-[2px_0_0_2px] text-center align-middle leading-[23px]">'),bW=D('<div><div class="relative inset-0 w-full !overflow-visible overflow-y-clip outline-0"><div class="relative h-[41px] overflow-hidden"><div class="absolute right-[10px] z-[1] box-border h-[32px] w-[500px] min-w-[160px] max-w-[90%] overflow-hidden rounded-bl-[4px] rounded-br-[4px] bg-[--monaco-editor-widget-background] px-[4px] leading-[19px] text-[--monaco-editor-widget-foreground] shadow-[0_0_8px_2px_var(--widget-shadow)] transition-all duration-200 ease-linear"><div class="m-[3px_25px_0_17px] flex text-[12px]"><div class="relative flex flex-1 overflow-hidden align-middle"><div class=w-full><div><div class="relative h-full w-full"><textarea class="scrollbar-none m-0 box-border !block h-[23px] min-h-0 w-[calc(100%_-_6px)] resize-none bg-inherit px-[6px] py-[2px] text-[13px] text-[var(--monaco-input-foreground)] !outline-none"autocapitalize=off wrap=off></textarea></div></div></div></div><div class="flex h-[25px] items-center"><button></button><button></button></div></div><button tabindex=0 class="p-[3px] rounded-[5px] flex-initial ml-[3px] bg-center bg-no-repeat cursor-pointer flex items-center justify-center w-[unset] h-[unset] codicon codicon-close absolute right-[4px] top-[5px] hover:bg-[var(--input-option-hover-background)]"></button><div class="absolute !left-[0px] top-0 h-full !w-[2px] touch-none bg-[var(--monaco-editor-widget-border)]">');function jn(t){const r=Ge().getFindState(),n=()=>r()?.lastShowTime,[i,o]=z(!1),[s,a]=z(!1),[l,c]=z(!1),[d,u]=z(""),[f,h]=z(""),[g,p]=z(!0);let m=null,b=null,k=[],_=null;const v="p-[3px] rounded-[5px] flex-initial ml-[3px] bg-center bg-no-repeat cursor-pointer flex items-center justify-center w-[unset] h-[unset]",x="text-[var(--monaco-disabled-foreground)] !cursor-default",S="hover:bg-[var(--input-option-hover-background)]";//! If we want find buttons later:
we(n,()=>{t.isVisible()&&s()&&b&&b.focus()}),we(t.isVisible,F=>{F?(o(!0),setTimeout(()=>a(!0),0)):(a(!1),setTimeout(()=>o(!1),200)),F||u("")}),we(i,()=>{C()}),we(t.searchStatus,F=>{const $=d();F&&F.searchTerm===$&&k[k.length-1]!==$&&(k=k.filter(O=>O!==$),k.push($),k.length>20&&k.shift())}),we(d,F=>{t.mode()==="change"?(t.onUpdateSearchTerm(F),h("")):f()&&(t.onUpdateSearchTerm(""),h(""))}),yt(()=>{s()&&b&&b.focus()});const w=F=>{F.preventDefault(),F.stopPropagation()},T=F=>{w(F);const $=d();if($){if(t.mode()==="enter"&&$!==f()){h(d()),t.onUpdateSearchTerm(d());return}F.shiftKey?t.onPreviousResult():t.onNextResult()}},L=F=>{if(k.length){const $=k.indexOf(d());$>0?u(k[$-1]):u(k[k.length-1])}w(F)},E=F=>{if(k.length){const $=k.indexOf(d());$===k.length-1?u(k[0]):u(k[$+1])}w(F)},C=()=>{_?.disconnect(),m&&(_=new ResizeObserver(F=>{const $=F[0];if(!$)return;const{width:O}=$.contentRect;p(O>360)}),_.observe(m),Xe(()=>{_?.disconnect()}))};return y(V,{get when(){return i()},get children(){var F=bW(),$=F.firstChild,O=$.firstChild,M=O.firstChild,I=M.firstChild,W=I.firstChild,q=W.firstChild,G=q.firstChild,H=G.firstChild,J=H.firstChild,Z=W.nextSibling,te=Z.firstChild,ee=te.nextSibling,le=I.nextSibling;return ae(de=>m=de,$),M.$$keydown=de=>{de.key==="Escape"&&(w(de),t.onClose(!0))},M.style.setProperty("border-left","1px solid var(--monaco-widget-border)"),M.style.setProperty("border-right","1px solid var(--monaco-widget-border)"),M.style.setProperty("border-bottom","1px solid var(--monaco-widget-border)"),J.$$input=de=>{u(de.target.value)},J.$$keydown=de=>{de.key==="Enter"?T(de):de.key==="ArrowUp"?L(de):de.key==="ArrowDown"&&E(de)},J.addEventListener("blur",()=>c(!1)),J.addEventListener("focus",()=>c(!0)),ae(de=>b=de,J),Me(J,"spellcheck",!1),J.style.setProperty("scrollbar-width","none"),A(Z,y(V,{get when(){return g()},get children(){var de=vW();return A(de,y(qt,{get children(){return[y(Ce,{get when(){return!t.searchStatus()},children:"No results"}),y(Ce,{get when(){return U(()=>t.searchStatus().current!==void 0)()&&t.searchStatus().total!==void 0},get children(){return`${t.searchStatus().current} of ${t.searchStatus().total}`}}),y(Ce,{when:!0,children:"?"})]}})),de}}),te),te.$$click=()=>t.onPreviousResult(),ae(re,te,()=>re&&t.searchStatus()&&{content:'Previous Match <span class="keyboard-shortcut">Enter</span>'}),ee.$$click=()=>t.onNextResult(),ae(re,ee,()=>re&&t.searchStatus()&&{content:'Next Match <span class="keyboard-shortcut">(Enter)</span>'}),le.$$click=()=>t.onClose(!1),ae(re,le,()=>re&&{content:'Close <span class="keyboard-shortcut">Escape</span>'}),oe(de=>{var B=s()?"translateY(0)":"translateY(calc(-100% - 10px))",N=`relative box-border block min-h-[25px] w-full overflow-hidden rounded-[2px] border border-[var(--monaco-input-border,transparent)] bg-[var(--monaco-input-background)] p-0 text-[13px] text-[var(--monaco-input-foreground)] ${l()?"!border-[var(--focus-border)]":""}`,ie=l()?"Find ( for history)":"Find",ce=t.searchStatus()?0:-1,ke=`${v} codicon codicon-arrow-up ${t.searchStatus()?S:x}`,xe=t.searchStatus()?0:-1,Ae=`${v} codicon codicon-arrow-down ${t.searchStatus()?S:x}`;return B!==de.e&&((de.e=B)!=null?M.style.setProperty("transform",B):M.style.removeProperty("transform")),N!==de.t&&hr(G,de.t=N),ie!==de.a&&Me(J,"placeholder",de.a=ie),ce!==de.o&&Me(te,"tabindex",de.o=ce),ke!==de.i&&hr(te,de.i=ke),xe!==de.n&&Me(ee,"tabindex",de.n=xe),Ae!==de.s&&hr(ee,de.s=Ae),de},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),oe(()=>J.value=d()),F}})}At(["keydown","input","click"]);var _W=D('<div class="progress-container absolute bottom-0"><div class="progress-bit bg-[--progress-bar-background]">');function RC(t={}){return y(yi,{delay:e9,get when(){return t.active},get children(){var e=_W();return oe(r=>Et(e,{"active infinite":t.active},r)),e}})}var yW=D('<div class="relative h-full w-full outline-none"><div><div class="flex min-w-0 flex-grow items-center"><div class="header-font-size header-tracking min-w-0 flex-shrink select-none truncate py-0.5 pr-1 font-bold uppercase"><span class="px-0.5 pb-0.5"></span></div><div class="flex min-w-0 flex-1 justify-end overflow-hidden"></div></div><div class="flex flex-shrink-0 pr-1 leading-none [&amp;_li]:flex [&amp;_li_button]:mx-[0.0625rem] [&amp;_li_button]:!text-[length:--icon-font-size]"><ul class="flex flex-row items-center justify-center"></ul></div></div><div tabindex=-1>'),wW=D("<li>");function wr(t){const[e,r]=z(),n=vs(e);we(t.scrollable,s=>{s&&r(s)}),we(n.y,s=>{t.onVerticalScroll?.(s)}),Ii(e,([s])=>{s.contentRect.height===0&&n.measure()});const[i,o]=z(!1);return(()=>{var s=yW(),a=s.firstChild,l=a.firstChild,c=l.firstChild,d=c.firstChild,u=c.nextSibling,f=l.nextSibling,h=f.firstChild,g=a.nextSibling;return s.$$focusout=()=>o(!1),s.$$focusin=()=>{t.namespace&&t?.onFocus?.(t.namespace),o(!0)},A(a,y(RC,{get active(){return t.showProgress}}),l),ae(re,d,()=>re&&{content:t.tooltip}),A(d,()=>t.header),A(u,y(It,{get each(){return t.beforeIcons||[]},children:p=>p})),A(h,y(It,{get each(){return t.icons||[]},children:p=>(()=>{var m=wW();return A(m,p),m})()})),A(s,y(It,{get each(){return t.overlays||[]},children:p=>p}),g),ae(p=>!t.scrollable&&r(p),g),A(g,()=>t.children),oe(p=>{var m=t.tabIndex!==void 0?t.tabIndex:-1,b=t.namespace,k=!!n.y(),_=`relative flex h-7 cursor-default flex-row
                  items-center justify-center py-1 shadow-[--widget-shadow]  ${t.headerClass||""}`,v={"border-b border-b-[--focus-header-border]":i()},x=t.namespace?`${t.namespace}.content`:void 0,S=`${t.nonNativeScrollbars?"scrollable_":"scrollable"} absolute inset-0 top-7 overflow-y-auto outline-none ${t.contentClass||""}`;return m!==p.e&&Me(s,"tabindex",p.e=m),b!==p.t&&Me(s,"data-namespace",p.t=b),k!==p.a&&a.classList.toggle("shadow-header",p.a=k),_!==p.o&&hr(a,p.o=_),p.i=Et(d,v,p.i),x!==p.n&&Me(g,"data-namespace",p.n=x),S!==p.s&&hr(g,p.s=S),p},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),s})()}At(["focusin","focusout"]);function tc(t){const e=Ge();return y(se,{get class(){return`codicon-report${t.class?` ${t.class}`:""}`},get namespace(){return t.namespace},get tabIndex(){return t.tabIndex},tooltip:`Copy Wallaby diagnostics report to clipboard
            <br/><br/>
            After you copy the report, you can paste it into
            <ul class="px-3 list-disc [&_a]:text-[--link-foreground] [&_a]:underline">
            <li><a href="https://github.com/wallabyjs/public/issues/new" target="_blank">support ticket</a>,</li>
            <li><a href="mailto:hello@wallabyjs.com" target="_blank">email to Wallaby support</a>,</li>
            <li><a href="https://wallabyjs.com/chat/" target="_blank">chat message</a> in our Discord channel.</li>
            </ul>`,onClick:()=>e.copyDiagnosticsReport()})}class kW extends CustomEvent{constructor(){super("beforeErrorHighlight",{bubbles:!0,composed:!0})}}class SW extends CustomEvent{constructor(){super("afterErrorHighlight",{bubbles:!0,composed:!0})}}function Ti(t,e){const[r,n]=e().controller,i=e().prefix,o=new gv(t);let s=0,a=0,l,c;const d=f=>{if(s>0&&f.target){const h=f.target.querySelectorAll(".search-result");if(h.length>0){let g=h[0];const p=parseInt(g.getAttribute("data-search")||"0");g=h[h.length-1];const m=parseInt(g.getAttribute("data-search")||"0");p>0&&m>0&&(c={start:p,end:m})}}},u=f=>{if(l&&s>0&&c&&f.target){let h=c.start;new gv(f.target).mark(l,{className:"search-result",acrossElements:!1,separateWordSearch:!1,each:g=>{h<=c.end&&(g.id=`${i}_${h}`,s===h&&g.classList.add("search-result-active"),h++)}})}c=void 0};t.addEventListener("beforeErrorHighlight",d),Xe(()=>t.removeEventListener("beforeErrorHighlight",d)),t.addEventListener("afterErrorHighlight",u),Xe(()=>t.removeEventListener("afterErrorHighlight",u)),n({search:f=>{let h;const g=new Promise(p=>h=p);return l=f,f?o.unmark({done:()=>{o.mark(f,{className:"search-result",acrossElements:!1,separateWordSearch:!1,noMatch:()=>{s=0,a=0,h(void 0)},each:p=>{s++,s===1&&p.classList.add("search-result-active"),p.id=`${i}_${s}`,p.setAttribute("data-search",s.toString())},done:p=>{s=1,a=p;const m=t.querySelector(`#${i}_${s}`);m&&sl(m),h({current:1,total:p})}})}}):s>0?(s=0,a=0,o.unmark({element:"mark",className:"search-result",done:()=>{h(void 0)}})):h(void 0),g},jumpToNext:async()=>{let f=t.querySelector(`#${i}_${s}`);if(f&&f.classList.remove("search-result-active"),s++,s>a&&(s=1),f=t.querySelector(`#${i}_${s}`),f)return f.classList.add("search-result-active"),sl(f),{current:s,total:a}},jumpToPrevious:async()=>{let f=t.querySelector(`#${i}_${s}`);if(f&&f.classList.remove("search-result-active"),s--,s<1&&(s=a),f=t.querySelector(`#${i}_${s}`),f)return f.classList.add("search-result-active"),sl(f),{current:s,total:a}},exit:f=>{let h;const g=new Promise(p=>h=p);if(f){const p=t.querySelector(`#${i}_${s}`);if(p){const m=document.createRange();m.setStartBefore(p);const b=document.getSelection();b?.removeAllRanges(),b?.addRange(m),sl(p)}}return t.firstElementChild?.focus(),s=0,a=0,l=void 0,o.unmark({element:"mark",className:"search-result",done:()=>h()}),g}})}function sl(t){const r=t.closest("[data-id]")?.parentElement?.parentElement?.parentElement;r&&(r.scrollTop=t.offsetTop-r.getBoundingClientRect().height/2)}var xW=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[var(--subtle-foreground)]">no errors matching the selection'),TW=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[var(--subtle-foreground)]">no errors'),EW=D('<div data-vscode-context="{&quot;webviewSection&quot;: &quot;viewer&quot;, &quot;preventDefaultContextMenuItems&quot;: false}"class="pt-[0.0625rem] outline-none">'),CW=D('<div class="code mb-[0.5em] flex flex-col border-[var(--panel-view-border)] [&amp;:not(:first-child)]:border-t [&amp;:not(:first-child)]:pt-0.5">'),LW=D('<div class="flex items-center text-[length:--panel-smaller-font-size] [&amp;_.icon]:text-[length:--icon-smallest-font-size] [&amp;_.icon]:opacity-80"><div aria-role="test name"class="flex-grow opacity-80"></div><div class="ml-auto flex items-center justify-center pl-1 pr-[0.0625rem] selection:bg-transparent">'),IW=D('<div class="[&amp;>del]:text-[var(--token-scope-deleted-foreground)] [&amp;>ins]:text-[var(--token-scope-inserted-foreground)] [&amp;>span.dots]:text-[var(--token-scope-function-foreground)]"aria-role="assert diff">'),AW=D("<div class=errorForeground>"),FW=D("<div class=my-2>"),RW=D("<div>"),PW=D("<div>Select error <span class=keyboard-shortcut>S</span><br><br>Selecting an error displays it in the current view (with a side-by-side diff if available) and hides all other errors."),$W=D('<div class="errorForeground flex items-center whitespace-break-spaces"><span>'),DW=D('<div class="flex cursor-pointer items-center text-[length:--panel-subtle-font-size] opacity-80 [&amp;_.codicon]:!text-[length:--icon-smaller-font-size]"aria-role=action><span></span><span class=hover:underline>'),OW=D("<span>@ "),BW=D('<div class=tracking-tight><span class="whitespace-pre_ text-[var(--source-context-foreground)]">'),MW=D('<button class="icon clickableIcon icon-opacity codicon codicon-chevron-down py-[0.15625rem] !text-[length:80%]"tabindex=-1>'),NW=D('<div class="flex flex-row rounded-[0.1875rem] hover:bg-[var(--input-option-hover-background)]">'),GW=D('<div class="flex flex-row rounded-[0.1875rem] hover:bg-[var(--input-option-hover-background)]"><button class="icon clickableIcon icon-opacity codicon codicon-chevron-down py-[0.15625rem] !text-[length:80%]"tabindex=-1>');function Hb(t){const e=Ge(),[r]=e.appSettings(),n=()=>r.errors.fullSourceLinks,i=()=>r.errors.unmappedFiles,o=()=>r.errors.wordWrap,s=e.getDebuggerStarted(),[a,l]=t.viewerElement,[c,d]=t.revealing;return y(V,{get when(){return t.state.errors},get fallback(){return y(yi,{get children(){return TW()}})},get children(){return y(V,{get when(){return t.state.selection.error&&!t.state.errors.allById[t.state.selection.error.errorId]},get fallback(){return[(()=>{var u=EW();return u.addEventListener("paste",f=>f.preventDefault()),u.addEventListener("cut",f=>f.preventDefault()),u.$$input=()=>window.document.execCommand("undo"),ae(l,u),Me(u,"contenteditable",!0),Me(u,"spellcheck",!1),u.style.setProperty("caret-color","var(--editor-cursor-foreground)"),A(u,()=>{const f=(h,g=!0)=>{const p=U(()=>h().maybeObsolete||t.state.errors?.maybeObsolete&&h().id!==Kt),m=U(()=>h().selection);return(()=>{var b=CW();return ae(k=>{we([()=>k,m],()=>{k&&m()?.active&&(d(!0),document.getSelection()?.setPosition(k),a()?.removeAttribute("data-unfocused-scrolling"),k.parentElement?.parentElement?.parentElement&&(k.parentElement.parentElement.parentElement.scrollTop=k.offsetTop),d(!1))})},b),A(b,y(Vb,{get error(){return h()},get onSelect(){return t.onSelect},get maybeObsolete(){return p()},selectionAllowed:g,get chosen(){return m()},get showErrorsFullSourceLinks(){return n()},get showUnmappedFileSourceLinks(){return i()},get wordWrap(){return o()},get debuggerStarted(){return s()},get namespace(){return t.namespace}})),oe(k=>{var _=!!p(),v=h().id;return _!==k.e&&b.classList.toggle("opacity-50",k.e=_),v!==k.t&&Me(b,"data-id",k.t=v),k},{e:void 0,t:void 0}),b})()};return y(V,{get when(){return!t.state.selection.error},get fallback(){return f(()=>t.state.errors.allById[t.state.selection.error.errorId],!1)},get children(){return[y(On,{get each(){const h=t.state.errors.all.findIndex(g=>g.test);return t.state.errors.all.slice(0,h>-1?h:void 0)},by:h=>h.id,children:h=>f(h)}),y(On,{get each(){return Object.values(t.state.errors.allById||{}).filter(h=>h.test)},by:h=>h.id,children:h=>f(h)})]}})}),oe(()=>Me(u,"data-namespace",`${t.namespace}.errors.content.viewer`)),u})(),U(()=>t.append)]},get children(){return xW()}})}})}function Vb(t){const[e,r]=z(!1),n=Ge(),[i]=n.appSettings(),o=t.error.id===Kt,s=`${t.namespace}.errors.content.viewer.error.action`,a=U(()=>t.error.formattedMessage?.header.content!==void 0&&t.error.formattedMessage?.body.content?t.error.formattedMessage.header.content:t.error.message),l=U(()=>t.error.formattedMessage?.body.content),c=U(()=>l()&&(t.error.formattedMessage?.body.format==="html"||t.error.formattedMessage?.body.format==="diff")),d=U(()=>e()||!t.error.allowToDisplayFullyTruncated||t.error.selection?.active?!1:(t.error.size||0)>$t.errorSizeBytesToFullyTruncateIfExceeded),u=U(()=>e()?!1:(t.error.size||0)>$t.errorSizeBytesToPartiallyTruncate),f=U(()=>t.error.snapshot?"Large snapshot error":t.error.compactDiffHtml?"Large diff error":Ul(a()||"",100)||"Large error message"),h=U(()=>Ul(a()||"",$t.errorSizeBytesToPartiallyTruncate)||"Large error message"),g=U(()=>{if(!(i.errors.diff?.compact==="auto"&&t.error.formattedMessage?.body.format==="diff")){if(t.error.compactDiffHtml)return t.error.compactDiffHtml;if(t.error.expected||t.error.actual){const _={expected:t.error.expected,actual:t.error.actual,formattedMessage:t.error.formattedMessage,compactDiffHtml:void 0};return LC(_),_.compactDiffHtml}}}),p=n.isAiAvailable(),[m,b]=z(null);let k;return we([c,m,l],()=>{if(c()&&m()){k?.stop();const _=m().closest(".scrollable,.scrollable_")||m().closest(".tippy-box");_&&(k=ZL(m,async([{isIntersecting:v}])=>{if(v){k?.stop();const x=l();try{const w=(await Zv(t.error.formattedMessage?.body.format==="html"?"svelte":"diff",{lines:x.split(`
`),current:0,frame:{start:0,end:x.length}}))?.lines.map(T=>T!=="<br>"?T:"").join(`
`);if(w){const T=m();T.dispatchEvent(new kW),T.innerHTML=w,T.dispatchEvent(new SW)}}catch(S){console.error("Error body highlighting failed",S)}}},{root:_,threshold:0}))}}),[y(V,{get when(){return(t.error.test||o||t.error.snapshot||t.error.actual||t.error.expected)&&!t.omitTestName},get children(){var _=LW(),v=_.firstChild,x=v.nextSibling;return A(v,y(V,{get when(){return t.error.test},get fallback(){return t.error.header?`${t.error.header} error`:""},get children(){return y(Jv,{get test(){return t.error.test}})}})),Me(x,"contenteditable",!1),A(x,y(V,{when:o,get children(){return y(tc,{namespace:s})}}),null),A(x,y(V,{get when(){return U(()=>!!t.error.snapshot)()&&Wo(t.error.stack)?.file},get children(){return y(se,{class:"codicon-device-camera pt-[0.1875rem]",namespace:s,tooltip:"Update test snapshot <span class='keyboard-shortcut'>U</span>",onClick:()=>n.updateSnapshots(Wo(t.error.stack))})}}),null),A(x,y(V,{get when(){return t.error.test&&t.error.id&&(t.error.actual||t.error.expected)},get children(){return y(se,{class:"codicon-diff",namespace:s,get tooltip(){return"Show side-by-side diff <span class='keyboard-shortcut'>V</span>"+n.editorTooltipAddendum("diff")()},onClick:S=>{const{expected:w,actual:T}=qb(t.error);n.showSideBySideDiff({id:t.error.id,test:t.error.test.path,expected:w,actual:T},S)}})}}),null),A(x,y(V,{get when(){return t.namespace==="details"&&!t.debuggerStarted&&t.selectionAllowed},get children(){return y(se,{class:"codicon-list-filter !py-0.5 pl-0.5 pr-0.5",namespace:s,get tooltip(){return PW()},onClick:()=>t.onSelect?.(t.error.id)})}}),null),A(x,y(V,{get when(){return t.namespace==="overview"},get children(){return y(se,{class:"codicon-layout-sidebar-right !py-0.5 pl-0.5 pr-0.5",namespace:s,tooltip:'Open error in side view <span class="keyboard-shortcut">S</span>',onClick:()=>{t.error.id&&n.openInSideView(Ye.Errors,{errors:{selection:{errorId:t.error.id}}})}})}}),null),A(x,y(V,{get when(){return t.debuggerStarted&&t.error.traceFrame!==void 0},get children(){return y(se,{class:"codicon-debug-line-by-line",namespace:s,tooltip:"Step to error in debugger",onClick:()=>n.stepInDebugger({frame:t.error.traceFrame,playToExactFrame:!0})})}}),null),A(x,y(V,{get when(){return t.error.test&&!t.debuggerStarted},get children(){return y(se,{class:"codicon-filter !py-0.5 pl-0.5 pr-0.5",namespace:s,get tooltip(){return t.error.test?.focused?'Unfocus test <span class="keyboard-shortcut">F</span><br/><br/>'+ss:'Focus test <span class="keyboard-shortcut">F</span><br/><br/>'+ss},get classList(){return{"codicon-filter-filled":t.error.test?.focused}},onClick:()=>n.toggleTestFilter(t.error.test.path)})}}),null),A(x,y(V,{get when(){return t.error.test&&!t.debuggerStarted},get children(){return y(se,{class:"codicon-debug",namespace:s,tooltip:"Debug test <span class='keyboard-shortcut'>D</span>",onClick:()=>n.debug(t.error.test.path)})}}),null),A(x,y(V,{get when(){return p()&&t.error.test&&!t.debuggerStarted},get children(){return y(WW,{get error(){return t.error},namespace:s})}}),null),A(x,y(UW,{get error(){return t.error},namespace:s}),null),oe(S=>{var w=!!t.chosen?.marked,T=!!t.maybeObsolete;return w!==S.e&&v.classList.toggle("animate-hightlight",S.e=w),T!==S.t&&x.classList.toggle("invisible",S.t=T),S},{e:void 0,t:void 0}),_}}),y(V,{get when(){return!d()},get fallback(){return(()=>{var _=$W(),v=_.firstChild;return A(_,y(se,{class:"codicon-cloud-download -ml-[0.1875rem] mr-0.5 !text-[--foreground]",tooltip:"Show full error",onClick:()=>{r(!0)}}),v),A(v,f),_})()},get children(){return[y(V,{get when(){return g()},get children(){var _=IW();return oe(v=>{var x=!!t.wordWrap,S=!t.wordWrap,w=g();return x!==v.e&&_.classList.toggle("whitespace-break-spaces",v.e=x),S!==v.t&&_.classList.toggle("whitespace-pre",v.t=S),w!==v.a&&(_.innerHTML=v.a=w),v},{e:void 0,t:void 0,a:void 0}),_}}),(()=>{var _=AW();return A(_,(()=>{var v=U(()=>!!u());return()=>v()?[U(h)," ",y(se,{class:"codicon-cloud-download mb-[0.1875rem] ml-0.5 align-middle !text-[--foreground]",tooltip:"Show full error",onClick:()=>{r(!0)}})]:a()})()),oe(v=>{var x=!!t.wordWrap,S=!t.wordWrap;return x!==v.e&&_.classList.toggle("whitespace-break-spaces",v.e=x),S!==v.t&&_.classList.toggle("whitespace-pre",v.t=S),v},{e:void 0,t:void 0}),_})(),y(V,{get when(){return t.actions?.length},get children(){var _=FW();return A(_,y(It,{get each(){return t.actions},children:v=>(()=>{var x=DW(),S=x.firstChild,w=S.nextSibling;return Ci(w,"click",v.action,!0),A(w,()=>v.name),oe(()=>hr(S,`codicon pr-1 ${v.class}`)),x})()})),_}}),y(V,{get when(){return l()},get children(){var _=RW();return ae(b,_),A(_,l),oe(v=>{var x=!!t.wordWrap,S=!t.wordWrap;return x!==v.e&&_.classList.toggle("whitespace-break-spaces",v.e=x),S!==v.t&&_.classList.toggle("whitespace-pre",v.t=S),v},{e:void 0,t:void 0}),_}})]}}),y(Vo,{get each(){return U(()=>!!(t.showUnmappedFileSourceLinks||!t.error.test&&t.error.noMappedStack))()?t.error.stack:t.error.stack.filter(_=>!_.notMappedFile)},children:_=>(()=>{var v=BW(),x=v.firstChild;return A(x,()=>_().context),A(v,y(V,{get when(){return _().file},get children(){return[OW(),y(vi,{get classList(){return{"[&_span]:!no-underline":t.maybeObsolete,"!cursor-default":t.maybeObsolete,"!text-[var(--subtle-foreground)]":t.maybeObsolete,"opacity-70":_().notMappedFile}},codeFragmentTooltipOptions:()=>!t.maybeObsolete&&_().file&&_().line?{file:_().file,line:_().line,column:_().column,navigatable:!0}:void 0,get value(){return _()},get compactFileNameOnly(){return!t.showErrorsFullSourceLinks},textModeOptions:{addSpace:!0,contentEditable:!0}})]}}),null),oe(S=>{var w=!!t.wordWrap,T=!t.wordWrap;return w!==S.e&&v.classList.toggle("whitespace-break-spaces",S.e=w),T!==S.t&&v.classList.toggle("whitespace-pre",S.t=T),S},{e:void 0,t:void 0}),v})()})]}function UW(t){const e=Ge(),[r,n]=z(!1),i=h=>e.navigate(l(),h),o=h=>e.navigate(d(),h),s=h=>e.navigate(c(),h),a=h=>e.navigate(t.error.test?.location,h),l=()=>Wo(t.error.stack),c=()=>t.error.stack.find(h=>!h.notMappedFile&&h.file!==t.error.test?.location?.file),d=()=>t.error.test?.location&&[...t.error.stack].reverse().find(h=>!h.notMappedFile&&h.file===t.error.test.location.file),u=()=>!!t.error.test?.location,f=()=>{const h=[];return c()||d()?(c()&&h.push({text:"Open error in source",action:s}),d()&&h.push({text:"Open error in test",action:o})):h.push({text:"Open error",action:i,shortcut:"Enter"}),t.error.test?.location&&h.push({text:"Open test definition",action:a}),h};return y(V,{get when(){return l()},get children(){var h=NW();return A(h,y(se,{class:"codicon-go-to-file pl-[0.09375rem] pr-[0.21875rem]",get classList(){return{"mr-[-0.075rem]":u()}},get namespace(){return t.namespace},get tooltip(){return"Open error line in editor <span class='keyboard-shortcut'>Enter</span>"+e.editorTooltipAddendum()()},onClick:i}),null),A(h,y(V,{get when(){return u()},get children(){var g=MW();return ae(re,g,()=>re&&{content:"More open options"}),g.$$click=()=>n(!r()),ae(_i,g,()=>_i&&{menuItemFactory:f,menuOpen:[r,n]}),oe(()=>Me(g,"data-namespace",t.namespace)),g}}),null),h}})}function km(t,e,r){return()=>t.investigateWithAi({...r,testData:{path:r.test.path,file:r.test?.location?.file}},WU(e,r,r.test.path))}function WW(t){const e=Ge(),[r,n]=z(!1),i=km(e,"investigation",t.error),o=km(e,"directFix",t.error),s=km(e,"analyticalFix",t.error),a=()=>[{text:"Analytical fix",action:s,shortcut:"Agent mode"},{text:"Direct fix",action:o,shortcut:"Agent mode"},{text:"Investigation only",action:i,shortcut:"Agent mode"}];return(()=>{var l=GW(),c=l.firstChild;return A(l,y(se,{class:"codicon-copilot mr-[-0.075rem] pb-[0.17625rem] pt-[0.12625rem]",get namespace(){return t.namespace},tooltip:`Investigate error with AI<br/><br/>${QA}`,onClick:s}),c),ae(re,c,()=>re&&{content:"More open options"}),c.$$click=()=>n(!r()),ae(_i,c,()=>_i&&{menuItemFactory:a,menuOpen:[r,n]}),oe(()=>Me(c,"data-namespace",t.namespace)),l})()}At(["input","click"]);var qW=D("<div>Select most recent error<br><br>Selecting an error displays it in the current view (with a side-by-side diff if available) and hides all other errors."),HW=D('<div class="panel-font-size absolute inset-0 flex flex-col pl-2.5 pr-1"data-namespace=details.errors.content>'),VW=D('<div class="h-full w-full outline-none"tabindex=-1 data-namespace=details.errors>'),jW=D('<div class="h-full w-full flex-grow [&amp;_.monaco-editor-background]:bg-[var(--panel-view-background)] [&amp;_.monaco-editor]:bg-[var(--panel-view-background)] [&amp;_.monaco-editor_.margin]:bg-[var(--panel-view-background)] monaco-colors-container">');function zW(t){const e=ei(),r=Ge(),[n,i]=r.appSettings(),o=r.getSideViewTab(),s=()=>n.errors.fullSourceLinks,a=()=>n.errors.unmappedFiles,l=()=>n.errors.wordWrap,c=()=>n.errors.diff?.compact!=="auto",d=z(),[u]=d,f=z(!1),[h]=f,g=r.getFindState(),[p,m]=z(),b=z(),[k]=b,_=U(()=>{if(t.state.selection.error||t.state.errors?.all.length===1){const $=t.state.selection.error?t.state.errors?.allById?.[t.state.selection.error.errorId]:t.state.errors?.all[0];if($&&$?.actual!=null&&$?.expected!=null){const{expected:O,actual:M}=qb($);return{expected:O,actual:M}}}}),v=()=>!!n.errors.diff?.wordWrap,x=()=>!!n.errors.diff?.useInlineViewWhenSpaceIsLimited,S=()=>!!n.errors.diff?.hideUnchangedRegions,[w,T]=z(void 0,{equals:()=>!1}),[L,E]=z(void 0,{equals:()=>!1}),C=()=>{const $=[];return $.push({text:"Display non-user code stack entries",action:()=>i("errors","unmappedFiles",!a()),checked:a()}),$.push({text:"Display file path in source links",action:()=>i("errors","fullSourceLinks",!s()),checked:s()}),$.push({text:"Display intra-line diff only if no line diff is available",action:()=>i("errors",Je(O=>{O.diff||(O.diff={}),O.diff.compact=c()?"auto":"always"})),checked:!c()}),$};Vt(()=>{e.trackErrors(),t.icons([y(V,{get when(){return U(()=>!!t.state.errors?.all.length)()&&!r.getDebuggerStarted()()},get children(){return y(se,{class:"codicon-list-filter",get classList(){return{activeIcon:!!t.state.selection.error}},onClick:()=>{t.state.selection.error?e.syncErrorSelection():e.syncErrorSelection({errors:{selection:{errorId:t.state.errors?.all.length&&t.state.errors?.all[0].id||""}}}),u()?.focus()},tabIndex:0,namespace:"details.errors.header.action",get tooltip(){return U(()=>!t.state.selection.error)()?qW():"Show all errors"}})}}),y(se,{class:"codicon-word-wrap",get classList(){return{activeIcon:l()}},onClick:()=>i("errors","wordWrap",!l()),tabIndex:0,namespace:"details.errors.header.action",tooltip:"Toggle word wrap in error messages"}),y(se,{menuItems:C,class:"codicon-ellipsis",tabIndex:0,namespace:"details.errors.header.action",tooltip:"More actions"})])}),Xe(()=>{e.untrackErrors()}),we(()=>o().state,$=>{$&&e.syncErrorSelection($)});let F=r.getDebuggerStarted()();return we(r.getDebuggerStarted(),$=>{F!==$&&(F=$,e.syncErrorSelection())}),(()=>{var $=VW();return A($,y(yr,{class:"foreground h-full w-full",direction:"column",get children(){return[y(St,{defaultState:{size:50},get id(){return pe.SideViewErrorsViewer},get children(){return y(Fs,{onVerticalScroll:O=>{O>0&&!h()&&u()&&(document.hasFocus()?u()?.hasAttribute("data-unfocused-scrolling")&&u()?.removeAttribute("data-unfocused-scrolling"):u()?.setAttribute("data-unfocused-scrolling","true"))},get overlays(){return[y(jn,{onUpdateSearchTerm:async O=>{const M=await k()?.search(O);m(M?{searchTerm:O,current:M?.current,total:M?.total}:void 0)},onNextResult:async()=>{const O=await k()?.jumpToNext();m(O?{current:O?.current,total:O?.total}:void 0)},onPreviousResult:async()=>{const O=await k()?.jumpToPrevious();m(O?{current:O?.current,total:O?.total}:void 0)},onClose:async O=>{await k()?.exit(O),r.closeFind()},searchStatus:p,isVisible:()=>g()?.namespace==="details.errors",mode:()=>"enter"})]},get children(){var O=HW();return ae(Ti,O,()=>Ti&&{controller:b,prefix:"de"}),A(O,y(Hb,{get state(){return t.state},namespace:"details",viewerElement:d,revealing:f,onSelect:M=>e.syncErrorSelection({errors:{selection:{errorId:M}}}),get append(){return y(Rs,{get state(){return t.state.displayLimits?.errors},handler:()=>e.loadRestOfErrors()})}})),O}})}}),y(V,{get when(){return _()},get children(){return y(St,{defaultState:{size:50},get id(){return pe.SideViewErrorsDetails},get children(){return y(wr,{header:"Expected vs Actual",headerClass:"pl-2 [&_span]:!pl-0",contentClass:"w-full text-[length:--panel-font-size]",namespace:"details.errors.diff",tabIndex:0,get icons(){return[y(se,{class:"codicon-arrow-up",tooltip:"Previous change <span class='keyboard-shortcut'>P</span>",namespace:"details.errors.diff.header.action",onClick:()=>{E()},tabIndex:0}),y(se,{class:"codicon-arrow-down",namespace:"details.errors.diff.header.action",tooltip:"Next change <span class='keyboard-shortcut'>N</span>",onClick:()=>{T()},tabIndex:0}),y(se,{class:"codicon-word-wrap",namespace:"details.errors.diff.header.action",get classList(){return{activeIcon:v()}},onClick:()=>{i("errors",Je(O=>{O.diff||(O.diff={}),O.diff.wordWrap=!O.diff.wordWrap}))},tabIndex:0,tooltip:"Toggle word wrap"}),y(se,{class:"codicon-diff",namespace:"details.errors.diff.header.action",get classList(){return{activeIcon:!x()}},tooltip:`Toggle forcing side-by-side diff view<br/><br/>${W5}`,onClick:()=>{i("errors",Je(O=>{O.diff||(O.diff={}),O.diff.useInlineViewWhenSpaceIsLimited=!O.diff.useInlineViewWhenSpaceIsLimited}))},tabIndex:0}),y(se,{get classList(){return{"codicon-map":!S(),"codicon-map-filled":S()}},namespace:"details.errors.diff.header.action",tooltip:"Toggle collapsing unchanged regions",onClick:()=>{i("errors",Je(O=>{O.diff||(O.diff={}),O.diff.hideUnchangedRegions=!O.diff.hideUnchangedRegions}))},tabIndex:0})]},get children(){return y(KW,{get diff(){return _()},get options(){return{wrapWord:v(),useInlineViewWhenSpaceIsLimited:x(),hideUnchangedRegions:S()}},prevChange:L,nextChange:w,onEscape:()=>u()?.focus()})}})}})}})]}})),$})()}const KW=t=>{let e,r;Vt(async()=>{try{const{monaco:i,inject:o}=await qr(()=>import("./monaco-yhPQzIoc.js"),__vite__mapDeps([2,3]),import.meta.url);r=n(i),await o();const s=t.diff.actual,a=t.diff.expected;r.setModel({original:i.editor.createModel(a||"","text/plain"),modified:i.editor.createModel(s||"","text/plain")}),r.addCommand(i.KeyCode.KeyP,()=>r?.goToDiff("previous"),"!findWidgetVisible && isInDiffEditor"),r.addCommand(i.KeyCode.KeyN,()=>r?.goToDiff("next"),"!findWidgetVisible && isInDiffEditor"),r.addCommand(i.KeyCode.Escape,()=>t.onEscape?.(),"!editorHasSelection && !editorHasMultipleSelections && !findWidgetVisible && isInDiffEditor"),r?.revealFirstDiff()}catch(i){console.error("Could not initialize Monaco",i)}}),Xe(()=>{const i=r?.getModel();i?.modified.dispose(),i?.original.dispose(),r?.dispose()}),we([()=>t.diff],()=>{const i=t.diff.actual,o=t.diff.expected;if(!i&&!o)return;const s=r?.getModel();s&&(s.original.getValue()!==o&&s.original.setValue(o),s.modified.getValue()!==i&&s.modified.applyEdits([{range:s.modified.getFullModelRange(),text:i}]))},{defer:!0}),we([t.prevChange],()=>{r?.goToDiff("previous")},{defer:!0}),we([t.nextChange],()=>{r?.goToDiff("next")},{defer:!0}),we([()=>t.options.wrapWord,()=>t.options.useInlineViewWhenSpaceIsLimited,()=>t.options.hideUnchangedRegions],()=>{r?.updateOptions({wordWrap:t.options.wrapWord?"on":"off",useInlineViewWhenSpaceIsLimited:t.options.useInlineViewWhenSpaceIsLimited,hideUnchangedRegions:{enabled:t.options.hideUnchangedRegions}})});const n=i=>{const o=parseFloat(getComputedStyle(document.body)?.getPropertyValue("--panel-font-size").split("px")[0])-1;return i.editor.createDiffEditor(e,{wordWrap:t.options.wrapWord?"on":"off",guides:{indentation:!1},useInlineViewWhenSpaceIsLimited:t.options.useInlineViewWhenSpaceIsLimited,hideUnchangedRegions:{enabled:t.options.hideUnchangedRegions},renderIndicators:!0,lineNumbers:"on",renderLineHighlight:"none",renderMarginRevertIcon:!1,renderGutterMenu:!1,originalEditable:!1,glyphMargin:!1,automaticLayout:!0,minimap:{enabled:!1},contextmenu:!1,quickSuggestions:!1,parameterHints:{enabled:!1},readOnly:!0,fontSize:o,fontFamily:"var(--editor-font-family)",padding:{top:9},scrollbar:{horizontalScrollbarSize:13,verticalScrollbarSize:13,horizontal:"hidden",vertical:"visible"},tabIndex:0,matchBrackets:"never",cursorBlinking:"blink"})};return(()=>{var i=jW(),o=e;return typeof o=="function"?ae(o,i):e=i,i})()};var XW=D('<div class="absolute inset-0 flex flex-col">'),YW=D('<div class="relative h-full w-full"><div class="panel-font-size absolute inset-0 overflow-y-auto">');function JW(t){const e=ei(),r=Ge(),n=io(),[i,o]=r.appSettings(),s=()=>i.logs.fullSourceLinks,a=()=>i.logs.headers,l=()=>i.logs.context,c=()=>r.getDebuggerStarted()(),[d,u]=z(void 0,{equals:!1}),[f,h]=z(!1),g=r.getFindState(),[p,m]=z(),b=z(),[k]=b,[_,v]=z();Vt(()=>{e.trackLogs()});const x=()=>{const T=[];return c()||T.push({text:"Display log test headers",action:()=>o("logs","headers",!a()),checked:a()}),T.push({text:"Display file name in source links",action:()=>o("logs","fullSourceLinks",!s()),checked:s()}),T.push({text:"Display value context when available",action:()=>o("logs","context",!l()),checked:l()}),T};we(_,()=>{const T=_();T?t.icons(y(It,{each:T,children:L=>L})):t.icons([y(se,{class:"codicon-fold-up",onClick:()=>u(),tabIndex:0,namespace:"details.logs.header.action",tooltip:"Fold all expanded log entries"}),y(se,{menuItems:x,class:"codicon-ellipsis",tabIndex:0,namespace:"details.logs.header.action",tooltip:"More actions"})])}),we(()=>t.state.logs,T=>{T&&h(!0)}),we([()=>r.getSideViewTab()().state,f],()=>{const T=r.getSideViewTab()().state;T&&f()&&e.syncLogSelection(T)}),Xe(()=>{e.untrackLogs()});const[S,w]=z();return(()=>{var T=YW(),L=T.firstChild;return A(L,y(Fs,{scrollable:S,namespace:"details.logs",get overlays(){return[y(jn,{onUpdateSearchTerm:async E=>{const C=await k()?.search(E);m(C?{searchTerm:E,current:C?.current,total:C?.total}:void 0)},onNextResult:async()=>{const E=await k()?.jumpToNext();m(E?{current:E?.current,total:E?.total}:void 0)},onPreviousResult:async()=>{const E=await k()?.jumpToPrevious();m(E?{current:E?.current,total:E?.total}:void 0)},onClose:async E=>{await k()?.exit(E),r.closeFind()},searchStatus:p,isVisible:()=>g()?.namespace==="details.logs",mode:()=>"enter"})]},get children(){var E=XW();return ae(Ln,E,()=>Ln&&{controller:b,prefix:"dl"}),A(E,y($a,{get state(){return t.state},service:n,namespace:"details",get onFocus(){return t.onFocus},foldAllOpenedLogs:d,scrollableElementRef:w,get append(){return y(Rs,{get state(){return t.state.displayLimits?.logs},handler:()=>e.loadRestOfLogs()})},icons:v})),E}})),T})()}function PC(t){const r=Ge().getStatus(),n=()=>{const i=["idle","configurationError","pendingCannotDetermineTestsToRun","pendingInvalidSyntax","pendingSmartStart"],o=r().state;return!i.includes(o)};return y(V,{get when(){return n()},get children(){return y(se,{class:"text-[--editor-warning-foreground] hover:!bg-[unset] cursor-auto codicon-loading codicon-modifier-spin"})}})}function ZW({onlyFirst:t=!1}={}){const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}const QW=ZW();function eq(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(QW,"")}const fx={diagnosticsCopied:t=>({type:"log",message:"Diagnostics report has been successfully copied to clipboard."}),console:t=>({type:"log",message:`console.${t.type}: ${t.message}`}),invalidBabelVersion:t=>({type:"error",message:`Babel version for compiler must be >= ${t.minVersion}`}),genericError:t=>({type:"error",message:t.message}),genericWarning:t=>({type:"warn",message:t.message}),secureLinkToLaunchLegacyUiService:t=>({type:"log",message:`To launch Wallaby App, open this link in your browser: ${t.url}`}),nodeRunnerStdErr:t=>({type:"error",message:t.message}),possiblyIncompatiblePatch:t=>({type:"warn",message:t.message}),uiServiceReady:t=>({type:"log",message:t.port?`Wallaby Linked Mode is available at http://localhost:${t.port}`:"Wallaby App (realtime reports) is available at http://localhost:51245"}),cannotDetermineTestsToRun:t=>{let e="Can't determine tests to run for the change.";return t.onlyRunSelectedTestFiles||(t.runAllTestsWhenNoAffectedTests?e+="\nTo prevent the full test run when can not determine tests to run, use `runAllTestsWhenNoAffectedTests: false` configuration option.":e+="\nTo run all tests when can not determine tests to run, use `runAllTestsWhenNoAffectedTests: true` configuration option."),{type:"log",message:e}},longRunningSetupTeardown:t=>({type:"warn",message:`Some long running code has been detected: ${t.type==="setup"?"Global Setup":"Global Teardown"}`}),finishedExecuting:t=>{let e=t.duration,r="millisecond(s)";return e>1e3&&(e=e/1e3,r="second(s)",e>60&&(e=e/60,r="minute(s)")),{type:"log",message:`Finished executing ${t.numberTests} affected test(s) in ${Math.round(e*100)/100} ${r}`}},testProgress:t=>({type:"log",message:t.message}),waitingForGlobalSetupTeardown:t=>({type:"log",message:`[${t.sessionId}] Global Setup and Teardown is not complete, waiting for ${t.timeoutMs}ms before recycling worker`}),recyclingWorker:t=>({type:"error",message:`[${t.sessionId}] ${t.reason}, recycling worker.`}),postProcessorLog:t=>({type:"log",message:t.message}),startupInfo:t=>({type:"log",message:t.message}),testTask:t=>({type:"log",message:t.message})};var tq=D('<div class="h-full w-full flex-grow monaco-colors-container [&amp;_.monaco-editor-background]:bg-[var(--panel-view-background)] [&amp;_.monaco-editor]:bg-[var(--panel-view-background)] [&amp;_.monaco-editor_.margin]:bg-[var(--panel-view-background)]">');function $C(t){let e;const r=new Set,n=Ge(),[i,o]=n.appSettings(),s=()=>i.consoleOutput.autoScroll,a=()=>i.consoleOutput.wordWrap||l(),[l,c]=z(t.wordWrap),d=n.getDiagnosticMessagesEmitter();let u,f;const h=[],g=b=>{if(!f||!u)return;const k=f.getModel();b.forEach(_=>{if(!fx[_.name])return;const v=fx[_.name](_);if(!v)return;if(h.length>1e4){const C=h.shift();k.applyEdits([{range:new u.Range(1,0,C,0),text:null}])}const x=k.getLineCount(),S=k.getLineLength(x),w=new u.Range(x,S+1,x,S+1),T=new Date(_.time).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3}),L=v.type==="error"?"[ERROR]":v.type==="log"?"[INFO]":"[WARN]",E=eq(v.message);if(E){const C=E.split(`
`);h.push(C.length+2),k.applyEdits([{range:w,text:`${T} ${L} ${E}
`}])}}),s()&&f.revealLine(k.getLineCount())},p=b=>{g(b),d.on("incremental",g)},m=b=>{const k=b.editor.createModel("","console"),_=parseFloat(getComputedStyle(document.body)?.getPropertyValue("--panel-font-size").split("px")[0])-1;return b.editor.create(e,{model:k,automaticLayout:!0,minimap:{enabled:!1},contextmenu:!1,quickSuggestions:!1,parameterHints:{enabled:!1},readOnly:!0,fontSize:_,fontFamily:"var(--editor-font-family)",renderLineHighlightOnlyWhenFocus:!0,renderLineHighlight:"line",matchBrackets:"never",glyphMargin:!1,lineNumbers:"off",folding:!1,detectIndentation:!1,guides:{indentation:!1,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveBracketPair:!1,highlightActiveIndentation:!1},wordWrap:a()?"on":"off"})};return Vt(async()=>{try{const{monaco:b,inject:k}=await qr(()=>import("./monaco-yhPQzIoc.js"),__vite__mapDeps([2,3]),import.meta.url),_=m(b);await k(),u=b,f=_,f.addCommand(u.KeyCode.Escape,()=>n.focus("editor"),"!editorHasSelection && !editorHasMultipleSelections && !findWidgetVisible"),n.trackDiagnosticMessages(),d.once("initial",p)}catch(b){console.error("Could not initialize Monaco",b)}}),Xe(()=>{f&&(n.untrackDiagnosticMessages(),d.off("initial",p),d.off("incremental",g),r.forEach(b=>b.dispose()),f.getModel()?.dispose(),f.dispose())}),we([a],()=>{f&&f.updateOptions({wordWrap:a()?"on":"off"})}),y(wr,{get header(){return t.header||"Console"},headerClass:"pl-2",get icons(){return[y(se,{class:"codicon-clear-all",onClick:()=>{if(!f||!u)return;const b=f.getModel();b&&(b.applyEdits([{range:new u.Range(1,0,b.getLineCount(),0),text:null}]),n.clearPreviousDiagnosticMessages())},tabIndex:0,get namespace(){return`${t.namespace}.header.action`},tooltip:"Clear Output"}),y(se,{class:"codicon-word-wrap",get classList(){return{activeIcon:a()}},onClick:()=>{o("consoleOutput","wordWrap",!a()),t.wordWrap&&c(!a())},tabIndex:0,get namespace(){return`${t.namespace}.header.action`},get tooltip(){return"Turn Word Wrap "+(a()?"Off":"On")}}),y(se,{get class(){return s()?"codicon-lock":"codicon-unlock"},onClick:()=>o("consoleOutput","autoScroll",!s()),tabIndex:0,get namespace(){return`${t.namespace}.header.action`},get tooltip(){return"Turn Auto Scrolling "+(s()?"Off":"On")}})]},contentClass:"top-7",get children(){var b=tq(),k=e;return typeof k=="function"?ae(k,b):e=b,b}})}var rq=D("<div>"),nq=D('<span class="codicon codicon-circle cursor-auto">'),iq=D('<svg class=text-[--editor-warning-foreground] width=13 height=13 viewBox="0 0 13 13"><circle cx=6.5 cy=6.5 r=5.5 fill=none stroke=currentColor stroke-width=1 stroke-dasharray=44 stroke-dashoffset=44>'),oq=D('<span class="codicon codicon-circle-filled icon-opacity text-[--testing-icon-failed]">'),sq=D('<span class="codicon codicon-circle-filled icon-opacity text-[--testing-icon-passed]">'),aq=D('<div class="mx-1 pt-[0.08rem] text-right font-mono text-[length:80%] text-[var(--subtle-foreground)]">(<!>)'),lq=D('<div class="mx-1 flex cursor-pointer items-center text-[--editor-warning-foreground]"><span class="codicon codicon-watch pr-0.5">'),cq=D("<span class=px-[0.12rem]>/"),dq=D("<div class=cursor-pointer>"),uq=D('<div class="flex h-[--panel-item-height] items-center truncate pl-3 outline-none hover:bg-[var(--list-hover-background)] [&amp;_.codicon]:text-[length:--panel-font-size]"><div class="flex h-[--panel-item-height] cursor-pointer items-center"></div><div class="min-w-0 flex-grow cursor-pointer overflow-hidden text-ellipsis whitespace-nowrap pl-1"></div><div class="mx-1 pt-[0.08rem] font-mono text-[length:80%]"></div><div class=mx-1>'),hq=D('<span class="codicon codicon-loading codicon-modifier-spin cursor-auto text-[--editor-warning-foreground]">'),Js=D('<div class="codicon codicon-loading codicon-modifier-spin icon-opacity">'),fq=D("<div class=ml-2>Post Processing Files"),gq=D('<div class="mx-1 text-right font-mono lowercase">(<!>)'),pq=D("<div class=ml-2>Loading Configuration"),mq=D("<div class=ml-2>Discovering Testing Framework"),vq=D("<div class=ml-2>Scanning File System"),bq=D("<div class=ml-2>Loading Project"),_q=D('<div class="ml-2 text-center"><p>Cannot start due to syntax errors,</p><p>please fix any syntax errors.'),yq=D("<div class=ml-2>Cannot Determine Tests to Run"),wq=D('<div class="ml-2 text-center"><p>Started with Smart Start,</p><p>Open or edit a file to start running tests.'),kq=D("<div class=ml-2>An error occurred when starting Wallaby"),Sq=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[var(--subtle-foreground)]">'),xq=D("<div class=ml-2>Starting Wallaby"),Tq=D('<div class="absolute top-0 h-[1.875rem] w-full pl-2 shadow-[--widget-shadow]"><div class="flex w-full text-[length:--small-header-font-size] font-bold leading-[1.875rem] uppercase"><div class=flex-1><div class="header-tracking select-none flex items-center"><span class=truncate>CHANGE / ACTION RELATED TEST FILES</span></div></div><div class=w-20><div class="header-tracking select-none flex items-center justify-end mx-1"><span class="mx-1 truncate"># TESTS'),Eq=D('<div class="scrollable absolute bottom-0 top-[1.875rem] w-full overflow-y-auto pb-1"><div>');function Cq(t){const e=Date.now(),[r,n]=z(t.displayAfter<e);return r()||yt(()=>{const i=setTimeout(()=>{n(!0)},Math.max(0,t.displayAfter-e));Xe(()=>clearTimeout(i))}),(()=>{var i=rq();return A(i,()=>r()?t.children:null),i})()}const Lq=t=>{const[e,r]=z(0),[n,i]=z(0);we(()=>t.testFile.estimatedCompletionTime,()=>{if(t.testFile.estimatedCompletionTime!==void 0){const s=t.testFile.estimatedCompletionTime,a=s-Date.now();if(a>0){r(a),i(a);const l=setTimeout(()=>{r(0)},a),c=setInterval(()=>{const d=Math.max(0,s-Date.now());i(s-Date.now()),d===0&&clearInterval(c)},50);Xe(()=>{clearTimeout(l),clearInterval(c)})}else r(0),i(0)}});const o=U(()=>{switch(t.testFile.status){case"notStarted":return"<b>Test file execution has not started</b><br>"+t.testFile.path;case"running":const s="<b>Test file execution in progress</b>: "+t.testFile.path;return t.testFile.numberOfTests===0?s:s+`<br><br><b>Pending</b>: ${t.testFile.numberOfTests-t.testFile.numberOfPassingTests-t.testFile.numberOfFailingTests}<br><b>Failing</b>: ${t.testFile.numberOfFailingTests}<br><b>Passing</b>: ${t.testFile.numberOfPassingTests-t.testFile.numberOfSkippedTests-t.testFile.numberOfTodoTests}<br>`+(t.testFile.numberOfSkippedTests>0?`<b>Skipped</b>: ${t.testFile.numberOfSkippedTests}<br>`:"")+(t.testFile.numberOfTodoTests>0?`<b>Todo</b>: ${t.testFile.numberOfTodoTests}<br>`:"")+`<b>Total</b>: ${t.testFile.numberOfTests}`;case"complete":return"<b>Test file execution complete</b>: "+t.testFile.path+`<br><br><b>Failing</b>: ${t.testFile.numberOfFailingTests}<br><b>Passing</b>: ${t.testFile.numberOfPassingTests-t.testFile.numberOfSkippedTests-t.testFile.numberOfTodoTests}<br>`+(t.testFile.numberOfSkippedTests>0?`<b>Skipped</b>: ${t.testFile.numberOfSkippedTests}<br>`:"")+(t.testFile.numberOfTodoTests>0?`<b>Todo</b>: ${t.testFile.numberOfTodoTests}<br>`:"")+`<b>Total</b>: ${t.testFile.numberOfTests}`}});return(()=>{var s=uq(),a=s.firstChild,l=a.nextSibling,c=l.nextSibling,d=c.nextSibling;return ae(re,a,()=>re&&{content:o()}),A(a,y(qt,{get children(){return[y(Ce,{get when(){return t.testFile.status==="notStarted"},get children(){return nq()}}),y(Ce,{get when(){return t.testFile.status==="running"},get children(){return y(V,{get when(){return e()>0},get fallback(){return hq()},get children(){var u=iq(),f=u.firstChild;return f.style.setProperty("transform-origin","center"),f.style.setProperty("transform","rotate(-90deg)"),oe(()=>`circle-progress ${e()}ms linear`!=null?f.style.setProperty("animation",`circle-progress ${e()}ms linear`):f.style.removeProperty("animation")),u}})}}),y(Ce,{get when(){return t.testFile.status==="complete"&&t.testFile.numberOfPassingTests!==t.testFile.numberOfTests||t.testFile.numberOfFailingTests===t.testFile.numberOfTests},get children(){return oq()}}),y(Ce,{get when(){return t.testFile.status==="complete"&&t.testFile.numberOfTests!==0&&t.testFile.numberOfPassingTests===t.testFile.numberOfTests},get children(){return sq()}})]}})),l.$$click=u=>{u.preventDefault(),u.stopPropagation(),t.navigate({file:t.testFile.path},u,{focus:!1})},A(l,y(Od,{get class(){return t.testFile.status==="notStarted"?"text-[var(--subtle-foreground)]":""},get text(){return t.testFile.path},tooltip:!1})),A(s,y(V,{get when(){return U(()=>t.testFile.status==="running")()&&n()>0},get children(){var u=aq(),f=u.firstChild,h=f.nextSibling;return h.nextSibling,A(u,()=>no(n()),h),u}}),c),A(s,y(V,{get when(){return t.testFile.currentlyExecutingTest?.test},get children(){return y(Cq,{get displayAfter(){return t.testFile.currentlyExecutingTest.started+2e3},get children(){return y(V,{get when(){return t.testFile.status==="running"&&t.testFile.currentlyExecutingTest?.test},get children(){var u=lq();return u.firstChild,ae(re,u,()=>re&&{content:"Currently executing: "+t.testFile.currentlyExecutingTest.test[t.testFile.currentlyExecutingTest.test.length-1]}),u.$$click=f=>{f.preventDefault(),f.stopPropagation(),t.navigate({file:t.testFile.path,line:t.testFile.currentlyExecutingTest?.location.line,column:t.testFile.currentlyExecutingTest?.location.column},f,{focus:!1})},A(u,()=>t.testFile.currentlyExecutingTest.test[t.testFile.currentlyExecutingTest.test.length-1],null),u}})}})}}),c),ae(re,c,()=>re&&{content:o()}),A(c,y(V,{get when(){return t.testFile.status!=="notStarted"},get children(){var u=dq();return A(u,y(V,{get when(){return t.testFile.status!=="complete"},get children(){return[U(()=>t.testFile.numberOfPassingTests+t.testFile.numberOfFailingTests),y(V,{get when(){return t.testFile.numberOfTests>0},get children(){return cq()}})]}}),null),A(u,y(V,{get when(){return t.testFile.numberOfTests>0},get children(){return t.testFile.numberOfTests}}),null),u}})),A(d,y(se,{class:"codicon-go-to-file !mt-[0.25em] !pr-[0.21875rem] pl-[0.09375rem]",onClick:u=>{u.preventDefault(),u.stopPropagation(),t.navigate({file:t.testFile.path},u,{focus:!1})},get tooltip(){return"Open in editor"+t.editorTooltipAddendum}})),s})()},Iq=t=>{const[e,r]=z(0),[n,i]=z(0);return we(()=>t.status,()=>{if(t.status().estimatedCompletionTime!==void 0){const o=t.status().estimatedCompletionTime,s=o-Date.now();if(s>0){r(s),i(s);const a=setTimeout(()=>{r(0)},s),l=setInterval(()=>{const c=Math.max(0,o-Date.now());i(o-Date.now()),c===0&&clearInterval(l)},50);Xe(()=>{clearTimeout(a),clearInterval(l)})}else r(0),i(0)}}),[Js(),fq(),y(V,{get when(){return n()>0},get children(){var o=gq(),s=o.firstChild,a=s.nextSibling;return a.nextSibling,A(o,()=>no(n()),a),o}})]},Aq=t=>(()=>{var e=Sq();return A(e,y(qt,{get fallback(){return xq()},get children(){return[y(Ce,{get when(){return t.status().state==="loadingConfigFile"},get children(){return[Js(),pq()]}}),y(Ce,{get when(){return t.status().state==="testConfigDiscovery"},get children(){return[Js(),mq()]}}),y(Ce,{get when(){return t.status().state==="fileSystemScan"},get children(){return[Js(),vq()]}}),y(Ce,{get when(){return t.status().state==="loadingProject"},get children(){return[Js(),bq()]}}),y(Ce,{get when(){return t.status().state==="postProcessing"},get children(){return y(Iq,{get status(){return t.status}})}}),y(Ce,{get when(){return t.status().state==="pendingInvalidSyntax"},get children(){return _q()}}),y(Ce,{get when(){return t.status().state==="pendingCannotDetermineTestsToRun"},get children(){return yq()}}),y(Ce,{get when(){return t.status().state==="pendingSmartStart"},get children(){return wq()}}),y(Ce,{get when(){return t.status().state==="configurationError"},get children(){return kq()}})]}})),e})(),Fq=t=>{const e=Ge(),r=Oa(),{list:n,containerProps:i,wrapperProps:o}=mc(t.testFiles,{overscan:50,itemHeight:r}),[s,a]=z(),l=vs(s);return[(()=>{var c=Tq();return oe(()=>c.classList.toggle("shadow-header",!!l.y())),c})(),(()=>{var c=Eq(),d=c.firstChild;return Ci(c,"scroll",i.onScroll),ae(u=>{a(u),i.ref(u)},c),A(d,y(On,{get each(){return n()},by:u=>u.data,children:u=>y(Lq,{get testFile(){return u().data},get editorTooltipAddendum(){return e.editorTooltipAddendum()()},navigate:(f,h,g)=>e.navigate(f,h,g)})})),oe(u=>{var f=i.style,h=o().style;return u.e=dn(c,f,u.e),u.t=dn(d,h,u.t),u},{e:void 0,t:void 0}),c})()]};function DC(t){const e=Ge();Vt(()=>{e.trackStatus(),e.trackTestRun()}),Xe(()=>{e.untrackStatus(),e.untrackTestRun()});const r=e.getStatus(),n=e.getTestFilesStatus();return y(Fs,{get namespace(){return t.namespace},headerClass:"",contentClass:`
  overflow-x-hidden
  [&>div]:leading-[var(--list-item-line-height)]
  [&>div]:border [&>div]:border-transparent
  panel-font-size
  `,get children(){return y(V,{get when(){return r().state==="running"||r().firstTestResultAvailable},get fallback(){return y(Aq,{status:r})},get children(){return y(Fq,{status:r,testFiles:n})}})}})}At(["click"]);var Rq=D('<div class="h-full w-full outline-none"tabindex=-1 data-namespace=details.status><span class=font-[family-name:--editor-font-family]>');function Pq(t){const e=Ge();return Vt(()=>{e.trackStatus(),t.icons(()=>[y(PC,{}),y(tc,{class:"!pb-[0.0625rem]",tabIndex:0,namespace:"details.status.header.action"})])}),Xe(()=>{e.untrackStatus()}),(()=>{var r=Rq();return r.firstChild,A(r,y(yr,{class:"foreground h-full w-full",direction:"column",get children(){return[y(St,{defaultState:{size:80},get id(){return pe.SideViewStatusSummary},get children(){return y(DC,{namespace:"details.status.files"})}}),y(St,{defaultState:{size:20},get id(){return pe.SideViewStatusConsole},get children(){return y($C,{namespace:"details.status.console"})}})]}}),null),r})()}var $q=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[--subtle-foreground]">'),Dq=D('<div class=item tabindex=-1 data-namespace=details.tests.coverage.item><span class="icon codicon codicon-file">');function gx(t){const e=Ge();return ei(),y(wr,{header:"Covered Source Files",get onFocus(){return t.onFocus},headerClass:"pl-2 [&_span]:!pl-0",contentClass:`w-full text-[length:--panel-font-size]
               [&_.item]:w-full
               [&_.item]:flex
               [&_.item]:flex-row
               [&_.item]:cursor-pointer
               [&_.item]:items-center
               [&_.item]:justify-center
               [&_.item]:leading-[--tree-item-line-height]
               [&_.item]:h-[--panel-item-height]
               [&_.item]:pr-2
               [&_.item]:pl-2
               [&_.item]:outline-none

               focus:[&_.item]:bg-[--list-active-selection-background]
               focus:[&_.item]:text-[--list-active-selection-foreground]
               hover:[&_.item]:bg-[--list-hover-background]


               [&_.icon]:pr-1
               [&_.icon]:brightness-75
               [&_.icon]:text-[length:--icon-font-size]

               [&_.path]:grow
               [&_.path]:flex-grow
               [&_.path]:truncate
               [&_.path]:pb-[0.0625rem]`,tabIndex:0,namespace:"details.tests.coverage",tooltip:'Jump to Covered Source Files panel <span class="keyboard-shortcut">J</span>&nbsp;<span class="keyboard-shortcut">C</span>',get icons(){return[y(se,{class:"codicon-chevron-down",tooltip:'Collapse "Covered Source Files" panel',tabIndex:0,namespace:"details.tests.coverage.header.action",onClick:()=>{e.setPanelState(t.placement,r=>({...r,collapsed:!0})),t.onFocus?.("details.tests.tree",!0)}})]},get children(){return y(V,{get when(){return t.state.tests.foreground?.tree.selection&&t.state.tests.foreground?.details.coverage.items?.length},get fallback(){return(()=>{var r=$q();return A(r,()=>t.state.tests.foreground?.tree.selection?"no coverage data for selected item":"no item selected"),r})()},get children(){return y(It,{get each(){return t.state.tests.foreground?.details.coverage.items},children:r=>(()=>{var n=Dq(),i=n.firstChild;return n.$$click=o=>{e.showFileUncoveredRegions(r.path,r.path,o)},ae(re,i,()=>re&&{content:r.path}),A(n,y(Od,{class:"path",get text(){return r.path},tooltip:!1}),null),A(n,y(Gb,{get coverage(){return r.coverage},file:!0}),null),oe(o=>{var s=!r.coverage?.low,a=!!r.coverage?.low;return s!==o.e&&i.classList.toggle("text-[--testing-icon-passed]",o.e=s),a!==o.t&&i.classList.toggle("text-[--editor-warning-foreground]",o.t=a),o},{e:void 0,t:void 0}),n})()})}})}})}At(["click"]);var Oq=D('<div class="h-full w-full">');function px(t){const e=Ge(),[r,n]=e.appSettings(),i=()=>r.errors.fullSourceLinks,o=()=>r.errors.unmappedFiles,s=()=>r.errors.wordWrap,a=z(),[l]=a,c=z(!1),[d]=c,u=e.getFindState(),[f,h]=z(),g=z(),[p]=g;return y(wr,{header:"Errors",headerClass:"pl-2 [&_span]:!pl-0",namespace:"details.tests.errors",tooltip:'Jump to Errors panel <span class="keyboard-shortcut">J</span>&nbsp;<span class="keyboard-shortcut">E</span>',onVerticalScroll:m=>{m>0&&!d()&&l()&&(document.hasFocus()?l()?.hasAttribute("data-unfocused-scrolling")&&l()?.removeAttribute("data-unfocused-scrolling"):l()?.setAttribute("data-unfocused-scrolling","true"))},get onFocus(){return t.onFocus},get icons(){return[y(se,{class:"codicon-package",get classList(){return{activeIcon:o()}},onClick:()=>n("errors","unmappedFiles",!o()),tabIndex:0,namespace:"details.tests.errors.header.action",tooltip:"Toggle non-user code stack entries display<br/><br/>Non-user code in this context is the code that                     is not instrumented by Wallaby, such as <b>node_modules</b> or files excluded from instrumentation                     in Wallaby config."}),y(se,{get classList(){return{"codicon-map":!i(),"codicon-map-filled":i()}},onClick:()=>n("errors","fullSourceLinks",!i()),tabIndex:0,namespace:"details.tests.errors.header.action",get tooltip(){return`${i()?"Hide":"Show"} file path in source links`}}),y(se,{class:"codicon-word-wrap",get classList(){return{activeIcon:s()}},onClick:()=>n("errors","wordWrap",!s()),tabIndex:0,namespace:"details.tests.errors.header.action",tooltip:"Toggle word wrap in error messages"}),y(se,{class:"codicon-chevron-down",tooltip:'Collapse "Errors" panel',tabIndex:0,namespace:"details.tests.errors.header.action",onClick:()=>{e.setPanelState(t.placement,m=>({...m,collapsed:!0})),t.onFocus?.("details.tests.tree",!0)}})]},contentClass:"ml-2.5 pr-1 panel-font-size",get overlays(){return[y(jn,{onUpdateSearchTerm:async m=>{const b=await p()?.search(m);h(b?{searchTerm:m,current:b?.current,total:b?.total}:void 0)},onNextResult:async()=>{const m=await p()?.jumpToNext();h(m?{current:m?.current,total:m?.total}:void 0)},onPreviousResult:async()=>{const m=await p()?.jumpToPrevious();h(m?{current:m?.current,total:m?.total}:void 0)},onClose:async m=>{await p()?.exit(m),e.closeFind()},searchStatus:f,isVisible:()=>u()?.namespace==="details.tests.errors",mode:()=>"enter"})]},get children(){var m=Oq();return ae(Ti,m,()=>Ti&&{controller:g,prefix:"dte"}),A(m,y(V,{get when(){return t.state.tests.foreground},get children(){return y(Hb,{get state(){return t.state.tests.foreground.details},namespace:"details.tests",viewerElement:a,revealing:c})}})),m}})}var Bq=D('<div class="absolute inset-0 flex flex-col">');function mx(t){const e=Ge(),r=ei().tests,[n,i]=e.appSettings(),o=()=>n.logs.fullSourceLinks,s=()=>n.logs.headers,a=()=>n.logs.context,[l,c]=z(void 0,{equals:!1}),[d,u]=z(),f=()=>e.getDebuggerStarted()(),h=e.getFindState(),[g,p]=z(),m=z(),[b]=m,[k,_]=z();return y(wr,{header:"Logs",headerClass:"pl-2 [&_span]:!pl-0",scrollable:d,namespace:"details.tests.logs",tooltip:'Jump to Logs panel <span class="keyboard-shortcut">J</span>&nbsp;<span class="keyboard-shortcut">L</span>',get onFocus(){return t.onFocus},get icons(){return k()??[y(V,{get when(){return!f()},get children(){return y(se,{class:"rotate-90 scale-x-[-1]",get classList(){return{"codicon-map":!s(),"codicon-map-filled":s()}},onClick:()=>i("logs","headers",!s()),tabIndex:0,namespace:"details.tests.logs.header.action",get tooltip(){return`${s()?"Hide":"Show"} log test headers`}})}}),y(se,{get classList(){return{"codicon-map":!o(),"codicon-map-filled":o()}},onClick:()=>i("logs","fullSourceLinks",!o()),tabIndex:0,namespace:"details.tests.logs.header.action",get tooltip(){return`${o()?"Hide":"Show"} file name in source links`}}),y(se,{class:"codicon-location",get classList(){return{activeIcon:a()}},onClick:()=>i("logs","context",!a()),tabIndex:0,namespace:"details.tests.logs.header.action",get tooltip(){return`${a()?"Hide value context":"Show value context when it is available"}`}}),y(se,{class:"codicon-fold-up",onClick:()=>c(),tabIndex:0,namespace:"details.tests.logs.header.action",tooltip:"Fold all expanded log entries"}),y(se,{class:"codicon-chevron-down",tooltip:'Collapse "Logs" panel',tabIndex:0,namespace:"details.tests.logs.header.action",onClick:()=>{e.setPanelState(t.placement,v=>({...v,collapsed:!0})),t.onFocus?.("details.tests.tree",!0)}})]},contentClass:"panel-font-size flex flex-col",get overlays(){return[y(jn,{onUpdateSearchTerm:async v=>{const x=await b()?.search(v);p(x?{searchTerm:v,current:x?.current,total:x?.total}:void 0)},onNextResult:async()=>{const v=await b()?.jumpToNext();p(v?{current:v?.current,total:v?.total}:void 0)},onPreviousResult:async()=>{const v=await b()?.jumpToPrevious();p(v?{current:v?.current,total:v?.total}:void 0)},onClose:async v=>{await b()?.exit(v),e.closeFind()},searchStatus:g,isVisible:()=>h()?.namespace==="details.tests.logs",mode:()=>"enter"})]},get children(){var v=Bq();return ae(Ln,v,()=>Ln&&{controller:m,prefix:"dtl"}),A(v,y(V,{get when(){return t.state.tests.foreground},get children(){return y($a,{get state(){return t.state.tests.foreground?.details},get service(){return r.logs},namespace:"details.tests",get onFocus(){return t.onFocus},scrollableElementRef:u,foldAllOpenedLogs:l,icons:_})}})),v}})}var Mq=/[^\w\s]/g,Nq=/\s+/g,Gq=/.^/;function Uq(t){return t=t.trim().replace(Mq,""),t?new RegExp(t.replace(Nq,"|"),"gi"):Gq}var vx=t=>{for(const e of t)e.dispose()};function Wq(t,e){const{cacheSize:r=100}=e??{},n=[],i=Ir(),o=()=>n.length>r&&vx(n.splice(0,n.length-r));return Xe(()=>{vx(n),n.length=0}),(s,a)=>{let l=a.exec(s),c=0,d=0;if(!l||!l[0])return[s];const u=[],f=[];do{const h=l[0];let g=n[d];g?(d++,g.set(h)):_r(p=>{const[m,b]=z(h);g={el:t(m),set:b,dispose:p}},i),c!==l.index&&u.push(s.slice(c,l.index)),u.push(g.el),f.push(g),c=l.index+h.length}while(l=a.exec(s));return n.splice(0,d),u.push(s.slice(c)),Xe(()=>{n.push.apply(n,f),setTimeout(o)}),u}}var qq=D("<span>"),Hq=D('<svg class=inline-block width=1em height=1em viewBox="0 0 13 13"><circle cx=6.5 cy=6.5 r=5.5 fill=none stroke=currentColor stroke-width=0.8>'),Vq=D('<span class="codicon codicon-loading codicon-modifier-spin cursor-auto">');function OC(t){return y(V,{get when(){return t.progress.isDeterminate},get children(){var e=qq();return A(e,()=>t.progress.remainingTimeLabel),oe(()=>hr(e,`font-mono ${t.class}`)),e}})}function BC(t){const o=2*Math.PI*5.5,a=`${o*(1-30/360)}`,l="0",c=500,[d,u]=z(null),[f,h]=z(void 0);let g,p=null,m=null,b=null,k=!1;function _(x){const S=getComputedStyle(x).strokeDashoffset,w=parseFloat(S);return Number.isNaN(w)?x.style.strokeDashoffset||a:String(w)}function v(x,S,w=a,T=l){if(S.style.strokeDashoffset=w,x===0){S.style.strokeDashoffset=T;return}p=S.animate([{strokeDashoffset:w},{strokeDashoffset:T}],{duration:x,easing:"linear",fill:"forwards"})}return yt(()=>{const{isIdle:x,isDeterminate:S,estimatedCompletionTime:w}=t.progress;if(x){u(null),h(void 0),m&&(m.cancel(),m=null),p&&(p.cancel(),p=null),b&&(b.cancel(),b=null),k=!1;return}if(S&&w){if(b)return;if(f()!==w||d()==null){h(w);const T=Math.max(0,w-Date.now());u(T);const L=g;if(!L)return;if(k){const E=_(L);m&&(m.cancel(),m=null),p&&(L.style.strokeDashoffset=E,p.cancel(),p=null),m=L.animate([{strokeDashoffset:E},{strokeDashoffset:E}],{duration:c,easing:"linear",fill:"none"}),m.onfinish=()=>{const C=f(),F=C!=null?Math.max(0,C-Date.now()):d()??0,$=_(L);L.style.strokeDashoffset=$,F>=c*3?(b&&(b.cancel(),b=null),b=L.animate([{strokeDashoffset:E},{strokeDashoffset:a}],{duration:100,easing:"linear",fill:"forwards"}),b.onfinish=()=>{b=null;const O=f(),M=O!=null?Math.max(0,O-Date.now()):d()??0;L.style.strokeDashoffset=a,v(M,L),k=!0}):v(F,L,$,l),k=!0}}else m&&(m.cancel(),m=null),p&&(p.cancel(),p=null),v(T,L),k=!0}}else m&&(m.cancel(),m=null),p&&(p.cancel(),p=null),b&&(b.cancel(),b=null),k=!1}),Xe(()=>{m&&(m.cancel(),m=null),p&&(p.cancel(),p=null),b&&(b.cancel(),b=null)}),y(V,{get when(){return!t.progress.isIdle},get children(){return y(V,{get when(){return t.progress.isDeterminate},get fallback(){return Vq()},get children(){var x=Hq(),S=x.firstChild;return ae(w=>{g=w},S),Me(S,"stroke-dasharray",`${o}`),Me(S,"stroke-dashoffset",a),S.style.setProperty("transform-origin","center"),S.style.setProperty("transform","rotate(-90deg)"),x}})}})}var jq=D('<mark class="border-[--editor-find-match-highlight-border] bg-[--editor-find-match-highlight-background] text-[--editor-find-match-highlight-foreground]">'),zq=D('<span class="expander codicon">'),Kq=D("<span class=codicon>"),Xq=D('<span class="codicon codicon-kebab-vertical !p-0 !text-[length:--icon-smallest-font-size]">'),Yq=D('<span class=count><span class="failing text-[--error-foreground]"></span><span class=px-[0.22em]>/</span><span class=total>'),Jq=D("<span class=time>"),Zq=D('<span class=time><mark class="border-[--editor-find-match-border] bg-[--editor-find-match-background] text-[--editor-find-match-foreground]">ms'),Qq=D('<div class=item tabindex=-1><div class="header select-none pl-[calc(var(--tree-level)*0.375rem)]"><div class="expander flex items-center justify-center"></div><span class=name></span><div class="side items-center">'),eH=D('<span class="expander codicon codicon-chevron-right invisible">'),tH=D('<div class="code flex flex-col">'),rH=D('<div class="mx-1 my-0.5 overflow-auto px-1 py-0.5">'),nH=D("<div>"),iH=D('<div class="border-[var(--panel-view-border)] [&amp;:not(:first-child)]:border-t [&amp;:not(:first-child)]:pt-0.5 [&amp;:not(:last-child)]:mb-[0.5em]">'),oH=D('<div class="px-1 py-[0.1875rem] [&amp;_button]:!text-[length:--icon-smallest-font-size]">'),sH=D("<span class=count>"),aH=D("<span class=count><span class=total>"),lH=D("<span class=time>ms"),cH=D('<li class="border-t border-[--menu-separator-background]"><span class=item tabindex=-1><span class="check codicon codicon-check"></span><span class=label>Show Tests Slower Than <!>ms'),dH=D('<div class="fixed z-[9998] overflow-y-auto rounded-[--menu-border-radius] border border-[--menu-border] bg-[--menu-background] text-[length:--panel-font-size] text-[--menu-foreground] shadow-lg shadow-[--widget-shadow] outline-none [&amp;_.check]:pr-[0.3125rem] [&amp;_.check]:text-[length:--icon-font-size] [&amp;_.check]:!opacity-100 [&amp;_.item]:mx-[0.15625rem] [&amp;_.item]:my-[0.3em] [&amp;_.item]:flex [&amp;_.item]:cursor-pointer [&amp;_.item]:flex-row [&amp;_.item]:items-center [&amp;_.item]:py-[0.2rem] [&amp;_.item]:pl-[0.3125rem] [&amp;_.item]:pr-[1.125rem] [&amp;_.item]:text-[--menu-foreground] [&amp;_.item]:outline-none focus:[&amp;_.item]:rounded-[--menu-border-radius] focus:[&amp;_.item]:border-[--focus-border] focus:[&amp;_.item]:bg-[--menu-selection-background] focus:[&amp;_.item]:text-[--menu-selection-foreground]"tabindex=-1><ul><li><span tabindex=-1 class=item><span class="check codicon codicon-check"></span><span class=label>Show Failed Tests</span></span></li><li><span class=item tabindex=-1><span class="check codicon codicon-check"></span><span class=label>Show Todo Tests</span></span></li><li><span class=item tabindex=-1><span class="check codicon codicon-check"></span><span class=label>Show Skipped Tests</span></span></li><li class="border-t border-[--menu-separator-background]"><span class=item tabindex=-1><span class="check codicon codicon-check invisible"></span><span class=label>Clear Filter '),uH=D('<div class="relative mb-1 pl-2 pr-[0.4375rem]"><input type=text class="mt-[0.0625rem] w-full truncate rounded-[--input-border-radius] border border-[--panel-view-input-border] bg-[--input-background] py-0.5 pl-1 pr-5 text-[--input-foreground] placeholder-[--editor-code-lens-foreground] shadow-[--widget-shadow] !outline-0 focus:border-[--focus-border-vivid]">'),hH=D('<div class="scrollable relative h-full w-full outline-none"tabindex=-1><div class="[&amp;_.expander]:icon-opacity absolute [&amp;_.count]:w-[4em] [&amp;_.count]:cursor-default [&amp;_.count]:truncate [&amp;_.count]:text-right [&amp;_.count]:text-[80%] [&amp;_.expander>span]:text-[length:--icon-font-size] [&amp;_.expander>svg]:text-[length:--icon-font-size] [&amp;_.expander]:pr-1 [&amp;_.expander]:text-[length:--icon-font-size] [&amp;_.header]:flex [&amp;_.header]:h-[--panel-item-height] [&amp;_.header]:cursor-pointer [&amp;_.header]:flex-row [&amp;_.header]:items-center [&amp;_.header]:justify-center [&amp;_.header]:pr-[0.625rem] [&amp;_.header]:leading-[--tree-item-line-height] hover:[&amp;_.header]:bg-[--list-hover-background] [&amp;_.item.selected>.header]:rounded-[--focus-border-radius] [&amp;_.item.selected>.header]:border [&amp;_.item.selected>.header]:border-[--focus-border] [&amp;_.item.selected>.header]:bg-[--list-active-selection-background] [&amp;_.item.selected>.header]:text-[--list-active-selection-foreground] [&amp;_.item>.header]:border [&amp;_.item>.header]:border-transparent [&amp;_.item]:w-full [&amp;_.item]:outline-none [&amp;_.name]:grow [&amp;_.name]:truncate [&amp;_.name]:pb-[0.0625rem] [&amp;_.side]:ml-auto [&amp;_.side]:flex [&amp;_.side_button]:mx-0 [&amp;_.side_button]:!py-[0.09375rem] [&amp;_.side_button]:!text-[length:--icon-smallest-font-size] [&amp;_.time]:w-[5em] [&amp;_.time]:cursor-default [&amp;_.time]:truncate [&amp;_.time]:text-right [&amp;_.time]:text-[80%]">'),fH=D('<div class="flex h-full w-full flex-col text-[length:--panel-font-size] [&amp;_.icon]:text-[length:--icon-smaller-font-size]"tabindex=-1><div class="w-full flex-grow outline-none"tabindex=-1>'),gH=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[--subtle-foreground]"tabindex=-1>no tests'),pH=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[--subtle-foreground]">');function vv(t){const e=t.namespace,r=Ge(),n=VU(),[i,o]=r.appSettings(),s=()=>i.tests.autoCodePreview&&!t.compact,a=()=>r.isStandalone()?i.standalone.tests.layout:i.tests.layout,l=U(()=>Uq(t.state.tests.foreground?.search?.parsed?.text||"")),[c,d]=z(0),[u,f]=z();Ii(u,([I])=>{d(I.borderBoxSize[0].inlineSize-1)});const h=()=>{const I=[];return I.push({text:"Enable file open on line click",action:()=>o("tests","autoCodePreview",!s()),checked:s()}),I.push({text:"Display test errors panel",action:()=>o("tests","errors",!i.tests.errors),checked:i.tests.errors}),I.push({text:"Display test logs panel",action:()=>o("tests","logs",!i.tests.logs),checked:i.tests.logs}),I.push({text:"Display covered files panel",action:()=>o("tests","coveredFiles",!i.tests.coveredFiles),checked:i.tests.coveredFiles}),I};Vt(()=>{n.trackTree(),t.setIcons([y(se,{get classList(){return{"codicon-split-vertical":a()==="vertical","codicon-split-horizontal":a()==="horizontal"}},onClick:()=>{const I=a()==="horizontal";r.isStandalone()?o("standalone","tests","layout",I?"vertical":"horizontal"):o("tests","layout",I?"vertical":"horizontal")},tabIndex:0,namespace:`${e}.header.action`,get tooltip(){return`Display selected test details ${a()==="horizontal"?"to the right of":"below"}                     the test tree`}}),y(se,{menuItems:h,class:"codicon-ellipsis",tabIndex:0,namespace:`${e}.header.action`,tooltip:"More actions"})])}),Xe(()=>n.untrackTree());const g=U(()=>t.state.tests.foreground),p=U(()=>(t.state.tests.foreground?.search?.parsed?t.state.tests.foreground?.tree.files.matched.items:t.state.tests.foreground?.tree.files.all.items)||[]),m=Oa(),{list:b,containerProps:k,wrapperProps:_,scrollTo:v}=mc(p,{overscan:25,itemHeight:I=>(p()[I].depth||1)*m}),x=Wq(I=>(()=>{var W=jq();return A(W,I),W})());yt(()=>{t.state.tests.foreground?.tree.revelation?.index!==void 0&&setTimeout(()=>n.revealNode(v),0)});const[S,w]=z(),T=vs(S);we([S,()=>t.state.tests.searchControlVisible],()=>{t.setScrollable?.(t.state.tests.searchControlVisible?void 0:S())});const[L,E]=z(),C=z({active:!1},{equals:(I,W)=>I.active===W.active}),[F,$]=C;we([()=>t.filter,g],()=>{g()&&(t.filter!==void 0?n.search(t.filter):t.state.tests.background&&(t.state.tests.background.search&&n.search(t.state.tests.background.search),t.state.tests.background.selection&&n.restoreSelection(t.state.tests.background.selection)))});function O(I){const W=Ge(),q=W.editorTooltipAddendum("navigation"),G=()=>W.getDebuggerStarted()(),[H,J]=z(void 0);return(()=>{var Z=Qq(),te=Z.firstChild,ee=te.firstChild,le=ee.nextSibling,de=le.nextSibling;return ae(B=>{I.level>1&&we([()=>B,()=>I.node.revealed],()=>{if(B&&I.node.revealed)try{const N=B.closest(".root");if(N&&N.parentElement&&N.parentElement.parentElement){const ie=N.parentElement.parentElement.getBoundingClientRect().height,ce=parseInt(window.getComputedStyle(N.parentElement).marginTop,10);N.parentElement.parentElement.scrollTop=B.offsetTop+ce-ie/2}}catch{B.scrollIntoView({behavior:"instant",block:"center"})}})},Z),Me(Z,"data-namespace",`${e}.tree.item`),te.$$dblclick=B=>!s()&&n.navigateNode(I.node.id,B),te.$$click=B=>{I.node.selected?n.toggleNode(I.node.id):n.selectNode(I.node.id),s()&&n.navigateNode(I.node.id,B)},A(te,y(V,{get when(){return I.node.type!=="test"},get fallback(){return eH()},get children(){var B=zq();return B.$$click=N=>{n.toggleNode(I.node.id),N.stopPropagation()},oe(N=>{var ie=!!I.node.expanded,ce=!I.node.expanded;return ie!==N.e&&B.classList.toggle("codicon-chevron-down",N.e=ie),ce!==N.t&&B.classList.toggle("codicon-chevron-right",N.t=ce),N},{e:void 0,t:void 0}),B}}),ee),A(ee,y(qt,{get children(){return[y(Ce,{get when(){return I.testFileStatus&&!I.testFileStatus.isIdle},get children(){return y(BC,{get progress(){return I.testFileStatus}})}}),y(Ce,{when:!0,get children(){var B=Kq();return ae(re,B,()=>re&&{content:I.node.name}),oe(N=>{var ie=I.node.status==="executed",ce=I.node.status==="failed",ke=I.node.status==="stale",xe=I.node.status==="todo",Ae=I.node.status==="skipped",Ne=I.node.status==="unknown";return ie!==N.e&&B.classList.toggle("codicon-pass",N.e=ie),ce!==N.t&&B.classList.toggle("codicon-error",N.t=ce),ke!==N.a&&B.classList.toggle("codicon-question",N.a=ke),xe!==N.o&&B.classList.toggle("codicon-beaker",N.o=xe),Ae!==N.i&&B.classList.toggle("codicon-beaker-stop",N.i=Ae),Ne!==N.n&&B.classList.toggle("codicon-circle-filled",N.n=Ne),N},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),B}})]}})),A(le,(()=>{var B=U(()=>!!(I.search&&I.search.text&&I.node.match?.text));return()=>B()?x(I.node.parent?bx(I.node.name):I.node.name,l()):(()=>{var N=U(()=>!!I.node.parent);return()=>N()?bx(I.node.name):I.node.name})()})()),A(de,y(V,{get when(){return U(()=>I.node.type==="test")()&&(I.node.status==="executed"&&!G()||I.node.status==="failed")||!I.compact&&I.node.type==="file"&&I.node.status==="failed"},get children(){var B=Xq();return ae(re,B,()=>re&&{onCreate(N){J(N)},content:()=>{const N=zt.buildNodeTestPath(I.node);I.node.status==="failed"&&!I.compact&&n.loadTestDetails(N);const ie=()=>i.errors.fullSourceLinks,ce=()=>i.errors.unmappedFiles,ke=()=>i.errors.wordWrap;return{content:I.node.status==="failed"&&!I.compact?(()=>{var xe=nH();return A(xe,y(Sc.Provider,{initial:W,get children(){var Ae=rH();return A(Ae,y(V,{get when(){return I.state.context},get children(){var Ne=tH();return A(Ne,y(It,{get each(){return I.state.context.errors},children:ve=>(()=>{var qe=iH();return A(qe,y(Vb,{error:ve,get showErrorsFullSourceLinks(){return ie()},get showUnmappedFileSourceLinks(){return ce()},get debuggerStarted(){return G()},namespace:"unknown",get wordWrap(){return ke()}})),qe})()})),Ne}})),Ae}})),xe})():(()=>{var xe=oH();return A(xe,y(se,{class:"codicon-chip pb-[0.1875rem] pt-[0.21875rem]",onClick:()=>W.profile(N)}),null),A(xe,y(se,{class:"codicon-debug",onClick:()=>W.debug(N)}),null),xe})(),readyToRender:I.node.status==="failed"&&!I.compact?()=>I.state.context!==void 0:()=>!0}},delay:[250,null],offset:[0,0],placement:"auto",class:"!max-h-[50vh] !overflow-auto !p-0",maxWidth:"80vw",instanceType:"test-details",zIndex:9997}),B.$$click=N=>{const ie=H();ie&&!ie.state.isVisible&&(ie.show(),N.stopPropagation())},B}}),null),A(de,y(se,{class:"codicon-filter pl-0.5 pr-0.5",get classList(){return{"codicon-filter-filled":I.node.filtered}},namespace:`${e}.tree.item.action`,onClick:B=>{n.toggleNodeFilter(I.node.id),B.stopPropagation()},get tooltip(){return I.node.filtered?`Unfocus ${I.node.type} <span class="keyboard-shortcut">F</span><br/><br/>${ss}`:`Focus ${I.node.type} <span class="keyboard-shortcut">F</span><br/><br/>${ss}`}}),null),A(de,y(se,{class:"codicon-go-to-file pl-[0.08rem] pr-[0.2rem]",namespace:`${e}.tree.item.action`,onClick:B=>{n.navigateNode(I.node.id,B),B.stopPropagation()},get tooltip(){return"Open in editor <span class='keyboard-shortcut'>Enter</span>"+q()}}),null),A(de,y(V,{get when(){return c()>500},get children(){return[y(V,{get when(){return I.node.count},get fallback(){return sH()},get children(){return y(V,{get when(){return I.node.count.failing>0},get fallback(){return(()=>{var B=aH(),N=B.firstChild;return ae(re,B,()=>re&&{content:`<b>${I.node.count.total}</b> test${I.node.count.total>1?"s":""}                                   inside the node`}),A(N,()=>I.node.count.total),B})()},get children(){var B=Yq(),N=B.firstChild,ie=N.nextSibling,ce=ie.nextSibling;return ae(re,B,()=>re&&{content:`<b>${I.node.count.failing}</b> failing out of <b>${I.node.count.total}</b>                                 total test${I.node.count.total>1?"s":""} inside the node`}),A(N,()=>I.node.count.failing),A(ce,()=>I.node.count.total),B}})}}),y(qt,{get children(){return[y(Ce,{get when(){return I.testFileStatus&&!I.testFileStatus.isIdle},get children(){var B=Jq();return A(B,y(OC,{get progress(){return I.testFileStatus},class:"!text-[length:85%] text-[var(--subtle-foreground)]"})),B}}),y(Ce,{when:!0,get children(){return y(V,{get when(){return I.search&&I.search.time&&I.node.match?.time},get fallback(){return(()=>{var B=lH(),N=B.firstChild;return A(B,()=>I.node.time||0,N),B})()},get children(){var B=Zq(),N=B.firstChild,ie=N.firstChild;return A(N,()=>I.node.time||0,ie),B}})}})]}})]}}),null),A(Z,y(V,{get when(){return I.node.children&&I.node.expanded},get children(){return y(Vo,{get each(){return U(()=>!I.search)()?I.node.children:I.node.children.filter(B=>B.match)},children:B=>y(O,{get state(){return I.state},get node(){return B()},get level(){return I.level+1},get search(){return I.search},get compact(){return I.compact}})})}}),null),oe(B=>{var N=I.node.id,ie=!!I.node.selected,ce=I.level===1,ke=I.level>1,xe=I.node.status==="unknown",Ae=I.level,Ne=I.node.status==="executed",ve=I.node.status==="failed"||I.node.status==="stale",qe=I.node.status==="skipped",Re=I.node.status==="todo";return N!==B.e&&Me(Z,"data-id",B.e=N),ie!==B.t&&Z.classList.toggle("selected",B.t=ie),ce!==B.a&&Z.classList.toggle("root",B.a=ce),ke!==B.o&&Z.classList.toggle("child",B.o=ke),xe!==B.i&&te.classList.toggle("text-[--testing-icon-unset]",B.i=xe),Ae!==B.n&&((B.n=Ae)!=null?te.style.setProperty("--tree-level",Ae):te.style.removeProperty("--tree-level")),Ne!==B.s&&ee.classList.toggle("text-[--testing-icon-passed]",B.s=Ne),ve!==B.h&&ee.classList.toggle("text-[--testing-icon-failed]",B.h=ve),qe!==B.r&&ee.classList.toggle("text-[--testing-icon-queued]",B.r=qe),Re!==B.d&&ee.classList.toggle("text-[--testing-icon-skipped]",B.d=Re),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),Z})()}function M(I){const[W,q]=I.activation;function G(){q({active:!1})}Vt(()=>window.addEventListener("blur",G)),Xe(()=>window.removeEventListener("blur",G));const[H,J]=z();return a5(H,()=>q({active:!1}),{ignore:[I.target]}),yt(()=>H()&&W().active&&W().position&&vH(H(),W().position.x,W().position.y)),y(V,{get when(){return U(()=>!!W().active)()&&W().position},get children(){var Z=dH(),te=Z.firstChild,ee=te.firstChild,le=ee.firstChild,de=le.firstChild,B=ee.nextSibling,N=B.firstChild,ie=N.firstChild,ce=B.nextSibling,ke=ce.firstChild,xe=ke.firstChild,Ae=ce.nextSibling,Ne=Ae.firstChild;return ae(J,Z),Z.$$contextmenu=ve=>ve.preventDefault(),Me(Z,"data-namespace",`${e}.search.menu`),le.$$click=()=>{n.convertSearch({failed:!0}),q({active:!1})},le.addEventListener("mouseenter",ve=>{ve.currentTarget.focus()}),Me(le,"data-namespace",`${e}.search.menu.item`),N.$$click=()=>{n.convertSearch({todo:!0}),q({active:!1})},N.addEventListener("mouseenter",ve=>{ve.currentTarget.focus()}),Me(N,"data-namespace",`${e}.search.menu.item`),ke.$$click=()=>{n.convertSearch({skipped:!0}),q({active:!1})},ke.addEventListener("mouseenter",ve=>{ve.currentTarget.focus()}),Me(ke,"data-namespace",`${e}.search.menu.item`),A(te,y(V,{get when(){return I.threshold},get children(){var ve=cH(),qe=ve.firstChild,Re=qe.firstChild,et=Re.nextSibling,ue=et.firstChild,Se=ue.nextSibling;return Se.nextSibling,qe.$$click=()=>{n.convertSearch({slow:!0}),q({active:!1})},qe.addEventListener("mouseenter",De=>{De.currentTarget.focus()}),Me(qe,"data-namespace",`${e}.search.menu.item`),A(et,()=>I.threshold,Se),oe(()=>Re.classList.toggle("invisible",!n.checkSearch({slow:!0}))),ve}}),Ae),Ne.$$click=()=>{n.search(""),q({active:!1})},Ne.addEventListener("mouseenter",ve=>{ve.currentTarget.focus()}),Me(Ne,"data-namespace",`${e}.search.menu.item`),oe(ve=>{var qe=!I.state?.failed,Re=!I.state?.todo,et=!I.state?.skipped;return qe!==ve.e&&de.classList.toggle("invisible",ve.e=qe),Re!==ve.t&&ie.classList.toggle("invisible",ve.t=Re),et!==ve.a&&xe.classList.toggle("invisible",ve.a=et),ve},{e:void 0,t:void 0,a:void 0}),Z}})}return y(V,{get when(){return t.state.tests.foreground&&t.state.tests.foreground.tree.files.all.items.length>0},get fallback(){return(()=>{var I=gH();return I.$$focusin=()=>{t?.onFocus?.(`${e}`)},I})()},get children(){var I=fH(),W=I.firstChild;return ae(f,I),I.$$focusin=()=>{t?.onFocus?.(`${e}`)},A(I,y(V,{get when(){return t.state.tests.searchControlVisible},get children(){var q=uH(),G=q.firstChild;return G.addEventListener("change",H=>{n.search(void 0,()=>H.target.focus())}),G.$$input=H=>{n.updateSearch(H.target.value)},Me(G,"data-namespace",`${e}.search.text`),A(q,y(se,{class:`codicon-filter absolute inset-y-0 right-[0.5625rem]
                   mb-[0.15rem] mt-[0.2rem] pl-0.5 pr-0.5 !opacity-100`,tabIndex:0,namespace:`${e}.search.action`,get classList(){return{"bg-[--input-option-hover-background]":F().active}},tooltip:"More filters",onClick:H=>{const J=H.target;if(E(J),F().active)$({active:!1});else{const Z=J.getBoundingClientRect().left+document.documentElement.scrollLeft-2,te=J.getBoundingClientRect().top+document.documentElement.scrollTop;$({active:!0,position:{x:Z,y:te}})}H.stopPropagation()}}),null),A(q,y(M,{activation:C,target:L,get state(){return t.state.tests.foreground?.search?.parsed},get threshold(){return t.state.project?.thresholds.slowTest}}),null),oe(H=>{var J=!!T.y(),Z=`Filter (e.g. text @failed${t.compact?"":" @todo @skipped"} @time>10)`;return J!==H.e&&G.classList.toggle("shadow-header",H.e=J),Z!==H.t&&Me(G,"placeholder",H.t=Z),H},{e:void 0,t:void 0}),oe(()=>G.value=t.state.tests.foreground?.search?.raw||""),q}}),W),Me(W,"data-namespace",`${e}.tree`),A(W,y(V,{get when(){return!t.state.tests.foreground.search?.parsed||t.state.tests.foreground.tree.files.matched.items.length>0},get fallback(){return(()=>{var q=pH();return A(q,()=>`no ${t.state.tests.foreground.search?.parsed?`${mH(t.state.tests.foreground.search?.parsed)?"failed":"matching"} `:""}tests found`),q})()},get children(){var q=hH(),G=q.firstChild;return Ci(q,"scroll",k.onScroll),ae(H=>{w(H),k.ref(H)},q),Me(q,"data-namespace",`${e}.tree`),A(G,y(Vo,{get each(){return b()},children:H=>y(O,{get state(){return t.state},get node(){return H().data},level:1,get index(){return H().index},get search(){return t.state.tests.foreground?.search?.parsed},get compact(){return t.compact},get testFileStatus(){return U(()=>H().data.type==="file")()?t.state.testFileProgressByFile[H().data.key]:void 0}})})),oe(H=>{var J=k.style,Z=_().style;return H.e=dn(q,J,H.e),H.t=dn(G,Z,H.t),H},{e:void 0,t:void 0}),q}})),I}})}function mH(t){return t.failed&&!t.todo&&!t.skipped&&!t.passed&&!t.time&&!t.text}function bx(t){return t.replace(/\r?\n|\r/g," ").replace(/\s\s+/g," ")}function vH(t,e,r){const n=t.offsetHeight,i=t.offsetWidth,o=5;t.style.maxHeight="unset";const s=r+n+o<document.body.offsetHeight,a=r-n-o>0;!s&&!a&&(t.style.maxHeight=`${document.body.offsetHeight}px`),t.style.top=`${s?r+o:a?r-n-o:0}px`;const l=e+i<document.body.offsetWidth;e-i>0?t.style.right=`${document.body.offsetWidth-e}px`:l&&(t.style.left=`${e}px`),t.focus()}At(["click","dblclick","contextmenu","focusin","input"]);var bH=D('<div class="h-full w-full outline-none"tabindex=-1 data-namespace=details.tests>'),_H=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[var(--subtle-foreground)]">No test details panels are enabled');function yH(t){const e=Ge(),r=ei(),[n]=e.appSettings();let i;const o=U(()=>e.isStandalone()?n.standalone.tests.layout:n.tests.layout),s=U(()=>e.getPanelState(pe.SideViewTestsErrors)()?.collapsed),a=U(()=>e.getPanelState(pe.SideViewTestsLogs)()?.collapsed),l=U(()=>e.getPanelState(pe.SideViewTestsCoverage)()?.collapsed);we([()=>t.state.tests.foreground,o,s,a,l],()=>{o()==="horizontal"&&t.state.tests.foreground&&r.tests.trackSelection()});const c=U(()=>e.getPanelState(pe.SideViewTestsAltDetailsErrors)()?.collapsed),d=U(()=>e.getPanelState(pe.SideViewTestsAltDetailsLogs)()?.collapsed),u=U(()=>e.getPanelState(pe.SideViewTestsAltDetailsCoverage)()?.collapsed);return we([()=>t.state.tests.foreground,o,c,d,u],()=>{o()==="vertical"&&t.state.tests.foreground&&r.tests.trackSelection()}),we(t.keyboard.focusedNamespace,f=>{if(f&&f.startsWith("details.tests.")){switch(f){case"details.tests.errors":o()==="horizontal"&&s()&&e.setPanelState(pe.SideViewTestsErrors,g=>({...g,collapsed:!1,size:g.size||35})),o()==="vertical"&&c()&&e.setPanelState(pe.SideViewTestsAltDetailsErrors,g=>({...g,collapsed:!1,size:g.size||30}));break;case"details.tests.logs":o()==="horizontal"&&a()&&e.setPanelState(pe.SideViewTestsLogs,g=>({...g,collapsed:!1,size:g.size||35})),o()==="vertical"&&d()&&e.setPanelState(pe.SideViewTestsAltDetailsLogs,g=>({...g,collapsed:!1,size:g.size||40}));break;case"details.tests.coverage":o()==="horizontal"&&l()&&e.setPanelState(pe.SideViewTestsCoverage,g=>({...g,collapsed:!1,size:g.size||35})),o()==="vertical"&&u()&&e.setPanelState(pe.SideViewTestsAltDetailsCoverage,g=>({...g,collapsed:!1,size:g.size||30}));break}f==="details.tests.errors"&&(f="details.tests.errors.content.viewer");let h=i.querySelector(`[data-namespace="${f}"]`);h?h.getAttribute("data-unfocused-scrolling")!=="true"?h.focus():setTimeout(()=>{let g=t.keyboard.lastFocusedNamespace();g==="details.tests.errors"&&(g="details.tests.errors.content.viewer"),f===g&&h.isConnected&&(h.matches(":focus")||(f==="details.tests.errors.content.viewer"&&(f="details.tests.errors"),i.querySelector(`[data-namespace="${f}"]`)?.focus()))},70):(f==="details.tests.errors.content.viewer"&&(f="details.tests.errors"),i.querySelector(`[data-namespace="${f}"]`)?.focus())}}),(()=>{var f=bH(),h=i;return typeof h=="function"?ae(h,f):i=f,A(f,y(V,{get when(){return o()==="horizontal"},get fallback(){return y(yr,{class:"foreground h-full w-full",direction:"row",get children(){return[y(St,{get id(){return pe.SideViewTestsAltTree},defaultState:{size:50},get children(){return y(zt.Provider,{get initial(){return r.tests},get children(){return y(vv,{get state(){return t.state},get setIcons(){return t.setIcons},onFocus:g=>t.keyboard.onFocus(g,!1),namespace:"details.tests",get filter(){return e.getSideViewTab()().state?.tests?.filter}})}})}}),y(St,{get id(){return pe.SideViewTestsAltDetails},defaultState:{size:50},get children(){return y(yr,{class:"foreground h-full w-full",direction:"column",get children(){return[y(V,{get when(){return n.tests.errors},get children(){return y(St,{index:0,get id(){return pe.SideViewTestsAltDetailsErrors},defaultState:{size:30},header:{title:"Errors",namespace:"details.tests.errors.header",tooltip:'Jump to Errors panel <span class="keyboard-shortcut">J</span>&nbsp;<span class="keyboard-shortcut">E</span>'},get children(){return y(px,{get state(){return t.state},onFocus:g=>t.keyboard.onFocus(g,!1),get placement(){return pe.SideViewTestsAltDetailsErrors}})}})}}),y(V,{get when(){return n.tests.logs},get children(){return y(St,{index:1,get id(){return pe.SideViewTestsAltDetailsLogs},defaultState:{size:40},header:{title:"Logs",namespace:"details.tests.logs.header",tooltip:'Jump to Logs panel <span class="keyboard-shortcut">J</span>&nbsp;<span class="keyboard-shortcut">L</span>'},get children(){return y(mx,{get state(){return t.state},onFocus:g=>t.keyboard.onFocus(g,!1),get placement(){return pe.SideViewTestsAltDetailsLogs}})}})}}),y(V,{get when(){return n.tests.coveredFiles},get children(){return y(St,{index:2,get id(){return pe.SideViewTestsAltDetailsCoverage},defaultState:{size:30},header:{title:"Covered Source Files",namespace:"details.tests.coverage.header",tooltip:'Jump to Covered Source Files panel <span class="keyboard-shortcut">J</span>&nbsp;<span class="keyboard-shortcut">C</span>'},get children(){return y(gx,{get state(){return t.state},onFocus:g=>t.keyboard.onFocus(g,!1),get placement(){return pe.SideViewTestsAltDetailsCoverage}})}})}}),y(V,{get when(){return!(n.tests.errors||n.tests.logs||n.tests.coveredFiles)},get children(){return _H()}})]}})}})]}})},get children(){return y(yr,{class:"foreground h-full w-full",direction:"column",get children(){return[y(St,{get id(){return pe.SideViewTestsTree},defaultState:{size:65},get children(){return y(zt.Provider,{get initial(){return r.tests},get children(){return y(vv,{get state(){return t.state},get setIcons(){return t.setIcons},onFocus:g=>t.keyboard.onFocus(g,!1),namespace:"details.tests",get filter(){return e.getSideViewTab()().state?.tests?.filter}})}})}}),y(V,{get when(){return n.tests.errors},get children(){return y(St,{index:0,get id(){return pe.SideViewTestsErrors},defaultState:{size:35,collapsed:!0},header:{title:"Errors",namespace:"details.tests.errors.header",tooltip:'Jump to Errors panel <span class="keyboard-shortcut">J</span>&nbsp;<span class="keyboard-shortcut">E</span>'},get children(){return y(px,{get state(){return t.state},onFocus:g=>t.keyboard.onFocus(g,!1),get placement(){return pe.SideViewTestsErrors}})}})}}),y(V,{get when(){return n.tests.logs},get children(){return y(St,{index:1,get id(){return pe.SideViewTestsLogs},defaultState:{size:35,collapsed:!0},header:{title:"Logs",namespace:"details.tests.logs.header",tooltip:'Jump to Logs panel <span class="keyboard-shortcut">J</span>&nbsp;<span class="keyboard-shortcut">L</span>'},get children(){return y(mx,{get state(){return t.state},onFocus:g=>t.keyboard.onFocus(g,!1),get placement(){return pe.SideViewTestsLogs}})}})}}),y(V,{get when(){return n.tests.coveredFiles},get children(){return y(St,{index:2,get id(){return pe.SideViewTestsCoverage},defaultState:{size:35,collapsed:!0},header:{title:"Covered Source Files",namespace:"details.tests.coverage.header",tooltip:'Jump to Covered Source Files panel <span class="keyboard-shortcut">J</span>&nbsp;<span class="keyboard-shortcut">C</span>'},get children(){return y(gx,{get state(){return t.state},onFocus:g=>t.keyboard.onFocus(g,!1),get placement(){return pe.SideViewTestsCoverage}})}})}})]}})}})),f})()}class wH{constructor(e){this._appService=e}_namespace="details.coverage";matches(e){return e.startsWith(this._namespace)}handle(e,r){if(e=this._narrow(e),!r.target)return;const n=r.target,i=s=>{r.preventDefault(),r.stopPropagation()},o=this._locateRootElement(e,n);if(r.key==="Escape"&&!Ee(r)){if(e==="header.action")return i(o?.focus());this._appService.focus("editor")}}_locateRootElement(e,r){if(e===".")return r;if(e==="header.action")return r.closest(`[data-namespace="${this._namespace}"]`)}_narrow(e){return e=e.replace(`${this._namespace}.`,""),e=e.replace(this._namespace,"."),e}}class kH{constructor(e){this._appService=e}_namespace="details.status";matches(e){return e.startsWith(this._namespace)}handle(e,r){if(e=this._narrow(e),!r.target)return;const n=r.target,i=s=>{r.preventDefault(),r.stopPropagation()},o=this._locateRootElement(e,n);if(r.key==="Escape"&&!Ee(r)){if(e.endsWith("header.action"))return i(o?.focus());this._appService.focus("editor")}}_locateRootElement(e,r){if(e===".")return r;if(e==="header.action")return r.parentElement?.parentElement?.parentElement?.querySelector(`[data-namespace="${this._namespace}"]`);if(e.endsWith("header.action"))return r.closest(`[data-namespace="${this._namespace}"]`)}_narrow(e){return e=e.replace(`${this._namespace}.`,""),e=e.replace(this._namespace,"."),e}}const SH="j",xH=1e3;class MC{constructor(e,r,n,i,o=!1){this._namespace=e,this._keyboard=r,this._appService=n,this._testsService=i,this._compact=o}_leaderPressTimestamp=void 0;matches(e){return e.startsWith(this._namespace)}handle(e,r,n){function i(o){r.preventDefault(),r.stopPropagation()}if(_a(r))return i();if(n.tests.foreground){const o=window.document.activeElement;if(!this._compact&&o?.nodeName!=="INPUT"&&o?.nodeName!=="TEXTAREA"&&o?.type!=="text"){const l=Ee(r);if(r.key===SH&&!l&&!this._leaderPressTimestamp)return this._leaderPressTimestamp=Date.now(),i();{let c;if(l||(c=this._leaderPressTimestamp,this._leaderPressTimestamp=void 0),c&&Date.now()-c<xH&&!l){switch(r.key){case"t":this._keyboard.onFocus(`${this._namespace}.tree`,!0);break;case"l":this._keyboard.onFocus(`${this._namespace}.logs`,!0);break;case"e":this._keyboard.onFocus(`${this._namespace}.errors`,!0);break;case"c":this._keyboard.onFocus(`${this._namespace}.coverage`,!0);break}return i()}}}if(n.tests.foreground.details&&!this._compact){const l=this._testsService.logs?new Da(`${this._namespace}.logs`,this._appService,this._testsService.logs):void 0,c=new kc(`${this._namespace}.errors`,this._appService);if(l?.matches(e)){l.handle(e,r,n.tests.foreground.details);return}else if(c.matches(e)){c.handle(e,r,n.tests.foreground.details);return}}if(e=this._narrow(e),!r.target)return;const s=r.target;if(e!=="search.text"&&e!=="search.menu"&&e!=="search.menu.item"&&!Ee(r)&&r.key==="/"||r.key==="f"&&dr(r))return this._testsService.showSearch(),queueMicrotask(()=>{this._locateRootElement(e,s)?.querySelector(`[data-namespace="${this._namespace}.search.text"]`)?.focus()}),i();if(e==="header.action"){if(r.key==="Escape"&&!Ee(r))return i(this._locateRootElement(e,s)?.focus())}else if(e==="search.text"){if(r.key==="Escape"&&!Ee(r))return s.value?.trim()===""?i(this._locateRootElement(e,s)?.focus()):i();if(r.key==="Enter"&&!Ee(r))return i(this._locateRootElement(e,s)?.focus())}else if(e==="search.action"){if(r.key==="Escape")return this._locateRootElement(e,s)?.focus(),i(this._locateRootElement(e,s)?.dispatchEvent(new MouseEvent("click",{bubbles:!0})))}else{if(e==="search.menu")return r.key==="ArrowDown"?i(s.querySelector(".item")?.focus()):r.key==="Escape"||r.key==="Tab"?(this._locateRootElement(e,s)?.focus(),i(this._locateRootElement(e,s)?.dispatchEvent(new MouseEvent("click",{bubbles:!0})))):i();if(e==="search.menu.item")return r.key==="ArrowDown"?i(s.parentElement?.nextElementSibling?.querySelector(".item")?.focus()):r.key==="ArrowUp"?i(s.parentElement?.previousElementSibling?.querySelector(".item")?.focus()):r.key===" "||r.key==="Enter"?(this._locateRootElement(e,s)?.focus(),i(s.dispatchEvent(new MouseEvent("click",{bubbles:!0})))):r.key==="ArrowUp"?i(s.parentElement?.previousElementSibling?.querySelector(".item")?.focus()):r.key==="Escape"||r.key==="Tab"?(this._locateRootElement(e,s)?.focus(),i(this._locateRootElement(e,s)?.dispatchEvent(new MouseEvent("click",{bubbles:!0})))):i();if(e==="coverage"&&!this._compact){if(r.key==="ArrowDown"&&!Ee(r))return i(s.querySelector(".item")?.focus());if(r.key==="ArrowUp")return i(this._locateRootElement(e,s)?.focus());if(r.key==="Escape"&&!Ee(r))return i(this._locateRootElement(e,s)?.focus());if(r.key==="Tab"&&r.shiftKey)return i(this._locateRootElement(e,s)?.focus())}else if(e==="coverage.item"&&!this._compact){if(r.key==="ArrowDown"&&!Ee(r))return i(s.nextElementSibling?.focus());if(r.key==="ArrowUp"&&!Ee(r)){const l=s.previousElementSibling;return i(l?l.focus():this._locateRootElement(e,s)?.focus())}else{if(r.key==="Tab"&&r.shiftKey)return i(this._locateRootElement(e,s)?.focus());if(r.key==="Escape"&&!Ee(r))return i(this._locateRootElement(e,s)?.focus());if(r.key==="Enter"||r.key===" ")return i(s.dispatchEvent(mi(r,{buttons:r.key==="Enter"?999:void 0})))}}}if(e==="."||e.startsWith("tree")){if((r.key==="ArrowUp"||r.key==="ArrowDown")&&dr(r))return i(this._locateRootElement(e,s)?.querySelector(".scrollable,.scrollable_")?.scrollBy({top:r.key==="ArrowUp"?-50:50,behavior:"smooth"}));if(r.key==="Home"||r.key==="End")return i(this._testsService.locateNode(r.key==="Home"?"first":"last"))}const a=this._locateNodeElement(e,s,n.tests.foreground.tree,!0);if(a&&(e==="."||e.startsWith("tree"))){const l=a?.getAttribute("data-id");if(l){const c=n.tests.foreground.tree.nodes[l];if(c){if(r.key==="ArrowUp"&&!Ee(r))return i(this._selectTestTreeNode(a,"up",1,n.tests.foreground.tree));if(r.key==="ArrowDown"&&!Ee(r))return i(this._selectTestTreeNode(a,"down",1,n.tests.foreground.tree));if(r.key==="PageUp"&&!Ee(r))return i(this._selectTestTreeNode(a,"up",12,n.tests.foreground.tree));if(r.key==="PageDown"&&!Ee(r))return i(this._selectTestTreeNode(a,"down",12,n.tests.foreground.tree));if(r.key==="ArrowRight"&&!Ee(r))return e==="tree.item.action"?i(this._selectNodeAction(a,s,!0)):c.expanded?i(this._selectTestTreeNode(a,"down",1,n.tests.foreground.tree)):i(this._testsService.toggleNode(l,!0));if(r.key==="ArrowLeft"&&!Ee(r))return e==="tree.item.action"?i(this._selectNodeAction(a,s,!1)):c.expanded?i(this._testsService.toggleNode(l,!1)):c.parent?i(this._selectTestTreeNode(a,"parent",1,n.tests.foreground.tree)):i(this._selectTestTreeNode(a,"up",1,n.tests.foreground.tree));if(r.key==="Enter"||r.key===" ")return e.endsWith("action")?i(s.dispatchEvent(mi(r))):i(this._testsService.navigateNode(l,r,r.key!=="Enter"?{focus:!1}:{focus:!0}));if(r.key==="e"&&!Ee(r))return i(this._testsService.navigateNode(l,r,{focus:!0}));if(r.key==="f"&&!Ee(r))return i(this._testsService.toggleNodeFilter(l));if(r.key==="d"&&!Ee(r))return i(this._appService.debug(zt.buildNodeTestPath(c)));if(r.key==="p"&&!Ee(r))return i(this._appService.profile(zt.buildNodeTestPath(c)));if(r.key==="u"&&!Ee(r)){const d=zt.buildFileLocation(c);return i(d&&this._appService.updateSnapshots(d))}else{if(r.key==="v"&&!Ee(r))return c&&c.type==="test"&&c.status==="failed"&&this._appService.showSideBySideDiff({test:zt.buildNodeTestPath(c)},r),i();if(r.key==="s"&&!Ee(r)&&!this._appService.isIntegratedSideView()){const d=zt.buildFileLocation(c),u=zt.buildNodeTestPath(c);d&&d.file?this._appService.openInSideView(Ye.Tests,{tests:{filter:[d.file,...u.slice(1)].join(" ")}}):this._appService.openInSideView(Ye.Tests,{tests:{filter:n.tests.foreground?.search?.raw||""}})}else if(r.key==="Tab"&&!Ee(r)){if(e==="tree.item")return i(this._selectNodeAction(a,null,!0))}else if(r.key==="Escape"&&!Ee(r)){if(e==="tree.item.action")return i(a.focus())}else if(r.key==="."&&!Ee(r)&&e==="tree.item"){const d=zt.buildFileLocation(c);return d&&la(a,d),i()}}}}}else{const l=this._locateNodeElement(e,s,n.tests.foreground.tree,!1);if(l){if(r.key==="ArrowUp"&&!Ee(r))return i(this._selectTestTreeNode(l,"up",1,n.tests.foreground.tree));if(r.key==="ArrowDown"&&!Ee(r))return i(this._selectTestTreeNode(l,"down",1,n.tests.foreground.tree));if(r.key==="PageUp"&&!Ee(r))return i(this._selectTestTreeNode(l,"up",12,n.tests.foreground.tree));if(r.key==="PageDown"&&!Ee(r))return i(this._selectTestTreeNode(l,"down",12,n.tests.foreground.tree))}}if(r.key==="Escape"&&!Ee(r))return i(this._appService.focus("editor"))}}_locateNodeElement(e,r,n,i){if(!i&&(e==="header.action"||e==="search.action")){const o=this._locateRootElement(e,r);o&&(e=".",r=o)}if(e=="."||e==="tree"){const o=r.querySelector(".selected");return!o&&!i?r.querySelector(".item"):o}if(e==="tree.item"){if(n.selection&&n.selection.id===r?.getAttribute("data-id"))return r;const o=r.parentElement?.querySelector(".selected");return!o&&!i?r.parentElement?.querySelector(".item"):o}if(e==="tree.item.action")return r.parentElement?.parentElement?.parentElement}_selectTestTreeNode(e,r,n,i){let o;if(n===1)if(r==="down"){if(o=e.querySelector(".item")??e.nextElementSibling,!o){let l=e.parentElement;for(;l&&l.classList.contains("item");)if(o=l.nextElementSibling,!o)l=l.parentElement;else break}}else if(r==="up"){if(o=e.previousElementSibling,o?.classList.contains("item")){if(o){const l=o.querySelectorAll(".item");l.length&&(o=l.item(l.length-1))}}else if(o=e.parentElement,!o?.classList.contains("item")&&(o=e.previousElementSibling,o)){const l=o.querySelectorAll(".item");l.length&&(o=l.item(l.length-1))}}else r==="parent"&&(o=e.parentElement);else if(n>1){if(r==="parent")return;if(e.classList.contains("item")&&!e.classList.contains("child")?o=r==="down"?e.nextElementSibling:e.previousElementSibling:o=r==="down"?this._locateRootNodeElement(e)?.nextElementSibling:this._locateRootNodeElement(e)?.previousElementSibling,o){let l=1;for(;o&&l<n&&(r==="down"?o.nextElementSibling:o.previousElementSibling);)o=r==="down"?o.nextElementSibling:o.previousElementSibling,l++}}const s=o?.getAttribute("data-id");let a;s&&(a=i.nodes[s]),a&&(this._testsService.selectNode(s),o?.focus())}_selectNodeAction(e,r,n){const i=e.firstElementChild?.querySelectorAll("button")||[];if(i.length){let o=-1;if(r){for(let s=0;s<i.length;s++)if(i[s]===r){o=s;break}}else return i[0].focus(),!0;return o=o>=0?o:0,n?(o+1>i.length-1||i[o+1].focus(),!0):o-1>=0?(i[o-1].focus(),!0):!1}return!1}_locateRootNodeElement(e){let r=e.parentElement,n;for(;r;){if(r.classList.contains("item")&&!r.classList.contains("child")){n=r;break}if(!r.classList.contains("item"))return;r=r.parentElement}return n}_locateRootElement(e,r){if(e===".")return r;let n;if(e==="header.action"&&(n=r.parentElement?.parentElement?.parentElement?.querySelector(`[data-namespace="${this._namespace}"]`)),n)return n;let i=r.parentElement;for(;i;){if(i.getAttribute("data-namespace")===this._namespace)return i;i=i.parentElement}}_narrow(e){return e=e.replace(`${this._namespace}.`,""),e=e.replace(this._namespace,"."),e}}var TH=D('<div class="my-auto ml-auto flex h-full items-center px-1 align-middle [&amp;_button]:mx-[0.0625rem] [&amp;_button]:!text-[length:--icon-font-size]">'),EH=D('<div class="flex h-full w-full flex-col"data-vscode-context="{&quot;webviewSection&quot;: &quot;side-view&quot;, &quot;preventDefaultContextMenuItems&quot;: true}"><div class="relative flex flex-row items-center"><ul class="header-tracking select-none truncate px-[0.0625rem] text-[length:--header-font-size] [&amp;_li.selected]:rounded-none [&amp;_li.selected]:border-b [&amp;_li.selected]:border-b-[--focus-header-border] [&amp;_li.selected]:text-[color:--foreground] [&amp;_li]:mx-2 [&amp;_li]:mb-[0.55em] [&amp;_li]:mt-[1em] [&amp;_li]:inline-block [&amp;_li]:cursor-pointer [&amp;_li]:px-0.5 [&amp;_li]:pb-0.5 [&amp;_li]:uppercase [&amp;_li]:text-[color:rgb(from_var(--foreground)_r_g_b_/_0.65)] focus-visible:[&amp;_li]:rounded-[--input-border-radius] focus-visible:[&amp;_li]:border-b-transparent focus-visible:[&amp;_li]:outline focus-visible:[&amp;_li]:outline-1 focus-visible:[&amp;_li]:outline-offset-2 focus-visible:[&amp;_li]:outline-[--focus-border-vivid]"><li tabindex=0>Logs</li><li tabindex=0>Errors</li><li tabindex=0>Tests</li><li tabindex=0>Coverage</li><li tabindex=0>Status</li></ul></div><div class=flex-grow>');function NC(t){const e=Ge(),r=ei(),n=io();let i;const[o,s]=z(),a=e.getSideViewTab(),l=U(()=>a().name),c=e.getStatus();we(l,S=>{s(void 0),S&&e.featureUsed(`side_${S}`)});const[d,u]=z(!1),[f,h]=z(null),{isOutside:g}=qi(f,{handleOutside:!1});tT(N9(g).pipe(K6(S=>!S),X6(500)).subscribe(G9(u)));function p(S){switch(S){case Ye.Logs:t.keyboard.onFocus("details.logs",!0);break;case Ye.Errors:t.keyboard.onFocus("details.errors",!0);break;case Ye.Tests:t.keyboard.onFocus("details.tests",!0);break;case Ye.Coverage:t.keyboard.onFocus("details.coverage",!0);break;case Ye.Status:t.keyboard.onFocus("details.status",!0);break}}we(l,S=>p(S)),we(t.keyboard.focusedNamespace,S=>{if(S&&S.startsWith("details")&&!S.startsWith("details.tests."))if(S==="details")p(l());else{S==="details.errors"&&(S="details.errors.content.viewer");let w=i.querySelector(`[data-namespace="${S}"]`);w?w.getAttribute("data-unfocused-scrolling")!=="true"?w.focus():setTimeout(()=>{let T=t.keyboard.lastFocusedNamespace();T==="details.errors"&&(T="details.errors.content.viewer"),S===T&&w.isConnected&&(w.matches(":focus")||(S==="details.errors.content.viewer"&&(S="details.errors"),i.querySelector(`[data-namespace="${S}"]`)?.focus()))},70):(S==="details.errors.content.viewer"&&(S="details.errors"),i.querySelector(`[data-namespace="${S}"]`)?.focus())}});const m=new Da("details.logs",e,n),b=new kc("details.errors",e),k=new MC("details.tests",t.keyboard,e,r.tests),_=new wH(e),v=new kH(e);we(t.keyboard.key,S=>{if(S){const w=S.event,T=S.namespace;T==="details"?(w.key==="l"&&e.openInSideView(Ye.Logs),w.key==="e"&&e.openInSideView(Ye.Errors),w.key==="t"&&e.openInSideView(Ye.Tests),w.key==="c"&&e.openInSideView(Ye.Coverage),w.key==="s"&&e.openInSideView(Ye.Status),w.preventDefault(),w.stopPropagation()):m.matches(T)?m.handle(T,w,t.state):b.matches(T)?b.handle(T,w,t.state):k.matches(T)?k.handle(T,w,t.state):_.matches(T)?_.handle(T,w):v.matches(T)&&v.handle(T,w)}});function x(S,w){w?(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),w.stopPropagation(),l()!==S?e.openInSideView(S):p(S)):e.openInSideView(S)}return(()=>{var S=EH(),w=S.firstChild,T=w.firstChild,L=T.firstChild,E=L.nextSibling,C=E.nextSibling,F=C.nextSibling,$=F.nextSibling,O=w.nextSibling,M=i;return typeof M=="function"?ae(M,S):i=S,A(w,y(RC,{get active(){return U(()=>c().state==="running")()&&l()===Ye.Coverage}}),T),ae(h,T),L.addEventListener("keypress",I=>x(Ye.Logs,I)),L.$$click=()=>x(Ye.Logs),ae(re,L,()=>re&&{content:`Go to Logs tab <span class="keyboard-shortcut">G</span>${e.isStandalone()?'&nbsp;<span class="keyboard-shortcut">S</span>':""}&nbsp;<span class="keyboard-shortcut">L</span>`}),E.addEventListener("keypress",I=>x(Ye.Errors,I)),E.$$click=()=>x(Ye.Errors),ae(re,E,()=>re&&{content:`Go to Errors tab <span class="keyboard-shortcut">G</span>${e.isStandalone()?'&nbsp;<span class="keyboard-shortcut">S</span>':""}&nbsp;<span class="keyboard-shortcut">E</span>`}),C.addEventListener("keypress",I=>x(Ye.Tests,I)),C.$$click=()=>x(Ye.Tests),ae(re,C,()=>re&&{content:`Go to Tests tab <span class="keyboard-shortcut">G</span>${e.isStandalone()?'&nbsp;<span class="keyboard-shortcut">S</span>':""}&nbsp;<span class="keyboard-shortcut">T</span>`}),F.addEventListener("keypress",I=>x(Ye.Coverage,I)),F.$$click=()=>x(Ye.Coverage),ae(re,F,()=>re&&{content:`Go to Coverage tab <span class="keyboard-shortcut">G</span>${e.isStandalone()?'&nbsp;<span class="keyboard-shortcut">S</span>':""}&nbsp;<span class="keyboard-shortcut">C</span>`}),$.addEventListener("keypress",I=>x(Ye.Status,I)),$.$$click=()=>x(Ye.Status),ae(re,$,()=>re&&{content:`Go to Status tab <span class="keyboard-shortcut">G</span>${e.isStandalone()?'&nbsp;<span class="keyboard-shortcut">S</span>':""}&nbsp;<span class="keyboard-shortcut">S</span>`}),A(w,y(V,{get when(){return o()},get children(){var I=TH();return A(I,o),I}}),null),A(O,y(qt,{get children(){return[y(Ce,{get when(){return l()===Ye.Logs},get children(){return y(JW,{get state(){return t.state},onFocus:I=>t.keyboard.onFocus(I,!0),icons:s})}}),y(Ce,{get when(){return l()===Ye.Errors},get children(){return y(zW,{get state(){return t.state},icons:s})}}),y(Ce,{get when(){return l()===Ye.Tests},get children(){return y(yH,{get state(){return t.state},get keyboard(){return t.keyboard},setIcons:s})}}),y(Ce,{get when(){return l()===Ye.Coverage},get children(){return y(gW,{get state(){return t.state},icons:s})}}),y(Ce,{get when(){return l()===Ye.Status},get children(){return y(Pq,{get state(){return t.state},icons:s})}})]}})),oe(I=>{var W=!!d(),q=l()===Ye.Logs,G=l()===Ye.Errors,H=l()===Ye.Tests,J=l()===Ye.Coverage,Z=l()===Ye.Status;return W!==I.e&&T.classList.toggle("!text-clip",I.e=W),q!==I.t&&L.classList.toggle("selected",I.t=q),G!==I.a&&E.classList.toggle("selected",I.a=G),H!==I.o&&C.classList.toggle("selected",I.o=H),J!==I.i&&F.classList.toggle("selected",I.i=J),Z!==I.n&&$.classList.toggle("selected",I.n=Z),I},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),S})()}At(["click"]);class GC{constructor(e={file:"",id:"",range:"",selection:{implicit:{}},isQuokka:!1},r){this._state=e,this._setState=r,this._coreToApp=wa(),this._appToCore=ya(),this._disposable.add(this._coreToApp.onLogsByLocation(n=>this.onTestDetails(n))),this._appService=Ge()}_coreToApp;_appToCore;_disposable=new Cr;_appService;trackLogsByLocation(){this._appToCore.trackLogsByLocation(this._state.file,this._state.id,this._range())}exploreEntity(){const e=this._range();if(!e)return;const r={location:{file:this._state.file,line:e[0],column:e[1]},source:{log:!0}};this._appToCore.exploreEntity(r)}_range(){return this._state.range?this._state.range.split(":").map(e=>+e):void 0}_prepareLogEntryDetails(e){const r=e.globalLogs.map(i=>({...i,test:void 0})),n=e.tests.map(i=>i.logs.map(o=>({...o,test:i}))).flat().concat(r);return Qt.updateLogs(this._state,n)}onTestDetails(e,r){this._appService.closeFind(),this._setState(Je(n=>{if(e){const i=this._prepareLogEntryDetails(e);n.selection.log=i.selected,this._setState("logs",je({items:i.items,stackTraceToShow:i.stackTraceToShow}))}else n.logs=void 0}))}dispose(){this._disposable.dispose()}static Provider}const[CH,LH]=Ar(t=>t.initial);GC.Provider=CH;var IH=D('<div class="absolute inset-0 flex flex-col">');function AH(t){const[e,r]=z(),n=Ge(),i=io(),o=LH(),s=n.getFindState(),[a,l]=z(),c=z(),[d]=c,u=new Da("logs.logs",n,i);we(t.keyboard.key,m=>{if(m){const b=m.event,k=m.namespace;u.matches(k)&&u.handle(k,b,t.state)}});function f(){o.exploreEntity()}const h=()=>n.getDebuggerStarted()();Vt(()=>{o.trackLogsByLocation()});const[g,p]=z();return y(wr,{header:"Explore Value",headerClass:"pl-2",scrollable:e,namespace:"logs.logs",contentClass:"panel-font-size flex flex-col",get icons(){return g()??[y(V,{get when(){return!h()},get children(){return y(se,{class:"codicon-list-tree",tooltip:"Explore value",namespace:"logs.header.action",onClick:()=>{f()},tabIndex:0})}})]},get overlays(){return[y(jn,{onUpdateSearchTerm:async m=>{const b=await d()?.search(m);l(b?{searchTerm:m,current:b?.current,total:b?.total}:void 0)},onNextResult:async()=>{const m=await d()?.jumpToNext();l(m?{current:m?.current,total:m?.total}:void 0)},onPreviousResult:async()=>{const m=await d()?.jumpToPrevious();l(m?{current:m?.current,total:m?.total}:void 0)},onClose:async m=>{await d()?.exit(m),n.closeFind()},searchStatus:a,isVisible:()=>s()?.namespace==="logs.logs",mode:()=>"enter"})]},get children(){var m=IH();return ae(Ln,m,()=>Ln&&{controller:c,prefix:"ll"}),A(m,y($a,{get state(){return t.state},service:i,namespace:"logs",scrollableElementRef:r,icons:p})),m}})}var FH=D("<a class=hidden target=_blank>"),RH=D("<button>");function Ct(t){const[e,r]=z();yt(()=>{r(t.classList)});const[n,i]=z(null);return(()=>{var o=RH();return ae(re,o,()=>re&&{content:t.tooltip,...t.tooltipOpts}),Ci(o,"click",t.onClick?t.onClick:t.href?()=>n()?.click():void 0,!0),A(o,y(V,{get when(){return t.href},get children(){var s=FH();return ae(i,s),oe(()=>Me(s,"href",t.href)),s}}),null),A(o,()=>t.children,null),oe(s=>{var a=e(),l=`
    text-[--button-foreground]
    bg-[--button-background]
    hover:bg-[--button-hover-background]
    border border-[--button-border]
    rounded-sm px-3 py-1
    ${t.class||""}`;return s.e=Et(o,a,s.e),l!==s.t&&hr(o,s.t=l),s},{e:void 0,t:void 0}),o})()}At(["click"]);var PH=D('<div class="value !w-auto text-right font-mono !font-normal dimmer"><span class="codicon codicon-files pr-1 !text-[length:90%]"></span><span class=px-[0.12rem]>/');function $H(){const t=Ge(),e=t.getTestFilesTotal(),r=t.getTestFilesStarted();return Vt(()=>{t.trackExecutionProgress()}),Xe(()=>{t.untrackExecutionProgress()}),(()=>{var n=PH(),i=n.firstChild,o=i.nextSibling;return A(n,r,o),A(n,e,null),n})()}var DH=D('<div class="inline-flex justify-center pb-[0.1rem] pr-1 align-middle"><span class="codicon !text-[length:--icon-font-size]">');function OH(t){const e=Ge(),r=e.getTestRunModeParams(),n=e.getProject();return y(V,{get when(){return n()},get children(){var i=DH(),o=i.firstChild;return ae(re,i,()=>re&&{content:t.tooltip&&rc(n(),e.isEditorConnected(),r(),e.getCoreVersion())||void 0}),oe(s=>{var a=!!r(),l={"codicon-root-folder":!!r(),"codicon-root-folder opacity-80":!r()};return a!==s.e&&i.classList.toggle("text-[--editor-warning-foreground]",s.e=a),s.t=Et(o,l,s.t),s},{e:void 0,t:void 0}),i}})}function rc(t,e,r,n){const i=wi(t.path,1/0);return`
  <div class="[&_a]:text-[--link-foreground] [&_a]:underline [&_li]:break-words">
    Wallaby${n?` Core <b>v${n.version}${n.pinned?' <span class="text-[--editor-warning-foreground]">(pinned)</span>':""}</b>`:""} is currently running
    <ul class="px-3 list-disc">
    <li>in <span class='opacity-80'>${b9(t.path)}</span></li>
    <li>with ${i==="auto.config"?"<b>auto-config</b>":`<b>${i}</b> config file`}</li>${r?`<li>
          ${r.smartRunMode?' in <b><a href="https://wallabyjs.com/docs/intro/smart-start.html" target="_blank">Smart Mode</a></b>':' only a subset of <b><a href="https://wallabyjs.com/docs/intro/selected-tests.html#automatic-test-focusing" target="_blank">selected tests</a></b>'}</li></ul>
    <br />
    ${r.included?.length?`Following test files are ${r.smartRunMode?"watched":"included"}:
    <ul class="px-3 list-disc [&_li]:font-bold">
      ${(r.included||[]).map(o=>`<li>${o}</li>`).join("")}
    </ul>
    <br />
    `:""}
    ${r.excluded?.length?`Following test files are excluded:
    <ul class="px-3 list-disc [&_li]:font-bold">
      ${(r.excluded||[]).map(o=>`<li>${o}</li>`).join("")}
    </ul>
    <br />
    `:""}
    ${r.smartRunMode?`<b>${r.smartRunMode==="edit"?e?"Edit":"Change and save":"Open"}</b> ${r.included?.length?"other":"some"} test files in your editor to monitor and execute more tests.`:"You can add more tests to the set of selected tests by using supported test modifiers (ie. <b>it.only</b> of <b>test.only</b>), or switch to running all tests by removing the test modifiers or file comments."}
      `:"</ul>"}
    ${r?.smartRunMode?"":'<br/>For large projects with many tests or with tests that take much time to run it is recommened to try <b><a href="https://wallabyjs.com/docs/intro/smart-start.html" target="_blank">Smart Mode</a></b>.'}
  </div>`}var BH=D('<span class="mr-1 flex items-center justify-center"><span class="codicon codicon-color-mode pr-0.5 !text-[length:85%]"></span>%'),MH=D('<span class="mr-1 flex items-center justify-center"><span class="codicon pr-0.5 !text-[length:85%]">'),NH=D('<span class="font-mono text-[var(--subtle-foreground)]">(<!>)'),GH=D('<span class="codicon codicon-loading codicon-modifier-spin ml-1 text-[var(--subtle-foreground)]">'),UH=D('<div class="group cursor-default hover:brightness-125"><div class="label !normal-case"><span class="codicon codicon-file icon-opacity mr-1"></span></div><div class="value ml-1"><div class="flex items-center justify-center transition-opacity duration-300">'),WH=D("<span>Click to show file uncovered regions"),bv=D("<br>"),qH=D('<tr><td class="pr-2 font-bold">Code coverage</td><td class="font-bold text-[var(--testing-icon-passed)]">%'),HH=D('<tr><td class="pr-2 font-bold">Failing</td><td class=text-[var(--error-foreground)]> test(s)'),VH=D('<tr><td class="pr-2 font-bold">Total</td><td class=opacity-80> test(s)'),jH=D('<div><table class="border-spacing-x-4 border-spacing-y-1"><tbody><tr><td class="pr-2 font-bold"> file</td><td class=opacity-80>'),zH=D('<div class="group !mr-4 hover:brightness-125"><div class=label><span class="codicon codicon-pinned icon-opacity"></span></div><div class=value>v'),KH=D('<div class="group !mr-4 cursor-default hover:brightness-125"><div class=label><span class="codicon codicon-root-folder icon-opacity"></span></div><div class=value> / '),XH=D('<div class="group !mr-1 cursor-pointer hover:brightness-125"><div class=label><span class="codicon codicon-color-mode icon-opacity"></span></div><div class="value !min-w-[4em]">%'),YH=D('<div class=group><div class=label><span class="codicon codicon-beaker icon-opacity"></span></div><div class=value>'),JH=D('<div class=group><div class=label><span class="codicon codicon-beaker-stop icon-opacity"></span></div><div class=value>'),ZH=D('<div class="dim flex"><div class="relative [&amp;_div.group:last-child_.value]:min-w-0"><div class="flex justify-end pr-1"><div class=group><div class=label><span class="codicon codicon-error icon-opacity"></span></div><div class=value></div></div><div class=group><div class=label><span class="codicon codicon-pass icon-opacity"></span></div><div class=value>'),QH=D('<div class="flex h-full w-full items-center pl-2.5 text-[length:--panel-subtle-font-size] [&amp;_.codicon]:text-[length:--icon-smaller-font-size] [&amp;_button.dim]:opacity-70 [&amp;_div.dim]:opacity-70 [&amp;_div.dimmer]:opacity-65 [&amp;_div.group]:mr-1 [&amp;_div.group]:inline-flex [&amp;_div.group]:h-[--panel-item-height] [&amp;_div.label]:mr-1 [&amp;_div.label]:inline-flex [&amp;_div.label]:items-center [&amp;_div.label]:uppercase [&amp;_div.value]:ml-auto [&amp;_div.value]:inline-flex [&amp;_div.value]:min-w-[2em] [&amp;_div.value]:items-center [&amp;_div.value]:whitespace-nowrap"><div class="dim mr-2 flex-grow text-left"></div><div class="flex min-w-0 truncate">'),eV=D('<div class="group cursor-pointer hover:brightness-125"><div class="label text-[--editor-warning-foreground]"><span class="codicon codicon-filter-filled icon-opacity"></span></div><div class=value>'),tV=D('<div class="value ml-[0.12rem] mr-2 !w-auto flex-grow text-nowrap text-left font-mono !font-normal text-[var(--subtle-foreground)] [word-spacing:-0.25em]">(<!>)'),rV=D('<div class="dimmer label text-nowrap pb-[0.03125rem] pr-1 text-left"><div><div class="codicon codicon-loading codicon-modifier-spin cursor-auto">'),nV=D('<div class="ml-auto flex text-nowrap pl-3 text-[length:--panel-subtle-font-size]">'),iV=D('<div class="ml-auto flex text-nowrap pl-3 text-[length:--panel-subtle-font-size]"><div class="value ml-[0.12rem] mr-2 !w-auto flex-grow cursor-default text-nowrap text-left font-mono !font-normal text-[var(--subtle-foreground)] [word-spacing:-0.25em]">'),oV=D('<div class=min-w-full><div class="flex [&amp;_.codicon]:text-[length:--icon-smaller-font-size] [&amp;_div.dimmer]:opacity-65 [&amp;_div.label]:mr-1 [&amp;_div.label]:inline-flex [&amp;_div.label]:items-center [&amp;_div.label]:uppercase [&amp;_div.value]:ml-auto [&amp;_div.value]:inline-flex [&amp;_div.value]:min-w-[2em] [&amp;_div.value]:items-center"><div>Click to open "Status" side view'),sV=D('<span title="Last run duration">'),aV=D("<span> - "),lV=D("<span>");function cV(t){const e=Ge(),[r,n]=z(!1),[i,o]=z(!1),[s,a]=z(),l=U(()=>e.getProject()()?.thresholds?.lowCoverage||0),c=IC.createScope();Xe(()=>c.dispose());const d=U(()=>{const g=t.activeEditorFileStatus.status==="running";return{isRunning:g,showCountdown:g&&i(),showSpinner:g&&!i()&&r(),showAnyStatus:g&&(i()||r())}});yt(()=>{const{estimatedCompletionTime:g,status:p}=t.activeEditorFileStatus;if(p==="running"&&typeof g=="number"){const m=b=>{const k=Math.max(0,g-b),_=k>0;if(_!==i()&&o(_),_){const v=no(k);v!==s()&&a(v)}else a(void 0),n(!0);return _};if(m(Date.now())){const b=c.addTask(m,{intervalMs:50});b.request(),Xe(()=>b.cancel())}}else i()&&o(!1),s()!==void 0&&a(void 0),n(!1)});const u=U(()=>t.activeEditorFileStatus.coverage!=null),f=U(()=>t.activeEditorFileStatus.coverage===100),h=U(()=>{if(t.activeEditorFileStatus.testFile?.total)return t.activeEditorFileStatus.testFile});return(()=>{var g=UH(),p=g.firstChild;p.firstChild;var m=p.nextSibling,b=m.firstChild;return ae(re,g,()=>re&&{content:(()=>{var k=jH(),_=k.firstChild,v=_.firstChild,x=v.firstChild,S=x.firstChild,w=S.firstChild,T=S.nextSibling;return A(k,y(V,{get when(){return U(()=>!!u())()&&!f()},get children(){return[WH(),bv(),bv()]}}),_),A(S,()=>t.activeEditorFileStatus.testFile?"Test":"Source",w),A(T,()=>t.activeEditorFileStatus.filePath),A(v,y(V,{get when(){return u()},get children(){var L=qH(),E=L.firstChild,C=E.nextSibling,F=C.firstChild;return A(C,()=>t.activeEditorFileStatus.coverage.toFixed(2),F),oe(()=>C.classList.toggle("!text-[var(--editor-warning-foreground)]",t.activeEditorFileStatus.coverage<l())),L}}),null),A(v,y(V,{get when(){return h()},get children(){return[y(V,{get when(){return h()?.failing},get children(){var L=HH(),E=L.firstChild,C=E.nextSibling,F=C.firstChild;return A(C,()=>h()?.failing,F),L}}),(()=>{var L=VH(),E=L.firstChild,C=E.nextSibling,F=C.firstChild;return A(C,()=>h()?.total,F),L})()]}}),null),oe(()=>S.classList.toggle("!pr-1",!u()&&!h())),k})()}||void 0),g.$$click=k=>{!u()||f()||e.showFileUncoveredRegions(t.activeEditorFileStatus.filePath,t.activeEditorFileStatus.filePath,k)},A(p,()=>wi(t.activeEditorFileStatus.filePath,1/0),null),A(m,y(V,{get when(){return u()},get children(){var k=BH(),_=k.firstChild,v=_.nextSibling;return A(k,()=>t.activeEditorFileStatus.coverage.toFixed(2),v),k}}),b),A(m,y(V,{get when(){return h()},get children(){var k=MH(),_=k.firstChild;return A(k,y(V,{get when(){return h().failing},get children(){return[U(()=>h().failing)," / "]}}),null),A(k,()=>h().total,null),oe(v=>{var x=!!h().failing,S=!h().failing;return x!==v.e&&_.classList.toggle("codicon-error",v.e=x),S!==v.t&&_.classList.toggle("codicon-check-all",v.t=S),v},{e:void 0,t:void 0}),k}}),b),A(b,y(V,{get when(){return d().showCountdown},get children(){var k=NH(),_=k.firstChild,v=_.nextSibling;return v.nextSibling,A(k,s,v),k}}),null),A(b,y(V,{get when(){return d().showSpinner},get children(){return GH()}}),null),oe(k=>{var _=!!(u()&&!f()),v=!!d().showAnyStatus,x=!d().showAnyStatus;return _!==k.e&&g.classList.toggle("cursor-pointer",k.e=_),v!==k.t&&b.classList.toggle("opacity-100",k.t=v),x!==k.a&&b.classList.toggle("opacity-0",k.a=x),k},{e:void 0,t:void 0,a:void 0}),g})()}function jb(t){z(!1);const e=Ge(),r=e.getRunStats(),n=e.getStatus(),i=U(()=>e.getTestRunModeParams()()),o=U(()=>e.getProject()()),s=U(()=>n().estimatedCompletionTime),[a,l]=z(),[c,d]=z(!1);we(s,p=>{if(p!==void 0){const m=Math.max(0,p-Date.now());l(no(m)),d(m>0);const b=setTimeout(()=>{d(!1)},m+.25*1e3),k=setInterval(()=>{const _=Math.max(0,p-Date.now());l(no(_)),_===0&&clearInterval(k)},50);Xe(()=>{clearInterval(k),clearTimeout(b)})}else l(),d(!1)}),Vt(()=>{e.trackStats(),e.trackStatus()}),Xe(()=>{e.untrackStats(),e.untrackStatus()});const[u,f]=z(!0),h=U(p=>u()?{delay:n().state==="running"?0:void 0,onHide:()=>{f(!0)},onShow:()=>{f(!1)}}:p),g=()=>e.isEditorConnected();return(()=>{var p=QH(),m=p.firstChild,b=m.nextSibling;return A(m,y(V,{get when(){return t.activeEditorFileStatus},get children(){return y(cV,{get activeEditorFileStatus(){return t.activeEditorFileStatus}})}})),A(b,()=>t.additionalContent,null),A(b,y(V,{get when(){return r()?.firstTestResultAvailable},get children(){var k=ZH(),_=k.firstChild,v=_.firstChild,x=v.firstChild,S=x.firstChild,w=S.nextSibling,T=x.nextSibling,L=T.firstChild,E=L.nextSibling;return A(k,y(V,{get when(){return U(()=>!!e.getCoreVersion()?.pinned)()&&e.getCoreVersion()?.version},get children(){var C=zH(),F=C.firstChild,$=F.nextSibling;return $.firstChild,C.$$click=()=>g()&&e.installCoreVersion(),ae(re,C,()=>re&&{content:`${g()?"Click to install latest or different Wallaby Core version<br/><br/>":""}Currently used Wallaby Core v${e.getCoreVersion().version} is pinned and will not receive automatic updates.`}||void 0),A($,()=>e.getCoreVersion().version,null),oe(O=>{var M=!!g(),I=!g();return M!==O.e&&C.classList.toggle("cursor-pointer",O.e=M),I!==O.t&&C.classList.toggle("cursor-default",O.t=I),O},{e:void 0,t:void 0}),C}}),_),A(k,y(V,{get when(){return o()},get children(){var C=KH(),F=C.firstChild,$=F.firstChild,O=F.nextSibling,M=O.firstChild;return ae(re,C,()=>re&&{content:`${rc(o(),e.isEditorConnected(),i(),e.getCoreVersion())}`}||void 0),A(O,()=>o().name,M),A(O,()=>wi(o().path,1/0),null),oe(()=>$.classList.toggle("text-[--editor-warning-foreground]",!!i())),C}}),_),A(v,y(V,{get when(){return!r().filtered},get fallback(){return(()=>{var C=eV(),F=C.firstChild,$=F.nextSibling;return C.$$click=()=>e.toggleTestFilter(),ae(re,C,()=>re&&{content:"Unfocus all focused tests"}),A($,()=>r().filtered),C})()},get children(){var C=XH(),F=C.firstChild,$=F.nextSibling,O=$.firstChild;return C.$$click=()=>e.openInSideView(Ye.Coverage),ae(re,C,()=>re&&{content:'Open "Coverage" in side view'}),A($,()=>r().coverage.value,O),C}}),x),x.$$click=()=>r().failing>0&&e.openInSideView(Ye.Tests,{tests:{filter:"@failed"}}),ae(re,x,()=>re&&r().failing>0&&{content:"View <b>failing</b> tests in side view"}||void 0),A(w,()=>r().failing),T.$$click=()=>r().passing>0&&e.openInSideView(Ye.Tests,{tests:{filter:"@passed"}}),ae(re,T,()=>re&&r().passing>0&&{content:"View <b>passing</b> tests in side view"}||void 0),A(E,()=>r().passing),A(v,y(V,{get when(){return r().todo>0},get children(){var C=YH(),F=C.firstChild,$=F.nextSibling;return C.$$click=()=>r().todo>0&&e.openInSideView(Ye.Tests,{tests:{filter:"@todo"}}),ae(re,C,()=>re&&r().todo>0&&{content:"View <b>todo</b> tests in side view"}||void 0),A($,()=>r().todo),oe(O=>Et(C,{"cursor-pointer hover:brightness-125":r().todo>0},O)),C}}),null),A(v,y(V,{get when(){return r().skipped>0},get children(){var C=JH(),F=C.firstChild,$=F.nextSibling;return C.$$click=()=>r().skipped>0&&e.openInSideView(Ye.Tests,{tests:{filter:"@skipped"}}),ae(re,C,()=>re&&r().skipped>0&&{content:"View <b>skipped</b> tests in side view"}||void 0),A($,()=>r().skipped),oe(O=>Et(C,{"cursor-pointer hover:brightness-125":r().skipped>0},O)),C}}),null),oe(C=>{var F=r().todo===0&&r().skipped===0,$=r().todo>0||r().skipped>0,O={"cursor-pointer hover:brightness-125":r().failing>0},M={"cursor-pointer hover:brightness-125":r().passing>0};return F!==C.e&&_.classList.toggle("min-w-[15em]",C.e=F),$!==C.t&&_.classList.toggle("min-w-[20em]",C.t=$),C.a=Et(x,O,C.a),C.o=Et(T,M,C.o),C},{e:void 0,t:void 0,a:void 0,o:void 0}),k}}),null),A(p,y(se,{class:"codicon-pulse dim mx-[0.09375rem] py-[0.12625rem] !text-[length:--panel-larger-font-size] transition-all",get classList(){return{"[animation:fade-pulse_1200ms_ease-in-out_infinite]":n().state!=="idle"&&n().state!=="pendingCannotDetermineTestsToRun"&&n().state!=="pendingInvalidSyntax"||n().longRunningOperation,"text-[--error-foreground]":n().longRunningOperation}},namespace:"overview.misc.action",onClick:()=>{e.openInSideView(Ye.Status)},tabIndex:0,get tooltipOpts(){return h()},get tooltip(){return(()=>{var k=oV(),_=k.firstChild;return _.firstChild,A(_,y(qt,{get children(){return[y(Ce,{get when(){return n().state==="running"},get children(){var v=nV();return A(v,y(qt,{get children(){return[y(Ce,{get when(){return c()},get children(){var x=tV(),S=x.firstChild,w=S.nextSibling;return w.nextSibling,A(x,a,w),x}}),y(Ce,{when:!0,get children(){var x=rV(),S=x.firstChild;return oe(()=>hr(S,`inline-block text-[length:--icon-smaller-font-size] leading-[0] transition-all duration-[1000ms] ${n().longRunningOperation?"animate-pulse text-[--error-foreground]":""}`)),x}})]}}),null),A(v,y($H,{}),null),v}}),y(Ce,{get when(){return n().timeToCompleteResult},get children(){var v=iV(),x=v.firstChild;return A(x,(()=>{var S=U(()=>n().timeToCompleteResult===n().timeToFirstResult||!n().timeToFirstResult);return()=>S()?(()=>{var w=sV();return A(w,()=>Ws(n().timeToCompleteResult)),w})():(()=>{var w=aV(),T=w.firstChild;return A(w,()=>Ws(n().timeToFirstResult),T),A(w,()=>Ws(n().timeToCompleteResult),null),oe(()=>Me(w,"title",`Time to first result: ${Ws(n().timeToFirstResult)}
Accumulated run time: ${Ws(n().timeToCompleteResult)}`)),w})()})()),v}})]}}),null),A(k,(()=>{var v=U(()=>!!o());return()=>v()?[bv(),(()=>{var x=lV();return oe(()=>x.innerHTML=rc(o(),e.isEditorConnected(),i(),e.getCoreVersion())),x})()]:void 0})(),null),k})()}}),null),p})()}function Ws(t){let e="ms",r=t;return r>1e3&&(r=r/1e3,e="s",r>60&&(r=r/60,e="m")),`${Math.round(r*100)/100}${e}`}At(["click"]);const al=(t,e)=>{let r=to(t,e?.());return we(e,n=>{r=to(t,n)}),(...n)=>r(...n)};class zb{constructor(e={selection:{test:"allLogsAndErrors",implicit:{}},startupEvents:[],tests:{searchControlVisible:!0},testFileProgressByFile:{}},r){this._state=e,this._setState=r,this._coreToApp=wa(),this._appToCore=ya(),this._appService=Ge(),this._disposable.add(this._coreToApp.onOverviewTests(this.onOverviewTests.bind(this))),this._disposable.add(this._coreToApp.onTestAddedToFilterFromEditor(this.onTestAddedToFilterFromEditor.bind(this))),this._disposable.add(this._coreToApp.onAllLogsAndErrors(this.onAllLogsAndErrors.bind(this))),this._disposable.add(this._coreToApp.onTestDetails(this.onTestDetails.bind(this))),this._disposable.add(this._coreToApp.onRunError(this.onRunErrorChanged.bind(this))),this._disposable.add(this._coreToApp.onSelectedEntities(this.onSelectedEntities.bind(this))),this._disposable.add(this._coreToApp.onAutoSelectedEntities(this.onAutoSelectedEntities.bind(this))),this._disposable.add(this._coreToApp.onDebuggerState(this.onDebuggerStateChanged.bind(this))),this._disposable.add(this._coreToApp.onTestNotFound(this.onTestNotFound.bind(this))),this._disposable.add(this._coreToApp.onCallStack(this.onCallStackAvailable.bind(this))),this._disposable.add(this._coreToApp.onStartupEvent(this.onStartupEvent.bind(this))),this._disposable.add(this._coreToApp.onActiveEditorFileStatus(this.onActiveEditorFileStatusChanged.bind(this))),this._disposable.add(this._coreToApp.onTestFileProgress(this.onTestFileProgress.bind(this))),this._disposable.add(this._coreToApp.onTestTree(n=>this._testsService?.updateTree(n))),this._disposable.add(this._coreToApp.onTestTreeFilter(n=>this._testsService?.updateFilter(n))),this._disposable.add(this._coreToApp.onTestTreeDetails(n=>this._testsService?.updateDetails(n))),this._disposable.add(this._coreToApp.onTrackedCursorLocation(n=>this.onTrackedCursorLocation(n))),this._disposable.add(()=>this.untrackOverviewTestList()),this._disposable.add(()=>{this._progress?.dispose(),this._appToCore.untrackOverviewTestList(),this._appService.optOutFromLogsAndErrors()}),this._setState("displayLimits",{tests:{apply:!0},logs:{apply:!0},errors:{apply:!0}}),we(()=>this._appService.isIntegratedOverview()&&!this._state.lineTests?.loc,n=>{this._setState("allowedToShowTestTree",n)}),we(()=>this._state.allowedToShowTestTree&&this._appService.appSettings()[0].overviewTests.tree,n=>{this._setState("showTestTree",n)})}_coreToApp;_appToCore;_disposable=new Cr;_appService;_testsService;_progress;get tests(){return this._testsService||(this._testsService=new zt(this._state,this._setState,this._setState,this._appService,this._appToCore,U(()=>this._appService.getProject()()?.thresholds.slowTest))),this._testsService}trackOverviewTestList(){this._appToCore.trackOverviewTestList(),!this._state.debuggerState?.started&&this._state.selection.test==="allLogsAndErrors"&&this._appToCore.trackAllLogsAndErrors(),this._appService.optInToLogsAndErrors(),this.selectAllLogsAndErrors()}untrackOverviewTestList(){this._appToCore.untrackOverviewTestList(),this._appService.optOutFromLogsAndErrors(),this._setState("testList",void 0)}trackStartupEvents(){this._appToCore.trackStartupEvents()}untrackStartupEvents(){this._appToCore.untrackStartupEvents()}selectTest(e){e.id!==this._state.selection.test&&(this._appToCore.trackTest(e.path,e.id),this._setState("selection","test",e.id),this._startApplyingLogsAndErrorsDisplayLimits())}_startApplyingLogsAndErrorsDisplayLimits(){this._startApplyingLogsDisplayLimits(),this._startApplyingErrorsDisplayLimits()}_startApplyingLogsDisplayLimits(){this._setState("displayLimits","logs",je({apply:!0}))}_startApplyingErrorsDisplayLimits(){this._setState("displayLimits","errors",je({apply:!0}))}selectAllLogsAndErrors(){if(this._state.selection.test!=="allLogsAndErrors"){if(this._appToCore.trackAllLogsAndErrors(),this._setState("selection","test","allLogsAndErrors"),this._state.testList){const e={...this._state.testList};let r=!1;for(const n of Object.values(e))n.passing&&!n.focused&&(delete e[n.id],r=!0);r&&this._setState("testList",je(e))}this._startApplyingLogsAndErrorsDisplayLimits()}}loadRestOfTests(){this._setState("displayLimits","tests",je({apply:!1})),this._appToCore.trackOverviewTestList()}loadRestOfLogs(){this._setState("displayLimits","logs",je({apply:!1})),this._appToCore.trackContextLogsAndErrors()}loadRestOfErrors(){this._setState("displayLimits","errors",je({apply:!1})),this._appToCore.trackContextLogsAndErrors()}onOverviewTests(e){this._setState(Je(r=>{r.lineTests=e.lineTests?{loc:e.lineTests.loc,active:e.lineTests.active}:void 0,r.numberOfFailingTests=e.numberOfFailingTests,r.numberOfGlobalErrors=e.numberOfGlobalErrors,r.idsOfTestFilesWithGlobalErrors=e.idsOfTestFilesWithGlobalErrors?.reduce((a,l)=>(a[l]=!0,a),{});let n,i=!1;if(!r.lineTests&&e.idsOfTestFilesWithGlobalErrors&&r.testsByTestFile){e.tests||(e.tests={});const a=e.tests;for(const l of e.idsOfTestFilesWithGlobalErrors){const c=r.testsByTestFile[l];c&&Object.values(c).forEach(d=>{a[d.id]||(delete d.focused,a[d.id]=d)})}}const o=Object.values(e.tests||{}),s=e.tests?.[r.selection.test];if(r.selection.test!=="allLogsAndErrors"&&!s){const a=r.selection.test;if(r.selection.test="allLogsAndErrors",i=!0,!(r.numberOfDisplayedTests!==o.length)&&o.length){const c=r.testList?.[a]?.index;if(c!==void 0){const d=o[c];r.selection.test=d.id,i=!1,n=d.path}}}if(r.lineTests?.loc)if(i=!1,o.length){if(r.selection.test==="allLogsAndErrors"){const a=o[0];n=a.path,r.selection.test=a?.id}}else this._setState("logs",void 0),this._setState("errors",void 0),r.selection.test="allLogsAndErrors";if(r.testsByTestFile={},r.numberOfDisplayedTests=o.length,r.displayLimits?.tests?.apply&&(r.displayLimits.tests.applied=o.splice($t.tests).length>0),o.length===0&&this._setState("displayLimits","tests",je({apply:!0})),this._setState("testList",je(o.reduce((a,l,c)=>{const d={...l,index:c},u=l.path[0]+"";if(u){let f=r.testsByTestFile[u];f||(f=r.testsByTestFile[l.path[0]]={}),f[l.id]=d,r.testFileProgressByFile[u]||this._setState("testFileProgressByFile",u,{fileId:u,status:"idle",remainingTimeLabel:"",duration:0,isDeterminate:!1,isIdle:!0,hasTestFileProgressTime:!1})}return a[l.id]=d,a},{}))),n?this._appToCore.trackTest(n):i&&this._appToCore.trackAllLogsAndErrors(),r.selection.selectOnNextTestListUpdate){const a=this._state.testList?.[r.selection.selectOnNextTestListUpdate];a&&this.selectTest({path:a.path,id:r.selection.selectOnNextTestListUpdate}),this._setState("selection","selectOnNextTestListUpdate",void 0)}}))}onTestAddedToFilterFromEditor(e){const r=this._state.testList?.[e];r?this.selectTest({path:r.path,id:e}):this._setState("selection","selectOnNextTestListUpdate",e)}resetOverviewTestListSource(){this._appToCore.resetOverviewTestListSource(),this._setState("selection","test","allLogsAndErrors"),this._appService.untrackCodeViewerCursor()}trackCurrentLineTests(e){this._appService.shouldOpenInEditor(e)?this._appToCore.trackCurrentLineTests({source:"editor"}):this._appService.shouldOpenInBrowser(e)&&(this._appToCore.trackCurrentLineTests({source:"code-viewer"}),this._appService.trackCodeViewerCursor()),this._setState("lineTests",r=>r?{...r,active:!0}:{active:!0})}untrackCurrentLineTests(){if(!this._state.lineTests?.active||!this._state.lineTests.loc){this.resetOverviewTestListSource();return}this._appToCore.untrackCurrentLineTests(),this._setState("lineTests",e=>e?{...e,active:!1}:{active:!1})}onAllLogsAndErrors(e){this._appService.closeFind(),this._setState(Je(r=>{r.runError=e.runError;const n=!!r.runError,i=e.runError?[{id:Kt,message:e.runError.message,stack:[],header:e.runError.header}]:[],o=e.globalLogs.slice();e.globalErrors&&i.push(...e.globalErrors);const s=r.idsOfTestFilesWithGlobalErrors&&Object.keys(r.idsOfTestFilesWithGlobalErrors).length&&{...r.idsOfTestFilesWithGlobalErrors},a=Object.keys(r.filesWithExpressionsToEvaluate?.files||{}),l=a.length>0?new Set(a):void 0;o.forEach(h=>{h.fileId&&l?.delete(h.fileId)}),Object.values(e.tests).forEach(h=>{if(h.errors){const g=h.errors.map((p,m)=>({...p,id:fs(p,h,m),test:h}));i.push(...g)}h.logs&&o.push(...h.logs.map(g=>(g.fileId&&l?.delete(g.fileId),{...g,test:h}))),s&&delete s[h.path[0]]}),l?.size!==0&&this._resetExpressionsToEvaluate(l);let c,d;if(s){if(r.errors?.all){c=[];for(const h of r.errors.all){const g=h.test?.path?.[0];g&&s[g]&&(c=c||[],c.push({...h,maybeObsolete:!0}))}}if(r.logs?.items){d=[];for(const g of Object.values(r.logs.items)){const p=g.test?.path?.[0];p&&s[p]&&(g.test&&(g.test.missing=!0),d.push(...Object.values(g.logs).map(m=>({...m,maybeObsolete:!0}))))}const h=r.logs.items.global?.logs;if(h){const g={...h};e.globalLogs.forEach(p=>{delete g[p.id]}),d.push(...Object.values(g).map(p=>({...p,maybeObsolete:!0})))}}}c&&i.push(...c),d&&o.push(...d),r.displayLimits?.errors?.apply?(r.displayLimits.errors.applied=i.splice($t.errors).length>0,r.displayLimits.allErrorsLimitApplied=r.displayLimits.errors.applied):r.displayLimits&&(r.displayLimits.allErrorsLimitApplied=!1,i.length<$t.errors&&this._startApplyingErrorsDisplayLimits());const u={};let f=0;if(i.forEach((h,g)=>{h.maybeObsolete?ha(h):ro(h,{marked:h.id&&!!this._state.selection.implicit.errors?.has(h.id)||void 0,active:this._state.selection.implicit.error===h.id,allowSkippingCompactDiff:this._appService.appSettings()[0].errors.diff?.compact==="auto"}),f+=h.size||0,(g>=$t.errorsWithFullDisplayOnly||g>0&&f>$t.errorSizeBytesWithFullDisplayOnly)&&(h.allowToDisplayFullyTruncated=!0),u[h.id]=h}),r.displayLimits?.logs?.apply?(r.displayLimits.logs.applied=o.splice($t.logs).length>0,r.displayLimits.allLogsLimitApplied=r.displayLimits.logs.applied):r.displayLimits&&(r.displayLimits.allLogsLimitApplied=!1,o.length<$t.logs&&this._startApplyingLogsDisplayLimits()),o.length>0){const h=Qt.updateLogs(this._state,o,r.selection.log,r.logs?.showStackTraceFor);r.selection.log=h.selected,this._setState("logs",je({items:h.items,maybeObsolete:n,stackTraceToShow:h.stackTraceToShow})),r.hasAnyLogs=!0}else r.logs=void 0,r.hasAnyLogs=!1;i.length>0?this._setState("errors",je({singleTestSelected:!1,all:i,maybeObsolete:n,allById:u})):r.errors=void 0,delete r.selection.implicit.test,delete r.selection.implicit.error,delete r.selection.implicit.log}))}onSelectedEntities(e){if(e.tests&&e.tests.length>0&&!this._state.debuggerState?.started)this._updateTestsSelection(e.tests)&&this._state.displayLimits?.tests?.applied&&this.loadRestOfTests(),!e.suppressFocus&&(!e.target||e.target==="overview")&&this._focus("overview.tests");else{if(e.errors&&e.errors.length>0){const r=this._updateErrorsSelection(e.errors);if(!e.logs||e.logs.length===0){r&&((this._state.displayLimits?.errors?.applied||this._state.displayLimits?.allErrorsLimitApplied)&&(!this._state.debuggerState?.started&&this._state.selection.test!=="allLogsAndErrors"?this._setState("displayLimits","errors",je({apply:!1})):this.loadRestOfErrors()),this._state.debuggerState?.started||(this._state.showTestTree?e.firstEntityOwner&&this._testsService?.restoreSelection(e.firstEntityOwner)||this._appService.appSettings()[1]("overviewTests","tree",!1):this.selectAllLogsAndErrors())),!e.suppressFocus&&(!e.target||e.target==="overview")&&this._focus("overview.errors");return}}else this._updateErrorsSelection([]);e.logs&&e.logs.length>0?(Qt.updateLogsSelection(this._state,this._setState,e.logs,{diagram:e.diagram})&&((this._state.displayLimits?.logs?.applied||this._state.displayLimits?.allLogsLimitApplied)&&(!this._state.debuggerState?.started&&this._state.selection.test!=="allLogsAndErrors"?this._setState("displayLimits","logs",je({apply:!1})):this.loadRestOfLogs()),this._state.debuggerState?.started||(this._state.showTestTree?e.firstEntityOwner&&this._testsService?.restoreSelection(e.firstEntityOwner)||this._appService.appSettings()[1]("overviewTests","tree",!1):this.selectAllLogsAndErrors())),!e.suppressFocus&&(!e.target||e.target==="overview")&&this._focus("overview.logs")):Qt.updateLogsSelection(this._state,this._setState,[],{diagram:e.diagram})}}onAutoSelectedEntities(e){Qt.updateLogsSelection(this._state,this._setState,e.logs,{markOnly:!0})}onDebuggerStateChanged(e){this._setState("debuggerState",e.started?je(e):void 0),e?.current?.frame?.frame!==void 0&&this._state.debuggerCallStack?.frame!==void 0&&this._state.debuggerCallStack.stack.find(r=>r.frame===e.current.frame.frame)||this._setState("debuggerCallStack",void 0)}clearDebuggerCallStack(){this._setState("debuggerCallStack",void 0)}onCallStackAvailable(e){wc(e.stack),this._setState("debuggerCallStack",e),this._appService.isIntegratedQuokkaOutput()||this._appService.openPanelIfRequired(pe.OverviewDebuggerStatus)}onTestNotFound(){this.selectAllLogsAndErrors()}onStartupEvent(e){this._setState("startupEvents",r=>[...r.slice(-100),e])}onTrackedCursorLocation(e){this._setState("lineTests",{active:!0,loc:e})}onRunErrorChanged(e){this._appService.closeFind(),this._setState(Je(r=>{const n=!!r.runError;if(!(!n&&!e)){if(r.runError=e,e){r.errors?r.errors.maybeObsolete=!0:r.errors={singleTestSelected:!1,all:[],allById:{},maybeObsolete:!0};const i={id:Kt,message:e.message,stack:[],header:e.header};r.errors.all[0]?.id===Kt?r.errors.all[0]=i:r.errors.all.unshift(i),r.errors.allById[Kt]=i}else r.errors?.all[0]?.id===Kt&&r.errors.all.shift(),delete r.errors?.allById?.[Kt];this._setState("errors",je(r.errors)),r.logs&&(n?e||this._setState("logs",i=>({...i,maybeObsolete:void 0})):this._setState("logs",i=>({...i,maybeObsolete:!0})))}}))}onTestDetails(e){this._appService.closeFind(),this._setState(Je(r=>{r.runError=e.runError;const n=!!r.runError;let i,o,s;if(e.missing){if(r.errors?.all){i=[];for(const d of r.errors.all)d.test?.id===e.id&&(d.maybeObsolete=!0,i.push(d))}r.logs?.items&&(o=Object.values(r.logs?.items[e.id]?.logs||{}).map(d=>({...d,maybeObsolete:!0})))}r.debuggerState?.current?.watchExpressions&&(s=Object.values(r.debuggerState.current.watchExpressions).map(d=>({id:d.id,fileId:d.fileId,watchExpressionId:d.id,value:{autoExpand:!0},watchExpressionWithNoValue:!0,loc:{file:d.file,line:d.range[0],column:d.range[1]}})));const a=(r.runError?[{id:Kt,message:r.runError.message,stack:[],header:r.runError.header}]:[]).concat(e.globalErrors||[]).concat(i||e.errors.map((d,u)=>({...d,id:fs(d,e,u),test:e})));r.displayLimits?.errors?.apply?r.displayLimits.errors.applied=a.splice($t.errors).length>0:r.displayLimits&&a.length<$t.errors&&this._startApplyingErrorsDisplayLimits();const l={};a.forEach(d=>{d.maybeObsolete||ro(d,{marked:d.id&&!!this._state.selection.implicit.errors?.has(d.id)||void 0,active:this._state.selection.implicit.error===d.id,allowSkippingCompactDiff:this._appService.appSettings()[0].errors.diff?.compact==="auto"}),l[d.id]=d});const c=(o||[]).concat(s||[]).concat(e.logs||[]);if(r.displayLimits?.logs?.apply?r.displayLimits.logs.applied=c.splice($t.logs).length>0:r.displayLimits&&c.length<$t.logs&&this._startApplyingLogsDisplayLimits(),c.length>0){const d=Qt.updateLogs(this._state,c,r.selection.log,r.logs?.showStackTraceFor,e);r.selection.log=d.selected,this._setState("logs",je({items:d.items,maybeObsolete:n,stackTraceToShow:d.stackTraceToShow}))}else r.logs=void 0;a.length>0?this._setState("errors",je({singleTestSelected:!0,all:a,maybeObsolete:n,allById:l})):r.errors=void 0,delete r.selection.implicit.test,delete r.selection.implicit.error,delete r.selection.implicit.log}))}onActiveEditorFileStatusChanged(e){e.fileStatus!==void 0?this._setState("activeEditorFileStatus",je(e.fileStatus)):this._setState("activeEditorFileStatus",void 0)}onTestFileProgress(e){this._progress||(this._progress=new AC(()=>this._state.testFileProgressByFile,(r,n)=>this._setState("testFileProgressByFile",r,n),r=>this._setState(Je(n=>{const i=n.testFileProgressByFile;for(const s in r){const a=i[s],l=r[s];a&&a.status===l.status&&a.estimatedCompletionTime===l.estimatedCompletionTime||(i[s]=a?{...a,...l}:{...l})}const o=n.testsByTestFile?new Set(Object.keys(n.testsByTestFile)):void 0;if(o)for(const s in i)o.has(s)||delete i[s]})))),this._progress.applyProgress(e.testFileProgress)}dispose(){this._disposable.dispose()}_resetExpressionsToEvaluate(e){this._setState(Je(r=>{Qt.resetExpressionsToEvaluate(r,e)}))}_updateTestsSelection(e){let r=!1;if(e){const n=this._state.selection.implicit.test;n&&this._setState("testList",n,o=>({...o,selection:void 0}));const i=e.length>0?e[0]:void 0;if(i){const o=this._state.testList?.[i];o?this.selectTest(o):r=!0,this._setState("testList",i,s=>({...s,selection:{active:!0}}))}this._setState("selection","implicit","test",i)}return r}_updateErrorsSelection(e){let r=!1;if(e){const n=e.length>0?e[0]:void 0,i=this._state.selection.implicit.errors||new Set,o=new Set(e);this._state.errors?(i.forEach(s=>{this._state.errors.allById?.[s]&&this._setState("errors","allById",s,a=>({...a,selection:void 0}))}),o.forEach(s=>{this._state.errors.allById?.[s]?this._setState("errors","allById",s,a=>({...a,selection:{active:s===n,marked:!0}})):r=!0})):r=!0,this._setState("selection","implicit",Je(s=>{s.error=n,s.errors=o}))}return r}_focus(e){this._setState("selection","namespace",void 0),this._setState("selection","namespace",e),this._appService.isStandalone()||this._appToCore.focus("overview")}static Provider}const[dV,_o]=Ar(t=>t.initial);zb.Provider=dV;var _x=D("<div class=h-[15%]>"),uV=D('<div class="marker z-20 bg-[--foreground] opacity-15 brightness-125">'),yx=D('<span class="codicon codicon-lock !text-[length:--panel-smaller-font-size] text-[--editor-code-lens-foreground] opacity-60">'),hV=D('<div class="absolute bottom-[-0.25rem] top-[-0.25rem] z-50 opacity-80 [&amp;_div.resizer]:absolute [&amp;_div.resizer]:top-0 [&amp;_div.resizer]:h-full [&amp;_div.resizer]:w-1 [&amp;_div.resizer]:cursor-col-resize [&amp;_div.resizer]:bg-[--editor-line-number-foreground]"><div class="h-full w-full bg-[--subtle-foreground] opacity-20"></div><div class="absolute left-0 right-0 top-0 z-10 h-[40%] cursor-grab"></div><div class="resizer left-0 z-0"></div><div class="resizer right-0 z-0">'),fV=D('<div class="relative h-[35%] w-full border border-[var(--editor-hover-widget-border)] [&amp;_div.area]:absolute [&amp;_div.area]:bottom-0 [&amp;_div.area]:top-0 [&amp;_div.marker.cut]:bottom-[-0.25rem] [&amp;_div.marker.cut]:top-[100%] [&amp;_div.marker.echo]:bottom-[-0.25rem] [&amp;_div.marker.echo]:top-[unset] [&amp;_div.marker.echo]:h-[0.5rem] [&amp;_div.marker.long]:bottom-[-0.25rem] [&amp;_div.marker]:absolute [&amp;_div.marker]:bottom-[-0.0625rem] [&amp;_div.marker]:top-[-0.0625rem] [&amp;_div.marker]:w-[0.0625rem]"><div class="marker long invisible z-40 bg-[--editor-code-lens-foreground]"></div><div class="marker z-20 bg-[--foreground] brightness-125"></div><div class="area stripes left-0 z-0 flex cursor-default items-center justify-center border-r border-r-[var(--editor-hover-widget-border)]"></div><div class="area stripes right-0 z-0 flex cursor-default items-center justify-center border-l border-l-[var(--editor-hover-widget-border)]">'),gV=D('<div class="code flex h-[35%] w-full flex-row [&amp;_div.marker]:mt-[0.0625rem] [&amp;_div.marker]:h-[0.125rem] [&amp;_div.marker]:w-full [&amp;_div.step]:relative [&amp;_div.step]:z-0 [&amp;_div.step]:box-border [&amp;_div.step]:h-full [&amp;_div.step]:cursor-pointer [&amp;_div.step]:border-r [&amp;_div.step]:border-r-[--panel-view-background] [&amp;_div.step]:text-[length:--panel-smallest-font-size] [&amp;_div.tile-background]:absolute [&amp;_div.tile-background]:z-0 [&amp;_div.tile-background]:h-full [&amp;_div.tile-background]:w-full [&amp;_div.tile]:relative [&amp;_div.tile]:flex [&amp;_div.tile]:h-full [&amp;_div.tile]:w-full [&amp;_div.tile]:items-center [&amp;_div.tile]:justify-center [&amp;_div.tile]:font-bold [&amp;_div.transition]:absolute [&amp;_div.transition]:left-[-35%] [&amp;_div.transition]:top-[-0.125rem] [&amp;_div.transition]:h-[0.0625rem] [&amp;_div.transition]:w-[70%] [&amp;_span.loc]:z-10 [&amp;_span.loc]:leading-[--panel-smallest-font-size]">'),pV=D('<div class="relative flex h-full flex-col px-2"><div class="mb-1.5 h-full">'),mV=D('<div class="marker echo z-20 bg-[--foreground]">'),vV=D('<div class="marker long z-10 bg-[--error-foreground]">'),bV=D('<div class="marker long z-10 bg-[--link-foreground] opacity-60 brightness-125">'),_V=D('<div class="marker long z-30 bg-[--stack-frame-highlight]">'),yV=D('<div class="marker cut z-0 bg-[--editor-hover-widget-border]">'),wV=D('<div class="step !cursor-default"><div class=tile><div class=tile-background>'),kV=D("<span class=loc>"),SV=D("<div class=transition>"),xV=D('<div class="marker z-10 bg-[--foreground] brightness-125">'),TV=D('<div class="marker z-10 bg-[--foreground] opacity-40 brightness-125">'),EV=D('<div class="marker z-10 bg-[--stack-frame-highlight]">'),CV=D('<div class="marker bg-[--error-foreground]">'),LV=D('<div class="marker bg-[--link-foreground] opacity-60 brightness-125">'),IV=D("<div class=step><div class=tile><div class=tile-background>"),AV=D("<li>"),FV=D('<div class="flex h-full flex-col"><div class="flex max-h-7 flex-row items-center justify-center py-1 shadow-[var(--widget-shadow)]"><div class="flex-grow truncate px-2 py-0.5 pr-1 text-[length:--small-header-font-size] font-bold uppercase">Call Stack</div><div class="ml-auto flex pr-1 [&amp;_li]:flex [&amp;_li_button]:mx-[0.0625rem] [&amp;_li_button]:!text-[length:--icon-font-size]"><ul class="flex flex-row items-center justify-center"><li></li></ul></div></div><div class="panel-font-size flex flex-grow cursor-text flex-col overflow-y-auto outline-none">'),RV=D('<div class="pad h-full overflow-y-auto">'),PV=D('<div class="flex h-full flex-col"><div class="pad flex cursor-default flex-col overflow-y-auto"><div class=legend><div class="color timeline relative"><div class="absolute mx-auto h-full w-[0.0625rem] bg-[--error-foreground]"></div></div><div class=text>step with error</div></div><div class=legend><div class="color timeline relative"><div class="absolute mx-auto h-full w-[0.0625rem] bg-[--link-foreground] brightness-125"></div></div><div class=text>step with log</div></div><div class=legend><div class="color timeline relative"><div class="absolute mx-auto h-full w-[0.0625rem] bg-[--foreground] brightness-125"></div></div><div class=text>active step</div></div><div class=legend><div class="color timeline relative"><div class="absolute mx-auto h-full w-[0.0625rem] bg-[--stack-frame-highlight]"></div></div><div class=text>call stack step</div></div><div class=legend><div class=color>7</div><div class=text>step at </div></div><div class="legend relative"><div class="absolute left-[0.1875rem] top-[0.125rem] h-[0.0625rem] w-[0.3125rem]"></div><div class="color !mr-0 !h-2.5 !w-[0.3125rem]"></div><div class="color ml-[0.0625rem] !h-2.5 !w-[0.3125rem]"></div><div class=text>function switch between 2 steps</div></div><div class="legend relative"><div class="absolute bottom-0.5 left-0 h-[0.125rem] w-[0.6875rem] bg-[--foreground] brightness-125"></div><div class="color mb-0.5 !h-2"></div><div class=text>active step</div></div><div class="legend relative"><div class="absolute bottom-0.5 left-0 h-[0.125rem] w-[0.6875rem] bg-[--error-foreground]"></div><div class="color mb-0.5 !h-2"></div><div class=text>step with error</div></div><div class="legend relative"><div class="absolute bottom-0.5 left-0 h-[0.125rem] w-[0.6875rem] bg-[--link-foreground] brightness-125"></div><div class="color mb-0.5 !h-2"></div><div class=text>step with log</div></div><div class="legend relative"><div class="absolute bottom-0.5 left-0 h-[0.125rem] w-[0.6875rem] bg-[--stack-frame-highlight]"></div><div class="color mb-0.5 !h-2"></div><div class=text>call stack step</div></div><div class=legend><div class=color></div><div class=text>step with no code mapping'),$V=D("<span>@ "),DV=D('<div class="code px-2 tracking-tight"><span class="whitespace-pre text-[var(--token-scope-function-foreground)]">'),OV=D('<div class="legend actionable"><div class=color></div><div class=text></div><div class=icon>'),BV=D('<div class="-mb-1 flex flex-row items-center"><div class="header-font-size header-tracking flex-grow select-none truncate px-2.5 font-bold uppercase">test timeline</div><div class="ml-auto flex flex-row items-center whitespace-nowrap pr-1.5 [&amp;_button]:mx-0.5 [&amp;_button]:!text-[length:--panel-larger-font-size] hover:[&amp;_button]:text-[--input-option-active-foreground]"><div class="flex items-center [&amp;_button]:text-[--editor-warning-foreground]"></div><div class="flex items-center brightness-110 [&amp;_button]:text-[--editor-info-foreground]">'),MV=D('<div class="legend pad min-h-6 !max-w-[unset] items-center justify-center truncate !pr-1"><div class="header-tracking flex-grow select-none truncate text-[length:--small-header-font-size] font-bold uppercase">Indicator Guide');function NV(t){let e=t.length,r;for(;e!=0;)r=Math.floor(Math.random()*e),e--,[t[e],t[r]]=[t[r],t[e]];return t}let wx=[{background:"#fba25c",foreground:"#1e1e1e"},{background:"#b6d67a",foreground:"#1e1e1e"},{background:"#ddc027",foreground:"#1e1e1e"},{background:"#cbd5e1",foreground:"#333"},{background:"#f87171",foreground:"#1e1e1e"},{background:"#24d8c6",foreground:"#1e1e1e"},{background:"#d5c0fe",foreground:"#1e1e1e"},{background:"#97d2fe",foreground:"#1e1e1e"},{background:"#0e7490",foreground:"#cfcfcf"},{background:"#fed7aa",foreground:"#1e1e1e"}].concat(NV([{background:"#64748b",foreground:"#cfcfcf"},{background:"#52525b",foreground:"#cfcfcf"},{background:"#d6d3d1",foreground:"#333"},{background:"#78716c",foreground:"#cfcfcf"},{background:"#decaca",foreground:"#1e1e1e"},{background:"#b91c1c",foreground:"#cfcfcf"},{background:"#ea580c",foreground:"#1e1e1e"},{background:"#9a3412",foreground:"#cfcfcf"},{background:"#eab308",foreground:"#1e1e1e"},{background:"#a16207",foreground:"#cfcfcf"},{background:"#a3e635",foreground:"#1e1e1e"},{background:"#65a30d",foreground:"#1e1e1e"},{background:"#99f6e4",foreground:"#1e1e1e"},{background:"#0f766e",foreground:"#cfcfcf"},{background:"#67e8f9",foreground:"#1e1e1e"},{background:"#06b6d4",foreground:"#1e1e1e"},{background:"#818cf8",foreground:"#1e1e1e"},{background:"#4f46e5",foreground:"#cfcfcf"},{background:"#e879f9",foreground:"#1e1e1e"},{background:"#c026d3",foreground:"#cfcfcf"}]));const Ki="unknown",[GV,UV]=z(!0),[qo,_v]=z(new Map,{equals:!1}),WV=qo;function UC(){_v(t=>(t.clear(),t.set(Ki,{name:"Unknown",background:"var(--editor-hover-widget-border)",foreground:"var(--foreground)"})))}UC();function kl(t,e){let r=qo().get(t);return r?e&&r.name!==e&&(r.name=e,_v(n=>n)):(r={...wx[(qo().size-1)%wx.length],name:e||t},_v(n=>n.set(t,r))),r}function WC(t){const e=Ge(),[r]=e.appSettings(),n=()=>r.debugger.codePreview,i=()=>r.debugger.echo,o=()=>r.debugger.lockPrePost||!1,s=U(()=>{const he=t.state.errors?.all.filter(ge=>ge.traceFrame).map(ge=>ge.traceFrame),Te=t.state.selection.log?.logOrExpressionId;let Fe;const _e=Object.values(t.state.logs?.items||{}).reduce((ge,me)=>(Object.values(me.logs).forEach(Pe=>{Pe.traceFrame&&!Pe.watchExpressionId&&(ge.push(Pe.traceFrame),Te===Pe.id&&(Fe=Pe.traceFrame))}),ge),[]),X=t.state.debuggerCallStack?.stack.map(ge=>ge.frame).filter(ge=>ge!==void 0&&ge!==t.state.debuggerState?.current?.frame.frame),K=new Set([...he||[],..._e,...X||[]]);Fe!==void 0&&K.add(Fe);const fe=Object.values(t.state.debuggerState?.current?.trace.files||{}),j=fe.length===1?fe[0].functions:void 0;return{...t.state.debuggerState?.current,trace:{...t.state.debuggerState?.current?.trace,watchedSteps:t.state.debuggerState?.current?.trace.watchedSteps,echoSteps:t.state.debuggerState?.current?.trace.echoSteps,errors:he,logs:_e,callStack:X,selectedLog:Fe,files:t.state.debuggerState?.current?.trace.files},allKnownSteps:K,errors:new Set(he),logs:new Set(_e),echo:new Set(t.state.debuggerState?.current?.trace.echoSteps?.steps),callStack:new Set(X),functionsOfSingleFile:j}}),[a,l]=z({current:t.state.debuggerState.current.frame.frame}),[c,d]=z(!1);we(()=>t.state.debuggerState?.current?.frame.frame,he=>{a().current!==he&&(l(Te=>({current:he,previous:Te.current})),c()?d(!1):I.updateZoom({zoomStep:he}))},{defer:!0});const[u,f]=z(null),[h,g]=z(null),[p,m]=z(null),[b,k]=z(null),[_,v]=z(null),{elementX:x,isOutside:S,elementWidth:w}=qi(h,{handleOutside:!1}),{elementX:T,isOutside:L}=qi(u,{handleOutside:!1}),{stop:E}=zL(L,he=>{he||(I.useDebouncedStepDataRequest(),E())}),{isOutside:C}=qi(p,{handleOutside:!1}),{isOutside:F}=qi(b,{handleOutside:!1}),{isOutside:$}=qi(_,{handleOutside:!1}),[O,M]=z(0);Ii(h,([he])=>{M(he.borderBoxSize[0].inlineSize-1),I.updateZoom({force:!0})});const I=new zV(s,O,o),[W,q]=z(null),[G,H]=z(!1);we(G,he=>{he&&e.featureUsed("timelineZoom")},{defer:!0});const J=I.zoomedAreaStepGrid(),Z=U(()=>J().steps.length),te=I.showStepTileBorder(),ee=U(()=>Z()&&Math.min(Math.round(2*(W()?.childElementCount||0)/100),10)),{x:le,isDragging:de}=Xd(p,{preventDefault:!0,stopPropagation:!1}),B=U(()=>le()-(h()?.offsetLeft||0)+1);we(B,al(he=>{H(!0),I.updateMinimapZoomLeft(he,{snapToKnownStep:!0})},ee),{defer:!0});const{x:ie,isDragging:ce}=Xd(b,{preventDefault:!0,stopPropagation:!0}),ke=U(()=>ie()-(h()?.offsetLeft||0)+1),{x:xe,isDragging:Ae}=Xd(_,{preventDefault:!0,stopPropagation:!0}),Ne=U(()=>xe()-(h()?.offsetLeft||0)+1);we(ke,al(he=>{H(!0),I.updateMinimapZoomSizeFromLeft(he)},ee),{defer:!0}),we(Ne,al(he=>{H(!0),I.updateMinimapZoomSizeFromRight(he)},ee),{defer:!0});const Re=U(()=>C()&&F()&&$()&&!de()&&!ce()&&!Ae());Vt(()=>{UC(),M(w()),I.updateZoom({zoomStep:s().frame.frame})}),we(o,()=>{I.updateZoom({force:!0})},{defer:!0});const[et,ue]=z(!0);we(s,()=>{I.updateZoom({force:!0});const he=Object.values(s().trace.files||{}),Te=Object.entries(s().functionsOfSingleFile||{});ue(!Te.length),Te.length?Te.forEach(Fe=>kl(Fe[0]||Ki,Fe[1].name)):he.forEach(Fe=>kl(Fe.name||Ki))},{defer:!0}),we(I.hasPrePostTestSections(),he=>{UV(he)}),we(i,he=>{he?e.sendCurrentStepEcho():e.stopSendingCurrentStepEcho()}),we([u],()=>{if(u()){const[he,Te]=z(0),[Fe,_e]=z(0),K=al(()=>{I.updateZoom({deltaX:he(),deltaY:Fe(),mouseX:T()}),Te(0),_e(0),H(!0)},U(()=>Math.round(te()?2*Z()/100:0))),fe=j=>{const Q=j;Te(ge=>ge+Q.deltaX*(Q.ctrlKey?100:1)),_e(ge=>ge+Q.deltaY*(Q.ctrlKey?100:1)),K()};u().addEventListener("mousewheel",fe,{passive:!0})}});const Se=U(()=>{const he=s().trace.watchedSteps;return J().steps.reduce((Te,Fe)=>(Te.steps[Fe.n]={...he?.[Fe.n]||{},...Fe},Te),{steps:{}})}),De=U(()=>{if(s().trace.echoSteps)return{left:Math.abs(s().trace.echoSteps.steps[0]-s().frame.frame),right:Math.abs(s().trace.echoSteps.steps.slice(-1)[0]-s().frame.frame)}}),Ke=he=>{const Te=De();if(Te){const Fe=he-s().frame.frame;return 1-Math.abs(Fe)/(Fe<0?Te.left:Te.right)}return 0},Ue=U(()=>parseFloat(getComputedStyle(document.body)?.getPropertyValue("--panel-font-size").split("px")[0])-2),be=U(()=>G5*Ue()/10),He=I.miniMapStepGrid(),dt=I.preTestSection(),Le=I.postTestSection(),Oe=I.lockPrePostTestSections(),Ve=I.canMoveZoomControl(),Qe=I.canResizeZoomControl(),st=I.zoomLeft(),lt=I.zoomWidth(),ut=he=>he.func?.toString()||he.file||Ki,ne=(he,Te)=>s().functionsOfSingleFile?Te.func===he.func:Te.file===he.file;return(()=>{var he=pV(),Te=he.firstChild;return ae(f,Te),A(Te,y(V,{get when(){return t.state.debuggerState.current.trace.length>1},get children(){return[_x(),(()=>{var Fe=fV(),_e=Fe.firstChild,X=_e.nextSibling,K=X.nextSibling,fe=K.nextSibling;return Fe.$$click=()=>{if(!S()&&Re()){const j=I.minimapStepIndexByX(x(),{snapToKnownStep:!0});e.stepInDebugger({frame:j,playToExactFrame:!0}),I.updateZoom({zoomStep:j})}},ae(g,Fe),A(Fe,y(V,{get when(){return U(()=>a().previous!==void 0&&a().previous!==s().frame.frame)()&&!I.isKnownStepByNumber(a().previous)},get children(){var j=uV();return oe(()=>I.minimapStepX(a().previous)+"px"!=null?j.style.setProperty("left",I.minimapStepX(a().previous)+"px"):j.style.removeProperty("left")),j}}),K),A(Fe,y(It,{get each(){return U(()=>!!i())()&&s().trace.echoSteps?.steps||[]},children:j=>y(V,{get when(){return j!==s().frame.frame},get children(){var Q=mV();return oe(ge=>{var me=I.minimapStepX(j)+"px",Pe=s().trace.echoSteps.capped?Ke(j):void 0;return me!==ge.e&&((ge.e=me)!=null?Q.style.setProperty("left",me):Q.style.removeProperty("left")),Pe!==ge.t&&((ge.t=Pe)!=null?Q.style.setProperty("opacity",Pe):Q.style.removeProperty("opacity")),ge},{e:void 0,t:void 0}),Q}})}),K),A(Fe,y(It,{get each(){return s().trace.errors||[]},children:j=>(()=>{var Q=vV();return oe(()=>I.minimapStepX(j)+"px"!=null?Q.style.setProperty("left",I.minimapStepX(j)+"px"):Q.style.removeProperty("left")),Q})()}),K),A(Fe,y(It,{get each(){return(s().trace.logs||[]).slice(0,1e3)},children:j=>(()=>{var Q=bV();return oe(ge=>{var me=j===s().trace.selectedLog,Pe=I.minimapStepX(j)+"px";return me!==ge.e&&Q.classList.toggle("!opacity-100",ge.e=me),Pe!==ge.t&&((ge.t=Pe)!=null?Q.style.setProperty("left",Pe):Q.style.removeProperty("left")),ge},{e:void 0,t:void 0}),Q})()}),K),A(Fe,y(It,{get each(){return s().trace.callStack||[]},children:j=>(()=>{var Q=_V();return oe(()=>I.minimapStepX(j)+"px"!=null?Q.style.setProperty("left",I.minimapStepX(j)+"px"):Q.style.removeProperty("left")),Q})()}),K),A(Fe,y(It,{get each(){return He().steps},children:j=>(()=>{var Q=yV();return oe(()=>j.x+"px"!=null?Q.style.setProperty("left",j.x+"px"):Q.style.removeProperty("left")),Q})()}),K),A(K,y(V,{get when(){return U(()=>!!Oe())()&&dt().textVisible},get children(){return yx()}})),A(fe,y(V,{get when(){return U(()=>!!Oe())()&&Le().textVisible},get children(){return yx()}})),A(Fe,y(V,{get when(){return Ve()||Qe()},get children(){var j=hV(),Q=j.firstChild,ge=Q.nextSibling,me=ge.nextSibling,Pe=me.nextSibling;return ae(m,ge),ae(k,me),ae(v,Pe),oe(Be=>{var We=st()-1+"px",nt=lt()+3+"px",it={"cursor-grabbing !h-full":de()&&Ve(),"!cursor-default":!Ve()},bt=!Qe(),gt=!Qe();return We!==Be.e&&((Be.e=We)!=null?j.style.setProperty("left",We):j.style.removeProperty("left")),nt!==Be.t&&((Be.t=nt)!=null?j.style.setProperty("width",nt):j.style.removeProperty("width")),Be.a=Et(ge,it,Be.a),bt!==Be.o&&me.classList.toggle("!cursor-default",Be.o=bt),gt!==Be.i&&Pe.classList.toggle("!cursor-default",Be.i=gt),Be},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),j}}),null),oe(j=>{var Q=!!(!S()&&Re()),ge=!!I.isKnownOrCurrentStepByX(x()),me=I.minimapClosestStepX(x())+"px",Pe=!I.isKnownStepByNumber(s().frame.frame),Be=I.minimapStepX(s().frame.frame)+"px",We=!dt().visible,nt=!Oe(),it=dt().width+"px",bt=!Le().visible,gt=!Oe(),xt=Le().x+"px";return Q!==j.e&&_e.classList.toggle("!visible",j.e=Q),ge!==j.t&&_e.classList.toggle("opacity-40",j.t=ge),me!==j.a&&((j.a=me)!=null?_e.style.setProperty("left",me):_e.style.removeProperty("left")),Pe!==j.o&&X.classList.toggle("long",j.o=Pe),Be!==j.i&&((j.i=Be)!=null?X.style.setProperty("left",Be):X.style.removeProperty("left")),We!==j.n&&K.classList.toggle("hidden",j.n=We),nt!==j.s&&K.classList.toggle("opacity-30",j.s=nt),it!==j.h&&((j.h=it)!=null?K.style.setProperty("width",it):K.style.removeProperty("width")),bt!==j.r&&fe.classList.toggle("hidden",j.r=bt),gt!==j.d&&fe.classList.toggle("opacity-30",j.d=gt),xt!==j.l&&((j.l=xt)!=null?fe.style.setProperty("left",xt):fe.style.removeProperty("left")),j},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),Fe})(),_x(),(()=>{var Fe=gV();return ae(q,Fe),A(Fe,()=>{let _e=0,X=!1;return Object.values(Se().steps).map(K=>{const fe=Se().steps,j=ut(K);let Q=kl(j);const ge=Q.name,me=fe[K.n-1];if(!Xt(te)){const xt=X||me&&ne(K,me);return xt?(K.accumulatorStep=me.accumulatorStep!==void 0?me.accumulatorStep:me.n,fe[K.accumulatorStep].accumulatorWidth[1](Fr=>Fr+K.width)):(_e++,K.accumulatorWidth=z(K.width),_e>500&&(X=!0,Q={background:"inherit",foreground:"inherit",name:"..."})),xt?null:(()=>{var lr=wV(),Fr=lr.firstChild,mt=Fr.firstChild;return ae(re,lr,()=>re&&{content:ge}),oe(Pt=>{var Br=K.accumulatorWidth[0]()+"px",$s=Q.background;return Br!==Pt.e&&((Pt.e=Br)!=null?lr.style.setProperty("width",Br):lr.style.removeProperty("width")),$s!==Pt.t&&((Pt.t=$s)!=null?mt.style.setProperty("background",$s):mt.style.removeProperty("background")),Pt},{e:void 0,t:void 0}),lr})()}const Be=et()&&me&&K.file===me.file&&K.depth!==me.depth;let We=!1,nt=!1,it=!1;const bt=K.width-2;K.file&&(nt=(K.line||"").toString().length*be()<bt,nt?it=((K.line??"").toString().length+1+(K.columnRange?.[0]??"1").toString().length)*be()<bt:be()*.75<bt&&(We=!0));const gt=U(()=>{if(n()&&!(!it&&!nt&&!We))return{file:K.file,line:K.line,column:K.columnRange?.[0],navigatable:!0,context:K.file!==ge?ge:void 0,color:Q.background}});return(()=>{var xt=IV(),lr=xt.firstChild,Fr=lr.firstChild;return xt.$$click=()=>{e.stepInDebugger({frame:K.n,playToExactFrame:!0}),d(!0)},A(lr,y(V,{when:it||nt||We,get children(){var mt=kV();return ae(ca,mt,()=>ca&&gt()),A(mt,y(qt,{get fallback(){return""},get children(){return[y(Ce,{when:it,get children(){return[U(()=>K.line),":",U(()=>K.columnRange[0]!==void 0?K.columnRange[0]+1:1)]}}),y(Ce,{when:nt,get children(){return K.line}})]}})),oe(()=>Q.foreground!=null?mt.style.setProperty("color",Q.foreground):mt.style.removeProperty("color")),mt}}),null),A(xt,y(V,{when:Be,get children(){var mt=SV();return oe(()=>Q.background!=null?mt.style.setProperty("background",Q.background):mt.style.removeProperty("background")),mt}}),null),A(xt,y(V,{get when(){return K.n===s().frame.frame},get children(){var mt=xV();return oe(()=>mt.classList.toggle("!bottom-[-0.5rem]",!!I.isKnownStepByNumber(K.n))),mt}}),null),A(xt,y(V,{get when(){return U(()=>!!(i()&&s().echo.has(K.n)))()&&K.n!==s().frame.frame},get children(){var mt=TV();return oe(()=>mt.classList.toggle("!bottom-[-0.5rem]",!!I.isKnownStepByNumber(K.n))),mt}}),null),A(xt,y(V,{get when(){return s().callStack.has(K.n)},get children(){var mt=EV();return oe(()=>mt.classList.toggle("!bottom-[-0.5rem]",!!I.isKnownStepByNumber(K.n))),mt}}),null),A(xt,y(V,{get when(){return s().errors.has(K.n)},get children(){return CV()}}),null),A(xt,y(V,{get when(){return s().logs.has(K.n)},get children(){var mt=LV();return oe(()=>mt.classList.toggle("!opacity-100",K.n===s().trace.selectedLog)),mt}}),null),oe(mt=>{var Pt=K.width+"px",Br=Q.background;return Pt!==mt.e&&((mt.e=Pt)!=null?xt.style.setProperty("width",Pt):xt.style.removeProperty("width")),Br!==mt.t&&((mt.t=Br)!=null?Fr.style.setProperty("background",Br):Fr.style.removeProperty("background")),mt},{e:void 0,t:void 0}),xt})()})}),oe(_e=>Et(Fe,{"[&_div.step]:border-r-0":!te()},_e)),Fe})()]}})),he})()}const qV="<br/><br/>The current step echo is a visual representation of <b>other hits on the line/branch of the current frame</b>. It is useful when you want to see where else the current line of code has been executed during the test and navigate to those steps.<br/><br/>Note that number of echo steps reported is limited to 100 steps in each direction.",HV='<br/><br/>Pre-test section includes code steps executed before the test function, such as test file imports and "before" test hooks.<br/><br/>Post-test section includes steps executed after the test function, such as "after" test hooks.',Bo="Steps with runtime errors are marked with an error color on the zoomable timeline and are underlined with the same color in the zoomed-in area of the timeline.",Mo='Steps with logs (logpoints, live comments, "console.log") are marked with an link color on the zoomable timeline and are underlined with the same color in the zoomed-in area of the timeline.<br/><br/>The step of the log entry currently selected in the "Logs" list is marked with a brighter color.',No="Current step is marked with a warning color on the zoomable timeline and is underlined with the same color in the zoomed-in area of the timeline.<br/><br/>The current step echo is a visual representation of other hits on the line/branch of the current frame. It is displayed with the same color as the current step, but dimmed.",Go="Steps in the call stack are marked with a stack frame color on the zoomable timeline and are underlined with the same color in the zoomed-in area of the timeline.",qC="The zoomed-in area below the timeline displays colored tiles with line and column numbers of the executed code steps.",Sm=`${qC} The tile's color represents the file of the step.`;function VV(t){const e=Ge(),r=_o(),[n,i]=e.appSettings(),o=()=>n.debugger.codePreview,s=()=>n.debugger.echo,a=()=>n.debugger.lockPrePost,l=U(()=>{const h=Array.from(qo().entries());return h[1]||h[0]}),c=U(()=>l()?.[1]),d=U(()=>Object.keys(t.state.debuggerState?.current?.trace.files||{})),u=e.getPanelState(pe.OverviewDebuggerStatusGuide),f=U(()=>n.debugger.reverseStack);return y(wr,{header:"Debugger",headerClass:"pl-2",get tooltip(){return`Go to Debugger panel <span class="keyboard-shortcut">G</span>${e.isStandalone()?'&nbsp;<span class="keyboard-shortcut">O</span>':""}&nbsp;<span class="keyboard-shortcut">D</span>`},namespace:"overview.debugger",get onFocus(){return t.onFocus},get icons(){return[y(se,{class:"codicon-radio-tower",get tooltip(){return(s()?"Hide current step echo":"Show current step echo")+qV},onClick:()=>i("debugger","echo",!s()),get classList(){return{activeIcon:s()}},tabIndex:0,namespace:"overview.debugger.header.action"}),y(se,{class:"codicon-lock-small",get tooltip(){return(a()?"Make pre/post test sections use common scale<br/><br/>Use if you want zoom to work for the whole timeline.":"Make pre/post test sections fixed size with their own scale<br/><br/>Use if the sections take too much space and you don't want to zoom in them.")+HV},onClick:()=>i("debugger","lockPrePost",!a()),get classList(){return{"!hidden":!GV(),activeIcon:a()}},tabIndex:0,namespace:"overview.debugger.header.action"}),y(se,{class:"codicon-inspect",tooltip:"Toggle code preview display in debugger on line/column hover<br/><br/>When the timeline's zoom level allows, line and column numbers are displayed inside colored tiles that represent hits on the line/branch during test execution.",onClick:()=>i("debugger","codePreview",!o()),tabIndex:0,namespace:"overview.debugger.header.action",get classList(){return{activeIcon:o()}}}),y(V,{get when(){return t.state.debuggerState?.current?.trace?.maxLengthExceeded},get children(){return y(se,{class:"codicon-warning !text-[--editor-warning-foreground] opacity-80",tooltip:"Timeline is truncated, configure to record more steps",href:"https://wallabyjs.com/docs/config/overview.html#maximum-trace-steps",tabIndex:0,namespace:"overview.debugger.header.action"})}}),y(se,{get classList(){return{"codicon-chevron-down":t.orientation==="column","codicon-chevron-right":t.orientation==="row"}},tabIndex:0,namespace:"overview.debugger.header.action",onClick:()=>{e.setPanelState(t.panelId,h=>({...h,collapsed:!0})),t.onFocus?.("overview",!0)},tooltip:'Collapse "Debugger" panel'})]},contentClass:"panel-font-size",get children(){return y(qt,{get children(){return[y(Ce,{get when(){return t.state.debuggerCallStack},get children(){var h=FV(),g=h.firstChild,p=g.firstChild,m=p.nextSibling,b=m.firstChild,k=b.firstChild,_=g.nextSibling;return A(b,y(V,{get when(){return t.state.debuggerCallStack.stack.length>1},get children(){var v=AV();return A(v,y(se,{get classList(){return{activeIcon:f()}},tooltip:"Toggle reversed call stack order",class:"codicon-arrow-swap rotate-90 !text-[length:--icon-font-size]",tabIndex:0,onClick:()=>i("debugger","reverseStack",!f()),namespace:"debugger.logs.content.stack.header.action"})),v}}),k),A(k,y(se,{tooltip:"Close",tabIndex:0,class:"codicon-close !text-[length:--icon-font-size]",onClick:()=>{r.clearDebuggerCallStack(),t.onFocus?.("overview.debugger",!0)},namespace:"debugger.logs.content.stack.header.action"})),A(_,y(Vo,{get each(){return U(()=>!!f())()?t.state.debuggerCallStack.stack.slice().reverse():t.state.debuggerCallStack.stack},children:v=>(()=>{var x=DV(),S=x.firstChild;return A(S,()=>v().context),A(x,y(V,{get when(){return v().file},get children(){return[$V(),y(vi,{get value(){return v()},get options(){return{focus:!0,callStackFrame:v().frame!==t.state.debuggerState?.current?.frame?.frame?v():void 0}},compactFileNameOnly:!0,codeFragmentTooltipOptions:()=>v().file&&v().line?{file:v().file,line:v().line,navigatable:!0}:void 0})]}}),null),x})()})),h}}),y(Ce,{get when(){return d().length},get children(){return y(yr,{class:`
          [&_div.color]:code h-full
          w-full
          [&_div.color]:mr-1
          [&_div.color]:mt-[0.0625rem]
          [&_div.color]:flex
          [&_div.color]:h-3
          [&_div.color]:w-[0.6875rem]
          [&_div.color]:flex-shrink-0
          [&_div.color]:items-center
          [&_div.color]:justify-center
          [&_div.color]:text-[length:--panel-smallest-font-size]
          [&_div.color]:font-bold
          [&_div.icon]:ml-auto
          [&_div.icon]:flex
          [&_div.icon]:items-center
          [&_div.icon]:justify-center
          [&_div.legend.actionable]:-ml-2.5

          [&_div.legend.actionable]:-mr-1.5
          [&_div.legend.actionable]:h-[--panel-item-height]
          [&_div.legend.actionable]:max-w-[unset]

          [&_div.legend.actionable]:pl-2.5
          [&_div.legend.actionable]:pr-1.5
          hover:[&_div.legend.actionable]:bg-[--list-hover-background]
          [&_div.legend.actionable_div.color]:h-[0.6rem]
          [&_div.legend.actionable_div.color]:w-[0.6rem]
          [&_div.legend.actionable_div.text]:pb-[0.0625rem]
          [&_div.legend]:flex
          [&_div.legend]:min-w-0
          [&_div.legend]:max-w-fit
          [&_div.legend]:flex-row
          [&_div.legend]:items-center
          [&_div.legend]:leading-[1.8em]
          [&_div.pad]:pl-2.5

          [&_div.pad]:pr-1.5
          [&_div.text]:truncate

          [&_div.text]:text-[length:--panel-font-size]
          [&_div.timeline]:border-b
          [&_div.timeline]:border-t
          [&_div.timeline]:border-[var(--editor-hover-widget-border)]

          [&_div_button]:!p-[0.09375rem]
          [&_div_button]:!text-[length:--icon-smaller-font-size]
          `,direction:"column",get children(){return[y(St,{defaultState:{size:50},get id(){return pe.OverviewDebuggerStatusFiles},get children(){var h=RV();return A(h,y(It,{get each(){return d()},children:g=>y(V,{when:g!==Ki,get children(){var p=OV(),m=p.firstChild,b=m.nextSibling,k=b.nextSibling;return ae(re,m,()=>re&&{content:Sm}),A(b,()=>wi(g,1/0)),A(k,y(V,{get when(){return t.state.debuggerState?.current?.trace.files?.[g]},get children(){return y(se,{class:"codicon-debug-line-by-line",tooltip:"Step to the first line of the file executed by the test",onClick:()=>{const _=t.state.debuggerState?.current?.trace.files?.[g]?.start;_!==void 0&&e.stepInDebugger({frame:_,playToExactFrame:!0})}})}})),oe(()=>qo().get(g)?.background!=null?m.style.setProperty("background",qo().get(g)?.background):m.style.removeProperty("background")),p}})})),h}}),y(St,{defaultState:{size:50},get id(){return pe.OverviewDebuggerStatusGuide},get children(){var h=PV(),g=h.firstChild,p=g.firstChild,m=p.nextSibling,b=m.nextSibling,k=b.firstChild,_=k.nextSibling;_.firstChild;var v=b.nextSibling,x=v.nextSibling,S=x.firstChild,w=S.nextSibling;w.firstChild;var T=x.nextSibling,L=T.firstChild,E=L.nextSibling,C=E.nextSibling,F=T.nextSibling,$=F.firstChild,O=$.nextSibling,M=O.nextSibling;M.firstChild;var I=F.nextSibling,W=I.firstChild,q=W.nextSibling,G=I.nextSibling,H=G.firstChild,J=H.nextSibling,Z=G.nextSibling,te=Z.firstChild,ee=te.nextSibling,le=Z.nextSibling,de=le.firstChild;return A(h,y(kx,{get onFocus(){return t.onFocus}}),g),ae(re,p,()=>re&&{content:Bo}),ae(re,m,()=>re&&{content:Mo}),ae(re,b,()=>re&&{content:No}),A(_,y(V,{get when(){return s()},children:" and its echo"}),null),ae(re,v,()=>re&&{content:Go}),ae(re,x,()=>re&&{content:Sm}),A(w,(()=>{var B=U(()=>!!l()[0]);return()=>B()?wi(l()[0],1/0)+" line 7":"line 7 of a file"})(),null),ae(re,T,()=>re&&{content:`${Sm}<br/><br/>If two adjacent steps are in the same file but different functions, a horizontal line indicating the <b>function change</b> is displayed above them.`}),ae(re,F,()=>re&&{content:No}),A(M,y(V,{get when(){return s()},children:" and its echo"}),null),ae(re,I,()=>re&&{content:Bo}),ae(re,G,()=>re&&{content:Mo}),ae(re,Z,()=>re&&{content:Go}),ae(re,le,()=>re&&{content:"Steps with no code mapping typically mean executed statements of transpiled code that are not present in the original source code and can not mapped to the original source code by the provided source map."}),oe(B=>{var N=c().background,ie=c().foreground,ce=c().background,ke=c().background,xe=c().background,Ae=c().background,Ne=c().background,ve=c().background,qe=c().background,Re=kl(Ki).background;return N!==B.e&&((B.e=N)!=null?S.style.setProperty("background",N):S.style.removeProperty("background")),ie!==B.t&&((B.t=ie)!=null?S.style.setProperty("color",ie):S.style.removeProperty("color")),ce!==B.a&&((B.a=ce)!=null?L.style.setProperty("background",ce):L.style.removeProperty("background")),ke!==B.o&&((B.o=ke)!=null?E.style.setProperty("background",ke):E.style.removeProperty("background")),xe!==B.i&&((B.i=xe)!=null?C.style.setProperty("background",xe):C.style.removeProperty("background")),Ae!==B.n&&((B.n=Ae)!=null?O.style.setProperty("background",Ae):O.style.removeProperty("background")),Ne!==B.s&&((B.s=Ne)!=null?q.style.setProperty("background",Ne):q.style.removeProperty("background")),ve!==B.h&&((B.h=ve)!=null?J.style.setProperty("background",ve):J.style.removeProperty("background")),qe!==B.r&&((B.r=qe)!=null?ee.style.setProperty("background",qe):ee.style.removeProperty("background")),Re!==B.d&&((B.d=Re)!=null?de.style.setProperty("background",Re):de.style.removeProperty("background")),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),h}}),y(V,{get when(){return u().collapsed||!u().size},get children(){return y(kx,{collapsed:!0,get onFocus(){return t.onFocus}})}})]}})}})]}})}})}function jV(){const t=Ge();return(()=>{var e=BV(),r=e.firstChild,n=r.nextSibling,i=n.firstChild,o=i.nextSibling;return A(n,y(se,{class:"codicon-layers",tabIndex:0,tooltip:"Show call stack",onClick:()=>t.showCallStack()}),i),A(i,y(V,{get when(){return t.isEditorConnected()},get children(){return y(se,{class:"codicon-debug-stackframe-active rotate-180",tabIndex:0,tooltip:"Run back to breakpoint",onClick:()=>t.stepInDebugger({back:!0,runViaEditor:{breakpoint:!0}})})}}),null),A(i,y(se,{class:"codicon-debug-continue rotate-180",tabIndex:0,tooltip:"Run back to active line",onClick:s=>t.stepInDebugger({back:!0,runViaEditor:{line:!0}},s)}),null),A(i,y(se,{class:"codicon-debug-step-out",tabIndex:0,tooltip:"Step back out",onClick:()=>t.stepInDebugger({back:!0,out:!0})}),null),A(i,y(se,{class:"codicon-debug-step-into",tabIndex:0,tooltip:"Step back into",onClick:()=>t.stepInDebugger({back:!0})}),null),A(i,y(se,{class:"codicon-debug-step-back",tabIndex:0,tooltip:"Step back over",onClick:()=>t.stepInDebugger({back:!0,over:!0})}),null),A(n,y(se,{class:"codicon-debug-stop text-[--error-foreground]",tabIndex:0,onClick:()=>t.stopDebugger(),tooltip:"Stop debugger"}),o),A(o,y(se,{class:"codicon-debug-step-over",tabIndex:0,tooltip:"Step over",onClick:()=>t.stepInDebugger({over:!0})}),null),A(o,y(se,{class:"codicon-debug-step-into",tabIndex:0,tooltip:"Step into",onClick:()=>t.stepInDebugger({})}),null),A(o,y(se,{class:"codicon-debug-step-out",tabIndex:0,tooltip:"Step out",onClick:()=>t.stepInDebugger({out:!0})}),null),A(o,y(se,{class:"codicon-debug-continue",tabIndex:0,get tooltip(){return"Run to active line"+t.editorTooltipAddendum("debugger")()},onClick:s=>t.stepInDebugger({runViaEditor:{line:!0}},s)}),null),A(o,y(V,{get when(){return t.isEditorConnected()},get children(){return y(se,{class:"codicon-debug-stackframe-active",tabIndex:0,tooltip:"Run to breakpoint",onClick:()=>t.stepInDebugger({runViaEditor:{breakpoint:!0}})})}}),null),e})()}function kx(t){const e=Ge();return(()=>{var r=MV();return r.firstChild,A(r,y(se,{get classList(){return{"codicon-chevron-down":!t.collapsed,"codicon-chevron-up":t.collapsed}},get tooltip(){return`${t.collapsed?"Expand":"Collapse"} "Indicator Guide" panel`},tabIndex:0,namespace:"overview.debugger.header.action",onClick:()=>{e.setPanelState(pe.OverviewDebuggerStatusGuide,n=>t.collapsed?{...n,collapsed:!1,size:n.size||50}:{...n,collapsed:!0}),t.onFocus?.("overview.debugger",!0)}}),null),r})()}const Sx=25,xm=30;class zV{constructor(e,r,n){this._state=e,this._fullWidth=r,this._lockPrePostTestSections=n;const i=Ge();this._doRequestStepData=(u,f)=>{i.sendTraceFramesData(u,f)},this._requestStepData=()=>this._doRequestStepData;const[o,s]=z(0),[a,l]=z(0);this._zoomLeft=o,this._zoomWidth=a,this._setZoomLeft=s,this._setZoomWidth=l,this._xShift=()=>0,this._minimapStepWidth=U(()=>this._fullWidth()/(e().trace.length-1)),this._preTestSection=U(()=>{if(e().trace.testBodyStart===e().trace.testBodyEnd||e().trace.testBodyStart===0)return{x:0,width:0,visible:!1,textVisible:!1,startStep:0,endStep:0};if(e().trace.testBodyStart===e().trace.length-1)return{x:0,visible:this._sectionVisible(r()),width:r(),textVisible:this._sectionTextVisible(r()),startStep:0,endStep:e().trace.length-1};if(this._lockPrePostTestSections()){const u=this._lockedPrePostTestSectionWidth();return{x:0,width:u,visible:this._sectionVisible(u),textVisible:this._sectionTextVisible(u),startStep:0,endStep:e().trace.testBodyStart}}else{const u=this.minimapStepX(e().trace.testBodyStart)+1;return{x:0,width:u,visible:this._sectionVisible(u),textVisible:this._sectionTextVisible(u),startStep:0,endStep:e().trace.testBodyStart}}}),this._postTestSection=U(()=>{if(e().trace.testBodyStart===e().trace.testBodyEnd||e().trace.testBodyEnd>=e().trace.length-2)return{x:r()-1,width:0,visible:!1,textVisible:!1,startStep:e().trace.length-1,endStep:e().trace.length-1};if(this._lockPrePostTestSections()){const u=this._lockedPrePostTestSectionWidth();return{x:r()-1-u,width:u,visible:this._sectionVisible(u),textVisible:this._sectionTextVisible(u),startStep:e().trace.testBodyEnd+1,endStep:e().trace.length-1}}else{const u=this.minimapStepX(e().trace.testBodyEnd+1),f=r()-u-1;return{x:u,width:f,visible:this._sectionVisible(f),textVisible:this._sectionTextVisible(f),startStep:e().trace.testBodyEnd+1,endStep:e().trace.length-1}}}),this._hasPrePostTestSections=U(()=>this._preTestSection().width>0||this._postTestSection().width>0),this._testSectionWidth=U(()=>this._lockPrePostTestSections()?r()-this._preTestSection().width-this._postTestSection().width:r()),this._minimapStepWidth=U(()=>this._testSectionWidth()/(e().trace.length-1-(this._lockPrePostTestSections()?this._startStepShift()+this._endStepShift():0))),this._xShift=U(()=>this._lockPrePostTestSections()?this._preTestSection().width:0),this._minX=U(()=>this._xShift()-1),this._maxX=U(()=>this._lockPrePostTestSections()?this._preTestSection().width+this._testSectionWidth()-1:this._fullWidth()-1),this._maxZoomWidthWithStepTileBorder=U(()=>Math.min(this._testSectionWidth(),this._minimapStepWidth()*this._testSectionWidth()/5,this._minimapStepWidth()*1e3)),this._maxZoomWidth=U(()=>Math.min(this._testSectionWidth(),this._minimapStepWidth()*1500)),this._minZoomWidth=U(()=>Math.min(this._maxZoomWidth(),this._minimapStepWidth()*12)),this._showStepTileBorder=U(()=>this._zoomWidth()<=this._maxZoomWidthWithStepTileBorder()),this._canResizeZoomControl=U(()=>this._zoomWidth()<=this._maxZoomWidth()&&this._zoomWidth()>=this._minZoomWidth()&&this._minZoomWidth()<this._maxZoomWidth()&&this._isGreaterThanHalfStepSize(this._maxZoomWidth()-this._minZoomWidth())&&this._zoomWidth()>5),this._canMoveZoomRight=U(()=>this._zoomLeft()+this._zoomWidth()<this._maxX()&&this._isGreaterThanHalfStepSize(this._maxX()-this._zoomLeft()+this._zoomWidth())),this._canMoveZoomLeft=U(()=>this._zoomLeft()>this._minX()&&this._isGreaterThanHalfStepSize(this._zoomLeft()-this._minX())),this._canMoveZoomControl=U(()=>this._canMoveZoomLeft()||this._canMoveZoomRight()),this._preTestSectionStartStepWidth=U(()=>this._preTestSection().width/(this._preTestSection().endStep-this._preTestSection().startStep)),this._postTestSectionStartStepWidth=U(()=>this._postTestSection().width/(this._postTestSection().endStep-this._postTestSection().startStep)),this._minimapStepGrid=U(()=>{const u=[];if(this._minimapStepWidth()>=2)for(let g=this._startStep();g<=this._endStep();g++)u.push({x:this.minimapStepX(g),n:g});const h={steps:u,numberOfTestSectionSteps:u.length};if(this._lockPrePostTestSections()){const g=u.length>0;if(this._preTestSectionStartStepWidth()>=2)for(let p=this._preTestSection().endStep-(g?1:0);p>=this._preTestSection().startStep;p--)h.steps.unshift({x:this.minimapStepX(p),n:p});if(this._postTestSectionStartStepWidth()>=2)for(let p=this._postTestSection().startStep+(g?1:0);p<=this._postTestSection().endStep;p++)h.steps.push({x:this.minimapStepX(p),n:p})}return h});const c=this._requestStepData();this._zoomedAreaStepGrid=U(()=>{const u={steps:[]},f=[],h=w=>w,g=this.minimapStepIndexByX(this._zoomLeft(),{roundingFunction:h,ignoreSpecialSection:!0}),p=this.minimapStepIndexByX(this._zoomLeft()+this._zoomWidth()+(this._zoomLeft()+this._zoomWidth()===this._maxX()?1:0),{roundingFunction:h,ignoreSpecialSection:!0}),m=Math.ceil(g),b=Math.floor(p),k=b-m+1,_=m-g,v=p-b,x=(this._fullWidth()+1)/(_+v+k);let S=0;if(_>0){const w=_*x;f.push({x:S,n:m-1,width:w}),S=f[0].width}for(let w=m;w<=b;w++)f.push({x:S,n:w,width:x}),S+=x;if(v>0){const w=v*x;f.push({x:S,n:b+1,width:w})}if(f.length){const w=Math.round(k*Math.log10(e().trace.length)),T=Math.max(f[0].n-w,0),L=Math.min(f[f.length-1].n+w,e().trace.length-1);for(let E=T;E<=L;E++)if(!e().trace.watchedSteps?.[E]){c(T,L);break}}return u.steps=f,u});const d=U(()=>this._zoomedAreaStepGrid().steps.length);this._zoomFactor=U(()=>{const u=e().trace.length;return(d()/u)**-.75})}_isGreaterThanHalfStepSize(e){return e>this._minimapStepWidth()/2}useDebouncedStepDataRequest(){this._requestStepData=U(()=>to(this._doRequestStepData,Math.log10(this._state().trace.length)*5)),this.useDebouncedStepDataRequest=()=>{}}isKnownStepByNumber(e){return this._state().allKnownSteps.has(e)}isKnownOrCurrentStepByX(e){const r=this.minimapStepIndexByX(e);return this._state().allKnownSteps.has(r)||r===this._state().frame.frame}minimapClosestStepX(e){const r=this.minimapStepIndexByX(e,{snapToKnownStep:!0});return this.minimapStepX(r)}minimapStepX(e,r){const n=r?.minX??this._xShift()-1,i=r?.maxX??(this._lockPrePostTestSections()&&this._postTestSection().width?this._postTestSection().x:this._fullWidth()-1),o=r?.startStepShift??this._startStepShift(),s=r?.endStepShift??this._endStepShift(),a=r?.stepStandardWidth??this._minimapStepWidth(),l=r?.xShift??this._xShift();if(!r?.ignoreSpecialSection&&this._lockPrePostTestSections()&&(e<this._startStep()||e>this._endStep())){if(this._preTestSection().width&&e<this._startStep())return this.minimapStepX(e,{ignoreSpecialSection:!0,minX:-1,maxX:this._xShift(),startStepShift:0,endStepShift:this._state().trace.length-1-this._startStep(),xShift:0,stepStandardWidth:this._preTestSectionStartStepWidth()});if(this._postTestSection().width&&e>this._endStep())return this.minimapStepX(e,{ignoreSpecialSection:!0,minX:this._postTestSection().x,maxX:this._fullWidth()-1,startStepShift:this._endStep(),endStepShift:0,xShift:this._fullWidth()-this._postTestSection().width,stepStandardWidth:this._postTestSectionStartStepWidth()})}return e-o===0?n:e+s===this._state().trace.length-1?i:a*(e-o)-1+l}zoomLeft(){return this._zoomLeft}zoomWidth(){return this._zoomWidth}minimapStepIndexByX(e,r){const n=r?.startStep??this._startStep(),i=r?.endStep??this._endStep(),o=r?.stepStandardWidth??this._minimapStepWidth(),s=r?.minX??-1,a=r?.maxX??this._testSectionWidth();let l=e-(r?.xShift??this._xShift()),c=r?.startStepShift??this._startStepShift();if(!r?.ignoreSpecialSection&&this._lockPrePostTestSections()&&(e<this._preTestSection().width||e>this._postTestSection().x)){if(e<this._preTestSection().width)return this.minimapStepIndexByX(e,{ignoreSpecialSection:!0,minX:0,maxX:this._xShift(),startStep:0,endStep:this._preTestSection().endStep,startStepShift:0,xShift:0,stepStandardWidth:this._preTestSectionStartStepWidth()});if(e>this._postTestSection().x)return this.minimapStepIndexByX(e,{ignoreSpecialSection:!0,minX:0,maxX:this._postTestSection().width-2,startStep:Math.min(this._postTestSection().startStep+1,this._state().trace.length-1),endStep:this._state().trace.length-1,startStepShift:this._endStep(),xShift:this._fullWidth()-this._postTestSection().width,stepStandardWidth:this._postTestSectionStartStepWidth()})}if(l<=s)return n;if(l>=a)return i;const u=(r?.roundingFunction||Math.round)((l+1)/o)+c;if(r?.snapToKnownStep){const f=r?.snapDistancePx||2;let h=i,g=n;if(Math.abs(this.minimapStepX(g)-e)<f)return g;if(Math.abs(this.minimapStepX(h)-e)<f)return h;let p=1/0,m=1/0;for(let k of[this._state().frame.frame,...this._state().allKnownSteps,...this._state().trace.echoSteps?.steps||[]]){const _=u-k,v=Math.abs(_);_>0&&v<p&&(g=k,p=v),_<0&&v<m&&(h=k,m=v)}const b=p<m?[g,g]:[h,g];for(let k of b)if(Math.abs(this.minimapStepX(k)-e)<f)return k}return u<=n?n:u>=i?i:u}updateZoom(e){const{deltaY:r,deltaX:n,zoomStep:i}=e;if(i!==void 0){const o=this._zoomWidth()>=this._minZoomWidth()&&this._zoomWidth()<=this._maxZoomWidth()?this._zoomWidth():Math.max(this._maxZoomWidthWithStepTileBorder()/2,this._minZoomWidth()),s=this.minimapStepX(i);let a=s-o/2,l=s+o/2;a<this._minX()&&(l+=this._minX()-a,a=this._minX()),l>this._maxX()&&(a-=l-this._maxX(),l=this._maxX());const c=Math.max(l-a,this._minZoomWidth()),d=this._zoomLeft();s>d&&s<d+c||this._setZoomLeft(a),this._setZoomWidth(c);return}if(r||e.force){let o=(r||0)/this._zoomFactor();this._setZoomLeft(s=>{const a=e.mouseX?e.mouseX/this._fullWidth():.5,l=1-a;let c=s-a*o,u=s+this._zoomWidth()+l*o-c;return u>this._maxZoomWidth()?(u=this._maxZoomWidth(),c=s+this._zoomWidth()-u):u<this._minZoomWidth()&&(u=this._minZoomWidth(),c=s+this._zoomWidth()-u),c<this._minX()&&(u=Math.min(u+(this._minX()-c),this._maxZoomWidth()),c=this._minX()),c+u>this._maxX()&&(c=this._maxX()-u),this._setZoomWidth(u),c})}n&&!r&&this.updateMinimapZoomLeft(this._zoomLeft()+n/(10*Math.log10(this._state().trace.length)))}updateMinimapZoomLeft(e,r){if(!this.canMoveZoomControl()())return;!this.canResizeZoomControl()()&&r?.snapToKnownStep&&(e=this.minimapClosestStepX(e)-this._zoomWidth()/2),e-this._zoomLeft()<0?e<this._minX()&&(e=this._minX()):e+this._zoomWidth()>this._maxX()&&(e=this._maxX()-this._zoomWidth()),this._setZoomLeft(e)}updateMinimapZoomSizeFromLeft(e){this.canResizeZoomControl()()&&this._setZoomLeft(r=>{e<this._minX()&&(e=this._minX());const n=r+this._zoomWidth();e>=n&&(e=n);const i=e-r;let o=this._zoomWidth()-i;return o>this._maxZoomWidth()?o=this._maxZoomWidth():o<this._minZoomWidth()&&(o=this._minZoomWidth(),e=r+this._zoomWidth()-o),this._setZoomWidth(o),e})}updateMinimapZoomSizeFromRight(e){if(!this.canResizeZoomControl()())return;let r=Math.max(Math.min(e,this._maxX())-this._zoomLeft(),0);this._setZoomWidth(r),r>this._maxZoomWidth()?(r=this._maxZoomWidth(),this._setZoomLeft(n=>n+this._zoomWidth()-r)):r<this._minZoomWidth()&&(r=this._minZoomWidth()),this._setZoomWidth(r)}miniMapStepGrid(){return this._minimapStepGrid}zoomedAreaStepGrid(){return this._zoomedAreaStepGrid}showStepTileBorder(){return this._showStepTileBorder}canResizeZoomControl(){return this._canResizeZoomControl}canMoveZoomControl(){return this._canMoveZoomControl}canMoveZoomRight(){return this._canMoveZoomRight}canMoveZoomLeft(){return this._canMoveZoomLeft}hasPrePostTestSections(){return this._hasPrePostTestSections}lockPrePostTestSections(){return this._lockPrePostTestSections}postTestSection(){return this._postTestSection}preTestSection(){return this._preTestSection}minimapStepWidth(){return this._minimapStepWidth}_startStep(){return this._lockPrePostTestSections()?this._preTestSection().endStep:0}_endStep(){return this._lockPrePostTestSections()?this._postTestSection().startStep:this._state().trace.length-1}_lockedPrePostTestSectionWidth(){return this._fullWidth()>xm*4?Math.max(this._fullWidth()/10,xm):Sx*2}_sectionTextVisible(e){return e>=xm}_sectionVisible(e){return e>=Sx}_startStepShift(){return this._lockPrePostTestSections()?this._preTestSection().endStep:0}_endStepShift(){return this._lockPrePostTestSections()?this._postTestSection().endStep-this._postTestSection().startStep:0}}At(["click"]);class KV{constructor(e){this._appService=e}_namespace="overview.debugger";matches(e){return e.startsWith(this._namespace)}handle(e,r){if(e=this._narrow(e),!r.target)return;const n=r.target,i=s=>{r.preventDefault(),r.stopPropagation()},o=this._locateRootElement(e,n);if(r.key==="Escape"&&!Ee(r)){if(e===".")this._appService.focus("editor");else if(e==="header.action")return i(o?.focus())}}_locateRootElement(e,r){if(e===".")return r;if(e==="header.action")return r.closest(`[data-namespace="${this._namespace}"]`)}_narrow(e){return e=e.replace(`${this._namespace}.`,""),e=e.replace(this._namespace,"."),e}}var XV=D('<div class="h-full w-full">');function xx(t){const e=Ge(),r=_o(),[n,i]=e.appSettings(),o=()=>n.errors.fullSourceLinks,s=()=>n.errors.unmappedFiles,a=()=>n.errors.diff?.compact!=="auto",l=()=>n.errors.wordWrap,c=z(),[d]=c,u=z(!1),[f]=u,h=e.getFindState(),[g,p]=z(),m=z(),[b]=m,k=()=>{const _=[];return _.push({text:"Display non-user code stack entries",action:()=>i("errors","unmappedFiles",!s()),checked:s()}),_.push({text:"Display file path in source links",action:()=>i("errors","fullSourceLinks",!o()),checked:o()}),_.push({text:"Display intra-line diff only if no line diff is available",action:()=>i("errors",Je(v=>{v.diff||(v.diff={}),v.diff.compact=a()?"auto":"always"})),checked:!a()}),_.push(eo),_.push({text:"Collapse Errors panel",action:()=>{e.setPanelState(t.panelId,v=>({...v,collapsed:!0})),t.onFocus?.("overview",!0)}}),_};return y(wr,{header:"Errors",get headerClass(){return`pl-2 ${t.headerClass||""}`},namespace:"overview.errors",get showProgress(){return t.showProgress},onVerticalScroll:_=>{_>0&&!f()&&d()&&(document.hasFocus()?d()?.hasAttribute("data-unfocused-scrolling")&&d()?.removeAttribute("data-unfocused-scrolling"):d()?.setAttribute("data-unfocused-scrolling","true"))},get onFocus(){return t.onFocus},get tooltip(){return`Go to Errors panel <span class="keyboard-shortcut">G</span>${e.isStandalone()?'&nbsp;<span class="keyboard-shortcut">O</span>':""}&nbsp;<span class="keyboard-shortcut">E</span>`},get icons(){return[y(se,{class:"codicon-word-wrap",get classList(){return{activeIcon:l()}},onClick:()=>i("errors","wordWrap",!l()),tabIndex:0,namespace:"overview.errors.header.action",tooltip:"Toggle word wrap in error messages"}),y(se,{menuItems:k,class:"codicon-ellipsis",tabIndex:0,namespace:"overview.errors.header.action",tooltip:"More actions"})]},contentClass:"ml-2.5 pr-1 panel-font-size",get overlays(){return[y(jn,{onUpdateSearchTerm:async _=>{const v=await b()?.search(_);p(v?{searchTerm:_,current:v?.current,total:v?.total}:void 0)},onNextResult:async()=>{const _=await b()?.jumpToNext();p(_?{current:_?.current,total:_?.total}:void 0)},onPreviousResult:async()=>{const _=await b()?.jumpToPrevious();p(_?{current:_?.current,total:_?.total}:void 0)},onClose:async _=>{await b()?.exit(_),e.closeFind()},searchStatus:g,isVisible:()=>h()?.namespace==="overview.errors",mode:()=>"enter"})]},get children(){var _=XV();return ae(Ti,_,()=>Ti&&{controller:m,prefix:"oe"}),A(_,y(Hb,{get state(){return t.state},namespace:"overview",viewerElement:c,revealing:u,get append(){return y(Rs,{get state(){return t.state.displayLimits?.errors},handler:()=>r.loadRestOfErrors()})}})),_}})}var YV=D('<div class="absolute inset-0 flex flex-col">');function Tx(t){const e=Ge(),r=_o(),n=io(),[i,o]=e.appSettings(),s=()=>i.logs.fullSourceLinks,a=()=>i.logs.headers,l=()=>i.logs.context,c=()=>i.valuePeek,[d,u]=z(void 0,{equals:!1}),[f,h]=z(),g=()=>e.getDebuggerStarted()(),p=e.getFindState(),[m,b]=z(),k=z(),[_]=k,[v,x]=z(),S=()=>{const w=[];return!g()&&!e.isStandalone()&&w.push({text:"Display log test headers",action:()=>o("logs","headers",!a()),checked:a()}),w.push({text:"Display file name in source links",action:()=>o("logs","fullSourceLinks",!s()),checked:s()}),w.push({text:"Display value context when available",action:()=>o("logs","context",!l()),checked:l()}),w.push(eo),w.push({text:"Fold all expanded log entries",action:()=>{u()}}),w.push({text:"Open Logs panel in side view",action:()=>{e.openInSideView(Ye.Logs,t.state.selection?.log?{logs:{selection:t.state.selection?.log}}:void 0)},shortcut:"S"}),w.push({text:"Collapse Logs panel",action:()=>{e.setPanelState(t.panelId,T=>({...T,collapsed:!0})),t.onFocus?.("overview",!0)}}),w};return y(wr,{header:"Logs",headerClass:"pl-2",scrollable:f,namespace:"overview.logs",get tooltip(){return`Go to Logs panel <span class="keyboard-shortcut">G</span>${e.isStandalone()?'&nbsp;<span class="keyboard-shortcut">O</span>':""}&nbsp;<span class="keyboard-shortcut">L</span>`},get showProgress(){return t.showProgress},get onFocus(){return t.onFocus},get icons(){return v()??[y(V,{get when(){return U(()=>!g())()&&!e.isStandalone()},get children(){return y(se,{class:"codicon-inspect",get classList(){return{activeIcon:c()}},onClick:()=>o("valuePeek",!c()),tabIndex:0,namespace:"overview.logs.header.action",get tooltip(){return`${c()?"Disable":"Enable"} value peek<br/><br/>${U5}`}})}}),y(se,{menuItems:S,class:"codicon-ellipsis",tabIndex:0,namespace:"overview.logs.header.action",tooltip:"More actions"})]},contentClass:"panel-font-size flex flex-col",get overlays(){return[y(jn,{onUpdateSearchTerm:async w=>{const T=await _()?.search(w);b(T?{searchTerm:w,current:T?.current,total:T?.total}:void 0)},onNextResult:async()=>{const w=await _()?.jumpToNext();b(w?{current:w?.current,total:w?.total}:void 0)},onPreviousResult:async()=>{const w=await _()?.jumpToPrevious();b(w?{current:w?.current,total:w?.total}:void 0)},onClose:async w=>{await _()?.exit(w),e.closeFind()},searchStatus:m,isVisible:()=>p()?.namespace==="overview.logs",mode:()=>"enter"})]},get children(){var w=YV();return ae(Ln,w,()=>Ln&&{controller:k,prefix:"ol"}),A(w,y($a,{get state(){return t.state},service:n,namespace:"overview",get onFocus(){return t.onFocus},scrollableElementRef:h,foldAllOpenedLogs:d,get append(){return y(Rs,{get state(){return t.state.displayLimits?.logs},handler:()=>r.loadRestOfLogs()})},icons:x})),w}})}var JV=D('<div class="h-full w-full relative outline-none panel-font-size"tabindex=-1><div class="py-1 shadow-[--widget-shadow] cursor-default flex flex-row items-center justify-center max-h-7 pl-2"><div class="uppercase flex-grow header-font-size font-bold truncate pr-1 py-0.5 header-tracking select-none"><span class="pb-0.5 px-0.5">Startup Events</span></div></div><div tabindex=-1 class="absolute outline-none inset-0 top-7 pl-2.5 overflow-x-auto overflow-y-clip">'),ZV=D('<div class="flex flex-row items-center"><div class="flex-grow truncate pr-1 opacity-80">');function QV(t){const[e,r]=z(!1),[n,i]=z(),[o,s]=z(0),a=U(()=>t.state.startupEvents.slice(-o())),l=Gv(a,100,{maxWait:100}),c=Oa(),d=_o();return Vt(()=>{d.trackStartupEvents()}),Xe(()=>{d.untrackStartupEvents()}),Ii(n,u=>{const[f]=u,{height:h}=f.contentRect,g=Math.max(1,Math.floor(h/c));s(g)}),(()=>{var u=JV(),f=u.firstChild,h=f.firstChild,g=h.firstChild,p=f.nextSibling;return u.$$focusout=()=>r(!1),u.$$focusin=()=>{r(!0)},ae(m=>i(m),p),A(p,()=>l().map(m=>(()=>{var b=ZV(),k=b.firstChild;return ae(re,k,()=>re&&{content:m}),A(k,m),oe(_=>dn(b,`height: ${c}px`,_)),b})())),oe(m=>{var b=!!e(),k=!!e();return b!==m.e&&g.classList.toggle("border-b",m.e=b),k!==m.t&&g.classList.toggle("border-b-[--focus-header-border]",m.t=k),m},{e:void 0,t:void 0}),u})()}At(["focusin","focusout"]);var ej=D(`<div class="[&amp;_h2]:header-tracking px-2.5 pb-2 text-[length:--panel-font-size] [&amp;_a]:text-[--link-foreground] [&amp;_a]:underline [&amp;_h2]:pt-4 [&amp;_h2]:text-[length:--header-font-size] [&amp;_h2]:font-bold [&amp;_h2]:uppercase [&amp;_h2]:text-[--editor-warning-foreground] [&amp;_li]:break-words [&amp;_p:not(:first-child)]:pt-2 [&amp;_ul]:ml-3 [&amp;_ul]:list-disc [&amp;_ul]:space-y-1 [&amp;_ul]:pt-2"><p>It looks like Wallaby couldn't start properly. Please review the troubleshooting steps below to help resolve your issue.</p><h2>. Verify Tests Work Outside Wallaby.js</h2><p>Please make sure that your tests are running correctly (and passing) outside of Wallaby. Often the root cause of a Wallaby problem is an error in your tests/application code, or else a problem with your test runner configuration.</p><ul><li>Run your tests using your preferred command (e.g., <code>npm test</code> or <code>yarn test</code>).</li><li>If the tests pass outside of Wallaby, proceed with Wallaby-specific troubleshooting below.</li></ul><h2>. Inspect Wallaby Diagnostics Report</h2><p>Wallaby Diagnostics Report is a simple JSON text report that contains some basic information about your Wallaby config and project that is required to start troubleshooting most of Wallaby issues. The report may contain additional error details that can help you identify the cause of your issue.</p><ul><li><button class="text-[--link-foreground] underline">Click here</button> to copy the Wallaby Diagnostics Report to your clipboard.</li><li>Inspect the diagnostic report to identify the potential cause of the issue.</li></ul><h2>. Next Steps</h2><p>If these steps don't resolve the issue, try:</p><ul><li>Wallaby <a href=https://wallabyjs.com/docs/intro/troubleshooting.html target=_blank>troubleshooting docs</a> for additional troubleshooting steps.</li><li>Wallaby <a href=https://wallabyjs.com/docs/integration/overview.html target=_blank>supported technology docs</a> for troubleshooting steps specific to your technology.</li><li>Search our <a href="https://github.com/wallabyjs/public/issues?q=won%27t+start"target=_blank>Github issue repository</a> for similar issues and possible solutions.</li><li>Create a <a href=https://github.com/wallabyjs/public/issues/new target=_blank>new issue</a> in our Github repository.</li><li>Use Wallaby's community <a href=https://wallabyjs.com/chat/ target=_blank>discord chat</a> to solve your issue with the help of other Wallaby users and the Wallaby team.</li><li>Send us an <a href=mailto:hello@wallabyjs.com target=_blank>email</a>.`),tj=D("<h2>. Check for Missing Jest Hoist Pattern"),rj=D("<p>If you're using a package manager like pnpm or Yarn with PnP, Jest and its dependencies may need to be hoisted to be accessible by Wallaby. This is a common issue that can prevent Wallaby from properly running your tests."),nj=D('<ul><li>Add <code>public-hoist-pattern[]=jest</code> to your <code>.npmrc</code> file in your project root.</li><li>After adding the hoist pattern, reinstall your dependencies with <code>pnpm install</code> or <code>yarn install</code>.</li><li>If the problem persists, check your Wallaby diagnostics report for additional messages that indicate more modules need to be hoisted. (<button class="text-[--link-foreground] underline">Click here</button> to copy the report to your clipboard.)'),ij=D("<h2>. Check for Missing Vitest Hoist Patterns"),oj=D("<p>If you're using a package manager like pnpm or Yarn with PnP, Vitest and its dependencies may need to be hoisted to be accessible by Wallaby. This is a common issue that can prevent Wallaby from properly running your tests."),sj=D('<ul><li>Add <code>public-hoist-pattern[]=*vitest*</code> and <code>public-hoist-pattern[]=vite-node</code> to your <code>.npmrc</code> file in your project root.</li><li>After adding the hoist pattern, reinstall your dependencies with <code>pnpm install</code> or <code>yarn install</code>.</li><li>If the problem persists, check your Wallaby diagnostics report for additional messages that indicate more modules need to be hoisted. (<button class="text-[--link-foreground] underline">Click here</button> to copy the report to your clipboard.)');function aj(){const t=Ge(),e=t.getStatus(),r=()=>e().troubleshootingHint.length;return(()=>{var n=ej(),i=n.firstChild,o=i.nextSibling,s=o.firstChild,a=o.nextSibling,l=a.nextSibling,c=l.nextSibling,d=c.firstChild,u=c.nextSibling,f=u.nextSibling,h=f.firstChild,g=h.firstChild,p=f.nextSibling,m=p.firstChild;return A(n,()=>e().troubleshootingHint.map((b,k)=>y(qt,{get children(){return[y(Ce,{when:b==="pnpmJest",get children(){return[(()=>{var _=tj(),v=_.firstChild;return A(_,k+1,v),_})(),rj(),(()=>{var _=nj(),v=_.firstChild,x=v.nextSibling,S=x.nextSibling,w=S.firstChild,T=w.nextSibling;return T.$$click=()=>t.copyDiagnosticsReport(),_})()]}}),y(Ce,{when:b==="pnpmVitest",get children(){return[(()=>{var _=ij(),v=_.firstChild;return A(_,k+1,v),_})(),oj(),(()=>{var _=sj(),v=_.firstChild,x=v.nextSibling,S=x.nextSibling,w=S.firstChild,T=w.nextSibling;return T.$$click=()=>t.copyDiagnosticsReport(),_})()]}})]}})),o),A(o,()=>r()+1,s),A(c,()=>r()+2,d),g.$$click=()=>t.copyDiagnosticsReport(),A(p,()=>r()+3,m),n})()}At(["click"]);var lj=D("<span>"),cj=D("<div>"),Ex=D("<br>"),dj=D("<span class=font-bold>Applied filter:"),uj=D("<span class=opacity-80>"),hj=D('<div class="[&amp;>div.selected.passing]:border-[transparent] [&amp;>div.selected.passing]:bg-[var(--list-hover-background)] [&amp;>div.selected.passing_.codicon-pass]:text-[--testing-icon-passed] [&amp;>div.selected]:rounded-[var(--focus-border-radius)] [&amp;>div.selected]:border-[var(--focus-border)] [&amp;>div.selected]:bg-[var(--list-active-selection-background)] [&amp;>div.selected]:text-[var(--list-active-selection-foreground)] hover:[&amp;>div.selected]:bg-[var(--list-active-selection-background)] [&amp;>div.selected_.file-name]:text-[var(--list-active-selection-foreground)] [&amp;>div]:border [&amp;>div]:border-transparent [&amp;>div]:pl-2.5 [&amp;>div]:leading-[var(--list-item-line-height)] hover:[&amp;>div]:bg-[var(--list-hover-background)] [&amp;_span.test-name-separator]:[word-spacing:-0.1em;]">'),fj=D('<div data-id=allLogsAndErrors data-index=0 tabindex=-1 class="flex h-[--panel-item-height] cursor-pointer items-center truncate outline-none"><span class="codicon codicon-output icon-opacity pr-1 !text-[length:--icon-smaller-font-size]"></span><span class=pb-[0.0625rem]>'),gj=D("<span class=codicon>"),pj=D('<div class="file-name truncate text-[length:--panel-smaller-font-size] leading-snug text-[var(--subtle-foreground)]">'),mj=D("<li>"),vj=D('<div class="progress flex pr-1">'),bj=D('<div tabindex=-1 class="group flex cursor-pointer select-none flex-row outline-none [&amp;.selected_.icons]:flex"><div class="flex flex-grow truncate"><div class="flex flex-row items-center truncate"><div class="[&amp;_span]:icon-opacity flex [&amp;_span]:!text-[length:--icon-smaller-font-size]"></div><div class="truncate pb-[0.0625rem] pl-1"></div></div></div><div class="side-widget relative ml-auto flex pr-1 [&amp;_li]:flex [&amp;_li_button]:mx-0 [&amp;_li_button]:!py-[0.09375rem] [&amp;_li_button]:!text-[length:--icon-smallest-font-size]"><ul class="icons hidden flex-row justify-center group-hover:flex"><li></li><li></li><li>');function _j(t){const e=Ge(),r=_o(),[n,i]=e.appSettings(),[o,s]=z(),a=()=>t.state.lineTests?.loc?[y(vi,{class:"cursor-pointer font-mono font-normal normal-case hover:underline",get value(){return t.state.lineTests.loc},compactFileNameOnly:!0,noColumn:!0,codeFragmentTooltipOptions:()=>t.state.lineTests.loc.file&&t.state.lineTests.loc.line?{file:t.state.lineTests.loc.file,line:t.state.lineTests.loc.line,navigatable:!0}:void 0})," ","tests (",U(()=>t.state.numberOfDisplayedTests||0),")"]:(()=>{var g=lj();return ae(re,g,()=>re&&{content:`Go to Tests panel <span class="keyboard-shortcut">G</span>${e.isStandalone()?'&nbsp;<span class="keyboard-shortcut">O</span>':""}&nbsp;<span class="keyboard-shortcut">T</span>`}),A(g,y(qt,{get children(){return[y(Ce,{get when(){return t.state.showTestTree},children:"Test Explorer"}),y(Ce,{when:!0,get children(){return["Failing tests (",U(()=>t.state.numberOfFailingTests||0),")"]}})]}})),g})(),l=()=>n.overviewTests.fileNames,c=()=>!n.overviewTests.treeSearchControlHidden,d=()=>!!t.state.tests.foreground?.search?.raw,u=()=>e.getDebuggerStarted()(),f=U(()=>t.state.tests.foreground?.search?.raw||n.overviewTests.treeFilter);we(()=>t.state.tests.foreground?.search?.raw,g=>{t.state.showTestTree&&i("overviewTests","treeFilter",g||"")},{defer:!0}),we([()=>n.overviewTests.treeSearchControlHidden,()=>t.state.showTestTree],()=>{t.state.showTestTree&&(n.overviewTests.treeSearchControlHidden?r.tests.hideSearch():r.tests.showSearch())}),we([()=>t.state.tests.searchControlVisible,()=>t.state.showTestTree],()=>{t.state.showTestTree&&(t.state.tests.searchControlVisible?i("overviewTests","treeSearchControlHidden",!1):i("overviewTests","treeSearchControlHidden",!0))});const h=()=>{const g=[];return t.state.showTestTree||(g.push({text:"Display full test name file path",action:()=>i("overviewTests","fileNames",!l()),checked:l()}),g.push(eo)),g.push({text:"Open Tests panel in side view",action:()=>{e.openInSideView(Ye.Tests,t.state.testList?t.state.numberOfFailingTests?{tests:{filter:"@failed"}}:void 0:{tests:{filter:t.state.tests.foreground?.search?.raw||""}})},shortcut:"S"}),g.push({text:"Collapse Tests panel",action:()=>{e.setPanelState(t.panelId,p=>({...p,collapsed:!0})),t.onFocus?.("overview",!0)}}),g};return y(wr,{get header(){return a()},namespace:"overview.tests",get onFocus(){return t.onFocus},get showProgress(){return t.showProgress},get icons(){return[y(V,{get when(){return!u()},get children(){return y(V,{get when(){return t.state.lineTests},get fallback(){return y(se,{tabIndex:0,class:"p-[0.21875rem]",namespace:"overview.tests.header.action",get tooltip(){return`Show tests covering the current line of code${e.editorTooltipAddendum("lineTests")()}`},onClick:g=>{r.trackCurrentLineTests(g),t.onFocus?.("overview.tests",!0)},children:tu})},get children(){return[y(se,{tabIndex:0,namespace:"overview.tests.header.action",class:"codicon-sign-out",tooltip:"Reset to failing tests",onClick:()=>{r.resetOverviewTestListSource(),t.onFocus?.("overview.tests",!0)}}),y(V,{get when(){return t.state.lineTests?.active},get fallback(){return y(se,{tabIndex:0,class:"p-[0.21875rem]",namespace:"overview.tests.header.action",get tooltip(){return`Resume tracking the current line of code${e.editorTooltipAddendum("lineTests")()}`},onClick:g=>{r.trackCurrentLineTests(g),t.onFocus?.("overview.tests",!0)},children:tu})},get children(){return y(se,{tabIndex:0,namespace:"overview.tests.header.action",class:"activeIcon p-[0.21875rem]",tooltip:"Stop tracking the current line of code",onClick:()=>{r.untrackCurrentLineTests(),t.onFocus?.("overview.tests",!0)},children:tu})}})]}})}}),y(V,{get when(){return t.state.showTestTree},get children(){return y(se,{tabIndex:0,namespace:"overview.tests.header.action",get classList(){return{"codicon-filter":!c()&&!d(),"codicon-filter-filled":!c()&&d(),"codicon-filter activeIcon":c()}},onClick:()=>i("overviewTests","treeSearchControlHidden",c()),get tooltip(){return(()=>{var g=cj();return A(g,()=>`Click to ${c()?"hide":"show"} filter/search control`,null),A(g,(()=>{var p=U(()=>!!d());return()=>p()&&[Ex(),Ex(),dj()," ",(()=>{var m=uj();return A(m,()=>t.state.tests.foreground?.search?.raw),m})()]})(),null),g})()}})}}),y(V,{get when(){return t.state.allowedToShowTestTree},get children(){return y(se,{tabIndex:0,namespace:"overview.tests.header.action",class:"codicon-list-tree",get classList(){return{activeIcon:t.state.showTestTree}},onClick:()=>i("overviewTests","tree",!t.state.showTestTree),get tooltip(){return`Switch to ${t.state.showTestTree?"list":"tree"} view`}})}}),y(se,{menuItems:h,class:"codicon-ellipsis",tabIndex:0,namespace:"overview.tests.header.action",tooltip:"More actions"})]},headerClass:"pl-2",contentClass:`overflow-x-hidden
                    panel-font-size
                    `,scrollable:o,get children(){return y(qt,{get children(){return[y(Ce,{get when(){return t.state.showTestTree},get children(){return y(zt.Provider,{get initial(){return r.tests},get children(){return y(vv,{get state(){return t.state},setIcons:()=>{},onFocus:g=>t.keyboard.onFocus(g,!1),namespace:"overview.tests",compact:!0,get filter(){return f()},setScrollable:s})}})}}),y(Ce,{when:!0,get children(){return y(yj,{get state(){return t.state},get showTestFileNames(){return l()},namespace:"overview.tests"})}})]}})}})}function yj(t){const e=Ge(),r=_o(),n=U(()=>e.getTestRunModeParams()()),i=U(()=>e.getProject()()),o=()=>t.state.numberOfFailingTests||t.state.numberOfGlobalErrors?t.state.hasAnyLogs?"All logs and errors":"All errors":t.state.hasAnyLogs?"All logs":"No logs or errors";return Vt(()=>{r.trackOverviewTestList()}),Xe(()=>{r.untrackOverviewTestList()}),(()=>{var s=hj();return A(s,()=>{const a="allLogsAndErrors",l=()=>t.state.selection.test===a;return y(V,{get when(){return!t.state.lineTests?.loc},get children(){var c=fj(),d=c.firstChild,u=d.nextSibling;return ae(f=>we([()=>f,l],()=>{f&&l()&&f.parentElement&&(f.parentElement.scrollTop=f.offsetTop)}),c),c.$$click=()=>r.selectAllLogsAndErrors(),ae(re,d,()=>re&&{content:i()&&rc(i(),e.isEditorConnected(),n(),e.getCoreVersion())||void 0}),A(u,o),oe(f=>{var h=`${t.namespace}.content.item`,g=!!l();return h!==f.e&&Me(c,"data-namespace",f.e=h),g!==f.t&&c.classList.toggle("selected",f.t=g),f},{e:void 0,t:void 0}),c}})},null),A(s,y(z9,{get of(){return t.state.testList||{}},children:(a,l,c)=>{const d=U(()=>t.state.selection.test===a),u=U(()=>l().selection),f=U(()=>t.state.testFileProgressByFile[l().path[0]]),h=()=>`<span class='font-bold'>${j5(l().path).join(" / ")}</span> ${wj(l())}
                        <br/>at <span class='opacity-80'>${l().location.file}${l().location.line?`:${l().location.line}`:""}</span>`,g=U(()=>t.showTestFileNames&&l().location);return(()=>{var p=bj(),m=p.firstChild,b=m.firstChild,k=b.firstChild,_=k.nextSibling,v=m.nextSibling,x=v.firstChild,S=x.firstChild,w=S.nextSibling,T=w.nextSibling;return ae(L=>we([()=>L,u],()=>{L&&u()?.active&&L.parentElement&&(L.parentElement.scrollTop=L.offsetTop)}),p),p.$$dblclick=L=>e.navigate(l().location,L),p.$$click=()=>r.selectTest(l()),Me(p,"data-id",a),A(k,y(qt,{get children(){return[y(Ce,{get when(){return f().status==="running"},get children(){return y(BC,{get progress(){return f()}})}}),y(Ce,{when:!0,get children(){var L=gj();return ae(re,L,()=>re&&{content:h()}),oe(E=>{var C=!!(!l().passing&&l().hasFailingSnapshot&&!l().focused),F=!l().passing&&!l().focused,$=!!(l().passing&&!l().focused),O=!!(l().skipped&&!l().focused),M=!!(l().toBeDone&&!l().focused),I=!!l().focused;return C!==E.e&&L.classList.toggle("codicon-device-camera",E.e=C),F!==E.t&&L.classList.toggle("codicon-error",E.t=F),$!==E.a&&L.classList.toggle("codicon-pass",E.a=$),O!==E.o&&L.classList.toggle("codicon-beaker-stop",E.o=O),M!==E.i&&L.classList.toggle("codicon-beaker",E.i=M),I!==E.n&&L.classList.toggle("codicon-filter-filled",E.n=I),E},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),L}})]}})),A(_,(()=>{var L=U(()=>!!g());return()=>L()?y(Jv,{get test(){return l()}}):l().name})()),A(m,y(V,{get when(){return g()},get children(){var L=pj();return A(L,y(Od,{get text(){return`${l().location.file}${l().location.line?`:${l().location.line}`:""}`},tooltip:!1})),L}}),null),A(x,y(V,{get when(){return l().location},get children(){var L=mj();return A(L,y(se,{tabIndex:-1,class:"codicon-go-to-file pl-[0.08rem] pr-[0.2rem]",get tooltip(){return`Open test ${l().passing||l().skipped||l().toBeDone?"":"error "}in editor <span class='keyboard-shortcut'>Enter</span><br/><br/>${h()}${e.editorTooltipAddendum()()}`},get namespace(){return`${t.namespace}.content.item.action`},onClick:E=>e.navigate(l().location,E)})),L}}),S),A(S,y(se,{tabIndex:-1,class:"codicon-filter pl-0.5 pr-0.5",get tooltip(){return U(()=>!!l().focused)()?'Unfocus test <span class="keyboard-shortcut">F</span><br/><br/>'+ss:`Focus test <span class="keyboard-shortcut">F</span><br/><br/>${h()}<br/><br/>`+ss},get namespace(){return`${t.namespace}.content.item.action`},get classList(){return{"codicon-filter-filled":l().focused}},onClick:()=>e.toggleTestFilter(l().path)})),A(w,y(se,{tabIndex:-1,class:"codicon-chip",get namespace(){return`${t.namespace}.content.item.action`},tooltip:"Profile test <span class='keyboard-shortcut'>P</span>",onClick:()=>e.profile(l().path)})),A(T,y(se,{tabIndex:-1,class:"codicon-debug",get tooltip(){return`Debug test <span class='keyboard-shortcut'>D</span><br/><br/>${h()}`},get namespace(){return`${t.namespace}.content.item.action`},onClick:()=>e.debug(l().path)})),A(v,y(V,{get when(){return f().hasTestFileProgressTime},get children(){var L=vj();return A(L,y(OC,{get progress(){return f()},class:"!text-[length:65%]"})),oe(E=>Et(L,{hidden:!g(),"items-end justify-end ml-auto mt-auto":!!g()},E)),L}}),null),oe(L=>{var E=c()+1,C=`${t.namespace}.content.item`,F={"selected selected-test":d(),"h-[--panel-item-height]":!g(),passing:l().passing&&!l().focused},$={"flex-col pb-[0.15625rem]":!!g()},O=!l().passing,M=!!l().passing,I=!!l().skipped,W=!!l().toBeDone,q={"items-center justify-center":!g(),"items-start pt-[0.125rem]":!!g(),"flex-col":!!g()},G=!g(),H=!!g();return E!==L.e&&Me(p,"data-index",L.e=E),C!==L.t&&Me(p,"data-namespace",L.t=C),L.a=Et(p,F,L.a),L.o=Et(m,$,L.o),O!==L.i&&k.classList.toggle("text-[--testing-icon-failed]",L.i=O),M!==L.n&&k.classList.toggle("text-[--testing-icon-passed]",L.n=M),I!==L.s&&k.classList.toggle("text-[--testing-icon-queued]",L.s=I),W!==L.h&&k.classList.toggle("text-[--testing-icon-skipped]",L.h=W),L.r=Et(v,q,L.r),G!==L.d&&x.classList.toggle("items-center",L.d=G),H!==L.l&&x.classList.toggle("items-start",L.l=H),L},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),p})()}}),null),A(s,y(Rs,{get state(){return t.state.displayLimits?.tests},handler:()=>r.loadRestOfTests()}),null),s})()}function wj(t){return t.skipped?`<span class="text-[--testing-icon-queued]">${(t.focused?"focused & ":"")+"skipped"}</span>`:t.toBeDone?`<span class="text-[--testing-icon-skipped]">${(t.focused?"focused & ":"")+"todo"}</span>`:t.passing?`<span class="text-[--testing-icon-passed]">${(t.focused?"focused & ":"")+"passed"}</span>`:`<span class="text-[--error-foreground]">${(t.focused?"focused & ":"")+`failed${t.hasFailingSnapshot?" snapshot":""}`}</span>`}At(["click","dblclick"]);class kj{constructor(e,r,n){this._appService=e,this._overviewService=r,this._keyboard=n}_namespace="overview.tests";matches(e){return e.startsWith(this._namespace)}handle(e,r,n){if(e=this._narrow(e),!r.target)return;const i=r.target,o=l=>{r.preventDefault(),r.stopPropagation()};if(_a(r))return o();const s=new MC("overview.tests",this._keyboard,this._appService,this._overviewService.tests,!0);if(!n.testList){s.handle(e,r,n);return}const a=this._locateTestElement(e,i);if(a&&n.testList){if(r.key==="ArrowUp")return dr(r)?o(a.parentElement?.scrollBy({top:-50,behavior:"smooth"})):o(this._selectTest(n.testList,a.previousElementSibling,!n.lineTests?.loc));if(r.key==="ArrowDown"){if(dr(r))return o(a.parentElement?.scrollBy({top:50,behavior:"smooth"}));if(a.nextSibling)return o(this._selectTest(n.testList,a.nextElementSibling,!1))}else{if(r.key==="Home"&&!Ee(r))return this._selectTest(n.testList,a.parentElement?.firstElementChild,!n.lineTests?.loc);if(r.key==="End"&&!Ee(r))return o(this._selectTest(n.testList,a.parentElement?.lastElementChild,!n.lineTests?.loc));if((r.key==="PageDown"||r.key==="PageUp")&&!Ee(r)){const l=a.parentElement;if(l){const c=l.children.length,d=a.getBoundingClientRect().height,u=l.getBoundingClientRect().height,h=Number(a.getAttribute("data-index")||0)+(r.key==="PageUp"?-1:1)*Math.floor(u/d);h<0?this._selectTest(n.testList,a.parentElement?.firstElementChild,!n.lineTests?.loc):h>=c?this._selectTest(n.testList,a.parentElement?.lastElementChild,!n.lineTests?.loc):this._selectTest(n.testList,l.children[h],!n.lineTests?.loc)}return o()}else{if(r.key==="ArrowRight"&&!Ee(r))return e.startsWith("header")||this._selectItemAction(a,e==="content.item.action"?i:null,!0),o();if(r.key==="ArrowLeft"&&!Ee(r))return e.startsWith("header")||this._selectItemAction(a,e==="content.item.action"?i:null,!1),o();if(r.key==="Enter"||r.key===" "){if(e!=="header.action"){if(e==="content.item.action")i.dispatchEvent(mi(r));else{const l=this._getTest(n.testList,a);l&&l.location&&this._appService.navigate(l.location,r,r.key!=="Enter"?{focus:!1}:void 0)}return o()}}else if(r.key==="e"&&!Ee(r)){const l=this._getTest(n.testList,a);return l&&l.location&&this._appService.navigate(l.location,r),o()}else if(r.key==="f"&&!Ee(r)){const l=this._getTest(n.testList,a);return l&&this._appService.toggleTestFilter(l.path),o()}else if(r.key==="d"&&!Ee(r)){const l=this._getTest(n.testList,a);return l&&this._appService.debug(l.path),o()}else if(r.key==="p"&&!Ee(r)){const l=this._getTest(n.testList,a);return l&&this._appService.profile(l.path),o()}else if(r.key==="u"&&!Ee(r)){const l=this._getTest(n.testList,a);return l&&l.hasFailingSnapshot&&l.location&&this._appService.updateSnapshots(l.location),o()}else if(r.key==="v"&&!Ee(r)){const l=this._getTest(n.testList,a);return l&&!l.passing&&this._appService.showSideBySideDiff({test:l.path},r),o()}else{if(r.key==="Escape"&&!Ee(r))return e.endsWith("action")?a.parentElement?.parentElement?.focus():this._appService.focus("editor"),o();if(r.key==="s"&&!Ee(r)){const l=this._getTest(n.testList,a);return l&&l.location?.file?this._appService.openInSideView(Ye.Tests,{tests:{filter:[l.location.file,...l.path.slice(1)].join(" ")}}):n.numberOfFailingTests?this._appService.openInSideView(Ye.Tests,{tests:{filter:"@failed"}}):this._appService.openInSideView(Ye.Tests,void 0),o()}else if(r.key==="."&&!Ee(r)){const l=this._getTest(n.testList,a);return l&&l.location?.file&&la(a,l.location),o()}}}}}else if(r.key==="Escape"&&!Ee(r))return e==="header.action"?i.closest(`[data-namespace="${this._namespace}"]`)?.focus():this._appService.focus("editor"),o()}_narrow(e){return e=e.replace(`${this._namespace}.`,""),e=e.replace(this._namespace,"."),e}_locateTestElement(e,r){if(e=="."||e==="content")return r.querySelector(".selected");if(e==="header.action"){const n=r.closest(`[data-namespace="${this._namespace}"]`);if(n)return n.querySelector(".selected")}if(e==="content.item")return r;if(e==="content.item.action")return r.parentElement?.parentElement?.parentElement?.parentElement}_selectItemAction(e,r,n){const i=e.querySelectorAll("button");if(i.length){let o=-1;if(r){for(let s=0;s<i.length;s++)if(i[s]===r){o=s;break}}else return i[0].focus(),!0;return o=o>=0?o:0,n?(o+1>i.length-1||i[o+1].focus(),!0):o-1>=0?(i[o-1].focus(),!0):!1}return!1}_getTest(e,r){if(r instanceof Element){const n=r.getAttribute("data-id");if(n&&e)return e[n]}}_selectTest(e,r,n=!0){const i=this._getTest(e,r);i?this._overviewService.selectTest(i):n&&this._overviewService.selectAllLogsAndErrors(),r instanceof HTMLElement&&r.focus()}}var Sj=D('<div class="absolute inset-0 z-20 mx-auto my-auto flex h-full w-full flex-col items-center justify-center"><p class="backlight relative text-[length:1.3rem] font-bold uppercase tracking-wide">Welcome to Wallaby</p><p class="mt-2 px-2 text-center text-[length:0.7rem] font-bold uppercase">Instant Feedback, Infinite Potential</p><p class="mt-3.5 [&amp;_button]:mx-2 [&amp;_button]:w-28 [&amp;_button]:text-[length:--panel-font-size]">'),Cx=D('<div class="pointer-events-none absolute inset-0 z-10 bg-[--panel-view-background] opacity-90">'),xj=D('<div class="absolute inset-0 z-20 mx-auto my-auto flex h-full w-full flex-col items-center justify-center"><p class="backlight relative text-[length:1.3rem] font-bold uppercase tracking-wide">Wallaby v3 has arrived</p><p class="mt-2 px-2 text-center text-[length:0.7rem] font-bold uppercase">Now Even faster with result streaming and cached results</p><p class="mt-3.5 [&amp;_button]:mx-2 [&amp;_button]:w-28 [&amp;_button]:text-[length:--panel-font-size]">'),Tj=D('<div class="relative h-full w-full"data-vscode-context="{&quot;webviewSection&quot;: &quot;overview&quot;, &quot;preventDefaultContextMenuItems&quot;: true}">'),HC=D('<div class="flex h-6 flex-shrink-0 items-center border-t border-[--panel-view-border]">'),Ej=D('<div class="foreground h-full w-full"><div class="flex h-full w-full"><div class="flex h-full w-full flex-col">'),Cj=D('<div class="flex h-full w-full"><div class="flex h-full w-full flex-col">'),Lj=D('<div class="foreground h-full w-full">'),Ij=D("<div>"),Aj=D('<div class="flex h-full w-full flex-col">'),Fj=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[var(--subtle-foreground)]">Select a panel to expand from the panels bar '),Rj=D('<div class="flex items-center truncate px-[0.09375rem]"><div class="flex opacity-70"></div><div class="flex opacity-70">');function VC(t){const e=Ge(),r=_o(),n=io(),[i,o]=e.appSettings(),{width:s,height:a}=vc(),l=()=>e.isStandalone()&&s()*2>a()||s()>a()?"row":"column",c=e.getStatus();let d;const u=U(()=>e.getPanelState(pe.OverviewTests)().collapsed),f=U(()=>e.getPanelState(pe.OverviewErrors)().collapsed),h=U(()=>e.getPanelState(pe.OverviewLogs)().collapsed),g=U(()=>e.getPanelState(pe.OverviewDebuggerErrors)().collapsed),p=U(()=>e.getPanelState(pe.OverviewDebuggerLogs)().collapsed),m=U(()=>e.getPanelState(pe.OverviewDebuggerStatus)().collapsed),b=U(()=>e.getDebuggerStarted()());we(t.keyboard.focusedNamespace,S=>{if(S&&S.startsWith("overview")){S==="overview.tests"?b()?S="overview":u()&&e.setPanelState(pe.OverviewTests,T=>({...T,collapsed:!1,size:T.size||20})):S==="overview.errors"?b()?g()&&e.setPanelState(pe.OverviewDebuggerErrors,T=>({...T,collapsed:!1,size:T.size||20})):f()&&e.setPanelState(pe.OverviewErrors,T=>({...T,collapsed:!1,size:T.size||40})):S==="overview.logs"?b()?p()&&e.setPanelState(pe.OverviewDebuggerLogs,T=>({...T,collapsed:!1,size:T.size||60})):h()&&e.setPanelState(pe.OverviewLogs,T=>({...T,collapsed:!1,size:T.size||40})):S==="overview.debugger"&&b()&&m()&&e.setPanelState(pe.OverviewDebuggerStatus,T=>({...T,collapsed:!1,size:T.size||20})),S==="overview"&&(!u()&&!b()?S="overview.tests":!f()&&!b()||!g()&&b()?S="overview.errors":!h()&&!b()||!p()&&b()?S="overview.logs":!m()&&b()&&(S="overview.debugger")),S==="overview.errors"&&(S="overview.errors.content.viewer");let w=d.querySelector(`[data-namespace="${S}"]`);w?w.getAttribute("data-unfocused-scrolling")!=="true"?w.focus():setTimeout(()=>{let T=t.keyboard.lastFocusedNamespace();T==="overview.errors"&&(T="overview.errors.content.viewer"),S===T&&w.isConnected&&(w.matches(":focus")||(S==="overview.errors.content.viewer"&&(S="overview.errors"),d.querySelector(`[data-namespace="${S}"]`)?.focus()))},70):(S==="overview.errors.content.viewer"&&(S="overview.errors"),d.querySelector(`[data-namespace="${S}"]`)?.focus())}});const k=new kj(e,r,t.keyboard),_=new kc("overview.errors",e),v=new Da("overview.logs",e,n),x=new KV(e);return we(t.keyboard.key,S=>{if(S){const w=S.event,T=S.namespace;T==="overview"?(w.key==="t"&&t.keyboard.onFocus("overview.tests",!0),w.key==="l"&&t.keyboard.onFocus("overview.logs",!0),w.key==="e"&&t.keyboard.onFocus("overview.errors",!0),w.key==="d"&&t.keyboard.onFocus("overview.debugger",!0),w.preventDefault(),w.stopPropagation()):k.matches(T)?k.handle(T,w,t.state):_.matches(T)?_.handle(T,w,t.state):v.matches(T)?v.handle(T,w,t.state):x.matches(T)&&x.handle(T,w)}}),we(()=>t.state.selection.namespace,S=>{S&&t.keyboard?.onFocus(S,!1)}),(()=>{var S=Tj(),w=d;return typeof w=="function"?ae(w,S):d=S,A(S,y(qt,{get children(){return[y(Ce,{get when(){return!c().firstTestResultAvailable},get children(){return y(Pj,{get state(){return t.state},get orientation(){return l()}})}}),y(Ce,{when:!0,get children(){return y($j,{get state(){return t.state},get orientation(){return l()},onFocus:(T,L)=>{t.keyboard?.onFocus(T,L)},get keyboard(){return t.keyboard}})}})]}}),null),A(S,y(V,{get when(){return!e.isStandalone()&&i.welcomeMessage},get children(){return[(()=>{var T=Sj(),L=T.firstChild,E=L.nextSibling,C=E.nextSibling;return A(C,y(Ct,{href:"https://wallabyjs.com/blog/wallaby-v3.html",children:"Learn More"}),null),A(C,y(Ct,{onClick:()=>{o("welcomeMessage",!1),o("wallabyV3Message",!1)},children:"Get Started"}),null),oe(F=>Et(C,{"[&_button]:border-0":e.isIntegratedVSCode()},F)),T})(),Cx()]}}),null),A(S,y(V,{get when(){return!e.isStandalone()&&i.wallabyV3Message&&!i.welcomeMessage},get children(){return[(()=>{var T=xj(),L=T.firstChild,E=L.nextSibling,C=E.nextSibling;return A(C,y(Ct,{href:"https://wallabyjs.com/blog/wallaby-v3.html",children:"Learn More"}),null),A(C,y(Ct,{onClick:()=>{o("wallabyV3Message",!1)},children:"Get Started"}),null),oe(F=>Et(C,{"[&_button]:border-0":e.isIntegratedVSCode()},F)),T})(),Cx()]}}),null),S})()}function Pj(t){const e=Ge(),r=e.getStatus(),[n]=e.appSettings();return(()=>{var i=Ej(),o=i.firstChild,s=o.firstChild;return A(s,y(qt,{get children(){return[y(Ce,{get when(){return r().state==="configurationError"},get children(){return y(yr,{class:"relative h-full w-full justify-end",get direction(){return t.orientation},get children(){return[y(Ys,{id:"overview.loading.executionStatus",minSize:5,initialSize:50,get children(){return y($C,{header:"Startup Error",wordWrap:!0,namespace:"overview.startup.error"})}}),y(mv,{}),y(Ys,{id:"overview.loading.events",minSize:5,initialSize:50,get children(){return y(wr,{header:"Troubleshooting",headerClass:"pl-2",get icons(){return[y(se,{class:"codicon-book clickableIcon",tooltip:"Open Wallaby documentation",href:"https://wallabyjs.com/docs/intro/troubleshooting.html"}),y(tc,{class:"!pb-[0.0625rem]"}),y(se,{class:"codicon-github clickableIcon",tooltip:"Create a new issue in Wallaby GitHub repository",href:"https://github.com/wallabyjs/public/issues/new"}),y(se,{class:"codicon-comment-discussion clickableIcon",tooltip:"Join Wallaby Discord chat",href:"https://wallabyjs.com/chat/"}),y(se,{class:"codicon-mail clickableIcon !pb-[0.18rem]",tooltip:"Send an email to Wallaby support",href:"mailto:hello@wallabyjs.com"})]},get children(){return y(aj,{})}})}})]}})}}),y(Ce,{when:!0,get children(){return[y(yr,{class:"relative h-full min-h-0 w-full flex-1 justify-end",get direction(){return t.orientation},get children(){return[y(Ys,{id:"overview.loading.executionStatus",minSize:5,initialSize:50,get children(){return y(wr,{header:"Status",headerClass:"pl-2",get icons(){return[y(PC,{}),y(tc,{class:"!pb-[0.0625rem]",namespace:"overview.errors.content.viewer.error.action"}),y(se,{get class(){return`codicon-pulse !text-[length:--panel-larger-font-size] transition-all duration-[1000ms] ${r().longRunningOperation?"animate-pulse text-[--error-foreground]":""}`},namespace:"overview.misc.action",onClick:()=>{e.openInSideView(Ye.Status)},tabIndex:0,tooltip:'Open "Status" side view'})]},get children(){return y(DC,{})}})}}),y(mv,{}),y(Ys,{id:"overview.loading.events",minSize:5,initialSize:50,get children(){return y(QV,{get state(){return t.state}})}})]}}),y(V,{get when(){return!e.isStandalone()},get children(){var a=HC();return A(a,y(jb,{})),a}})]}})]}})),oe(a=>{var l={"border-t border-[--panel-view-border]":t.orientation==="row"&&e.isIntegratedVSCode(),"opacity-10":n.welcomeMessage||n.wallabyV3Message},c=t.orientation==="column",d={"border-r border-[--panel-view-border]":t.orientation==="row"};return a.e=Et(i,l,a.e),c!==a.t&&o.classList.toggle("flex-col",a.t=c),a.a=Et(s,d,a.a),a},{e:void 0,t:void 0,a:void 0}),i})()}function $j(t){const e=Ge(),r=()=>!!t.state.debuggerState?.started,n=()=>r()&&t.state.debuggerState?.current?.trace.length!==1,[i]=e.appSettings(),o=e.getStatus(),s=U(()=>e.getPanelState(pe.OverviewStatus)().collapsed),a=U(()=>e.getPanelState(pe.OverviewTests)().collapsed),l=U(()=>e.getPanelState(pe.OverviewErrors)().collapsed);return(()=>{var c=Lj();return A(c,y(V,{get when(){return!r()},get fallback(){return(()=>{var d=Aj();return A(d,y(V,{get when(){return n()},get children(){var u=Ij();return A(u,(()=>{var f=U(()=>!!e.isStandalone());return()=>f()&&y(jV,{})})(),null),A(u,y(WC,{get state(){return t.state},get onFocus(){return t.onFocus}}),null),oe(()=>hr(u,e.isStandalone()?"flex h-[35%] max-h-[6.5rem] min-h-[4.75rem] flex-col pt-1":"h-[25%] max-h-[5rem] min-h-[3.125rem]")),u}}),null),A(d,y(yr,{get class(){return(e.isStandalone()?"h-[65%]":"h-[75%]")+" flex flex-grow justify-end border-t border-[--panel-view-border]"},get direction(){return t.orientation},get children(){return[y(St,{index:0,get id(){return pe.OverviewDebuggerErrors},defaultState:{size:20},class:"flex flex-col",get children(){return y(xx,{get state(){return t.state},get orientation(){return t.orientation},get panelId(){return pe.OverviewDebuggerErrors},get onFocus(){return t.onFocus}})}}),y(St,{index:1,get id(){return pe.OverviewDebuggerLogs},defaultState:{size:60},class:"flex flex-col",get children(){return y(Tx,{get state(){return t.state},get orientation(){return t.orientation},get panelId(){return pe.OverviewDebuggerLogs},get onFocus(){return t.onFocus}})}}),y(St,{index:2,defaultState:{size:20},get id(){return pe.OverviewDebuggerStatus},class:"flex items-center justify-center",get children(){return y(VV,{get orientation(){return t.orientation},get state(){return t.state},get onFocus(){return t.onFocus},get panelId(){return pe.OverviewDebuggerStatus}})}}),y(Lx,{get orientation(){return t.orientation},get collapsiblePanels(){return[{id:pe.OverviewDebuggerLogs,icon:y(se,{class:"codicon-output !text-[length:--panel-larger-font-size]",namespace:"overview.logs.header.action",onClick:()=>{e.setPanelState(pe.OverviewDebuggerLogs,u=>({...u,collapsed:!1,size:u.size||60})),t.onFocus?.("overview.logs",!0)},tabIndex:0,tooltip:'Expand "Logs" panel'})},{id:pe.OverviewDebuggerErrors,icon:y(se,{class:"codicon-error !text-[length:--panel-larger-font-size]",namespace:"overview.errors.header.action",onClick:()=>{e.setPanelState(pe.OverviewDebuggerErrors,u=>({...u,collapsed:!1,size:u.size||20})),t.onFocus?.("overview.errors",!0)},tabIndex:0,tooltip:'Expand "Errors" panel'})},{id:pe.OverviewDebuggerStatus,icon:y(se,{class:"codicon-debug !text-[length:--panel-larger-font-size]",namespace:"overview.debugger.header.action",onClick:()=>{e.setPanelState(pe.OverviewDebuggerStatus,u=>({...u,collapsed:!1,size:u.size||20})),t.onFocus?.("overview.debugger",!0)},tabIndex:0,tooltip:'Expand "Debugger" panel'})}]},otherIcons:[]})]}}),null),d})()},get children(){var d=Cj(),u=d.firstChild;return A(u,y(yr,{class:"relative h-full min-h-0 w-full flex-1 justify-end",get direction(){return t.orientation},get children(){return[y(St,{index:0,get id(){return pe.OverviewTests},defaultState:{size:25},get children(){return y(_j,{get state(){return t.state},get panelId(){return pe.OverviewTests},get orientation(){return t.orientation},get onFocus(){return t.onFocus},get keyboard(){return t.keyboard},get showProgress(){return U(()=>!!s())()&&o().state==="running"}})}}),y(St,{index:1,get id(){return pe.OverviewErrors},defaultState:{size:30},class:"flex flex-col",get children(){return y(xx,{get state(){return t.state},get orientation(){return t.orientation},get onFocus(){return t.onFocus},get panelId(){return pe.OverviewErrors},get showProgress(){return U(()=>!!(s()&&a()))()&&o().state==="running"}})}}),y(St,{index:2,get id(){return pe.OverviewLogs},defaultState:{size:28},class:"flex flex-col",get children(){return y(Tx,{get orientation(){return t.orientation},get state(){return t.state},get onFocus(){return t.onFocus},get panelId(){return pe.OverviewLogs},get showProgress(){return U(()=>!!(s()&&l()))()&&o().state==="running"}})}}),y(Lx,{get orientation(){return t.orientation},get collapsiblePanels(){return[{id:pe.OverviewTests,icon:y(se,{class:"codicon-list-unordered !text-[length:--panel-larger-font-size]",namespace:"overview.misc.action",onClick:()=>{e.setPanelState(pe.OverviewTests,f=>({...f,collapsed:!1,size:f.size||20})),t.onFocus?.("overview.tests",!0)},tabIndex:0,tooltip:'Expand "Tests" panel'})},{id:pe.OverviewLogs,icon:y(se,{class:"codicon-output !text-[length:--panel-larger-font-size]",namespace:"overview.misc.action",onClick:()=>{e.setPanelState(pe.OverviewLogs,f=>({...f,collapsed:!1,size:f.size||40})),t.onFocus?.("overview.logs",!0)},tabIndex:0,tooltip:'Expand "Logs" panel'})},{id:pe.OverviewErrors,icon:y(se,{class:"codicon-error !text-[length:--panel-larger-font-size]",namespace:"overview.misc.action",onClick:()=>{e.setPanelState(pe.OverviewErrors,f=>({...f,collapsed:!1,size:f.size||40})),t.onFocus?.("overview.errors",!0)},tabIndex:0,tooltip:'Expand "Errors" panel'})}]},get otherIcons(){return(e.isIntegratedVSCode()?[{icon:y(se,{class:"codicon-server !text-[length:--icon-smaller-font-size]",namespace:"overview.misc.action",onClick:()=>{e.openMcpSettings()},tabIndex:0,tooltip:"Open MCP server settings"})}]:[]).concat([{icon:y(se,{class:"codicon-record-keys !text-[length:--panel-larger-font-size]",namespace:"overview.misc.action",onClick:()=>{e.showShortcuts(t.keyboard.lastFocusedNamespace()||"overview.tests",!0)},tabIndex:0,tooltip:"Show keyboard shortcuts <span class='keyboard-shortcut'>?</span>"})}]).concat(e.isStandalone()?[]:[{icon:y(se,{class:"codicon-layout-panel !text-[length:--panel-larger-font-size]",namespace:"overview.misc.action",get classList(){return{"codicon-layout-panel-off":e.getPanelState(pe.OverviewStatus)().collapsed}},onClick:()=>{e.setPanelState(pe.OverviewStatus,f=>({...f,collapsed:!f.collapsed,size:f.size||10}))},tabIndex:0,get tooltip(){return`${e.getPanelState(pe.OverviewStatus)().collapsed?"Expand":"Collapse"} "Summary" panel`}})}])}})]}}),null),A(u,y(V,{get when(){return U(()=>!e.isStandalone())()&&!e.getPanelState(pe.OverviewStatus)().collapsed},get children(){var f=HC();return A(f,y(jb,{get activeEditorFileStatus(){return t.state.activeEditorFileStatus}})),f}}),null),oe(()=>d.classList.toggle("flex-col",t.orientation==="column")),d}})),oe(d=>Et(c,{"border-t border-[--panel-view-border]":t.orientation==="row"&&e.isIntegratedVSCode(),"opacity-10":!e.isStandalone()&&(i.welcomeMessage||i.wallabyV3Message)},d)),c})()}function Lx(t){const e=Ge(),r=U(()=>t.collapsiblePanels.filter(o=>{const s=e.getPanelState(o.id);return s().collapsed||!s().size})),n=U(()=>r().length===t.collapsiblePanels.length),i=U(()=>t.otherIcons);return[y(yi,{get when(){return n()},get children(){var o=Fj();return o.firstChild,A(o,()=>t.orientation==="column"?"below":"to the right",null),o}}),y(V,{get when(){return r().length||i().length},get children(){var o=Rj(),s=o.firstChild,a=s.nextSibling;return A(s,y(It,{get each(){return r()},children:({icon:l})=>l})),A(a,y(It,{get each(){return i()},children:({icon:l})=>l})),oe(l=>{var c={"border-l border-[--panel-view-border]":t.orientation==="row"&&n(),"pt-[0.3125rem]":t.orientation==="row","border-t border-[--panel-view-border]":t.orientation==="column"&&n(),"flex-col":t.orientation!=="column","justify-end":t.orientation==="column","py-[0.09375rem] pr-0.5 pl-1.5":t.orientation==="column","[&_button]:mb-0.5":t.orientation==="row","[&_button]:mr-0.5":t.orientation==="column"},d=t.orientation==="row",u={"mt-auto flex-col":t.orientation==="row","ml-auto":t.orientation==="column"};return l.e=Et(o,c,l.e),d!==l.t&&s.classList.toggle("flex-col",l.t=d),l.a=Et(a,u,l.a),l},{e:void 0,t:void 0,a:void 0}),o}})]}var Dj=D('<span><span class="text-[--testing-icon-passed] align-middle pb-0.5 codicon codicon-check !text-[length:--icon-font-size] pr-1"></span>Your trial request has been processed. Please check your email (including junk/spam folders).'),Ix=D("<h2>Almost there"),Ax=D('<p class="flex items-center">'),Oj=D('<p class="flex items-center [&amp;_button]:min-w-20"><input class="flex-grow max-w-80 py-0.5 px-1 rounded-[--input-border-radius] bg-[--input-background] text-[--input-foreground] placeholder-[--editor-code-lens-foreground] border border-[--input-border]"type=text placeholder="Email Address">'),Bj=D('<p class="text-[--error-foreground] text-[length:--panel-smaller-font-size]">Please enter valid email address.'),Mj=D("<h2>Activate license"),Nj=D('<p>If you purchased a <b>personal license</b> or your company has assigned you a license via their <a href="https://account.wallabyjs.com/?referrer=wsp"title="https://account.wallabyjs.com/?referrer=wsp">Wallaby Account</a>, then you may activate Wallaby using either your email address OR your license key.'),Gj=D('<p class="text-[--error-foreground] text-[length:--panel-smaller-font-size]">'),Uj=D('<div><textarea rows=4 class="w-full mt-4 p-1 rounded-[--input-border-radius] bg-[--input-background] text-[--input-foreground] border border-[--input-border] placeholder-[--editor-code-lens-foreground] resize-none"></textarea><div class=buttons>'),Wj=D("<p>Your license activation must be confirmed for your email address (<b class=user></b>). Please confirm your online activation request by following the instructions in the email we sent you."),qj=D("<p>If you have not received an email from us, please check your junk/spam folders for an email from: <b>hello@wallabyjs.com</b>."),ii=D("<p class=buttons>"),Hj=D("<h2>License details"),Vj=D("<p>Your <b class=product></b> license is registered to <b class=user></b>. You are entitled to use the latest version of Wallaby and all updates and upgrades until <b class=date></b>."),jj=D("<p>If you would like purchase <a href=https://quokkajs.com/ title=https://quokkajs.com/>Quokka.js</a>, you may <b class=upgrade>upgrade</b> your existing license to <b class=product>Wallaby.js + Quokka.js</b> which is cheaper than purchasing both products separately."),zj=D("<h2>Open source license details"),Kj=D("<p>Your <b class=product></b> license is registered to <b class=user></b>. You are entitled to use the latest version of Wallaby on <b class=upgrade>Open Source Projects</b>."),Xj=D("<p>If you would like to use Wallaby on closed-source personal or commercial projects, please <b class=upgrade>purchase a license</b>."),Yj=D("<h2>Expiring license details"),Jj=D("<p>Your <b class=product></b> license is registered to <b class=user></b>. Your license upgrade period expires in <b><span class=expiration></span></b>, on <b class=expiration></b>. If you would like continue to use the latest version of Wallaby and receive updates and upgrades for another year, you may <b class=upgrade>renew your license with limited time discount</b>."),Zj=D("<h2>Expired license details"),Qj=D("<p>Your <b class=product></b> license is registered to <b class=user></b>. Your license upgrade period has expired on <b class=expiration></b>, and <b class=expiration>you are no longer eligible for updates and upgrades</b>. If you would like to use the latest version of Wallaby and receive updates and upgrades for another year, you may <b class=upgrade>renew your license with limited time discount</b>."),ez=D("<h2>Trial license details"),tz=D("<p>You are currently using a fully-functional limited-time trial version of Wallaby. Your trial period finishes in <b><span class=expiration></span></b>, on <b class=expiration></b>. If you would like continue to use Wallaby after your trial is over, you may <b class=upgrade>purchase a license</b>."),rz=D("<h2>Trial period is over"),nz=D("<p>Your Wallaby <b class=expiration>trial period has ended</b>. If you would like to continue to use Wallaby, please <b class=upgrade>purchase a license</b>. If you are still evaluating Wallaby and need an extended trial license, please <a href=mailto:hello@wallabyjs.com title=mailto:hello@wallabyjs.com>email us</a>."),iz=D("<h2>Ready to try Wallaby"),oz=D('<p>If you would like to try Wallaby, you may <b class=upgrade>start your free trial now</b>. If you have already purchased a license, <b class=upgrade>please activate it</b>. If you do not have a license, you may <b class=upgrade>purchase a license</b> using our website. If you are using Wallaby with an open-source project, you may <a href="https://wallabyjs.com/oss/?referrer=wsp">request an OSS license</a>.'),sz=D('<div class="flex flex-col pt-2 pb-3 [&amp;_p]:mt-3 [&amp;_h2]:text-[length:--header-font-size] [&amp;_h2]:header-tracking [&amp;_h2]:font-bold [&amp;_h2]:uppercase [&amp;_a]:text-[--link-foreground] [&amp;_a]:underline [&amp;_.buttons]:mt-4 [&amp;_.buttons]:text-center [&amp;_button]:w-[8.2rem] [&amp;_button]:truncate [&amp;_button]:ml-2 [&amp;_button]:mb-2 [&amp;_.product]:text-[--editor-warning-foreground] [&amp;_.user]:text-[--editor-warning-foreground] [&amp;_.date]:text-[--time-foreground] [&amp;_.upgrade]:text-[--time-foreground] [&amp;_.expiration]:text-[--error-foreground]">'),az=D('<div class="absolute inset-0 overflow-y-auto">'),Fx=D('<span class="codicon codicon-loading codicon-modifier-spin !text-[length:--icon-font-size]">'),lz=D("<span class=pl-2>Processing your trial request..."),cz=D('<span class=text-[--error-foreground]><span class="align-middle pb-0.5 codicon codicon-circle-slash !text-[length:--icon-font-size] pr-1"></span>. Please <a href=mailto:hello@wallabyjs.com title=mailto:hello@wallabyjs.com>send us an email</a> instead.'),dz=D("<p>"),uz=D("<span class=pl-2>Activating your license..."),hz=D('<span class=text-[--error-foreground]><span class="align-middle pb-0.5 codicon codicon-circle-slash !text-[length:--icon-font-size] pr-1"></span>. Please <a href=mailto:hello@wallabyjs.com title=mailto:hello@wallabyjs.com>send us an email</a> if you need some help.');const Rx=/^[a-zA-Z0-9_+&*-]+(?:\.[a-zA-Z0-9_+&*-]+)*@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,63}$/;function fz(t){const e=Ge(),[r,n]=z(t.state.requestTrial),[i,o]=z(t.state.activateLicense?{}:void 0),[s,a]=z(""),[l,c]=z(!1),[d,u]=z(!1),[f,h]=z(""),g=()=>{n(!1),a(""),c(!1),e.resetAccountRequests()},p=()=>{m(),u(!1),o(),e.resetAccountRequests()},m=()=>{t.state.email&&t.state.onlineLicense?h(t.state.email):t.state.key&&h(t.state.key)};return yt(()=>{m()}),we(()=>t.state.trialRequestResult,b=>{b?.success&&(g(),o({message:Dj(),keyOnly:!0}))}),we(()=>t.state.activationRequestResult,b=>{b?.success&&p()}),(()=>{var b=az();return A(b,y(Fs,{contentClass:`px-4
                text-[length:--panel-larger-font-size] tracking-wide
                bg-[--background]`,get children(){var k=sz();return A(k,y(qt,{get children(){return[y(Ce,{get when(){return r()},get children(){return[Ix(),(()=>{var _=Ax();return A(_,(()=>{var v=U(()=>!!t.state.requestingTrial);return()=>v()?[Fx(),lz()]:(()=>{var x=U(()=>!!t.state.trialRequestResult?.error);return()=>x()?(()=>{var S=cz(),w=S.firstChild,T=w.nextSibling;return A(S,()=>t.state.trialRequestResult.error,T),S})():"Please enter your email to activate your free trial."})()})()),_})(),(()=>{var _=Oj(),v=_.firstChild;return v.$$input=x=>{t.state.requestingTrial||(c(!1),a(x.target.value))},A(_,y(Ct,{class:"!mb-0",onClick:()=>{if(!t.state.requestingTrial){if(!Rx.test(s())){c(!0);return}e.requestTrial(s())}},children:"Submit"}),null),A(_,y(Ct,{onClick:()=>g(),class:"!mb-0",get children(){return t.state.trialRequestResult?"Close":"Cancel"}}),null),oe(x=>{var S=!!t.state.requestingTrial,w=!!t.state.requestingTrial,T=t.state.requestingTrial;return S!==x.e&&_.classList.toggle("pointer-events-none",x.e=S),w!==x.t&&_.classList.toggle("opacity-50",x.t=w),T!==x.a&&(v.disabled=x.a=T),x},{e:void 0,t:void 0,a:void 0}),oe(()=>v.value=s()),_})(),y(V,{get when(){return l()},get children(){return Bj()}})]}}),y(Ce,{get when(){return i()},get children(){return[Mj(),y(V,{get when(){return!i().message},get fallback(){return(()=>{var _=dz();return A(_,()=>i().message),_})()},get children(){return[Nj(),(()=>{var _=Ax();return A(_,(()=>{var v=U(()=>!!t.state.activating);return()=>v()?[Fx(),uz()]:(()=>{var x=U(()=>!!t.state.activationRequestResult?.error);return()=>x()?(()=>{var S=hz(),w=S.firstChild,T=w.nextSibling;return A(S,()=>t.state.activationRequestResult.error,T),S})():"If you activate using an email address, you will be sent an email to confirm your activation."})()})()),_})()]}}),(()=>{var _=Uj(),v=_.firstChild,x=v.nextSibling;return v.$$input=S=>{t.state.activating||(u(!1),h(S.currentTarget.value))},A(_,y(V,{get when(){return d()},get children(){var S=Gj();return A(S,()=>i().keyOnly?"Please provide your license key.":"Please provide your email address OR your license key."),S}}),x),A(x,y(Ct,{onClick:()=>{if(t.state.activating)return;const S=f();if(!Rx.test(S)&&S.length<50){u(!0);return}e.activateLicense(f())},children:"Submit"}),null),A(x,y(Ct,{onClick:()=>p(),children:"Cancel"}),null),oe(S=>{var w=!!t.state.activating,T=!!t.state.activating,L=t.state.activating,E=i().keyOnly?"License Key":"Email Address OR License Key";return w!==S.e&&_.classList.toggle("pointer-events-none",S.e=w),T!==S.t&&_.classList.toggle("opacity-50",S.t=T),L!==S.a&&(v.disabled=S.a=L),E!==S.o&&Me(v,"placeholder",S.o=E),S},{e:void 0,t:void 0,a:void 0,o:void 0}),_})()]}}),y(Ce,{get when(){return t.state.state==="activating"},get children(){return[Ix(),(()=>{var _=Wj(),v=_.firstChild,x=v.nextSibling;return A(x,()=>t.state.registeredTo),_})(),qj(),(()=>{var _=ii();return A(_,y(Ct,{onClick:()=>o({}),children:"Change License"})),_})()]}}),y(Ce,{get when(){return t.state.state==="activated"},get children(){return[Hj(),(()=>{var _=Vj(),v=_.firstChild,x=v.nextSibling,S=x.nextSibling,w=S.nextSibling,T=w.nextSibling,L=T.nextSibling;return A(x,()=>t.state.productType),A(w,()=>t.state.registeredTo),A(L,()=>t.state.expiryDate),_})(),y(V,{get when(){return!t.state.isBundle},get children(){return jj()}}),(()=>{var _=ii();return A(_,y(V,{get when(){return!t.state.isBundle},get children(){return y(Ct,{get href(){return t.state.upgradeUrl},children:"Upgrade License"})}}),null),A(_,y(Ct,{onClick:()=>o({}),children:"Change License"}),null),_})()]}}),y(Ce,{get when(){return t.state.state==="openSource"},get children(){return[zj(),(()=>{var _=Kj(),v=_.firstChild,x=v.nextSibling,S=x.nextSibling,w=S.nextSibling;return A(x,()=>t.state.productType),A(w,()=>t.state.registeredTo),_})(),Xj(),(()=>{var _=ii();return A(_,y(Ct,{get href(){return t.state.purchaseUrl},children:"Purchase Wallaby"}),null),A(_,y(Ct,{onClick:()=>o({}),children:"Activate License"}),null),_})()]}}),y(Ce,{get when(){return t.state.state==="expiring"},get children(){return[Yj(),(()=>{var _=Jj(),v=_.firstChild,x=v.nextSibling,S=x.nextSibling,w=S.nextSibling,T=w.nextSibling,L=T.nextSibling,E=L.firstChild,C=L.nextSibling,F=C.nextSibling;return A(x,()=>t.state.productType),A(w,()=>t.state.registeredTo),A(E,()=>t.state.daysUntilExpiry),A(F,()=>t.state.expiryDate),_})(),(()=>{var _=ii();return A(_,y(Ct,{get href(){return t.state.renewUrl},children:"Renew License"}),null),A(_,y(Ct,{onClick:()=>o({}),children:"Activate License"}),null),_})()]}}),y(Ce,{get when(){return t.state.state==="expired"},get children(){return[Zj(),(()=>{var _=Qj(),v=_.firstChild,x=v.nextSibling,S=x.nextSibling,w=S.nextSibling,T=w.nextSibling,L=T.nextSibling;return A(x,()=>t.state.productType),A(w,()=>t.state.registeredTo),A(L,()=>t.state.expiryDate),_})(),(()=>{var _=ii();return A(_,y(Ct,{get href(){return t.state.renewUrl},children:"Renew License"}),null),A(_,y(Ct,{onClick:()=>o({}),children:"Activate License"}),null),A(_,y(Ct,{onClick:()=>n(!0),children:"Start Trial"}),null),_})()]}}),y(Ce,{get when(){return t.state.state==="trialLicense"},get children(){return[ez(),(()=>{var _=tz(),v=_.firstChild,x=v.nextSibling,S=x.firstChild,w=x.nextSibling,T=w.nextSibling;return A(S,()=>t.state.daysUntilExpiry),A(T,()=>t.state.expiryDate),_})(),(()=>{var _=ii();return A(_,y(Ct,{get href(){return t.state.purchaseUrl},children:"Purchase Wallaby"}),null),A(_,y(Ct,{onClick:()=>o({}),children:"Activate License"}),null),_})()]}}),y(Ce,{get when(){return t.state.state==="trialDemoOver"},get children(){return[rz(),nz(),(()=>{var _=ii();return A(_,y(Ct,{get href(){return t.state.purchaseUrl},children:"Purchase Wallaby"}),null),A(_,y(Ct,{onClick:()=>o({}),children:"Activate License"}),null),_})()]}}),y(Ce,{get when(){return t.state.state==="demoLicense"},get children(){return[iz(),oz(),(()=>{var _=ii();return A(_,y(Ct,{onClick:()=>n(!0),children:"Start Trial"}),null),A(_,y(Ct,{get href(){return t.state.purchaseUrl},children:"Purchase Wallaby"}),null),A(_,y(Ct,{onClick:()=>o({}),children:"Activate License"}),null),_})()]}})]}})),k}})),b})()}At(["input"]);var gz=D("<div class=item><div class=header>Color Theme</div><div class=desc>Specifies the color theme used in UI and code viewer.</div><div class=control><select>"),pz=D("<div class=item><div class=header>Panel Font Family</div><div class=desc>Controls the font family for UI elements outside of code viewer, for example panels, headers and lists.</div><div class=control><input type=text>"),mz=D("<div class=item><div class=header>Editor Font Family</div><div class=desc>Controls the font family for UI elements with monospaced fonts, for example code viewer, log entries and errors.</div><div class=control><input type=text>"),vz=D("<div class=item><div class=header>Default Open Location</div><div class=desc>Select where files open by default for navigation, and side-by-side diffs without using a modifier key.</div><div class=control><select><option value=browser>In Browser</option><option value=editor>In Editor</option><option value=both>Both Browser and Editor"),bz=D("<div class=item><div class=header>Modified Open Location (with <!>)</div><div class=desc>Select where files open when using the <!> modifier key for navigation, and side-by-side diffs.</div><div class=control><select><option value=browser>In Browser</option><option value=editor>In Editor</option><option value=both>Both Browser and Editor"),_z=D('<div class="absolute inset-0 overflow-y-auto">'),yz=D("<option>");function wz(){const t=Ge(),[e,r]=t.appSettings();return(()=>{var n=_z();return A(n,y(Fs,{contentClass:`px-4
                text-[length:--panel-larger-font-size] tracking-wide
                bg-[--background]

                [&_.item]:flex
                [&_.item]:flex-col
                [&_.item]:mt-2
                [&_.item]:mb-2

                [&_.header]:my-1
                [&_.header]:font-bold
                [&_.header]:text-[length:--panel-larger-font-size]

                [&_.desc]:opacity-80
                [&_.desc]:my-1

                [&_.control]:my-1
                [&_.control_input]:w-full
                [&_.control_input]:py-0.5
                [&_.control_input]:px-1
                [&_.control_input]:flex-grow
                [&_.control_input]:bg-[--input-background]
                [&_.control_input]:text-[--input-foreground]
                [&_.control_input]:placeholder-[--editor-code-lens-foreground]
                [&_.control_input]:border
                [&_.control_input]:border-[--input-border]
                [&_.control_input]:rounded-[--input-border-radius]

                [&_.control_select]:appearance-none
                [&_.control_select]:truncate
                [&_.control_select]:w-[10rem]
                [&_.control_select]:py-0.5
                [&_.control_select]:px-1
                [&_.control_select]:flex-grow
                [&_.control_select]:bg-[--dropdown-background]
                [&_.control_select]:text-[--dropdown-foreground]
                [&_.control_select]:border
                [&_.control_select]:border-[--dropdown-border]
                [&_.control_select]:rounded-[--dropdown-border-radius]

                `,get children(){return[y(V,{get when(){return!t.isEditorConnected()||t.isEditorConnectedWithNoPreferences()},get children(){return[(()=>{var i=gz(),o=i.firstChild,s=o.nextSibling,a=s.nextSibling,l=a.firstChild;return l.addEventListener("change",c=>{r("standalone","cli","theme",c.currentTarget.value),vl({theme:c.currentTarget.value})}),A(l,()=>$v.filter(c=>c.available).map(c=>(()=>{var d=yz();return A(d,()=>c.name),oe(()=>d.selected=c.name===e.standalone.cli.theme||e.standalone.cli.theme===void 0&&c.name===Pv.name),d})())),i})(),(()=>{var i=pz(),o=i.firstChild,s=o.nextSibling,a=s.nextSibling,l=a.firstChild;return l.addEventListener("change",c=>{r("standalone","cli","panelFontFamily",c.currentTarget.value||""),vl({panelFontFamily:c.currentTarget.value,theme:e.standalone.cli.theme})}),oe(()=>Me(l,"placeholder",getComputedStyle(document.body)?.getPropertyValue("--def-font-family"))),oe(()=>l.value=e.standalone.cli.panelFontFamily||""),i})(),(()=>{var i=mz(),o=i.firstChild,s=o.nextSibling,a=s.nextSibling,l=a.firstChild;return l.addEventListener("change",c=>{r("standalone","cli","editorFontFamily",c.currentTarget.value||""),vl({editorFontFamily:c.currentTarget.value,theme:e.standalone.cli.theme})}),oe(()=>Me(l,"placeholder",getComputedStyle(document.body)?.getPropertyValue("--def-editor-font-family"))),oe(()=>l.value=e.standalone.cli.editorFontFamily||""),i})()]}}),y(V,{get when(){return t.isEditorConnected()},get children(){return[(()=>{var i=vz(),o=i.firstChild,s=o.nextSibling,a=s.nextSibling,l=a.firstChild,c=l.firstChild,d=c.nextSibling,u=d.nextSibling;return l.addEventListener("change",f=>{r("linkedMode","fileNavigation",f.currentTarget.value)}),oe(f=>{var h=e.linkedMode.fileNavigation==="browser",g=e.linkedMode.fileNavigation==="editor",p=e.linkedMode.fileNavigation==="both";return h!==f.e&&(c.selected=f.e=h),g!==f.t&&(d.selected=f.t=g),p!==f.a&&(u.selected=f.a=p),f},{e:void 0,t:void 0,a:void 0}),i})(),(()=>{var i=bz(),o=i.firstChild,s=o.firstChild,a=s.nextSibling;a.nextSibling;var l=o.nextSibling,c=l.firstChild,d=c.nextSibling;d.nextSibling;var u=l.nextSibling,f=u.firstChild,h=f.firstChild,g=h.nextSibling,p=g.nextSibling;return A(o,vr,a),A(l,vr,d),f.addEventListener("change",m=>{r("linkedMode","fileNavigationWithModifier",m.currentTarget.value)}),oe(m=>{var b=e.linkedMode.fileNavigationWithModifier==="browser",k=e.linkedMode.fileNavigationWithModifier==="editor",_=e.linkedMode.fileNavigationWithModifier==="both";return b!==m.e&&(h.selected=m.e=b),k!==m.t&&(g.selected=m.t=k),_!==m.a&&(p.selected=m.a=_),m},{e:void 0,t:void 0,a:void 0}),i})()]}})]}})),n})()}var kz=D("<span>"),Px=D('<div class="ml-auto flex">'),Sz=D('<div class="flex h-full w-full flex-col"><div class="flex w-full flex-row text-[length:--panel-larger-font-size]"><div class="items-center_ border-r_ flex min-w-24 cursor-default flex-row truncate border-[--panel-view-border] px-4 py-1.5 text-[--foreground] brightness-125"></div><div class="bg-[--tab-inactive-background]_ border-b_ flex flex-grow cursor-default items-center border-[--panel-view-border] px-2 opacity-85 [&amp;_button]:!text-[length:--icon-font-size]"></div></div><div class="relative h-full w-full">'),jC=D('<div class="h-full w-full flex-grow monaco-colors-container">');const $x=new Map,xz=t=>{const[e,r]=Ge().appSettings(),n=()=>!!e.errors.diff?.useInlineViewWhenSpaceIsLimited;return(()=>{var i=Sz(),o=i.firstChild,s=o.firstChild,a=s.nextSibling,l=o.nextSibling;return s.$$mousedown=c=>{c.button===1&&t.closeFile?.()},A(s,y(qt,{get children(){return[y(Ce,{get when(){return t.tab?.source},get children(){var c=kz();return ae(re,c,()=>re&&{content:t.tab?.source?.path}),A(c,()=>wi(t.tab?.source?.path||"",1/0)),c}}),y(Ce,{get when(){return t.tab?.account},get children(){return"Account"}}),y(Ce,{get when(){return t.tab?.settings},get children(){return"Settings"}}),y(Ce,{get when(){return t.tab?.diff},get children(){return"Expected vs Actual"}})]}}),null),A(s,y(V,{get when(){return t.closeFile},get children(){return y(se,{class:"codicon-close ml-1",tooltip:"Close",tabIndex:0,onClick:()=>t.closeFile()})}}),null),A(a,y(V,{get when(){return t.tab?.source},get children(){var c=Px();return A(c,y(V,{get when(){return t.showCoverageWidget&&t.tab?.source?.coverage},get children(){return y(Gb,{get coverage(){return t.tab.source.coverage},file:!0})}}),null),A(c,y(V,{get when(){return t.tab?.source?.uncoveredRegions.length},get children(){return y(se,{get tooltip(){return`${t.showUncoveredRegions?"Remove highlighting for":"Highlight"} uncovered regions`},class:"codicon-color-mode ml-2",onClick:()=>t.toggleUncoveredRegions?.(),get classList(){return{activeIcon:t.showUncoveredRegions}}})}}),null),c}}),null),A(a,y(V,{get when(){return t.tab?.diff},get children(){var c=Px();return A(c,y(se,{class:"codicon-diff",namespace:"details.errors.diff.header.action",get classList(){return{activeIcon:!n()}},tooltip:`Toggle forcing side-by-side diff view<br/><br/>${W5}`,onClick:()=>{r("errors",Je(d=>{d.diff||(d.diff={}),d.diff.useInlineViewWhenSpaceIsLimited=!d.diff.useInlineViewWhenSpaceIsLimited}))},tabIndex:0})),c}}),null),A(l,y(qt,{get children(){return[y(Ce,{get when(){return t.tab?.diff},get children(){return y(Ez,Yi(t,{get useInlineViewWhenSpaceIsLimited(){return n()}}))}}),y(Ce,{get when(){return t.tab?.source},get children(){return y(Tz,t)}}),y(Ce,{get when(){return t.tab?.account},get children(){return y(fz,{get state(){return t.tab.account}})}}),y(Ce,{get when(){return t.tab?.settings},get children(){return y(wz,{})}})]}})),oe(()=>i.classList.toggle("hidden",!t.tab?.source&&!t.tab?.diff&&!t.tab?.account&&!t.tab?.settings)),i})()},Tz=t=>{let e;const r=new Set,[n,i]=z(),[o,s]=z(),[a,l]=z(),[c,d]=z(),[u,f]=z(!0),[h,g]=z(!1);Vt(async()=>{try{const{monaco:m,inject:b}=await qr(()=>import("./monaco-yhPQzIoc.js"),__vite__mapDeps([2,3]),import.meta.url),k=p(m);await b(),l(k.createDecorationsCollection()),d(k.createDecorationsCollection()),r.add(k.onDidChangeCursorSelection(_=>{h()||(c()?.clear(),t.selectionChanged?.({start:{line:_.selection.startLineNumber,column:_.selection.startColumn-1},end:{line:_.selection.endLineNumber,column:_.selection.endColumn-1}}))})),i(m),s(k)}catch(m){console.error("Could not initialize Monaco",m)}}),Xe(()=>{const m=o();m&&(r.forEach(b=>b.dispose()),m.getModel()?.dispose(),m.dispose())}),we([()=>t.tab?.requestedLocation,o],()=>{const m=t.tab?.source?.path,b=t.tab?.requestedLocation;if(!b||b.file!==m){if(f(!0),m){const _=o();_&&$x.set(m,_.saveViewState())}return}const k=o();k&&(Dx(k,b,c),f(!1))},{defer:!0}),we([()=>t.tab?.source,()=>t.showUncoveredRegions,o],()=>{const m=o(),b=t.tab?.source?.content,k=t.tab?.source?.path,_=t.tab?.requestedLocation&&{...t.tab.requestedLocation};if(!_||_.file!==k||!m||typeof b>"u")return;if(m.getValue()!==b){g(!0);const x=u()?$x.get(k)||null:m.saveViewState();m.setValue(b),m.restoreViewState(x),m.updateOptions({lineNumbersMinChars:m.getModel().getLineCount().toString().length+1});const S=m.getSelection();S&&t.initialPositionSet?.({line:S.startLineNumber,column:S.startColumn-1}),g(!1)}const v=[];if(t.showUncoveredRegions){const x=t.tab?.source?.uncoveredRegions||[];for(const S of x)v.push({range:{startLineNumber:S[0],startColumn:S[1]+1,endLineNumber:S[2],endColumn:S[3]+1},options:{className:"uncovered-region",inlineClassName:"uncovered-region"}})}for(const x of t.tab?.source?.lines||[]){const S=x.num,w={startLineNumber:S,startColumn:1,endLineNumber:S,endColumn:1e3};v.push(Ox(w,{glyphMarginClassName:Lz(x)}));const T=x.meta;if(x.err||x.log){const L=T?.system||T?.log&&T?.log.system;v.push(Ox(w,{after:{content:x.err||x.log,inlineClassName:`line-${x.err?"error":L?"system-log":"log"}`}}))}if(T?.watchExpression){const L=T.watchExpression.range,E=m.getModel(),C={startLineNumber:L[0],startColumn:Math.max(L[1]+1,E?.getLineFirstNonWhitespaceColumn(L[0])||1),endLineNumber:L[2],endColumn:Math.min(E?.getLineLastNonWhitespaceColumn(L[0])||1/0,L[3]+1)};(C.startLineNumber!==C.endLineNumber||C.startColumn!==C.endColumn)&&v.push({range:C,options:{className:"watch-expression"}})}}if(t.tab?.source?.debugger){const x=t.tab.source.debugger.range;v.push({range:{startLineNumber:x[0],startColumn:x[1]+1,endLineNumber:x[2],endColumn:x[3]+1},options:{className:t.tab.source.debugger.unreachable?"unreachable-step":"debugged-line"}})}a().clear(),a().set(v),(u()||t.tab?.source?.forcedLocation)&&_&&(Dx(m,_,c),f(!1))},{defer:!0});const p=m=>{const b=m.editor.createModel(t.tab?.source?.content??"",Cz(t.tab?.requestedLocation?.file)),k=parseFloat(getComputedStyle(document.body)?.getPropertyValue("--panel-font-size").split("px")[0])-1;return m.editor.create(e,{lineNumbersMinChars:b.getLineCount().toString().length+1,model:b,automaticLayout:!0,minimap:{enabled:!1},contextmenu:!1,quickSuggestions:!1,parameterHints:{enabled:!1},readOnly:!0,fontSize:k,fontFamily:"var(--editor-font-family)",padding:{top:9},scrollbar:{horizontal:"visible",vertical:"visible"},renderLineHighlight:"line",matchBrackets:"always",glyphMargin:!0})};return(()=>{var m=jC(),b=e;return typeof b=="function"?ae(b,m):e=m,m})()},Ez=t=>{let e;const[r,n]=z(),[i,o]=z();Vt(async()=>{try{const{monaco:a,inject:l}=await qr(()=>import("./monaco-yhPQzIoc.js"),__vite__mapDeps([2,3]),import.meta.url),c=s(a);await l(),n(a),o(c)}catch(a){console.error("Could not initialize Monaco",a)}}),Xe(()=>{const a=i();a&&(a.getModel()?.modified.dispose(),a.getModel()?.original.dispose(),a.dispose())}),we([()=>t.tab?.diff,()=>t.tab?.diff?.actual,()=>t.tab?.diff?.expected,i,r],()=>{const a=r(),l=i(),c=t.tab?.diff?.actual,d=t.tab?.diff?.expected;!a||!l||l.setModel({original:a.editor.createModel(d||""),modified:a.editor.createModel(c||"")})},{defer:!0}),we([()=>t.useInlineViewWhenSpaceIsLimited],()=>{const a=r(),l=i();!a||!l||l?.updateOptions({useInlineViewWhenSpaceIsLimited:t.useInlineViewWhenSpaceIsLimited})});const s=a=>{const l=parseFloat(getComputedStyle(document.body)?.getPropertyValue("--panel-font-size").split("px")[0])-1;return a.editor.createDiffEditor(e,{renderMarginRevertIcon:!1,renderGutterMenu:!1,originalEditable:!1,renderIndicators:!0,useInlineViewWhenSpaceIsLimited:t.useInlineViewWhenSpaceIsLimited,automaticLayout:!0,minimap:{enabled:!1},contextmenu:!1,quickSuggestions:!1,parameterHints:{enabled:!1},readOnly:!0,fontSize:l,padding:{top:9},scrollbar:{horizontalScrollbarSize:13,verticalScrollbarSize:13,horizontal:"visible",vertical:"visible"},renderLineHighlight:"line",matchBrackets:"always",cursorBlinking:"blink"})};return(()=>{var a=jC(),l=e;return typeof l=="function"?ae(l,a):e=a,a})()};function Dx(t,e,r){if(!e.line){t.revealLine(1);return}if(t.setPosition({lineNumber:e.line,column:(e.column||0)+1}),t.revealLineInCenterIfOutsideViewport(e.line),e.options?.callStackFrame){const n=t.getModel();r?.()?.clear(),r?.()?.set([{range:e.options.callStackFrame.range?{startLineNumber:e.options.callStackFrame.range[0],startColumn:e.options.callStackFrame.range[1]+1,endLineNumber:e.options.callStackFrame.range[2],endColumn:e.options.callStackFrame.range[3]+1}:{startLineNumber:e.line,startColumn:Math.max(e.options.callStackFrame.column||1,n?.getLineFirstNonWhitespaceColumn(e.line)||1),endLineNumber:e.line,endColumn:1e3},options:{className:"call-stack-frame"}}])}}function Cz(t){return t?t.endsWith(".vue")?"vue":t.endsWith(".svelte")?"svelte":t.endsWith(".wallaby")?"wallaby":"typescript":"typescript"}function Ox(t,e){return{range:t,options:{...e,isWholeLine:!0}}}function Lz(t){switch(t.state){case 1:return"uncovered-line";case 2:return"covered-line";case 3:return"partially-covered-line";case 4:return"error-source-line";case 5:return"error-path-line";default:return}}At(["mousedown"]);var Iz=D('<div class="h-full w-full mx-auto my-auto text-[var(--subtle-foreground)] flex items-center justify-center uppercase text-[length:--header-font-size] tracking-wide px-3 text-center">No file opened'),Az=D('<div class="h-full w-full">');function Fz(t){const e=Ge(),[r,n]=e.appSettings(),i=()=>r.editor.uncoveredRegions,o=to(s=>{!t.app.debuggerStarted||!t.app.openedTab?.source||(s.start.line===s.end.line&&s.start.column!==s.end.column||s.start.line===s.end.line-1&&s.end.column===0)&&e.addWatchExpression(t.app.openedTab.source.path,t.app.openedTab.source.content,[s.start.line,s.start.column,s.end.line,s.end.column])},200);return Xe(()=>{e.closeAllFiles()}),xr(()=>t.app.openedTab,s=>{s||e.closeAllFiles()}),(()=>{var s=Az();return A(s,y(yi,{get when(){return!t.app.openedTab},get children(){return Iz()}}),null),A(s,y(xz,{get tab(){return t.app.openedTab},get showUncoveredRegions(){return i()},get showCoverageWidget(){return!t.app.debuggerStarted&&!t.app.runStats?.filtered},toggleUncoveredRegions:()=>n("editor","uncoveredRegions",!i()),selectionChanged:a=>{t.app.openedTab?.diff||(e.updateOpenedSourceFilePosition({line:a.start.line,column:a.start.column}),o(a))},initialPositionSet:a=>{e.updateOpenedSourceFilePosition({line:a.line,column:a.column})},closeFile:()=>e.closeAllFiles()}),null),s})()}const Bx=3;class zC{constructor(e={notifications:[]},r){this.state=e,this.setState=r,this._coreToApp=wa(),this._appService=Ge(),this._disposable=new Cr,this._disposable.add(this._coreToApp.onNotifications(this.onNotificationsAvailable.bind(this))),this._notificationId=e.notifications.length,this.setState("notifications",n=>n.reverse().slice(0,Bx).map(i=>this._displayNotification(i))),Ge().clearNotifications()}_disposable;_coreToApp;_notificationId=0;_appService;_displayNotification(e){const r=this._notificationId++,n={...e,displayId:r};return n.actions=this._getActions(n),n.text=this._processText(n.text),n}hideNotification(e){this.setState("notifications",r=>r.filter(n=>n.displayId!==e))}onNotificationsAvailable(e){this.state.notifications?.[0]?.id===Hd&&!e.find(r=>r.id!==Hd)||this.setState("notifications",r=>[...e.reverse().map(n=>this._displayNotification(n)),...r].slice(0,Bx))}_processText(e){return e?e.replace(/<br\/><br\/>/g," ").replace(/<br\/>/g," ").replace(/<[^>]*>/g,""):""}_getActions(e){const r=[];if(!e.text)return r;const n=i=>()=>window.open(i,"_blank");return~e.text.indexOf("extended-trial-license-link")&&r.push({title:"Start Trial",command:()=>this._appService.openAccountDetails({requestTrial:!0})}),~e.text.indexOf("activate-link")&&r.push({title:"Activate License",command:()=>this._appService.openAccountDetails({activateLicense:!0})}),~e.text.indexOf("purchase")&&r.push({title:"Purchase",command:n("https://wallabyjs.com/purchase/#select-wallaby")}),~e.text.indexOf("auto-config-info-link")&&r.push({title:"View Docs",command:n("https://wallabyjs.com/docs/intro/config.html")}),e.id===Hd&&r.push({title:"Open Account",command:()=>this._appService.openAccountDetails()}),e.id===g6&&(r.push({title:"Restart Wallaby",command:()=>{this._appService.restart()}}),r.push({title:"Skip for Now",command:()=>{this.hideNotification(e.displayId)}})),e.button&&r.push({title:e.button.label,command:n(e.button.link)}),r}dispose(){this._disposable.dispose()}static Provider}const[Rz,Pz]=Ar(t=>t.initial);zC.Provider=Rz;var $z=D('<div class="flex-grow cursor-default truncate text-center indent-12 text-[length:--header-font-size] font-bold uppercase">'),Dz=D('<div class="absolute bottom-8 right-2 flex flex-col [&amp;_.notification]:z-[101] [&amp;_.notification]:my-1 [&amp;_.notification]:flex [&amp;_.notification]:w-[25rem] [&amp;_.notification]:flex-col [&amp;_.notification]:rounded-[0.1875rem] [&amp;_.notification]:border [&amp;_.notification]:border-[var(--editor-hover-widget-border)] [&amp;_.notification]:bg-[--editor-hover-widget-background] [&amp;_.notification]:px-1.5 [&amp;_.notification]:py-1.5 [&amp;_.notification]:text-[length:--panel-font-size] [&amp;_.notification]:text-[var(--editor-hover-widget-foreground)] [&amp;_.notification]:shadow-[--widget-shadow]">'),Oz=D('<div class="relative flex h-full w-full flex-col"><div class="flex items-center border-b border-[--panel-view-border]"><div class="ml-auto text-nowrap pr-1 [&amp;_button]:mx-[0.0625rem]"></div></div><div class="flex items-center border-t border-[--panel-view-border] py-0.5 text-right text-[length:--panel-font-size] [&amp;_.item]:px-1"><div class="flex w-full items-center"><div class="item ml-auto !pr-0.5 opacity-70">'),Bz=D('<div class="flex-grow cursor-default truncate text-center text-[length:--panel-font-size] font-bold text-[--editor-warning-foreground]"><span class="inline-flex indent-12 uppercase">Wallaby is paused (please check your account settings)'),Mz=D('<div class="item group items-center dim flex flex-grow whitespace-nowrap !pr-4 pb-[0.03125rem]">Ln <!>, Col '),Nz=D('<div class="ml-auto flex px-1 pb-1 pt-2">'),Gz=D('<div class=notification><div class=flex><div class="codicon pr-1.5 !leading-[1rem]"></div><div class="flex-grow pr-0.5 leading-[1rem]"></div><div>'),Uz=D("<div class=pl-2>");function Wz(t){const{width:e,height:r}=vc(),n=()=>e()*2>r()?"row":"column",i=Ge(),o=Pz(),s=i.getPanelState(pe.StandaloneMain),a=i.getPanelState(pe.StandaloneMainCode),l=i.getPanelState(pe.StandaloneMainSideView),c=i.getPanelState(pe.StandaloneOverview),d=U(()=>a().collapsed?'Show "Code" panel':'Hide "Code" panel'),u=U(()=>l().collapsed?"Show side panel":"Hide side panel"),f=U(()=>c().collapsed?'Show bottom "Overview" panel':'Hide bottom "Overview" panel');we([a,l],()=>{const g=!!s().collapsed,p=a().collapsed&&l().collapsed,m=!a().collapsed||!l().collapsed;(p&&!g||m&&g)&&i.setPanelState(pe.StandaloneMain,b=>({...b,collapsed:!g,size:b.size||70}))}),we(i.getFailingStatus(),g=>{g?(document.getElementById("favicon")?.setAttribute("href","/favicon-alt.ico"),document.getElementById("shortcut")?.setAttribute("href","/favicon-alt.ico")):(document.getElementById("favicon")?.setAttribute("href","/favicon.ico"),document.getElementById("shortcut")?.setAttribute("href","/favicon.ico"))});const[,h]=tI();return we(()=>t.app.project?.name,g=>{h(`${g}`)}),(()=>{var g=Oz(),p=g.firstChild,m=p.firstChild,b=p.nextSibling,k=b.firstChild,_=k.firstChild;return A(p,y(V,{get when(){return!i.getPausedState()()?.pausedBySystem},get fallback(){return Bz()},get children(){var v=$z();return A(v,y(OH,{tooltip:!0}),null),A(v,()=>t.app.project?.name,null),v}}),m),A(m,y(V,{get when(){return!i.getPausedState()()?.pausedBySystem},get children(){return y(se,{class:"codicon-debug-pause",tabIndex:0,onClick:()=>i.pause(),get tooltip(){return`Pause Wallaby<br/><br/>${i.isEditorConnected()?"Pauses real-time test execution and hides all related editor artifacts. ":""}When resuming, only the tests which were affected by your changes while Wallaby was paused will be executed.`}})}}),null),A(m,y(se,{get classList(){return{"codicon-layout-sidebar-left":!a().collapsed,"codicon-layout-sidebar-left-off":a().collapsed}},tabIndex:0,onClick:()=>{i.setPanelState(pe.StandaloneMainCode,v=>({...v,collapsed:!v.collapsed,size:v.size||50}))},get tooltip(){return d()}}),null),A(m,y(se,{get classList(){return{"codicon-layout-sidebar-right":!l().collapsed,"codicon-layout-sidebar-right-off":l().collapsed}},tabIndex:0,onClick:()=>{i.setPanelState(pe.StandaloneMainSideView,v=>({...v,collapsed:!v.collapsed,size:v.size||50}))},get tooltip(){return u()}}),null),A(m,y(se,{class:"codicon-layout-panel",get classList(){return{"codicon-layout-panel":!c().collapsed,"codicon-layout-panel-off":c().collapsed}},tabIndex:0,onClick:()=>i.setPanelState(pe.StandaloneOverview,v=>({...v,collapsed:!v.collapsed})),get tooltip(){return f()}}),null),A(m,y(V,{get when(){return!i.isEditorConnected()},get children(){return y(se,{tooltip:"Manage license",class:"codicon-account",get classList(){return{"text-[--error-foreground] !font-bold":i.getPausedState()()?.pausedBySystem,"text-[--editor-warning-foreground]":t.app.account?.state==="expiring"||t.app.account?.state==="trialLicense"}},tabIndex:0,onClick:()=>i.openAccountDetails()})}}),null),A(m,y(se,{tooltip:"Manage settings",class:"codicon-settings-gear",tabIndex:0,onClick:()=>i.openSettings()}),null),A(g,y(yr,{class:"flex flex-grow",direction:"column",get children(){return[y(St,{index:0,defaultState:{size:70},get id(){return pe.StandaloneMain},get children(){return y(yr,{class:"h-full w-full",get direction(){return n()},get children(){return[y(St,{index:0,defaultState:{size:50},get id(){return pe.StandaloneMainCode},get children(){return y(Fz,{get state(){return t.state},get app(){return t.app}})}}),y(St,{index:1,defaultState:{size:50},get id(){return pe.StandaloneMainSideView},get children(){return y(an,{constructor:Dt,get initial(){return{project:t.app.project,fileCoverageTableSort:{field:"coverageValue",direction:"asc"},selection:{implicit:{}},debuggerState:t.app.debuggerState,tests:{searchControlVisible:!0},testFileProgressByFile:{}}},view:v=>y(Do,{get parent(){return v.state},state:x=>x,get setState(){return v.setState},view:x=>y(NC,{get state(){return x.state},get keyboard(){return t.keyboard}})})})}})]}})}}),y(St,{index:1,defaultState:{size:30},get id(){return pe.StandaloneOverview},get children(){return y(an,{constructor:zb,get initial(){return{selection:{test:"allLogsAndErrors",implicit:{}},debuggerState:t.app.debuggerState,startupEvents:[],tests:{searchControlVisible:!1},testFileProgressByFile:{}}},view:v=>y(Do,{get parent(){return v.state},state:x=>x,get setState(){return v.setState},view:x=>y(VC,{get state(){return x.state},get keyboard(){return t.keyboard}})})})}})]}}),b),A(k,y(jb,{get additionalContent(){return y(V,{get when(){return t.app.openedTab?.requestedLocation},get children(){var v=Mz(),x=v.firstChild,S=x.nextSibling;return S.nextSibling,A(v,()=>t.app.openedTab.requestedLocation.line||1,S),A(v,()=>t.app.openedTab.requestedLocation.column||1,null),v}})}}),_),A(_,y(se,{tooltipOpts:{trigger:"click",delay:0},get tooltip(){return`
            <b>Core version ${t.app.version?.version}</b>
            <ul class="px-3 list-disc [&_a]:text-[--link-foreground] [&_a]:underline">
              <li>
              Docs: <a href="https://wallabyjs.com/docs/" target="_blank">wallabyjs.com/docs</a>
              </li>
              <li>
              Support: <a href="https://wallabyjs.com/support/" target="_blank">wallabyjs.com/support</a>
              </li>
              <li>
              Discord: <a href="https://wallabyjs.com/chat/" target="_blank">wallabyjs.com/chat</a>
              </li>
            </ul>
            `},class:"codicon-info clickableIcon"})),A(g,y(V,{get when(){return t.state.notifications.length},get children(){var v=Dz();return A(v,y(It,{get each(){return t.state.notifications},children:x=>(()=>{var S=Gz(),w=S.firstChild,T=w.firstChild,L=T.nextSibling,E=L.nextSibling;return A(L,()=>x.text),A(E,y(se,{onClick:()=>o.hideNotification(x.displayId),tooltip:"Close notification",class:"codicon-close"})),A(S,y(V,{get when(){return x.actions?.length},get children(){var C=Nz();return A(C,y(It,{get each(){return x.actions},children:F=>(()=>{var $=Uz();return A($,y(Ct,{get tooltip(){return F.title},class:"w-[7.4rem] truncate",onClick:()=>{F.command()},get children(){return F.title}})),$})()})),C}}),null),oe(C=>Et(T,{"codicon-info text-[--editor-info-foreground]":x.type==="info","codicon-error text-[--error-foreground]":x.type==="error","codicon-warning text-[--editor-warning-foreground]":x.type==="warning"},C)),S})()})),v}}),null),g})()}class qz{constructor(e){this._appService=e}_namespace="quokka.output.main";matches(e){return e.startsWith(this._namespace)&&!e.startsWith("quokka.output.main.content.errors")}handle(e,r,n){if(e=this._narrow(e),!r.target)return;const i=r.target;function o(l){r.preventDefault(),r.stopPropagation()}const s=this._locateRootElement(i),a=l=>{const c=this._queryErrorsElement(l);if(c)c.focus();else{const d=this._querySettingsElement(l);d?d.focus():l.focus()}};if(s){if(e==="."||e==="content"){if(r.key==="Escape"&&!Ee(r))return o(this._appService.focus("editor"))}else if(e==="header.action"){if((r.key==="Escape"||r.key==="ArrowDown")&&!Ee(r))return o(a(s))}else if(e.endsWith("stack.header.action")||e.endsWith("guide.header.action")||e.endsWith("settings.header.action")){if((r.key==="Escape"||r.key==="ArrowUp")&&!Ee(r))return o(a(s))}else if(e==="content.settings"||e==="content.settings.content"){if(r.key==="Escape"&&!Ee(r)){const l=this._querySettingsElement(s);return o(l?.querySelector("button.expander")?.click())}}else if(e==="content.settings.content.action"){if((r.key==="Enter"||r.key===" ")&&!Ee(r))return o(i.parentElement?.click());if(r.key==="Escape"&&!Ee(r)){const l=this._querySettingsElement(s);return o(l?.querySelector("button.expander")?.click())}}}}_locateRootElement(e){return e.closest(`[data-namespace="${this._namespace}"]`)}_queryErrorsElement(e){return e.querySelector(`[data-namespace="${this._namespace}.content.errors.content.viewer"]`)}_querySettingsElement(e){return e.querySelector(`[data-namespace="${this._namespace}.content.settings"]`)}_narrow(e){return e=e.replace(`${this._namespace}.`,""),e=e.replace(this._namespace,"."),e}}class KC{constructor(e={selection:{implicit:{}}},r){this._state=e,this._setState=r,this._coreToApp=wa(),this._appToCore=ya(),this._disposable.add(this._coreToApp.onAllLogsAndErrors(this.onAllLogsAndErrors.bind(this))),this._disposable.add(this._coreToApp.onRunError(this.onRunErrorChanged.bind(this))),this._disposable.add(this._coreToApp.onQuokkaConfig(this.onQuokkaConfigChanged.bind(this))),this._disposable.add(this._coreToApp.onDebuggerState(this.onDebuggerStateChanged.bind(this))),this._disposable.add(this._coreToApp.onCallStack(this.onCallStackAvailable.bind(this))),this._disposable.add(this._coreToApp.onSelectedEntities(this.onSelectedEntities.bind(this))),this._disposable.add(this._coreToApp.onConsoleOutput(this.onConsoleOutput.bind(this))),this._appService=Ge(),this._appToCore.trackContextLogsAndErrors()}_coreToApp;_appToCore;_disposable=new Cr;_appService;onAllLogsAndErrors(e){this._appService.closeFind(),this._setState(Je(r=>{r.preCompleteOutput=!1,r.runError=e.runError;const n=!!e.runError,i=e.runError?[{id:Kt,message:e.runError.message,stack:[],header:e.runError.header}]:[],o=e.globalLogs.slice();e.globalErrors&&i.push(...e.globalErrors);const s=Object.keys(r.filesWithExpressionsToEvaluate?.files||{}),a=s.length>0?new Set(s):void 0;o.forEach(d=>{d.fileId&&a?.delete(d.fileId)}),a?.size!==0&&this._resetExpressionsToEvaluate(a);let l;if(r.logs?.items&&i.some(d=>d.stack.length>0)){l=[];const d=r.logs.items.global?.logs;if(d){const u={...d};e.globalLogs.forEach(f=>{delete u[f.id]}),l.push(...Object.values(u).filter(f=>f.loc).map(f=>({...f,maybeObsolete:!0})))}}l&&o.push(...l);const c={};if(i.forEach((d,u)=>{d.maybeObsolete?ha(d):ro(d,{includeMappedOnly:!0}),c[d.id]=d}),r.displayLimits?.logs?.apply?(r.displayLimits.logs.applied=o.splice($t.logs).length>0,r.displayLimits.allLogsLimitApplied=r.displayLimits.logs.applied):r.displayLimits&&(r.displayLimits.allLogsLimitApplied=!1,o.length<$t.logs&&this._startApplyingLogsDisplayLimits()),o.length>0){if(o.length===1){const u=o[0].id;r.selection.implicit.log=u,r.selection.implicit.logs=new Set([u])}const d=Qt.updateLogs(this._state,o,r.selection.log,r.logs?.showStackTraceFor);r.selection.log=d.selected,this._setState("logs",je({items:d.items,maybeObsolete:n,stackTraceToShow:d.stackTraceToShow}))}else r.logs=void 0;i.length>0?this._setState("errors",je({singleTestSelected:!1,all:i,maybeObsolete:n,allById:c})):r.errors=void 0,delete r.selection.implicit.error,delete r.selection.implicit.log}))}onRunErrorChanged(e){this._appService.closeFind(),this._setState(Je(r=>{const n=!!r.runError;if(!(!n&&!e)){if(r.runError=e,e){r.errors?r.errors.maybeObsolete=!0:r.errors={singleTestSelected:!1,all:[],allById:{},maybeObsolete:!0};const i={id:Kt,message:e.message,stack:[],header:e.header};r.errors.all[0]?.id===Kt?r.errors.all[0]=i:r.errors.all.unshift(i),r.errors.allById[Kt]=i}else r.errors?.all[0]?.id===Kt&&r.errors.all.shift(),delete r.errors?.allById?.[Kt];this._setState("errors",je(r.errors)),r.logs&&(n?e||this._setState("logs",i=>({...i,maybeObsolete:void 0})):this._setState("logs",i=>({...i,maybeObsolete:!0})))}}))}onQuokkaConfigChanged(e){this._setState("config",e)}onDebuggerStateChanged(e){this._setState("debuggerState",e.started?je(e):void 0),e?.current?.frame?.frame!==void 0&&this._state.debuggerCallStack?.frame!==void 0&&this._state.debuggerCallStack.stack.find(r=>r.frame===e.current.frame.frame)||this._setState("debuggerCallStack",void 0)}clearDebuggerCallStack(){this._setState("debuggerCallStack",void 0)}onCallStackAvailable(e){wc(e.stack),this._setState("debuggerCallStack",e)}onSelectedEntities(e){e.logs&&e.logs.length>0?(Qt.updateLogsSelection(this._state,this._setState,e.logs,{diagram:e.diagram})&&(this._state.displayLimits?.logs?.applied||this._state.displayLimits?.allLogsLimitApplied)&&(this._state.debuggerState?.started?this.loadRestOfLogs():this._setState("displayLimits","logs",je({apply:!1}))),this._focus("quokka.output")):Qt.updateLogsSelection(this._state,this._setState,[],{diagram:e.diagram})}onConsoleOutput(e){this._setState(Je(r=>{this._setState("preCompleteOutput",!0);const n=Object.values(r.logs?.items.global?.logs||[]).concat(e).slice(-$t.preCompletedLogs);this._setState;const i=Qt.updateLogs(r,n,r.selection.log,r.logs?.showStackTraceFor);this._setState("selection","log",i.selected),this._setState("logs",je({items:i.items,maybeObsolete:!1,stackTraceToShow:i.stackTraceToShow}))}))}loadRestOfLogs(){this._setState("displayLimits",je({logs:{apply:!1}})),this._appToCore.trackContextLogsAndErrors()}stop(){this._appToCore.stopQuokka()}profile(){this._appToCore.profileQuokka()}debug(e){this._appToCore.debugQuokka(e)}viewRecentFiles(){this._appToCore.viewRecentQuokkaFiles()}share(){this._appToCore.shareQuokka()}installMissingPackage(e){this._appToCore.installMissingPackage(e)}insertDependencyImport(e){this._appToCore.insertDependencyImport(e)}toggleAutoLog(){this._appToCore.toggleAutoLog()}toggleShowSingleInlineValue(){this._appToCore.toggleShowSingleInlineValue()}toggleShowValueOnSelection(){this._appToCore.toggleShowValueOnSelection()}updateQuokkaGlobalSettings(e){this._appToCore.updateQuokkaGlobalSettings(e)}changeRunMode(e){this._appToCore.changeRunMode(e)}setDefaultRuntimeSelectionSetting(e){this._appToCore.setDefaultRuntimeSelectionSetting(e)}setProjectRuntimeSelectionSetting(e){this._appToCore.setProjectRuntimeSelectionSetting(e)}dispose(){}_resetExpressionsToEvaluate(e){this._setState(Je(r=>{Qt.resetExpressionsToEvaluate(r,e)}))}_startApplyingLogsDisplayLimits(){this._setState("displayLimits","logs",je({apply:!0}))}_focus(e){this._setState("selection","namespace",void 0),this._setState("selection","namespace",e),this._appToCore.focus("quokka.output")}static Provider}const[Hz,Vz]=Ar(t=>t.initial);KC.Provider=Hz;var jz=D("<span>Insert: <strong>import <!> from '<!>'"),zz=D("<span>Insert: <strong>const <!> = require('<!>')"),Kz=D('<div class="code mb-[1em] flex flex-col">'),Xz=D('<div class="h-[25%] max-h-[5rem] min-h-[3.125rem]">'),Yz=D('<div class="absolute inset-0 flex flex-col">'),Jz=D('<div class="absolute inset-0 flex flex-col"><div class="pad h-full overflow-y-auto outline-none"data-namespace=quokka.output.main.content.errors.content.viewer data-vscode-context="{&quot;webviewSection&quot;: &quot;viewer&quot;, &quot;preventDefaultContextMenuItems&quot;: false}">'),Zz=D('<div class=pb-1><div class="select-none pb-1 pt-2">Run Mode</div><select class="w-[12rem] flex-grow appearance-none truncate rounded-[--dropdown-border-radius] border-0 border-[--dropdown-border] bg-[--dropdown-background] px-1 py-0.5 text-[--dropdown-foreground]"><option value=auto>Run Automatically</option><option value=onsave>Run on Save</option><option value=ondemand>Run on Demand'),Qz=D('<div class="flex h-full flex-col outline-none"tabindex=-1 data-namespace=quokka.output.main.content.settings><div class="pad flex flex-col overflow-y-auto outline-none [&amp;_.control]:my-0.5 [&amp;_.control]:flex [&amp;_.control]:w-fit [&amp;_.control]:cursor-pointer [&amp;_.control]:select-none [&amp;_.control]:items-center [&amp;_.control_.checkbox:focus]:outline [&amp;_.control_.checkbox:focus]:outline-1 [&amp;_.control_.checkbox:focus]:outline-offset-0 [&amp;_.control_.checkbox:focus]:outline-[--focus-border-vivid] [&amp;_.control_.checkbox]:mr-2 [&amp;_.control_.checkbox]:h-[1.125rem] [&amp;_.control_.checkbox]:w-[1.125rem] [&amp;_.control_.checkbox]:rounded-[0.1875rem] [&amp;_.control_.checkbox]:border [&amp;_.control_.checkbox]:border-[--checkbox-border] [&amp;_.control_.checkbox]:bg-[--checkbox-background] [&amp;_.control_.checkbox]:text-[--checkbox-foreground]"tabindex=-1 data-namespace=quokka.output.main.content.settings.content><div class="select-none pb-2"><div>These settings control the default behavior of new Quokka sessions.</div><div>Changing these settings will not change the behavior of the current session.</div></div><div class=control><div class="checkbox codicon"tabindex=0 data-namespace=quokka.output.main.content.settings.content.action></div>Auto Log All Values</div><div class=control><div class="checkbox codicon"tabindex=0 data-namespace=quokka.output.main.content.settings.content.action></div>Show Value On Selection</div><div class=control><div class="checkbox codicon"tabindex=0 data-namespace=quokka.output.main.content.settings.content.action></div>Show Last Displayed Value Only'),eK=D('<div class="absolute inset-0 z-20 mx-auto my-auto flex h-full w-full flex-col items-center justify-center"><p class="backlight relative text-[length:1.3rem] font-bold uppercase tracking-wide">Welcome to Quokka</p><p class="mt-2 px-2 text-center text-[length:0.7rem] font-bold uppercase">Your ultimate coding playground, now supercharged</p><p class="mt-3.5 [&amp;_button]:mx-2 [&amp;_button]:w-28 [&amp;_button]:text-[length:--panel-font-size]">'),Tm=D('<div class="pointer-events-none absolute inset-0 z-10 bg-[--panel-view-background] opacity-90">'),tK=D('<div class="absolute inset-0 z-20 mx-auto my-auto flex h-full w-full max-w-[600px] flex-col items-center justify-center"><p class="relative text-[length:1.3rem] font-bold uppercase tracking-wide">Select Runtime for Project</p><p class="mt-2 px-4 text-center">Node is currently selected as your runtime, but Quokka detected that your project uses Bun. Which runtime would you like to use for all Quokka files for this project?</p><div class="mt-3.5 flex items-center "><div class=relative><div class="absolute left-[-0.15rem] top-[-0.65rem]">'),rK=D('<div class="absolute inset-0 z-20 mx-auto my-auto flex h-full w-full max-w-[600px] flex-col items-center justify-center"><div class="mt-6 flex flex-col px-4"><div class="my-1 text-[length:--panel-larger-font-size] font-bold">Default Runtime Selection</div><div class="my-1 opacity-80">Determines which JavaScript runtime (Node or Bun) to use for all projects. When <a class="text-[--link-foreground] underline"href=https://quokkajs.com/docs/config/runtime/#bun-configuration>configured</a>, this setting bypasses prompts asking for a runtime choice.</div><div class="my-1 w-full flex-grow rounded-[--input-border-radius] border border-[--input-border] bg-[--input-background] px-1 py-0.5 text-[--input-foreground] placeholder-[--editor-code-lens-foreground]"><select class="w-full flex-grow appearance-none truncate rounded-[--dropdown-border-radius] border-0 border-[--dropdown-border] bg-[--dropdown-background] px-1 py-0.5 text-[--dropdown-foreground]"><option value=prompt>Prompt on first start when multiple runtimes are detected</option><option value=autoUse>Automatically use Bun for Bun projects</option><option value=neverUse>Always use Node.js for all projects</option><option value=alwaysUse>Always use Bun for all projects</option></select></div><div class="ml-auto mt-3.5">'),nK=D('<div class="relative h-full w-full"data-vscode-context="{&quot;webviewSection&quot;: &quot;quokka&quot;, &quot;preventDefaultContextMenuItems&quot;: true}"><div class="flex h-full w-full flex-col">'),iK=D('<div class="ml-auto truncate px-2 py-2 text-[length:--small-header-font-size] opacity-50 hover:underline"><a class="block truncate"href=https://quokkajs.com/pro><span class="font-bold text-[--editor-warning-foreground]">PRO features</span> enabled until '),oK=D("<span>"),sK=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[var(--subtle-foreground)]">no errors'),aK=D("<li>"),lK=D('<div class="flex h-full flex-col"><div class="flex max-h-7 flex-row items-center justify-center py-1 shadow-[var(--widget-shadow)]"><div class="flex-grow truncate px-2 py-0.5 pr-1 text-[length:--small-header-font-size] font-bold uppercase">Call Stack</div><div class="ml-auto flex pr-1 [&amp;_li]:flex [&amp;_li_button]:mx-[0.0625rem] [&amp;_li_button]:!text-[length:--icon-font-size]"><ul class="flex flex-row items-center justify-center"><li></li></ul></div></div><div class="panel-font-size flex flex-grow cursor-text flex-col overflow-y-auto outline-none">'),cK=D('<div class="flex h-full flex-col"><div class="pad flex cursor-default flex-col overflow-y-auto"><div class=legend><div class="color timeline relative"><div class="absolute mx-auto h-full w-[0.0625rem] bg-[--error-foreground]"></div></div><div class=text>step with error</div></div><div class=legend><div class="color timeline relative"><div class="absolute mx-auto h-full w-[0.0625rem] bg-[--link-foreground] brightness-125"></div></div><div class=text>step with log</div></div><div class=legend><div class="color timeline relative"><div class="absolute mx-auto h-full w-[0.0625rem] bg-[--foreground] brightness-125"></div></div><div class=text>active step</div></div><div class=legend><div class="color timeline relative"><div class="absolute mx-auto h-full w-[0.0625rem] bg-[--stack-frame-highlight]"></div></div><div class=text>call stack step</div></div><div class=legend><div class=color>7</div><div class=text>step at </div></div><div class="legend relative"><div class="absolute bottom-0.5 left-0 h-[0.125rem] w-[0.6875rem] bg-[--foreground] brightness-125"></div><div class="color mb-0.5 !h-2"></div><div class=text>active step</div></div><div class="legend relative"><div class="absolute bottom-0.5 left-0 h-[0.125rem] w-[0.6875rem] bg-[--error-foreground]"></div><div class="color mb-0.5 !h-2"></div><div class=text>step with error</div></div><div class="legend relative"><div class="absolute bottom-0.5 left-0 h-[0.125rem] w-[0.6875rem] bg-[--link-foreground] brightness-125"></div><div class="color mb-0.5 !h-2"></div><div class=text>step with log</div></div><div class="legend relative"><div class="absolute bottom-0.5 left-0 h-[0.125rem] w-[0.6875rem] bg-[--stack-frame-highlight]"></div><div class="color mb-0.5 !h-2"></div><div class=text>call stack step'),dK=D("<span>@ "),uK=D('<div class="code px-2 tracking-tight"><span class="whitespace-pre text-[var(--token-scope-function-foreground)]">'),hK=D("<div class=legend><div class=color></div><div class=text>"),fK=D("<div>When enabled, previously displayed values are hidden and only the last displayed value is shown<br><br>When disabled, all previously displayed values are shown, in addition to the last displayed value"),gK=D('<div class="pad pad flex min-h-[1.8rem] items-center justify-center truncate leading-[1.8rem]"><div class="header-tracking flex-grow cursor-pointer select-none truncate text-[length:--small-header-font-size] font-bold uppercase">Global Settings'),pK=D('<div class="pad pad flex min-h-[1.8rem] items-center justify-center truncate leading-[1.8rem]"><div class="header-tracking flex-grow cursor-pointer select-none truncate text-[length:--small-header-font-size] font-bold uppercase">Timeline Guide');const mK="<br/><br/>The current step echo is a visual representation of <b>other hits on the line/branch of the current frame</b>. It is useful when you want to see where else the current line of code has been executed during the test and navigate to those steps.<br/><br/>Note that number of hits is limited by the 100 in each direction.",ll=`${qC} The tile's color represents the function of the step.`;function vK(t){let e;const r=Ge(),n=io(),i=Vz(),{width:o,height:s}=vc(),a=()=>r.isStandalone()&&o()*2>s()||o()>s()?"row":"column",[l,c]=z(),[d,u]=z(),[f,h]=r.appSettings(),g=r.getPanelState(pe.QuokkaSettings),p=r.getPanelState(pe.QuokkaDebugger),m=()=>f.errors.fullSourceLinks,b=()=>f.errors.unmappedFiles,k=()=>f.logs.fullSourceLinks,_=()=>f.logs.context,v=()=>f.valuePeek,x=()=>t.state.config?.globalSettings?.autoLog,S=()=>t.state.config?.globalSettings?.showValueOnSelection,w=()=>t.state.config?.globalSettings?.showSingleInlineValue,T=()=>t.state.config?.globalSettings?.runMode,L=()=>f.debugger.codePreview,E=()=>f.debugger.echo,C=U(()=>f.debugger.reverseStack),F=()=>!g().collapsed&&!!g().size&&t.state.config?.pro?.liveValueDisplay,[$,O]=z(!!t.state.config?.bunPrompt),[M,I]=z("prompt"),[W,q]=z(!1),G=()=>!!t.state.debuggerState?.started,H=()=>G()&&t.state.config?.pro?.timeline&&t.state.debuggerState?.current?.trace.length!==1,[J,Z]=z(void 0,{equals:!1}),te=()=>WV(),ee=U(()=>{const be=Array.from(te().entries());return be[1]||be[0]}),le=U(()=>ee()?.[1]||{background:"",foreground:"",name:""}),de=r.getFindState(),[B,N]=z(),[ie,ce]=z(),ke=z(),[xe]=ke,Ae=z(),[Ne]=Ae;we(t.keyboard.focusedNamespace,be=>{if(be&&be.startsWith("quokka.output")){be==="quokka.output"&&(be="quokka.output.logs"),be==="quokka.output.main"&&(be="quokka.output.main.content.errors.content.viewer");let He=e.querySelector(`[data-namespace="${be}"]`);He?He.getAttribute("data-unfocused-scrolling")!=="true"?He.focus():setTimeout(()=>{let dt=t.keyboard.lastFocusedNamespace();dt==="quokka.output.main"&&(dt="quokka.output.main.content.errors.content.viewer"),be===dt&&He.isConnected&&(He.matches(":focus")||(be==="quokka.output.main.content.errors.content.viewer"&&(be="quokka.output.main"),e.querySelector(`[data-namespace="${be}"]`)?.focus()))},70):(be==="quokka.output.main.content.errors.content.viewer"&&(be="quokka.output.main"),e.querySelector(`[data-namespace="${be}"]`)?.focus())}});const ve=new Da("quokka.output.logs",r,n),qe=new kc("quokka.output.main.content.errors",r),Re=new qz(r);we(t.keyboard.key,be=>{if(be){const He=be.event,dt=be.namespace;dt==="quokka.output"?(He.key==="l"&&t.keyboard.onFocus("quokka.output.logs",!0),He.key==="m"&&t.keyboard.onFocus("quokka.output.main",!0),He.preventDefault(),He.stopPropagation()):qe.matches(dt)?qe.handle(dt,He,t.state):ve.matches(dt)?ve.handle(dt,He,t.state):Re.matches(dt)&&Re.handle(dt,He,t.state)}}),we(()=>t.state.selection.namespace,be=>{be&&t.keyboard?.onFocus(be,!1)});const et=be=>{const He=U(()=>be().maybeObsolete||t.state.errors?.maybeObsolete&&be().id!==Kt),dt=U(()=>be().selection),Le=U(()=>{const Oe=[];return be().missingPackage&&(Oe.push({class:"codicon-package",name:`Install ${be().missingPackage} package only for current Quokka session`,action:()=>i.installMissingPackage({name:be().missingPackage,target:"session"})}),t.state.config?.project&&Oe.push({class:"codicon-package",name:`Install ${be().missingPackage} package into project`,action:()=>i.installMissingPackage({name:be().missingPackage,target:"project"})})),be().undefinedName&&(Oe.push({class:"codicon-code",name:(()=>{var Ve=jz(),Qe=Ve.firstChild,st=Qe.nextSibling,lt=st.firstChild,ut=lt.nextSibling,ne=ut.nextSibling,he=ne.nextSibling;return he.nextSibling,A(st,()=>be().undefinedName,ut),A(st,()=>be().undefinedName,he),Ve})(),action:()=>i.insertDependencyImport({name:be().undefinedName,type:"import"})}),Oe.push({class:"codicon-code",name:(()=>{var Ve=zz(),Qe=Ve.firstChild,st=Qe.nextSibling,lt=st.firstChild,ut=lt.nextSibling,ne=ut.nextSibling,he=ne.nextSibling;return he.nextSibling,A(st,()=>be().undefinedName,ut),A(st,()=>be().undefinedName,he),Ve})(),action:()=>i.insertDependencyImport({name:be().undefinedName,type:"require"})})),be().missingBrowserGlobal&&Oe.push({class:"codicon-browser",name:"Install and use quokka browser plugin",action:()=>i.installMissingPackage({name:"jsdom",target:"global",plugin:"jsdom-quokka-plugin"})}),Oe});return(()=>{var Oe=Kz();return A(Oe,y(Vb,{get error(){return be()},get maybeObsolete(){return He()},get chosen(){return dt()},get showErrorsFullSourceLinks(){return m()},get showUnmappedFileSourceLinks(){return b()},get debuggerStarted(){return G()},namespace:"quokka.output.main.content",omitTestName:!0,wordWrap:!0,get actions(){return Le()}})),oe(Ve=>{var Qe=!!He(),st=be().id;return Qe!==Ve.e&&Oe.classList.toggle("opacity-50",Ve.e=Qe),st!==Ve.t&&Me(Oe,"data-id",Ve.t=st),Ve},{e:void 0,t:void 0}),Oe})()},ue=(be,He)=>{t.keyboard.onFocus(be,He)},[Se,De]=z(),Ke=()=>{const be=[];return be.push({text:"Automatic",action:t.state.config?.runMode==="auto"?()=>{}:()=>i.changeRunMode("auto"),checked:t.state.config?.runMode==="auto"}),be.push({text:"On save",action:t.state.config?.runMode==="onsave"?()=>{}:()=>i.changeRunMode("onsave"),checked:t.state.config?.runMode==="onsave"}),be.push({text:"On demand",action:t.state.config?.runMode==="ondemand"?()=>{}:()=>i.changeRunMode("ondemand"),checked:t.state.config?.runMode==="ondemand"}),be},Ue=()=>{const be=[];return be.push({text:"Session: Auto Log All Values",action:()=>i.toggleAutoLog(),checked:t.state.config?.autoLog}),be.push({text:"Session: Show Value On Selection",action:t.state.config?.autoLog?void 0:()=>i.toggleShowValueOnSelection(),checked:t.state.config?.showValueOnSelection}),be.push({text:"Session: Show Last Displayed Value Only",action:t.state.config?.autoLog?void 0:()=>i.toggleShowSingleInlineValue(),checked:t.state.config?.showSingleInlineValue}),r.isIntegratedIntelliJ()||(be.push(eo),be.push({text:"View Recent Files",action:()=>i.viewRecentFiles()}),be.push({text:"Share",action:()=>i.share()})),be};return(()=>{var be=nK(),He=be.firstChild,dt=e;return typeof dt=="function"?ae(dt,be):e=be,A(He,y(V,{get when(){return H()},get children(){var Le=Xz();return A(Le,y(WC,{get state(){return t.state},onFocus:ue})),Le}}),null),A(He,y(yr,{class:"flex h-full w-full flex-grow",get direction(){return a()},get children(){return[y(St,{index:0,defaultState:{size:70},get id(){return pe.QuokkaLogs},get children(){return y(wr,{header:"Logs",headerClass:"pl-2",scrollable:l,namespace:"quokka.output.logs",contentClass:"panel-font-size flex flex-col",tooltip:'Go to Logs panel <span class="keyboard-shortcut">G</span>&nbsp;<span class="keyboard-shortcut">L</span>',get beforeIcons(){return[y(V,{get when(){return t.state.config?.pro?.limitedTime},get children(){var Le=iK(),Oe=Le.firstChild,Ve=Oe.firstChild;return Ve.nextSibling,A(Oe,()=>{const Qe=new Date(t.state.config?.pro?.limitedTime||0),st=Qe.toLocaleString(void 0,{month:"long"}),lt=Qe.toLocaleString(void 0,{day:"numeric"}),ut=Qe.toLocaleString(void 0,{year:"numeric"});return`${st} ${lt}, ${ut}`},null),Le}})]},get icons(){return Se()??[y(V,{get when(){return!G()&&t.state.config?.pro?.liveValueDisplay},get children(){return y(se,{class:"codicon-inspect",get classList(){return{activeIcon:v()}},onClick:()=>h("valuePeek",!v()),tabIndex:0,namespace:"quokka.output.logs.header.action",get tooltip(){return`${v()?"Disable":"Enable"} value peek<br/><br/>${U5}`}})}}),y(se,{get classList(){return{"codicon-map":!k(),"codicon-map-filled":k()}},onClick:()=>h("logs","fullSourceLinks",!k()),tabIndex:0,namespace:"quokka.output.logs.header.action",get tooltip(){return`${k()?"Hide":"Show"} file name in source links`}}),y(se,{class:"codicon-location",get classList(){return{activeIcon:_()}},onClick:()=>h("logs","context",!_()),tabIndex:0,namespace:"quokka.output.logs.header.action",get tooltip(){return`${_()?"Hide value context":"Show value context when it is available"}`}}),y(se,{class:"codicon-fold-up",onClick:()=>Z(),tabIndex:0,namespace:"quokka.output.logs.header.action",tooltip:"Fold all expanded log entries"})]},get overlays(){return[y(jn,{onUpdateSearchTerm:async Le=>{const Oe=await Ne()?.search(Le);ce(Oe?{searchTerm:Le,current:Oe?.current,total:Oe?.total}:void 0)},onNextResult:async()=>{const Le=await Ne()?.jumpToNext();ce(Le?{current:Le?.current,total:Le?.total}:void 0)},onPreviousResult:async()=>{const Le=await Ne()?.jumpToPrevious();ce(Le?{current:Le?.current,total:Le?.total}:void 0)},onClose:async Le=>{await Ne()?.exit(Le),r.closeFind()},searchStatus:ie,isVisible:()=>de()?.namespace==="quokka.output.logs",mode:()=>"enter"})]},get children(){var Le=Yz();return ae(Ln,Le,()=>Ln&&{controller:Ae,prefix:"qol"}),A(Le,y($a,{get state(){return t.state},service:n,namespace:"quokka.output",scrollableElementRef:c,onFocus:(Oe,Ve)=>{t.keyboard?.onFocus(Oe,Ve)},foldAllOpenedLogs:J,get append(){return y(V,{get when(){return!t.state.preCompleteOutput},get children(){return y(Rs,{get state(){return t.state.displayLimits?.logs},handler:()=>i.loadRestOfLogs()})}})},globalLogsHeader:"Logs",get disallowValueLoad(){return t.state.preCompleteOutput},get maxDepth(){return t.state.config?.pro?.unlimitedValueExplorer?void 0:2},get noValueLoadBeyondMaxDepth(){return t.state.config?.pro?.unlimitedValueExplorer?void 0:!0},icons:De})),Le}})}}),y(St,{index:1,defaultState:{size:30},get id(){return pe.QuokkaStatus},get children(){return y(wr,{get header(){return(()=>{var Le=oK();return ae(re,Le,()=>re&&{content:`
                        ${t.state.config&&!t.state.config.scratch?`${t.state.config.fileName}<br>`:""}
                        Go to Main panel <span class="keyboard-shortcut">G</span>&nbsp;<span class="keyboard-shortcut">M</span>`}),A(Le,(()=>{var Oe=U(()=>!!t.state.config);return()=>Oe()?(()=>{var Ve=U(()=>!!t.state.config.scratch);return()=>Ve()?"Quokka Scratch":wi(t.state.config.fileName+(t.state.config.snaps?" {}":""),100)})():"Quokka"})()),Le})()},headerClass:"pl-2",scrollable:d,namespace:"quokka.output.main",contentClass:"panel-font-size",get icons(){return[y(V,{get when(){return U(()=>!G()&&!t.state.config?.snaps)()&&!r.isIntegratedIntelliJ()},get children(){return y(se,{menuItems:Ke,class:"codicon-vm-running",tabIndex:0,namespace:"details.logs.header.action",tooltip:"Run mode options"})}}),y(V,{get when(){return!G()},get children(){return y(se,{class:"codicon-stop-circle",tabIndex:0,namespace:"quokka.output.main.header.action",tooltip:"Stop",onClick:()=>{i.stop(),r.focus("editor")}})}}),y(V,{get when(){return!G()},get children(){return y(se,{class:"codicon-debug",tabIndex:0,namespace:"quokka.output.main.header.action",tooltip:"Start Time Machine",onClick:()=>i.debug()})}}),y(V,{get when(){return U(()=>!!(t.state.config?.pro?.codeStory&&!G()))()&&!r.isIntegratedIntelliJ()},get children(){return y(se,{class:"codicon-book",tabIndex:0,namespace:"quokka.output.main.header.action",tooltip:"View Code Story",onClick:()=>i.debug({codeStory:!0})})}}),y(V,{get when(){return U(()=>!!t.state.config?.pro?.profiling)()&&!G()},get children(){return y(se,{class:"codicon-chip",tabIndex:0,namespace:"quokka.output.main.header.action",tooltip:"Profile",onClick:()=>i.profile()})}}),y(V,{get when(){return G()&&t.state.config?.pro?.timeline},get children(){return y(se,{class:"codicon-radio-tower",get tooltip(){return(E()?"Hide current step echo":"Show current step echo")+mK},onClick:()=>h("debugger","echo",!E()),get classList(){return{activeIcon:E()}},tabIndex:0,namespace:"quokka.output.main.header.action"})}}),y(V,{get when(){return G()&&t.state.config?.pro?.timeline},get children(){return y(se,{class:"codicon-inspect",tooltip:"Toggle code preview display in debugger on line/column hover<br/><br/>When the timeline's zoom level allows, line and column numbers are displayed inside colored tiles that represent hits on the line/branch during code execution.",onClick:()=>h("debugger","codePreview",!L()),tabIndex:0,namespace:"quokka.output.main.header.action",get classList(){return{activeIcon:L()}}})}}),y(V,{get when(){return!G()},get children(){return y(se,{menuItems:Ue,class:"codicon-ellipsis",tabIndex:0,namespace:"details.logs.header.action",tooltip:"Session settings and additional actions"})}})]},get overlays(){return[y(jn,{onUpdateSearchTerm:async Le=>{const Oe=await xe()?.search(Le);N(Oe?{searchTerm:Le,current:Oe?.current,total:Oe?.total}:void 0)},onNextResult:async()=>{const Le=await xe()?.jumpToNext();N(Le?{current:Le?.current,total:Le?.total}:void 0)},onPreviousResult:async()=>{const Le=await xe()?.jumpToPrevious();N(Le?{current:Le?.current,total:Le?.total}:void 0)},onClose:async Le=>{await xe()?.exit(Le),r.closeFind()},searchStatus:B,isVisible:()=>de()?.namespace==="quokka.output.main.content.errors",mode:()=>"enter"})]},get children(){return y(yr,{class:"[&_div.color]:code h-full w-full [&_div.color]:mr-1 [&_div.color]:mt-[0.0625rem] [&_div.color]:flex [&_div.color]:h-3 [&_div.color]:w-[0.6875rem] [&_div.color]:flex-shrink-0 [&_div.color]:items-center [&_div.color]:justify-center [&_div.color]:text-[length:--panel-smallest-font-size] [&_div.color]:font-bold [&_div.legend]:flex [&_div.legend]:min-w-0 [&_div.legend]:flex-row [&_div.legend]:items-center [&_div.legend]:leading-[1.8em] [&_div.pad]:pl-2.5 [&_div.pad]:pr-1 [&_div.text]:truncate [&_div.text]:text-[length:--panel-font-size] [&_div.timeline]:border-b [&_div.timeline]:border-t [&_div.timeline]:border-[var(--editor-hover-widget-border)]",direction:"column",get children(){return[y(V,{get when(){return G()||!F()},get children(){return y(St,{class:"relative",index:0,defaultState:{size:50},get id(){return pe.QuokkaErrors},get children(){return y(V,{get when(){return t.state.errors?.all.length},get fallback(){return sK()},get children(){var Le=Jz(),Oe=Le.firstChild;return ae(Ti,Le,()=>Ti&&{controller:ke,prefix:"qoe"}),Oe.addEventListener("paste",Ve=>Ve.preventDefault()),Oe.addEventListener("cut",Ve=>Ve.preventDefault()),Oe.$$input=()=>window.document.execCommand("undo"),ae(u,Oe),Me(Oe,"contenteditable",!0),Me(Oe,"spellcheck",!1),Oe.style.setProperty("caret-color","var(--editor-cursor-foreground)"),A(Oe,y(On,{get each(){return t.state.errors.all},by:Ve=>Ve.id,children:et})),Le}})}})}}),y(V,{get when(){return!G()},get fallback(){return y(qt,{get children(){return[y(Ce,{get when(){return t.state.debuggerCallStack},get children(){var Le=lK(),Oe=Le.firstChild,Ve=Oe.firstChild,Qe=Ve.nextSibling,st=Qe.firstChild,lt=st.firstChild,ut=Oe.nextSibling;return A(st,y(V,{get when(){return t.state.debuggerCallStack.stack.length>1},get children(){var ne=aK();return A(ne,y(se,{get classList(){return{activeIcon:C()}},tooltip:"Toggle reversed call stack order",class:"codicon-arrow-swap rotate-90 !text-[length:--icon-font-size]",tabIndex:0,onClick:()=>h("debugger","reverseStack",!C()),namespace:"quokka.output.main.content.debugger.stack.header.action"})),ne}}),lt),A(lt,y(se,{tooltip:"Close",tabIndex:0,class:"codicon-close !text-[length:--icon-font-size]",onClick:()=>{i.clearDebuggerCallStack(),ue("quokka.output.main",!0)},namespace:"quokka.output.main.content.debugger.stack.header.action"})),A(ut,y(Vo,{get each(){return U(()=>!!C())()?t.state.debuggerCallStack.stack.slice().reverse():t.state.debuggerCallStack.stack},children:ne=>(()=>{var he=uK(),Te=he.firstChild;return A(Te,()=>ne().context),A(he,y(V,{get when(){return ne().file},get children(){return[dK(),y(vi,{get value(){return ne()},get options(){return{focus:!0,callStackFrame:ne().frame!==t.state.debuggerState?.current?.frame?.frame?ne():void 0}},compactFileNameOnly:!0,codeFragmentTooltipOptions:()=>ne().file&&ne().line?{file:ne().file,line:ne().line,navigatable:!0}:void 0})]}}),null),he})()})),Le}}),y(Ce,{get when(){return t.state.config?.pro?.timeline},get children(){return[y(St,{index:1,defaultState:{size:50},get id(){return pe.QuokkaDebugger},get children(){var Le=cK(),Oe=Le.firstChild,Ve=Oe.firstChild,Qe=Ve.firstChild,st=Qe.nextSibling,lt=Ve.nextSibling,ut=lt.firstChild,ne=ut.nextSibling,he=lt.nextSibling,Te=he.firstChild,Fe=Te.nextSibling;Fe.firstChild;var _e=he.nextSibling,X=_e.firstChild,K=X.nextSibling,fe=_e.nextSibling,j=fe.firstChild,Q=j.nextSibling;Q.firstChild;var ge=fe.nextSibling,me=ge.firstChild,Pe=me.nextSibling,Be=Pe.nextSibling;Be.firstChild;var We=ge.nextSibling,nt=We.firstChild,it=nt.nextSibling,bt=it.nextSibling,gt=We.nextSibling,xt=gt.firstChild,lr=xt.nextSibling,Fr=lr.nextSibling,mt=gt.nextSibling,Pt=mt.firstChild,Br=Pt.nextSibling,$s=Br.nextSibling;return A(Le,y(Nx,{onFocus:ue}),Oe),A(Oe,y(It,{get each(){return Array.from(te().entries())},children:([fr,Mi])=>y(V,{when:fr!==Ki,get children(){var yo=hK(),ti=yo.firstChild,wo=ti.nextSibling;return ae(re,ti,()=>re&&{content:ll}),ae(re,wo,()=>re&&{content:ll}),A(wo,()=>Mi.name),oe(()=>Mi.background!=null?ti.style.setProperty("background",Mi.background):ti.style.removeProperty("background")),yo}})}),Ve),ae(re,Qe,()=>re&&{content:Bo}),ae(re,st,()=>re&&{content:Bo}),ae(re,ut,()=>re&&{content:Mo}),ae(re,ne,()=>re&&{content:Mo}),ae(re,Te,()=>re&&{content:No}),ae(re,Fe,()=>re&&{content:No}),A(Fe,y(V,{get when(){return E()},children:" and its echo"}),null),ae(re,X,()=>re&&{content:Go}),ae(re,K,()=>re&&{content:Go}),ae(re,j,()=>re&&{content:ll}),ae(re,Q,()=>re&&{content:ll}),A(Q,(()=>{var fr=U(()=>!!le());return()=>fr()?le().name+" line 7":"line 7"})(),null),ae(re,Pe,()=>re&&{content:No}),ae(re,Be,()=>re&&{content:No}),A(Be,y(V,{get when(){return E()},children:" and its echo"}),null),ae(re,it,()=>re&&{content:Bo}),ae(re,bt,()=>re&&{content:Bo}),ae(re,lr,()=>re&&{content:Mo}),ae(re,Fr,()=>re&&{content:Mo}),ae(re,Br,()=>re&&{content:Go}),ae(re,$s,()=>re&&{content:Go}),oe(fr=>{var Mi=le().background,yo=le().foreground,ti=le().background,wo=le().background,Md=le().background,Nd=le().background;return Mi!==fr.e&&((fr.e=Mi)!=null?j.style.setProperty("background",Mi):j.style.removeProperty("background")),yo!==fr.t&&((fr.t=yo)!=null?j.style.setProperty("color",yo):j.style.removeProperty("color")),ti!==fr.a&&((fr.a=ti)!=null?Pe.style.setProperty("background",ti):Pe.style.removeProperty("background")),wo!==fr.o&&((fr.o=wo)!=null?it.style.setProperty("background",wo):it.style.removeProperty("background")),Md!==fr.i&&((fr.i=Md)!=null?lr.style.setProperty("background",Md):lr.style.removeProperty("background")),Nd!==fr.n&&((fr.n=Nd)!=null?Br.style.setProperty("background",Nd):Br.style.removeProperty("background")),fr},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),Le}}),y(V,{get when(){return p().collapsed||!p().size},get children(){return y(Nx,{collapsed:!0,onFocus:ue})}})]}})]}})},get children(){return y(V,{get when(){return t.state.config?.pro?.liveValueDisplay},get children(){return[y(St,{index:1,defaultState:{size:50},get id(){return pe.QuokkaSettings},get children(){var Le=Qz(),Oe=Le.firstChild,Ve=Oe.firstChild,Qe=Ve.nextSibling,st=Qe.firstChild,lt=Qe.nextSibling,ut=lt.firstChild,ne=lt.nextSibling,he=ne.firstChild;return A(Le,y(Mx,{onFocus:ue}),Oe),ae(re,Qe,()=>re&&{content:"When enabled, all values from all lines are automatically logged and shown"}),Qe.$$click=()=>i.updateQuokkaGlobalSettings({autoLog:!x()}),ae(re,lt,()=>re&&{content:"When enabled, selecting an expression in the editor will show its value"}),lt.$$click=()=>i.updateQuokkaGlobalSettings({showValueOnSelection:!S()}),ae(re,ne,()=>re&&{content:fK()}),ne.$$click=()=>i.updateQuokkaGlobalSettings({showSingleInlineValue:!w()}),A(Oe,y(V,{get when(){return!r.isIntegratedIntelliJ()},get children(){var Te=Zz(),Fe=Te.firstChild,_e=Fe.nextSibling,X=_e.firstChild,K=X.nextSibling,fe=K.nextSibling;return _e.addEventListener("change",j=>{const Q=j.currentTarget.value;i.updateQuokkaGlobalSettings({runMode:Q})}),oe(j=>{var Q=T()==="auto",ge=T()==="onsave",me=T()==="ondemand";return Q!==j.e&&(X.selected=j.e=Q),ge!==j.t&&(K.selected=j.t=ge),me!==j.a&&(fe.selected=j.a=me),j},{e:void 0,t:void 0,a:void 0}),Te}}),null),oe(Te=>{var Fe=!!x(),_e=!!x(),X=!!S(),K=!!x(),fe=!!w();return Fe!==Te.e&&st.classList.toggle("codicon-check",Te.e=Fe),_e!==Te.t&&lt.classList.toggle("opacity-50",Te.t=_e),X!==Te.a&&ut.classList.toggle("codicon-check",Te.a=X),K!==Te.o&&ne.classList.toggle("opacity-50",Te.o=K),fe!==Te.i&&he.classList.toggle("codicon-check",Te.i=fe),Te},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),Le}}),y(V,{get when(){return!F()},get children(){return y(Mx,{collapsed:!0,onFocus:ue})}})]}})}})]}})}})}})]}}),null),A(be,y(V,{get when(){return f.welcomeMessage},get children(){return[(()=>{var Le=eK(),Oe=Le.firstChild,Ve=Oe.nextSibling,Qe=Ve.nextSibling;return A(Qe,y(Ct,{href:"https://wallabyjs.com/blog/quokka-2.html",children:"Learn More"}),null),A(Qe,y(Ct,{onClick:()=>h("welcomeMessage",!1),children:"Get Started"}),null),oe(st=>Et(Qe,{"[&_button]:border-0":r.isIntegratedVSCode()},st)),Le})(),Tm()]}}),null),A(be,y(V,{get when(){return U(()=>!!(!f.welcomeMessage&&$()))()&&!W()},get children(){return[(()=>{var Le=tK(),Oe=Le.firstChild,Ve=Oe.nextSibling,Qe=Ve.nextSibling,st=Qe.firstChild,lt=st.firstChild;return A(Qe,y(Ct,{class:"mx-2 inline-block min-w-[60px] text-[length:--panel-font-size]",onClick:()=>{O(!1),i.setProjectRuntimeSelectionSetting("neverUse")},children:"Node"}),st),A(Qe,y(Ct,{class:"mx-2 inline-block min-w-[60px] text-[length:--panel-font-size]",onClick:()=>{O(!1),i.setProjectRuntimeSelectionSetting("alwaysUse")},children:"Bun"}),st),A(lt,y(se,{tooltip:"Default Runtime Selection Settings",class:"codicon-settings-gear mx-2",tabIndex:0,onClick:()=>q(!0)})),oe(ut=>Et(Qe,{"[&_button]:border-0":r.isIntegratedVSCode()},ut)),Le})(),Tm()]}}),null),A(be,y(V,{get when(){return W()},get children(){return[(()=>{var Le=rK(),Oe=Le.firstChild,Ve=Oe.firstChild,Qe=Ve.nextSibling,st=Qe.nextSibling,lt=st.firstChild,ut=lt.firstChild,ne=ut.nextSibling,he=ne.nextSibling,Te=he.nextSibling,Fe=st.nextSibling;return lt.addEventListener("change",_e=>{I(_e.currentTarget.value)}),A(Fe,y(Ct,{class:"inline-block min-w-[60px] text-[length:--panel-font-size]",onClick:()=>{q(!1),O(M()==="prompt"),i.setDefaultRuntimeSelectionSetting(M())},children:"Close"})),oe(_e=>{var X=M()==="prompt",K=M()==="autoUse",fe=M()==="neverUse",j=M()==="alwaysUse",Q={"[&_button]:border-0":r.isIntegratedVSCode()};return X!==_e.e&&(ut.selected=_e.e=X),K!==_e.t&&(ne.selected=_e.t=K),fe!==_e.a&&(he.selected=_e.a=fe),j!==_e.o&&(Te.selected=_e.o=j),_e.i=Et(Fe,Q,_e.i),_e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),Le})(),Tm()]}}),null),oe(Le=>{var Oe={"border-t border-[--panel-view-border]":a()==="row"&&r.isIntegratedVSCode()},Ve=!!($()||W()),Qe=!!(!$()&&f.welcomeMessage);return Le.e=Et(be,Oe,Le.e),Ve!==Le.t&&He.classList.toggle("opacity-5",Le.t=Ve),Qe!==Le.a&&He.classList.toggle("opacity-10",Le.a=Qe),Le},{e:void 0,t:void 0,a:void 0}),be})()}function Mx(t){const e=Ge(),r=()=>{e.setPanelState(pe.QuokkaSettings,n=>t.collapsed?{...n,collapsed:!1,size:n.size||30}:{...n,collapsed:!0}),t.onFocus?.(t.collapsed?"quokka.output.main.content.settings.content":"quokka.output.main",!0)};return(()=>{var n=gK(),i=n.firstChild;return i.$$click=r,A(n,y(se,{get classList(){return{"codicon-chevron-down":!t.collapsed,"codicon-chevron-up":t.collapsed}},class:"expander",get tooltip(){return`${t.collapsed?"Expand":"Collapse"} "Settings" panel`},tabIndex:0,namespace:"quokka.output.main.content.settings.header.action",onClick:r}),null),n})()}function Nx(t){const e=Ge(),r=()=>{e.setPanelState(pe.QuokkaDebugger,n=>t.collapsed?{...n,collapsed:!1,size:n.size||50}:{...n,collapsed:!0}),t.onFocus?.("quokka.output.main",!0)};return(()=>{var n=pK(),i=n.firstChild;return i.$$click=r,A(n,y(se,{get classList(){return{"codicon-chevron-down":!t.collapsed,"codicon-chevron-up":t.collapsed}},get tooltip(){return`${t.collapsed?"Expand":"Collapse"} "Timeline Guide" panel`},tabIndex:0,namespace:"quokka.output.main.content.guide.header.action",onClick:r}),null),n})()}At(["input","click"]);var oi=D("<div class=row><span class=desc>Jump to test tree</span><span class=keys><span class=kbd>J</span><span> </span><span class=kbd>T"),bK=D('<div class="absolute inset-0 z-40 mx-auto my-auto h-full w-full overflow-y-auto p-2 text-[length:--panel-font-size]"><div data-namespace=shortcuts tabindex=-1 class="mb-1 grid w-full auto-rows-[7px] grid-cols-[repeat(auto-fill,minmax(30rem,1fr))] gap-1 outline-none [&amp;>section]:p-1 [&amp;_.item.active]:border-[--editor-lightbulb-foreground] [&amp;_.item]:border [&amp;_.item]:border-[--panel-view-border] [&amp;_.item_.header]:border-b [&amp;_.item_.header]:border-[--panel-view-border] [&amp;_.item_.header]:!bg-[--list-hover-background] [&amp;_.item_.row:not(:last-child)]:border-b [&amp;_.item_.row:not(:last-child)]:border-[--panel-view-border] [&amp;_.item_.row:nth-child(odd)]:bg-[--text-mode-area-background] [&amp;_.item_.row]:flex [&amp;_.item_.row]:flex-row [&amp;_.item_.row]:justify-between [&amp;_.item_.row]:px-2 [&amp;_.item_.row]:py-1 [&amp;_.item_row.desc]:text-[length:--header-font-size]">'),_K=D('<div class="pointer-events-none absolute inset-0 z-30 bg-[--panel-view-native-background]">'),yK=D("<section>"),XC=D("<span class=kbd>"),Ps=D("<span> "),wK=D("<div class=row><span class=desc>Focus actions</span><span class=keys><span class=kbd>Tab"),kK=D("<div class=row><span class=desc>Select action</span><span class=keys><span class=kbd>Right</span><span> | </span><span class=kbd>Left"),SK=D("<div class=row><span class=desc>Focus/Unfocus test</span><span class=keys><span class=kbd>F"),xK=D("<div class=row><span class=desc>Debug test</span><span class=keys><span class=kbd>D"),TK=D("<div class=row><span class=desc>Profile test</span><span class=keys><span class=kbd>P"),EK=D("<div class=row><span class=desc>Update test snapshot</span><span class=keys><span class=kbd>U"),CK=D("<div class=row><span class=desc>Open side-by-side diff</span><span class=keys><span class=kbd>V"),LK=D("<div class=row><span class=desc></span><span class=keys><span class=kbd>S"),IK=D('<div class=item><div class="header row"><span class=desc> to <!> </span><span class=keys><span class=kbd></span><span> </span><span class=kbd></span></span></div><div class=row><span class=desc>Navigate</span><span class=keys><span class=kbd>Left</span><span> | </span><span class=kbd>Right</span><span>, </span><span class=kbd>Up</span><span> | </span><span class=kbd>Down</span><span>, </span><span class=kbd>PgUp</span><span> | </span><span class=kbd>PgDown</span><span>, </span><span class=kbd>Home</span><span> | </span><span class=kbd>End</span></span></div><div class=row><span class=desc>Find</span><span class=keys><span class=kbd></span>+<span class=kbd>F</span><span> or </span><span class=kbd>/</span></span></div><div class=row><span class=desc>Open error in editor</span><span class=keys><span class=kbd>Enter</span><span> or </span><span class=kbd>E</span></span></div><div class=row><span class=desc>Preview error in editor</span><span class=keys><span class=kbd>Space</span></span></div><div class=row><span class=desc>Peek error source code</span><span class=keys><span class=kbd>.</span></span></div><div class=row><span class=desc>Return to editor</span><span class=keys><span class=kbd>Escape'),AK=D("<div class=row><span class=desc>Open log in side view</span><span class=keys><span class=kbd>S"),FK=D('<div class=item><div class="header row"><span class=desc> to <!>Logs </span><span class=keys><span class=kbd></span><span> </span><span class=kbd>L</span></span></div><div class=row><span class=desc>Navigate</span><span class=keys><span class=kbd>Up</span><span> | </span><span class=kbd>Down</span><span>, </span><span class=kbd>PgUp</span><span> | </span><span class=kbd>PgDown</span><span>, </span><span class=kbd>Home</span><span> | </span><span class=kbd>End</span></span></div><div class=row><span class=desc>Scroll</span><span class=keys><span class=kbd></span>+<span class=kbd>Up</span><span> | </span><span class=kbd></span>+<span class=kbd>Down</span></span></div><div class=row><span class=desc>Find</span><span class=keys><span class=kbd></span>+<span class=kbd>F</span><span> or </span><span class=kbd>/</span></span></div><div class=row><span class=desc>Expand/Collapse</span><span class=keys><span class=kbd>Enter</span><span> or </span><span class=kbd>Right</span><span> | </span><span class=kbd>Left</span></span></div><div class=row><span class=desc>Select action (when expanded)</span><span class=keys><span class=kbd>Right</span><span> | </span><span class=kbd>Left</span></span></div><div class=row><span class=desc>Enter text mode (when expanded)</span><span class=keys><span class=kbd>Enter</span></span></div><div class=row><span class=desc>Exit text mode (when is in text mode)</span><span class=keys><span class=kbd>Esc</span></span></div><div class=row><span class=desc>Open log in editor</span><span class=keys><span class=kbd>E</span></span></div><div class=row><span class=desc>Preview log in editor</span><span class=keys><span class=kbd>Space</span></span></div><div class=row><span class=desc>Peek log source code</span><span class=keys><span class=kbd>.</span></span></div><div class=row><span class=desc>Copy value</span><span class=keys><span class=kbd>C</span></span></div><div class=row><span class=desc>Copy element value</span><span class=keys><span class=kbd>Shift</span><span>+</span><span class=kbd>C</span></span></div><div class=row><span class=desc>Copy element path</span><span class=keys><span class=kbd>Shift</span><span>+</span><span class=kbd>D</span></span></div><div class=row><span class=desc>Show as diagram</span><span class=keys><span class=kbd>D</span></span></div><div class=row><span class=desc>Return to editor</span><span class=keys><span class=kbd>Escape</span></span></div><div class=row><span class=desc>Show context menu</span><span class=keys><span class=kbd>Shift</span><span>+</span><span class=kbd>F10</span><span> | </span><span class=kbd></span><span>+</span><span class=kbd>.'),RK=D("<span class=kbd>O"),PK=D("<div class=row><span class=desc>Filter <span class=text-[var(--subtle-foreground)]>(test tree only)</span></span><span class=keys><span class=kbd></span>+<span class=kbd>F</span><span> or </span><span class=kbd>/"),$K=D("<div class=row><span class=desc>Update test file snapshots <span class=text-[var(--subtle-foreground)]>(when test file is selected)</span></span><span class=keys><span class=kbd>U"),YC=D("<div class=row><span class=desc>Open side-by-side diff <span class=text-[var(--subtle-foreground)]>(when test is selected)</span></span><span class=keys><span class=kbd>V"),DK=D('<div class=item><div class="header row"><span class=desc>Go to<!>Tests panel</span><span class=keys><span class=kbd>G</span><span> </span><span class=kbd>T</span></span></div><div class=row><span class=desc>Navigate</span><span class=keys><span class=kbd>Up</span><span> | </span><span class=kbd>Down</span><span>, </span><span class=kbd>PgUp</span><span> | </span><span class=kbd>PgDown</span><span>, </span><span class=kbd>Home</span><span> | </span><span class=kbd>End</span></span></div><div class=row><span class=desc>Scroll</span><span class=keys><span class=kbd></span>+<span class=kbd>Up</span><span> | </span><span class=kbd></span>+<span class=kbd>Down</span></span></div><div class=row><span class=desc>Select action</span><span class=keys><span class=kbd>Right</span><span> | </span><span class=kbd>Left</span></span></div><div class=row><span class=desc>Open test in editor</span><span class=keys><span class=kbd>Enter</span><span> or </span><span class=kbd>E</span></span></div><div class=row><span class=desc>Preview test in editor</span><span class=keys><span class=kbd>Space</span></span></div><div class=row><span class=desc>Peek test source code</span><span class=keys><span class=kbd>.</span></span></div><div class=row><span class=desc>Focus/Unfocus test</span><span class=keys><span class=kbd>F</span></span></div><div class=row><span class=desc>Profile test</span><span class=keys><span class=kbd>P</span></span></div><div class=row><span class=desc>Debug test</span><span class=keys><span class=kbd>D</span></span></div><div class=row><span class=desc>Update test snapshot <span class=text-[var(--subtle-foreground)]>(when test is selected)</span></span><span class=keys><span class=kbd>U</span></span></div><div class=row><span class=desc>Open test in side view</span><span class=keys><span class=kbd>S</span></span></div><div class=row><span class=desc>Return to editor</span><span class=keys><span class=kbd>Escape'),OK=D('<div class=item><div class="header row"><span class=desc>Global</span></div><div class=row><span class=desc>Go to Side view</span><span class=keys><span class=kbd>G</span><span> </span><span class=kbd>S'),Kb=D("<span class=kbd>S"),BK=D('<div class=item><div class="header row"><span class=desc>Go to<!>Tests tab</span><span class=keys><span class=kbd>G</span><span> </span><span class=kbd>T</span></span></div><div class=row><span class=desc>Navigate</span><span class=keys><span class=kbd>Up</span><span> | </span><span class=kbd>Down</span><span>, </span><span class=kbd>PgUp</span><span> | </span><span class=kbd>PgDown</span><span>, </span><span class=kbd>Home</span><span> | </span><span class=kbd>End</span></span></div><div class=row><span class=desc>Scroll</span><span class=keys><span class=kbd></span>+<span class=kbd>Up</span><span> | </span><span class=kbd></span>+<span class=kbd>Down</span></span></div><div class=row><span class=desc>Filter</span><span class=keys><span class=kbd></span>+<span class=kbd>F</span><span> or </span><span class=kbd>/</span></span></div><div class=row><span class=desc>Focus actions</span><span class=keys><span class=kbd>Tab</span></span></div><div class=row><span class=desc>Select action</span><span class=keys><span class=kbd>Right</span><span> | </span><span class=kbd>Left</span></span></div><div class=row><span class=desc>Open test in editor</span><span class=keys><span class=kbd>Enter</span><span> or </span><span class=kbd>E</span></span></div><div class=row><span class=desc>Preview test in editor</span><span class=keys><span class=kbd>Space</span></span></div><div class=row><span class=desc>Peek test source code</span><span class=keys><span class=kbd>.</span></span></div><div class=row><span class=desc>Focus/Unfocus test</span><span class=keys><span class=kbd>F</span></span></div><div class=row><span class=desc>Debug test</span><span class=keys><span class=kbd>D</span></span></div><div class=row><span class=desc>Profile test</span><span class=keys><span class=kbd>P</span></span></div><div class=row><span class=desc>Update test snapshot <span class=text-[var(--subtle-foreground)]>(when test is selected)</span></span><span class=keys><span class=kbd>U</span></span></div><div class=row><span class=desc>Update test file snapshots <span class=text-[var(--subtle-foreground)]>(when test file is selected)</span></span><span class=keys><span class=kbd>U</span></span></div><div class=row><span class=desc>Return to editor</span><span class=keys><span class=kbd>Escape'),MK=D('<div class=item><div class="header row"><span class=desc>Jump to <!>Covered Source Files panel</span><span class=keys><span class=kbd>J</span><span> </span><span class=kbd>C</span></span></div><div class=row><span class=desc>Navigate</span><span class=keys><span class=kbd>Up</span><span> | </span><span class=kbd>Down</span></span></div><div class=row><span class=desc>Open file in editor</span><span class=keys><span class=kbd>Enter</span><span> or </span><span class=kbd>E</span></span></div><div class=row><span class=desc>Preview file in editor</span><span class=keys><span class=kbd>Space</span></span></div><div class=row><span class=desc>Jump to test tree</span><span class=keys><span class=kbd>Escape</span><span> or </span><span class=kbd>J</span><span> </span><span class=kbd>T'),NK=D('<div class=item><div class="header row"><span class=desc>Go to<!>Coverage tab</span><span class=keys><span class=kbd>G</span><span> </span><span class=kbd>C</span></span></div><div class=row><span class=desc>Return to editor</span><span class=keys><span class=kbd>Escape'),GK=D('<div class=item><div class="header row"><span class=desc>Go to<!>Status tab</span><span class=keys><span class=kbd>G</span><span> </span><span class=kbd>T</span></span></div><div class=row><span class=desc>Return to editor</span><span class=keys><span class=kbd>Escape'),UK=D('<div class=item><div class="header row"><span class=desc>Global</span></div><div class=row><span class=desc>Go to Overview</span><span class=keys><span class=kbd>G</span><span> </span><span class=kbd>O');function WK(t){const e=Ge();let r,n;const[i,o]=z();return Vt(()=>{if(t.state){const s=(t.state==="lastFocusedNamespace"?t.keyboard.lastFocusedNamespace():t.state)||"details.logs";let a=[];s.startsWith("overview.tests")?(n="overview.tests",a=[y(vn,{active:!0}),y(Nt,{kind:"overview",leader:"G"}),y(Gt,{kind:"overview",leader:"G"})],e.isStandalone()?(a.push(y(Gt,{kind:"side-view",leader:"G"})),a.push(y(Nt,{kind:"side-view",leader:"G"})),a.push(y(Qr,{})),a.push(y(en,{})),a.push(y(tn,{}))):a.push(y(Em,{}))):s.startsWith("overview.errors")?(n="overview.errors",a=[y(Nt,{active:!0,kind:"overview",leader:"G"}),y(vn,{}),y(Gt,{kind:"overview",leader:"G"})],e.isStandalone()?(a.push(y(Gt,{kind:"side-view",leader:"G"})),a.push(y(Nt,{kind:"side-view",leader:"G"})),a.push(y(Qr,{})),a.push(y(en,{})),a.push(y(tn,{}))):a.push(y(Em,{}))):s.startsWith("overview.logs")?(n="overview.logs",a=[y(Gt,{active:!0,kind:"overview",leader:"G"}),y(vn,{}),y(Nt,{kind:"overview",leader:"G"})],e.isStandalone()?(a.push(y(Gt,{kind:"side-view",leader:"G"})),a.push(y(Qr,{})),a.push(y(Nt,{kind:"side-view",leader:"G"})),a.push(y(en,{})),a.push(y(tn,{}))):a.push(y(Em,{}))):s.startsWith("details.logs")?(n="details.logs",a=[y(Gt,{active:!0,kind:"side-view",leader:"G"}),y(Nt,{kind:"side-view",leader:"G"}),y(Qr,{}),y(en,{}),y(tn,{})],e.isStandalone()?(a.push(y(vn,{})),a.push(y(Nt,{kind:"overview",leader:"G"})),a.push(y(Gt,{kind:"overview",leader:"G"}))):a.push(y(si,{}))):s.startsWith("details.errors")?(n="details.errors",a=[y(Nt,{active:!0,kind:"side-view",leader:"G"}),y(Gt,{kind:"side-view",leader:"G"}),y(Qr,{}),y(en,{}),y(tn,{})],e.isStandalone()?(a.push(y(vn,{})),a.push(y(Nt,{kind:"overview",leader:"G"})),a.push(y(Gt,{kind:"overview",leader:"G"}))):a.push(y(si,{}))):s.startsWith("details.tests.errors")?(n="details.tests.errors",a=[y(Nt,{active:!0,kind:"overview",leader:"J",get rows(){return[oi()]}}),y(Gt,{kind:"overview",leader:"J",get rows(){return[oi()]}}),y(cl,{}),y(Qr,{}),y(Gt,{kind:"side-view",leader:"G"}),y(Nt,{kind:"side-view",leader:"G"}),y(en,{}),y(tn,{})],e.isStandalone()?(a.push(y(vn,{})),a.push(y(Nt,{kind:"overview",leader:"G"})),a.push(y(Gt,{kind:"overview",leader:"G"}))):a.push(y(si,{}))):s.startsWith("details.tests.logs")?(n="details.tests.logs",a=[y(Gt,{active:!0,kind:"overview",leader:"J",get rows(){return[oi()]}}),y(Nt,{kind:"overview",leader:"J",get rows(){return[oi()]}}),y(cl,{}),y(Qr,{}),y(Gt,{kind:"side-view",leader:"G"}),y(Nt,{kind:"side-view",leader:"G"}),y(en,{}),y(tn,{})],e.isStandalone()?(a.push(y(vn,{})),a.push(y(Nt,{kind:"overview",leader:"G"})),a.push(y(Gt,{kind:"overview",leader:"G"}))):a.push(y(si,{}))):s.startsWith("details.tests.coverage")?(n="details.tests.coverage",a=[y(cl,{active:!0}),y(Nt,{kind:"overview",leader:"J",get rows(){return[oi()]}}),y(Gt,{kind:"overview",leader:"J",get rows(){return[oi()]}}),y(Qr,{}),y(Gt,{kind:"side-view",leader:"G"}),y(Nt,{kind:"side-view",leader:"G"}),y(en,{}),y(tn,{}),y(si,{})]):s.startsWith("details.tests")?(n="details.tests.tree",a=[y(Qr,{active:!0}),y(Nt,{kind:"overview",leader:"J",get rows(){return[oi()]}}),y(Gt,{kind:"overview",leader:"J",get rows(){return[oi()]}}),y(cl,{}),y(Gt,{kind:"side-view",leader:"G"}),y(Nt,{kind:"side-view",leader:"G"}),y(en,{}),y(tn,{})],e.isStandalone()?(a.push(y(vn,{})),a.push(y(Nt,{kind:"overview",leader:"G"})),a.push(y(Gt,{kind:"overview",leader:"G"}))):a.push(y(si,{}))):s.startsWith("details.coverage")?(n="details.coverage",a=[y(en,{active:!0}),y(Nt,{kind:"side-view",leader:"G"}),y(Gt,{kind:"side-view",leader:"G"}),y(Qr,{}),y(tn,{})],e.isStandalone()?(a.push(y(vn,{})),a.push(y(Nt,{kind:"overview",leader:"G"})),a.push(y(Gt,{kind:"overview",leader:"G"}))):a.push(y(si,{}))):s.startsWith("details.status")?(n="details.status",a=[y(tn,{active:!0}),y(Nt,{kind:"side-view",leader:"G"}),y(Gt,{kind:"side-view",leader:"G"}),y(Qr,{}),y(en,{})],e.isStandalone()?(a.push(y(vn,{})),a.push(y(Nt,{kind:"overview",leader:"G"})),a.push(y(Gt,{kind:"overview",leader:"G"}))):a.push(y(si,{}))):s.startsWith("quokka.output.main")?(n="quokka.output.main",a=[y(Nt,{active:!0,kind:"overview",leader:"G"}),y(Gt,{kind:"overview",leader:"G"})]):s.startsWith("quokka.output.logs")&&(n="quokka.output.logs",a=[y(Gt,{active:!0,kind:"overview",leader:"G"}),y(Nt,{kind:"overview",leader:"G"})]),n?(o(a),t.keyboard.onFocus("shortcuts",!0),queueMicrotask(()=>qK(r))):e.closeShortcuts()}}),Xe(()=>{n&&(t.keyboard.onFocus(n,!0),o([]),n=void 0)}),we(t.keyboard.focusedNamespace,s=>{s&&s=="shortcuts"&&r.focus()}),we(t.keyboard.key,s=>{if(s){const a=s.event;if(s.namespace==="shortcuts"){if((a.key==="Escape"||a.key==="q")&&e.closeShortcuts(),a.key===" "&&!Ee(a)||a.key==="ArrowDown"){const c=r.parentElement;c&&c.scrollBy(0,c.clientHeight)}if(a.key===" "&&a.shiftKey||a.key==="ArrowUp"){const c=r.parentElement;c&&c.scrollBy(0,-c.clientHeight)}a.preventDefault(),a.stopPropagation()}}},{defer:!0}),[(()=>{var s=bK(),a=s.firstChild;s.$$mousedown=c=>{e.closeShortcuts(),c.preventDefault(),c.stopPropagation()};var l=r;return typeof l=="function"?ae(l,a):r=a,A(a,y(It,{get each(){return i()},children:c=>(()=>{var d=yK();return A(d,c),d})()})),s})(),_K()]}function Nt(t){const e=Ge();return(()=>{var r=IK(),n=r.firstChild,i=n.firstChild,o=i.firstChild,s=o.nextSibling;s.nextSibling;var a=i.nextSibling,l=a.firstChild,c=l.nextSibling,d=c.nextSibling,u=n.nextSibling,f=u.nextSibling,h=f.firstChild,g=h.nextSibling,p=g.firstChild,m=f.nextSibling,b=m.nextSibling,k=b.nextSibling,_=k.nextSibling;return A(i,()=>t.leader==="G"?"Go":"Jump",o),A(i,()=>e.isStandalone()?t.leader==="G"?t.kind==="overview"?"Overview's ":"Side view's ":"Tests' ":" ",s),A(i,()=>e.isIntegratedQuokkaOutput()?"Main":"Errors",s),A(i,()=>t.kind==="overview"?"panel":"tab",null),A(l,()=>t.leader),A(a,y(V,{get when(){return e.isStandalone()&&t.leader==="G"},get children(){return[(()=>{var v=XC();return A(v,()=>t.kind==="overview"?"O":"S"),v})(),Ps()]}}),d),A(d,()=>e.isIntegratedQuokkaOutput()?"M":"E"),A(p,vr),A(r,y(V,{get when(){return!e.isIntegratedQuokkaOutput()},get children(){return[wK(),kK()]}}),m),A(r,y(V,{get when(){return!e.isIntegratedQuokkaOutput()},get children(){return[SK(),xK(),TK(),EK(),CK(),(()=>{var v=LK(),x=v.firstChild;return A(x,()=>t.kind==="overview"?"Open error in side view":"Select/Deselect error"),v})()]}}),_),A(r,y(It,{get each(){return t.rows||[]},children:v=>v}),_),oe(()=>r.classList.toggle("active",!!t.active)),r})()}function Gt(t){const e=Ge();return(()=>{var r=FK(),n=r.firstChild,i=n.firstChild,o=i.firstChild,s=o.nextSibling;s.nextSibling;var a=i.nextSibling,l=a.firstChild,c=l.nextSibling,d=c.nextSibling,u=n.nextSibling,f=u.nextSibling,h=f.firstChild,g=h.nextSibling,p=g.firstChild,m=p.nextSibling,b=m.nextSibling,k=b.nextSibling,_=k.nextSibling,v=f.nextSibling,x=v.firstChild,S=x.nextSibling,w=S.firstChild,T=v.nextSibling,L=T.nextSibling,E=L.nextSibling,C=E.nextSibling,F=C.nextSibling,$=F.nextSibling,O=$.nextSibling,M=O.nextSibling,I=M.nextSibling,W=I.nextSibling,q=W.nextSibling,G=q.nextSibling,H=G.nextSibling,J=H.firstChild,Z=J.nextSibling,te=Z.firstChild,ee=te.nextSibling,le=ee.nextSibling,de=le.nextSibling,B=de.nextSibling;return A(i,()=>t.leader==="G"?"Go":"Jump",o),A(i,()=>e.isStandalone()?t.leader==="G"?t.kind==="overview"?"Overview's ":"Side view's ":"Tests' ":" ",s),A(i,()=>t.kind==="overview"?"panel":"tab",null),A(l,()=>t.leader),A(a,y(V,{get when(){return e.isStandalone()&&t.leader==="G"},get children(){return[(()=>{var N=XC();return A(N,()=>t.kind==="overview"?"O":"S"),N})(),Ps()]}}),d),A(p,vr),A(_,vr),A(w,vr),A(r,y(V,{get when(){return!e.isIntegratedQuokkaOutput()},get children(){return AK()}}),G),A(r,y(It,{get each(){return t.rows||[]},children:N=>N}),G),A(B,vr),oe(()=>r.classList.toggle("active",!!t.active)),r})()}function vn(t){const e=Ge();return(()=>{var r=DK(),n=r.firstChild,i=n.firstChild,o=i.firstChild,s=o.nextSibling;s.nextSibling;var a=i.nextSibling,l=a.firstChild,c=l.nextSibling,d=c.nextSibling,u=n.nextSibling,f=u.nextSibling,h=f.firstChild,g=h.nextSibling,p=g.firstChild,m=p.nextSibling,b=m.nextSibling,k=b.nextSibling,_=k.nextSibling,v=f.nextSibling,x=v.nextSibling,S=x.nextSibling,w=S.nextSibling,T=w.nextSibling,L=T.nextSibling,E=L.nextSibling,C=E.nextSibling,F=C.nextSibling;return A(i,()=>e.isStandalone()?" Overview's ":" ",s),A(a,y(V,{get when(){return e.isStandalone()},get children(){return[RK(),Ps()]}}),d),A(p,vr),A(_,vr),A(r,y(V,{get when(){return e.isIntegratedOverview()},get children(){var $=PK(),O=$.firstChild,M=O.nextSibling,I=M.firstChild;return A(I,vr),$}}),v),A(r,y(V,{get when(){return e.isIntegratedOverview()},get children(){return[$K(),YC()]}}),F),oe(()=>r.classList.toggle("active",!!t.active)),r})()}function Em(t){return(()=>{var e=OK();return oe(()=>e.classList.toggle("active",!!t.active)),e})()}function Qr(t){const e=Ge();return(()=>{var r=BK(),n=r.firstChild,i=n.firstChild,o=i.firstChild,s=o.nextSibling;s.nextSibling;var a=i.nextSibling,l=a.firstChild,c=l.nextSibling,d=c.nextSibling,u=n.nextSibling,f=u.nextSibling,h=f.firstChild,g=h.nextSibling,p=g.firstChild,m=p.nextSibling,b=m.nextSibling,k=b.nextSibling,_=k.nextSibling,v=f.nextSibling,x=v.firstChild,S=x.nextSibling,w=S.firstChild,T=v.nextSibling,L=T.nextSibling,E=L.nextSibling,C=E.nextSibling,F=C.nextSibling,$=F.nextSibling,O=$.nextSibling,M=O.nextSibling,I=M.nextSibling,W=I.nextSibling,q=W.nextSibling;return A(i,()=>e.isStandalone()?" Side view's ":" ",s),A(a,y(V,{get when(){return e.isStandalone()},get children(){return[Kb(),Ps()]}}),d),A(p,vr),A(_,vr),A(w,vr),A(r,y(V,{get when(){return e.isIntegratedSideView()},get children(){return YC()}}),q),oe(()=>r.classList.toggle("active",!!t.active)),r})()}function cl(t){const e=Ge();return(()=>{var r=MK(),n=r.firstChild,i=n.firstChild,o=i.firstChild,s=o.nextSibling;return s.nextSibling,A(i,()=>e.isStandalone()?"Tests' ":"",s),oe(()=>r.classList.toggle("active",!!t.active)),r})()}function en(t){const e=Ge();return(()=>{var r=NK(),n=r.firstChild,i=n.firstChild,o=i.firstChild,s=o.nextSibling;s.nextSibling;var a=i.nextSibling,l=a.firstChild,c=l.nextSibling,d=c.nextSibling;return A(i,()=>e.isStandalone()?" Side view's ":" ",s),A(a,y(V,{get when(){return e.isStandalone()},get children(){return[Kb(),Ps()]}}),d),oe(()=>r.classList.toggle("active",!!t.active)),r})()}function tn(t){const e=Ge();return(()=>{var r=GK(),n=r.firstChild,i=n.firstChild,o=i.firstChild,s=o.nextSibling;s.nextSibling;var a=i.nextSibling,l=a.firstChild,c=l.nextSibling,d=c.nextSibling;return A(i,()=>e.isStandalone()?" Side view's ":" ",s),A(a,y(V,{get when(){return e.isStandalone()},get children(){return[Kb(),Ps()]}}),d),oe(()=>r.classList.toggle("active",!!t.active)),r})()}function si(t){return(()=>{var e=UK();return oe(()=>e.classList.toggle("active",!!t.active)),e})()}function qK(t){for(const e of t.children){const r=parseInt(window.getComputedStyle(t).getPropertyValue("grid-auto-rows")),n=parseInt(window.getComputedStyle(t).getPropertyValue("grid-row-gap")),i=Math.ceil((e.firstElementChild.getBoundingClientRect().height+n)/(r+n));e.style.gridRowEnd="span "+i}}At(["mousedown"]);const Gx={OutputLogItems:"output.logItems",OutputLogItemDetails:"output.logItemDetails"};function HK(){return{panels:{"output.logItems":{size:40},"output.logItemDetails":{size:60}},list:{autoScroll:!1},details:{}}}const VK="1.0.0";var yv=(t=>(t.fileChange="fileChange",t.forceClear="forceClear",t.log="log",t.error="error",t))(yv||{});const jK=["","active","pastDue","paused","deleted"];new Set(jK);function zK(){const t=new Map;return[new Proxy({},{get:function(e,r){return function(n){let i=t.get(r);return i?i.push(n):(i=[n],t.set(r,i)),new Cr(()=>{let o=i.indexOf(n);for(;o>=0;)i.splice(o,1),o=i.indexOf(n)})}}}),new Proxy({},{get:function(e,r){return async(...n)=>{t.get(`on${r.charAt(0).toUpperCase()}${r.slice(1)}`)?.forEach(i=>{try{i(...n)}catch(o){console.error(o)}})}}})]}async function KK(t,e,r,n,i){const o=new Cr;let s,a;const l=await new Promise(c=>{try{const d=new K5({version:VK,isSecure:t,host:e||"localhost",port:r,secret:n,clientType:"app",onSocketError(u){console.log("Socket error",u)},onClose(){i?.onClose?.(),c(void 0)},onSocketClosedDueToError(){i?.onCloseDueToError?.(),c(void 0)}},u=>{const[f,h]=zK();return a=f,c({dispose:()=>d?.dispose(),instance:u}),h})}catch(d){console.error(d)}});if(!l)throw new Error("Connection error");return o.add(l),s=l.instance.api,{disposable:o,appToHost:s,hostToApp:a}}async function XK(t,e,r,n,i){return await KK(n,t,e,r,i)}let Cm;class JC{constructor(e,r){this._state=e,this._setState=r;const[n,i]=fa(HK());this._settingsState=n,this._setSettingsState=i;const o=this;this._doSetSettingsState=function(){try{return o._setSettingsState.apply(this,arguments)}finally{const s=z5(o._settingsState,...arguments);o._appToHost.updateAppSettings(s)}},this._updateSettingsDebounced=to(s=>this._appToHost?.updateAppSettings(s),1e3),this._disposable=new Cr,this._setState(Je(s=>{s.connecting=!0,s.logEntries=[]})),this.connect().then(()=>this._onConnected())}_disposable;_settingsState;_setSettingsState;_doSetSettingsState;_updateSettingsDebounced;_reconnectTimeout;_appToHost;_hostToApp;appSettings(){return[this._settingsState,this._doSetSettingsState]}getPanelState(e,r){return U(()=>this._getPanelState(e,r))}_getPanelState(e,r){return this._settingsState.panels?.[e]||r||{}}setPanelState(e,r){const{size:n,collapsed:i}=this._getPanelState(e),o={panels:{...this._settingsState.panels,[e]:r(this._settingsState.panels?.[e]||{})}};this._setSettingsState({...this._settingsState,...o});const{size:s,collapsed:a}=this._getPanelState(e);(i!==a||n!==s)&&this._updateSettingsDebounced(o)}async highlight(e,r){const n=e.endsWith(".vue")?"vue":e.endsWith(".svelte")?"svelte":"typescript",i=n==="vue"||n==="svelte"?75:3,o=await this._appToHost.extractFileFragment(o9(e),{line:r,frame:i});if(o&&o.lines.length>0)return Cm||(Cm=(await qr(()=>Promise.resolve().then(()=>Tc),void 0,import.meta.url)).highlight),await Cm(n,o,n==="vue"||n==="svelte"?3:void 0)}getFindState(){throw new Error("Method not implemented.")}focus(e){throw new Error("Method not implemented.")}closeFind(){throw new Error("Method not implemented.")}showFind(e){throw new Error("Method not implemented.")}restart(){throw new Error("Method not implemented.")}featureUsed(e){this._appToHost.featureUsed(e)}closeShortcuts(){throw new Error("Method not implemented.")}showShortcuts(e,r){throw new Error("Method not implemented.")}isStandalone(){return!1}isIntegratedOverview(){return!1}isIntegratedSideView(){return!1}isEditorConnected(){return!0}isEditorConnectedWithNoPreferences(){return!1}isIntegratedNinja(){return!0}isIntegratedVSCode(){return!0}isIntegratedIntelliJ(){return!1}isIntegratedQuokkaOutput(){return!1}navigate(e,r,n){this._appToHost.navigate(e,n)}editorTooltipAddendum(e){return U(()=>"")}async getLocationByTraceFrame(e){}isAiAvailable(){return U(()=>!!this._state.aiAvailable)}clearListSelection(){this._setState("selection",void 0)}selectLogEntry(e,r){this._setState(Je(n=>{if(n.selection||(n.selection={entries:{},latest:e}),r.ctrlKey||r.metaKey){n.selection.entries[e]?(delete n.selection.entries[e],Object.keys(n.selection.entries).length===0&&(n.selection=void 0)):(n.selection.entries[e]=!0,n.selection.latest=e);return}else if(r.shiftKey){const i=this._state.logEntries.map(u=>u.log?.id||u.error?.id).filter(u=>!!u),o=Object.keys(n.selection?.entries||{}).map(u=>parseInt(u,10));if(o.length===0){n.selection.entries[e]=!0,n.selection.latest=e;return}const s=o[o.length-1],a=i.indexOf(s),l=i.indexOf(e);if(a===-1||l===-1){n.selection.entries[e]=!0,n.selection.latest=e;return}const[c,d]=a<l?[a,l]:[l,a];for(let u=c;u<=d;u++)n.selection.entries[i[u]]=!0;n.selection.latest=e;return}n.selection={entries:{},latest:e},n.selection.entries[e]=!0}))}loadLogEntryDetails(e){this._appToHost.logEntryDetails(e).then(r=>{this._setState(Je(n=>{n.details={entries:[]};for(const i of r){const o=n9(i);n.details.entries.push(o)}}))})}changeDateDisplayMode(){this._appToHost.changeDateDisplayMode()}dispose(){this._setState("stopped",!0),clearTimeout(this._reconnectTimeout),this._disposable.dispose()}async connect(){let e=!1,r,n;const i=()=>{this._state.stopped||(this._setState("disconnected",!0),e=!0,n&&n(),this._state.restarting||(this._disposable.dispose(),this._disposable=new Cr,this._setState("connecting",!0),clearTimeout(this._reconnectTimeout),this._reconnectTimeout=setTimeout(()=>{this.connect().then(()=>{this._state.disconnected||this._onConnected()})},1e3)))},{disposable:o,appToHost:s,hostToApp:a}=await XK(this._state.network?.host,this._state.network?.port,this._state.network?.secret,this._state.network?.isSecure,{onClose:()=>i(),onCloseDueToError:()=>i()});if(e)return;const l=new Promise((d,u)=>{r=d,n=u});let c;s.handshake({kind:this._state.kind}).then(d=>{c=d,r()}).catch(()=>n());try{await Promise.race([l,new Promise((d,u)=>setTimeout(()=>u(new Error("Handshake timeout")),12e4))])}catch{console.error("Handshake failed");return}e||!c||(c.editor.type==="vscode"&&(this._setFontSize(c.editor.settings?.["wallaby.fontSize"]),await oa(c.editor,this._state.kind==="standalone"),document.body.getAttribute("data-vscode-theme-id")&&document.body.getAttribute("data-vscode-theme-id")!==c.editor.theme?.name&&s.themeChanged(document.body.getAttribute("data-vscode-theme-id")),new MutationObserver(u=>{u.forEach(f=>{f.type==="attributes"&&f.attributeName==="data-vscode-theme-id"&&s.themeChanged(document.body.getAttribute("data-vscode-theme-id"))})}).observe(document.body,{attributes:!0,attributeFilter:["data-vscode-theme-id"]})),this._setState(Je(d=>{d.editor=c.editor.type,d.aiAvailable=c.editor.aiAvailable,d.cwd=c.cwd,c.config&&this.onConfigChange(c.config)})),this._setSettingsState(d=>({...d,...c.settings})),this._disposable.add(a.onPreferences(async d=>{this._state.editor==="vscode"&&(await oa(d),this._setFontSize(d.settings?.["wallaby.fontSize"]))})),this._disposable.add(o),this._appToHost=s,this._hostToApp=a,this._setState(Je(d=>{delete d.disconnected,d.connecting=!1})))}onLogsAvailable(e){this._setState("logEntries",Je(r=>{r.push(...e.entries.map(n=>({log:n})))}))}onErrorsAvailable(e){this._setState("logEntries",Je(r=>{r.push(...e.entries.map(n=>({error:n})))}))}onReloadLogEntries(){this._reloadLogEntries()}onConfigChange(e){this._setState("config",je(e)),this._state.dateTimeFormat||this._setState("dateTimeFormat",{dateTimeDisplayMode:e.dateTimeDisplayMode,dateTimeFormat:e.dateTimeFormat,simpleDateTimeDisplayMode:!e.enableProFeatures})}onDateTimeFormatChange(e){this._setState("dateTimeFormat",je(e))}async _reloadLogEntries(){const e=await this._appToHost.logViewerEntries(),r=[];for(const n of e)n.type===yv.log?r.push({log:n.log}):n.type===yv.error&&r.push({error:n.error});this._setState("logEntries",je(r))}async _onConnected(){await this._reloadLogEntries(),this._disposable.add(this._hostToApp.onLogs(this.onLogsAvailable.bind(this))),this._disposable.add(this._hostToApp.onErrors(this.onErrorsAvailable.bind(this))),this._disposable.add(this._hostToApp.onReloadLogEntries(this.onReloadLogEntries.bind(this))),this._disposable.add(this._hostToApp.onConfig(this.onConfigChange.bind(this))),this._disposable.add(this._hostToApp.onDateTimeFormat(this.onDateTimeFormatChange.bind(this)))}_setFontSize(e){const r=e?parseFloat(e):void 0;r&&!isNaN(r)&&r>0&&this._setState("fontSize",r)}static Provider}const[YK,Bd]=Ar(t=>t.initial);JC.Provider=YK;function JK(t){if(t===void 0)return;const e=H5(t.source);if(e!==void 0)return{file:e,line:t.line}}class ZK{constructor(e,r,n){this._namespace=e,this._appService=r,this._keyboard=n}matches(e){return e.startsWith(this._namespace)}handle(e,r,n){if(e=this._narrow(e),!r.target)return;const i=r.target,o=a=>{r.preventDefault(),r.stopPropagation()};if(_a(r))return o();if(r.key==="Escape"&&!Ee(r)&&n.selection)return this._appService.clearListSelection(),o();if(!this._locateOutputElement(e,i)){if(r.key==="Escape"&&!Ee(r))return e==="header.action"?i.closest(`[data-namespace="${this._namespace}"]`)?.focus():this._appService.focus("editor"),o()}}_locateOutputElement(e,r){if(e=="."||e==="content")return r.querySelector(".selected");if(e==="header.action"){const n=r.closest(`[data-namespace="${this._namespace}"]`);if(n)return n.querySelector(".selected")}if(e==="content.item")return r;if(e==="content.item.action")return r.parentElement?.parentElement?.parentElement?.parentElement}_narrow(e){return e=e.replace(`${this._namespace}.`,""),e=e.replace(this._namespace,"."),e}}var ZC={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(wn,function(){var r=1e3,n=6e4,i=36e5,o="millisecond",s="second",a="minute",l="hour",c="day",d="week",u="month",f="quarter",h="year",g="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var M=["th","st","nd","rd"],I=O%100;return"["+O+(M[(I-20)%10]||M[I]||M[0])+"]"}},_=function(O,M,I){var W=String(O);return!W||W.length>=M?O:""+Array(M+1-W.length).join(I)+O},v={s:_,z:function(O){var M=-O.utcOffset(),I=Math.abs(M),W=Math.floor(I/60),q=I%60;return(M<=0?"+":"-")+_(W,2,"0")+":"+_(q,2,"0")},m:function O(M,I){if(M.date()<I.date())return-O(I,M);var W=12*(I.year()-M.year())+(I.month()-M.month()),q=M.clone().add(W,u),G=I-q<0,H=M.clone().add(W+(G?-1:1),u);return+(-(W+(I-q)/(G?q-H:H-q))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:u,y:h,w:d,d:c,D:g,h:l,m:a,s,ms:o,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},x="en",S={};S[x]=k;var w="$isDayjsObject",T=function(O){return O instanceof F||!(!O||!O[w])},L=function O(M,I,W){var q;if(!M)return x;if(typeof M=="string"){var G=M.toLowerCase();S[G]&&(q=G),I&&(S[G]=I,q=G);var H=M.split("-");if(!q&&H.length>1)return O(H[0])}else{var J=M.name;S[J]=M,q=J}return!W&&q&&(x=q),q||!W&&x},E=function(O,M){if(T(O))return O.clone();var I=typeof M=="object"?M:{};return I.date=O,I.args=arguments,new F(I)},C=v;C.l=L,C.i=T,C.w=function(O,M){return E(O,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var F=function(){function O(I){this.$L=L(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[w]=!0}var M=O.prototype;return M.parse=function(I){this.$d=function(W){var q=W.date,G=W.utc;if(q===null)return new Date(NaN);if(C.u(q))return new Date;if(q instanceof Date)return new Date(q);if(typeof q=="string"&&!/Z$/i.test(q)){var H=q.match(m);if(H){var J=H[2]-1||0,Z=(H[7]||"0").substring(0,3);return G?new Date(Date.UTC(H[1],J,H[3]||1,H[4]||0,H[5]||0,H[6]||0,Z)):new Date(H[1],J,H[3]||1,H[4]||0,H[5]||0,H[6]||0,Z)}}return new Date(q)}(I),this.init()},M.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},M.$utils=function(){return C},M.isValid=function(){return this.$d.toString()!==p},M.isSame=function(I,W){var q=E(I);return this.startOf(W)<=q&&q<=this.endOf(W)},M.isAfter=function(I,W){return E(I)<this.startOf(W)},M.isBefore=function(I,W){return this.endOf(W)<E(I)},M.$g=function(I,W,q){return C.u(I)?this[W]:this.set(q,I)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(I,W){var q=this,G=!!C.u(W)||W,H=C.p(I),J=function(ie,ce){var ke=C.w(q.$u?Date.UTC(q.$y,ce,ie):new Date(q.$y,ce,ie),q);return G?ke:ke.endOf(c)},Z=function(ie,ce){return C.w(q.toDate()[ie].apply(q.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(ce)),q)},te=this.$W,ee=this.$M,le=this.$D,de="set"+(this.$u?"UTC":"");switch(H){case h:return G?J(1,0):J(31,11);case u:return G?J(1,ee):J(0,ee+1);case d:var B=this.$locale().weekStart||0,N=(te<B?te+7:te)-B;return J(G?le-N:le+(6-N),ee);case c:case g:return Z(de+"Hours",0);case l:return Z(de+"Minutes",1);case a:return Z(de+"Seconds",2);case s:return Z(de+"Milliseconds",3);default:return this.clone()}},M.endOf=function(I){return this.startOf(I,!1)},M.$set=function(I,W){var q,G=C.p(I),H="set"+(this.$u?"UTC":""),J=(q={},q[c]=H+"Date",q[g]=H+"Date",q[u]=H+"Month",q[h]=H+"FullYear",q[l]=H+"Hours",q[a]=H+"Minutes",q[s]=H+"Seconds",q[o]=H+"Milliseconds",q)[G],Z=G===c?this.$D+(W-this.$W):W;if(G===u||G===h){var te=this.clone().set(g,1);te.$d[J](Z),te.init(),this.$d=te.set(g,Math.min(this.$D,te.daysInMonth())).$d}else J&&this.$d[J](Z);return this.init(),this},M.set=function(I,W){return this.clone().$set(I,W)},M.get=function(I){return this[C.p(I)]()},M.add=function(I,W){var q,G=this;I=Number(I);var H=C.p(W),J=function(ee){var le=E(G);return C.w(le.date(le.date()+Math.round(ee*I)),G)};if(H===u)return this.set(u,this.$M+I);if(H===h)return this.set(h,this.$y+I);if(H===c)return J(1);if(H===d)return J(7);var Z=(q={},q[a]=n,q[l]=i,q[s]=r,q)[H]||1,te=this.$d.getTime()+I*Z;return C.w(te,this)},M.subtract=function(I,W){return this.add(-1*I,W)},M.format=function(I){var W=this,q=this.$locale();if(!this.isValid())return q.invalidDate||p;var G=I||"YYYY-MM-DDTHH:mm:ssZ",H=C.z(this),J=this.$H,Z=this.$m,te=this.$M,ee=q.weekdays,le=q.months,de=q.meridiem,B=function(ce,ke,xe,Ae){return ce&&(ce[ke]||ce(W,G))||xe[ke].slice(0,Ae)},N=function(ce){return C.s(J%12||12,ce,"0")},ie=de||function(ce,ke,xe){var Ae=ce<12?"AM":"PM";return xe?Ae.toLowerCase():Ae};return G.replace(b,function(ce,ke){return ke||function(xe){switch(xe){case"YY":return String(W.$y).slice(-2);case"YYYY":return C.s(W.$y,4,"0");case"M":return te+1;case"MM":return C.s(te+1,2,"0");case"MMM":return B(q.monthsShort,te,le,3);case"MMMM":return B(le,te);case"D":return W.$D;case"DD":return C.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return B(q.weekdaysMin,W.$W,ee,2);case"ddd":return B(q.weekdaysShort,W.$W,ee,3);case"dddd":return ee[W.$W];case"H":return String(J);case"HH":return C.s(J,2,"0");case"h":return N(1);case"hh":return N(2);case"a":return ie(J,Z,!0);case"A":return ie(J,Z,!1);case"m":return String(Z);case"mm":return C.s(Z,2,"0");case"s":return String(W.$s);case"ss":return C.s(W.$s,2,"0");case"SSS":return C.s(W.$ms,3,"0");case"Z":return H}return null}(ce)||H.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(I,W,q){var G,H=this,J=C.p(W),Z=E(I),te=(Z.utcOffset()-this.utcOffset())*n,ee=this-Z,le=function(){return C.m(H,Z)};switch(J){case h:G=le()/12;break;case u:G=le();break;case f:G=le()/3;break;case d:G=(ee-te)/6048e5;break;case c:G=(ee-te)/864e5;break;case l:G=ee/i;break;case a:G=ee/n;break;case s:G=ee/r;break;default:G=ee}return q?G:C.a(G)},M.daysInMonth=function(){return this.endOf(u).$D},M.$locale=function(){return S[this.$L]},M.locale=function(I,W){if(!I)return this.$L;var q=this.clone(),G=L(I,W,!0);return G&&(q.$L=G),q},M.clone=function(){return C.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},O}(),$=F.prototype;return E.prototype=$,[["$ms",o],["$s",s],["$m",a],["$H",l],["$W",c],["$M",u],["$y",h],["$D",g]].forEach(function(O){$[O[1]]=function(M){return this.$g(M,O[0],O[1])}}),E.extend=function(O,M){return O.$i||(O(M,F,E),O.$i=!0),E},E.locale=L,E.isDayjs=T,E.unix=function(O){return E(1e3*O)},E.en=S[x],E.Ls=S,E.p={},E})})(ZC);var QK=ZC.exports;const eX=xc(QK);function Ux(t){return t<1e3?`${t} ms`:t<6e4?`${Math.round(t/1e3)} sec`:t<36e5?`${Math.round(t/6e4)} min`:`${Math.round(t/36e5)} hrs`}const Wx=["class","new","operator","string","number","boolean","undefined","null","regexp","function","property","type","inserted","deleted","punctuation","comment"],tX="wallaby-output";var rX=D('<div class="relative flex h-full w-full flex-col"data-vscode-context="{&quot;webviewSection&quot;: &quot;overview&quot;, &quot;preventDefaultContextMenuItems&quot;: true}">'),nX=D('<div class="relative h-full w-full"><div class="code absolute inset-0 overflow-y-auto [&amp;_div.header]:flex [&amp;_div.header]:h-full [&amp;_div.header]:flex-row [&amp;_div.header]:items-center [&amp;_div.header]:justify-center [&amp;_div.header]:pr-2 [&amp;_div.header]:pt-[0.0625rem] [&amp;_div.item.error]:bg-[--subtle-failed] [&amp;_div.item.selected-latest]:rounded-[var(--focus-border-radius)] [&amp;_div.item.selected-latest]:border-[var(--focus-border)] [&amp;_div.item.selected]:bg-[var(--list-active-selection-background)] [&amp;_div.item.selected]:text-[var(--list-active-selection-foreground)] hover:[&amp;_div.item.selected]:bg-[var(--list-active-selection-background)] [&amp;_div.item]:relative [&amp;_div.item]:h-[--panel-item-height] [&amp;_div.item]:cursor-default [&amp;_div.item]:select-none [&amp;_div.item]:border [&amp;_div.item]:border-transparent [&amp;_div.item]:outline-none hover:[&amp;_div.item]:bg-[var(--list-hover-background)] [&amp;_div.item_.preview]:flex-grow [&amp;_div.item_.preview]:truncate [&amp;_div.item_.preview]:[word-spacing:-0.25em] [&amp;_div.item_.preview_span.token-punctuation]:tracking-[-.05rem] [&amp;_span.context]:text-[length:--panel-smaller-font-size] [&amp;_span.context]:font-bold [&amp;_span.context]:text-[var(--subtle-foreground)] [&amp;_span.icon]:pb-[0.0625rem] [&amp;_span.icon]:pr-0.5 [&amp;_span.icon]:text-[length:--icon-smallest-font-size]"><div>'),iX=D('<div class="h-[--panel-item-height] w-full">'),oX=D('<span class="codicon icon">'),sX=D("<div class=item><div class=header><div class=preview>"),aX=D('<span class="codicon codicon-error icon text-[--testing-icon-failed]">'),lX=D('<div class="item error"><div class=header><div class=preview><span class=token-error>'),cX=D('<div class="token-comment text-nowrap pr-1">'),dX=D('<span class="context mr-1">'),uX=D('<div class="ml-auto whitespace-pre"><span tabindex=-1>'),hX=D('<div class="h-full w-full flex-grow [&amp;_.monaco-editor-background]:bg-[var(--panel-view-background)] [&amp;_.monaco-editor]:bg-[var(--panel-view-background)] [&amp;_.monaco-editor_.margin]:bg-[var(--panel-view-background)]">');function fX(t){const e=Bd(),{width:r,height:n}=vc(),i=()=>r()>n()?"row":"column";let o;const s=t.state.kind;we(t.keyboard.focusedNamespace,l=>{let c=o.querySelector(`[data-namespace="${l}"]`);c?c.getAttribute("data-unfocused-scrolling")!=="true"?c.focus():setTimeout(()=>{let d=t.keyboard.lastFocusedNamespace();l===d&&c.isConnected&&(c.matches(":focus")||o.querySelector(`[data-namespace="${l}"]`)?.focus())},70):o.querySelector(`[data-namespace="${l}"]`)?.focus()});const a=new ZK(`${s}.output`,e,t.keyboard);return we(t.keyboard.key,l=>{if(l){const c=l.event,d=l.namespace;d===s?(c.key==="o"&&t.keyboard.onFocus(`${s}.output`,!0),c.key==="d"&&t.keyboard.onFocus(`${s}.details`,!0),c.preventDefault(),c.stopPropagation()):a.matches(d)&&a.handle(d,c,t.state)}}),(()=>{var l=rX(),c=o;return typeof c=="function"?ae(c,l):o=l,A(l,y(yr,{class:"relative h-full min-h-0 w-full flex-1 justify-end",get direction(){return i()},get children(){return[y(St,{index:0,get id(){return Gx.OutputLogItems},defaultState:{size:40},class:"flex flex-col",get children(){return y(gX,{get state(){return t.state},namespace:`${s}.output`})}}),y(St,{index:1,get id(){return Gx.OutputLogItemDetails},defaultState:{size:60},class:"flex flex-col",get children(){return y(mX,{get state(){return t.state},namespace:`${s}.details`})}})]}})),l})()}function gX(t){const e=Bd(),[r,n]=z(),i=vs(r),[o,s]=e.appSettings(),a=()=>o.list.fullSourceLinks,l=()=>o.list.context,c=()=>o.list.autoScroll,d=()=>o.list.itemIcon,u=Oa(),{list:f,containerProps:h,wrapperProps:g,scrollTo:p}=mc(()=>[...t.state.logEntries,{sentinel:!0}],{overscan:10,itemHeight:u});we(i.y,()=>{const k=r();if(!k||!t.state.logEntries.length)return;const _=k.scrollTop,v=k.scrollHeight,x=k.clientHeight,S=v-(_+x);!c()&&S<u/2?s("list","autoScroll",!0):c()&&S>u/2&&s("list","autoScroll",!1)}),we([()=>t.state.logEntries.length,c],()=>{if(c()){const k=r();k&&queueMicrotask(()=>{k.scrollTop=k.scrollHeight})}});const m=()=>{const k=[];return k.push({text:"Display icon for list items",action:()=>s("list","itemIcon",!d()),checked:d()}),k.push({text:"Display file name in source links",action:()=>s("list","fullSourceLinks",!a()),checked:a()}),k.push({text:"Display value context when available",action:()=>s("list","context",!l()),checked:l()}),k.push(eo),k.push({text:"Change date/time display mode",action:()=>e.changeDateDisplayMode()}),k.push(eo),k.push({text:"Clear list selection",action:t.state.selection?()=>e.clearListSelection():void 0,shortcut:"Escape"}),k},b=()=>{const k=t.state.logEntries[0];if(k)return k.log?.ts||k.error?.ts};return y(wr,{header:"Output",headerClass:"pl-2",get namespace(){return t.namespace},tooltip:'Go to Output panel <span class="keyboard-shortcut">G</span>&nbsp;<span class="keyboard-shortcut">O</span>',contentClass:"panel-font-size",nonNativeScrollbars:!0,scrollable:r,get icons(){return[y(se,{get classList(){return{"activeIcon codicon-lock":c(),"codicon-unlock":!c()}},onClick:()=>s("list","autoScroll",!c()),tabIndex:0,get namespace(){return`${t.namespace}.header.action`},get tooltip(){return"Turn Auto Scrolling "+(c()?"Off":"On")}}),y(se,{menuItems:m,class:"codicon-ellipsis",tabIndex:0,get namespace(){return`${t.namespace}.header.action`},tooltip:"More actions"})]},get children(){var k=nX(),_=k.firstChild,v=_.firstChild;return Ci(_,"scroll",h.onScroll),ae(x=>{n(x),h.ref(x)},_),A(v,y(It,{get each(){return f()},children:(x,S)=>y(qt,{get children(){return[y(Ce,{get when(){return x.data.log},get children(){return(()=>{const w=x.data,T=()=>!1;return(()=>{var L=sX(),E=L.firstChild,C=E.firstChild;return L.$$click=F=>e.selectLogEntry(w.log.id,F),A(E,y(V,{get when(){return d()},get children(){var F=oX();return oe($=>Et(F,{"codicon-broadcast":w.log.logPointSource==="network","codicon-debug-stackframe-active":w.log.logPointSource==="autoTrace"||w.log.logPointSource==="console.trace","codicon-debug-stackframe":w.log.logPointSource==="autoLog","codicon-watch":w.log.logPointSource==="console.time"||w.log.logPointSource==="console.timeEnd"||w.log.logPointSource==="autoTime","text-[--testing-icon-failed] codicon-error":w.log.logPointSource==="console.error","text-[--editor-warning-foreground] codicon-warning":w.log.logPointSource==="console.warn","text-[--subtle-foreground] codicon-info":w.log.logPointSource!=="console.error"&&w.log.logPointSource!=="console.warn"},$)),F}}),C),A(E,y(qx,{get state(){return t.state},get entry(){return w.log},get i(){return S()},get oldestEntryTs(){return b()}}),C),A(E,y(Hx,{get location(){return{file:w.log.file,line:w.log.line}},get cwd(){return t.state.cwd},get itemId(){return w.log.id},get namespace(){return t.namespace},get showLogsFullSourceLinks(){return a()},get maybeObsolete(){return T()},get showContext(){return l()},get context(){return w.log.args.map(F=>F.context).filter(F=>F!==void 0)}}),null),oe(F=>{var $=`${t.namespace}.content.item`,O=!!t.state.selection?.entries[w.log.id],M=t.state.selection?.latest===w.log.id,I=w.log.args.map(W=>W.preview.map(q=>`<span class="token-${q.type}">${q.value}</span>`).join("")).join("&nbsp;");return $!==F.e&&Me(L,"data-namespace",F.e=$),O!==F.t&&L.classList.toggle("selected",F.t=O),M!==F.a&&L.classList.toggle("selected-latest",F.a=M),I!==F.o&&(C.innerHTML=F.o=I),F},{e:void 0,t:void 0,a:void 0,o:void 0}),L})()})()}}),y(Ce,{get when(){return x.data.error},get children(){return(()=>{const w=x.data,T=()=>!1,L=()=>JK(w.error.stack[0]);return(()=>{var E=lX(),C=E.firstChild,F=C.firstChild,$=F.firstChild;return E.$$click=O=>e.selectLogEntry(w.error.id,O),A(C,y(V,{get when(){return d()},get children(){return aX()}}),F),A(C,y(qx,{get state(){return t.state},get entry(){return w.error},get i(){return S()},get oldestEntryTs(){return b()}}),F),A($,()=>w.error.message),A(C,y(Hx,{get location(){return L()},get cwd(){return t.state.cwd},get itemId(){return w.error.id},get namespace(){return t.namespace},get showLogsFullSourceLinks(){return a()},get maybeObsolete(){return T()}}),null),oe(O=>{var M=`${t.namespace}.content.item`,I=!!t.state.selection?.entries[w.error.id],W=t.state.selection?.latest===w.error.id;return M!==O.e&&Me(E,"data-namespace",O.e=M),I!==O.t&&E.classList.toggle("selected",O.t=I),W!==O.a&&E.classList.toggle("selected-latest",O.a=W),O},{e:void 0,t:void 0,a:void 0}),E})()})()}}),y(Ce,{get when(){return x.data.sentinel},get children(){var w=iX();return w.style.setProperty("pointer-events","none"),w}})]}})})),oe(x=>{var S={"[&_div.header]:pl-1.5":!d(),"[&_div.header]:pl-1":d()},w=h.style,T=g().style;return x.e=Et(_,S,x.e),x.t=dn(_,w,x.t),x.a=dn(v,T,x.a),x},{e:void 0,t:void 0,a:void 0}),k}})}function qx(t){return y(V,{get when(){return t.state.dateTimeFormat&&t.state.dateTimeFormat?.dateTimeDisplayMode!=="None"},get children(){var e=cX();return A(e,()=>pX(t.entry.ts,t.state.logEntries[t.i-1]?.log?.ts||0,t.oldestEntryTs||0,t.state.dateTimeFormat.dateTimeDisplayMode,t.state.dateTimeFormat.dateTimeFormat)),e}})}function pX(t,e,r,n,i){return n==="Relative To Oldest"?i_((r>0?`${Ux(t-r)}`:"").padEnd(6),6):n==="Relative To Previous"?i_((e>0?`${Ux(t-e)}`:"").padEnd(6),6):eX(new Date(t)).format(i)}function Hx(t){return y(V,{get when(){return t.location},get children(){var e=uX(),r=e.firstChild;return A(e,y(V,{get when(){return t.showContext&&t.context&&t.context.length>0},get children(){var n=dX();return A(n,()=>t.context.join(" ")),n}}),r),r.$$focusout=n=>n.target.setAttribute("tabindex","-2"),A(r,y(vi,{get id(){return`link-${t.itemId.toString()}`},preventClickDefault:!0,get value(){return{file:t.location.file,line:t.location.line}},get lineAndColumnOnly(){return!t.showLogsFullSourceLinks},class:"source-link select-none hover:underline",compactFileNameOnly:!0,get classList(){return{"[&_span]:!no-underline":t.maybeObsolete,"!cursor-default":t.maybeObsolete,"!text-[var(--subtle-foreground)]":t.maybeObsolete}},codeFragmentTooltipOptions:()=>t.maybeObsolete?void 0:{file:t.location.file,line:t.location.line,navigatable:!0,cwd:t.cwd}})),oe(()=>Me(r,"data-namespace",`${t.namespace}.content.list.item.link`)),e}})}function mX(t){const e=Bd(),[r,n]=e.appSettings(),i=()=>r.details.wordWrap,o=()=>(t.state.fontSize||parseFloat(getComputedStyle(document.body)?.getPropertyValue("--panel-font-size").split("px")[0]))-1;let s,a;const l=new vX,c=d=>{const u="plaintext",f=d.editor.createModel("",u);return d.languages.registerDocumentRangeSemanticTokensProvider(u,l),d.editor.create(s,{language:u,"semanticHighlighting.enabled":!0,model:f,automaticLayout:!0,minimap:{enabled:!1},contextmenu:!1,quickSuggestions:!1,parameterHints:{enabled:!1},readOnly:!0,fontSize:o(),fontFamily:"var(--editor-font-family)",renderLineHighlightOnlyWhenFocus:!0,renderLineHighlight:"line",matchBrackets:"never",glyphMargin:!1,lineNumbers:"off",folding:!0,detectIndentation:!1,guides:{indentation:!0,bracketPairs:!1,bracketPairsHorizontal:!1,highlightActiveBracketPair:!1,highlightActiveIndentation:!1},wordWrap:i()?"on":"off"})};return Vt(async()=>{try{const{monaco:d}=await qr(()=>import("./monaco-yhPQzIoc.js"),__vite__mapDeps([2,3]),import.meta.url);a=c(d),e.loadLogEntryDetails()}catch(d){console.error("Could not initialize Monaco",d)}}),we(()=>t.state.logEntries.length,()=>{t.state.selection||e.loadLogEntryDetails()}),we([()=>t.state.selection,()=>t.state.selection?.latest],()=>{e.loadLogEntryDetails(t.state.selection?.entries?Object.keys(t.state.selection.entries).map(d=>parseInt(d,10)):void 0)}),we([()=>t.state.details,()=>a],()=>{if(!(!a||!t.state.details||!a.getModel())){l.clear();for(const u of t.state.details.entries)l.addTokenizedEntry(u);a.setValue(l.text())}}),we([i,o],()=>{a&&a.updateOptions({wordWrap:i()?"on":"off",fontSize:o()})}),Xe(()=>{a&&(a.getModel()?.dispose(),a.dispose())}),y(wr,{header:"Details",headerClass:"pl-2",get namespace(){return t.namespace},tooltip:'Go to Details panel <span class="keyboard-shortcut">G</span>&nbsp;<span class="keyboard-shortcut">D</span>',contentClass:"panel-font-size",get icons(){return[y(se,{class:"codicon-word-wrap",get classList(){return{activeIcon:i()}},onClick:()=>{n("details","wordWrap",!i())},tabIndex:0,get namespace(){return`${t.namespace}.header.action`},get tooltip(){return"Turn Word Wrap "+(i()?"Off":"On")}}),y(se,{menuItems:()=>[],class:"codicon-ellipsis",tabIndex:0,get namespace(){return`${t.namespace}.header.action`},tooltip:"More actions"})]},get children(){var d=hX(),u=s;return typeof u=="function"?ae(u,d):s=d,d}})}class vX{_lines=[];_currentLineTokens=[];_tokenMap=new Map(Wx.map((e,r)=>[e,r]));_legend={tokenTypes:Wx.map(e=>`${tX}${e}`),tokenModifiers:[]};addTokenizedEntry(e){for(const r of e){for(const n of r)this.add(n);this.addLineBreak()}this.addLineBreak()}add(e){e.type==="linebreak"?this.addLineBreak():this._currentLineTokens.push(e)}addLineBreak(){this._currentLineTokens.length?(this._lines.push({tokens:this._currentLineTokens}),this._currentLineTokens=[]):this._lines.push({})}clear(){this._lines=[],this._currentLineTokens=[]}text(){return this._lines.map(e=>e.tokens?.map(r=>r.value).join("")??"").join(`
`)}provideDocumentRangeSemanticTokens(e,r,n){const i=[];let o=0,s=0;for(let a=r.startLineNumber-1;a<r.endLineNumber;a++){const l=this._lines[a];if(l?.tokens){let c=0;for(const d of l.tokens){const u=this._tokenMap.get(d.type);if(u!==void 0){const f=a-o;i.push(f,f===0?c-s:c,d.value.length,u,0),o=a,s=c}c+=d.value.length}}}return{data:new Uint32Array(i)}}getLegend(){return this._legend}}At(["click","focusout"]);var Vx=D('<div class="codicon codicon-loading codicon-modifier-spin icon-opacity">'),bX=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[var(--subtle-foreground)]"><div>'),jx=D('<div class="h-full w-full">'),_X=D("<div class=ml-2>Connecting"),yX=D('<div class="mx-auto my-auto flex h-full w-full items-center justify-center px-3 text-center text-[length:--header-font-size] uppercase tracking-wide text-[var(--subtle-foreground)]">'),wX=D("<div class=ml-1>Wallaby is paused");function wv(t){const[e,r]=z(void 0,{equals:!1}),[n,i]=z(void 0,{equals:!1}),[o,s]=z(void 0,{equals:!1}),a={key:e,focusedNamespace:n,lastFocusedNamespace:o,onFocus:(h,g)=>{s(h),g&&i(h)}};function l(){let h="overview";t.state.kind==="side-view"?h="details":t.state.kind==="quokka.output"?h="quokka.output":t.state.kind==="console-ninja.panel"&&(h="console-ninja.panel"),i(o()||h)}Vt(()=>window.addEventListener("focus",l)),Xe(()=>{window.removeEventListener("focus",l),u.unsubscribe()});function c(h,g){r({event:h,namespace:g})}function d(){l()}const u=N2.subscribe(()=>{try{const h=getComputedStyle(document.body)?.getPropertyValue("--editor-ruler-foreground"),g=getComputedStyle(document.body)?.getPropertyValue("--panel-view-native-background");h&&g&&document.documentElement.style.setProperty("--log-viewer-ruler",g9(h,g))}catch(h){console.error(h)}}),f=U(()=>t.state.kind==="console-ninja.panel"?Bd():Ge());return y(R0,{get values(){return[[t9,f()],[r9,f()]]},get children(){return[y(M9,{onKeyPress:c,onFocus:d}),y(V,{get when(){return t.state.shortcuts},get children(){return y(WK,{get state(){return t.state.shortcuts},keyboard:a})}}),y(V,{get when(){return t.state.reconnectingAfterRestart||t.state.failedToReconnectAfterRestart},get fallback(){return y(V,{get when(){return!t.state.connecting&&!t.state.pausedState?.pausedByUser},get fallback(){return(()=>{var h=yX();return A(h,y(yi,{get when(){return!t.state.connecting},get fallback(){return Vx()},get children(){return y(se,{tooltip:"Resume Wallaby",tabIndex:0,class:"codicon codicon-play icon-opacity !p-[0.08rem] !pb-[0.1rem] !pr-0 !text-[length:--panel-larger-font-size] !text-[var(--testing-icon-passed)] hover:!text-[--input-option-active-foreground]",onClick:()=>{t.state.pausedState?.pausedByUser&&J5()?.resume()}})}}),null),A(h,y(yi,{get when(){return t.state.connecting},get fallback(){return wX()},get children(){return _X()}}),null),oe(()=>h.classList.toggle("background",t.state.kind==="side-view")),h})()},get children(){return[y(qt,{get children(){return[y(Ce,{get when(){return t.state.kind!=="console-ninja.panel"},get children(){return y(R0,{values:[[L9,void 0],[I9,void 0]],get children(){return y(qt,{get children(){return[y(Ce,{get when(){return t.state.kind==="side-view"},get children(){var h=jx();return A(h,y(an,{constructor:Dt,get initial(){return{project:t.state.project,fileCoverageTableSort:{field:"coverageValue",direction:"asc"},selection:{implicit:{}},debuggerState:t.state.debuggerState,tests:{searchControlVisible:!0},testFileProgressByFile:{}}},view:g=>y(Do,{get parent(){return g.state},state:p=>p,get setState(){return g.setState},view:p=>y(NC,{get state(){return p.state},keyboard:a})})})),oe(()=>h.classList.toggle("pl-[0.0625rem]",t.state.editor==="vscode")),h}}),y(Ce,{get when(){return t.state.kind==="overview"},get children(){var h=jx();return A(h,y(an,{constructor:zb,get initial(){return{selection:{test:"allLogsAndErrors",implicit:{}},debuggerState:t.state.debuggerState,startupEvents:[],tests:{searchControlVisible:!0},testFileProgressByFile:{}}},view:g=>y(Do,{get parent(){return g.state},state:p=>p,get setState(){return g.setState},view:p=>y(VC,{get state(){return p.state},keyboard:a})})})),h}}),y(Ce,{get when(){return t.state.kind==="standalone"},get children(){return y(an,{get initial(){return{notifications:(t.state.notifications||[]).map((h,g)=>({...h,displayId:g}))}},constructor:zC,view:h=>y(Wz,{get state(){return h.state},get app(){return t.state},keyboard:a})})}}),y(Ce,{get when(){return t.state.kind==="log"||t.state.kind==="quokka.log"},get children(){return y(an,{constructor:GC,get initial(){return{file:new URLSearchParams(window.location.search).get("file")||"",id:new URLSearchParams(window.location.search).get("id")||"",range:new URLSearchParams(window.location.search).get("range")||"",selection:{implicit:{}},isQuokka:t.state.kind==="quokka.log"}},view:h=>y(Do,{get parent(){return h.state},state:g=>g,get setState(){return h.setState},view:g=>y(AH,{get state(){return g.state},keyboard:a})})})}}),y(Ce,{get when(){return t.state.kind==="quokka.output"},get children(){return y(an,{constructor:KC,get initial(){return{selection:{implicit:{}},config:t.state.quokkaConfig,debuggerState:t.state.debuggerState}},view:h=>y(Do,{get parent(){return h.state},state:g=>g,get setState(){return h.setState},view:g=>y(vK,{get state(){return g.state},keyboard:a})})})}})]}})}})}}),y(Ce,{get when(){return t.state.kind==="console-ninja.panel"},get children(){return y(fX,{get state(){return t.state},keyboard:a})}})]}}),y(u9,{})]}})},get children(){var h=bX(),g=h.firstChild;return A(h,y(V,{get when(){return t.state.reconnectingAfterRestart},get children(){return Vx()}}),g),A(g,()=>t.state.reconnectingAfterRestart?"Updating ...":"Start again and reload the page"),oe(p=>{var m=t.state.kind==="side-view",b=!!t.state.reconnectingAfterRestart;return m!==p.e&&h.classList.toggle("background",p.e=m),b!==p.t&&g.classList.toggle("ml-2",p.t=b),p},{e:void 0,t:void 0}),h}})]}})}var kX=D('<div class="h-full w-full">');function SX(t){return y(It,{get each(){return t.state.appStates},children:e=>(()=>{var r=kX();return A(r,y(an,{constructor:Sc,initial:e,view:wv})),oe(()=>r.classList.toggle("hidden",e.network?.port!==t.state.currentAddress.port||e.network?.secret!==t.state.currentAddress.secret)),r})()})}class QC{constructor(e,r){this._state=e,this._setState=r,this._windowMessageHandler=this._handleWindowMessage.bind(this),window.addEventListener("message",this._windowMessageHandler)}_windowMessageHandler;_handleWindowMessage(e){const{data:r}=e;if(r.type==="activate"){let n=this._state.appStates.find(i=>i.network?.port===r.address.port&&i.network?.secret===r.address.secret);n||(n={kind:"quokka.output",editor:"vscode",connecting:!0,network:r.address,sideViewScreen:{name:Ye.Logs},status:{state:"starting",firstTestResultAvailable:!1,longRunningOperation:!1,troubleshootingHint:[]},testFiles:[]},this._setState("appStates",i=>[...i,n])),this._setState("currentAddress",je(r.address))}else r.type==="remove"&&this._setState("appStates",je(this._state.appStates.filter(n=>n.network?.port!==r.address.port||n.network?.secret!==r.address.secret)))}dispose(){window.removeEventListener("message",this._windowMessageHandler)}static Provider}const[xX,LX]=Ar(t=>t.initial);QC.Provider=xX;let on=window["wallaby-bootstrapper"],kv,Sv,nc,ic,oc,e4;const $n=new URLSearchParams(window.location.search);if(on?.editor==="vscode")kv=on.scheme==="https",Sv=on.host,nc=on.port,ic=on.secret,e4=on.location,oc="vscode",on.checkTimers&&await xL();else switch(Sv=window.location.hostname,kv=window.location.protocol==="https:",ic=$n.get("secret"),nc=$n.has("port")?+$n.get("port"):window.location.port?+window.location.port:void 0,$n.get("editor")){case"intellij":oc="intellij";break}let Ho="standalone";on?Ho=on.context=="console-ninja.panel"?"console-ninja.panel":on.context=="overview"?"overview":on.context=="quokka.output"?"quokka.output":"side-view":Ho=$n.has("overview")?"overview":$n.has("side-view")?"side-view":$n.has("log")?"log":$n.has("quokka.log")?"quokka.log":$n.has("quokka.output")?"quokka.output":"standalone";if(Ho==="standalone")await qr(()=>Promise.resolve({}),__vite__mapDeps([4]),import.meta.url);else{const t=document.querySelector(":root");t?.classList.add("integrated"),e4==="editor"&&t?.classList.add("editor")}T4(()=>{const t=e=>{const r=Ho==="quokka.output"&&oc==="vscode",n=Ho==="console-ninja.panel",i={kind:Ho,editor:oc,connecting:!0,network:{isSecure:kv,host:Sv,port:nc,secret:ic},sideViewScreen:{name:Ye.Logs},status:{state:"starting",firstTestResultAvailable:!1,longRunningOperation:!1,troubleshootingHint:[]},testFiles:[],logEntries:[],cwd:""};return r?y(an,{constructor:QC,initial:{currentAddress:{port:nc,secret:ic},appStates:[i]},view:SX}):n?y(an,{constructor:JC,initial:i,view:wv}):y(an,{constructor:Sc,initial:i,view:wv})};return y(s6,{get children(){return y(Z4,{path:"/*",component:t})}})},document.getElementById("root"));export{oT as a,Wx as b,N2 as c,O8 as d,b7 as g,sT as l,Ym as m,tX as s};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./styles-VMq7AoAs.css","./styles-mWQJIPwz.css","./monaco-yhPQzIoc.js","./monaco-SPHM1Okm.css","./styles-NY7NGX-E.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
