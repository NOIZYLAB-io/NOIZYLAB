"use strict";var mt=Object.defineProperty;var yt=(v,m,c)=>m in v?mt(v,m,{enumerable:!0,configurable:!0,writable:!0,value:c}):v[m]=c;var n=(v,m,c)=>(yt(v,typeof m!="symbol"?m+"":m,c),c);exports.id=953,exports.ids=[953],exports.modules={40953:(v,m,c)=>{c.d(m,{CreateTokenCommand:()=>ue,SSOOIDCClient:()=>he});var V=c(59133),ye=c(45165),ve=c(97983),_=c(65439),E=c(45429),w=c(64470),xe=c(5655),B=c(84003),P=c(30924),r=c(27792),Se=c(59433),Z=c(59897);const fe=async(e,o,t)=>({operation:(0,Z.u)(o).operation,region:await(0,Z.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ge(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(o,t)=>({signingProperties:{config:o,context:t}})}}function Ee(e){return{schemeId:"smithy.api#noAuth"}}const we=e=>{const o=[];switch(e.operation){case"CreateToken":{o.push(Ee(e));break}default:o.push(ge(e))}return o},Ie=e=>({...(0,Se.h)(e)}),Pe=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),Ce={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var Te=c(85485),Ae=c(50696),J=c(73637),be=c(35399),x=c(44773),L=c(6633),$e=c(69723),De=c(78589),Re=c(60914),Oe=c(17307),N=c(21654),W=c(11347),je=c(3086),T=c(5559);const Y="required",l="fn",p="argv",S="ref",X=!0,Q="isSet",I="booleanEquals",f="error",g="endpoint",y="tree",A="PartitionResult",b="getAttr",q={[Y]:!1,type:"String"},ee={[Y]:!0,default:!1,type:"Boolean"},te={[S]:"Endpoint"},re={[l]:I,[p]:[{[S]:"UseFIPS"},!0]},oe={[l]:I,[p]:[{[S]:"UseDualStack"},!0]},h={},ne={[l]:b,[p]:[{[S]:A},"supportsFIPS"]},se={[S]:A},ie={[l]:I,[p]:[!0,{[l]:b,[p]:[se,"supportsDualStack"]}]},ce=[re],ae=[oe],de=[{[S]:"Region"}],ke={version:"1.0",parameters:{Region:q,UseDualStack:ee,UseFIPS:ee,Endpoint:q},rules:[{conditions:[{[l]:Q,[p]:[te]}],rules:[{conditions:ce,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:f},{conditions:ae,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:f},{endpoint:{url:te,properties:h,headers:h},type:g}],type:y},{conditions:[{[l]:Q,[p]:de}],rules:[{conditions:[{[l]:"aws.partition",[p]:de,assign:A}],rules:[{conditions:[re,oe],rules:[{conditions:[{[l]:I,[p]:[X,ne]},ie],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:h,headers:h},type:g}],type:y},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:f}],type:y},{conditions:ce,rules:[{conditions:[{[l]:I,[p]:[ne,X]}],rules:[{conditions:[{[l]:"stringEquals",[p]:[{[l]:b,[p]:[se,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:h,headers:h},type:g},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:h,headers:h},type:g}],type:y},{error:"FIPS is enabled but this partition does not support FIPS",type:f}],type:y},{conditions:ae,rules:[{conditions:[ie],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:h,headers:h},type:g}],type:y},{error:"DualStack is enabled but this partition does not support DualStack",type:f}],type:y},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:h,headers:h},type:g}],type:y}],type:y},{error:"Invalid Configuration: Missing Region",type:f}]},ze=new T.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Ke=(e,o={})=>ze.get(e,()=>(0,T.sO)(ke,{endpointParams:e,logger:o.logger}));T.mw.aws=je.UF;const Ue=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??N.E,base64Encoder:e?.base64Encoder??N.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ke,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??we,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4"),signer:new Re.f2},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new w.mR}],logger:e?.logger??new r.N4,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Oe.D,utf8Decoder:e?.utf8Decoder??W.ar,utf8Encoder:e?.utf8Encoder??W.Pq});var He=c(88727);const Me=e=>{(0,r.I9)(process.version);const o=(0,He.I)(e),t=()=>o().then(r.lT),i=Ue(e);(0,Ae.I)(process.version);const s={profile:e?.profile};return{...i,...e,runtime:"node",defaultsMode:o,bodyLengthChecker:e?.bodyLengthChecker??$e.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,J.pf)({serviceId:i.serviceId,clientVersion:Te.rE}),maxAttempts:e?.maxAttempts??(0,x.Z)(P.qs,e),region:e?.region??(0,x.Z)(E.GG,{...E.zH,...s}),requestHandler:L.$c.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,x.Z)({...P.kN,default:async()=>(await t()).retryMode||De.L0},e),sha256:e?.sha256??be.V.bind(null,"sha256"),streamCollector:e?.streamCollector??L.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,x.Z)(E.e$,s),useFipsEndpoint:e?.useFipsEndpoint??(0,x.Z)(E.Ko,s),userAgentAppId:e?.userAgentAppId??(0,x.Z)(J.hV,s)}};var le=c(58390),pe=c(17365);const Fe=e=>{const o=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,i=e.credentials;return{setHttpAuthScheme(s){const a=o.findIndex(G=>G.schemeId===s.schemeId);a===-1?o.push(s):o.splice(a,1,s)},httpAuthSchemes(){return o},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){i=s},credentials(){return i}}},Ge=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),C=e=>e,Ve=(e,o)=>{const t={...C((0,le.Rq)(e)),...C((0,r.xA)(e)),...C((0,pe.eS)(e)),...C(Fe(e))};return o.forEach(i=>i.configure(t)),{...e,...(0,le.$3)(t),...(0,r.uv)(t),...(0,pe.jt)(t),...Ge(t)}};class he extends r.Kj{constructor(...[t]){const i=Me(t||{}),s=Pe(i),a=(0,_.Dc)(s),G=(0,P.$z)(a),dt=(0,E.TD)(G),lt=(0,V.OV)(dt),pt=(0,B.Co)(lt),ht=Ie(pt),me=Ve(ht,t?.extensions||[]);super(me);n(this,"config");this.config=me,this.middlewareStack.use((0,_.sM)(this.config)),this.middlewareStack.use((0,P.ey)(this.config)),this.middlewareStack.use((0,xe.vK)(this.config)),this.middlewareStack.use((0,V.TC)(this.config)),this.middlewareStack.use((0,ye.Y7)(this.config)),this.middlewareStack.use((0,ve.n4)(this.config)),this.middlewareStack.use((0,w.wB)(this.config,{httpAuthSchemeParametersProvider:fe,identityProviderConfigProvider:async ut=>new w.h$({"aws.auth#sigv4":ut.credentials})})),this.middlewareStack.use((0,w.lW)(this.config))}destroy(){super.destroy()}}var _e=c(2818);class d extends r.TJ{constructor(o){super(o),Object.setPrototypeOf(this,d.prototype)}}class $ extends d{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t});n(this,"name","AccessDeniedException");n(this,"$fault","client");n(this,"error");n(this,"error_description");Object.setPrototypeOf(this,$.prototype),this.error=t.error,this.error_description=t.error_description}}class D extends d{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t});n(this,"name","AuthorizationPendingException");n(this,"$fault","client");n(this,"error");n(this,"error_description");Object.setPrototypeOf(this,D.prototype),this.error=t.error,this.error_description=t.error_description}}const Be=e=>({...e,...e.clientSecret&&{clientSecret:r.$H},...e.refreshToken&&{refreshToken:r.$H},...e.codeVerifier&&{codeVerifier:r.$H}}),Ze=e=>({...e,...e.accessToken&&{accessToken:r.$H},...e.refreshToken&&{refreshToken:r.$H},...e.idToken&&{idToken:r.$H}});class R extends d{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t});n(this,"name","ExpiredTokenException");n(this,"$fault","client");n(this,"error");n(this,"error_description");Object.setPrototypeOf(this,R.prototype),this.error=t.error,this.error_description=t.error_description}}class O extends d{constructor(t){super({name:"InternalServerException",$fault:"server",...t});n(this,"name","InternalServerException");n(this,"$fault","server");n(this,"error");n(this,"error_description");Object.setPrototypeOf(this,O.prototype),this.error=t.error,this.error_description=t.error_description}}class j extends d{constructor(t){super({name:"InvalidClientException",$fault:"client",...t});n(this,"name","InvalidClientException");n(this,"$fault","client");n(this,"error");n(this,"error_description");Object.setPrototypeOf(this,j.prototype),this.error=t.error,this.error_description=t.error_description}}class k extends d{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t});n(this,"name","InvalidGrantException");n(this,"$fault","client");n(this,"error");n(this,"error_description");Object.setPrototypeOf(this,k.prototype),this.error=t.error,this.error_description=t.error_description}}class z extends d{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});n(this,"name","InvalidRequestException");n(this,"$fault","client");n(this,"error");n(this,"error_description");Object.setPrototypeOf(this,z.prototype),this.error=t.error,this.error_description=t.error_description}}class K extends d{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t});n(this,"name","InvalidScopeException");n(this,"$fault","client");n(this,"error");n(this,"error_description");Object.setPrototypeOf(this,K.prototype),this.error=t.error,this.error_description=t.error_description}}class U extends d{constructor(t){super({name:"SlowDownException",$fault:"client",...t});n(this,"name","SlowDownException");n(this,"$fault","client");n(this,"error");n(this,"error_description");Object.setPrototypeOf(this,U.prototype),this.error=t.error,this.error_description=t.error_description}}class H extends d{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t});n(this,"name","UnauthorizedClientException");n(this,"$fault","client");n(this,"error");n(this,"error_description");Object.setPrototypeOf(this,H.prototype),this.error=t.error,this.error_description=t.error_description}}class M extends d{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t});n(this,"name","UnsupportedGrantTypeException");n(this,"$fault","client");n(this,"error");n(this,"error_description");Object.setPrototypeOf(this,M.prototype),this.error=t.error,this.error_description=t.error_description}}var F=c(3101);const Je=async(e,o)=>{const t=(0,w.lI)(e,o),i={"content-type":"application/json"};t.bp("/token");let s;return s=JSON.stringify((0,r.s)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:a=>(0,r.Ss)(a)})),t.m("POST").h(i).b(s),t.build()},Le=async(e,o)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ne(e,o);const t=(0,r.Tj)({$metadata:u(e)}),i=(0,r.Y0)((0,r.Xk)(await(0,F.Y2)(e.body,o)),"body"),s=(0,r.s)(i,{accessToken:r.lK,expiresIn:r.ET,idToken:r.lK,refreshToken:r.lK,tokenType:r.lK});return Object.assign(t,s),t},Ne=async(e,o)=>{const t={...e,body:await(0,F.CG)(e.body,o)},i=(0,F.cJ)(e,t.body);switch(i){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Ye(t,o);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Xe(t,o);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Qe(t,o);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await qe(t,o);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await et(t,o);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await tt(t,o);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await rt(t,o);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await ot(t,o);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await nt(t,o);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await st(t,o);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await it(t,o);default:const s=t.body;return We({output:e,parsedBody:s,errorCode:i})}},We=(0,r.jr)(d),Ye=async(e,o)=>{const t=(0,r.Tj)({}),i=e.body,s=(0,r.s)(i,{error:r.lK,error_description:r.lK});Object.assign(t,s);const a=new $({$metadata:u(e),...t});return(0,r.Mw)(a,e.body)},Xe=async(e,o)=>{const t=(0,r.Tj)({}),i=e.body,s=(0,r.s)(i,{error:r.lK,error_description:r.lK});Object.assign(t,s);const a=new D({$metadata:u(e),...t});return(0,r.Mw)(a,e.body)},Qe=async(e,o)=>{const t=(0,r.Tj)({}),i=e.body,s=(0,r.s)(i,{error:r.lK,error_description:r.lK});Object.assign(t,s);const a=new R({$metadata:u(e),...t});return(0,r.Mw)(a,e.body)},qe=async(e,o)=>{const t=(0,r.Tj)({}),i=e.body,s=(0,r.s)(i,{error:r.lK,error_description:r.lK});Object.assign(t,s);const a=new O({$metadata:u(e),...t});return(0,r.Mw)(a,e.body)},et=async(e,o)=>{const t=(0,r.Tj)({}),i=e.body,s=(0,r.s)(i,{error:r.lK,error_description:r.lK});Object.assign(t,s);const a=new j({$metadata:u(e),...t});return(0,r.Mw)(a,e.body)},tt=async(e,o)=>{const t=(0,r.Tj)({}),i=e.body,s=(0,r.s)(i,{error:r.lK,error_description:r.lK});Object.assign(t,s);const a=new k({$metadata:u(e),...t});return(0,r.Mw)(a,e.body)},rt=async(e,o)=>{const t=(0,r.Tj)({}),i=e.body,s=(0,r.s)(i,{error:r.lK,error_description:r.lK});Object.assign(t,s);const a=new z({$metadata:u(e),...t});return(0,r.Mw)(a,e.body)},ot=async(e,o)=>{const t=(0,r.Tj)({}),i=e.body,s=(0,r.s)(i,{error:r.lK,error_description:r.lK});Object.assign(t,s);const a=new K({$metadata:u(e),...t});return(0,r.Mw)(a,e.body)},nt=async(e,o)=>{const t=(0,r.Tj)({}),i=e.body,s=(0,r.s)(i,{error:r.lK,error_description:r.lK});Object.assign(t,s);const a=new U({$metadata:u(e),...t});return(0,r.Mw)(a,e.body)},st=async(e,o)=>{const t=(0,r.Tj)({}),i=e.body,s=(0,r.s)(i,{error:r.lK,error_description:r.lK});Object.assign(t,s);const a=new H({$metadata:u(e),...t});return(0,r.Mw)(a,e.body)},it=async(e,o)=>{const t=(0,r.Tj)({}),i=e.body,s=(0,r.s)(i,{error:r.lK,error_description:r.lK});Object.assign(t,s);const a=new M({$metadata:u(e),...t});return(0,r.Mw)(a,e.body)},u=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xt=(e,o)=>collectBody(e,o).then(t=>o.utf8Encoder(t));class ue extends r.uB.classBuilder().ep(Ce).m(function(o,t,i,s){return[(0,_e.TM)(i,this.serialize,this.deserialize),(0,B.rD)(i,o.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Be,Ze).ser(Je).de(Le).build(){}const ct={CreateTokenCommand:ue};class at extends he{}(0,r.J1)(ct,at)},85485:v=>{v.exports={rE:"3.730.0"}}};
