"use strict";var mt=Object.defineProperty;var pt=(g,u,n)=>u in g?mt(g,u,{enumerable:!0,configurable:!0,writable:!0,value:n}):g[u]=n;var h=(g,u,n)=>(pt(g,typeof u!="symbol"?u+"":u,n),n);exports.id=4875,exports.ids=[4875],exports.modules={4875:(g,u,n)=>{n.d(u,{GetRoleCredentialsCommand:()=>we,SSOClient:()=>rt});var P=n(63850),L=n(28064),o=n(74972);const M=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),U={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class y extends o.TJ{constructor(s){super(s),Object.setPrototypeOf(this,y.prototype)}}class w extends y{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});h(this,"name","InvalidRequestException");h(this,"$fault","client");Object.setPrototypeOf(this,w.prototype)}}class O extends y{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t});h(this,"name","ResourceNotFoundException");h(this,"$fault","client");Object.setPrototypeOf(this,O.prototype)}}class N extends y{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t});h(this,"name","TooManyRequestsException");h(this,"$fault","client");Object.setPrototypeOf(this,N.prototype)}}class D extends y{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t});h(this,"name","UnauthorizedException");h(this,"$fault","client");Object.setPrototypeOf(this,D.prototype)}}const ye=e=>({...e,...e.accessToken&&{accessToken:o.$H}}),Se=e=>({...e,...e.secretAccessKey&&{secretAccessKey:o.$H},...e.sessionToken&&{sessionToken:o.$H}}),ve=e=>({...e,...e.roleCredentials&&{roleCredentials:Se(e.roleCredentials)}}),gt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),yt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),St=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}});var F=n(48839),fe=n(24452);const xe=async(e,s)=>{const t=(0,fe.l)(e,s),a=(0,o.Tj)({},o.eU,{[b]:e[I]});t.bp("/federation/credentials");const r=(0,o.Tj)({[Te]:[,(0,o.Y0)(e[Ae],"roleName")],[V]:[,(0,o.Y0)(e[G],"accountId")]});let i;return t.m("GET").h(a).q(r).b(i),t.build()},vt=async(e,s)=>{const t=rb(e,s),a=map({},isSerializableHeaderValue,{[b]:e[I]});t.bp("/assignment/roles");const r=map({[Y]:[,e[Z]],[K]:[()=>e.maxResults!==void 0,()=>e[B].toString()],[V]:[,__expectNonNull(e[G],"accountId")]});let i;return t.m("GET").h(a).q(r).b(i),t.build()},ft=async(e,s)=>{const t=rb(e,s),a=map({},isSerializableHeaderValue,{[b]:e[I]});t.bp("/assignment/accounts");const r=map({[Y]:[,e[Z]],[K]:[()=>e.maxResults!==void 0,()=>e[B].toString()]});let i;return t.m("GET").h(a).q(r).b(i),t.build()},xt=async(e,s)=>{const t=rb(e,s),a=map({},isSerializableHeaderValue,{[b]:e[I]});t.bp("/logout");let r;return t.m("POST").h(a).b(r),t.build()},Ee=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return C(e,s);const t=(0,o.Tj)({$metadata:p(e)}),a=(0,o.Y0)((0,o.Xk)(await(0,F.Y2)(e.body,s)),"body"),r=(0,o.s)(a,{roleCredentials:o.Ss});return Object.assign(t,r),t},Et=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return C(e,s);const t=map({$metadata:p(e)}),a=__expectNonNull(__expectObject(await parseBody(e.body,s)),"body"),r=take(a,{nextToken:__expectString,roleList:_json});return Object.assign(t,r),t},Rt=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return C(e,s);const t=map({$metadata:p(e)}),a=__expectNonNull(__expectObject(await parseBody(e.body,s)),"body"),r=take(a,{accountList:_json,nextToken:__expectString});return Object.assign(t,r),t},Pt=async(e,s)=>{if(e.statusCode!==200&&e.statusCode>=300)return C(e,s);const t=map({$metadata:p(e)});return await collectBody(e.body,s),t},C=async(e,s)=>{const t={...e,body:await(0,F.CG)(e.body,s)},a=(0,F.cJ)(e,t.body);switch(a){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Pe(t,s);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Ce(t,s);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Ie(t,s);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await be(t,s);default:const r=t.body;return Re({output:e,parsedBody:r,errorCode:a})}},Re=(0,o.jr)(y),Pe=async(e,s)=>{const t=(0,o.Tj)({}),a=e.body,r=(0,o.s)(a,{message:o.lK});Object.assign(t,r);const i=new w({$metadata:p(e),...t});return(0,o.Mw)(i,e.body)},Ce=async(e,s)=>{const t=(0,o.Tj)({}),a=e.body,r=(0,o.s)(a,{message:o.lK});Object.assign(t,r);const i=new O({$metadata:p(e),...t});return(0,o.Mw)(i,e.body)},Ie=async(e,s)=>{const t=(0,o.Tj)({}),a=e.body,r=(0,o.s)(a,{message:o.lK});Object.assign(t,r);const i=new N({$metadata:p(e),...t});return(0,o.Mw)(i,e.body)},be=async(e,s)=>{const t=(0,o.Tj)({}),a=e.body,r=(0,o.s)(a,{message:o.lK});Object.assign(t,r);const i=new D({$metadata:p(e),...t});return(0,o.Mw)(i,e.body)},p=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Ct=(e,s)=>collectBody(e,s).then(t=>s.utf8Encoder(t)),G="accountId",I="accessToken",V="account_id",B="maxResults",K="max_result",Z="nextToken",Y="next_token",Ae="roleName",Te="role_name",b="x-amz-sso_bearer_token";class we extends o.uB.classBuilder().ep(U).m(function(s,t,a,r){return[(0,L.TM)(a,this.serialize,this.deserialize),(0,P.rD)(a,s.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(ye,ve).ser(xe).de(Ee).build(){}var J=n(56975),Oe=n(84215),Ne=n(53905),W=n(37641),E=n(66231),De=n(46364),Fe=n(91708),ze=n(71516),je=n(24209),A=n(99010),He=n(63155),z=n(44951);const $e=async(e,s,t)=>({operation:(0,z.u)(s).operation,region:await(0,z.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ke(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(s,t)=>({signingProperties:{config:s,context:t}})}}function T(e){return{schemeId:"smithy.api#noAuth"}}const Le=e=>{const s=[];switch(e.operation){case"GetRoleCredentials":{s.push(T(e));break}case"ListAccountRoles":{s.push(T(e));break}case"ListAccounts":{s.push(T(e));break}case"Logout":{s.push(T(e));break}default:s.push(ke(e))}return s},Me=e=>{const s=(0,He.h)(e);return Object.assign(s,{authSchemePreference:(0,z.t)(e.authSchemePreference??[])})},Ue={rE:"3.848.0"};var Ge=n(28090),Ve=n(3168),X=n(31775),Be=n(72397),S=n(86443),q=n(14615),Ke=n(99065),Ze=n(87235),Ye=n(34732),Je=n(59480),We=n(3721),Q=n(43380),_=n(26021),Xe=n(2683),j=n(26313);const ee="required",d="fn",c="argv",v="ref",te=!0,se="isSet",R="booleanEquals",f="error",x="endpoint",m="tree",H="PartitionResult",$="getAttr",ne={[ee]:!1,type:"String"},oe={[ee]:!0,default:!1,type:"Boolean"},ae={[v]:"Endpoint"},re={[d]:R,[c]:[{[v]:"UseFIPS"},!0]},ie={[d]:R,[c]:[{[v]:"UseDualStack"},!0]},l={},de={[d]:$,[c]:[{[v]:H},"supportsFIPS"]},ce={[v]:H},le={[d]:R,[c]:[!0,{[d]:$,[c]:[ce,"supportsDualStack"]}]},ue=[re],he=[ie],me=[{[v]:"Region"}],qe={version:"1.0",parameters:{Region:ne,UseDualStack:oe,UseFIPS:oe,Endpoint:ne},rules:[{conditions:[{[d]:se,[c]:[ae]}],rules:[{conditions:ue,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:f},{conditions:he,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:f},{endpoint:{url:ae,properties:l,headers:l},type:x}],type:m},{conditions:[{[d]:se,[c]:me}],rules:[{conditions:[{[d]:"aws.partition",[c]:me,assign:H}],rules:[{conditions:[re,ie],rules:[{conditions:[{[d]:R,[c]:[te,de]},le],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:x}],type:m},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:f}],type:m},{conditions:ue,rules:[{conditions:[{[d]:R,[c]:[de,te]}],rules:[{conditions:[{[d]:"stringEquals",[c]:[{[d]:$,[c]:[ce,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:l,headers:l},type:x},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:x}],type:m},{error:"FIPS is enabled but this partition does not support FIPS",type:f}],type:m},{conditions:he,rules:[{conditions:[le],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:x}],type:m},{error:"DualStack is enabled but this partition does not support DualStack",type:f}],type:m},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:x}],type:m}],type:m},{error:"Invalid Configuration: Missing Region",type:f}]},Qe=new j.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),_e=(e,s={})=>Qe.get(e,()=>(0,j.sO)(qe,{endpointParams:e,logger:s.logger}));j.mw.aws=Xe.UF;const et=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Q.E,base64Encoder:e?.base64Encoder??Q.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??_e,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Le,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4"),signer:new Ye.f2},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Je.m}],logger:e?.logger??new o.N4,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??We.D,utf8Decoder:e?.utf8Decoder??_.ar,utf8Encoder:e?.utf8Encoder??_.Pq});var tt=n(60409);const st=e=>{(0,o.I9)(process.version);const s=(0,tt.I)(e),t=()=>s().then(o.lT),a=et(e);(0,Ge.I)(process.version);const r={profile:e?.profile,logger:a.logger};return{...a,...e,runtime:"node",defaultsMode:s,authSchemePreference:e?.authSchemePreference??(0,S.Z)(Ve.$,r),bodyLengthChecker:e?.bodyLengthChecker??Ke.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,X.pf)({serviceId:a.serviceId,clientVersion:Ue.rE}),maxAttempts:e?.maxAttempts??(0,S.Z)(A.qs,e),region:e?.region??(0,S.Z)(E.GG,{...E.zH,...r}),requestHandler:q.$c.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,S.Z)({...A.kN,default:async()=>(await t()).retryMode||Ze.L0},e),sha256:e?.sha256??Be.V.bind(null,"sha256"),streamCollector:e?.streamCollector??q.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,S.Z)(E.e$,r),useFipsEndpoint:e?.useFipsEndpoint??(0,S.Z)(E.Ko,r),userAgentAppId:e?.userAgentAppId??(0,S.Z)(X.hV,r)}};var pe=n(99624),ge=n(82831);const nt=e=>{const s=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,a=e.credentials;return{setHttpAuthScheme(r){const i=s.findIndex(k=>k.schemeId===r.schemeId);i===-1?s.push(r):s.splice(i,1,r)},httpAuthSchemes(){return s},setHttpAuthSchemeProvider(r){t=r},httpAuthSchemeProvider(){return t},setCredentials(r){a=r},credentials(){return a}}},ot=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),at=(e,s)=>{const t=Object.assign((0,pe.Rq)(e),(0,o.xA)(e),(0,ge.eS)(e),nt(e));return s.forEach(a=>a.configure(t)),Object.assign(e,(0,pe.$3)(t),(0,o.uv)(t),(0,ge.jt)(t),ot(t))};class rt extends o.Kj{constructor(...[t]){const a=st(t||{});super(a);h(this,"config");this.initConfig=a;const r=M(a),i=(0,W.Dc)(r),k=(0,A.$z)(i),it=(0,E.TD)(k),dt=(0,J.OV)(it),ct=(0,P.Co)(dt),lt=Me(ct),ut=at(lt,t?.extensions||[]);this.config=ut,this.middlewareStack.use((0,W.sM)(this.config)),this.middlewareStack.use((0,A.ey)(this.config)),this.middlewareStack.use((0,je.vK)(this.config)),this.middlewareStack.use((0,J.TC)(this.config)),this.middlewareStack.use((0,Oe.Y7)(this.config)),this.middlewareStack.use((0,Ne.n4)(this.config)),this.middlewareStack.use((0,De.w)(this.config,{httpAuthSchemeParametersProvider:$e,identityProviderConfigProvider:async ht=>new Fe.h({"aws.auth#sigv4":ht.credentials})})),this.middlewareStack.use((0,ze.l)(this.config))}destroy(){super.destroy()}}},59480:(g,u,n)=>{n.d(u,{m:()=>P});class P{async sign(o,M,U){return o}}}};
