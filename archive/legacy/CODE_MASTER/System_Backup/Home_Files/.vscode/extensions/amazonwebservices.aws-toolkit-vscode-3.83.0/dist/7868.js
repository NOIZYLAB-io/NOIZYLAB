"use strict";var xt=Object.defineProperty;var ft=(S,p,s)=>p in S?xt(S,p,{enumerable:!0,configurable:!0,writable:!0,value:s}):S[p]=s;var o=(S,p,s)=>(ft(S,typeof p!="symbol"?p+"":p,s),s);exports.id=7868,exports.ids=[7868],exports.modules={25487:(S,p,s)=>{s.d(p,{CreateTokenCommand:()=>xe,SSOOIDCClient:()=>Se});var C=s(34898),$=s(30062),D=s(98952),O=s(78796),g=s(19828),E=s(65783),d=s(32993),l=s(73659),P=s(17172),w=s(38817),x=s(42979),r=s(86947),j=s(57352),k=s(9380);const fe=async(e,n,t)=>({operation:(0,k.u)(n).operation,region:await(0,k.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ge(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function Ee(e){return{schemeId:"smithy.api#noAuth"}}const we=e=>{const n=[];switch(e.operation){case"CreateToken":{n.push(Ee(e));break}default:n.push(ge(e))}return n},Pe=e=>{const n=(0,j.h)(e);return Object.assign(n,{authSchemePreference:(0,k.t)(e.authSchemePreference??[])})},Ie=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),Ce={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var Te=s(78502),Ae=s(14879),be=s(59437),Q=s(35544),$e=s(67952),I=s(95202),q=s(25164),De=s(4982),Oe=s(63170),Re=s(68629),je=s(53960),ke=s(14316),_=s(62871),ee=s(31906),ze=s(75500),z=s(32528);const te="required",u="fn",m="argv",T="ref",re=!0,ne="isSet",R="booleanEquals",A="error",b="endpoint",f="tree",K="PartitionResult",H="getAttr",se={[te]:!1,type:"String"},oe={[te]:!0,default:!1,type:"Boolean"},ie={[T]:"Endpoint"},ae={[u]:R,[m]:[{[T]:"UseFIPS"},!0]},ce={[u]:R,[m]:[{[T]:"UseDualStack"},!0]},y={},de={[u]:H,[m]:[{[T]:K},"supportsFIPS"]},le={[T]:K},he={[u]:R,[m]:[!0,{[u]:H,[m]:[le,"supportsDualStack"]}]},pe=[ae],ue=[ce],me=[{[T]:"Region"}],Ke={version:"1.0",parameters:{Region:se,UseDualStack:oe,UseFIPS:oe,Endpoint:se},rules:[{conditions:[{[u]:ne,[m]:[ie]}],rules:[{conditions:pe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:A},{conditions:ue,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:A},{endpoint:{url:ie,properties:y,headers:y},type:b}],type:f},{conditions:[{[u]:ne,[m]:me}],rules:[{conditions:[{[u]:"aws.partition",[m]:me,assign:K}],rules:[{conditions:[ae,ce],rules:[{conditions:[{[u]:R,[m]:[re,de]},he],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:y,headers:y},type:b}],type:f},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:A}],type:f},{conditions:pe,rules:[{conditions:[{[u]:R,[m]:[de,re]}],rules:[{conditions:[{[u]:"stringEquals",[m]:[{[u]:H,[m]:[le,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:y,headers:y},type:b},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:y,headers:y},type:b}],type:f},{error:"FIPS is enabled but this partition does not support FIPS",type:A}],type:f},{conditions:ue,rules:[{conditions:[he],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:y,headers:y},type:b}],type:f},{error:"DualStack is enabled but this partition does not support DualStack",type:A}],type:f},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:y,headers:y},type:b}],type:f}],type:f},{error:"Invalid Configuration: Missing Region",type:A}]},He=new z.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Ue=(e,n={})=>He.get(e,()=>(0,z.sO)(Ke,{endpointParams:e,logger:n.logger}));z.mw.aws=ze.UF;const Me=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??_.E,base64Encoder:e?.base64Encoder??_.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ue,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??we,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new Re.f2},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new je.m}],logger:e?.logger??new r.N4,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??ke.D,utf8Decoder:e?.utf8Decoder??ee.ar,utf8Encoder:e?.utf8Encoder??ee.Pq});var Fe=s(98422);const Ge=e=>{(0,r.I9)(process.version);const n=(0,Fe.I)(e),t=()=>n().then(r.lT),a=Me(e);(0,Ae.I)(process.version);const i={profile:e?.profile,logger:a.logger};return{...a,...e,runtime:"node",defaultsMode:n,authSchemePreference:e?.authSchemePreference??(0,I.Z)(be.$,i),bodyLengthChecker:e?.bodyLengthChecker??De.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Q.pf)({serviceId:a.serviceId,clientVersion:Te.rE}),maxAttempts:e?.maxAttempts??(0,I.Z)(x.qs,e),region:e?.region??(0,I.Z)(g.GG,{...g.zH,...i}),requestHandler:q.$c.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,I.Z)({...x.kN,default:async()=>(await t()).retryMode||Oe.L0},e),sha256:e?.sha256??$e.V.bind(null,"sha256"),streamCollector:e?.streamCollector??q.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,I.Z)(g.e$,i),useFipsEndpoint:e?.useFipsEndpoint??(0,I.Z)(g.Ko,i),userAgentAppId:e?.userAgentAppId??(0,I.Z)(Q.hV,i)}};var ye=s(15891),ve=s(94020);const Ve=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,a=e.credentials;return{setHttpAuthScheme(i){const c=n.findIndex(X=>X.schemeId===i.schemeId);c===-1?n.push(i):n.splice(c,1,i)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(i){t=i},httpAuthSchemeProvider(){return t},setCredentials(i){a=i},credentials(){return a}}},Be=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Ne=(e,n)=>{const t=Object.assign((0,ye.Rq)(e),(0,r.xA)(e),(0,ve.eS)(e),Ve(e));return n.forEach(a=>a.configure(t)),Object.assign(e,(0,ye.$3)(t),(0,r.uv)(t),(0,ve.jt)(t),Be(t))};class Se extends r.Kj{constructor(...[t]){const a=Ge(t||{});super(a);o(this,"config");this.initConfig=a;const i=Ie(a),c=(0,O.Dc)(i),X=(0,x.$z)(c),pt=(0,g.TD)(X),ut=(0,C.OV)(pt),mt=(0,w.Co)(ut),yt=Pe(mt),vt=Ne(yt,t?.extensions||[]);this.config=vt,this.middlewareStack.use((0,O.sM)(this.config)),this.middlewareStack.use((0,x.ey)(this.config)),this.middlewareStack.use((0,P.vK)(this.config)),this.middlewareStack.use((0,C.TC)(this.config)),this.middlewareStack.use((0,$.Y7)(this.config)),this.middlewareStack.use((0,D.n4)(this.config)),this.middlewareStack.use((0,E.w)(this.config,{httpAuthSchemeParametersProvider:fe,identityProviderConfigProvider:async St=>new d.h({"aws.auth#sigv4":St.credentials})})),this.middlewareStack.use((0,l.l)(this.config))}destroy(){super.destroy()}}var Ze=s(59473);class h extends r.TJ{constructor(n){super(n),Object.setPrototypeOf(this,h.prototype)}}class U extends h{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t});o(this,"name","AccessDeniedException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,U.prototype),this.error=t.error,this.error_description=t.error_description}}class M extends h{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t});o(this,"name","AuthorizationPendingException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,M.prototype),this.error=t.error,this.error_description=t.error_description}}const Je=e=>({...e,...e.clientSecret&&{clientSecret:r.$H},...e.refreshToken&&{refreshToken:r.$H},...e.codeVerifier&&{codeVerifier:r.$H}}),Le=e=>({...e,...e.accessToken&&{accessToken:r.$H},...e.refreshToken&&{refreshToken:r.$H},...e.idToken&&{idToken:r.$H}});class F extends h{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t});o(this,"name","ExpiredTokenException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,F.prototype),this.error=t.error,this.error_description=t.error_description}}class G extends h{constructor(t){super({name:"InternalServerException",$fault:"server",...t});o(this,"name","InternalServerException");o(this,"$fault","server");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,G.prototype),this.error=t.error,this.error_description=t.error_description}}class V extends h{constructor(t){super({name:"InvalidClientException",$fault:"client",...t});o(this,"name","InvalidClientException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,V.prototype),this.error=t.error,this.error_description=t.error_description}}class B extends h{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t});o(this,"name","InvalidGrantException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,B.prototype),this.error=t.error,this.error_description=t.error_description}}class N extends h{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});o(this,"name","InvalidRequestException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,N.prototype),this.error=t.error,this.error_description=t.error_description}}class Z extends h{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t});o(this,"name","InvalidScopeException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,Z.prototype),this.error=t.error,this.error_description=t.error_description}}class J extends h{constructor(t){super({name:"SlowDownException",$fault:"client",...t});o(this,"name","SlowDownException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,J.prototype),this.error=t.error,this.error_description=t.error_description}}class L extends h{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t});o(this,"name","UnauthorizedClientException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,L.prototype),this.error=t.error,this.error_description=t.error_description}}class W extends h{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t});o(this,"name","UnsupportedGrantTypeException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,W.prototype),this.error=t.error,this.error_description=t.error_description}}var Y=s(12178),We=s(87293);const Ye=async(e,n)=>{const t=(0,We.l)(e,n),a={"content-type":"application/json"};t.bp("/token");let i;return i=JSON.stringify((0,r.s)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:c=>(0,r.Ss)(c)})),t.m("POST").h(a).b(i),t.build()},Xe=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return Qe(e,n);const t=(0,r.Tj)({$metadata:v(e)}),a=(0,r.Y0)((0,r.Xk)(await(0,Y.Y2)(e.body,n)),"body"),i=(0,r.s)(a,{accessToken:r.lK,expiresIn:r.ET,idToken:r.lK,refreshToken:r.lK,tokenType:r.lK});return Object.assign(t,i),t},Qe=async(e,n)=>{const t={...e,body:await(0,Y.CG)(e.body,n)},a=(0,Y.cJ)(e,t.body);switch(a){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await _e(t,n);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await et(t,n);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await tt(t,n);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await rt(t,n);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await nt(t,n);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await st(t,n);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await ot(t,n);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await it(t,n);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await at(t,n);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await ct(t,n);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await dt(t,n);default:const i=t.body;return qe({output:e,parsedBody:i,errorCode:a})}},qe=(0,r.jr)(h),_e=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new U({$metadata:v(e),...t});return(0,r.Mw)(c,e.body)},et=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new M({$metadata:v(e),...t});return(0,r.Mw)(c,e.body)},tt=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new F({$metadata:v(e),...t});return(0,r.Mw)(c,e.body)},rt=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new G({$metadata:v(e),...t});return(0,r.Mw)(c,e.body)},nt=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new V({$metadata:v(e),...t});return(0,r.Mw)(c,e.body)},st=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new B({$metadata:v(e),...t});return(0,r.Mw)(c,e.body)},ot=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new N({$metadata:v(e),...t});return(0,r.Mw)(c,e.body)},it=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new Z({$metadata:v(e),...t});return(0,r.Mw)(c,e.body)},at=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new J({$metadata:v(e),...t});return(0,r.Mw)(c,e.body)},ct=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new L({$metadata:v(e),...t});return(0,r.Mw)(c,e.body)},dt=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new W({$metadata:v(e),...t});return(0,r.Mw)(c,e.body)},v=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Et=(e,n)=>collectBody(e,n).then(t=>n.utf8Encoder(t));class xe extends r.uB.classBuilder().ep(Ce).m(function(n,t,a,i){return[(0,Ze.TM)(a,this.serialize,this.deserialize),(0,w.rD)(a,n.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Je,Le).ser(Ye).de(Xe).build(){}const lt={CreateTokenCommand:xe};class ht extends Se{}(0,r.J1)(lt,ht)},87293:(S,p,s)=>{s.d(p,{l:()=>O});var C=s(94020),$=s(17093);const D=(E,d,l,P,w,x)=>{if(d!=null&&d[l]!==void 0){const r=P();if(r.length<=0)throw new Error("Empty value provided for input HTTP label: "+l+".");E=E.replace(w,x?r.split("/").map(j=>(0,$.$)(j)).join("/"):(0,$.$)(r))}else throw new Error("No value provided for input HTTP label: "+l+".");return E};function O(E,d){return new g(E,d)}class g{constructor(d,l){this.input=d,this.context=l,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){const{hostname:d,protocol:l="https",port:P,path:w}=await this.context.endpoint();this.path=w;for(const x of this.resolvePathStack)x(this.path);return new C.Kd({protocol:l,hostname:this.hostname||d,port:P,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(d){return this.hostname=d,this}bp(d){return this.resolvePathStack.push(l=>{this.path=`${l?.endsWith("/")?l.slice(0,-1):l||""}`+d}),this}p(d,l,P,w){return this.resolvePathStack.push(x=>{this.path=D(x,this.input,d,l,P,w)}),this}h(d){return this.headers=d,this}q(d){return this.query=d,this}b(d){return this.body=d,this}m(d){return this.method=d,this}}},53960:(S,p,s)=>{s.d(p,{m:()=>C});class C{async sign(D,O,g){return D}}},78502:S=>{S.exports={rE:"3.848.0"}}};
