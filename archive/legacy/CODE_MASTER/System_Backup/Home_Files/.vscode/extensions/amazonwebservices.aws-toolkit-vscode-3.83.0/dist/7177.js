"use strict";var Vt=Object.defineProperty;var Nt=(y,g,o)=>g in y?Vt(y,g,{enumerable:!0,configurable:!0,writable:!0,value:o}):y[g]=o;var r=(y,g,o)=>(Nt(y,typeof g!="symbol"?g+"":g,o),o);exports.id=7177,exports.ids=[7177],exports.modules={37177:(y,g,o)=>{o.d(g,{CreateTokenCommand:()=>ue,SSOOIDCClient:()=>he});var A=o(7613),k=o(94573),T=o(45574),O=o(73791),L=o(8053),me=o(10310),ve=o(36514),ge=o(69602),ye=o(96343),fe=o(11809),D=o(52649),xe=o(55172),Se=o(58167),Ee=o(56995),Pe=o(47361),Z=o(49229);const Ie=async(e,n,t)=>({operation:(0,Pe.u)(n).operation,region:await(0,Z.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Ce(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function Ae(e){return{schemeId:"smithy.api#noAuth"}}const Te=e=>{const n=[];switch(e.operation){case"CreateToken":{n.push(Ae(e));break}default:n.push(Ce(e))}return n},Oe=e=>{const n=(0,Ee.h)(e);return Object.assign(n,{authSchemePreference:(0,Z.t)(e.authSchemePreference??[])})},De=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),$e={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var Re=o(50109),je=o(84136),we=o(84770),J=o(57541),W=o(52642),ze=o(72194),Ke=o(54268),Ue=o(7623),x=o(8075),be=o(38084),Me=o(29804),Fe=o(55549),He=o(29329),Ge=o(17106),Ve=o(40806),Ne=o(27883),Be=o(92680),ke=o(95557),Le=o(71816),Ze=o(42117),Je=o(35952),We=o(9409),Ye=o(37819),Xe=o(72301),Qe=o(12106);const Y="required",p="fn",h="argv",S="ref",X=!0,Q="isSet",C="booleanEquals",E="error",P="endpoint",f="tree",$="PartitionResult",R="getAttr",q={[Y]:!1,type:"String"},_={[Y]:!0,default:!1,type:"Boolean"},ee={[S]:"Endpoint"},te={[p]:C,[h]:[{[S]:"UseFIPS"},!0]},ne={[p]:C,[h]:[{[S]:"UseDualStack"},!0]},u={},oe={[p]:R,[h]:[{[S]:$},"supportsFIPS"]},re={[S]:$},se={[p]:C,[h]:[!0,{[p]:R,[h]:[re,"supportsDualStack"]}]},ie=[te],ae=[ne],ce=[{[S]:"Region"}],qe={version:"1.0",parameters:{Region:q,UseDualStack:_,UseFIPS:_,Endpoint:q},rules:[{conditions:[{[p]:Q,[h]:[ee]}],rules:[{conditions:ie,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:E},{conditions:ae,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:E},{endpoint:{url:ee,properties:u,headers:u},type:P}],type:f},{conditions:[{[p]:Q,[h]:ce}],rules:[{conditions:[{[p]:"aws.partition",[h]:ce,assign:$}],rules:[{conditions:[te,ne],rules:[{conditions:[{[p]:C,[h]:[X,oe]},se],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:u,headers:u},type:P}],type:f},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:E}],type:f},{conditions:ie,rules:[{conditions:[{[p]:C,[h]:[oe,X]}],rules:[{conditions:[{[p]:"stringEquals",[h]:[{[p]:R,[h]:[re,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:u,headers:u},type:P},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:u,headers:u},type:P}],type:f},{error:"FIPS is enabled but this partition does not support FIPS",type:E}],type:f},{conditions:ae,rules:[{conditions:[se],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:u,headers:u},type:P}],type:f},{error:"DualStack is enabled but this partition does not support DualStack",type:E}],type:f},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:u,headers:u},type:P}],type:f}],type:f},{error:"Invalid Configuration: Missing Region",type:E}]},_e=new Ye.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),et=(e,n={})=>_e.get(e,()=>(0,Xe.s)(qe,{endpointParams:e,logger:n.logger}));Qe.m.aws=We.UF;const tt=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??ke.E,base64Encoder:e?.base64Encoder??Le.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??et,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Te,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new Ge.f2},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Ve.m}],logger:e?.logger??new Ne.N,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Be.D,utf8Decoder:e?.utf8Decoder??Ze.a,utf8Encoder:e?.utf8Encoder??Je.P});var nt=o(62159),ot=o(8334),rt=o(66349);const st=e=>{(0,rt.I)(process.version);const n=(0,ot.I)(e),t=()=>n().then(nt.l),i=tt(e);(0,je.I)(process.version);const s={profile:e?.profile,logger:i.logger};return{...i,...e,runtime:"node",defaultsMode:n,authSchemePreference:e?.authSchemePreference??(0,x.Z)(we.$,s),bodyLengthChecker:e?.bodyLengthChecker??Fe.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,J.pf)({serviceId:i.serviceId,clientVersion:Re.rE}),maxAttempts:e?.maxAttempts??(0,x.Z)(D.qs,e),region:e?.region??(0,x.Z)(W.GG,{...W.zH,...s}),requestHandler:be.$.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,x.Z)({...D.kN,default:async()=>(await t()).retryMode||He.L0},e),sha256:e?.sha256??Ue.V.bind(null,"sha256"),streamCollector:e?.streamCollector??Me.k,useDualstackEndpoint:e?.useDualstackEndpoint??(0,x.Z)(ze.e$,s),useFipsEndpoint:e?.useFipsEndpoint??(0,x.Z)(Ke.Ko,s),userAgentAppId:e?.userAgentAppId??(0,x.Z)(J.hV,s)}};var de=o(41270),le=o(60274),pe=o(78134);const it=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,i=e.credentials;return{setHttpAuthScheme(s){const c=n.findIndex(B=>B.schemeId===s.schemeId);c===-1?n.push(s):n.splice(c,1,s)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){i=s},credentials(){return i}}},at=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),ct=(e,n)=>{const t=Object.assign((0,de.Rq)(e),(0,pe.xA)(e),(0,le.e)(e),it(e));return n.forEach(i=>i.configure(t)),Object.assign(e,(0,de.$3)(t),(0,pe.uv)(t),(0,le.j)(t),at(t))};class he extends Se.K{constructor(...[t]){const i=st(t||{});super(i);r(this,"config");this.initConfig=i;const s=De(i),c=(0,O.Dc)(s),B=(0,D.$z)(c),Ut=(0,L.T)(B),bt=(0,A.OV)(Ut),Mt=(0,fe.C)(bt),Ft=Oe(Mt),Ht=ct(Ft,t?.extensions||[]);this.config=Ht,this.middlewareStack.use((0,O.sM)(this.config)),this.middlewareStack.use((0,xe.ey)(this.config)),this.middlewareStack.use((0,ye.vK)(this.config)),this.middlewareStack.use((0,A.TC)(this.config)),this.middlewareStack.use((0,k.Y7)(this.config)),this.middlewareStack.use((0,T.n)(this.config)),this.middlewareStack.use((0,me.w)(this.config,{httpAuthSchemeParametersProvider:Ie,identityProviderConfigProvider:async Gt=>new ve.h({"aws.auth#sigv4":Gt.credentials})})),this.middlewareStack.use((0,ge.l)(this.config))}destroy(){super.destroy()}}var dt=o(36954),lt=o(34078),pt=o(23664),ht=o(86197),I=o(10431),m=o(80602);class l extends m.T{constructor(n){super(n),Object.setPrototypeOf(this,l.prototype)}}class j extends l{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t});r(this,"name","AccessDeniedException");r(this,"$fault","client");r(this,"error");r(this,"error_description");Object.setPrototypeOf(this,j.prototype),this.error=t.error,this.error_description=t.error_description}}class w extends l{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t});r(this,"name","AuthorizationPendingException");r(this,"$fault","client");r(this,"error");r(this,"error_description");Object.setPrototypeOf(this,w.prototype),this.error=t.error,this.error_description=t.error_description}}const ut=e=>({...e,...e.clientSecret&&{clientSecret:I.$},...e.refreshToken&&{refreshToken:I.$},...e.codeVerifier&&{codeVerifier:I.$}}),mt=e=>({...e,...e.accessToken&&{accessToken:I.$},...e.refreshToken&&{refreshToken:I.$},...e.idToken&&{idToken:I.$}});class z extends l{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t});r(this,"name","ExpiredTokenException");r(this,"$fault","client");r(this,"error");r(this,"error_description");Object.setPrototypeOf(this,z.prototype),this.error=t.error,this.error_description=t.error_description}}class K extends l{constructor(t){super({name:"InternalServerException",$fault:"server",...t});r(this,"name","InternalServerException");r(this,"$fault","server");r(this,"error");r(this,"error_description");Object.setPrototypeOf(this,K.prototype),this.error=t.error,this.error_description=t.error_description}}class U extends l{constructor(t){super({name:"InvalidClientException",$fault:"client",...t});r(this,"name","InvalidClientException");r(this,"$fault","client");r(this,"error");r(this,"error_description");Object.setPrototypeOf(this,U.prototype),this.error=t.error,this.error_description=t.error_description}}class b extends l{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t});r(this,"name","InvalidGrantException");r(this,"$fault","client");r(this,"error");r(this,"error_description");Object.setPrototypeOf(this,b.prototype),this.error=t.error,this.error_description=t.error_description}}class M extends l{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});r(this,"name","InvalidRequestException");r(this,"$fault","client");r(this,"error");r(this,"error_description");Object.setPrototypeOf(this,M.prototype),this.error=t.error,this.error_description=t.error_description}}class F extends l{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t});r(this,"name","InvalidScopeException");r(this,"$fault","client");r(this,"error");r(this,"error_description");Object.setPrototypeOf(this,F.prototype),this.error=t.error,this.error_description=t.error_description}}class H extends l{constructor(t){super({name:"SlowDownException",$fault:"client",...t});r(this,"name","SlowDownException");r(this,"$fault","client");r(this,"error");r(this,"error_description");Object.setPrototypeOf(this,H.prototype),this.error=t.error,this.error_description=t.error_description}}class G extends l{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t});r(this,"name","UnauthorizedClientException");r(this,"$fault","client");r(this,"error");r(this,"error_description");Object.setPrototypeOf(this,G.prototype),this.error=t.error,this.error_description=t.error_description}}class V extends l{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t});r(this,"name","UnsupportedGrantTypeException");r(this,"$fault","client");r(this,"error");r(this,"error_description");Object.setPrototypeOf(this,V.prototype),this.error=t.error,this.error_description=t.error_description}}var N=o(12733),vt=o(17778),d=o(48151),gt=o(36398),a=o(28446),yt=o(12081);const ft=async(e,n)=>{const t=(0,vt.l)(e,n),i={"content-type":"application/json"};t.bp("/token");let s;return s=JSON.stringify((0,d.s)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:c=>(0,gt.S)(c)})),t.m("POST").h(i).b(s),t.build()},xt=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return St(e,n);const t=(0,d.Tj)({$metadata:v(e)}),i=(0,a.Y0)((0,a.Xk)(await(0,N.Y2)(e.body,n)),"body"),s=(0,d.s)(i,{accessToken:a.lK,expiresIn:a.ET,idToken:a.lK,refreshToken:a.lK,tokenType:a.lK});return Object.assign(t,s),t},St=async(e,n)=>{const t={...e,body:await(0,N.CG)(e.body,n)},i=(0,N.cJ)(e,t.body);switch(i){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Pt(t,n);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await It(t,n);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Ct(t,n);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await At(t,n);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Tt(t,n);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Ot(t,n);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Dt(t,n);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await $t(t,n);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Rt(t,n);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await jt(t,n);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await wt(t,n);default:const s=t.body;return Et({output:e,parsedBody:s,errorCode:i})}},Et=(0,yt.j)(l),Pt=async(e,n)=>{const t=(0,d.Tj)({}),i=e.body,s=(0,d.s)(i,{error:a.lK,error_description:a.lK});Object.assign(t,s);const c=new j({$metadata:v(e),...t});return(0,m.M)(c,e.body)},It=async(e,n)=>{const t=(0,d.Tj)({}),i=e.body,s=(0,d.s)(i,{error:a.lK,error_description:a.lK});Object.assign(t,s);const c=new w({$metadata:v(e),...t});return(0,m.M)(c,e.body)},Ct=async(e,n)=>{const t=(0,d.Tj)({}),i=e.body,s=(0,d.s)(i,{error:a.lK,error_description:a.lK});Object.assign(t,s);const c=new z({$metadata:v(e),...t});return(0,m.M)(c,e.body)},At=async(e,n)=>{const t=(0,d.Tj)({}),i=e.body,s=(0,d.s)(i,{error:a.lK,error_description:a.lK});Object.assign(t,s);const c=new K({$metadata:v(e),...t});return(0,m.M)(c,e.body)},Tt=async(e,n)=>{const t=(0,d.Tj)({}),i=e.body,s=(0,d.s)(i,{error:a.lK,error_description:a.lK});Object.assign(t,s);const c=new U({$metadata:v(e),...t});return(0,m.M)(c,e.body)},Ot=async(e,n)=>{const t=(0,d.Tj)({}),i=e.body,s=(0,d.s)(i,{error:a.lK,error_description:a.lK});Object.assign(t,s);const c=new b({$metadata:v(e),...t});return(0,m.M)(c,e.body)},Dt=async(e,n)=>{const t=(0,d.Tj)({}),i=e.body,s=(0,d.s)(i,{error:a.lK,error_description:a.lK});Object.assign(t,s);const c=new M({$metadata:v(e),...t});return(0,m.M)(c,e.body)},$t=async(e,n)=>{const t=(0,d.Tj)({}),i=e.body,s=(0,d.s)(i,{error:a.lK,error_description:a.lK});Object.assign(t,s);const c=new F({$metadata:v(e),...t});return(0,m.M)(c,e.body)},Rt=async(e,n)=>{const t=(0,d.Tj)({}),i=e.body,s=(0,d.s)(i,{error:a.lK,error_description:a.lK});Object.assign(t,s);const c=new H({$metadata:v(e),...t});return(0,m.M)(c,e.body)},jt=async(e,n)=>{const t=(0,d.Tj)({}),i=e.body,s=(0,d.s)(i,{error:a.lK,error_description:a.lK});Object.assign(t,s);const c=new G({$metadata:v(e),...t});return(0,m.M)(c,e.body)},wt=async(e,n)=>{const t=(0,d.Tj)({}),i=e.body,s=(0,d.s)(i,{error:a.lK,error_description:a.lK});Object.assign(t,s);const c=new V({$metadata:v(e),...t});return(0,m.M)(c,e.body)},v=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),kt=(e,n)=>collectBody(e,n).then(t=>n.utf8Encoder(t));class ue extends ht.u.classBuilder().ep($e).m(function(n,t,i,s){return[(0,pt.TM)(i,this.serialize,this.deserialize),(0,lt.r)(i,n.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(ut,mt).ser(ft).de(xt).build(){}const zt={CreateTokenCommand:ue};class Kt extends he{}(0,dt.J)(zt,Kt)},40806:(y,g,o)=>{o.d(g,{m:()=>A});class A{async sign(T,O,L){return T}}},50109:y=>{y.exports={rE:"3.888.0"}}};
