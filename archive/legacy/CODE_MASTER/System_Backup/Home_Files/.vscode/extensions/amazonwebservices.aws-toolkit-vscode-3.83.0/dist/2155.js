"use strict";var mt=Object.defineProperty;var yt=(g,v,i)=>v in g?mt(g,v,{enumerable:!0,configurable:!0,writable:!0,value:i}):g[v]=i;var o=(g,v,i)=>(yt(g,typeof v!="symbol"?v+"":v,i),i);exports.id=2155,exports.ids=[2155],exports.modules={59379:(g,v,i)=>{i.d(v,{CG:()=>j,Y2:()=>$,cJ:()=>D});var b=i(8470);const $=(h,l)=>(0,b.w)(h,l).then(u=>{if(u.length)try{return JSON.parse(u)}catch(S){throw S?.name==="SyntaxError"&&Object.defineProperty(S,"$responseBodyText",{value:u}),S}return{}}),j=async(h,l)=>{const u=await $(h,l);return u.message=u.message??u.Message,u},D=(h,l)=>{const u=(r,d)=>Object.keys(r).find(O=>O.toLowerCase()===d.toLowerCase()),S=r=>{let d=r;return typeof d=="number"&&(d=d.toString()),d.indexOf(",")>=0&&(d=d.split(",")[0]),d.indexOf(":")>=0&&(d=d.split(":")[0]),d.indexOf("#")>=0&&(d=d.split("#")[1]),d},w=u(h.headers,"x-amzn-errortype");if(w!==void 0)return S(h.headers[w]);if(l.code!==void 0)return S(l.code);if(l.__type!==void 0)return S(l.__type)}},52155:(g,v,i)=>{i.d(v,{CreateTokenCommand:()=>xe,SSOOIDCClient:()=>fe});var b=i(61011),$=i(76331),j=i(64949),D=i(20717),h=i(21672),l=i(18024),u=i(49853),S=i(92169),w=i(80070),r=i(17542),d=i(35063),O=i(77667);const Se=async(e,n,t)=>({operation:(0,O.u)(n).operation,region:await(0,O.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function ge(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function Ee(e){return{schemeId:"smithy.api#noAuth"}}const we=e=>{const n=[];switch(e.operation){case"CreateToken":{n.push(Ee(e));break}default:n.push(ge(e))}return n},Ie=e=>({...(0,d.h)(e)}),Pe=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),Ce={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var Te=i(82975),Ae=i(2934),Y=i(12155),be=i(63665),I=i(23087),X=i(16371),$e=i(35037),De=i(39055),Oe=i(22568),Re=i(68677),Q=i(11448),q=i(72465),je=i(82408),k=i(29013);const ee="required",m="fn",y="argv",P="ref",te=!0,re="isSet",A="booleanEquals",C="error",T="endpoint",E="tree",z="PartitionResult",K="getAttr",ne={[ee]:!1,type:"String"},oe={[ee]:!0,default:!1,type:"Boolean"},se={[P]:"Endpoint"},ie={[m]:A,[y]:[{[P]:"UseFIPS"},!0]},ae={[m]:A,[y]:[{[P]:"UseDualStack"},!0]},f={},ce={[m]:K,[y]:[{[P]:z},"supportsFIPS"]},de={[P]:z},le={[m]:A,[y]:[!0,{[m]:K,[y]:[de,"supportsDualStack"]}]},pe=[ie],he=[ae],ue=[{[P]:"Region"}],ke={version:"1.0",parameters:{Region:ne,UseDualStack:oe,UseFIPS:oe,Endpoint:ne},rules:[{conditions:[{[m]:re,[y]:[se]}],rules:[{conditions:pe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:C},{conditions:he,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:C},{endpoint:{url:se,properties:f,headers:f},type:T}],type:E},{conditions:[{[m]:re,[y]:ue}],rules:[{conditions:[{[m]:"aws.partition",[y]:ue,assign:z}],rules:[{conditions:[ie,ae],rules:[{conditions:[{[m]:A,[y]:[te,ce]},le],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:f,headers:f},type:T}],type:E},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:C}],type:E},{conditions:pe,rules:[{conditions:[{[m]:A,[y]:[ce,te]}],rules:[{conditions:[{[m]:"stringEquals",[y]:[{[m]:K,[y]:[de,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:f,headers:f},type:T},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:f,headers:f},type:T}],type:E},{error:"FIPS is enabled but this partition does not support FIPS",type:C}],type:E},{conditions:he,rules:[{conditions:[le],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:f,headers:f},type:T}],type:E},{error:"DualStack is enabled but this partition does not support DualStack",type:C}],type:E},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:f,headers:f},type:T}],type:E}],type:E},{error:"Invalid Configuration: Missing Region",type:C}]},ze=new k.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Ke=(e,n={})=>ze.get(e,()=>(0,k.sO)(ke,{endpointParams:e,logger:n.logger}));k.mw.aws=je.UF;const Ue=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Q.E,base64Encoder:e?.base64Encoder??Q.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ke,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??we,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new Oe.f2},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new l.mR}],logger:e?.logger??new r.N4,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Re.D,utf8Decoder:e?.utf8Decoder??q.ar,utf8Encoder:e?.utf8Encoder??q.Pq});var _e=i(9277);const Me=e=>{(0,r.I9)(process.version);const n=(0,_e.I)(e),t=()=>n().then(r.lT),a=Ue(e);(0,Ae.I)(process.version);const s={profile:e?.profile};return{...a,...e,runtime:"node",defaultsMode:n,bodyLengthChecker:e?.bodyLengthChecker??$e.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Y.pf)({serviceId:a.serviceId,clientVersion:Te.rE}),maxAttempts:e?.maxAttempts??(0,I.Z)(w.qs,e),region:e?.region??(0,I.Z)(h.GG,{...h.zH,...s}),requestHandler:X.$c.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,I.Z)({...w.kN,default:async()=>(await t()).retryMode||De.L0},e),sha256:e?.sha256??be.V.bind(null,"sha256"),streamCollector:e?.streamCollector??X.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,I.Z)(h.e$,s),useFipsEndpoint:e?.useFipsEndpoint??(0,I.Z)(h.Ko,s),userAgentAppId:e?.userAgentAppId??(0,I.Z)(Y.hV,s)}};var me=i(48892),ye=i(7355);const He=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,a=e.credentials;return{setHttpAuthScheme(s){const c=n.findIndex(W=>W.schemeId===s.schemeId);c===-1?n.push(s):n.splice(c,1,s)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){a=s},credentials(){return a}}},Fe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),R=e=>e,Ge=(e,n)=>{const t={...R((0,me.Rq)(e)),...R((0,r.xA)(e)),...R((0,ye.eS)(e)),...R(He(e))};return n.forEach(a=>a.configure(t)),{...e,...(0,me.$3)(t),...(0,r.uv)(t),...(0,ye.jt)(t),...Fe(t)}};class fe extends r.Kj{constructor(...[t]){const a=Me(t||{}),s=Pe(a),c=(0,D.Dc)(s),W=(0,w.$z)(c),dt=(0,h.TD)(W),lt=(0,b.OV)(dt),pt=(0,S.Co)(lt),ht=Ie(pt),ve=Ge(ht,t?.extensions||[]);super(ve);o(this,"config");this.config=ve,this.middlewareStack.use((0,D.sM)(this.config)),this.middlewareStack.use((0,w.ey)(this.config)),this.middlewareStack.use((0,u.vK)(this.config)),this.middlewareStack.use((0,b.TC)(this.config)),this.middlewareStack.use((0,$.Y7)(this.config)),this.middlewareStack.use((0,j.n4)(this.config)),this.middlewareStack.use((0,l.wB)(this.config,{httpAuthSchemeParametersProvider:Se,identityProviderConfigProvider:async ut=>new l.h$({"aws.auth#sigv4":ut.credentials})})),this.middlewareStack.use((0,l.lW)(this.config))}destroy(){super.destroy()}}var Ve=i(39988);class p extends r.TJ{constructor(n){super(n),Object.setPrototypeOf(this,p.prototype)}}class U extends p{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t});o(this,"name","AccessDeniedException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,U.prototype),this.error=t.error,this.error_description=t.error_description}}class _ extends p{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t});o(this,"name","AuthorizationPendingException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,_.prototype),this.error=t.error,this.error_description=t.error_description}}const Be=e=>({...e,...e.clientSecret&&{clientSecret:r.$H},...e.refreshToken&&{refreshToken:r.$H},...e.codeVerifier&&{codeVerifier:r.$H}}),Je=e=>({...e,...e.accessToken&&{accessToken:r.$H},...e.refreshToken&&{refreshToken:r.$H},...e.idToken&&{idToken:r.$H}});class M extends p{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t});o(this,"name","ExpiredTokenException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,M.prototype),this.error=t.error,this.error_description=t.error_description}}class H extends p{constructor(t){super({name:"InternalServerException",$fault:"server",...t});o(this,"name","InternalServerException");o(this,"$fault","server");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,H.prototype),this.error=t.error,this.error_description=t.error_description}}class F extends p{constructor(t){super({name:"InvalidClientException",$fault:"client",...t});o(this,"name","InvalidClientException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,F.prototype),this.error=t.error,this.error_description=t.error_description}}class G extends p{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t});o(this,"name","InvalidGrantException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,G.prototype),this.error=t.error,this.error_description=t.error_description}}class V extends p{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});o(this,"name","InvalidRequestException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,V.prototype),this.error=t.error,this.error_description=t.error_description}}class B extends p{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t});o(this,"name","InvalidScopeException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,B.prototype),this.error=t.error,this.error_description=t.error_description}}class J extends p{constructor(t){super({name:"SlowDownException",$fault:"client",...t});o(this,"name","SlowDownException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,J.prototype),this.error=t.error,this.error_description=t.error_description}}class L extends p{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t});o(this,"name","UnauthorizedClientException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,L.prototype),this.error=t.error,this.error_description=t.error_description}}class N extends p{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t});o(this,"name","UnsupportedGrantTypeException");o(this,"$fault","client");o(this,"error");o(this,"error_description");Object.setPrototypeOf(this,N.prototype),this.error=t.error,this.error_description=t.error_description}}var Z=i(59379);const Le=async(e,n)=>{const t=(0,l.lI)(e,n),a={"content-type":"application/json"};t.bp("/token");let s;return s=JSON.stringify((0,r.s)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:c=>(0,r.Ss)(c)})),t.m("POST").h(a).b(s),t.build()},Ne=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return Ze(e,n);const t=(0,r.Tj)({$metadata:x(e)}),a=(0,r.Y0)((0,r.Xk)(await(0,Z.Y2)(e.body,n)),"body"),s=(0,r.s)(a,{accessToken:r.lK,expiresIn:r.ET,idToken:r.lK,refreshToken:r.lK,tokenType:r.lK});return Object.assign(t,s),t},Ze=async(e,n)=>{const t={...e,body:await(0,Z.CG)(e.body,n)},a=(0,Z.cJ)(e,t.body);switch(a){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Ye(t,n);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Xe(t,n);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Qe(t,n);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await qe(t,n);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await et(t,n);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await tt(t,n);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await rt(t,n);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await nt(t,n);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await ot(t,n);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await st(t,n);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await it(t,n);default:const s=t.body;return We({output:e,parsedBody:s,errorCode:a})}},We=(0,r.jr)(p),Ye=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,s=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,s);const c=new U({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},Xe=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,s=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,s);const c=new _({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},Qe=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,s=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,s);const c=new M({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},qe=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,s=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,s);const c=new H({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},et=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,s=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,s);const c=new F({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},tt=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,s=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,s);const c=new G({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},rt=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,s=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,s);const c=new V({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},nt=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,s=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,s);const c=new B({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},ot=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,s=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,s);const c=new J({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},st=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,s=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,s);const c=new L({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},it=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,s=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,s);const c=new N({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},x=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xt=(e,n)=>collectBody(e,n).then(t=>n.utf8Encoder(t));class xe extends r.uB.classBuilder().ep(Ce).m(function(n,t,a,s){return[(0,Ve.TM)(a,this.serialize,this.deserialize),(0,S.rD)(a,n.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Be,Je).ser(Le).de(Ne).build(){}const at={CreateTokenCommand:xe};class ct extends fe{}(0,r.J1)(at,ct)},82975:g=>{g.exports={rE:"3.730.0"}}};
