import{a as D}from"./chunk-KR6XSNEV.js";import{Ac as k,Fb as A,Oc as c,X as I,Y as w,c as S,d as O,eb as f,hb as b,ib as C,jb as N,k as v,lb as P,nb as x,p as g,r as y}from"./chunk-V3XRZIHQ.js";var u=S(O());var o=S(g()),h=({context:n,value:e,target:r,type:i,placeholder:l,props:t})=>{let[a,s]=(0,u.useState)(e),[m,B]=(0,u.useState)(!1);(0,u.useEffect)(()=>{s(e)},[e]);let T=p=>{s(p),n?.formAction({propertyName:r,isAction:!1,value:p,updateValidation:!1})},F=()=>{n?.formAction({propertyName:r,isAction:!1,value:a,updateValidation:!0})};return(0,o.jsxs)(o.Fragment,{children:[i==="input"&&(0,o.jsx)(x,{value:a,onChange:(p,d)=>T(d.value),onBlur:F,size:"small",placeholder:l,...t}),i==="password"&&(0,o.jsx)(x,{type:m?"text":"password",value:a,onChange:(p,d)=>T(d.value),onBlur:F,placeholder:l,size:"small",contentAfter:(0,o.jsx)(f,{onClick:()=>B(!m),icon:m?(0,o.jsx)(I,{}):(0,o.jsx)(w,{}),appearance:"transparent",size:"small","aria-label":m?c.common.hidePassword:c.common.showPassword,title:m?c.common.hidePassword:c.common.showPassword}),...t}),i==="textarea"&&(0,o.jsx)(A,{value:a,size:"small",onChange:(p,d)=>T(d.value),onBlur:F,...t})]})},Q=({context:n,component:e,idx:r,props:i,componentProps:l})=>{if(!e){console.error("Form component is undefined");return}let t=_();return(0,o.jsxs)("div",{className:t.formComponentDiv,children:[(0,o.jsx)(b,{validationMessage:e.validation?.validationMessage??"",orientation:e.type==="checkbox"?"horizontal":"vertical",validationState:e.validation?e.validation.isValid?"none":"error":"none",required:e.required,label:e.tooltip?{children:(a,s)=>(0,o.jsx)(k,{...s,info:e.tooltip,children:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}})})}:(0,o.jsx)("span",{dangerouslySetInnerHTML:{__html:e.label}}),...i,style:{color:y.colorNeutralForeground1},children:V(n,e,l)}),e?.actionButtons?.length>0&&(0,o.jsx)("div",{className:t.formComponentActionDiv,children:e.actionButtons?.map((a,s)=>(0,o.jsx)(f,{style:{width:"auto",whiteSpace:"nowrap"},onClick:()=>n?.formAction({propertyName:e.propertyName,isAction:!0,value:a.id}),children:a.label},s+a.id))})]},r)};function V(n,e,r){let i=n.state.formState;switch(e.type){case"input":return(0,o.jsx)(h,{context:n,value:i[e.propertyName]??"",target:e.propertyName,type:"input",placeholder:e.placeholder??"",props:r});case"textarea":return(0,o.jsx)(h,{context:n,value:i[e.propertyName]??"",target:e.propertyName,type:"textarea",placeholder:e.placeholder??"",props:r});case"password":return(0,o.jsx)(h,{context:n,value:i[e.propertyName]??"",target:e.propertyName,placeholder:e.placeholder??"",type:"password",props:r});case"dropdown":if(e.options===void 0)throw new Error("Dropdown component must have options");return(0,o.jsx)(P,{size:"small",placeholder:e.placeholder??"",value:e.options.find(t=>t.value===i[e.propertyName])?.displayName??"",selectedOptions:[i[e.propertyName]],onOptionSelect:(t,a)=>{r&&r.onOptionSelect?r.onOptionSelect(t,a):n?.formAction({propertyName:e.propertyName,isAction:!1,value:a.optionValue})},...r,children:e.options?.map((t,a)=>(0,o.jsx)(N,{value:t.value,color:t.color,children:t.displayName},e.propertyName+a))});case"searchableDropdown":if(e.options===void 0)throw new Error("Dropdown component must have options");let l=e.options.find(t=>t.value===i[e.propertyName]);return(0,o.jsx)(D,{options:e.options.map(t=>({value:t.value,text:t.displayName,color:t.color,description:t.description,icon:t.icon})),placeholder:e.placeholder,searchBoxPlaceholder:e.searchBoxPlaceholder,selectedOption:l?{value:l.value,text:l.displayName}:void 0,onSelect:t=>{r&&r.onSelect?r.onSelect(t.value):n?.formAction({propertyName:e.propertyName,isAction:!1,value:t.value})},size:"small",clearable:!0,...r});case"checkbox":return(0,o.jsx)(C,{size:"medium",checked:i[e.propertyName]??!1,onChange:(t,a)=>n?.formAction({propertyName:e.propertyName,isAction:!1,value:a.checked}),...r})}}var _=v({formRoot:{display:"flex",flexDirection:"column",height:"100%"},formDiv:{padding:"10px",maxWidth:"650px",display:"flex",flexDirection:"column","> *":{margin:"5px"}},formComponentDiv:{"> *":{margin:"5px"}},formComponentActionDiv:{display:"flex",flexDirection:"row","> *":{margin:"5px"}},formNavTrayButton:{width:"150px",alignSelf:"center",margin:"0px 10px"},formNavTray:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0px"},formNavTrayRight:{display:"flex",marginLeft:"auto"}});export{Q as a,_ as b};
