import{a as ae}from"./chunk-H77WAXRA.js";import{a as se}from"./chunk-K55OXETV.js";import{a as T}from"./chunk-4FRWMI4R.js";import"./chunk-KR6XSNEV.js";import{a as ye,b as he}from"./chunk-OJNDYEPL.js";import"./chunk-BYXBJQAS.js";import{Ba as Q,Ca as ie,Cb as P,Da as ne,Fa as xe,Ga as re,Oc as i,Qa as X,W as j,a as U,c as n,d as b,dd as Se,eb as f,f as je,k as d,oc as V,p as s,r as y,yb as F,za as oe}from"./chunk-V3XRZIHQ.js";var Ce=U((Lt,Qe)=>{Qe.exports="./sqlDbInFabric-HDCV6R23.svg"});var Ie=U((po,et)=>{et.exports="./builtOnAzureSql-NKQWGYE5.svg"});var Te=U((lo,tt)=>{tt.exports="./analyticsReady-L7HVWMSV.svg"});var ve=U((co,ot)=>{ot.exports="./instantSetup-KR7W6KPC.svg"});var ue=U((ho,st)=>{st.exports="./docker-YLQ6S6MS.svg"});var Ue=U((bi,Ct)=>{Ct.exports="./chooseVersion-XLABS4CO.svg"});var We=U((Gi,xt)=>{xt.exports="./database-L2MGCJKV.svg"});var ze=n(je());var De=n(b());var Fe=n(s()),p=(0,De.createContext)(void 0),be=({children:e})=>{let t=he();return(0,Fe.jsx)(p.Provider,{value:{state:t?.state,themeKind:t?.themeKind,...Se(t),initializeDeploymentSpecifics:function(o){t?.extensionRpc.action("initializeDeploymentSpecifics",{deploymentType:o})},formAction:function(o){t?.extensionRpc.action("formAction",{event:o})},setConnectionGroupDialogState:function(o){t?.extensionRpc.action("setConnectionGroupDialogState",{shouldOpen:o})},createConnectionGroup:function(o){t?.extensionRpc.action("createConnectionGroup",{connectionGroupSpec:o})},dispose:function(){t?.extensionRpc.action("dispose",{})},completeDockerStep:function(o){t?.extensionRpc.action("completeDockerStep",{dockerStep:o})},resetDockerStepState:function(){t?.extensionRpc.action("resetDockerStepState",{})},checkDockerProfile:function(){t?.extensionRpc.action("checkDockerProfile",{})},reloadFabricEnvironment:function(o){t?.extensionRpc.action("reloadFabricEnvironment",{newTenant:o})},handleWorkspaceFormAction:function(o){t?.extensionRpc.action("handleWorkspaceFormAction",{workspaceId:o})},createDatabase:function(){t?.extensionRpc.action("createDatabase",{})}},children:e})};var Ze=n(b());var me=n(b());var J=n(b());var Le=n(b());var W=n(b());var Pe=n(b());var K=n(s()),Xe=d({outerDiv:{display:"flex",flexDirection:"row",gap:"20px",alignItems:"center",justifyContent:"flex-start",paddingBottom:"50px",minWidth:"750px",minHeight:"fit-content",top:0,left:0,paddingTop:"50px",width:"100%"},titleDiv:{fontWeight:500,fontSize:"24px",display:"flex",alignItems:"center"},icon:{width:"58px",height:"58px"}}),Y=({paddingLeft:e})=>{let t=Xe(),o=(0,Pe.useContext)(p),r=o?.state.deploymentTypeState;if(!(!o||!r))return(0,K.jsxs)("div",{className:t.outerDiv,style:{paddingLeft:e??"70px"},children:[(0,K.jsx)("img",{className:t.icon,src:Ye()}),(0,K.jsx)(P,{className:t.titleDiv,children:i.fabricProvisioning.sqlDatabaseInFabric})]})},Ye=()=>Ce();var we=n(b());var a=n(s()),$e=d({outerDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",minWidth:"650px",minHeight:"fit-content",paddingBottom:"50px"},innerDiv:{display:"flex",flexDirection:"column",gap:"2px",height:"fit-content",width:"fit-content",minWidth:"650px"},button:{height:"28px",width:"60px",marginTop:"20px"},contentHeader:{fontSize:"22px",fontWeight:400,padding:"8px",textAlign:"left"},buttonDiv:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%",padding:"8px",gap:"5px"},spinnerDiv:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"20px"},leftHeader:{display:"flex",alignItems:"center",gap:"8px",fontSize:"18px",fontWeight:400},separatorDiv:{position:"absolute",left:0,top:0,bottom:0,width:"4px",background:y.colorNeutralStroke2},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px"},cardContentDiv:{display:"flex",flexDirection:"row",gap:"2px",height:"100%",width:"100%"},cardColumn:{display:"flex",flexDirection:"column",padding:"20px",width:"fit-content"},cardDiv:{display:"flex",flexDirection:"column",gap:"2px",minHeight:"250px",height:"fit-content",width:"100%"},cardItem:{fontSize:"14px",padding:"10px"},cardItemLabel:{color:y.colorNeutralForeground4,paddingRight:"10px"},cardHeader:{width:"100%",fontSize:"24px",padding:"8px",textAlign:"left"}}),ke=()=>{let e=$e(),t=(0,we.useContext)(p),o=t?.state.deploymentTypeState;if(!t||!o)return;let r=()=>{let c;return o.provisionLoadState!=="loaded"?c=o.provisionLoadState:c=o.connectionLoadState,c==="notStarted"?(0,a.jsx)(re,{style:{color:y.colorNeutralStroke1Pressed}}):c==="loaded"?(0,a.jsx)(oe,{style:{color:y.colorStatusSuccessBackground3}}):c==="error"?(0,a.jsx)(X,{style:{color:y.colorStatusDangerBackground3}}):(0,a.jsx)(F,{size:"tiny"})},u=()=>{let c=i.fabricProvisioning.finishedDeployment;return o.provisionLoadState==="error"?c=i.fabricProvisioning.deploymentFailed:o.provisionLoadState!=="loaded"?c=`${i.fabricProvisioning.deploymentInProgress}...`:o.connectionLoadState==="error"?c=i.fabricProvisioning.connectionFailed:o.connectionLoadState!=="loaded"&&(c=`${i.fabricProvisioning.connectingToDatabase}`),c};return(0,a.jsxs)("div",{children:[(0,a.jsx)(Y,{}),(0,a.jsx)("div",{className:e.outerDiv,children:(0,a.jsxs)("div",{className:e.innerDiv,children:[(0,a.jsxs)("div",{className:e.contentHeader,children:[i.fabricProvisioning.provisioning," ",o.formState.databaseName]}),(0,a.jsxs)(V,{className:e.cardDiv,children:[(0,a.jsx)("div",{className:e.separatorDiv}),(0,a.jsx)("div",{className:e.cardHeader,children:(0,a.jsxs)("div",{className:e.leftHeader,children:[r(),u()]})}),(0,a.jsx)("div",{className:e.cardContentDiv,children:o.errorMessage?(0,a.jsx)("div",{className:e.cardColumn,children:(0,a.jsxs)("span",{className:e.cardItem,children:[(0,a.jsxs)("span",{className:e.cardItemLabel,children:[i.common.error,":"]}),o.errorMessage]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:e.cardColumn,children:[(0,a.jsxs)("span",{className:e.cardItem,children:[(0,a.jsxs)("span",{className:e.cardItemLabel,children:[i.fabricProvisioning.deploymentName,":"]}),o.formState.databaseName]}),(0,a.jsxs)("span",{className:e.cardItem,children:[(0,a.jsxs)("span",{className:e.cardItemLabel,children:[i.fabricProvisioning.startTime,":"]}),o.deploymentStartTime]})]}),(0,a.jsxs)("div",{className:e.cardColumn,style:{paddingLeft:"100px"},children:[(0,a.jsxs)("span",{className:e.cardItem,children:[(0,a.jsxs)("span",{className:e.cardItemLabel,children:[i.azure.tenant,":"]}),o.tenantName]}),(0,a.jsxs)("span",{className:e.cardItem,children:[(0,a.jsxs)("span",{className:e.cardItemLabel,children:[i.fabricProvisioning.workspace,":"]}),o.workspaceName]})]})]})})]}),o.connectionLoadState==="loaded"&&(0,a.jsx)("div",{className:e.buttonDiv,children:(0,a.jsx)(f,{className:e.button,onClick:()=>t.dispose(),appearance:"primary",children:i.common.finish})})]})})]})};var l=n(s()),Ke=d({outerDiv:{display:"flex",flexDirection:"column",gap:"4px",marginLeft:"5px",marginRight:"5px",padding:"8px",width:"500px",whiteSpace:"nowrap",minWidth:"800px",height:"80vh"},button:{height:"32px",width:"160px"},advancedOptionsDiv:{marginLeft:"24px"},bottomDiv:{bottom:0,paddingBottom:"50px"},formDiv:{flexGrow:1},buttonContent:{display:"flex",flexDirection:"row",gap:"0.5rem"}}),_e=()=>{let e=Ke(),t=(0,W.useContext)(p),o=t?.state.deploymentTypeState;if(!t||!o)return;let r=["accountId","workspace","tenantId"],{formComponents:u}=o,[c,k]=(0,W.useState)(!1),[h,N]=(0,W.useState)(!1),_=I=>Object.values(u).filter(g=>g.isAdvancedOption===I&&g.propertyName!=="groupId"&&!r.includes(g.propertyName)).map((g,L)=>(0,l.jsx)("div",{style:g.componentWidth?{width:g.componentWidth,maxWidth:g.componentWidth,whiteSpace:"normal",overflowWrap:"break-word",wordBreak:"break-word"}:{},children:(0,l.jsx)(T,{context:t,component:g,idx:L})},L)),z=async()=>{await t.createDatabase()};return(0,W.useEffect)(()=>{N(o.formValidationLoadState==="loaded")},[o.formValidationLoadState]),h?(0,l.jsx)(ke,{}):(0,l.jsxs)("div",{children:[(0,l.jsx)(Y,{paddingLeft:"20px"}),(0,l.jsxs)("div",{className:e.outerDiv,children:[(0,l.jsxs)("div",{className:e.formDiv,children:[o.dialog?.type==="createConnectionGroup"&&(0,l.jsx)(se,{state:o.dialog.props,saveConnectionGroup:t.createConnectionGroup,closeDialog:()=>t.setConnectionGroupDialogState(!1)}),(0,l.jsx)(T,{context:t,component:o.formComponents.accountId,idx:0,componentProps:{onOptionSelect:(I,g)=>{t.formAction({propertyName:"accountId",isAction:!1,value:g.optionValue}),t.reloadFabricEnvironment()}}}),_(!1),(0,l.jsx)(T,{context:t,component:o.formComponents.groupId,idx:0,componentProps:{onSelect:I=>{I.value===ae?t.setConnectionGroupDialogState(!0):t.formAction({propertyName:"groupId",isAction:!1,value:I.value})}}}),o.formState.accountId&&(0,l.jsx)(T,{context:t,component:o.formComponents.tenantId,idx:0,componentProps:{onOptionSelect:(I,g)=>{t.formAction({propertyName:"tenantId",isAction:!1,value:g.optionValue}),t.reloadFabricEnvironment(g.optionValue)}}}),o.formState.accountId&&(o.workspaces.length>0?(0,l.jsx)(T,{context:t,component:o.formComponents.workspace,idx:0,componentProps:{onSelect:async I=>{await t.handleWorkspaceFormAction(I.value)}}}):o.isWorkspacesErrored?(0,l.jsxs)("div",{className:e.buttonContent,style:{marginTop:"20px",marginBottom:"20px"},children:[(0,l.jsx)(X,{color:y.colorStatusDangerBackground3}),i.fabricProvisioning.errorLoadingWorkspaces]}):(0,l.jsxs)("div",{className:e.buttonContent,style:{marginTop:"20px",marginBottom:"20px"},children:[(0,l.jsx)(F,{size:"tiny"}),i.fabricProvisioning.loadingWorkspaces,"..."]})),(0,l.jsxs)("div",{children:[(0,l.jsx)(f,{icon:c?(0,l.jsx)(Q,{}):(0,l.jsx)(ne,{}),appearance:"subtle",onClick:()=>k(!c)}),i.connectionDialog.advancedOptions]}),c&&(0,l.jsx)("div",{className:e.advancedOptionsDiv,children:_(!0)})]}),(0,l.jsxs)("div",{className:e.bottomDiv,children:[(0,l.jsx)("hr",{style:{background:y.colorNeutralBackground2}}),o.formValidationLoadState==="loading"?(0,l.jsx)(f,{className:e.button,type:"submit",appearance:"secondary",disabled:!0,children:(0,l.jsx)("div",{className:e.buttonContent,children:(0,l.jsx)(F,{size:"extra-tiny",label:i.fabricProvisioning.createDatabase})})}):(0,l.jsx)(f,{className:e.button,type:"submit",onClick:()=>z(),appearance:"primary",children:i.fabricProvisioning.createDatabase})]})]})]})};var E=n(s()),Je=d({outerDiv:{height:"100%",width:"100%",position:"relative",overflowY:"auto",overflowX:"unset"},spinnerDiv:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"20px"},errorIcon:{fontSize:"100px",opacity:.5}}),Ne=()=>{let e=Je(),o=(0,Le.useContext)(p)?.state.deploymentTypeState,r=()=>{switch(o?.loadState){case"loading":return(0,E.jsx)("div",{className:e.spinnerDiv,children:(0,E.jsx)(F,{label:i.fabricProvisioning.loadingFabricProvisioning,labelPosition:"below"})});case"loaded":return(0,E.jsx)(_e,{});case"error":return(0,E.jsxs)("div",{className:e.spinnerDiv,children:[(0,E.jsx)(j,{className:e.errorIcon}),(0,E.jsx)(P,{size:400,children:o?.errorMessage??""})]})}};return(0,E.jsx)("div",{className:e.outerDiv,children:r()})};var m=n(s()),it=d({outerDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",minWidth:"750px",minHeight:"fit-content"},stepsDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",width:"500px"},button:{height:"28px",width:"fit-content",textWrap:"nowrap",marginTop:"20px",marginBottom:"20px"},backButton:{position:"absolute",top:"10px",left:"10px"},itemDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"row",height:"fit-content",padding:"25px"},textDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"left",gap:"10px",width:"425px"},titleDiv:{fontWeight:"bold"},icon:{marginTop:"-10px",width:"75px",height:"75px",marginRight:"10px"},link:{textDecoration:"none"}}),Ee=()=>{let e=it(),t=(0,J.useContext)(p),[o,r]=(0,J.useState)(!1),[u,c]=(0,J.useState)(!1);if(t)return u?(0,m.jsx)($,{}):o?(0,m.jsx)(Ne,{}):(0,m.jsxs)("div",{children:[(0,m.jsxs)(f,{className:e.backButton,onClick:()=>c(!0),appearance:"transparent",children:[(0,m.jsx)(ie,{style:{marginRight:"4px"}}),i.common.back]}),(0,m.jsx)(Y,{}),(0,m.jsx)("div",{className:e.outerDiv,children:(0,m.jsxs)("div",{className:e.stepsDiv,children:[(0,m.jsxs)("div",{className:e.itemDiv,children:[(0,m.jsx)("img",{className:e.icon,src:nt(),alt:i.fabricProvisioning.builtOnAzureSQL}),(0,m.jsxs)("div",{className:e.textDiv,children:[(0,m.jsx)("div",{className:e.titleDiv,children:i.fabricProvisioning.builtOnAzureSQL}),(0,m.jsx)("div",{children:i.fabricProvisioning.builtOnAzureSQLDescription})]})]}),(0,m.jsxs)("div",{className:e.itemDiv,children:[(0,m.jsx)("img",{className:e.icon,src:rt(),alt:i.fabricProvisioning.analyticsReady}),(0,m.jsxs)("div",{className:e.textDiv,children:[(0,m.jsx)("div",{className:e.titleDiv,children:i.fabricProvisioning.analyticsReady}),(0,m.jsx)("div",{children:i.fabricProvisioning.analyticsReadyDescription})]})]}),(0,m.jsxs)("div",{className:e.itemDiv,children:[(0,m.jsx)("img",{className:e.icon,src:at(),alt:i.fabricProvisioning.integratedAndSecure}),(0,m.jsxs)("div",{className:e.textDiv,children:[(0,m.jsx)("div",{className:e.titleDiv,children:i.fabricProvisioning.integratedAndSecure}),(0,m.jsx)("div",{children:i.fabricProvisioning.integratedAndSecureDescription})]})]}),(0,m.jsx)(f,{className:e.button,onClick:()=>{t.initializeDeploymentSpecifics(1),r(!0)},appearance:"primary",children:i.common.getStarted})]})})]})},nt=()=>Ie(),rt=()=>Te(),at=()=>ve();var te=n(b());var Re=n(b());var ee=n(s()),pt=d({outerDiv:{display:"flex",flexDirection:"row",gap:"20px",alignItems:"center",justifyContent:"flex-start",paddingBottom:"50px",minWidth:"750px",minHeight:"fit-content",top:0,left:0,paddingTop:"50px",width:"100%"},titleDiv:{fontWeight:500,fontSize:"24px",display:"flex",alignItems:"center"},icon:{width:"58px",height:"58px"}}),A=({headerText:e,paddingLeft:t})=>{let o=pt(),r=(0,Re.useContext)(p),u=r?.state.deploymentTypeState;if(!(!r||!u))return(0,ee.jsxs)("div",{className:o.outerDiv,style:{paddingLeft:t??"70px"},children:[(0,ee.jsx)("img",{className:o.icon,src:lt()}),(0,ee.jsx)("div",{className:o.titleDiv,children:e})]})},lt=()=>ue();var Me=n(b());var O=n(b());var M=n(b());var x=n(s()),ct=d({outerDiv:{height:"fit-content",width:"500px",position:"relative",overflow:"auto"},spinnerDiv:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"20px"},leftHeader:{display:"flex",alignItems:"center",gap:"8px"},separatorDiv:{position:"absolute",left:0,top:0,bottom:0,width:"4px",background:y.colorNeutralStroke2},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"4px"},topSpace:{marginTop:"8px"}}),R=({step:e})=>{let t=ct(),o=(0,M.useContext)(p),[r,u]=(0,M.useState)(!0),[c,k]=(0,M.useState)(!1),[h,N]=(0,M.useState)(!1);if(!o)return;(0,M.useEffect)(()=>{!c&&e.loadState==="error"&&(u(!0),k(!0))},[o.state]);let _=()=>e.loadState==="notStarted"?(0,x.jsx)(re,{style:{color:y.colorNeutralStroke1Pressed}}):e.loadState==="loaded"?(0,x.jsx)(oe,{style:{color:y.colorStatusSuccessBackground3}}):e.loadState==="error"?(0,x.jsx)(X,{style:{color:y.colorStatusDangerBackground3}}):(0,x.jsx)(F,{size:"tiny"});return(0,x.jsxs)(V,{className:t.outerDiv,children:[(0,x.jsx)("div",{className:t.separatorDiv}),(0,x.jsxs)("div",{className:t.header,children:[(0,x.jsxs)("div",{className:t.leftHeader,children:[_(),(0,x.jsx)("span",{children:e.headerText})]}),e.loadState!=="loaded"&&(0,x.jsx)(f,{icon:r?(0,x.jsx)(Q,{}):(0,x.jsx)(xe,{}),appearance:"subtle",onClick:()=>u(!r)})]}),r&&e.loadState!=="loaded"&&(0,x.jsxs)("div",{style:{marginLeft:"32px"},children:[e.loadState==="error"?e.errorMessage:e.bodyText,e.loadState==="error"&&e.errorLink&&(0,x.jsx)("div",{className:t.topSpace,children:(0,x.jsx)("a",{href:e.errorLink,target:"_blank",rel:"noopener noreferrer",className:t.topSpace,children:e.errorLinkText})}),(0,x.jsxs)("div",{className:t.topSpace,children:[e.loadState==="error"&&h&&(0,x.jsx)("div",{style:{marginBottom:"8px"},children:e.fullErrorText}),e.fullErrorText&&(0,x.jsx)("a",{onClick:()=>N(!h),children:h?i.localContainers.hideFullErrorMessage:i.localContainers.showFullErrorMessage})]})]})]})};var q=n(b());var Z=n(b());async function pe(e,t){let r=e.state.deploymentTypeState.currentDockerStep;r<=t&&await e.completeDockerStep(r)}function le(e,t){return e.state.deploymentTypeState.dockerSteps[t].loadState==="loaded"}function ce(e){let t=e.state.deploymentTypeState;return t.currentDockerStep===Object.keys(t.dockerSteps).length?!1:t.dockerSteps[t.currentDockerStep].loadState==="error"}var de=d({outerDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",minWidth:"650px",minHeight:"fit-content",paddingBottom:"50px"},stepsDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",height:"fit-content",width:"500px"},button:{height:"28px",width:"60px",marginTop:"20px"},stepsHeader:{width:"100%",fontSize:"24px",padding:"8px",alignItems:"unset",textAlign:"left"},stepsSubheader:{width:"100%",fontSize:"14px",alignItems:"unset",textAlign:"left",padding:"8px"},buttonDiv:{display:"flex",flexDirection:"row",justifyContent:"center",width:"100%",padding:"8px",gap:"5px"}});var w=n(s()),Be=()=>{let e=de(),t=(0,Z.useContext)(p),o=t?.state.deploymentTypeState,[r,u]=(0,Z.useState)(!1),[c,k]=(0,Z.useState)(!1),h=6;if(!t||!o||!o.formState.containerName)return;(0,Z.useEffect)(()=>{pe(t,h),u(le(t,h)),k(ce(t))},[t.state]);let N=async()=>{await t.resetDockerStepState()};return(0,w.jsxs)("div",{children:[(0,w.jsx)(A,{headerText:o.formState.containerName}),(0,w.jsx)("div",{className:e.outerDiv,children:(0,w.jsxs)("div",{className:e.stepsDiv,children:[(0,w.jsxs)("div",{className:e.stepsHeader,children:[i.localContainers.settingUp," ",o.formState.containerName,"..."]}),(0,w.jsx)("div",{className:e.stepsSubheader,children:i.localContainers.gettingContainerReadyForConnection}),(0,w.jsx)(R,{step:o.dockerSteps[3]}),(0,w.jsx)(R,{step:o.dockerSteps[4]}),(0,w.jsx)(R,{step:o.dockerSteps[5]}),(0,w.jsx)(R,{step:o.dockerSteps[6]}),(c||r)&&(0,w.jsxs)("div",{className:e.buttonDiv,children:[c&&(0,w.jsx)(f,{className:e.button,onClick:N,appearance:"primary",children:i.common.retry}),(0,w.jsx)(f,{className:e.button,onClick:()=>t.dispose(),appearance:r?"primary":"secondary",children:r?i.common.finish:i.common.cancel})]})]})})]})};var C=n(s()),mt=d({outerDiv:{display:"flex",flexDirection:"column",gap:"4px",marginLeft:"5px",marginRight:"5px",padding:"8px",width:"500px",whiteSpace:"nowrap",minWidth:"800px",height:"80vh"},button:{height:"32px",width:"160px"},advancedOptionsDiv:{marginLeft:"24px"},bottomDiv:{bottom:0,paddingBottom:"50px"},formDiv:{flexGrow:1},buttonContent:{display:"flex",flexDirection:"row",gap:"0.5rem"}}),He=()=>{let e=mt(),t=(0,q.useContext)(p),[o,r]=(0,q.useState)(!1),[u,c]=(0,q.useState)(!1),k=t?.state,h=k?.deploymentTypeState;if(!t||!k||!h)return;let{formComponents:N}=h,_=Object.values(N).find(g=>g.propertyName==="acceptEula"),z=g=>Object.values(N).filter(L=>L.isAdvancedOption===g&&L.propertyName!=="acceptEula"&&L.propertyName!=="groupId").map((L,ge)=>(0,C.jsx)("div",{style:L.componentWidth?{width:L.componentWidth,maxWidth:L.componentWidth,whiteSpace:"normal",overflowWrap:"break-word",wordBreak:"break-word"}:{},children:(0,C.jsx)(T,{context:t,component:L,idx:ge})},ge)),I=async()=>{await t.checkDockerProfile()};return(0,q.useEffect)(()=>{r(h.isDockerProfileValid)},[h.isDockerProfileValid]),o?(0,C.jsx)(Be,{}):(0,C.jsxs)("div",{children:[(0,C.jsx)(A,{headerText:i.localContainers.sqlServerContainerHeader,paddingLeft:"20px"}),(0,C.jsxs)("div",{className:e.outerDiv,children:[(0,C.jsxs)("div",{className:e.formDiv,children:[k.dialog?.type==="createConnectionGroup"&&(0,C.jsx)(se,{state:k.dialog.props,saveConnectionGroup:t.createConnectionGroup,closeDialog:()=>t.setConnectionGroupDialogState(!1)}),z(!1),(0,C.jsx)(T,{context:t,component:h.formComponents.groupId,idx:0,componentProps:{onSelect:g=>{g.value===ae?t.setConnectionGroupDialogState(!0):t.formAction({propertyName:"groupId",isAction:!1,value:g.value})}}}),(0,C.jsxs)("div",{children:[(0,C.jsx)(f,{icon:u?(0,C.jsx)(Q,{}):(0,C.jsx)(ne,{}),appearance:"subtle",onClick:()=>c(!u)}),i.connectionDialog.advancedOptions]}),u&&(0,C.jsx)("div",{className:e.advancedOptionsDiv,children:z(!0)})]}),(0,C.jsxs)("div",{className:e.bottomDiv,children:[(0,C.jsx)("hr",{style:{background:y.colorNeutralBackground2}}),(0,C.jsx)("div",{style:{..._.componentWidth&&{width:_.componentWidth},marginTop:"10px"},children:(0,C.jsx)(T,{context:t,component:_,idx:0},_.propertyName)}),h.formValidationLoadState==="loading"?(0,C.jsx)(f,{className:e.button,type:"submit",appearance:"secondary",disabled:!0,children:(0,C.jsxs)("div",{className:e.buttonContent,children:[(0,C.jsx)(F,{size:"extra-tiny"}),i.localContainers.createContainer]})}):(0,C.jsx)(f,{className:e.button,type:"submit",onClick:()=>I(),appearance:"primary",children:i.localContainers.createContainer})]})]})]})};var D=n(s()),Ae=()=>{let e=de(),t=(0,O.useContext)(p),o=t?.state.deploymentTypeState,[r,u]=(0,O.useState)(!1),[c,k]=(0,O.useState)(!1),[h,N]=(0,O.useState)(!1),_=2;if(!t||!o)return;(0,O.useEffect)(()=>{pe(t,_),k(le(t,_)),N(ce(t))},[t.state]);let z=async()=>{await t.resetDockerStepState()};return r?(0,D.jsx)(He,{}):(0,D.jsxs)("div",{children:[(0,D.jsx)(A,{headerText:i.localContainers.sqlServerContainerHeader}),(0,D.jsx)("div",{className:e.outerDiv,children:(0,D.jsxs)("div",{className:e.stepsDiv,children:[(0,D.jsx)("div",{className:e.stepsHeader,children:i.localContainers.gettingDockerReady}),(0,D.jsx)("div",{className:e.stepsSubheader,children:i.localContainers.checkingPrerequisites}),(0,D.jsx)(R,{step:o.dockerSteps[0]}),(0,D.jsx)(R,{step:o.dockerSteps[1]}),(0,D.jsx)(R,{step:o.dockerSteps[2]}),(0,D.jsxs)("div",{className:e.buttonDiv,children:[h&&(0,D.jsx)(f,{className:e.button,onClick:z,appearance:"primary",children:i.common.retry}),c?(0,D.jsx)(f,{className:e.button,onClick:()=>u(!0),appearance:"primary",children:i.common.next}):(0,D.jsx)(f,{className:e.button,onClick:()=>{t.dispose()},children:i.common.cancel})]})]})})]})};var B=n(s()),ft=d({outerDiv:{height:"100%",width:"100%",position:"relative",overflowY:"auto",overflowX:"unset"},spinnerDiv:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"20px"},errorIcon:{fontSize:"100px",opacity:.5}}),Oe=()=>{let e=ft(),o=(0,Me.useContext)(p)?.state.deploymentTypeState,r=()=>{switch(o?.loadState){case"loading":return(0,B.jsx)("div",{className:e.spinnerDiv,children:(0,B.jsx)(F,{label:i.localContainers.loadingLocalContainers,labelPosition:"below"})});case"loaded":return(0,B.jsx)(Ae,{});case"error":return(0,B.jsxs)("div",{className:e.spinnerDiv,children:[(0,B.jsx)(j,{className:e.errorIcon}),(0,B.jsx)(P,{size:400,children:o?.errorMessage??""})]})}};return(0,B.jsx)("div",{className:e.outerDiv,children:r()})};var v=n(s()),vt=d({outerDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",minWidth:"750px",minHeight:"fit-content"},stepsDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",width:"500px"},button:{height:"28px",width:"fit-content",textWrap:"nowrap",marginTop:"20px",marginBottom:"20px"},backButton:{position:"absolute",top:"10px",left:"10px"},itemDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"row",height:"fit-content",padding:"10px"},textDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"left",gap:"10px",width:"425px"},titleDiv:{fontWeight:"bold"},icon:{marginTop:"-10px",width:"75px",height:"75px",marginRight:"10px"},link:{textDecoration:"none"}}),Ve=()=>{let e=vt(),t=(0,te.useContext)(p),[o,r]=(0,te.useState)(!1),[u,c]=(0,te.useState)(!1);if(t)return u?(0,v.jsx)($,{}):o?(0,v.jsx)(Oe,{}):(0,v.jsxs)("div",{children:[(0,v.jsxs)(f,{className:e.backButton,onClick:()=>c(!0),appearance:"transparent",children:[(0,v.jsx)(ie,{style:{marginRight:"4px"}}),i.common.back]}),(0,v.jsx)(A,{headerText:i.localContainers.sqlServerContainerHeader}),(0,v.jsx)("div",{className:e.outerDiv,children:(0,v.jsxs)("div",{className:e.stepsDiv,children:[(0,v.jsxs)("div",{className:e.itemDiv,children:[(0,v.jsx)("img",{className:e.icon,src:ut(),alt:i.localContainers.instantContainerSetup}),(0,v.jsxs)("div",{className:e.textDiv,children:[(0,v.jsx)("div",{className:e.titleDiv,children:i.localContainers.instantContainerSetup}),(0,v.jsx)("div",{children:i.localContainers.instantContainerDescription})]})]}),(0,v.jsxs)("div",{className:e.itemDiv,children:[(0,v.jsx)("img",{className:e.icon,src:gt(),alt:i.localContainers.chooseTheRightVersion,style:{width:"60px",height:"60px",marginLeft:"9px",marginRight:"18px"}}),(0,v.jsxs)("div",{className:e.textDiv,children:[(0,v.jsx)("div",{className:e.titleDiv,children:i.localContainers.chooseTheRightVersion}),(0,v.jsx)("div",{children:i.localContainers.chooseTheRightVersionDescription}),(0,v.jsx)("a",{href:"https://learn.microsoft.com/en-us/sql/sql-server/what-s-new-in-sql-server-2025",target:"_blank",className:e.link,rel:"noopener noreferrer",children:i.localContainers.learnMoreAboutSqlServer2025}),(0,v.jsx)("a",{href:"https://learn.microsoft.com/en-us/sql/sql-server/editions-and-components-of-sql-server-2025?",target:"_blank",rel:"noopener noreferrer",className:e.link,style:{marginTop:"0px"},children:i.localContainers.sqlServerEditionsComparison}),(0,v.jsx)("a",{href:"https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-docker-container-configure",target:"_blank",rel:"noopener noreferrer",className:e.link,style:{marginTop:"0px"},children:i.localContainers.configureAndCustomizeSqlServer})]})]}),(0,v.jsx)(f,{className:e.button,onClick:()=>{t.initializeDeploymentSpecifics(0),r(!0)},appearance:"primary",children:i.common.getStarted})]})})]})},ut=()=>ve(),gt=()=>Ue();var S=n(s()),St=d({outerDiv:{display:"flex",flexDirection:"column",gap:"2px",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",minWidth:"750px",minHeight:"fit-content"},cardRow:{display:"flex",flexDirection:"row",gap:"20px"},itemDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"row",height:"fit-content",padding:"10px"},textDiv:{position:"relative",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"left",gap:"10px",width:"425px"},dockerIcon:{width:"75px",height:"75px",marginRight:"10px"},sqlInFabricIcon:{width:"65px",height:"65px",marginRight:"10px"},subtitleDiv:{width:"100%",fontSize:"14px",alignItems:"unset",textAlign:"left",fontWeight:400,paddingLeft:"70px",paddingBottom:"50px"},outerHeaderDiv:{display:"flex",flexDirection:"row",gap:"20px",alignItems:"center",justifyContent:"flex-start",minWidth:"750px",minHeight:"fit-content",top:0,left:0,paddingTop:"50px",width:"100%",paddingLeft:"70px",paddingBottom:"15px"},titleDiv:{fontWeight:500,fontSize:"24px",display:"flex",alignItems:"center"},headerIcon:{width:"58px",height:"58px"},cardDiv:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",gap:"5px",width:"400px",marginTop:"5px"},cardHeader:{fontWeight:400,fontSize:"18px",padding:"5px",marginTop:"5px"},cardDescription:{fontWeight:400,fontSize:"14px",padding:"5px",color:y.colorNeutralForeground4}}),$=()=>{let e=St(),t=(0,me.useContext)(p),[o,r]=(0,me.useState)();return t?o!==void 0?o===0?(0,S.jsx)(Ve,{}):o===1?(0,S.jsx)(Ee,{}):null:(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:e.outerHeaderDiv,children:[(0,S.jsx)("img",{className:e.headerIcon,src:yt()}),(0,S.jsx)(P,{className:e.titleDiv,children:i.deployment.deploymentHeader})]}),(0,S.jsx)(P,{className:e.subtitleDiv,children:i.deployment.deploymentDescription}),(0,S.jsx)("div",{className:e.outerDiv,children:(0,S.jsxs)("div",{className:e.cardRow,children:[(0,S.jsxs)(V,{className:e.cardDiv,onClick:()=>r(0),children:[(0,S.jsx)("img",{className:e.dockerIcon,src:ht(),alt:i.deployment.dockerSqlServerHeader}),(0,S.jsx)(P,{className:e.cardHeader,children:i.deployment.dockerSqlServerHeader}),(0,S.jsx)(P,{className:e.cardDescription,children:i.deployment.dockerSqlServerDescription})]}),(0,S.jsxs)(V,{className:e.cardDiv,onClick:()=>r(1),children:[(0,S.jsx)("img",{className:e.sqlInFabricIcon,src:Dt(),alt:i.deployment.fabricProvisioningHeader}),(0,S.jsx)(P,{className:e.cardHeader,children:i.deployment.fabricProvisioningHeader}),(0,S.jsx)(P,{className:e.cardDescription,children:i.deployment.fabricProvisioningDescription})]})]})})]}):void 0},yt=()=>We(),ht=()=>ue(),Dt=()=>Ce();var H=n(s()),bt=d({outerDiv:{height:"100%",width:"100%",position:"relative",overflowY:"auto",overflowX:"unset"},spinnerDiv:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:"20px"},errorIcon:{fontSize:"100px",opacity:.5}}),qe=()=>{let e=bt(),o=(0,Ze.useContext)(p)?.state,r=()=>{switch(o?.loadState){case"loading":return(0,H.jsx)("div",{className:e.spinnerDiv,children:(0,H.jsx)(F,{label:`${i.deployment.loadingDeploymentPage}...`,labelPosition:"below"})});case"loaded":return(0,H.jsx)($,{});case"error":return(0,H.jsxs)("div",{className:e.spinnerDiv,children:[(0,H.jsx)(j,{className:e.errorIcon}),(0,H.jsx)(P,{size:400,children:o?.errorMessage??""})]})}};return(0,H.jsx)("div",{className:e.outerDiv,children:r()})};var fe=n(s());ze.default.createRoot(document.getElementById("root")).render((0,fe.jsx)(ye,{children:(0,fe.jsx)(be,{children:(0,fe.jsx)(qe,{})})}));
