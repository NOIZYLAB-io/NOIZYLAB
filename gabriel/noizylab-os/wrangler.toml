name = "noizylab-os"
main = "src/worker.ts"
compatibility_date = "2024-01-01"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "noizylab-os"
database_id = "YOUR_D1_ID"  # wrangler d1 create noizylab-os

# R2 Storage
[[r2_buckets]]
binding = "UPLOADS"
bucket_name = "noizylab-uploads"

# Durable Objects
[durable_objects]
bindings = [{ name = "ROOM", class_name = "RoomDO" }]

[[migrations]]
tag = "v1"
new_classes = ["RoomDO"]

# AI
[ai]
binding = "AI"

# RealtimeKit REST config
[vars]
CF_ACCOUNT_ID = "REPLACE_ME"
RTK_APP_ID = "REPLACE_ME"
CF_API_TOKEN = "REPLACE_ME" # Cloudflare API token with Realtime permissions
RTK_PRESET_STAFF = "admin"  # change to your preset_name
RTK_PRESET_CLIENT = "viewer" # change to your preset_name

# Secrets: TURNSTILE_SECRET, ACCESS_AUD
