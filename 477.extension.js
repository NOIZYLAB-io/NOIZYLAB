"use strict";exports.id=477,exports.ids=[477],exports.modules={1379:(e,t,s)=>{s.d(t,{GetRoleCredentialsCommand:()=>$,SSOClient:()=>ht});var n=s(136),o=s(135);const r={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var i=s(65),a=s(66);class c extends a.T{constructor(e){super(e),Object.setPrototypeOf(this,c.prototype)}}class p extends c{name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,p.prototype)}}class u extends c{name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,u.prototype)}}class d extends c{name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,d.prototype)}}class l extends c{name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,l.prototype)}}const h="accountId",m="accessToken",g="account_id",y="client",S="error",f="http",v="httpError",P="httpHeader",x="httpQuery",R="message",E="roleName",b="smithy.ts.sdk.synthetic.com.amazonaws.sso",I="x-amz-sso_bearer_token",w="com.amazonaws.sso";var k=[0,w,"AccessTokenType",8,0],A=[0,w,"SecretAccessKeyType",8,0],C=[0,w,"SessionTokenType",8,0],D=[3,w,"GetRoleCredentialsRequest",0,[E,h,m],[[0,{[x]:"role_name"}],[0,{[x]:g}],[()=>k,{[P]:I}]]],F=[3,w,"GetRoleCredentialsResponse",0,["roleCredentials"],[[()=>q,0]]],O=[-3,w,"InvalidRequestException",{[S]:y,[v]:400},[R],[0]];i.O.for(w).registerError(O,p);var U=[-3,w,"ResourceNotFoundException",{[S]:y,[v]:404},[R],[0]];i.O.for(w).registerError(U,u);var q=[3,w,"RoleCredentials",0,["accessKeyId","secretAccessKey","sessionToken","expiration"],[0,[()=>A,0],[()=>C,0],1]],T=[-3,w,"TooManyRequestsException",{[S]:y,[v]:429},[R],[0]];i.O.for(w).registerError(T,d);var j=[-3,w,"UnauthorizedException",{[S]:y,[v]:401},[R],[0]];i.O.for(w).registerError(j,l);var z=[-3,b,"SSOServiceException",0,[],[]];i.O.for(b).registerError(z,c);var G=[9,w,"GetRoleCredentials",{[f]:["GET","/federation/credentials",200]},()=>D,()=>F];class $ extends(o.u.classBuilder().ep(r).m((function(e,t,s,o){return[(0,n.r)(s,e.getEndpointParameterInstructions())]})).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").sc(G).build()){}var M=s(36),N=s(130),H=s(131),L=s(117),_=s(128),K=s(123),V=s(132),B=s(133),Q=s(134),W=s(127),J=s(38),X=s(124),Y=s(106),Z=s(129),ee=s(121),te=s(42),se=s(39),ne=s(41);const oe=async(e,t,s)=>({operation:(0,se.u)(t).operation,region:await(0,ne.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const re=e=>{const t=[];switch(e.operation){case"GetRoleCredentials":case"ListAccountRoles":case"ListAccounts":case"Logout":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t},ie="3.933.0";var ae=s(100),ce=s(101),pe=s(104),ue=s(116),de=s(98),le=s(112),he=s(115),me=s(51),ge=s(85),ye=s(110),Se=s(111),fe=s(102),ve=s(107),Pe=s(61),xe=s(1381),Re=s(1380),Ee=s(63),be=s(52),Ie=s(59),we=s(60),ke=s(47),Ae=s(72),Ce=s(53),De=s(57),Fe=s(58),Oe=s(56);const Ue="required",qe="fn",Te="argv",je="ref",ze=!0,Ge="isSet",$e="booleanEquals",Me="error",Ne="endpoint",He="tree",Le="PartitionResult",_e="getAttr",Ke={[Ue]:!1,type:"string"},Ve={[Ue]:!0,default:!1,type:"boolean"},Be={[je]:"Endpoint"},Qe={[qe]:$e,[Te]:[{[je]:"UseFIPS"},!0]},We={[qe]:$e,[Te]:[{[je]:"UseDualStack"},!0]},Je={},Xe={[qe]:_e,[Te]:[{[je]:Le},"supportsFIPS"]},Ye={[je]:Le},Ze={[qe]:$e,[Te]:[!0,{[qe]:_e,[Te]:[Ye,"supportsDualStack"]}]},et=[Qe],tt=[We],st=[{[je]:"Region"}],nt={version:"1.0",parameters:{Region:Ke,UseDualStack:Ve,UseFIPS:Ve,Endpoint:Ke},rules:[{conditions:[{[qe]:Ge,[Te]:[Be]}],rules:[{conditions:et,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Me},{conditions:tt,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Me},{endpoint:{url:Be,properties:Je,headers:Je},type:Ne}],type:He},{conditions:[{[qe]:Ge,[Te]:st}],rules:[{conditions:[{[qe]:"aws.partition",[Te]:st,assign:Le}],rules:[{conditions:[Qe,We],rules:[{conditions:[{[qe]:$e,[Te]:[ze,Xe]},Ze],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Je,headers:Je},type:Ne}],type:He},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Me}],type:He},{conditions:et,rules:[{conditions:[{[qe]:$e,[Te]:[Xe,ze]}],rules:[{conditions:[{[qe]:"stringEquals",[Te]:[{[qe]:_e,[Te]:[Ye,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Je,headers:Je},type:Ne},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Je,headers:Je},type:Ne}],type:He},{error:"FIPS is enabled but this partition does not support FIPS",type:Me}],type:He},{conditions:tt,rules:[{conditions:[Ze],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Je,headers:Je},type:Ne}],type:He},{error:"DualStack is enabled but this partition does not support DualStack",type:Me}],type:He},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Je,headers:Je},type:Ne}],type:He}],type:He},{error:"Invalid Configuration: Missing Region",type:Me}]},ot=new De.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),rt=(e,t={})=>ot.get(e,(()=>(0,Fe.s)(nt,{endpointParams:e,logger:t.logger})));Oe.m.aws=Ce.UF;var it=s(99),at=s(84),ct=s(83);const pt=e=>{(0,ct.I)(process.version);const t=(0,at.I)(e),s=()=>t().then(it.l),n=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Ie.E,base64Encoder:e?.base64Encoder??we.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??rt,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??re,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Pe.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Re.m}],logger:e?.logger??new Ee.N,protocol:e?.protocol??new xe.Y({defaultNamespace:"com.amazonaws.sso"}),serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??be.D,utf8Decoder:e?.utf8Decoder??ke.a,utf8Encoder:e?.utf8Encoder??Ae.P}))(e);(0,ae.I)(process.version);const o={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ge.Z)(ce.$,o),bodyLengthChecker:e?.bodyLengthChecker??fe.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,pe.pf)({serviceId:n.serviceId,clientVersion:ie}),maxAttempts:e?.maxAttempts??(0,ge.Z)(Y.qs,e),region:e?.region??(0,ge.Z)(de.GG,{...de.zH,...o}),requestHandler:ye.$.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,ge.Z)({...Y.kN,default:async()=>(await s()).retryMode||ve.L0},e),sha256:e?.sha256??me.V.bind(null,"sha256"),streamCollector:e?.streamCollector??Se.k,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ge.Z)(le.e$,o),useFipsEndpoint:e?.useFipsEndpoint??(0,ge.Z)(he.Ko,o),userAgentAppId:e?.userAgentAppId??(0,ge.Z)(ue.hV,o)}};var ut=s(118),dt=s(120),lt=s(119);class ht extends ee.K{config;constructor(...[e]){const t=pt(e||{});super(t),this.initConfig=t;const s=(n=t,Object.assign(n,{useDualstackEndpoint:n.useDualstackEndpoint??!1,useFipsEndpoint:n.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}));var n;const o=(0,L.D)(s),r=(0,Y.$z)(o),i=(0,K.T)(r),a=(0,M.OV)(i),c=((e,t)=>{const s=Object.assign((0,ut.R)(e),(0,lt.xA)(e),(0,dt.e)(e),(e=>{const t=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(e){const s=t.findIndex((t=>t.schemeId===e.schemeId));-1===s?t.push(e):t.splice(s,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){s=e},httpAuthSchemeProvider:()=>s,setCredentials(e){n=e},credentials:()=>n}})(e));return t.forEach((e=>e.configure(s))),Object.assign(e,(0,ut.$)(s),(0,lt.uv)(s),(0,dt.j)(s),{httpAuthSchemes:(n=s).httpAuthSchemes(),httpAuthSchemeProvider:n.httpAuthSchemeProvider(),credentials:n.credentials()});var n})((e=>{const t=(0,te.h)(e);return Object.assign(t,{authSchemePreference:(0,ne.t)(e.authSchemePreference??[])})})((0,X.C)(a)),e?.extensions||[]);this.config=c,this.middlewareStack.use((0,W.wq)(this.config)),this.middlewareStack.use((0,_.sM)(this.config)),this.middlewareStack.use((0,Z.ey)(this.config)),this.middlewareStack.use((0,J.vK)(this.config)),this.middlewareStack.use((0,M.TC)(this.config)),this.middlewareStack.use((0,N.Y7)(this.config)),this.middlewareStack.use((0,H.n)(this.config)),this.middlewareStack.use((0,V.w)(this.config,{httpAuthSchemeParametersProvider:oe,identityProviderConfigProvider:async e=>new B.h({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,Q.l)(this.config))}destroy(){super.destroy()}}}};