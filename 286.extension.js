"use strict";exports.id=286,exports.ids=[286],exports.modules={1385:(e,t,n)=>{n.d(t,{CreateTokenCommand:()=>Pt,SSOOIDCClient:()=>Te});var r=n(36),i=n(130),s=n(131),o=n(117),a=n(128),c=n(123),p=n(132),d=n(133),u=n(134),l=n(127),h=n(38),m=n(124),v=n(106),x=n(129),f=n(121),S=n(42),g=n(39),E=n(41);const y=async(e,t,n)=>({operation:(0,g.u)(t).operation,region:await(0,E.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const I=e=>{const t=[];if("CreateToken"===e.operation)t.push({schemeId:"smithy.api#noAuth"});else t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e));return t},P={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var b=n(1386),k=n(100),C=n(101),w=n(104),D=n(116),O=n(98),A=n(112),T=n(115),$=n(51),R=n(85),j=n(110),U=n(111),F=n(102),_=n(107),z=n(61),q=n(1381),G=n(1380),H=n(63),V=n(52),M=n(59),N=n(60),L=n(47),W=n(72),B=n(53),J=n(57),K=n(58),Q=n(56);const X="required",Y="fn",Z="argv",ee="ref",te=!0,ne="isSet",re="booleanEquals",ie="error",se="endpoint",oe="tree",ae="PartitionResult",ce="getAttr",pe={[X]:!1,type:"string"},de={[X]:!0,default:!1,type:"boolean"},ue={[ee]:"Endpoint"},le={[Y]:re,[Z]:[{[ee]:"UseFIPS"},!0]},he={[Y]:re,[Z]:[{[ee]:"UseDualStack"},!0]},me={},ve={[Y]:ce,[Z]:[{[ee]:ae},"supportsFIPS"]},xe={[ee]:ae},fe={[Y]:re,[Z]:[!0,{[Y]:ce,[Z]:[xe,"supportsDualStack"]}]},Se=[le],ge=[he],Ee=[{[ee]:"Region"}],ye={version:"1.0",parameters:{Region:pe,UseDualStack:de,UseFIPS:de,Endpoint:pe},rules:[{conditions:[{[Y]:ne,[Z]:[ue]}],rules:[{conditions:Se,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ie},{conditions:ge,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ie},{endpoint:{url:ue,properties:me,headers:me},type:se}],type:oe},{conditions:[{[Y]:ne,[Z]:Ee}],rules:[{conditions:[{[Y]:"aws.partition",[Z]:Ee,assign:ae}],rules:[{conditions:[le,he],rules:[{conditions:[{[Y]:re,[Z]:[te,ve]},fe],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:me,headers:me},type:se}],type:oe},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ie}],type:oe},{conditions:Se,rules:[{conditions:[{[Y]:re,[Z]:[ve,te]}],rules:[{conditions:[{[Y]:"stringEquals",[Z]:[{[Y]:ce,[Z]:[xe,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:me,headers:me},type:se},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:me,headers:me},type:se}],type:oe},{error:"FIPS is enabled but this partition does not support FIPS",type:ie}],type:oe},{conditions:ge,rules:[{conditions:[fe],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:me,headers:me},type:se}],type:oe},{error:"DualStack is enabled but this partition does not support DualStack",type:ie}],type:oe},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:me,headers:me},type:se}],type:oe}],type:oe},{error:"Invalid Configuration: Missing Region",type:ie}]},Ie=new J.k({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Pe=(e,t={})=>Ie.get(e,(()=>(0,K.s)(ye,{endpointParams:e,logger:t.logger})));Q.m.aws=B.UF;var be=n(99),ke=n(84),Ce=n(83);const we=e=>{(0,Ce.I)(process.version);const t=(0,ke.I)(e),n=()=>t().then(be.l),r=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??M.E,base64Encoder:e?.base64Encoder??N.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Pe,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??I,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new z.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new G.m}],logger:e?.logger??new H.N,protocol:e?.protocol??new q.Y({defaultNamespace:"com.amazonaws.ssooidc"}),serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??V.D,utf8Decoder:e?.utf8Decoder??L.a,utf8Encoder:e?.utf8Encoder??W.P}))(e);(0,k.I)(process.version);const i={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,R.Z)(C.$,i),bodyLengthChecker:e?.bodyLengthChecker??F.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,w.pf)({serviceId:r.serviceId,clientVersion:b.rE}),maxAttempts:e?.maxAttempts??(0,R.Z)(v.qs,e),region:e?.region??(0,R.Z)(O.GG,{...O.zH,...i}),requestHandler:j.$.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,R.Z)({...v.kN,default:async()=>(await n()).retryMode||_.L0},e),sha256:e?.sha256??$.V.bind(null,"sha256"),streamCollector:e?.streamCollector??U.k,useDualstackEndpoint:e?.useDualstackEndpoint??(0,R.Z)(A.e$,i),useFipsEndpoint:e?.useFipsEndpoint??(0,R.Z)(T.Ko,i),userAgentAppId:e?.userAgentAppId??(0,R.Z)(D.hV,i)}};var De=n(118),Oe=n(120),Ae=n(119);class Te extends f.K{config;constructor(...[e]){const t=we(e||{});super(t),this.initConfig=t;const n=(f=t,Object.assign(f,{useDualstackEndpoint:f.useDualstackEndpoint??!1,useFipsEndpoint:f.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}));var f;const g=(0,o.D)(n),I=(0,v.$z)(g),P=(0,c.T)(I),b=(0,r.OV)(P),k=((e,t)=>{const n=Object.assign((0,De.R)(e),(0,Ae.xA)(e),(0,Oe.e)(e),(e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex((t=>t.schemeId===e.schemeId));-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){r=e},credentials:()=>r}})(e));return t.forEach((e=>e.configure(n))),Object.assign(e,(0,De.$)(n),(0,Ae.uv)(n),(0,Oe.j)(n),{httpAuthSchemes:(r=n).httpAuthSchemes(),httpAuthSchemeProvider:r.httpAuthSchemeProvider(),credentials:r.credentials()});var r})((e=>{const t=(0,S.h)(e);return Object.assign(t,{authSchemePreference:(0,E.t)(e.authSchemePreference??[])})})((0,m.C)(b)),e?.extensions||[]);this.config=k,this.middlewareStack.use((0,l.wq)(this.config)),this.middlewareStack.use((0,a.sM)(this.config)),this.middlewareStack.use((0,x.ey)(this.config)),this.middlewareStack.use((0,h.vK)(this.config)),this.middlewareStack.use((0,r.TC)(this.config)),this.middlewareStack.use((0,i.Y7)(this.config)),this.middlewareStack.use((0,s.n)(this.config)),this.middlewareStack.use((0,p.w)(this.config,{httpAuthSchemeParametersProvider:y,identityProviderConfigProvider:async e=>new d.h({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,u.l)(this.config))}destroy(){super.destroy()}}var $e=n(136),Re=n(135),je=n(65),Ue=n(66);class Fe extends Ue.T{constructor(e){super(e),Object.setPrototypeOf(this,Fe.prototype)}}class _e extends Fe{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,_e.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}}class ze extends Fe{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,ze.prototype),this.error=e.error,this.error_description=e.error_description}}class qe extends Fe{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,qe.prototype),this.error=e.error,this.error_description=e.error_description}}class Ge extends Fe{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,Ge.prototype),this.error=e.error,this.error_description=e.error_description}}class He extends Fe{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,He.prototype),this.error=e.error,this.error_description=e.error_description}}class Ve extends Fe{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,Ve.prototype),this.error=e.error,this.error_description=e.error_description}}class Me extends Fe{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,Me.prototype),this.error=e.error,this.reason=e.reason,this.error_description=e.error_description}}class Ne extends Fe{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,Ne.prototype),this.error=e.error,this.error_description=e.error_description}}class Le extends Fe{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,Le.prototype),this.error=e.error,this.error_description=e.error_description}}class We extends Fe{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,We.prototype),this.error=e.error,this.error_description=e.error_description}}class Be extends Fe{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,Be.prototype),this.error=e.error,this.error_description=e.error_description}}const Je="client",Ke="error",Qe="error_description",Xe="http",Ye="httpError",Ze="reason",et="refreshToken",tt="smithy.ts.sdk.synthetic.com.amazonaws.ssooidc",nt="com.amazonaws.ssooidc";var rt=[0,nt,"AccessToken",8,0],it=[0,nt,"ClientSecret",8,0],st=[0,nt,"CodeVerifier",8,0],ot=[0,nt,"IdToken",8,0],at=[0,nt,"RefreshToken",8,0],ct=[-3,nt,"AccessDeniedException",{[Ke]:Je,[Ye]:400},[Ke,Ze,Qe],[0,0,0]];je.O.for(nt).registerError(ct,_e);var pt=[-3,nt,"AuthorizationPendingException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(pt,ze);var dt=[3,nt,"CreateTokenRequest",0,["clientId","clientSecret","grantType","deviceCode","code",et,"scope","redirectUri","codeVerifier"],[0,[()=>it,0],0,0,0,[()=>at,0],64,0,[()=>st,0]]],ut=[3,nt,"CreateTokenResponse",0,["accessToken","tokenType","expiresIn",et,"idToken"],[[()=>rt,0],0,1,[()=>at,0],[()=>ot,0]]],lt=[-3,nt,"ExpiredTokenException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(lt,qe);var ht=[-3,nt,"InternalServerException",{[Ke]:"server",[Ye]:500},[Ke,Qe],[0,0]];je.O.for(nt).registerError(ht,Ge);var mt=[-3,nt,"InvalidClientException",{[Ke]:Je,[Ye]:401},[Ke,Qe],[0,0]];je.O.for(nt).registerError(mt,He);var vt=[-3,nt,"InvalidGrantException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(vt,Ve);var xt=[-3,nt,"InvalidRequestException",{[Ke]:Je,[Ye]:400},[Ke,Ze,Qe],[0,0,0]];je.O.for(nt).registerError(xt,Me);var ft=[-3,nt,"InvalidScopeException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(ft,Ne);var St=[-3,nt,"SlowDownException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(St,Le);var gt=[-3,nt,"UnauthorizedClientException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(gt,We);var Et=[-3,nt,"UnsupportedGrantTypeException",{[Ke]:Je,[Ye]:400},[Ke,Qe],[0,0]];je.O.for(nt).registerError(Et,Be);var yt=[-3,tt,"SSOOIDCServiceException",0,[],[]];je.O.for(tt).registerError(yt,Fe);var It=[9,nt,"CreateToken",{[Xe]:["POST","/token",200]},()=>dt,()=>ut];class Pt extends(Re.u.classBuilder().ep(P).m((function(e,t,n,r){return[(0,$e.r)(n,e.getEndpointParameterInstructions())]})).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").sc(It).build()){}},1386:e=>{e.exports={rE:"3.933.0"}}};