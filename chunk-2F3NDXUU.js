import{c as j,d as M}from"./chunk-M3U674VW.js";function We(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function le(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function oe(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?le(Object(t),!0).forEach(function(n){We(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ze(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}function fe(e,r){if(e==null)return{};var t=ze(e,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function de(e,r){return Ne(e)||Ue(e,r)||qe(e,r)||Fe()}function Ne(e){if(Array.isArray(e))return e}function Ue(e,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,o=!1,i=void 0;try{for(var c=e[Symbol.iterator](),s;!(n=(s=c.next()).done)&&(t.push(s.value),!(r&&t.length===r));n=!0);}catch(p){o=!0,i=p}finally{try{!n&&c.return!=null&&c.return()}finally{if(o)throw i}}return t}}function qe(e,r){if(e){if(typeof e=="string")return se(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return se(e,r)}}function se(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Fe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function He(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function pe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ge(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?pe(Object(t),!0).forEach(function(n){He(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _e(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){return r.reduceRight(function(o,i){return i(o)},n)}}function V(e){return function r(){for(var t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var c=arguments.length,s=new Array(c),p=0;p<c;p++)s[p]=arguments[p];return r.apply(t,[].concat(o,s))}}}function H(e){return{}.toString.call(e).includes("Object")}function $e(e){return!Object.keys(e).length}function W(e){return typeof e=="function"}function ke(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function Be(e,r){return H(r)||E("changeType"),Object.keys(r).some(function(t){return!ke(e,t)})&&E("changeField"),r}function Ke(e){W(e)||E("selectorType")}function Ge(e){W(e)||H(e)||E("handlerType"),H(e)&&Object.values(e).some(function(r){return!W(r)})&&E("handlersType")}function Ye(e){e||E("initialIsRequired"),H(e)||E("initialType"),$e(e)&&E("initialContent")}function Je(e,r){throw new Error(e[r]||e.default)}var Qe={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},E=V(Je)(Qe),F={changes:Be,selector:Ke,handler:Ge,initial:Ye};function Xe(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.initial(e),F.handler(r);var t={current:e},n=V(rr)(t,r),o=V(er)(t),i=V(F.changes)(e),c=V(Ze)(t);function s(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(T){return T};return F.selector(y),y(t.current)}function p(y){_e(n,o,i,c)(y)}return[s,p]}function Ze(e,r){return W(r)?r(e.current):r}function er(e,r){return e.current=ge(ge({},e.current),r),r}function rr(e,r,t){return W(r)?r(e.current):Object.keys(t).forEach(function(n){var o;return(o=r[n])===null||o===void 0?void 0:o.call(r,e.current[n])}),t}var tr={create:Xe},me=tr;var nr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}},he=nr;function or(e){return function r(){for(var t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var c=arguments.length,s=new Array(c),p=0;p<c;p++)s[p]=arguments[p];return r.apply(t,[].concat(o,s))}}}var ve=or;function ir(e){return{}.toString.call(e).includes("Object")}var be=ir;function ar(e){return e||ye("configIsRequired"),be(e)||ye("configType"),e.urls?(cr(),{paths:{vs:e.urls.monacoBase}}):e}function cr(){console.warn(we.deprecation)}function ur(e,r){throw new Error(e[r]||e.default)}var we={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ye=ve(ur)(we),lr={config:ar},Oe=lr;var sr=function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return function(o){return t.reduceRight(function(i,c){return c(i)},o)}},je=sr;function Me(e,r){return Object.keys(r).forEach(function(t){r[t]instanceof Object&&e[t]&&Object.assign(r[t],Me(e[t],r[t]))}),oe(oe({},e),r)}var Se=Me;var fr={type:"cancelation",msg:"operation is manually canceled"};function dr(e){var r=!1,t=new Promise(function(n,o){e.then(function(i){return r?o(fr):n(i)}),e.catch(o)});return t.cancel=function(){return r=!0},t}var _=dr;var pr=me.create({config:he,isInitialized:!1,resolve:null,reject:null,monaco:null}),Pe=de(pr,2),z=Pe[0],$=Pe[1];function gr(e){var r=Oe.config(e),t=r.monaco,n=fe(r,["monaco"]);$(function(o){return{config:Se(o.config,n),monaco:t}})}function mr(){var e=z(function(r){var t=r.monaco,n=r.isInitialized,o=r.resolve;return{monaco:t,isInitialized:n,resolve:o}});if(!e.isInitialized){if($({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),_(ie);if(window.monaco&&window.monaco.editor)return Ee(window.monaco),e.resolve(window.monaco),_(ie);je(hr,br)(yr)}return _(ie)}function hr(e){return document.body.appendChild(e)}function vr(e){var r=document.createElement("script");return e&&(r.src=e),r}function br(e){var r=z(function(n){var o=n.config,i=n.reject;return{config:o,reject:i}}),t=vr("".concat(r.config.paths.vs,"/loader.js"));return t.onload=function(){return e()},t.onerror=r.reject,t}function yr(){var e=z(function(t){var n=t.config,o=t.resolve,i=t.reject;return{config:n,resolve:o,reject:i}}),r=window.require;r.config(e.config),r(["vs/editor/editor.main"],function(t){Ee(t),e.resolve(t)},function(t){e.reject(t)})}function Ee(e){z().monaco||$({monaco:e})}function wr(){return z(function(e){var r=e.monaco;return r})}var ie=new Promise(function(e,r){return $({resolve:e,reject:r})}),Or={config:gr,init:mr,__getMonacoInstance:wr},I=Or;var Ie=j(M(),1),d=j(M(),1);var Te=j(M(),1),B=j(M(),1),Ae=j(M(),1),Ce=j(M(),1),K=j(M(),1),Wr=j(M(),1);var De=j(M(),1),l=j(M(),1);var G=j(M(),1),jr={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},ae=jr,Mr={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Sr=Mr;function Pr({children:e}){return Ae.default.createElement("div",{style:Sr.container},e)}var Er=Pr,Ir=Er;function Tr({width:e,height:r,isEditorReady:t,loading:n,_ref:o,className:i,wrapperProps:c}){return B.default.createElement("section",{style:{...ae.wrapper,width:e,height:r},...c},!t&&B.default.createElement(Ir,null,n),B.default.createElement("div",{ref:o,style:{...ae.fullWidth,...!t&&ae.hide},className:i}))}var Ar=Tr,xe=(0,Te.memo)(Ar);function xr(e){(0,Ce.useEffect)(e,[])}var Le=xr;function Cr(e,r,t=!0){let n=(0,K.useRef)(!0);(0,K.useEffect)(n.current||!t?()=>{n.current=!1}:e,r)}var O=Cr;function N(){}function x(e,r,t,n){return Lr(e,n)||Rr(e,r,t,n)}function Lr(e,r){return e.editor.getModel(Re(e,r))}function Rr(e,r,t,n){return e.editor.createModel(r,t,n?Re(e,n):void 0)}function Re(e,r){return e.Uri.parse(r)}function Dr({original:e,modified:r,language:t,originalLanguage:n,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:c,keepCurrentOriginalModel:s=!1,keepCurrentModifiedModel:p=!1,theme:y="light",loading:T="Loading...",options:S={},height:Y="100%",width:J="100%",className:Q,wrapperProps:X={},beforeMount:Z=N,onMount:ee=N}){let[w,C]=(0,d.useState)(!1),[L,g]=(0,d.useState)(!0),m=(0,d.useRef)(null),f=(0,d.useRef)(null),R=(0,d.useRef)(null),v=(0,d.useRef)(ee),a=(0,d.useRef)(Z),A=(0,d.useRef)(!1);Le(()=>{let u=I.init();return u.then(h=>(f.current=h)&&g(!1)).catch(h=>h?.type!=="cancelation"&&console.error("Monaco initialization: error:",h)),()=>m.current?D():u.cancel()}),O(()=>{if(m.current&&f.current){let u=m.current.getOriginalEditor(),h=x(f.current,e||"",n||t||"text",i||"");h!==u.getModel()&&u.setModel(h)}},[i],w),O(()=>{if(m.current&&f.current){let u=m.current.getModifiedEditor(),h=x(f.current,r||"",o||t||"text",c||"");h!==u.getModel()&&u.setModel(h)}},[c],w),O(()=>{let u=m.current.getModifiedEditor();u.getOption(f.current.editor.EditorOption.readOnly)?u.setValue(r||""):r!==u.getValue()&&(u.executeEdits("",[{range:u.getModel().getFullModelRange(),text:r||"",forceMoveMarkers:!0}]),u.pushUndoStop())},[r],w),O(()=>{m.current?.getModel()?.original.setValue(e||"")},[e],w),O(()=>{let{original:u,modified:h}=m.current.getModel();f.current.editor.setModelLanguage(u,n||t||"text"),f.current.editor.setModelLanguage(h,o||t||"text")},[t,n,o],w),O(()=>{f.current?.editor.setTheme(y)},[y],w),O(()=>{m.current?.updateOptions(S)},[S],w);let U=(0,d.useCallback)(()=>{if(!f.current)return;a.current(f.current);let u=x(f.current,e||"",n||t||"text",i||""),h=x(f.current,r||"",o||t||"text",c||"");m.current?.setModel({original:u,modified:h})},[t,r,o,e,n,i,c]),q=(0,d.useCallback)(()=>{!A.current&&R.current&&(m.current=f.current.editor.createDiffEditor(R.current,{automaticLayout:!0,...S}),U(),f.current?.editor.setTheme(y),C(!0),A.current=!0)},[S,y,U]);(0,d.useEffect)(()=>{w&&v.current(m.current,f.current)},[w]),(0,d.useEffect)(()=>{!L&&!w&&q()},[L,w,q]);function D(){let u=m.current?.getModel();s||u?.original?.dispose(),p||u?.modified?.dispose(),m.current?.dispose()}return d.default.createElement(xe,{width:J,height:Y,isEditorReady:w,loading:T,_ref:R,className:Q,wrapperProps:X})}var Vr=Dr,pt=(0,Ie.memo)(Vr);function zr(e){let r=(0,G.useRef)();return(0,G.useEffect)(()=>{r.current=e},[e]),r.current}var Nr=zr,k=new Map;function Ur({defaultValue:e,defaultLanguage:r,defaultPath:t,value:n,language:o,path:i,theme:c="light",line:s,loading:p="Loading...",options:y={},overrideServices:T={},saveViewState:S=!0,keepCurrentModel:Y=!1,width:J="100%",height:Q="100%",className:X,wrapperProps:Z={},beforeMount:ee=N,onMount:w=N,onChange:C,onValidate:L=N}){let[g,m]=(0,l.useState)(!1),[f,R]=(0,l.useState)(!0),v=(0,l.useRef)(null),a=(0,l.useRef)(null),A=(0,l.useRef)(null),U=(0,l.useRef)(w),q=(0,l.useRef)(ee),D=(0,l.useRef)(),u=(0,l.useRef)(n),h=Nr(i),ce=(0,l.useRef)(!1),re=(0,l.useRef)(!1);Le(()=>{let b=I.init();return b.then(P=>(v.current=P)&&R(!1)).catch(P=>P?.type!=="cancelation"&&console.error("Monaco initialization: error:",P)),()=>a.current?Ve():b.cancel()}),O(()=>{let b=x(v.current,e||n||"",r||o||"",i||t||"");b!==a.current?.getModel()&&(S&&k.set(h,a.current?.saveViewState()),a.current?.setModel(b),S&&a.current?.restoreViewState(k.get(i)))},[i],g),O(()=>{a.current?.updateOptions(y)},[y],g),O(()=>{!a.current||n===void 0||(a.current.getOption(v.current.editor.EditorOption.readOnly)?a.current.setValue(n):n!==a.current.getValue()&&(re.current=!0,a.current.executeEdits("",[{range:a.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),a.current.pushUndoStop(),re.current=!1))},[n],g),O(()=>{let b=a.current?.getModel();b&&o&&v.current?.editor.setModelLanguage(b,o)},[o],g),O(()=>{s!==void 0&&a.current?.revealLine(s)},[s],g),O(()=>{v.current?.editor.setTheme(c)},[c],g);let ue=(0,l.useCallback)(()=>{if(!(!A.current||!v.current)&&!ce.current){q.current(v.current);let b=i||t,P=x(v.current,n||e||"",r||o||"",b||"");a.current=v.current?.editor.create(A.current,{model:P,automaticLayout:!0,...y},T),S&&a.current.restoreViewState(k.get(b)),v.current.editor.setTheme(c),s!==void 0&&a.current.revealLine(s),m(!0),ce.current=!0}},[e,r,t,n,o,i,y,T,S,c,s]);(0,l.useEffect)(()=>{g&&U.current(a.current,v.current)},[g]),(0,l.useEffect)(()=>{!f&&!g&&ue()},[f,g,ue]),u.current=n,(0,l.useEffect)(()=>{g&&C&&(D.current?.dispose(),D.current=a.current?.onDidChangeModelContent(b=>{re.current||C(a.current.getValue(),b)}))},[g,C]),(0,l.useEffect)(()=>{if(g){let b=v.current.editor.onDidChangeMarkers(P=>{let te=a.current.getModel()?.uri;if(te&&P.find(ne=>ne.path===te.path)){let ne=v.current.editor.getModelMarkers({resource:te});L?.(ne)}});return()=>{b?.dispose()}}return()=>{}},[g,L]);function Ve(){D.current?.dispose(),Y?S&&k.set(i,a.current.saveViewState()):a.current.getModel()?.dispose(),a.current.dispose()}return l.default.createElement(xe,{width:J,height:Q,isEditorReady:g,loading:p,_ref:A,className:X,wrapperProps:Z})}var qr=Ur,ht=(0,De.memo)(qr);export{pt as a,ht as b};
