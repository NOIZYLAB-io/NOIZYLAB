"use strict";var Df=Object.defineProperty;var oq=Object.getOwnPropertyDescriptor;var sq=Object.getOwnPropertyNames;var aq=Object.prototype.hasOwnProperty;var uq=(t,e)=>()=>(t&&(e=t(t=0)),e);var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),cq=(t,e)=>{for(var r in e)Df(t,r,{get:e[r],enumerable:!0})},lq=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sq(e))!aq.call(t,i)&&i!==r&&Df(t,i,{get:()=>e[i],enumerable:!(n=oq(e,i))||n.enumerable});return t};var fq=t=>lq(Df({},"__esModule",{value:!0}),t);var Ba=p(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.thenable=Xe.typedArray=Xe.stringArray=Xe.array=Xe.func=Xe.error=Xe.number=Xe.string=Xe.boolean=void 0;function dq(t){return t===!0||t===!1}Xe.boolean=dq;function fy(t){return typeof t=="string"||t instanceof String}Xe.string=fy;function hq(t){return typeof t=="number"||t instanceof Number}Xe.number=hq;function gq(t){return t instanceof Error}Xe.error=gq;function dy(t){return typeof t=="function"}Xe.func=dy;function hy(t){return Array.isArray(t)}Xe.array=hy;function pq(t){return hy(t)&&t.every(e=>fy(e))}Xe.stringArray=pq;function mq(t,e){return Array.isArray(t)&&t.every(e)}Xe.typedArray=mq;function yq(t){return t&&dy(t.then)}Xe.thenable=yq});var Ki=p(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.stringArray=mt.array=mt.func=mt.error=mt.number=mt.string=mt.boolean=void 0;function _q(t){return t===!0||t===!1}mt.boolean=_q;function gy(t){return typeof t=="string"||t instanceof String}mt.string=gy;function bq(t){return typeof t=="number"||t instanceof Number}mt.number=bq;function vq(t){return t instanceof Error}mt.error=vq;function wq(t){return typeof t=="function"}mt.func=wq;function py(t){return Array.isArray(t)}mt.array=py;function Sq(t){return py(t)&&t.every(e=>gy(e))}mt.stringArray=Sq});var Xf=p(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.Message=Z.NotificationType9=Z.NotificationType8=Z.NotificationType7=Z.NotificationType6=Z.NotificationType5=Z.NotificationType4=Z.NotificationType3=Z.NotificationType2=Z.NotificationType1=Z.NotificationType0=Z.NotificationType=Z.RequestType9=Z.RequestType8=Z.RequestType7=Z.RequestType6=Z.RequestType5=Z.RequestType4=Z.RequestType3=Z.RequestType2=Z.RequestType1=Z.RequestType=Z.RequestType0=Z.AbstractMessageSignature=Z.ParameterStructures=Z.ResponseError=Z.ErrorCodes=void 0;var pi=Ki(),Pf;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Pf||(Z.ErrorCodes=Pf={}));var Of=class t extends Error{constructor(e,r,n){super(r),this.code=pi.number(e)?e:Pf.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,t.prototype)}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};Z.ResponseError=Of;var It=class t{constructor(e){this.kind=e}static is(e){return e===t.auto||e===t.byName||e===t.byPosition}toString(){return this.kind}};Z.ParameterStructures=It;It.auto=new It("auto");It.byPosition=new It("byPosition");It.byName=new It("byName");var Ie=class{constructor(e,r){this.method=e,this.numberOfParams=r}get parameterStructures(){return It.auto}};Z.AbstractMessageSignature=Ie;var Tf=class extends Ie{constructor(e){super(e,0)}};Z.RequestType0=Tf;var qf=class extends Ie{constructor(e,r=It.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Z.RequestType=qf;var Mf=class extends Ie{constructor(e,r=It.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Z.RequestType1=Mf;var Cf=class extends Ie{constructor(e){super(e,2)}};Z.RequestType2=Cf;var jf=class extends Ie{constructor(e){super(e,3)}};Z.RequestType3=jf;var Af=class extends Ie{constructor(e){super(e,4)}};Z.RequestType4=Af;var Nf=class extends Ie{constructor(e){super(e,5)}};Z.RequestType5=Nf;var Lf=class extends Ie{constructor(e){super(e,6)}};Z.RequestType6=Lf;var If=class extends Ie{constructor(e){super(e,7)}};Z.RequestType7=If;var xf=class extends Ie{constructor(e){super(e,8)}};Z.RequestType8=xf;var kf=class extends Ie{constructor(e){super(e,9)}};Z.RequestType9=kf;var Ff=class extends Ie{constructor(e,r=It.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Z.NotificationType=Ff;var $f=class extends Ie{constructor(e){super(e,0)}};Z.NotificationType0=$f;var Wf=class extends Ie{constructor(e,r=It.auto){super(e,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};Z.NotificationType1=Wf;var Hf=class extends Ie{constructor(e){super(e,2)}};Z.NotificationType2=Hf;var Uf=class extends Ie{constructor(e){super(e,3)}};Z.NotificationType3=Uf;var Bf=class extends Ie{constructor(e){super(e,4)}};Z.NotificationType4=Bf;var zf=class extends Ie{constructor(e){super(e,5)}};Z.NotificationType5=zf;var Vf=class extends Ie{constructor(e){super(e,6)}};Z.NotificationType6=Vf;var Gf=class extends Ie{constructor(e){super(e,7)}};Z.NotificationType7=Gf;var Yf=class extends Ie{constructor(e){super(e,8)}};Z.NotificationType8=Yf;var Kf=class extends Ie{constructor(e){super(e,9)}};Z.NotificationType9=Kf;var my;(function(t){function e(i){let o=i;return o&&pi.string(o.method)&&(pi.string(o.id)||pi.number(o.id))}t.isRequest=e;function r(i){let o=i;return o&&pi.string(o.method)&&i.id===void 0}t.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(pi.string(o.id)||pi.number(o.id)||o.id===null)}t.isResponse=n})(my||(Z.Message=my={}))});var Qf=p(On=>{"use strict";var yy;Object.defineProperty(On,"__esModule",{value:!0});On.LRUCache=On.LinkedMap=On.Touch=void 0;var yt;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(yt||(On.Touch=yt={}));var za=class{constructor(){this[yy]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,r=yt.None){let n=this._map.get(e);if(n)return r!==yt.None&&this.touch(n,r),n.value}set(e,r,n=yt.None){let i=this._map.get(e);if(i)i.value=r,n!==yt.None&&this.touch(i,n);else{switch(i={key:e,value:r,next:void 0,previous:void 0},n){case yt.None:this.addItemLast(i);break;case yt.First:this.addItemFirst(i);break;case yt.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let r=this._map.get(e);if(r)return this._map.delete(e),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,r){let n=this._state,i=this._head;for(;i;){if(r?e.bind(r)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let e=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(yy=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>e;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let r=e.next,n=e.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}e.next=void 0,e.previous=void 0,this._state++}touch(e,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==yt.First&&r!==yt.Last)){if(r===yt.First){if(e===this._head)return;let n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(r===yt.Last){if(e===this._tail)return;let n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((r,n)=>{e.push([n,r])}),e}fromJSON(e){this.clear();for(let[r,n]of e)this.set(r,n)}};On.LinkedMap=za;var Jf=class extends za{constructor(e,r=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,r=yt.AsNew){return super.get(e,r)}peek(e){return super.get(e,yt.None)}set(e,r){return super.set(e,r,yt.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};On.LRUCache=Jf});var by=p(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.Disposable=void 0;var _y;(function(t){function e(r){return{dispose:r}}t.create=e})(_y||(Va.Disposable=_y={}))});var Tn=p(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});var Zf;function ed(){if(Zf===void 0)throw new Error("No runtime abstraction layer installed");return Zf}(function(t){function e(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Zf=r}t.install=e})(ed||(ed={}));td.default=ed});var Ji=p(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.Emitter=Xi.Event=void 0;var Rq=Tn(),vy;(function(t){let e={dispose(){}};t.None=function(){return e}})(vy||(Xi.Event=vy={}));var rd=class{add(e,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,r)})}remove(e,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{r.push(n[o].apply(i[o],e))}catch(a){(0,Rq.default)().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Ga=class t{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,r,n)=>{this._callbacks||(this._callbacks=new rd),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,r),i.dispose=t._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Xi.Emitter=Ga;Ga._noop=function(){}});var Xa=p(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.CancellationTokenSource=Qi.CancellationToken=void 0;var Eq=Tn(),Dq=Ki(),nd=Ji(),Ya;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:nd.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:nd.Event.None});function e(r){let n=r;return n&&(n===t.None||n===t.Cancelled||Dq.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}t.is=e})(Ya||(Qi.CancellationToken=Ya={}));var Pq=Object.freeze(function(t,e){let r=(0,Eq.default)().timer.setTimeout(t.bind(e),0);return{dispose(){r.dispose()}}}),Ka=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Pq:(this._emitter||(this._emitter=new nd.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},id=class{get token(){return this._token||(this._token=new Ka),this._token}cancel(){this._token?this._token.cancel():this._token=Ya.Cancelled}dispose(){this._token?this._token instanceof Ka&&this._token.dispose():this._token=Ya.None}};Qi.CancellationTokenSource=id});var wy=p(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.SharedArrayReceiverStrategy=Zi.SharedArraySenderStrategy=void 0;var Oq=Xa(),cs;(function(t){t.Continue=0,t.Cancelled=1})(cs||(cs={}));var od=class{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=cs.Continue,this.buffers.set(e.id,r),e.$cancellationData=r}async sendCancellation(e,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,cs.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};Zi.SharedArraySenderStrategy=od;var sd=class{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===cs.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},ad=class{constructor(e){this.token=new sd(e)}cancel(){}dispose(){}},ud=class{constructor(){this.kind="request"}createCancellationTokenSource(e){let r=e.$cancellationData;return r===void 0?new Oq.CancellationTokenSource:new ad(r)}};Zi.SharedArrayReceiverStrategy=ud});var ld=p(Ja=>{"use strict";Object.defineProperty(Ja,"__esModule",{value:!0});Ja.Semaphore=void 0;var Tq=Tn(),cd=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((r,n)=>{this._waiting.push({thunk:e,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Tq.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=e.thunk();r instanceof Promise?r.then(n=>{this._active--,e.resolve(n),this.runNext()},n=>{this._active--,e.reject(n),this.runNext()}):(this._active--,e.resolve(r),this.runNext())}catch(r){this._active--,e.reject(r),this.runNext()}}};Ja.Semaphore=cd});var Ry=p(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.ReadableStreamMessageReader=qn.AbstractMessageReader=qn.MessageReader=void 0;var dd=Tn(),eo=Ki(),fd=Ji(),qq=ld(),Sy;(function(t){function e(r){let n=r;return n&&eo.func(n.listen)&&eo.func(n.dispose)&&eo.func(n.onError)&&eo.func(n.onClose)&&eo.func(n.onPartialMessage)}t.is=e})(Sy||(qn.MessageReader=Sy={}));var Qa=class{constructor(){this.errorEmitter=new fd.Emitter,this.closeEmitter=new fd.Emitter,this.partialMessageEmitter=new fd.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${eo.string(e.message)?e.message:"unknown"}`)}};qn.AbstractMessageReader=Qa;var hd;(function(t){function e(r){let n,i,o,s=new Map,a,u=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,s.set(o.name,o)),r.contentDecoders!==void 0)for(let c of r.contentDecoders)s.set(c.name,c);if(r.contentTypeDecoder!==void 0&&(a=r.contentTypeDecoder,u.set(a.name,a)),r.contentTypeDecoders!==void 0)for(let c of r.contentTypeDecoders)u.set(c.name,c)}return a===void 0&&(a=(0,dd.default)().applicationJson.decoder,u.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:u}}t.fromOptions=e})(hd||(hd={}));var gd=class extends Qa{constructor(e,r){super(),this.readable=e,this.options=hd.fromOptions(r),this.buffer=(0,dd.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new qq.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,dd.default)().timer.setTimeout((e,r)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};qn.ReadableStreamMessageReader=gd});var Ty=p(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.WriteableStreamMessageWriter=Mn.AbstractMessageWriter=Mn.MessageWriter=void 0;var Ey=Tn(),ls=Ki(),Mq=ld(),Dy=Ji(),Cq="Content-Length: ",Py=`\r
`,Oy;(function(t){function e(r){let n=r;return n&&ls.func(n.dispose)&&ls.func(n.onClose)&&ls.func(n.onError)&&ls.func(n.write)}t.is=e})(Oy||(Mn.MessageWriter=Oy={}));var Za=class{constructor(){this.errorEmitter=new Dy.Emitter,this.closeEmitter=new Dy.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,r,n){this.errorEmitter.fire([this.asError(e),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${ls.string(e.message)?e.message:"unknown"}`)}};Mn.AbstractMessageWriter=Za;var pd;(function(t){function e(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,Ey.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,Ey.default)().applicationJson.encoder}}t.fromOptions=e})(pd||(pd={}));var md=class extends Za{constructor(e,r){super(),this.writable=e,this.options=pd.fromOptions(r),this.errorCount=0,this.writeSemaphore=new Mq.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(Cq,n.byteLength.toString(),Py),i.push(Py),this.doWrite(e,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(e,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){this.writable.end()}};Mn.WriteableStreamMessageWriter=md});var qy=p(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.AbstractMessageBuffer=void 0;var jq=13,Aq=10,Nq=`\r
`,yd=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let r=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let c=this._chunks[n];for(i=0;i<c.length;){switch(c[i]){case jq:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case Aq:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=c.byteLength,n++}if(r!==4)return;let s=this._read(o+i),a=new Map,u=this.toString(s,"ascii").split(Nq);if(u.length<2)return a;for(let c=0;c<u.length-2;c++){let h=u[c],d=h.indexOf(":");if(d===-1)throw new Error(`Message header must separate key and value using ':'
${h}`);let g=h.substr(0,d),_=h.substr(d+1).trim();a.set(e?g.toLowerCase():g,_)}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){let o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}let r=this.allocNative(e),n=0,i=0;for(;e>0;){let o=this._chunks[i];if(o.byteLength>e){let s=o.slice(0,e);r.set(s,n),n+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return r}};eu.AbstractMessageBuffer=yd});var Ny=p(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.createMessageConnection=ue.ConnectionOptions=ue.MessageStrategy=ue.CancellationStrategy=ue.CancellationSenderStrategy=ue.CancellationReceiverStrategy=ue.RequestCancellationReceiverStrategy=ue.IdCancellationReceiverStrategy=ue.ConnectionStrategy=ue.ConnectionError=ue.ConnectionErrors=ue.LogTraceNotification=ue.SetTraceNotification=ue.TraceFormat=ue.TraceValues=ue.Trace=ue.NullLogger=ue.ProgressType=ue.ProgressToken=void 0;var My=Tn(),We=Ki(),te=Xf(),Cy=Qf(),fs=Ji(),_d=Xa(),gs;(function(t){t.type=new te.NotificationType("$/cancelRequest")})(gs||(gs={}));var bd;(function(t){function e(r){return typeof r=="string"||typeof r=="number"}t.is=e})(bd||(ue.ProgressToken=bd={}));var ds;(function(t){t.type=new te.NotificationType("$/progress")})(ds||(ds={}));var vd=class{constructor(){}};ue.ProgressType=vd;var wd;(function(t){function e(r){return We.func(r)}t.is=e})(wd||(wd={}));ue.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ee;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Compact=2]="Compact",t[t.Verbose=3]="Verbose"})(Ee||(ue.Trace=Ee={}));var jy;(function(t){t.Off="off",t.Messages="messages",t.Compact="compact",t.Verbose="verbose"})(jy||(ue.TraceValues=jy={}));(function(t){function e(n){if(!We.string(n))return t.Off;switch(n=n.toLowerCase(),n){case"off":return t.Off;case"messages":return t.Messages;case"compact":return t.Compact;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function r(n){switch(n){case t.Off:return"off";case t.Messages:return"messages";case t.Compact:return"compact";case t.Verbose:return"verbose";default:return"off"}}t.toString=r})(Ee||(ue.Trace=Ee={}));var Jt;(function(t){t.Text="text",t.JSON="json"})(Jt||(ue.TraceFormat=Jt={}));(function(t){function e(r){return We.string(r)?(r=r.toLowerCase(),r==="json"?t.JSON:t.Text):t.Text}t.fromString=e})(Jt||(ue.TraceFormat=Jt={}));var Sd;(function(t){t.type=new te.NotificationType("$/setTrace")})(Sd||(ue.SetTraceNotification=Sd={}));var tu;(function(t){t.type=new te.NotificationType("$/logTrace")})(tu||(ue.LogTraceNotification=tu={}));var hs;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(hs||(ue.ConnectionErrors=hs={}));var to=class t extends Error{constructor(e,r){super(r),this.code=e,Object.setPrototypeOf(this,t.prototype)}};ue.ConnectionError=to;var Rd;(function(t){function e(r){let n=r;return n&&We.func(n.cancelUndispatched)}t.is=e})(Rd||(ue.ConnectionStrategy=Rd={}));var ru;(function(t){function e(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&We.func(n.createCancellationTokenSource)&&(n.dispose===void 0||We.func(n.dispose))}t.is=e})(ru||(ue.IdCancellationReceiverStrategy=ru={}));var Ed;(function(t){function e(r){let n=r;return n&&n.kind==="request"&&We.func(n.createCancellationTokenSource)&&(n.dispose===void 0||We.func(n.dispose))}t.is=e})(Ed||(ue.RequestCancellationReceiverStrategy=Ed={}));var nu;(function(t){t.Message=Object.freeze({createCancellationTokenSource(r){return new _d.CancellationTokenSource}});function e(r){return ru.is(r)||Ed.is(r)}t.is=e})(nu||(ue.CancellationReceiverStrategy=nu={}));var iu;(function(t){t.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(gs.type,{id:n})},cleanup(r){}});function e(r){let n=r;return n&&We.func(n.sendCancellation)&&We.func(n.cleanup)}t.is=e})(iu||(ue.CancellationSenderStrategy=iu={}));var ou;(function(t){t.Message=Object.freeze({receiver:nu.Message,sender:iu.Message});function e(r){let n=r;return n&&nu.is(n.receiver)&&iu.is(n.sender)}t.is=e})(ou||(ue.CancellationStrategy=ou={}));var su;(function(t){function e(r){let n=r;return n&&We.func(n.handleMessage)}t.is=e})(su||(ue.MessageStrategy=su={}));var Ay;(function(t){function e(r){let n=r;return n&&(ou.is(n.cancellationStrategy)||Rd.is(n.connectionStrategy)||su.is(n.messageStrategy))}t.is=e})(Ay||(ue.ConnectionOptions=Ay={}));var br;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(br||(br={}));function Lq(t,e,r,n){let i=r!==void 0?r:ue.NullLogger,o=0,s=0,a=0,u="2.0",c,h=new Map,d,g=new Map,_=new Map,y,E=new Cy.LinkedMap,C=new Map,O=new Set,w=new Map,b=Ee.Off,M=Jt.Text,x,W=br.New,G=new fs.Emitter,ee=new fs.Emitter,re=new fs.Emitter,F=new fs.Emitter,I=new fs.Emitter,H=n&&n.cancellationStrategy?n.cancellationStrategy:ou.Message;function V(S){if(S===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+S.toString()}function ie(S){return S===null?"res-unknown-"+(++a).toString():"res-"+S.toString()}function le(){return"not-"+(++s).toString()}function q(S,N){te.Message.isRequest(N)?S.set(V(N.id),N):te.Message.isResponse(N)?S.set(ie(N.id),N):S.set(le(),N)}function U(S){}function ne(){return W===br.Listening}function fe(){return W===br.Closed}function Q(){return W===br.Disposed}function ct(){(W===br.New||W===br.Listening)&&(W=br.Closed,ee.fire(void 0))}function Et(S){G.fire([S,void 0,void 0])}function Lr(S){G.fire(S)}t.onClose(ct),t.onError(Et),e.onClose(ct),e.onError(Lr);function Ir(){y||E.size===0||(y=(0,My.default)().timer.setImmediate(()=>{y=void 0,on()}))}function Dn(S){te.Message.isRequest(S)?pt(S):te.Message.isNotification(S)?Vi(S):te.Message.isResponse(S)?gi(S):sn(S)}function on(){if(E.size===0)return;let S=E.shift();try{let N=n?.messageStrategy;su.is(N)?N.handleMessage(S,Dn):Dn(S)}finally{Ir()}}let zi=S=>{try{if(te.Message.isNotification(S)&&S.method===gs.type.method){let N=S.params.id,$=V(N),J=E.get($);if(te.Message.isRequest(J)){let De=n?.connectionStrategy,Le=De&&De.cancelUndispatched?De.cancelUndispatched(J,U):void 0;if(Le&&(Le.error!==void 0||Le.result!==void 0)){E.delete($),w.delete(N),Le.id=J.id,cn(Le,S.method,Date.now()),e.write(Le).catch(()=>i.error("Sending response for canceled message failed."));return}}let qe=w.get(N);if(qe!==void 0){qe.cancel(),Kt(S);return}else O.add(N)}q(E,S)}finally{Ir()}};function pt(S){if(Q())return;function N(me,Ce,Se){let He={jsonrpc:u,id:S.id};me instanceof te.ResponseError?He.error=me.toJson():He.result=me===void 0?null:me,cn(He,Ce,Se),e.write(He).catch(()=>i.error("Sending response failed."))}function $(me,Ce,Se){let He={jsonrpc:u,id:S.id,error:me.toJson()};cn(He,Ce,Se),e.write(He).catch(()=>i.error("Sending response failed."))}function J(me,Ce,Se){me===void 0&&(me=null);let He={jsonrpc:u,id:S.id,result:me};cn(He,Ce,Se),e.write(He).catch(()=>i.error("Sending response failed."))}xr(S);let qe=h.get(S.method),De,Le;qe&&(De=qe.type,Le=qe.handler);let Fe=Date.now();if(Le||c){let me=S.id??String(Date.now()),Ce=ru.is(H.receiver)?H.receiver.createCancellationTokenSource(me):H.receiver.createCancellationTokenSource(S);S.id!==null&&O.has(S.id)&&Ce.cancel(),S.id!==null&&w.set(me,Ce);try{let Se;if(Le)if(S.params===void 0){if(De!==void 0&&De.numberOfParams!==0){$(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${S.method} defines ${De.numberOfParams} params but received none.`),S.method,Fe);return}Se=Le(Ce.token)}else if(Array.isArray(S.params)){if(De!==void 0&&De.parameterStructures===te.ParameterStructures.byName){$(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${S.method} defines parameters by name but received parameters by position`),S.method,Fe);return}Se=Le(...S.params,Ce.token)}else{if(De!==void 0&&De.parameterStructures===te.ParameterStructures.byPosition){$(new te.ResponseError(te.ErrorCodes.InvalidParams,`Request ${S.method} defines parameters by position but received parameters by name`),S.method,Fe);return}Se=Le(S.params,Ce.token)}else c&&(Se=c(S.method,S.params,Ce.token));let He=Se;Se?He.then?He.then(it=>{w.delete(me),N(it,S.method,Fe)},it=>{w.delete(me),it instanceof te.ResponseError?$(it,S.method,Fe):it&&We.string(it.message)?$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${S.method} failed with message: ${it.message}`),S.method,Fe):$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${S.method} failed unexpectedly without providing any details.`),S.method,Fe)}):(w.delete(me),N(Se,S.method,Fe)):(w.delete(me),J(Se,S.method,Fe))}catch(Se){w.delete(me),Se instanceof te.ResponseError?N(Se,S.method,Fe):Se&&We.string(Se.message)?$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${S.method} failed with message: ${Se.message}`),S.method,Fe):$(new te.ResponseError(te.ErrorCodes.InternalError,`Request ${S.method} failed unexpectedly without providing any details.`),S.method,Fe)}}else $(new te.ResponseError(te.ErrorCodes.MethodNotFound,`Unhandled method ${S.method}`),S.method,Fe)}function gi(S){if(!Q())if(S.id===null)S.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(S.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let N=S.id,$=C.get(N);if(Pn(S,$),$!==void 0){C.delete(N);try{if(S.error){let J=S.error;$.reject(new te.ResponseError(J.code,J.message,J.data))}else if(S.result!==void 0)$.resolve(S.result);else throw new Error("Should never happen.")}catch(J){J.message?i.error(`Response handler '${$.method}' failed with message: ${J.message}`):i.error(`Response handler '${$.method}' failed unexpectedly.`)}}}}function Vi(S){if(Q())return;let N,$;if(S.method===gs.type.method){let J=S.params.id;O.delete(J),Kt(S);return}else{let J=g.get(S.method);J&&($=J.handler,N=J.type)}if($||d)try{if(Kt(S),$)if(S.params===void 0)N!==void 0&&N.numberOfParams!==0&&N.parameterStructures!==te.ParameterStructures.byName&&i.error(`Notification ${S.method} defines ${N.numberOfParams} params but received none.`),$();else if(Array.isArray(S.params)){let J=S.params;S.method===ds.type.method&&J.length===2&&bd.is(J[0])?$({token:J[0],value:J[1]}):(N!==void 0&&(N.parameterStructures===te.ParameterStructures.byName&&i.error(`Notification ${S.method} defines parameters by name but received parameters by position`),N.numberOfParams!==S.params.length&&i.error(`Notification ${S.method} defines ${N.numberOfParams} params but received ${J.length} arguments`)),$(...J))}else N!==void 0&&N.parameterStructures===te.ParameterStructures.byPosition&&i.error(`Notification ${S.method} defines parameters by position but received parameters by name`),$(S.params);else d&&d(S.method,S.params)}catch(J){J.message?i.error(`Notification handler '${S.method}' failed with message: ${J.message}`):i.error(`Notification handler '${S.method}' failed unexpectedly.`)}else re.fire(S)}function sn(S){if(!S){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(S,null,4)}`);let N=S;if(We.string(N.id)||We.number(N.id)){let $=N.id,J=C.get($);J&&J.reject(new Error("The received response has neither a result nor an error property."))}}function Lt(S){if(S!=null)switch(b){case Ee.Verbose:return JSON.stringify(S,null,4);case Ee.Compact:return JSON.stringify(S);default:return}}function an(S){if(!(b===Ee.Off||!x))if(M===Jt.Text){let N;(b===Ee.Verbose||b===Ee.Compact)&&S.params&&(N=`Params: ${Lt(S.params)}

`),x.log(`Sending request '${S.method} - (${S.id})'.`,N)}else pr("send-request",S)}function un(S){if(!(b===Ee.Off||!x))if(M===Jt.Text){let N;(b===Ee.Verbose||b===Ee.Compact)&&(S.params?N=`Params: ${Lt(S.params)}

`:N=`No parameters provided.

`),x.log(`Sending notification '${S.method}'.`,N)}else pr("send-notification",S)}function cn(S,N,$){if(!(b===Ee.Off||!x))if(M===Jt.Text){let J;(b===Ee.Verbose||b===Ee.Compact)&&(S.error&&S.error.data?J=`Error data: ${Lt(S.error.data)}

`:S.result?J=`Result: ${Lt(S.result)}

`:S.error===void 0&&(J=`No result returned.

`)),x.log(`Sending response '${N} - (${S.id})'. Processing request took ${Date.now()-$}ms`,J)}else pr("send-response",S)}function xr(S){if(!(b===Ee.Off||!x))if(M===Jt.Text){let N;(b===Ee.Verbose||b===Ee.Compact)&&S.params&&(N=`Params: ${Lt(S.params)}

`),x.log(`Received request '${S.method} - (${S.id})'.`,N)}else pr("receive-request",S)}function Kt(S){if(!(b===Ee.Off||!x||S.method===tu.type.method))if(M===Jt.Text){let N;(b===Ee.Verbose||b===Ee.Compact)&&(S.params?N=`Params: ${Lt(S.params)}

`:N=`No parameters provided.

`),x.log(`Received notification '${S.method}'.`,N)}else pr("receive-notification",S)}function Pn(S,N){if(!(b===Ee.Off||!x))if(M===Jt.Text){let $;if((b===Ee.Verbose||b===Ee.Compact)&&(S.error&&S.error.data?$=`Error data: ${Lt(S.error.data)}

`:S.result?$=`Result: ${Lt(S.result)}

`:S.error===void 0&&($=`No result returned.

`)),N){let J=S.error?` Request failed: ${S.error.message} (${S.error.code}).`:"";x.log(`Received response '${N.method} - (${S.id})' in ${Date.now()-N.timerStart}ms.${J}`,$)}else x.log(`Received response ${S.id} without active response promise.`,$)}else pr("receive-response",S)}function pr(S,N){if(!x||b===Ee.Off)return;let $={isLSPMessage:!0,type:S,message:N,timestamp:Date.now()};x.log($)}function mr(){if(fe())throw new to(hs.Closed,"Connection is closed.");if(Q())throw new to(hs.Disposed,"Connection is disposed.")}function $a(){if(ne())throw new to(hs.AlreadyListening,"Connection is already listening")}function Wa(){if(!ne())throw new Error("Call listen() first.")}function kr(S){return S===void 0?null:S}function ss(S){if(S!==null)return S}function as(S){return S!=null&&!Array.isArray(S)&&typeof S=="object"}function Gi(S,N){switch(S){case te.ParameterStructures.auto:return as(N)?ss(N):[kr(N)];case te.ParameterStructures.byName:if(!as(N))throw new Error("Received parameters by name but param is not an object literal.");return ss(N);case te.ParameterStructures.byPosition:return[kr(N)];default:throw new Error(`Unknown parameter structure ${S.toString()}`)}}function us(S,N){let $,J=S.numberOfParams;switch(J){case 0:$=void 0;break;case 1:$=Gi(S.parameterStructures,N[0]);break;default:$=[];for(let qe=0;qe<N.length&&qe<J;qe++)$.push(kr(N[qe]));if(N.length<J)for(let qe=N.length;qe<J;qe++)$.push(null);break}return $}let ln={sendNotification:(S,...N)=>{mr();let $,J;if(We.string(S)){$=S;let De=N[0],Le=0,Fe=te.ParameterStructures.auto;te.ParameterStructures.is(De)&&(Le=1,Fe=De);let me=N.length,Ce=me-Le;switch(Ce){case 0:J=void 0;break;case 1:J=Gi(Fe,N[Le]);break;default:if(Fe===te.ParameterStructures.byName)throw new Error(`Received ${Ce} parameters for 'by Name' notification parameter structure.`);J=N.slice(Le,me).map(Se=>kr(Se));break}}else{let De=N;$=S.method,J=us(S,De)}let qe={jsonrpc:u,method:$,params:J};return un(qe),e.write(qe).catch(De=>{throw i.error("Sending notification failed."),De})},onNotification:(S,N)=>{mr();let $;return We.func(S)?d=S:N&&(We.string(S)?($=S,g.set(S,{type:void 0,handler:N})):($=S.method,g.set(S.method,{type:S,handler:N}))),{dispose:()=>{$!==void 0?g.delete($):d=void 0}}},onProgress:(S,N,$)=>{if(_.has(N))throw new Error(`Progress handler for token ${N} already registered`);return _.set(N,$),{dispose:()=>{_.delete(N)}}},sendProgress:(S,N,$)=>ln.sendNotification(ds.type,{token:N,value:$}),onUnhandledProgress:F.event,sendRequest:(S,...N)=>{mr(),Wa();let $,J,qe;if(We.string(S)){$=S;let me=N[0],Ce=N[N.length-1],Se=0,He=te.ParameterStructures.auto;te.ParameterStructures.is(me)&&(Se=1,He=me);let it=N.length;_d.CancellationToken.is(Ce)&&(it=it-1,qe=Ce);let Xt=it-Se;switch(Xt){case 0:J=void 0;break;case 1:J=Gi(He,N[Se]);break;default:if(He===te.ParameterStructures.byName)throw new Error(`Received ${Xt} parameters for 'by Name' request parameter structure.`);J=N.slice(Se,it).map(Ha=>kr(Ha));break}}else{let me=N;$=S.method,J=us(S,me);let Ce=S.numberOfParams;qe=_d.CancellationToken.is(me[Ce])?me[Ce]:void 0}let De=o++,Le;qe&&(Le=qe.onCancellationRequested(()=>{let me=H.sender.sendCancellation(ln,De);return me===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${De}`),Promise.resolve()):me.catch(()=>{i.log(`Sending cancellation messages for id ${De} failed`)})}));let Fe={jsonrpc:u,id:De,method:$,params:J};return an(Fe),typeof H.sender.enableCancellation=="function"&&H.sender.enableCancellation(Fe),new Promise(async(me,Ce)=>{let Se=Xt=>{me(Xt),H.sender.cleanup(De),Le?.dispose()},He=Xt=>{Ce(Xt),H.sender.cleanup(De),Le?.dispose()},it={method:$,timerStart:Date.now(),resolve:Se,reject:He};try{await e.write(Fe),C.set(De,it)}catch(Xt){throw i.error("Sending request failed."),it.reject(new te.ResponseError(te.ErrorCodes.MessageWriteError,Xt.message?Xt.message:"Unknown reason")),Xt}})},onRequest:(S,N)=>{mr();let $=null;return wd.is(S)?($=void 0,c=S):We.string(S)?($=null,N!==void 0&&($=S,h.set(S,{handler:N,type:void 0}))):N!==void 0&&($=S.method,h.set(S.method,{type:S,handler:N})),{dispose:()=>{$!==null&&($!==void 0?h.delete($):c=void 0)}}},hasPendingResponse:()=>C.size>0,trace:async(S,N,$)=>{let J=!1,qe=Jt.Text;$!==void 0&&(We.boolean($)?J=$:(J=$.sendNotification||!1,qe=$.traceFormat||Jt.Text)),b=S,M=qe,b===Ee.Off?x=void 0:x=N,J&&!fe()&&!Q()&&await ln.sendNotification(Sd.type,{value:Ee.toString(S)})},onError:G.event,onClose:ee.event,onUnhandledNotification:re.event,onDispose:I.event,end:()=>{e.end()},dispose:()=>{if(Q())return;W=br.Disposed,I.fire(void 0);let S=new te.ResponseError(te.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let N of C.values())N.reject(S);C=new Map,w=new Map,O=new Set,E=new Cy.LinkedMap,We.func(e.dispose)&&e.dispose(),We.func(t.dispose)&&t.dispose()},listen:()=>{mr(),$a(),W=br.Listening,t.listen(zi)},inspect:()=>{(0,My.default)().console.log("inspect")}};return ln.onNotification(tu.type,S=>{if(b===Ee.Off||!x)return;let N=b===Ee.Verbose||b===Ee.Compact;x.log(S.message,N?S.verbose:void 0)}),ln.onNotification(ds.type,S=>{let N=_.get(S.token);N?N(S.value):F.fire(S)}),ln}ue.createMessageConnection=Lq});var au=p(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.ProgressType=j.ProgressToken=j.createMessageConnection=j.NullLogger=j.ConnectionOptions=j.ConnectionStrategy=j.AbstractMessageBuffer=j.WriteableStreamMessageWriter=j.AbstractMessageWriter=j.MessageWriter=j.ReadableStreamMessageReader=j.AbstractMessageReader=j.MessageReader=j.SharedArrayReceiverStrategy=j.SharedArraySenderStrategy=j.CancellationToken=j.CancellationTokenSource=j.Emitter=j.Event=j.Disposable=j.LRUCache=j.Touch=j.LinkedMap=j.ParameterStructures=j.NotificationType9=j.NotificationType8=j.NotificationType7=j.NotificationType6=j.NotificationType5=j.NotificationType4=j.NotificationType3=j.NotificationType2=j.NotificationType1=j.NotificationType0=j.NotificationType=j.ErrorCodes=j.ResponseError=j.RequestType9=j.RequestType8=j.RequestType7=j.RequestType6=j.RequestType5=j.RequestType4=j.RequestType3=j.RequestType2=j.RequestType1=j.RequestType0=j.RequestType=j.Message=j.RAL=void 0;j.MessageStrategy=j.CancellationStrategy=j.CancellationSenderStrategy=j.CancellationReceiverStrategy=j.ConnectionError=j.ConnectionErrors=j.LogTraceNotification=j.SetTraceNotification=j.TraceFormat=j.TraceValues=j.Trace=void 0;var Ne=Xf();Object.defineProperty(j,"Message",{enumerable:!0,get:function(){return Ne.Message}});Object.defineProperty(j,"RequestType",{enumerable:!0,get:function(){return Ne.RequestType}});Object.defineProperty(j,"RequestType0",{enumerable:!0,get:function(){return Ne.RequestType0}});Object.defineProperty(j,"RequestType1",{enumerable:!0,get:function(){return Ne.RequestType1}});Object.defineProperty(j,"RequestType2",{enumerable:!0,get:function(){return Ne.RequestType2}});Object.defineProperty(j,"RequestType3",{enumerable:!0,get:function(){return Ne.RequestType3}});Object.defineProperty(j,"RequestType4",{enumerable:!0,get:function(){return Ne.RequestType4}});Object.defineProperty(j,"RequestType5",{enumerable:!0,get:function(){return Ne.RequestType5}});Object.defineProperty(j,"RequestType6",{enumerable:!0,get:function(){return Ne.RequestType6}});Object.defineProperty(j,"RequestType7",{enumerable:!0,get:function(){return Ne.RequestType7}});Object.defineProperty(j,"RequestType8",{enumerable:!0,get:function(){return Ne.RequestType8}});Object.defineProperty(j,"RequestType9",{enumerable:!0,get:function(){return Ne.RequestType9}});Object.defineProperty(j,"ResponseError",{enumerable:!0,get:function(){return Ne.ResponseError}});Object.defineProperty(j,"ErrorCodes",{enumerable:!0,get:function(){return Ne.ErrorCodes}});Object.defineProperty(j,"NotificationType",{enumerable:!0,get:function(){return Ne.NotificationType}});Object.defineProperty(j,"NotificationType0",{enumerable:!0,get:function(){return Ne.NotificationType0}});Object.defineProperty(j,"NotificationType1",{enumerable:!0,get:function(){return Ne.NotificationType1}});Object.defineProperty(j,"NotificationType2",{enumerable:!0,get:function(){return Ne.NotificationType2}});Object.defineProperty(j,"NotificationType3",{enumerable:!0,get:function(){return Ne.NotificationType3}});Object.defineProperty(j,"NotificationType4",{enumerable:!0,get:function(){return Ne.NotificationType4}});Object.defineProperty(j,"NotificationType5",{enumerable:!0,get:function(){return Ne.NotificationType5}});Object.defineProperty(j,"NotificationType6",{enumerable:!0,get:function(){return Ne.NotificationType6}});Object.defineProperty(j,"NotificationType7",{enumerable:!0,get:function(){return Ne.NotificationType7}});Object.defineProperty(j,"NotificationType8",{enumerable:!0,get:function(){return Ne.NotificationType8}});Object.defineProperty(j,"NotificationType9",{enumerable:!0,get:function(){return Ne.NotificationType9}});Object.defineProperty(j,"ParameterStructures",{enumerable:!0,get:function(){return Ne.ParameterStructures}});var Dd=Qf();Object.defineProperty(j,"LinkedMap",{enumerable:!0,get:function(){return Dd.LinkedMap}});Object.defineProperty(j,"LRUCache",{enumerable:!0,get:function(){return Dd.LRUCache}});Object.defineProperty(j,"Touch",{enumerable:!0,get:function(){return Dd.Touch}});var Iq=by();Object.defineProperty(j,"Disposable",{enumerable:!0,get:function(){return Iq.Disposable}});var Ly=Ji();Object.defineProperty(j,"Event",{enumerable:!0,get:function(){return Ly.Event}});Object.defineProperty(j,"Emitter",{enumerable:!0,get:function(){return Ly.Emitter}});var Iy=Xa();Object.defineProperty(j,"CancellationTokenSource",{enumerable:!0,get:function(){return Iy.CancellationTokenSource}});Object.defineProperty(j,"CancellationToken",{enumerable:!0,get:function(){return Iy.CancellationToken}});var xy=wy();Object.defineProperty(j,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return xy.SharedArraySenderStrategy}});Object.defineProperty(j,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return xy.SharedArrayReceiverStrategy}});var Pd=Ry();Object.defineProperty(j,"MessageReader",{enumerable:!0,get:function(){return Pd.MessageReader}});Object.defineProperty(j,"AbstractMessageReader",{enumerable:!0,get:function(){return Pd.AbstractMessageReader}});Object.defineProperty(j,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Pd.ReadableStreamMessageReader}});var Od=Ty();Object.defineProperty(j,"MessageWriter",{enumerable:!0,get:function(){return Od.MessageWriter}});Object.defineProperty(j,"AbstractMessageWriter",{enumerable:!0,get:function(){return Od.AbstractMessageWriter}});Object.defineProperty(j,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Od.WriteableStreamMessageWriter}});var xq=qy();Object.defineProperty(j,"AbstractMessageBuffer",{enumerable:!0,get:function(){return xq.AbstractMessageBuffer}});var lt=Ny();Object.defineProperty(j,"ConnectionStrategy",{enumerable:!0,get:function(){return lt.ConnectionStrategy}});Object.defineProperty(j,"ConnectionOptions",{enumerable:!0,get:function(){return lt.ConnectionOptions}});Object.defineProperty(j,"NullLogger",{enumerable:!0,get:function(){return lt.NullLogger}});Object.defineProperty(j,"createMessageConnection",{enumerable:!0,get:function(){return lt.createMessageConnection}});Object.defineProperty(j,"ProgressToken",{enumerable:!0,get:function(){return lt.ProgressToken}});Object.defineProperty(j,"ProgressType",{enumerable:!0,get:function(){return lt.ProgressType}});Object.defineProperty(j,"Trace",{enumerable:!0,get:function(){return lt.Trace}});Object.defineProperty(j,"TraceValues",{enumerable:!0,get:function(){return lt.TraceValues}});Object.defineProperty(j,"TraceFormat",{enumerable:!0,get:function(){return lt.TraceFormat}});Object.defineProperty(j,"SetTraceNotification",{enumerable:!0,get:function(){return lt.SetTraceNotification}});Object.defineProperty(j,"LogTraceNotification",{enumerable:!0,get:function(){return lt.LogTraceNotification}});Object.defineProperty(j,"ConnectionErrors",{enumerable:!0,get:function(){return lt.ConnectionErrors}});Object.defineProperty(j,"ConnectionError",{enumerable:!0,get:function(){return lt.ConnectionError}});Object.defineProperty(j,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return lt.CancellationReceiverStrategy}});Object.defineProperty(j,"CancellationSenderStrategy",{enumerable:!0,get:function(){return lt.CancellationSenderStrategy}});Object.defineProperty(j,"CancellationStrategy",{enumerable:!0,get:function(){return lt.CancellationStrategy}});Object.defineProperty(j,"MessageStrategy",{enumerable:!0,get:function(){return lt.MessageStrategy}});var kq=Tn();j.RAL=kq.default});var $y=p(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});var ky=require("util"),dn=au(),uu=class t extends dn.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return t.emptyBuffer}fromString(e,r){return Buffer.from(e,r)}toString(e,r){return e instanceof Buffer?e.toString(r):new ky.TextDecoder(r).decode(e)}asNative(e,r){return r===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,r):Buffer.from(e,0,r)}allocNative(e){return Buffer.allocUnsafe(e)}};uu.emptyBuffer=Buffer.allocUnsafe(0);var Td=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),dn.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),dn.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),dn.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),dn.Disposable.create(()=>this.stream.off("data",e))}},qd=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),dn.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),dn.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),dn.Disposable.create(()=>this.stream.off("end",e))}write(e,r){return new Promise((n,i)=>{let o=s=>{s==null?n():i(s)};typeof e=="string"?this.stream.write(e,r,o):this.stream.write(e,o)})}end(){this.stream.end()}},Fy=Object.freeze({messageBuffer:Object.freeze({create:t=>new uu(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(r){return Promise.reject(r)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new ky.TextDecoder(e.charset).decode(t)))}catch(r){return Promise.reject(r)}}})}),stream:Object.freeze({asReadableStream:t=>new Td(t),asWritableStream:t=>new qd(t)}),console,timer:Object.freeze({setTimeout(t,e,...r){let n=setTimeout(t,e,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(t,...e){let r=setImmediate(t,...e);return{dispose:()=>clearImmediate(r)}},setInterval(t,e,...r){let n=setInterval(t,e,...r);return{dispose:()=>clearInterval(n)}}})});function Md(){return Fy}(function(t){function e(){dn.RAL.install(Fy)}t.install=e})(Md||(Md={}));Cd.default=Md});var _i=p(be=>{"use strict";var Fq=be&&be.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),$q=be&&be.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Fq(e,t,r)};Object.defineProperty(be,"__esModule",{value:!0});be.createMessageConnection=be.createServerSocketTransport=be.createClientSocketTransport=be.createServerPipeTransport=be.createClientPipeTransport=be.generateRandomPipeName=be.StreamMessageWriter=be.StreamMessageReader=be.SocketMessageWriter=be.SocketMessageReader=be.PortMessageWriter=be.PortMessageReader=be.IPCMessageWriter=be.IPCMessageReader=void 0;var ro=$y();ro.default.install();var Wy=require("path"),Wq=require("os"),Hq=require("crypto"),fu=require("net"),Qt=au();$q(au(),be);var jd=class extends Qt.AbstractMessageReader{constructor(e){super(),this.process=e;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Qt.Disposable.create(()=>this.process.off("message",e))}};be.IPCMessageReader=jd;var Ad=class extends Qt.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let r=this.process;r.on("error",n=>this.fireError(n)),r.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,r=>{r?(this.errorCount++,this.handleError(r,e)):this.errorCount=0}),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};be.IPCMessageWriter=Ad;var Nd=class extends Qt.AbstractMessageReader{constructor(e){super(),this.onData=new Qt.Emitter,e.on("close",()=>this.fireClose),e.on("error",r=>this.fireError(r)),e.on("message",r=>{this.onData.fire(r)})}listen(e){return this.onData.event(e)}};be.PortMessageReader=Nd;var Ld=class extends Qt.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",r=>this.fireError(r))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(r){return this.handleError(r,e),Promise.reject(r)}}handleError(e,r){this.errorCount++,this.fireError(e,r,this.errorCount)}end(){}};be.PortMessageWriter=Ld;var mi=class extends Qt.ReadableStreamMessageReader{constructor(e,r="utf-8"){super((0,ro.default)().stream.asReadableStream(e),r)}};be.SocketMessageReader=mi;var yi=class extends Qt.WriteableStreamMessageWriter{constructor(e,r){super((0,ro.default)().stream.asWritableStream(e),r),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};be.SocketMessageWriter=yi;var cu=class extends Qt.ReadableStreamMessageReader{constructor(e,r){super((0,ro.default)().stream.asReadableStream(e),r)}};be.StreamMessageReader=cu;var lu=class extends Qt.WriteableStreamMessageWriter{constructor(e,r){super((0,ro.default)().stream.asWritableStream(e),r)}};be.StreamMessageWriter=lu;var Hy=process.env.XDG_RUNTIME_DIR,Uq=new Map([["linux",107],["darwin",103]]);function Bq(){let t=(0,Hq.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;Hy?e=Wy.join(Hy,`vscode-ipc-${t}.sock`):e=Wy.join(Wq.tmpdir(),`vscode-${t}.sock`);let r=Uq.get(process.platform);return r!==void 0&&e.length>r&&(0,ro.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${r} characters.`),e}be.generateRandomPipeName=Bq;function zq(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=(0,fu.createServer)(a=>{s.close(),r([new mi(a,e),new yi(a,e)])});s.on("error",o),s.listen(t,()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}be.createClientPipeTransport=zq;function Vq(t,e="utf-8"){let r=(0,fu.createConnection)(t);return[new mi(r,e),new yi(r,e)]}be.createServerPipeTransport=Vq;function Gq(t,e="utf-8"){let r,n=new Promise((i,o)=>{r=i});return new Promise((i,o)=>{let s=(0,fu.createServer)(a=>{s.close(),r([new mi(a,e),new yi(a,e)])});s.on("error",o),s.listen(t,"127.0.0.1",()=>{s.removeListener("error",o),i({onConnected:()=>n})})})}be.createClientSocketTransport=Gq;function Yq(t,e="utf-8"){let r=(0,fu.createConnection)(t,"127.0.0.1");return[new mi(r,e),new yi(r,e)]}be.createServerSocketTransport=Yq;function Kq(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function Xq(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function Jq(t,e,r,n){r||(r=Qt.NullLogger);let i=Kq(t)?new cu(t):t,o=Xq(e)?new lu(e):e;return Qt.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Qt.createMessageConnection)(i,o,r,n)}be.createMessageConnection=Jq});var Id=p((g4,Uy)=>{"use strict";Uy.exports=_i()});var vr=p((By,du)=>{(function(t){if(typeof du=="object"&&typeof du.exports=="object"){var e=t(require,By);e!==void 0&&(du.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var r;(function(f){function R(D){return typeof D=="string"}f.is=R})(r||(e.DocumentUri=r={}));var n;(function(f){function R(D){return typeof D=="string"}f.is=R})(n||(e.URI=n={}));var i;(function(f){f.MIN_VALUE=-2147483648,f.MAX_VALUE=2147483647;function R(D){return typeof D=="number"&&f.MIN_VALUE<=D&&D<=f.MAX_VALUE}f.is=R})(i||(e.integer=i={}));var o;(function(f){f.MIN_VALUE=0,f.MAX_VALUE=2147483647;function R(D){return typeof D=="number"&&f.MIN_VALUE<=D&&D<=f.MAX_VALUE}f.is=R})(o||(e.uinteger=o={}));var s;(function(f){function R(m,l){return m===Number.MAX_VALUE&&(m=o.MAX_VALUE),l===Number.MAX_VALUE&&(l=o.MAX_VALUE),{line:m,character:l}}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&T.uinteger(l.line)&&T.uinteger(l.character)}f.is=D})(s||(e.Position=s={}));var a;(function(f){function R(m,l,P,L){if(T.uinteger(m)&&T.uinteger(l)&&T.uinteger(P)&&T.uinteger(L))return{start:s.create(m,l),end:s.create(P,L)};if(s.is(m)&&s.is(l))return{start:m,end:l};throw new Error("Range#create called with invalid arguments[".concat(m,", ").concat(l,", ").concat(P,", ").concat(L,"]"))}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&s.is(l.start)&&s.is(l.end)}f.is=D})(a||(e.Range=a={}));var u;(function(f){function R(m,l){return{uri:m,range:l}}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&a.is(l.range)&&(T.string(l.uri)||T.undefined(l.uri))}f.is=D})(u||(e.Location=u={}));var c;(function(f){function R(m,l,P,L){return{targetUri:m,targetRange:l,targetSelectionRange:P,originSelectionRange:L}}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&a.is(l.targetRange)&&T.string(l.targetUri)&&a.is(l.targetSelectionRange)&&(a.is(l.originSelectionRange)||T.undefined(l.originSelectionRange))}f.is=D})(c||(e.LocationLink=c={}));var h;(function(f){function R(m,l,P,L){return{red:m,green:l,blue:P,alpha:L}}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&T.numberRange(l.red,0,1)&&T.numberRange(l.green,0,1)&&T.numberRange(l.blue,0,1)&&T.numberRange(l.alpha,0,1)}f.is=D})(h||(e.Color=h={}));var d;(function(f){function R(m,l){return{range:m,color:l}}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&a.is(l.range)&&h.is(l.color)}f.is=D})(d||(e.ColorInformation=d={}));var g;(function(f){function R(m,l,P){return{label:m,textEdit:l,additionalTextEdits:P}}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&T.string(l.label)&&(T.undefined(l.textEdit)||x.is(l))&&(T.undefined(l.additionalTextEdits)||T.typedArray(l.additionalTextEdits,x.is))}f.is=D})(g||(e.ColorPresentation=g={}));var _;(function(f){f.Comment="comment",f.Imports="imports",f.Region="region"})(_||(e.FoldingRangeKind=_={}));var y;(function(f){function R(m,l,P,L,ae,Ue){var Ae={startLine:m,endLine:l};return T.defined(P)&&(Ae.startCharacter=P),T.defined(L)&&(Ae.endCharacter=L),T.defined(ae)&&(Ae.kind=ae),T.defined(Ue)&&(Ae.collapsedText=Ue),Ae}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&T.uinteger(l.startLine)&&T.uinteger(l.startLine)&&(T.undefined(l.startCharacter)||T.uinteger(l.startCharacter))&&(T.undefined(l.endCharacter)||T.uinteger(l.endCharacter))&&(T.undefined(l.kind)||T.string(l.kind))}f.is=D})(y||(e.FoldingRange=y={}));var E;(function(f){function R(m,l){return{location:m,message:l}}f.create=R;function D(m){var l=m;return T.defined(l)&&u.is(l.location)&&T.string(l.message)}f.is=D})(E||(e.DiagnosticRelatedInformation=E={}));var C;(function(f){f.Error=1,f.Warning=2,f.Information=3,f.Hint=4})(C||(e.DiagnosticSeverity=C={}));var O;(function(f){f.Unnecessary=1,f.Deprecated=2})(O||(e.DiagnosticTag=O={}));var w;(function(f){function R(D){var m=D;return T.objectLiteral(m)&&T.string(m.href)}f.is=R})(w||(e.CodeDescription=w={}));var b;(function(f){function R(m,l,P,L,ae,Ue){var Ae={range:m,message:l};return T.defined(P)&&(Ae.severity=P),T.defined(L)&&(Ae.code=L),T.defined(ae)&&(Ae.source=ae),T.defined(Ue)&&(Ae.relatedInformation=Ue),Ae}f.create=R;function D(m){var l,P=m;return T.defined(P)&&a.is(P.range)&&T.string(P.message)&&(T.number(P.severity)||T.undefined(P.severity))&&(T.integer(P.code)||T.string(P.code)||T.undefined(P.code))&&(T.undefined(P.codeDescription)||T.string((l=P.codeDescription)===null||l===void 0?void 0:l.href))&&(T.string(P.source)||T.undefined(P.source))&&(T.undefined(P.relatedInformation)||T.typedArray(P.relatedInformation,E.is))}f.is=D})(b||(e.Diagnostic=b={}));var M;(function(f){function R(m,l){for(var P=[],L=2;L<arguments.length;L++)P[L-2]=arguments[L];var ae={title:m,command:l};return T.defined(P)&&P.length>0&&(ae.arguments=P),ae}f.create=R;function D(m){var l=m;return T.defined(l)&&T.string(l.title)&&T.string(l.command)}f.is=D})(M||(e.Command=M={}));var x;(function(f){function R(P,L){return{range:P,newText:L}}f.replace=R;function D(P,L){return{range:{start:P,end:P},newText:L}}f.insert=D;function m(P){return{range:P,newText:""}}f.del=m;function l(P){var L=P;return T.objectLiteral(L)&&T.string(L.newText)&&a.is(L.range)}f.is=l})(x||(e.TextEdit=x={}));var W;(function(f){function R(m,l,P){var L={label:m};return l!==void 0&&(L.needsConfirmation=l),P!==void 0&&(L.description=P),L}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&T.string(l.label)&&(T.boolean(l.needsConfirmation)||l.needsConfirmation===void 0)&&(T.string(l.description)||l.description===void 0)}f.is=D})(W||(e.ChangeAnnotation=W={}));var G;(function(f){function R(D){var m=D;return T.string(m)}f.is=R})(G||(e.ChangeAnnotationIdentifier=G={}));var ee;(function(f){function R(P,L,ae){return{range:P,newText:L,annotationId:ae}}f.replace=R;function D(P,L,ae){return{range:{start:P,end:P},newText:L,annotationId:ae}}f.insert=D;function m(P,L){return{range:P,newText:"",annotationId:L}}f.del=m;function l(P){var L=P;return x.is(L)&&(W.is(L.annotationId)||G.is(L.annotationId))}f.is=l})(ee||(e.AnnotatedTextEdit=ee={}));var re;(function(f){function R(m,l){return{textDocument:m,edits:l}}f.create=R;function D(m){var l=m;return T.defined(l)&&fe.is(l.textDocument)&&Array.isArray(l.edits)}f.is=D})(re||(e.TextDocumentEdit=re={}));var F;(function(f){function R(m,l,P){var L={kind:"create",uri:m};return l!==void 0&&(l.overwrite!==void 0||l.ignoreIfExists!==void 0)&&(L.options=l),P!==void 0&&(L.annotationId=P),L}f.create=R;function D(m){var l=m;return l&&l.kind==="create"&&T.string(l.uri)&&(l.options===void 0||(l.options.overwrite===void 0||T.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||T.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||G.is(l.annotationId))}f.is=D})(F||(e.CreateFile=F={}));var I;(function(f){function R(m,l,P,L){var ae={kind:"rename",oldUri:m,newUri:l};return P!==void 0&&(P.overwrite!==void 0||P.ignoreIfExists!==void 0)&&(ae.options=P),L!==void 0&&(ae.annotationId=L),ae}f.create=R;function D(m){var l=m;return l&&l.kind==="rename"&&T.string(l.oldUri)&&T.string(l.newUri)&&(l.options===void 0||(l.options.overwrite===void 0||T.boolean(l.options.overwrite))&&(l.options.ignoreIfExists===void 0||T.boolean(l.options.ignoreIfExists)))&&(l.annotationId===void 0||G.is(l.annotationId))}f.is=D})(I||(e.RenameFile=I={}));var H;(function(f){function R(m,l,P){var L={kind:"delete",uri:m};return l!==void 0&&(l.recursive!==void 0||l.ignoreIfNotExists!==void 0)&&(L.options=l),P!==void 0&&(L.annotationId=P),L}f.create=R;function D(m){var l=m;return l&&l.kind==="delete"&&T.string(l.uri)&&(l.options===void 0||(l.options.recursive===void 0||T.boolean(l.options.recursive))&&(l.options.ignoreIfNotExists===void 0||T.boolean(l.options.ignoreIfNotExists)))&&(l.annotationId===void 0||G.is(l.annotationId))}f.is=D})(H||(e.DeleteFile=H={}));var V;(function(f){function R(D){var m=D;return m&&(m.changes!==void 0||m.documentChanges!==void 0)&&(m.documentChanges===void 0||m.documentChanges.every(function(l){return T.string(l.kind)?F.is(l)||I.is(l)||H.is(l):re.is(l)}))}f.is=R})(V||(e.WorkspaceEdit=V={}));var ie=(function(){function f(R,D){this.edits=R,this.changeAnnotations=D}return f.prototype.insert=function(R,D,m){var l,P;if(m===void 0?l=x.insert(R,D):G.is(m)?(P=m,l=ee.insert(R,D,m)):(this.assertChangeAnnotations(this.changeAnnotations),P=this.changeAnnotations.manage(m),l=ee.insert(R,D,P)),this.edits.push(l),P!==void 0)return P},f.prototype.replace=function(R,D,m){var l,P;if(m===void 0?l=x.replace(R,D):G.is(m)?(P=m,l=ee.replace(R,D,m)):(this.assertChangeAnnotations(this.changeAnnotations),P=this.changeAnnotations.manage(m),l=ee.replace(R,D,P)),this.edits.push(l),P!==void 0)return P},f.prototype.delete=function(R,D){var m,l;if(D===void 0?m=x.del(R):G.is(D)?(l=D,m=ee.del(R,D)):(this.assertChangeAnnotations(this.changeAnnotations),l=this.changeAnnotations.manage(D),m=ee.del(R,l)),this.edits.push(m),l!==void 0)return l},f.prototype.add=function(R){this.edits.push(R)},f.prototype.all=function(){return this.edits},f.prototype.clear=function(){this.edits.splice(0,this.edits.length)},f.prototype.assertChangeAnnotations=function(R){if(R===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},f})(),le=(function(){function f(R){this._annotations=R===void 0?Object.create(null):R,this._counter=0,this._size=0}return f.prototype.all=function(){return this._annotations},Object.defineProperty(f.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),f.prototype.manage=function(R,D){var m;if(G.is(R)?m=R:(m=this.nextId(),D=R),this._annotations[m]!==void 0)throw new Error("Id ".concat(m," is already in use."));if(D===void 0)throw new Error("No annotation provided for id ".concat(m));return this._annotations[m]=D,this._size++,m},f.prototype.nextId=function(){return this._counter++,this._counter.toString()},f})(),q=(function(){function f(R){var D=this;this._textEditChanges=Object.create(null),R!==void 0?(this._workspaceEdit=R,R.documentChanges?(this._changeAnnotations=new le(R.changeAnnotations),R.changeAnnotations=this._changeAnnotations.all(),R.documentChanges.forEach(function(m){if(re.is(m)){var l=new ie(m.edits,D._changeAnnotations);D._textEditChanges[m.textDocument.uri]=l}})):R.changes&&Object.keys(R.changes).forEach(function(m){var l=new ie(R.changes[m]);D._textEditChanges[m]=l})):this._workspaceEdit={}}return Object.defineProperty(f.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),f.prototype.getTextEditChange=function(R){if(fe.is(R)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var D={uri:R.uri,version:R.version},m=this._textEditChanges[D.uri];if(!m){var l=[],P={textDocument:D,edits:l};this._workspaceEdit.documentChanges.push(P),m=new ie(l,this._changeAnnotations),this._textEditChanges[D.uri]=m}return m}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var m=this._textEditChanges[R];if(!m){var l=[];this._workspaceEdit.changes[R]=l,m=new ie(l),this._textEditChanges[R]=m}return m}},f.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new le,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},f.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},f.prototype.createFile=function(R,D,m){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;W.is(D)||G.is(D)?l=D:m=D;var P,L;if(l===void 0?P=F.create(R,m):(L=G.is(l)?l:this._changeAnnotations.manage(l),P=F.create(R,m,L)),this._workspaceEdit.documentChanges.push(P),L!==void 0)return L},f.prototype.renameFile=function(R,D,m,l){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var P;W.is(m)||G.is(m)?P=m:l=m;var L,ae;if(P===void 0?L=I.create(R,D,l):(ae=G.is(P)?P:this._changeAnnotations.manage(P),L=I.create(R,D,l,ae)),this._workspaceEdit.documentChanges.push(L),ae!==void 0)return ae},f.prototype.deleteFile=function(R,D,m){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var l;W.is(D)||G.is(D)?l=D:m=D;var P,L;if(l===void 0?P=H.create(R,m):(L=G.is(l)?l:this._changeAnnotations.manage(l),P=H.create(R,m,L)),this._workspaceEdit.documentChanges.push(P),L!==void 0)return L},f})();e.WorkspaceChange=q;var U;(function(f){function R(m){return{uri:m}}f.create=R;function D(m){var l=m;return T.defined(l)&&T.string(l.uri)}f.is=D})(U||(e.TextDocumentIdentifier=U={}));var ne;(function(f){function R(m,l){return{uri:m,version:l}}f.create=R;function D(m){var l=m;return T.defined(l)&&T.string(l.uri)&&T.integer(l.version)}f.is=D})(ne||(e.VersionedTextDocumentIdentifier=ne={}));var fe;(function(f){function R(m,l){return{uri:m,version:l}}f.create=R;function D(m){var l=m;return T.defined(l)&&T.string(l.uri)&&(l.version===null||T.integer(l.version))}f.is=D})(fe||(e.OptionalVersionedTextDocumentIdentifier=fe={}));var Q;(function(f){function R(m,l,P,L){return{uri:m,languageId:l,version:P,text:L}}f.create=R;function D(m){var l=m;return T.defined(l)&&T.string(l.uri)&&T.string(l.languageId)&&T.integer(l.version)&&T.string(l.text)}f.is=D})(Q||(e.TextDocumentItem=Q={}));var ct;(function(f){f.PlainText="plaintext",f.Markdown="markdown";function R(D){var m=D;return m===f.PlainText||m===f.Markdown}f.is=R})(ct||(e.MarkupKind=ct={}));var Et;(function(f){function R(D){var m=D;return T.objectLiteral(D)&&ct.is(m.kind)&&T.string(m.value)}f.is=R})(Et||(e.MarkupContent=Et={}));var Lr;(function(f){f.Text=1,f.Method=2,f.Function=3,f.Constructor=4,f.Field=5,f.Variable=6,f.Class=7,f.Interface=8,f.Module=9,f.Property=10,f.Unit=11,f.Value=12,f.Enum=13,f.Keyword=14,f.Snippet=15,f.Color=16,f.File=17,f.Reference=18,f.Folder=19,f.EnumMember=20,f.Constant=21,f.Struct=22,f.Event=23,f.Operator=24,f.TypeParameter=25})(Lr||(e.CompletionItemKind=Lr={}));var Ir;(function(f){f.PlainText=1,f.Snippet=2})(Ir||(e.InsertTextFormat=Ir={}));var Dn;(function(f){f.Deprecated=1})(Dn||(e.CompletionItemTag=Dn={}));var on;(function(f){function R(m,l,P){return{newText:m,insert:l,replace:P}}f.create=R;function D(m){var l=m;return l&&T.string(l.newText)&&a.is(l.insert)&&a.is(l.replace)}f.is=D})(on||(e.InsertReplaceEdit=on={}));var zi;(function(f){f.asIs=1,f.adjustIndentation=2})(zi||(e.InsertTextMode=zi={}));var pt;(function(f){function R(D){var m=D;return m&&(T.string(m.detail)||m.detail===void 0)&&(T.string(m.description)||m.description===void 0)}f.is=R})(pt||(e.CompletionItemLabelDetails=pt={}));var gi;(function(f){function R(D){return{label:D}}f.create=R})(gi||(e.CompletionItem=gi={}));var Vi;(function(f){function R(D,m){return{items:D||[],isIncomplete:!!m}}f.create=R})(Vi||(e.CompletionList=Vi={}));var sn;(function(f){function R(m){return m.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}f.fromPlainText=R;function D(m){var l=m;return T.string(l)||T.objectLiteral(l)&&T.string(l.language)&&T.string(l.value)}f.is=D})(sn||(e.MarkedString=sn={}));var Lt;(function(f){function R(D){var m=D;return!!m&&T.objectLiteral(m)&&(Et.is(m.contents)||sn.is(m.contents)||T.typedArray(m.contents,sn.is))&&(D.range===void 0||a.is(D.range))}f.is=R})(Lt||(e.Hover=Lt={}));var an;(function(f){function R(D,m){return m?{label:D,documentation:m}:{label:D}}f.create=R})(an||(e.ParameterInformation=an={}));var un;(function(f){function R(D,m){for(var l=[],P=2;P<arguments.length;P++)l[P-2]=arguments[P];var L={label:D};return T.defined(m)&&(L.documentation=m),T.defined(l)?L.parameters=l:L.parameters=[],L}f.create=R})(un||(e.SignatureInformation=un={}));var cn;(function(f){f.Text=1,f.Read=2,f.Write=3})(cn||(e.DocumentHighlightKind=cn={}));var xr;(function(f){function R(D,m){var l={range:D};return T.number(m)&&(l.kind=m),l}f.create=R})(xr||(e.DocumentHighlight=xr={}));var Kt;(function(f){f.File=1,f.Module=2,f.Namespace=3,f.Package=4,f.Class=5,f.Method=6,f.Property=7,f.Field=8,f.Constructor=9,f.Enum=10,f.Interface=11,f.Function=12,f.Variable=13,f.Constant=14,f.String=15,f.Number=16,f.Boolean=17,f.Array=18,f.Object=19,f.Key=20,f.Null=21,f.EnumMember=22,f.Struct=23,f.Event=24,f.Operator=25,f.TypeParameter=26})(Kt||(e.SymbolKind=Kt={}));var Pn;(function(f){f.Deprecated=1})(Pn||(e.SymbolTag=Pn={}));var pr;(function(f){function R(D,m,l,P,L){var ae={name:D,kind:m,location:{uri:P,range:l}};return L&&(ae.containerName=L),ae}f.create=R})(pr||(e.SymbolInformation=pr={}));var mr;(function(f){function R(D,m,l,P){return P!==void 0?{name:D,kind:m,location:{uri:l,range:P}}:{name:D,kind:m,location:{uri:l}}}f.create=R})(mr||(e.WorkspaceSymbol=mr={}));var $a;(function(f){function R(m,l,P,L,ae,Ue){var Ae={name:m,detail:l,kind:P,range:L,selectionRange:ae};return Ue!==void 0&&(Ae.children=Ue),Ae}f.create=R;function D(m){var l=m;return l&&T.string(l.name)&&T.number(l.kind)&&a.is(l.range)&&a.is(l.selectionRange)&&(l.detail===void 0||T.string(l.detail))&&(l.deprecated===void 0||T.boolean(l.deprecated))&&(l.children===void 0||Array.isArray(l.children))&&(l.tags===void 0||Array.isArray(l.tags))}f.is=D})($a||(e.DocumentSymbol=$a={}));var Wa;(function(f){f.Empty="",f.QuickFix="quickfix",f.Refactor="refactor",f.RefactorExtract="refactor.extract",f.RefactorInline="refactor.inline",f.RefactorRewrite="refactor.rewrite",f.Source="source",f.SourceOrganizeImports="source.organizeImports",f.SourceFixAll="source.fixAll"})(Wa||(e.CodeActionKind=Wa={}));var kr;(function(f){f.Invoked=1,f.Automatic=2})(kr||(e.CodeActionTriggerKind=kr={}));var ss;(function(f){function R(m,l,P){var L={diagnostics:m};return l!=null&&(L.only=l),P!=null&&(L.triggerKind=P),L}f.create=R;function D(m){var l=m;return T.defined(l)&&T.typedArray(l.diagnostics,b.is)&&(l.only===void 0||T.typedArray(l.only,T.string))&&(l.triggerKind===void 0||l.triggerKind===kr.Invoked||l.triggerKind===kr.Automatic)}f.is=D})(ss||(e.CodeActionContext=ss={}));var as;(function(f){function R(m,l,P){var L={title:m},ae=!0;return typeof l=="string"?(ae=!1,L.kind=l):M.is(l)?L.command=l:L.edit=l,ae&&P!==void 0&&(L.kind=P),L}f.create=R;function D(m){var l=m;return l&&T.string(l.title)&&(l.diagnostics===void 0||T.typedArray(l.diagnostics,b.is))&&(l.kind===void 0||T.string(l.kind))&&(l.edit!==void 0||l.command!==void 0)&&(l.command===void 0||M.is(l.command))&&(l.isPreferred===void 0||T.boolean(l.isPreferred))&&(l.edit===void 0||V.is(l.edit))}f.is=D})(as||(e.CodeAction=as={}));var Gi;(function(f){function R(m,l){var P={range:m};return T.defined(l)&&(P.data=l),P}f.create=R;function D(m){var l=m;return T.defined(l)&&a.is(l.range)&&(T.undefined(l.command)||M.is(l.command))}f.is=D})(Gi||(e.CodeLens=Gi={}));var us;(function(f){function R(m,l){return{tabSize:m,insertSpaces:l}}f.create=R;function D(m){var l=m;return T.defined(l)&&T.uinteger(l.tabSize)&&T.boolean(l.insertSpaces)}f.is=D})(us||(e.FormattingOptions=us={}));var ln;(function(f){function R(m,l,P){return{range:m,target:l,data:P}}f.create=R;function D(m){var l=m;return T.defined(l)&&a.is(l.range)&&(T.undefined(l.target)||T.string(l.target))}f.is=D})(ln||(e.DocumentLink=ln={}));var S;(function(f){function R(m,l){return{range:m,parent:l}}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&a.is(l.range)&&(l.parent===void 0||f.is(l.parent))}f.is=D})(S||(e.SelectionRange=S={}));var N;(function(f){f.namespace="namespace",f.type="type",f.class="class",f.enum="enum",f.interface="interface",f.struct="struct",f.typeParameter="typeParameter",f.parameter="parameter",f.variable="variable",f.property="property",f.enumMember="enumMember",f.event="event",f.function="function",f.method="method",f.macro="macro",f.keyword="keyword",f.modifier="modifier",f.comment="comment",f.string="string",f.number="number",f.regexp="regexp",f.operator="operator",f.decorator="decorator"})(N||(e.SemanticTokenTypes=N={}));var $;(function(f){f.declaration="declaration",f.definition="definition",f.readonly="readonly",f.static="static",f.deprecated="deprecated",f.abstract="abstract",f.async="async",f.modification="modification",f.documentation="documentation",f.defaultLibrary="defaultLibrary"})($||(e.SemanticTokenModifiers=$={}));var J;(function(f){function R(D){var m=D;return T.objectLiteral(m)&&(m.resultId===void 0||typeof m.resultId=="string")&&Array.isArray(m.data)&&(m.data.length===0||typeof m.data[0]=="number")}f.is=R})(J||(e.SemanticTokens=J={}));var qe;(function(f){function R(m,l){return{range:m,text:l}}f.create=R;function D(m){var l=m;return l!=null&&a.is(l.range)&&T.string(l.text)}f.is=D})(qe||(e.InlineValueText=qe={}));var De;(function(f){function R(m,l,P){return{range:m,variableName:l,caseSensitiveLookup:P}}f.create=R;function D(m){var l=m;return l!=null&&a.is(l.range)&&T.boolean(l.caseSensitiveLookup)&&(T.string(l.variableName)||l.variableName===void 0)}f.is=D})(De||(e.InlineValueVariableLookup=De={}));var Le;(function(f){function R(m,l){return{range:m,expression:l}}f.create=R;function D(m){var l=m;return l!=null&&a.is(l.range)&&(T.string(l.expression)||l.expression===void 0)}f.is=D})(Le||(e.InlineValueEvaluatableExpression=Le={}));var Fe;(function(f){function R(m,l){return{frameId:m,stoppedLocation:l}}f.create=R;function D(m){var l=m;return T.defined(l)&&a.is(m.stoppedLocation)}f.is=D})(Fe||(e.InlineValueContext=Fe={}));var me;(function(f){f.Type=1,f.Parameter=2;function R(D){return D===1||D===2}f.is=R})(me||(e.InlayHintKind=me={}));var Ce;(function(f){function R(m){return{value:m}}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&(l.tooltip===void 0||T.string(l.tooltip)||Et.is(l.tooltip))&&(l.location===void 0||u.is(l.location))&&(l.command===void 0||M.is(l.command))}f.is=D})(Ce||(e.InlayHintLabelPart=Ce={}));var Se;(function(f){function R(m,l,P){var L={position:m,label:l};return P!==void 0&&(L.kind=P),L}f.create=R;function D(m){var l=m;return T.objectLiteral(l)&&s.is(l.position)&&(T.string(l.label)||T.typedArray(l.label,Ce.is))&&(l.kind===void 0||me.is(l.kind))&&l.textEdits===void 0||T.typedArray(l.textEdits,x.is)&&(l.tooltip===void 0||T.string(l.tooltip)||Et.is(l.tooltip))&&(l.paddingLeft===void 0||T.boolean(l.paddingLeft))&&(l.paddingRight===void 0||T.boolean(l.paddingRight))}f.is=D})(Se||(e.InlayHint=Se={}));var He;(function(f){function R(D){return{kind:"snippet",value:D}}f.createSnippet=R})(He||(e.StringValue=He={}));var it;(function(f){function R(D,m,l,P){return{insertText:D,filterText:m,range:l,command:P}}f.create=R})(it||(e.InlineCompletionItem=it={}));var Xt;(function(f){function R(D){return{items:D}}f.create=R})(Xt||(e.InlineCompletionList=Xt={}));var Ha;(function(f){f.Invoked=0,f.Automatic=1})(Ha||(e.InlineCompletionTriggerKind=Ha={}));var sy;(function(f){function R(D,m){return{range:D,text:m}}f.create=R})(sy||(e.SelectedCompletionInfo=sy={}));var ay;(function(f){function R(D,m){return{triggerKind:D,selectedCompletionInfo:m}}f.create=R})(ay||(e.InlineCompletionContext=ay={}));var uy;(function(f){function R(D){var m=D;return T.objectLiteral(m)&&n.is(m.uri)&&T.string(m.name)}f.is=R})(uy||(e.WorkspaceFolder=uy={})),e.EOL=[`
`,`\r
`,"\r"];var cy;(function(f){function R(P,L,ae,Ue){return new iq(P,L,ae,Ue)}f.create=R;function D(P){var L=P;return!!(T.defined(L)&&T.string(L.uri)&&(T.undefined(L.languageId)||T.string(L.languageId))&&T.uinteger(L.lineCount)&&T.func(L.getText)&&T.func(L.positionAt)&&T.func(L.offsetAt))}f.is=D;function m(P,L){for(var ae=P.getText(),Ue=l(L,function(Yi,Ua){var ly=Yi.range.start.line-Ua.range.start.line;return ly===0?Yi.range.start.character-Ua.range.start.character:ly}),Ae=ae.length,yr=Ue.length-1;yr>=0;yr--){var _r=Ue[yr],fn=P.offsetAt(_r.range.start),_e=P.offsetAt(_r.range.end);if(_e<=Ae)ae=ae.substring(0,fn)+_r.newText+ae.substring(_e,ae.length);else throw new Error("Overlapping edit");Ae=fn}return ae}f.applyEdits=m;function l(P,L){if(P.length<=1)return P;var ae=P.length/2|0,Ue=P.slice(0,ae),Ae=P.slice(ae);l(Ue,L),l(Ae,L);for(var yr=0,_r=0,fn=0;yr<Ue.length&&_r<Ae.length;){var _e=L(Ue[yr],Ae[_r]);_e<=0?P[fn++]=Ue[yr++]:P[fn++]=Ae[_r++]}for(;yr<Ue.length;)P[fn++]=Ue[yr++];for(;_r<Ae.length;)P[fn++]=Ae[_r++];return P}})(cy||(e.TextDocument=cy={}));var iq=(function(){function f(R,D,m,l){this._uri=R,this._languageId=D,this._version=m,this._content=l,this._lineOffsets=void 0}return Object.defineProperty(f.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),f.prototype.getText=function(R){if(R){var D=this.offsetAt(R.start),m=this.offsetAt(R.end);return this._content.substring(D,m)}return this._content},f.prototype.update=function(R,D){this._content=R.text,this._version=D,this._lineOffsets=void 0},f.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var R=[],D=this._content,m=!0,l=0;l<D.length;l++){m&&(R.push(l),m=!1);var P=D.charAt(l);m=P==="\r"||P===`
`,P==="\r"&&l+1<D.length&&D.charAt(l+1)===`
`&&l++}m&&D.length>0&&R.push(D.length),this._lineOffsets=R}return this._lineOffsets},f.prototype.positionAt=function(R){R=Math.max(Math.min(R,this._content.length),0);var D=this.getLineOffsets(),m=0,l=D.length;if(l===0)return s.create(0,R);for(;m<l;){var P=Math.floor((m+l)/2);D[P]>R?l=P:m=P+1}var L=m-1;return s.create(L,R-D[L])},f.prototype.offsetAt=function(R){var D=this.getLineOffsets();if(R.line>=D.length)return this._content.length;if(R.line<0)return 0;var m=D[R.line],l=R.line+1<D.length?D[R.line+1]:this._content.length;return Math.max(Math.min(m+R.character,l),m)},Object.defineProperty(f.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),f})(),T;(function(f){var R=Object.prototype.toString;function D(_e){return typeof _e<"u"}f.defined=D;function m(_e){return typeof _e>"u"}f.undefined=m;function l(_e){return _e===!0||_e===!1}f.boolean=l;function P(_e){return R.call(_e)==="[object String]"}f.string=P;function L(_e){return R.call(_e)==="[object Number]"}f.number=L;function ae(_e,Yi,Ua){return R.call(_e)==="[object Number]"&&Yi<=_e&&_e<=Ua}f.numberRange=ae;function Ue(_e){return R.call(_e)==="[object Number]"&&-2147483648<=_e&&_e<=2147483647}f.integer=Ue;function Ae(_e){return R.call(_e)==="[object Number]"&&0<=_e&&_e<=2147483647}f.uinteger=Ae;function yr(_e){return R.call(_e)==="[object Function]"}f.func=yr;function _r(_e){return _e!==null&&typeof _e=="object"}f.objectLiteral=_r;function fn(_e,Yi){return Array.isArray(_e)&&_e.every(Yi)}f.typedArray=fn})(T||(T={}))})});var $e=p(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.ProtocolNotificationType=xt.ProtocolNotificationType0=xt.ProtocolRequestType=xt.ProtocolRequestType0=xt.RegistrationType=xt.MessageDirection=void 0;var no=_i(),zy;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(zy||(xt.MessageDirection=zy={}));var xd=class{constructor(e){this.method=e}};xt.RegistrationType=xd;var kd=class extends no.RequestType0{constructor(e){super(e)}};xt.ProtocolRequestType0=kd;var Fd=class extends no.RequestType{constructor(e){super(e,no.ParameterStructures.byName)}};xt.ProtocolRequestType=Fd;var $d=class extends no.NotificationType0{constructor(e){super(e)}};xt.ProtocolNotificationType0=$d;var Wd=class extends no.NotificationType{constructor(e){super(e,no.ParameterStructures.byName)}};xt.ProtocolNotificationType=Wd});var hu=p(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.objectLiteral=Je.typedArray=Je.stringArray=Je.array=Je.func=Je.error=Je.number=Je.string=Je.boolean=void 0;function Qq(t){return t===!0||t===!1}Je.boolean=Qq;function Vy(t){return typeof t=="string"||t instanceof String}Je.string=Vy;function Zq(t){return typeof t=="number"||t instanceof Number}Je.number=Zq;function eM(t){return t instanceof Error}Je.error=eM;function tM(t){return typeof t=="function"}Je.func=tM;function Gy(t){return Array.isArray(t)}Je.array=Gy;function rM(t){return Gy(t)&&t.every(e=>Vy(e))}Je.stringArray=rM;function nM(t,e){return Array.isArray(t)&&t.every(e)}Je.typedArray=nM;function iM(t){return t!==null&&typeof t=="object"}Je.objectLiteral=iM});var Xy=p(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.ImplementationRequest=void 0;var Yy=$e(),Ky;(function(t){t.method="textDocument/implementation",t.messageDirection=Yy.MessageDirection.clientToServer,t.type=new Yy.ProtocolRequestType(t.method)})(Ky||(gu.ImplementationRequest=Ky={}))});var Zy=p(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.TypeDefinitionRequest=void 0;var Jy=$e(),Qy;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=Jy.MessageDirection.clientToServer,t.type=new Jy.ProtocolRequestType(t.method)})(Qy||(pu.TypeDefinitionRequest=Qy={}))});var r_=p(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.DidChangeWorkspaceFoldersNotification=io.WorkspaceFoldersRequest=void 0;var mu=$e(),e_;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=mu.MessageDirection.serverToClient,t.type=new mu.ProtocolRequestType0(t.method)})(e_||(io.WorkspaceFoldersRequest=e_={}));var t_;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=mu.MessageDirection.clientToServer,t.type=new mu.ProtocolNotificationType(t.method)})(t_||(io.DidChangeWorkspaceFoldersNotification=t_={}))});var o_=p(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.ConfigurationRequest=void 0;var n_=$e(),i_;(function(t){t.method="workspace/configuration",t.messageDirection=n_.MessageDirection.serverToClient,t.type=new n_.ProtocolRequestType(t.method)})(i_||(yu.ConfigurationRequest=i_={}))});var u_=p(oo=>{"use strict";Object.defineProperty(oo,"__esModule",{value:!0});oo.ColorPresentationRequest=oo.DocumentColorRequest=void 0;var _u=$e(),s_;(function(t){t.method="textDocument/documentColor",t.messageDirection=_u.MessageDirection.clientToServer,t.type=new _u.ProtocolRequestType(t.method)})(s_||(oo.DocumentColorRequest=s_={}));var a_;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=_u.MessageDirection.clientToServer,t.type=new _u.ProtocolRequestType(t.method)})(a_||(oo.ColorPresentationRequest=a_={}))});var f_=p(so=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.FoldingRangeRefreshRequest=so.FoldingRangeRequest=void 0;var bu=$e(),c_;(function(t){t.method="textDocument/foldingRange",t.messageDirection=bu.MessageDirection.clientToServer,t.type=new bu.ProtocolRequestType(t.method)})(c_||(so.FoldingRangeRequest=c_={}));var l_;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=bu.MessageDirection.serverToClient,t.type=new bu.ProtocolRequestType0(t.method)})(l_||(so.FoldingRangeRefreshRequest=l_={}))});var g_=p(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.DeclarationRequest=void 0;var d_=$e(),h_;(function(t){t.method="textDocument/declaration",t.messageDirection=d_.MessageDirection.clientToServer,t.type=new d_.ProtocolRequestType(t.method)})(h_||(vu.DeclarationRequest=h_={}))});var y_=p(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.SelectionRangeRequest=void 0;var p_=$e(),m_;(function(t){t.method="textDocument/selectionRange",t.messageDirection=p_.MessageDirection.clientToServer,t.type=new p_.ProtocolRequestType(t.method)})(m_||(wu.SelectionRangeRequest=m_={}))});var w_=p(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.WorkDoneProgressCancelNotification=Cn.WorkDoneProgressCreateRequest=Cn.WorkDoneProgress=void 0;var oM=_i(),Su=$e(),__;(function(t){t.type=new oM.ProgressType;function e(r){return r===t.type}t.is=e})(__||(Cn.WorkDoneProgress=__={}));var b_;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=Su.MessageDirection.serverToClient,t.type=new Su.ProtocolRequestType(t.method)})(b_||(Cn.WorkDoneProgressCreateRequest=b_={}));var v_;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=Su.MessageDirection.clientToServer,t.type=new Su.ProtocolNotificationType(t.method)})(v_||(Cn.WorkDoneProgressCancelNotification=v_={}))});var D_=p(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.CallHierarchyOutgoingCallsRequest=jn.CallHierarchyIncomingCallsRequest=jn.CallHierarchyPrepareRequest=void 0;var ao=$e(),S_;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=ao.MessageDirection.clientToServer,t.type=new ao.ProtocolRequestType(t.method)})(S_||(jn.CallHierarchyPrepareRequest=S_={}));var R_;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=ao.MessageDirection.clientToServer,t.type=new ao.ProtocolRequestType(t.method)})(R_||(jn.CallHierarchyIncomingCallsRequest=R_={}));var E_;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=ao.MessageDirection.clientToServer,t.type=new ao.ProtocolRequestType(t.method)})(E_||(jn.CallHierarchyOutgoingCallsRequest=E_={}))});var C_=p(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.SemanticTokensRefreshRequest=kt.SemanticTokensRangeRequest=kt.SemanticTokensDeltaRequest=kt.SemanticTokensRequest=kt.SemanticTokensRegistrationType=kt.TokenFormat=void 0;var hn=$e(),P_;(function(t){t.Relative="relative"})(P_||(kt.TokenFormat=P_={}));var ps;(function(t){t.method="textDocument/semanticTokens",t.type=new hn.RegistrationType(t.method)})(ps||(kt.SemanticTokensRegistrationType=ps={}));var O_;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=hn.MessageDirection.clientToServer,t.type=new hn.ProtocolRequestType(t.method),t.registrationMethod=ps.method})(O_||(kt.SemanticTokensRequest=O_={}));var T_;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=hn.MessageDirection.clientToServer,t.type=new hn.ProtocolRequestType(t.method),t.registrationMethod=ps.method})(T_||(kt.SemanticTokensDeltaRequest=T_={}));var q_;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=hn.MessageDirection.clientToServer,t.type=new hn.ProtocolRequestType(t.method),t.registrationMethod=ps.method})(q_||(kt.SemanticTokensRangeRequest=q_={}));var M_;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=hn.MessageDirection.serverToClient,t.type=new hn.ProtocolRequestType0(t.method)})(M_||(kt.SemanticTokensRefreshRequest=M_={}))});var N_=p(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.ShowDocumentRequest=void 0;var j_=$e(),A_;(function(t){t.method="window/showDocument",t.messageDirection=j_.MessageDirection.serverToClient,t.type=new j_.ProtocolRequestType(t.method)})(A_||(Ru.ShowDocumentRequest=A_={}))});var x_=p(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.LinkedEditingRangeRequest=void 0;var L_=$e(),I_;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=L_.MessageDirection.clientToServer,t.type=new L_.ProtocolRequestType(t.method)})(I_||(Eu.LinkedEditingRangeRequest=I_={}))});var z_=p(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.WillDeleteFilesRequest=_t.DidDeleteFilesNotification=_t.DidRenameFilesNotification=_t.WillRenameFilesRequest=_t.DidCreateFilesNotification=_t.WillCreateFilesRequest=_t.FileOperationPatternKind=void 0;var er=$e(),k_;(function(t){t.file="file",t.folder="folder"})(k_||(_t.FileOperationPatternKind=k_={}));var F_;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(F_||(_t.WillCreateFilesRequest=F_={}));var $_;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolNotificationType(t.method)})($_||(_t.DidCreateFilesNotification=$_={}));var W_;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(W_||(_t.WillRenameFilesRequest=W_={}));var H_;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolNotificationType(t.method)})(H_||(_t.DidRenameFilesNotification=H_={}));var U_;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolNotificationType(t.method)})(U_||(_t.DidDeleteFilesNotification=U_={}));var B_;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(B_||(_t.WillDeleteFilesRequest=B_={}))});var X_=p(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.MonikerRequest=An.MonikerKind=An.UniquenessLevel=void 0;var V_=$e(),G_;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(G_||(An.UniquenessLevel=G_={}));var Y_;(function(t){t.$import="import",t.$export="export",t.local="local"})(Y_||(An.MonikerKind=Y_={}));var K_;(function(t){t.method="textDocument/moniker",t.messageDirection=V_.MessageDirection.clientToServer,t.type=new V_.ProtocolRequestType(t.method)})(K_||(An.MonikerRequest=K_={}))});var eb=p(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.TypeHierarchySubtypesRequest=Nn.TypeHierarchySupertypesRequest=Nn.TypeHierarchyPrepareRequest=void 0;var uo=$e(),J_;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=uo.MessageDirection.clientToServer,t.type=new uo.ProtocolRequestType(t.method)})(J_||(Nn.TypeHierarchyPrepareRequest=J_={}));var Q_;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=uo.MessageDirection.clientToServer,t.type=new uo.ProtocolRequestType(t.method)})(Q_||(Nn.TypeHierarchySupertypesRequest=Q_={}));var Z_;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=uo.MessageDirection.clientToServer,t.type=new uo.ProtocolRequestType(t.method)})(Z_||(Nn.TypeHierarchySubtypesRequest=Z_={}))});var nb=p(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.InlineValueRefreshRequest=co.InlineValueRequest=void 0;var Du=$e(),tb;(function(t){t.method="textDocument/inlineValue",t.messageDirection=Du.MessageDirection.clientToServer,t.type=new Du.ProtocolRequestType(t.method)})(tb||(co.InlineValueRequest=tb={}));var rb;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=Du.MessageDirection.serverToClient,t.type=new Du.ProtocolRequestType0(t.method)})(rb||(co.InlineValueRefreshRequest=rb={}))});var ab=p(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.InlayHintRefreshRequest=Ln.InlayHintResolveRequest=Ln.InlayHintRequest=void 0;var lo=$e(),ib;(function(t){t.method="textDocument/inlayHint",t.messageDirection=lo.MessageDirection.clientToServer,t.type=new lo.ProtocolRequestType(t.method)})(ib||(Ln.InlayHintRequest=ib={}));var ob;(function(t){t.method="inlayHint/resolve",t.messageDirection=lo.MessageDirection.clientToServer,t.type=new lo.ProtocolRequestType(t.method)})(ob||(Ln.InlayHintResolveRequest=ob={}));var sb;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=lo.MessageDirection.serverToClient,t.type=new lo.ProtocolRequestType0(t.method)})(sb||(Ln.InlayHintRefreshRequest=sb={}))});var gb=p(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.DiagnosticRefreshRequest=tr.WorkspaceDiagnosticRequest=tr.DocumentDiagnosticRequest=tr.DocumentDiagnosticReportKind=tr.DiagnosticServerCancellationData=void 0;var hb=_i(),sM=hu(),fo=$e(),ub;(function(t){function e(r){let n=r;return n&&sM.boolean(n.retriggerRequest)}t.is=e})(ub||(tr.DiagnosticServerCancellationData=ub={}));var cb;(function(t){t.Full="full",t.Unchanged="unchanged"})(cb||(tr.DocumentDiagnosticReportKind=cb={}));var lb;(function(t){t.method="textDocument/diagnostic",t.messageDirection=fo.MessageDirection.clientToServer,t.type=new fo.ProtocolRequestType(t.method),t.partialResult=new hb.ProgressType})(lb||(tr.DocumentDiagnosticRequest=lb={}));var fb;(function(t){t.method="workspace/diagnostic",t.messageDirection=fo.MessageDirection.clientToServer,t.type=new fo.ProtocolRequestType(t.method),t.partialResult=new hb.ProgressType})(fb||(tr.WorkspaceDiagnosticRequest=fb={}));var db;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=fo.MessageDirection.serverToClient,t.type=new fo.ProtocolRequestType0(t.method)})(db||(tr.DiagnosticRefreshRequest=db={}))});var wb=p(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.DidCloseNotebookDocumentNotification=Be.DidSaveNotebookDocumentNotification=Be.DidChangeNotebookDocumentNotification=Be.NotebookCellArrayChange=Be.DidOpenNotebookDocumentNotification=Be.NotebookDocumentSyncRegistrationType=Be.NotebookDocument=Be.NotebookCell=Be.ExecutionSummary=Be.NotebookCellKind=void 0;var ms=vr(),wr=hu(),Fr=$e(),Hd;(function(t){t.Markup=1,t.Code=2;function e(r){return r===1||r===2}t.is=e})(Hd||(Be.NotebookCellKind=Hd={}));var Ud;(function(t){function e(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}t.create=e;function r(i){let o=i;return wr.objectLiteral(o)&&ms.uinteger.is(o.executionOrder)&&(o.success===void 0||wr.boolean(o.success))}t.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}t.equals=n})(Ud||(Be.ExecutionSummary=Ud={}));var Pu;(function(t){function e(o,s){return{kind:o,document:s}}t.create=e;function r(o){let s=o;return wr.objectLiteral(s)&&Hd.is(s.kind)&&ms.DocumentUri.is(s.document)&&(s.metadata===void 0||wr.objectLiteral(s.metadata))}t.is=r;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!Ud.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}t.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),u=Array.isArray(s);if(a!==u)return!1;if(a&&u){if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++)if(!i(o[c],s[c]))return!1}if(wr.objectLiteral(o)&&wr.objectLiteral(s)){let c=Object.keys(o),h=Object.keys(s);if(c.length!==h.length||(c.sort(),h.sort(),!i(c,h)))return!1;for(let d=0;d<c.length;d++){let g=c[d];if(!i(o[g],s[g]))return!1}}return!0}})(Pu||(Be.NotebookCell=Pu={}));var pb;(function(t){function e(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}t.create=e;function r(n){let i=n;return wr.objectLiteral(i)&&wr.string(i.uri)&&ms.integer.is(i.version)&&wr.typedArray(i.cells,Pu.is)}t.is=r})(pb||(Be.NotebookDocument=pb={}));var ho;(function(t){t.method="notebookDocument/sync",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.RegistrationType(t.method)})(ho||(Be.NotebookDocumentSyncRegistrationType=ho={}));var mb;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=ho.method})(mb||(Be.DidOpenNotebookDocumentNotification=mb={}));var yb;(function(t){function e(n){let i=n;return wr.objectLiteral(i)&&ms.uinteger.is(i.start)&&ms.uinteger.is(i.deleteCount)&&(i.cells===void 0||wr.typedArray(i.cells,Pu.is))}t.is=e;function r(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}t.create=r})(yb||(Be.NotebookCellArrayChange=yb={}));var _b;(function(t){t.method="notebookDocument/didChange",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=ho.method})(_b||(Be.DidChangeNotebookDocumentNotification=_b={}));var bb;(function(t){t.method="notebookDocument/didSave",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=ho.method})(bb||(Be.DidSaveNotebookDocumentNotification=bb={}));var vb;(function(t){t.method="notebookDocument/didClose",t.messageDirection=Fr.MessageDirection.clientToServer,t.type=new Fr.ProtocolNotificationType(t.method),t.registrationMethod=ho.method})(vb||(Be.DidCloseNotebookDocumentNotification=vb={}))});var Eb=p(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.InlineCompletionRequest=void 0;var Sb=$e(),Rb;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=Sb.MessageDirection.clientToServer,t.type=new Sb.ProtocolRequestType(t.method)})(Rb||(Ou.InlineCompletionRequest=Rb={}))});var xv=p(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.WorkspaceSymbolRequest=v.CodeActionResolveRequest=v.CodeActionRequest=v.DocumentSymbolRequest=v.DocumentHighlightRequest=v.ReferencesRequest=v.DefinitionRequest=v.SignatureHelpRequest=v.SignatureHelpTriggerKind=v.HoverRequest=v.CompletionResolveRequest=v.CompletionRequest=v.CompletionTriggerKind=v.PublishDiagnosticsNotification=v.WatchKind=v.RelativePattern=v.FileChangeType=v.DidChangeWatchedFilesNotification=v.WillSaveTextDocumentWaitUntilRequest=v.WillSaveTextDocumentNotification=v.TextDocumentSaveReason=v.DidSaveTextDocumentNotification=v.DidCloseTextDocumentNotification=v.DidChangeTextDocumentNotification=v.TextDocumentContentChangeEvent=v.DidOpenTextDocumentNotification=v.TextDocumentSyncKind=v.TelemetryEventNotification=v.LogMessageNotification=v.ShowMessageRequest=v.ShowMessageNotification=v.MessageType=v.DidChangeConfigurationNotification=v.ExitNotification=v.ShutdownRequest=v.InitializedNotification=v.InitializeErrorCodes=v.InitializeRequest=v.WorkDoneProgressOptions=v.TextDocumentRegistrationOptions=v.StaticRegistrationOptions=v.PositionEncodingKind=v.FailureHandlingKind=v.ResourceOperationKind=v.UnregistrationRequest=v.RegistrationRequest=v.DocumentSelector=v.NotebookCellTextDocumentFilter=v.NotebookDocumentFilter=v.TextDocumentFilter=void 0;v.MonikerRequest=v.MonikerKind=v.UniquenessLevel=v.WillDeleteFilesRequest=v.DidDeleteFilesNotification=v.WillRenameFilesRequest=v.DidRenameFilesNotification=v.WillCreateFilesRequest=v.DidCreateFilesNotification=v.FileOperationPatternKind=v.LinkedEditingRangeRequest=v.ShowDocumentRequest=v.SemanticTokensRegistrationType=v.SemanticTokensRefreshRequest=v.SemanticTokensRangeRequest=v.SemanticTokensDeltaRequest=v.SemanticTokensRequest=v.TokenFormat=v.CallHierarchyPrepareRequest=v.CallHierarchyOutgoingCallsRequest=v.CallHierarchyIncomingCallsRequest=v.WorkDoneProgressCancelNotification=v.WorkDoneProgressCreateRequest=v.WorkDoneProgress=v.SelectionRangeRequest=v.DeclarationRequest=v.FoldingRangeRefreshRequest=v.FoldingRangeRequest=v.ColorPresentationRequest=v.DocumentColorRequest=v.ConfigurationRequest=v.DidChangeWorkspaceFoldersNotification=v.WorkspaceFoldersRequest=v.TypeDefinitionRequest=v.ImplementationRequest=v.ApplyWorkspaceEditRequest=v.ExecuteCommandRequest=v.PrepareRenameRequest=v.RenameRequest=v.PrepareSupportDefaultBehavior=v.DocumentOnTypeFormattingRequest=v.DocumentRangesFormattingRequest=v.DocumentRangeFormattingRequest=v.DocumentFormattingRequest=v.DocumentLinkResolveRequest=v.DocumentLinkRequest=v.CodeLensRefreshRequest=v.CodeLensResolveRequest=v.CodeLensRequest=v.WorkspaceSymbolResolveRequest=void 0;v.InlineCompletionRequest=v.DidCloseNotebookDocumentNotification=v.DidSaveNotebookDocumentNotification=v.DidChangeNotebookDocumentNotification=v.NotebookCellArrayChange=v.DidOpenNotebookDocumentNotification=v.NotebookDocumentSyncRegistrationType=v.NotebookDocument=v.NotebookCell=v.ExecutionSummary=v.NotebookCellKind=v.DiagnosticRefreshRequest=v.WorkspaceDiagnosticRequest=v.DocumentDiagnosticRequest=v.DocumentDiagnosticReportKind=v.DiagnosticServerCancellationData=v.InlayHintRefreshRequest=v.InlayHintResolveRequest=v.InlayHintRequest=v.InlineValueRefreshRequest=v.InlineValueRequest=v.TypeHierarchySupertypesRequest=v.TypeHierarchySubtypesRequest=v.TypeHierarchyPrepareRequest=void 0;var k=$e(),Db=vr(),ot=hu(),aM=Xy();Object.defineProperty(v,"ImplementationRequest",{enumerable:!0,get:function(){return aM.ImplementationRequest}});var uM=Zy();Object.defineProperty(v,"TypeDefinitionRequest",{enumerable:!0,get:function(){return uM.TypeDefinitionRequest}});var Av=r_();Object.defineProperty(v,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Av.WorkspaceFoldersRequest}});Object.defineProperty(v,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Av.DidChangeWorkspaceFoldersNotification}});var cM=o_();Object.defineProperty(v,"ConfigurationRequest",{enumerable:!0,get:function(){return cM.ConfigurationRequest}});var Nv=u_();Object.defineProperty(v,"DocumentColorRequest",{enumerable:!0,get:function(){return Nv.DocumentColorRequest}});Object.defineProperty(v,"ColorPresentationRequest",{enumerable:!0,get:function(){return Nv.ColorPresentationRequest}});var Lv=f_();Object.defineProperty(v,"FoldingRangeRequest",{enumerable:!0,get:function(){return Lv.FoldingRangeRequest}});Object.defineProperty(v,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return Lv.FoldingRangeRefreshRequest}});var lM=g_();Object.defineProperty(v,"DeclarationRequest",{enumerable:!0,get:function(){return lM.DeclarationRequest}});var fM=y_();Object.defineProperty(v,"SelectionRangeRequest",{enumerable:!0,get:function(){return fM.SelectionRangeRequest}});var Yd=w_();Object.defineProperty(v,"WorkDoneProgress",{enumerable:!0,get:function(){return Yd.WorkDoneProgress}});Object.defineProperty(v,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Yd.WorkDoneProgressCreateRequest}});Object.defineProperty(v,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Yd.WorkDoneProgressCancelNotification}});var Kd=D_();Object.defineProperty(v,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Kd.CallHierarchyIncomingCallsRequest}});Object.defineProperty(v,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Kd.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(v,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Kd.CallHierarchyPrepareRequest}});var go=C_();Object.defineProperty(v,"TokenFormat",{enumerable:!0,get:function(){return go.TokenFormat}});Object.defineProperty(v,"SemanticTokensRequest",{enumerable:!0,get:function(){return go.SemanticTokensRequest}});Object.defineProperty(v,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return go.SemanticTokensDeltaRequest}});Object.defineProperty(v,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return go.SemanticTokensRangeRequest}});Object.defineProperty(v,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return go.SemanticTokensRefreshRequest}});Object.defineProperty(v,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return go.SemanticTokensRegistrationType}});var dM=N_();Object.defineProperty(v,"ShowDocumentRequest",{enumerable:!0,get:function(){return dM.ShowDocumentRequest}});var hM=x_();Object.defineProperty(v,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return hM.LinkedEditingRangeRequest}});var bi=z_();Object.defineProperty(v,"FileOperationPatternKind",{enumerable:!0,get:function(){return bi.FileOperationPatternKind}});Object.defineProperty(v,"DidCreateFilesNotification",{enumerable:!0,get:function(){return bi.DidCreateFilesNotification}});Object.defineProperty(v,"WillCreateFilesRequest",{enumerable:!0,get:function(){return bi.WillCreateFilesRequest}});Object.defineProperty(v,"DidRenameFilesNotification",{enumerable:!0,get:function(){return bi.DidRenameFilesNotification}});Object.defineProperty(v,"WillRenameFilesRequest",{enumerable:!0,get:function(){return bi.WillRenameFilesRequest}});Object.defineProperty(v,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return bi.DidDeleteFilesNotification}});Object.defineProperty(v,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return bi.WillDeleteFilesRequest}});var Xd=X_();Object.defineProperty(v,"UniquenessLevel",{enumerable:!0,get:function(){return Xd.UniquenessLevel}});Object.defineProperty(v,"MonikerKind",{enumerable:!0,get:function(){return Xd.MonikerKind}});Object.defineProperty(v,"MonikerRequest",{enumerable:!0,get:function(){return Xd.MonikerRequest}});var Jd=eb();Object.defineProperty(v,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Jd.TypeHierarchyPrepareRequest}});Object.defineProperty(v,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Jd.TypeHierarchySubtypesRequest}});Object.defineProperty(v,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Jd.TypeHierarchySupertypesRequest}});var Iv=nb();Object.defineProperty(v,"InlineValueRequest",{enumerable:!0,get:function(){return Iv.InlineValueRequest}});Object.defineProperty(v,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return Iv.InlineValueRefreshRequest}});var Qd=ab();Object.defineProperty(v,"InlayHintRequest",{enumerable:!0,get:function(){return Qd.InlayHintRequest}});Object.defineProperty(v,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Qd.InlayHintResolveRequest}});Object.defineProperty(v,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Qd.InlayHintRefreshRequest}});var ys=gb();Object.defineProperty(v,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return ys.DiagnosticServerCancellationData}});Object.defineProperty(v,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return ys.DocumentDiagnosticReportKind}});Object.defineProperty(v,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return ys.DocumentDiagnosticRequest}});Object.defineProperty(v,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return ys.WorkspaceDiagnosticRequest}});Object.defineProperty(v,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return ys.DiagnosticRefreshRequest}});var $r=wb();Object.defineProperty(v,"NotebookCellKind",{enumerable:!0,get:function(){return $r.NotebookCellKind}});Object.defineProperty(v,"ExecutionSummary",{enumerable:!0,get:function(){return $r.ExecutionSummary}});Object.defineProperty(v,"NotebookCell",{enumerable:!0,get:function(){return $r.NotebookCell}});Object.defineProperty(v,"NotebookDocument",{enumerable:!0,get:function(){return $r.NotebookDocument}});Object.defineProperty(v,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return $r.NotebookDocumentSyncRegistrationType}});Object.defineProperty(v,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return $r.DidOpenNotebookDocumentNotification}});Object.defineProperty(v,"NotebookCellArrayChange",{enumerable:!0,get:function(){return $r.NotebookCellArrayChange}});Object.defineProperty(v,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return $r.DidChangeNotebookDocumentNotification}});Object.defineProperty(v,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return $r.DidSaveNotebookDocumentNotification}});Object.defineProperty(v,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return $r.DidCloseNotebookDocumentNotification}});var gM=Eb();Object.defineProperty(v,"InlineCompletionRequest",{enumerable:!0,get:function(){return gM.InlineCompletionRequest}});var Bd;(function(t){function e(r){let n=r;return ot.string(n)||ot.string(n.language)||ot.string(n.scheme)||ot.string(n.pattern)}t.is=e})(Bd||(v.TextDocumentFilter=Bd={}));var zd;(function(t){function e(r){let n=r;return ot.objectLiteral(n)&&(ot.string(n.notebookType)||ot.string(n.scheme)||ot.string(n.pattern))}t.is=e})(zd||(v.NotebookDocumentFilter=zd={}));var Vd;(function(t){function e(r){let n=r;return ot.objectLiteral(n)&&(ot.string(n.notebook)||zd.is(n.notebook))&&(n.language===void 0||ot.string(n.language))}t.is=e})(Vd||(v.NotebookCellTextDocumentFilter=Vd={}));var Gd;(function(t){function e(r){if(!Array.isArray(r))return!1;for(let n of r)if(!ot.string(n)&&!Bd.is(n)&&!Vd.is(n))return!1;return!0}t.is=e})(Gd||(v.DocumentSelector=Gd={}));var Pb;(function(t){t.method="client/registerCapability",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(Pb||(v.RegistrationRequest=Pb={}));var Ob;(function(t){t.method="client/unregisterCapability",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(Ob||(v.UnregistrationRequest=Ob={}));var Tb;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(Tb||(v.ResourceOperationKind=Tb={}));var qb;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(qb||(v.FailureHandlingKind=qb={}));var Mb;(function(t){t.UTF8="utf-8",t.UTF16="utf-16",t.UTF32="utf-32"})(Mb||(v.PositionEncodingKind=Mb={}));var Cb;(function(t){function e(r){let n=r;return n&&ot.string(n.id)&&n.id.length>0}t.hasId=e})(Cb||(v.StaticRegistrationOptions=Cb={}));var jb;(function(t){function e(r){let n=r;return n&&(n.documentSelector===null||Gd.is(n.documentSelector))}t.is=e})(jb||(v.TextDocumentRegistrationOptions=jb={}));var Ab;(function(t){function e(n){let i=n;return ot.objectLiteral(i)&&(i.workDoneProgress===void 0||ot.boolean(i.workDoneProgress))}t.is=e;function r(n){let i=n;return i&&ot.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=r})(Ab||(v.WorkDoneProgressOptions=Ab={}));var Nb;(function(t){t.method="initialize",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Nb||(v.InitializeRequest=Nb={}));var Lb;(function(t){t.unknownProtocolVersion=1})(Lb||(v.InitializeErrorCodes=Lb={}));var Ib;(function(t){t.method="initialized",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Ib||(v.InitializedNotification=Ib={}));var xb;(function(t){t.method="shutdown",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType0(t.method)})(xb||(v.ShutdownRequest=xb={}));var kb;(function(t){t.method="exit",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType0(t.method)})(kb||(v.ExitNotification=kb={}));var Fb;(function(t){t.method="workspace/didChangeConfiguration",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Fb||(v.DidChangeConfigurationNotification=Fb={}));var $b;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4,t.Debug=5})($b||(v.MessageType=$b={}));var Wb;(function(t){t.method="window/showMessage",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(Wb||(v.ShowMessageNotification=Wb={}));var Hb;(function(t){t.method="window/showMessageRequest",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType(t.method)})(Hb||(v.ShowMessageRequest=Hb={}));var Ub;(function(t){t.method="window/logMessage",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(Ub||(v.LogMessageNotification=Ub={}));var Bb;(function(t){t.method="telemetry/event",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(Bb||(v.TelemetryEventNotification=Bb={}));var zb;(function(t){t.None=0,t.Full=1,t.Incremental=2})(zb||(v.TextDocumentSyncKind=zb={}));var Vb;(function(t){t.method="textDocument/didOpen",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Vb||(v.DidOpenTextDocumentNotification=Vb={}));var Gb;(function(t){function e(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=r})(Gb||(v.TextDocumentContentChangeEvent=Gb={}));var Yb;(function(t){t.method="textDocument/didChange",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Yb||(v.DidChangeTextDocumentNotification=Yb={}));var Kb;(function(t){t.method="textDocument/didClose",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Kb||(v.DidCloseTextDocumentNotification=Kb={}));var Xb;(function(t){t.method="textDocument/didSave",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Xb||(v.DidSaveTextDocumentNotification=Xb={}));var Jb;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Jb||(v.TextDocumentSaveReason=Jb={}));var Qb;(function(t){t.method="textDocument/willSave",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(Qb||(v.WillSaveTextDocumentNotification=Qb={}));var Zb;(function(t){t.method="textDocument/willSaveWaitUntil",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Zb||(v.WillSaveTextDocumentWaitUntilRequest=Zb={}));var ev;(function(t){t.method="workspace/didChangeWatchedFiles",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolNotificationType(t.method)})(ev||(v.DidChangeWatchedFilesNotification=ev={}));var tv;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(tv||(v.FileChangeType=tv={}));var rv;(function(t){function e(r){let n=r;return ot.objectLiteral(n)&&(Db.URI.is(n.baseUri)||Db.WorkspaceFolder.is(n.baseUri))&&ot.string(n.pattern)}t.is=e})(rv||(v.RelativePattern=rv={}));var nv;(function(t){t.Create=1,t.Change=2,t.Delete=4})(nv||(v.WatchKind=nv={}));var iv;(function(t){t.method="textDocument/publishDiagnostics",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolNotificationType(t.method)})(iv||(v.PublishDiagnosticsNotification=iv={}));var ov;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(ov||(v.CompletionTriggerKind=ov={}));var sv;(function(t){t.method="textDocument/completion",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(sv||(v.CompletionRequest=sv={}));var av;(function(t){t.method="completionItem/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(av||(v.CompletionResolveRequest=av={}));var uv;(function(t){t.method="textDocument/hover",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(uv||(v.HoverRequest=uv={}));var cv;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(cv||(v.SignatureHelpTriggerKind=cv={}));var lv;(function(t){t.method="textDocument/signatureHelp",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(lv||(v.SignatureHelpRequest=lv={}));var fv;(function(t){t.method="textDocument/definition",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(fv||(v.DefinitionRequest=fv={}));var dv;(function(t){t.method="textDocument/references",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(dv||(v.ReferencesRequest=dv={}));var hv;(function(t){t.method="textDocument/documentHighlight",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(hv||(v.DocumentHighlightRequest=hv={}));var gv;(function(t){t.method="textDocument/documentSymbol",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(gv||(v.DocumentSymbolRequest=gv={}));var pv;(function(t){t.method="textDocument/codeAction",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(pv||(v.CodeActionRequest=pv={}));var mv;(function(t){t.method="codeAction/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(mv||(v.CodeActionResolveRequest=mv={}));var yv;(function(t){t.method="workspace/symbol",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(yv||(v.WorkspaceSymbolRequest=yv={}));var _v;(function(t){t.method="workspaceSymbol/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(_v||(v.WorkspaceSymbolResolveRequest=_v={}));var bv;(function(t){t.method="textDocument/codeLens",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(bv||(v.CodeLensRequest=bv={}));var vv;(function(t){t.method="codeLens/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(vv||(v.CodeLensResolveRequest=vv={}));var wv;(function(t){t.method="workspace/codeLens/refresh",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType0(t.method)})(wv||(v.CodeLensRefreshRequest=wv={}));var Sv;(function(t){t.method="textDocument/documentLink",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Sv||(v.DocumentLinkRequest=Sv={}));var Rv;(function(t){t.method="documentLink/resolve",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Rv||(v.DocumentLinkResolveRequest=Rv={}));var Ev;(function(t){t.method="textDocument/formatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Ev||(v.DocumentFormattingRequest=Ev={}));var Dv;(function(t){t.method="textDocument/rangeFormatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Dv||(v.DocumentRangeFormattingRequest=Dv={}));var Pv;(function(t){t.method="textDocument/rangesFormatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Pv||(v.DocumentRangesFormattingRequest=Pv={}));var Ov;(function(t){t.method="textDocument/onTypeFormatting",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Ov||(v.DocumentOnTypeFormattingRequest=Ov={}));var Tv;(function(t){t.Identifier=1})(Tv||(v.PrepareSupportDefaultBehavior=Tv={}));var qv;(function(t){t.method="textDocument/rename",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(qv||(v.RenameRequest=qv={}));var Mv;(function(t){t.method="textDocument/prepareRename",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Mv||(v.PrepareRenameRequest=Mv={}));var Cv;(function(t){t.method="workspace/executeCommand",t.messageDirection=k.MessageDirection.clientToServer,t.type=new k.ProtocolRequestType(t.method)})(Cv||(v.ExecuteCommandRequest=Cv={}));var jv;(function(t){t.method="workspace/applyEdit",t.messageDirection=k.MessageDirection.serverToClient,t.type=new k.ProtocolRequestType("workspace/applyEdit")})(jv||(v.ApplyWorkspaceEditRequest=jv={}))});var Fv=p(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.createProtocolConnection=void 0;var kv=_i();function pM(t,e,r,n){return kv.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,kv.createMessageConnection)(t,e,r,n)}Tu.createProtocolConnection=pM});var Wv=p(Ft=>{"use strict";var mM=Ft&&Ft.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),qu=Ft&&Ft.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&mM(e,t,r)};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.LSPErrorCodes=Ft.createProtocolConnection=void 0;qu(_i(),Ft);qu(vr(),Ft);qu($e(),Ft);qu(xv(),Ft);var yM=Fv();Object.defineProperty(Ft,"createProtocolConnection",{enumerable:!0,get:function(){return yM.createProtocolConnection}});var $v;(function(t){t.lspReservedErrorRangeStart=-32899,t.RequestFailed=-32803,t.ServerCancelled=-32802,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})($v||(Ft.LSPErrorCodes=$v={}))});var Oe=p(Wr=>{"use strict";var _M=Wr&&Wr.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Hv=Wr&&Wr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&_M(e,t,r)};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.createProtocolConnection=void 0;var bM=Id();Hv(Id(),Wr);Hv(Wv(),Wr);function vM(t,e,r,n){return(0,bM.createMessageConnection)(t,e,r,n)}Wr.createProtocolConnection=vM});var Zd=p(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.generateUuid=rr.parse=rr.isUUID=rr.v4=rr.empty=void 0;var _s=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},bs=class t extends _s{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return t._oneOf(t._chars)}constructor(){super([t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),"-","4",t._randomHex(),t._randomHex(),t._randomHex(),"-",t._oneOf(t._timeHighBits),t._randomHex(),t._randomHex(),t._randomHex(),"-",t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex(),t._randomHex()].join(""))}};bs._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];bs._timeHighBits=["8","9","a","b"];rr.empty=new _s("00000000-0000-0000-0000-000000000000");function Uv(){return new bs}rr.v4=Uv;var wM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Bv(t){return wM.test(t)}rr.isUUID=Bv;function SM(t){if(!Bv(t))throw new Error("invalid uuid");return new _s(t)}rr.parse=SM;function RM(){return Uv().asHex()}rr.generateUuid=RM});var zv=p(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.attachPartialResult=xn.ProgressFeature=xn.attachWorkDone=void 0;var In=Oe(),EM=Zd(),vi=class t{constructor(e,r){this._connection=e,this._token=r,t.Instances.set(this._token,this)}begin(e,r,n,i){let o={kind:"begin",title:e,percentage:r,message:n,cancellable:i};this._connection.sendProgress(In.WorkDoneProgress.type,this._token,o)}report(e,r){let n={kind:"report"};typeof e=="number"?(n.percentage=e,r!==void 0&&(n.message=r)):n.message=e,this._connection.sendProgress(In.WorkDoneProgress.type,this._token,n)}done(){t.Instances.delete(this._token),this._connection.sendProgress(In.WorkDoneProgress.type,this._token,{kind:"end"})}};vi.Instances=new Map;var Mu=class extends vi{constructor(e,r){super(e,r),this._source=new In.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},vs=class{constructor(){}begin(){}report(){}done(){}},Cu=class extends vs{constructor(){super(),this._source=new In.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function DM(t,e){if(e===void 0||e.workDoneToken===void 0)return new vs;let r=e.workDoneToken;return delete e.workDoneToken,new vi(t,r)}xn.attachWorkDone=DM;var PM=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){super.initialize(e),e?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(In.WorkDoneProgressCancelNotification.type,r=>{let n=vi.Instances.get(r.token);(n instanceof Mu||n instanceof Cu)&&n.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new vs:new vi(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=(0,EM.generateUuid)();return this.connection.sendRequest(In.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new Mu(this.connection,e))}else return Promise.resolve(new Cu)}};xn.ProgressFeature=PM;var eh;(function(t){t.type=new In.ProgressType})(eh||(eh={}));var th=class{constructor(e,r){this._connection=e,this._token=r}report(e){this._connection.sendProgress(eh.type,this._token,e)}};function OM(t,e){if(e===void 0||e.partialResultToken===void 0)return;let r=e.partialResultToken;return delete e.partialResultToken,new th(t,r)}xn.attachPartialResult=OM});var Vv=p(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.ConfigurationFeature=void 0;var TM=Oe(),qM=Ba(),MM=t=>class extends t{getConfiguration(e){return e?qM.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let r={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(TM.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(e)?n:n[0]:Array.isArray(e)?[]:null)}};ju.ConfigurationFeature=MM});var Gv=p(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.WorkspaceFoldersFeature=void 0;var Au=Oe(),CM=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(e){super.initialize(e);let r=e.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Au.Emitter,this.connection.onNotification(Au.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(e){super.fillServerCapabilities(e);let r=e.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(Au.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(Au.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Nu.WorkspaceFoldersFeature=CM});var Yv=p(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.CallHierarchyFeature=void 0;var rh=Oe(),jM=t=>class extends t{get callHierarchy(){return{onPrepare:e=>this.connection.onRequest(rh.CallHierarchyPrepareRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0)),onIncomingCalls:e=>{let r=rh.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:e=>{let r=rh.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Lu.CallHierarchyFeature=jM});var ih=p(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.SemanticTokensBuilder=kn.SemanticTokensDiff=kn.SemanticTokensFeature=void 0;var Iu=Oe(),AM=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Iu.SemanticTokensRefreshRequest.type),on:e=>{let r=Iu.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onDelta:e=>{let r=Iu.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:e=>{let r=Iu.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};kn.SemanticTokensFeature=AM;var xu=class{constructor(e,r){this.originalSequence=e,this.modifiedSequence=r}computeDiff(){let e=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<e&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<e){let i=e-1,o=r-1;for(;i>=n&&o>=n&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<n||o<n)&&(i++,o++);let s=i-n+1,a=this.modifiedSequence.slice(n,o+1);return a.length===1&&a[0]===this.originalSequence[i]?[{start:n,deleteCount:s-1}]:[{start:n,deleteCount:s,data:a}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<e?[{start:n,deleteCount:e-n}]:[]}};kn.SemanticTokensDiff=xu;var nh=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,r,n,i,o){let s=e,a=r;this._dataLen>0&&(s-=this._prevLine,s===0&&(a-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=e,this._prevChar=r}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new xu(this._prevData,this._data).computeDiff()}:this.build()}};kn.SemanticTokensBuilder=nh});var Kv=p(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.ShowDocumentFeature=void 0;var NM=Oe(),LM=t=>class extends t{showDocument(e){return this.connection.sendRequest(NM.ShowDocumentRequest.type,e)}};ku.ShowDocumentFeature=LM});var Xv=p(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.FileOperationsFeature=void 0;var po=Oe(),IM=t=>class extends t{onDidCreateFiles(e){return this.connection.onNotification(po.DidCreateFilesNotification.type,r=>{e(r)})}onDidRenameFiles(e){return this.connection.onNotification(po.DidRenameFilesNotification.type,r=>{e(r)})}onDidDeleteFiles(e){return this.connection.onNotification(po.DidDeleteFilesNotification.type,r=>{e(r)})}onWillCreateFiles(e){return this.connection.onRequest(po.WillCreateFilesRequest.type,(r,n)=>e(r,n))}onWillRenameFiles(e){return this.connection.onRequest(po.WillRenameFilesRequest.type,(r,n)=>e(r,n))}onWillDeleteFiles(e){return this.connection.onRequest(po.WillDeleteFilesRequest.type,(r,n)=>e(r,n))}};Fu.FileOperationsFeature=IM});var Jv=p($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.LinkedEditingRangeFeature=void 0;var xM=Oe(),kM=t=>class extends t{onLinkedEditingRange(e){return this.connection.onRequest(xM.LinkedEditingRangeRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0))}};$u.LinkedEditingRangeFeature=kM});var Qv=p(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.TypeHierarchyFeature=void 0;var oh=Oe(),FM=t=>class extends t{get typeHierarchy(){return{onPrepare:e=>this.connection.onRequest(oh.TypeHierarchyPrepareRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),void 0)),onSupertypes:e=>{let r=oh.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onSubtypes:e=>{let r=oh.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Wu.TypeHierarchyFeature=FM});var e0=p(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.InlineValueFeature=void 0;var Zv=Oe(),$M=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(Zv.InlineValueRefreshRequest.type),on:e=>this.connection.onRequest(Zv.InlineValueRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r)))}}};Hu.InlineValueFeature=$M});var r0=p(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.FoldingRangeFeature=void 0;var t0=Oe(),WM=t=>class extends t{get foldingRange(){return{refresh:()=>this.connection.sendRequest(t0.FoldingRangeRefreshRequest.type),on:e=>{let r=t0.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Uu.FoldingRangeFeature=WM});var n0=p(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.InlayHintFeature=void 0;var sh=Oe(),HM=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(sh.InlayHintRefreshRequest.type),on:e=>this.connection.onRequest(sh.InlayHintRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r))),resolve:e=>this.connection.onRequest(sh.InlayHintResolveRequest.type,(r,n)=>e(r,n))}}};Bu.InlayHintFeature=HM});var i0=p(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.DiagnosticFeature=void 0;var ws=Oe(),UM=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest(ws.DiagnosticRefreshRequest.type),on:e=>this.connection.onRequest(ws.DocumentDiagnosticRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(ws.DocumentDiagnosticRequest.partialResult,r))),onWorkspace:e=>this.connection.onRequest(ws.WorkspaceDiagnosticRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(ws.WorkspaceDiagnosticRequest.partialResult,r)))}}};zu.DiagnosticFeature=UM});var uh=p(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.TextDocuments=void 0;var wi=Oe(),ah=class{constructor(e){this._configuration=e,this._syncedDocuments=new Map,this._onDidChangeContent=new wi.Emitter,this._onDidOpen=new wi.Emitter,this._onDidClose=new wi.Emitter,this._onDidSave=new wi.Emitter,this._onWillSave=new wi.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._syncedDocuments.get(e)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(e){e.__textDocumentSync=wi.TextDocumentSyncKind.Incremental;let r=[];return r.push(e.onDidOpenTextDocument(n=>{let i=n.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),r.push(e.onDidChangeTextDocument(n=>{let i=n.textDocument,o=n.contentChanges;if(o.length===0)return;let{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let a=this._syncedDocuments.get(i.uri);a!==void 0&&(a=this._configuration.update(a,o,s),this._syncedDocuments.set(i.uri,a),this._onDidChangeContent.fire(Object.freeze({document:a})))})),r.push(e.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(e.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(e.onWillSaveTextDocumentWaitUntil((n,i)=>{let o=this._syncedDocuments.get(n.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:n.reason}),i):[]})),r.push(e.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),wi.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};Vu.TextDocuments=ah});var lh=p(mo=>{"use strict";Object.defineProperty(mo,"__esModule",{value:!0});mo.NotebookDocuments=mo.NotebookSyncFeature=void 0;var nr=Oe(),o0=uh(),BM=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:e=>this.connection.onNotification(nr.DidOpenNotebookDocumentNotification.type,r=>{e(r)}),onDidChangeNotebookDocument:e=>this.connection.onNotification(nr.DidChangeNotebookDocumentNotification.type,r=>{e(r)}),onDidSaveNotebookDocument:e=>this.connection.onNotification(nr.DidSaveNotebookDocumentNotification.type,r=>{e(r)}),onDidCloseNotebookDocument:e=>this.connection.onNotification(nr.DidCloseNotebookDocumentNotification.type,r=>{e(r)})}}};mo.NotebookSyncFeature=BM;var Gu=class t{onDidOpenTextDocument(e){return this.openHandler=e,nr.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(e){this.openHandler&&this.openHandler(e)}onDidChangeTextDocument(e){return this.changeHandler=e,nr.Disposable.create(()=>{this.changeHandler=e})}changeTextDocument(e){this.changeHandler&&this.changeHandler(e)}onDidCloseTextDocument(e){return this.closeHandler=e,nr.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(e){this.closeHandler&&this.closeHandler(e)}onWillSaveTextDocument(){return t.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return t.NULL_DISPOSE}onDidSaveTextDocument(){return t.NULL_DISPOSE}};Gu.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var ch=class{constructor(e){e instanceof o0.TextDocuments?this._cellTextDocuments=e:this._cellTextDocuments=new o0.TextDocuments(e),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new nr.Emitter,this._onDidChange=new nr.Emitter,this._onDidSave=new nr.Emitter,this._onDidClose=new nr.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(e){return this._cellTextDocuments.get(e.document)}getNotebookDocument(e){return this.notebookDocuments.get(e)}getNotebookCell(e){let r=this.notebookCellMap.get(e);return r&&r[0]}findNotebookDocumentForCell(e){let r=typeof e=="string"?e:e.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(e){let r=new Gu,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(e.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)r.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(e.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let s=o.metadata,a=!1,u=i.change;u.metadata!==void 0&&(a=!0,o.metadata=u.metadata);let c=[],h=[],d=[],g=[];if(u.cells!==void 0){let O=u.cells;if(O.structure!==void 0){let w=O.structure.array;if(o.cells.splice(w.start,w.deleteCount,...w.cells!==void 0?w.cells:[]),O.structure.didOpen!==void 0)for(let b of O.structure.didOpen)r.openTextDocument({textDocument:b}),c.push(b.uri);if(O.structure.didClose)for(let b of O.structure.didClose)r.closeTextDocument({textDocument:b}),h.push(b.uri)}if(O.data!==void 0){let w=new Map(O.data.map(b=>[b.document,b]));for(let b=0;b<=o.cells.length;b++){let M=w.get(o.cells[b].document);if(M!==void 0){let x=o.cells.splice(b,1,M);if(d.push({old:x[0],new:M}),w.delete(M.document),w.size===0)break}}}if(O.textContent!==void 0)for(let w of O.textContent)r.changeTextDocument({textDocument:w.document,contentChanges:w.changes}),g.push(w.document.uri)}this.updateCellMap(o);let _={notebookDocument:o};a&&(_.metadata={old:s,new:o.metadata});let y=[];for(let O of c)y.push(this.getNotebookCell(O));let E=[];for(let O of h)E.push(this.getNotebookCell(O));let C=[];for(let O of g)C.push(this.getNotebookCell(O));(y.length>0||E.length>0||d.length>0||C.length>0)&&(_.cells={added:y,removed:E,changed:{data:d,textContent:C}}),(_.metadata!==void 0||_.cells!==void 0)&&this._onDidChange.fire(_)})),n.push(e.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),n.push(e.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let s of i.cellTextDocuments)r.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(let s of o.cells)this.notebookCellMap.delete(s.document)}})),nr.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(e){for(let r of e.cells)this.notebookCellMap.set(r.document,[r,e])}};mo.NotebookDocuments=ch});var s0=p(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.MonikerFeature=void 0;var zM=Oe(),VM=t=>class extends t{get moniker(){return{on:e=>{let r=zM.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>e(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Yu.MonikerFeature=VM});var mh=p(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.createConnection=Re.combineFeatures=Re.combineNotebooksFeatures=Re.combineLanguagesFeatures=Re.combineWorkspaceFeatures=Re.combineWindowFeatures=Re.combineClientFeatures=Re.combineTracerFeatures=Re.combineTelemetryFeatures=Re.combineConsoleFeatures=Re._NotebooksImpl=Re._LanguagesImpl=Re.BulkUnregistration=Re.BulkRegistration=Re.ErrorMessageTracker=void 0;var B=Oe(),ir=Ba(),dh=Zd(),oe=zv(),GM=Vv(),YM=Gv(),KM=Yv(),XM=ih(),JM=Kv(),QM=Xv(),ZM=Jv(),eC=Qv(),tC=e0(),rC=r0(),nC=n0(),iC=i0(),oC=lh(),sC=s0();function fh(t){if(t!==null)return t}var hh=class{constructor(){this._messages=Object.create(null)}add(e){let r=this._messages[e];r||(r=0),r++,this._messages[e]=r}sendErrors(e){Object.keys(this._messages).forEach(r=>{e.window.showErrorMessage(r)})}};Re.ErrorMessageTracker=hh;var Ku=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(B.MessageType.Error,e)}warn(e){this.send(B.MessageType.Warning,e)}info(e){this.send(B.MessageType.Info,e)}log(e){this.send(B.MessageType.Log,e)}debug(e){this.send(B.MessageType.Debug,e)}send(e,r){this._rawConnection&&this._rawConnection.sendNotification(B.LogMessageNotification.type,{type:e,message:r}).catch(()=>{(0,B.RAL)().console.error("Sending log message failed")})}},gh=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...r){let n={type:B.MessageType.Error,message:e,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(fh)}showWarningMessage(e,...r){let n={type:B.MessageType.Warning,message:e,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(fh)}showInformationMessage(e,...r){let n={type:B.MessageType.Info,message:e,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(fh)}},a0=(0,JM.ShowDocumentFeature)((0,oe.ProgressFeature)(gh)),u0;(function(t){function e(){return new Xu}t.create=e})(u0||(Re.BulkRegistration=u0={}));var Xu=class{constructor(){this._registrations=[],this._registered=new Set}add(e,r){let n=ir.string(e)?e:e.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=dh.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},c0;(function(t){function e(){return new Ss(void 0,[])}t.create=e})(c0||(Re.BulkUnregistration=c0={}));var Ss=class{constructor(e,r){this._connection=e,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let n of this._unregistrations.values())e.push(n);let r={unregisterations:e};this._connection.sendRequest(B.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let r=ir.string(e)?e:e.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(B.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},o=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},Ju=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,r,n){return e instanceof Xu?this.registerMany(e):e instanceof Ss?this.registerSingle1(e,r,n):this.registerSingle2(e,r)}registerSingle1(e,r,n){let i=ir.string(r)?r:r.method,o=dh.generateUuid(),s={registrations:[{id:o,method:i,registerOptions:n||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(B.RegistrationRequest.type,s).then(a=>(e.add({id:o,method:i}),e),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(e,r){let n=ir.string(e)?e:e.method,i=dh.generateUuid(),o={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(B.RegistrationRequest.type,o).then(s=>B.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(s)))}unregisterSingle(e,r){let n={unregisterations:[{id:e,method:r}]};return this.connection.sendRequest(B.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let r=e.asRegistrationParams();return this.connection.sendRequest(B.RegistrationRequest.type,r).then(()=>new Ss(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},ph=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function r(i){return i&&!!i.edit}let n=r(e)?e:{edit:e};return this.connection.sendRequest(B.ApplyWorkspaceEditRequest.type,n)}},l0=(0,QM.FileOperationsFeature)((0,YM.WorkspaceFoldersFeature)((0,GM.ConfigurationFeature)(ph))),Qu=class{constructor(){this._trace=B.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,r){this._trace!==B.Trace.Off&&this.connection.sendNotification(B.LogTraceNotification.type,{message:e,verbose:this._trace===B.Trace.Verbose?r:void 0}).catch(()=>{})}},Zu=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(B.TelemetryEventNotification.type,e).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},ec=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,oe.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,r){return(0,oe.attachPartialResult)(this.connection,r)}};Re._LanguagesImpl=ec;var f0=(0,rC.FoldingRangeFeature)((0,sC.MonikerFeature)((0,iC.DiagnosticFeature)((0,nC.InlayHintFeature)((0,tC.InlineValueFeature)((0,eC.TypeHierarchyFeature)((0,ZM.LinkedEditingRangeFeature)((0,XM.SemanticTokensFeature)((0,KM.CallHierarchyFeature)(ec))))))))),tc=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,oe.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,r){return(0,oe.attachPartialResult)(this.connection,r)}};Re._NotebooksImpl=tc;var d0=(0,oC.NotebookSyncFeature)(tc);function h0(t,e){return function(r){return e(t(r))}}Re.combineConsoleFeatures=h0;function g0(t,e){return function(r){return e(t(r))}}Re.combineTelemetryFeatures=g0;function p0(t,e){return function(r){return e(t(r))}}Re.combineTracerFeatures=p0;function m0(t,e){return function(r){return e(t(r))}}Re.combineClientFeatures=m0;function y0(t,e){return function(r){return e(t(r))}}Re.combineWindowFeatures=y0;function _0(t,e){return function(r){return e(t(r))}}Re.combineWorkspaceFeatures=_0;function b0(t,e){return function(r){return e(t(r))}}Re.combineLanguagesFeatures=b0;function v0(t,e){return function(r){return e(t(r))}}Re.combineNotebooksFeatures=v0;function aC(t,e){function r(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:r(t.console,e.console,h0),tracer:r(t.tracer,e.tracer,p0),telemetry:r(t.telemetry,e.telemetry,g0),client:r(t.client,e.client,m0),window:r(t.window,e.window,y0),workspace:r(t.workspace,e.workspace,_0),languages:r(t.languages,e.languages,b0),notebooks:r(t.notebooks,e.notebooks,v0)}}Re.combineFeatures=aC;function uC(t,e,r){let n=r&&r.console?new(r.console(Ku)):new Ku,i=t(n);n.rawAttach(i);let o=r&&r.tracer?new(r.tracer(Qu)):new Qu,s=r&&r.telemetry?new(r.telemetry(Zu)):new Zu,a=r&&r.client?new(r.client(Ju)):new Ju,u=r&&r.window?new(r.window(a0)):new a0,c=r&&r.workspace?new(r.workspace(l0)):new l0,h=r&&r.languages?new(r.languages(f0)):new f0,d=r&&r.notebooks?new(r.notebooks(d0)):new d0,g=[n,o,s,a,u,c,h,d];function _(w){return w instanceof Promise?w:ir.thenable(w)?new Promise((b,M)=>{w.then(x=>b(x),x=>M(x))}):Promise.resolve(w)}let y,E,C,O={listen:()=>i.listen(),sendRequest:(w,...b)=>i.sendRequest(ir.string(w)?w:w.method,...b),onRequest:(w,b)=>i.onRequest(w,b),sendNotification:(w,b)=>{let M=ir.string(w)?w:w.method;return i.sendNotification(M,b)},onNotification:(w,b)=>i.onNotification(w,b),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:w=>(E=w,{dispose:()=>{E=void 0}}),onInitialized:w=>i.onNotification(B.InitializedNotification.type,w),onShutdown:w=>(y=w,{dispose:()=>{y=void 0}}),onExit:w=>(C=w,{dispose:()=>{C=void 0}}),get console(){return n},get telemetry(){return s},get tracer(){return o},get client(){return a},get window(){return u},get workspace(){return c},get languages(){return h},get notebooks(){return d},onDidChangeConfiguration:w=>i.onNotification(B.DidChangeConfigurationNotification.type,w),onDidChangeWatchedFiles:w=>i.onNotification(B.DidChangeWatchedFilesNotification.type,w),__textDocumentSync:void 0,onDidOpenTextDocument:w=>i.onNotification(B.DidOpenTextDocumentNotification.type,w),onDidChangeTextDocument:w=>i.onNotification(B.DidChangeTextDocumentNotification.type,w),onDidCloseTextDocument:w=>i.onNotification(B.DidCloseTextDocumentNotification.type,w),onWillSaveTextDocument:w=>i.onNotification(B.WillSaveTextDocumentNotification.type,w),onWillSaveTextDocumentWaitUntil:w=>i.onRequest(B.WillSaveTextDocumentWaitUntilRequest.type,w),onDidSaveTextDocument:w=>i.onNotification(B.DidSaveTextDocumentNotification.type,w),sendDiagnostics:w=>i.sendNotification(B.PublishDiagnosticsNotification.type,w),onHover:w=>i.onRequest(B.HoverRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),void 0)),onCompletion:w=>i.onRequest(B.CompletionRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onCompletionResolve:w=>i.onRequest(B.CompletionResolveRequest.type,w),onSignatureHelp:w=>i.onRequest(B.SignatureHelpRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),void 0)),onDeclaration:w=>i.onRequest(B.DeclarationRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onDefinition:w=>i.onRequest(B.DefinitionRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onTypeDefinition:w=>i.onRequest(B.TypeDefinitionRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onImplementation:w=>i.onRequest(B.ImplementationRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onReferences:w=>i.onRequest(B.ReferencesRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onDocumentHighlight:w=>i.onRequest(B.DocumentHighlightRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onDocumentSymbol:w=>i.onRequest(B.DocumentSymbolRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onWorkspaceSymbol:w=>i.onRequest(B.WorkspaceSymbolRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onWorkspaceSymbolResolve:w=>i.onRequest(B.WorkspaceSymbolResolveRequest.type,w),onCodeAction:w=>i.onRequest(B.CodeActionRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onCodeActionResolve:w=>i.onRequest(B.CodeActionResolveRequest.type,(b,M)=>w(b,M)),onCodeLens:w=>i.onRequest(B.CodeLensRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onCodeLensResolve:w=>i.onRequest(B.CodeLensResolveRequest.type,(b,M)=>w(b,M)),onDocumentFormatting:w=>i.onRequest(B.DocumentFormattingRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),void 0)),onDocumentRangeFormatting:w=>i.onRequest(B.DocumentRangeFormattingRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),void 0)),onDocumentOnTypeFormatting:w=>i.onRequest(B.DocumentOnTypeFormattingRequest.type,(b,M)=>w(b,M)),onRenameRequest:w=>i.onRequest(B.RenameRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),void 0)),onPrepareRename:w=>i.onRequest(B.PrepareRenameRequest.type,(b,M)=>w(b,M)),onDocumentLinks:w=>i.onRequest(B.DocumentLinkRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onDocumentLinkResolve:w=>i.onRequest(B.DocumentLinkResolveRequest.type,(b,M)=>w(b,M)),onDocumentColor:w=>i.onRequest(B.DocumentColorRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onColorPresentation:w=>i.onRequest(B.ColorPresentationRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onFoldingRanges:w=>i.onRequest(B.FoldingRangeRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onSelectionRanges:w=>i.onRequest(B.SelectionRangeRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),(0,oe.attachPartialResult)(i,b))),onExecuteCommand:w=>i.onRequest(B.ExecuteCommandRequest.type,(b,M)=>w(b,M,(0,oe.attachWorkDone)(i,b),void 0)),dispose:()=>i.dispose()};for(let w of g)w.attach(O);return i.onRequest(B.InitializeRequest.type,w=>{e.initialize(w),ir.string(w.trace)&&(o.trace=B.Trace.fromString(w.trace));for(let b of g)b.initialize(w.capabilities);if(E){let b=E(w,new B.CancellationTokenSource().token,(0,oe.attachWorkDone)(i,w),void 0);return _(b).then(M=>{if(M instanceof B.ResponseError)return M;let x=M;x||(x={capabilities:{}});let W=x.capabilities;W||(W={},x.capabilities=W),W.textDocumentSync===void 0||W.textDocumentSync===null?W.textDocumentSync=ir.number(O.__textDocumentSync)?O.__textDocumentSync:B.TextDocumentSyncKind.None:!ir.number(W.textDocumentSync)&&!ir.number(W.textDocumentSync.change)&&(W.textDocumentSync.change=ir.number(O.__textDocumentSync)?O.__textDocumentSync:B.TextDocumentSyncKind.None);for(let G of g)G.fillServerCapabilities(W);return x})}else{let b={capabilities:{textDocumentSync:B.TextDocumentSyncKind.None}};for(let M of g)M.fillServerCapabilities(b.capabilities);return b}}),i.onRequest(B.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,y)return y(new B.CancellationTokenSource().token)}),i.onNotification(B.ExitNotification.type,()=>{try{C&&C()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(B.SetTraceNotification.type,w=>{o.trace=B.Trace.fromString(w.value)}),O}Re.createConnection=uC});var w0=p($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.resolveModulePath=$t.FileSystem=$t.resolveGlobalYarnPath=$t.resolveGlobalNodePath=$t.resolve=$t.uriToFilePath=void 0;var cC=require("url"),Sr=require("path"),yh=require("fs"),wh=require("child_process");function lC(t){let e=cC.parse(t);if(e.protocol!=="file:"||!e.path)return;let r=e.path.split("/");for(var n=0,i=r.length;n<i;n++)r[n]=decodeURIComponent(r[n]);if(process.platform==="win32"&&r.length>1){let o=r[0],s=r[1];o.length===0&&s.length>1&&s[1]===":"&&r.shift()}return Sr.normalize(r.join("/"))}$t.uriToFilePath=lC;function _h(){return process.platform==="win32"}function rc(t,e,r,n){let i="NODE_PATH",o=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((s,a)=>{let u=process.env,c=Object.create(null);Object.keys(u).forEach(h=>c[h]=u[h]),e&&yh.existsSync(e)&&(c[i]?c[i]=e+Sr.delimiter+c[i]:c[i]=e,n&&n(`NODE_PATH value is: ${c[i]}`)),c.ELECTRON_RUN_AS_NODE="1";try{let h=(0,wh.fork)("",[],{cwd:r,env:c,execArgv:["-e",o]});if(h.pid===void 0){a(new Error(`Starting process to resolve node module  ${t} failed`));return}h.on("error",g=>{a(g)}),h.on("message",g=>{g.c==="r"&&(h.send({c:"e"}),g.s?s(g.r):a(new Error(`Failed to resolve module: ${t}`)))});let d={c:"rs",a:t};h.send(d)}catch(h){a(h)}})}$t.resolve=rc;function bh(t){let e="npm",r=Object.create(null);Object.keys(process.env).forEach(o=>r[o]=process.env[o]),r.NO_UPDATE_NOTIFIER="true";let n={encoding:"utf8",env:r};_h()&&(e="npm.cmd",n.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let o=(0,wh.spawnSync)(e,["config","get","prefix"],n).stdout;if(!o){t&&t("'npm config get prefix' didn't return a value.");return}let s=o.trim();return t&&t(`'npm config get prefix' value is: ${s}`),s.length>0?_h()?Sr.join(s,"node_modules"):Sr.join(s,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}$t.resolveGlobalNodePath=bh;function fC(t){let e="yarn",r={encoding:"utf8"};_h()&&(e="yarn.cmd",r.shell=!0);let n=()=>{};try{process.on("SIGPIPE",n);let i=(0,wh.spawnSync)(e,["global","dir","--json"],r),o=i.stdout;if(!o){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let s=o.trim().split(/\r?\n/);for(let a of s)try{let u=JSON.parse(a);if(u.type==="log")return Sr.join(u.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",n)}}$t.resolveGlobalYarnPath=fC;var vh;(function(t){let e;function r(){return e!==void 0||(process.platform==="win32"?e=!1:e=!yh.existsSync(__filename.toUpperCase())||!yh.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=r;function n(i,o){return r()?Sr.normalize(o).indexOf(Sr.normalize(i))===0:Sr.normalize(o).toLowerCase().indexOf(Sr.normalize(i).toLowerCase())===0}t.isParent=n})(vh||($t.FileSystem=vh={}));function dC(t,e,r,n){return r?(Sr.isAbsolute(r)||(r=Sr.join(t,r)),rc(e,r,r,n).then(i=>vh.isParent(r,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>rc(e,bh(n),t,n))):rc(e,bh(n),t,n)}$t.resolveModulePath=dC});var Sh=p((S6,S0)=>{"use strict";S0.exports=Oe()});var R0=p(nc=>{"use strict";Object.defineProperty(nc,"__esModule",{value:!0});nc.InlineCompletionFeature=void 0;var hC=Oe(),gC=t=>class extends t{get inlineCompletion(){return{on:e=>this.connection.onRequest(hC.InlineCompletionRequest.type,(r,n)=>e(r,n,this.attachWorkDoneProgress(r)))}}};nc.InlineCompletionFeature=gC});var P0=p(bt=>{"use strict";var pC=bt&&bt.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),D0=bt&&bt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pC(e,t,r)};Object.defineProperty(bt,"__esModule",{value:!0});bt.ProposedFeatures=bt.NotebookDocuments=bt.TextDocuments=bt.SemanticTokensBuilder=void 0;var mC=ih();Object.defineProperty(bt,"SemanticTokensBuilder",{enumerable:!0,get:function(){return mC.SemanticTokensBuilder}});var yC=R0();D0(Oe(),bt);var _C=uh();Object.defineProperty(bt,"TextDocuments",{enumerable:!0,get:function(){return _C.TextDocuments}});var bC=lh();Object.defineProperty(bt,"NotebookDocuments",{enumerable:!0,get:function(){return bC.NotebookDocuments}});D0(mh(),bt);var E0;(function(t){t.all={__brand:"features",languages:yC.InlineCompletionFeature}})(E0||(bt.ProposedFeatures=E0={}))});var j0=p(or=>{"use strict";var vC=or&&or.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),M0=or&&or.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vC(e,t,r)};Object.defineProperty(or,"__esModule",{value:!0});or.createConnection=or.Files=void 0;var O0=require("node:util"),Rh=Ba(),wC=mh(),Rs=w0(),Si=Sh();M0(Sh(),or);M0(P0(),or);var T0;(function(t){t.uriToFilePath=Rs.uriToFilePath,t.resolveGlobalNodePath=Rs.resolveGlobalNodePath,t.resolveGlobalYarnPath=Rs.resolveGlobalYarnPath,t.resolve=Rs.resolve,t.resolveModulePath=Rs.resolveModulePath})(T0||(or.Files=T0={}));var q0;function ic(){if(q0!==void 0)try{q0.end()}catch{}}var yo=!1,C0;function SC(){let t="--clientProcessId";function e(r){try{let n=parseInt(r);isNaN(n)||(C0=setInterval(()=>{try{process.kill(n,0)}catch{ic(),process.exit(yo?0:1)}},3e3))}catch{}}for(let r=2;r<process.argv.length;r++){let n=process.argv[r];if(n===t&&r+1<process.argv.length){e(process.argv[r+1]);return}else{let i=n.split("=");i[0]===t&&e(i[1])}}}SC();var RC={initialize:t=>{let e=t.processId;Rh.number(e)&&C0===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(yo?0:1)}},3e3)},get shutdownReceived(){return yo},set shutdownReceived(t){yo=t},exit:t=>{ic(),process.exit(t)}};function EC(t,e,r,n){let i,o,s,a;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=r,r=n),Si.ConnectionStrategy.is(t)||Si.ConnectionOptions.is(t)?a=t:(o=t,s=e,a=r),DC(o,s,a,i)}or.createConnection=EC;function DC(t,e,r,n){let i=!1;if(!t&&!e&&process.argv.length>2){let u,c,h=process.argv.slice(2);for(let d=0;d<h.length;d++){let g=h[d];if(g==="--node-ipc"){t=new Si.IPCMessageReader(process),e=new Si.IPCMessageWriter(process);break}else if(g==="--stdio"){i=!0,t=process.stdin,e=process.stdout;break}else if(g==="--socket"){u=parseInt(h[d+1]);break}else if(g==="--pipe"){c=h[d+1];break}else{var o=g.split("=");if(o[0]==="--socket"){u=parseInt(o[1]);break}else if(o[0]==="--pipe"){c=o[1];break}}}if(u){let d=(0,Si.createServerSocketTransport)(u);t=d[0],e=d[1]}else if(c){let d=(0,Si.createServerPipeTransport)(c);t=d[0],e=d[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Rh.func(t.read)&&Rh.func(t.on)){let u=t;u.on("end",()=>{ic(),process.exit(yo?0:1)}),u.on("close",()=>{ic(),process.exit(yo?0:1)})}let a=u=>{let c=(0,Si.createProtocolConnection)(t,e,u,r);return i&&PC(u),c};return(0,wC.createConnection)(a,RC,n)}function PC(t){function e(n){return n.map(i=>typeof i=="string"?i:(0,O0.inspect)(i)).join(" ")}let r=new Map;console.assert=function(i,...o){if(!i)if(o.length===0)t.error("Assertion failed");else{let[s,...a]=o;t.error(`Assertion failed: ${s} ${e(a)}`)}},console.count=function(i="default"){let o=String(i),s=r.get(o)??0;s+=1,r.set(o,s),t.log(`${o}: ${o}`)},console.countReset=function(i){i===void 0?r.clear():r.delete(String(i))},console.debug=function(...i){t.log(e(i))},console.dir=function(i,o){t.log((0,O0.inspect)(i,o))},console.log=function(...i){t.log(e(i))},console.error=function(...i){t.error(e(i))},console.trace=function(...i){let o=new Error().stack.replace(/(.+\n){2}/,""),s="Trace";i.length!==0&&(s+=`: ${e(i)}`),t.log(`${s}
${o}`)},console.warn=function(...i){t.warn(e(i))}}});var oc=p((O6,A0)=>{"use strict";A0.exports=j0()});var Wt=p((T6,N0)=>{"use strict";var Eh=class t extends Error{constructor(e){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${e.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,t)}};N0.exports=t=>{if(t.length>2)throw new Eh(t);function e(n={}){this.options=n}e.prototype.transform=t;function r(n){return new e(n)}return r.Format=e,r}});var k0=p((q6,x0)=>{var I0={};x0.exports=I0;var L0={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(L0).forEach(function(t){var e=L0[t],r=I0[t]=[];r.open="\x1B["+e[0]+"m",r.close="\x1B["+e[1]+"m"})});var $0=p((M6,F0)=>{"use strict";F0.exports=function(t,e){e=e||process.argv||[];var r=e.indexOf("--"),n=/^-{1,2}/.test(t)?"":"--",i=e.indexOf(n+t);return i!==-1&&(r===-1?!0:i<r)}});var H0=p((C6,W0)=>{"use strict";var OC=require("os"),Rr=$0(),Dt=process.env,_o=void 0;Rr("no-color")||Rr("no-colors")||Rr("color=false")?_o=!1:(Rr("color")||Rr("colors")||Rr("color=true")||Rr("color=always"))&&(_o=!0);"FORCE_COLOR"in Dt&&(_o=Dt.FORCE_COLOR.length===0||parseInt(Dt.FORCE_COLOR,10)!==0);function TC(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function qC(t){if(_o===!1)return 0;if(Rr("color=16m")||Rr("color=full")||Rr("color=truecolor"))return 3;if(Rr("color=256"))return 2;if(t&&!t.isTTY&&_o!==!0)return 0;var e=_o?1:0;if(process.platform==="win32"){var r=OC.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Dt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(i){return i in Dt})||Dt.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Dt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Dt.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in Dt){var n=parseInt((Dt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Dt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Dt.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Dt.TERM)||"COLORTERM"in Dt?1:(Dt.TERM==="dumb",e)}function Dh(t){var e=qC(t);return TC(e)}W0.exports={supportsColor:Dh,stdout:Dh(process.stdout),stderr:Dh(process.stderr)}});var B0=p((j6,U0)=>{U0.exports=function(e,r){var n="";e=e||"Run the trap, drop the bass",e=e.split("");var i={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return e.forEach(function(o){o=o.toLowerCase();var s=i[o]||[" "],a=Math.floor(Math.random()*s.length);typeof i[o]<"u"?n+=i[o][a]:n+=o}),n}});var V0=p((A6,z0)=>{z0.exports=function(e,r){e=e||"   he is here   ";var n={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},i=[].concat(n.up,n.down,n.mid);function o(u){var c=Math.floor(Math.random()*u);return c}function s(u){var c=!1;return i.filter(function(h){c=h===u}),c}function a(u,c){var h="",d,g;c=c||{},c.up=typeof c.up<"u"?c.up:!0,c.mid=typeof c.mid<"u"?c.mid:!0,c.down=typeof c.down<"u"?c.down:!0,c.size=typeof c.size<"u"?c.size:"maxi",u=u.split("");for(g in u)if(!s(g)){switch(h=h+u[g],d={up:0,down:0,mid:0},c.size){case"mini":d.up=o(8),d.mid=o(2),d.down=o(8);break;case"maxi":d.up=o(16)+3,d.mid=o(4)+1,d.down=o(64)+3;break;default:d.up=o(8)+1,d.mid=o(6)/2,d.down=o(8)+1;break}var _=["up","mid","down"];for(var y in _)for(var E=_[y],C=0;C<=d[E];C++)c[E]&&(h=h+n[E][o(n[E].length)])}return h}return a(e,r)}});var Y0=p((N6,G0)=>{G0.exports=function(t){return function(e,r,n){if(e===" ")return e;switch(r%3){case 0:return t.red(e);case 1:return t.white(e);case 2:return t.blue(e)}}}});var X0=p((L6,K0)=>{K0.exports=function(t){return function(e,r,n){return r%2===0?e:t.inverse(e)}}});var Q0=p((I6,J0)=>{J0.exports=function(t){var e=["red","yellow","green","blue","magenta"];return function(r,n,i){return r===" "?r:t[e[n++%e.length]](r)}}});var ew=p((x6,Z0)=>{Z0.exports=function(t){var e=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(r,n,i){return r===" "?r:t[e[Math.round(Math.random()*(e.length-2))]](r)}}});var sw=p((F6,ow)=>{var ye={};ow.exports=ye;ye.themes={};var MC=require("util"),Ri=ye.styles=k0(),rw=Object.defineProperties,CC=new RegExp(/[\r\n]+/g);ye.supportsColor=H0().supportsColor;typeof ye.enabled>"u"&&(ye.enabled=ye.supportsColor()!==!1);ye.enable=function(){ye.enabled=!0};ye.disable=function(){ye.enabled=!1};ye.stripColors=ye.strip=function(t){return(""+t).replace(/\x1B\[\d+m/g,"")};var k6=ye.stylize=function(e,r){if(!ye.enabled)return e+"";var n=Ri[r];return!n&&r in ye?ye[r](e):n.open+e+n.close},jC=/[|\\{}()[\]^$+*?.]/g,AC=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(jC,"\\$&")};function nw(t){var e=function r(){return LC.apply(r,arguments)};return e._styles=t,e.__proto__=NC,e}var iw=(function(){var t={};return Ri.grey=Ri.gray,Object.keys(Ri).forEach(function(e){Ri[e].closeRe=new RegExp(AC(Ri[e].close),"g"),t[e]={get:function(){return nw(this._styles.concat(e))}}}),t})(),NC=rw(function(){},iw);function LC(){var t=Array.prototype.slice.call(arguments),e=t.map(function(s){return s!=null&&s.constructor===String?s:MC.inspect(s)}).join(" ");if(!ye.enabled||!e)return e;for(var r=e.indexOf(`
`)!=-1,n=this._styles,i=n.length;i--;){var o=Ri[n[i]];e=o.open+e.replace(o.closeRe,o.open)+o.close,r&&(e=e.replace(CC,function(s){return o.close+s+o.open}))}return e}ye.setTheme=function(t){if(typeof t=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var e in t)(function(r){ye[r]=function(n){if(typeof t[r]=="object"){var i=n;for(var o in t[r])i=ye[t[r][o]](i);return i}return ye[t[r]](n)}})(e)};function IC(){var t={};return Object.keys(iw).forEach(function(e){t[e]={get:function(){return nw([e])}}}),t}var xC=function(e,r){var n=r.split("");return n=n.map(e),n.join("")};ye.trap=B0();ye.zalgo=V0();ye.maps={};ye.maps.america=Y0()(ye);ye.maps.zebra=X0()(ye);ye.maps.rainbow=Q0()(ye);ye.maps.random=ew()(ye);for(tw in ye.maps)(function(t){ye[t]=function(e){return xC(ye.maps[t],e)}})(tw);var tw;rw(ye,IC())});var Ph=p(($6,aw)=>{var kC=sw();aw.exports=kC});var uw=p(Oh=>{"use strict";Oh.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9};Oh.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}});var cw=p(Th=>{"use strict";Th.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6};Th.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}});var lw=p(qh=>{"use strict";qh.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7};qh.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}});var fw=p(sc=>{"use strict";Object.defineProperty(sc,"cli",{value:uw()});Object.defineProperty(sc,"npm",{value:cw()});Object.defineProperty(sc,"syslog",{value:lw()})});var ze=p(Es=>{"use strict";Object.defineProperty(Es,"LEVEL",{value:Symbol.for("level")});Object.defineProperty(Es,"MESSAGE",{value:Symbol.for("message")});Object.defineProperty(Es,"SPLAT",{value:Symbol.for("splat")});Object.defineProperty(Es,"configs",{value:fw()})});var cc=p((V6,uc)=>{"use strict";var jh=Ph(),{LEVEL:Mh,MESSAGE:Ch}=ze();jh.enabled=!0;var dw=/\s+/,ac=class t{constructor(e={}){e.colors&&this.addColors(e.colors),this.options=e}static addColors(e){let r=Object.keys(e).reduce((n,i)=>(n[i]=dw.test(e[i])?e[i].split(dw):e[i],n),{});return t.allColors=Object.assign({},t.allColors||{},r),t.allColors}addColors(e){return t.addColors(e)}colorize(e,r,n){if(typeof n>"u"&&(n=r),!Array.isArray(t.allColors[e]))return jh[t.allColors[e]](n);for(let i=0,o=t.allColors[e].length;i<o;i++)n=jh[t.allColors[e][i]](n);return n}transform(e,r){return r.all&&typeof e[Ch]=="string"&&(e[Ch]=this.colorize(e[Mh],e.level,e[Ch])),(r.level||r.all||!r.message)&&(e.level=this.colorize(e[Mh],e.level)),(r.all||r.message)&&(e.message=this.colorize(e[Mh],e.level,e.message)),e}};uc.exports=t=>new ac(t);uc.exports.Colorizer=uc.exports.Format=ac});var gw=p((G6,hw)=>{"use strict";var{Colorizer:FC}=cc();hw.exports=t=>(FC.addColors(t.colors||t),t)});var mw=p((Y6,pw)=>{"use strict";var $C=Wt();pw.exports=$C(t=>(t.message=`	${t.message}`,t))});var bw=p((K6,_w)=>{"use strict";var WC=Wt(),{LEVEL:yw,MESSAGE:Ah}=ze();_w.exports=WC((t,{stack:e,cause:r})=>{if(t instanceof Error){let i=Object.assign({},t,{level:t.level,[yw]:t[yw]||t.level,message:t.message,[Ah]:t[Ah]||t.message});return e&&(i.stack=t.stack),r&&(i.cause=t.cause),i}if(!(t.message instanceof Error))return t;let n=t.message;return Object.assign(t,n),t.message=n.message,t[Ah]=n.message,e&&(t.stack=n.stack),r&&(t.cause=n.cause),t})});var Lh=p((X6,fc)=>{"use strict";var{configs:HC,LEVEL:vw,MESSAGE:Nh}=ze(),lc=class t{constructor(e={levels:HC.npm.levels}){this.paddings=t.paddingForLevels(e.levels,e.filler),this.options=e}static getLongestLevel(e){let r=Object.keys(e).map(n=>n.length);return Math.max(...r)}static paddingForLevel(e,r,n){let i=n+1-e.length,o=Math.floor(i/r.length);return`${r}${r.repeat(o)}`.slice(0,i)}static paddingForLevels(e,r=" "){let n=t.getLongestLevel(e);return Object.keys(e).reduce((i,o)=>(i[o]=t.paddingForLevel(o,r,n),i),{})}transform(e,r){return e.message=`${this.paddings[e[vw]]}${e.message}`,e[Nh]&&(e[Nh]=`${this.paddings[e[vw]]}${e[Nh]}`),e}};fc.exports=t=>new lc(t);fc.exports.Padder=fc.exports.Format=lc});var ww=p((J6,Ih)=>{"use strict";var{Colorizer:UC}=cc(),{Padder:BC}=Lh(),{configs:zC,MESSAGE:VC}=ze(),dc=class{constructor(e={}){e.levels||(e.levels=zC.cli.levels),this.colorizer=new UC(e),this.padder=new BC(e),this.options=e}transform(e,r){return this.colorizer.transform(this.padder.transform(e,r),r),e[VC]=`${e.level}:${e.message}`,e}};Ih.exports=t=>new dc(t);Ih.exports.Format=dc});var Rw=p((Q6,xh)=>{"use strict";var GC=Wt();function Sw(t){if(t.every(YC))return e=>{let r=e;for(let n=0;n<t.length;n++)if(r=t[n].transform(r,t[n].options),!r)return!1;return r}}function YC(t){if(typeof t.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}xh.exports=(...t)=>{let e=GC(Sw(t)),r=e();return r.Format=e.Format,r};xh.exports.cascade=Sw});var Ps=p((Wh,Pw)=>{"use strict";var{hasOwnProperty:Ds}=Object.prototype,Di=$h();Di.configure=$h;Di.stringify=Di;Di.default=Di;Wh.stringify=Di;Wh.configure=$h;Pw.exports=Di;var KC=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function Fn(t){return t.length<5e3&&!KC.test(t)?`"${t}"`:JSON.stringify(t)}function kh(t,e){if(t.length>200||e)return t.sort(e);for(let r=1;r<t.length;r++){let n=t[r],i=r;for(;i!==0&&t[i-1]>n;)t[i]=t[i-1],i--;t[i]=n}return t}var XC=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function Fh(t){return XC.call(t)!==void 0&&t.length!==0}function Ew(t,e,r){t.length<r&&(r=t.length);let n=e===","?"":" ",i=`"0":${n}${t[0]}`;for(let o=1;o<r;o++)i+=`${e}"${o}":${n}${t[o]}`;return i}function JC(t){if(Ds.call(t,"circularValue")){let e=t.circularValue;if(typeof e=="string")return`"${e}"`;if(e==null)return e;if(e===Error||e===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function QC(t){let e;if(Ds.call(t,"deterministic")&&(e=t.deterministic,typeof e!="boolean"&&typeof e!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return e===void 0?!0:e}function ZC(t,e){let r;if(Ds.call(t,e)&&(r=t[e],typeof r!="boolean"))throw new TypeError(`The "${e}" argument must be of type boolean`);return r===void 0?!0:r}function Dw(t,e){let r;if(Ds.call(t,e)){if(r=t[e],typeof r!="number")throw new TypeError(`The "${e}" argument must be of type number`);if(!Number.isInteger(r))throw new TypeError(`The "${e}" argument must be an integer`);if(r<1)throw new RangeError(`The "${e}" argument must be >= 1`)}return r===void 0?1/0:r}function Ei(t){return t===1?"1 item":`${t} items`}function ej(t){let e=new Set;for(let r of t)(typeof r=="string"||typeof r=="number")&&e.add(String(r));return e}function tj(t){if(Ds.call(t,"strict")){let e=t.strict;if(typeof e!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(e)return r=>{let n=`Object can not safely be stringified. Received type ${typeof r}`;throw typeof r!="function"&&(n+=` (${r.toString()})`),new Error(n)}}}function $h(t){t={...t};let e=tj(t);e&&(t.bigint===void 0&&(t.bigint=!1),"circularValue"in t||(t.circularValue=Error));let r=JC(t),n=ZC(t,"bigint"),i=QC(t),o=typeof i=="function"?i:void 0,s=Dw(t,"maximumDepth"),a=Dw(t,"maximumBreadth");function u(_,y,E,C,O,w){let b=y[_];switch(typeof b=="object"&&b!==null&&typeof b.toJSON=="function"&&(b=b.toJSON(_)),b=C.call(y,_,b),typeof b){case"string":return Fn(b);case"object":{if(b===null)return"null";if(E.indexOf(b)!==-1)return r;let M="",x=",",W=w;if(Array.isArray(b)){if(b.length===0)return"[]";if(s<E.length+1)return'"[Array]"';E.push(b),O!==""&&(w+=O,M+=`
${w}`,x=`,
${w}`);let H=Math.min(b.length,a),V=0;for(;V<H-1;V++){let le=u(String(V),b,E,C,O,w);M+=le!==void 0?le:"null",M+=x}let ie=u(String(V),b,E,C,O,w);if(M+=ie!==void 0?ie:"null",b.length-1>a){let le=b.length-a-1;M+=`${x}"... ${Ei(le)} not stringified"`}return O!==""&&(M+=`
${W}`),E.pop(),`[${M}]`}let G=Object.keys(b),ee=G.length;if(ee===0)return"{}";if(s<E.length+1)return'"[Object]"';let re="",F="";O!==""&&(w+=O,x=`,
${w}`,re=" ");let I=Math.min(ee,a);i&&!Fh(b)&&(G=kh(G,o)),E.push(b);for(let H=0;H<I;H++){let V=G[H],ie=u(V,b,E,C,O,w);ie!==void 0&&(M+=`${F}${Fn(V)}:${re}${ie}`,F=x)}if(ee>a){let H=ee-a;M+=`${F}"...":${re}"${Ei(H)} not stringified"`,F=x}return O!==""&&F.length>1&&(M=`
${w}${M}
${W}`),E.pop(),`{${M}}`}case"number":return isFinite(b)?String(b):e?e(b):"null";case"boolean":return b===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(b);default:return e?e(b):void 0}}function c(_,y,E,C,O,w){switch(typeof y=="object"&&y!==null&&typeof y.toJSON=="function"&&(y=y.toJSON(_)),typeof y){case"string":return Fn(y);case"object":{if(y===null)return"null";if(E.indexOf(y)!==-1)return r;let b=w,M="",x=",";if(Array.isArray(y)){if(y.length===0)return"[]";if(s<E.length+1)return'"[Array]"';E.push(y),O!==""&&(w+=O,M+=`
${w}`,x=`,
${w}`);let ee=Math.min(y.length,a),re=0;for(;re<ee-1;re++){let I=c(String(re),y[re],E,C,O,w);M+=I!==void 0?I:"null",M+=x}let F=c(String(re),y[re],E,C,O,w);if(M+=F!==void 0?F:"null",y.length-1>a){let I=y.length-a-1;M+=`${x}"... ${Ei(I)} not stringified"`}return O!==""&&(M+=`
${b}`),E.pop(),`[${M}]`}E.push(y);let W="";O!==""&&(w+=O,x=`,
${w}`,W=" ");let G="";for(let ee of C){let re=c(ee,y[ee],E,C,O,w);re!==void 0&&(M+=`${G}${Fn(ee)}:${W}${re}`,G=x)}return O!==""&&G.length>1&&(M=`
${w}${M}
${b}`),E.pop(),`{${M}}`}case"number":return isFinite(y)?String(y):e?e(y):"null";case"boolean":return y===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(y);default:return e?e(y):void 0}}function h(_,y,E,C,O){switch(typeof y){case"string":return Fn(y);case"object":{if(y===null)return"null";if(typeof y.toJSON=="function"){if(y=y.toJSON(_),typeof y!="object")return h(_,y,E,C,O);if(y===null)return"null"}if(E.indexOf(y)!==-1)return r;let w=O;if(Array.isArray(y)){if(y.length===0)return"[]";if(s<E.length+1)return'"[Array]"';E.push(y),O+=C;let re=`
${O}`,F=`,
${O}`,I=Math.min(y.length,a),H=0;for(;H<I-1;H++){let ie=h(String(H),y[H],E,C,O);re+=ie!==void 0?ie:"null",re+=F}let V=h(String(H),y[H],E,C,O);if(re+=V!==void 0?V:"null",y.length-1>a){let ie=y.length-a-1;re+=`${F}"... ${Ei(ie)} not stringified"`}return re+=`
${w}`,E.pop(),`[${re}]`}let b=Object.keys(y),M=b.length;if(M===0)return"{}";if(s<E.length+1)return'"[Object]"';O+=C;let x=`,
${O}`,W="",G="",ee=Math.min(M,a);Fh(y)&&(W+=Ew(y,x,a),b=b.slice(y.length),ee-=y.length,G=x),i&&(b=kh(b,o)),E.push(y);for(let re=0;re<ee;re++){let F=b[re],I=h(F,y[F],E,C,O);I!==void 0&&(W+=`${G}${Fn(F)}: ${I}`,G=x)}if(M>a){let re=M-a;W+=`${G}"...": "${Ei(re)} not stringified"`,G=x}return G!==""&&(W=`
${O}${W}
${w}`),E.pop(),`{${W}}`}case"number":return isFinite(y)?String(y):e?e(y):"null";case"boolean":return y===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(y);default:return e?e(y):void 0}}function d(_,y,E){switch(typeof y){case"string":return Fn(y);case"object":{if(y===null)return"null";if(typeof y.toJSON=="function"){if(y=y.toJSON(_),typeof y!="object")return d(_,y,E);if(y===null)return"null"}if(E.indexOf(y)!==-1)return r;let C="",O=y.length!==void 0;if(O&&Array.isArray(y)){if(y.length===0)return"[]";if(s<E.length+1)return'"[Array]"';E.push(y);let W=Math.min(y.length,a),G=0;for(;G<W-1;G++){let re=d(String(G),y[G],E);C+=re!==void 0?re:"null",C+=","}let ee=d(String(G),y[G],E);if(C+=ee!==void 0?ee:"null",y.length-1>a){let re=y.length-a-1;C+=`,"... ${Ei(re)} not stringified"`}return E.pop(),`[${C}]`}let w=Object.keys(y),b=w.length;if(b===0)return"{}";if(s<E.length+1)return'"[Object]"';let M="",x=Math.min(b,a);O&&Fh(y)&&(C+=Ew(y,",",a),w=w.slice(y.length),x-=y.length,M=","),i&&(w=kh(w,o)),E.push(y);for(let W=0;W<x;W++){let G=w[W],ee=d(G,y[G],E);ee!==void 0&&(C+=`${M}${Fn(G)}:${ee}`,M=",")}if(b>a){let W=b-a;C+=`${M}"...":"${Ei(W)} not stringified"`}return E.pop(),`{${C}}`}case"number":return isFinite(y)?String(y):e?e(y):"null";case"boolean":return y===!0?"true":"false";case"undefined":return;case"bigint":if(n)return String(y);default:return e?e(y):void 0}}function g(_,y,E){if(arguments.length>1){let C="";if(typeof E=="number"?C=" ".repeat(Math.min(E,10)):typeof E=="string"&&(C=E.slice(0,10)),y!=null){if(typeof y=="function")return u("",{"":_},[],y,C,"");if(Array.isArray(y))return c("",_,[],ej(y),C,"")}if(C.length!==0)return h("",_,[],C,"")}return d("",_,[])}return g}});var Hh=p((Z6,Ow)=>{"use strict";var rj=Wt(),{MESSAGE:nj}=ze(),ij=Ps();function oj(t,e){return typeof e=="bigint"?e.toString():e}Ow.exports=rj((t,e)=>{let r=ij.configure(e);return t[nj]=r(t,e.replacer||oj,e.space),t})});var qw=p((eH,Tw)=>{"use strict";var sj=Wt();Tw.exports=sj((t,e)=>e.message?(t.message=`[${e.label}] ${t.message}`,t):(t.label=e.label,t))});var Cw=p((tH,Mw)=>{"use strict";var aj=Wt(),{MESSAGE:uj}=ze(),cj=Ps();Mw.exports=aj(t=>{let e={};return t.message&&(e["@message"]=t.message,delete t.message),t.timestamp&&(e["@timestamp"]=t.timestamp,delete t.timestamp),e["@fields"]=t,t[uj]=cj(e),t})});var Aw=p((rH,jw)=>{"use strict";var lj=Wt();function fj(t,e,r){let n=e.reduce((o,s)=>(o[s]=t[s],delete t[s],o),{}),i=Object.keys(t).reduce((o,s)=>(o[s]=t[s],delete t[s],o),{});return Object.assign(t,n,{[r]:i}),t}function dj(t,e,r){return t[r]=e.reduce((n,i)=>(n[i]=t[i],delete t[i],n),{}),t}jw.exports=lj((t,e={})=>{let r="metadata";e.key&&(r=e.key);let n=[];return!e.fillExcept&&!e.fillWith&&(n.push("level"),n.push("message")),e.fillExcept&&(n=e.fillExcept),n.length>0?fj(t,n,r):e.fillWith?dj(t,e.fillWith,r):t})});var Lw=p((nH,Nw)=>{var bo=1e3,vo=bo*60,wo=vo*60,Pi=wo*24,hj=Pi*7,gj=Pi*365.25;Nw.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return pj(t);if(r==="number"&&isFinite(t))return e.long?yj(t):mj(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function pj(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*gj;case"weeks":case"week":case"w":return r*hj;case"days":case"day":case"d":return r*Pi;case"hours":case"hour":case"hrs":case"hr":case"h":return r*wo;case"minutes":case"minute":case"mins":case"min":case"m":return r*vo;case"seconds":case"second":case"secs":case"sec":case"s":return r*bo;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function mj(t){var e=Math.abs(t);return e>=Pi?Math.round(t/Pi)+"d":e>=wo?Math.round(t/wo)+"h":e>=vo?Math.round(t/vo)+"m":e>=bo?Math.round(t/bo)+"s":t+"ms"}function yj(t){var e=Math.abs(t);return e>=Pi?hc(t,e,Pi,"day"):e>=wo?hc(t,e,wo,"hour"):e>=vo?hc(t,e,vo,"minute"):e>=bo?hc(t,e,bo,"second"):t+" ms"}function hc(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var xw=p((Os,Iw)=>{"use strict";var _j=Wt(),bj=Lw();Iw.exports=_j(t=>{let e=+new Date;return Os.diff=e-(Os.prevTime||e),Os.prevTime=e,t.ms=`+${bj(Os.diff)}`,t})});var $w=p((iH,Fw)=>{"use strict";var vj=require("util").inspect,wj=Wt(),{LEVEL:Sj,MESSAGE:kw,SPLAT:Rj}=ze();Fw.exports=wj((t,e={})=>{let r=Object.assign({},t);return delete r[Sj],delete r[kw],delete r[Rj],t[kw]=vj(r,!1,e.depth||null,e.colorize),t})});var Ww=p((oH,pc)=>{"use strict";var{MESSAGE:Ej}=ze(),gc=class{constructor(e){this.template=e}transform(e){return e[Ej]=this.template(e),e}};pc.exports=t=>new gc(t);pc.exports.Printf=pc.exports.Format=gc});var Bw=p((sH,Uw)=>{"use strict";var Dj=Wt(),{MESSAGE:Hw}=ze(),Pj=Ps();Uw.exports=Dj(t=>{let e=Pj(Object.assign({},t,{level:void 0,message:void 0,splat:void 0})),r=t.padding&&t.padding[t.level]||"";return e!=="{}"?t[Hw]=`${t.level}:${r} ${t.message} ${e}`:t[Hw]=`${t.level}:${r} ${t.message}`,t})});var Gw=p((aH,Vw)=>{"use strict";var Oj=require("util"),{SPLAT:zw}=ze(),Tj=/%[scdjifoO%]/g,qj=/%%/g,Uh=class{constructor(e){this.options=e}_splat(e,r){let n=e.message,i=e[zw]||e.splat||[],o=n.match(qj),s=o&&o.length||0,u=r.length-s-i.length,c=u<0?i.splice(u,-1*u):[],h=c.length;if(h)for(let d=0;d<h;d++)Object.assign(e,c[d]);return e.message=Oj.format(n,...i),e}transform(e){let r=e.message,n=e[zw]||e.splat;if(!n||!n.length)return e;let i=r&&r.match&&r.match(Tj);if(!i&&(n||n.length)){let o=n.length>1?n.splice(0):n,s=o.length;if(s)for(let a=0;a<s;a++)Object.assign(e,o[a]);return e}return i?this._splat(e,i):e}};Vw.exports=t=>new Uh(t)});var Kw=p((mc,Yw)=>{(function(t,e){typeof mc=="object"&&typeof Yw<"u"?e(mc):typeof define=="function"&&define.amd?define(["exports"],e):e(t.fecha={})})(mc,(function(t){"use strict";var e=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,r="\\d\\d?",n="\\d\\d",i="\\d{3}",o="\\d{4}",s="[^\\s]+",a=/\[([^]*?)\]/gm;function u(q,U){for(var ne=[],fe=0,Q=q.length;fe<Q;fe++)ne.push(q[fe].substr(0,U));return ne}var c=function(q){return function(U,ne){var fe=ne[q].map(function(ct){return ct.toLowerCase()}),Q=fe.indexOf(U.toLowerCase());return Q>-1?Q:null}};function h(q){for(var U=[],ne=1;ne<arguments.length;ne++)U[ne-1]=arguments[ne];for(var fe=0,Q=U;fe<Q.length;fe++){var ct=Q[fe];for(var Et in ct)q[Et]=ct[Et]}return q}var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"],_=u(g,3),y=u(d,3),E={dayNamesShort:y,dayNames:d,monthNamesShort:_,monthNames:g,amPm:["am","pm"],DoFn:function(q){return q+["th","st","nd","rd"][q%10>3?0:(q-q%10!==10?1:0)*q%10]}},C=h({},E),O=function(q){return C=h(C,q)},w=function(q){return q.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},b=function(q,U){for(U===void 0&&(U=2),q=String(q);q.length<U;)q="0"+q;return q},M={D:function(q){return String(q.getDate())},DD:function(q){return b(q.getDate())},Do:function(q,U){return U.DoFn(q.getDate())},d:function(q){return String(q.getDay())},dd:function(q){return b(q.getDay())},ddd:function(q,U){return U.dayNamesShort[q.getDay()]},dddd:function(q,U){return U.dayNames[q.getDay()]},M:function(q){return String(q.getMonth()+1)},MM:function(q){return b(q.getMonth()+1)},MMM:function(q,U){return U.monthNamesShort[q.getMonth()]},MMMM:function(q,U){return U.monthNames[q.getMonth()]},YY:function(q){return b(String(q.getFullYear()),4).substr(2)},YYYY:function(q){return b(q.getFullYear(),4)},h:function(q){return String(q.getHours()%12||12)},hh:function(q){return b(q.getHours()%12||12)},H:function(q){return String(q.getHours())},HH:function(q){return b(q.getHours())},m:function(q){return String(q.getMinutes())},mm:function(q){return b(q.getMinutes())},s:function(q){return String(q.getSeconds())},ss:function(q){return b(q.getSeconds())},S:function(q){return String(Math.round(q.getMilliseconds()/100))},SS:function(q){return b(Math.round(q.getMilliseconds()/10),2)},SSS:function(q){return b(q.getMilliseconds(),3)},a:function(q,U){return q.getHours()<12?U.amPm[0]:U.amPm[1]},A:function(q,U){return q.getHours()<12?U.amPm[0].toUpperCase():U.amPm[1].toUpperCase()},ZZ:function(q){var U=q.getTimezoneOffset();return(U>0?"-":"+")+b(Math.floor(Math.abs(U)/60)*100+Math.abs(U)%60,4)},Z:function(q){var U=q.getTimezoneOffset();return(U>0?"-":"+")+b(Math.floor(Math.abs(U)/60),2)+":"+b(Math.abs(U)%60,2)}},x=function(q){return+q-1},W=[null,r],G=[null,s],ee=["isPm",s,function(q,U){var ne=q.toLowerCase();return ne===U.amPm[0]?0:ne===U.amPm[1]?1:null}],re=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(q){var U=(q+"").match(/([+-]|\d\d)/gi);if(U){var ne=+U[1]*60+parseInt(U[2],10);return U[0]==="+"?ne:-ne}return 0}],F={D:["day",r],DD:["day",n],Do:["day",r+s,function(q){return parseInt(q,10)}],M:["month",r,x],MM:["month",n,x],YY:["year",n,function(q){var U=new Date,ne=+(""+U.getFullYear()).substr(0,2);return+(""+(+q>68?ne-1:ne)+q)}],h:["hour",r,void 0,"isPm"],hh:["hour",n,void 0,"isPm"],H:["hour",r],HH:["hour",n],m:["minute",r],mm:["minute",n],s:["second",r],ss:["second",n],YYYY:["year",o],S:["millisecond","\\d",function(q){return+q*100}],SS:["millisecond",n,function(q){return+q*10}],SSS:["millisecond",i],d:W,dd:W,ddd:G,dddd:G,MMM:["month",s,c("monthNamesShort")],MMMM:["month",s,c("monthNames")],a:ee,A:ee,ZZ:re,Z:re},I={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},H=function(q){return h(I,q)},V=function(q,U,ne){if(U===void 0&&(U=I.default),ne===void 0&&(ne={}),typeof q=="number"&&(q=new Date(q)),Object.prototype.toString.call(q)!=="[object Date]"||isNaN(q.getTime()))throw new Error("Invalid Date pass to format");U=I[U]||U;var fe=[];U=U.replace(a,function(ct,Et){return fe.push(Et),"@@@"});var Q=h(h({},C),ne);return U=U.replace(e,function(ct){return M[ct](q,Q)}),U.replace(/@@@/g,function(){return fe.shift()})};function ie(q,U,ne){if(ne===void 0&&(ne={}),typeof U!="string")throw new Error("Invalid format in fecha parse");if(U=I[U]||U,q.length>1e3)return null;var fe=new Date,Q={year:fe.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},ct=[],Et=[],Lr=U.replace(a,function(xr,Kt){return Et.push(w(Kt)),"@@@"}),Ir={},Dn={};Lr=w(Lr).replace(e,function(xr){var Kt=F[xr],Pn=Kt[0],pr=Kt[1],mr=Kt[3];if(Ir[Pn])throw new Error("Invalid format. "+Pn+" specified twice in format");return Ir[Pn]=!0,mr&&(Dn[mr]=!0),ct.push(Kt),"("+pr+")"}),Object.keys(Dn).forEach(function(xr){if(!Ir[xr])throw new Error("Invalid format. "+xr+" is required in specified format")}),Lr=Lr.replace(/@@@/g,function(){return Et.shift()});var on=q.match(new RegExp(Lr,"i"));if(!on)return null;for(var zi=h(h({},C),ne),pt=1;pt<on.length;pt++){var gi=ct[pt-1],Vi=gi[0],sn=gi[2],Lt=sn?sn(on[pt],zi):+on[pt];if(Lt==null)return null;Q[Vi]=Lt}Q.isPm===1&&Q.hour!=null&&+Q.hour!=12?Q.hour=+Q.hour+12:Q.isPm===0&&+Q.hour==12&&(Q.hour=0);var an;if(Q.timezoneOffset==null){an=new Date(Q.year,Q.month,Q.day,Q.hour,Q.minute,Q.second,Q.millisecond);for(var un=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],pt=0,cn=un.length;pt<cn;pt++)if(Ir[un[pt][0]]&&Q[un[pt][0]]!==an[un[pt][1]]())return null}else if(an=new Date(Date.UTC(Q.year,Q.month,Q.day,Q.hour,Q.minute-Q.timezoneOffset,Q.second,Q.millisecond)),Q.month>11||Q.month<0||Q.day>31||Q.day<1||Q.hour>23||Q.hour<0||Q.minute>59||Q.minute<0||Q.second>59||Q.second<0)return null;return an}var le={format:V,parse:ie,defaultI18n:E,setGlobalDateI18n:O,setGlobalDateMasks:H};t.assign=h,t.default=le,t.format=V,t.parse=ie,t.defaultI18n=E,t.setGlobalDateI18n=O,t.setGlobalDateMasks=H,Object.defineProperty(t,"__esModule",{value:!0})}))});var Jw=p((uH,Xw)=>{"use strict";var Mj=Kw(),Cj=Wt();Xw.exports=Cj((t,e={})=>(e.format&&(t.timestamp=typeof e.format=="function"?e.format():Mj.format(new Date,e.format)),t.timestamp||(t.timestamp=new Date().toISOString()),e.alias&&(t[e.alias]=t.timestamp),t))});var Zw=p((cH,Qw)=>{"use strict";var Bh=Ph(),jj=Wt(),{MESSAGE:zh}=ze();Qw.exports=jj((t,e)=>(e.level!==!1&&(t.level=Bh.strip(t.level)),e.message!==!1&&(t.message=Bh.strip(String(t.message))),e.raw!==!1&&t[zh]&&(t[zh]=Bh.strip(String(t[zh]))),t))});var Gh=p(Vh=>{"use strict";var Aj=Vh.format=Wt();Vh.levels=gw();function ft(t,e){Object.defineProperty(Aj,t,{get(){return e()},configurable:!0})}ft("align",function(){return mw()});ft("errors",function(){return bw()});ft("cli",function(){return ww()});ft("combine",function(){return Rw()});ft("colorize",function(){return cc()});ft("json",function(){return Hh()});ft("label",function(){return qw()});ft("logstash",function(){return Cw()});ft("metadata",function(){return Aw()});ft("ms",function(){return xw()});ft("padLevels",function(){return Lh()});ft("prettyPrint",function(){return $w()});ft("printf",function(){return Ww()});ft("simple",function(){return Bw()});ft("splat",function(){return Gw()});ft("timestamp",function(){return Jw()});ft("uncolorize",function(){return Zw()})});var Yh=p(yc=>{"use strict";var{format:eS}=require("util");yc.warn={deprecated(t){return()=>{throw new Error(eS("{ %s } was removed in winston@3.0.0.",t))}},useFormat(t){return()=>{throw new Error([eS("{ %s } was removed in winston@3.0.0.",t),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions(t,e,r){r.forEach(n=>{t[n]=yc.warn[e](n)})},forProperties(t,e,r){r.forEach(n=>{let i=yc.warn[e](n);Object.defineProperty(t,n,{get:i,set:i})})}}});var tS=p((dH,Nj)=>{Nj.exports={name:"winston",description:"A logger for just about everything.",version:"3.18.3",author:"Charlie Robbins <charlie.robbins@gmail.com>",maintainers:["David Hyde <dabh@alumni.stanford.edu>"],repository:{type:"git",url:"https://github.com/winstonjs/winston.git"},keywords:["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],dependencies:{"@dabh/diagnostics":"^2.0.8","@colors/colors":"^1.6.0",async:"^3.2.3","is-stream":"^2.0.0",logform:"^2.7.0","one-time":"^1.0.0","readable-stream":"^3.4.0","safe-stable-stringify":"^2.3.1","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.9.0"},devDependencies:{"@babel/cli":"^7.23.9","@babel/core":"^7.24.0","@babel/preset-env":"^7.24.0","@dabh/eslint-config-populist":"^4.4.0","@types/node":"^20.11.24","abstract-winston-transport":"^0.5.1",assume:"^2.2.0","cross-spawn-async":"^2.2.5",eslint:"^8.57.0",hock:"^1.4.1",mocha:"^10.3.0",nyc:"^17.1.0",rimraf:"5.0.1",split2:"^4.1.0","std-mocks":"^2.0.0",through2:"^4.0.2","winston-compat":"^0.1.5"},main:"./lib/winston.js",browser:"./dist/winston",types:"./index.d.ts",scripts:{lint:"eslint lib/*.js lib/winston/*.js lib/winston/**/*.js --resolve-plugins-relative-to ./node_modules/@dabh/eslint-config-populist",test:"rimraf test/fixtures/logs/* && mocha","test:coverage":"nyc npm run test:unit","test:unit":"mocha test/unit","test:integration":"mocha test/integration",build:"rimraf dist && babel lib -d dist",prepublishOnly:"npm run build"},engines:{node:">= 12.0.0"},license:"MIT"}});var Kh=p((hH,rS)=>{rS.exports=require("util").deprecate});var Xh=p((gH,nS)=>{nS.exports=require("stream")});var Qh=p((pH,oS)=>{"use strict";function Lj(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Jh,this,t)):process.nextTick(Jh,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(_c,r):(r._writableState.errorEmitted=!0,process.nextTick(iS,r,o)):process.nextTick(iS,r,o):e?(process.nextTick(_c,r),e(o)):process.nextTick(_c,r)}),this)}function iS(t,e){Jh(t,e),_c(t)}function _c(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Ij(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Jh(t,e){t.emit("error",e)}function xj(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}oS.exports={destroy:Lj,undestroy:Ij,errorOrDestroy:xj}});var So=p((mH,uS)=>{"use strict";var aS={};function sr(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}class i extends r{constructor(s,a,u){super(n(s,a,u))}}i.prototype.name=r.name,i.prototype.code=t,aS[t]=i}function sS(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function kj(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Fj(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function $j(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}sr("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);sr("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&kj(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(Fj(t," argument"))i=`The ${t} ${n} ${sS(e,"type")}`;else{let o=$j(t,".")?"property":"argument";i=`The "${t}" ${o} ${n} ${sS(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);sr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");sr("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});sr("ERR_STREAM_PREMATURE_CLOSE","Premature close");sr("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});sr("ERR_MULTIPLE_CALLBACK","Callback called multiple times");sr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");sr("ERR_STREAM_WRITE_AFTER_END","write after end");sr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);sr("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);sr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");uS.exports.codes=aS});var Zh=p((yH,cS)=>{"use strict";var Wj=So().codes.ERR_INVALID_OPT_VALUE;function Hj(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Uj(t,e,r,n){var i=Hj(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Wj(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}cS.exports={getHighWaterMark:Uj}});var lS=p((_H,eg)=>{typeof Object.create=="function"?eg.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:eg.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var gn=p((bH,rg)=>{try{if(tg=require("util"),typeof tg.inherits!="function")throw"";rg.exports=tg.inherits}catch{rg.exports=lS()}var tg});var mS=p((vH,pS)=>{"use strict";function fS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fS(Object(r),!0).forEach(function(n){Bj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bj(t,e,r){return e=gS(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gS(n.key),n)}}function Vj(t,e,r){return e&&hS(t.prototype,e),r&&hS(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gS(t){var e=Gj(t,"string");return typeof e=="symbol"?e:String(e)}function Gj(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yj=require("buffer"),bc=Yj.Buffer,Kj=require("util"),ng=Kj.inspect,Xj=ng&&ng.custom||"inspect";function Jj(t,e,r){bc.prototype.copy.call(t,e,r)}pS.exports=(function(){function t(){zj(this,t),this.head=null,this.tail=null,this.length=0}return Vj(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return bc.alloc(0);for(var n=bc.allocUnsafe(r>>>0),i=this.head,o=0;i;)Jj(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,a=r>s.length?s.length:r;if(a===s.length?o+=s:o+=s.slice(0,r),r-=a,r===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=bc.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,a=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,a),r-=a,r===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:Xj,value:function(r,n){return ng(this,dS(dS({},n),{},{depth:0,customInspect:!1}))}}]),t})()});var bS=p((ig,_S)=>{var vc=require("buffer"),pn=vc.Buffer;function yS(t,e){for(var r in t)e[r]=t[r]}pn.from&&pn.alloc&&pn.allocUnsafe&&pn.allocUnsafeSlow?_S.exports=vc:(yS(vc,ig),ig.Buffer=Ro);function Ro(t,e,r){return pn(t,e,r)}yS(pn,Ro);Ro.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return pn(t,e,r)};Ro.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=pn(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ro.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return pn(t)};Ro.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return vc.SlowBuffer(t)}});var qs=p(wS=>{"use strict";var sg=bS().Buffer,vS=sg.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Qj(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Zj(t){var e=Qj(t);if(typeof e!="string"&&(sg.isEncoding===vS||!vS(t)))throw new Error("Unknown encoding: "+t);return e||t}wS.StringDecoder=Ts;function Ts(t){this.encoding=Zj(t);var e;switch(this.encoding){case"utf16le":this.text=oA,this.end=sA,e=4;break;case"utf8":this.fillLast=rA,e=4;break;case"base64":this.text=aA,this.end=uA,e=3;break;default:this.write=cA,this.end=lA;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=sg.allocUnsafe(e)}Ts.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Ts.prototype.end=iA;Ts.prototype.text=nA;Ts.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function og(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function eA(t,e,r){var n=e.length-1;if(n<r)return 0;var i=og(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=og(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=og(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function tA(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function rA(t){var e=this.lastTotal-this.lastNeed,r=tA(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function nA(t,e){var r=eA(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function iA(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function oA(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function sA(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function aA(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function uA(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function cA(t){return t.toString(this.encoding)}function lA(t){return t&&t.length?this.write(t):""}});var DS=p((SH,ES)=>{"use strict";var SS=So().codes.ERR_STREAM_PREMATURE_CLOSE;function fA(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function dA(){}function hA(t){return t.setHeader&&typeof t.abort=="function"}function RS(t,e,r){if(typeof e=="function")return RS(t,null,e);e||(e={}),r=fA(r||dA);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},h=function(y){r.call(t,y)},d=function(){var y;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(y=new SS),r.call(t,y);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(y=new SS),r.call(t,y)},g=function(){t.req.on("finish",a)};return hA(t)?(t.on("complete",a),t.on("abort",d),t.req?g():t.on("request",g)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",h),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",g),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",h),t.removeListener("close",d)}}ES.exports=RS});var OS=p((RH,PS)=>{"use strict";var wc;function $n(t,e,r){return e=gA(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gA(t){var e=pA(t,"string");return typeof e=="symbol"?e:String(e)}function pA(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mA=DS(),Wn=Symbol("lastResolve"),Oi=Symbol("lastReject"),Ms=Symbol("error"),Sc=Symbol("ended"),Ti=Symbol("lastPromise"),ag=Symbol("handlePromise"),qi=Symbol("stream");function Hn(t,e){return{value:t,done:e}}function yA(t){var e=t[Wn];if(e!==null){var r=t[qi].read();r!==null&&(t[Ti]=null,t[Wn]=null,t[Oi]=null,e(Hn(r,!1)))}}function _A(t){process.nextTick(yA,t)}function bA(t,e){return function(r,n){t.then(function(){if(e[Sc]){r(Hn(void 0,!0));return}e[ag](r,n)},n)}}var vA=Object.getPrototypeOf(function(){}),wA=Object.setPrototypeOf((wc={get stream(){return this[qi]},next:function(){var e=this,r=this[Ms];if(r!==null)return Promise.reject(r);if(this[Sc])return Promise.resolve(Hn(void 0,!0));if(this[qi].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[Ms]?a(e[Ms]):s(Hn(void 0,!0))})});var n=this[Ti],i;if(n)i=new Promise(bA(n,this));else{var o=this[qi].read();if(o!==null)return Promise.resolve(Hn(o,!1));i=new Promise(this[ag])}return this[Ti]=i,i}},$n(wc,Symbol.asyncIterator,function(){return this}),$n(wc,"return",function(){var e=this;return new Promise(function(r,n){e[qi].destroy(null,function(i){if(i){n(i);return}r(Hn(void 0,!0))})})}),wc),vA),SA=function(e){var r,n=Object.create(wA,(r={},$n(r,qi,{value:e,writable:!0}),$n(r,Wn,{value:null,writable:!0}),$n(r,Oi,{value:null,writable:!0}),$n(r,Ms,{value:null,writable:!0}),$n(r,Sc,{value:e._readableState.endEmitted,writable:!0}),$n(r,ag,{value:function(o,s){var a=n[qi].read();a?(n[Ti]=null,n[Wn]=null,n[Oi]=null,o(Hn(a,!1))):(n[Wn]=o,n[Oi]=s)},writable:!0}),r));return n[Ti]=null,mA(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Oi];o!==null&&(n[Ti]=null,n[Wn]=null,n[Oi]=null,o(i)),n[Ms]=i;return}var s=n[Wn];s!==null&&(n[Ti]=null,n[Wn]=null,n[Oi]=null,s(Hn(void 0,!0))),n[Sc]=!0}),e.on("readable",_A.bind(null,n)),n};PS.exports=SA});var CS=p((EH,MS)=>{"use strict";function TS(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function RA(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(u){TS(o,n,i,s,a,"next",u)}function a(u){TS(o,n,i,s,a,"throw",u)}s(void 0)})}}function qS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(r),!0).forEach(function(n){DA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DA(t,e,r){return e=PA(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PA(t){var e=OA(t,"string");return typeof e=="symbol"?e:String(e)}function OA(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TA=So().codes.ERR_INVALID_ARG_TYPE;function qA(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new TA("iterable",["Iterable"],e);var i=new t(EA({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,s())};function s(){return a.apply(this,arguments)}function a(){return a=RA(function*(){try{var u=yield n.next(),c=u.value,h=u.done;h?i.push(null):i.push(yield c)?s():o=!1}catch(d){i.destroy(d)}}),a.apply(this,arguments)}return i}MS.exports=qA});var HS=p((PH,WS)=>{"use strict";WS.exports=ve;var Eo;ve.ReadableState=LS;var DH=require("events").EventEmitter,NS=function(e,r){return e.listeners(r).length},js=Xh(),Rc=require("buffer").Buffer,MA=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function CA(t){return Rc.from(t)}function jA(t){return Rc.isBuffer(t)||t instanceof MA}var ug=require("util"),ge;ug&&ug.debuglog?ge=ug.debuglog("stream"):ge=function(){};var AA=mS(),pg=Qh(),NA=Zh(),LA=NA.getHighWaterMark,Ec=So().codes,IA=Ec.ERR_INVALID_ARG_TYPE,xA=Ec.ERR_STREAM_PUSH_AFTER_EOF,kA=Ec.ERR_METHOD_NOT_IMPLEMENTED,FA=Ec.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Do,cg,lg;gn()(ve,js);var Cs=pg.errorOrDestroy,fg=["error","close","destroy","pause","resume"];function $A(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function LS(t,e,r){Eo=Eo||As(),t=t||{},typeof r!="boolean"&&(r=e instanceof Eo),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=LA(this,t,"readableHighWaterMark",r),this.buffer=new AA,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Do||(Do=qs().StringDecoder),this.decoder=new Do(t.encoding),this.encoding=t.encoding)}function ve(t){if(Eo=Eo||As(),!(this instanceof ve))return new ve(t);var e=this instanceof Eo;this._readableState=new LS(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),js.call(this)}Object.defineProperty(ve.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});ve.prototype.destroy=pg.destroy;ve.prototype._undestroy=pg.undestroy;ve.prototype._destroy=function(t,e){e(t)};ve.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Rc.from(t,e),e=""),n=!0),IS(this,t,e,!1,n)};ve.prototype.unshift=function(t){return IS(this,t,null,!0,!1)};function IS(t,e,r,n,i){ge("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,UA(t,o);else{var s;if(i||(s=WA(o,e)),s)Cs(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Rc.prototype&&(e=CA(e)),n)o.endEmitted?Cs(t,new FA):dg(t,o,e,!0);else if(o.ended)Cs(t,new xA);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?dg(t,o,e,!1):gg(t,o)):dg(t,o,e,!1)}else n||(o.reading=!1,gg(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function dg(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Dc(t)),gg(t,e)}function WA(t,e){var r;return!jA(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new IA("chunk",["string","Buffer","Uint8Array"],e)),r}ve.prototype.isPaused=function(){return this._readableState.flowing===!1};ve.prototype.setEncoding=function(t){Do||(Do=qs().StringDecoder);var e=new Do(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var jS=1073741824;function HA(t){return t>=jS?t=jS:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function AS(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=HA(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}ve.prototype.read=function(t){ge("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return ge("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?hg(this):Dc(this),null;if(t=AS(t,e),t===0&&e.ended)return e.length===0&&hg(this),null;var n=e.needReadable;ge("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,ge("length less than watermark",n)),e.ended||e.reading?(n=!1,ge("reading or ended",n)):n&&(ge("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=AS(r,e)));var i;return t>0?i=FS(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&hg(this)),i!==null&&this.emit("data",i),i};function UA(t,e){if(ge("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Dc(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,xS(t)))}}function Dc(t){var e=t._readableState;ge("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(ge("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(xS,t))}function xS(t){var e=t._readableState;ge("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,mg(t)}function gg(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(BA,t,e))}function BA(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(ge("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}ve.prototype._read=function(t){Cs(this,new kA("_read()"))};ve.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,ge("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:E;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(C,O){ge("onunpipe"),C===r&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,h())}function a(){ge("onend"),t.end()}var u=zA(r);t.on("drain",u);var c=!1;function h(){ge("cleanup"),t.removeListener("close",_),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",E),r.removeListener("data",d),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",d);function d(C){ge("ondata");var O=t.write(C);ge("dest.write",O),O===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&$S(n.pipes,t)!==-1)&&!c&&(ge("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function g(C){ge("onerror",C),E(),t.removeListener("error",g),NS(t,"error")===0&&Cs(t,C)}$A(t,"error",g);function _(){t.removeListener("finish",y),E()}t.once("close",_);function y(){ge("onfinish"),t.removeListener("close",_),E()}t.once("finish",y);function E(){ge("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(ge("pipe resume"),r.resume()),t};function zA(t){return function(){var r=t._readableState;ge("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&NS(t,"data")&&(r.flowing=!0,mg(t))}}ve.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=$S(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};ve.prototype.on=function(t,e){var r=js.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,ge("on readable",n.length,n.reading),n.length?Dc(this):n.reading||process.nextTick(VA,this)),r};ve.prototype.addListener=ve.prototype.on;ve.prototype.removeListener=function(t,e){var r=js.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(kS,this),r};ve.prototype.removeAllListeners=function(t){var e=js.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(kS,this),e};function kS(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function VA(t){ge("readable nexttick read 0"),t.read(0)}ve.prototype.resume=function(){var t=this._readableState;return t.flowing||(ge("resume"),t.flowing=!t.readableListening,GA(this,t)),t.paused=!1,this};function GA(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(YA,t,e))}function YA(t,e){ge("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),mg(t),e.flowing&&!e.reading&&t.read(0)}ve.prototype.pause=function(){return ge("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ge("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function mg(t){var e=t._readableState;for(ge("flow",e.flowing);e.flowing&&t.read()!==null;);}ve.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(ge("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(ge("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(a){return function(){return t[a].apply(t,arguments)}})(i));for(var o=0;o<fg.length;o++)t.on(fg[o],this.emit.bind(this,fg[o]));return this._read=function(s){ge("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(ve.prototype[Symbol.asyncIterator]=function(){return cg===void 0&&(cg=OS()),cg(this)});Object.defineProperty(ve.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(ve.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(ve.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});ve._fromList=FS;Object.defineProperty(ve.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function FS(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function hg(t){var e=t._readableState;ge("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(KA,e,t))}function KA(t,e){if(ge("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(ve.from=function(t,e){return lg===void 0&&(lg=CS()),lg(ve,t,e)});function $S(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var As=p((OH,BS)=>{"use strict";var XA=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};BS.exports=Hr;var US=HS(),_g=bg();gn()(Hr,US);for(yg=XA(_g.prototype),Pc=0;Pc<yg.length;Pc++)Oc=yg[Pc],Hr.prototype[Oc]||(Hr.prototype[Oc]=_g.prototype[Oc]);var yg,Oc,Pc;function Hr(t){if(!(this instanceof Hr))return new Hr(t);US.call(this,t),_g.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",JA)))}Object.defineProperty(Hr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Hr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Hr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function JA(){this._writableState.ended||process.nextTick(QA,this)}function QA(t){t.end()}Object.defineProperty(Hr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var bg=p((TH,XS)=>{"use strict";XS.exports=Ve;function VS(t){var e=this;this.next=null,this.entry=null,this.finish=function(){DN(e,t)}}var Po;Ve.WritableState=Ls;var ZA={deprecate:Kh()},GS=Xh(),qc=require("buffer").Buffer,eN=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function tN(t){return qc.from(t)}function rN(t){return qc.isBuffer(t)||t instanceof eN}var wg=Qh(),nN=Zh(),iN=nN.getHighWaterMark,Un=So().codes,oN=Un.ERR_INVALID_ARG_TYPE,sN=Un.ERR_METHOD_NOT_IMPLEMENTED,aN=Un.ERR_MULTIPLE_CALLBACK,uN=Un.ERR_STREAM_CANNOT_PIPE,cN=Un.ERR_STREAM_DESTROYED,lN=Un.ERR_STREAM_NULL_VALUES,fN=Un.ERR_STREAM_WRITE_AFTER_END,dN=Un.ERR_UNKNOWN_ENCODING,Oo=wg.errorOrDestroy;gn()(Ve,GS);function hN(){}function Ls(t,e,r){Po=Po||As(),t=t||{},typeof r!="boolean"&&(r=e instanceof Po),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=iN(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){vN(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new VS(this)}Ls.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Ls.prototype,"buffer",{get:ZA.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Tc;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Tc=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ve,Symbol.hasInstance,{value:function(e){return Tc.call(this,e)?!0:this!==Ve?!1:e&&e._writableState instanceof Ls}})):Tc=function(e){return e instanceof this};function Ve(t){Po=Po||As();var e=this instanceof Po;if(!e&&!Tc.call(Ve,this))return new Ve(t);this._writableState=new Ls(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),GS.call(this)}Ve.prototype.pipe=function(){Oo(this,new uN)};function gN(t,e){var r=new fN;Oo(t,r),process.nextTick(e,r)}function pN(t,e,r,n){var i;return r===null?i=new lN:typeof r!="string"&&!e.objectMode&&(i=new oN("chunk",["string","Buffer"],r)),i?(Oo(t,i),process.nextTick(n,i),!1):!0}Ve.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&rN(t);return o&&!qc.isBuffer(t)&&(t=tN(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=hN),n.ending?gN(this,r):(o||pN(this,n,t,r))&&(n.pendingcb++,i=yN(this,n,o,t,e,r)),i};Ve.prototype.cork=function(){this._writableState.corked++};Ve.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&YS(this,t))};Ve.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new dN(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ve.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function mN(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=qc.from(e,r)),e}Object.defineProperty(Ve.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function yN(t,e,r,n,i,o){if(!r){var s=mN(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else vg(t,e,!1,a,n,i,o);return u}function vg(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new cN("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function _N(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Ns,t,e),t._writableState.errorEmitted=!0,Oo(t,n)):(i(n),t._writableState.errorEmitted=!0,Oo(t,n),Ns(t,e))}function bN(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function vN(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new aN;if(bN(r),e)_N(t,r,n,e,i);else{var o=KS(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&YS(t,r),n?process.nextTick(zS,t,r,o,i):zS(t,r,o,i)}}function zS(t,e,r,n){r||wN(t,e),e.pendingcb--,n(),Ns(t,e)}function wN(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function YS(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,vg(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new VS(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,h=r.callback,d=e.objectMode?1:u.length;if(vg(t,e,!1,d,u,c,h),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ve.prototype._write=function(t,e,r){r(new sN("_write()"))};Ve.prototype._writev=null;Ve.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||EN(this,n,r),this};Object.defineProperty(Ve.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function KS(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function SN(t,e){t._final(function(r){e.pendingcb--,r&&Oo(t,r),e.prefinished=!0,t.emit("prefinish"),Ns(t,e)})}function RN(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(SN,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Ns(t,e){var r=KS(e);if(r&&(RN(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function EN(t,e,r){e.ending=!0,Ns(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function DN(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ve.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Ve.prototype.destroy=wg.destroy;Ve.prototype._undestroy=wg.undestroy;Ve.prototype._destroy=function(t,e){e(t)}});var Sg=p((qH,ZS)=>{"use strict";var PN=require("util"),JS=bg(),{LEVEL:QS}=ze(),Is=ZS.exports=function(e={}){JS.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this.format=e.format,this.level=e.level,this.handleExceptions=e.handleExceptions,this.handleRejections=e.handleRejections,this.silent=e.silent,e.log&&(this.log=e.log),e.logv&&(this.logv=e.logv),e.close&&(this.close=e.close),this.once("pipe",r=>{this.levels=r.levels,this.parent=r}),this.once("unpipe",r=>{r===this.parent&&(this.parent=null,this.close&&this.close())})};PN.inherits(Is,JS);Is.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);let i=this.level||this.parent&&this.parent.level;if(!i||this.levels[i]>=this.levels[e[QS]]){if(e&&!this.format)return this.log(e,n);let o,s;try{s=this.format.transform(Object.assign({},e),this.format.options)}catch(a){o=a}if(o||!s){if(n(),o)throw o;return}return this.log(s,n)}return this._writableState.sync=!1,n(null)};Is.prototype._writev=function(e,r){if(this.logv){let n=e.filter(this._accept,this);return n.length?this.logv(n,r):r(null)}for(let n=0;n<e.length;n++){if(!this._accept(e[n]))continue;if(e[n].chunk&&!this.format){this.log(e[n].chunk,e[n].callback);continue}let i,o;try{o=this.format.transform(Object.assign({},e[n].chunk),this.format.options)}catch(s){i=s}if(i||!o){if(e[n].callback(),i)throw r(null),i}else this.log(o,e[n].callback)}return r(null)};Is.prototype._accept=function(e){let r=e.chunk;if(this.silent)return!1;let n=this.level||this.parent&&this.parent.level;return!!((r.exception===!0||!n||this.levels[n]>=this.levels[r[QS]])&&(this.handleExceptions||r.exception!==!0))};Is.prototype._nop=function(){}});var Eg=p((MH,tR)=>{"use strict";var ON=require("util"),{LEVEL:Rg}=ze(),eR=Sg(),xs=tR.exports=function(e={}){if(eR.call(this,e),!e.transport||typeof e.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=e.transport,this.level=this.level||e.transport.level,this.handleExceptions=this.handleExceptions||e.transport.handleExceptions,this._deprecated();function r(n){this.emit("error",n,this.transport)}this.transport.__winstonError||(this.transport.__winstonError=r.bind(this),this.transport.on("error",this.transport.__winstonError))};ON.inherits(xs,eR);xs.prototype._write=function(e,r,n){if(this.silent||e.exception===!0&&!this.handleExceptions)return n(null);(!this.level||this.levels[this.level]>=this.levels[e[Rg]])&&this.transport.log(e[Rg],e.message,e,this._nop),n(null)};xs.prototype._writev=function(e,r){for(let n=0;n<e.length;n++)this._accept(e[n])&&(this.transport.log(e[n].chunk[Rg],e[n].chunk.message,e[n].chunk,this._nop),e[n].callback());return r(null)};xs.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))};xs.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}});var Mi=p((CH,Dg)=>{"use strict";Dg.exports=Sg();Dg.exports.LegacyTransportStream=Eg()});var iR=p((AH,nR)=>{"use strict";var TN=require("os"),{LEVEL:rR,MESSAGE:To}=ze(),qN=Mi();nR.exports=class extends qN{constructor(e={}){super(e),this.name=e.name||"console",this.stderrLevels=this._stringArrayToSet(e.stderrLevels),this.consoleWarnLevels=this._stringArrayToSet(e.consoleWarnLevels),this.eol=typeof e.eol=="string"?e.eol:TN.EOL,this.forceConsole=e.forceConsole||!1,this._consoleLog=console.log.bind(console),this._consoleWarn=console.warn.bind(console),this._consoleError=console.error.bind(console),this.setMaxListeners(30)}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.stderrLevels[e[rR]]){console._stderr&&!this.forceConsole?console._stderr.write(`${e[To]}${this.eol}`):this._consoleError(e[To]),r&&r();return}else if(this.consoleWarnLevels[e[rR]]){console._stderr&&!this.forceConsole?console._stderr.write(`${e[To]}${this.eol}`):this._consoleWarn(e[To]),r&&r();return}console._stdout&&!this.forceConsole?console._stdout.write(`${e[To]}${this.eol}`):this._consoleLog(e[To]),r&&r()}_stringArrayToSet(e,r){if(!e)return{};if(r=r||"Cannot make set from type other than Array of string elements",!Array.isArray(e))throw new Error(r);return e.reduce((n,i)=>{if(typeof i!="string")throw new Error(r);return n[i]=!0,n},{})}}});var Cc=p((Mc,oR)=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.default=MN;function MN(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}oR.exports=Mc.default});var aR=p((jc,sR)=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.default=function(t){return function(...e){var r=e.pop();return t.call(this,e,r)}};sR.exports=jc.default});var lR=p(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.fallback=uR;Bn.wrap=cR;var CN=Bn.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,jN=Bn.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,AN=Bn.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function uR(t){setTimeout(t,0)}function cR(t){return(e,...r)=>t(()=>e(...r))}var ks;CN?ks=queueMicrotask:jN?ks=setImmediate:AN?ks=process.nextTick:ks=uR;Bn.default=cR(ks)});var pR=p((Ac,gR)=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.default=FN;var NN=aR(),LN=hR(NN),IN=lR(),xN=hR(IN),kN=Ci();function hR(t){return t&&t.__esModule?t:{default:t}}function FN(t){return(0,kN.isAsync)(t)?function(...e){let r=e.pop(),n=t.apply(this,e);return fR(n,r)}:(0,LN.default)(function(e,r){var n;try{n=t.apply(this,e)}catch(i){return r(i)}if(n&&typeof n.then=="function")return fR(n,r);r(null,n)})}function fR(t,e){return t.then(r=>{dR(e,null,r)},r=>{dR(e,r&&(r instanceof Error||r.message)?r:new Error(r))})}function dR(t,e,r){try{t(e,r)}catch(n){(0,xN.default)(i=>{throw i},n)}}gR.exports=Ac.default});var Ci=p(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.isAsyncIterable=mn.isAsyncGenerator=mn.isAsync=void 0;var $N=pR(),WN=HN($N);function HN(t){return t&&t.__esModule?t:{default:t}}function mR(t){return t[Symbol.toStringTag]==="AsyncFunction"}function UN(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function BN(t){return typeof t[Symbol.asyncIterator]=="function"}function zN(t){if(typeof t!="function")throw new Error("expected a function");return mR(t)?(0,WN.default)(t):t}mn.default=zN;mn.isAsync=mR;mn.isAsyncGenerator=UN;mn.isAsyncIterable=BN});var qo=p((Nc,yR)=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.default=VN;function VN(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");function r(...n){return typeof n[e-1]=="function"?t.apply(this,n):new Promise((i,o)=>{n[e-1]=(s,...a)=>{if(s)return o(s);i(a.length>1?a:a[0])},t.apply(this,n)})}return r}yR.exports=Nc.default});var bR=p((Lc,_R)=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});var GN=Cc(),YN=Pg(GN),KN=Ci(),XN=Pg(KN),JN=qo(),QN=Pg(JN);function Pg(t){return t&&t.__esModule?t:{default:t}}Lc.default=(0,QN.default)((t,e,r)=>{var n=(0,YN.default)(e)?[]:{};t(e,(i,o,s)=>{(0,XN.default)(i)((a,...u)=>{u.length<2&&([u]=u),n[o]=u,s(a)})},i=>r(i,n))},3);_R.exports=Lc.default});var Og=p((Ic,vR)=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.default=ZN;function ZN(t){function e(...r){if(t!==null){var n=t;t=null,n.apply(this,r)}}return Object.assign(e,t),e}vR.exports=Ic.default});var SR=p((xc,wR)=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.default=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()};wR.exports=xc.default});var DR=p((kc,ER)=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.default=aL;var eL=Cc(),tL=RR(eL),rL=SR(),nL=RR(rL);function RR(t){return t&&t.__esModule?t:{default:t}}function iL(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}function oL(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function sL(t){var e=t?Object.keys(t):[],r=-1,n=e.length;return function i(){var o=e[++r];return o==="__proto__"?i():r<n?{value:t[o],key:o}:null}}function aL(t){if((0,tL.default)(t))return iL(t);var e=(0,nL.default)(t);return e?oL(e):sL(t)}ER.exports=kc.default});var Tg=p((Fc,PR)=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.default=uL;function uL(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}PR.exports=Fc.default});var Wc=p(($c,OR)=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});var cL={};$c.default=cL;OR.exports=$c.default});var qR=p((Hc,TR)=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.default=hL;var lL=Wc(),fL=dL(lL);function dL(t){return t&&t.__esModule?t:{default:t}}function hL(t,e,r,n){let i=!1,o=!1,s=!1,a=0,u=0;function c(){a>=e||s||i||(s=!0,t.next().then(({value:g,done:_})=>{if(!(o||i)){if(s=!1,_){i=!0,a<=0&&n(null);return}a++,r(g,u,h),u++,c()}}).catch(d))}function h(g,_){if(a-=1,!o){if(g)return d(g);if(g===!1){i=!0,o=!0;return}if(_===fL.default||i&&a<=0)return i=!0,n(null);c()}}function d(g){o||(s=!1,i=!0,n(g))}c()}TR.exports=Hc.default});var AR=p((Uc,jR)=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});var gL=Og(),pL=Fs(gL),mL=DR(),yL=Fs(mL),_L=Tg(),bL=Fs(_L),MR=Ci(),vL=qR(),CR=Fs(vL),wL=Wc(),SL=Fs(wL);function Fs(t){return t&&t.__esModule?t:{default:t}}Uc.default=t=>(e,r,n)=>{if(n=(0,pL.default)(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if((0,MR.isAsyncGenerator)(e))return(0,CR.default)(e,t,r,n);if((0,MR.isAsyncIterable)(e))return(0,CR.default)(e[Symbol.asyncIterator](),t,r,n);var i=(0,yL.default)(e),o=!1,s=!1,a=0,u=!1;function c(d,g){if(!s)if(a-=1,d)o=!0,n(d);else if(d===!1)o=!0,s=!0;else{if(g===SL.default||o&&a<=0)return o=!0,n(null);u||h()}}function h(){for(u=!0;a<t&&!o;){var d=i();if(d===null){o=!0,a<=0&&n(null);return}a+=1,r(d.value,d.key,(0,bL.default)(c))}u=!1}h()};jR.exports=Uc.default});var Mg=p((Bc,NR)=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});var RL=AR(),EL=qg(RL),DL=Ci(),PL=qg(DL),OL=qo(),TL=qg(OL);function qg(t){return t&&t.__esModule?t:{default:t}}function qL(t,e,r,n){return(0,EL.default)(e)(t,(0,PL.default)(r),n)}Bc.default=(0,TL.default)(qL,4);NR.exports=Bc.default});var xR=p((zc,IR)=>{"use strict";Object.defineProperty(zc,"__esModule",{value:!0});var ML=Mg(),CL=LR(ML),jL=qo(),AL=LR(jL);function LR(t){return t&&t.__esModule?t:{default:t}}function NL(t,e,r){return(0,CL.default)(t,1,e,r)}zc.default=(0,AL.default)(NL,3);IR.exports=zc.default});var $R=p((Vc,FR)=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.default=FL;var LL=bR(),IL=kR(LL),xL=xR(),kL=kR(xL);function kR(t){return t&&t.__esModule?t:{default:t}}function FL(t,e){return(0,IL.default)(kL.default,t,e)}FR.exports=Vc.default});var Cg=p((IH,WR)=>{WR.exports=require("stream")});var zR=p((xH,BR)=>{"use strict";function HR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $L(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(r),!0).forEach(function(n){WL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WL(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UR(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function UL(t,e,r){return e&&UR(t.prototype,e),r&&UR(t,r),t}var BL=require("buffer"),Gc=BL.Buffer,zL=require("util"),jg=zL.inspect,VL=jg&&jg.custom||"inspect";function GL(t,e,r){Gc.prototype.copy.call(t,e,r)}BR.exports=(function(){function t(){HL(this,t),this.head=null,this.tail=null,this.length=0}return UL(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Gc.alloc(0);for(var n=Gc.allocUnsafe(r>>>0),i=this.head,o=0;i;)GL(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,a=r>s.length?s.length:r;if(a===s.length?o+=s:o+=s.slice(0,r),r-=a,r===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Gc.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,a=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,a),r-=a,r===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:VL,value:function(r,n){return jg(this,$L({},n,{depth:0,customInspect:!1}))}}]),t})()});var Ng=p((kH,GR)=>{"use strict";function YL(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Ag,this,t)):process.nextTick(Ag,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(Yc,r):(r._writableState.errorEmitted=!0,process.nextTick(VR,r,o)):process.nextTick(VR,r,o):e?(process.nextTick(Yc,r),e(o)):process.nextTick(Yc,r)}),this)}function VR(t,e){Ag(t,e),Yc(t)}function Yc(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function KL(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Ag(t,e){t.emit("error",e)}function XL(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}GR.exports={destroy:YL,undestroy:KL,errorOrDestroy:XL}});var zn=p((FH,XR)=>{"use strict";var KR={};function ar(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}class i extends r{constructor(s,a,u){super(n(s,a,u))}}i.prototype.name=r.name,i.prototype.code=t,KR[t]=i}function YR(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function JL(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function QL(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function ZL(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ar("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ar("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&JL(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(QL(t," argument"))i=`The ${t} ${n} ${YR(e,"type")}`;else{let o=ZL(t,".")?"property":"argument";i=`The "${t}" ${o} ${n} ${YR(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);ar("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ar("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ar("ERR_STREAM_PREMATURE_CLOSE","Premature close");ar("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ar("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ar("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ar("ERR_STREAM_WRITE_AFTER_END","write after end");ar("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ar("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ar("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");XR.exports.codes=KR});var Lg=p(($H,JR)=>{"use strict";var eI=zn().codes.ERR_INVALID_OPT_VALUE;function tI(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function rI(t,e,r,n){var i=tI(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new eI(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}JR.exports={getHighWaterMark:rI}});var kg=p((WH,n1)=>{"use strict";n1.exports=Ge;function ZR(t){var e=this;this.next=null,this.entry=null,this.finish=function(){qI(e,t)}}var Mo;Ge.WritableState=Ws;var nI={deprecate:Kh()},e1=Cg(),Xc=require("buffer").Buffer,iI=global.Uint8Array||function(){};function oI(t){return Xc.from(t)}function sI(t){return Xc.isBuffer(t)||t instanceof iI}var xg=Ng(),aI=Lg(),uI=aI.getHighWaterMark,Vn=zn().codes,cI=Vn.ERR_INVALID_ARG_TYPE,lI=Vn.ERR_METHOD_NOT_IMPLEMENTED,fI=Vn.ERR_MULTIPLE_CALLBACK,dI=Vn.ERR_STREAM_CANNOT_PIPE,hI=Vn.ERR_STREAM_DESTROYED,gI=Vn.ERR_STREAM_NULL_VALUES,pI=Vn.ERR_STREAM_WRITE_AFTER_END,mI=Vn.ERR_UNKNOWN_ENCODING,Co=xg.errorOrDestroy;gn()(Ge,e1);function yI(){}function Ws(t,e,r){Mo=Mo||ji(),t=t||{},typeof r!="boolean"&&(r=e instanceof Mo),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=uI(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){EI(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ZR(this)}Ws.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Ws.prototype,"buffer",{get:nI.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Kc;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Kc=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ge,Symbol.hasInstance,{value:function(e){return Kc.call(this,e)?!0:this!==Ge?!1:e&&e._writableState instanceof Ws}})):Kc=function(e){return e instanceof this};function Ge(t){Mo=Mo||ji();var e=this instanceof Mo;if(!e&&!Kc.call(Ge,this))return new Ge(t);this._writableState=new Ws(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),e1.call(this)}Ge.prototype.pipe=function(){Co(this,new dI)};function _I(t,e){var r=new pI;Co(t,r),process.nextTick(e,r)}function bI(t,e,r,n){var i;return r===null?i=new gI:typeof r!="string"&&!e.objectMode&&(i=new cI("chunk",["string","Buffer"],r)),i?(Co(t,i),process.nextTick(n,i),!1):!0}Ge.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&sI(t);return o&&!Xc.isBuffer(t)&&(t=oI(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=yI),n.ending?_I(this,r):(o||bI(this,n,t,r))&&(n.pendingcb++,i=wI(this,n,o,t,e,r)),i};Ge.prototype.cork=function(){this._writableState.corked++};Ge.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&t1(this,t))};Ge.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new mI(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Ge.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function vI(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Xc.from(e,r)),e}Object.defineProperty(Ge.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function wI(t,e,r,n,i,o){if(!r){var s=vI(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Ig(t,e,!1,a,n,i,o);return u}function Ig(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new hI("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function SI(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick($s,t,e),t._writableState.errorEmitted=!0,Co(t,n)):(i(n),t._writableState.errorEmitted=!0,Co(t,n),$s(t,e))}function RI(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function EI(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new fI;if(RI(r),e)SI(t,r,n,e,i);else{var o=r1(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&t1(t,r),n?process.nextTick(QR,t,r,o,i):QR(t,r,o,i)}}function QR(t,e,r,n){r||DI(t,e),e.pendingcb--,n(),$s(t,e)}function DI(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function t1(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,Ig(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new ZR(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,h=r.callback,d=e.objectMode?1:u.length;if(Ig(t,e,!1,d,u,c,h),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Ge.prototype._write=function(t,e,r){r(new lI("_write()"))};Ge.prototype._writev=null;Ge.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||TI(this,n,r),this};Object.defineProperty(Ge.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r1(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function PI(t,e){t._final(function(r){e.pendingcb--,r&&Co(t,r),e.prefinished=!0,t.emit("prefinish"),$s(t,e)})}function OI(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(PI,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function $s(t,e){var r=r1(e);if(r&&(OI(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function TI(t,e,r){e.ending=!0,$s(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function qI(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Ge.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Ge.prototype.destroy=xg.destroy;Ge.prototype._undestroy=xg.undestroy;Ge.prototype._destroy=function(t,e){e(t)}});var ji=p((HH,o1)=>{"use strict";var MI=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};o1.exports=Ur;var i1=Wg(),$g=kg();gn()(Ur,i1);for(Fg=MI($g.prototype),Jc=0;Jc<Fg.length;Jc++)Qc=Fg[Jc],Ur.prototype[Qc]||(Ur.prototype[Qc]=$g.prototype[Qc]);var Fg,Qc,Jc;function Ur(t){if(!(this instanceof Ur))return new Ur(t);i1.call(this,t),$g.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",CI)))}Object.defineProperty(Ur.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ur.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ur.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function CI(){this._writableState.ended||process.nextTick(jI,this)}function jI(t){t.end()}Object.defineProperty(Ur.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var Zc=p((UH,u1)=>{"use strict";var s1=zn().codes.ERR_STREAM_PREMATURE_CLOSE;function AI(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function NI(){}function LI(t){return t.setHeader&&typeof t.abort=="function"}function a1(t,e,r){if(typeof e=="function")return a1(t,null,e);e||(e={}),r=AI(r||NI);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},h=function(y){r.call(t,y)},d=function(){var y;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(y=new s1),r.call(t,y);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(y=new s1),r.call(t,y)},g=function(){t.req.on("finish",a)};return LI(t)?(t.on("complete",a),t.on("abort",d),t.req?g():t.on("request",g)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",h),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",g),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",h),t.removeListener("close",d)}}u1.exports=a1});var l1=p((BH,c1)=>{"use strict";var el;function Gn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var II=Zc(),Yn=Symbol("lastResolve"),Ai=Symbol("lastReject"),Hs=Symbol("error"),tl=Symbol("ended"),Ni=Symbol("lastPromise"),Hg=Symbol("handlePromise"),Li=Symbol("stream");function Kn(t,e){return{value:t,done:e}}function xI(t){var e=t[Yn];if(e!==null){var r=t[Li].read();r!==null&&(t[Ni]=null,t[Yn]=null,t[Ai]=null,e(Kn(r,!1)))}}function kI(t){process.nextTick(xI,t)}function FI(t,e){return function(r,n){t.then(function(){if(e[tl]){r(Kn(void 0,!0));return}e[Hg](r,n)},n)}}var $I=Object.getPrototypeOf(function(){}),WI=Object.setPrototypeOf((el={get stream(){return this[Li]},next:function(){var e=this,r=this[Hs];if(r!==null)return Promise.reject(r);if(this[tl])return Promise.resolve(Kn(void 0,!0));if(this[Li].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[Hs]?a(e[Hs]):s(Kn(void 0,!0))})});var n=this[Ni],i;if(n)i=new Promise(FI(n,this));else{var o=this[Li].read();if(o!==null)return Promise.resolve(Kn(o,!1));i=new Promise(this[Hg])}return this[Ni]=i,i}},Gn(el,Symbol.asyncIterator,function(){return this}),Gn(el,"return",function(){var e=this;return new Promise(function(r,n){e[Li].destroy(null,function(i){if(i){n(i);return}r(Kn(void 0,!0))})})}),el),$I),HI=function(e){var r,n=Object.create(WI,(r={},Gn(r,Li,{value:e,writable:!0}),Gn(r,Yn,{value:null,writable:!0}),Gn(r,Ai,{value:null,writable:!0}),Gn(r,Hs,{value:null,writable:!0}),Gn(r,tl,{value:e._readableState.endEmitted,writable:!0}),Gn(r,Hg,{value:function(o,s){var a=n[Li].read();a?(n[Ni]=null,n[Yn]=null,n[Ai]=null,o(Kn(a,!1))):(n[Yn]=o,n[Ai]=s)},writable:!0}),r));return n[Ni]=null,II(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Ai];o!==null&&(n[Ni]=null,n[Yn]=null,n[Ai]=null,o(i)),n[Hs]=i;return}var s=n[Yn];s!==null&&(n[Ni]=null,n[Yn]=null,n[Ai]=null,s(Kn(void 0,!0))),n[tl]=!0}),e.on("readable",kI.bind(null,n)),n};c1.exports=HI});var g1=p((zH,h1)=>{"use strict";function f1(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function UI(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(u){f1(o,n,i,s,a,"next",u)}function a(u){f1(o,n,i,s,a,"throw",u)}s(void 0)})}}function d1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d1(Object(r),!0).forEach(function(n){zI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zI(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var VI=zn().codes.ERR_INVALID_ARG_TYPE;function GI(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new VI("iterable",["Iterable"],e);var i=new t(BI({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,s())};function s(){return a.apply(this,arguments)}function a(){return a=UI(function*(){try{var u=yield n.next(),c=u.value,h=u.done;h?i.push(null):i.push(yield c)?s():o=!1}catch(d){i.destroy(d)}}),a.apply(this,arguments)}return i}h1.exports=GI});var Wg=p((GH,E1)=>{"use strict";E1.exports=we;var jo;we.ReadableState=_1;var VH=require("events").EventEmitter,y1=function(e,r){return e.listeners(r).length},Bs=Cg(),rl=require("buffer").Buffer,YI=global.Uint8Array||function(){};function KI(t){return rl.from(t)}function XI(t){return rl.isBuffer(t)||t instanceof YI}var Ug=require("util"),pe;Ug&&Ug.debuglog?pe=Ug.debuglog("stream"):pe=function(){};var JI=zR(),Xg=Ng(),QI=Lg(),ZI=QI.getHighWaterMark,nl=zn().codes,ex=nl.ERR_INVALID_ARG_TYPE,tx=nl.ERR_STREAM_PUSH_AFTER_EOF,rx=nl.ERR_METHOD_NOT_IMPLEMENTED,nx=nl.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Ao,Bg,zg;gn()(we,Bs);var Us=Xg.errorOrDestroy,Vg=["error","close","destroy","pause","resume"];function ix(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function _1(t,e,r){jo=jo||ji(),t=t||{},typeof r!="boolean"&&(r=e instanceof jo),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=ZI(this,t,"readableHighWaterMark",r),this.buffer=new JI,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Ao||(Ao=qs().StringDecoder),this.decoder=new Ao(t.encoding),this.encoding=t.encoding)}function we(t){if(jo=jo||ji(),!(this instanceof we))return new we(t);var e=this instanceof jo;this._readableState=new _1(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Bs.call(this)}Object.defineProperty(we.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});we.prototype.destroy=Xg.destroy;we.prototype._undestroy=Xg.undestroy;we.prototype._destroy=function(t,e){e(t)};we.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=rl.from(t,e),e=""),n=!0),b1(this,t,e,!1,n)};we.prototype.unshift=function(t){return b1(this,t,null,!0,!1)};function b1(t,e,r,n,i){pe("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,ax(t,o);else{var s;if(i||(s=ox(o,e)),s)Us(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==rl.prototype&&(e=KI(e)),n)o.endEmitted?Us(t,new nx):Gg(t,o,e,!0);else if(o.ended)Us(t,new tx);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?Gg(t,o,e,!1):Kg(t,o)):Gg(t,o,e,!1)}else n||(o.reading=!1,Kg(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function Gg(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&il(t)),Kg(t,e)}function ox(t,e){var r;return!XI(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new ex("chunk",["string","Buffer","Uint8Array"],e)),r}we.prototype.isPaused=function(){return this._readableState.flowing===!1};we.prototype.setEncoding=function(t){Ao||(Ao=qs().StringDecoder);var e=new Ao(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var p1=1073741824;function sx(t){return t>=p1?t=p1:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function m1(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=sx(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}we.prototype.read=function(t){pe("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return pe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Yg(this):il(this),null;if(t=m1(t,e),t===0&&e.ended)return e.length===0&&Yg(this),null;var n=e.needReadable;pe("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,pe("length less than watermark",n)),e.ended||e.reading?(n=!1,pe("reading or ended",n)):n&&(pe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=m1(r,e)));var i;return t>0?i=S1(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Yg(this)),i!==null&&this.emit("data",i),i};function ax(t,e){if(pe("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?il(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,v1(t)))}}function il(t){var e=t._readableState;pe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(pe("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(v1,t))}function v1(t){var e=t._readableState;pe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Jg(t)}function Kg(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(ux,t,e))}function ux(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(pe("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}we.prototype._read=function(t){Us(this,new rx("_read()"))};we.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,pe("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:E;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(C,O){pe("onunpipe"),C===r&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,h())}function a(){pe("onend"),t.end()}var u=cx(r);t.on("drain",u);var c=!1;function h(){pe("cleanup"),t.removeListener("close",_),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",E),r.removeListener("data",d),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",d);function d(C){pe("ondata");var O=t.write(C);pe("dest.write",O),O===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&R1(n.pipes,t)!==-1)&&!c&&(pe("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function g(C){pe("onerror",C),E(),t.removeListener("error",g),y1(t,"error")===0&&Us(t,C)}ix(t,"error",g);function _(){t.removeListener("finish",y),E()}t.once("close",_);function y(){pe("onfinish"),t.removeListener("close",_),E()}t.once("finish",y);function E(){pe("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(pe("pipe resume"),r.resume()),t};function cx(t){return function(){var r=t._readableState;pe("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&y1(t,"data")&&(r.flowing=!0,Jg(t))}}we.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=R1(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};we.prototype.on=function(t,e){var r=Bs.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,pe("on readable",n.length,n.reading),n.length?il(this):n.reading||process.nextTick(lx,this)),r};we.prototype.addListener=we.prototype.on;we.prototype.removeListener=function(t,e){var r=Bs.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(w1,this),r};we.prototype.removeAllListeners=function(t){var e=Bs.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(w1,this),e};function w1(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function lx(t){pe("readable nexttick read 0"),t.read(0)}we.prototype.resume=function(){var t=this._readableState;return t.flowing||(pe("resume"),t.flowing=!t.readableListening,fx(this,t)),t.paused=!1,this};function fx(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(dx,t,e))}function dx(t,e){pe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Jg(t),e.flowing&&!e.reading&&t.read(0)}we.prototype.pause=function(){return pe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(pe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Jg(t){var e=t._readableState;for(pe("flow",e.flowing);e.flowing&&t.read()!==null;);}we.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(pe("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(pe("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=(function(a){return function(){return t[a].apply(t,arguments)}})(i));for(var o=0;o<Vg.length;o++)t.on(Vg[o],this.emit.bind(this,Vg[o]));return this._read=function(s){pe("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(we.prototype[Symbol.asyncIterator]=function(){return Bg===void 0&&(Bg=l1()),Bg(this)});Object.defineProperty(we.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(we.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(we.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});we._fromList=S1;Object.defineProperty(we.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function S1(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Yg(t){var e=t._readableState;pe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(hx,e,t))}function hx(t,e){if(pe("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(we.from=function(t,e){return zg===void 0&&(zg=g1()),zg(we,t,e)});function R1(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var Qg=p((YH,P1)=>{"use strict";P1.exports=yn;var ol=zn().codes,gx=ol.ERR_METHOD_NOT_IMPLEMENTED,px=ol.ERR_MULTIPLE_CALLBACK,mx=ol.ERR_TRANSFORM_ALREADY_TRANSFORMING,yx=ol.ERR_TRANSFORM_WITH_LENGTH_0,sl=ji();gn()(yn,sl);function _x(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new px);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function yn(t){if(!(this instanceof yn))return new yn(t);sl.call(this,t),this._transformState={afterTransform:_x.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",bx)}function bx(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){D1(t,e,r)}):D1(this,null,null)}yn.prototype.push=function(t,e){return this._transformState.needTransform=!1,sl.prototype.push.call(this,t,e)};yn.prototype._transform=function(t,e,r){r(new gx("_transform()"))};yn.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};yn.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};yn.prototype._destroy=function(t,e){sl.prototype._destroy.call(this,t,function(r){e(r)})};function D1(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new yx;if(t._transformState.transforming)throw new mx;return t.push(null)}});var q1=p((KH,T1)=>{"use strict";T1.exports=zs;var O1=Qg();gn()(zs,O1);function zs(t){if(!(this instanceof zs))return new zs(t);O1.call(this,t)}zs.prototype._transform=function(t,e,r){r(null,t)}});var N1=p((XH,A1)=>{"use strict";var Zg;function vx(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var j1=zn().codes,wx=j1.ERR_MISSING_ARGS,Sx=j1.ERR_STREAM_DESTROYED;function M1(t){if(t)throw t}function Rx(t){return t.setHeader&&typeof t.abort=="function"}function Ex(t,e,r,n){n=vx(n);var i=!1;t.on("close",function(){i=!0}),Zg===void 0&&(Zg=Zc()),Zg(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,Rx(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new Sx("pipe"))}}}function C1(t){t()}function Dx(t,e){return t.pipe(e)}function Px(t){return!t.length||typeof t[t.length-1]!="function"?M1:t.pop()}function Ox(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Px(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new wx("streams");var i,o=e.map(function(s,a){var u=a<e.length-1,c=a>0;return Ex(s,u,c,function(h){i||(i=h),h&&o.forEach(C1),!u&&(o.forEach(C1),n(i))})});return e.reduce(Dx)}A1.exports=Ox});var Ii=p((ur,Gs)=>{var Vs=require("stream");process.env.READABLE_STREAM==="disable"&&Vs?(Gs.exports=Vs.Readable,Object.assign(Gs.exports,Vs),Gs.exports.Stream=Vs):(ur=Gs.exports=Wg(),ur.Stream=Vs||ur,ur.Readable=ur,ur.Writable=kg(),ur.Duplex=ji(),ur.Transform=Qg(),ur.PassThrough=q1(),ur.finished=Zc(),ur.pipeline=N1())});var sp=p((JH,I1)=>{var No=[],Ys=[],ep=function(){};function rp(t){return~No.indexOf(t)?!1:(No.push(t),!0)}function np(t){ep=t}function Tx(t){for(var e=[],r=0;r<No.length;r++){if(No[r].async){e.push(No[r]);continue}if(No[r](t))return!0}return e.length?new Promise(function(i){Promise.all(e.map(function(s){return s(t)})).then(function(s){i(s.some(Boolean))})}):!1}function ip(t){return~Ys.indexOf(t)?!1:(Ys.push(t),!0)}function tp(){ep.apply(ep,arguments)}function L1(t){for(var e=0;e<Ys.length;e++)t=Ys[e].apply(Ys[e],arguments);return t}function op(t,e){var r=Object.prototype.hasOwnProperty;for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t}function qx(t){return t.enabled=!1,t.modify=ip,t.set=np,t.use=rp,op(function(){return!1},t)}function Mx(t){function e(){var r=Array.prototype.slice.call(arguments,0);return tp.call(tp,t,L1(r,t)),!0}return t.enabled=!0,t.modify=ip,t.set=np,t.use=rp,op(e,t)}I1.exports=function(e){return e.introduce=op,e.enabled=Tx,e.process=L1,e.modify=ip,e.write=tp,e.nope=qx,e.yep=Mx,e.set=np,e.use=rp,e}});var k1=p((QH,x1)=>{var Cx=sp(),jx=Cx(function t(e,r){return r=r||{},r.namespace=e,r.prod=!0,r.dev=!1,r.force||t.force?t.yep(r):t.nope(r)});x1.exports=jx});var B1=p((ZH,U1)=>{"use strict";var Br={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},$1=Object.create(null);for(let t in Br)Object.hasOwn(Br,t)&&($1[Br[t]]=t);var rt={to:{},get:{}};rt.get=function(t){let e=t.slice(0,3).toLowerCase(),r,n;switch(e){case"hsl":{r=rt.get.hsl(t),n="hsl";break}case"hwb":{r=rt.get.hwb(t),n="hwb";break}default:{r=rt.get.rgb(t),n="rgb";break}}return r?{model:n,value:r}:null};rt.get.rgb=function(t){if(!t)return null;let e=/^#([a-f\d]{3,4})$/i,r=/^#([a-f\d]{6})([a-f\d]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,u,c;if(a=t.match(r)){for(c=a[2],a=a[1],u=0;u<3;u++){let h=u*2;s[u]=Number.parseInt(a.slice(h,h+2),16)}c&&(s[3]=Number.parseInt(c,16)/255)}else if(a=t.match(e)){for(a=a[1],c=a[3],u=0;u<3;u++)s[u]=Number.parseInt(a[u]+a[u],16);c&&(s[3]=Number.parseInt(c+c,16)/255)}else if(a=t.match(n)){for(u=0;u<3;u++)s[u]=Number.parseInt(a[u+1],10);a[4]&&(s[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else if(a=t.match(i)){for(u=0;u<3;u++)s[u]=Math.round(Number.parseFloat(a[u+1])*2.55);a[4]&&(s[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else return(a=t.match(o))?a[1]==="transparent"?[0,0,0,0]:Object.hasOwn(Br,a[1])?(s=Br[a[1]],s[3]=1,s):null:null;for(u=0;u<3;u++)s[u]=Xn(s[u],0,255);return s[3]=Xn(s[3],0,1),s};rt.get.hsl=function(t){if(!t)return null;let e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){let n=Number.parseFloat(r[4]),i=(Number.parseFloat(r[1])%360+360)%360,o=Xn(Number.parseFloat(r[2]),0,100),s=Xn(Number.parseFloat(r[3]),0,100),a=Xn(Number.isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};rt.get.hwb=function(t){if(!t)return null;let e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){let n=Number.parseFloat(r[4]),i=(Number.parseFloat(r[1])%360+360)%360,o=Xn(Number.parseFloat(r[2]),0,100),s=Xn(Number.parseFloat(r[3]),0,100),a=Xn(Number.isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};rt.to.hex=function(...t){return"#"+al(t[0])+al(t[1])+al(t[2])+(t[3]<1?al(Math.round(t[3]*255)):"")};rt.to.rgb=function(...t){return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};rt.to.rgb.percent=function(...t){let e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};rt.to.hsl=function(...t){return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};rt.to.hwb=function(...t){let e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};rt.to.keyword=function(...t){return $1[t.slice(0,3)]};function Xn(t,e,r){return Math.min(Math.max(e,t),r)}function al(t){let e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}var W1={};for(let t of Object.keys(Br))W1[Br[t]]=t;var z={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},_n=(6/29)**3;function Lo(t){let e=t>.0031308?1.055*t**.4166666666666667-.055:t*12.92;return Math.min(Math.max(0,e),1)}function Io(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}for(let t of Object.keys(z)){if(!("channels"in z[t]))throw new Error("missing channels property: "+t);if(!("labels"in z[t]))throw new Error("missing channel labels property: "+t);if(z[t].labels.length!==z[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=z[t];delete z[t].channels,delete z[t].labels,Object.defineProperty(z[t],"channels",{value:e}),Object.defineProperty(z[t],"labels",{value:r})}z.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=o-i,a,u;switch(o){case i:{a=0;break}case e:{a=(r-n)/s;break}case r:{a=2+(n-e)/s;break}case n:{a=4+(e-r)/s;break}}a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+o)/2;return o===i?u=0:c<=.5?u=s/(o+i):u=s/(2-o-i),[a,u*100,c*100]};z.rgb.hsv=function(t){let e,r,n,i,o,s=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(s,a,u),h=c-Math.min(s,a,u),d=function(g){return(c-g)/6/h+1/2};if(h===0)i=0,o=0;else{switch(o=h/c,e=d(s),r=d(a),n=d(u),c){case s:{i=n-r;break}case a:{i=1/3+e-n;break}case u:{i=2/3+r-e;break}}i<0?i+=1:i>1&&(i-=1)}return[i*360,o*100,c*100]};z.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=z.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,o*100,n*100]};z.rgb.oklab=function(t){let e=Io(t[0]/255),r=Io(t[1]/255),n=Io(t[2]/255),i=Math.cbrt(.4122214708*e+.5363325363*r+.0514459929*n),o=Math.cbrt(.2119034982*e+.6806995451*r+.1073969566*n),s=Math.cbrt(.0883024619*e+.2817188376*r+.6299787005*n),a=.2104542553*i+.793617785*o-.0040720468*s,u=1.9779984951*i-2.428592205*o+.4505937099*s,c=.0259040371*i+.7827717662*o-.808675766*s;return[a*100,u*100,c*100]};z.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),o=(1-e-i)/(1-i)||0,s=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function Ax(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}z.rgb.keyword=function(t){let e=W1[t];if(e)return e;let r=Number.POSITIVE_INFINITY,n;for(let i of Object.keys(Br)){let o=Br[i],s=Ax(t,o);s<r&&(r=s,n=i)}return n};z.keyword.rgb=function(t){return Br[t]};z.rgb.xyz=function(t){let e=Io(t[0]/255),r=Io(t[1]/255),n=Io(t[2]/255),i=e*.4124564+r*.3575761+n*.1804375,o=e*.2126729+r*.7151522+n*.072175,s=e*.0193339+r*.119192+n*.9503041;return[i*100,o*100,s*100]};z.rgb.lab=function(t){let e=z.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>_n?r**(1/3):7.787*r+16/116,n=n>_n?n**(1/3):7.787*n+16/116,i=i>_n?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(r-n),a=200*(n-i);return[o,s,a]};z.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,o;if(r===0)return o=n*255,[o,o,o];let s=n<.5?n*(1+r):n+r-n*r,a=2*n-s,u=[0,0,0];for(let c=0;c<3;c++)i=e+1/3*-(c-1),i<0&&i++,i>1&&i--,6*i<1?o=a+(s-a)*6*i:2*i<1?o=s:3*i<2?o=a+(s-a)*(2/3-i)*6:o=a,u[c]=o*255;return u};z.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+r)/2,a=n===0?2*i/(o+i):2*r/(n+r);return[e,a*100,s*100]};z.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),s=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}};z.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),o,s;s=(2-r)*n;let a=(2-r)*i;return o=r*i,o/=a<=1?a:2-a,o=o||0,s/=2,[e,o*100,s*100]};z.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let s=Math.floor(6*e),a=1-n;o=6*e-s,(s&1)!==0&&(o=1-o);let u=r+o*(a-r),c,h,d;switch(s){default:case 6:case 0:{c=a,h=u,d=r;break}case 1:{c=u,h=a,d=r;break}case 2:{c=r,h=a,d=u;break}case 3:{c=r,h=u,d=a;break}case 4:{c=u,h=r,d=a;break}case 5:{c=a,h=r,d=u;break}}return[c*255,h*255,d*255]};z.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,o=1-Math.min(1,e*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,a*255]};z.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,o,s;return i=e*3.2404542+r*-1.5371385+n*-.4985314,o=e*-.969266+r*1.8760108+n*.041556,s=e*.0556434+r*-.2040259+n*1.0572252,i=Lo(i),o=Lo(o),s=Lo(s),[i*255,o*255,s*255]};z.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>_n?e**(1/3):7.787*e+16/116,r=r>_n?r**(1/3):7.787*r+16/116,n=n>_n?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(e-r),s=200*(r-n);return[i,o,s]};z.xyz.oklab=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=Math.cbrt(.8189330101*e+.3618667424*r-.1288597137*n),o=Math.cbrt(.0329845436*e+.9293118715*r+.0361456387*n),s=Math.cbrt(.0482003018*e+.2643662691*r+.633851707*n),a=.2104542553*i+.793617785*o-.0040720468*s,u=1.9779984951*i-2.428592205*o+.4505937099*s,c=.0259040371*i+.7827717662*o-.808675766*s;return[a*100,u*100,c*100]};z.oklab.oklch=function(t){return z.lab.lch(t)};z.oklab.xyz=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=(.999999998*e+.396337792*r+.215803758*n)**3,o=(1.000000008*e-.105561342*r-.063854175*n)**3,s=(1.000000055*e-.089484182*r-1.291485538*n)**3,a=1.227013851*i-.55779998*o+.281256149*s,u=-.040580178*i+1.11225687*o-.071676679*s,c=-.076381285*i-.421481978*o+1.58616322*s;return[a*100,u*100,c*100]};z.oklab.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=(e+.3963377774*r+.2158037573*n)**3,o=(e-.1055613458*r-.0638541728*n)**3,s=(e-.0894841775*r-1.291485548*n)**3,a=Lo(4.0767416621*i-3.3077115913*o+.2309699292*s),u=Lo(-1.2684380046*i+2.6097574011*o-.3413193965*s),c=Lo(-.0041960863*i-.7034186147*o+1.707614701*s);return[a*255,u*255,c*255]};z.oklch.oklab=function(t){return z.lch.lab(t)};z.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,o,s;o=(e+16)/116,i=r/500+o,s=o-n/200;let a=o**3,u=i**3,c=s**3;return o=a>_n?a:(o-16/116)/7.787,i=u>_n?u:(i-16/116)/7.787,s=c>_n?c:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};z.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(r*r+n*n);return[e,s,i]};z.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,o=r*Math.cos(i),s=r*Math.sin(i);return[e,o,s]};z.rgb.ansi16=function(t,e=null){let[r,n,i]=t,o=e===null?z.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(s+=60),s};z.hsv.ansi16=function(t){return z.rgb.ansi16(z.hsv.rgb(t),t[2])};z.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e>>4===r>>4&&r>>4===n>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};z.ansi16.rgb=function(t){t=t[0];let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(Math.trunc(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[n,i,o]};z.ansi256.rgb=function(t){if(t=t[0],t>=232){let o=(t-232)*10+8;return[o,o,o]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};z.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".slice(r.length)+r};z.hex.rgb=function(t){let e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=[...r].map(a=>a+a).join(""));let n=Number.parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};z.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),s=i-o,a,u=s<1?o/(1-s):0;return s<=0?a=0:i===e?a=(r-n)/s%6:i===r?a=2+(n-e)/s:a=4+(e-r)/s,a/=6,a%=1,[a*360,s*100,u*100]};z.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};z.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};z.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=e%1*6,s=o%1,a=1-s,u=0;switch(Math.floor(o)){case 0:{i[0]=1,i[1]=s,i[2]=0;break}case 1:{i[0]=a,i[1]=1,i[2]=0;break}case 2:{i[0]=0,i[1]=1,i[2]=s;break}case 3:{i[0]=0,i[1]=a,i[2]=1;break}case 4:{i[0]=s,i[1]=0,i[2]=1;break}default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};z.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};z.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};z.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};z.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],i*100,o*100]};z.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};z.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};z.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};z.gray.hsl=function(t){return[0,0,t[0]]};z.gray.hsv=z.gray.hsl;z.gray.hwb=function(t){return[0,100,t[0]]};z.gray.cmyk=function(t){return[0,0,0,t[0]]};z.gray.lab=function(t){return[t[0],0,0]};z.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(n.length)+n};z.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};function Nx(){let t={},e=Object.keys(z);for(let{length:r}=e,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function Lx(t){let e=Nx(),r=[t];for(e[t].distance=0;r.length>0;){let n=r.pop(),i=Object.keys(z[n]);for(let{length:o}=i,s=0;s<o;s++){let a=i[s],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}}return e}function Ix(t,e){return function(r){return e(t(r))}}function xx(t,e){let r=[e[t].parent,t],n=z[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=Ix(z[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}function kx(t){let e=Lx(t),r={},n=Object.keys(e);for(let{length:i}=n,o=0;o<i;o++){let s=n[o];e[s].parent!==null&&(r[s]=xx(s,e))}return r}var st={},Fx=Object.keys(z);function $x(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function Wx(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let{length:o}=i,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}for(let t of Fx){st[t]={},Object.defineProperty(st[t],"channels",{value:z[t].channels}),Object.defineProperty(st[t],"labels",{value:z[t].labels});let e=kx(t),r=Object.keys(e);for(let n of r){let i=e[n];st[t][n]=Wx(i),st[t][n].raw=$x(i)}}var H1=["keyword","gray","hex"],ap={};for(let t of Object.keys(st))ap[[...st[t].labels].sort().join("")]=t;var up={};function tt(t,e){if(!(this instanceof tt))return new tt(t,e);if(e&&e in H1&&(e=null),e&&!(e in st))throw new Error("Unknown model: "+e);let r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof tt)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){let i=rt.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=st[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=st[this.model].channels;let i=Array.prototype.slice.call(t,0,n);this.color=cp(i,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);let o=i.sort().join("");if(!(o in ap))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=ap[o];let{labels:s}=st[this.model],a=[];for(r=0;r<s.length;r++)a.push(t[s[r]]);this.color=cp(a)}if(up[this.model])for(n=st[this.model].channels,r=0;r<n;r++){let i=up[this.model][r];i&&(this.color[r]=i(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}tt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in rt.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);let r=e.valpha===1?e.color:[...e.color,this.valpha];return rt.to[e.model](...r)},percentString(t){let e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:[...e.color,this.valpha];return rt.to.rgb.percent(...r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let t={},{channels:e}=st[this.model],{labels:r}=st[this.model];for(let n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){let t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){let t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new tt([...this.color.map(Ux(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new tt([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:Ye("rgb",0,et(255)),green:Ye("rgb",1,et(255)),blue:Ye("rgb",2,et(255)),hue:Ye(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:Ye("hsl",1,et(100)),lightness:Ye("hsl",2,et(100)),saturationv:Ye("hsv",1,et(100)),value:Ye("hsv",2,et(100)),chroma:Ye("hcg",1,et(100)),gray:Ye("hcg",2,et(100)),white:Ye("hwb",1,et(100)),wblack:Ye("hwb",2,et(100)),cyan:Ye("cmyk",0,et(100)),magenta:Ye("cmyk",1,et(100)),yellow:Ye("cmyk",2,et(100)),black:Ye("cmyk",3,et(100)),x:Ye("xyz",0,et(95.047)),y:Ye("xyz",1,et(100)),z:Ye("xyz",2,et(108.833)),l:Ye("lab",0,et(100)),a:Ye("lab",1),b:Ye("lab",2),keyword(t){return t!==void 0?new tt(t):st[this.model].keyword(this.color)},hex(t){return t!==void 0?new tt(t):rt.to.hex(...this.rgb().round().color)},hexa(t){if(t!==void 0)return new tt(t);let e=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),rt.to.hex(...e)+r},rgbNumber(){let t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){let t=this.rgb().color,e=[];for(let[r,n]of t.entries()){let i=n/255;e[r]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){let e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){let e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){let t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){let e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){let e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){let e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){let e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){let e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){let e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){let t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return tt.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){let e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);let r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,o=2*i-1,s=r.alpha()-n.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,u=1-a;return tt.rgb(a*r.red()+u*n.red(),a*r.green()+u*n.green(),a*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(let t of Object.keys(st)){if(H1.includes(t))continue;let{channels:e}=st[t];tt.prototype[t]=function(...r){return this.model===t?new tt(this):r.length>0?new tt(r,t):new tt([...Bx(st[this.model][t].raw(this.color)),this.valpha],t)},tt[t]=function(...r){let n=r[0];return typeof n=="number"&&(n=cp(r,e)),new tt(n,t)}}function Hx(t,e){return Number(t.toFixed(e))}function Ux(t){return function(e){return Hx(e,t)}}function Ye(t,e,r){t=Array.isArray(t)?t:[t];for(let n of t)(up[n]||=[])[e]=r;return t=t[0],function(n){let i;return n!==void 0?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function et(t){return function(e){return Math.max(0,Math.min(t,e))}}function Bx(t){return Array.isArray(t)?t:[t]}function cp(t,e){for(let r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}function zx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vx=function(e){for(var r=0,n=0;r<e.length;n=e.charCodeAt(r++)+((n<<5)-n));var i=Math.floor(Math.abs(Math.sin(n)*1e4%1*16777216)).toString(16);return"#"+Array(6-i.length+1).join("0")+i},F1=zx(Vx);function Gx(t,e){let r=t.split(e||":"),n=F1(r[0]);if(!r.length)return n;for(let i=0,o=r.length-1;i<o;i++)n=tt(n).mix(tt(F1(r[i+1]))).saturate(1).hex();return n}U1.exports=Gx});var V1=p((eU,z1)=>{"use strict";function Er(t,e){if(e)return new Er(t).style(e);if(!(this instanceof Er))return new Er(t);this.text=t}Er.prototype.prefix="\x1B[";Er.prototype.suffix="m";Er.prototype.hex=function(e){e=e[0]==="#"?e.substring(1):e,e.length===3&&(e=e.split(""),e[5]=e[2],e[4]=e[2],e[3]=e[1],e[2]=e[1],e[1]=e[0],e=e.join(""));var r=e.substring(0,2),n=e.substring(2,4),i=e.substring(4,6);return[parseInt(r,16),parseInt(n,16),parseInt(i,16)]};Er.prototype.rgb=function(e,r,n){var i=e/255*5,o=r/255*5,s=n/255*5;return this.ansi(i,o,s)};Er.prototype.ansi=function(e,r,n){var i=Math.round(e),o=Math.round(r),s=Math.round(n);return 16+i*36+o*6+s};Er.prototype.reset=function(){return this.prefix+"39;49"+this.suffix};Er.prototype.style=function(e){return this.prefix+"38;5;"+this.rgb.apply(this,this.hex(e))+this.suffix+this.text+this.reset()};z1.exports=Er});var Y1=p((tU,G1)=>{var Yx=B1(),Kx=V1();G1.exports=function(e,r){var n=r.namespace,i=r.colors!==!1?Kx(n+":",Yx(n)):n+":";return e[0]=i+" "+e[0],e}});var X1=p((rU,K1)=>{"use strict";K1.exports=function(e,r){if(!r)return!1;for(var n=r.split(/[\s,]+/),i=0;i<n.length;i++){if(r=n[i].replace("*",".*?"),r.charAt(0)==="-"){if(new RegExp("^"+r.substr(1)+"$").test(e))return!1;continue}if(new RegExp("^"+r+"$").test(e))return!0}return!1}});var Q1=p((nU,J1)=>{var Xx=X1();J1.exports=function(e){return function(n){try{return Xx(n,e())}catch{}return!1}}});var eE=p((iU,Z1)=>{var Jx=Q1();Z1.exports=Jx(function(){return process.env.DEBUG||process.env.DIAGNOSTICS})});var rE=p((oU,tE)=>{tE.exports=function(t,e){try{Function.prototype.apply.call(console.log,console,e)}catch{}}});var iE=p((sU,nE)=>{var Qx=sp(),Zx=require("tty").isatty(1),ul=Qx(function t(e,r){return r=r||{},r.colors="colors"in r?r.colors:Zx,r.namespace=e,r.prod=!1,r.dev=!0,!t.enabled(e)&&!(r.force||t.force)?t.nope(r):t.yep(r)});ul.modify(Y1());ul.use(eE());ul.set(rE());nE.exports=ul});var Ks=p((aU,lp)=>{process.env.NODE_ENV==="production"?lp.exports=k1():lp.exports=iE()});var sE=p((uU,oE)=>{"use strict";var fp=require("fs"),{StringDecoder:e2}=require("string_decoder"),{Stream:t2}=Ii();function r2(){}oE.exports=(t,e)=>{let r=Buffer.alloc(65536),n=new e2("utf8"),i=new t2,o="",s=0,a=0;return t.start===-1&&delete t.start,i.readable=!0,i.destroy=()=>{i.destroyed=!0,i.emit("end"),i.emit("close")},fp.open(t.file,"a+","0644",(u,c)=>{if(u){e?e(u):i.emit("error",u),i.destroy();return}(function h(){if(i.destroyed){fp.close(c,r2);return}return fp.read(c,r,0,r.length,s,(d,g)=>{if(d){e?e(d):i.emit("error",d),i.destroy();return}if(!g)return o&&((t.start==null||a>t.start)&&(e?e(null,o):i.emit("line",o)),a++,o=""),setTimeout(h,1e3);let _=n.write(r.slice(0,g));e||i.emit("data",_),_=(o+_).split(/\n+/);let y=_.length-1,E=0;for(;E<y;E++)(t.start==null||a>t.start)&&(e?e(null,_[E]):i.emit("line",_[E])),a++;return o=_[y],s+=g,h()})})()}),e?i.destroy:i}});var lE=p((lU,cE)=>{"use strict";var Ht=require("fs"),at=require("path"),aE=$R(),n2=require("zlib"),{MESSAGE:i2}=ze(),{Stream:o2,PassThrough:uE}=Ii(),s2=Mi(),Dr=Ks()("winston:file"),a2=require("os"),u2=sE();cE.exports=class extends s2{constructor(e={}){super(e),this.name=e.name||"file";function r(n,...i){i.slice(1).forEach(o=>{if(e[o])throw new Error(`Cannot set ${o} and ${n} together`)})}if(this._stream=new uE,this._stream.setMaxListeners(30),this._onError=this._onError.bind(this),e.filename||e.dirname)r("filename or dirname","stream"),this._basename=this.filename=e.filename?at.basename(e.filename):"winston.log",this.dirname=e.dirname||at.dirname(e.filename),this.options=e.options||{flags:"a"};else if(e.stream)console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),r("stream","filename","maxsize"),this._dest=this._stream.pipe(this._setupStream(e.stream)),this.dirname=at.dirname(this._dest.path);else throw new Error("Cannot log to file without filename or stream.");this.maxsize=e.maxsize||null,this.rotationFormat=e.rotationFormat||!1,this.zippedArchive=e.zippedArchive||!1,this.maxFiles=e.maxFiles||null,this.eol=typeof e.eol=="string"?e.eol:a2.EOL,this.tailable=e.tailable||!1,this.lazy=e.lazy||!1,this._size=0,this._pendingSize=0,this._created=0,this._drain=!1,this._opening=!1,this._ending=!1,this._fileExist=!1,this.dirname&&this._createLogDirIfNotExist(this.dirname),this.lazy||this.open()}finishIfEnding(){this._ending&&(this._opening?this.once("open",()=>{this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())}):(this._stream.once("finish",()=>this.emit("finish")),setImmediate(()=>this._stream.end())))}log(e,r=()=>{}){if(this.silent)return r(),!0;if(this._drain){this._stream.once("drain",()=>{this._drain=!1,this.log(e,r)});return}if(this._rotate){this._stream.once("rotate",()=>{this._rotate=!1,this.log(e,r)});return}if(this.lazy){if(!this._fileExist){this._opening||this.open(),this.once("open",()=>{this._fileExist=!0,this.log(e,r)});return}if(this._needsNewFile(this._pendingSize)){this._dest.once("close",()=>{this._opening||this.open(),this.once("open",()=>{this.log(e,r)})});return}}let n=`${e[i2]}${this.eol}`,i=Buffer.byteLength(n);function o(){if(this._size+=i,this._pendingSize-=i,Dr("logged %s %s",this._size,n),this.emit("logged",e),!this._rotate&&!this._opening&&this._needsNewFile()){if(this.lazy){this._endStream(()=>{this.emit("fileclosed")});return}this._rotate=!0,this._endStream(()=>this._rotateFile())}}this._pendingSize+=i,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);let s=this._stream.write(n,o.bind(this));return s?r():(this._drain=!0,this._stream.once("drain",()=>{this._drain=!1,r()})),Dr("written",s,this._drain),this.finishIfEnding(),s}query(e,r){typeof e=="function"&&(r=e,e={}),e=d(e);let n=at.join(this.dirname,this.filename),i="",o=[],s=0,a=Ht.createReadStream(n,{encoding:"utf8"});a.on("error",g=>{if(a.readable&&a.destroy(),!!r)return g.code!=="ENOENT"?r(g):r(null,o)}),a.on("data",g=>{g=(i+g).split(/\n+/);let _=g.length-1,y=0;for(;y<_;y++)(!e.start||s>=e.start)&&u(g[y]),s++;i=g[_]}),a.on("close",()=>{i&&u(i,!0),e.order==="desc"&&(o=o.reverse()),r&&r(null,o)});function u(g,_){try{let y=JSON.parse(g);h(y)&&c(y)}catch(y){_||a.emit("error",y)}}function c(g){if(e.rows&&o.length>=e.rows&&e.order!=="desc"){a.readable&&a.destroy();return}e.fields&&(g=e.fields.reduce((_,y)=>(_[y]=g[y],_),{})),e.order==="desc"&&o.length>=e.rows&&o.shift(),o.push(g)}function h(g){if(!g||typeof g!="object")return;let _=new Date(g.timestamp);if(!(e.from&&_<e.from||e.until&&_>e.until||e.level&&e.level!==g.level))return!0}function d(g){return g=g||{},g.rows=g.rows||g.limit||10,g.start=g.start||0,g.until=g.until||new Date,typeof g.until!="object"&&(g.until=new Date(g.until)),g.from=g.from||g.until-1440*60*1e3,typeof g.from!="object"&&(g.from=new Date(g.from)),g.order=g.order||"desc",g}}stream(e={}){let r=at.join(this.dirname,this.filename),n=new o2,i={file:r,start:e.start};return n.destroy=u2(i,(o,s)=>{if(o)return n.emit("error",o);try{n.emit("data",s),s=JSON.parse(s),n.emit("log",s)}catch(a){n.emit("error",a)}}),n}open(){this.filename&&(this._opening||(this._opening=!0,this.stat((e,r)=>{if(e)return this.emit("error",e);Dr("stat done: %s { size: %s }",this.filename,r),this._size=r,this._dest=this._createStream(this._stream),this._opening=!1,this.once("open",()=>{this._stream.emit("rotate")||(this._rotate=!1)})})))}stat(e){let r=this._getFile(),n=at.join(this.dirname,r);Ht.stat(n,(i,o)=>{if(i&&i.code==="ENOENT")return Dr("ENOENT\xA0ok",n),this.filename=r,e(null,0);if(i)return Dr(`err ${i.code} ${n}`),e(i);if(!o||this._needsNewFile(o.size))return this._incFile(()=>this.stat(e));this.filename=r,e(null,o.size)})}close(e){this._stream&&this._stream.end(()=>{e&&e(),this.emit("flush"),this.emit("closed")})}_needsNewFile(e){return e=e||this._size,this.maxsize&&e>=this.maxsize}_onError(e){this.emit("error",e)}_setupStream(e){return e.on("error",this._onError),e}_cleanupStream(e){return e.removeListener("error",this._onError),e.destroy(),e}_rotateFile(){this._incFile(()=>this.open())}_endStream(e=()=>{}){this._dest?(this._stream.unpipe(this._dest),this._dest.end(()=>{this._cleanupStream(this._dest),e()})):e()}_createStream(e){let r=at.join(this.dirname,this.filename);Dr("create stream start",r,this.options);let n=Ht.createWriteStream(r,this.options).on("error",i=>Dr(i)).on("close",()=>Dr("close",n.path,n.bytesWritten)).on("open",()=>{Dr("file open ok",r),this.emit("open",r),e.pipe(n),this.rotatedWhileOpening&&(this._stream=new uE,this._stream.setMaxListeners(30),this._rotateFile(),this.rotatedWhileOpening=!1,this._cleanupStream(n),e.end())});return Dr("create stream ok",r),n}_incFile(e){Dr("_incFile",this.filename);let r=at.extname(this._basename),n=at.basename(this._basename,r),i=[];this.zippedArchive&&i.push(function(o){let s=this._created>0&&!this.tailable?this._created:"";this._compressFile(at.join(this.dirname,`${n}${s}${r}`),at.join(this.dirname,`${n}${s}${r}.gz`),o)}.bind(this)),i.push(function(o){this.tailable?this._checkMaxFilesTailable(r,n,o):(this._created+=1,this._checkMaxFilesIncrementing(r,n,o))}.bind(this)),aE(i,e)}_getFile(){let e=at.extname(this._basename),r=at.basename(this._basename,e),n=this.rotationFormat?this.rotationFormat():this._created;return!this.tailable&&this._created?`${r}${n}${e}`:`${r}${e}`}_checkMaxFilesIncrementing(e,r,n){if(!this.maxFiles||this._created<this.maxFiles)return setImmediate(n);let i=this._created-this.maxFiles,o=i!==0?i:"",s=this.zippedArchive?".gz":"",a=`${r}${o}${e}${s}`,u=at.join(this.dirname,a);Ht.unlink(u,n)}_checkMaxFilesTailable(e,r,n){let i=[];if(!this.maxFiles)return;let o=this.zippedArchive?".gz":"";for(let s=this.maxFiles-1;s>1;s--)i.push(function(a,u){let c=`${r}${a-1}${e}${o}`,h=at.join(this.dirname,c);Ht.exists(h,d=>{if(!d)return u(null);c=`${r}${a}${e}${o}`,Ht.rename(h,at.join(this.dirname,c),u)})}.bind(this,s));aE(i,()=>{Ht.rename(at.join(this.dirname,`${r}${e}${o}`),at.join(this.dirname,`${r}1${e}${o}`),n)})}_compressFile(e,r,n){Ht.access(e,Ht.F_OK,i=>{if(i)return n();var o=n2.createGzip(),s=Ht.createReadStream(e),a=Ht.createWriteStream(r);a.on("finish",()=>{Ht.unlink(e,n)}),s.pipe(o).pipe(a)})}_createLogDirIfNotExist(e){Ht.existsSync(e)||Ht.mkdirSync(e,{recursive:!0})}}});var dE=p((dU,fE)=>{"use strict";var c2=require("http"),l2=require("https"),{Stream:f2}=Ii(),d2=Mi(),{configure:h2}=Ps();fE.exports=class extends d2{constructor(e={}){super(e),this.options=e,this.name=e.name||"http",this.ssl=!!e.ssl,this.host=e.host||"localhost",this.port=e.port,this.auth=e.auth,this.path=e.path||"",this.maximumDepth=e.maximumDepth,this.agent=e.agent,this.headers=e.headers||{},this.headers["content-type"]="application/json",this.batch=e.batch||!1,this.batchInterval=e.batchInterval||5e3,this.batchCount=e.batchCount||10,this.batchOptions=[],this.batchTimeoutID=-1,this.batchCallback={},this.port||(this.port=this.ssl?443:80)}log(e,r){this._request(e,null,null,(n,i)=>{i&&i.statusCode!==200&&(n=new Error(`Invalid HTTP Status Code: ${i.statusCode}`)),n?this.emit("warn",n):this.emit("logged",e)}),r&&setImmediate(r)}query(e,r){typeof e=="function"&&(r=e,e={}),e={method:"query",params:this.normalizeQuery(e)};let n=e.params.auth||null;delete e.params.auth;let i=e.params.path||null;delete e.params.path,this._request(e,n,i,(o,s,a)=>{if(s&&s.statusCode!==200&&(o=new Error(`Invalid HTTP Status Code: ${s.statusCode}`)),o)return r(o);if(typeof a=="string")try{a=JSON.parse(a)}catch(u){return r(u)}r(null,a)})}stream(e={}){let r=new f2;e={method:"stream",params:e};let n=e.params.path||null;delete e.params.path;let i=e.params.auth||null;delete e.params.auth;let o="",s=this._request(e,i,n);return r.destroy=()=>s.destroy(),s.on("data",a=>{a=(o+a).split(/\n+/);let u=a.length-1,c=0;for(;c<u;c++)try{r.emit("log",JSON.parse(a[c]))}catch(h){r.emit("error",h)}o=a[u]}),s.on("error",a=>r.emit("error",a)),r}_request(e,r,n,i){e=e||{},r=r||this.auth,n=n||this.path||"",this.batch?this._doBatch(e,i,r,n):this._doRequest(e,i,r,n)}_doBatch(e,r,n,i){if(this.batchOptions.push(e),this.batchOptions.length===1){let o=this;this.batchCallback=r,this.batchTimeoutID=setTimeout(function(){o.batchTimeoutID=-1,o._doBatchRequest(o.batchCallback,n,i)},this.batchInterval)}this.batchOptions.length===this.batchCount&&this._doBatchRequest(this.batchCallback,n,i)}_doBatchRequest(e,r,n){this.batchTimeoutID>0&&(clearTimeout(this.batchTimeoutID),this.batchTimeoutID=-1);let i=this.batchOptions.slice();this.batchOptions=[],this._doRequest(i,e,r,n)}_doRequest(e,r,n,i){let o=Object.assign({},this.headers);n&&n.bearer&&(o.Authorization=`Bearer ${n.bearer}`);let s=(this.ssl?l2:c2).request({...this.options,method:"POST",host:this.host,port:this.port,path:`/${i.replace(/^\//,"")}`,headers:o,auth:n&&n.username&&n.password?`${n.username}:${n.password}`:"",agent:this.agent});s.on("error",r),s.on("response",u=>u.on("end",()=>r(null,u)).resume());let a=h2({...this.maximumDepth&&{maximumDepth:this.maximumDepth}});s.end(Buffer.from(a(e,this.options.replacer),"utf8"))}}});var dp=p((hU,hE)=>{"use strict";var zr=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";zr.writable=t=>zr(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";zr.readable=t=>zr(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";zr.duplex=t=>zr.writable(t)&&zr.readable(t);zr.transform=t=>zr.duplex(t)&&typeof t._transform=="function";hE.exports=zr});var pE=p((pU,gE)=>{"use strict";var g2=dp(),{MESSAGE:p2}=ze(),m2=require("os"),y2=Mi();gE.exports=class extends y2{constructor(e={}){if(super(e),!e.stream||!g2(e.stream))throw new Error("options.stream is required.");this._stream=e.stream,this._stream.setMaxListeners(1/0),this.isObjectMode=e.stream._writableState.objectMode,this.eol=typeof e.eol=="string"?e.eol:m2.EOL}log(e,r){if(setImmediate(()=>this.emit("logged",e)),this.isObjectMode){this._stream.write(e),r&&r();return}this._stream.write(`${e[p2]}${this.eol}`),r&&r()}}});var mE=p(Xs=>{"use strict";Object.defineProperty(Xs,"Console",{configurable:!0,enumerable:!0,get(){return iR()}});Object.defineProperty(Xs,"File",{configurable:!0,enumerable:!0,get(){return lE()}});Object.defineProperty(Xs,"Http",{configurable:!0,enumerable:!0,get(){return dE()}});Object.defineProperty(Xs,"Stream",{configurable:!0,enumerable:!0,get(){return pE()}})});var ll=p(Js=>{"use strict";var cl=Gh(),{configs:hp}=ze();Js.cli=cl.levels(hp.cli);Js.npm=cl.levels(hp.npm);Js.syslog=cl.levels(hp.syslog);Js.addColors=cl.levels});var _E=p((fl,yE)=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});var _2=Cc(),b2=xi(_2),v2=Wc(),w2=xi(v2),S2=Mg(),R2=xi(S2),E2=Og(),D2=xi(E2),P2=Tg(),O2=xi(P2),T2=Ci(),q2=xi(T2),M2=qo(),C2=xi(M2);function xi(t){return t&&t.__esModule?t:{default:t}}function j2(t,e,r){r=(0,D2.default)(r);var n=0,i=0,{length:o}=t,s=!1;o===0&&r(null);function a(u,c){u===!1&&(s=!0),s!==!0&&(u?r(u):(++i===o||c===w2.default)&&r(null))}for(;n<o;n++)e(t[n],n,(0,O2.default)(a))}function A2(t,e,r){return(0,R2.default)(t,1/0,e,r)}function N2(t,e,r){var n=(0,b2.default)(t)?j2:A2;return n(t,(0,q2.default)(e),r)}fl.default=(0,C2.default)(N2,3);yE.exports=fl.default});var vE=p((dl,bE)=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.default=L2;function L2(t){return(e,r,n)=>t(e,n)}bE.exports=dl.default});var pl=p((gl,wE)=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});var I2=_E(),x2=hl(I2),k2=vE(),F2=hl(k2),$2=Ci(),W2=hl($2),H2=qo(),U2=hl(H2);function hl(t){return t&&t.__esModule?t:{default:t}}function B2(t,e,r){return(0,x2.default)(t,(0,F2.default)((0,W2.default)(e)),r)}gl.default=(0,U2.default)(B2,3);wE.exports=gl.default});var RE=p((_U,SE)=>{"use strict";var z2=Object.prototype.toString;SE.exports=function(e){if(typeof e.displayName=="string"&&e.constructor.name)return e.displayName;if(typeof e.name=="string"&&e.name)return e.name;if(typeof e=="object"&&e.constructor&&typeof e.constructor.name=="string")return e.constructor.name;var r=e.toString(),n=z2.call(e).slice(8,-1);return n==="Function"?r=r.substring(r.indexOf("(")+1,r.indexOf(")")):r=n,r||"anonymous"}});var gp=p((bU,EE)=>{"use strict";var V2=RE();EE.exports=function(e){var r=0,n;function i(){return r||(r=1,n=e.apply(this,arguments),e=null),n}return i.displayName=V2(e),i}});var pp=p(Zs=>{Zs.get=function(t){var e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var r={},n=Error.prepareStackTrace;Error.prepareStackTrace=function(o,s){return s},Error.captureStackTrace(r,t||Zs.get);var i=r.stack;return Error.prepareStackTrace=n,Error.stackTraceLimit=e,i};Zs.parse=function(t){if(!t.stack)return[];var e=this,r=t.stack.split(`
`).slice(1);return r.map(function(n){if(n.match(/^\s*[-]{4,}$/))return e._createParsedCallSite({fileName:n,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var i=n.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(i){var o=null,s=null,a=null,u=null,c=null,h=i[5]==="native";if(i[1]){a=i[1];var d=a.lastIndexOf(".");if(a[d-1]=="."&&d--,d>0){o=a.substr(0,d),s=a.substr(d+1);var g=o.indexOf(".Module");g>0&&(a=a.substr(g+1),o=o.substr(0,g))}u=null}s&&(u=o,c=s),s==="<anonymous>"&&(c=null,a=null);var _={fileName:i[2]||null,lineNumber:parseInt(i[3],10)||null,functionName:a,typeName:u,methodName:c,columnNumber:parseInt(i[4],10)||null,native:h};return e._createParsedCallSite(_)}}).filter(function(n){return!!n})};function Qs(t){for(var e in t)this[e]=t[e]}var G2=["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"],Y2=["topLevel","eval","native","constructor"];G2.forEach(function(t){Qs.prototype[t]=null,Qs.prototype["get"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});Y2.forEach(function(t){Qs.prototype[t]=!1,Qs.prototype["is"+t[0].toUpperCase()+t.substr(1)]=function(){return this[t]}});Zs._createParsedCallSite=function(t){return new Qs(t)}});var PE=p((SU,DE)=>{"use strict";var{Writable:K2}=Ii();DE.exports=class extends K2{constructor(e){if(super({objectMode:!0}),!e)throw new Error("ExceptionStream requires a TransportStream instance.");this.handleExceptions=!0,this.transport=e}_write(e,r,n){return e.exception?this.transport.log(e,n):(n(),!0)}}});var yp=p((EU,qE)=>{"use strict";var OE=require("os"),X2=pl(),mp=Ks()("winston:exception"),J2=gp(),TE=pp(),Q2=PE();qE.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle exceptions");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),process.on("uncaughtException",this.catcher))}unhandle(){this.catcher&&(process.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`uncaughtException: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:OE.loadavg(),uptime:OE.uptime()}}getTrace(e){return(e?TE.parse(e):TE.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleExceptions=!0;let r=new Q2(e);this.handlers.set(e,r),this.logger.pipe(r)}}_uncaughtException(e){let r=this.getAllInfo(e),n=this._getExceptionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,o;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),i=!1);function s(){mp("doExit",i),mp("process._exiting",process._exiting),i&&!process._exiting&&(o&&clearTimeout(o),process.exit(1))}if(!n||n.length===0)return process.nextTick(s);X2(n,(a,u)=>{let c=J2(u),h=a.transport||a;function d(g){return()=>{mp(g),c()}}h._ending=!0,h.once("finish",d("finished")),h.once("error",d("error"))},()=>i&&s()),this.logger.log(r),i&&(o=setTimeout(s,3e3))}_getExceptionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleExceptions)}}});var CE=p((PU,ME)=>{"use strict";var{Writable:Z2}=Ii();ME.exports=class extends Z2{constructor(e){if(super({objectMode:!0}),!e)throw new Error("RejectionStream requires a TransportStream instance.");this.handleRejections=!0,this.transport=e}_write(e,r,n){return e.rejection?this.transport.log(e,n):(n(),!0)}}});var bp=p((TU,NE)=>{"use strict";var jE=require("os"),ek=pl(),_p=Ks()("winston:rejection"),tk=gp(),AE=pp(),rk=CE();NE.exports=class{constructor(e){if(!e)throw new Error("Logger is required to handle rejections");this.logger=e,this.handlers=new Map}handle(...e){e.forEach(r=>{if(Array.isArray(r))return r.forEach(n=>this._addHandler(n));this._addHandler(r)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),process.on("unhandledRejection",this.catcher))}unhandle(){this.catcher&&(process.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(e=>this.logger.unpipe(e)))}getAllInfo(e){let r=null;return e&&(r=typeof e=="string"?e:e.message),{error:e,level:"error",message:[`unhandledRejection: ${r||"(no error message)"}`,e&&e.stack||"  No stack trace"].join(`
`),stack:e&&e.stack,rejection:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(e)}}getProcessInfo(){return{pid:process.pid,uid:process.getuid?process.getuid():null,gid:process.getgid?process.getgid():null,cwd:process.cwd(),execPath:process.execPath,version:process.version,argv:process.argv,memoryUsage:process.memoryUsage()}}getOsInfo(){return{loadavg:jE.loadavg(),uptime:jE.uptime()}}getTrace(e){return(e?AE.parse(e):AE.get()).map(n=>({column:n.getColumnNumber(),file:n.getFileName(),function:n.getFunctionName(),line:n.getLineNumber(),method:n.getMethodName(),native:n.isNative()}))}_addHandler(e){if(!this.handlers.has(e)){e.handleRejections=!0;let r=new rk(e);this.handlers.set(e,r),this.logger.pipe(r)}}_unhandledRejection(e){let r=this.getAllInfo(e),n=this._getRejectionHandlers(),i=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(e):this.logger.exitOnError,o;!n.length&&i&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),i=!1);function s(){_p("doExit",i),_p("process._exiting",process._exiting),i&&!process._exiting&&(o&&clearTimeout(o),process.exit(1))}if(!n||n.length===0)return process.nextTick(s);ek(n,(a,u)=>{let c=tk(u),h=a.transport||a;function d(g){return()=>{_p(g),c()}}h._ending=!0,h.once("finish",d("finished")),h.once("error",d("error"))},()=>i&&s()),this.logger.log(r),i&&(o=setTimeout(s,3e3))}_getRejectionHandlers(){return this.logger.transports.filter(e=>(e.transport||e).handleRejections)}}});var IE=p((qU,LE)=>{"use strict";var vp=class{constructor(e){let r=ml();if(typeof e!="object"||Array.isArray(e)||!(e instanceof r))throw new Error("Logger is required for profiling");this.logger=e,this.start=Date.now()}done(...e){typeof e[e.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),e.pop());let r=typeof e[e.length-1]=="object"?e.pop():{};return r.level=r.level||"info",r.durationMs=Date.now()-this.start,this.logger.write(r)}};LE.exports=vp});var ml=p((MU,$E)=>{"use strict";var{Stream:nk,Transform:ik}=Ii(),xE=pl(),{LEVEL:Vr,SPLAT:kE}=ze(),FE=dp(),ok=yp(),sk=bp(),ak=Eg(),uk=IE(),{warn:ck}=Yh(),lk=ll(),fk=/%[scdjifoO%]/g,yl=class extends ik{constructor(e){super({objectMode:!0}),this.configure(e)}child(e){let r=this;return Object.create(r,{write:{value:function(n){let i=Object.assign({},e,n);n instanceof Error&&(i.stack=n.stack,i.message=n.message),r.write(i)}}})}configure({silent:e,format:r,defaultMeta:n,levels:i,level:o="info",exitOnError:s=!0,transports:a,colors:u,emitErrs:c,formatters:h,padLevels:d,rewriters:g,stripColors:_,exceptionHandlers:y,rejectionHandlers:E}={}){if(this.transports.length&&this.clear(),this.silent=e,this.format=r||this.format||Hh()(),this.defaultMeta=n||null,this.levels=i||this.levels||lk.npm.levels,this.level=o,this.exceptions&&this.exceptions.unhandle(),this.rejections&&this.rejections.unhandle(),this.exceptions=new ok(this),this.rejections=new sk(this),this.profilers={},this.exitOnError=s,a&&(a=Array.isArray(a)?a:[a],a.forEach(C=>this.add(C))),u||c||h||d||g||_)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));y&&this.exceptions.handle(y),E&&this.rejections.handle(E)}getHighestLogLevel(){let e=ea(this.levels,this.level);return!this.transports||this.transports.length===0?e:this.transports.reduce((r,n)=>{let i=ea(this.levels,n.level);return i!==null&&i>r?i:r},e)}isLevelEnabled(e){let r=ea(this.levels,e);if(r===null)return!1;let n=ea(this.levels,this.level);return n===null?!1:!this.transports||this.transports.length===0?n>=r:this.transports.findIndex(o=>{let s=ea(this.levels,o.level);return s===null&&(s=n),s>=r})!==-1}log(e,r,...n){if(arguments.length===1)return e[Vr]=e.level,this._addDefaultMeta(e),this.write(e),this;if(arguments.length===2)return r&&typeof r=="object"?(r[Vr]=r.level=e,this._addDefaultMeta(r),this.write(r),this):(r={[Vr]:e,level:e,message:r},this._addDefaultMeta(r),this.write(r),this);let[i]=n;if(typeof i=="object"&&i!==null&&!(r&&r.match&&r.match(fk))){let s=Object.assign({},this.defaultMeta,i,{[Vr]:e,[kE]:n,level:e,message:r});return i.message&&(s.message=`${s.message} ${i.message}`),i.stack&&(s.stack=i.stack),i.cause&&(s.cause=i.cause),this.write(s),this}return this.write(Object.assign({},this.defaultMeta,{[Vr]:e,[kE]:n,level:e,message:r})),this}_transform(e,r,n){if(this.silent)return n();e[Vr]||(e[Vr]=e.level),!this.levels[e[Vr]]&&this.levels[e[Vr]]!==0&&console.error("[winston] Unknown logger level: %s",e[Vr]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports, which can increase memory usage: %j",e);try{this.push(this.format.transform(e,this.format.options))}finally{this._writableState.sync=!1,n()}}_final(e){let r=this.transports.slice();xE(r,(n,i)=>{if(!n||n.finished)return setImmediate(i);n.once("finish",i),n.end()},e)}add(e){let r=!FE(e)||e.log.length>2?new ak({transport:e}):e;if(!r._writableState||!r._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",r),this._onEvent("warn",r),this.pipe(r),e.handleExceptions&&this.exceptions.handle(),e.handleRejections&&this.rejections.handle(),this}remove(e){if(!e)return this;let r=e;return(!FE(e)||e.log.length>2)&&(r=this.transports.filter(n=>n.transport===e)[0]),r&&this.unpipe(r),this}clear(){return this.unpipe(),this}close(){return this.exceptions.unhandle(),this.rejections.unhandle(),this.clear(),this.emit("close"),this}setLevels(){ck.deprecated("setLevels")}query(e,r){typeof e=="function"&&(r=e,e={}),e=e||{};let n={},i=Object.assign({},e.query||{});function o(a,u){e.query&&typeof a.formatQuery=="function"&&(e.query=a.formatQuery(i)),a.query(e,(c,h)=>{if(c)return u(c);typeof a.formatResults=="function"&&(h=a.formatResults(h,e.format)),u(null,h)})}function s(a,u){o(a,(c,h)=>{u&&(h=c||h,h&&(n[a.name]=h),u()),u=null})}xE(this.transports.filter(a=>!!a.query),s,()=>r(null,n))}stream(e={}){let r=new nk,n=[];return r._streams=n,r.destroy=()=>{let i=n.length;for(;i--;)n[i].destroy()},this.transports.filter(i=>!!i.stream).forEach(i=>{let o=i.stream(e);o&&(n.push(o),o.on("log",s=>{s.transport=s.transport||[],s.transport.push(i.name),r.emit("log",s)}),o.on("error",s=>{s.transport=s.transport||[],s.transport.push(i.name),r.emit("error",s)}))}),r}startTimer(){return new uk(this)}profile(e,...r){let n=Date.now();if(this.profilers[e]){let i=this.profilers[e];delete this.profilers[e],typeof r[r.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),r.pop());let o=typeof r[r.length-1]=="object"?r.pop():{};return o.level=o.level||"info",o.durationMs=n-i,o.message=o.message||e,this.write(o)}return this.profilers[e]=n,this}handleExceptions(...e){console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),this.exceptions.handle(...e)}unhandleExceptions(...e){console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),this.exceptions.unhandle(...e)}cli(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}_onEvent(e,r){function n(i){e==="error"&&!this.transports.includes(r)&&this.add(r),this.emit(e,i,r)}r["__winston"+e]||(r["__winston"+e]=n.bind(this),r.on(e,r["__winston"+e]))}_addDefaultMeta(e){this.defaultMeta&&Object.assign(e,this.defaultMeta)}};function ea(t,e){let r=t[e];return!r&&r!==0?null:r}Object.defineProperty(yl.prototype,"transports",{configurable:!1,enumerable:!0,get(){let{pipes:t}=this._readableState;return Array.isArray(t)?t:[t].filter(Boolean)}});$E.exports=yl});var wp=p((CU,WE)=>{"use strict";var{LEVEL:dk}=ze(),hk=ll(),gk=ml(),pk=Ks()("winston:create-logger");function mk(t){return"is"+t.charAt(0).toUpperCase()+t.slice(1)+"Enabled"}WE.exports=function(t={}){t.levels=t.levels||hk.npm.levels;class e extends gk{constructor(i){super(i)}}let r=new e(t);return Object.keys(t.levels).forEach(function(n){if(pk('Define prototype method for "%s"',n),n==="log"){console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.');return}e.prototype[n]=function(...i){let o=this||r;if(i.length===1){let[s]=i,a=s&&s.message&&s||{message:s};return a.level=a[dk]=n,o._addDefaultMeta(a),o.write(a),this||r}return i.length===0?(o.log(n,""),o):o.log(n,...i)},e.prototype[mk(n)]=function(){return(this||r).isLevelEnabled(n)}}),r}});var UE=p((AU,HE)=>{"use strict";var yk=wp();HE.exports=class{constructor(e={}){this.loggers=new Map,this.options=e}add(e,r){if(!this.loggers.has(e)){r=Object.assign({},r||this.options);let n=r.transports||this.options.transports;n?r.transports=Array.isArray(n)?n.slice():[n]:r.transports=[];let i=yk(r);i.on("close",()=>this._delete(e)),this.loggers.set(e,i)}return this.loggers.get(e)}get(e,r){return this.add(e,r)}has(e){return!!this.loggers.has(e)}close(e){if(e)return this._removeLogger(e);this.loggers.forEach((r,n)=>this._removeLogger(n))}_removeLogger(e){if(!this.loggers.has(e))return;this.loggers.get(e).close(),this._delete(e)}_delete(e){this.loggers.delete(e)}}});var zE=p(je=>{"use strict";var BE=Gh(),{warn:ta}=Yh();je.version=tS().version;je.transports=mE();je.config=ll();je.addColors=BE.levels;je.format=BE.format;je.createLogger=wp();je.Logger=ml();je.ExceptionHandler=yp();je.RejectionHandler=bp();je.Container=UE();je.Transport=Mi();je.loggers=new je.Container;var Gr=je.createLogger();Object.keys(je.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(t=>je[t]=(...e)=>Gr[t](...e));Object.defineProperty(je,"level",{get(){return Gr.level},set(t){Gr.level=t}});Object.defineProperty(je,"exceptions",{get(){return Gr.exceptions}});Object.defineProperty(je,"rejections",{get(){return Gr.rejections}});["exitOnError"].forEach(t=>{Object.defineProperty(je,t,{get(){return Gr[t]},set(e){Gr[t]=e}})});Object.defineProperty(je,"default",{get(){return{exceptionHandlers:Gr.exceptionHandlers,rejectionHandlers:Gr.rejectionHandlers,transports:Gr.transports}}});ta.deprecated(je,"setLevels");ta.forFunctions(je,"useFormat",["cli"]);ta.forProperties(je,"useFormat",["padLevels","stripColors"]);ta.forFunctions(je,"deprecated",["addRewriter","addFilter","clone","extend"]);ta.forProperties(je,"deprecated",["emitErrs","levelLength"])});var GE=p((LU,VE)=>{"use strict";var Sp=class t extends Error{constructor(e){super(t._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,t)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch{return String(e)}}},_k=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],Rp=Symbol(".toJSON called"),bk=t=>{t[Rp]=!0;let e=t.toJSON();return delete t[Rp],e},Ep=({from:t,seen:e,to_:r,forceEnumerable:n,maxDepth:i,depth:o})=>{let s=r||(Array.isArray(t)?[]:{});if(e.push(t),o>=i)return s;if(typeof t.toJSON=="function"&&t[Rp]!==!0)return bk(t);for(let[a,u]of Object.entries(t)){if(typeof Buffer=="function"&&Buffer.isBuffer(u)){s[a]="[object Buffer]";continue}if(typeof u!="function"){if(!u||typeof u!="object"){s[a]=u;continue}if(!e.includes(t[a])){o++,s[a]=Ep({from:t[a],seen:e.slice(),forceEnumerable:n,maxDepth:i,depth:o});continue}s[a]="[Circular]"}}for(let{property:a,enumerable:u}of _k)typeof t[a]=="string"&&Object.defineProperty(s,a,{value:t[a],enumerable:n?!0:u,configurable:!0,writable:!0});return s},vk=(t,e={})=>{let{maxDepth:r=Number.POSITIVE_INFINITY}=e;return typeof t=="object"&&t!==null?Ep({from:t,seen:[],forceEnumerable:!0,maxDepth:r,depth:0}):typeof t=="function"?`[Function: ${t.name||"anonymous"}]`:t},wk=(t,e={})=>{let{maxDepth:r=Number.POSITIVE_INFINITY}=e;if(t instanceof Error)return t;if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let n=new Error;return Ep({from:t,seen:[],to_:n,maxDepth:r,depth:0}),n}return new Sp(t)};VE.exports={serializeError:vk,deserializeError:wk}});var Dp=p(_l=>{"use strict";Object.defineProperty(_l,"__esModule",{value:!0});_l.isIterable=YE;_l.isIterableObject=Sk;function YE(t){return t!=null&&typeof t[Symbol.iterator]=="function"}function Sk(t){return YE(t)&&typeof t=="object"}});var bl=p(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});Pp.isObject=Rk;function Rk(t){return typeof t=="object"&&t!==null}});var XE=p(Op=>{"use strict";Object.defineProperty(Op,"__esModule",{value:!0});Op.mergeAssign=KE;var Ek=bl();function KE(t,e,r){let n=t;for(let i of[e,r])if(i)for(let o of Object.getOwnPropertyNames(i)){if(o==="__proto__"||o==="constructor")continue;let s=i[o];if((0,Ek.isObject)(s)){if(Array.isArray(s)){let a=n[o];n[o]=Array.isArray(a)?a.concat(s):s;continue}n[o]||(n[o]={}),n[o]=KE(n[o],s)}else n[o]=s}return n}});var QE=p((FU,JE)=>{"use strict";JE.exports=Dk;function xo(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function Dk(t){if(t=t||{},t.circles)return Pk(t);let e=new Map;if(e.set(Date,s=>new Date(s)),e.set(Map,(s,a)=>new Map(n(Array.from(s),a))),e.set(Set,(s,a)=>new Set(n(Array.from(s),a))),t.constructorHandlers)for(let s of t.constructorHandlers)e.set(s[0],s[1]);let r=null;return t.proto?o:i;function n(s,a){let u=Object.keys(s),c=new Array(u.length);for(let h=0;h<u.length;h++){let d=u[h],g=s[d];typeof g!="object"||g===null?c[d]=g:g.constructor!==Object&&(r=e.get(g.constructor))?c[d]=r(g,a):ArrayBuffer.isView(g)?c[d]=xo(g):c[d]=a(g)}return c}function i(s){if(typeof s!="object"||s===null)return s;if(Array.isArray(s))return n(s,i);if(s.constructor!==Object&&(r=e.get(s.constructor)))return r(s,i);let a={};for(let u in s){if(Object.hasOwnProperty.call(s,u)===!1)continue;let c=s[u];typeof c!="object"||c===null?a[u]=c:c.constructor!==Object&&(r=e.get(c.constructor))?a[u]=r(c,i):ArrayBuffer.isView(c)?a[u]=xo(c):a[u]=i(c)}return a}function o(s){if(typeof s!="object"||s===null)return s;if(Array.isArray(s))return n(s,o);if(s.constructor!==Object&&(r=e.get(s.constructor)))return r(s,o);let a={};for(let u in s){let c=s[u];typeof c!="object"||c===null?a[u]=c:c.constructor!==Object&&(r=e.get(c.constructor))?a[u]=r(c,o):ArrayBuffer.isView(c)?a[u]=xo(c):a[u]=o(c)}return a}}function Pk(t){let e=[],r=[],n=new Map;if(n.set(Date,u=>new Date(u)),n.set(Map,(u,c)=>new Map(o(Array.from(u),c))),n.set(Set,(u,c)=>new Set(o(Array.from(u),c))),t.constructorHandlers)for(let u of t.constructorHandlers)n.set(u[0],u[1]);let i=null;return t.proto?a:s;function o(u,c){let h=Object.keys(u),d=new Array(h.length);for(let g=0;g<h.length;g++){let _=h[g],y=u[_];if(typeof y!="object"||y===null)d[_]=y;else if(y.constructor!==Object&&(i=n.get(y.constructor)))d[_]=i(y,c);else if(ArrayBuffer.isView(y))d[_]=xo(y);else{let E=e.indexOf(y);E!==-1?d[_]=r[E]:d[_]=c(y)}}return d}function s(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return o(u,s);if(u.constructor!==Object&&(i=n.get(u.constructor)))return i(u,s);let c={};e.push(u),r.push(c);for(let h in u){if(Object.hasOwnProperty.call(u,h)===!1)continue;let d=u[h];if(typeof d!="object"||d===null)c[h]=d;else if(d.constructor!==Object&&(i=n.get(d.constructor)))c[h]=i(d,s);else if(ArrayBuffer.isView(d))c[h]=xo(d);else{let g=e.indexOf(d);g!==-1?c[h]=r[g]:c[h]=s(d)}}return e.pop(),r.pop(),c}function a(u){if(typeof u!="object"||u===null)return u;if(Array.isArray(u))return o(u,a);if(u.constructor!==Object&&(i=n.get(u.constructor)))return i(u,a);let c={};e.push(u),r.push(c);for(let h in u){let d=u[h];if(typeof d!="object"||d===null)c[h]=d;else if(d.constructor!==Object&&(i=n.get(d.constructor)))c[h]=i(d,a);else if(ArrayBuffer.isView(d))c[h]=xo(d);else{let g=e.indexOf(d);g!==-1?c[h]=r[g]:c[h]=a(d)}}return e.pop(),r.pop(),c}}});var eD=p(ra=>{"use strict";var Ok=ra&&ra.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ra,"__esModule",{value:!0});ra.mergeOptionsWithDefaults=qk;var Tk=Ok(QE()),Tp=bl(),vl=(0,Tk.default)();function ZE(t,e,r,n,i){if(!(0,Tp.isObject)(t))return vl(e);let o={};for(let s of Object.keys(e)){let a=e[s],u=t[s];if(u!==void 0){if((0,Tp.isObject)(u)){if(r.has(u)){i.add([u,o,s]);continue}r.add(u);let c=Array.isArray(u)?u.map(h=>vl(h)):(0,Tp.isObject)(a)&&!Array.isArray(a)?ZE(u,a,r,n,i):vl(u);n.set(u,c),o[s]=c;continue}o[s]=u;continue}o[s]=vl(a)}return o}function qk(t,e){let r=new WeakSet,n=new WeakMap,i=new Set,o=ZE(t,e,r,n,i);for(let[s,a,u]of i)a[u]=n.get(s);return o}});var Mp=p(bn=>{"use strict";var Mk=bn&&bn.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),qp=bn&&bn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Mk(e,t,r)};Object.defineProperty(bn,"__esModule",{value:!0});qp(bl(),bn);qp(XE(),bn);qp(eD(),bn)});var rD=p(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});Cp.serializeErrors=jk;var tD=GE(),Ck=Dp(),wl=Mp();function jk(t){let e=(r,n)=>{if(!r||typeof r!="object")return r;if(n.has(r))return n.get(r);if(r instanceof Error){let o=(0,tD.serializeError)(r);return n.set(r,o),o}if(r instanceof Map){let o=new Map;n.set(r,o);for(let[s,a]of r){let u=e(s,n),c=e(a,n);(0,wl.isObject)(s)&&n.set(s,u),(0,wl.isObject)(a)&&n.set(a,c),o.set(u,c)}return o}if(r instanceof Set){let o=new Set;n.set(r,o);for(let s of r){if(!(0,wl.isObject)(s)){o.add(s);continue}let a=e(s,n);n.set(s,a),o.add(a)}return o}if((0,Ck.isIterable)(r)){let o=[];n.set(r,o);for(let s of r)o.push(e(s,n));return o}n.set(r,"[Circular]");let i=Object.fromEntries(Object.entries(r).map(([o,s])=>{if(!(0,wl.isObject)(s))return[o,s];if(n.has(s))return[o,n.get(s)];if(s instanceof Error){let u=(0,tD.serializeError)(s);return n.set(s,u),[o,u]}let a=e(s,n);return n.set(s,a),[o,a]}));return n.set(r,i),i};return e(t,new WeakMap)}});var nD=p(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.ErrorFormatter=void 0;var Ak=rD(),jp=class{transform(e){let r=(0,Ak.serializeErrors)({...e});for(let n of Object.keys(r))e[n]=r[n];return e}};Sl.ErrorFormatter=jp});var El=p(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.getLogFunction=void 0;var Nk=(t,e)=>{let r=t[e];if(typeof r=="function")return r};Rl.getLogFunction=Nk});var iD=p(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.padNumber=Jn.padString=Jn.upperCaseFirstChar=void 0;var Lk=t=>t.charAt(0).toUpperCase()+t.slice(1);Jn.upperCaseFirstChar=Lk;var Ik=(t,e)=>t+" ".repeat(e-t.length);Jn.padString=Ik;var xk=(t,e)=>{let r=String(t);return"0".repeat(e-r.length)+r};Jn.padNumber=xk});var sD=p(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});Pl.LanguageServerFormatter=void 0;var oD=ze(),kk=El(),Dl=iD(),Ap=class{constructor(e){this.options=e}transform(e){let r=new Date,n=`${r.getHours()%12||12}:${(0,Dl.padNumber)(r.getMinutes(),2)}:${(0,Dl.padNumber)(r.getSeconds(),2)} ${r.getHours()<12?"a.m.":"p.m."}`,i=[],o=String(e[oD.LEVEL]);(0,kk.getLogFunction)(this.options.connection.console,o)||i.push(`[${(0,Dl.padString)((0,Dl.upperCaseFirstChar)(o),5)} - ${n}]`),e.component&&i.push(`[${String(e.component)}]`),i.push(e.message),delete e.component,delete e.timestamp;let s=new Set(Object.keys({...e})),a=[];if(this.options.preferredKeyOrder)for(let c of this.options.preferredKeyOrder)s.has(c)&&(a.push(`${c}: ${JSON.stringify(e[c])}`),s.delete(c),delete e[c]);for(let c of s)c==="level"||c==="message"||(a.push(`${c}: ${JSON.stringify(e[c])}`),delete e[c]);let u=a.length>0?`${i.join(" ")} | ${a.join(" ")}`:i.join(" ");return e[oD.MESSAGE]=u,e.message=u,e}};Pl.LanguageServerFormatter=Ap});var aD=p(Yr=>{"use strict";var Fk=Yr&&Yr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Np=Yr&&Yr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},$k=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ko;Object.defineProperty(Yr,"__esModule",{value:!0});Yr.LanguageServerTransport=void 0;var Wk=$k(Mi()),Lp=ze(),Hk=El(),Ip=class extends Wk.default{constructor(e){super(e),ko.set(this,void 0),Fk(this,ko,e.connection.console,"f")}log(e,r){setImmediate(()=>{this.emit("logged",e)});try{let n=(0,Hk.getLogFunction)(Np(this,ko,"f"),String(e[Lp.LEVEL]));typeof n=="function"?n.call(Np(this,ko,"f"),String(e[Lp.MESSAGE])):Np(this,ko,"f").log(String(e[Lp.MESSAGE]))}catch(n){(!(n instanceof Error)||!n.message.includes("Connection is disposed"))&&this.emit("error",n)}r()}};Yr.LanguageServerTransport=Ip;ko=new WeakMap});var uD=p(Kr=>{"use strict";var Uk=Kr&&Kr.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Ol=Kr&&Kr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Uk(e,t,r)};Object.defineProperty(Kr,"__esModule",{value:!0});Ol(nD(),Kr);Ol(El(),Kr);Ol(sD(),Kr);Ol(aD(),Kr)});var xp=p(na=>{"use strict";var Bk=na&&na.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(na,"__esModule",{value:!0});na.createLogger=zk;var Fo=Bk(zE()),Tl=uD();function zk(t,e="info",r){let n=[new Tl.LanguageServerTransport({connection:t,format:Fo.default.format.combine(new Tl.ErrorFormatter,new Tl.LanguageServerFormatter({connection:t,preferredKeyOrder:["module","uri","command"]}))})];return r&&n.push(new Fo.default.transports.File({filename:r,format:Fo.default.format.combine(new Tl.ErrorFormatter,Fo.default.format.timestamp(),Fo.default.format.json())})),Fo.default.createLogger({level:e,transports:n,levels:{error:0,warn:1,info:2,debug:3}})}});var $o=p(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.Notification=Qn.CodeActionKind=Qn.CommandId=void 0;var Vk=vr(),cD;(function(t){t.ApplyAutoFix="stylelint.applyAutoFix",t.OpenRuleDoc="stylelint.openRuleDoc"})(cD||(Qn.CommandId=cD={}));Qn.CodeActionKind={StylelintSourceFixAll:`${Vk.CodeActionKind.SourceFixAll}.stylelint`};var lD;(function(t){t.DidRegisterCodeActionRequestHandler="stylelint/didRegisterCodeActionRequestHandler",t.DidRegisterDocumentFormattingEditProvider="stylelint/didRegisterDocumentFormattingEditProvider",t.DidResetConfiguration="stylelint/didResetConfiguration"})(lD||(Qn.Notification=lD={}))});var gD=p(ei=>{"use strict";var fD=ei&&ei.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},dt=ei&&ei.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},kp,Zn,Pr,ia,hD;Object.defineProperty(ei,"__esModule",{value:!0});ei.AutoFixModule=void 0;var Gk=Oe(),dD=$o(),ql=class{constructor({context:e,logger:r}){kp.add(this),Zn.set(this,void 0),Pr.set(this,void 0),ia.set(this,[]),fD(this,Zn,e,"f"),fD(this,Pr,r,"f")}onInitialize(){return{capabilities:{executeCommandProvider:{commands:[dD.CommandId.ApplyAutoFix]}}}}dispose(){dt(this,ia,"f").forEach(e=>e.dispose()),dt(this,ia,"f").length=0}onDidRegisterHandlers(){dt(this,Pr,"f")?.debug("Registering onExecuteCommand handler"),dt(this,ia,"f").push(dt(this,Zn,"f").commands.on(dD.CommandId.ApplyAutoFix,async({arguments:e})=>{if(!e)return{};let r=e[0],n=r.uri,i=dt(this,Zn,"f").documents.get(n);if(!i||!await dt(this,kp,"m",hD).call(this,i))return dt(this,Pr,"f")?.isDebugEnabled()&&(i?dt(this,Pr,"f").debug("Document should not be auto-fixed, ignoring",{uri:n,language:i.languageId}):dt(this,Pr,"f").debug("Unknown document, ignoring",{uri:n})),{};if(r.version!==i.version)return dt(this,Pr,"f")?.debug("Document has been modified, ignoring",{uri:n}),{};let o=new Gk.WorkspaceChange,s=o.getTextEditChange(r),a=await dt(this,Zn,"f").getFixes(i);a.forEach(u=>s.add(u)),dt(this,Pr,"f")?.debug("Applying fixes",{uri:n,edits:a});try{let u=await dt(this,Zn,"f").connection.workspace.applyEdit(o.edit);u.applied||dt(this,Pr,"f")?.debug("Failed to apply fixes",{uri:n,response:u})}catch(u){dt(this,Pr,"f")?.debug("Failed to apply fixes",{uri:n,error:u})}return{}}))}};ei.AutoFixModule=ql;Zn=new WeakMap,Pr=new WeakMap,ia=new WeakMap,kp=new WeakSet,hD=async function(e){return(await dt(this,Zn,"f").getOptions(e.uri)).validate.includes(e.languageId)};ql.id="auto-fix"});var yD=p(Ut=>{"use strict";var Yk=Ut&&Ut.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Kk=Ut&&Ut.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),Xk=Ut&&Ut.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&Yk(r,e,n[i]);return Kk(r,e),r}})(),pD=Ut&&Ut.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Qe=Ut&&Ut.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},oa,Pt,ti;Object.defineProperty(Ut,"__esModule",{value:!0});Ut.CommandManager=void 0;var mD=Xk(Oe()),Fp=class{constructor(e,r){oa.set(this,void 0),Pt.set(this,void 0),ti.set(this,new Map),pD(this,oa,e,"f"),pD(this,Pt,r,"f")}dispose(){Qe(this,Pt,"f")?.debug("Disposing command manager"),Qe(this,ti,"f").clear(),Qe(this,oa,"f").onExecuteCommand(()=>{})}on(e,r){if(Array.isArray(e)){Qe(this,Pt,"f")?.debug("Registering commands",{commands:e});for(let n of e)Qe(this,ti,"f").set(n,r);return{dispose:()=>{Qe(this,Pt,"f")?.debug("Deregistering commands",{commands:e});for(let n of e)Qe(this,ti,"f").delete(n)}}}return Qe(this,Pt,"f")?.debug("Registering command",{command:e}),Qe(this,ti,"f").set(e,r),{dispose:()=>{Qe(this,Pt,"f")?.debug("Deregistering command",{command:e}),Qe(this,ti,"f").delete(e)}}}register(){Qe(this,Pt,"f")?.debug("Registering ExecuteCommandRequest handler"),Qe(this,oa,"f").onExecuteCommand(async(...e)=>{Qe(this,Pt,"f")?.debug("Received ExecuteCommandRequest",{command:e[0].command,arguments:e[0].arguments});let r=Qe(this,ti,"f").get(e[0].command);if(!r)return Qe(this,Pt,"f")?.debug("No handler registered for command",{command:e[0].command}),{};Qe(this,Pt,"f")?.debug("Executing command",{command:e[0].command});try{let n=await r(...e);return Qe(this,Pt,"f")?.debug("Sending command response",{command:e[0].command,response:n}),n}catch(n){return Qe(this,Pt,"f")?.error("Error executing command",{command:e[0].command,error:n}),new mD.ResponseError(mD.ErrorCodes.InternalError,`Error executing command ${e[0].command}`,n)}}),Qe(this,Pt,"f")?.debug("ExecuteCommandRequest handler registered")}};Ut.CommandManager=Fp;oa=new WeakMap,Pt=new WeakMap,ti=new WeakMap});var _D=p($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});$p.createDisableCompletionItem=Jk;var sa=vr();function Jk(t,e=""){let r=sa.CompletionItem.create(t);return r.kind=sa.CompletionItemKind.Snippet,r.insertTextFormat=sa.InsertTextFormat.Snippet,t==="stylelint-disable"?(r.insertText=`/* stylelint-disable \${0:${e||"rule"}} */
/* stylelint-enable \${0:${e||"rule"}} */`,r.detail="Turn off all Stylelint or individual rules, after which you do not need to re-enable Stylelint. (Stylelint)",r.documentation={kind:sa.MarkupKind.Markdown,value:`\`\`\`css
/* stylelint-disable ${e||"rule"} */
/* stylelint-enable ${e||"rule"} */
\`\`\``}):(r.insertText=`/* ${t} \${0:${e||"rule"}} */`,r.detail=t==="stylelint-disable-line"?"Turn off Stylelint rules for individual lines only, after which you do not need to explicitly re-enable them. (Stylelint)":"Turn off Stylelint rules for the next line only, after which you do not need to explicitly re-enable them. (Stylelint)",r.documentation={kind:sa.MarkupKind.Markdown,value:`\`\`\`css
/* ${t} ${e||"rule"} */
\`\`\``}),r}});var bD=p(Or=>{"use strict";var Qk=Or&&Or.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Zk=Or&&Or.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),eF=Or&&Or.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&Qk(r,e,n[i]);return Zk(r,e),r}})(),tF=Or&&Or.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Or,"__esModule",{value:!0});Or.createDisableRuleFileCodeAction=nF;var rF=tF(require("os")),ri=eF(Oe());function nF(t,{code:e}){let r=new ri.WorkspaceChange,n=t.getText(ri.Range.create(ri.Position.create(0,0),ri.Position.create(0,2)));return r.getTextEditChange(t).add(ri.TextEdit.insert(ri.Position.create(n==="#!"?1:0,0),`/* stylelint-disable ${e} */${rF.default.EOL}`)),ri.CodeAction.create(`Disable ${e} for the entire file`,r.edit,ri.CodeActionKind.QuickFix)}});var vD=p(Tr=>{"use strict";var iF=Tr&&Tr.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),oF=Tr&&Tr.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),sF=Tr&&Tr.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&iF(r,e,n[i]);return oF(r,e),r}})(),aF=Tr&&Tr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.createDisableRuleLineCodeAction=cF;var uF=aF(require("os")),cr=sF(Oe());function cF(t,{code:e,range:r},n){let i=new cr.WorkspaceChange;if(n==="sameLine")i.getTextEditChange(t).add(cr.TextEdit.insert(cr.Position.create(r.start.line,cr.uinteger.MAX_VALUE),` /* stylelint-disable-line ${e} */`));else{let s=t.getText(cr.Range.create(cr.Position.create(r.start.line,0),cr.Position.create(r.start.line,cr.uinteger.MAX_VALUE))).match(/^([ \t]+)/)?.[1]??"";i.getTextEditChange(t).add(cr.TextEdit.insert(cr.Position.create(r.start.line,0),`${s}/* stylelint-disable-next-line ${e} */${uF.default.EOL}`))}return cr.CodeAction.create(`Disable ${e} for this line`,i.edit,cr.CodeActionKind.QuickFix)}});var wD=p(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});Wp.displayError=fF;var lF=Dp();function fF(t,e){if(!(e instanceof Error)){t.window.showErrorMessage(String(e).replace(/\n/gu," "));return}if((0,lF.isIterableObject)(e?.reasons)){for(let r of e.reasons)t.window.showErrorMessage(`Stylelint: ${r}`);return}if(e?.code===78){t.window.showErrorMessage(`Stylelint: ${e.message}`);return}t.window.showErrorMessage((e.stack||e.message).replace(/\n/gu," "))}});var RD=p(ii=>{"use strict";var SD=ii&&ii.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Ot=ii&&ii.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ml,ki,Wo,ni,Hp;Object.defineProperty(ii,"__esModule",{value:!0});ii.NotificationManager=void 0;var Up=class{constructor(e,r){Ml.add(this),ki.set(this,void 0),Wo.set(this,void 0),ni.set(this,new Map),SD(this,ki,e,"f"),SD(this,Wo,r,"f")}dispose(){Ot(this,Wo,"f")?.debug("Disposing notification manager");for(let[e]of Ot(this,ni,"f"))e?Ot(this,ki,"f").onNotification(e,()=>{}):Ot(this,ki,"f").onNotification(()=>{});Ot(this,ni,"f").clear()}on(e,r){let n=typeof e=="function",[i,o]=n?[void 0,e]:[e,r];if(!o)throw new Error("Handler must be defined");let s={dispose:()=>{Ot(this,ni,"f").get(i)?.delete(o)}},a=Ot(this,ni,"f").get(i);return a?(a.add(o),s):(Ot(this,ni,"f").set(i,new Set([o])),n?(Ot(this,ki,"f").onNotification((...u)=>Ot(this,Ml,"m",Hp).call(this,void 0,u)),s):(Ot(this,ki,"f").onNotification(e,(...u)=>Ot(this,Ml,"m",Hp).call(this,e,u)),s))}};ii.NotificationManager=Up;ki=new WeakMap,Wo=new WeakMap,ni=new WeakMap,Ml=new WeakSet,Hp=async function(e,r){Ot(this,Wo,"f")?.debug("Received notification",{notificationType:e??"<all>",params:r});let n=Ot(this,ni,"f").get(e),i=[];for(let o of n)i.push(async()=>{try{await o(...r)}catch(s){Ot(this,Wo,"f")?.error("Error handling notification",{notificationType:e??"<all>",error:s})}});await Promise.all(i.map(o=>o()))}});var ED=p(Ho=>{"use strict";var Bp=Ho&&Ho.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},aa;Object.defineProperty(Ho,"__esModule",{value:!0});Ho.RuleCodeActionsCollection=void 0;var zp=class{constructor(){aa.set(this,new Map)}get(e){let r=Bp(this,aa,"f").get(e);if(r)return r;let n={};return Bp(this,aa,"f").set(e,n),n}*[(aa=new WeakMap,Symbol.iterator)](){for(let e of Bp(this,aa,"f").values())e.disableLine&&(yield e.disableLine),e.disableFile&&(yield e.disableFile),e.documentation&&(yield e.documentation)}get size(){let e=this[Symbol.iterator](),r=0;for(;!e.next().done;)r++;return r}};Ho.RuleCodeActionsCollection=zp});var PD=p(DD=>{"use strict";Object.defineProperty(DD,"__esModule",{value:!0})});var Cl=p(Bt=>{"use strict";var dF=Bt&&Bt.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),oi=Bt&&Bt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&dF(e,t,r)};Object.defineProperty(Bt,"__esModule",{value:!0});oi(yD(),Bt);oi(_D(),Bt);oi(bD(),Bt);oi(vD(),Bt);oi(wD(),Bt);oi(RD(),Bt);oi(ED(),Bt);oi(PD(),Bt)});var jl=p((a8,qD)=>{"use strict";var TD=require("path");qD.exports=function(t,e){return t=OD(t),e=OD(e),process.platform==="win32"&&(t=t.toLowerCase(),e=e.toLowerCase()),t.lastIndexOf(e,0)===0&&(t[e.length]===TD.sep||t[e.length]===void 0)};function OD(t){return t[t.length-1]===TD.sep?t.slice(0,-1):t}});var Uo=p((ua,Vp)=>{(function(t,e){if(typeof ua=="object"&&typeof Vp=="object")Vp.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r=e();for(var n in r)(typeof ua=="object"?ua:t)[n]=r[n]}})(ua,(()=>(()=>{"use strict";var t={975:i=>{function o(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function s(u,c){for(var h,d="",g=0,_=-1,y=0,E=0;E<=u.length;++E){if(E<u.length)h=u.charCodeAt(E);else{if(h===47)break;h=47}if(h===47){if(!(_===E-1||y===1))if(_!==E-1&&y===2){if(d.length<2||g!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var C=d.lastIndexOf("/");if(C!==d.length-1){C===-1?(d="",g=0):g=(d=d.slice(0,C)).length-1-d.lastIndexOf("/"),_=E,y=0;continue}}else if(d.length===2||d.length===1){d="",g=0,_=E,y=0;continue}}c&&(d.length>0?d+="/..":d="..",g=2)}else d.length>0?d+="/"+u.slice(_+1,E):d=u.slice(_+1,E),g=E-_-1;_=E,y=0}else h===46&&y!==-1?++y:y=-1}return d}var a={resolve:function(){for(var u,c="",h=!1,d=arguments.length-1;d>=-1&&!h;d--){var g;d>=0?g=arguments[d]:(u===void 0&&(u=process.cwd()),g=u),o(g),g.length!==0&&(c=g+"/"+c,h=g.charCodeAt(0)===47)}return c=s(c,!h),h?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(u){if(o(u),u.length===0)return".";var c=u.charCodeAt(0)===47,h=u.charCodeAt(u.length-1)===47;return(u=s(u,!c)).length!==0||c||(u="."),u.length>0&&h&&(u+="/"),c?"/"+u:u},isAbsolute:function(u){return o(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,c=0;c<arguments.length;++c){var h=arguments[c];o(h),h.length>0&&(u===void 0?u=h:u+="/"+h)}return u===void 0?".":a.normalize(u)},relative:function(u,c){if(o(u),o(c),u===c||(u=a.resolve(u))===(c=a.resolve(c)))return"";for(var h=1;h<u.length&&u.charCodeAt(h)===47;++h);for(var d=u.length,g=d-h,_=1;_<c.length&&c.charCodeAt(_)===47;++_);for(var y=c.length-_,E=g<y?g:y,C=-1,O=0;O<=E;++O){if(O===E){if(y>E){if(c.charCodeAt(_+O)===47)return c.slice(_+O+1);if(O===0)return c.slice(_+O)}else g>E&&(u.charCodeAt(h+O)===47?C=O:O===0&&(C=0));break}var w=u.charCodeAt(h+O);if(w!==c.charCodeAt(_+O))break;w===47&&(C=O)}var b="";for(O=h+C+1;O<=d;++O)O!==d&&u.charCodeAt(O)!==47||(b.length===0?b+="..":b+="/..");return b.length>0?b+c.slice(_+C):(_+=C,c.charCodeAt(_)===47&&++_,c.slice(_))},_makeLong:function(u){return u},dirname:function(u){if(o(u),u.length===0)return".";for(var c=u.charCodeAt(0),h=c===47,d=-1,g=!0,_=u.length-1;_>=1;--_)if((c=u.charCodeAt(_))===47){if(!g){d=_;break}}else g=!1;return d===-1?h?"/":".":h&&d===1?"//":u.slice(0,d)},basename:function(u,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');o(u);var h,d=0,g=-1,_=!0;if(c!==void 0&&c.length>0&&c.length<=u.length){if(c.length===u.length&&c===u)return"";var y=c.length-1,E=-1;for(h=u.length-1;h>=0;--h){var C=u.charCodeAt(h);if(C===47){if(!_){d=h+1;break}}else E===-1&&(_=!1,E=h+1),y>=0&&(C===c.charCodeAt(y)?--y==-1&&(g=h):(y=-1,g=E))}return d===g?g=E:g===-1&&(g=u.length),u.slice(d,g)}for(h=u.length-1;h>=0;--h)if(u.charCodeAt(h)===47){if(!_){d=h+1;break}}else g===-1&&(_=!1,g=h+1);return g===-1?"":u.slice(d,g)},extname:function(u){o(u);for(var c=-1,h=0,d=-1,g=!0,_=0,y=u.length-1;y>=0;--y){var E=u.charCodeAt(y);if(E!==47)d===-1&&(g=!1,d=y+1),E===46?c===-1?c=y:_!==1&&(_=1):c!==-1&&(_=-1);else if(!g){h=y+1;break}}return c===-1||d===-1||_===0||_===1&&c===d-1&&c===h+1?"":u.slice(c,d)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return(function(c,h){var d=h.dir||h.root,g=h.base||(h.name||"")+(h.ext||"");return d?d===h.root?d+g:d+"/"+g:g})(0,u)},parse:function(u){o(u);var c={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return c;var h,d=u.charCodeAt(0),g=d===47;g?(c.root="/",h=1):h=0;for(var _=-1,y=0,E=-1,C=!0,O=u.length-1,w=0;O>=h;--O)if((d=u.charCodeAt(O))!==47)E===-1&&(C=!1,E=O+1),d===46?_===-1?_=O:w!==1&&(w=1):_!==-1&&(w=-1);else if(!C){y=O+1;break}return _===-1||E===-1||w===0||w===1&&_===E-1&&_===y+1?E!==-1&&(c.base=c.name=y===0&&g?u.slice(1,E):u.slice(y,E)):(y===0&&g?(c.name=u.slice(1,_),c.base=u.slice(1,E)):(c.name=u.slice(y,_),c.base=u.slice(y,E)),c.ext=u.slice(_,E)),y>0?c.dir=u.slice(0,y-1):g&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a},70:(i,o)=>{if(Object.defineProperty(o,"__esModule",{value:!0}),o.isWindows=void 0,typeof process=="object")o.isWindows=process.platform==="win32";else if(typeof navigator=="object"){let s=navigator.userAgent;o.isWindows=s.indexOf("Windows")>=0}},231:(i,o,s)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.uriToFsPath=o.URI=void 0;let a=s(70),u=/^\w[\w\d+.-]*$/,c=/^\//,h=/^\/\//;function d(F,I){if(!F.scheme&&I)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${F.authority}", path: "${F.path}", query: "${F.query}", fragment: "${F.fragment}"}`);if(F.scheme&&!u.test(F.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(F.path){if(F.authority){if(!c.test(F.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(h.test(F.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let g="",_="/",y=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class E{static isUri(I){return I instanceof E||!!I&&typeof I.authority=="string"&&typeof I.fragment=="string"&&typeof I.path=="string"&&typeof I.query=="string"&&typeof I.scheme=="string"&&typeof I.fsPath=="string"&&typeof I.with=="function"&&typeof I.toString=="function"}scheme;authority;path;query;fragment;constructor(I,H,V,ie,le,q=!1){typeof I=="object"?(this.scheme=I.scheme||g,this.authority=I.authority||g,this.path=I.path||g,this.query=I.query||g,this.fragment=I.fragment||g):(this.scheme=(function(U,ne){return U||ne?U:"file"})(I,q),this.authority=H||g,this.path=(function(U,ne){switch(U){case"https":case"http":case"file":ne?ne[0]!==_&&(ne=_+ne):ne=_}return ne})(this.scheme,V||g),this.query=ie||g,this.fragment=le||g,d(this,q))}get fsPath(){return x(this,!1)}with(I){if(!I)return this;let{scheme:H,authority:V,path:ie,query:le,fragment:q}=I;return H===void 0?H=this.scheme:H===null&&(H=g),V===void 0?V=this.authority:V===null&&(V=g),ie===void 0?ie=this.path:ie===null&&(ie=g),le===void 0?le=this.query:le===null&&(le=g),q===void 0?q=this.fragment:q===null&&(q=g),H===this.scheme&&V===this.authority&&ie===this.path&&le===this.query&&q===this.fragment?this:new O(H,V,ie,le,q)}static parse(I,H=!1){let V=y.exec(I);return V?new O(V[2]||g,re(V[4]||g),re(V[5]||g),re(V[7]||g),re(V[9]||g),H):new O(g,g,g,g,g)}static file(I){let H=g;if(a.isWindows&&(I=I.replace(/\\/g,_)),I[0]===_&&I[1]===_){let V=I.indexOf(_,2);V===-1?(H=I.substring(2),I=_):(H=I.substring(2,V),I=I.substring(V)||_)}return new O("file",H,I,g,g)}static from(I){let H=new O(I.scheme,I.authority,I.path,I.query,I.fragment);return d(H,!0),H}toString(I=!1){return W(this,I)}toJSON(){return this}static revive(I){if(I){if(I instanceof E)return I;{let H=new O(I);return H._formatted=I.external,H._fsPath=I._sep===C?I.fsPath:null,H}}return I}}o.URI=E;let C=a.isWindows?1:void 0;class O extends E{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath}toString(I=!1){return I?W(this,!0):(this._formatted||(this._formatted=W(this,!1)),this._formatted)}toJSON(){let I={$mid:1};return this._fsPath&&(I.fsPath=this._fsPath,I._sep=C),this._formatted&&(I.external=this._formatted),this.path&&(I.path=this.path),this.scheme&&(I.scheme=this.scheme),this.authority&&(I.authority=this.authority),this.query&&(I.query=this.query),this.fragment&&(I.fragment=this.fragment),I}}let w={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function b(F,I,H){let V,ie=-1;for(let le=0;le<F.length;le++){let q=F.charCodeAt(le);if(q>=97&&q<=122||q>=65&&q<=90||q>=48&&q<=57||q===45||q===46||q===95||q===126||I&&q===47||H&&q===91||H&&q===93||H&&q===58)ie!==-1&&(V+=encodeURIComponent(F.substring(ie,le)),ie=-1),V!==void 0&&(V+=F.charAt(le));else{V===void 0&&(V=F.substr(0,le));let U=w[q];U!==void 0?(ie!==-1&&(V+=encodeURIComponent(F.substring(ie,le)),ie=-1),V+=U):ie===-1&&(ie=le)}}return ie!==-1&&(V+=encodeURIComponent(F.substring(ie))),V!==void 0?V:F}function M(F){let I;for(let H=0;H<F.length;H++){let V=F.charCodeAt(H);V===35||V===63?(I===void 0&&(I=F.substr(0,H)),I+=w[V]):I!==void 0&&(I+=F[H])}return I!==void 0?I:F}function x(F,I){let H;return H=F.authority&&F.path.length>1&&F.scheme==="file"?`//${F.authority}${F.path}`:F.path.charCodeAt(0)===47&&(F.path.charCodeAt(1)>=65&&F.path.charCodeAt(1)<=90||F.path.charCodeAt(1)>=97&&F.path.charCodeAt(1)<=122)&&F.path.charCodeAt(2)===58?I?F.path.substr(1):F.path[1].toLowerCase()+F.path.substr(2):F.path,a.isWindows&&(H=H.replace(/\//g,"\\")),H}function W(F,I){let H=I?M:b,V="",{scheme:ie,authority:le,path:q,query:U,fragment:ne}=F;if(ie&&(V+=ie,V+=":"),(le||ie==="file")&&(V+=_,V+=_),le){let fe=le.indexOf("@");if(fe!==-1){let Q=le.substr(0,fe);le=le.substr(fe+1),fe=Q.lastIndexOf(":"),fe===-1?V+=H(Q,!1,!1):(V+=H(Q.substr(0,fe),!1,!1),V+=":",V+=H(Q.substr(fe+1),!1,!0)),V+="@"}le=le.toLowerCase(),fe=le.lastIndexOf(":"),fe===-1?V+=H(le,!1,!0):(V+=H(le.substr(0,fe),!1,!0),V+=le.substr(fe))}if(q){if(q.length>=3&&q.charCodeAt(0)===47&&q.charCodeAt(2)===58){let fe=q.charCodeAt(1);fe>=65&&fe<=90&&(q=`/${String.fromCharCode(fe+32)}:${q.substr(3)}`)}else if(q.length>=2&&q.charCodeAt(1)===58){let fe=q.charCodeAt(0);fe>=65&&fe<=90&&(q=`${String.fromCharCode(fe+32)}:${q.substr(2)}`)}V+=H(q,!0,!1)}return U&&(V+="?",V+=H(U,!1,!1)),ne&&(V+="#",V+=I?ne:b(ne,!1,!1)),V}function G(F){try{return decodeURIComponent(F)}catch{return F.length>3?F.substr(0,3)+G(F.substr(3)):F}}o.uriToFsPath=x;let ee=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function re(F){return F.match(ee)?F.replace(ee,(I=>G(I))):F}},552:function(i,o,s){var a=this&&this.__createBinding||(Object.create?function(y,E,C,O){O===void 0&&(O=C);var w=Object.getOwnPropertyDescriptor(E,C);w&&!("get"in w?!E.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return E[C]}}),Object.defineProperty(y,O,w)}:function(y,E,C,O){O===void 0&&(O=C),y[O]=E[C]}),u=this&&this.__setModuleDefault||(Object.create?function(y,E){Object.defineProperty(y,"default",{enumerable:!0,value:E})}:function(y,E){y.default=E}),c=this&&this.__importStar||function(y){if(y&&y.__esModule)return y;var E={};if(y!=null)for(var C in y)C!=="default"&&Object.prototype.hasOwnProperty.call(y,C)&&a(E,y,C);return u(E,y),E};Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;let h=c(s(975)),d=h.posix||h,g="/";var _;(function(y){y.joinPath=function(E,...C){return E.with({path:d.join(E.path,...C)})},y.resolvePath=function(E,...C){let O=E.path,w=!1;O[0]!==g&&(O=g+O,w=!0);let b=d.resolve(O,...C);return w&&b[0]===g&&!E.authority&&(b=b.substring(1)),E.with({path:b})},y.dirname=function(E){if(E.path.length===0||E.path===g)return E;let C=d.dirname(E.path);return C.length===1&&C.charCodeAt(0)===46&&(C=""),E.with({path:C})},y.basename=function(E){return d.basename(E.path)},y.extname=function(E){return d.extname(E.path)}})(_||(o.Utils=_={}))}},e={};function r(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,r),s.exports}var n={};return(()=>{var i=n;Object.defineProperty(i,"__esModule",{value:!0}),i.Utils=i.URI=void 0;let o=r(231);Object.defineProperty(i,"URI",{enumerable:!0,get:function(){return o.URI}});let s=r(552);Object.defineProperty(i,"Utils",{enumerable:!0,get:function(){return s.Utils}})})(),n})()))});var Gp=p(la=>{"use strict";var MD=la&&la.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(la,"__esModule",{value:!0});la.findPackageRoot=gF;var hF=MD(require("fs/promises")),ca=MD(require("path"));async function gF(t,e="package.json"){let r=t;for(;;){let n=ca.default.join(r,e);try{if((await hF.default.stat(n)).isFile())return r;let o=ca.default.dirname(r);if(!ca.default.relative(o,r))return;r=o}catch(i){if(i.code==="ENOENT"||i.code==="ENOTDIR"){let o=ca.default.dirname(r);if(!ca.default.relative(o,r))return;r=o}else throw i}}}});var jD=p(fa=>{"use strict";var CD=fa&&fa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fa,"__esModule",{value:!0});fa.runProcessFindLine=yF;var pF=CD(require("child_process")),mF=CD(require("readline"));function yF(t,e,r,n){return new Promise((i,o)=>{let s=pF.default.spawn(t,e,r),a=mF.default.createInterface({input:s.stdout}),u,c,h=!1,d=!1,g=()=>{h||c===void 0||!d||(h=!0,c===0?i(u):o(new Error(`Command "${t}" exited with code ${c}.`)))},_=y=>{h=!0,s.removeAllListeners(),a.close();try{s.kill()}catch{}o(y)};a.on("line",y=>{if(!(h||u!==void 0))try{let E=n(y);E!==void 0&&(u=E),g()}catch(E){_(E)}}),a.on("close",()=>{h||(d=!0,g())}),s.on("error",_),s.on("exit",(y,E)=>{c=y??E,g()})})}});var Qp=p(Xr=>{"use strict";var AD=Xr&&Xr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ut=Xr&&Xr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ND=Xr&&Xr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},da,qr,Al,Fi,Xp,LD,ID,xD;Object.defineProperty(Xr,"__esModule",{value:!0});Xr.GlobalPathResolver=void 0;var _F=ND(require("os")),Yp=ND(require("path")),Kp=jD(),Jp=class{constructor(e){da.add(this),qr.set(this,void 0),Al.set(this,{yarn:void 0,npm:void 0,pnpm:void 0}),Fi.set(this,void 0),Xp.set(this,{yarn:ut(this,da,"m",LD).bind(this),npm:ut(this,da,"m",ID).bind(this),pnpm:ut(this,da,"m",xD).bind(this)}),AD(this,qr,e,"f"),AD(this,Fi,_F.default.platform()==="win32","f")}async resolve(e){let r=ut(this,Al,"f")[e];if(r)return r;let n=ut(this,Xp,"f")[e];if(!n){ut(this,qr,"f")?.warn("Unsupported package manager.",{packageManager:e});return}try{let i=await n();return i&&(ut(this,Al,"f")[e]=i),i}catch(i){ut(this,qr,"f")?.warn("Failed to resolve global node_modules path.",{packageManager:e,error:i});return}}};Xr.GlobalPathResolver=Jp;qr=new WeakMap,Al=new WeakMap,Fi=new WeakMap,Xp=new WeakMap,da=new WeakSet,LD=async function(){let e=n=>{try{return JSON.parse(n)}catch{return}},r=await(0,Kp.runProcessFindLine)("yarn",["global","dir","--json"],ut(this,Fi,"f")?{shell:!0}:void 0,n=>{let i=e(n);if(!i||i.type!=="log"||!i.data)return;let o=Yp.default.join(i.data,"node_modules");return ut(this,qr,"f")?.debug("Yarn returned global node_modules path.",{path:o}),o});if(!r){ut(this,qr,"f")?.warn('"yarn global dir --json" did not return a path.');return}return r},ID=async function(){let e=await(0,Kp.runProcessFindLine)("npm",["config","get","prefix"],ut(this,Fi,"f")?{shell:!0}:void 0,r=>{let n=r.trim();if(!n)return;let i=ut(this,Fi,"f")?Yp.default.join(n,"node_modules"):Yp.default.join(n,"lib/node_modules");return ut(this,qr,"f")?.debug("npm returned global node_modules path.",{path:i}),i});if(!e){ut(this,qr,"f")?.warn('"npm config get prefix" did not return a path.');return}return e},xD=async function(){let e=await(0,Kp.runProcessFindLine)("pnpm",["root","-g"],ut(this,Fi,"f")?{shell:!0}:void 0,r=>{let n=r.trim();if(n)return ut(this,qr,"f")?.debug("pnpm returned global node_modules path.",{path:n}),n});if(!e){ut(this,qr,"f")?.warn('"pnpm root -g" did not return a path.');return}return e}});var YD=p((f8,GD)=>{var Zt=-1,Tt=1,nt=0;function ha(t,e,r,n,i){if(t===e)return t?[[nt,t]]:[];if(r!=null){var o=OF(t,e,r);if(o)return o}var s=em(t,e),a=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=Nl(t,e);var u=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var c=bF(t,e);return a&&c.unshift([nt,a]),u&&c.push([nt,u]),tm(c,i),n&&SF(c),c}function bF(t,e){var r;if(!t)return[[Tt,e]];if(!e)return[[Zt,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,o=n.indexOf(i);if(o!==-1)return r=[[Tt,n.substring(0,o)],[nt,i],[Tt,n.substring(o+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=Zt),r;if(i.length===1)return[[Zt,t],[Tt,e]];var s=wF(t,e);if(s){var a=s[0],u=s[1],c=s[2],h=s[3],d=s[4],g=ha(a,c),_=ha(u,h);return g.concat([[nt,d]],_)}return vF(t,e)}function vF(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),o=i,s=2*i,a=new Array(s),u=new Array(s),c=0;c<s;c++)a[c]=-1,u[c]=-1;a[o+1]=0,u[o+1]=0;for(var h=r-n,d=h%2!==0,g=0,_=0,y=0,E=0,C=0;C<i;C++){for(var O=-C+g;O<=C-_;O+=2){var w=o+O,b;O===-C||O!==C&&a[w-1]<a[w+1]?b=a[w+1]:b=a[w-1]+1;for(var M=b-O;b<r&&M<n&&t.charAt(b)===e.charAt(M);)b++,M++;if(a[w]=b,b>r)_+=2;else if(M>n)g+=2;else if(d){var x=o+h-O;if(x>=0&&x<s&&u[x]!==-1){var W=r-u[x];if(b>=W)return kD(t,e,b,M)}}}for(var G=-C+y;G<=C-E;G+=2){var x=o+G,W;G===-C||G!==C&&u[x-1]<u[x+1]?W=u[x+1]:W=u[x-1]+1;for(var ee=W-G;W<r&&ee<n&&t.charAt(r-W-1)===e.charAt(n-ee-1);)W++,ee++;if(u[x]=W,W>r)E+=2;else if(ee>n)y+=2;else if(!d){var w=o+h-G;if(w>=0&&w<s&&a[w]!==-1){var b=a[w],M=o+b-w;if(W=r-W,b>=W)return kD(t,e,b,M)}}}}return[[Zt,t],[Tt,e]]}function kD(t,e,r,n){var i=t.substring(0,r),o=e.substring(0,n),s=t.substring(r),a=e.substring(n),u=ha(i,o),c=ha(s,a);return u.concat(c)}function em(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,o=0;r<i;)t.substring(o,i)==e.substring(o,i)?(r=i,o=r):n=i,i=Math.floor((n-r)/2+r);return UD(t.charCodeAt(i-1))&&i--,i}function FD(t,e){var r=t.length,n=e.length;if(r==0||n==0)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var i=Math.min(r,n);if(t==e)return i;for(var o=0,s=1;;){var a=t.substring(i-s),u=e.indexOf(a);if(u==-1)return o;s+=u,(u==0||t.substring(i-s)==e.substring(0,s))&&(o=s,s++)}}function Nl(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,o=0;r<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(r=i,o=r):n=i,i=Math.floor((n-r)/2+r);return BD(t.charCodeAt(t.length-i))&&i--,i}function wF(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(_,y,E){for(var C=_.substring(E,E+Math.floor(_.length/4)),O=-1,w="",b,M,x,W;(O=y.indexOf(C,O+1))!==-1;){var G=em(_.substring(E),y.substring(O)),ee=Nl(_.substring(0,E),y.substring(0,O));w.length<ee+G&&(w=y.substring(O-ee,O)+y.substring(O,O+G),b=_.substring(0,E-ee),M=_.substring(E+G),x=y.substring(0,O-ee),W=y.substring(O+G))}return w.length*2>=_.length?[b,M,x,W,w]:null}var o=i(r,n,Math.ceil(r.length/4)),s=i(r,n,Math.ceil(r.length/2)),a;if(!o&&!s)return null;s?o?a=o[4].length>s[4].length?o:s:a=s:a=o;var u,c,h,d;t.length>e.length?(u=a[0],c=a[1],h=a[2],d=a[3]):(h=a[0],d=a[1],u=a[2],c=a[3]);var g=a[4];return[u,c,h,d,g]}function SF(t){for(var e=!1,r=[],n=0,i=null,o=0,s=0,a=0,u=0,c=0;o<t.length;)t[o][0]==nt?(r[n++]=o,s=u,a=c,u=0,c=0,i=t[o][1]):(t[o][0]==Tt?u+=t[o][1].length:c+=t[o][1].length,i&&i.length<=Math.max(s,a)&&i.length<=Math.max(u,c)&&(t.splice(r[n-1],0,[Zt,i]),t[r[n-1]+1][0]=Tt,n--,n--,o=n>0?r[n-1]:-1,s=0,a=0,u=0,c=0,i=null,e=!0)),o++;for(e&&tm(t),DF(t),o=1;o<t.length;){if(t[o-1][0]==Zt&&t[o][0]==Tt){var h=t[o-1][1],d=t[o][1],g=FD(h,d),_=FD(d,h);g>=_?(g>=h.length/2||g>=d.length/2)&&(t.splice(o,0,[nt,d.substring(0,g)]),t[o-1][1]=h.substring(0,h.length-g),t[o+1][1]=d.substring(g),o++):(_>=h.length/2||_>=d.length/2)&&(t.splice(o,0,[nt,h.substring(0,_)]),t[o-1][0]=Tt,t[o-1][1]=d.substring(0,d.length-_),t[o+1][0]=Zt,t[o+1][1]=h.substring(_),o++),o++}o++}}var $D=/[^a-zA-Z0-9]/,WD=/\s/,HD=/[\r\n]/,RF=/\n\r?\n$/,EF=/^\r?\n\r?\n/;function DF(t){function e(_,y){if(!_||!y)return 6;var E=_.charAt(_.length-1),C=y.charAt(0),O=E.match($D),w=C.match($D),b=O&&E.match(WD),M=w&&C.match(WD),x=b&&E.match(HD),W=M&&C.match(HD),G=x&&_.match(RF),ee=W&&y.match(EF);return G||ee?5:x||W?4:O&&!b&&M?3:b||M?2:O||w?1:0}for(var r=1;r<t.length-1;){if(t[r-1][0]==nt&&t[r+1][0]==nt){var n=t[r-1][1],i=t[r][1],o=t[r+1][1],s=Nl(n,i);if(s){var a=i.substring(i.length-s);n=n.substring(0,n.length-s),i=a+i.substring(0,i.length-s),o=a+o}for(var u=n,c=i,h=o,d=e(n,i)+e(i,o);i.charAt(0)===o.charAt(0);){n+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var g=e(n,i)+e(i,o);g>=d&&(d=g,u=n,c=i,h=o)}t[r-1][1]!=u&&(u?t[r-1][1]=u:(t.splice(r-1,1),r--),t[r][1]=c,h?t[r+1][1]=h:(t.splice(r+1,1),r--))}r++}}function tm(t,e){t.push([nt,""]);for(var r=0,n=0,i=0,o="",s="",a;r<t.length;){if(r<t.length-1&&!t[r][1]){t.splice(r,1);continue}switch(t[r][0]){case Tt:i++,s+=t[r][1],r++;break;case Zt:n++,o+=t[r][1],r++;break;case nt:var u=r-i-n-1;if(e){if(u>=0&&VD(t[u][1])){var c=t[u][1].slice(-1);if(t[u][1]=t[u][1].slice(0,-1),o=c+o,s=c+s,!t[u][1]){t.splice(u,1),r--;var h=u-1;t[h]&&t[h][0]===Tt&&(i++,s=t[h][1]+s,h--),t[h]&&t[h][0]===Zt&&(n++,o=t[h][1]+o,h--),u=h}}if(zD(t[r][1])){var c=t[r][1].charAt(0);t[r][1]=t[r][1].slice(1),o+=c,s+=c}}if(r<t.length-1&&!t[r][1]){t.splice(r,1);break}if(o.length>0||s.length>0){o.length>0&&s.length>0&&(a=em(s,o),a!==0&&(u>=0?t[u][1]+=s.substring(0,a):(t.splice(0,0,[nt,s.substring(0,a)]),r++),s=s.substring(a),o=o.substring(a)),a=Nl(s,o),a!==0&&(t[r][1]=s.substring(s.length-a)+t[r][1],s=s.substring(0,s.length-a),o=o.substring(0,o.length-a)));var d=i+n;o.length===0&&s.length===0?(t.splice(r-d,d),r=r-d):o.length===0?(t.splice(r-d,d,[Tt,s]),r=r-d+1):s.length===0?(t.splice(r-d,d,[Zt,o]),r=r-d+1):(t.splice(r-d,d,[Zt,o],[Tt,s]),r=r-d+2)}r!==0&&t[r-1][0]===nt?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,i=0,n=0,o="",s="";break}}t[t.length-1][1]===""&&t.pop();var g=!1;for(r=1;r<t.length-1;)t[r-1][0]===nt&&t[r+1][0]===nt&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),g=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),g=!0)),r++;g&&tm(t,e)}function UD(t){return t>=55296&&t<=56319}function BD(t){return t>=56320&&t<=57343}function zD(t){return BD(t.charCodeAt(0))}function VD(t){return UD(t.charCodeAt(t.length-1))}function PF(t){for(var e=[],r=0;r<t.length;r++)t[r][1].length>0&&e.push(t[r]);return e}function Zp(t,e,r,n){return VD(t)||zD(n)?null:PF([[nt,t],[Zt,e],[Tt,r],[nt,n]])}function OF(t,e,r){var n=typeof r=="number"?{index:r,length:0}:r.oldRange,i=typeof r=="number"?null:r.newRange,o=t.length,s=e.length;if(n.length===0&&(i===null||i.length===0)){var a=n.index,u=t.slice(0,a),c=t.slice(a),h=i?i.index:null;e:{var d=a+s-o;if(h!==null&&h!==d||d<0||d>s)break e;var g=e.slice(0,d),_=e.slice(d);if(_!==c)break e;var y=Math.min(a,d),E=u.slice(0,y),C=g.slice(0,y);if(E!==C)break e;var O=u.slice(y),w=g.slice(y);return Zp(E,O,w,c)}e:{if(h!==null&&h!==a)break e;var b=a,g=e.slice(0,b),_=e.slice(b);if(g!==u)break e;var M=Math.min(o-b,s-b),x=c.slice(c.length-M),W=_.slice(_.length-M);if(x!==W)break e;var O=c.slice(0,c.length-M),w=_.slice(0,_.length-M);return Zp(u,O,w,x)}}if(n.length>0&&i&&i.length===0)e:{var E=t.slice(0,n.index),x=t.slice(n.index+n.length),y=E.length,M=x.length;if(s<y+M)break e;var C=e.slice(0,y),W=e.slice(s-M);if(E!==C||x!==W)break e;var O=t.slice(y,o-M),w=e.slice(y,s-M);return Zp(E,O,w,x)}return null}function Ll(t,e,r,n){return ha(t,e,r,n,!0)}Ll.INSERT=Tt;Ll.DELETE=Zt;Ll.EQUAL=nt;GD.exports=Ll});var nm=p(ga=>{"use strict";var TF=ga&&ga.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ga,"__esModule",{value:!0});ga.createTextEdits=qF;var Il=TF(YD()),rm=vr();function qF(t,e){let r=(0,Il.default)(t.getText(),e),n=[],i=0;for(let[o,s]of r){let a=i;switch(o){case Il.default.EQUAL:i+=s.length;break;case Il.default.DELETE:i+=s.length,n.push(rm.TextEdit.del(rm.Range.create(t.positionAt(a),t.positionAt(i))));break;case Il.default.INSERT:n.push(rm.TextEdit.insert(t.positionAt(a),s));break}}return n}});var KD=p(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.getEditInfo=MF;function MF(t,e,r){if(!r||t.version!==r.version)return;let n=r.getWarning?.(e);if(!n)return;let i=n.fix;if(i)return{label:`Fix this ${n.rule} problem`,edit:{newText:i.text,range:{start:t.positionAt(i.range[0]),end:t.positionAt(i.range[1])}}}}});var JD=p(om=>{"use strict";Object.defineProperty(om,"__esModule",{value:!0});om.getDisableType=CF;var XD=vr();function CF(t,e){let r=t.offsetAt(XD.Position.create(e.line,0)),n=t.offsetAt(XD.Position.create(e.line+1,0)),i=t.getText().slice(r,n),o=i.slice(0,e.character),s=i.slice(e.character),a=o.match(/\/\*\s*(stylelint-disable(?:(?:-next)?-line)?)\s[a-z\-/\s,]*$/i)?.[1]?.toLowerCase();return a&&/^[a-z\-/\s,]*\*\//i.test(s)?a:void 0}});var QD=p(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.getFixes=AF;var jF=nm();async function AF(t,e,r={},n={}){let i=await t.lintDocument(e,{...r,fix:!0},n);return typeof i.output=="string"?(0,jF.createTextEdits)(e,i.output):[]}});var ZD=p(pa=>{"use strict";var NF=pa&&pa.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pa,"__esModule",{value:!0});pa.getWorkspaceFolder=IF;var LF=NF(jl()),am=Uo();async function IF(t,e){let{scheme:r,fsPath:n}=am.URI.parse(e.uri);if(r==="untitled"){let i=(await t.workspace.getWorkspaceFolders())?.[0]?.uri;return i?am.URI.parse(i).fsPath:void 0}if(n){let i=await t.workspace.getWorkspaceFolders();if(i)for(let{uri:o}of i){let s=am.URI.parse(o).fsPath;if((0,LF.default)(n,s))return s}}}});var Bo=p(Mr=>{"use strict";var xF=Mr&&Mr.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),ma=Mr&&Mr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&xF(e,t,r)};Object.defineProperty(Mr,"__esModule",{value:!0});ma(nm(),Mr);ma(KD(),Mr);ma(JD(),Mr);ma(QD(),Mr);ma(ZD(),Mr)});var eP=p(xl=>{"use strict";Object.defineProperty(xl,"__esModule",{value:!0});xl.getFirstReturnValue=kF;xl.getFirstResolvedValue=FF;function kF(...t){for(let e of t){let r=e();if(r!==void 0)return r}}async function FF(...t){for(let e of t){let r=await e();if(r!==void 0)return r}}});var tP=p(kl=>{"use strict";Object.defineProperty(kl,"__esModule",{value:!0});kl.lazyCall=$F;kl.lazyCallAsync=WF;function $F(t){let e=!1,r;return()=>(e||(r=t(),e=!0),r)}function WF(t){let e=!1,r;return async()=>(e||(r=await t(),e=!0),r)}});var nP=p(si=>{"use strict";var HF=si&&si.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),rP=si&&si.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HF(e,t,r)};Object.defineProperty(si,"__esModule",{value:!0});rP(eP(),si);rP(tP(),si)});var fP=p(Jr=>{"use strict";var um=Jr&&Jr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Pe=Jr&&Jr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},fm=Jr&&Jr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Cr,vn,ht,Wl,Fl,iP,oP,sP,aP,cP,lP;Object.defineProperty(Jr,"__esModule",{value:!0});Jr.StylelintResolver=void 0;var UF=fm(require("fs/promises")),BF=require("module"),$l=fm(require("path")),zF=fm(require("process")),VF=oc(),GF=Uo(),YF=Bo(),uP=Gp(),KF=Qp(),cm=nP(),lm=class{constructor(e,r){Cr.add(this),vn.set(this,void 0),ht.set(this,void 0),Wl.set(this,void 0),um(this,vn,e,"f"),um(this,ht,r,"f"),um(this,Wl,new KF.GlobalPathResolver(r),"f")}async resolve({packageManager:e,stylelintPath:r},n){let i=(0,cm.lazyCallAsync)(async()=>Pe(this,vn,"f")&&await(0,YF.getWorkspaceFolder)(Pe(this,vn,"f"),n)),o=await(0,cm.getFirstResolvedValue)(()=>Pe(this,Cr,"m",cP).call(this,r,i),()=>Pe(this,Cr,"m",lP).call(this,n,i,e));if(!o){Pe(this,ht,"f")?.warn("Failed to load Stylelint either globally or from the current workspace.");return}return o}};Jr.StylelintResolver=lm;vn=new WeakMap,ht=new WeakMap,Wl=new WeakMap,Cr=new WeakSet,Fl=function(e,r){Pe(this,ht,"f")&&Pe(this,ht,"f")?.error(e,r&&{error:r}),Pe(this,vn,"f")&&Pe(this,vn,"f").window.showErrorMessage(`Stylelint: ${e}`)},iP=async function(e){let r=[".pnp.cjs",".pnp.js"];for(let n of r){let i=$l.default.join(e,n);try{if((await UF.default.stat(i)).isFile())return i}catch(o){Pe(this,ht,"f")?.debug("Did not find PnP loader at tested path",{path:i,error:o})}}Pe(this,ht,"f")?.debug("Could not find a PnP loader",{path:e})},oP=async function(e){if(!e)return;let r=await(0,uP.findPackageRoot)(e,"yarn.lock");if(!r){Pe(this,ht,"f")?.debug("Could not find a Yarn lockfile",{cwd:e});return}let n=await Pe(this,Cr,"m",iP).call(this,r);if(n){if(!zF.default.versions.pnp)try{require(n).setup()}catch(i){Pe(this,ht,"f")?.warn("Could not setup PnP",{path:n,error:i});return}try{let i=(0,BF.createRequire)(n),o=i.resolve("stylelint"),s=await(0,uP.findPackageRoot)(o);if(!s){Pe(this,ht,"f")?.warn("Failed to find the Stylelint package root",{path:o});return}let u={stylelint:i("stylelint"),resolvedPath:s};return Pe(this,ht,"f")?.debug("Resolved Stylelint using PnP",{path:n}),u}catch(i){Pe(this,ht,"f")?.warn("Could not load Stylelint using PnP",{path:r,error:i});return}}},sP=async function(e,r,n){try{let i=await VF.Files.resolve("stylelint",r,e,n),o={stylelint:require(i),resolvedPath:i};return Pe(this,ht,"f")?.debug("Resolved Stylelint from node_modules",{path:i}),o}catch(i){Pe(this,ht,"f")?.warn("Could not load Stylelint from node_modules",{error:i});return}},aP=async function(e,r){if(!Pe(this,vn,"f")||$l.default.isAbsolute(e))return e;let n=await r();return n?$l.default.join(n,e):e},cP=async function(e,r){if(!e)return;let n=`Failed to load Stylelint from "stylelintPath": ${e}.`;try{let i=await Pe(this,Cr,"m",aP).call(this,e,r),o=require(i);if(o&&typeof o.lint=="function")return{stylelint:o,resolvedPath:i}}catch(i){throw Pe(this,Cr,"m",Fl).call(this,n,i),i}Pe(this,Cr,"m",Fl).call(this,n)},lP=async function(e,r,n){let i=Pe(this,vn,"f");try{let o=n?await Pe(this,Wl,"f").resolve(n):void 0,s=GF.URI.parse(e.uri),a=s.scheme==="file"?$l.default.dirname(s.fsPath):await r(),u=await(0,cm.getFirstResolvedValue)(async()=>await Pe(this,Cr,"m",oP).call(this,a),async()=>await Pe(this,Cr,"m",sP).call(this,a,o,(c,h)=>{Pe(this,ht,"f")?.debug(c.replace(/\n/g,"  "),{verbose:h}),i?.tracer.log(c,h)}));if(!u)return;if(typeof u.stylelint?.lint!="function"){Pe(this,Cr,"m",Fl).call(this,"stylelint.lint is not a function.");return}return u}catch(o){Pe(this,ht,"f")?.debug("Failed to resolve Stylelint from workspace or globally-installed packages.",{error:o})}}});var hP=p(dP=>{"use strict";Object.defineProperty(dP,"__esModule",{value:!0})});var ya=p(Qr=>{"use strict";var XF=Qr&&Qr.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Hl=Qr&&Qr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&XF(e,t,r)};Object.defineProperty(Qr,"__esModule",{value:!0});Hl(Gp(),Qr);Hl(Qp(),Qr);Hl(fP(),Qr);Hl(hP(),Qr)});var dm=p(ba=>{"use strict";var gP=ba&&ba.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ba,"__esModule",{value:!0});ba.buildStylelintOptions=e5;var _a=gP(require("path")),JF=gP(jl()),QF=Uo(),ZF=ya();async function e5(t,e,r={},{config:n,configFile:i,configBasedir:o,customSyntax:s,ignoreDisables:a,reportDescriptionlessDisables:u,reportNeedlessDisables:c,reportInvalidScopeDisables:h}={}){let d={...r,config:n??r.config,configFile:i?e?i.replace(/\$\{workspaceFolder\}/gu,e):i:r.configFile,configBasedir:o?_a.default.isAbsolute(o)?o:_a.default.join(e??"",o):r.configBasedir,customSyntax:s?e?s.replace(/\$\{workspaceFolder\}/gu,e):s:r.customSyntax,ignoreDisables:a??r.ignoreDisables,reportDescriptionlessDisables:u??r.reportDescriptionlessDisables,reportNeedlessDisables:c??r.reportNeedlessDisables,reportInvalidScopeDisables:h??r.reportInvalidScopeDisables},g=QF.URI.parse(t).fsPath;return g&&(e&&(0,JF.default)(g,e)&&(d.ignorePath=_a.default.join(e,".stylelintignore")),d.ignorePath===void 0&&(d.ignorePath=_a.default.join(await(0,ZF.findPackageRoot)(g)||_a.default.parse(g).root,".stylelintignore"))),d}});var pP=p(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.intersect=t5;function t5(t,e){if(!t)return e;if(!e)return t;let[r,n]=t.size<e.size?[t,e]:[e,t],i=new Set;for(let o of r)n.has(o)&&i.add(o);return i}});var va=p(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.InvalidOptionError=zo.DisableReportRuleNames=void 0;var mP;(function(t){t.Needless="--report-needless-disables",t.InvalidScope="--report-invalid-scope-disables",t.Descriptionless="--report-descriptionless-disables",t.Illegal="reportDisables"})(mP||(zo.DisableReportRuleNames=mP={}));var gm=class extends Error{constructor(e){let r=e.map(n=>n.text);super(r.join(`
`)),this.reasons=r}};zo.InvalidOptionError=gm});var mm=p(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.getDisableDiagnosticRule=r5;var Ul=va();function r5(t){switch(t.code){case Ul.DisableReportRuleNames.Needless:return t.message.match(/^Needless disable for "(.+)"$/)?.[1];case Ul.DisableReportRuleNames.InvalidScope:return t.message.match(/^Rule "(.+)" isn't enabled$/)?.[1];case Ul.DisableReportRuleNames.Descriptionless:return t.message.match(/^Disable for "(.+)" is missing a description$/)?.[1];case Ul.DisableReportRuleNames.Illegal:return t.message.match(/^Rule "(.+)" may not be disabled$/)?.[1];default:return}}});var _P=p(Vo=>{"use strict";var jr=Vo&&Vo.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Bl,wa,Sa,Ra,ym;Object.defineProperty(Vo,"__esModule",{value:!0});Vo.DisableMetadataLookupTable=void 0;var yP=pP(),n5=mm(),_m=class{constructor(e){Bl.add(this),wa.set(this,new Map),Sa.set(this,new Map),Ra.set(this,new Map);for(let r of e){let n=(0,n5.getDisableDiagnosticRule)(r);if(!n)continue;let i=r.code,o=jr(this,wa,"f").get(i);o?o.add(r):jr(this,wa,"f").set(i,new Set([r]));let s=jr(this,Sa,"f").get(n);s?s.add(r):jr(this,Sa,"f").set(n,new Set([r]));let a=jr(this,Bl,"m",ym).call(this,r.range),u=jr(this,Ra,"f").get(a);u?u.add(r):jr(this,Ra,"f").set(a,new Set([r]))}}find({type:e,rule:r,range:n}){let i=e?jr(this,wa,"f").get(e):void 0,o=r?jr(this,Sa,"f").get(r):void 0,s=n?jr(this,Ra,"f").get(jr(this,Bl,"m",ym).call(this,n)):void 0;return(0,yP.intersect)((0,yP.intersect)(i,o),s)??new Set}};Vo.DisableMetadataLookupTable=_m;wa=new WeakMap,Sa=new WeakMap,Ra=new WeakMap,Bl=new WeakSet,ym=function({start:e,end:r}){return`${e.line}:${e.character}:${r.line}:${r.character}`}});var bP=p(bm=>{"use strict";Object.defineProperty(bm,"__esModule",{value:!0});bm.formattingOptionsToRules=i5;function i5({insertSpaces:t,tabSize:e,insertFinalNewline:r,trimTrailingWhitespace:n}){let i={indentation:[t?e:"tab"]};return r!==void 0&&(i["no-missing-end-of-source-newline"]=r||null),n!==void 0&&(i["no-eol-whitespace"]=n||null),i}});var vP=p(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.isDisableReportRule=o5;var zl=va();function o5(t){switch(t){case zl.DisableReportRuleNames.Descriptionless:case zl.DisableReportRuleNames.Illegal:case zl.DisableReportRuleNames.InvalidScope:case zl.DisableReportRuleNames.Needless:return!0;default:return!1}}});var Sm=p(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.warningToDiagnostic=u5;var vt=vr();function s5(t){switch(t){case"error":return vt.DiagnosticSeverity.Error;case"warn":return vt.DiagnosticSeverity.Warning;case"info":return vt.DiagnosticSeverity.Information;case"off":return null}}function a5(t,e){if(!e||e.length===0)return vt.DiagnosticSeverity[t.severity==="warning"?"Warning":"Error"];let r;for(let o=e.length-1;o>=0;o--){let s=e[o],a=s.rule,u=a.startsWith("!"),c=u?a.slice(1):a,h=!1;if(c===t.rule)h=!0;else if(c.includes("*")){let d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\*/g,".*");h=new RegExp(`^${d}$`).test(t.rule)}if(u?!h:h){r=s;break}}if(!r)return vt.DiagnosticSeverity[t.severity==="warning"?"Warning":"Error"];let n=r.severity,i=vt.DiagnosticSeverity[t.severity==="warning"?"Warning":"Error"];switch(n){case"downgrade":return i===vt.DiagnosticSeverity.Error?vt.DiagnosticSeverity.Warning:vt.DiagnosticSeverity.Information;case"upgrade":return i===vt.DiagnosticSeverity.Warning?vt.DiagnosticSeverity.Error:i;case"default":return i;case"off":case"warn":case"info":case"error":return s5(n);default:return console.warn(`Unknown severity override: ${String(n)}`),i}}function u5(t,e,r){let n=a5(t,r);if(n===null)return null;let i=vt.Position.create(t.line-1,t.column-1),o=typeof t.endLine=="number"&&typeof t.endColumn=="number"?vt.Position.create(t.endLine-1,t.endColumn-1):vt.Position.create(t.line-1,t.column),s=e?.[t.rule]?.url,a=vt.Diagnostic.create(vt.Range.create(i,o),t.text,n,t.rule,"Stylelint");return s&&(a.codeDescription={href:s}),a}});var Rm=p(wn=>{"use strict";var c5=wn&&wn.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),l5=wn&&wn.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),f5=wn&&wn.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&c5(r,e,n[i]);return l5(r,e),r}})();Object.defineProperty(wn,"__esModule",{value:!0});wn.processLinterResult=p5;var d5=f5(require("crypto")),h5=Sm(),g5=va();function wP(t){let e=t.range,r="";if(t.message){let n=d5.createHash("sha256");n.update(t.message),r=n.digest("base64")}return`[${e.start.line},${e.start.character},${e.end.line},${e.end.character}]-${t.code}-${r}`}function p5(t,e,r){let{results:n}=e;if(n.length===0)return{diagnostics:[]};let[{invalidOptionWarnings:i,warnings:o,ignored:s}]=n;if(s)return{diagnostics:[]};if(i.length!==0)throw new g5.InvalidOptionError(i);let{ruleMetadata:a}=e;a||(a=new Proxy({},{get:(g,_)=>t.rules?.[_]?.meta}));let u=[],c=new Map;for(let g of o){let _=(0,h5.warningToDiagnostic)(g,a,r);_!==null&&(u.push(_),c.set(wP(_),g))}let h=g=>{let _=wP(g);return c.get(_)??null},d="report"in e&&e.report||e.output;return d?{output:d,diagnostics:u,getWarning:h}:{diagnostics:u,getWarning:h}}});var RP=p(Zr=>{"use strict";var Em=Zr&&Zr.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Go=Zr&&Zr.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},m5=Zr&&Zr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ea,Yo,Gl;Object.defineProperty(Zr,"__esModule",{value:!0});Zr.StylelintRunner=void 0;var y5=m5(require("os")),_5=Uo(),Vl=vr(),b5=ya(),v5=Bo(),SP=Rm(),w5=dm(),Dm=class{constructor(e,r,n){Ea.set(this,void 0),Yo.set(this,void 0),Gl.set(this,void 0),Em(this,Ea,e,"f"),Em(this,Yo,r,"f"),Em(this,Gl,n??new b5.StylelintResolver(e,r),"f")}async lintDocument(e,r={},n={}){let i=Go(this,Ea,"f")&&await(0,v5.getWorkspaceFolder)(Go(this,Ea,"f"),e),o=await Go(this,Gl,"f").resolve(n,e);if(!o)return Go(this,Yo,"f")?.info("No Stylelint found with which to lint document",{uri:e.uri,options:n}),{diagnostics:[]};let{fsPath:s}=_5.URI.parse(e.uri),a=y5.default.platform()==="win32"?s.replace(/^[a-z]:/,c=>c.toUpperCase()):s,u={...await(0,w5.buildStylelintOptions)(e.uri,i,r,n),code:e.getText(),formatter:()=>"",computeEditInfo:!0};a?u.codeFilename=a:r?.config?.rules||(u.config={rules:{}}),Go(this,Yo,"f")?.isDebugEnabled()&&Go(this,Yo,"f")?.debug("Running Stylelint",{options:{...u,code:"..."}});try{return(0,SP.processLinterResult)(o.stylelint,await o.stylelint.lint(u),n.rules?.customizations)}catch(c){if(!(c instanceof Error))throw c;let h=async()=>(0,SP.processLinterResult)(o.stylelint,await o.stylelint.lint({...u,config:{rules:{}}}),n.rules?.customizations);if(c.message.startsWith("No configuration provided for"))return await h();if(c.message.includes("No rules found within configuration")){let d=await h();return d.diagnostics.push({range:Vl.Range.create(Vl.Position.create(0,0),Vl.Position.create(0,0)),message:c.message,severity:Vl.DiagnosticSeverity.Error,source:"Stylelint",code:"no-rules-configured"}),d}throw c}}};Zr.StylelintRunner=Dm;Ea=new WeakMap,Yo=new WeakMap,Gl=new WeakMap});var Da=p(qt=>{"use strict";var S5=qt&&qt.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Sn=qt&&qt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&S5(e,t,r)};Object.defineProperty(qt,"__esModule",{value:!0});Sn(dm(),qt);Sn(_P(),qt);Sn(bP(),qt);Sn(mm(),qt);Sn(vP(),qt);Sn(Rm(),qt);Sn(RP(),qt);Sn(va(),qt);Sn(Sm(),qt)});var CP=p(Vt=>{"use strict";var R5=Vt&&Vt.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),E5=Vt&&Vt.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),D5=Vt&&Vt.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&R5(r,e,n[i]);return E5(r,e),r}})(),EP=Vt&&Vt.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},he=Vt&&Vt.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},ai,zt,Ke,Ko,qP,DP,PP,OP,TP,MP;Object.defineProperty(Vt,"__esModule",{value:!0});Vt.CodeActionModule=void 0;var Ze=D5(Oe()),Rn=$o(),Pm=Cl(),P5=Da(),Yl=class{constructor({context:e,logger:r}){ai.add(this),zt.set(this,void 0),Ke.set(this,void 0),Ko.set(this,[]),EP(this,zt,e,"f"),EP(this,Ke,r,"f")}dispose(){he(this,Ko,"f").forEach(e=>e.dispose()),he(this,Ko,"f").length=0,he(this,zt,"f").connection.onCodeAction(()=>{})}onInitialize(){return{capabilities:{codeActionProvider:{codeActionKinds:[Ze.CodeActionKind.QuickFix,Rn.CodeActionKind.StylelintSourceFixAll]},executeCommandProvider:{commands:[Rn.CommandId.OpenRuleDoc]}}}}onDidRegisterHandlers(){he(this,Ke,"f")?.debug("Registering onCodeAction handler"),he(this,zt,"f").connection.onCodeAction(async({context:e,textDocument:{uri:r}})=>{he(this,Ke,"f")?.debug("Received onCodeAction",{context:e,uri:r});let n=he(this,zt,"f").documents.get(r);if(!n)return he(this,Ke,"f")?.debug("Unknown document, ignoring",{uri:r}),[];if(!await he(this,ai,"m",qP).call(this,n))return he(this,Ke,"f")?.debug("Document should not be validated, ignoring",{uri:r,language:n.languageId}),[];let i=await he(this,ai,"m",MP).call(this,n,e);return he(this,Ke,"f")?.debug("Returning code actions",{actions:i}),i}),he(this,Ke,"f")?.debug("onCodeAction handler registered"),he(this,Ko,"f").push(he(this,zt,"f").commands.on(Rn.CommandId.OpenRuleDoc,async({arguments:e})=>{let r=e?.[0];if(!r)return he(this,Ke,"f")?.debug("No URL provided, ignoring command request"),{};let{uri:n}=r;return he(this,Ke,"f")?.debug("Opening rule documentation",{uri:n}),(await he(this,zt,"f").connection.window.showDocument({uri:n,external:!0})).success?{}:(he(this,Ke,"f")?.warn("Failed to open rule documentation",{uri:n}),new Ze.ResponseError(Ze.ErrorCodes.InternalError,"Failed to open rule documentation"))})),he(this,Ko,"f").push(he(this,zt,"f").notifications.on(Ze.InitializedNotification.type,()=>he(this,zt,"f").connection.sendNotification(Rn.Notification.DidRegisterCodeActionRequestHandler)))}};Vt.CodeActionModule=Yl;zt=new WeakMap,Ke=new WeakMap,Ko=new WeakMap,ai=new WeakSet,qP=async function(e){return(await he(this,zt,"f").getOptions(e.uri)).validate.includes(e.languageId)},DP=async function(e){let r=await he(this,zt,"f").getFixes(e),n={uri:e.uri,version:e.version};return r.length>0?Ze.CodeAction.create("Fix all Stylelint auto-fixable problems",{documentChanges:[Ze.TextDocumentEdit.create(n,r)]},Rn.CodeActionKind.StylelintSourceFixAll):void 0},PP=function(e,r){let n={uri:e.uri,version:e.version},i=[];for(let o of r.diagnostics){let s=he(this,zt,"f").getEditInfo(e,o);if(s){let a=Ze.CodeAction.create(s.label,{documentChanges:[Ze.TextDocumentEdit.create(n,[s.edit])]},Ze.CodeActionKind.QuickFix);i.push(a)}}return i},OP=function(e){let r=Ze.Command.create("Fix all Stylelint auto-fixable problems",Rn.CommandId.ApplyAutoFix,{uri:e.uri,version:e.version});return Ze.CodeAction.create("Fix all Stylelint auto-fixable problems",r,Ze.CodeActionKind.Source)},TP=function({code:e,codeDescription:r}){let n=r?.href;if(!n)return;let i=Ze.Command.create(`Open documentation for ${e}`,Rn.CommandId.OpenRuleDoc,{uri:n});return Ze.CodeAction.create(`Show documentation for ${e}`,i,Ze.CodeActionKind.QuickFix)},MP=async function(e,r){let n=r.only&&new Set(r.only);he(this,Ke,"f")?.debug("Creating code actions",{only:r.only});let i=[];if(n?.has(Ze.CodeActionKind.SourceFixAll)||n?.has(Rn.CodeActionKind.StylelintSourceFixAll)){he(this,Ke,"f")?.debug('Creating "source-fix-all" code action');let s=await he(this,ai,"m",DP).call(this,e);s&&i.push(s)}else he(this,Ke,"f")?.debug("No source-fix-all actions requested, skipping source-fix-all action creation");if(n?.has(Ze.CodeActionKind.Source)?(he(this,Ke,"f")?.debug('Creating "source" code action'),i.push(he(this,ai,"m",OP).call(this,e))):he(this,Ke,"f")?.debug("No source actions requested, skipping source action creation"),n&&!n.has(Ze.CodeActionKind.QuickFix)&&!n.has(Ze.CodeActionKind.SourceFixAll)&&!n.has(Rn.CodeActionKind.StylelintSourceFixAll)&&!n.has(Ze.CodeActionKind.Source))return he(this,Ke,"f")?.debug("No quick fix actions requested, skipping quick fix action creation"),i;let o=new Pm.RuleCodeActionsCollection;for(let s of r.diagnostics){let{source:a,code:u}=s;if(!(a!=="Stylelint"||typeof u!="string")){if(!(0,P5.isDisableReportRule)(u)){let c=await he(this,zt,"f").getOptions(e.uri),{location:h}=c.codeAction.disableRuleComment;he(this,Ke,"f")?.debug("Creating disable rule for line code action",{rule:u,location:h}),o.get(u).disableLine=(0,Pm.createDisableRuleLineCodeAction)(e,s,h),o.get(u).disableFile||(he(this,Ke,"f")?.debug("Creating disable rule for file code action",{rule:u}),o.get(u).disableFile=(0,Pm.createDisableRuleFileCodeAction)(e,s))}o.get(u).documentation||(he(this,Ke,"f")?.debug("Creating documentation code action",{rule:u}),o.get(u).documentation=he(this,ai,"m",TP).call(this,s))}}return[...he(this,ai,"m",PP).call(this,e,r),...o,...i]};Yl.id="code-action"});var xP=p(ci=>{"use strict";var jP=ci&&ci.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Mt=ci&&ci.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Kl,ui,Ar,AP,IP;Object.defineProperty(ci,"__esModule",{value:!0});ci.CompletionModule=void 0;var NP=vr(),O5=Bo(),Xo=Cl(),LP=Da(),Xl=class{constructor({context:e,logger:r}){Kl.add(this),ui.set(this,void 0),Ar.set(this,void 0),jP(this,ui,e,"f"),jP(this,Ar,r,"f")}dispose(){Mt(this,ui,"f").connection.onCompletion(()=>{})}onInitialize(){return{capabilities:{completionProvider:{}}}}onDidRegisterHandlers(){Mt(this,Ar,"f")?.debug("Registering onCompletion handler"),Mt(this,ui,"f").connection.onCompletion(Mt(this,Kl,"m",IP).bind(this)),Mt(this,Ar,"f")?.debug("onCompletion handler registered")}};ci.CompletionModule=Xl;ui=new WeakMap,Ar=new WeakMap,Kl=new WeakSet,AP=async function(e){let r=await Mt(this,ui,"f").getOptions(e.uri);return r.validate.includes(e.languageId)&&r.snippet.includes(e.languageId)},IP=async function({textDocument:e,position:r}){let{uri:n}=e;Mt(this,Ar,"f")?.debug("Received onCompletion",{uri:n,position:r});let i=Mt(this,ui,"f").documents.get(n);if(!i||!await Mt(this,Kl,"m",AP).call(this,i))return Mt(this,Ar,"f")?.isDebugEnabled()&&(i?Mt(this,Ar,"f").debug("Snippets or validation not enabled for language, ignoring",{uri:n,language:i.languageId}):Mt(this,Ar,"f").debug("Unknown document, ignoring",{uri:n})),[];let s=Mt(this,ui,"f").getModule("validator")?.getDiagnostics(n);if(!s||s.length===0){let g=[(0,Xo.createDisableCompletionItem)("stylelint-disable-line"),(0,Xo.createDisableCompletionItem)("stylelint-disable-next-line"),(0,Xo.createDisableCompletionItem)("stylelint-disable")];return Mt(this,Ar,"f")?.debug("No diagnostics for document, returning generic completion items",{uri:n,items:g}),g}let a=new Set,u=new Set,c=new LP.DisableMetadataLookupTable(s);for(let{code:g,range:_}of s)!g||typeof g!="string"||g==="CssSyntaxError"||c.find({type:LP.DisableReportRuleNames.Needless,rule:g,range:_}).size>0||(_.start.line===r.line?a.add(g):_.start.line===r.line+1&&u.add(g));let h=[],d=(0,O5.getDisableType)(i,r);if(d==="stylelint-disable-line")for(let g of a)h.push({label:g,kind:NP.CompletionItemKind.Snippet,detail:`disable ${g} rule. (Stylelint)`});else if(d==="stylelint-disable"||d==="stylelint-disable-next-line")for(let g of u)h.push({label:g,kind:NP.CompletionItemKind.Snippet,detail:`disable ${g} rule. (Stylelint)`});else h.push((0,Xo.createDisableCompletionItem)("stylelint-disable-line",a.size===1?a.values().next().value:void 0)),h.push((0,Xo.createDisableCompletionItem)("stylelint-disable-next-line",u.size===1?u.values().next().value:void 0)),h.push((0,Xo.createDisableCompletionItem)("stylelint-disable"));return Mt(this,Ar,"f")?.debug("Returning completion items",{uri:n,results:h}),h};Xl.id="completion"});var FP=p(Gt=>{"use strict";var T5=Gt&&Gt.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),q5=Gt&&Gt.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),M5=Gt&&Gt.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&T5(r,e,n[i]);return q5(r,e),r}})(),Om=Gt&&Gt.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},X=Gt&&Gt.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Nr,wt,Te,Pa,li,en,Tm,Jl,kP,Ql;Object.defineProperty(Gt,"__esModule",{value:!0});Gt.FormatterModule=void 0;var qm=M5(Oe()),C5=Da(),j5=$o(),A5=Uo(),Zl=class{constructor({context:e,logger:r}){Nr.add(this),wt.set(this,void 0),Te.set(this,void 0),Pa.set(this,!1),li.set(this,new Map),en.set(this,[]),Om(this,wt,e,"f"),Om(this,Te,r,"f")}dispose(){X(this,wt,"f").connection.onDocumentFormatting(()=>{}),X(this,en,"f").forEach(e=>e.dispose()),X(this,en,"f").length=0,X(this,Nr,"m",Ql).call(this)}onInitialize({capabilities:e}){return Om(this,Pa,!!e.textDocument?.formatting?.dynamicRegistration,"f"),{capabilities:{documentFormattingProvider:!X(this,Pa,"f")}}}onDidRegisterHandlers(){X(this,Te,"f")?.debug("Registering connection.onDocumentFormatting handler"),X(this,wt,"f").connection.onDocumentFormatting(async({textDocument:e,options:r})=>{if(X(this,Te,"f")?.debug("Received onDocumentFormatting",{textDocument:e,options:r}),!e)return X(this,Te,"f")?.debug("No text document provided, ignoring"),null;let{uri:n}=e,i=X(this,wt,"f").documents.get(n);if(!i||!await X(this,Nr,"m",Tm).call(this,i))return X(this,Te,"f")?.isDebugEnabled()&&(i?X(this,Te,"f").debug("Document should not be formatted, ignoring",{uri:n,language:i.languageId}):X(this,Te,"f").debug("Unknown document, ignoring",{uri:n})),null;let o={config:{rules:(0,C5.formattingOptionsToRules)(r)}};X(this,Te,"f")?.debug("Formatting document",{uri:n,linterOptions:o});let s=X(this,wt,"f").getFixes(i,o);return X(this,Te,"f")?.debug("Returning fixes",{uri:n,fixes:s}),s}),X(this,Te,"f")?.debug("connection.onDocumentFormatting handler registered"),X(this,Te,"f")?.debug("Registering documents.onDidOpen handler"),X(this,en,"f").push(X(this,wt,"f").documents.onDidOpen(({document:e})=>X(this,Nr,"m",Jl).call(this,e))),X(this,Te,"f")?.debug("documents.onDidOpen handler registered"),X(this,Te,"f")?.debug("Registering documents.onDidChangeContent handler"),X(this,en,"f").push(X(this,wt,"f").documents.onDidChangeContent(({document:e})=>X(this,Nr,"m",Jl).call(this,e))),X(this,Te,"f")?.debug("documents.onDidChangeContent handler registered"),X(this,Te,"f")?.debug("Registering documents.onDidSave handler"),X(this,en,"f").push(X(this,wt,"f").documents.onDidSave(({document:e})=>X(this,Nr,"m",Jl).call(this,e))),X(this,Te,"f")?.debug("documents.onDidSave handler registered"),X(this,Te,"f")?.debug("Registering documents.onDidClose handler"),X(this,en,"f").push(X(this,wt,"f").documents.onDidClose(({document:e})=>X(this,Nr,"m",kP).call(this,e.uri))),X(this,Te,"f")?.debug("documents.onDidClose handler registered"),X(this,Te,"f")?.debug("Registering DidChangeConfigurationNotification"),X(this,en,"f").push(X(this,wt,"f").notifications.on(qm.DidChangeConfigurationNotification.type,()=>X(this,Nr,"m",Ql).call(this))),X(this,Te,"f")?.debug("DidChangeConfigurationNotification registered"),X(this,Te,"f")?.debug("Registering DidChangeWorkspaceFoldersNotification"),X(this,en,"f").push(X(this,wt,"f").notifications.on(qm.DidChangeWorkspaceFoldersNotification.type,()=>X(this,Nr,"m",Ql).call(this))),X(this,Te,"f")?.debug("DidChangeWorkspaceFoldersNotification registered")}};Gt.FormatterModule=Zl;wt=new WeakMap,Te=new WeakMap,Pa=new WeakMap,li=new WeakMap,en=new WeakMap,Nr=new WeakSet,Tm=async function(e){return(await X(this,wt,"f").getOptions(e.uri)).validate.includes(e.languageId)},Jl=async function(e){if(!X(this,Pa,"f")||!await X(this,Nr,"m",Tm).call(this,e)||X(this,li,"f").has(e.uri))return;let{scheme:r,fsPath:n}=A5.URI.parse(e.uri),i=(r==="file"?n.replace(/\\/g,"/"):n).replace(/[[\]{}]/g,"?"),s={documentSelector:[{scheme:r,pattern:i}]};X(this,li,"f").set(e.uri,X(this,wt,"f").connection.client.register(qm.DocumentFormattingRequest.type,s)),X(this,Te,"f")?.debug("Registering formatter for document",{uri:e.uri,options:s}),await X(this,wt,"f").connection.sendNotification(j5.Notification.DidRegisterDocumentFormattingEditProvider,{uri:e.uri,options:s})},kP=function(e){let r=X(this,li,"f").get(e);r&&(X(this,Te,"f")?.debug("Deregistering formatter for document",{uri:e}),r.then(n=>n.dispose()).catch(n=>{X(this,Te,"f")?.error("Error deregistering formatter for document",{uri:e,error:n})}),X(this,li,"f").delete(e))},Ql=function(){for(let[e,r]of X(this,li,"f"))X(this,Te,"f")?.debug("Deregistering formatter for document",{uri:e}),r.then(n=>n.dispose()).catch(n=>{X(this,Te,"f")?.error("Error deregistering formatter for document",{uri:e,error:n})});X(this,li,"f").clear()};Zl.id="formatter"});var Oa=p((k8,$P)=>{"use strict";var N5="2.0.0",L5=Number.MAX_SAFE_INTEGER||9007199254740991,I5=16,x5=250,k5=["major","premajor","minor","preminor","patch","prepatch","prerelease"];$P.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:I5,MAX_SAFE_BUILD_LENGTH:x5,MAX_SAFE_INTEGER:L5,RELEASE_TYPES:k5,SEMVER_SPEC_VERSION:N5,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Ta=p((F8,WP)=>{"use strict";var F5=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};WP.exports=F5});var Jo=p((tn,HP)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Mm,MAX_SAFE_BUILD_LENGTH:$5,MAX_LENGTH:W5}=Oa(),H5=Ta();tn=HP.exports={};var U5=tn.re=[],B5=tn.safeRe=[],Y=tn.src=[],z5=tn.safeSrc=[],K=tn.t={},V5=0,Cm="[a-zA-Z0-9-]",G5=[["\\s",1],["\\d",W5],[Cm,$5]],Y5=t=>{for(let[e,r]of G5)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},ce=(t,e,r)=>{let n=Y5(e),i=V5++;H5(t,i,e),K[t]=i,Y[i]=e,z5[i]=n,U5[i]=new RegExp(e,r?"g":void 0),B5[i]=new RegExp(n,r?"g":void 0)};ce("NUMERICIDENTIFIER","0|[1-9]\\d*");ce("NUMERICIDENTIFIERLOOSE","\\d+");ce("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Cm}*`);ce("MAINVERSION",`(${Y[K.NUMERICIDENTIFIER]})\\.(${Y[K.NUMERICIDENTIFIER]})\\.(${Y[K.NUMERICIDENTIFIER]})`);ce("MAINVERSIONLOOSE",`(${Y[K.NUMERICIDENTIFIERLOOSE]})\\.(${Y[K.NUMERICIDENTIFIERLOOSE]})\\.(${Y[K.NUMERICIDENTIFIERLOOSE]})`);ce("PRERELEASEIDENTIFIER",`(?:${Y[K.NONNUMERICIDENTIFIER]}|${Y[K.NUMERICIDENTIFIER]})`);ce("PRERELEASEIDENTIFIERLOOSE",`(?:${Y[K.NONNUMERICIDENTIFIER]}|${Y[K.NUMERICIDENTIFIERLOOSE]})`);ce("PRERELEASE",`(?:-(${Y[K.PRERELEASEIDENTIFIER]}(?:\\.${Y[K.PRERELEASEIDENTIFIER]})*))`);ce("PRERELEASELOOSE",`(?:-?(${Y[K.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Y[K.PRERELEASEIDENTIFIERLOOSE]})*))`);ce("BUILDIDENTIFIER",`${Cm}+`);ce("BUILD",`(?:\\+(${Y[K.BUILDIDENTIFIER]}(?:\\.${Y[K.BUILDIDENTIFIER]})*))`);ce("FULLPLAIN",`v?${Y[K.MAINVERSION]}${Y[K.PRERELEASE]}?${Y[K.BUILD]}?`);ce("FULL",`^${Y[K.FULLPLAIN]}$`);ce("LOOSEPLAIN",`[v=\\s]*${Y[K.MAINVERSIONLOOSE]}${Y[K.PRERELEASELOOSE]}?${Y[K.BUILD]}?`);ce("LOOSE",`^${Y[K.LOOSEPLAIN]}$`);ce("GTLT","((?:<|>)?=?)");ce("XRANGEIDENTIFIERLOOSE",`${Y[K.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ce("XRANGEIDENTIFIER",`${Y[K.NUMERICIDENTIFIER]}|x|X|\\*`);ce("XRANGEPLAIN",`[v=\\s]*(${Y[K.XRANGEIDENTIFIER]})(?:\\.(${Y[K.XRANGEIDENTIFIER]})(?:\\.(${Y[K.XRANGEIDENTIFIER]})(?:${Y[K.PRERELEASE]})?${Y[K.BUILD]}?)?)?`);ce("XRANGEPLAINLOOSE",`[v=\\s]*(${Y[K.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Y[K.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Y[K.XRANGEIDENTIFIERLOOSE]})(?:${Y[K.PRERELEASELOOSE]})?${Y[K.BUILD]}?)?)?`);ce("XRANGE",`^${Y[K.GTLT]}\\s*${Y[K.XRANGEPLAIN]}$`);ce("XRANGELOOSE",`^${Y[K.GTLT]}\\s*${Y[K.XRANGEPLAINLOOSE]}$`);ce("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Mm}})(?:\\.(\\d{1,${Mm}}))?(?:\\.(\\d{1,${Mm}}))?`);ce("COERCE",`${Y[K.COERCEPLAIN]}(?:$|[^\\d])`);ce("COERCEFULL",Y[K.COERCEPLAIN]+`(?:${Y[K.PRERELEASE]})?(?:${Y[K.BUILD]})?(?:$|[^\\d])`);ce("COERCERTL",Y[K.COERCE],!0);ce("COERCERTLFULL",Y[K.COERCEFULL],!0);ce("LONETILDE","(?:~>?)");ce("TILDETRIM",`(\\s*)${Y[K.LONETILDE]}\\s+`,!0);tn.tildeTrimReplace="$1~";ce("TILDE",`^${Y[K.LONETILDE]}${Y[K.XRANGEPLAIN]}$`);ce("TILDELOOSE",`^${Y[K.LONETILDE]}${Y[K.XRANGEPLAINLOOSE]}$`);ce("LONECARET","(?:\\^)");ce("CARETTRIM",`(\\s*)${Y[K.LONECARET]}\\s+`,!0);tn.caretTrimReplace="$1^";ce("CARET",`^${Y[K.LONECARET]}${Y[K.XRANGEPLAIN]}$`);ce("CARETLOOSE",`^${Y[K.LONECARET]}${Y[K.XRANGEPLAINLOOSE]}$`);ce("COMPARATORLOOSE",`^${Y[K.GTLT]}\\s*(${Y[K.LOOSEPLAIN]})$|^$`);ce("COMPARATOR",`^${Y[K.GTLT]}\\s*(${Y[K.FULLPLAIN]})$|^$`);ce("COMPARATORTRIM",`(\\s*)${Y[K.GTLT]}\\s*(${Y[K.LOOSEPLAIN]}|${Y[K.XRANGEPLAIN]})`,!0);tn.comparatorTrimReplace="$1$2$3";ce("HYPHENRANGE",`^\\s*(${Y[K.XRANGEPLAIN]})\\s+-\\s+(${Y[K.XRANGEPLAIN]})\\s*$`);ce("HYPHENRANGELOOSE",`^\\s*(${Y[K.XRANGEPLAINLOOSE]})\\s+-\\s+(${Y[K.XRANGEPLAINLOOSE]})\\s*$`);ce("STAR","(<|>)?=?\\s*\\*");ce("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ce("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var ef=p(($8,UP)=>{"use strict";var K5=Object.freeze({loose:!0}),X5=Object.freeze({}),J5=t=>t?typeof t!="object"?K5:t:X5;UP.exports=J5});var jm=p((W8,VP)=>{"use strict";var BP=/^[0-9]+$/,zP=(t,e)=>{if(typeof t=="number"&&typeof e=="number")return t===e?0:t<e?-1:1;let r=BP.test(t),n=BP.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Q5=(t,e)=>zP(e,t);VP.exports={compareIdentifiers:zP,rcompareIdentifiers:Q5}});var St=p((H8,YP)=>{"use strict";var tf=Ta(),{MAX_LENGTH:GP,MAX_SAFE_INTEGER:rf}=Oa(),{safeRe:nf,t:of}=Jo(),Z5=ef(),{compareIdentifiers:Am}=jm(),Nm=class t{constructor(e,r){if(r=Z5(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>GP)throw new TypeError(`version is longer than ${GP} characters`);tf("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?nf[of.LOOSE]:nf[of.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>rf||this.major<0)throw new TypeError("Invalid major version");if(this.minor>rf||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>rf||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<rf)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(tf("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),this.major<e.major?-1:this.major>e.major?1:this.minor<e.minor?-1:this.minor>e.minor?1:this.patch<e.patch?-1:this.patch>e.patch?1:0}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(tf("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Am(n,i)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(tf("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Am(n,i)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i=`-${r}`.match(this.options.loose?nf[of.PRERELEASELOOSE]:nf[of.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),Am(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};YP.exports=Nm});var $i=p((U8,XP)=>{"use strict";var KP=St(),e$=(t,e,r=!1)=>{if(t instanceof KP)return t;try{return new KP(t,e)}catch(n){if(!r)return null;throw n}};XP.exports=e$});var QP=p((B8,JP)=>{"use strict";var t$=$i(),r$=(t,e)=>{let r=t$(t,e);return r?r.version:null};JP.exports=r$});var eO=p((z8,ZP)=>{"use strict";var n$=$i(),i$=(t,e)=>{let r=n$(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};ZP.exports=i$});var nO=p((V8,rO)=>{"use strict";var tO=St(),o$=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new tO(t instanceof tO?t.version:t,r).inc(e,n,i).version}catch{return null}};rO.exports=o$});var sO=p((G8,oO)=>{"use strict";var iO=$i(),s$=(t,e)=>{let r=iO(t,null,!0),n=iO(e,null,!0),i=r.compare(n);if(i===0)return null;let o=i>0,s=o?r:n,a=o?n:r,u=!!s.prerelease.length;if(!!a.prerelease.length&&!u){if(!a.patch&&!a.minor)return"major";if(a.compareMain(s)===0)return a.minor&&!a.patch?"minor":"patch"}let h=u?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"};oO.exports=s$});var uO=p((Y8,aO)=>{"use strict";var a$=St(),u$=(t,e)=>new a$(t,e).major;aO.exports=u$});var lO=p((K8,cO)=>{"use strict";var c$=St(),l$=(t,e)=>new c$(t,e).minor;cO.exports=l$});var dO=p((X8,fO)=>{"use strict";var f$=St(),d$=(t,e)=>new f$(t,e).patch;fO.exports=d$});var gO=p((J8,hO)=>{"use strict";var h$=$i(),g$=(t,e)=>{let r=h$(t,e);return r&&r.prerelease.length?r.prerelease:null};hO.exports=g$});var lr=p((Q8,mO)=>{"use strict";var pO=St(),p$=(t,e,r)=>new pO(t,r).compare(new pO(e,r));mO.exports=p$});var _O=p((Z8,yO)=>{"use strict";var m$=lr(),y$=(t,e,r)=>m$(e,t,r);yO.exports=y$});var vO=p((e9,bO)=>{"use strict";var _$=lr(),b$=(t,e)=>_$(t,e,!0);bO.exports=b$});var sf=p((t9,SO)=>{"use strict";var wO=St(),v$=(t,e,r)=>{let n=new wO(t,r),i=new wO(e,r);return n.compare(i)||n.compareBuild(i)};SO.exports=v$});var EO=p((r9,RO)=>{"use strict";var w$=sf(),S$=(t,e)=>t.sort((r,n)=>w$(r,n,e));RO.exports=S$});var PO=p((n9,DO)=>{"use strict";var R$=sf(),E$=(t,e)=>t.sort((r,n)=>R$(n,r,e));DO.exports=E$});var qa=p((i9,OO)=>{"use strict";var D$=lr(),P$=(t,e,r)=>D$(t,e,r)>0;OO.exports=P$});var af=p((o9,TO)=>{"use strict";var O$=lr(),T$=(t,e,r)=>O$(t,e,r)<0;TO.exports=T$});var Lm=p((s9,qO)=>{"use strict";var q$=lr(),M$=(t,e,r)=>q$(t,e,r)===0;qO.exports=M$});var Im=p((a9,MO)=>{"use strict";var C$=lr(),j$=(t,e,r)=>C$(t,e,r)!==0;MO.exports=j$});var uf=p((u9,CO)=>{"use strict";var A$=lr(),N$=(t,e,r)=>A$(t,e,r)>=0;CO.exports=N$});var cf=p((c9,jO)=>{"use strict";var L$=lr(),I$=(t,e,r)=>L$(t,e,r)<=0;jO.exports=I$});var xm=p((l9,AO)=>{"use strict";var x$=Lm(),k$=Im(),F$=qa(),$$=uf(),W$=af(),H$=cf(),U$=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return x$(t,r,n);case"!=":return k$(t,r,n);case">":return F$(t,r,n);case">=":return $$(t,r,n);case"<":return W$(t,r,n);case"<=":return H$(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};AO.exports=U$});var LO=p((f9,NO)=>{"use strict";var B$=St(),z$=$i(),{safeRe:lf,t:ff}=Jo(),V$=(t,e)=>{if(t instanceof B$)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?lf[ff.COERCEFULL]:lf[ff.COERCE]);else{let u=e.includePrerelease?lf[ff.COERCERTLFULL]:lf[ff.COERCERTL],c;for(;(c=u.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",o=r[4]||"0",s=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return z$(`${n}.${i}.${o}${s}${a}`,e)};NO.exports=V$});var xO=p((d9,IO)=>{"use strict";var km=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};IO.exports=km});var fr=p((h9,WO)=>{"use strict";var G$=/\s+/g,Fm=class t{constructor(e,r){if(r=K$(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof $m)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(G$," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!FO(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&r3(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&e3)|(this.options.loose&&t3))+":"+e,i=kO.get(n);if(i)return i;let o=this.options.loose,s=o?Ct[Rt.HYPHENRANGELOOSE]:Ct[Rt.HYPHENRANGE];e=e.replace(s,d3(this.options.includePrerelease)),xe("hyphen replace",e),e=e.replace(Ct[Rt.COMPARATORTRIM],J$),xe("comparator trim",e),e=e.replace(Ct[Rt.TILDETRIM],Q$),xe("tilde trim",e),e=e.replace(Ct[Rt.CARETTRIM],Z$),xe("caret trim",e);let a=e.split(" ").map(d=>n3(d,this.options)).join(" ").split(/\s+/).map(d=>f3(d,this.options));o&&(a=a.filter(d=>(xe("loose invalid filter",d,this.options),!!d.match(Ct[Rt.COMPARATORLOOSE])))),xe("range list",a);let u=new Map,c=a.map(d=>new $m(d,this.options));for(let d of c){if(FO(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return kO.set(n,h),h}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(n=>$O(n,r)&&e.set.some(i=>$O(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new X$(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(h3(this.set[r],e,this.options))return!0;return!1}};WO.exports=Fm;var Y$=xO(),kO=new Y$,K$=ef(),$m=Ma(),xe=Ta(),X$=St(),{safeRe:Ct,t:Rt,comparatorTrimReplace:J$,tildeTrimReplace:Q$,caretTrimReplace:Z$}=Jo(),{FLAG_INCLUDE_PRERELEASE:e3,FLAG_LOOSE:t3}=Oa(),FO=t=>t.value==="<0.0.0-0",r3=t=>t.value==="",$O=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},n3=(t,e)=>(t=t.replace(Ct[Rt.BUILD],""),xe("comp",t,e),t=s3(t,e),xe("caret",t),t=i3(t,e),xe("tildes",t),t=u3(t,e),xe("xrange",t),t=l3(t,e),xe("stars",t),t),jt=t=>!t||t.toLowerCase()==="x"||t==="*",i3=(t,e)=>t.trim().split(/\s+/).map(r=>o3(r,e)).join(" "),o3=(t,e)=>{let r=e.loose?Ct[Rt.TILDELOOSE]:Ct[Rt.TILDE];return t.replace(r,(n,i,o,s,a)=>{xe("tilde",t,n,i,o,s,a);let u;return jt(i)?u="":jt(o)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:jt(s)?u=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(xe("replaceTilde pr",a),u=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):u=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,xe("tilde return",u),u})},s3=(t,e)=>t.trim().split(/\s+/).map(r=>a3(r,e)).join(" "),a3=(t,e)=>{xe("caret",t,e);let r=e.loose?Ct[Rt.CARETLOOSE]:Ct[Rt.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,a,u)=>{xe("caret",t,i,o,s,a,u);let c;return jt(o)?c="":jt(s)?c=`>=${o}.0.0${n} <${+o+1}.0.0-0`:jt(a)?o==="0"?c=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:u?(xe("replaceCaret pr",u),o==="0"?s==="0"?c=`>=${o}.${s}.${a}-${u} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}-${u} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a}-${u} <${+o+1}.0.0-0`):(xe("no pr"),o==="0"?s==="0"?c=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),xe("caret return",c),c})},u3=(t,e)=>(xe("replaceXRanges",t,e),t.split(/\s+/).map(r=>c3(r,e)).join(" ")),c3=(t,e)=>{t=t.trim();let r=e.loose?Ct[Rt.XRANGELOOSE]:Ct[Rt.XRANGE];return t.replace(r,(n,i,o,s,a,u)=>{xe("xRange",t,n,i,o,s,a,u);let c=jt(o),h=c||jt(s),d=h||jt(a),g=d;return i==="="&&g&&(i=""),u=e.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&g?(h&&(s=0),a=0,i===">"?(i=">=",h?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",h?o=+o+1:s=+s+1),i==="<"&&(u="-0"),n=`${i+o}.${s}.${a}${u}`):h?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${s}.0${u} <${o}.${+s+1}.0-0`),xe("xRange return",n),n})},l3=(t,e)=>(xe("replaceStars",t,e),t.trim().replace(Ct[Rt.STAR],"")),f3=(t,e)=>(xe("replaceGTE0",t,e),t.trim().replace(Ct[e.includePrerelease?Rt.GTE0PRE:Rt.GTE0],"")),d3=t=>(e,r,n,i,o,s,a,u,c,h,d,g)=>(jt(n)?r="":jt(i)?r=`>=${n}.0.0${t?"-0":""}`:jt(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,jt(c)?u="":jt(h)?u=`<${+c+1}.0.0-0`:jt(d)?u=`<${c}.${+h+1}.0-0`:g?u=`<=${c}.${h}.${d}-${g}`:t?u=`<${c}.${h}.${+d+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),h3=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(xe(t[n].semver),t[n].semver!==$m.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Ma=p((g9,GO)=>{"use strict";var Ca=Symbol("SemVer ANY"),Um=class t{static get ANY(){return Ca}constructor(e,r){if(r=HO(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Hm("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Ca?this.value="":this.value=this.operator+this.semver.version,Hm("comp",this)}parse(e){let r=this.options.loose?UO[BO.COMPARATORLOOSE]:UO[BO.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new zO(n[2],this.options.loose):this.semver=Ca}toString(){return this.value}test(e){if(Hm("Comparator.test",e,this.options.loose),this.semver===Ca||e===Ca)return!0;if(typeof e=="string")try{e=new zO(e,this.options)}catch{return!1}return Wm(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new VO(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new VO(this.value,r).test(e.semver):(r=HO(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Wm(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Wm(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};GO.exports=Um;var HO=ef(),{safeRe:UO,t:BO}=Jo(),Wm=xm(),Hm=Ta(),zO=St(),VO=fr()});var ja=p((p9,YO)=>{"use strict";var g3=fr(),p3=(t,e,r)=>{try{e=new g3(e,r)}catch{return!1}return e.test(t)};YO.exports=p3});var XO=p((m9,KO)=>{"use strict";var m3=fr(),y3=(t,e)=>new m3(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));KO.exports=y3});var QO=p((y9,JO)=>{"use strict";var _3=St(),b3=fr(),v3=(t,e,r)=>{let n=null,i=null,o=null;try{o=new b3(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new _3(n,r))}),n};JO.exports=v3});var eT=p((_9,ZO)=>{"use strict";var w3=St(),S3=fr(),R3=(t,e,r)=>{let n=null,i=null,o=null;try{o=new S3(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new w3(n,r))}),n};ZO.exports=R3});var nT=p((b9,rT)=>{"use strict";var Bm=St(),E3=fr(),tT=qa(),D3=(t,e)=>{t=new E3(t,e);let r=new Bm("0.0.0");if(t.test(r)||(r=new Bm("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let a=new Bm(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||tT(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||tT(r,o))&&(r=o)}return r&&t.test(r)?r:null};rT.exports=D3});var oT=p((v9,iT)=>{"use strict";var P3=fr(),O3=(t,e)=>{try{return new P3(t,e).range||"*"}catch{return null}};iT.exports=O3});var df=p((w9,cT)=>{"use strict";var T3=St(),uT=Ma(),{ANY:q3}=uT,M3=fr(),C3=ja(),sT=qa(),aT=af(),j3=cf(),A3=uf(),N3=(t,e,r,n)=>{t=new T3(t,n),e=new M3(e,n);let i,o,s,a,u;switch(r){case">":i=sT,o=j3,s=aT,a=">",u=">=";break;case"<":i=aT,o=A3,s=sT,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(C3(t,e,n))return!1;for(let c=0;c<e.set.length;++c){let h=e.set[c],d=null,g=null;if(h.forEach(_=>{_.semver===q3&&(_=new uT(">=0.0.0")),d=d||_,g=g||_,i(_.semver,d.semver,n)?d=_:s(_.semver,g.semver,n)&&(g=_)}),d.operator===a||d.operator===u||(!g.operator||g.operator===a)&&o(t,g.semver))return!1;if(g.operator===u&&s(t,g.semver))return!1}return!0};cT.exports=N3});var fT=p((S9,lT)=>{"use strict";var L3=df(),I3=(t,e,r)=>L3(t,e,">",r);lT.exports=I3});var hT=p((R9,dT)=>{"use strict";var x3=df(),k3=(t,e,r)=>x3(t,e,"<",r);dT.exports=k3});var mT=p((E9,pT)=>{"use strict";var gT=fr(),F3=(t,e,r)=>(t=new gT(t,r),e=new gT(e,r),t.intersects(e,r));pT.exports=F3});var _T=p((D9,yT)=>{"use strict";var $3=ja(),W3=lr();yT.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((h,d)=>W3(h,d,r));for(let h of s)$3(h,e,r)?(o=h,i||(i=h)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[h,d]of n)h===d?a.push(h):!d&&h===s[0]?a.push("*"):d?h===s[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var ET=p((P9,RT)=>{"use strict";var bT=fr(),Vm=Ma(),{ANY:zm}=Vm,Aa=ja(),Gm=lr(),H3=(t,e,r={})=>{if(t===e)return!0;t=new bT(t,r),e=new bT(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=B3(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},U3=[new Vm(">=0.0.0-0")],vT=[new Vm(">=0.0.0")],B3=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===zm){if(e.length===1&&e[0].semver===zm)return!0;r.includePrerelease?t=U3:t=vT}if(e.length===1&&e[0].semver===zm){if(r.includePrerelease)return!0;e=vT}let n=new Set,i,o;for(let _ of t)_.operator===">"||_.operator===">="?i=wT(i,_,r):_.operator==="<"||_.operator==="<="?o=ST(o,_,r):n.add(_.semver);if(n.size>1)return null;let s;if(i&&o){if(s=Gm(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let _ of n){if(i&&!Aa(_,String(i),r)||o&&!Aa(_,String(o),r))return null;for(let y of e)if(!Aa(_,String(y),r))return!1;return!0}let a,u,c,h,d=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,g=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let _ of e){if(h=h||_.operator===">"||_.operator===">=",c=c||_.operator==="<"||_.operator==="<=",i){if(g&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===g.major&&_.semver.minor===g.minor&&_.semver.patch===g.patch&&(g=!1),_.operator===">"||_.operator===">="){if(a=wT(i,_,r),a===_&&a!==i)return!1}else if(i.operator===">="&&!Aa(i.semver,String(_),r))return!1}if(o){if(d&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===d.major&&_.semver.minor===d.minor&&_.semver.patch===d.patch&&(d=!1),_.operator==="<"||_.operator==="<="){if(u=ST(o,_,r),u===_&&u!==o)return!1}else if(o.operator==="<="&&!Aa(o.semver,String(_),r))return!1}if(!_.operator&&(o||i)&&s!==0)return!1}return!(i&&c&&!o&&s!==0||o&&h&&!i&&s!==0||g||d)},wT=(t,e,r)=>{if(!t)return e;let n=Gm(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},ST=(t,e,r)=>{if(!t)return e;let n=Gm(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};RT.exports=H3});var TT=p((O9,OT)=>{"use strict";var Ym=Jo(),DT=Oa(),z3=St(),PT=jm(),V3=$i(),G3=QP(),Y3=eO(),K3=nO(),X3=sO(),J3=uO(),Q3=lO(),Z3=dO(),eW=gO(),tW=lr(),rW=_O(),nW=vO(),iW=sf(),oW=EO(),sW=PO(),aW=qa(),uW=af(),cW=Lm(),lW=Im(),fW=uf(),dW=cf(),hW=xm(),gW=LO(),pW=Ma(),mW=fr(),yW=ja(),_W=XO(),bW=QO(),vW=eT(),wW=nT(),SW=oT(),RW=df(),EW=fT(),DW=hT(),PW=mT(),OW=_T(),TW=ET();OT.exports={parse:V3,valid:G3,clean:Y3,inc:K3,diff:X3,major:J3,minor:Q3,patch:Z3,prerelease:eW,compare:tW,rcompare:rW,compareLoose:nW,compareBuild:iW,sort:oW,rsort:sW,gt:aW,lt:uW,eq:cW,neq:lW,gte:fW,lte:dW,cmp:hW,coerce:gW,Comparator:pW,Range:mW,satisfies:yW,toComparators:_W,maxSatisfying:bW,minSatisfying:vW,minVersion:wW,validRange:SW,outside:RW,gtr:EW,ltr:DW,intersects:PW,simplifyRange:OW,subset:TW,SemVer:z3,re:Ym.re,src:Ym.src,tokens:Ym.t,SEMVER_SPEC_VERSION:DT.SEMVER_SPEC_VERSION,RELEASE_TYPES:DT.RELEASE_TYPES,compareIdentifiers:PT.compareIdentifiers,rcompareIdentifiers:PT.rcompareIdentifiers}});var jT=p(rn=>{"use strict";var Km=rn&&rn.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},ke=rn&&rn.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},yf=rn&&rn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},pf,En,Yt,hf,gf,Na,qT,CT;Object.defineProperty(rn,"__esModule",{value:!0});rn.OldStylelintWarningModule=void 0;var qW=yf(require("path")),MW=yf(require("fs/promises")),MT=yf(TT()),CW=yf(jl()),jW=Bo(),AW=ya(),mf=class{constructor({context:e,logger:r}){pf.add(this),En.set(this,void 0),Yt.set(this,void 0),hf.set(this,new Set),gf.set(this,!1),Na.set(this,[]),Km(this,En,e,"f"),Km(this,Yt,r,"f")}dispose(){ke(this,Na,"f").forEach(e=>e.dispose()),ke(this,Na,"f").length=0}onInitialize({capabilities:e}){Km(this,gf,e.window?.showDocument?.support??!1,"f")}onDidRegisterHandlers(){ke(this,Yt,"f")?.debug("Registering onDidOpen handler"),ke(this,Na,"f").push(ke(this,En,"f").documents.onDidOpen(async({document:e})=>{let r=await ke(this,pf,"m",CT).call(this,e);if(!r)return;ke(this,Yt,"f")?.warn(`Found unsupported version of Stylelint: ${r}`);let n=`Stylelint version ${r} is no longer supported. While it may continue to work for a while, you may encounter unexpected behavior. Please upgrade to version 14.0.0 or newer. See the migration guide for more information.`;if(!ke(this,gf,"f")){ke(this,En,"f").connection.window.showWarningMessage(n);return}(await ke(this,En,"f").connection.window.showWarningMessage(n,{title:"Open migration guide"}))?.title==="Open migration guide"&&((await ke(this,En,"f").connection.window.showDocument({uri:"https://github.com/stylelint/vscode-stylelint#migrating-from-vscode-stylelint-0xstylelint-13x",external:!0})).success||ke(this,Yt,"f")?.warn("Failed to open migration guide"))})),ke(this,Yt,"f")?.debug("onDidOpen handler registered")}};rn.OldStylelintWarningModule=mf;En=new WeakMap,Yt=new WeakMap,hf=new WeakMap,gf=new WeakMap,Na=new WeakMap,pf=new WeakSet,qT=async function(e,r){let n=await ke(this,En,"f").resolveStylelint(e);if(!n){ke(this,Yt,"f")?.debug("Stylelint not found",{uri:e.uri});return}let i=await(0,AW.findPackageRoot)(n.resolvedPath);if(!i){ke(this,Yt,"f")?.debug("Stylelint package root not found",{uri:e.uri});return}if(!(0,CW.default)(i,r)){ke(this,Yt,"f")?.debug("Stylelint package root is not inside the workspace",{uri:e.uri});return}let o=qW.default.join(i,"package.json");try{let s=await MW.default.readFile(o,"utf8");return JSON.parse(s).version}catch(s){ke(this,Yt,"f")?.debug("Stylelint package manifest could not be read",{uri:e.uri,manifestPath:o,error:s});return}},CT=async function(e){let r=await(0,jW.getWorkspaceFolder)(ke(this,En,"f").connection,e);if(!r){ke(this,Yt,"f")?.debug("Document not part of a workspace, ignoring",{uri:e.uri});return}if(ke(this,hf,"f").has(r)){ke(this,Yt,"f")?.debug("Document has already been checked, ignoring",{uri:e.uri});return}ke(this,hf,"f").add(r);let n=await ke(this,pf,"m",qT).call(this,e,r);if(n)try{let i=MT.default.coerce(n);if(!i)throw new Error(`Could not coerce version "${n}"`);return MT.default.lt(i,"14.0.0")?n:void 0}catch(i){ke(this,Yt,"f")?.debug("Stylelint version could not be parsed",{uri:e.uri,version:n,error:i});return}};mf.id="old-stylelint-warning"});var LT=p(fi=>{"use strict";var AT=fi&&fi.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},de=fi&&fi.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},nn,dr,gt,Qo,Wi,NT,Xm,_f,Jm;Object.defineProperty(fi,"__esModule",{value:!0});fi.ValidatorModule=void 0;var NW=Oe(),bf=class{constructor({context:e,logger:r}){nn.add(this),dr.set(this,void 0),gt.set(this,void 0),Qo.set(this,new Map),Wi.set(this,[]),AT(this,dr,e,"f"),AT(this,gt,r,"f")}dispose(){de(this,Wi,"f").forEach(e=>e.dispose()),de(this,Wi,"f").length=0}getDiagnostics(e){return de(this,Qo,"f").get(e)??[]}onInitialize(){de(this,nn,"m",_f).call(this)}onDidRegisterHandlers(){de(this,gt,"f")?.debug("Registering handlers"),de(this,Wi,"f").push(de(this,dr,"f").notifications.on(NW.DidChangeWatchedFilesNotification.type,async()=>await de(this,nn,"m",_f).call(this))),de(this,gt,"f")?.debug("onDidChangeWatchedFiles handler registered"),de(this,Wi,"f").push(de(this,dr,"f").documents.onDidChangeContent(async({document:e})=>await de(this,nn,"m",Xm).call(this,e))),de(this,gt,"f")?.debug("onDidChangeContent handler registered"),de(this,Wi,"f").push(de(this,dr,"f").documents.onDidClose(async({document:e})=>{await de(this,nn,"m",Jm).call(this,e)})),de(this,gt,"f")?.debug("onDidClose handler registered"),de(this,gt,"f")?.debug("Handlers registered")}async onDidChangeConfiguration(){de(this,gt,"f")?.debug("Received onDidChangeConfiguration"),await de(this,nn,"m",_f).call(this)}};fi.ValidatorModule=bf;dr=new WeakMap,gt=new WeakMap,Qo=new WeakMap,Wi=new WeakMap,nn=new WeakSet,NT=async function(e){return(await de(this,dr,"f").getOptions(e.uri)).validate.includes(e.languageId)},Xm=async function(e){if(!await de(this,nn,"m",NT).call(this,e)){de(this,Qo,"f").has(e.uri)?(de(this,gt,"f")?.debug("Document should not be validated, clearing diagnostics",{uri:e.uri,language:e.languageId}),await de(this,nn,"m",Jm).call(this,e)):de(this,gt,"f")?.debug("Document should not be validated, ignoring",{uri:e.uri,language:e.languageId});return}let r=await de(this,dr,"f").lintDocument(e);if(!r){de(this,gt,"f")?.debug("No lint result, ignoring",{uri:e.uri});return}de(this,gt,"f")?.debug("Sending diagnostics",{uri:e.uri,result:r});try{await de(this,dr,"f").connection.sendDiagnostics({uri:e.uri,diagnostics:r.diagnostics}),de(this,Qo,"f").set(e.uri,r.diagnostics),de(this,gt,"f")?.debug("Diagnostics sent",{uri:e.uri})}catch(n){de(this,dr,"f").displayError(n),de(this,gt,"f")?.error("Failed to send diagnostics",{uri:e.uri,error:n})}},_f=async function(){await Promise.allSettled(de(this,dr,"f").documents.all().map(e=>de(this,nn,"m",Xm).call(this,e)))},Jm=async function({uri:e}){de(this,gt,"f")?.debug("Clearing diagnostics for document",{uri:e}),de(this,Qo,"f").delete(e),await de(this,dr,"f").connection.sendDiagnostics({uri:e,diagnostics:[]}),de(this,gt,"f")?.debug("Diagnostics cleared",{uri:e})};bf.id="validator"});var IT=p(hr=>{"use strict";var LW=hr&&hr.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),Zo=hr&&hr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&LW(e,t,r)};Object.defineProperty(hr,"__esModule",{value:!0});Zo(gD(),hr);Zo(CP(),hr);Zo(xP(),hr);Zo(FP(),hr);Zo(jT(),hr);Zo(LT(),hr)});var $T={};cq($T,{TextDocument:()=>Qm});function Zm(t,e){if(t.length<=1)return t;let r=t.length/2|0,n=t.slice(0,r),i=t.slice(r);Zm(n,e),Zm(i,e);let o=0,s=0,a=0;for(;o<n.length&&s<i.length;)e(n[o],i[s])<=0?t[a++]=n[o++]:t[a++]=i[s++];for(;o<n.length;)t[a++]=n[o++];for(;s<i.length;)t[a++]=i[s++];return t}function xT(t,e,r=0){let n=e?[r]:[];for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);kT(o)&&(o===13&&i+1<t.length&&t.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function kT(t){return t===13||t===10}function FT(t){let e=t.start,r=t.end;return e.line>r.line||e.line===r.line&&e.character>r.character?{start:r,end:e}:t}function IW(t){let e=FT(t.range);return e!==t.range?{newText:t.newText,range:e}:t}var vf,Qm,WT=uq(()=>{"use strict";vf=class t{constructor(e,r,n,i){this._uri=e,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let r=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(r,n)}return this._content}update(e,r){for(let n of e)if(t.isIncremental(n)){let i=FT(n.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),u=Math.max(i.end.line,0),c=this._lineOffsets,h=xT(n.text,!1,o);if(u-a===h.length)for(let g=0,_=h.length;g<_;g++)c[g+a+1]=h[g];else h.length<1e4?c.splice(a+1,u-a,...h):this._lineOffsets=c=c.slice(0,a+1).concat(h,c.slice(u+1));let d=n.text.length-(s-o);if(d!==0)for(let g=a+1+h.length,_=c.length;g<_;g++)c[g]=c[g]+d}else if(t.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=xT(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:e};for(;n<i;){let s=Math.floor((n+i)/2);r[s]>e?i=s:n=s+1}let o=n-1;return e=this.ensureBeforeEOL(e,r[o]),{line:o,character:e-r[o]}}offsetAt(e){let r=this.getLineOffsets();if(e.line>=r.length)return this._content.length;if(e.line<0)return 0;let n=r[e.line];if(e.character<=0)return n;let i=e.line+1<r.length?r[e.line+1]:this._content.length,o=Math.min(n+e.character,i);return this.ensureBeforeEOL(o,n)}ensureBeforeEOL(e,r){for(;e>r&&kT(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(e){let r=e;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};(function(t){function e(i,o,s,a){return new vf(i,o,s,a)}t.create=e;function r(i,o,s){if(i instanceof vf)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}t.update=r;function n(i,o){let s=i.getText(),a=Zm(o.map(IW),(h,d)=>{let g=h.range.start.line-d.range.start.line;return g===0?h.range.start.character-d.range.start.character:g}),u=0,c=[];for(let h of a){let d=i.offsetAt(h.range.start);if(d<u)throw new Error("Overlapping edit");d>u&&c.push(s.substring(u,d)),h.newText.length&&c.push(h.newText),u=i.offsetAt(h.range.end)}return c.push(s.substr(u)),c.join("")}t.applyEdits=n})(Qm||(Qm={}))});var ZT=p(hi=>{"use strict";var gr=hi&&hi.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},A=hi&&hi.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Me,Ia,At,se,Ui,ns,Hi,Fa,os,is,Sf,di,es,ts,Bi,xa,Rf,rs,ka,GT,YT,KT,XT,JT,QT,La,HT,UT,BT,zT;Object.defineProperty(hi,"__esModule",{value:!0});hi.StylelintLanguageServer=void 0;var xW=(WT(),fq($T)),kW=oc(),wf=Oe(),VT=Bo(),ty=Cl(),ey=Mp(),FW=Da(),$W=ya(),WW=$o(),HW=xp(),ry={codeAction:{disableRuleComment:{location:"separateLine"}},config:null,configFile:"",configBasedir:"",customSyntax:"",ignoreDisables:!1,packageManager:"npm",reportDescriptionlessDisables:!1,reportInvalidScopeDisables:!1,reportNeedlessDisables:!1,rules:{customizations:[]},snippet:["css","postcss"],stylelintPath:"",validate:["css","postcss"]},ny=class{constructor({connection:e,logger:r,modules:n}){Me.add(this),Ia.set(this,"New"),At.set(this,void 0),se.set(this,void 0),Ui.set(this,void 0),ns.set(this,void 0),Hi.set(this,void 0),Fa.set(this,void 0),os.set(this,void 0),is.set(this,void 0),Sf.set(this,void 0),di.set(this,new Map),es.set(this,!1),ts.set(this,new Map),Bi.set(this,[]),xa.set(this,new Map),gr(this,At,e,"f"),gr(this,se,(r??(0,HW.createLogger)(e))?.child({component:"language-server"}),"f"),gr(this,Ui,new ty.NotificationManager(e,A(this,se,"f")),"f"),gr(this,ns,new ty.CommandManager(e,A(this,se,"f")),"f"),gr(this,Hi,ry,"f"),gr(this,Fa,new $W.StylelintResolver(e,A(this,se,"f")),"f"),gr(this,os,new FW.StylelintRunner(e,A(this,se,"f"),A(this,Fa,"f")),"f"),gr(this,is,new kW.TextDocuments(xW.TextDocument),"f"),gr(this,Sf,{connection:A(this,At,"f"),notifications:A(this,Ui,"f"),commands:A(this,ns,"f"),documents:A(this,is,"f"),runner:A(this,os,"f"),getOptions:A(this,Me,"m",ka).bind(this),getModule:A(this,Me,"m",JT).bind(this),getFixes:A(this,Me,"m",XT).bind(this),displayError:A(this,Me,"m",rs).bind(this),lintDocument:A(this,Me,"m",YT).bind(this),getEditInfo:A(this,Me,"m",KT).bind(this),resolveStylelint:A(this,Me,"m",GT).bind(this)},"f");let i=new Proxy(A(this,Sf,"f"),{get(o,s){return o[s]},set(){throw new Error("Cannot set read-only property")}});if(n)for(let o of n){if(A(this,se,"f").info("Registering module",{module:o.id}),!o.id)throw new Error("Modules must have an ID");if(typeof o.id!="string")throw new Error("Module IDs must be strings");let s=new o({context:i,logger:r?.child({component:`language-server:${o.id}`})});if(A(this,di,"f").has(o.id))throw new Error(`Module with ID "${o.id}" already registered`);A(this,di,"f").set(o.id,s),A(this,se,"f").info("Module registered",{module:o.id})}}start(){A(this,Me,"m",Rf).call(this,"Started"),A(this,se,"f").info("Starting language server"),A(this,is,"f").listen(A(this,At,"f")),A(this,At,"f").listen(),A(this,Me,"m",QT).call(this),A(this,se,"f").info("Language server started")}dispose(){try{A(this,Me,"m",Rf).call(this,"Disposed")}catch{return}A(this,se,"f").info("Stopping language server"),A(this,di,"f").forEach(e=>e.dispose()),A(this,Bi,"f").forEach(e=>e.dispose()),A(this,Bi,"f").length=0,A(this,At,"f").onInitialize(()=>({capabilities:{}})),A(this,At,"f").onShutdown(()=>{}),A(this,di,"f").clear(),A(this,Ui,"f").dispose(),A(this,ns,"f").dispose(),A(this,At,"f").dispose()}};hi.StylelintLanguageServer=ny;Ia=new WeakMap,At=new WeakMap,se=new WeakMap,Ui=new WeakMap,ns=new WeakMap,Hi=new WeakMap,Fa=new WeakMap,os=new WeakMap,is=new WeakMap,Sf=new WeakMap,di=new WeakMap,es=new WeakMap,ts=new WeakMap,Bi=new WeakMap,xa=new WeakMap,Me=new WeakSet,Rf=function(e){if(A(this,Ia,"f")===e)throw new Error(`Cannot transition from state ${e} to itself`);switch(A(this,Ia,"f")){case"Initialized":if(e!=="Disposed")throw new Error("Can only transition state from Initialized to Disposed");break;case"Disposed":throw new Error("Cannot transition from Disposed");default:break}gr(this,Ia,e,"f")},rs=function(e){(0,ty.displayError)(A(this,At,"f"),e)},ka=async function(e){if(!A(this,es,"f"))return A(this,Hi,"f");let r=A(this,ts,"f").get(e);if(r)return A(this,se,"f").debug("Returning cached options",{resource:e}),r;A(this,se,"f").debug("Requesting options from client",{resource:e});let n=await A(this,At,"f").workspace.getConfiguration({scopeUri:e,section:"stylelint"});A(this,se,"f").debug("Received options from client",{resource:e,options:n});let i=(0,ey.mergeOptionsWithDefaults)(n,ry);return Object.freeze(i),A(this,ts,"f").set(e,i),A(this,se,"f").debug("Returning options",{resource:e,options:i}),i},GT=async function(e){A(this,se,"f").debug("Resolving Stylelint",{uri:e.uri});try{let r=await A(this,Me,"m",ka).call(this,e.uri),n=await A(this,Fa,"f").resolve(r,e);return n?A(this,se,"f").debug("Stylelint resolved",{uri:e.uri,resolvedPath:n.resolvedPath}):A(this,se,"f").warn("Failed to resolve Stylelint",{uri:e.uri}),n}catch(r){A(this,Me,"m",rs).call(this,r),A(this,se,"f").error("Error resolving Stylelint",{uri:e.uri,error:r});return}},YT=async function(e,r={}){A(this,se,"f").debug("Linting document",{uri:e.uri,linterOptions:r});try{let n=await A(this,Me,"m",ka).call(this,e.uri),i=await A(this,os,"f").lintDocument(e,r,n);return A(this,xa,"f").set(e.uri,{version:e.version,...i}),A(this,se,"f").debug("Lint run complete",{uri:e.uri,results:i}),i}catch(n){A(this,Me,"m",rs).call(this,n),A(this,se,"f").error("Error running lint",{uri:e.uri,error:n});return}},KT=function(e,r){return(0,VT.getEditInfo)(e,r,A(this,xa,"f").get(e.uri))},XT=async function(e,r={}){try{let n=await A(this,Me,"m",ka).call(this,e.uri),i=await(0,VT.getFixes)(A(this,os,"f"),e,r,n);return A(this,se,"f").debug("Fixes retrieved",{uri:e.uri,edits:i}),i}catch(n){return A(this,Me,"m",rs).call(this,n),A(this,se,"f").error("Error getting fixes",{uri:e.uri,error:n}),[]}},JT=function(e){return A(this,di,"f").get(e)},QT=function(){A(this,se,"f").info("Registering handlers"),A(this,At,"f").onInitialize(A(this,Me,"m",HT).bind(this)),A(this,se,"f").debug("connection.onInitialize handler registered"),A(this,Bi,"f").push(A(this,Ui,"f").on(wf.InitializedNotification.type,A(this,Me,"m",UT).bind(this))),A(this,se,"f").debug("connection.onInitialized handler registered"),A(this,At,"f").onShutdown(()=>this.dispose()),A(this,se,"f").debug("connection.onShutdown handler registered"),A(this,ns,"f").register(),A(this,Bi,"f").push(A(this,Ui,"f").on(wf.DidChangeConfigurationNotification.type,A(this,Me,"m",zT).bind(this))),A(this,se,"f").debug("connection.onDidChangeConfiguration handler registered"),A(this,Bi,"f").push(A(this,is,"f").onDidClose(A(this,Me,"m",BT).bind(this))),A(this,se,"f").debug("documents.onDidClose handler registered"),A(this,Me,"m",La).call(this,"onDidRegisterHandlers"),A(this,se,"f").info("Handlers registered")},La=function(e,...r){A(this,se,"f").debug(`Invoking ${String(e)}`);let n=Object.create(null);for(let[i,o]of A(this,di,"f")){let s=o[e];if(s)try{n[i]=s.apply(o,r),A(this,se,"f").debug(`Invoked ${String(e)}`,{module:i,returnValue:n[i]})}catch(a){A(this,Me,"m",rs).call(this,a),A(this,se,"f").error(`Error invoking ${String(e)}`,{module:i,error:a})}}return n},HT=function(e){A(this,se,"f").debug("received onInitialize",{params:e});let r={capabilities:{textDocumentSync:{openClose:!0,change:wf.TextDocumentSyncKind.Full}}};e.capabilities.workspace?.configuration&&(A(this,se,"f").debug("Client reports workspace configuration support; using scoped configuration"),gr(this,es,!0,"f"));for(let[,n]of Object.entries(A(this,Me,"m",La).call(this,"onInitialize",e)))n&&(0,ey.mergeAssign)(r,n);return A(this,se,"f").debug("Returning initialization results",{result:r}),r},UT=async function(e){A(this,Me,"m",Rf).call(this,"Initialized"),A(this,se,"f").debug("received onInitialized",{params:e}),A(this,es,"f")&&(A(this,se,"f").debug("Registering DidChangeConfigurationNotification"),await A(this,At,"f").client.register(wf.DidChangeConfigurationNotification.type,{section:"stylelint"}))},BT=function({document:e}){A(this,se,"f").debug("received documents.onDidClose, clearing cached options",{uri:e.uri}),A(this,ts,"f").delete(e.uri),A(this,xa,"f").delete(e.uri)},zT=async function(e){if(A(this,es,"f")){A(this,se,"f").debug("received onDidChangeConfiguration, clearing cached options",{params:e}),A(this,ts,"f").clear(),A(this,Me,"m",La).call(this,"onDidChangeConfiguration"),await A(this,At,"f").sendNotification(WW.Notification.DidResetConfiguration);return}A(this,se,"f").debug("received onDidChangeConfiguration",{params:e}),gr(this,Hi,(0,ey.mergeOptionsWithDefaults)(e.settings.stylelint,ry),"f"),Object.freeze(A(this,Hi,"f")),A(this,se,"f").debug("Global options updated",{options:A(this,Hi,"f")}),A(this,Me,"m",La).call(this,"onDidChangeConfiguration")}});var tq=p(Nt=>{"use strict";var eq=Nt&&Nt.__createBinding||(Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]})),UW=Nt&&Nt.__setModuleDefault||(Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e}),iy=Nt&&Nt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&eq(e,t,r)},BW=Nt&&Nt.__importStar||(function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var n=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[n.length]=i);return n},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n=t(e),i=0;i<n.length;i++)n[i]!=="default"&&eq(r,e,n[i]);return UW(r,e),r}})();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.modules=void 0;iy(xp(),Nt);Nt.modules=BW(IT());iy(ZT(),Nt);iy($o(),Nt)});var nq=exports&&exports.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var zW=nq(require("path")),VW=nq(require("process")),rq=oc(),Ef=tq(),oy=(0,rq.createConnection)(rq.ProposedFeatures.all),{NODE_ENV:GW}=VW.default.env,YW=GW==="development"?(0,Ef.createLogger)(oy,"debug",zW.default.join(__dirname,"../stylelint-language-server.log")):(0,Ef.createLogger)(oy,"info"),KW=new Ef.StylelintLanguageServer({connection:oy,logger:YW,modules:Object.values(Ef.modules)});KW.start();
