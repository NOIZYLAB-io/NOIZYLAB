'use strict';function a68_0x3473(_0x30a0c5,_0xe94d39){const _0x2253a7=a68_0x2253();return a68_0x3473=function(_0x347312,_0x4d5e67){_0x347312=_0x347312-0x90;let _0x20bd93=_0x2253a7[_0x347312];return _0x20bd93;},a68_0x3473(_0x30a0c5,_0xe94d39);}const a68_0x391ccd=a68_0x3473;(function(_0x23f116,_0x4241dd){const _0x5192ab=a68_0x3473,_0x4ae0fb=_0x23f116();while(!![]){try{const _0x2083bf=-parseInt(_0x5192ab(0xbc))/0x1*(-parseInt(_0x5192ab(0xe3))/0x2)+parseInt(_0x5192ab(0xc8))/0x3*(-parseInt(_0x5192ab(0xe5))/0x4)+-parseInt(_0x5192ab(0x92))/0x5+-parseInt(_0x5192ab(0xe0))/0x6+parseInt(_0x5192ab(0xd0))/0x7+parseInt(_0x5192ab(0xc9))/0x8+-parseInt(_0x5192ab(0xc1))/0x9;if(_0x2083bf===_0x4241dd)break;else _0x4ae0fb['push'](_0x4ae0fb['shift']());}catch(_0x24bf6f){_0x4ae0fb['push'](_0x4ae0fb['shift']());}}}(a68_0x2253,0x2199f));var __createBinding=this&&this[a68_0x391ccd(0xa2)]||(Object[a68_0x391ccd(0xde)]?function(_0x2b94b7,_0x44a6f5,_0x52931a,_0x243166){const _0x11eb6a=a68_0x391ccd;if(_0x243166===undefined)_0x243166=_0x52931a;var _0x5d65f9=Object[_0x11eb6a(0xdf)](_0x44a6f5,_0x52931a);(!_0x5d65f9||(_0x11eb6a(0xb3)in _0x5d65f9?!_0x44a6f5['__esModule']:_0x5d65f9[_0x11eb6a(0xbf)]||_0x5d65f9[_0x11eb6a(0xcf)]))&&(_0x5d65f9={'enumerable':!![],'get':function(){return _0x44a6f5[_0x52931a];}}),Object[_0x11eb6a(0xcd)](_0x2b94b7,_0x243166,_0x5d65f9);}:function(_0x5b2cc3,_0x35b999,_0x421ef1,_0x556ff6){if(_0x556ff6===undefined)_0x556ff6=_0x421ef1;_0x5b2cc3[_0x556ff6]=_0x35b999[_0x421ef1];}),__setModuleDefault=this&&this[a68_0x391ccd(0x9d)]||(Object[a68_0x391ccd(0xde)]?function(_0x234330,_0x3cbf62){const _0x57b03a=a68_0x391ccd;Object[_0x57b03a(0xcd)](_0x234330,_0x57b03a(0xe9),{'enumerable':!![],'value':_0x3cbf62});}:function(_0x3b2f4e,_0x52423a){const _0x33624d=a68_0x391ccd;_0x3b2f4e[_0x33624d(0xe9)]=_0x52423a;}),__importStar=this&&this['__importStar']||(function(){var _0x52acda=function(_0x41e7f5){const _0x225d09=a68_0x3473;return _0x52acda=Object[_0x225d09(0x9c)]||function(_0x5ca7a4){const _0x5a5f9b=_0x225d09;var _0x34835d=[];for(var _0x2c15c4 in _0x5ca7a4)if(Object['prototype'][_0x5a5f9b(0x91)][_0x5a5f9b(0xb0)](_0x5ca7a4,_0x2c15c4))_0x34835d[_0x34835d[_0x5a5f9b(0xb5)]]=_0x2c15c4;return _0x34835d;},_0x52acda(_0x41e7f5);};return function(_0x5d051f){const _0x3f4f2b=a68_0x3473;if(_0x5d051f&&_0x5d051f[_0x3f4f2b(0x96)])return _0x5d051f;var _0x159f35={};if(_0x5d051f!=null){for(var _0x31aced=_0x52acda(_0x5d051f),_0x23b85f=0x0;_0x23b85f<_0x31aced[_0x3f4f2b(0xb5)];_0x23b85f++)if(_0x31aced[_0x23b85f]!==_0x3f4f2b(0xe9))__createBinding(_0x159f35,_0x5d051f,_0x31aced[_0x23b85f]);}return __setModuleDefault(_0x159f35,_0x5d051f),_0x159f35;};}());Object['defineProperty'](exports,a68_0x391ccd(0x96),{'value':!![]}),exports[a68_0x391ccd(0xd9)]=void 0x0;const vscode=__importStar(require(a68_0x391ccd(0xd2))),abort_controller_1=require(a68_0x391ccd(0xdc)),pslogging=__importStar(require(a68_0x391ccd(0x94))),dtp_client_1=require(a68_0x391ccd(0xc0)),localization_1=require(a68_0x391ccd(0xaf)),telemetry_provider_1=require('../../telemetry.provider'),dtp_credentials_1=require(a68_0x391ccd(0xca));class DtpVsCodeUi{['outputChannel'];[a68_0x391ccd(0xbd)]={};constructor(_0xaa0feb){const _0x2ff012=a68_0x391ccd;this[_0x2ff012(0x98)]=_0xaa0feb;}async[a68_0x391ccd(0xb7)](_0x2dd1b1){const _0x24c2de=a68_0x391ccd;if(!_0x2dd1b1)return this[_0x24c2de(0xe2)]();return this[_0x24c2de(0xd8)](_0x2dd1b1);}async[a68_0x391ccd(0xd8)](_0x4a8bfa){const _0xa971bc=a68_0x391ccd,_0x359ed0=[{'label':(0x0,localization_1[_0xa971bc(0xd7)])(_0xa971bc(0xa6)),'description':(0x0,localization_1[_0xa971bc(0xd7)])('common.dtp.useSettingsFromRecentImportQP.description',_0x4a8bfa[_0xa971bc(0xa4)],_0x4a8bfa[_0xa971bc(0xec)]),'action':async()=>{const _0x439628=_0xa971bc;return telemetry_provider_1[_0x439628(0xc5)][_0x439628(0xe4)]()?.['uiCommandEvent'](_0x439628(0x9e)),this[_0x439628(0xb1)](_0x4a8bfa);}},{'label':(0x0,localization_1[_0xa971bc(0xd7)])(_0xa971bc(0x95)),'action':async()=>{const _0x572006=_0xa971bc;return telemetry_provider_1[_0x572006(0xc5)]['getTelemetryReporter']()?.[_0x572006(0x9b)](_0x572006(0xaa)),await dtp_credentials_1[_0x572006(0xa1)][_0x572006(0xda)](),this[_0x572006(0xe2)](_0x4a8bfa);}}],_0x3fde75=await vscode['window'][_0xa971bc(0xcb)](_0x359ed0,{'placeHolder':(0x0,localization_1[_0xa971bc(0xd7)])(_0xa971bc(0xa9))});return _0x3fde75?.['action']();}async[a68_0x391ccd(0xb1)](_0x15fd3c){const _0x50b3ef=a68_0x391ccd;let _0x3cb29e=await dtp_credentials_1[_0x50b3ef(0xa1)][_0x50b3ef(0xba)]();(!_0x3cb29e||_0x3cb29e==='')&&(_0x3cb29e=await this['askUserForDtpUsername']());if(!_0x3cb29e)return undefined;let _0x2e66d2=await dtp_credentials_1[_0x50b3ef(0xa1)][_0x50b3ef(0xac)]();(!_0x2e66d2||_0x2e66d2==='')&&(_0x2e66d2=await this['askUserForPassword'](!![]));if(!_0x2e66d2)return undefined;return _0x15fd3c;}async[a68_0x391ccd(0xe2)](_0x4b45b3){const _0x34e8eb=a68_0x391ccd,_0x3c6a3c=await this[_0x34e8eb(0xc7)](_0x4b45b3);if(!_0x3c6a3c)return;const _0x316ced=await this['askUserForDtpUsername']();if(!_0x316ced)return;const _0x47727f=await this[_0x34e8eb(0xdb)]();if(!_0x47727f)return;const _0x195389=await this[_0x34e8eb(0xb8)](_0x4b45b3);if(!_0x195389)return;const [_0x49d6d3,_0x11cc57,_0x3270f7,_0x38cda0]=_0x195389;return{'dtpUrl':_0x3c6a3c,'projectName':_0x49d6d3,'projectId':_0x11cc57,'filterName':_0x3270f7,'filterId':_0x38cda0};}async['askUserForDtpUrl'](_0x1c33ba){const _0x55bd27=a68_0x391ccd,_0x50ef9a=await vscode[_0x55bd27(0xeb)][_0x55bd27(0xab)]({'value':this[_0x55bd27(0xbd)][_0x55bd27(0xb2)]??_0x1c33ba?.['dtpUrl'],'prompt':(0x0,localization_1[_0x55bd27(0xd7)])(_0x55bd27(0xd4)),'placeHolder':(0x0,localization_1[_0x55bd27(0xd7)])(_0x55bd27(0xc6)),'validateInput':_0xd59408=>_0xd59408[_0x55bd27(0xbb)]()===''?(0x0,localization_1[_0x55bd27(0xd7)])('common.dtp.qp.emptyStringInvalid'):undefined});if(_0x50ef9a===undefined)return;return this[_0x55bd27(0xbd)][_0x55bd27(0xb2)]=_0x50ef9a[_0x55bd27(0xbb)](),this[_0x55bd27(0xbd)][_0x55bd27(0xb2)];}async['askUserForDtpUsername'](){const _0x3bc4fd=a68_0x391ccd,_0x3c0122=await dtp_credentials_1[_0x3bc4fd(0xa1)][_0x3bc4fd(0xba)](),_0x55fe64=await vscode[_0x3bc4fd(0xeb)]['showInputBox']({'value':_0x3c0122,'prompt':(0x0,localization_1[_0x3bc4fd(0xd7)])(_0x3bc4fd(0xc3)),'validateInput':_0x2ff231=>_0x2ff231[_0x3bc4fd(0xbb)]()===''?(0x0,localization_1['i18n'])(_0x3bc4fd(0xae)):undefined});if(_0x55fe64===undefined)return;else await dtp_credentials_1[_0x3bc4fd(0xa1)][_0x3bc4fd(0xbe)](_0x55fe64?.[_0x3bc4fd(0xbb)]());return _0x55fe64?.[_0x3bc4fd(0xbb)]();}async[a68_0x391ccd(0xdb)](_0x2ddc43){const _0xacb36=a68_0x391ccd,_0x276797=await dtp_credentials_1[_0xacb36(0xa1)][_0xacb36(0xac)](),_0x552ec0=await dtp_credentials_1['CredentialsManagerDtp'][_0xacb36(0xba)](),_0x3299f9=await vscode[_0xacb36(0xeb)]['showInputBox']({'value':_0x276797,'prompt':_0x2ddc43&&_0x552ec0?(0x0,localization_1[_0xacb36(0xd7)])(_0xacb36(0xdd),_0x552ec0):(0x0,localization_1['i18n'])(_0xacb36(0xa7)),'password':!![],'validateInput':_0x455721=>_0x455721[_0xacb36(0xbb)]()===''?(0x0,localization_1[_0xacb36(0xd7)])(_0xacb36(0xae)):undefined});if(_0x3299f9===undefined)return;else await dtp_credentials_1['CredentialsManagerDtp'][_0xacb36(0xa5)](_0x3299f9);return _0x3299f9;}async[a68_0x391ccd(0xb8)](_0x5e42ee){const _0x1ccaa2=a68_0x391ccd,_0x182504=await this[_0x1ccaa2(0xea)]();if(!_0x182504)return;const _0x37b1fa=_0x100517=>{const _0x4b8f1b=_0x1ccaa2;return _0x100517[_0x4b8f1b(0x99)]===(this[_0x4b8f1b(0xbd)]['filterName']??_0x5e42ee?.[_0x4b8f1b(0xec)])&&_0x100517[_0x4b8f1b(0x9f)][_0x4b8f1b(0x99)]===(this[_0x4b8f1b(0xbd)][_0x4b8f1b(0x93)]??_0x5e42ee?.[_0x4b8f1b(0x93)]);};_0x182504[_0x1ccaa2(0xb6)]((_0x35ac96,_0x123253)=>{const _0x592c52=_0x1ccaa2;if(_0x37b1fa(_0x35ac96))return-0x1;if(_0x37b1fa(_0x123253))return 0x1;const _0xa07836=_0x35ac96[_0x592c52(0x9f)][_0x592c52(0x99)]['localeCompare'](_0x123253[_0x592c52(0x9f)][_0x592c52(0x99)]);return _0xa07836?_0xa07836:_0x35ac96['name'][_0x592c52(0xe7)](_0x123253['name']);});const _0x2f345c=_0x182504['map'](_0x3d1a38=>{const _0x8da2eb=_0x1ccaa2;return{'label':(0x0,localization_1[_0x8da2eb(0xd7)])(_0x8da2eb(0xe1),_0x3d1a38[_0x8da2eb(0x9f)][_0x8da2eb(0x99)],_0x3d1a38[_0x8da2eb(0x99)]),'description':_0x37b1fa(_0x3d1a38)?(0x0,localization_1[_0x8da2eb(0xd7)])(_0x8da2eb(0xb9)):undefined,'projectFilter':_0x3d1a38};}),_0x280f8f=await vscode[_0x1ccaa2(0xeb)]['showQuickPick'](_0x2f345c,{'placeHolder':(0x0,localization_1[_0x1ccaa2(0xd7)])(_0x1ccaa2(0x90)),'matchOnDescription':!![]});if(!_0x280f8f)return;const _0x306b8a=_0x280f8f[_0x1ccaa2(0xa8)][_0x1ccaa2(0x9f)][_0x1ccaa2(0x99)],_0x800506=_0x280f8f[_0x1ccaa2(0xa8)][_0x1ccaa2(0x9f)]['id'],_0x5e8d2b=_0x280f8f[_0x1ccaa2(0xa8)][_0x1ccaa2(0x99)],_0x3adf37=_0x280f8f[_0x1ccaa2(0xa8)]['id'];if(!_0x306b8a||!_0x800506||!_0x5e8d2b||!_0x3adf37){pslogging[_0x1ccaa2(0xad)](_0x1ccaa2(0xe6)+JSON[_0x1ccaa2(0xd5)](_0x280f8f['projectFilter']));return;}return this[_0x1ccaa2(0xbd)]['projectName']=_0x306b8a,this['lastEnteredValuesInQP']['filterName']=_0x5e8d2b,[_0x306b8a,_0x800506,_0x5e8d2b,_0x3adf37];}async[a68_0x391ccd(0xea)](){const _0x4f8466=a68_0x391ccd,_0x4fb432=await dtp_credentials_1[_0x4f8466(0xa1)][_0x4f8466(0xba)](),_0x390acf=await dtp_credentials_1[_0x4f8466(0xa1)][_0x4f8466(0xac)]();if(!this['lastEnteredValuesInQP']['url']||!_0x4fb432||!_0x390acf){pslogging[_0x4f8466(0xad)](_0x4f8466(0xd3));return;}const _0x4e128e=new dtp_client_1['DtpClient'](this[_0x4f8466(0xbd)][_0x4f8466(0xb2)],_0x4fb432,_0x390acf),_0x577dbb=await vscode[_0x4f8466(0xeb)]['withProgress']({'location':vscode[_0x4f8466(0x9a)][_0x4f8466(0xce)],'title':(0x0,localization_1[_0x4f8466(0xd7)])('common.dtp.progress.fetchingFilters.title'),'cancellable':!![]},(_0xf8091a,_0xbcade8)=>{const _0xfc3b76=_0x4f8466,_0x44c76a=new abort_controller_1[(_0xfc3b76(0xe8))]();return _0xbcade8[_0xfc3b76(0xcc)](()=>_0x44c76a['abort']()),_0x4e128e[_0xfc3b76(0xa0)](_0xfc3b76(0x97),new Map(),_0x44c76a[_0xfc3b76(0xd1)]);});if(!_0x577dbb)return;if(_0x577dbb[_0x4f8466(0xb5)]===0x0){const _0x344925=(0x0,localization_1['i18n'])(_0x4f8466(0xc2),_0x4e128e[_0x4f8466(0xa3)]());vscode['window'][_0x4f8466(0xb4)](_0x344925),this[_0x4f8466(0x98)][_0x4f8466(0xc4)](_0x344925),this[_0x4f8466(0x98)][_0x4f8466(0xd6)]();return;}return _0x577dbb;}}exports[a68_0x391ccd(0xd9)]=DtpVsCodeUi;function a68_0x2253(){const _0x1301b8=['trim','57979uqDdDi','lastEnteredValuesInQP','storeSecretUsername','writable','./dtp.client','1024596rcyrfa','common.dtp.warning.noFiltersForUser','common.dtp.qp.userName.prompt','appendLine','TelemetryReporterProvider','common.dtp.qp.dtpHost.placeHolder','askUserForDtpUrl','45WkVTod','2039176laEfpA','./dtp.credentials','showQuickPick','onCancellationRequested','defineProperty','Notification','configurable','1314250klWZxb','signal','vscode','Calling\x20showSelectFilterMenu\x20without\x20DTP\x20url/user/password','common.dtp.qp.dtpHost.prompt','stringify','show','i18n','showSelectActionMenu','DtpVsCodeUi','clearCredentials','askUserForPassword','abort-controller','common.dtp.enterUserPasswordWithUserName.prompt','create','getOwnPropertyDescriptor','733914CBWErh','common.dtp.qp.filters.label','showConfigureDtpMenu','6UnmDLZ','getTelemetryReporter','29632kkARMw','\x22Selected\x20filter\x20is\x20missing\x20project\x20or\x20filter\x20name\x20or\x20id:\x20','localeCompare','AbortController','default','fetchFiltersJson','window','filterName','common.dtp.qp.filters.placeHolder','hasOwnProperty','658350QxTiWq','projectName','../../logging','common.dtp.updateSettingsQP.label','__esModule','filters','outputChannel','name','ProgressLocation','uiCommandEvent','getOwnPropertyNames','__setModuleDefault','dtpUseRecentSettings','project','fetchApi','CredentialsManagerDtp','__createBinding','getUserName','dtpUrl','storeSecretPat','common.dtp.useSettingsFromRecentImportQP.label','common.dtp.enterUserPassword.prompt','projectFilter','common.dtp.selectActionQP.placeholder','dtpUpdateSettings','showInputBox','getStoredPat','error','common.dtp.qp.emptyStringInvalid','../../localization','call','ensureHasCredentials','url','get','showWarningMessage','length','sort','getQueryParameters','askUserForProjectFilter','common.dtp.qp.filters.recentlyUsed','getStoredUsername'];a68_0x2253=function(){return _0x1301b8;};return a68_0x2253();}