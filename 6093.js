"use strict";exports.id=6093,exports.ids=[6093],exports.modules={896093:(rt,he,r)=>{r.d(he,{GetRoleCredentialsCommand:()=>we,SSOClient:()=>tt});var L=r(334546),me=r(408029),n=r(323007);const Se=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),ge={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class h extends n.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,h.prototype)}}class A extends h{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,A.prototype)}}class T extends h{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,T.prototype)}}class w extends h{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,w.prototype)}}class N extends h{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,N.prototype)}}const ye=e=>({...e,...e.accessToken&&{accessToken:n.SENSITIVE_STRING}}),ve=e=>({...e,...e.secretAccessKey&&{secretAccessKey:n.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:n.SENSITIVE_STRING}}),xe=e=>({...e,...e.roleCredentials&&{roleCredentials:ve(e.roleCredentials)}}),it=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),ct=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),dt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}});var k=r(30369),v=r(125158);const fe=async(e,t)=>{const s=(0,v.lI)(e,t),o=(0,n.map)({},n.isSerializableHeaderValue,{[I]:e[R]});s.bp("/federation/credentials");const a=(0,n.map)({[Te]:[,(0,n.expectNonNull)(e[Ae],"roleName")],[$]:[,(0,n.expectNonNull)(e[G],"accountId")]});let i;return s.m("GET").h(o).q(a).b(i),s.build()},lt=async(e,t)=>{const s=rb(e,t),o=map({},isSerializableHeaderValue,{[I]:e[R]});s.bp("/assignment/roles");const a=map({[_]:[,e[U]],[H]:[()=>e.maxResults!==void 0,()=>e[V].toString()],[$]:[,__expectNonNull(e[G],"accountId")]});let i;return s.m("GET").h(o).q(a).b(i),s.build()},ut=async(e,t)=>{const s=rb(e,t),o=map({},isSerializableHeaderValue,{[I]:e[R]});s.bp("/assignment/accounts");const a=map({[_]:[,e[U]],[H]:[()=>e.maxResults!==void 0,()=>e[V].toString()]});let i;return s.m("GET").h(o).q(a).b(i),s.build()},pt=async(e,t)=>{const s=rb(e,t),o=map({},isSerializableHeaderValue,{[I]:e[R]});s.bp("/logout");let a;return s.m("POST").h(o).b(a),s.build()},Ee=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return E(e,t);const s=(0,n.map)({$metadata:p(e)}),o=(0,n.expectNonNull)((0,n.expectObject)(await(0,k.Y2)(e.body,t)),"body"),a=(0,n.take)(o,{roleCredentials:n._json});return Object.assign(s,a),s},ht=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return E(e,t);const s=map({$metadata:p(e)}),o=__expectNonNull(__expectObject(await parseBody(e.body,t)),"body"),a=take(o,{nextToken:__expectString,roleList:_json});return Object.assign(s,a),s},mt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return E(e,t);const s=map({$metadata:p(e)}),o=__expectNonNull(__expectObject(await parseBody(e.body,t)),"body"),a=take(o,{accountList:_json,nextToken:__expectString});return Object.assign(s,a),s},St=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return E(e,t);const s=map({$metadata:p(e)});return await collectBody(e.body,t),s},E=async(e,t)=>{const s={...e,body:await(0,k.CG)(e.body,t)},o=(0,k.cJ)(e,s.body);switch(o){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Ie(s,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Ce(s,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await be(s,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Pe(s,t);default:const a=s.body;return Re({output:e,parsedBody:a,errorCode:o})}},Re=(0,n.withBaseException)(h),Ie=async(e,t)=>{const s=(0,n.map)({}),o=e.body,a=(0,n.take)(o,{message:n.expectString});Object.assign(s,a);const i=new A({$metadata:p(e),...s});return(0,n.decorateServiceException)(i,e.body)},Ce=async(e,t)=>{const s=(0,n.map)({}),o=e.body,a=(0,n.take)(o,{message:n.expectString});Object.assign(s,a);const i=new T({$metadata:p(e),...s});return(0,n.decorateServiceException)(i,e.body)},be=async(e,t)=>{const s=(0,n.map)({}),o=e.body,a=(0,n.take)(o,{message:n.expectString});Object.assign(s,a);const i=new w({$metadata:p(e),...s});return(0,n.decorateServiceException)(i,e.body)},Pe=async(e,t)=>{const s=(0,n.map)({}),o=e.body,a=(0,n.take)(o,{message:n.expectString});Object.assign(s,a);const i=new N({$metadata:p(e),...s});return(0,n.decorateServiceException)(i,e.body)},p=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),gt=(e,t)=>collectBody(e,t).then(s=>t.utf8Encoder(s)),G="accountId",R="accessToken",$="account_id",V="maxResults",H="max_result",U="nextToken",_="next_token",Ae="roleName",Te="role_name",I="x-amz-sso_bearer_token";class we extends n.Command.classBuilder().ep(ge).m(function(t,s,o,a){return[(0,me.TM)(o,this.serialize,this.deserialize),(0,L.rD)(o,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(ye,xe).ser(fe).de(Ee).build(){}var M=r(171753),Ne=r(211945),ke=r(670299),j=r(870011),x=r(57801),De=r(251320),C=r(425263),Fe=r(253015),B=r(442952);const ze=async(e,t,s)=>({operation:(0,B.u)(t).operation,region:await(0,B.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Oe(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,s)=>({signingProperties:{config:t,context:s}})}}function b(e){return{schemeId:"smithy.api#noAuth"}}const Le=e=>{const t=[];switch(e.operation){case"GetRoleCredentials":{t.push(b(e));break}case"ListAccountRoles":{t.push(b(e));break}case"ListAccounts":{t.push(b(e));break}case"Logout":{t.push(b(e));break}default:t.push(Oe(e))}return t},Ge=e=>({...(0,Fe.h)(e)}),$e={rE:"3.693.0"};var Ve=r(301468),Z=r(113129),He=r(951461),m=r(75854),q=r(132117),Ue=r(788226),_e=r(994134),Me=r(349558),je=r(142640),K=r(361821),W=r(518207),Be=r(202906),D=r(405332);const J="required",c="fn",d="argv",S="ref",Y=!0,Q="isSet",f="booleanEquals",g="error",y="endpoint",u="tree",F="PartitionResult",z="getAttr",X={[J]:!1,type:"String"},ee={[J]:!0,default:!1,type:"Boolean"},te={[S]:"Endpoint"},se={[c]:f,[d]:[{[S]:"UseFIPS"},!0]},ne={[c]:f,[d]:[{[S]:"UseDualStack"},!0]},l={},oe={[c]:z,[d]:[{[S]:F},"supportsFIPS"]},ae={[S]:F},re={[c]:f,[d]:[!0,{[c]:z,[d]:[ae,"supportsDualStack"]}]},ie=[se],ce=[ne],de=[{[S]:"Region"}],Ze={version:"1.0",parameters:{Region:X,UseDualStack:ee,UseFIPS:ee,Endpoint:X},rules:[{conditions:[{[c]:Q,[d]:[te]}],rules:[{conditions:ie,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:g},{conditions:ce,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:g},{endpoint:{url:te,properties:l,headers:l},type:y}],type:u},{conditions:[{[c]:Q,[d]:de}],rules:[{conditions:[{[c]:"aws.partition",[d]:de,assign:F}],rules:[{conditions:[se,ne],rules:[{conditions:[{[c]:f,[d]:[Y,oe]},re],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:y}],type:u},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:g}],type:u},{conditions:ie,rules:[{conditions:[{[c]:f,[d]:[oe,Y]}],rules:[{conditions:[{[c]:"stringEquals",[d]:[{[c]:z,[d]:[ae,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:l,headers:l},type:y},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:y}],type:u},{error:"FIPS is enabled but this partition does not support FIPS",type:g}],type:u},{conditions:ce,rules:[{conditions:[re],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:y}],type:u},{error:"DualStack is enabled but this partition does not support DualStack",type:g}],type:u},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:y}],type:u}],type:u},{error:"Invalid Configuration: Missing Region",type:g}]},qe=new D.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Ke=(e,t={})=>qe.get(e,()=>(0,D.sO)(Ze,{endpointParams:e,logger:t.logger}));D.mw.aws=Be.UF;const We=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??K.E,base64Encoder:e?.base64Encoder??K.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Ke,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Le,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Me.f2},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new v.mR}],logger:e?.logger??new n.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??je.D,utf8Decoder:e?.utf8Decoder??W.ar,utf8Encoder:e?.utf8Encoder??W.Pq});var Je=r(534546);const Ye=e=>{(0,n.emitWarningIfUnsupportedVersion)(process.version);const t=(0,Je.I)(e),s=()=>t().then(n.loadConfigsForDefaultMode),o=We(e);return(0,Ve.I)(process.version),{...o,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Ue.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Z.pf)({serviceId:o.serviceId,clientVersion:$e.rE}),maxAttempts:e?.maxAttempts??(0,m.Z)(C.qs),region:e?.region??(0,m.Z)(x.GG,x.zH),requestHandler:q.$c.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,m.Z)({...C.kN,default:async()=>(await s()).retryMode||_e.L0}),sha256:e?.sha256??He.V.bind(null,"sha256"),streamCollector:e?.streamCollector??q.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,m.Z)(x.e$),useFipsEndpoint:e?.useFipsEndpoint??(0,m.Z)(x.Ko),userAgentAppId:e?.userAgentAppId??(0,m.Z)(Z.hV)}};var le=r(142498),ue=r(890130);const Qe=e=>{const t=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(a){const i=t.findIndex(O=>O.schemeId===a.schemeId);i===-1?t.push(a):t.splice(i,1,a)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(a){s=a},httpAuthSchemeProvider(){return s},setCredentials(a){o=a},credentials(){return o}}},Xe=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),P=e=>e,et=(e,t)=>{const s={...P((0,le.Rq)(e)),...P((0,n.getDefaultExtensionConfiguration)(e)),...P((0,ue.eS)(e)),...P(Qe(e))};return t.forEach(o=>o.configure(s)),{...e,...(0,le.$3)(s),...(0,n.resolveDefaultRuntimeConfig)(s),...(0,ue.jt)(s),...Xe(s)}};class tt extends n.Client{constructor(...[t]){const s=Ye(t||{}),o=Se(s),a=(0,j.Dc)(o),i=(0,C.$z)(a),O=(0,x.TD)(i),st=(0,M.OV)(O),nt=(0,L.Co)(st),ot=Ge(nt),pe=et(ot,t?.extensions||[]);super(pe),this.config=pe,this.middlewareStack.use((0,j.sM)(this.config)),this.middlewareStack.use((0,C.ey)(this.config)),this.middlewareStack.use((0,De.vK)(this.config)),this.middlewareStack.use((0,M.TC)(this.config)),this.middlewareStack.use((0,Ne.Y7)(this.config)),this.middlewareStack.use((0,ke.n4)(this.config)),this.middlewareStack.use((0,v.wB)(this.config,{httpAuthSchemeParametersProvider:ze,identityProviderConfigProvider:async at=>new v.h$({"aws.auth#sigv4":at.credentials})})),this.middlewareStack.use((0,v.lW)(this.config))}destroy(){super.destroy()}}}};
