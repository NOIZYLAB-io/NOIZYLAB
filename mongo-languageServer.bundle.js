/*! For license information please see mongo-languageServer.bundle.js.LICENSE.txt */
(()=>{var n={79117:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=i(43106);o.default=(0,s.gunzipSync)(Buffer.from("H4sIAAAAAAACA+3dTYgcaRkA4LemO9Mhxm0FITnE9Cwr4jHgwgZ22B6YywqCJ0HQg5CL4sGTuOjCtGSF4CkHEW856MlTQHD3EJnWkU0Owh5VxE3LHlYQdNxd2U6mU59UV/d09fw4M2EySSXPAzNdP1/9fX/99bzVNZEN4jisRDulVFnQmLxm1aXF9Id/2/xMxNJ4XZlg576yuYlGt9gupV6xoFf8jhu9YvulVrFlp5XSx+lfvYhORGPXvqIRWSxERKtIm8bKFd10WNfKDS5Fo9jJWrq2+M2IlW+8uHgl/+BsROfPF4v5L7148Ur68Sha6dqZpYiVVy8tvLCWXo80Sf/lS89dGX2wHGvpzoXVn75/YWH5wmqe8uika82ViJXTy83Ve2k5Urozm38wm4/ls6t5uT6yfsTSJ7J3T0VKt8c5ExEXI8aFkH729c3eT+7EC6ca8cVULZUiYacX0R5PNWNxlh9L1y90q5kyzrpyy+9WcvOV6URntqw7La9sNVstXyczWVaWYbaaTYqzOHpr7pyiNT3/YzKuT63Z/FqKZlFTiuXtFM2vVOtIq7jiyKJbWZaOWD0euz0yoV2Z7kY0xq2x0YhfzVpmM5px9nTEH7JZ0ot5u39p0ma75Z472/s/H+2yr2inYyuq7fMvJivH2rM72N/Z3lyL31F2b1ya1P0zn816k2KP6JU9UzseucdQH5YqVeH/lFajSN2udg+TLJ9rksNxlvV2lki19rXKI43TPLejFu4ov7k3nMbhyhfY3Xb37f8BAGCf0eMTOH5szf154KmnNgKcnLb+Fzi2AfXktbN7fJelwTAiO/W5uQ2KINXRYu+znqo/WTAdLadURHmy3qciazd3bra4T3w16/f7t7Ms9U5gfJu10955sx1r3vmhBAAAAAAAgId20J1iZbDowNvIjuH427Gr5l/eiC+8OplZON8sVjx/qr9y+Pj+YRItT+NqAM+kkZs3AAAAAID6yfx1FwCAI97/dCh1/ub6SA0AAAAAAAAAgNoT/wcAAAAAAACA+hP/BwAAAAAAAID6E/8HAAAAAAAAgPoT/wcAAAAAAACA+hP/BwAAAAAAAID6E/8HAAAAAAAAgPoT/wcAAAAAAACA+hP/BwAAAAAAAID6E/8HAAAAAAAAgPoT/wcAAAAAAACA+hutp5SiQpYAAAAAAAAAQO2MIpZiT804flnAE2fhwjOeAZXr76kOAAAAAAAA8FjNf4N/l0NE3U/vuVQskLpSd4/Yh2xu9xTu0tFeeNYsLI2f/VMdNxTzj6Je9E/+6pp6Nn3awW3A54goe4Bss6v+PGsjQGMAAAAAAOBp5XEgwH6e7J7rwEQHRb/XvAMAAAAAAAA8yzoDeQDwVGjIAgAAAAAAAACoPfF/AAAAAAAAAKg/8X8AAAAAAAAAqD/xfwAAAAAAAACoP/F/AAAAAAAAAKg/8X8AAAAAAAAAqD/xfwAAAAAAAACoP/F/AAAAAAAAAKg/8X8AAAAAAAAAqD/xfwAAAAAAAACoP/F/AAAAAAAAAKg/8X8AAAAAAAAAqL/GSkSkClkCAAAAAAAAALXTSAAAAAAAAABA3Y1kAQAAAAAAAADUX8RSXZ9dsHC9+M8Fg2Ex/em1lAZpEBGttcrVjZqLEa+k0XpKw9mG4zWx4ukPUMhkAQAAAAAAABzBqbSe3//rXOS9HxGdo4TqR2XkutCdBu+LaPZw/lBbO7cbHnh2C7N7AIo4evEznllqLqWUp/LnYOtpM2bnOH66wI1+9GO4sOuISwv/TOlumu56FDv3NZhc4mR9v7zYIrafr40j/Cccvj9Xns3t3mu99E7qxUv3bqS0/ouNH/08++RGemfQ+nsx/5uNXsQPGulynPvv3ZTW37zd+1ovrqaYpP/122X6Xpx779Z3zr/3YOPKW1lkaRDf31pPaf3j/msRsVGkL+d/f+/m4sJsPm1cfSsr16e8m9Ldj/KsnyIuR3nXw83Is3EhxLd/2V773ks3m/cj/THKUummdP9qKhIOImuOU0Xjwb3y+oqt735rpTetVbF9n8R4x9crRfO77TKqVOZpDclv5bfK18lMnk+q0K18UpxF/RrGXE0Zxtqx3tWSj+vxbL4XaasfKb0dRbtLW73JsfPGg177H+OmGKlfvS1msllt7JEJm9XOJqXR+Fkfo1H66uy5H1v3Xx5+uJmGLw9jro2u7Loj4PnuR6+f+e3d261+eazNhzrL7X83MohoHpS4PddV8ki1it61//pw1g7z6p1U/26Nm2llST57B5rUvuG0XqSU/rPd7jYrqWcbd+beJQ77BgPMDwn37/8BAGCf0eMTOH4cPlufv9VGgJOzqf8Fjm1APXkd7B7f5dF57GPMaWy/MTvjvNvtXj6h8W2+GXvnzXaseeeHEgAAAAAAAB7aQXeKlcGiadBoEOeLb2dtpGOL2MyOtf391a3P/zD96c3JzIP3t4oV797vrh8+vn+YRL5bBuj/AQAAAABqJvfHXQAAHkX82zfXAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACeAgkAAAAAAAAAqLuRLAAAAAAAAACA2hv9D1iu/VAYaAYA","base64"))},99127:n=>{"use strict";const getCodePoint=n=>n.codePointAt(0);function toCodePoints(n){const o=[],i=n.length;for(let s=0;s<i;s+=1){const c=n.charCodeAt(s);if(c>=55296&&c<=56319&&i>s+1){const i=n.charCodeAt(s+1);if(i>=56320&&i<=57343){o.push(1024*(c-55296)+i-56320+65536),s+=1;continue}}o.push(c)}return o}function saslprep({unassigned_code_points:n,commonly_mapped_to_nothing:o,non_ASCII_space_characters:i,prohibited_characters:s,bidirectional_r_al:c,bidirectional_l:h},f,E={}){const S=i,A=o;if("string"!=typeof f)throw new TypeError("Expected string.");if(0===f.length)return"";const O=toCodePoints(f).map(n=>S.get(n)?32:n).filter(n=>!A.get(n)),T=String.fromCodePoint.apply(null,O).normalize("NFKC"),_=toCodePoints(T);if(_.some(n=>s.get(n)))throw new Error("Prohibited character, see https://tools.ietf.org/html/rfc4013#section-2.3");if(!0!==E.allowUnassigned){if(_.some(o=>n.get(o)))throw new Error("Unassigned code point, see https://tools.ietf.org/html/rfc4013#section-2.5")}const D=_.some(n=>c.get(n)),N=_.some(n=>h.get(n));if(D&&N)throw new Error("String must not contain RandALCat and LCat at the same time, see https://tools.ietf.org/html/rfc3454#section-6");const R=c.get(getCodePoint(T[0]));const x=c.get(getCodePoint((n=>n[n.length-1])(T)));if(D&&(!R||!x))throw new Error("Bidirectional RandALCat character must be the first and the last character of the string, see https://tools.ietf.org/html/rfc3454#section-6");return T}saslprep.saslprep=saslprep,saslprep.default=saslprep,n.exports=saslprep},49958:function(n,o,i){"use strict";var s=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(o,"__esModule",{value:!0}),o.createMemoryCodePoints=function createMemoryCodePoints(n){let o=0;function read(){const i=n.readUInt32BE(o);o+=4;const s=n.slice(o,o+i);return o+=i,(0,c.default)({buffer:s})}const i=read(),s=read(),h=read(),f=read(),E=read(),S=read();return{unassigned_code_points:i,commonly_mapped_to_nothing:s,non_ASCII_space_characters:h,prohibited_characters:f,bidirectional_r_al:E,bidirectional_l:S}};const c=s(i(18165))},13767:function(n,o,i){"use strict";var s=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};const c=s(i(99127)),h=i(49958),f=s(i(79117)),E=(0,h.createMemoryCodePoints)(f.default);function saslprep(n,o){return(0,c.default)(E,n,o)}saslprep.saslprep=saslprep,saslprep.default=saslprep,n.exports=saslprep},15747:(n,o,i)=>{"use strict";var s,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor,f=Object.getOwnPropertyNames,E=Object.prototype.hasOwnProperty,S={};((n,o)=>{for(var i in o)c(n,i,{get:o[i],enumerable:!0})})(S,{config:()=>config,t:()=>t}),n.exports=(s=S,((n,o,i,s)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let S of f(o))E.call(n,S)||S===i||c(n,S,{get:()=>o[S],enumerable:!(s=h(o,S))||s.enumerable});return n})(c({},"__esModule",{value:!0}),s));var A,O=i(79896),T=i(91943);function config(n){if("contents"in n)A="string"==typeof n.contents?JSON.parse(n.contents):n.contents;else{if("fsPath"in n){const o=function readFileFromFsPath(n){return(0,O.readFileSync)(n,"utf8")}(n.fsPath),i=JSON.parse(o);return void(A=isBuiltinExtension(i)?i.contents.bundle:i)}if(n.uri){let o=n.uri;return"string"==typeof n.uri&&(o=new URL(n.uri)),new Promise((n,i)=>{(async function readFileFromUri(n){if("file:"===n.protocol)return await(0,T.readFile)(n,"utf8");if("http:"===n.protocol||"https:"===n.protocol){const o=await fetch(n.toString(),{headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"},redirect:"follow"});if(!o.ok){let i=`Unexpected ${o.status} response while trying to read ${n}`;try{i+=`: ${await o.text()}`}catch{}throw new Error(i)}return await o.text()}throw new Error("Unsupported protocol")})(o).then(o=>{try{const i=JSON.parse(o);A=isBuiltinExtension(i)?i.contents.bundle:i,n()}catch(n){i(n)}}).catch(n=>{i(n)})})}}}function t(...n){const o=n[0];let i,s,c;if("string"==typeof o)i=o,s=o,n.splice(0,1),c=n&&"object"==typeof n[0]?n[0]:n;else{if(o instanceof Array){const i=n.slice(1);if(o.length!==i.length+1)throw new Error("expected a string as the first argument to l10n.t");let s=o[0];for(let n=1;n<o.length;n++)s+=`{${n-1}}`+o[n];return t(s,...i)}s=o.message,i=s,o.comment&&o.comment.length>0&&(i+=`/${Array.isArray(o.comment)?o.comment.join(""):o.comment}`),c=o.args??{}}const h=A?.[i];return h?"string"==typeof h?format(h,c):h.comment?format(h.message,c):format(s,c):format(s,c)}var _=/{([^}]+)}/g;function format(n,o){return 0===Object.keys(o).length?n:n.replace(_,(n,i)=>o[i]??n)}function isBuiltinExtension(n){return!("object"!=typeof n?.contents?.bundle||"string"!=typeof n?.version)}},67404:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.ANTLRInputStream=void 0;const c=i(42613),h=i(72399),f=i(71492);class ANTLRInputStream{constructor(n){this.p=0,this.data=n,this.n=n.length}reset(){this.p=0}consume(){if(this.p>=this.n)throw c(this.LA(1)===f.IntStream.EOF),new Error("cannot consume EOF");this.p<this.n&&this.p++}LA(n){return 0===n?0:n<0&&(n++,this.p+n-1<0)||this.p+n-1>=this.n?f.IntStream.EOF:this.data.charCodeAt(this.p+n-1)}LT(n){return this.LA(n)}get index(){return this.p}get size(){return this.n}mark(){return-1}release(n){}seek(n){if(n<=this.p)this.p=n;else for(n=Math.min(n,this.n);this.p<n;)this.consume()}getText(n){let o=n.a,i=n.b;i>=this.n&&(i=this.n-1);let s=i-o+1;return o>=this.n?"":this.data.substr(o,s)}get sourceName(){return this.name?this.name:f.IntStream.UNKNOWN_SOURCE_NAME}toString(){return this.data}}s([h.Override],ANTLRInputStream.prototype,"consume",null),s([h.Override],ANTLRInputStream.prototype,"LA",null),s([h.Override],ANTLRInputStream.prototype,"index",null),s([h.Override],ANTLRInputStream.prototype,"size",null),s([h.Override],ANTLRInputStream.prototype,"mark",null),s([h.Override],ANTLRInputStream.prototype,"release",null),s([h.Override],ANTLRInputStream.prototype,"seek",null),s([h.Override],ANTLRInputStream.prototype,"getText",null),s([h.Override],ANTLRInputStream.prototype,"sourceName",null),s([h.Override],ANTLRInputStream.prototype,"toString",null),o.ANTLRInputStream=ANTLRInputStream},27442:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.BailErrorStrategy=void 0;const c=i(43361),h=i(22468),f=i(72399),E=i(16897);class BailErrorStrategy extends c.DefaultErrorStrategy{recover(n,o){for(let i=n.context;i;i=i.parent)i.exception=o;throw new E.ParseCancellationException(o)}recoverInline(n){let o=new h.InputMismatchException(n);for(let i=n.context;i;i=i.parent)i.exception=o;throw new E.ParseCancellationException(o)}sync(n){}}s([f.Override],BailErrorStrategy.prototype,"recover",null),s([f.Override],BailErrorStrategy.prototype,"recoverInline",null),s([f.Override],BailErrorStrategy.prototype,"sync",null),o.BailErrorStrategy=BailErrorStrategy},46737:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferedTokenStream=void 0;const h=i(42613),f=i(48291),E=i(7477),S=i(22807),A=i(72399),O=i(47760);let T=class BufferedTokenStream{constructor(n){if(this.tokens=[],this.p=-1,this.fetchedEOF=!1,null==n)throw new Error("tokenSource cannot be null");this._tokenSource=n}get tokenSource(){return this._tokenSource}set tokenSource(n){this._tokenSource=n,this.tokens.length=0,this.p=-1,this.fetchedEOF=!1}get index(){return this.p}mark(){return 0}release(n){}seek(n){this.lazyInit(),this.p=this.adjustSeekIndex(n)}get size(){return this.tokens.length}consume(){let n;if(n=this.p>=0&&(this.fetchedEOF?this.p<this.tokens.length-1:this.p<this.tokens.length),!n&&this.LA(1)===O.Token.EOF)throw new Error("cannot consume EOF");this.sync(this.p+1)&&(this.p=this.adjustSeekIndex(this.p+1))}sync(n){h(n>=0);let o=n-this.tokens.length+1;if(o>0){return this.fetch(o)>=o}return!0}fetch(n){if(this.fetchedEOF)return 0;for(let o=0;o<n;o++){let n=this.tokenSource.nextToken();if(this.isWritableToken(n)&&(n.tokenIndex=this.tokens.length),this.tokens.push(n),n.type===O.Token.EOF)return this.fetchedEOF=!0,o+1}return n}get(n){if(n<0||n>=this.tokens.length)throw new RangeError("token index "+n+" out of range 0.."+(this.tokens.length-1));return this.tokens[n]}getRange(n,o){if(n<0||o<0)return[];this.lazyInit();let i=new Array;o>=this.tokens.length&&(o=this.tokens.length-1);for(let s=n;s<=o;s++){let n=this.tokens[s];if(n.type===O.Token.EOF)break;i.push(n)}return i}LA(n){let o=this.LT(n);return o?o.type:O.Token.INVALID_TYPE}tryLB(n){if(!(this.p-n<0))return this.tokens[this.p-n]}LT(n){let o=this.tryLT(n);if(void 0===o)throw new RangeError("requested lookback index out of range");return o}tryLT(n){if(this.lazyInit(),0===n)throw new RangeError("0 is not a valid lookahead index");if(n<0)return this.tryLB(-n);let o=this.p+n-1;return this.sync(o),o>=this.tokens.length?this.tokens[this.tokens.length-1]:this.tokens[o]}adjustSeekIndex(n){return n}lazyInit(){-1===this.p&&this.setup()}setup(){this.sync(0),this.p=this.adjustSeekIndex(0)}getTokens(n,o,i){if(this.lazyInit(),void 0===n)return h(void 0===o&&void 0===i),this.tokens;if(void 0===o&&(o=this.tokens.length-1),n<0||o>=this.tokens.length||o<0||n>=this.tokens.length)throw new RangeError("start "+n+" or stop "+o+" not in 0.."+(this.tokens.length-1));if(n>o)return[];if(void 0===i)return this.tokens.slice(n,o+1);"number"==typeof i&&(i=(new Set).add(i));let s=i,c=this.tokens.slice(n,o+1);return c=c.filter(n=>s.has(n.type)),c}nextTokenOnChannel(n,o){if(this.sync(n),n>=this.size)return this.size-1;let i=this.tokens[n];for(;i.channel!==o;){if(i.type===O.Token.EOF)return n;n++,this.sync(n),i=this.tokens[n]}return n}previousTokenOnChannel(n,o){if(this.sync(n),n>=this.size)return this.size-1;for(;n>=0;){let i=this.tokens[n];if(i.type===O.Token.EOF||i.channel===o)return n;n--}return n}getHiddenTokensToRight(n,o=-1){if(this.lazyInit(),n<0||n>=this.tokens.length)throw new RangeError(n+" not in 0.."+(this.tokens.length-1));let i,s=this.nextTokenOnChannel(n+1,S.Lexer.DEFAULT_TOKEN_CHANNEL),c=n+1;return i=-1===s?this.size-1:s,this.filterForChannel(c,i,o)}getHiddenTokensToLeft(n,o=-1){if(this.lazyInit(),n<0||n>=this.tokens.length)throw new RangeError(n+" not in 0.."+(this.tokens.length-1));if(0===n)return[];let i=this.previousTokenOnChannel(n-1,S.Lexer.DEFAULT_TOKEN_CHANNEL);if(i===n-1)return[];let s=i+1,c=n-1;return this.filterForChannel(s,c,o)}filterForChannel(n,o,i){let s=new Array;for(let c=n;c<=o;c++){let n=this.tokens[c];-1===i?n.channel!==S.Lexer.DEFAULT_TOKEN_CHANNEL&&s.push(n):n.channel===i&&s.push(n)}return s}get sourceName(){return this.tokenSource.sourceName}getText(n){void 0===n?n=E.Interval.of(0,this.size-1):n instanceof E.Interval||(n=n.sourceInterval);let o=n.a,i=n.b;if(o<0||i<0)return"";this.fill(),i>=this.tokens.length&&(i=this.tokens.length-1);let s="";for(let n=o;n<=i;n++){let o=this.tokens[n];if(o.type===O.Token.EOF)break;s+=o.text}return s.toString()}getTextFromRange(n,o){return this.isToken(n)&&this.isToken(o)?this.getText(E.Interval.of(n.tokenIndex,o.tokenIndex)):""}fill(){this.lazyInit();for(;;){if(this.fetch(1e3)<1e3)return}}isWritableToken(n){return n instanceof f.CommonToken}isToken(n){return n instanceof f.CommonToken}};s([A.NotNull],T.prototype,"_tokenSource",void 0),s([A.Override],T.prototype,"tokenSource",null),s([A.Override],T.prototype,"index",null),s([A.Override],T.prototype,"mark",null),s([A.Override],T.prototype,"release",null),s([A.Override],T.prototype,"seek",null),s([A.Override],T.prototype,"size",null),s([A.Override],T.prototype,"consume",null),s([A.Override],T.prototype,"get",null),s([A.Override],T.prototype,"LA",null),s([A.NotNull,A.Override],T.prototype,"LT",null),s([A.Override],T.prototype,"sourceName",null),s([A.NotNull,A.Override],T.prototype,"getText",null),s([A.NotNull,A.Override],T.prototype,"getTextFromRange",null),T=s([c(0,A.NotNull)],T),o.BufferedTokenStream=T},36776:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CharStreams=void 0;const s=i(75866),c=i(90328),h=i(71492);!function(n){n.fromString=function fromString(n,o){void 0!==o&&0!==o.length||(o=h.IntStream.UNKNOWN_SOURCE_NAME);let i=s.CodePointBuffer.builder(n.length),f=new Uint16Array(n.length);for(let o=0;o<n.length;o++)f[o]=n.charCodeAt(o);return i.append(f),c.CodePointCharStream.fromBuffer(i.build(),o)}}(o.CharStreams||(o.CharStreams={}))},75866:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CodePointBuffer=void 0;const s=i(42613),c=i(24605);class CodePointBuffer{constructor(n,o){this.buffer=n,this._position=0,this._size=o}static withArray(n){return new CodePointBuffer(n,n.length)}get position(){return this._position}set position(n){if(n<0||n>this._size)throw new RangeError;this._position=n}get remaining(){return this._size-this.position}get(n){return this.buffer[n]}array(){return this.buffer.slice(0,this._size)}static builder(n){return new CodePointBuffer.Builder(n)}}o.CodePointBuffer=CodePointBuffer,function(n){let o;!function(n){n[n.BYTE=0]="BYTE",n[n.CHAR=1]="CHAR",n[n.INT=2]="INT"}(o||(o={}));class Builder{constructor(n){this.type=0,this.buffer=new Uint8Array(n),this.prevHighSurrogate=-1,this.position=0}build(){return new n(this.buffer,this.position)}static roundUpToNextPowerOfTwo(n){let o=32-Math.clz32(n-1);return Math.pow(2,o)}ensureRemaining(n){switch(this.type){case 0:if(this.buffer.length-this.position<n){let o=Builder.roundUpToNextPowerOfTwo(this.buffer.length+n),i=new Uint8Array(o);i.set(this.buffer.subarray(0,this.position),0),this.buffer=i}break;case 1:if(this.buffer.length-this.position<n){let o=Builder.roundUpToNextPowerOfTwo(this.buffer.length+n),i=new Uint16Array(o);i.set(this.buffer.subarray(0,this.position),0),this.buffer=i}break;case 2:if(this.buffer.length-this.position<n){let o=Builder.roundUpToNextPowerOfTwo(this.buffer.length+n),i=new Int32Array(o);i.set(this.buffer.subarray(0,this.position),0),this.buffer=i}}}append(n){this.ensureRemaining(n.length),this.appendArray(n)}appendArray(n){switch(this.type){case 0:this.appendArrayByte(n);break;case 1:this.appendArrayChar(n);break;case 2:this.appendArrayInt(n)}}appendArrayByte(n){s(-1===this.prevHighSurrogate);let o=n,i=0,h=n.length,f=this.buffer,E=this.position;for(;i<h;){let s=o[i];if(!(s<=255))return n=n.subarray(i,h),this.position=E,c.isHighSurrogate(s)?(this.byteToIntBuffer(n.length),void this.appendArrayInt(n)):(this.byteToCharBuffer(n.length),void this.appendArrayChar(n));f[E]=s,i++,E++}this.position=E}appendArrayChar(n){s(-1===this.prevHighSurrogate);let o=n,i=0,h=n.length,f=this.buffer,E=this.position;for(;i<h;){let s=o[i];if(c.isHighSurrogate(s))return n=n.subarray(i,h),this.position=E,this.charToIntBuffer(n.length),void this.appendArrayInt(n);f[E]=s,i++,E++}this.position=E}appendArrayInt(n){let o=n,i=0,s=n.length,h=this.buffer,f=this.position;for(;i<s;){let n=o[i];i++,-1!==this.prevHighSurrogate?c.isLowSurrogate(n)?(h[f]=String.fromCharCode(this.prevHighSurrogate,n).codePointAt(0),f++,this.prevHighSurrogate=-1):(h[f]=this.prevHighSurrogate,f++,c.isHighSurrogate(n)?this.prevHighSurrogate=n:(h[f]=n,f++,this.prevHighSurrogate=-1)):c.isHighSurrogate(n)?this.prevHighSurrogate=n:(h[f]=n,f++)}-1!==this.prevHighSurrogate&&(h[f]=this.prevHighSurrogate,f++),this.position=f}byteToCharBuffer(n){let o=new Uint16Array(Math.max(this.position+n,this.buffer.length>>1));o.set(this.buffer.subarray(0,this.position),0),this.type=1,this.buffer=o}byteToIntBuffer(n){let o=new Int32Array(Math.max(this.position+n,this.buffer.length>>2));o.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=o}charToIntBuffer(n){let o=new Int32Array(Math.max(this.position+n,this.buffer.length>>1));o.set(this.buffer.subarray(0,this.position),0),this.type=2,this.buffer=o}}n.Builder=Builder}(CodePointBuffer=o.CodePointBuffer||(o.CodePointBuffer={}))},90328:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.CodePointCharStream=void 0;const c=i(42613),h=i(71492),f=i(7477),E=i(72399);class CodePointCharStream{constructor(n,o,i,s){c(0===o),this._array=n,this._size=i,this._name=s,this._position=0}get internalStorage(){return this._array}static fromBuffer(n,o){return void 0!==o&&0!==o.length||(o=h.IntStream.UNKNOWN_SOURCE_NAME),new CodePointCharStream(n.array(),n.position,n.remaining,o)}consume(){if(this._size-this._position===0)throw c(this.LA(1)===h.IntStream.EOF),new RangeError("cannot consume EOF");this._position++}get index(){return this._position}get size(){return this._size}mark(){return-1}release(n){}seek(n){this._position=n}get sourceName(){return this._name}toString(){return this.getText(f.Interval.of(0,this.size-1))}LA(n){let o;switch(Math.sign(n)){case-1:return o=this.index+n,o<0?h.IntStream.EOF:this._array[o];case 0:return 0;case 1:return o=this.index+n-1,o>=this.size?h.IntStream.EOF:this._array[o]}throw new RangeError("Not reached")}getText(n){const o=Math.min(n.a,this.size),i=Math.min(n.b-n.a+1,this.size-o);return this._array instanceof Int32Array?String.fromCodePoint(...Array.from(this._array.subarray(o,o+i))):String.fromCharCode(...Array.from(this._array.subarray(o,o+i)))}}s([E.Override],CodePointCharStream.prototype,"consume",null),s([E.Override],CodePointCharStream.prototype,"index",null),s([E.Override],CodePointCharStream.prototype,"size",null),s([E.Override],CodePointCharStream.prototype,"mark",null),s([E.Override],CodePointCharStream.prototype,"release",null),s([E.Override],CodePointCharStream.prototype,"seek",null),s([E.Override],CodePointCharStream.prototype,"sourceName",null),s([E.Override],CodePointCharStream.prototype,"toString",null),s([E.Override],CodePointCharStream.prototype,"LA",null),s([E.Override],CodePointCharStream.prototype,"getText",null),o.CodePointCharStream=CodePointCharStream},48291:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CommonToken=void 0;const h=i(7477),f=i(72399),E=i(47760);let S=class CommonToken{constructor(n,o,i=CommonToken.EMPTY_SOURCE,s=E.Token.DEFAULT_CHANNEL,c=0,h=0){this._line=0,this._charPositionInLine=-1,this._channel=E.Token.DEFAULT_CHANNEL,this.index=-1,this._text=o,this._type=n,this.source=i,this._channel=s,this.start=c,this.stop=h,null!=i.source&&(this._line=i.source.line,this._charPositionInLine=i.source.charPositionInLine)}static fromToken(n){let o=new CommonToken(n.type,void 0,CommonToken.EMPTY_SOURCE,n.channel,n.startIndex,n.stopIndex);return o._line=n.line,o.index=n.tokenIndex,o._charPositionInLine=n.charPositionInLine,n instanceof CommonToken?(o._text=n._text,o.source=n.source):(o._text=n.text,o.source={source:n.tokenSource,stream:n.inputStream}),o}get type(){return this._type}set type(n){this._type=n}get line(){return this._line}set line(n){this._line=n}get text(){if(null!=this._text)return this._text;let n=this.inputStream;if(null==n)return;let o=n.size;return this.start<o&&this.stop<o?n.getText(h.Interval.of(this.start,this.stop)):"<EOF>"}set text(n){this._text=n}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(n){this._charPositionInLine=n}get channel(){return this._channel}set channel(n){this._channel=n}get startIndex(){return this.start}set startIndex(n){this.start=n}get stopIndex(){return this.stop}set stopIndex(n){this.stop=n}get tokenIndex(){return this.index}set tokenIndex(n){this.index=n}get tokenSource(){return this.source.source}get inputStream(){return this.source.stream}toString(n){let o="";this._channel>0&&(o=",channel="+this._channel);let i=this.text;null!=i?(i=i.replace(/\n/g,"\\n"),i=i.replace(/\r/g,"\\r"),i=i.replace(/\t/g,"\\t")):i="<no text>";let s=String(this._type);return n&&(s=n.vocabulary.getDisplayName(this._type)),"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+i+"',<"+s+">"+o+","+this._line+":"+this.charPositionInLine+"]"}};S.EMPTY_SOURCE={source:void 0,stream:void 0},s([f.NotNull],S.prototype,"source",void 0),s([f.Override],S.prototype,"type",null),s([f.Override],S.prototype,"line",null),s([f.Override],S.prototype,"text",null),s([f.Override],S.prototype,"charPositionInLine",null),s([f.Override],S.prototype,"channel",null),s([f.Override],S.prototype,"startIndex",null),s([f.Override],S.prototype,"stopIndex",null),s([f.Override],S.prototype,"tokenIndex",null),s([f.Override],S.prototype,"tokenSource",null),s([f.Override],S.prototype,"inputStream",null),s([f.Override],S.prototype,"toString",null),s([c(0,f.NotNull)],S,"fromToken",null),S=s([c(2,f.NotNull)],S),o.CommonToken=S},25629:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.CommonTokenFactory=void 0;const c=i(48291),h=i(7477),f=i(72399);class CommonTokenFactory{constructor(n=!1){this.copyText=n}create(n,o,i,s,f,E,S,A){let O=new c.CommonToken(o,i,n,s,f,E);return O.line=S,O.charPositionInLine=A,null==i&&this.copyText&&null!=n.stream&&(O.text=n.stream.getText(h.Interval.of(f,E))),O}createSimple(n,o){return new c.CommonToken(n,o)}}s([f.Override],CommonTokenFactory.prototype,"create",null),s([f.Override],CommonTokenFactory.prototype,"createSimple",null),o.CommonTokenFactory=CommonTokenFactory,function(n){n.DEFAULT=new n}(CommonTokenFactory=o.CommonTokenFactory||(o.CommonTokenFactory={}))},95411:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CommonTokenStream=void 0;const h=i(46737),f=i(72399),E=i(47760);let S=class CommonTokenStream extends h.BufferedTokenStream{constructor(n,o=E.Token.DEFAULT_CHANNEL){super(n),this.channel=o}adjustSeekIndex(n){return this.nextTokenOnChannel(n,this.channel)}tryLB(n){if(this.p-n<0)return;let o=this.p,i=1;for(;i<=n&&o>0;)o=this.previousTokenOnChannel(o-1,this.channel),i++;return o<0?void 0:this.tokens[o]}tryLT(n){if(this.lazyInit(),0===n)throw new RangeError("0 is not a valid lookahead index");if(n<0)return this.tryLB(-n);let o=this.p,i=1;for(;i<n;)this.sync(o+1)&&(o=this.nextTokenOnChannel(o+1,this.channel)),i++;return this.tokens[o]}getNumberOfOnChannelTokens(){let n=0;this.fill();for(let o of this.tokens)if(o.channel===this.channel&&n++,o.type===E.Token.EOF)break;return n}};s([f.Override],S.prototype,"adjustSeekIndex",null),s([f.Override],S.prototype,"tryLB",null),s([f.Override],S.prototype,"tryLT",null),S=s([c(0,f.NotNull)],S),o.CommonTokenStream=S},13196:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ConsoleErrorListener=void 0;class ConsoleErrorListener{syntaxError(n,o,i,s,c,h){console.error(`line ${i}:${s} ${c}`)}}o.ConsoleErrorListener=ConsoleErrorListener,ConsoleErrorListener.INSTANCE=new ConsoleErrorListener},72399:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SuppressWarnings=o.Override=o.Nullable=o.NotNull=void 0,o.NotNull=function NotNull(n,o,i){},o.Nullable=function Nullable(n,o,i){},o.Override=function Override(n,o,i){},o.SuppressWarnings=function SuppressWarnings(n){return(n,o,i)=>{}}},43361:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DefaultErrorStrategy=void 0;const h=i(42813),f=i(77037),E=i(82262),S=i(22468),A=i(83357),O=i(40755),T=i(78859),_=i(47760),D=i(72399);class DefaultErrorStrategy{constructor(){this.errorRecoveryMode=!1,this.lastErrorIndex=-1,this.nextTokensState=h.ATNState.INVALID_STATE_NUMBER}reset(n){this.endErrorCondition(n)}beginErrorCondition(n){this.errorRecoveryMode=!0}inErrorRecoveryMode(n){return this.errorRecoveryMode}endErrorCondition(n){this.errorRecoveryMode=!1,this.lastErrorStates=void 0,this.lastErrorIndex=-1}reportMatch(n){this.endErrorCondition(n)}reportError(n,o){this.inErrorRecoveryMode(n)||(this.beginErrorCondition(n),o instanceof O.NoViableAltException?this.reportNoViableAlternative(n,o):o instanceof S.InputMismatchException?this.reportInputMismatch(n,o):o instanceof E.FailedPredicateException?this.reportFailedPredicate(n,o):(console.error(`unknown recognition error type: ${o}`),this.notifyErrorListeners(n,o.toString(),o)))}notifyErrorListeners(n,o,i){let s=i.getOffendingToken(n);void 0===s&&(s=null),n.notifyErrorListeners(o,s,i)}recover(n,o){this.lastErrorIndex===n.inputStream.index&&this.lastErrorStates&&this.lastErrorStates.contains(n.state)&&n.consume(),this.lastErrorIndex=n.inputStream.index,this.lastErrorStates||(this.lastErrorStates=new A.IntervalSet),this.lastErrorStates.add(n.state);let i=this.getErrorRecoverySet(n);this.consumeUntil(n,i)}sync(n){let o=n.interpreter.atn.states[n.state];if(this.inErrorRecoveryMode(n))return;let i=n.inputStream.LA(1),s=n.atn.nextTokens(o);if(s.contains(i))return this.nextTokensContext=void 0,void(this.nextTokensState=h.ATNState.INVALID_STATE_NUMBER);if(s.contains(_.Token.EPSILON))void 0===this.nextTokensContext&&(this.nextTokensContext=n.context,this.nextTokensState=n.state);else switch(o.stateType){case f.ATNStateType.BLOCK_START:case f.ATNStateType.STAR_BLOCK_START:case f.ATNStateType.PLUS_BLOCK_START:case f.ATNStateType.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(n))return;throw new S.InputMismatchException(n);case f.ATNStateType.PLUS_LOOP_BACK:case f.ATNStateType.STAR_LOOP_BACK:this.reportUnwantedToken(n);let o=n.getExpectedTokens().or(this.getErrorRecoverySet(n));this.consumeUntil(n,o)}}reportNoViableAlternative(n,o){let i,s=n.inputStream;i=s?o.startToken.type===_.Token.EOF?"<EOF>":s.getTextFromRange(o.startToken,o.getOffendingToken()):"<unknown input>";let c="no viable alternative at input "+this.escapeWSAndQuote(i);this.notifyErrorListeners(n,c,o)}reportInputMismatch(n,o){let i=o.expectedTokens,s=i?i.toStringVocabulary(n.vocabulary):"",c="mismatched input "+this.getTokenErrorDisplay(o.getOffendingToken(n))+" expecting "+s;this.notifyErrorListeners(n,c,o)}reportFailedPredicate(n,o){let i="rule "+n.ruleNames[n.context.ruleIndex]+" "+o.message;this.notifyErrorListeners(n,i,o)}reportUnwantedToken(n){if(this.inErrorRecoveryMode(n))return;this.beginErrorCondition(n);let o=n.currentToken,i="extraneous input "+this.getTokenErrorDisplay(o)+" expecting "+this.getExpectedTokens(n).toStringVocabulary(n.vocabulary);n.notifyErrorListeners(i,o,void 0)}reportMissingToken(n){if(this.inErrorRecoveryMode(n))return;this.beginErrorCondition(n);let o=n.currentToken,i="missing "+this.getExpectedTokens(n).toStringVocabulary(n.vocabulary)+" at "+this.getTokenErrorDisplay(o);n.notifyErrorListeners(i,o,void 0)}recoverInline(n){let o=this.singleTokenDeletion(n);if(o)return n.consume(),o;if(this.singleTokenInsertion(n))return this.getMissingSymbol(n);throw void 0===this.nextTokensContext?new S.InputMismatchException(n):new S.InputMismatchException(n,this.nextTokensState,this.nextTokensContext)}singleTokenInsertion(n){let o=n.inputStream.LA(1),i=n.interpreter.atn.states[n.state].transition(0).target,s=n.interpreter.atn;return!!s.nextTokens(i,T.PredictionContext.fromRuleContext(s,n.context)).contains(o)&&(this.reportMissingToken(n),!0)}singleTokenDeletion(n){let o=n.inputStream.LA(2);if(this.getExpectedTokens(n).contains(o)){this.reportUnwantedToken(n),n.consume();let o=n.currentToken;return this.reportMatch(n),o}}getMissingSymbol(n){let o,i=n.currentToken,s=this.getExpectedTokens(n),c=_.Token.INVALID_TYPE;s.isNil||(c=s.minElement),o=c===_.Token.EOF?"<missing EOF>":"<missing "+n.vocabulary.getDisplayName(c)+">";let h=i,f=n.inputStream.tryLT(-1);return h.type===_.Token.EOF&&null!=f&&(h=f),this.constructToken(n.inputStream.tokenSource,c,o,h)}constructToken(n,o,i,s){let c=n.tokenFactory,h=s.tokenSource,f=h?h.inputStream:void 0;return c.create({source:n,stream:f},o,i,_.Token.DEFAULT_CHANNEL,-1,-1,s.line,s.charPositionInLine)}getExpectedTokens(n){return n.getExpectedTokens()}getTokenErrorDisplay(n){if(!n)return"<no token>";let o=this.getSymbolText(n);return o||(o=this.getSymbolType(n)===_.Token.EOF?"<EOF>":`<${this.getSymbolType(n)}>`),this.escapeWSAndQuote(o)}getSymbolText(n){return n.text}getSymbolType(n){return n.type}escapeWSAndQuote(n){return"'"+(n=(n=(n=n.replace("\n","\\n")).replace("\r","\\r")).replace("\t","\\t"))+"'"}getErrorRecoverySet(n){let o=n.interpreter.atn,i=n.context,s=new A.IntervalSet;for(;i&&i.invokingState>=0;){let n=o.states[i.invokingState].transition(0),c=o.nextTokens(n.followState);s.addAll(c),i=i._parent}return s.remove(_.Token.EPSILON),s}consumeUntil(n,o){let i=n.inputStream.LA(1);for(;i!==_.Token.EOF&&!o.contains(i);)n.consume(),i=n.inputStream.LA(1)}}s([D.Override],DefaultErrorStrategy.prototype,"reset",null),s([c(0,D.NotNull)],DefaultErrorStrategy.prototype,"beginErrorCondition",null),s([D.Override],DefaultErrorStrategy.prototype,"inErrorRecoveryMode",null),s([c(0,D.NotNull)],DefaultErrorStrategy.prototype,"endErrorCondition",null),s([D.Override],DefaultErrorStrategy.prototype,"reportMatch",null),s([D.Override],DefaultErrorStrategy.prototype,"reportError",null),s([c(0,D.NotNull)],DefaultErrorStrategy.prototype,"notifyErrorListeners",null),s([D.Override],DefaultErrorStrategy.prototype,"recover",null),s([D.Override],DefaultErrorStrategy.prototype,"sync",null),s([c(0,D.NotNull),c(1,D.NotNull)],DefaultErrorStrategy.prototype,"reportNoViableAlternative",null),s([c(0,D.NotNull),c(1,D.NotNull)],DefaultErrorStrategy.prototype,"reportInputMismatch",null),s([c(0,D.NotNull),c(1,D.NotNull)],DefaultErrorStrategy.prototype,"reportFailedPredicate",null),s([c(0,D.NotNull)],DefaultErrorStrategy.prototype,"reportUnwantedToken",null),s([c(0,D.NotNull)],DefaultErrorStrategy.prototype,"reportMissingToken",null),s([D.Override],DefaultErrorStrategy.prototype,"recoverInline",null),s([c(0,D.NotNull)],DefaultErrorStrategy.prototype,"singleTokenInsertion",null),s([c(0,D.NotNull)],DefaultErrorStrategy.prototype,"singleTokenDeletion",null),s([D.NotNull,c(0,D.NotNull)],DefaultErrorStrategy.prototype,"getMissingSymbol",null),s([D.NotNull,c(0,D.NotNull)],DefaultErrorStrategy.prototype,"getExpectedTokens",null),s([c(0,D.NotNull)],DefaultErrorStrategy.prototype,"getSymbolText",null),s([c(0,D.NotNull)],DefaultErrorStrategy.prototype,"getSymbolType",null),s([D.NotNull,c(0,D.NotNull)],DefaultErrorStrategy.prototype,"escapeWSAndQuote",null),s([D.NotNull,c(0,D.NotNull)],DefaultErrorStrategy.prototype,"getErrorRecoverySet",null),s([c(0,D.NotNull),c(1,D.NotNull)],DefaultErrorStrategy.prototype,"consumeUntil",null),o.DefaultErrorStrategy=DefaultErrorStrategy},82262:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.FailedPredicateException=void 0;const h=i(79449),f=i(72399),E=i(6369);let S=class FailedPredicateException extends h.RecognitionException{constructor(n,o,i){super(n,n.inputStream,n.context,FailedPredicateException.formatMessage(o,i));let s=n.interpreter.atn.states[n.state].transition(0);s instanceof E.PredicateTransition?(this._ruleIndex=s.ruleIndex,this._predicateIndex=s.predIndex):(this._ruleIndex=0,this._predicateIndex=0),this._predicate=o,super.setOffendingToken(n,n.currentToken)}get ruleIndex(){return this._ruleIndex}get predicateIndex(){return this._predicateIndex}get predicate(){return this._predicate}static formatMessage(n,o){return o||`failed predicate: {${n}}?`}};s([f.NotNull],S,"formatMessage",null),S=s([c(0,f.NotNull)],S),o.FailedPredicateException=S},22468:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputMismatchException=void 0;const h=i(79449),f=i(72399);let E=class InputMismatchException extends h.RecognitionException{constructor(n,o,i){void 0===i&&(i=n.context),super(n,n.inputStream,i),void 0!==o&&this.setOffendingState(o),this.setOffendingToken(n,n.currentToken)}};E=s([c(0,f.NotNull)],E),o.InputMismatchException=E},71492:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.IntStream=void 0,function(n){n.EOF=-1,n.UNKNOWN_SOURCE_NAME="<unknown>"}(o.IntStream||(o.IntStream={}))},3714:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.InterpreterRuleContext=void 0;const c=i(72399),h=i(41097);class InterpreterRuleContext extends h.ParserRuleContext{constructor(n,o,i){void 0!==i?super(o,i):super(),this._ruleIndex=n}get ruleIndex(){return this._ruleIndex}}s([c.Override],InterpreterRuleContext.prototype,"ruleIndex",null),o.InterpreterRuleContext=InterpreterRuleContext},22807:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.Lexer=void 0;const c=i(25629),h=i(41862),f=i(7477),E=i(71492),S=i(21088),A=i(86181),O=i(72399),T=i(18831),_=i(47760);class Lexer extends T.Recognizer{constructor(n){super(),this._factory=c.CommonTokenFactory.DEFAULT,this._tokenStartCharIndex=-1,this._tokenStartLine=0,this._tokenStartCharPositionInLine=0,this._hitEOF=!1,this._channel=0,this._type=0,this._modeStack=new h.IntegerStack,this._mode=Lexer.DEFAULT_MODE,this._input=n,this._tokenFactorySourcePair={source:this,stream:n}}static get DEFAULT_TOKEN_CHANNEL(){return _.Token.DEFAULT_CHANNEL}static get HIDDEN(){return _.Token.HIDDEN_CHANNEL}reset(n){(void 0===n||n)&&this._input.seek(0),this._token=void 0,this._type=_.Token.INVALID_TYPE,this._channel=_.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=-1,this._tokenStartCharPositionInLine=-1,this._tokenStartLine=-1,this._text=void 0,this._hitEOF=!1,this._mode=Lexer.DEFAULT_MODE,this._modeStack.clear(),this.interpreter.reset()}nextToken(){if(null==this._input)throw new Error("nextToken requires a non-null input stream.");let n=this._input.mark();try{e:for(;;){if(this._hitEOF)return this.emitEOF();this._token=void 0,this._channel=_.Token.DEFAULT_CHANNEL,this._tokenStartCharIndex=this._input.index,this._tokenStartCharPositionInLine=this.interpreter.charPositionInLine,this._tokenStartLine=this.interpreter.line,this._text=void 0;do{let n;this._type=_.Token.INVALID_TYPE;try{n=this.interpreter.match(this._input,this._mode)}catch(o){if(!(o instanceof A.LexerNoViableAltException))throw o;this.notifyListeners(o),this.recover(o),n=Lexer.SKIP}if(this._input.LA(1)===E.IntStream.EOF&&(this._hitEOF=!0),this._type===_.Token.INVALID_TYPE&&(this._type=n),this._type===Lexer.SKIP)continue e}while(this._type===Lexer.MORE);return null==this._token?this.emit():this._token}}finally{this._input.release(n)}}skip(){this._type=Lexer.SKIP}more(){this._type=Lexer.MORE}mode(n){this._mode=n}pushMode(n){S.LexerATNSimulator.debug&&console.log("pushMode "+n),this._modeStack.push(this._mode),this.mode(n)}popMode(){if(this._modeStack.isEmpty)throw new Error("EmptyStackException");return S.LexerATNSimulator.debug&&console.log("popMode back to "+this._modeStack.peek()),this.mode(this._modeStack.pop()),this._mode}get tokenFactory(){return this._factory}set tokenFactory(n){this._factory=n}get inputStream(){return this._input}set inputStream(n){this.reset(!1),this._input=n,this._tokenFactorySourcePair={source:this,stream:this._input}}get sourceName(){return this._input.sourceName}emit(n){return n||(n=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.charIndex-1,this._tokenStartLine,this._tokenStartCharPositionInLine)),this._token=n,n}emitEOF(){let n=this.charPositionInLine,o=this.line,i=this._factory.create(this._tokenFactorySourcePair,_.Token.EOF,void 0,_.Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,o,n);return this.emit(i),i}get line(){return this.interpreter.line}set line(n){this.interpreter.line=n}get charPositionInLine(){return this.interpreter.charPositionInLine}set charPositionInLine(n){this.interpreter.charPositionInLine=n}get charIndex(){return this._input.index}get text(){return null!=this._text?this._text:this.interpreter.getText(this._input)}set text(n){this._text=n}get token(){return this._token}set token(n){this._token=n}set type(n){this._type=n}get type(){return this._type}set channel(n){this._channel=n}get channel(){return this._channel}getAllTokens(){let n=[],o=this.nextToken();for(;o.type!==_.Token.EOF;)n.push(o),o=this.nextToken();return n}notifyListeners(n){let o=this._input.getText(f.Interval.of(this._tokenStartCharIndex,this._input.index)),i="token recognition error at: '"+this.getErrorDisplay(o)+"'",s=this.getErrorListenerDispatch();s.syntaxError&&s.syntaxError(this,void 0,this._tokenStartLine,this._tokenStartCharPositionInLine,i,n)}getErrorDisplay(n){if("number"==typeof n){switch(n){case _.Token.EOF:return"<EOF>";case 10:return"\\n";case 9:return"\\t";case 13:return"\\r"}return String.fromCharCode(n)}return n.replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")}getCharErrorDisplay(n){return"'"+this.getErrorDisplay(n)+"'"}recover(n){n instanceof A.LexerNoViableAltException?this._input.LA(1)!==E.IntStream.EOF&&this.interpreter.consume(this._input):this._input.consume()}}Lexer.DEFAULT_MODE=0,Lexer.MORE=-2,Lexer.SKIP=-3,Lexer.MIN_CHAR_VALUE=0,Lexer.MAX_CHAR_VALUE=1114111,s([O.Override],Lexer.prototype,"nextToken",null),s([O.Override],Lexer.prototype,"tokenFactory",null),s([O.Override],Lexer.prototype,"inputStream",null),s([O.Override],Lexer.prototype,"sourceName",null),s([O.Override],Lexer.prototype,"line",null),s([O.Override],Lexer.prototype,"charPositionInLine",null),o.Lexer=Lexer},86181:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerNoViableAltException=void 0;const h=i(79449),f=i(72399),E=i(7477),S=i(40659);let A=class LexerNoViableAltException extends h.RecognitionException{constructor(n,o,i,s){super(n,o),this._startIndex=i,this._deadEndConfigs=s}get startIndex(){return this._startIndex}get deadEndConfigs(){return this._deadEndConfigs}get inputStream(){return super.inputStream}toString(){let n="";return this._startIndex>=0&&this._startIndex<this.inputStream.size&&(n=this.inputStream.getText(E.Interval.of(this._startIndex,this._startIndex)),n=S.escapeWhitespace(n,!1)),`LexerNoViableAltException('${n}')`}};s([f.Override],A.prototype,"inputStream",null),s([f.Override],A.prototype,"toString",null),A=s([c(1,f.NotNull)],A),o.LexerNoViableAltException=A},309:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ListTokenSource=void 0;const h=i(25629),f=i(72399),E=i(47760);let S=class ListTokenSource{constructor(n,o){if(this.i=0,this._factory=h.CommonTokenFactory.DEFAULT,null==n)throw new Error("tokens cannot be null");this.tokens=n,this._sourceName=o}get charPositionInLine(){if(this.i<this.tokens.length)return this.tokens[this.i].charPositionInLine;if(null!=this.eofToken)return this.eofToken.charPositionInLine;if(this.tokens.length>0){let n=this.tokens[this.tokens.length-1],o=n.text;if(null!=o){let n=o.lastIndexOf("\n");if(n>=0)return o.length-n-1}return n.charPositionInLine+n.stopIndex-n.startIndex+1}return 0}nextToken(){if(this.i>=this.tokens.length){if(null==this.eofToken){let n=-1;if(this.tokens.length>0){let o=this.tokens[this.tokens.length-1].stopIndex;-1!==o&&(n=o+1)}let o=Math.max(-1,n-1);this.eofToken=this._factory.create({source:this,stream:this.inputStream},E.Token.EOF,"EOF",E.Token.DEFAULT_CHANNEL,n,o,this.line,this.charPositionInLine)}return this.eofToken}let n=this.tokens[this.i];return this.i===this.tokens.length-1&&n.type===E.Token.EOF&&(this.eofToken=n),this.i++,n}get line(){if(this.i<this.tokens.length)return this.tokens[this.i].line;if(null!=this.eofToken)return this.eofToken.line;if(this.tokens.length>0){let n=this.tokens[this.tokens.length-1],o=n.line,i=n.text;if(null!=i)for(let n=0;n<i.length;n++)"\n"===i.charAt(n)&&o++;return o}return 1}get inputStream(){return this.i<this.tokens.length?this.tokens[this.i].inputStream:null!=this.eofToken?this.eofToken.inputStream:this.tokens.length>0?this.tokens[this.tokens.length-1].inputStream:void 0}get sourceName(){if(this._sourceName)return this._sourceName;let n=this.inputStream;return null!=n?n.sourceName:"List"}set tokenFactory(n){this._factory=n}get tokenFactory(){return this._factory}};s([f.Override],S.prototype,"charPositionInLine",null),s([f.Override],S.prototype,"nextToken",null),s([f.Override],S.prototype,"line",null),s([f.Override],S.prototype,"inputStream",null),s([f.Override],S.prototype,"sourceName",null),s([f.Override,f.NotNull,c(0,f.NotNull)],S.prototype,"tokenFactory",null),S=s([c(0,f.NotNull)],S),o.ListTokenSource=S},40755:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.NoViableAltException=void 0;const c=i(35922),h=i(79449),f=i(72399);class NoViableAltException extends h.RecognitionException{constructor(n,o,i,s,h,f){n instanceof c.Parser&&(void 0===o&&(o=n.inputStream),void 0===i&&(i=n.currentToken),void 0===s&&(s=n.currentToken),void 0===f&&(f=n.context)),super(n,o,f),this._deadEndConfigs=h,this._startToken=i,this.setOffendingToken(n,s)}get startToken(){return this._startToken}get deadEndConfigs(){return this._deadEndConfigs}}s([f.NotNull],NoViableAltException.prototype,"_startToken",void 0),o.NoViableAltException=NoViableAltException},35922:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}},h=this&&this.__awaiter||function(n,o,i,s){return new(i||(i=Promise))(function(c,h){function fulfilled(n){try{step(s.next(n))}catch(n){h(n)}}function rejected(n){try{step(s.throw(n))}catch(n){h(n)}}function step(n){n.done?c(n.value):function adopt(n){return n instanceof i?n:new i(function(o){o(n)})}(n.value).then(fulfilled,rejected)}step((s=s.apply(n,o||[])).next())})};Object.defineProperty(o,"__esModule",{value:!0}),o.Parser=void 0;const f=i(40659),E=i(28955),S=i(60493),A=i(43361),O=i(61964),T=i(41862),_=i(22807),D=i(72399),N=i(38344),R=i(13161),x=i(86142),P=i(18831),M=i(30360),I=i(47760);class TraceListener{constructor(n,o){this.ruleNames=n,this.tokenStream=o}enterEveryRule(n){console.log("enter   "+this.ruleNames[n.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}exitEveryRule(n){console.log("exit    "+this.ruleNames[n.ruleIndex]+", LT(1)="+this.tokenStream.LT(1).text)}visitErrorNode(n){}visitTerminal(n){let o=n.parent.ruleContext,i=n.symbol;console.log("consume "+i+" rule "+this.ruleNames[o.ruleIndex])}}s([D.Override],TraceListener.prototype,"enterEveryRule",null),s([D.Override],TraceListener.prototype,"exitEveryRule",null),s([D.Override],TraceListener.prototype,"visitErrorNode",null),s([D.Override],TraceListener.prototype,"visitTerminal",null);class Parser extends P.Recognizer{constructor(n){super(),this._errHandler=new A.DefaultErrorStrategy,this._precedenceStack=new T.IntegerStack,this._buildParseTrees=!0,this._parseListeners=[],this._syntaxErrors=0,this.matchedEOF=!1,this._precedenceStack.push(0),this.inputStream=n}reset(n){(void 0===n||n)&&this.inputStream.seek(0),this._errHandler.reset(this),this._ctx=void 0,this._syntaxErrors=0,this.matchedEOF=!1,this.isTrace=!1,this._precedenceStack.clear(),this._precedenceStack.push(0);let o=this.interpreter;null!=o&&o.reset()}match(n){let o=this.currentToken;return o.type===n?(n===I.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume()):(o=this._errHandler.recoverInline(this),this._buildParseTrees&&-1===o.tokenIndex&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,o))),o}matchWildcard(){let n=this.currentToken;return n.type>0?(this._errHandler.reportMatch(this),this.consume()):(n=this._errHandler.recoverInline(this),this._buildParseTrees&&-1===n.tokenIndex&&this._ctx.addErrorNode(this.createErrorNode(this._ctx,n))),n}set buildParseTree(n){this._buildParseTrees=n}get buildParseTree(){return this._buildParseTrees}getParseListeners(){return this._parseListeners}addParseListener(n){if(null==n)throw new TypeError("listener cannot be null");this._parseListeners.push(n)}removeParseListener(n){let o=this._parseListeners.findIndex(o=>o===n);-1!==o&&this._parseListeners.splice(o,1)}removeParseListeners(){this._parseListeners.length=0}triggerEnterRuleEvent(){for(let n of this._parseListeners)n.enterEveryRule&&n.enterEveryRule(this._ctx),this._ctx.enterRule(n)}triggerExitRuleEvent(){for(let n=this._parseListeners.length-1;n>=0;n--){let o=this._parseListeners[n];this._ctx.exitRule(o),o.exitEveryRule&&o.exitEveryRule(this._ctx)}}get numberOfSyntaxErrors(){return this._syntaxErrors}get tokenFactory(){return this._input.tokenSource.tokenFactory}getATNWithBypassAlts(){let n=this.serializedATN;if(null==n)throw new Error("The current parser does not support an ATN with bypass alternatives.");let o=Parser.bypassAltsAtnCache.get(n);if(null==o){let i=new E.ATNDeserializationOptions;i.isGenerateRuleBypassTransitions=!0,o=new S.ATNDeserializer(i).deserialize(f.toCharArray(n)),Parser.bypassAltsAtnCache.set(n,o)}return o}compileParseTreePattern(n,o,s){return h(this,void 0,void 0,function*(){if(!s){if(this.inputStream){let n=this.inputStream.tokenSource;n instanceof _.Lexer&&(s=n)}if(!s)throw new Error("Parser can't discover a lexer to use")}let c=s;return new((yield Promise.resolve().then(()=>i(44864))).ParseTreePatternMatcher)(c,this).compile(n,o)})}get errorHandler(){return this._errHandler}set errorHandler(n){this._errHandler=n}get inputStream(){return this._input}set inputStream(n){this.reset(!1),this._input=n}get currentToken(){return this._input.LT(1)}notifyErrorListeners(n,o,i){void 0===o?o=this.currentToken:null===o&&(o=void 0),this._syntaxErrors++;let s=-1,c=-1;null!=o&&(s=o.line,c=o.charPositionInLine);let h=this.getErrorListenerDispatch();h.syntaxError&&h.syntaxError(this,o,s,c,n,i)}consume(){let n=this.currentToken;n.type!==Parser.EOF&&this.inputStream.consume();let o=0!==this._parseListeners.length;if(this._buildParseTrees||o)if(this._errHandler.inErrorRecoveryMode(this)){let i=this._ctx.addErrorNode(this.createErrorNode(this._ctx,n));if(o)for(let n of this._parseListeners)n.visitErrorNode&&n.visitErrorNode(i)}else{let i=this.createTerminalNode(this._ctx,n);if(this._ctx.addChild(i),o)for(let n of this._parseListeners)n.visitTerminal&&n.visitTerminal(i)}return n}createTerminalNode(n,o){return new M.TerminalNode(o)}createErrorNode(n,o){return new O.ErrorNode(o)}addContextToParseTree(){let n=this._ctx._parent;null!=n&&n.addChild(this._ctx)}enterRule(n,o,i){this.state=o,this._ctx=n,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}enterLeftFactoredRule(n,o,i){if(this.state=o,this._buildParseTrees){let o=this._ctx.getChild(this._ctx.childCount-1);this._ctx.removeLastChild(),o._parent=n,n.addChild(o)}this._ctx=n,this._ctx._start=this._input.LT(1),this._buildParseTrees&&this.addContextToParseTree(),this.triggerEnterRuleEvent()}exitRule(){this.matchedEOF?this._ctx._stop=this._input.LT(1):this._ctx._stop=this._input.tryLT(-1),this.triggerExitRuleEvent(),this.state=this._ctx.invokingState,this._ctx=this._ctx._parent}enterOuterAlt(n,o){if(n.altNumber=o,this._buildParseTrees&&this._ctx!==n){let o=this._ctx._parent;null!=o&&(o.removeLastChild(),o.addChild(n))}this._ctx=n}get precedence(){return this._precedenceStack.isEmpty?-1:this._precedenceStack.peek()}enterRecursionRule(n,o,i,s){this.state=o,this._precedenceStack.push(s),this._ctx=n,this._ctx._start=this._input.LT(1),this.triggerEnterRuleEvent()}pushNewRecursionContext(n,o,i){let s=this._ctx;s._parent=n,s.invokingState=o,s._stop=this._input.tryLT(-1),this._ctx=n,this._ctx._start=s._start,this._buildParseTrees&&this._ctx.addChild(s),this.triggerEnterRuleEvent()}unrollRecursionContexts(n){this._precedenceStack.pop(),this._ctx._stop=this._input.tryLT(-1);let o=this._ctx;if(this._parseListeners.length>0)for(;this._ctx!==n;)this.triggerExitRuleEvent(),this._ctx=this._ctx._parent;else this._ctx=n;o._parent=n,this._buildParseTrees&&null!=n&&n.addChild(o)}getInvokingContext(n){let o=this._ctx;for(;o&&o.ruleIndex!==n;)o=o._parent;return o}get context(){return this._ctx}set context(n){this._ctx=n}precpred(n,o){return o>=this._precedenceStack.peek()}getErrorListenerDispatch(){return new x.ProxyParserErrorListener(this.getErrorListeners())}inContext(n){return!1}isExpectedToken(n){let o=this.interpreter.atn,i=this._ctx,s=o.states[this.state],c=o.nextTokens(s);if(c.contains(n))return!0;if(!c.contains(I.Token.EPSILON))return!1;for(;null!=i&&i.invokingState>=0&&c.contains(I.Token.EPSILON);){let s=o.states[i.invokingState].transition(0);if(c=o.nextTokens(s.followState),c.contains(n))return!0;i=i._parent}return!(!c.contains(I.Token.EPSILON)||n!==I.Token.EOF)}get isMatchedEOF(){return this.matchedEOF}getExpectedTokens(){return this.atn.getExpectedTokens(this.state,this.context)}getExpectedTokensWithinCurrentRule(){let n=this.interpreter.atn,o=n.states[this.state];return n.nextTokens(o)}getRuleIndex(n){let o=this.getRuleIndexMap().get(n);return null!=o?o:-1}get ruleContext(){return this._ctx}getRuleInvocationStack(n=this._ctx){let o=n,i=this.ruleNames,s=[];for(;null!=o;){let n=o.ruleIndex;n<0?s.push("n/a"):s.push(i[n]),o=o._parent}return s}getDFAStrings(){let n=[];for(let o of this._interp.atn.decisionToDFA)n.push(o.toString(this.vocabulary,this.ruleNames));return n}dumpDFA(){let n=!1;for(let o of this._interp.atn.decisionToDFA)o.isEmpty||(n&&console.log(),console.log("Decision "+o.decision+":"),process.stdout.write(o.toString(this.vocabulary,this.ruleNames)),n=!0)}get sourceName(){return this._input.sourceName}get parseInfo(){return Promise.resolve().then(()=>i(51284)).then(n=>{let o=this.interpreter;if(o instanceof n.ProfilingATNSimulator)return new N.ParseInfo(o)})}setProfile(n){return h(this,void 0,void 0,function*(){let o=yield Promise.resolve().then(()=>i(51284)),s=this.interpreter;n?s instanceof o.ProfilingATNSimulator||(this.interpreter=new o.ProfilingATNSimulator(this)):s instanceof o.ProfilingATNSimulator&&(this.interpreter=new R.ParserATNSimulator(this.atn,this)),this.interpreter.setPredictionMode(s.getPredictionMode())})}set isTrace(n){n?(this._tracer?this.removeParseListener(this._tracer):this._tracer=new TraceListener(this.ruleNames,this._input),this.addParseListener(this._tracer)):this._tracer&&(this.removeParseListener(this._tracer),this._tracer=void 0)}get isTrace(){return null!=this._tracer}}Parser.bypassAltsAtnCache=new Map,s([D.NotNull],Parser.prototype,"_errHandler",void 0),s([D.NotNull],Parser.prototype,"match",null),s([D.NotNull],Parser.prototype,"matchWildcard",null),s([D.NotNull],Parser.prototype,"getParseListeners",null),s([c(0,D.NotNull)],Parser.prototype,"addParseListener",null),s([D.NotNull],Parser.prototype,"getATNWithBypassAlts",null),s([D.NotNull,c(0,D.NotNull)],Parser.prototype,"errorHandler",null),s([D.Override],Parser.prototype,"inputStream",null),s([D.NotNull],Parser.prototype,"currentToken",null),s([c(0,D.NotNull)],Parser.prototype,"enterRule",null),s([D.Override,c(0,D.Nullable)],Parser.prototype,"precpred",null),s([D.Override],Parser.prototype,"getErrorListenerDispatch",null),s([D.NotNull],Parser.prototype,"getExpectedTokens",null),s([D.NotNull],Parser.prototype,"getExpectedTokensWithinCurrentRule",null),s([D.Override],Parser.prototype,"parseInfo",null),o.Parser=Parser},49274:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ParserInterpreter=void 0;const h=i(42813),f=i(77037),E=i(46889),S=i(82262),A=i(22468),O=i(3714),T=i(46251),_=i(72399),D=i(72399),N=i(35922),R=i(13161),x=i(79449),P=i(4016),M=i(47760);let I=class ParserInterpreter extends N.Parser{constructor(n,o,i,s,c){if(super(n instanceof ParserInterpreter?n.inputStream:c),this._parentContextStack=[],this.overrideDecision=-1,this.overrideDecisionInputIndex=-1,this.overrideDecisionAlt=-1,this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0,n instanceof ParserInterpreter){let o=n;this._grammarFileName=o._grammarFileName,this._atn=o._atn,this.pushRecursionContextStates=o.pushRecursionContextStates,this._ruleNames=o._ruleNames,this._vocabulary=o._vocabulary,this.interpreter=new R.ParserATNSimulator(this._atn,this)}else{this._grammarFileName=n,this._atn=s,this._ruleNames=i.slice(0),this._vocabulary=o,this.pushRecursionContextStates=new E.BitSet(s.states.length);for(let n of s.states)n instanceof P.StarLoopEntryState&&n.precedenceRuleDecision&&this.pushRecursionContextStates.set(n.stateNumber);this.interpreter=new R.ParserATNSimulator(s,this)}}reset(n){void 0===n?super.reset():super.reset(n),this.overrideDecisionReached=!1,this._overrideDecisionRoot=void 0}get atn(){return this._atn}get vocabulary(){return this._vocabulary}get ruleNames(){return this._ruleNames}get grammarFileName(){return this._grammarFileName}parse(n){let o=this._atn.ruleToStartState[n];for(this._rootContext=this.createInterpreterRuleContext(void 0,h.ATNState.INVALID_STATE_NUMBER,n),o.isPrecedenceRule?this.enterRecursionRule(this._rootContext,o.stateNumber,n,0):this.enterRule(this._rootContext,o.stateNumber,n);;){let n=this.atnState;if(n.stateType===f.ATNStateType.RULE_STOP){if(this._ctx.isEmpty){if(o.isPrecedenceRule){let n=this._ctx,o=this._parentContextStack.pop();return this.unrollRecursionContexts(o[0]),n}return this.exitRule(),this._rootContext}this.visitRuleStopState(n)}else try{this.visitState(n)}catch(o){if(!(o instanceof x.RecognitionException))throw o;this.state=this._atn.ruleToStopState[n.ruleIndex].stateNumber,this.context.exception=o,this.errorHandler.reportError(this,o),this.recover(o)}}}enterRecursionRule(n,o,i,s){this._parentContextStack.push([this._ctx,n.invokingState]),super.enterRecursionRule(n,o,i,s)}get atnState(){return this._atn.states[this.state]}visitState(n){let o=1;n.numberOfTransitions>1&&(o=this.visitDecisionState(n));let i=n.transition(o-1);switch(i.serializationType){case 1:if(this.pushRecursionContextStates.get(n.stateNumber)&&!(i.target instanceof T.LoopEndState)){let o=this._parentContextStack[this._parentContextStack.length-1],i=this.createInterpreterRuleContext(o[0],o[1],this._ctx.ruleIndex);this.pushNewRecursionContext(i,this._atn.ruleToStartState[n.ruleIndex].stateNumber,this._ctx.ruleIndex)}break;case 5:this.match(i._label);break;case 2:case 7:case 8:i.matches(this._input.LA(1),M.Token.MIN_USER_TOKEN_TYPE,65535)||this.recoverInline(),this.matchWildcard();break;case 9:this.matchWildcard();break;case 3:let o=i.target,s=o.ruleIndex,c=this.createInterpreterRuleContext(this._ctx,n.stateNumber,s);o.isPrecedenceRule?this.enterRecursionRule(c,o.stateNumber,s,i.precedence):this.enterRule(c,i.target.stateNumber,s);break;case 4:let h=i;if(!this.sempred(this._ctx,h.ruleIndex,h.predIndex))throw new S.FailedPredicateException(this);break;case 6:let f=i;this.action(this._ctx,f.ruleIndex,f.actionIndex);break;case 10:if(!this.precpred(this._ctx,i.precedence)){let n=i.precedence;throw new S.FailedPredicateException(this,`precpred(_ctx, ${n})`)}break;default:throw new Error("UnsupportedOperationException: Unrecognized ATN transition type.")}this.state=i.target.stateNumber}visitDecisionState(n){let o;this.errorHandler.sync(this);let i=n.decision;return i!==this.overrideDecision||this._input.index!==this.overrideDecisionInputIndex||this.overrideDecisionReached?o=this.interpreter.adaptivePredict(this._input,i,this._ctx):(o=this.overrideDecisionAlt,this.overrideDecisionReached=!0),o}createInterpreterRuleContext(n,o,i){return new O.InterpreterRuleContext(i,n,o)}visitRuleStopState(n){if(this._atn.ruleToStartState[n.ruleIndex].isPrecedenceRule){let n=this._parentContextStack.pop();this.unrollRecursionContexts(n[0]),this.state=n[1]}else this.exitRule();let o=this._atn.states[this.state].transition(0);this.state=o.followState.stateNumber}addDecisionOverride(n,o,i){this.overrideDecision=n,this.overrideDecisionInputIndex=o,this.overrideDecisionAlt=i}get overrideDecisionRoot(){return this._overrideDecisionRoot}recover(n){let o=this._input.index;if(this.errorHandler.recover(this,n),this._input.index===o){let o=n.getOffendingToken();if(!o)throw new Error("Expected exception to have an offending token");let i=o.tokenSource,s={source:i,stream:void 0!==i?i.inputStream:void 0};if(n instanceof A.InputMismatchException){let i=n.expectedTokens;if(void 0===i)throw new Error("Expected the exception to provide expected tokens");let c=M.Token.INVALID_TYPE;i.isNil||(c=i.minElement);let h=this.tokenFactory.create(s,c,o.text,M.Token.DEFAULT_CHANNEL,-1,-1,o.line,o.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,h))}else{o.tokenSource;let n=this.tokenFactory.create(s,M.Token.INVALID_TYPE,o.text,M.Token.DEFAULT_CHANNEL,-1,-1,o.line,o.charPositionInLine);this._ctx.addErrorNode(this.createErrorNode(this._ctx,n))}}}recoverInline(){return this._errHandler.recoverInline(this)}get rootContext(){return this._rootContext}};s([_.NotNull],I.prototype,"_vocabulary",void 0),s([D.Override],I.prototype,"reset",null),s([D.Override],I.prototype,"atn",null),s([D.Override],I.prototype,"vocabulary",null),s([D.Override],I.prototype,"ruleNames",null),s([D.Override],I.prototype,"grammarFileName",null),s([D.Override],I.prototype,"enterRecursionRule",null),I=s([c(1,_.NotNull)],I),o.ParserInterpreter=I},41097:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.ParserRuleContext=void 0;const c=i(61964),h=i(7477),f=i(72399),E=i(89984),S=i(30360);class ParserRuleContext extends E.RuleContext{constructor(n,o){null==o?super():super(n,o)}static emptyContext(){return ParserRuleContext.EMPTY}copyFrom(n){if(this._parent=n._parent,this.invokingState=n.invokingState,this._start=n._start,this._stop=n._stop,n.children){this.children=[];for(let o of n.children)o instanceof c.ErrorNode&&this.addChild(o)}}enterRule(n){}exitRule(n){}addAnyChild(n){return this.children?this.children.push(n):this.children=[n],n}addChild(n){return n instanceof S.TerminalNode?(n.setParent(this),void this.addAnyChild(n)):n instanceof E.RuleContext?void this.addAnyChild(n):(n=new S.TerminalNode(n),this.addAnyChild(n),n.setParent(this),n)}addErrorNode(n){if(n instanceof c.ErrorNode){const o=n;return o.setParent(this),this.addAnyChild(o)}{const o=n;let i=new c.ErrorNode(o);return this.addAnyChild(i),i.setParent(this),i}}removeLastChild(){this.children&&this.children.pop()}get parent(){let n=super.parent;if(void 0===n||n instanceof ParserRuleContext)return n;throw new TypeError("Invalid parent type for ParserRuleContext")}getChild(n,o){if(!this.children||n<0||n>=this.children.length)throw new RangeError("index parameter must be between >= 0 and <= number of children.");if(null==o)return this.children[n];let i=this.tryGetChild(n,o);if(void 0===i)throw new Error("The specified node does not exist");return i}tryGetChild(n,o){if(!this.children||n<0||n>=this.children.length)return;let i=-1;for(let s of this.children)if(s instanceof o&&(i++,i===n))return s}getToken(n,o){let i=this.tryGetToken(n,o);if(void 0===i)throw new Error("The specified token does not exist");return i}tryGetToken(n,o){if(!this.children||o<0||o>=this.children.length)return;let i=-1;for(let s of this.children)if(s instanceof S.TerminalNode){if(s.symbol.type===n&&(i++,i===o))return s}}getTokens(n){let o=[];if(!this.children)return o;for(let i of this.children)if(i instanceof S.TerminalNode){i.symbol.type===n&&o.push(i)}return o}get ruleContext(){return this}getRuleContext(n,o){return this.getChild(n,o)}tryGetRuleContext(n,o){return this.tryGetChild(n,o)}getRuleContexts(n){let o=[];if(!this.children)return o;for(let i of this.children)i instanceof n&&o.push(i);return o}get childCount(){return this.children?this.children.length:0}get sourceInterval(){return this._start?!this._stop||this._stop.tokenIndex<this._start.tokenIndex?h.Interval.of(this._start.tokenIndex,this._start.tokenIndex-1):h.Interval.of(this._start.tokenIndex,this._stop.tokenIndex):h.Interval.INVALID}get start(){return this._start}get stop(){return this._stop}toInfoString(n){return"ParserRuleContext"+n.getRuleInvocationStack(this).reverse()+"{start="+this._start+", stop="+this._stop+"}"}}ParserRuleContext.EMPTY=new ParserRuleContext,s([f.Override],ParserRuleContext.prototype,"parent",null),s([f.Override],ParserRuleContext.prototype,"childCount",null),s([f.Override],ParserRuleContext.prototype,"sourceInterval",null),o.ParserRuleContext=ParserRuleContext},57115:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ProxyErrorListener=void 0;const h=i(72399);class ProxyErrorListener{constructor(n){if(this.delegates=n,!n)throw new Error("Invalid delegates")}getDelegates(){return this.delegates}syntaxError(n,o,i,s,c,h){this.delegates.forEach(f=>{f.syntaxError&&f.syntaxError(n,o,i,s,c,h)})}}s([h.Override,c(0,h.NotNull),c(4,h.NotNull)],ProxyErrorListener.prototype,"syntaxError",null),o.ProxyErrorListener=ProxyErrorListener},86142:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.ProxyParserErrorListener=void 0;const c=i(57115),h=i(72399);class ProxyParserErrorListener extends c.ProxyErrorListener{constructor(n){super(n)}reportAmbiguity(n,o,i,s,c,h,f){this.getDelegates().forEach(E=>{E.reportAmbiguity&&E.reportAmbiguity(n,o,i,s,c,h,f)})}reportAttemptingFullContext(n,o,i,s,c,h){this.getDelegates().forEach(f=>{f.reportAttemptingFullContext&&f.reportAttemptingFullContext(n,o,i,s,c,h)})}reportContextSensitivity(n,o,i,s,c,h){this.getDelegates().forEach(f=>{f.reportContextSensitivity&&f.reportContextSensitivity(n,o,i,s,c,h)})}}s([h.Override],ProxyParserErrorListener.prototype,"reportAmbiguity",null),s([h.Override],ProxyParserErrorListener.prototype,"reportAttemptingFullContext",null),s([h.Override],ProxyParserErrorListener.prototype,"reportContextSensitivity",null),o.ProxyParserErrorListener=ProxyParserErrorListener},79449:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.RecognitionException=void 0;class RecognitionException extends Error{constructor(n,o,i,s){super(s),this._offendingState=-1,this._recognizer=n,this.input=o,this.ctx=i,n&&(this._offendingState=n.state)}get offendingState(){return this._offendingState}setOffendingState(n){this._offendingState=n}get expectedTokens(){if(this._recognizer)return this._recognizer.atn.getExpectedTokens(this._offendingState,this.ctx)}get context(){return this.ctx}get inputStream(){return this.input}getOffendingToken(n){if(!n||n===this._recognizer)return this.offendingToken}setOffendingToken(n,o){n===this._recognizer&&(this.offendingToken=o)}get recognizer(){return this._recognizer}}o.RecognitionException=RecognitionException},18831:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Recognizer=void 0;const h=i(13196),f=i(57115),E=i(72399),S=i(47760),A=i(40659);class Recognizer{constructor(){this._listeners=[h.ConsoleErrorListener.INSTANCE],this._stateNumber=-1}getTokenTypeMap(){let n=this.vocabulary,o=Recognizer.tokenTypeMapCache.get(n);if(null==o){let i=new Map;for(let o=0;o<=this.atn.maxTokenType;o++){let s=n.getLiteralName(o);null!=s&&i.set(s,o);let c=n.getSymbolicName(o);null!=c&&i.set(c,o)}i.set("EOF",S.Token.EOF),o=i,Recognizer.tokenTypeMapCache.set(n,o)}return o}getRuleIndexMap(){let n=this.ruleNames;if(null==n)throw new Error("The current recognizer does not provide a list of rule names.");let o=Recognizer.ruleIndexMapCache.get(n);return null==o&&(o=A.toMap(n),Recognizer.ruleIndexMapCache.set(n,o)),o}getTokenType(n){let o=this.getTokenTypeMap().get(n);return null!=o?o:S.Token.INVALID_TYPE}get serializedATN(){throw new Error("there is no serialized ATN")}get atn(){return this._interp.atn}get interpreter(){return this._interp}set interpreter(n){this._interp=n}get parseInfo(){return Promise.resolve(void 0)}getErrorHeader(n){let o=n.getOffendingToken();return o?"line "+o.line+":"+o.charPositionInLine:""}addErrorListener(n){if(!n)throw new TypeError("listener must not be null");this._listeners.push(n)}removeErrorListener(n){let o=this._listeners.indexOf(n);-1!==o&&this._listeners.splice(o,1)}removeErrorListeners(){this._listeners.length=0}getErrorListeners(){return this._listeners.slice(0)}getErrorListenerDispatch(){return new f.ProxyErrorListener(this.getErrorListeners())}sempred(n,o,i){return!0}precpred(n,o){return!0}action(n,o,i){}get state(){return this._stateNumber}set state(n){this._stateNumber=n}}Recognizer.EOF=-1,Recognizer.tokenTypeMapCache=new WeakMap,Recognizer.ruleIndexMapCache=new WeakMap,s([E.SuppressWarnings("serial"),E.NotNull],Recognizer.prototype,"_listeners",void 0),s([E.NotNull],Recognizer.prototype,"getTokenTypeMap",null),s([E.NotNull],Recognizer.prototype,"getRuleIndexMap",null),s([E.NotNull],Recognizer.prototype,"serializedATN",null),s([E.NotNull],Recognizer.prototype,"atn",null),s([E.NotNull,c(0,E.NotNull)],Recognizer.prototype,"interpreter",null),s([E.NotNull,c(0,E.NotNull)],Recognizer.prototype,"getErrorHeader",null),s([c(0,E.NotNull)],Recognizer.prototype,"addErrorListener",null),s([c(0,E.NotNull)],Recognizer.prototype,"removeErrorListener",null),s([E.NotNull],Recognizer.prototype,"getErrorListeners",null),o.Recognizer=Recognizer},89984:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.RuleContext=void 0;const c=i(74274),h=i(18831),f=i(85378),E=i(7477),S=i(72399),A=i(7239),O=i(41097);class RuleContext extends f.RuleNode{constructor(n,o){super(),this._parent=n,this.invokingState=null!=o?o:-1}static getChildContext(n,o){return new RuleContext(n,o)}depth(){let n=0,o=this;for(;o;)o=o._parent,n++;return n}get isEmpty(){return-1===this.invokingState}get sourceInterval(){return E.Interval.INVALID}get ruleContext(){return this}get parent(){return this._parent}setParent(n){this._parent=n}get payload(){return this}get text(){if(0===this.childCount)return"";let n="";for(let o=0;o<this.childCount;o++)n+=this.getChild(o).text;return n.toString()}get ruleIndex(){return-1}get altNumber(){return c.ATN.INVALID_ALT_NUMBER}set altNumber(n){}getChild(n){throw new RangeError("i must be greater than or equal to 0 and less than childCount")}get childCount(){return 0}accept(n){return n.visitChildren(this)}toStringTree(n){return A.Trees.toStringTree(this,n)}toString(n,o){const i=n instanceof h.Recognizer?n.ruleNames:n;o=o||O.ParserRuleContext.emptyContext();let s="",c=this;for(s+="[";c&&c!==o;){if(i){let n=c.ruleIndex;s+=n>=0&&n<i.length?i[n]:n.toString()}else c.isEmpty||(s+=c.invokingState);!c._parent||!i&&c._parent.isEmpty||(s+=" "),c=c._parent}return s+="]",s.toString()}}s([S.Override],RuleContext.prototype,"sourceInterval",null),s([S.Override],RuleContext.prototype,"ruleContext",null),s([S.Override],RuleContext.prototype,"parent",null),s([S.Override],RuleContext.prototype,"setParent",null),s([S.Override],RuleContext.prototype,"payload",null),s([S.Override],RuleContext.prototype,"text",null),s([S.Override],RuleContext.prototype,"getChild",null),s([S.Override],RuleContext.prototype,"childCount",null),s([S.Override],RuleContext.prototype,"accept",null),s([S.Override],RuleContext.prototype,"toStringTree",null),o.RuleContext=RuleContext},74275:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.RuleVersion=void 0,o.RuleVersion=function RuleVersion(n){return(n,o,i)=>{}}},47760:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Token=void 0;const s=i(71492);!function(n){n.INVALID_TYPE=0,n.EPSILON=-2,n.MIN_USER_TOKEN_TYPE=1,n.EOF=s.IntStream.EOF,n.DEFAULT_CHANNEL=0,n.HIDDEN_CHANNEL=1,n.MIN_USER_CHANNEL_VALUE=2}(o.Token||(o.Token={}))},67435:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.VocabularyImpl=void 0;const c=i(72399),h=i(47760);class VocabularyImpl{constructor(n,o,i){this.literalNames=n,this.symbolicNames=o,this.displayNames=i,this._maxTokenType=Math.max(this.displayNames.length,Math.max(this.literalNames.length,this.symbolicNames.length))-1}get maxTokenType(){return this._maxTokenType}getLiteralName(n){if(n>=0&&n<this.literalNames.length)return this.literalNames[n]}getSymbolicName(n){return n>=0&&n<this.symbolicNames.length?this.symbolicNames[n]:n===h.Token.EOF?"EOF":void 0}getDisplayName(n){if(n>=0&&n<this.displayNames.length){let o=this.displayNames[n];if(o)return o}let o=this.getLiteralName(n);if(o)return o;let i=this.getSymbolicName(n);return i||String(n)}}VocabularyImpl.EMPTY_VOCABULARY=new VocabularyImpl([],[],[]),s([c.NotNull],VocabularyImpl.prototype,"literalNames",void 0),s([c.NotNull],VocabularyImpl.prototype,"symbolicNames",void 0),s([c.NotNull],VocabularyImpl.prototype,"displayNames",void 0),s([c.Override],VocabularyImpl.prototype,"maxTokenType",null),s([c.Override],VocabularyImpl.prototype,"getLiteralName",null),s([c.Override],VocabularyImpl.prototype,"getSymbolicName",null),s([c.Override,c.NotNull],VocabularyImpl.prototype,"getDisplayName",null),s([c.NotNull],VocabularyImpl,"EMPTY_VOCABULARY",void 0),o.VocabularyImpl=VocabularyImpl},74274:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ATN=void 0;const h=i(73907),f=i(73074),E=i(83357),S=i(9803),A=i(39462),O=i(72399),T=i(48055),_=i(78859),D=i(47760),N=i(42613);let R=class ATN{constructor(n,o){this.states=[],this.decisionToState=[],this.modeNameToStartState=new Map,this.modeToStartState=[],this.contextCache=new h.Array2DHashMap(T.ObjectEqualityComparator.INSTANCE),this.decisionToDFA=[],this.modeToDFA=[],this.LL1Table=new Map,this.grammarType=n,this.maxTokenType=o}clearDFA(){this.decisionToDFA=new Array(this.decisionToState.length);for(let n=0;n<this.decisionToDFA.length;n++)this.decisionToDFA[n]=new f.DFA(this.decisionToState[n],n);this.modeToDFA=new Array(this.modeToStartState.length);for(let n=0;n<this.modeToDFA.length;n++)this.modeToDFA[n]=new f.DFA(this.modeToStartState[n]);this.contextCache.clear(),this.LL1Table.clear()}get contextCacheSize(){return this.contextCache.size}getCachedContext(n){return _.PredictionContext.getCachedContext(n,this.contextCache,new _.PredictionContext.IdentityHashMap)}getDecisionToDFA(){return N(null!=this.decisionToDFA&&this.decisionToDFA.length===this.decisionToState.length),this.decisionToDFA}nextTokens(n,o){if(o){return new A.LL1Analyzer(this).LOOK(n,o)}return n.nextTokenWithinRule||(n.nextTokenWithinRule=this.nextTokens(n,_.PredictionContext.EMPTY_LOCAL),n.nextTokenWithinRule.setReadonly(!0)),n.nextTokenWithinRule}addState(n){n.atn=this,n.stateNumber=this.states.length,this.states.push(n)}removeState(n){let o=new S.InvalidState;o.atn=this,o.stateNumber=n.stateNumber,this.states[n.stateNumber]=o}defineMode(n,o){this.modeNameToStartState.set(n,o),this.modeToStartState.push(o),this.modeToDFA.push(new f.DFA(o)),this.defineDecisionState(o)}defineDecisionState(n){return this.decisionToState.push(n),n.decision=this.decisionToState.length-1,this.decisionToDFA.push(new f.DFA(n,n.decision)),n.decision}getDecisionState(n){if(this.decisionToState.length>0)return this.decisionToState[n]}get numberOfDecisions(){return this.decisionToState.length}getExpectedTokens(n,o){if(n<0||n>=this.states.length)throw new RangeError("Invalid state number.");let i=o,s=this.states[n],c=this.nextTokens(s);if(!c.contains(D.Token.EPSILON))return c;let h=new E.IntervalSet;for(h.addAll(c),h.remove(D.Token.EPSILON);null!=i&&i.invokingState>=0&&c.contains(D.Token.EPSILON);){let n=this.states[i.invokingState].transition(0);c=this.nextTokens(n.followState),h.addAll(c),h.remove(D.Token.EPSILON),i=i._parent}return c.contains(D.Token.EPSILON)&&h.add(D.Token.EOF),h}};s([O.NotNull],R.prototype,"states",void 0),s([O.NotNull],R.prototype,"decisionToState",void 0),s([O.NotNull],R.prototype,"modeNameToStartState",void 0),s([O.NotNull],R.prototype,"modeToStartState",void 0),s([O.NotNull],R.prototype,"decisionToDFA",void 0),s([O.NotNull],R.prototype,"modeToDFA",void 0),s([O.NotNull],R.prototype,"nextTokens",null),s([c(0,O.NotNull)],R.prototype,"removeState",null),s([c(0,O.NotNull),c(1,O.NotNull)],R.prototype,"defineMode",null),s([c(0,O.NotNull)],R.prototype,"defineDecisionState",null),s([O.NotNull],R.prototype,"getExpectedTokens",null),R=s([c(0,O.NotNull)],R),o.ATN=R,function(n){n.INVALID_ALT_NUMBER=0}(R=o.ATN||(o.ATN={})),o.ATN=R},78880:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ATNConfig=void 0;const h=i(73907),f=i(38016),E=i(75636),S=i(72399),A=i(48055),O=i(78859),T=i(32356),_=i(42613),D=2147483648;let N=class ATNConfig{constructor(n,o,i){"number"==typeof o?(_((16777215&o)===o),this._state=n,this.altAndOuterContextDepth=o,this._context=i):(this._state=n,this.altAndOuterContextDepth=o.altAndOuterContextDepth,this._context=i)}static create(n,o,i,s=T.SemanticContext.NONE,c){return s!==T.SemanticContext.NONE?null!=c?new P(c,s,n,o,i,!1):new R(s,n,o,i):null!=c?new x(c,n,o,i,!1):new ATNConfig(n,o,i)}get state(){return this._state}get alt(){return 16777215&this.altAndOuterContextDepth}get context(){return this._context}set context(n){this._context=n}get reachesIntoOuterContext(){return 0!==this.outerContextDepth}get outerContextDepth(){return this.altAndOuterContextDepth>>>24&127}set outerContextDepth(n){_(n>=0),n=Math.min(n,127),this.altAndOuterContextDepth=n<<24|(-2130706433&this.altAndOuterContextDepth)>>>0}get lexerActionExecutor(){}get semanticContext(){return T.SemanticContext.NONE}get hasPassedThroughNonGreedyDecision(){return!1}clone(){return this.transform(this.state,!1)}transform(n,o,i){return null==i?this.transformImpl(n,this._context,this.semanticContext,o,this.lexerActionExecutor):i instanceof O.PredictionContext?this.transformImpl(n,i,this.semanticContext,o,this.lexerActionExecutor):i instanceof T.SemanticContext?this.transformImpl(n,this._context,i,o,this.lexerActionExecutor):this.transformImpl(n,this._context,this.semanticContext,o,i)}transformImpl(n,o,i,s,c){let h=s&&ATNConfig.checkNonGreedyDecision(this,n);return i!==T.SemanticContext.NONE?null!=c||h?new P(c,i,n,this,o,h):new R(i,n,this,o):null!=c||h?new x(c,n,this,o,h):new ATNConfig(n,this,o)}static checkNonGreedyDecision(n,o){return n.hasPassedThroughNonGreedyDecision||o instanceof f.DecisionState&&o.nonGreedy}appendContext(n,o){if("number"==typeof n){let i=this.context.appendSingleContext(n,o);return this.transform(this.state,!1,i)}{let i=this.context.appendContext(n,o);return this.transform(this.state,!1,i)}}contains(n){if(this.state.stateNumber!==n.state.stateNumber||this.alt!==n.alt||!this.semanticContext.equals(n.semanticContext))return!1;let o=[],i=[];for(o.push(this.context),i.push(n.context);;){let n=o.pop(),s=i.pop();if(!n||!s)break;if(n===s)return!0;if(n.size<s.size)return!1;if(s.isEmpty)return n.hasEmpty;for(let c=0;c<s.size;c++){let h=n.findReturnState(s.getReturnState(c));if(h<0)return!1;o.push(n.getParent(h)),i.push(s.getParent(c))}}return!1}get isPrecedenceFilterSuppressed(){return 0!==(this.altAndOuterContextDepth&D)}set isPrecedenceFilterSuppressed(n){n?this.altAndOuterContextDepth|=D:this.altAndOuterContextDepth&=2147483647}equals(n){return this===n||n instanceof ATNConfig&&(this.state.stateNumber===n.state.stateNumber&&this.alt===n.alt&&this.reachesIntoOuterContext===n.reachesIntoOuterContext&&this.context.equals(n.context)&&this.semanticContext.equals(n.semanticContext)&&this.isPrecedenceFilterSuppressed===n.isPrecedenceFilterSuppressed&&this.hasPassedThroughNonGreedyDecision===n.hasPassedThroughNonGreedyDecision&&A.ObjectEqualityComparator.INSTANCE.equals(this.lexerActionExecutor,n.lexerActionExecutor))}hashCode(){let n=E.MurmurHash.initialize(7);return n=E.MurmurHash.update(n,this.state.stateNumber),n=E.MurmurHash.update(n,this.alt),n=E.MurmurHash.update(n,this.reachesIntoOuterContext?1:0),n=E.MurmurHash.update(n,this.context),n=E.MurmurHash.update(n,this.semanticContext),n=E.MurmurHash.update(n,this.hasPassedThroughNonGreedyDecision?1:0),n=E.MurmurHash.update(n,this.lexerActionExecutor),n=E.MurmurHash.finish(n,7),n}toDotString(){let n="";n+="digraph G {\n",n+="rankdir=LR;\n";let o=new h.Array2DHashMap(O.PredictionContext.IdentityEqualityComparator.INSTANCE),i=[];function getOrAddContext(n){let s=o.size,c=o.putIfAbsent(n,s);return null!=c?c:(i.push(n),s)}for(i.push(this.context),o.put(this.context,0);;){let o=i.pop();if(!o)break;for(let i=0;i<o.size;i++)n+="  s"+getOrAddContext(o),n+="->",n+="s"+getOrAddContext(o.getParent(i)),n+='[label="'+o.getReturnState(i)+'"];\n'}return n+="}\n",n.toString()}toString(n,o,i){null==i&&(i=null!=o),null==o&&(o=!0);let s,c="";s=i?this.context.toStrings(n,this.state.stateNumber):["?"];let h=!0;for(let n of s)h?h=!1:c+=", ",c+="(",c+=this.state,o&&(c+=",",c+=this.alt),this.context&&(c+=",",c+=n),this.semanticContext!==T.SemanticContext.NONE&&(c+=",",c+=this.semanticContext),this.reachesIntoOuterContext&&(c+=",up="+this.outerContextDepth),c+=")";return c.toString()}};s([S.NotNull],N.prototype,"_state",void 0),s([S.NotNull],N.prototype,"_context",void 0),s([S.NotNull],N.prototype,"state",null),s([S.NotNull,c(0,S.NotNull)],N.prototype,"context",null),s([S.NotNull],N.prototype,"semanticContext",null),s([S.Override],N.prototype,"clone",null),s([c(0,S.NotNull),c(2,S.NotNull)],N.prototype,"transformImpl",null),s([S.Override],N.prototype,"equals",null),s([S.Override],N.prototype,"hashCode",null),s([c(0,S.NotNull),c(3,S.NotNull)],N,"create",null),N=s([c(0,S.NotNull),c(2,S.NotNull)],N),o.ATNConfig=N;let R=class SemanticContextATNConfig extends N{constructor(n,o,i,s){super(o,i,s),this._semanticContext=n}get semanticContext(){return this._semanticContext}};s([S.NotNull],R.prototype,"_semanticContext",void 0),s([S.Override],R.prototype,"semanticContext",null),R=s([c(1,S.NotNull),c(2,S.NotNull)],R);let x=class ActionATNConfig extends N{constructor(n,o,i,s,c){if("number"==typeof i)super(o,i,s);else if(super(o,i,s),i.semanticContext!==T.SemanticContext.NONE)throw new Error("Not supported");this._lexerActionExecutor=n,this.passedThroughNonGreedyDecision=c}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};s([S.Override],x.prototype,"lexerActionExecutor",null),s([S.Override],x.prototype,"hasPassedThroughNonGreedyDecision",null),x=s([c(1,S.NotNull),c(2,S.NotNull)],x);let P=class ActionSemanticContextATNConfig extends R{constructor(n,o,i,s,c,h){super(o,i,s,c),this._lexerActionExecutor=n,this.passedThroughNonGreedyDecision=h}get lexerActionExecutor(){return this._lexerActionExecutor}get hasPassedThroughNonGreedyDecision(){return this.passedThroughNonGreedyDecision}};s([S.Override],P.prototype,"lexerActionExecutor",null),s([S.Override],P.prototype,"hasPassedThroughNonGreedyDecision",null),P=s([c(1,S.NotNull),c(2,S.NotNull)],P)},43258:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.ATNConfigSet=void 0;const c=i(73907),h=i(1533),f=i(8151),E=i(74274),S=i(78880),A=i(46889),O=i(72399),T=i(48055),_=i(78859),D=i(56409),N=i(32356),R=i(42613),x=i(40659);class KeyTypeEqualityComparer{hashCode(n){return n.state^n.alt}equals(n,o){return n.state===o.state&&n.alt===o.alt}}function NewKeyedConfigMap(n){return n?new c.Array2DHashMap(n):new c.Array2DHashMap(KeyTypeEqualityComparer.INSTANCE)}KeyTypeEqualityComparer.INSTANCE=new KeyTypeEqualityComparer;class ATNConfigSet{constructor(n,o){this._uniqueAlt=0,this._hasSemanticContext=!1,this._dipsIntoOuterContext=!1,this.outermostConfigSet=!1,this.cachedHashCode=-1,n?(o?(this.mergedConfigs=void 0,this.unmerged=void 0):n.isReadOnly?(this.mergedConfigs=NewKeyedConfigMap(),this.unmerged=[]):(this.mergedConfigs=NewKeyedConfigMap(n.mergedConfigs),this.unmerged=n.unmerged.slice(0)),this.configs=n.configs.slice(0),this._dipsIntoOuterContext=n._dipsIntoOuterContext,this._hasSemanticContext=n._hasSemanticContext,this.outermostConfigSet=n.outermostConfigSet,!o&&n.isReadOnly||(this._uniqueAlt=n._uniqueAlt,this._conflictInfo=n._conflictInfo)):(this.mergedConfigs=NewKeyedConfigMap(),this.unmerged=[],this.configs=[],this._uniqueAlt=E.ATN.INVALID_ALT_NUMBER)}getRepresentedAlternatives(){if(null!=this._conflictInfo)return this._conflictInfo.conflictedAlts.clone();let n=new A.BitSet;for(let o of this)n.set(o.alt);return n}get isReadOnly(){return null==this.mergedConfigs}get isOutermostConfigSet(){return this.outermostConfigSet}set isOutermostConfigSet(n){if(this.outermostConfigSet&&!n)throw new Error("IllegalStateException");R(!n||!this._dipsIntoOuterContext),this.outermostConfigSet=n}getStates(){let n=new h.Array2DHashSet(T.ObjectEqualityComparator.INSTANCE);for(let o of this.configs)n.add(o.state);return n}optimizeConfigs(n){if(0!==this.configs.length)for(let o of this.configs)o.context=n.atn.getCachedContext(o.context)}clone(n){let o=new ATNConfigSet(this,n);return!n&&this.isReadOnly&&o.addAll(this.configs),o}get size(){return this.configs.length}get isEmpty(){return 0===this.configs.length}contains(n){if(!(n instanceof S.ATNConfig))return!1;if(this.mergedConfigs&&this.unmerged){let o=n,i=this.getKey(o),s=this.mergedConfigs.get(i);if(null!=s&&this.canMerge(o,i,s))return s.contains(o);for(let o of this.unmerged)if(o.contains(n))return!0}else for(let o of this.configs)if(o.contains(n))return!0;return!1}*[Symbol.iterator](){yield*this.configs}toArray(){return this.configs}add(n,o){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");let i;R(!this.outermostConfigSet||!n.reachesIntoOuterContext),null==o&&(o=D.PredictionContextCache.UNCACHED);let s=this.getKey(n),c=this.mergedConfigs.get(s);if(i=null==c,null!=c&&this.canMerge(n,s,c)){c.outerContextDepth=Math.max(c.outerContextDepth,n.outerContextDepth),n.isPrecedenceFilterSuppressed&&(c.isPrecedenceFilterSuppressed=!0);let i=_.PredictionContext.join(c.context,n.context,o);return this.updatePropertiesForMergedConfig(n),c.context===i?!1:(c.context=i,!0)}for(let c=0;c<this.unmerged.length;c++){let h=this.unmerged[c];if(this.canMerge(n,s,h)){h.outerContextDepth=Math.max(h.outerContextDepth,n.outerContextDepth),n.isPrecedenceFilterSuppressed&&(h.isPrecedenceFilterSuppressed=!0);let f=_.PredictionContext.join(h.context,n.context,o);return this.updatePropertiesForMergedConfig(n),h.context===f?!1:(h.context=f,i&&(this.mergedConfigs.put(s,h),this.unmerged.splice(c,1)),!0)}}return this.configs.push(n),i?this.mergedConfigs.put(s,n):this.unmerged.push(n),this.updatePropertiesForAddedConfig(n),!0}updatePropertiesForMergedConfig(n){this._dipsIntoOuterContext=this._dipsIntoOuterContext||n.reachesIntoOuterContext,R(!this.outermostConfigSet||!this._dipsIntoOuterContext)}updatePropertiesForAddedConfig(n){1===this.configs.length?this._uniqueAlt=n.alt:this._uniqueAlt!==n.alt&&(this._uniqueAlt=E.ATN.INVALID_ALT_NUMBER),this._hasSemanticContext=this._hasSemanticContext||!N.SemanticContext.NONE.equals(n.semanticContext),this._dipsIntoOuterContext=this._dipsIntoOuterContext||n.reachesIntoOuterContext,R(!this.outermostConfigSet||!this._dipsIntoOuterContext)}canMerge(n,o,i){return n.state.stateNumber===i.state.stateNumber&&(o.alt===i.alt&&n.semanticContext.equals(i.semanticContext))}getKey(n){return{state:n.state.stateNumber,alt:n.alt}}containsAll(n){for(let o of n){if(!(o instanceof S.ATNConfig))return!1;if(!this.contains(o))return!1}return!0}addAll(n,o){this.ensureWritable();let i=!1;for(let s of n)this.add(s,o)&&(i=!0);return i}clear(){if(this.ensureWritable(),!this.mergedConfigs||!this.unmerged)throw new Error("Covered by ensureWritable but duplicated here for strict null check limitation");this.mergedConfigs.clear(),this.unmerged.length=0,this.configs.length=0,this._dipsIntoOuterContext=!1,this._hasSemanticContext=!1,this._uniqueAlt=E.ATN.INVALID_ALT_NUMBER,this._conflictInfo=void 0}equals(n){return this===n||n instanceof ATNConfigSet&&(this.outermostConfigSet===n.outermostConfigSet&&x.equals(this._conflictInfo,n._conflictInfo)&&f.ArrayEqualityComparator.INSTANCE.equals(this.configs,n.configs))}hashCode(){if(this.isReadOnly&&-1!==this.cachedHashCode)return this.cachedHashCode;let n=1;return n=5*n^(this.outermostConfigSet?1:0),n=5*n^f.ArrayEqualityComparator.INSTANCE.hashCode(this.configs),this.isReadOnly&&(this.cachedHashCode=n),n}toString(n){null==n&&(n=!1);let o="",i=this.configs.slice(0);i.sort((n,o)=>n.alt!==o.alt?n.alt-o.alt:n.state.stateNumber!==o.state.stateNumber?n.state.stateNumber-o.state.stateNumber:n.semanticContext.toString().localeCompare(o.semanticContext.toString())),o+="[";for(let s=0;s<i.length;s++)s>0&&(o+=", "),o+=i[s].toString(void 0,!0,n);return o+="]",this._hasSemanticContext&&(o+=",hasSemanticContext="+this._hasSemanticContext),this._uniqueAlt!==E.ATN.INVALID_ALT_NUMBER&&(o+=",uniqueAlt="+this._uniqueAlt),null!=this._conflictInfo&&(o+=",conflictingAlts="+this._conflictInfo.conflictedAlts,this._conflictInfo.isExact||(o+="*")),this._dipsIntoOuterContext&&(o+=",dipsIntoOuterContext"),o.toString()}get uniqueAlt(){return this._uniqueAlt}get hasSemanticContext(){return this._hasSemanticContext}set hasSemanticContext(n){this.ensureWritable(),this._hasSemanticContext=n}get conflictInfo(){return this._conflictInfo}set conflictInfo(n){this.ensureWritable(),this._conflictInfo=n}get conflictingAlts(){if(null!=this._conflictInfo)return this._conflictInfo.conflictedAlts}get isExactConflict(){return null!=this._conflictInfo&&this._conflictInfo.isExact}get dipsIntoOuterContext(){return this._dipsIntoOuterContext}get(n){return this.configs[n]}ensureWritable(){if(this.isReadOnly)throw new Error("This ATNConfigSet is read only.")}}s([O.NotNull],ATNConfigSet.prototype,"getRepresentedAlternatives",null),s([O.Override],ATNConfigSet.prototype,"size",null),s([O.Override],ATNConfigSet.prototype,"isEmpty",null),s([O.Override],ATNConfigSet.prototype,"contains",null),s([O.Override],ATNConfigSet.prototype,Symbol.iterator,null),s([O.Override],ATNConfigSet.prototype,"toArray",null),s([O.Override],ATNConfigSet.prototype,"containsAll",null),s([O.Override],ATNConfigSet.prototype,"clear",null),s([O.Override],ATNConfigSet.prototype,"equals",null),s([O.Override],ATNConfigSet.prototype,"hashCode",null),o.ATNConfigSet=ATNConfigSet},28955:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.ATNDeserializationOptions=void 0;const c=i(72399);class ATNDeserializationOptions{constructor(n){this.readOnly=!1,n?(this.verifyATN=n.verifyATN,this.generateRuleBypassTransitions=n.generateRuleBypassTransitions,this.optimize=n.optimize):(this.verifyATN=!0,this.generateRuleBypassTransitions=!1,this.optimize=!0)}static get defaultOptions(){return null==ATNDeserializationOptions._defaultOptions&&(ATNDeserializationOptions._defaultOptions=new ATNDeserializationOptions,ATNDeserializationOptions._defaultOptions.makeReadOnly()),ATNDeserializationOptions._defaultOptions}get isReadOnly(){return this.readOnly}makeReadOnly(){this.readOnly=!0}get isVerifyATN(){return this.verifyATN}set isVerifyATN(n){this.throwIfReadOnly(),this.verifyATN=n}get isGenerateRuleBypassTransitions(){return this.generateRuleBypassTransitions}set isGenerateRuleBypassTransitions(n){this.throwIfReadOnly(),this.generateRuleBypassTransitions=n}get isOptimize(){return this.optimize}set isOptimize(n){this.throwIfReadOnly(),this.optimize=n}throwIfReadOnly(){if(this.isReadOnly)throw new Error("The object is read only.")}}s([c.NotNull],ATNDeserializationOptions,"defaultOptions",null),o.ATNDeserializationOptions=ATNDeserializationOptions},60493:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ATNDeserializer=void 0;const h=i(29202),f=i(1533),E=i(74274),S=i(28955),A=i(77037),O=i(5369),T=i(38749),_=i(78744),D=i(46889),N=i(50760),R=i(93099),x=i(38016),P=i(73074),M=i(29250),I=i(83357),B=i(9803),F=i(23972),L=i(37920),k=i(49616),j=i(56474),U=i(94283),z=i(84520),q=i(38240),V=i(16479),W=i(46251),$=i(72399),G=i(33575),K=i(13161),Y=i(64891),X=i(66305),J=i(66061),Q=i(6369),Z=i(93053),ee=i(79240),te=i(8840),re=i(23334),ne=i(21384),oe=i(38195),ie=i(5481),se=i(4016),ae=i(47760),ue=i(68644),ce=i(88567),le=i(24650);var he;!function(n){n[n.UNICODE_BMP=0]="UNICODE_BMP",n[n.UNICODE_SMP=1]="UNICODE_SMP"}(he||(he={}));class ATNDeserializer{constructor(n){void 0===n&&(n=S.ATNDeserializationOptions.defaultOptions),this.deserializationOptions=n}static get SERIALIZED_VERSION(){return 3}static isFeatureSupported(n,o){let i=ATNDeserializer.SUPPORTED_UUIDS.findIndex(o=>o.equals(n));return!(i<0)&&ATNDeserializer.SUPPORTED_UUIDS.findIndex(n=>n.equals(o))>=i}static getUnicodeDeserializer(n){return 0===n?{readUnicode:(n,o)=>ATNDeserializer.toInt(n[o]),size:1}:{readUnicode:(n,o)=>ATNDeserializer.toInt32(n,o),size:2}}deserialize(n){n=n.slice(0);for(let o=1;o<n.length;o++)n[o]=n[o]-2&65535;let o=0,i=ATNDeserializer.toInt(n[o++]);if(i!==ATNDeserializer.SERIALIZED_VERSION){let n=`Could not deserialize ATN with version ${i} (expected ${ATNDeserializer.SERIALIZED_VERSION}).`;throw new Error(n)}let s=ATNDeserializer.toUUID(n,o);if(o+=8,ATNDeserializer.SUPPORTED_UUIDS.findIndex(n=>n.equals(s))<0){let n=`Could not deserialize ATN with UUID ${s} (expected ${ATNDeserializer.SERIALIZED_UUID} or a legacy UUID).`;throw new Error(n)}let c=ATNDeserializer.isFeatureSupported(ATNDeserializer.ADDED_LEXER_ACTIONS,s),S=ATNDeserializer.toInt(n[o++]),D=ATNDeserializer.toInt(n[o++]),x=new E.ATN(S,D),I=[],F=[],k=ATNDeserializer.toInt(n[o++]);for(let i=0;i<k;i++){let i=ATNDeserializer.toInt(n[o++]);if(i===A.ATNStateType.INVALID_TYPE){x.addState(new B.InvalidState);continue}let s=ATNDeserializer.toInt(n[o++]);65535===s&&(s=-1);let c=this.stateFactory(i,s);if(i===A.ATNStateType.LOOP_END){let i=ATNDeserializer.toInt(n[o++]);I.push([c,i])}else if(c instanceof R.BlockStartState){let i=ATNDeserializer.toInt(n[o++]);F.push([c,i])}x.addState(c)}for(let n of I)n[0].loopBackState=x.states[n[1]];for(let n of F)n[0].endState=x.states[n[1]];let j=ATNDeserializer.toInt(n[o++]);for(let i=0;i<j;i++){let i=ATNDeserializer.toInt(n[o++]);x.states[i].nonGreedy=!0}let U=ATNDeserializer.toInt(n[o++]);for(let i=0;i<U;i++){let i=ATNDeserializer.toInt(n[o++]);x.states[i].sll=!0}let z=ATNDeserializer.toInt(n[o++]);for(let i=0;i<z;i++){let i=ATNDeserializer.toInt(n[o++]);x.states[i].isPrecedenceRule=!0}let q=ATNDeserializer.toInt(n[o++]);0===x.grammarType&&(x.ruleToTokenType=new Int32Array(q)),x.ruleToStartState=new Array(q);for(let i=0;i<q;i++){let c=ATNDeserializer.toInt(n[o++]),h=x.states[c];if(h.leftFactored=0!==ATNDeserializer.toInt(n[o++]),x.ruleToStartState[i]=h,0===x.grammarType){let c=ATNDeserializer.toInt(n[o++]);if(65535===c&&(c=ae.Token.EOF),x.ruleToTokenType[i]=c,!ATNDeserializer.isFeatureSupported(ATNDeserializer.ADDED_LEXER_ACTIONS,s)){let i=ATNDeserializer.toInt(n[o++]);65535===i&&(i=-1)}}}x.ruleToStopState=new Array(q);for(let n of x.states)n instanceof te.RuleStopState&&(x.ruleToStopState[n.ruleIndex]=n,x.ruleToStartState[n.ruleIndex].stopState=n);let V=ATNDeserializer.toInt(n[o++]);for(let i=0;i<V;i++){let i=ATNDeserializer.toInt(n[o++]);x.modeToStartState.push(x.states[i])}x.modeToDFA=new Array(V);for(let n=0;n<V;n++)x.modeToDFA[n]=new P.DFA(x.modeToStartState[n]);let $=[];o=this.deserializeSets(n,o,$,ATNDeserializer.getUnicodeDeserializer(0)),ATNDeserializer.isFeatureSupported(ATNDeserializer.ADDED_UNICODE_SMP,s)&&(o=this.deserializeSets(n,o,$,ATNDeserializer.getUnicodeDeserializer(1)));let G=ATNDeserializer.toInt(n[o++]);for(let i=0;i<G;i++){let i=ATNDeserializer.toInt(n[o]),s=ATNDeserializer.toInt(n[o+1]),c=ATNDeserializer.toInt(n[o+2]),h=ATNDeserializer.toInt(n[o+3]),f=ATNDeserializer.toInt(n[o+4]),E=ATNDeserializer.toInt(n[o+5]),S=this.edgeFactory(x,c,i,s,h,f,E,$);x.states[i].addTransition(S),o+=6}let K=new f.Array2DHashSet({hashCode:n=>n.stopState^n.returnState^n.outermostPrecedenceReturn,equals:(n,o)=>n.stopState===o.stopState&&n.returnState===o.returnState&&n.outermostPrecedenceReturn===o.outermostPrecedenceReturn}),J=[];for(let n of x.states){let o=n.ruleIndex>=0&&x.ruleToStartState[n.ruleIndex].leftFactored;for(let i=0;i<n.numberOfTransitions;i++){let s=n.transition(i);if(!(s instanceof re.RuleTransition))continue;let c=s;if(!x.ruleToStartState[c.target.ruleIndex].leftFactored&&o)continue;let h=-1;x.ruleToStartState[c.target.ruleIndex].isPrecedenceRule&&0===c.precedence&&(h=c.target.ruleIndex);let f={stopState:c.target.ruleIndex,returnState:c.followState.stateNumber,outermostPrecedenceReturn:h};K.add(f)&&J.push(f)}}for(let n of J){let o=new M.EpsilonTransition(x.states[n.returnState],n.outermostPrecedenceReturn);x.ruleToStopState[n.stopState].addTransition(o)}for(let n of x.states){if(n instanceof R.BlockStartState){if(void 0===n.endState)throw new Error("IllegalStateException");if(void 0!==n.endState.startState)throw new Error("IllegalStateException");n.endState.startState=n}if(n instanceof X.PlusLoopbackState){let o=n;for(let n=0;n<o.numberOfTransitions;n++){let i=o.transition(n).target;i instanceof Y.PlusBlockStartState&&(i.loopBackState=o)}}else if(n instanceof ie.StarLoopbackState){let o=n;for(let n=0;n<o.numberOfTransitions;n++){let i=o.transition(n).target;i instanceof se.StarLoopEntryState&&(i.loopBackState=o)}}}let Q=ATNDeserializer.toInt(n[o++]);for(let i=1;i<=Q;i++){let s=ATNDeserializer.toInt(n[o++]),c=x.states[s];x.decisionToState.push(c),c.decision=i-1}if(0===x.grammarType)if(c){x.lexerActions=new Array(ATNDeserializer.toInt(n[o++]));for(let i=0;i<x.lexerActions.length;i++){let s=ATNDeserializer.toInt(n[o++]),c=ATNDeserializer.toInt(n[o++]);65535===c&&(c=-1);let h=ATNDeserializer.toInt(n[o++]);65535===h&&(h=-1);let f=this.lexerActionFactory(s,c,h);x.lexerActions[i]=f}}else{let n=[];for(let o of x.states)for(let i=0;i<o.numberOfTransitions;i++){let s=o.transition(i);if(!(s instanceof h.ActionTransition))continue;let c=s.ruleIndex,f=s.actionIndex,E=new L.LexerCustomAction(c,f);o.setTransition(i,new h.ActionTransition(s.target,c,n.length,!1)),n.push(E)}x.lexerActions=n}this.markPrecedenceDecisions(x),x.decisionToDFA=new Array(Q);for(let n=0;n<Q;n++)x.decisionToDFA[n]=new P.DFA(x.decisionToState[n],n);if(this.deserializationOptions.isVerifyATN&&this.verifyATN(x),this.deserializationOptions.isGenerateRuleBypassTransitions&&1===x.grammarType){x.ruleToTokenType=new Int32Array(x.ruleToStartState.length);for(let n=0;n<x.ruleToStartState.length;n++)x.ruleToTokenType[n]=x.maxTokenType+n+1;for(let n=0;n<x.ruleToStartState.length;n++){let o=new T.BasicBlockStartState;o.ruleIndex=n,x.addState(o);let i,s,c=new N.BlockEndState;if(c.ruleIndex=n,x.addState(c),o.endState=c,x.defineDecisionState(o),c.startState=o,x.ruleToStartState[n].isPrecedenceRule){i=void 0;for(let o of x.states){if(o.ruleIndex!==n)continue;if(!(o instanceof se.StarLoopEntryState))continue;let s=o.transition(o.numberOfTransitions-1).target;if(s instanceof W.LoopEndState&&(s.epsilonOnlyTransitions&&s.transition(0).target instanceof te.RuleStopState)){i=o;break}}if(!i)throw new Error("Couldn't identify final state of the precedence rule prefix section.");s=i.loopBackState.transition(0)}else i=x.ruleToStopState[n];for(let n of x.states)for(let o=0;o<n.numberOfTransitions;o++){let h=n.transition(o);h!==s&&(h.target===i&&(h.target=c))}for(;x.ruleToStartState[n].numberOfTransitions>0;){let i=x.ruleToStartState[n].removeTransition(x.ruleToStartState[n].numberOfTransitions-1);o.addTransition(i)}x.ruleToStartState[n].addTransition(new M.EpsilonTransition(o)),c.addTransition(new M.EpsilonTransition(i));let h=new _.BasicState;x.addState(h),h.addTransition(new O.AtomTransition(c,x.ruleToTokenType[n])),o.addTransition(new M.EpsilonTransition(h))}this.deserializationOptions.isVerifyATN&&this.verifyATN(x)}if(this.deserializationOptions.isOptimize){for(;;){let n=0;n+=ATNDeserializer.inlineSetRules(x),n+=ATNDeserializer.combineChainedEpsilons(x);let o=0===x.grammarType;if(n+=ATNDeserializer.optimizeSets(x,o),0===n)break}this.deserializationOptions.isVerifyATN&&this.verifyATN(x)}return ATNDeserializer.identifyTailCalls(x),x}deserializeSets(n,o,i,s){let c=ATNDeserializer.toInt(n[o++]);for(let h=0;h<c;h++){let c=ATNDeserializer.toInt(n[o]);o++;let h=new I.IntervalSet;i.push(h),0!==ATNDeserializer.toInt(n[o++])&&h.add(-1);for(let i=0;i<c;i++){let i=s.readUnicode(n,o);o+=s.size;let c=s.readUnicode(n,o);o+=s.size,h.add(i,c)}}return o}markPrecedenceDecisions(n){let o=new Map;for(let i of n.states)if(i instanceof se.StarLoopEntryState&&n.ruleToStartState[i.ruleIndex].isPrecedenceRule){let s=i.transition(i.numberOfTransitions-1).target;s instanceof W.LoopEndState&&s.epsilonOnlyTransitions&&s.transition(0).target instanceof te.RuleStopState&&(o.set(i.ruleIndex,i),i.precedenceRuleDecision=!0,i.precedenceLoopbackStates=new D.BitSet(n.states.length))}for(let i of o)for(let o of n.ruleToStopState[i[0]].getTransitions()){if(1!==o.serializationType)continue;-1===o.outermostPrecedenceReturn&&i[1].precedenceLoopbackStates.set(o.target.stateNumber)}}verifyATN(n){for(let o of n.states)if(this.checkCondition(void 0!==o,"ATN states should not be undefined."),o.stateType!==A.ATNStateType.INVALID_TYPE){if(this.checkCondition(o.onlyHasEpsilonTransitions||o.numberOfTransitions<=1),o instanceof Y.PlusBlockStartState&&this.checkCondition(void 0!==o.loopBackState),o instanceof se.StarLoopEntryState){let n=o;if(this.checkCondition(void 0!==n.loopBackState),this.checkCondition(2===n.numberOfTransitions),n.transition(0).target instanceof oe.StarBlockStartState)this.checkCondition(n.transition(1).target instanceof W.LoopEndState),this.checkCondition(!n.nonGreedy);else{if(!(n.transition(0).target instanceof W.LoopEndState))throw new Error("IllegalStateException");this.checkCondition(n.transition(1).target instanceof oe.StarBlockStartState),this.checkCondition(n.nonGreedy)}}if(o instanceof ie.StarLoopbackState&&(this.checkCondition(1===o.numberOfTransitions),this.checkCondition(o.transition(0).target instanceof se.StarLoopEntryState)),o instanceof W.LoopEndState&&this.checkCondition(void 0!==o.loopBackState),o instanceof ee.RuleStartState&&this.checkCondition(void 0!==o.stopState),o instanceof R.BlockStartState&&this.checkCondition(void 0!==o.endState),o instanceof N.BlockEndState&&this.checkCondition(void 0!==o.startState),o instanceof x.DecisionState){let n=o;this.checkCondition(n.numberOfTransitions<=1||n.decision>=0)}else this.checkCondition(o.numberOfTransitions<=1||o instanceof te.RuleStopState)}}checkCondition(n,o){if(!n)throw new Error("IllegalStateException: "+o)}static inlineSetRules(n){let o=0,i=new Array(n.ruleToStartState.length);for(let o=0;o<n.ruleToStartState.length;o++){let s=n.ruleToStartState[o];for(;s.onlyHasEpsilonTransitions&&1===s.numberOfOptimizedTransitions&&1===s.getOptimizedTransition(0).serializationType;)s=s.getOptimizedTransition(0).target;if(1!==s.numberOfOptimizedTransitions)continue;let c=s.getOptimizedTransition(0),h=c.target;if(!c.isEpsilon&&h.onlyHasEpsilonTransitions&&1===h.numberOfOptimizedTransitions&&h.getOptimizedTransition(0).target instanceof te.RuleStopState)switch(c.serializationType){case 5:case 2:case 7:i[o]=c;break;default:continue}}for(let s of n.states){if(s.ruleIndex<0)continue;let c;for(let h=0;h<s.numberOfOptimizedTransitions;h++){let f=s.getOptimizedTransition(h);if(!(f instanceof re.RuleTransition)){void 0!==c&&c.push(f);continue}let E=f,S=i[E.target.ruleIndex];if(void 0===S){void 0!==c&&c.push(f);continue}if(void 0===c){c=[];for(let n=0;n<h;n++)c.push(s.getOptimizedTransition(h))}o++;let A=E.followState,T=new _.BasicState;switch(T.setRuleIndex(A.ruleIndex),n.addState(T),c.push(new M.EpsilonTransition(T)),S.serializationType){case 5:T.addTransition(new O.AtomTransition(A,S._label));break;case 2:T.addTransition(new Z.RangeTransition(A,S.from,S.to));break;case 7:T.addTransition(new ne.SetTransition(A,S.label));break;default:throw new Error("UnsupportedOperationException")}}if(void 0!==c){if(s.isOptimized)for(;s.numberOfOptimizedTransitions>0;)s.removeOptimizedTransition(s.numberOfOptimizedTransitions-1);for(let n of c)s.addOptimizedTransition(n)}}return K.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+o+" rule invocations by inlining sets."),o}static combineChainedEpsilons(n){let o=0;for(let i of n.states){if(!i.onlyHasEpsilonTransitions||i instanceof te.RuleStopState)continue;let n;e:for(let s=0;s<i.numberOfOptimizedTransitions;s++){let c=i.getOptimizedTransition(s),h=c.target;if(1===c.serializationType&&-1===c.outermostPrecedenceReturn&&h.stateType===A.ATNStateType.BASIC&&h.onlyHasEpsilonTransitions){for(let o=0;o<h.numberOfOptimizedTransitions;o++)if(1!==h.getOptimizedTransition(o).serializationType||-1!==h.getOptimizedTransition(o).outermostPrecedenceReturn){void 0!==n&&n.push(c);continue e}if(o++,void 0===n){n=[];for(let o=0;o<s;o++)n.push(i.getOptimizedTransition(o))}for(let o=0;o<h.numberOfOptimizedTransitions;o++){let i=h.getOptimizedTransition(o).target;n.push(new M.EpsilonTransition(i))}}else void 0!==n&&n.push(c)}if(void 0!==n){if(i.isOptimized)for(;i.numberOfOptimizedTransitions>0;)i.removeOptimizedTransition(i.numberOfOptimizedTransitions-1);for(let o of n)i.addOptimizedTransition(o)}}return K.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+o+" transitions by combining chained epsilon transitions."),o}static optimizeSets(n,o){if(o)return 0;let i=0,s=n.decisionToState;for(let o of s){let s=new I.IntervalSet;for(let n=0;n<o.numberOfOptimizedTransitions;n++){let i=o.getOptimizedTransition(n);if(!(i instanceof M.EpsilonTransition))continue;if(1!==i.target.numberOfOptimizedTransitions)continue;let c=i.target.getOptimizedTransition(0);c.target instanceof N.BlockEndState&&(c instanceof G.NotSetTransition||(c instanceof O.AtomTransition||c instanceof Z.RangeTransition||c instanceof ne.SetTransition)&&s.add(n))}if(s.size<=1)continue;let c=[];for(let n=0;n<o.numberOfOptimizedTransitions;n++)s.contains(n)||c.push(o.getOptimizedTransition(n));let h,f=o.getOptimizedTransition(s.minElement).target.getOptimizedTransition(0).target,E=new I.IntervalSet;for(let n of s.intervals)for(let i=n.a;i<=n.b;i++){let n=o.getOptimizedTransition(i).target.getOptimizedTransition(0);if(n instanceof G.NotSetTransition)throw new Error("Not yet implemented.");E.addAll(n.label)}if(1===E.intervals.length)if(1===E.size)h=new O.AtomTransition(f,E.minElement);else{let n=E.intervals[0];h=new Z.RangeTransition(f,n.a,n.b)}else h=new ne.SetTransition(f,E);let S=new _.BasicState;if(S.setRuleIndex(o.ruleIndex),n.addState(S),S.addTransition(h),c.push(new M.EpsilonTransition(S)),i+=o.numberOfOptimizedTransitions-c.length,o.isOptimized)for(;o.numberOfOptimizedTransitions>0;)o.removeOptimizedTransition(o.numberOfOptimizedTransitions-1);for(let n of c)o.addOptimizedTransition(n)}return K.ParserATNSimulator.debug&&console.log("ATN runtime optimizer removed "+i+" paths by collapsing sets."),i}static identifyTailCalls(n){for(let o of n.states){for(let i=0;i<o.numberOfTransitions;i++){let s=o.transition(i);s instanceof re.RuleTransition&&(s.tailCall=this.testTailCall(n,s,!1),s.optimizedTailCall=this.testTailCall(n,s,!0))}if(o.isOptimized)for(let i=0;i<o.numberOfOptimizedTransitions;i++){let s=o.getOptimizedTransition(i);s instanceof re.RuleTransition&&(s.tailCall=this.testTailCall(n,s,!1),s.optimizedTailCall=this.testTailCall(n,s,!0))}}}static testTailCall(n,o,i){if(!i&&o.tailCall)return!0;if(i&&o.optimizedTailCall)return!0;let s=new D.BitSet(n.states.length),c=[];for(c.push(o.followState);;){let n=c.pop();if(!n)break;if(s.get(n.stateNumber))continue;if(n instanceof te.RuleStopState)continue;if(!n.onlyHasEpsilonTransitions)return!1;let o=i?n.numberOfOptimizedTransitions:n.numberOfTransitions;for(let s=0;s<o;s++){let o=i?n.getOptimizedTransition(s):n.transition(s);if(1!==o.serializationType)return!1;c.push(o.target)}}return!0}static toInt(n){return n}static toInt32(n,o){return(n[o]|n[o+1]<<16)>>>0}static toUUID(n,o){let i=ATNDeserializer.toInt32(n,o),s=ATNDeserializer.toInt32(n,o+2),c=ATNDeserializer.toInt32(n,o+4),h=ATNDeserializer.toInt32(n,o+6);return new ce.UUID(h,c,s,i)}edgeFactory(n,o,i,s,c,f,E,S){let A=n.states[s];switch(o){case 1:return new M.EpsilonTransition(A);case 2:return 0!==E?new Z.RangeTransition(A,ae.Token.EOF,f):new Z.RangeTransition(A,c,f);case 3:return new re.RuleTransition(n.states[c],f,E,A);case 4:return new Q.PredicateTransition(A,c,f,0!==E);case 10:return new J.PrecedencePredicateTransition(A,c);case 5:return 0!==E?new O.AtomTransition(A,ae.Token.EOF):new O.AtomTransition(A,c);case 6:return new h.ActionTransition(A,c,f,0!==E);case 7:return new ne.SetTransition(A,S[c]);case 8:return new G.NotSetTransition(A,S[c]);case 9:return new le.WildcardTransition(A)}throw new Error("The specified transition type is not valid.")}stateFactory(n,o){let i;switch(n){case A.ATNStateType.INVALID_TYPE:return new B.InvalidState;case A.ATNStateType.BASIC:i=new _.BasicState;break;case A.ATNStateType.RULE_START:i=new ee.RuleStartState;break;case A.ATNStateType.BLOCK_START:i=new T.BasicBlockStartState;break;case A.ATNStateType.PLUS_BLOCK_START:i=new Y.PlusBlockStartState;break;case A.ATNStateType.STAR_BLOCK_START:i=new oe.StarBlockStartState;break;case A.ATNStateType.TOKEN_START:i=new ue.TokensStartState;break;case A.ATNStateType.RULE_STOP:i=new te.RuleStopState;break;case A.ATNStateType.BLOCK_END:i=new N.BlockEndState;break;case A.ATNStateType.STAR_LOOP_BACK:i=new ie.StarLoopbackState;break;case A.ATNStateType.STAR_LOOP_ENTRY:i=new se.StarLoopEntryState;break;case A.ATNStateType.PLUS_LOOP_BACK:i=new X.PlusLoopbackState;break;case A.ATNStateType.LOOP_END:i=new W.LoopEndState;break;default:throw new Error(`The specified state type ${n} is not valid.`)}return i.ruleIndex=o,i}lexerActionFactory(n,o,i){switch(n){case 0:return new F.LexerChannelAction(o);case 1:return new L.LexerCustomAction(o,i);case 2:return new k.LexerModeAction(o);case 3:return j.LexerMoreAction.INSTANCE;case 4:return U.LexerPopModeAction.INSTANCE;case 5:return new z.LexerPushModeAction(o);case 6:return q.LexerSkipAction.INSTANCE;case 7:return new V.LexerTypeAction(o);default:throw new Error(`The specified lexer action type ${n} is not valid.`)}}}ATNDeserializer.BASE_SERIALIZED_UUID=ce.UUID.fromString("E4178468-DF95-44D0-AD87-F22A5D5FB6D3"),ATNDeserializer.ADDED_LEXER_ACTIONS=ce.UUID.fromString("AB35191A-1603-487E-B75A-479B831EAF6D"),ATNDeserializer.ADDED_UNICODE_SMP=ce.UUID.fromString("C23FEA89-0605-4f51-AFB8-058BCAB8C91B"),ATNDeserializer.SUPPORTED_UUIDS=[ATNDeserializer.BASE_SERIALIZED_UUID,ATNDeserializer.ADDED_LEXER_ACTIONS,ATNDeserializer.ADDED_UNICODE_SMP],ATNDeserializer.SERIALIZED_UUID=ATNDeserializer.ADDED_UNICODE_SMP,s([$.NotNull],ATNDeserializer.prototype,"deserializationOptions",void 0),s([c(0,$.NotNull)],ATNDeserializer.prototype,"deserialize",null),s([c(0,$.NotNull)],ATNDeserializer.prototype,"markPrecedenceDecisions",null),s([$.NotNull,c(0,$.NotNull)],ATNDeserializer.prototype,"edgeFactory",null),o.ATNDeserializer=ATNDeserializer},56298:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ATNSimulator=void 0;const h=i(43258),f=i(69709),E=i(72399),S=i(78859);let A=class ATNSimulator{constructor(n){this.atn=n}static get ERROR(){return ATNSimulator._ERROR||(ATNSimulator._ERROR=new f.DFAState(new h.ATNConfigSet),ATNSimulator._ERROR.stateNumber=S.PredictionContext.EMPTY_FULL_STATE_KEY),ATNSimulator._ERROR}clearDFA(){this.atn.clearDFA()}};s([E.NotNull],A.prototype,"atn",void 0),s([E.NotNull],A,"ERROR",null),A=s([c(0,E.NotNull)],A),o.ATNSimulator=A,A=o.ATNSimulator||(o.ATNSimulator={}),o.ATNSimulator=A},42813:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.ATNState=void 0;const c=i(72399);class ATNState{constructor(){this.stateNumber=ATNState.INVALID_STATE_NUMBER,this.ruleIndex=0,this.epsilonOnlyTransitions=!1,this.transitions=[],this.optimizedTransitions=this.transitions}getStateNumber(){return this.stateNumber}get nonStopStateNumber(){return this.getStateNumber()}hashCode(){return this.stateNumber}equals(n){return n instanceof ATNState&&this.stateNumber===n.stateNumber}get isNonGreedyExitState(){return!1}toString(){return String(this.stateNumber)}getTransitions(){return this.transitions.slice(0)}get numberOfTransitions(){return this.transitions.length}addTransition(n,o){if(0===this.transitions.length)this.epsilonOnlyTransitions=n.isEpsilon;else if(this.epsilonOnlyTransitions!==n.isEpsilon)throw this.epsilonOnlyTransitions=!1,new Error("ATN state "+this.stateNumber+" has both epsilon and non-epsilon transitions.");this.transitions.splice(void 0!==o?o:this.transitions.length,0,n)}transition(n){return this.transitions[n]}setTransition(n,o){this.transitions[n]=o}removeTransition(n){return this.transitions.splice(n,1)[0]}get onlyHasEpsilonTransitions(){return this.epsilonOnlyTransitions}setRuleIndex(n){this.ruleIndex=n}get isOptimized(){return this.optimizedTransitions!==this.transitions}get numberOfOptimizedTransitions(){return this.optimizedTransitions.length}getOptimizedTransition(n){return this.optimizedTransitions[n]}addOptimizedTransition(n){this.isOptimized||(this.optimizedTransitions=new Array),this.optimizedTransitions.push(n)}setOptimizedTransition(n,o){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions[n]=o}removeOptimizedTransition(n){if(!this.isOptimized)throw new Error("This ATNState is not optimized.");this.optimizedTransitions.splice(n,1)}}s([c.Override],ATNState.prototype,"hashCode",null),s([c.Override],ATNState.prototype,"equals",null),s([c.Override],ATNState.prototype,"toString",null),o.ATNState=ATNState,function(n){n.INVALID_STATE_NUMBER=-1}(ATNState=o.ATNState||(o.ATNState={}))},77037:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ATNStateType=void 0,function(n){n[n.INVALID_TYPE=0]="INVALID_TYPE",n[n.BASIC=1]="BASIC",n[n.RULE_START=2]="RULE_START",n[n.BLOCK_START=3]="BLOCK_START",n[n.PLUS_BLOCK_START=4]="PLUS_BLOCK_START",n[n.STAR_BLOCK_START=5]="STAR_BLOCK_START",n[n.TOKEN_START=6]="TOKEN_START",n[n.RULE_STOP=7]="RULE_STOP",n[n.BLOCK_END=8]="BLOCK_END",n[n.STAR_LOOP_BACK=9]="STAR_LOOP_BACK",n[n.STAR_LOOP_ENTRY=10]="STAR_LOOP_ENTRY",n[n.PLUS_LOOP_BACK=11]="PLUS_LOOP_BACK",n[n.LOOP_END=12]="LOOP_END"}(o.ATNStateType||(o.ATNStateType={}))},58939:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AbstractPredicateTransition=void 0;const s=i(11072);class AbstractPredicateTransition extends s.Transition{constructor(n){super(n)}}o.AbstractPredicateTransition=AbstractPredicateTransition},29202:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ActionTransition=void 0;const h=i(72399),f=i(11072);let E=class ActionTransition extends f.Transition{constructor(n,o,i=-1,s=!1){super(n),this.ruleIndex=o,this.actionIndex=i,this.isCtxDependent=s}get serializationType(){return 6}get isEpsilon(){return!0}matches(n,o,i){return!1}toString(){return"action_"+this.ruleIndex+":"+this.actionIndex}};s([h.Override],E.prototype,"serializationType",null),s([h.Override],E.prototype,"isEpsilon",null),s([h.Override],E.prototype,"matches",null),s([h.Override],E.prototype,"toString",null),E=s([c(0,h.NotNull)],E),o.ActionTransition=E},77886:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AmbiguityInfo=void 0;const h=i(71173),f=i(72399);let E=class AmbiguityInfo extends h.DecisionEventInfo{constructor(n,o,i,s,c,h){super(n,o,s,c,h,o.useContext),this.ambigAlts=i}get ambiguousAlternatives(){return this.ambigAlts}};s([f.NotNull],E.prototype,"ambigAlts",void 0),s([f.NotNull],E.prototype,"ambiguousAlternatives",null),E=s([c(1,f.NotNull),c(2,f.NotNull),c(3,f.NotNull)],E),o.AmbiguityInfo=E},5369:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AtomTransition=void 0;const h=i(83357),f=i(72399),E=i(11072);let S=class AtomTransition extends E.Transition{constructor(n,o){super(n),this._label=o}get serializationType(){return 5}get label(){return h.IntervalSet.of(this._label)}matches(n,o,i){return this._label===n}toString(){return String(this.label)}};s([f.Override],S.prototype,"serializationType",null),s([f.Override,f.NotNull],S.prototype,"label",null),s([f.Override],S.prototype,"matches",null),s([f.Override,f.NotNull],S.prototype,"toString",null),S=s([c(0,f.NotNull)],S),o.AtomTransition=S},38749:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.BasicBlockStartState=void 0;const c=i(77037),h=i(93099),f=i(72399);class BasicBlockStartState extends h.BlockStartState{get stateType(){return c.ATNStateType.BLOCK_START}}s([f.Override],BasicBlockStartState.prototype,"stateType",null),o.BasicBlockStartState=BasicBlockStartState},78744:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.BasicState=void 0;const c=i(42813),h=i(77037),f=i(72399);class BasicState extends c.ATNState{get stateType(){return h.ATNStateType.BASIC}}s([f.Override],BasicState.prototype,"stateType",null),o.BasicState=BasicState},50760:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.BlockEndState=void 0;const c=i(42813),h=i(77037),f=i(72399);class BlockEndState extends c.ATNState{get stateType(){return h.ATNStateType.BLOCK_END}}s([f.Override],BlockEndState.prototype,"stateType",null),o.BlockEndState=BlockEndState},93099:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.BlockStartState=void 0;const s=i(38016);class BlockStartState extends s.DecisionState{}o.BlockStartState=BlockStartState},61405:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.ConflictInfo=void 0;const c=i(72399),h=i(40659);class ConflictInfo{constructor(n,o){this._conflictedAlts=n,this.exact=o}get conflictedAlts(){return this._conflictedAlts}get isExact(){return this.exact}equals(n){return n===this||n instanceof ConflictInfo&&(this.isExact===n.isExact&&h.equals(this.conflictedAlts,n.conflictedAlts))}hashCode(){return this.conflictedAlts.hashCode()}}s([c.Override],ConflictInfo.prototype,"equals",null),s([c.Override],ConflictInfo.prototype,"hashCode",null),o.ConflictInfo=ConflictInfo},52433:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ContextSensitivityInfo=void 0;const h=i(71173),f=i(72399);let E=class ContextSensitivityInfo extends h.DecisionEventInfo{constructor(n,o,i,s,c){super(n,o,i,s,c,!0)}};E=s([c(1,f.NotNull),c(2,f.NotNull)],E),o.ContextSensitivityInfo=E},71173:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DecisionEventInfo=void 0;const h=i(72399);let f=class DecisionEventInfo{constructor(n,o,i,s,c,h){this.decision=n,this.fullCtx=h,this.stopIndex=c,this.input=i,this.startIndex=s,this.state=o}};s([h.NotNull],f.prototype,"input",void 0),f=s([c(2,h.NotNull)],f),o.DecisionEventInfo=f},50585:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.DecisionInfo=void 0;const c=i(72399);class DecisionInfo{constructor(n){this.invocations=0,this.timeInPrediction=0,this.SLL_TotalLook=0,this.SLL_MinLook=0,this.SLL_MaxLook=0,this.LL_TotalLook=0,this.LL_MinLook=0,this.LL_MaxLook=0,this.contextSensitivities=[],this.errors=[],this.ambiguities=[],this.predicateEvals=[],this.SLL_ATNTransitions=0,this.SLL_DFATransitions=0,this.LL_Fallback=0,this.LL_ATNTransitions=0,this.LL_DFATransitions=0,this.decision=n}toString(){return"{decision="+this.decision+", contextSensitivities="+this.contextSensitivities.length+", errors="+this.errors.length+", ambiguities="+this.ambiguities.length+", SLL_lookahead="+this.SLL_TotalLook+", SLL_ATNTransitions="+this.SLL_ATNTransitions+", SLL_DFATransitions="+this.SLL_DFATransitions+", LL_Fallback="+this.LL_Fallback+", LL_lookahead="+this.LL_TotalLook+", LL_ATNTransitions="+this.LL_ATNTransitions+"}"}}s([c.Override],DecisionInfo.prototype,"toString",null),o.DecisionInfo=DecisionInfo},38016:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DecisionState=void 0;const s=i(42813);class DecisionState extends s.ATNState{constructor(){super(...arguments),this.decision=-1,this.nonGreedy=!1,this.sll=!1}}o.DecisionState=DecisionState},29250:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.EpsilonTransition=void 0;const h=i(72399),f=i(11072);let E=class EpsilonTransition extends f.Transition{constructor(n,o=-1){super(n),this._outermostPrecedenceReturn=o}get outermostPrecedenceReturn(){return this._outermostPrecedenceReturn}get serializationType(){return 1}get isEpsilon(){return!0}matches(n,o,i){return!1}toString(){return"epsilon"}};s([h.Override],E.prototype,"serializationType",null),s([h.Override],E.prototype,"isEpsilon",null),s([h.Override],E.prototype,"matches",null),s([h.Override,h.NotNull],E.prototype,"toString",null),E=s([c(0,h.NotNull)],E),o.EpsilonTransition=E},44241:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ErrorInfo=void 0;const h=i(71173),f=i(72399);let E=class ErrorInfo extends h.DecisionEventInfo{constructor(n,o,i,s,c){super(n,o,i,s,c,o.useContext)}};E=s([c(1,f.NotNull),c(2,f.NotNull)],E),o.ErrorInfo=E},9803:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.InvalidState=void 0;const c=i(77037),h=i(78744),f=i(72399);class InvalidState extends h.BasicState{get stateType(){return c.ATNStateType.INVALID_TYPE}}s([f.Override],InvalidState.prototype,"stateType",null),o.InvalidState=InvalidState},39462:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LL1Analyzer=void 0;const h=i(58939),f=i(1533),E=i(78880),S=i(46889),A=i(83357),O=i(72399),T=i(33575),_=i(48055),D=i(78859),N=i(8840),R=i(23334),x=i(47760),P=i(24650);let M=class LL1Analyzer{constructor(n){this.atn=n}getDecisionLookahead(n){if(null==n)return;let o=new Array(n.numberOfTransitions);for(let i=0;i<n.numberOfTransitions;i++){let s=new A.IntervalSet;o[i]=s;let c=new f.Array2DHashSet(_.ObjectEqualityComparator.INSTANCE),h=!1;this._LOOK(n.transition(i).target,void 0,D.PredictionContext.EMPTY_LOCAL,s,c,new S.BitSet,h,!1),(0===s.size||s.contains(LL1Analyzer.HIT_PRED))&&(s=void 0,o[i]=s)}return o}LOOK(n,o,i){if(void 0===i){if(null==n.atn)throw new Error("Illegal state");i=n.atn.ruleToStopState[n.ruleIndex]}else null===i&&(i=void 0);let s=new A.IntervalSet;return this._LOOK(n,i,o,s,new f.Array2DHashSet,new S.BitSet,!0,!0),s}_LOOK(n,o,i,s,c,f,S,O){let _=E.ATNConfig.create(n,0,i);if(!c.add(_))return;if(n===o){if(D.PredictionContext.isEmptyLocal(i))return void s.add(x.Token.EPSILON);if(i.isEmpty)return void(O&&s.add(x.Token.EOF))}if(n instanceof N.RuleStopState){if(i.isEmpty&&!D.PredictionContext.isEmptyLocal(i))return void(O&&s.add(x.Token.EOF));let h=f.get(n.ruleIndex);try{f.clear(n.ruleIndex);for(let n=0;n<i.size;n++){if(i.getReturnState(n)===D.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let h=this.atn.states[i.getReturnState(n)];this._LOOK(h,o,i.getParent(n),s,c,f,S,O)}}finally{h&&f.set(n.ruleIndex)}}let M=n.numberOfTransitions;for(let E=0;E<M;E++){let _=n.transition(E);if(_ instanceof R.RuleTransition){if(f.get(_.ruleIndex))continue;let n=i.getChild(_.followState.stateNumber);try{f.set(_.ruleIndex),this._LOOK(_.target,o,n,s,c,f,S,O)}finally{f.clear(_.ruleIndex)}}else if(_ instanceof h.AbstractPredicateTransition)S?this._LOOK(_.target,o,i,s,c,f,S,O):s.add(LL1Analyzer.HIT_PRED);else if(_.isEpsilon)this._LOOK(_.target,o,i,s,c,f,S,O);else if(_ instanceof P.WildcardTransition)s.addAll(A.IntervalSet.of(x.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType));else{let n=_.label;null!=n&&(_ instanceof T.NotSetTransition&&(n=n.complement(A.IntervalSet.of(x.Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType))),s.addAll(n))}}}};M.HIT_PRED=x.Token.INVALID_TYPE,s([O.NotNull],M.prototype,"atn",void 0),s([O.NotNull,c(0,O.NotNull),c(1,O.NotNull)],M.prototype,"LOOK",null),s([c(0,O.NotNull),c(2,O.NotNull),c(3,O.NotNull),c(4,O.NotNull),c(5,O.NotNull)],M.prototype,"_LOOK",null),M=s([c(0,O.NotNull)],M),o.LL1Analyzer=M},21088:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerATNSimulator=void 0;const h=i(52962),f=i(74274),E=i(78880),S=i(43258),A=i(56298),O=i(69709),T=i(7477),_=i(71492),D=i(22807),N=i(22662),R=i(86181),x=i(72399),P=i(75895),M=i(78859),I=i(8840),B=i(47760),F=i(42613);let L=class LexerATNSimulator extends A.ATNSimulator{constructor(n,o){super(n),this.optimize_tail_calls=!0,this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=D.Lexer.DEFAULT_MODE,this.prevAccept=new LexerATNSimulator.SimState,this.recog=o}copyState(n){this._charPositionInLine=n.charPositionInLine,this._line=n._line,this.mode=n.mode,this.startIndex=n.startIndex}match(n,o){this.mode=o;let i=n.mark();try{this.startIndex=n.index,this.prevAccept.reset();let i=this.atn.modeToDFA[o].s0;return null==i?this.matchATN(n):this.execATN(n,i)}finally{n.release(i)}}reset(){this.prevAccept.reset(),this.startIndex=-1,this._line=1,this._charPositionInLine=0,this.mode=D.Lexer.DEFAULT_MODE}matchATN(n){let o=this.atn.modeToStartState[this.mode];LexerATNSimulator.debug&&console.log(`matchATN mode ${this.mode} start: ${o}`);let i=this.mode,s=this.computeStartState(n,o),c=s.hasSemanticContext;c&&(s.hasSemanticContext=!1);let h=this.addDFAState(s);if(!c){let n=this.atn.modeToDFA[this.mode];n.s0?h=n.s0:n.s0=h}let f=this.execATN(n,h);return LexerATNSimulator.debug&&console.log(`DFA after matchATN: ${this.atn.modeToDFA[i].toLexerString()}`),f}execATN(n,o){LexerATNSimulator.debug&&console.log(`start state closure=${o.configs}`),o.isAcceptState&&this.captureSimState(this.prevAccept,n,o);let i=n.LA(1),s=o;for(;;){LexerATNSimulator.debug&&console.log(`execATN loop starting closure: ${s.configs}`);let o=this.getExistingTargetState(s,i);if(null==o&&(o=this.computeTargetState(n,s,i)),o===A.ATNSimulator.ERROR)break;if(i!==_.IntStream.EOF&&this.consume(n),o.isAcceptState&&(this.captureSimState(this.prevAccept,n,o),i===_.IntStream.EOF))break;i=n.LA(1),s=o}return this.failOrAccept(this.prevAccept,n,s.configs,i)}getExistingTargetState(n,o){let i=n.getTarget(o);return LexerATNSimulator.debug&&null!=i&&console.log("reuse state "+n.stateNumber+" edge to "+i.stateNumber),i}computeTargetState(n,o,i){let s=new P.OrderedATNConfigSet;return this.getReachableConfigSet(n,o.configs,s,i),s.isEmpty?(s.hasSemanticContext||this.addDFAEdge(o,i,A.ATNSimulator.ERROR),A.ATNSimulator.ERROR):this.addDFAEdge(o,i,s)}failOrAccept(n,o,i,s){if(null!=n.dfaState){let i=n.dfaState.lexerActionExecutor;return this.accept(o,i,this.startIndex,n.index,n.line,n.charPos),n.dfaState.prediction}if(s===_.IntStream.EOF&&o.index===this.startIndex)return B.Token.EOF;throw new R.LexerNoViableAltException(this.recog,o,this.startIndex,i)}getReachableConfigSet(n,o,i,s){let c=f.ATN.INVALID_ALT_NUMBER;for(let h of o){let o=h.alt===c;if(o&&h.hasPassedThroughNonGreedyDecision)continue;LexerATNSimulator.debug&&console.log(`testing ${this.getTokenName(s)} at ${h.toString(this.recog,!0)}`);let f=h.state.numberOfOptimizedTransitions;for(let E=0;E<f;E++){let f=h.state.getOptimizedTransition(E),S=this.getReachableTarget(f,s);if(null!=S){let f,E=h.lexerActionExecutor;null!=E?(E=E.fixOffsetBeforeMatch(n.index-this.startIndex),f=h.transform(S,!0,E)):(F(null==h.lexerActionExecutor),f=h.transform(S,!0));let A=s===_.IntStream.EOF;if(this.closure(n,f,i,o,!0,A)){c=h.alt;break}}}}}accept(n,o,i,s,c,h){LexerATNSimulator.debug&&console.log(`ACTION ${o}`),n.seek(s),this._line=c,this._charPositionInLine=h,null!=o&&null!=this.recog&&o.execute(this.recog,n,i)}getReachableTarget(n,o){if(n.matches(o,D.Lexer.MIN_CHAR_VALUE,D.Lexer.MAX_CHAR_VALUE))return n.target}computeStartState(n,o){let i=M.PredictionContext.EMPTY_FULL,s=new P.OrderedATNConfigSet;for(let c=0;c<o.numberOfTransitions;c++){let h=o.transition(c).target,f=E.ATNConfig.create(h,c+1,i);this.closure(n,f,s,!1,!1,!1)}return s}closure(n,o,i,s,c,h){if(LexerATNSimulator.debug&&console.log("closure("+o.toString(this.recog,!0)+")"),o.state instanceof I.RuleStopState){LexerATNSimulator.debug&&(null!=this.recog?console.log(`closure at ${this.recog.ruleNames[o.state.ruleIndex]} rule stop ${o}`):console.log(`closure at rule stop ${o}`));let f=o.context;if(f.isEmpty)return i.add(o),!0;f.hasEmpty&&(i.add(o.transform(o.state,!0,M.PredictionContext.EMPTY_FULL)),s=!0);for(let E=0;E<f.size;E++){let S=f.getReturnState(E);if(S===M.PredictionContext.EMPTY_FULL_STATE_KEY)continue;let A=f.getParent(E),O=this.atn.states[S],T=o.transform(O,!1,A);s=this.closure(n,T,i,s,c,h)}return s}o.state.onlyHasEpsilonTransitions||s&&o.hasPassedThroughNonGreedyDecision||i.add(o);let f=o.state;for(let E=0;E<f.numberOfOptimizedTransitions;E++){let S=f.getOptimizedTransition(E),A=this.getEpsilonTarget(n,o,S,i,c,h);null!=A&&(s=this.closure(n,A,i,s,c,h))}return s}getEpsilonTarget(n,o,i,s,c,h){let f;switch(i.serializationType){case 3:let E=i;if(this.optimize_tail_calls&&E.optimizedTailCall&&!o.context.hasEmpty)f=o.transform(i.target,!0);else{let n=o.context.getChild(E.followState.stateNumber);f=o.transform(i.target,!0,n)}break;case 10:throw new Error("Precedence predicates are not supported in lexers.");case 4:let S=i;LexerATNSimulator.debug&&console.log("EVAL rule "+S.ruleIndex+":"+S.predIndex),s.hasSemanticContext=!0,f=this.evaluatePredicate(n,S.ruleIndex,S.predIndex,c)?o.transform(i.target,!0):void 0;break;case 6:if(o.context.hasEmpty){let n=N.LexerActionExecutor.append(o.lexerActionExecutor,this.atn.lexerActions[i.actionIndex]);f=o.transform(i.target,!0,n);break}f=o.transform(i.target,!0);break;case 1:f=o.transform(i.target,!0);break;case 5:case 2:case 7:if(h&&i.matches(_.IntStream.EOF,D.Lexer.MIN_CHAR_VALUE,D.Lexer.MAX_CHAR_VALUE)){f=o.transform(i.target,!1);break}f=void 0;break;default:f=void 0}return f}evaluatePredicate(n,o,i,s){if(null==this.recog)return!0;if(!s)return this.recog.sempred(void 0,o,i);let c=this._charPositionInLine,h=this._line,f=n.index,E=n.mark();try{return this.consume(n),this.recog.sempred(void 0,o,i)}finally{this._charPositionInLine=c,this._line=h,n.seek(f),n.release(E)}}captureSimState(n,o,i){n.index=o.index,n.line=this._line,n.charPos=this._charPositionInLine,n.dfaState=i}addDFAEdge(n,o,i){if(i instanceof S.ATNConfigSet){let s=i.hasSemanticContext;s&&(i.hasSemanticContext=!1);let c=this.addDFAState(i);return s||this.addDFAEdge(n,o,c),c}LexerATNSimulator.debug&&console.log("EDGE "+n+" -> "+i+" upon "+String.fromCharCode(o)),null!=n&&n.setTarget(o,i)}addDFAState(n){F(!n.hasSemanticContext);let o=new O.DFAState(n),i=this.atn.modeToDFA[this.mode].states.get(o);if(null!=i)return i;n.optimizeConfigs(this);let s,c=new O.DFAState(n.clone(!0));for(let o of n)if(o.state instanceof I.RuleStopState){s=o;break}if(null!=s){let n=this.atn.ruleToTokenType[s.state.ruleIndex],o=s.lexerActionExecutor;c.acceptStateInfo=new h.AcceptStateInfo(n,o)}return this.atn.modeToDFA[this.mode].addState(c)}getDFA(n){return this.atn.modeToDFA[n]}getText(n){return n.getText(T.Interval.of(this.startIndex,n.index-1))}get line(){return this._line}set line(n){this._line=n}get charPositionInLine(){return this._charPositionInLine}set charPositionInLine(n){this._charPositionInLine=n}consume(n){n.LA(1)==="\n".charCodeAt(0)?(this._line++,this._charPositionInLine=0):this._charPositionInLine++,n.consume()}getTokenName(n){return-1===n?"EOF":"'"+String.fromCharCode(n)+"'"}};s([x.NotNull],L.prototype,"prevAccept",void 0),s([c(0,x.NotNull)],L.prototype,"copyState",null),s([c(0,x.NotNull)],L.prototype,"match",null),s([x.Override],L.prototype,"reset",null),s([c(0,x.NotNull)],L.prototype,"matchATN",null),s([c(0,x.NotNull),c(1,x.NotNull)],L.prototype,"execATN",null),s([c(0,x.NotNull)],L.prototype,"getExistingTargetState",null),s([x.NotNull,c(0,x.NotNull),c(1,x.NotNull)],L.prototype,"computeTargetState",null),s([c(0,x.NotNull),c(1,x.NotNull),c(2,x.NotNull)],L.prototype,"getReachableConfigSet",null),s([c(0,x.NotNull)],L.prototype,"accept",null),s([x.NotNull,c(0,x.NotNull),c(1,x.NotNull)],L.prototype,"computeStartState",null),s([c(0,x.NotNull),c(1,x.NotNull),c(2,x.NotNull)],L.prototype,"closure",null),s([c(0,x.NotNull),c(1,x.NotNull),c(2,x.NotNull),c(3,x.NotNull)],L.prototype,"getEpsilonTarget",null),s([c(0,x.NotNull)],L.prototype,"evaluatePredicate",null),s([c(0,x.NotNull),c(1,x.NotNull),c(2,x.NotNull)],L.prototype,"captureSimState",null),s([x.NotNull,c(0,x.NotNull)],L.prototype,"addDFAState",null),s([x.NotNull],L.prototype,"getDFA",null),s([x.NotNull,c(0,x.NotNull)],L.prototype,"getText",null),s([c(0,x.NotNull)],L.prototype,"consume",null),s([x.NotNull],L.prototype,"getTokenName",null),L=s([c(0,x.NotNull)],L),o.LexerATNSimulator=L,function(n){n.debug=!1,n.dfa_debug=!1;n.SimState=class SimState{constructor(){this.index=-1,this.line=0,this.charPos=-1}reset(){this.index=-1,this.line=0,this.charPos=-1,this.dfaState=void 0}}}(L=o.LexerATNSimulator||(o.LexerATNSimulator={})),o.LexerATNSimulator=L},22662:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerActionExecutor=void 0;const h=i(8151),f=i(59057),E=i(75636),S=i(72399);let A=class LexerActionExecutor{constructor(n){this._lexerActions=n;let o=E.MurmurHash.initialize();for(let i of n)o=E.MurmurHash.update(o,i);this.cachedHashCode=E.MurmurHash.finish(o,n.length)}static append(n,o){if(!n)return new LexerActionExecutor([o]);let i=n._lexerActions.slice(0);return i.push(o),new LexerActionExecutor(i)}fixOffsetBeforeMatch(n){let o;for(let i=0;i<this._lexerActions.length;i++)!this._lexerActions[i].isPositionDependent||this._lexerActions[i]instanceof f.LexerIndexedCustomAction||(o||(o=this._lexerActions.slice(0)),o[i]=new f.LexerIndexedCustomAction(n,this._lexerActions[i]));return o?new LexerActionExecutor(o):this}get lexerActions(){return this._lexerActions}execute(n,o,i){let s=!1,c=o.index;try{for(let h of this._lexerActions){if(h instanceof f.LexerIndexedCustomAction){let n=h.offset;o.seek(i+n),h=h.action,s=i+n!==c}else h.isPositionDependent&&(o.seek(c),s=!1);h.execute(n)}}finally{s&&o.seek(c)}}hashCode(){return this.cachedHashCode}equals(n){return n===this||n instanceof LexerActionExecutor&&(this.cachedHashCode===n.cachedHashCode&&h.ArrayEqualityComparator.INSTANCE.equals(this._lexerActions,n._lexerActions))}};s([S.NotNull],A.prototype,"_lexerActions",void 0),s([S.NotNull],A.prototype,"lexerActions",null),s([c(0,S.NotNull)],A.prototype,"execute",null),s([S.Override],A.prototype,"hashCode",null),s([S.Override],A.prototype,"equals",null),s([S.NotNull,c(1,S.NotNull)],A,"append",null),A=s([c(0,S.NotNull)],A),o.LexerActionExecutor=A},23972:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerChannelAction=void 0;const h=i(75636),f=i(72399);class LexerChannelAction{constructor(n){this._channel=n}get channel(){return this._channel}get actionType(){return 0}get isPositionDependent(){return!1}execute(n){n.channel=this._channel}hashCode(){let n=h.MurmurHash.initialize();return n=h.MurmurHash.update(n,this.actionType),n=h.MurmurHash.update(n,this._channel),h.MurmurHash.finish(n,2)}equals(n){return n===this||n instanceof LexerChannelAction&&this._channel===n._channel}toString(){return`channel(${this._channel})`}}s([f.Override],LexerChannelAction.prototype,"actionType",null),s([f.Override],LexerChannelAction.prototype,"isPositionDependent",null),s([f.Override,c(0,f.NotNull)],LexerChannelAction.prototype,"execute",null),s([f.Override],LexerChannelAction.prototype,"hashCode",null),s([f.Override],LexerChannelAction.prototype,"equals",null),s([f.Override],LexerChannelAction.prototype,"toString",null),o.LexerChannelAction=LexerChannelAction},37920:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerCustomAction=void 0;const h=i(75636),f=i(72399);class LexerCustomAction{constructor(n,o){this._ruleIndex=n,this._actionIndex=o}get ruleIndex(){return this._ruleIndex}get actionIndex(){return this._actionIndex}get actionType(){return 1}get isPositionDependent(){return!0}execute(n){n.action(void 0,this._ruleIndex,this._actionIndex)}hashCode(){let n=h.MurmurHash.initialize();return n=h.MurmurHash.update(n,this.actionType),n=h.MurmurHash.update(n,this._ruleIndex),n=h.MurmurHash.update(n,this._actionIndex),h.MurmurHash.finish(n,3)}equals(n){return n===this||n instanceof LexerCustomAction&&(this._ruleIndex===n._ruleIndex&&this._actionIndex===n._actionIndex)}}s([f.Override],LexerCustomAction.prototype,"actionType",null),s([f.Override],LexerCustomAction.prototype,"isPositionDependent",null),s([f.Override,c(0,f.NotNull)],LexerCustomAction.prototype,"execute",null),s([f.Override],LexerCustomAction.prototype,"hashCode",null),s([f.Override],LexerCustomAction.prototype,"equals",null),o.LexerCustomAction=LexerCustomAction},59057:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerIndexedCustomAction=void 0;const h=i(75636),f=i(72399);let E=class LexerIndexedCustomAction{constructor(n,o){this._offset=n,this._action=o}get offset(){return this._offset}get action(){return this._action}get actionType(){return this._action.actionType}get isPositionDependent(){return!0}execute(n){this._action.execute(n)}hashCode(){let n=h.MurmurHash.initialize();return n=h.MurmurHash.update(n,this._offset),n=h.MurmurHash.update(n,this._action),h.MurmurHash.finish(n,2)}equals(n){return n===this||n instanceof LexerIndexedCustomAction&&(this._offset===n._offset&&this._action.equals(n._action))}};s([f.NotNull],E.prototype,"action",null),s([f.Override],E.prototype,"actionType",null),s([f.Override],E.prototype,"isPositionDependent",null),s([f.Override],E.prototype,"execute",null),s([f.Override],E.prototype,"hashCode",null),s([f.Override],E.prototype,"equals",null),E=s([c(1,f.NotNull)],E),o.LexerIndexedCustomAction=E},49616:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerModeAction=void 0;const h=i(75636),f=i(72399);class LexerModeAction{constructor(n){this._mode=n}get mode(){return this._mode}get actionType(){return 2}get isPositionDependent(){return!1}execute(n){n.mode(this._mode)}hashCode(){let n=h.MurmurHash.initialize();return n=h.MurmurHash.update(n,this.actionType),n=h.MurmurHash.update(n,this._mode),h.MurmurHash.finish(n,2)}equals(n){return n===this||n instanceof LexerModeAction&&this._mode===n._mode}toString(){return`mode(${this._mode})`}}s([f.Override],LexerModeAction.prototype,"actionType",null),s([f.Override],LexerModeAction.prototype,"isPositionDependent",null),s([f.Override,c(0,f.NotNull)],LexerModeAction.prototype,"execute",null),s([f.Override],LexerModeAction.prototype,"hashCode",null),s([f.Override],LexerModeAction.prototype,"equals",null),s([f.Override],LexerModeAction.prototype,"toString",null),o.LexerModeAction=LexerModeAction},56474:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerMoreAction=void 0;const h=i(75636),f=i(72399);class LexerMoreAction{constructor(){}get actionType(){return 3}get isPositionDependent(){return!1}execute(n){n.more()}hashCode(){let n=h.MurmurHash.initialize();return n=h.MurmurHash.update(n,this.actionType),h.MurmurHash.finish(n,1)}equals(n){return n===this}toString(){return"more"}}s([f.Override],LexerMoreAction.prototype,"actionType",null),s([f.Override],LexerMoreAction.prototype,"isPositionDependent",null),s([f.Override,c(0,f.NotNull)],LexerMoreAction.prototype,"execute",null),s([f.Override],LexerMoreAction.prototype,"hashCode",null),s([f.Override],LexerMoreAction.prototype,"equals",null),s([f.Override],LexerMoreAction.prototype,"toString",null),o.LexerMoreAction=LexerMoreAction,function(n){n.INSTANCE=new n}(LexerMoreAction=o.LexerMoreAction||(o.LexerMoreAction={}))},94283:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerPopModeAction=void 0;const h=i(75636),f=i(72399);class LexerPopModeAction{constructor(){}get actionType(){return 4}get isPositionDependent(){return!1}execute(n){n.popMode()}hashCode(){let n=h.MurmurHash.initialize();return n=h.MurmurHash.update(n,this.actionType),h.MurmurHash.finish(n,1)}equals(n){return n===this}toString(){return"popMode"}}s([f.Override],LexerPopModeAction.prototype,"actionType",null),s([f.Override],LexerPopModeAction.prototype,"isPositionDependent",null),s([f.Override,c(0,f.NotNull)],LexerPopModeAction.prototype,"execute",null),s([f.Override],LexerPopModeAction.prototype,"hashCode",null),s([f.Override],LexerPopModeAction.prototype,"equals",null),s([f.Override],LexerPopModeAction.prototype,"toString",null),o.LexerPopModeAction=LexerPopModeAction,function(n){n.INSTANCE=new n}(LexerPopModeAction=o.LexerPopModeAction||(o.LexerPopModeAction={}))},84520:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerPushModeAction=void 0;const h=i(75636),f=i(72399);class LexerPushModeAction{constructor(n){this._mode=n}get mode(){return this._mode}get actionType(){return 5}get isPositionDependent(){return!1}execute(n){n.pushMode(this._mode)}hashCode(){let n=h.MurmurHash.initialize();return n=h.MurmurHash.update(n,this.actionType),n=h.MurmurHash.update(n,this._mode),h.MurmurHash.finish(n,2)}equals(n){return n===this||n instanceof LexerPushModeAction&&this._mode===n._mode}toString(){return`pushMode(${this._mode})`}}s([f.Override],LexerPushModeAction.prototype,"actionType",null),s([f.Override],LexerPushModeAction.prototype,"isPositionDependent",null),s([f.Override,c(0,f.NotNull)],LexerPushModeAction.prototype,"execute",null),s([f.Override],LexerPushModeAction.prototype,"hashCode",null),s([f.Override],LexerPushModeAction.prototype,"equals",null),s([f.Override],LexerPushModeAction.prototype,"toString",null),o.LexerPushModeAction=LexerPushModeAction},38240:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerSkipAction=void 0;const h=i(75636),f=i(72399);class LexerSkipAction{constructor(){}get actionType(){return 6}get isPositionDependent(){return!1}execute(n){n.skip()}hashCode(){let n=h.MurmurHash.initialize();return n=h.MurmurHash.update(n,this.actionType),h.MurmurHash.finish(n,1)}equals(n){return n===this}toString(){return"skip"}}s([f.Override],LexerSkipAction.prototype,"actionType",null),s([f.Override],LexerSkipAction.prototype,"isPositionDependent",null),s([f.Override,c(0,f.NotNull)],LexerSkipAction.prototype,"execute",null),s([f.Override],LexerSkipAction.prototype,"hashCode",null),s([f.Override],LexerSkipAction.prototype,"equals",null),s([f.Override],LexerSkipAction.prototype,"toString",null),o.LexerSkipAction=LexerSkipAction,function(n){n.INSTANCE=new n}(LexerSkipAction=o.LexerSkipAction||(o.LexerSkipAction={}))},16479:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerTypeAction=void 0;const h=i(75636),f=i(72399);class LexerTypeAction{constructor(n){this._type=n}get type(){return this._type}get actionType(){return 7}get isPositionDependent(){return!1}execute(n){n.type=this._type}hashCode(){let n=h.MurmurHash.initialize();return n=h.MurmurHash.update(n,this.actionType),n=h.MurmurHash.update(n,this._type),h.MurmurHash.finish(n,2)}equals(n){return n===this||n instanceof LexerTypeAction&&this._type===n._type}toString(){return`type(${this._type})`}}s([f.Override],LexerTypeAction.prototype,"actionType",null),s([f.Override],LexerTypeAction.prototype,"isPositionDependent",null),s([f.Override,c(0,f.NotNull)],LexerTypeAction.prototype,"execute",null),s([f.Override],LexerTypeAction.prototype,"hashCode",null),s([f.Override],LexerTypeAction.prototype,"equals",null),s([f.Override],LexerTypeAction.prototype,"toString",null),o.LexerTypeAction=LexerTypeAction},37059:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LookaheadEventInfo=void 0;const h=i(71173),f=i(72399);let E=class LookaheadEventInfo extends h.DecisionEventInfo{constructor(n,o,i,s,c,h,f){super(n,o,s,c,h,f),this.predictedAlt=i}};E=s([c(3,f.NotNull)],E),o.LookaheadEventInfo=E},46251:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.LoopEndState=void 0;const c=i(42813),h=i(77037),f=i(72399);class LoopEndState extends c.ATNState{get stateType(){return h.ATNStateType.LOOP_END}}s([f.Override],LoopEndState.prototype,"stateType",null),o.LoopEndState=LoopEndState},33575:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.NotSetTransition=void 0;const h=i(72399),f=i(21384);let E=class NotSetTransition extends f.SetTransition{constructor(n,o){super(n,o)}get serializationType(){return 8}matches(n,o,i){return n>=o&&n<=i&&!super.matches(n,o,i)}toString(){return"~"+super.toString()}};s([h.Override],E.prototype,"serializationType",null),s([h.Override],E.prototype,"matches",null),s([h.Override],E.prototype,"toString",null),E=s([c(0,h.NotNull),c(1,h.Nullable)],E),o.NotSetTransition=E},75895:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.OrderedATNConfigSet=void 0;const c=i(43258),h=i(72399);class OrderedATNConfigSet extends c.ATNConfigSet{constructor(n,o){null!=n&&null!=o?super(n,o):super()}clone(n){let o=new OrderedATNConfigSet(this,n);return!n&&this.isReadOnly&&o.addAll(this),o}getKey(n){return{state:0,alt:n.hashCode()}}canMerge(n,o,i){return n.equals(i)}}s([h.Override],OrderedATNConfigSet.prototype,"clone",null),s([h.Override],OrderedATNConfigSet.prototype,"getKey",null),s([h.Override],OrderedATNConfigSet.prototype,"canMerge",null),o.OrderedATNConfigSet=OrderedATNConfigSet},38344:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ParseInfo=void 0;const h=i(72399);let f=class ParseInfo{constructor(n){this.atnSimulator=n}getDecisionInfo(){return this.atnSimulator.getDecisionInfo()}getLLDecisions(){let n=this.atnSimulator.getDecisionInfo(),o=[];for(let i=0;i<n.length;i++){n[i].LL_Fallback>0&&o.push(i)}return o}getTotalTimeInPrediction(){let n=this.atnSimulator.getDecisionInfo(),o=0;for(let i of n)o+=i.timeInPrediction;return o}getTotalSLLLookaheadOps(){let n=this.atnSimulator.getDecisionInfo(),o=0;for(let i of n)o+=i.SLL_TotalLook;return o}getTotalLLLookaheadOps(){let n=this.atnSimulator.getDecisionInfo(),o=0;for(let i of n)o+=i.LL_TotalLook;return o}getTotalSLLATNLookaheadOps(){let n=this.atnSimulator.getDecisionInfo(),o=0;for(let i of n)o+=i.SLL_ATNTransitions;return o}getTotalLLATNLookaheadOps(){let n=this.atnSimulator.getDecisionInfo(),o=0;for(let i of n)o+=i.LL_ATNTransitions;return o}getTotalATNLookaheadOps(){let n=this.atnSimulator.getDecisionInfo(),o=0;for(let i of n)o+=i.SLL_ATNTransitions,o+=i.LL_ATNTransitions;return o}getDFASize(n){if(n){return this.atnSimulator.atn.decisionToDFA[n].states.size}{let n=0,o=this.atnSimulator.atn.decisionToDFA;for(let i=0;i<o.length;i++)n+=this.getDFASize(i);return n}}};s([h.NotNull],f.prototype,"getDecisionInfo",null),s([h.NotNull],f.prototype,"getLLDecisions",null),f=s([c(0,h.NotNull)],f),o.ParseInfo=f},13161:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ParserATNSimulator=void 0;const h=i(52962),f=i(29202),E=i(1533),S=i(95754),A=i(74274),O=i(78880),T=i(43258),_=i(56298),D=i(77037),N=i(5369),R=i(46889),x=i(61405),P=i(38016),M=i(69709),I=i(18240),B=i(7477),F=i(71492),L=i(72399),k=i(33575),j=i(40755),U=i(48055),z=i(41097),q=i(78859),V=i(56409),W=i(30333),$=i(8840),G=i(23334),K=i(32356),Y=i(21384),X=i(84364),J=i(47760),Q=i(67435),Z=i(42613),ee=-2147483648;let te=class ParserATNSimulator extends _.ATNSimulator{constructor(n,o){super(n),this.predictionMode=W.PredictionMode.LL,this.force_global_context=!1,this.always_try_local_context=!0,this.enable_global_context_dfa=!1,this.optimize_unique_closure=!0,this.optimize_ll1=!0,this.optimize_tail_calls=!0,this.tail_call_preserves_sll=!0,this.treat_sllk1_conflict_as_ambiguity=!1,this.reportAmbiguities=!1,this.userWantsCtxSensitive=!0,this._parser=o}getPredictionMode(){return this.predictionMode}setPredictionMode(n){this.predictionMode=n}reset(){}adaptivePredict(n,o,i,s){void 0===s&&(s=!1);let c,h=this.atn.decisionToDFA[o];if(Z(null!=h),this.optimize_ll1&&!h.isPrecedenceDfa&&!h.isEmpty){let i=n.LA(1);if(i>=0&&i<=65535){let n=(o<<16>>>0)+i,s=this.atn.LL1Table.get(n);if(null!=s)return s}}this.dfa=h,this.force_global_context?s=!0:this.always_try_local_context||(s=s||h.isContextSensitive),this.userWantsCtxSensitive=s||this.predictionMode!==W.PredictionMode.SLL&&null!=i&&!this.atn.decisionToState[o].sll,null==i&&(i=z.ParserRuleContext.emptyContext()),h.isEmpty||(c=this.getStartState(h,n,i,s)),null==c&&(null==i&&(i=z.ParserRuleContext.emptyContext()),ParserATNSimulator.debug&&console.log("ATN decision "+h.decision+" exec LA(1)=="+this.getLookaheadName(n)+", outerContext="+i.toString(this._parser)),c=this.computeStartState(h,i,s));let f=n.mark(),E=n.index;try{let o=this.execDFA(h,n,E,c);return ParserATNSimulator.debug&&console.log("DFA after predictATN: "+h.toString(this._parser.vocabulary,this._parser.ruleNames)),o}finally{this.dfa=void 0,n.seek(E),n.release(f)}}getStartState(n,o,i,s){if(!s){if(n.isPrecedenceDfa){let o=n.getPrecedenceStartState(this._parser.precedence,!1);if(null==o)return;return new X.SimulatorState(i,o,!1,i)}if(null==n.s0)return;return new X.SimulatorState(i,n.s0,!1,i)}if(!this.enable_global_context_dfa)return;let c,h=i;for(Z(null!=i),c=n.isPrecedenceDfa?n.getPrecedenceStartState(this._parser.precedence,!0):n.s0full;null!=h&&null!=c&&c.isContextSensitive;)h=this.skipTailCalls(h),c=c.getContextTarget(this.getReturnState(h)),h.isEmpty?Z(null==c||!c.isContextSensitive):h=h.parent;return null!=c?new X.SimulatorState(i,c,s,h):void 0}execDFA(n,o,i,s){let c=s.outerContext;ParserATNSimulator.dfa_debug&&console.log("DFA decision "+n.decision+" exec LA(1)=="+this.getLookaheadName(o)+", outerContext="+c.toString(this._parser)),ParserATNSimulator.dfa_debug&&console.log(n.toString(this._parser.vocabulary,this._parser.ruleNames));let h=s.s0,f=o.LA(1),E=s.remainingOuterContext;for(;;){if(ParserATNSimulator.dfa_debug&&console.log("DFA state "+h.stateNumber+" LA(1)=="+this.getLookaheadName(o)),s.useContext)for(;h.isContextSymbol(f);){let c;if(null!=E&&(E=this.skipTailCalls(E),c=h.getContextTarget(this.getReturnState(E))),null==c){let c=new X.SimulatorState(s.outerContext,h,s.useContext,E);return this.execATN(n,o,i,c)}Z(null!=E),E=E.parent,h=c}if(this.isAcceptState(h,s.useContext)){null!=h.predicates?ParserATNSimulator.dfa_debug&&console.log("accept "+h):ParserATNSimulator.dfa_debug&&console.log("accept; predict "+h.prediction+" in state "+h.stateNumber);break}Z(!this.isAcceptState(h,s.useContext));let S=this.getExistingTargetState(h,f);if(null==S){let S;if(ParserATNSimulator.dfa_debug&&f>=0&&console.log("no edge for "+this._parser.vocabulary.getDisplayName(f)),ParserATNSimulator.dfa_debug){let n=B.Interval.of(i,this._parser.inputStream.index);console.log("ATN exec upon "+this._parser.inputStream.getText(n)+" at DFA state "+h.stateNumber)}let A=new X.SimulatorState(c,h,s.useContext,E);return S=this.execATN(n,o,i,A),ParserATNSimulator.dfa_debug&&console.log("back from DFA update, alt="+S+", dfa=\n"+n.toString(this._parser.vocabulary,this._parser.ruleNames)),ParserATNSimulator.dfa_debug&&console.log("DFA decision "+n.decision+" predicts "+S),S}if(S===_.ATNSimulator.ERROR){let n=new X.SimulatorState(c,h,s.useContext,E);return this.handleNoViableAlt(o,i,n)}h=S,this.isAcceptState(h,s.useContext)||f===F.IntStream.EOF||(o.consume(),f=o.LA(1))}if(!s.useContext&&null!=h.configs.conflictInfo&&n.atnStartState instanceof P.DecisionState&&!(!this.userWantsCtxSensitive||!h.configs.dipsIntoOuterContext&&h.configs.isExactConflict||this.treat_sllk1_conflict_as_ambiguity&&o.index===i)){let f;Z(!s.useContext);let S=h.predicates;if(null!=S){let n=o.index;if(n!==i&&o.seek(i),f=this.evalSemanticContext(S,c,!0),1===f.cardinality())return f.nextSetBit(0);n!==i&&o.seek(n)}if(this.reportAmbiguities){let S=new X.SimulatorState(c,h,s.useContext,E);this.reportAttemptingFullContext(n,f,S,i,o.index)}return o.seek(i),this.adaptivePredict(o,n.decision,c,!0)}let S=h.predicates;if(null!=S){let s=o.index;i!==s&&o.seek(i);let f=this.evalSemanticContext(S,c,this.reportAmbiguities&&this.predictionMode===W.PredictionMode.LL_EXACT_AMBIG_DETECTION);switch(f.cardinality()){case 0:throw this.noViableAlt(o,c,h.configs,i);case 1:return f.nextSetBit(0);default:return i!==s&&o.seek(s),this.reportAmbiguity(n,h,i,s,h.configs.isExactConflict,f,h.configs),f.nextSetBit(0)}}return ParserATNSimulator.dfa_debug&&console.log("DFA decision "+n.decision+" predicts "+h.prediction),h.prediction}isAcceptState(n,o){return!!n.isAcceptState&&(null==n.configs.conflictingAlts||(!o||this.predictionMode!==W.PredictionMode.LL_EXACT_AMBIG_DETECTION||n.configs.isExactConflict))}execATN(n,o,i,s){ParserATNSimulator.debug&&console.log("execATN decision "+n.decision+" exec LA(1)=="+this.getLookaheadName(o));let c=s.outerContext,h=s.useContext,f=o.LA(1),E=s,S=new V.PredictionContextCache;for(;;){let s=this.computeReachSet(n,E,f,S);if(null==s)return this.setDFAEdge(E.s0,o.LA(1),_.ATNSimulator.ERROR),this.handleNoViableAlt(o,i,E);let O=s.s0;if(Z(O.isAcceptState||O.prediction===A.ATN.INVALID_ALT_NUMBER),Z(O.isAcceptState||null==O.configs.conflictInfo),this.isAcceptState(O,h)){let E=O.configs.conflictingAlts,S=null==E?O.prediction:A.ATN.INVALID_ALT_NUMBER;if(S!==A.ATN.INVALID_ALT_NUMBER){if(this.optimize_ll1&&o.index===i&&!n.isPrecedenceDfa&&s.outerContext===s.remainingOuterContext&&n.decision>=0&&!O.configs.hasSemanticContext&&f>=0&&f<=65535){let o=(n.decision<<16>>>0)+f;this.atn.LL1Table.set(o,S)}h&&this.always_try_local_context&&this.reportContextSensitivity(n,S,s,i,o.index)}S=O.prediction;let T=null!=E&&this.userWantsCtxSensitive;if(T&&(T=!h&&(O.configs.dipsIntoOuterContext||!O.configs.isExactConflict)&&(!this.treat_sllk1_conflict_as_ambiguity||o.index!==i)),O.configs.hasSemanticContext){let n=O.predicates;if(null!=n){let s=o.index;switch(s!==i&&o.seek(i),E=this.evalSemanticContext(n,c,T||this.reportAmbiguities),E.cardinality()){case 0:throw this.noViableAlt(o,c,O.configs,i);case 1:return E.nextSetBit(0)}s!==i&&o.seek(s)}}if(T){Z(!h),Z(this.isAcceptState(O,!1)),ParserATNSimulator.debug&&console.log("RETRY with outerContext="+c);let f=this.computeStartState(n,c,!0);return this.reportAmbiguities&&this.reportAttemptingFullContext(n,E,s,i,o.index),o.seek(i),this.execATN(n,o,i,f)}return null!=E&&(this.reportAmbiguities&&E.cardinality()>1&&this.reportAmbiguity(n,O,i,o.index,O.configs.isExactConflict,E,O.configs),S=E.nextSetBit(0)),S}E=s,f!==F.IntStream.EOF&&(o.consume(),f=o.LA(1))}}handleNoViableAlt(n,o,i){if(null!=i.s0){let s=new R.BitSet,c=0;for(let n of i.s0.configs)(n.reachesIntoOuterContext||n.state instanceof $.RuleStopState)&&(s.set(n.alt),c=Math.max(c,n.alt));switch(s.cardinality()){case 0:break;case 1:return s.nextSetBit(0);default:if(!i.s0.configs.hasSemanticContext)return s.nextSetBit(0);let h=new T.ATNConfigSet;for(let n of i.s0.configs)(n.reachesIntoOuterContext||n.state instanceof $.RuleStopState)&&h.add(n);let f=this.getPredsForAmbigAlts(s,h,c);if(null!=f){let c=this.getPredicatePredictions(s,f);if(null!=c){let s=n.index;try{n.seek(o);let s=this.evalSemanticContext(c,i.outerContext,!1);if(!s.isEmpty)return s.nextSetBit(0)}finally{n.seek(s)}}}return s.nextSetBit(0)}}throw this.noViableAlt(n,i.outerContext,i.s0.configs,o)}computeReachSet(n,o,i,s){let c=o.useContext,h=o.remainingOuterContext,f=o.s0;if(c)for(;f.isContextSymbol(i);){let n;if(null!=h&&(h=this.skipTailCalls(h),n=f.getContextTarget(this.getReturnState(h))),null==n)break;Z(null!=h),h=h.parent,f=n}if(Z(!this.isAcceptState(f,c)),this.isAcceptState(f,c))return new X.SimulatorState(o.outerContext,f,c,h);let E=f,S=this.getExistingTargetState(E,i);if(null==S){let o=this.computeTargetState(n,E,h,i,c,s);S=o[0],h=o[1]}return S!==_.ATNSimulator.ERROR?(Z(!c||!S.configs.dipsIntoOuterContext),new X.SimulatorState(o.outerContext,S,c,h)):void 0}getExistingTargetState(n,o){return n.getTarget(o)}computeTargetState(n,o,i,s,c,h){let f,E,S=o.configs.toArray(),O=new T.ATNConfigSet;do{let n=!c||null!=i;n||(O.isOutermostConfigSet=!0);let o,_=new T.ATNConfigSet;for(let n of S){if(ParserATNSimulator.debug&&console.log("testing "+this.getTokenName(s)+" at "+n.toString()),n.state instanceof $.RuleStopState){Z(n.context.isEmpty),(c&&!n.reachesIntoOuterContext||s===F.IntStream.EOF)&&(null==o&&(o=[]),o.push(n));continue}let i=n.state.numberOfOptimizedTransitions;for(let o=0;o<i;o++){let i=n.state.getOptimizedTransition(o),c=this.getReachableTarget(n,i,s);null!=c&&_.add(n.transform(c,!1),h)}}if(this.optimize_unique_closure&&null==o&&s!==J.Token.EOF&&_.uniqueAlt!==A.ATN.INVALID_ALT_NUMBER){_.isOutermostConfigSet=O.isOutermostConfigSet,O=_;break}let D=!1,N=s===J.Token.EOF;if(this.closure(_,O,D,n,h,N),E=O.dipsIntoOuterContext,s===F.IntStream.EOF&&(O=this.removeAllConfigsNotInRuleStopState(O,h)),!(null==o||c&&W.PredictionMode.hasConfigInRuleStopState(O))){Z(o.length>0);for(let n of o)O.add(n,h)}if(c&&E){O.clear(),i=this.skipTailCalls(i);let n=this.getReturnState(i);if(null==f&&(f=new I.IntegerList),i=i.isEmpty?void 0:i.parent,f.add(n),n!==q.PredictionContext.EMPTY_FULL_STATE_KEY)for(let o=0;o<S.length;o++)S[o]=S[o].appendContext(n,h)}}while(c&&E);return O.isEmpty?(this.setDFAEdge(o,s,_.ATNSimulator.ERROR),[_.ATNSimulator.ERROR,i]):[this.addDFAEdge(n,o,s,f,O,h),i]}removeAllConfigsNotInRuleStopState(n,o){if(W.PredictionMode.allConfigsInRuleStopStates(n))return n;let i=new T.ATNConfigSet;for(let s of n)s.state instanceof $.RuleStopState&&i.add(s,o);return i}computeStartState(n,o,i){let s=n.isPrecedenceDfa?n.getPrecedenceStartState(this._parser.precedence,i):i?n.s0full:n.s0;if(null!=s){if(!i)return new X.SimulatorState(o,s,i,o);s.setContextSensitive(this.atn)}n.decision;let c=n.atnStartState,h=0,f=o,E=i?q.PredictionContext.EMPTY_FULL:q.PredictionContext.EMPTY_LOCAL,S=new V.PredictionContextCache;if(i){if(!this.enable_global_context_dfa)for(;null!=f;)f.isEmpty?(h=q.PredictionContext.EMPTY_FULL_STATE_KEY,f=void 0):(h=this.getReturnState(f),E=E.appendSingleContext(h,S),f=f.parent);for(;null!=s&&s.isContextSensitive&&null!=f;){let n;if(f=this.skipTailCalls(f),f.isEmpty?(n=s.getContextTarget(q.PredictionContext.EMPTY_FULL_STATE_KEY),h=q.PredictionContext.EMPTY_FULL_STATE_KEY,f=void 0):(h=this.getReturnState(f),n=s.getContextTarget(h),E=E.appendSingleContext(h,S),f=f.parent),null==n)break;s=n}}if(null!=s&&!s.isContextSensitive)return new X.SimulatorState(o,s,i,f);let A=new T.ATNConfigSet;for(;;){let _=new T.ATNConfigSet,D=c.numberOfTransitions;for(let n=0;n<D;n++){let o=c.transition(n).target;_.add(O.ATNConfig.create(o,n+1,E))}let N=null!=f;N||(A.isOutermostConfigSet=!0);let R=!0;this.closure(_,A,R,N,S,!1);let x,P=A.dipsIntoOuterContext;if(i&&!this.enable_global_context_dfa){s=this.addDFAState(n,A,S);break}if(null==s?n.isPrecedenceDfa?(A=this.applyPrecedenceFilter(A,o,S),x=this.addDFAState(n,A,S),n.setPrecedenceStartState(this._parser.precedence,i,x)):(x=this.addDFAState(n,A,S),i?n.s0full?x=n.s0full:n.s0full=x:n.s0?x=n.s0:n.s0=x):(n.isPrecedenceDfa&&(A=this.applyPrecedenceFilter(A,o,S)),x=this.addDFAState(n,A,S),s.setContextTarget(h,x)),s=x,!i||!P)break;x.setContextSensitive(this.atn),A.clear(),f=this.skipTailCalls(f);let M=this.getReturnState(f);f=f.isEmpty?void 0:f.parent,M!==q.PredictionContext.EMPTY_FULL_STATE_KEY&&(E=E.appendSingleContext(M,S)),h=M}return new X.SimulatorState(o,s,i,f)}applyPrecedenceFilter(n,o,i){let s=new Map,c=new T.ATNConfigSet;for(let h of n){if(1!==h.alt)continue;let n=h.semanticContext.evalPrecedence(this._parser,o);null!=n&&(s.set(h.state.stateNumber,h.context),n!==h.semanticContext?c.add(h.transform(h.state,!1,n),i):c.add(h,i))}for(let o of n)if(1!==o.alt){if(!o.isPrecedenceFilterSuppressed){let n=s.get(o.state.stateNumber);if(null!=n&&n.equals(o.context))continue}c.add(o,i)}return c}getReachableTarget(n,o,i){if(o.matches(i,0,this.atn.maxTokenType))return o.target}predicateDFAState(n,o,i){let s=this.getConflictingAltsFromConfigSet(o);if(!s)throw new Error("This unhandled scenario is intended to be unreachable, but I'm currently not sure of why we know that's the case.");ParserATNSimulator.debug&&console.log("predicateDFAState "+n);let c,h=this.getPredsForAmbigAlts(s,o,i);return null!=h&&(c=this.getPredicatePredictions(s,h),n.predicates=c),c}getPredsForAmbigAlts(n,o,i){let s=new Array(i+1),c=s.length;for(let i of o)n.get(i.alt)&&(s[i.alt]=K.SemanticContext.or(s[i.alt],i.semanticContext));let h=0;for(let n=0;n<c;n++)null==s[n]?s[n]=K.SemanticContext.NONE:s[n]!==K.SemanticContext.NONE&&h++;let f=s;return 0===h&&(f=void 0),ParserATNSimulator.debug&&console.log("getPredsForAmbigAlts result "+(f?S.Arrays.toString(f):"undefined")),f}getPredicatePredictions(n,o){let i=[],s=!1;for(let c=1;c<o.length;c++){let h=o[c];Z(null!=h),null!=n&&n.get(c)&&h===K.SemanticContext.NONE?i.push(new M.DFAState.PredPrediction(h,c)):h!==K.SemanticContext.NONE&&(s=!0,i.push(new M.DFAState.PredPrediction(h,c)))}if(s)return i}evalSemanticContext(n,o,i){let s=new R.BitSet;for(let c of n){if(c.pred===K.SemanticContext.NONE){if(s.set(c.alt),!i)break;continue}let n=this.evalSemanticContextImpl(c.pred,o,c.alt);if((ParserATNSimulator.debug||ParserATNSimulator.dfa_debug)&&console.log("eval pred "+c+"="+n),n&&((ParserATNSimulator.debug||ParserATNSimulator.dfa_debug)&&console.log("PREDICT "+c.alt),s.set(c.alt),!i))break}return s}evalSemanticContextImpl(n,o,i){return n.eval(this._parser,o)}closure(n,o,i,s,c,h){null==c&&(c=V.PredictionContextCache.UNCACHED);let f=n,S=new E.Array2DHashSet(U.ObjectEqualityComparator.INSTANCE);for(;f.size>0;){let n=new T.ATNConfigSet;for(let E of f)this.closureImpl(E,o,n,S,i,s,c,0,h);f=n}}closureImpl(n,o,i,s,c,h,E,S,A){if(ParserATNSimulator.debug&&console.log("closure("+n.toString(this._parser,!0)+")"),n.state instanceof $.RuleStopState)if(n.context.isEmpty){if(!h)return void o.add(n,E);ParserATNSimulator.debug&&console.log("FALLING off rule "+this.getRuleName(n.state.ruleIndex)),n.context===q.PredictionContext.EMPTY_FULL?n=n.transform(n.state,!1,q.PredictionContext.EMPTY_LOCAL):!n.reachesIntoOuterContext&&q.PredictionContext.isEmptyLocal(n.context)&&o.add(n,E)}else{let f=n.context.hasEmpty,T=n.context.size-(f?1:0);for(let f=0;f<T;f++){let T=n.context.getParent(f),_=this.atn.states[n.context.getReturnState(f)],D=O.ATNConfig.create(_,n.alt,T,n.semanticContext);D.outerContextDepth=n.outerContextDepth,D.isPrecedenceFilterSuppressed=n.isPrecedenceFilterSuppressed,Z(S>ee),this.closureImpl(D,o,i,s,c,h,E,S-1,A)}if(!f||!h)return;n=n.transform(n.state,!1,q.PredictionContext.EMPTY_LOCAL)}let T=n.state;T.onlyHasEpsilonTransitions||(o.add(n,E),ParserATNSimulator.debug&&console.log("added config "+o));for(let O=0;O<T.numberOfOptimizedTransitions;O++){if(0===O&&T.stateType===D.ATNStateType.STAR_LOOP_ENTRY&&T.precedenceRuleDecision&&!n.context.hasEmpty){let o=T,i=!0;for(let s=0;s<n.context.size;s++)if(!o.precedenceLoopbackStates.get(n.context.getReturnState(s))){i=!1;break}if(i)continue}let _=T.getOptimizedTransition(O),N=!(_ instanceof f.ActionTransition)&&c,R=this.getEpsilonTarget(n,_,N,0===S,E,A);if(null!=R){if(_ instanceof G.RuleTransition&&null!=i&&!c){i.add(R,E);continue}let f=S;if(n.state instanceof $.RuleStopState){if(null!=this.dfa&&this.dfa.isPrecedenceDfa){_.outermostPrecedenceReturn===this.dfa.atnStartState.ruleIndex&&(R.isPrecedenceFilterSuppressed=!0)}if(R.outerContextDepth=R.outerContextDepth+1,!s.add(R))continue;Z(f>ee),f--,ParserATNSimulator.debug&&console.log("dips into outer ctx: "+R)}else if(_ instanceof G.RuleTransition)!this.optimize_tail_calls||!_.optimizedTailCall||this.tail_call_preserves_sll&&q.PredictionContext.isEmptyLocal(n.context)?f>=0&&f++:(Z(R.context===n.context),0===f&&(f--,!this.tail_call_preserves_sll&&q.PredictionContext.isEmptyLocal(n.context)&&(R.outerContextDepth=R.outerContextDepth+1)));else if(!_.isEpsilon&&!s.add(R))continue;this.closureImpl(R,o,i,s,N,h,E,f,A)}}}getRuleName(n){return null!=this._parser&&n>=0?this._parser.ruleNames[n]:"<rule "+n+">"}getEpsilonTarget(n,o,i,s,c,h){switch(o.serializationType){case 3:return this.ruleTransition(n,o,c);case 10:return this.precedenceTransition(n,o,i,s);case 4:return this.predTransition(n,o,i,s);case 6:return this.actionTransition(n,o);case 1:return n.transform(o.target,!1);case 5:case 2:case 7:return h&&o.matches(J.Token.EOF,0,1)?n.transform(o.target,!1):void 0;default:return}}actionTransition(n,o){return ParserATNSimulator.debug&&console.log("ACTION edge "+o.ruleIndex+":"+o.actionIndex),n.transform(o.target,!1)}precedenceTransition(n,o,i,s){let c;if(ParserATNSimulator.debug&&(console.log("PRED (collectPredicates="+i+") "+o.precedence+">=_p, ctx dependent=true"),null!=this._parser&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack())),i&&s){let i=K.SemanticContext.and(n.semanticContext,o.predicate);c=n.transform(o.target,!1,i)}else c=n.transform(o.target,!1);return ParserATNSimulator.debug&&console.log("config from pred transition="+c),c}predTransition(n,o,i,s){let c;if(ParserATNSimulator.debug&&(console.log("PRED (collectPredicates="+i+") "+o.ruleIndex+":"+o.predIndex+", ctx dependent="+o.isCtxDependent),null!=this._parser&&console.log("context surrounding pred is "+this._parser.getRuleInvocationStack())),i&&(!o.isCtxDependent||o.isCtxDependent&&s)){let i=K.SemanticContext.and(n.semanticContext,o.predicate);c=n.transform(o.target,!1,i)}else c=n.transform(o.target,!1);return ParserATNSimulator.debug&&console.log("config from pred transition="+c),c}ruleTransition(n,o,i){ParserATNSimulator.debug&&console.log("CALL rule "+this.getRuleName(o.target.ruleIndex)+", ctx="+n.context);let s,c=o.followState;return s=!this.optimize_tail_calls||!o.optimizedTailCall||this.tail_call_preserves_sll&&q.PredictionContext.isEmptyLocal(n.context)?null!=i?i.getChild(n.context,c.stateNumber):n.context.getChild(c.stateNumber):n.context,n.transform(o.target,!1,s)}isConflicted(n,o){if(n.uniqueAlt!==A.ATN.INVALID_ALT_NUMBER||n.size<=1)return;let i=n.toArray();i.sort(ParserATNSimulator.STATE_ALT_SORT_COMPARATOR);let s=!n.dipsIntoOuterContext,c=new R.BitSet,h=i[0].alt;c.set(h);let f,E=i[0].state.nonStopStateNumber;for(let n of i){let o=n.state.nonStopStateNumber;if(o!==E){if(n.alt!==h)return;E=o}}if(s){E=i[0].state.nonStopStateNumber,f=new R.BitSet;let n=h;for(let o of i){if(o.state.nonStopStateNumber!==E)break;let i=o.alt;f.set(i),n=i}E=i[0].state.nonStopStateNumber;let o=h;for(let c of i){let i=c.state.nonStopStateNumber,S=c.alt;if(i!==E){if(o!==n){s=!1;break}E=i,o=h}else if(S!==o){if(S!==f.nextSetBit(o+1)){s=!1;break}o=S}}}E=i[0].state.nonStopStateNumber;let S=0,O=0,T=i[0].context;for(let n=1;n<i.length;n++){let s=i[n];if(s.alt!==h)break;if(s.state.nonStopStateNumber!==E)break;O=n,T=o.join(T,i[n].context)}for(let n=O+1;n<i.length;n++){let f=i[n],A=f.state;if(c.set(f.alt),A.nonStopStateNumber!==E){E=A.nonStopStateNumber,S=n,O=n,T=f.context;for(let n=S+1;n<i.length;n++){let s=i[n];if(s.alt!==h)break;if(s.state.nonStopStateNumber!==E)break;O=n,T=o.join(T,s.context)}n=O;continue}let _=f.context,D=f.alt,N=n;for(let n=N+1;n<i.length;n++){let s=i[n];if(s.alt!==D)break;if(s.state.nonStopStateNumber!==E)break;N=n,_=o.join(_,s.context)}n=N;let R=o.join(T,_);if(!T.equals(R))return;s=s&&T.equals(_)}return new x.ConflictInfo(c,s)}getConflictingAltsFromConfigSet(n){let o=n.conflictingAlts;return null==o&&n.uniqueAlt!==A.ATN.INVALID_ALT_NUMBER&&(o=new R.BitSet,o.set(n.uniqueAlt)),o}getTokenName(n){if(n===J.Token.EOF)return"EOF";let o=(null!=this._parser?this._parser.vocabulary:Q.VocabularyImpl.EMPTY_VOCABULARY).getDisplayName(n);return o===String(n)?o:o+"<"+n+">"}getLookaheadName(n){return this.getTokenName(n.LA(1))}dumpDeadEndConfigs(n){console.log("dead end configs: ");let o=n.deadEndConfigs;if(o)for(let n of o){let o="no edges";if(n.state.numberOfOptimizedTransitions>0){let i=n.state.getOptimizedTransition(0);if(i instanceof N.AtomTransition)o="Atom "+this.getTokenName(i._label);else if(i instanceof Y.SetTransition){o=(i instanceof k.NotSetTransition?"~":"")+"Set "+i.set.toString()}}console.log(n.toString(this._parser,!0)+":"+o)}}noViableAlt(n,o,i,s){return new j.NoViableAltException(this._parser,n,n.get(s),n.LT(1),i,o)}getUniqueAlt(n){let o=A.ATN.INVALID_ALT_NUMBER;for(let i of n)if(o===A.ATN.INVALID_ALT_NUMBER)o=i.alt;else if(i.alt!==o)return A.ATN.INVALID_ALT_NUMBER;return o}configWithAltAtStopState(n,o){for(let i of n)if(i.alt===o&&i.state instanceof $.RuleStopState)return!0;return!1}addDFAEdge(n,o,i,s,c,h){Z(null==s||s.isEmpty||n.isContextSensitive);let f=o,E=this.addDFAState(n,c,h);if(null!=s)for(let o of s.toArray()){if(o===q.PredictionContext.EMPTY_FULL_STATE_KEY&&f.configs.isOutermostConfigSet)continue;f.setContextSensitive(this.atn),f.setContextSymbol(i);let s=f.getContextTarget(o);null==s?(s=this.addDFAContextState(n,f.configs,o,h),Z(o!==q.PredictionContext.EMPTY_FULL_STATE_KEY||s.configs.isOutermostConfigSet),f.setContextTarget(o,s),f=s):f=s}return ParserATNSimulator.debug&&console.log("EDGE "+f+" -> "+E+" upon "+this.getTokenName(i)),this.setDFAEdge(f,i,E),ParserATNSimulator.debug&&console.log("DFA=\n"+n.toString(null!=this._parser?this._parser.vocabulary:Q.VocabularyImpl.EMPTY_VOCABULARY,null!=this._parser?this._parser.ruleNames:void 0)),E}setDFAEdge(n,o,i){null!=n&&n.setTarget(o,i)}addDFAContextState(n,o,i,s){if(i!==q.PredictionContext.EMPTY_FULL_STATE_KEY){let c=new T.ATNConfigSet;for(let n of o)c.add(n.appendContext(i,s));return this.addDFAState(n,c,s)}return Z(!o.isOutermostConfigSet,"Shouldn't be adding a duplicate edge."),(o=o.clone(!0)).isOutermostConfigSet=!0,this.addDFAState(n,o,s)}addDFAState(n,o,i){let s=this.enable_global_context_dfa||!o.isOutermostConfigSet;if(s){o.isReadOnly||o.optimizeConfigs(this);let i=this.createDFAState(n,o),s=n.states.get(i);if(null!=s)return s}o.isReadOnly||null==o.conflictInfo&&(o.conflictInfo=this.isConflicted(o,i));let c=this.createDFAState(n,o.clone(!0)),f=this.atn.getDecisionState(n.decision),E=this.getUniqueAlt(o);if(E!==A.ATN.INVALID_ALT_NUMBER)c.acceptStateInfo=new h.AcceptStateInfo(E);else if(null!=o.conflictingAlts){let n=o.conflictingAlts;n&&(c.acceptStateInfo=new h.AcceptStateInfo(n.nextSetBit(0)))}if(c.isAcceptState&&o.hasSemanticContext&&this.predicateDFAState(c,o,f.numberOfTransitions),!s)return c;let S=n.addState(c);return ParserATNSimulator.debug&&S===c&&console.log("adding new DFA state: "+c),S}createDFAState(n,o){return new M.DFAState(o)}reportAttemptingFullContext(n,o,i,s,c){if(ParserATNSimulator.debug||ParserATNSimulator.retry_debug){let o=B.Interval.of(s,c);console.log("reportAttemptingFullContext decision="+n.decision+":"+i.s0.configs+", input="+this._parser.inputStream.getText(o))}if(null!=this._parser){let h=this._parser.getErrorListenerDispatch();h.reportAttemptingFullContext&&h.reportAttemptingFullContext(this._parser,n,s,c,o,i)}}reportContextSensitivity(n,o,i,s,c){if(ParserATNSimulator.debug||ParserATNSimulator.retry_debug){let o=B.Interval.of(s,c);console.log("reportContextSensitivity decision="+n.decision+":"+i.s0.configs+", input="+this._parser.inputStream.getText(o))}if(null!=this._parser){let h=this._parser.getErrorListenerDispatch();h.reportContextSensitivity&&h.reportContextSensitivity(this._parser,n,s,c,o,i)}}reportAmbiguity(n,o,i,s,c,h,f){if(ParserATNSimulator.debug||ParserATNSimulator.retry_debug){let n=B.Interval.of(i,s);console.log("reportAmbiguity "+h+":"+f+", input="+this._parser.inputStream.getText(n))}if(null!=this._parser){let o=this._parser.getErrorListenerDispatch();o.reportAmbiguity&&o.reportAmbiguity(this._parser,n,i,s,c,h,f)}}getReturnState(n){if(n.isEmpty)return q.PredictionContext.EMPTY_FULL_STATE_KEY;return this.atn.states[n.invokingState].transition(0).followState.stateNumber}skipTailCalls(n){if(!this.optimize_tail_calls)return n;for(;!n.isEmpty;){let o=this.atn.states[n.invokingState];if(Z(1===o.numberOfTransitions&&3===o.transition(0).serializationType),!o.transition(0).tailCall)break;n=n.parent}return n}get parser(){return this._parser}};te.debug=!1,te.dfa_debug=!1,te.retry_debug=!1,te.STATE_ALT_SORT_COMPARATOR=(n,o)=>{let i=n.state.nonStopStateNumber-o.state.nonStopStateNumber;return 0!==i?i:(i=n.alt-o.alt,0!==i?i:0)},s([L.NotNull],te.prototype,"predictionMode",void 0),s([L.NotNull],te.prototype,"getPredictionMode",null),s([c(0,L.NotNull)],te.prototype,"setPredictionMode",null),s([L.Override],te.prototype,"reset",null),s([c(0,L.NotNull)],te.prototype,"adaptivePredict",null),s([c(0,L.NotNull),c(1,L.NotNull),c(2,L.NotNull)],te.prototype,"getStartState",null),s([c(0,L.NotNull),c(1,L.NotNull),c(3,L.NotNull)],te.prototype,"execDFA",null),s([c(0,L.NotNull),c(1,L.NotNull),c(3,L.NotNull)],te.prototype,"execATN",null),s([c(0,L.NotNull),c(2,L.NotNull)],te.prototype,"handleNoViableAlt",null),s([c(0,L.NotNull)],te.prototype,"getExistingTargetState",null),s([L.NotNull,c(0,L.NotNull),c(1,L.NotNull)],te.prototype,"computeTargetState",null),s([L.NotNull,c(0,L.NotNull)],te.prototype,"removeAllConfigsNotInRuleStopState",null),s([L.NotNull],te.prototype,"computeStartState",null),s([L.NotNull,c(0,L.NotNull)],te.prototype,"applyPrecedenceFilter",null),s([c(0,L.NotNull),c(1,L.NotNull)],te.prototype,"getReachableTarget",null),s([c(0,L.NotNull),c(1,L.NotNull)],te.prototype,"getPredsForAmbigAlts",null),s([c(0,L.NotNull)],te.prototype,"evalSemanticContext",null),s([c(0,L.NotNull)],te.prototype,"evalSemanticContextImpl",null),s([c(1,L.NotNull),c(4,L.Nullable)],te.prototype,"closure",null),s([c(0,L.NotNull),c(1,L.NotNull),c(2,L.Nullable),c(3,L.NotNull),c(6,L.NotNull)],te.prototype,"closureImpl",null),s([L.NotNull],te.prototype,"getRuleName",null),s([c(0,L.NotNull),c(1,L.NotNull)],te.prototype,"getEpsilonTarget",null),s([L.NotNull,c(0,L.NotNull),c(1,L.NotNull)],te.prototype,"actionTransition",null),s([L.Nullable,c(0,L.NotNull),c(1,L.NotNull)],te.prototype,"precedenceTransition",null),s([L.Nullable,c(0,L.NotNull),c(1,L.NotNull)],te.prototype,"predTransition",null),s([L.NotNull,c(0,L.NotNull),c(1,L.NotNull),c(2,L.Nullable)],te.prototype,"ruleTransition",null),s([c(0,L.NotNull)],te.prototype,"isConflicted",null),s([L.NotNull],te.prototype,"getTokenName",null),s([c(0,L.NotNull)],te.prototype,"dumpDeadEndConfigs",null),s([L.NotNull,c(0,L.NotNull),c(1,L.NotNull),c(2,L.NotNull)],te.prototype,"noViableAlt",null),s([c(0,L.NotNull)],te.prototype,"getUniqueAlt",null),s([c(0,L.NotNull)],te.prototype,"configWithAltAtStopState",null),s([L.NotNull,c(0,L.NotNull),c(1,L.NotNull),c(4,L.NotNull)],te.prototype,"addDFAEdge",null),s([c(0,L.Nullable),c(2,L.Nullable)],te.prototype,"setDFAEdge",null),s([L.NotNull,c(0,L.NotNull),c(1,L.NotNull)],te.prototype,"addDFAContextState",null),s([L.NotNull,c(0,L.NotNull),c(1,L.NotNull)],te.prototype,"addDFAState",null),s([L.NotNull,c(0,L.NotNull),c(1,L.NotNull)],te.prototype,"createDFAState",null),s([c(0,L.NotNull),c(2,L.NotNull)],te.prototype,"reportAttemptingFullContext",null),s([c(0,L.NotNull),c(2,L.NotNull)],te.prototype,"reportContextSensitivity",null),s([c(0,L.NotNull),c(5,L.NotNull),c(6,L.NotNull)],te.prototype,"reportAmbiguity",null),te=s([c(0,L.NotNull)],te),o.ParserATNSimulator=te},64891:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.PlusBlockStartState=void 0;const c=i(77037),h=i(93099),f=i(72399);class PlusBlockStartState extends h.BlockStartState{get stateType(){return c.ATNStateType.PLUS_BLOCK_START}}s([f.Override],PlusBlockStartState.prototype,"stateType",null),o.PlusBlockStartState=PlusBlockStartState},66305:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.PlusLoopbackState=void 0;const c=i(77037),h=i(38016),f=i(72399);class PlusLoopbackState extends h.DecisionState{get stateType(){return c.ATNStateType.PLUS_LOOP_BACK}}s([f.Override],PlusLoopbackState.prototype,"stateType",null),o.PlusLoopbackState=PlusLoopbackState},66061:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.PrecedencePredicateTransition=void 0;const h=i(58939),f=i(72399),E=i(32356);let S=class PrecedencePredicateTransition extends h.AbstractPredicateTransition{constructor(n,o){super(n),this.precedence=o}get serializationType(){return 10}get isEpsilon(){return!0}matches(n,o,i){return!1}get predicate(){return new E.SemanticContext.PrecedencePredicate(this.precedence)}toString(){return this.precedence+" >= _p"}};s([f.Override],S.prototype,"serializationType",null),s([f.Override],S.prototype,"isEpsilon",null),s([f.Override],S.prototype,"matches",null),s([f.Override],S.prototype,"toString",null),S=s([c(0,f.NotNull)],S),o.PrecedencePredicateTransition=S},97004:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.PredicateEvalInfo=void 0;const h=i(71173),f=i(72399);let E=class PredicateEvalInfo extends h.DecisionEventInfo{constructor(n,o,i,s,c,h,f,E){super(o,n,i,s,c,n.useContext),this.semctx=h,this.evalResult=f,this.predictedAlt=E}};E=s([c(0,f.NotNull),c(2,f.NotNull),c(5,f.NotNull)],E),o.PredicateEvalInfo=E},6369:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.PredicateTransition=void 0;const h=i(58939),f=i(72399),E=i(32356);let S=class PredicateTransition extends h.AbstractPredicateTransition{constructor(n,o,i,s){super(n),this.ruleIndex=o,this.predIndex=i,this.isCtxDependent=s}get serializationType(){return 4}get isEpsilon(){return!0}matches(n,o,i){return!1}get predicate(){return new E.SemanticContext.Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)}toString(){return"pred_"+this.ruleIndex+":"+this.predIndex}};s([f.Override],S.prototype,"serializationType",null),s([f.Override],S.prototype,"isEpsilon",null),s([f.Override],S.prototype,"matches",null),s([f.Override,f.NotNull],S.prototype,"toString",null),S=s([c(0,f.NotNull)],S),o.PredicateTransition=S},78859:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SingletonPredictionContext=o.PredictionContext=void 0;const h=i(73907),f=i(1533),E=i(95754),S=i(75636),A=i(72399),O=i(56409),T=i(42613);class PredictionContext{constructor(n){this.cachedHashCode=n}static calculateEmptyHashCode(){let n=S.MurmurHash.initialize(1);return n=S.MurmurHash.finish(n,0),n}static calculateSingleHashCode(n,o){let i=S.MurmurHash.initialize(1);return i=S.MurmurHash.update(i,n),i=S.MurmurHash.update(i,o),i=S.MurmurHash.finish(i,2),i}static calculateHashCode(n,o){let i=S.MurmurHash.initialize(1);for(let o of n)i=S.MurmurHash.update(i,o);for(let n of o)i=S.MurmurHash.update(i,n);return i=S.MurmurHash.finish(i,2*n.length),i}static fromRuleContext(n,o,i=!0){if(o.isEmpty)return i?PredictionContext.EMPTY_FULL:PredictionContext.EMPTY_LOCAL;let s;s=o._parent?PredictionContext.fromRuleContext(n,o._parent,i):i?PredictionContext.EMPTY_FULL:PredictionContext.EMPTY_LOCAL;let c=n.states[o.invokingState].transition(0);return s.getChild(c.followState.stateNumber)}static addEmptyContext(n){return n.addEmptyContext()}static removeEmptyContext(n){return n.removeEmptyContext()}static join(n,o,i=O.PredictionContextCache.UNCACHED){if(n===o)return n;if(n.isEmpty)return PredictionContext.isEmptyLocal(n)?n:PredictionContext.addEmptyContext(o);if(o.isEmpty)return PredictionContext.isEmptyLocal(o)?o:PredictionContext.addEmptyContext(n);let s=n.size,c=o.size;if(1===s&&1===c&&n.getReturnState(0)===o.getReturnState(0)){let s=i.join(n.getParent(0),o.getParent(0));return s===n.getParent(0)?n:s===o.getParent(0)?o:s.getChild(n.getReturnState(0))}let h=0,f=new Array(s+c),E=new Array(f.length),S=0,A=0,N=!0,R=!0;for(;S<s&&A<c;)n.getReturnState(S)===o.getReturnState(A)?(f[h]=i.join(n.getParent(S),o.getParent(A)),E[h]=n.getReturnState(S),N=N&&f[h]===n.getParent(S),R=R&&f[h]===o.getParent(A),S++,A++):n.getReturnState(S)<o.getReturnState(A)?(f[h]=n.getParent(S),E[h]=n.getReturnState(S),R=!1,S++):(T(o.getReturnState(A)<n.getReturnState(S)),f[h]=o.getParent(A),E[h]=o.getReturnState(A),N=!1,A++),h++;for(;S<s;)f[h]=n.getParent(S),E[h]=n.getReturnState(S),S++,R=!1,h++;for(;A<c;)f[h]=o.getParent(A),E[h]=o.getReturnState(A),A++,N=!1,h++;return N?n:R?o:(h<f.length&&(f=f.slice(0,h),E=E.slice(0,h)),0===f.length?PredictionContext.EMPTY_FULL:1===f.length?new D(f[0],E[0]):new _(f,E))}static isEmptyLocal(n){return n===PredictionContext.EMPTY_LOCAL}static getCachedContext(n,o,i){if(n.isEmpty)return n;let s=i.get(n);if(s)return s;if(s=o.get(n),s)return i.put(n,s),s;let c,h=!1,f=new Array(n.size);for(let s=0;s<f.length;s++){let c=PredictionContext.getCachedContext(n.getParent(s),o,i);if(h||c!==n.getParent(s)){if(!h){f=new Array(n.size);for(let o=0;o<n.size;o++)f[o]=n.getParent(o);h=!0}f[s]=c}}if(!h)return s=o.putIfAbsent(n,n),i.put(n,null!=s?s:n),n;if(1===f.length)c=new D(f[0],n.getReturnState(0));else{let o=new Array(n.size);for(let i=0;i<n.size;i++)o[i]=n.getReturnState(i);c=new _(f,o,n.hashCode())}return s=o.putIfAbsent(c,c),i.put(c,s||c),i.put(n,s||c),c}appendSingleContext(n,o){return this.appendContext(PredictionContext.EMPTY_FULL.getChild(n),o)}getChild(n){return new D(this,n)}hashCode(){return this.cachedHashCode}toStrings(n,o,i=PredictionContext.EMPTY_FULL){let s=[];e:for(let c=0;;c++){let h=0,f=!0,E=this,S=o,A="";for(A+="[";!E.isEmpty&&E!==i;){let o=0;if(E.size>0){let n=1;for(;1<<n>>>0<E.size;)n++;if(o=c>>h&(1<<n>>>0)-1,f=f&&o>=E.size-1,o>=E.size)continue e;h+=n}if(n){A.length>1&&(A+=" ");let o=n.atn.states[S];A+=n.ruleNames[o.ruleIndex]}else E.getReturnState(o)!==PredictionContext.EMPTY_FULL_STATE_KEY&&(E.isEmpty||(A.length>1&&(A+=" "),A+=E.getReturnState(o)));S=E.getReturnState(o),E=E.getParent(o)}if(A+="]",s.push(A),f)break}return s}}s([A.Override],PredictionContext.prototype,"hashCode",null),s([c(0,A.NotNull),c(1,A.NotNull),c(2,A.NotNull)],PredictionContext,"join",null),s([c(0,A.NotNull),c(1,A.NotNull),c(2,A.NotNull)],PredictionContext,"getCachedContext",null),o.PredictionContext=PredictionContext;class EmptyPredictionContext extends PredictionContext{constructor(n){super(PredictionContext.calculateEmptyHashCode()),this.fullContext=n}get isFullContext(){return this.fullContext}addEmptyContext(){return this}removeEmptyContext(){throw new Error("Cannot remove the empty context from itself.")}getParent(n){throw new Error("index out of bounds")}getReturnState(n){throw new Error("index out of bounds")}findReturnState(n){return-1}get size(){return 0}appendSingleContext(n,o){return o.getChild(this,n)}appendContext(n,o){return n}get isEmpty(){return!0}get hasEmpty(){return!0}equals(n){return this===n}toStrings(n,o,i){return["[]"]}}s([A.Override],EmptyPredictionContext.prototype,"addEmptyContext",null),s([A.Override],EmptyPredictionContext.prototype,"removeEmptyContext",null),s([A.Override],EmptyPredictionContext.prototype,"getParent",null),s([A.Override],EmptyPredictionContext.prototype,"getReturnState",null),s([A.Override],EmptyPredictionContext.prototype,"findReturnState",null),s([A.Override],EmptyPredictionContext.prototype,"size",null),s([A.Override],EmptyPredictionContext.prototype,"appendSingleContext",null),s([A.Override],EmptyPredictionContext.prototype,"appendContext",null),s([A.Override],EmptyPredictionContext.prototype,"isEmpty",null),s([A.Override],EmptyPredictionContext.prototype,"hasEmpty",null),s([A.Override],EmptyPredictionContext.prototype,"equals",null),s([A.Override],EmptyPredictionContext.prototype,"toStrings",null);let _=class ArrayPredictionContext extends PredictionContext{constructor(n,o,i){super(i||PredictionContext.calculateHashCode(n,o)),T(n.length===o.length),T(o.length>1||o[0]!==PredictionContext.EMPTY_FULL_STATE_KEY,"Should be using PredictionContext.EMPTY instead."),this.parents=n,this.returnStates=o}getParent(n){return this.parents[n]}getReturnState(n){return this.returnStates[n]}findReturnState(n){return E.Arrays.binarySearch(this.returnStates,n)}get size(){return this.returnStates.length}get isEmpty(){return!1}get hasEmpty(){return this.returnStates[this.returnStates.length-1]===PredictionContext.EMPTY_FULL_STATE_KEY}addEmptyContext(){if(this.hasEmpty)return this;let n=this.parents.slice(0),o=this.returnStates.slice(0);return n.push(PredictionContext.EMPTY_FULL),o.push(PredictionContext.EMPTY_FULL_STATE_KEY),new ArrayPredictionContext(n,o)}removeEmptyContext(){if(!this.hasEmpty)return this;if(2===this.returnStates.length)return new D(this.parents[0],this.returnStates[0]);{let n=this.parents.slice(0,this.parents.length-1),o=this.returnStates.slice(0,this.returnStates.length-1);return new ArrayPredictionContext(n,o)}}appendContext(n,o){return ArrayPredictionContext.appendContextImpl(this,n,new PredictionContext.IdentityHashMap)}static appendContextImpl(n,o,i){if(o.isEmpty){if(PredictionContext.isEmptyLocal(o)){if(n.hasEmpty)return PredictionContext.EMPTY_LOCAL;throw new Error("what to do here?")}return n}if(1!==o.size)throw new Error("Appending a tree suffix is not yet supported.");let s=i.get(n);if(!s){if(n.isEmpty)s=o;else{let c=n.size;n.hasEmpty&&c--;let h=new Array(c),f=new Array(c);for(let o=0;o<c;o++)f[o]=n.getReturnState(o);for(let s=0;s<c;s++)h[s]=ArrayPredictionContext.appendContextImpl(n.getParent(s),o,i);1===h.length?s=new D(h[0],f[0]):(T(h.length>1),s=new ArrayPredictionContext(h,f)),n.hasEmpty&&(s=PredictionContext.join(s,o))}i.put(n,s)}return s}equals(n){if(this===n)return!0;if(!(n instanceof ArrayPredictionContext))return!1;if(this.hashCode()!==n.hashCode())return!1;let o=n;return this.equalsImpl(o,new f.Array2DHashSet)}equalsImpl(n,o){let i=[],s=[];for(i.push(this),s.push(n);;){let n=i.pop(),c=s.pop();if(!n||!c)break;let h=new O.PredictionContextCache.IdentityCommutativePredictionContextOperands(n,c);if(!o.add(h))continue;let f=h.x.size;if(0!==f){if(f!==h.y.size)return!1;for(let n=0;n<f;n++){if(h.x.getReturnState(n)!==h.y.getReturnState(n))return!1;let o=h.x.getParent(n),c=h.y.getParent(n);if(o.hashCode()!==c.hashCode())return!1;o!==c&&(i.push(o),s.push(c))}}else if(!h.x.equals(h.y))return!1}return!0}};s([A.NotNull],_.prototype,"parents",void 0),s([A.NotNull],_.prototype,"returnStates",void 0),s([A.Override],_.prototype,"getParent",null),s([A.Override],_.prototype,"getReturnState",null),s([A.Override],_.prototype,"findReturnState",null),s([A.Override],_.prototype,"size",null),s([A.Override],_.prototype,"isEmpty",null),s([A.Override],_.prototype,"hasEmpty",null),s([A.Override],_.prototype,"addEmptyContext",null),s([A.Override],_.prototype,"removeEmptyContext",null),s([A.Override],_.prototype,"appendContext",null),s([A.Override],_.prototype,"equals",null),_=s([c(0,A.NotNull)],_);let D=class SingletonPredictionContext extends PredictionContext{constructor(n,o){super(PredictionContext.calculateSingleHashCode(n,o)),this.parent=n,this.returnState=o}getParent(n){return this.parent}getReturnState(n){return this.returnState}findReturnState(n){return this.returnState===n?0:-1}get size(){return 1}get isEmpty(){return!1}get hasEmpty(){return!1}appendContext(n,o){return o.getChild(this.parent.appendContext(n,o),this.returnState)}addEmptyContext(){let n=[this.parent,PredictionContext.EMPTY_FULL],o=[this.returnState,PredictionContext.EMPTY_FULL_STATE_KEY];return new _(n,o)}removeEmptyContext(){return this}equals(n){if(n===this)return!0;if(!(n instanceof SingletonPredictionContext))return!1;let o=n;return this.hashCode()===o.hashCode()&&(this.returnState===o.returnState&&this.parent.equals(o.parent))}};s([A.NotNull],D.prototype,"parent",void 0),s([A.Override],D.prototype,"getParent",null),s([A.Override],D.prototype,"getReturnState",null),s([A.Override],D.prototype,"findReturnState",null),s([A.Override],D.prototype,"size",null),s([A.Override],D.prototype,"isEmpty",null),s([A.Override],D.prototype,"hasEmpty",null),s([A.Override],D.prototype,"appendContext",null),s([A.Override],D.prototype,"addEmptyContext",null),s([A.Override],D.prototype,"removeEmptyContext",null),s([A.Override],D.prototype,"equals",null),D=s([c(0,A.NotNull)],D),o.SingletonPredictionContext=D,function(n){n.EMPTY_LOCAL=new EmptyPredictionContext(!1),n.EMPTY_FULL=new EmptyPredictionContext(!0),n.EMPTY_LOCAL_STATE_KEY=-2147483648,n.EMPTY_FULL_STATE_KEY=2147483647;class IdentityHashMap extends h.Array2DHashMap{constructor(){super(IdentityEqualityComparator.INSTANCE)}}n.IdentityHashMap=IdentityHashMap;class IdentityEqualityComparator{IdentityEqualityComparator(){}hashCode(n){return n.hashCode()}equals(n,o){return n===o}}IdentityEqualityComparator.INSTANCE=new IdentityEqualityComparator,s([A.Override],IdentityEqualityComparator.prototype,"hashCode",null),s([A.Override],IdentityEqualityComparator.prototype,"equals",null),n.IdentityEqualityComparator=IdentityEqualityComparator}(PredictionContext=o.PredictionContext||(o.PredictionContext={}))},56409:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.PredictionContextCache=void 0;const c=i(73907),h=i(72399),f=i(48055),E=i(78859),S=i(42613);class PredictionContextCache{constructor(n=!0){this.contexts=new c.Array2DHashMap(f.ObjectEqualityComparator.INSTANCE),this.childContexts=new c.Array2DHashMap(f.ObjectEqualityComparator.INSTANCE),this.joinContexts=new c.Array2DHashMap(f.ObjectEqualityComparator.INSTANCE),this.enableCache=n}getAsCached(n){if(!this.enableCache)return n;let o=this.contexts.get(n);return o||(o=n,this.contexts.put(n,n)),o}getChild(n,o){if(!this.enableCache)return n.getChild(o);let i=new PredictionContextCache.PredictionContextAndInt(n,o),s=this.childContexts.get(i);return s||(s=n.getChild(o),s=this.getAsCached(s),this.childContexts.put(i,s)),s}join(n,o){if(!this.enableCache)return E.PredictionContext.join(n,o,this);let i=new PredictionContextCache.IdentityCommutativePredictionContextOperands(n,o),s=this.joinContexts.get(i);return s||(s=E.PredictionContext.join(n,o,this),s=this.getAsCached(s),this.joinContexts.put(i,s),s)}}o.PredictionContextCache=PredictionContextCache,PredictionContextCache.UNCACHED=new PredictionContextCache(!1),function(n){class PredictionContextAndInt{constructor(n,o){this.obj=n,this.value=o}equals(n){if(!(n instanceof PredictionContextAndInt))return!1;if(n===this)return!0;let o=n;return this.value===o.value&&(this.obj===o.obj||null!=this.obj&&this.obj.equals(o.obj))}hashCode(){let n=5;return n=7*n+(null!=this.obj?this.obj.hashCode():0),n=7*n+this.value,n}}s([h.Override],PredictionContextAndInt.prototype,"equals",null),s([h.Override],PredictionContextAndInt.prototype,"hashCode",null),n.PredictionContextAndInt=PredictionContextAndInt;class IdentityCommutativePredictionContextOperands{constructor(n,o){S(null!=n),S(null!=o),this._x=n,this._y=o}get x(){return this._x}get y(){return this._y}equals(n){if(!(n instanceof IdentityCommutativePredictionContextOperands))return!1;if(this===n)return!0;let o=n;return this._x===o._x&&this._y===o._y||this._x===o._y&&this._y===o._x}hashCode(){return this._x.hashCode()^this._y.hashCode()}}s([h.Override],IdentityCommutativePredictionContextOperands.prototype,"equals",null),s([h.Override],IdentityCommutativePredictionContextOperands.prototype,"hashCode",null),n.IdentityCommutativePredictionContextOperands=IdentityCommutativePredictionContextOperands}(PredictionContextCache=o.PredictionContextCache||(o.PredictionContextCache={}))},30333:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.PredictionMode=void 0;const c=i(73907),h=i(75636),f=i(72399),E=i(8840);!function(n){n[n.SLL=0]="SLL",n[n.LL=1]="LL",n[n.LL_EXACT_AMBIG_DETECTION=2]="LL_EXACT_AMBIG_DETECTION"}(o.PredictionMode||(o.PredictionMode={})),function(n){c.Array2DHashMap;class AltAndContextConfigEqualityComparator{AltAndContextConfigEqualityComparator(){}hashCode(n){let o=h.MurmurHash.initialize(7);return o=h.MurmurHash.update(o,n.state.stateNumber),o=h.MurmurHash.update(o,n.context),o=h.MurmurHash.finish(o,2),o}equals(n,o){return n===o||null!=n&&null!=o&&(n.state.stateNumber===o.state.stateNumber&&n.context.equals(o.context))}}AltAndContextConfigEqualityComparator.INSTANCE=new AltAndContextConfigEqualityComparator,s([f.Override],AltAndContextConfigEqualityComparator.prototype,"hashCode",null),s([f.Override],AltAndContextConfigEqualityComparator.prototype,"equals",null),n.hasConfigInRuleStopState=function hasConfigInRuleStopState(n){for(let o of n)if(o.state instanceof E.RuleStopState)return!0;return!1},n.allConfigsInRuleStopStates=function allConfigsInRuleStopStates(n){for(let o of n)if(!(o.state instanceof E.RuleStopState))return!1;return!0}}(o.PredictionMode||(o.PredictionMode={}))},51284:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ProfilingATNSimulator=void 0;const h=i(77886),f=i(74274),E=i(56298),S=i(52433),A=i(50585),O=i(44241),T=i(72399),_=i(37059),D=i(13161),N=i(97004),R=i(32356),x=i(84364);class ProfilingATNSimulator extends D.ParserATNSimulator{constructor(n){super(n.interpreter.atn,n),this._startIndex=0,this._sllStopIndex=0,this._llStopIndex=0,this.currentDecision=0,this.conflictingAltResolvedBySLL=0,this.optimize_ll1=!1,this.reportAmbiguities=!0,this.numDecisions=this.atn.decisionToState.length,this.decisions=[];for(let n=0;n<this.numDecisions;n++)this.decisions.push(new A.DecisionInfo(n))}adaptivePredict(n,o,i,s){if(void 0!==s)return super.adaptivePredict(n,o,i,s);try{this._input=n,this._startIndex=n.index,this._sllStopIndex=this._startIndex-1,this._llStopIndex=-1,this.currentDecision=o,this.currentState=void 0,this.conflictingAltResolvedBySLL=f.ATN.INVALID_ALT_NUMBER;let s=process.hrtime(),c=super.adaptivePredict(n,o,i),h=process.hrtime(),E=1e9*(h[0]-s[0]);0===E?E=h[1]-s[1]:E+=1e9-s[1]+h[1],this.decisions[o].timeInPrediction+=E,this.decisions[o].invocations++;let S=this._sllStopIndex-this._startIndex+1;if(this.decisions[o].SLL_TotalLook+=S,this.decisions[o].SLL_MinLook=0===this.decisions[o].SLL_MinLook?S:Math.min(this.decisions[o].SLL_MinLook,S),S>this.decisions[o].SLL_MaxLook&&(this.decisions[o].SLL_MaxLook=S,this.decisions[o].SLL_MaxLookEvent=new _.LookaheadEventInfo(o,void 0,c,n,this._startIndex,this._sllStopIndex,!1)),this._llStopIndex>=0){let i=this._llStopIndex-this._startIndex+1;this.decisions[o].LL_TotalLook+=i,this.decisions[o].LL_MinLook=0===this.decisions[o].LL_MinLook?i:Math.min(this.decisions[o].LL_MinLook,i),i>this.decisions[o].LL_MaxLook&&(this.decisions[o].LL_MaxLook=i,this.decisions[o].LL_MaxLookEvent=new _.LookaheadEventInfo(o,void 0,c,n,this._startIndex,this._llStopIndex,!0))}return c}finally{this._input=void 0,this.currentDecision=-1}}getStartState(n,o,i,s){let c=super.getStartState(n,o,i,s);return this.currentState=c,c}computeStartState(n,o,i){let s=super.computeStartState(n,o,i);return this.currentState=s,s}computeReachSet(n,o,i,s){if(void 0===this._input)throw new Error("Invalid state");let c=super.computeReachSet(n,o,i,s);return null==c&&this.decisions[this.currentDecision].errors.push(new O.ErrorInfo(this.currentDecision,o,this._input,this._startIndex,this._input.index)),this.currentState=c,c}getExistingTargetState(n,o){if(void 0===this.currentState||void 0===this._input)throw new Error("Invalid state");this.currentState.useContext?this._llStopIndex=this._input.index:this._sllStopIndex=this._input.index;let i=super.getExistingTargetState(n,o);if(null!=i&&(this.currentState=new x.SimulatorState(this.currentState.outerContext,i,this.currentState.useContext,this.currentState.remainingOuterContext),this.currentState.useContext?this.decisions[this.currentDecision].LL_DFATransitions++:this.decisions[this.currentDecision].SLL_DFATransitions++,i===E.ATNSimulator.ERROR)){let o=new x.SimulatorState(this.currentState.outerContext,n,this.currentState.useContext,this.currentState.remainingOuterContext);this.decisions[this.currentDecision].errors.push(new O.ErrorInfo(this.currentDecision,o,this._input,this._startIndex,this._input.index))}return i}computeTargetState(n,o,i,s,c,h){let f=super.computeTargetState(n,o,i,s,c,h);return c?this.decisions[this.currentDecision].LL_ATNTransitions++:this.decisions[this.currentDecision].SLL_ATNTransitions++,f}evalSemanticContextImpl(n,o,i){if(void 0===this.currentState||void 0===this._input)throw new Error("Invalid state");let s=super.evalSemanticContextImpl(n,o,i);if(!(n instanceof R.SemanticContext.PrecedencePredicate)){let o=this._llStopIndex>=0?this._llStopIndex:this._sllStopIndex;this.decisions[this.currentDecision].predicateEvals.push(new N.PredicateEvalInfo(this.currentState,this.currentDecision,this._input,this._startIndex,o,n,s,i))}return s}reportContextSensitivity(n,o,i,s,c){if(void 0===this._input)throw new Error("Invalid state");o!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new S.ContextSensitivityInfo(this.currentDecision,i,this._input,s,c)),super.reportContextSensitivity(n,o,i,s,c)}reportAttemptingFullContext(n,o,i,s,c){this.conflictingAltResolvedBySLL=null!=o?o.nextSetBit(0):i.s0.configs.getRepresentedAlternatives().nextSetBit(0),this.decisions[this.currentDecision].LL_Fallback++,super.reportAttemptingFullContext(n,o,i,s,c)}reportAmbiguity(n,o,i,s,c,E,A){if(void 0===this.currentState||void 0===this._input)throw new Error("Invalid state");let O;O=null!=E?E.nextSetBit(0):A.getRepresentedAlternatives().nextSetBit(0),this.conflictingAltResolvedBySLL!==f.ATN.INVALID_ALT_NUMBER&&O!==this.conflictingAltResolvedBySLL&&this.decisions[this.currentDecision].contextSensitivities.push(new S.ContextSensitivityInfo(this.currentDecision,this.currentState,this._input,i,s)),this.decisions[this.currentDecision].ambiguities.push(new h.AmbiguityInfo(this.currentDecision,this.currentState,E,this._input,i,s)),super.reportAmbiguity(n,o,i,s,c,E,A)}getDecisionInfo(){return this.decisions}getCurrentState(){return this.currentState}}s([T.Override,c(0,T.NotNull)],ProfilingATNSimulator.prototype,"adaptivePredict",null),s([T.Override],ProfilingATNSimulator.prototype,"getStartState",null),s([T.Override],ProfilingATNSimulator.prototype,"computeStartState",null),s([T.Override],ProfilingATNSimulator.prototype,"computeReachSet",null),s([T.Override],ProfilingATNSimulator.prototype,"getExistingTargetState",null),s([T.Override],ProfilingATNSimulator.prototype,"computeTargetState",null),s([T.Override],ProfilingATNSimulator.prototype,"evalSemanticContextImpl",null),s([T.Override],ProfilingATNSimulator.prototype,"reportContextSensitivity",null),s([T.Override],ProfilingATNSimulator.prototype,"reportAttemptingFullContext",null),s([T.Override,c(0,T.NotNull),c(5,T.NotNull),c(6,T.NotNull)],ProfilingATNSimulator.prototype,"reportAmbiguity",null),o.ProfilingATNSimulator=ProfilingATNSimulator},93053:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RangeTransition=void 0;const h=i(83357),f=i(72399),E=i(11072);let S=class RangeTransition extends E.Transition{constructor(n,o,i){super(n),this.from=o,this.to=i}get serializationType(){return 2}get label(){return h.IntervalSet.of(this.from,this.to)}matches(n,o,i){return n>=this.from&&n<=this.to}toString(){return"'"+String.fromCodePoint(this.from)+"'..'"+String.fromCodePoint(this.to)+"'"}};s([f.Override],S.prototype,"serializationType",null),s([f.Override,f.NotNull],S.prototype,"label",null),s([f.Override],S.prototype,"matches",null),s([f.Override,f.NotNull],S.prototype,"toString",null),S=s([c(0,f.NotNull)],S),o.RangeTransition=S},79240:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.RuleStartState=void 0;const c=i(42813),h=i(77037),f=i(72399);class RuleStartState extends c.ATNState{constructor(){super(...arguments),this.isPrecedenceRule=!1,this.leftFactored=!1}get stateType(){return h.ATNStateType.RULE_START}}s([f.Override],RuleStartState.prototype,"stateType",null),o.RuleStartState=RuleStartState},8840:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.RuleStopState=void 0;const c=i(42813),h=i(77037),f=i(72399);class RuleStopState extends c.ATNState{get nonStopStateNumber(){return-1}get stateType(){return h.ATNStateType.RULE_STOP}}s([f.Override],RuleStopState.prototype,"nonStopStateNumber",null),s([f.Override],RuleStopState.prototype,"stateType",null),o.RuleStopState=RuleStopState},23334:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RuleTransition=void 0;const h=i(72399),f=i(11072);let E=class RuleTransition extends f.Transition{constructor(n,o,i,s){super(n),this.tailCall=!1,this.optimizedTailCall=!1,this.ruleIndex=o,this.precedence=i,this.followState=s}get serializationType(){return 3}get isEpsilon(){return!0}matches(n,o,i){return!1}};s([h.NotNull],E.prototype,"followState",void 0),s([h.Override],E.prototype,"serializationType",null),s([h.Override],E.prototype,"isEpsilon",null),s([h.Override],E.prototype,"matches",null),E=s([c(0,h.NotNull),c(3,h.NotNull)],E),o.RuleTransition=E},32356:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SemanticContext=void 0;const h=i(1533),f=i(8151),E=i(75636),S=i(72399),A=i(48055),O=i(40659);class SemanticContext{static get NONE(){return void 0===SemanticContext._NONE&&(SemanticContext._NONE=new SemanticContext.Predicate),SemanticContext._NONE}evalPrecedence(n,o){return this}static and(n,o){if(!n||n===SemanticContext.NONE)return o;if(o===SemanticContext.NONE)return n;let i=new SemanticContext.AND(n,o);return 1===i.opnds.length?i.opnds[0]:i}static or(n,o){if(!n)return o;if(n===SemanticContext.NONE||o===SemanticContext.NONE)return SemanticContext.NONE;let i=new SemanticContext.OR(n,o);return 1===i.opnds.length?i.opnds[0]:i}}o.SemanticContext=SemanticContext,function(n){function filterPrecedencePredicates(o){let i=[];for(let s=0;s<o.length;s++){let c=o[s];c instanceof n.PrecedencePredicate&&(i.push(c),o.splice(s,1),s--)}return i}class Predicate extends n{constructor(n=-1,o=-1,i=!1){super(),this.ruleIndex=n,this.predIndex=o,this.isCtxDependent=i}eval(n,o){let i=this.isCtxDependent?o:void 0;return n.sempred(i,this.ruleIndex,this.predIndex)}hashCode(){let n=E.MurmurHash.initialize();return n=E.MurmurHash.update(n,this.ruleIndex),n=E.MurmurHash.update(n,this.predIndex),n=E.MurmurHash.update(n,this.isCtxDependent?1:0),n=E.MurmurHash.finish(n,3),n}equals(n){return n instanceof Predicate&&(this===n||this.ruleIndex===n.ruleIndex&&this.predIndex===n.predIndex&&this.isCtxDependent===n.isCtxDependent)}toString(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"}}s([S.Override],Predicate.prototype,"eval",null),s([S.Override],Predicate.prototype,"hashCode",null),s([S.Override],Predicate.prototype,"equals",null),s([S.Override],Predicate.prototype,"toString",null),n.Predicate=Predicate;class PrecedencePredicate extends n{constructor(n){super(),this.precedence=n}eval(n,o){return n.precpred(o,this.precedence)}evalPrecedence(o,i){return o.precpred(i,this.precedence)?n.NONE:void 0}compareTo(n){return this.precedence-n.precedence}hashCode(){let n=1;return n=31*n+this.precedence,n}equals(n){return n instanceof PrecedencePredicate&&(this===n||this.precedence===n.precedence)}toString(){return"{"+this.precedence+">=prec}?"}}s([S.Override],PrecedencePredicate.prototype,"eval",null),s([S.Override],PrecedencePredicate.prototype,"evalPrecedence",null),s([S.Override],PrecedencePredicate.prototype,"compareTo",null),s([S.Override],PrecedencePredicate.prototype,"hashCode",null),s([S.Override],PrecedencePredicate.prototype,"equals",null),s([S.Override],PrecedencePredicate.prototype,"toString",null),n.PrecedencePredicate=PrecedencePredicate;class Operator extends n{}n.Operator=Operator;let o=class AND extends Operator{constructor(n,o){super();let i=new h.Array2DHashSet(A.ObjectEqualityComparator.INSTANCE);n instanceof AND?i.addAll(n.opnds):i.add(n),o instanceof AND?i.addAll(o.opnds):i.add(o),this.opnds=i.toArray();let s=function min(n){let o;for(let i of n)void 0!==o?o.compareTo(i)>0&&(o=i):o=i;return o}(filterPrecedencePredicates(this.opnds));s&&this.opnds.push(s)}get operands(){return this.opnds}equals(n){return this===n||n instanceof AND&&f.ArrayEqualityComparator.INSTANCE.equals(this.opnds,n.opnds)}hashCode(){return E.MurmurHash.hashCode(this.opnds,40363613)}eval(n,o){for(let i of this.opnds)if(!i.eval(n,o))return!1;return!0}evalPrecedence(o,i){let s=!1,c=[];for(let h of this.opnds){let f=h.evalPrecedence(o,i);if(s=s||f!==h,null==f)return;f!==n.NONE&&c.push(f)}if(!s)return this;if(0===c.length)return n.NONE;let h=c[0];for(let o=1;o<c.length;o++)h=n.and(h,c[o]);return h}toString(){return O.join(this.opnds,"&&")}};s([S.Override],o.prototype,"operands",null),s([S.Override],o.prototype,"equals",null),s([S.Override],o.prototype,"hashCode",null),s([S.Override],o.prototype,"eval",null),s([S.Override],o.prototype,"evalPrecedence",null),s([S.Override],o.prototype,"toString",null),o=s([c(0,S.NotNull),c(1,S.NotNull)],o),n.AND=o;let i=class OR extends Operator{constructor(n,o){super();let i=new h.Array2DHashSet(A.ObjectEqualityComparator.INSTANCE);n instanceof OR?i.addAll(n.opnds):i.add(n),o instanceof OR?i.addAll(o.opnds):i.add(o),this.opnds=i.toArray();let s=function max(n){let o;for(let i of n)void 0!==o?o.compareTo(i)<0&&(o=i):o=i;return o}(filterPrecedencePredicates(this.opnds));s&&this.opnds.push(s)}get operands(){return this.opnds}equals(n){return this===n||n instanceof OR&&f.ArrayEqualityComparator.INSTANCE.equals(this.opnds,n.opnds)}hashCode(){return E.MurmurHash.hashCode(this.opnds,486279973)}eval(n,o){for(let i of this.opnds)if(i.eval(n,o))return!0;return!1}evalPrecedence(o,i){let s=!1,c=[];for(let h of this.opnds){let f=h.evalPrecedence(o,i);if(s=s||f!==h,f===n.NONE)return n.NONE;f&&c.push(f)}if(!s)return this;if(0===c.length)return;let h=c[0];for(let o=1;o<c.length;o++)h=n.or(h,c[o]);return h}toString(){return O.join(this.opnds,"||")}};s([S.Override],i.prototype,"operands",null),s([S.Override],i.prototype,"equals",null),s([S.Override],i.prototype,"hashCode",null),s([S.Override],i.prototype,"eval",null),s([S.Override],i.prototype,"evalPrecedence",null),s([S.Override],i.prototype,"toString",null),i=s([c(0,S.NotNull),c(1,S.NotNull)],i),n.OR=i}(SemanticContext=o.SemanticContext||(o.SemanticContext={}))},21384:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SetTransition=void 0;const h=i(83357),f=i(72399),E=i(47760),S=i(11072);let A=class SetTransition extends S.Transition{constructor(n,o){super(n),null==o&&(o=h.IntervalSet.of(E.Token.INVALID_TYPE)),this.set=o}get serializationType(){return 7}get label(){return this.set}matches(n,o,i){return this.set.contains(n)}toString(){return this.set.toString()}};s([f.NotNull],A.prototype,"set",void 0),s([f.Override],A.prototype,"serializationType",null),s([f.Override,f.NotNull],A.prototype,"label",null),s([f.Override],A.prototype,"matches",null),s([f.Override,f.NotNull],A.prototype,"toString",null),A=s([c(0,f.NotNull),c(1,f.Nullable)],A),o.SetTransition=A},84364:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SimulatorState=void 0;const h=i(72399),f=i(41097);let E=class SimulatorState{constructor(n,o,i,s){this.outerContext=null!=n?n:f.ParserRuleContext.emptyContext(),this.s0=o,this.useContext=i,this.remainingOuterContext=s}};E=s([c(1,h.NotNull)],E),o.SimulatorState=E},38195:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.StarBlockStartState=void 0;const c=i(77037),h=i(93099),f=i(72399);class StarBlockStartState extends h.BlockStartState{get stateType(){return c.ATNStateType.STAR_BLOCK_START}}s([f.Override],StarBlockStartState.prototype,"stateType",null),o.StarBlockStartState=StarBlockStartState},4016:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.StarLoopEntryState=void 0;const c=i(77037),h=i(46889),f=i(38016),E=i(72399);class StarLoopEntryState extends f.DecisionState{constructor(){super(...arguments),this.precedenceRuleDecision=!1,this.precedenceLoopbackStates=new h.BitSet}get stateType(){return c.ATNStateType.STAR_LOOP_ENTRY}}s([E.Override],StarLoopEntryState.prototype,"stateType",null),o.StarLoopEntryState=StarLoopEntryState},5481:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.StarLoopbackState=void 0;const c=i(42813),h=i(77037),f=i(72399);class StarLoopbackState extends c.ATNState{get loopEntryState(){return this.transition(0).target}get stateType(){return h.ATNStateType.STAR_LOOP_BACK}}s([f.Override],StarLoopbackState.prototype,"stateType",null),o.StarLoopbackState=StarLoopbackState},68644:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.TokensStartState=void 0;const c=i(77037),h=i(38016),f=i(72399);class TokensStartState extends h.DecisionState{get stateType(){return c.ATNStateType.TOKEN_START}}s([f.Override],TokensStartState.prototype,"stateType",null),o.TokensStartState=TokensStartState},11072:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Transition=void 0;const h=i(72399);let f=class Transition{constructor(n){if(null==n)throw new Error("target cannot be null.");this.target=n}get isEpsilon(){return!1}get label(){}};f.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"],s([h.NotNull],f.prototype,"target",void 0),f=s([c(0,h.NotNull)],f),o.Transition=f},24650:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.WildcardTransition=void 0;const h=i(72399),f=i(11072);let E=class WildcardTransition extends f.Transition{constructor(n){super(n)}get serializationType(){return 9}matches(n,o,i){return n>=o&&n<=i}toString(){return"."}};s([h.Override],E.prototype,"serializationType",null),s([h.Override],E.prototype,"matches",null),s([h.Override,h.NotNull],E.prototype,"toString",null),E=s([c(0,h.NotNull)],E),o.WildcardTransition=E},52962:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AcceptStateInfo=void 0;o.AcceptStateInfo=class AcceptStateInfo{constructor(n,o){this._prediction=n,this._lexerActionExecutor=o}get prediction(){return this._prediction}get lexerActionExecutor(){return this._lexerActionExecutor}}},73074:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DFA=void 0;const h=i(1533),f=i(43258),E=i(68590),S=i(69709),A=i(80324),O=i(72399),T=i(48055),_=i(4016),D=i(67435);let N=class DFA{constructor(n,o=0){if(this.states=new h.Array2DHashSet(T.ObjectEqualityComparator.INSTANCE),this.nextStateNumber=0,!n.atn)throw new Error("The ATNState must be associated with an ATN");this.atnStartState=n,this.atn=n.atn,this.decision=o;let i=!1;n instanceof _.StarLoopEntryState&&n.precedenceRuleDecision&&(i=!0,this.s0=new S.DFAState(new f.ATNConfigSet),this.s0full=new S.DFAState(new f.ATNConfigSet)),this.precedenceDfa=i}get isPrecedenceDfa(){return this.precedenceDfa}getPrecedenceStartState(n,o){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");return o?this.s0full.getTarget(n):this.s0.getTarget(n)}setPrecedenceStartState(n,o,i){if(!this.isPrecedenceDfa)throw new Error("Only precedence DFAs may contain a precedence start state.");n<0||(o?this.s0full.setTarget(n,i):this.s0.setTarget(n,i))}get isEmpty(){return this.isPrecedenceDfa?0===this.s0.getEdgeMap().size&&0===this.s0full.getEdgeMap().size:null==this.s0&&null==this.s0full}get isContextSensitive(){return this.isPrecedenceDfa?this.s0full.getEdgeMap().size>0:null!=this.s0full}addState(n){return n.stateNumber=this.nextStateNumber++,this.states.getOrAdd(n)}toString(n,o){if(n||(n=D.VocabularyImpl.EMPTY_VOCABULARY),!this.s0)return"";let i;return i=o?new E.DFASerializer(this,n,o,this.atnStartState.atn):new E.DFASerializer(this,n),i.toString()}toLexerString(){if(!this.s0)return"";return new A.LexerDFASerializer(this).toString()}};s([O.NotNull],N.prototype,"states",void 0),s([O.NotNull],N.prototype,"atnStartState",void 0),s([O.NotNull],N.prototype,"atn",void 0),N=s([c(0,O.NotNull)],N),o.DFA=N},68590:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.DFASerializer=void 0;const c=i(56298),h=i(72399),f=i(78859),E=i(18831),S=i(67435);class DFASerializer{constructor(n,o,i,s){o instanceof E.Recognizer?(i=o.ruleNames,s=o.atn,o=o.vocabulary):o||(o=S.VocabularyImpl.EMPTY_VOCABULARY),this.dfa=n,this.vocabulary=o,this.ruleNames=i,this.atn=s}toString(){if(!this.dfa.s0)return"";let n="";if(this.dfa.states){let o=new Array(...this.dfa.states.toArray());o.sort((n,o)=>n.stateNumber-o.stateNumber);for(let i of o){let o=i.getEdgeMap(),s=[...o.keys()].sort((n,o)=>n-o),h=i.getContextEdgeMap(),f=[...h.keys()].sort((n,o)=>n-o);for(let h of s){let s=o.get(h);if((null==s||s===c.ATNSimulator.ERROR)&&!i.isContextSymbol(h))continue;let f=!1;n+=this.getStateString(i)+"-"+this.getEdgeLabel(h)+"->",i.isContextSymbol(h)&&(n+="!",f=!0);let E=s;E&&E.stateNumber!==c.ATNSimulator.ERROR.stateNumber?n+=this.getStateString(E)+"\n":f&&(n+="ctx\n")}if(i.isContextSensitive)for(let o of f)n+=this.getStateString(i)+"-"+this.getContextLabel(o)+"->"+this.getStateString(h.get(o))+"\n"}}let o=n;return 0===o.length?"":o}getContextLabel(n){if(n===f.PredictionContext.EMPTY_FULL_STATE_KEY)return"ctx:EMPTY_FULL";if(n===f.PredictionContext.EMPTY_LOCAL_STATE_KEY)return"ctx:EMPTY_LOCAL";if(this.atn&&n>0&&n<=this.atn.states.length){let o=this.atn.states[n].ruleIndex;if(this.ruleNames&&o>=0&&o<this.ruleNames.length)return"ctx:"+String(n)+"("+this.ruleNames[o]+")"}return"ctx:"+String(n)}getEdgeLabel(n){return this.vocabulary.getDisplayName(n)}getStateString(n){if(n===c.ATNSimulator.ERROR)return"ERROR";let o=n.stateNumber,i="s"+o;if(n.isAcceptState&&(i=n.predicates?":s"+o+"=>"+n.predicates:":s"+o+"=>"+n.prediction),n.isContextSensitive){i+="*";for(let o of n.configs)if(o.reachesIntoOuterContext){i+="*";break}}return i}}s([h.NotNull],DFASerializer.prototype,"dfa",void 0),s([h.NotNull],DFASerializer.prototype,"vocabulary",void 0),s([h.Override],DFASerializer.prototype,"toString",null),o.DFASerializer=DFASerializer},69709:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DFAState=void 0;const h=i(74274),f=i(46889),E=i(75636),S=i(72399),A=i(78859),O=i(42613);class DFAState{constructor(n){this.stateNumber=-1,this.configs=n,this.edges=new Map,this.contextEdges=new Map}get isContextSensitive(){return!!this.contextSymbols}isContextSymbol(n){return!!this.isContextSensitive&&this.contextSymbols.get(n)}setContextSymbol(n){O(this.isContextSensitive),this.contextSymbols.set(n)}setContextSensitive(n){O(!this.configs.isOutermostConfigSet),this.isContextSensitive||this.contextSymbols||(this.contextSymbols=new f.BitSet)}get acceptStateInfo(){return this._acceptStateInfo}set acceptStateInfo(n){this._acceptStateInfo=n}get isAcceptState(){return!!this._acceptStateInfo}get prediction(){return this._acceptStateInfo?this._acceptStateInfo.prediction:h.ATN.INVALID_ALT_NUMBER}get lexerActionExecutor(){if(this._acceptStateInfo)return this._acceptStateInfo.lexerActionExecutor}getTarget(n){return this.edges.get(n)}setTarget(n,o){this.edges.set(n,o)}getEdgeMap(){return this.edges}getContextTarget(n){return n===A.PredictionContext.EMPTY_FULL_STATE_KEY&&(n=-1),this.contextEdges.get(n)}setContextTarget(n,o){if(!this.isContextSensitive)throw new Error("The state is not context sensitive.");n===A.PredictionContext.EMPTY_FULL_STATE_KEY&&(n=-1),this.contextEdges.set(n,o)}getContextEdgeMap(){let n=new Map(this.contextEdges),o=n.get(-1);if(void 0!==o){if(1===n.size){let n=new Map;return n.set(A.PredictionContext.EMPTY_FULL_STATE_KEY,o),n}n.delete(-1),n.set(A.PredictionContext.EMPTY_FULL_STATE_KEY,o)}return n}hashCode(){let n=E.MurmurHash.initialize(7);return n=E.MurmurHash.update(n,this.configs.hashCode()),n=E.MurmurHash.finish(n,1),n}equals(n){if(this===n)return!0;if(!(n instanceof DFAState))return!1;let o=n;return this.configs.equals(o.configs)}toString(){let n="";return n+=this.stateNumber+":"+this.configs,this.isAcceptState&&(n+="=>",this.predicates?n+=this.predicates:n+=this.prediction),n.toString()}}s([S.NotNull],DFAState.prototype,"configs",void 0),s([S.NotNull],DFAState.prototype,"edges",void 0),s([S.NotNull],DFAState.prototype,"contextEdges",void 0),s([S.Override],DFAState.prototype,"hashCode",null),s([S.Override],DFAState.prototype,"equals",null),s([S.Override],DFAState.prototype,"toString",null),o.DFAState=DFAState,function(n){let o=class PredPrediction{constructor(n,o){this.alt=o,this.pred=n}toString(){return"("+this.pred+", "+this.alt+")"}};s([S.NotNull],o.prototype,"pred",void 0),s([S.Override],o.prototype,"toString",null),o=s([c(0,S.NotNull)],o),n.PredPrediction=o}(DFAState=o.DFAState||(o.DFAState={}))},80324:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.LexerDFASerializer=void 0;const h=i(68590),f=i(72399),E=i(67435);let S=class LexerDFASerializer extends h.DFASerializer{constructor(n){super(n,E.VocabularyImpl.EMPTY_VOCABULARY)}getEdgeLabel(n){return"'"+String.fromCodePoint(n)+"'"}};s([f.Override,f.NotNull],S.prototype,"getEdgeLabel",null),S=s([c(0,f.NotNull)],S),o.LexerDFASerializer=S},73907:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Array2DHashMap=void 0;const s=i(1533);class MapKeyEqualityComparator{constructor(n){this.keyComparator=n}hashCode(n){return this.keyComparator.hashCode(n.key)}equals(n,o){return this.keyComparator.equals(n.key,o.key)}}class Array2DHashMap{constructor(n){this.backingStore=n instanceof Array2DHashMap?new s.Array2DHashSet(n.backingStore):new s.Array2DHashSet(new MapKeyEqualityComparator(n))}clear(){this.backingStore.clear()}containsKey(n){return this.backingStore.contains({key:n})}get(n){let o=this.backingStore.get({key:n});if(o)return o.value}get isEmpty(){return this.backingStore.isEmpty}put(n,o){let i,s=this.backingStore.get({key:n,value:o});return s?(i=s.value,s.value=o):this.backingStore.add({key:n,value:o}),i}putIfAbsent(n,o){let i,s=this.backingStore.get({key:n,value:o});return s?i=s.value:this.backingStore.add({key:n,value:o}),i}get size(){return this.backingStore.size}hashCode(){return this.backingStore.hashCode()}equals(n){return n instanceof Array2DHashMap&&this.backingStore.equals(n.backingStore)}}o.Array2DHashMap=Array2DHashMap},1533:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Array2DHashSet=void 0;const h=i(42613),f=i(65643),E=i(72399),S=i(75636),A=.75;class Array2DHashSet{constructor(n,o=16){if(this.n=0,this.threshold=Math.floor(12),n instanceof Array2DHashSet){this.comparator=n.comparator,this.buckets=n.buckets.slice(0);for(let n=0;n<this.buckets.length;n++){let o=this.buckets[n];o&&(this.buckets[n]=o.slice(0))}this.n=n.n,this.threshold=n.threshold}else this.comparator=n||f.DefaultEqualityComparator.INSTANCE,this.buckets=this.createBuckets(o)}getOrAdd(n){return this.n>this.threshold&&this.expand(),this.getOrAddImpl(n)}getOrAddImpl(n){let o=this.getBucket(n),i=this.buckets[o];if(!i)return i=[n],this.buckets[o]=i,this.n++,n;for(let o of i)if(this.comparator.equals(o,n))return o;return i.push(n),this.n++,n}get(n){if(null==n)return n;let o=this.getBucket(n),i=this.buckets[o];if(i)for(let o of i)if(this.comparator.equals(o,n))return o}getBucket(n){return this.comparator.hashCode(n)&this.buckets.length-1}hashCode(){let n=S.MurmurHash.initialize();for(let o of this.buckets)if(null!=o)for(let i of o){if(null==i)break;n=S.MurmurHash.update(n,this.comparator.hashCode(i))}return n=S.MurmurHash.finish(n,this.size),n}equals(n){if(n===this)return!0;if(!(n instanceof Array2DHashSet))return!1;if(n.size!==this.size)return!1;return this.containsAll(n)}expand(){let n=this.buckets,o=2*this.buckets.length,i=this.createBuckets(o);this.buckets=i,this.threshold=Math.floor(o*A);let s=this.size;for(let o of n)if(o)for(let n of o){let o=this.getBucket(n),i=this.buckets[o];i||(i=[],this.buckets[o]=i),i.push(n)}h(this.n===s)}add(n){return this.getOrAdd(n)===n}get size(){return this.n}get isEmpty(){return 0===this.n}contains(n){return this.containsFast(this.asElementType(n))}containsFast(n){return null!=n&&null!=this.get(n)}*[Symbol.iterator](){yield*this.toArray()}toArray(){const n=new Array(this.size);let o=0;for(let i of this.buckets)if(null!=i)for(let s of i){if(null==s)break;n[o++]=s}return n}containsAll(n){if(n instanceof Array2DHashSet){let o=n;for(let n of o.buckets)if(null!=n)for(let o of n){if(null==o)break;if(!this.containsFast(this.asElementType(o)))return!1}}else for(let o of n)if(!this.containsFast(this.asElementType(o)))return!1;return!0}addAll(n){let o=!1;for(let i of n){this.getOrAdd(i)!==i&&(o=!0)}return o}clear(){this.buckets=this.createBuckets(16),this.n=0,this.threshold=Math.floor(12)}toString(){if(0===this.size)return"{}";let n="{",o=!0;for(let i of this.buckets)if(null!=i)for(let s of i){if(null==s)break;o?o=!1:n+=", ",n+=s.toString()}return n+="}",n}toTableString(){let n="";for(let o of this.buckets){if(null==o){n+="null\n";continue}n+="[";let i=!0;for(let s of o)i?i=!1:n+=" ",n+=null==s?"_":s.toString();n+="]\n"}return n}asElementType(n){return n}createBuckets(n){return new Array(n)}}s([E.NotNull],Array2DHashSet.prototype,"comparator",void 0),s([E.Override],Array2DHashSet.prototype,"hashCode",null),s([E.Override],Array2DHashSet.prototype,"equals",null),s([E.Override],Array2DHashSet.prototype,"add",null),s([E.Override],Array2DHashSet.prototype,"size",null),s([E.Override],Array2DHashSet.prototype,"isEmpty",null),s([E.Override],Array2DHashSet.prototype,"contains",null),s([c(0,E.Nullable)],Array2DHashSet.prototype,"containsFast",null),s([E.Override],Array2DHashSet.prototype,Symbol.iterator,null),s([E.Override],Array2DHashSet.prototype,"toArray",null),s([E.Override],Array2DHashSet.prototype,"containsAll",null),s([E.Override],Array2DHashSet.prototype,"addAll",null),s([E.Override],Array2DHashSet.prototype,"clear",null),s([E.Override],Array2DHashSet.prototype,"toString",null),s([E.SuppressWarnings("unchecked")],Array2DHashSet.prototype,"asElementType",null),s([E.SuppressWarnings("unchecked")],Array2DHashSet.prototype,"createBuckets",null),o.Array2DHashSet=Array2DHashSet},8151:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.ArrayEqualityComparator=void 0;const c=i(72399),h=i(75636),f=i(48055);class ArrayEqualityComparator{hashCode(n){return null==n?0:h.MurmurHash.hashCode(n,0)}equals(n,o){if(null==n)return null==o;if(null==o)return!1;if(n.length!==o.length)return!1;for(let i=0;i<n.length;i++)if(!f.ObjectEqualityComparator.INSTANCE.equals(n[i],o[i]))return!1;return!0}}ArrayEqualityComparator.INSTANCE=new ArrayEqualityComparator,s([c.Override],ArrayEqualityComparator.prototype,"hashCode",null),s([c.Override],ArrayEqualityComparator.prototype,"equals",null),o.ArrayEqualityComparator=ArrayEqualityComparator},95754:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Arrays=void 0,function(n){n.binarySearch=function binarySearch(n,o,i,s){return function binarySearch0(n,o,i,s){let c=o,h=i-1;for(;c<=h;){let o=c+h>>>1,i=n[o];if(i<s)c=o+1;else{if(!(i>s))return o;h=o-1}}return-(c+1)}(n,void 0!==i?i:0,void 0!==s?s:n.length,o)},n.toString=function toString(n){let o="[",i=!0;for(let s of n)i?i=!1:o+=", ",o+=null===s?"null":void 0===s?"undefined":s;return o+="]",o}}(o.Arrays||(o.Arrays={}))},46889:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.BitSet=void 0;const s=i(39023),c=i(75636),h=new Uint16Array(0);function getIndex(n){return n>>>4}function unIndex(n){return 16*n}function findLSBSet(n){let o=1;for(let i=0;i<16;i++){if(0!==(n&o))return i;o=o<<1>>>0}throw new RangeError("No specified bit found")}function findMSBSet(n){let o=32768;for(let i=15;i>=0;i--){if(0!==(n&o))return i;o>>>=1}throw new RangeError("No specified bit found")}function bitsFor(n,o){return(n&=15)===(o&=15)?1<<n>>>0:65535>>>15-o^65535>>>16-n}const f=new Uint8Array(65536);for(let n=0;n<16;n++){const o=1<<n>>>0;let i=0;for(;i<f.length;){i+=o;for(let n=0;n<o;n++)f[i]++,i++}}class BitSet{constructor(n){if(n)if("number"==typeof n){if(n<0)throw new RangeError("nbits cannot be negative");this.data=new Uint16Array(getIndex(n-1)+1)}else if(n instanceof BitSet)this.data=n.data.slice(0);else{let o=-1;for(let i of n)o<i&&(o=i);this.data=new Uint16Array(getIndex(o-1)+1);for(let o of n)this.set(o)}else this.data=h}and(n){const o=this.data,i=n.data,s=Math.min(o.length,i.length);let c=-1;for(let n=0;n<s;n++){0!==(o[n]&=i[n])&&(c=n)}-1===c&&(this.data=h),c<o.length-1&&(this.data=o.slice(0,c+1))}andNot(n){const o=this.data,i=n.data,s=Math.min(o.length,i.length);let c=-1;for(let n=0;n<s;n++){0!==(o[n]&=65535^i[n])&&(c=n)}-1===c&&(this.data=h),c<o.length-1&&(this.data=o.slice(0,c+1))}cardinality(){if(this.isEmpty)return 0;const n=this.data,o=n.length;let i=0;for(let s=0;s<o;s++)i+=f[n[s]];return i}clear(n,o){null==n?this.data.fill(0):null==o?this.set(n,!1):this.set(n,o,!1)}flip(n,o){if(null==o&&(o=n),n<0||o<n)throw new RangeError;let i=getIndex(n);const s=getIndex(o);if(i===s)this.data[i]^=bitsFor(n,o);else{for(this.data[i++]^=bitsFor(n,15);i<s;)this.data[i++]^=65535;this.data[i++]^=bitsFor(0,o)}}get(n,o){if(void 0===o)return!!(this.data[getIndex(n)]&bitsFor(n,n));{let i=new BitSet(o+1);for(let s=n;s<=o;s++)i.set(s,this.get(s));return i}}intersects(n){let o=Math.min(this.length(),n.length());if(0===o)return!1;let i=getIndex(o-1);for(let o=0;o<=i;o++)if(0!==(this.data[o]&n.data[o]))return!0;return!1}get isEmpty(){return 0===this.length()}length(){return this.data.length?this.previousSetBit(unIndex(this.data.length)-1)+1:0}nextClearBit(n){if(n<0)throw new RangeError("fromIndex cannot be negative");const o=this.data,i=o.length;let s=getIndex(n);if(s>i)return-1;let c=65535^bitsFor(n,15);if(65535===(o[s]|c)){for(s++,c=0;s<i&&65535===o[s];s++);if(s===i)return-1}return unIndex(s)+findLSBSet(65535^(o[s]|c))}nextSetBit(n){if(n<0)throw new RangeError("fromIndex cannot be negative");const o=this.data,i=o.length;let s=getIndex(n);if(s>i)return-1;let c=bitsFor(n,15);if(0===(o[s]&c)){for(s++,c=65535;s<i&&0===o[s];s++);if(s>=i)return-1}return unIndex(s)+findLSBSet(o[s]&c)}or(n){const o=this.data,i=n.data,s=Math.min(o.length,i.length),c=Math.max(o.length,i.length),f=o.length===c?o:new Uint16Array(c);let E=-1;for(let n=0;n<s;n++){0!==(f[n]=o[n]|i[n])&&(E=n)}const S=o.length>i.length?o:i;for(let n=s;n<c;n++){0!==(f[n]=S[n])&&(E=n)}-1===E?this.data=h:f.length===E+1?this.data=f:this.data=f.slice(0,E)}previousClearBit(n){if(n<0)throw new RangeError("fromIndex cannot be negative");const o=this.data,i=o.length;let s=getIndex(n);s>=i&&(s=i-1);let c=65535^bitsFor(0,n);if(65535===(o[s]|c)){for(c=0,s--;s>=0&&65535===o[s];s--);if(s<0)return-1}return unIndex(s)+findMSBSet(65535^(o[s]|c))}previousSetBit(n){if(n<0)throw new RangeError("fromIndex cannot be negative");const o=this.data,i=o.length;let s=getIndex(n);s>=i&&(s=i-1);let c=bitsFor(0,n);if(0===(o[s]&c)){for(s--,c=65535;s>=0&&0===o[s];s--);if(s<0)return-1}return unIndex(s)+findMSBSet(o[s]&c)}set(n,o,i){if(void 0===o?(o=n,i=!0):"boolean"==typeof o&&(i=o,o=n),void 0===i&&(i=!0),n<0||n>o)throw new RangeError;let s=getIndex(n),c=getIndex(o);if(i&&c>=this.data.length){let n=new Uint16Array(c+1);this.data.forEach((o,i)=>n[i]=o),this.data=n}else if(!i){if(s>=this.data.length)return;c>=this.data.length&&(c=this.data.length-1,o=16*this.data.length-1)}if(s===c)this._setBits(s,i,bitsFor(n,o));else{for(this._setBits(s++,i,bitsFor(n,15));s<c;)this.data[s++]=i?65535:0;this._setBits(s,i,bitsFor(0,o))}}_setBits(n,o,i){o?this.data[n]|=i:this.data[n]&=65535^i}get size(){return 8*this.data.byteLength}hashCode(){return c.MurmurHash.hashCode(this.data,22)}equals(n){if(n===this)return!0;if(!(n instanceof BitSet))return!1;const o=this.length();if(o!==n.length())return!1;if(0===o)return!0;let i=getIndex(o-1);for(let o=0;o<=i;o++)if(this.data[o]!==n.data[o])return!1;return!0}toString(){let n="{",o=!0;for(let i=this.nextSetBit(0);i>=0;i=this.nextSetBit(i+1))o?o=!1:n+=", ",n+=i;return n+="}",n}xor(n){const o=this.data,i=n.data,s=Math.min(o.length,i.length),c=Math.max(o.length,i.length),f=o.length===c?o:new Uint16Array(c);let E=-1;for(let n=0;n<s;n++){0!==(f[n]=o[n]^i[n])&&(E=n)}const S=o.length>i.length?o:i;for(let n=s;n<c;n++){0!==(f[n]=S[n])&&(E=n)}-1===E?this.data=h:f.length===E+1?this.data=f:this.data=f.slice(0,E+1)}clone(){return new BitSet(this)}[Symbol.iterator](){return new BitSetIterator(this.data)}[s.inspect.custom](){return"BitSet "+this.toString()}}o.BitSet=BitSet;class BitSetIterator{constructor(n){this.data=n,this.index=0,this.mask=65535}next(){for(;this.index<this.data.length;){const n=this.data[this.index]&this.mask;if(0!==n){const o=unIndex(this.index)+findLSBSet(n);return this.mask=bitsFor(o+1,15),{done:!1,value:o}}this.index++,this.mask=65535}return{done:!0,value:-1}}[Symbol.iterator](){return this}}},24605:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isSupplementaryCodePoint=o.isLowSurrogate=o.isHighSurrogate=void 0,o.isHighSurrogate=function isHighSurrogate(n){return n>=55296&&n<=56319},o.isLowSurrogate=function isLowSurrogate(n){return n>=56320&&n<=57343},o.isSupplementaryCodePoint=function isSupplementaryCodePoint(n){return n>=65536}},65643:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.DefaultEqualityComparator=void 0;const c=i(72399),h=i(75636),f=i(48055);class DefaultEqualityComparator{hashCode(n){return null==n?0:"string"==typeof n||"number"==typeof n?h.MurmurHash.hashCode([n]):f.ObjectEqualityComparator.INSTANCE.hashCode(n)}equals(n,o){return null==n?null==o:"string"==typeof n||"number"==typeof n?n===o:f.ObjectEqualityComparator.INSTANCE.equals(n,o)}}DefaultEqualityComparator.INSTANCE=new DefaultEqualityComparator,s([c.Override],DefaultEqualityComparator.prototype,"hashCode",null),s([c.Override],DefaultEqualityComparator.prototype,"equals",null),o.DefaultEqualityComparator=DefaultEqualityComparator},18240:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.IntegerList=void 0;const c=i(95754),h=i(72399),f=new Int32Array(0),E=2147483639;class IntegerList{constructor(n){if(n)if(n instanceof IntegerList)this._data=n._data.slice(0),this._size=n._size;else if("number"==typeof n)0===n?(this._data=f,this._size=0):(this._data=new Int32Array(n),this._size=0);else{this._data=f,this._size=0;for(let o of n)this.add(o)}else this._data=f,this._size=0}add(n){this._data.length===this._size&&this.ensureCapacity(this._size+1),this._data[this._size]=n,this._size++}addAll(n){if(Array.isArray(n))this.ensureCapacity(this._size+n.length),this._data.subarray(this._size,this._size+n.length).set(n),this._size+=n.length;else if(n instanceof IntegerList)this.ensureCapacity(this._size+n._size),this._data.subarray(this._size,this._size+n.size).set(n._data),this._size+=n._size;else{this.ensureCapacity(this._size+n.size);let o=0;for(let i of n)this._data[this._size+o]=i,o++;this._size+=n.size}}get(n){if(n<0||n>=this._size)throw RangeError();return this._data[n]}contains(n){for(let o=0;o<this._size;o++)if(this._data[o]===n)return!0;return!1}set(n,o){if(n<0||n>=this._size)throw RangeError();let i=this._data[n];return this._data[n]=o,i}removeAt(n){let o=this.get(n);return this._data.copyWithin(n,n+1,this._size),this._data[this._size-1]=0,this._size--,o}removeRange(n,o){if(n<0||o<0||n>this._size||o>this._size)throw RangeError();if(n>o)throw RangeError();this._data.copyWithin(o,n,this._size),this._data.fill(0,this._size-(o-n),this._size),this._size-=o-n}get isEmpty(){return 0===this._size}get size(){return this._size}trimToSize(){this._data.length!==this._size&&(this._data=this._data.slice(0,this._size))}clear(){this._data.fill(0,0,this._size),this._size=0}toArray(){return 0===this._size?[]:Array.from(this._data.subarray(0,this._size))}sort(){this._data.subarray(0,this._size).sort()}equals(n){if(n===this)return!0;if(!(n instanceof IntegerList))return!1;if(this._size!==n._size)return!1;for(let o=0;o<this._size;o++)if(this._data[o]!==n._data[o])return!1;return!0}hashCode(){let n=1;for(let o=0;o<this._size;o++)n=31*n+this._data[o];return n}toString(){return this._data.toString()}binarySearch(n,o,i){if(void 0===o&&(o=0),void 0===i&&(i=this._size),o<0||i<0||o>this._size||i>this._size)throw new RangeError;if(o>i)throw new RangeError;return c.Arrays.binarySearch(this._data,n,o,i)}ensureCapacity(n){if(n<0||n>E)throw new RangeError;let o;for(o=0===this._data.length?4:this._data.length;o<n;)o*=2,(o<0||o>E)&&(o=E);let i=new Int32Array(o);i.set(this._data),this._data=i}toCharArray(){let n=new Uint16Array(this._size),o=0,i=!1;for(let s=0;s<this._size;s++){let c=this._data[s];if(c>=0&&c<65536){n[o]=c,o++;continue}if(!i){let o=new Uint16Array(this.charArraySize());o.set(n,0),n=o,i=!0}let h=String.fromCodePoint(c);n[o]=h.charCodeAt(0),n[o+1]=h.charCodeAt(1),o+=2}return n}charArraySize(){let n=0;for(let o=0;o<this._size;o++)n+=this._data[o]>=65536?2:1;return n}}s([h.NotNull],IntegerList.prototype,"_data",void 0),s([h.Override],IntegerList.prototype,"equals",null),s([h.Override],IntegerList.prototype,"hashCode",null),s([h.Override],IntegerList.prototype,"toString",null),o.IntegerList=IntegerList},41862:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.IntegerStack=void 0;const s=i(18240);class IntegerStack extends s.IntegerList{constructor(n){super(n)}push(n){this.add(n)}pop(){return this.removeAt(this.size-1)}peek(){return this.get(this.size-1)}}o.IntegerStack=IntegerStack},7477:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.Interval=void 0;const c=i(72399);class Interval{constructor(n,o){this.a=n,this.b=o}static get INVALID(){return Interval._INVALID}static of(n,o){return n!==o||n<0||n>1e3?new Interval(n,o):(null==Interval.cache[n]&&(Interval.cache[n]=new Interval(n,n)),Interval.cache[n])}get length(){return this.b<this.a?0:this.b-this.a+1}equals(n){return n===this||n instanceof Interval&&(this.a===n.a&&this.b===n.b)}hashCode(){let n=23;return n=31*n+this.a,n=31*n+this.b,n}startsBeforeDisjoint(n){return this.a<n.a&&this.b<n.a}startsBeforeNonDisjoint(n){return this.a<=n.a&&this.b>=n.a}startsAfter(n){return this.a>n.a}startsAfterDisjoint(n){return this.a>n.b}startsAfterNonDisjoint(n){return this.a>n.a&&this.a<=n.b}disjoint(n){return this.startsBeforeDisjoint(n)||this.startsAfterDisjoint(n)}adjacent(n){return this.a===n.b+1||this.b===n.a-1}properlyContains(n){return n.a>=this.a&&n.b<=this.b}union(n){return Interval.of(Math.min(this.a,n.a),Math.max(this.b,n.b))}intersection(n){return Interval.of(Math.max(this.a,n.a),Math.min(this.b,n.b))}differenceNotProperlyContained(n){let o;return n.startsBeforeNonDisjoint(this)?o=Interval.of(Math.max(this.a,n.b+1),this.b):n.startsAfterNonDisjoint(this)&&(o=Interval.of(this.a,n.a-1)),o}toString(){return this.a+".."+this.b}}Interval._INVALID=new Interval(-1,-2),Interval.cache=new Array(1001),s([c.Override],Interval.prototype,"equals",null),s([c.Override],Interval.prototype,"hashCode",null),s([c.Override],Interval.prototype,"toString",null),o.Interval=Interval},83357:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.IntervalSet=void 0;const h=i(8151),f=i(18240),E=i(7477),S=i(22807),A=i(75636),O=i(72399),T=i(47760);class IntervalSet{constructor(n){this.readonly=!1,this._intervals=null!=n?n.slice(0):[]}static get COMPLETE_CHAR_SET(){return void 0===IntervalSet._COMPLETE_CHAR_SET&&(IntervalSet._COMPLETE_CHAR_SET=IntervalSet.of(S.Lexer.MIN_CHAR_VALUE,S.Lexer.MAX_CHAR_VALUE),IntervalSet._COMPLETE_CHAR_SET.setReadonly(!0)),IntervalSet._COMPLETE_CHAR_SET}static get EMPTY_SET(){return null==IntervalSet._EMPTY_SET&&(IntervalSet._EMPTY_SET=new IntervalSet,IntervalSet._EMPTY_SET.setReadonly(!0)),IntervalSet._EMPTY_SET}static of(n,o=n){let i=new IntervalSet;return i.add(n,o),i}clear(){if(this.readonly)throw new Error("can't alter readonly IntervalSet");this._intervals.length=0}add(n,o=n){this.addRange(E.Interval.of(n,o))}addRange(n){if(this.readonly)throw new Error("can't alter readonly IntervalSet");if(!(n.b<n.a)){for(let o=0;o<this._intervals.length;o++){let i=this._intervals[o];if(n.equals(i))return;if(n.adjacent(i)||!n.disjoint(i)){let s=n.union(i);for(this._intervals[o]=s;o<this._intervals.length-1;){o++;let n=this._intervals[o];if(!s.adjacent(n)&&s.disjoint(n))break;this._intervals.splice(o,1),o--,this._intervals[o]=s.union(n)}return}if(n.startsBeforeDisjoint(i))return void this._intervals.splice(o,0,n)}this._intervals.push(n)}}static or(n){let o=new IntervalSet;for(let i of n)o.addAll(i);return o}addAll(n){if(null==n)return this;if(n instanceof IntervalSet){let o=n,i=o._intervals.length;for(let n=0;n<i;n++){let i=o._intervals[n];this.add(i.a,i.b)}}else for(let o of n.toArray())this.add(o);return this}complementRange(n,o){return this.complement(IntervalSet.of(n,o))}complement(n){if(n.isNil)return IntervalSet.EMPTY_SET;let o;return n instanceof IntervalSet?o=n:(o=new IntervalSet,o.addAll(n)),o.subtract(this)}subtract(n){if(null==n||n.isNil)return new IntervalSet(this._intervals);if(n instanceof IntervalSet)return IntervalSet.subtract(this,n);let o=new IntervalSet;return o.addAll(n),IntervalSet.subtract(this,o)}static subtract(n,o){if(n.isNil)return new IntervalSet;let i=new IntervalSet(n._intervals);if(o.isNil)return i;let s=0,c=0;for(;s<i._intervals.length&&c<o._intervals.length;){let n,h,f=i._intervals[s],S=o._intervals[c];if(S.b<f.a)c++;else if(S.a>f.b)s++;else if(S.a>f.a&&(n=new E.Interval(f.a,S.a-1)),S.b<f.b&&(h=new E.Interval(S.b+1,f.b)),n){if(h){i._intervals[s]=n,i._intervals.splice(s+1,0,h),s++,c++;continue}i._intervals[s]=n,s++}else h?(i._intervals[s]=h,c++):i._intervals.splice(s,1)}return i}or(n){let o=new IntervalSet;return o.addAll(this),o.addAll(n),o}and(n){if(n.isNil)return new IntervalSet;let o,i=this._intervals,s=n._intervals,c=i.length,h=s.length,f=0,E=0;for(;f<c&&E<h;){let n=i[f],c=s[E];n.startsBeforeDisjoint(c)?f++:c.startsBeforeDisjoint(n)?E++:n.properlyContains(c)?(o||(o=new IntervalSet),o.addRange(n.intersection(c)),E++):c.properlyContains(n)?(o||(o=new IntervalSet),o.addRange(n.intersection(c)),f++):n.disjoint(c)||(o||(o=new IntervalSet),o.addRange(n.intersection(c)),n.startsAfterNonDisjoint(c)?E++:c.startsAfterNonDisjoint(n)&&f++)}return o||new IntervalSet}contains(n){let o=0,i=this._intervals.length-1;for(;o<=i;){let s=o+i>>1,c=this._intervals[s],h=c.a;if(c.b<n)o=s+1;else{if(!(h>n))return!0;i=s-1}}return!1}get isNil(){return null==this._intervals||0===this._intervals.length}get maxElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[this._intervals.length-1].b}get minElement(){if(this.isNil)throw new RangeError("set is empty");return this._intervals[0].a}get intervals(){return this._intervals}hashCode(){let n=A.MurmurHash.initialize();for(let o of this._intervals)n=A.MurmurHash.update(n,o.a),n=A.MurmurHash.update(n,o.b);return n=A.MurmurHash.finish(n,2*this._intervals.length),n}equals(n){return null!=n&&n instanceof IntervalSet&&h.ArrayEqualityComparator.INSTANCE.equals(this._intervals,n._intervals)}toString(n=!1){let o="";if(null==this._intervals||0===this._intervals.length)return"{}";this.size>1&&(o+="{");let i=!0;for(let s of this._intervals){i?i=!1:o+=", ";let c=s.a,h=s.b;c===h?c===T.Token.EOF?o+="<EOF>":o+=n?"'"+String.fromCodePoint(c)+"'":c:o+=n?"'"+String.fromCodePoint(c)+"'..'"+String.fromCodePoint(h)+"'":c+".."+h}return this.size>1&&(o+="}"),o}toStringVocabulary(n){if(null==this._intervals||0===this._intervals.length)return"{}";let o="";this.size>1&&(o+="{");let i=!0;for(let s of this._intervals){i?i=!1:o+=", ";let c=s.a,h=s.b;if(c===h)o+=this.elementName(n,c);else for(let i=c;i<=h;i++)i>c&&(o+=", "),o+=this.elementName(n,i)}return this.size>1&&(o+="}"),o}elementName(n,o){return o===T.Token.EOF?"<EOF>":o===T.Token.EPSILON?"<EPSILON>":n.getDisplayName(o)}get size(){let n=0,o=this._intervals.length;if(1===o){let n=this._intervals[0];return n.b-n.a+1}for(let i=0;i<o;i++){let o=this._intervals[i];n+=o.b-o.a+1}return n}toIntegerList(){let n=new f.IntegerList(this.size),o=this._intervals.length;for(let i=0;i<o;i++){let o=this._intervals[i],s=o.a,c=o.b;for(let o=s;o<=c;o++)n.add(o)}return n}toSet(){let n=new Set;for(let o of this._intervals){let i=o.a,s=o.b;for(let o=i;o<=s;o++)n.add(o)}return n}toArray(){let n=new Array,o=this._intervals.length;for(let i=0;i<o;i++){let o=this._intervals[i],s=o.a,c=o.b;for(let o=s;o<=c;o++)n.push(o)}return n}remove(n){if(this.readonly)throw new Error("can't alter readonly IntervalSet");let o=this._intervals.length;for(let i=0;i<o;i++){let o=this._intervals[i],s=o.a,c=o.b;if(n<s)break;if(n===s&&n===c){this._intervals.splice(i,1);break}if(n===s){this._intervals[i]=E.Interval.of(o.a+1,o.b);break}if(n===c){this._intervals[i]=E.Interval.of(o.a,o.b-1);break}if(n>s&&n<c){let s=o.b;this._intervals[i]=E.Interval.of(o.a,n-1),this.add(n+1,s)}}}get isReadonly(){return this.readonly}setReadonly(n){if(this.readonly&&!n)throw new Error("can't alter readonly IntervalSet");this.readonly=n}}s([O.Override],IntervalSet.prototype,"addAll",null),s([O.Override],IntervalSet.prototype,"complement",null),s([O.Override],IntervalSet.prototype,"subtract",null),s([O.Override],IntervalSet.prototype,"or",null),s([O.Override],IntervalSet.prototype,"and",null),s([O.Override],IntervalSet.prototype,"contains",null),s([O.Override],IntervalSet.prototype,"isNil",null),s([O.Override],IntervalSet.prototype,"hashCode",null),s([O.Override],IntervalSet.prototype,"equals",null),s([c(0,O.NotNull)],IntervalSet.prototype,"toStringVocabulary",null),s([O.NotNull,c(0,O.NotNull)],IntervalSet.prototype,"elementName",null),s([O.Override],IntervalSet.prototype,"size",null),s([O.Override],IntervalSet.prototype,"remove",null),s([O.NotNull],IntervalSet,"of",null),s([O.NotNull],IntervalSet,"subtract",null),o.IntervalSet=IntervalSet},10821:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MultiMap=void 0;class MultiMap extends Map{constructor(){super()}map(n,o){let i=super.get(n);i||(i=[],super.set(n,i)),i.push(o)}getPairs(){let n=[];return this.forEach((o,i)=>{o.forEach(o=>{n.push([i,o])})}),n}}o.MultiMap=MultiMap},75636:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MurmurHash=void 0,function(n){function initialize(n=0){return n}function update(n,o){null==o?o=0:"string"==typeof o?o=function hashString(n){let o=n.length;if(0===o)return 0;let i=0;for(let s=0;s<o;s++){i=(i<<5>>>0)-i+n.charCodeAt(s),i|=0}return i}(o):"object"==typeof o&&(o=o.hashCode());let i=o;return i=Math.imul(i,3432918353),i=i<<15|i>>>17,i=Math.imul(i,461845907),n=(n^=i)<<13|n>>>19,4294967295&(n=Math.imul(n,5)+3864292196)}function finish(n,o){return n^=4*o,n^=n>>>16,n=Math.imul(n,2246822507),n^=n>>>13,n=Math.imul(n,3266489909),n^=n>>>16}n.initialize=initialize,n.update=update,n.finish=finish,n.hashCode=function hashCode(n,o=0){let i=initialize(o),s=0;for(let o of n)i=update(i,o),s++;return i=finish(i,s),i}}(o.MurmurHash||(o.MurmurHash={}))},48055:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.ObjectEqualityComparator=void 0;const c=i(72399);class ObjectEqualityComparator{hashCode(n){return null==n?0:n.hashCode()}equals(n,o){return null==n?null==o:n.equals(o)}}ObjectEqualityComparator.INSTANCE=new ObjectEqualityComparator,s([c.Override],ObjectEqualityComparator.prototype,"hashCode",null),s([c.Override],ObjectEqualityComparator.prototype,"equals",null),o.ObjectEqualityComparator=ObjectEqualityComparator},16897:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ParseCancellationException=void 0;class ParseCancellationException extends Error{constructor(n){super(n.message),this.cause=n,this.stack=n.stack}getCause(){return this.cause}}o.ParseCancellationException=ParseCancellationException},88567:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.UUID=void 0;const s=i(75636);class UUID{constructor(n,o,i,s){this.data=new Uint32Array(4),this.data[0]=n,this.data[1]=o,this.data[2]=i,this.data[3]=s}static fromString(n){if(!/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(n))throw new Error("Incorrectly formatted UUID");let o=n.split("-"),i=parseInt(o[0],16),s=(parseInt(o[1],16)<<16>>>0)+parseInt(o[2],16),c=(parseInt(o[3],16)<<16>>>0)+parseInt(o[4].substr(0,4),16),h=parseInt(o[4].substr(-8),16);return new UUID(i,s,c,h)}hashCode(){return s.MurmurHash.hashCode([this.data[0],this.data[1],this.data[2],this.data[3]])}equals(n){return n===this||n instanceof UUID&&(this.data[0]===n.data[0]&&this.data[1]===n.data[1]&&this.data[2]===n.data[2]&&this.data[3]===n.data[3])}toString(){return("00000000"+this.data[0].toString(16)).substr(-8)+"-"+("0000"+(this.data[1]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[1].toString(16)).substr(-4)+"-"+("0000"+(this.data[2]>>>16).toString(16)).substr(-4)+"-"+("0000"+this.data[2].toString(16)).substr(-4)+("00000000"+this.data[3].toString(16)).substr(-8)}}o.UUID=UUID},40659:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.toCharArray=o.toMap=o.equals=o.join=o.escapeWhitespace=void 0,o.escapeWhitespace=function escapeWhitespace(n,o){return o?n.replace(/ /,""):n.replace(/\t/,"\\t").replace(/\n/,"\\n").replace(/\r/,"\\r")},o.join=function join(n,o){let i="",s=!0;for(let c of n)s?s=!1:i+=o,i+=c;return i},o.equals=function equals(n,o){return n===o||void 0!==n&&void 0!==o&&n.equals(o)},o.toMap=function toMap(n){let o=new Map;for(let i=0;i<n.length;i++)o.set(n[i],i);return o},o.toCharArray=function toCharArray(n){if("string"==typeof n){let o=new Uint16Array(n.length);for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);return o}return n.toCharArray()}},61964:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.ErrorNode=void 0;const c=i(72399),h=i(30360);class ErrorNode extends h.TerminalNode{constructor(n){super(n)}accept(n){return n.visitErrorNode(this)}}s([c.Override],ErrorNode.prototype,"accept",null),o.ErrorNode=ErrorNode},85378:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.RuleNode=void 0;o.RuleNode=class RuleNode{}},30360:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.TerminalNode=void 0;const c=i(7477),h=i(72399),f=i(47760);class TerminalNode{constructor(n){this._symbol=n}getChild(n){throw new RangeError("Terminal Node has no children.")}get symbol(){return this._symbol}get parent(){return this._parent}setParent(n){this._parent=n}get payload(){return this._symbol}get sourceInterval(){let n=this._symbol.tokenIndex;return new c.Interval(n,n)}get childCount(){return 0}accept(n){return n.visitTerminal(this)}get text(){return this._symbol.text||""}toStringTree(n){return this.toString()}toString(){return this._symbol.type===f.Token.EOF?"<EOF>":this._symbol.text||""}}s([h.Override],TerminalNode.prototype,"getChild",null),s([h.Override],TerminalNode.prototype,"parent",null),s([h.Override],TerminalNode.prototype,"setParent",null),s([h.Override],TerminalNode.prototype,"payload",null),s([h.Override],TerminalNode.prototype,"sourceInterval",null),s([h.Override],TerminalNode.prototype,"childCount",null),s([h.Override],TerminalNode.prototype,"accept",null),s([h.Override],TerminalNode.prototype,"text",null),s([h.Override],TerminalNode.prototype,"toStringTree",null),s([h.Override],TerminalNode.prototype,"toString",null),o.TerminalNode=TerminalNode},7239:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Trees=void 0;const h=i(74274),f=i(48291),E=i(61964),S=i(72399),A=i(35922),O=i(41097),T=i(85378),_=i(30360),D=i(47760),N=i(40659);class Trees{static toStringTree(n,o){let i;i=o instanceof A.Parser?o.ruleNames:o;let s=N.escapeWhitespace(this.getNodeText(n,i),!1);if(0===n.childCount)return s;let c="";c+="(",s=N.escapeWhitespace(this.getNodeText(n,i),!1),c+=s,c+=" ";for(let o=0;o<n.childCount;o++)o>0&&(c+=" "),c+=this.toStringTree(n.getChild(o),i);return c+=")",c}static getNodeText(n,o){let i;if(o instanceof A.Parser)i=o.ruleNames;else{if(!o){let o=n.payload;return"string"==typeof o.text?o.text:n.payload.toString()}i=o}if(n instanceof T.RuleNode){let o=n.ruleContext,s=i[o.ruleIndex],c=o.altNumber;return c!==h.ATN.INVALID_ALT_NUMBER?s+":"+c:s}if(n instanceof E.ErrorNode)return n.toString();if(n instanceof _.TerminalNode){return n.symbol.text||""}throw new TypeError("Unexpected node type")}static getChildren(n){let o=[];for(let i=0;i<n.childCount;i++)o.push(n.getChild(i));return o}static getAncestors(n){let o=[],i=n.parent;for(;i;)o.unshift(i),i=i.parent;return o}static isAncestorOf(n,o){if(!n||!o||!n.parent)return!1;let i=o.parent;for(;i;){if(n===i)return!0;i=i.parent}return!1}static findAllTokenNodes(n,o){return Trees.findAllNodes(n,o,!0)}static findAllRuleNodes(n,o){return Trees.findAllNodes(n,o,!1)}static findAllNodes(n,o,i){let s=[];return Trees._findAllNodes(n,o,i,s),s}static _findAllNodes(n,o,i,s){i&&n instanceof _.TerminalNode?n.symbol.type===o&&s.push(n):!i&&n instanceof O.ParserRuleContext&&n.ruleIndex===o&&s.push(n);for(let c=0;c<n.childCount;c++)Trees._findAllNodes(n.getChild(c),o,i,s)}static getDescendants(n){let o=[];return function recurse(n){o.push(n);const i=n.childCount;for(let o=0;o<i;o++)recurse(n.getChild(o))}(n),o}static getRootOfSubtreeEnclosingRegion(n,o,i){let s=n.childCount;for(let c=0;c<s;c++){let s=n.getChild(c),h=Trees.getRootOfSubtreeEnclosingRegion(s,o,i);if(h)return h}if(n instanceof O.ParserRuleContext){let s=n.stop;if(o>=n.start.tokenIndex&&(null==s||i<=s.tokenIndex))return n}}static stripChildrenOutOfRange(n,o,i,s){if(!n)return;let c=n.childCount;for(let h=0;h<c;h++){let c=n.getChild(h),E=c.sourceInterval;if(c instanceof O.ParserRuleContext&&(E.b<i||E.a>s)&&Trees.isAncestorOf(c,o)){let o=new f.CommonToken(D.Token.INVALID_TYPE,"...");n.children[h]=new _.TerminalNode(o)}}}static findNodeSuchThat(n,o){if(o(n))return n;let i=n.childCount;for(let s=0;s<i;s++){let i=Trees.findNodeSuchThat(n.getChild(s),o);if(void 0!==i)return i}}}s([c(0,S.NotNull)],Trees,"toStringTree",null),s([S.NotNull,c(0,S.NotNull)],Trees,"getAncestors",null),s([c(0,S.NotNull)],Trees,"getRootOfSubtreeEnclosingRegion",null),o.Trees=Trees},80934:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Chunk=void 0;o.Chunk=class Chunk{}},28571:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ParseTreeMatch=void 0;const h=i(72399);let f=class ParseTreeMatch{constructor(n,o,i,s){if(!n)throw new Error("tree cannot be null");if(!o)throw new Error("pattern cannot be null");if(!i)throw new Error("labels cannot be null");this._tree=n,this._pattern=o,this._labels=i,this._mismatchedNode=s}get(n){let o=this._labels.get(n);if(o&&0!==o.length)return o[o.length-1]}getAll(n){const o=this._labels.get(n);return o||[]}get labels(){return this._labels}get mismatchedNode(){return this._mismatchedNode}get succeeded(){return!this._mismatchedNode}get pattern(){return this._pattern}get tree(){return this._tree}toString(){return`Match ${this.succeeded?"succeeded":"failed"}; found ${this.labels.size} labels`}};s([h.NotNull,c(0,h.NotNull)],f.prototype,"getAll",null),s([h.NotNull],f.prototype,"labels",null),s([h.NotNull],f.prototype,"pattern",null),s([h.NotNull],f.prototype,"tree",null),s([h.Override],f.prototype,"toString",null),f=s([c(0,h.NotNull),c(1,h.NotNull),c(2,h.NotNull)],f),o.ParseTreeMatch=f},95920:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ParseTreePattern=void 0;const h=i(72399),f=i(46605);let E=class ParseTreePattern{constructor(n,o,i,s){this._matcher=n,this._patternRuleIndex=i,this._pattern=o,this._patternTree=s}match(n){return this._matcher.match(n,this)}matches(n){return this._matcher.match(n,this).succeeded}findAll(n,o){let i=f.XPath.findAll(n,o,this._matcher.parser),s=[];for(let n of i){let o=this.match(n);o.succeeded&&s.push(o)}return s}get matcher(){return this._matcher}get pattern(){return this._pattern}get patternRuleIndex(){return this._patternRuleIndex}get patternTree(){return this._patternTree}};s([h.NotNull],E.prototype,"_pattern",void 0),s([h.NotNull],E.prototype,"_patternTree",void 0),s([h.NotNull],E.prototype,"_matcher",void 0),s([h.NotNull,c(0,h.NotNull)],E.prototype,"match",null),s([c(0,h.NotNull)],E.prototype,"matches",null),s([h.NotNull,c(0,h.NotNull),c(1,h.NotNull)],E.prototype,"findAll",null),s([h.NotNull],E.prototype,"matcher",null),s([h.NotNull],E.prototype,"pattern",null),s([h.NotNull],E.prototype,"patternTree",null),E=s([c(0,h.NotNull),c(1,h.NotNull),c(3,h.NotNull)],E),o.ParseTreePattern=E},44864:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ParseTreePatternMatcher=void 0;const h=i(27442),f=i(36776),E=i(95411),S=i(309),A=i(10821),O=i(72399),T=i(16897),_=i(49274),D=i(41097),N=i(28571),R=i(95920),x=i(79449),P=i(85378),M=i(94776),I=i(66705),B=i(30360),F=i(66947),L=i(47760),k=i(3303);class ParseTreePatternMatcher{constructor(n,o){this.start="<",this.stop=">",this.escape="\\",this.escapeRE=/\\/g,this._lexer=n,this._parser=o}setDelimiters(n,o,i){if(!n)throw new Error("start cannot be null or empty");if(!o)throw new Error("stop cannot be null or empty");this.start=n,this.stop=o,this.escape=i,this.escapeRE=new RegExp(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g")}matches(n,o,i=0){if("string"==typeof o){let s=this.compile(o,i);return this.matches(n,s)}{let i=new A.MultiMap;return!this.matchImpl(n,o.patternTree,i)}}match(n,o,i=0){if("string"==typeof o){let s=this.compile(o,i);return this.match(n,s)}{let i=new A.MultiMap,s=this.matchImpl(n,o.patternTree,i);return new N.ParseTreeMatch(n,o,i,s)}}compile(n,o){let i=this.tokenize(n),s=new S.ListTokenSource(i),c=new E.CommonTokenStream(s);const f=this._parser;let A,O=new _.ParserInterpreter(f.grammarFileName,f.vocabulary,f.ruleNames,f.getATNWithBypassAlts(),c);try{O.errorHandler=new h.BailErrorStrategy,A=O.parse(o)}catch(n){throw n instanceof T.ParseCancellationException?n.getCause():n instanceof x.RecognitionException?n:n instanceof Error?new ParseTreePatternMatcher.CannotInvokeStartRule(n):n}if(c.LA(1)!==L.Token.EOF)throw new ParseTreePatternMatcher.StartRuleDoesNotConsumeFullPattern;return new R.ParseTreePattern(this,n,o,A)}get lexer(){return this._lexer}get parser(){return this._parser}matchImpl(n,o,i){if(!n)throw new TypeError("tree cannot be null");if(!o)throw new TypeError("patternTree cannot be null");if(n instanceof B.TerminalNode&&o instanceof B.TerminalNode){let s;if(n.symbol.type===o.symbol.type)if(o.symbol instanceof k.TokenTagToken){let s=o.symbol;i.map(s.tokenName,n);const c=s.label;c&&i.map(c,n)}else n.text===o.text||s||(s=n);else s||(s=n);return s}if(n instanceof D.ParserRuleContext&&o instanceof D.ParserRuleContext){let s,c=this.getRuleTagToken(o);if(c){if(n.ruleContext.ruleIndex===o.ruleContext.ruleIndex){i.map(c.ruleName,n);const o=c.label;o&&i.map(o,n)}else s||(s=n);return s}if(n.childCount!==o.childCount)return s||(s=n),s;let h=n.childCount;for(let s=0;s<h;s++){let c=this.matchImpl(n.getChild(s),o.getChild(s),i);if(c)return c}return s}return n}getRuleTagToken(n){if(n instanceof P.RuleNode&&1===n.childCount&&n.getChild(0)instanceof B.TerminalNode){let o=n.getChild(0);if(o.symbol instanceof M.RuleTagToken)return o.symbol}}tokenize(n){let o=this.split(n),i=[];for(let s of o)if(s instanceof I.TagChunk){let o=s;const c=o.tag.substr(0,1);if(c===c.toUpperCase()){let s=this._parser.getTokenType(o.tag);if(s===L.Token.INVALID_TYPE)throw new Error("Unknown token "+o.tag+" in pattern: "+n);let c=new k.TokenTagToken(o.tag,s,o.label);i.push(c)}else{if(c!==c.toLowerCase())throw new Error("invalid tag: "+o.tag+" in pattern: "+n);{let s=this._parser.getRuleIndex(o.tag);if(-1===s)throw new Error("Unknown rule "+o.tag+" in pattern: "+n);let c=this._parser.getATNWithBypassAlts().ruleToTokenType[s];i.push(new M.RuleTagToken(o.tag,c,o.label))}}}else{let n=s;this._lexer.inputStream=f.CharStreams.fromString(n.text);let o=this._lexer.nextToken();for(;o.type!==L.Token.EOF;)i.push(o),o=this._lexer.nextToken()}return i}split(n){let o=0,i=n.length,s=[],c=[],h=[];for(;o<i;)o===n.indexOf(this.escape+this.start,o)?o+=this.escape.length+this.start.length:o===n.indexOf(this.escape+this.stop,o)?o+=this.escape.length+this.stop.length:o===n.indexOf(this.start,o)?(c.push(o),o+=this.start.length):o===n.indexOf(this.stop,o)?(h.push(o),o+=this.stop.length):o++;if(c.length>h.length)throw new Error("unterminated tag in pattern: "+n);if(c.length<h.length)throw new Error("missing start tag in pattern: "+n);let f=c.length;for(let o=0;o<f;o++)if(c[o]>=h[o])throw new Error("tag delimiters out of order in pattern: "+n);if(0===f){let o=n.substring(0,i);s.push(new F.TextChunk(o))}if(f>0&&c[0]>0){let o=n.substring(0,c[0]);s.push(new F.TextChunk(o))}for(let o=0;o<f;o++){let i,E=n.substring(c[o]+this.start.length,h[o]),S=E,A=E.indexOf(":");if(A>=0&&(i=E.substring(0,A),S=E.substring(A+1,E.length)),s.push(new I.TagChunk(S,i)),o+1<f){let i=n.substring(h[o]+this.stop.length,c[o+1]);s.push(new F.TextChunk(i))}}if(f>0){let o=h[f-1]+this.stop.length;if(o<i){let c=n.substring(o,i);s.push(new F.TextChunk(c))}}for(let n=0;n<s.length;n++){let o=s[n];if(o instanceof F.TextChunk){let i=o.text.replace(this.escapeRE,"");i.length<o.text.length&&(s[n]=new F.TextChunk(i))}}return s}}s([O.NotNull,c(1,O.NotNull)],ParseTreePatternMatcher.prototype,"match",null),s([O.NotNull],ParseTreePatternMatcher.prototype,"lexer",null),s([O.NotNull],ParseTreePatternMatcher.prototype,"parser",null),s([c(0,O.NotNull),c(1,O.NotNull),c(2,O.NotNull)],ParseTreePatternMatcher.prototype,"matchImpl",null),o.ParseTreePatternMatcher=ParseTreePatternMatcher,function(n){class CannotInvokeStartRule extends Error{constructor(n){super(`CannotInvokeStartRule: ${n}`),this.error=n}}n.CannotInvokeStartRule=CannotInvokeStartRule;class StartRuleDoesNotConsumeFullPattern extends Error{constructor(){super("StartRuleDoesNotConsumeFullPattern")}}n.StartRuleDoesNotConsumeFullPattern=StartRuleDoesNotConsumeFullPattern}(ParseTreePatternMatcher=o.ParseTreePatternMatcher||(o.ParseTreePatternMatcher={}))},94776:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RuleTagToken=void 0;const h=i(72399),f=i(47760);let E=class RuleTagToken{constructor(n,o,i){if(null==n||0===n.length)throw new Error("ruleName cannot be null or empty.");this._ruleName=n,this.bypassTokenType=o,this._label=i}get ruleName(){return this._ruleName}get label(){return this._label}get channel(){return f.Token.DEFAULT_CHANNEL}get text(){return null!=this._label?"<"+this._label+":"+this._ruleName+">":"<"+this._ruleName+">"}get type(){return this.bypassTokenType}get line(){return 0}get charPositionInLine(){return-1}get tokenIndex(){return-1}get startIndex(){return-1}get stopIndex(){return-1}get tokenSource(){}get inputStream(){}toString(){return this._ruleName+":"+this.bypassTokenType}};s([h.NotNull],E.prototype,"ruleName",null),s([h.Override],E.prototype,"channel",null),s([h.Override],E.prototype,"text",null),s([h.Override],E.prototype,"type",null),s([h.Override],E.prototype,"line",null),s([h.Override],E.prototype,"charPositionInLine",null),s([h.Override],E.prototype,"tokenIndex",null),s([h.Override],E.prototype,"startIndex",null),s([h.Override],E.prototype,"stopIndex",null),s([h.Override],E.prototype,"tokenSource",null),s([h.Override],E.prototype,"inputStream",null),s([h.Override],E.prototype,"toString",null),E=s([c(0,h.NotNull)],E),o.RuleTagToken=E},66705:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.TagChunk=void 0;const c=i(80934),h=i(72399);class TagChunk extends c.Chunk{constructor(n,o){if(super(),null==n||0===n.length)throw new Error("tag cannot be null or empty");this._tag=n,this._label=o}get tag(){return this._tag}get label(){return this._label}toString(){return null!=this._label?this._label+":"+this._tag:this._tag}}s([h.NotNull],TagChunk.prototype,"tag",null),s([h.Override],TagChunk.prototype,"toString",null),o.TagChunk=TagChunk},66947:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.TextChunk=void 0;const h=i(80934),f=i(72399);let E=class TextChunk extends h.Chunk{constructor(n){if(super(),null==n)throw new Error("text cannot be null");this._text=n}get text(){return this._text}toString(){return"'"+this._text+"'"}};s([f.NotNull],E.prototype,"_text",void 0),s([f.NotNull],E.prototype,"text",null),s([f.Override],E.prototype,"toString",null),E=s([c(0,f.NotNull)],E),o.TextChunk=E},3303:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f},c=this&&this.__param||function(n,o){return function(i,s){o(i,s,n)}};Object.defineProperty(o,"__esModule",{value:!0}),o.TokenTagToken=void 0;const h=i(48291),f=i(72399);let E=class TokenTagToken extends h.CommonToken{constructor(n,o,i){super(o),this._tokenName=n,this._label=i}get tokenName(){return this._tokenName}get label(){return this._label}get text(){return null!=this._label?"<"+this._label+":"+this._tokenName+">":"<"+this._tokenName+">"}toString(){return this._tokenName+":"+this.type}};s([f.NotNull],E.prototype,"_tokenName",void 0),s([f.NotNull],E.prototype,"tokenName",null),s([f.Override],E.prototype,"text",null),s([f.Override],E.prototype,"toString",null),E=s([c(0,f.NotNull)],E),o.TokenTagToken=E},46605:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.XPath=void 0;const s=i(36776),c=i(95411),h=i(86181),f=i(41097),E=i(47760),S=i(59939),A=i(42593),O=i(90996),T=i(46739),_=i(72193),D=i(56578),N=i(77712),R=i(72431);class XPath{constructor(n,o){this.parser=n,this.path=o,this.elements=this.split(o)}split(n){let o=new S.XPathLexer(s.CharStreams.fromString(n));o.recover=n=>{throw n},o.removeErrorListeners(),o.addErrorListener(new A.XPathLexerErrorListener);let i=new c.CommonTokenStream(o);try{i.fill()}catch(i){if(i instanceof h.LexerNoViableAltException){let s="Invalid tokens or characters at index "+o.charPositionInLine+" in path '"+n+"' -- "+i.message;throw new RangeError(s)}throw i}let f=i.getTokens(),O=[],T=f.length,_=0;e:for(;_<T;){let n,o=f[_];switch(o.type){case S.XPathLexer.ROOT:case S.XPathLexer.ANYWHERE:let i=o.type===S.XPathLexer.ANYWHERE;_++,n=f[_];let s=n.type===S.XPathLexer.BANG;s&&(_++,n=f[_]);let c=this.getXPathElement(n,i);c.invert=s,O.push(c),_++;break;case S.XPathLexer.TOKEN_REF:case S.XPathLexer.RULE_REF:case S.XPathLexer.WILDCARD:O.push(this.getXPathElement(o,!1)),_++;break;case E.Token.EOF:break e;default:throw new Error("Unknowth path element "+o)}}return O}getXPathElement(n,o){if(n.type===E.Token.EOF)throw new Error("Missing path element at end of path");let i=n.text;if(null==i)throw new Error("Expected wordToken to have text content.");let s=this.parser.getTokenType(i),c=this.parser.getRuleIndex(i);switch(n.type){case S.XPathLexer.WILDCARD:return o?new N.XPathWildcardAnywhereElement:new R.XPathWildcardElement;case S.XPathLexer.TOKEN_REF:case S.XPathLexer.STRING:if(s===E.Token.INVALID_TYPE)throw new Error(i+" at index "+n.startIndex+" isn't a valid token name");return o?new _.XPathTokenAnywhereElement(i,s):new D.XPathTokenElement(i,s);default:if(-1===c)throw new Error(i+" at index "+n.startIndex+" isn't a valid rule name");return o?new O.XPathRuleAnywhereElement(i,c):new T.XPathRuleElement(i,c)}}static findAll(n,o,i){return new XPath(i,o).evaluate(n)}evaluate(n){let o=new f.ParserRuleContext;o.addChild(n);let i=new Set([o]),s=0;for(;s<this.elements.length;){let n=new Set;for(let o of i)if(o.childCount>0){this.elements[s].evaluate(o).forEach(n.add,n)}s++,i=n}return i}}o.XPath=XPath,XPath.WILDCARD="*",XPath.NOT="!"},56869:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.XPathElement=void 0;const c=i(72399);class XPathElement{constructor(n){this.nodeName=n,this.invert=!1}toString(){let n=this.invert?"!":"";return Object.constructor.name+"["+n+this.nodeName+"]"}}s([c.Override],XPathElement.prototype,"toString",null),o.XPathElement=XPathElement},59939:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.XPathLexer=void 0;const s=i(60493),c=i(22807),h=i(21088),f=i(67435),E=i(40659);class XPathLexer extends c.Lexer{constructor(n){super(n),this._interp=new h.LexerATNSimulator(XPathLexer._ATN,this)}get vocabulary(){return XPathLexer.VOCABULARY}get grammarFileName(){return"XPathLexer.g4"}get ruleNames(){return XPathLexer.ruleNames}get serializedATN(){return XPathLexer._serializedATN}get channelNames(){return XPathLexer.channelNames}get modeNames(){return XPathLexer.modeNames}action(n,o,i){if(4===o)this.ID_action(n,i)}ID_action(n,o){if(0===o){let n=this.text;n.charAt(0)===n.charAt(0).toUpperCase()?this.type=XPathLexer.TOKEN_REF:this.type=XPathLexer.RULE_REF}}static get _ATN(){return XPathLexer.__ATN||(XPathLexer.__ATN=(new s.ATNDeserializer).deserialize(E.toCharArray(XPathLexer._serializedATN))),XPathLexer.__ATN}}o.XPathLexer=XPathLexer,XPathLexer.TOKEN_REF=1,XPathLexer.RULE_REF=2,XPathLexer.ANYWHERE=3,XPathLexer.ROOT=4,XPathLexer.WILDCARD=5,XPathLexer.BANG=6,XPathLexer.ID=7,XPathLexer.STRING=8,XPathLexer.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"],XPathLexer.modeNames=["DEFAULT_MODE"],XPathLexer.ruleNames=["ANYWHERE","ROOT","WILDCARD","BANG","ID","NameChar","NameStartChar","STRING"],XPathLexer._LITERAL_NAMES=[void 0,void 0,void 0,"'//'","'/'","'*'","'!'"],XPathLexer._SYMBOLIC_NAMES=[void 0,"TOKEN_REF","RULE_REF","ANYWHERE","ROOT","WILDCARD","BANG","ID","STRING"],XPathLexer.VOCABULARY=new f.VocabularyImpl(XPathLexer._LITERAL_NAMES,XPathLexer._SYMBOLIC_NAMES,[]),XPathLexer._serializedATNSegments=2,XPathLexer._serializedATNSegment0='\n2\b\t\t\t\t\t\t\b\t\b\t\t\t\n\f"\v\b\b\t\t\t,\n\t\f\t\t/\v\t\t\t-\n\t\b\v\t\r\n\n2;C\\aac|\r(*<>?AOR_\ud801\uda02\uda38\uda3d\uda6e\uda77\uda77\uda86\uda86\uda9d\udaa1\udaa3\udab1"C\\c|\r(*<>?AOR_',XPathLexer._serializedATNSegment1="1\t\v\t\v\r%')111,\b#\n \b\r\"  !!#\" #$\b$\f%&\t&'(\t()-)*,\v+*,/-.-+.0/-01)1 -",XPathLexer._serializedATN=E.join([XPathLexer._serializedATNSegment0,XPathLexer._serializedATNSegment1],"")},42593:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.XPathLexerErrorListener=void 0;const c=i(72399);class XPathLexerErrorListener{syntaxError(n,o,i,s,c,h){}}s([c.Override],XPathLexerErrorListener.prototype,"syntaxError",null),o.XPathLexerErrorListener=XPathLexerErrorListener},90996:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.XPathRuleAnywhereElement=void 0;const c=i(72399),h=i(7239),f=i(56869);class XPathRuleAnywhereElement extends f.XPathElement{constructor(n,o){super(n),this.ruleIndex=o}evaluate(n){return h.Trees.findAllRuleNodes(n,this.ruleIndex)}}s([c.Override],XPathRuleAnywhereElement.prototype,"evaluate",null),o.XPathRuleAnywhereElement=XPathRuleAnywhereElement},46739:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.XPathRuleElement=void 0;const c=i(41097),h=i(72399),f=i(7239),E=i(56869);class XPathRuleElement extends E.XPathElement{constructor(n,o){super(n),this.ruleIndex=o}evaluate(n){let o=[];for(let i of f.Trees.getChildren(n))i instanceof c.ParserRuleContext&&(i.ruleIndex===this.ruleIndex&&!this.invert||i.ruleIndex!==this.ruleIndex&&this.invert)&&o.push(i);return o}}s([h.Override],XPathRuleElement.prototype,"evaluate",null),o.XPathRuleElement=XPathRuleElement},72193:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.XPathTokenAnywhereElement=void 0;const c=i(72399),h=i(7239),f=i(56869);class XPathTokenAnywhereElement extends f.XPathElement{constructor(n,o){super(n),this.tokenType=o}evaluate(n){return h.Trees.findAllTokenNodes(n,this.tokenType)}}s([c.Override],XPathTokenAnywhereElement.prototype,"evaluate",null),o.XPathTokenAnywhereElement=XPathTokenAnywhereElement},56578:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.XPathTokenElement=void 0;const c=i(72399),h=i(30360),f=i(7239),E=i(56869);class XPathTokenElement extends E.XPathElement{constructor(n,o){super(n),this.tokenType=o}evaluate(n){let o=[];for(let i of f.Trees.getChildren(n))i instanceof h.TerminalNode&&(i.symbol.type===this.tokenType&&!this.invert||i.symbol.type!==this.tokenType&&this.invert)&&o.push(i);return o}}s([c.Override],XPathTokenElement.prototype,"evaluate",null),o.XPathTokenElement=XPathTokenElement},77712:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.XPathWildcardAnywhereElement=void 0;const c=i(72399),h=i(7239),f=i(46605),E=i(56869);class XPathWildcardAnywhereElement extends E.XPathElement{constructor(){super(f.XPath.WILDCARD)}evaluate(n){return this.invert?[]:h.Trees.getDescendants(n)}}s([c.Override],XPathWildcardAnywhereElement.prototype,"evaluate",null),o.XPathWildcardAnywhereElement=XPathWildcardAnywhereElement},72431:function(n,o,i){"use strict";var s=this&&this.__decorate||function(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f};Object.defineProperty(o,"__esModule",{value:!0}),o.XPathWildcardElement=void 0;const c=i(72399),h=i(7239),f=i(46605),E=i(56869);class XPathWildcardElement extends E.XPathElement{constructor(){super(f.XPath.WILDCARD)}evaluate(n){let o=[];if(this.invert)return o;for(let i of h.Trees.getChildren(n))o.push(i);return o}}s([c.Override],XPathWildcardElement.prototype,"evaluate",null),o.XPathWildcardElement=XPathWildcardElement},44832:n=>{function Pager(n,o){if(!(this instanceof Pager))return new Pager(n,o);this.length=0,this.updates=[],this.path=new Uint16Array(4),this.pages=new Array(32768),this.maxPages=this.pages.length,this.level=0,this.pageSize=n||1024,this.deduplicate=o?o.deduplicate:null,this.zeros=this.deduplicate?alloc(this.deduplicate.length):null}function alloc(n){if(Buffer.alloc)return Buffer.alloc(n);var o=new Buffer(n);return o.fill(0),o}function Page(n,o){this.offset=n*o.length,this.buffer=o,this.updated=!1,this.deduplicate=0}n.exports=Pager,Pager.prototype.updated=function(n){for(;this.deduplicate&&n.buffer[n.deduplicate]===this.deduplicate[n.deduplicate];)if(n.deduplicate++,n.deduplicate===this.deduplicate.length){n.deduplicate=0,n.buffer.equals&&n.buffer.equals(this.deduplicate)&&(n.buffer=this.deduplicate);break}!n.updated&&this.updates&&(n.updated=!0,this.updates.push(n))},Pager.prototype.lastUpdate=function(){if(!this.updates||!this.updates.length)return null;var n=this.updates.pop();return n.updated=!1,n},Pager.prototype._array=function(n,o){if(n>=this.maxPages){if(o)return;!function grow(n,o){for(;n.maxPages<o;){var i=n.pages;n.pages=new Array(32768),n.pages[0]=i,n.level++,n.maxPages*=32768}}(this,n)}!function factor(n,o){n=((n=(n-(o[0]=32767&n))/32768)-(o[1]=32767&n))/32768,o[3]=(n-(o[2]=32767&n))/32768&32767}(n,this.path);for(var i=this.pages,s=this.level;s>0;s--){var c=this.path[s],h=i[c];if(!h){if(o)return;h=i[c]=new Array(32768)}i=h}return i},Pager.prototype.get=function(n,o){var i=this._array(n,o),s=this.path[0],c=i&&i[s];return c||o||(c=i[s]=new Page(n,alloc(this.pageSize)),n>=this.length&&(this.length=n+1)),c&&c.buffer===this.deduplicate&&this.deduplicate&&!o&&(c.buffer=function copy(n){var o=Buffer.allocUnsafe?Buffer.allocUnsafe(n.length):new Buffer(n.length);return n.copy(o),o}(c.buffer),c.deduplicate=0),c},Pager.prototype.set=function(n,o){var i=this._array(n,!1),s=this.path[0];if(n>=this.length&&(this.length=n+1),!o||this.zeros&&o.equals&&o.equals(this.zeros))i[s]=void 0;else{this.deduplicate&&o.equals&&o.equals(this.deduplicate)&&(o=this.deduplicate);var c=i[s],h=function truncate(n,o){if(n.length===o)return n;if(n.length>o)return n.slice(0,o);var i=alloc(o);return n.copy(i),i}(o,this.pageSize);c?c.buffer=h:i[s]=new Page(n,h)}},Pager.prototype.toBuffer=function(){for(var n=new Array(this.length),o=alloc(this.pageSize),i=0;i<n.length;)for(var s=this._array(i,!0),c=0;c<32768&&i<n.length;c++)n[i++]=s&&s[c]?s[c].buffer:o;return Buffer.concat(n)}},93858:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CommaAndColonSeparatedRecord=o.ConnectionString=o.redactConnectionString=void 0;const s=i(75833),c=i(17025);Object.defineProperty(o,"redactConnectionString",{enumerable:!0,get:function(){return c.redactConnectionString}});const h="__this_is_a_placeholder__";const f=/^(?<protocol>[^/]+):\/\/(?:(?<username>[^:@]*)(?::(?<password>[^@]*))?@)?(?<hosts>(?!:)[^/?@]*)(?<rest>.*)/;class CaseInsensitiveMap extends Map{delete(n){return super.delete(this._normalizeKey(n))}get(n){return super.get(this._normalizeKey(n))}has(n){return super.has(this._normalizeKey(n))}set(n,o){return super.set(this._normalizeKey(n),o)}_normalizeKey(n){n=`${n}`;for(const o of this.keys())if(o.toLowerCase()===n.toLowerCase()){n=o;break}return n}}class URLWithoutHost extends s.URL{}class MongoParseError extends Error{get name(){return"MongoParseError"}}class ConnectionString extends URLWithoutHost{constructor(n,o={}){var i;const{looseValidation:s}=o;if(!s&&!function connectionStringHasValidScheme(n){return n.startsWith("mongodb://")||n.startsWith("mongodb+srv://")}(n))throw new MongoParseError('Invalid scheme, expected connection string to start with "mongodb://" or "mongodb+srv://"');const c=n.match(f);if(!c)throw new MongoParseError(`Invalid connection string "${n}"`);const{protocol:E,username:S,password:A,hosts:O,rest:T}=null!==(i=c.groups)&&void 0!==i?i:{};if(!s){if(!E||!O)throw new MongoParseError(`Protocol and host list are required in "${n}"`);try{decodeURIComponent(null!=S?S:""),decodeURIComponent(null!=A?A:"")}catch(n){throw new MongoParseError(n.message)}const o=/[:/?#[\]@]/gi;if(null==S?void 0:S.match(o))throw new MongoParseError(`Username contains unescaped characters ${S}`);if(!S||!A){const o=n.replace(`${E}://`,"");if(o.startsWith("@")||o.startsWith(":"))throw new MongoParseError("URI contained empty userinfo section")}if(null==A?void 0:A.match(o))throw new MongoParseError("Password contains unescaped characters")}let _="";"string"==typeof S&&(_+=S),"string"==typeof A&&(_+=`:${A}`),_&&(_+="@");try{super(`${E.toLowerCase()}://${_}${h}${T}`)}catch(i){throw s&&new ConnectionString(n,{...o,looseValidation:!1}),"string"==typeof i.message&&(i.message=i.message.replace(h,O)),i}if(this._hosts=O.split(","),!s){if(this.isSRV&&1!==this.hosts.length)throw new MongoParseError("mongodb+srv URI cannot have multiple service names");if(this.isSRV&&this.hosts.some(n=>n.includes(":")))throw new MongoParseError("mongodb+srv URI cannot have port number")}this.pathname||(this.pathname="/"),Object.setPrototypeOf(this.searchParams,function caseInsenstiveURLSearchParams(n){return class CaseInsenstiveURLSearchParams extends n{append(n,o){return super.append(this._normalizeKey(n),o)}delete(n){return super.delete(this._normalizeKey(n))}get(n){return super.get(this._normalizeKey(n))}getAll(n){return super.getAll(this._normalizeKey(n))}has(n){return super.has(this._normalizeKey(n))}set(n,o){return super.set(this._normalizeKey(n),o)}keys(){return super.keys()}values(){return super.values()}entries(){return super.entries()}[Symbol.iterator](){return super[Symbol.iterator]()}_normalizeKey(n){return CaseInsensitiveMap.prototype._normalizeKey.call(this,n)}}}(this.searchParams.constructor).prototype)}get host(){return h}set host(n){throw new Error("No single host for connection string")}get hostname(){return h}set hostname(n){throw new Error("No single host for connection string")}get port(){return""}set port(n){throw new Error("No single host for connection string")}get href(){return this.toString()}set href(n){throw new Error("Cannot set href for connection strings")}get isSRV(){return this.protocol.includes("srv")}get hosts(){return this._hosts}set hosts(n){this._hosts=n}toString(){return super.toString().replace(h,this.hosts.join(","))}clone(){return new ConnectionString(this.toString(),{looseValidation:!0})}redact(n){return(0,c.redactValidConnectionString)(this,n)}typedSearchParams(){return this.searchParams}[Symbol.for("nodejs.util.inspect.custom")](){const{href:n,origin:o,protocol:i,username:s,password:c,hosts:h,pathname:f,search:E,searchParams:S,hash:A}=this;return{href:n,origin:o,protocol:i,username:s,password:c,hosts:h,pathname:f,search:E,searchParams:S,hash:A}}}o.ConnectionString=ConnectionString;o.CommaAndColonSeparatedRecord=class CommaAndColonSeparatedRecord extends CaseInsensitiveMap{constructor(n){super();for(const o of(null!=n?n:"").split(",")){if(!o)continue;const n=o.indexOf(":");-1===n?this.set(o,""):this.set(o.slice(0,n),o.slice(n+1))}}toString(){return[...this].map(n=>n.join(":")).join(",")}},o.default=ConnectionString},17025:function(n,o,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(n,o,i,s){void 0===s&&(s=i);var c=Object.getOwnPropertyDescriptor(o,i);c&&!("get"in c?!o.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,c)}:function(n,o,i,s){void 0===s&&(s=i),n[s]=o[i]}),c=this&&this.__setModuleDefault||(Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o}),h=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var o={};if(null!=n)for(var i in n)"default"!==i&&Object.prototype.hasOwnProperty.call(n,i)&&s(o,n,i);return c(o,n),o};Object.defineProperty(o,"__esModule",{value:!0}),o.redactConnectionString=o.redactValidConnectionString=void 0;const f=h(i(93858));o.redactValidConnectionString=function redactValidConnectionString(n,o){var i,s;const c=n.clone(),h=null!==(i=null==o?void 0:o.replacementString)&&void 0!==i?i:"_credentials_",E=null===(s=null==o?void 0:o.redactUsernames)||void 0===s||s;if((c.username||c.password)&&E?(c.username=h,c.password=""):c.password&&(c.password=h),c.searchParams.has("authMechanismProperties")){const n=new f.CommaAndColonSeparatedRecord(c.searchParams.get("authMechanismProperties"));n.get("AWS_SESSION_TOKEN")&&(n.set("AWS_SESSION_TOKEN",h),c.searchParams.set("authMechanismProperties",n.toString()))}return c.searchParams.has("tlsCertificateKeyFilePassword")&&c.searchParams.set("tlsCertificateKeyFilePassword",h),c.searchParams.has("proxyUsername")&&E&&c.searchParams.set("proxyUsername",h),c.searchParams.has("proxyPassword")&&c.searchParams.set("proxyPassword",h),c},o.redactConnectionString=function redactConnectionString(n,o){var i,s;const c=null!==(i=null==o?void 0:o.replacementString)&&void 0!==i?i:"<credentials>",h=null===(s=null==o?void 0:o.redactUsernames)||void 0===s||s;let E;try{E=new f.default(n)}catch(n){}if(E)return o={...o,replacementString:"___credentials___"},E.redact(o).toString().replace(/___credentials___/g,c);const S=c,A=[n=>n.replace(h?/(\/\/)(.*)(@)/g:/(\/\/[^@]*:)(.*)(@)/g,`$1${S}$3`),n=>n.replace(/(AWS_SESSION_TOKEN(:|%3A))([^,&]+)/gi,`$1${S}`),n=>n.replace(/(tlsCertificateKeyFilePassword=)([^&]+)/gi,`$1${S}`),n=>h?n.replace(/(proxyUsername=)([^&]+)/gi,`$1${S}`):n,n=>n.replace(/(proxyPassword=)([^&]+)/gi,`$1${S}`)];for(const o of A)n=o(n);return n}},47306:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Admin=void 0;const s=i(63403),c=i(86437),h=i(13463),f=i(67862),E=i(37639),S=i(35571),A=i(52060);o.Admin=class Admin{constructor(n){this.s={db:n}}async command(n,o){return await(0,c.executeOperation)(this.s.db.client,new E.RunCommandOperation(new A.MongoDBNamespace("admin"),n,{...(0,s.resolveBSONOptions)(o),session:o?.session,readPreference:o?.readPreference,timeoutMS:o?.timeoutMS??this.s.db.timeoutMS}))}async buildInfo(n){return await this.command({buildinfo:1},n)}async serverInfo(n){return await this.command({buildinfo:1},n)}async serverStatus(n){return await this.command({serverStatus:1},n)}async ping(n){return await this.command({ping:1},n)}async removeUser(n,o){return await(0,c.executeOperation)(this.s.db.client,new f.RemoveUserOperation(this.s.db,n,{dbName:"admin",...o}))}async validateCollection(n,o={}){return await(0,c.executeOperation)(this.s.db.client,new S.ValidateCollectionOperation(this,n,o))}async listDatabases(n){return await(0,c.executeOperation)(this.s.db.client,new h.ListDatabasesOperation(this.s.db,{timeoutMS:this.s.db.timeoutMS,...n}))}async replSetGetStatus(n){return await this.command({replSetGetStatus:1},n)}}},63403:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.toUTF8=o.getBigInt64LE=o.getFloat64LE=o.getInt32LE=o.UUID=o.Timestamp=o.serialize=o.ObjectId=o.MinKey=o.MaxKey=o.Long=o.Int32=o.EJSON=o.Double=o.deserialize=o.Decimal128=o.DBRef=o.Code=o.calculateObjectSize=o.BSONType=o.BSONSymbol=o.BSONRegExp=o.BSONError=o.BSON=o.Binary=void 0,o.parseToElementsToArray=function parseToElementsToArray(n,o){const i=s.BSON.onDemand.parseToElements(n,o);return Array.isArray(i)?i:[...i]},o.pluckBSONSerializeOptions=function pluckBSONSerializeOptions(n){const{fieldsAsRaw:o,useBigInt64:i,promoteValues:s,promoteBuffers:c,promoteLongs:h,serializeFunctions:f,ignoreUndefined:E,bsonRegExp:S,raw:A,enableUtf8Validation:O}=n;return{fieldsAsRaw:o,useBigInt64:i,promoteValues:s,promoteBuffers:c,promoteLongs:h,serializeFunctions:f,ignoreUndefined:E,bsonRegExp:S,raw:A,enableUtf8Validation:O}},o.resolveBSONOptions=function resolveBSONOptions(n,o){const i=o?.bsonOptions;return{raw:n?.raw??i?.raw??!1,useBigInt64:n?.useBigInt64??i?.useBigInt64??!1,promoteLongs:n?.promoteLongs??i?.promoteLongs??!0,promoteValues:n?.promoteValues??i?.promoteValues??!0,promoteBuffers:n?.promoteBuffers??i?.promoteBuffers??!1,ignoreUndefined:n?.ignoreUndefined??i?.ignoreUndefined??!1,bsonRegExp:n?.bsonRegExp??i?.bsonRegExp??!1,serializeFunctions:n?.serializeFunctions??i?.serializeFunctions??!1,fieldsAsRaw:n?.fieldsAsRaw??i?.fieldsAsRaw??{},enableUtf8Validation:n?.enableUtf8Validation??i?.enableUtf8Validation??!0}},o.parseUtf8ValidationOption=function parseUtf8ValidationOption(n){const o=n?.enableUtf8Validation;if(!1===o)return{utf8:!1};return{utf8:{writeErrors:!1}}};const s=i(83633);var c=i(83633);Object.defineProperty(o,"Binary",{enumerable:!0,get:function(){return c.Binary}}),Object.defineProperty(o,"BSON",{enumerable:!0,get:function(){return c.BSON}}),Object.defineProperty(o,"BSONError",{enumerable:!0,get:function(){return c.BSONError}}),Object.defineProperty(o,"BSONRegExp",{enumerable:!0,get:function(){return c.BSONRegExp}}),Object.defineProperty(o,"BSONSymbol",{enumerable:!0,get:function(){return c.BSONSymbol}}),Object.defineProperty(o,"BSONType",{enumerable:!0,get:function(){return c.BSONType}}),Object.defineProperty(o,"calculateObjectSize",{enumerable:!0,get:function(){return c.calculateObjectSize}}),Object.defineProperty(o,"Code",{enumerable:!0,get:function(){return c.Code}}),Object.defineProperty(o,"DBRef",{enumerable:!0,get:function(){return c.DBRef}}),Object.defineProperty(o,"Decimal128",{enumerable:!0,get:function(){return c.Decimal128}}),Object.defineProperty(o,"deserialize",{enumerable:!0,get:function(){return c.deserialize}}),Object.defineProperty(o,"Double",{enumerable:!0,get:function(){return c.Double}}),Object.defineProperty(o,"EJSON",{enumerable:!0,get:function(){return c.EJSON}}),Object.defineProperty(o,"Int32",{enumerable:!0,get:function(){return c.Int32}}),Object.defineProperty(o,"Long",{enumerable:!0,get:function(){return c.Long}}),Object.defineProperty(o,"MaxKey",{enumerable:!0,get:function(){return c.MaxKey}}),Object.defineProperty(o,"MinKey",{enumerable:!0,get:function(){return c.MinKey}}),Object.defineProperty(o,"ObjectId",{enumerable:!0,get:function(){return c.ObjectId}}),Object.defineProperty(o,"serialize",{enumerable:!0,get:function(){return c.serialize}}),Object.defineProperty(o,"Timestamp",{enumerable:!0,get:function(){return c.Timestamp}}),Object.defineProperty(o,"UUID",{enumerable:!0,get:function(){return c.UUID}}),o.getInt32LE=s.BSON.onDemand.NumberUtils.getInt32LE,o.getFloat64LE=s.BSON.onDemand.NumberUtils.getFloat64LE,o.getBigInt64LE=s.BSON.onDemand.NumberUtils.getBigInt64LE,o.toUTF8=s.BSON.onDemand.ByteUtils.toUTF8},53717:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.BulkOperationBase=o.FindOperators=o.MongoBulkWriteError=o.WriteError=o.WriteConcernError=o.BulkWriteResult=o.Batch=o.BatchType=void 0,o.mergeBatchResults=mergeBatchResults;const s=i(63403),c=i(86947),h=i(20321),f=i(86437),E=i(42011),S=i(48703),A=i(38286),O=i(52060),T=i(98349);o.BatchType=Object.freeze({INSERT:1,UPDATE:2,DELETE:3});o.Batch=class Batch{constructor(n,o){this.originalZeroIndex=o,this.currentIndex=0,this.originalIndexes=[],this.batchType=n,this.operations=[],this.size=0,this.sizeBytes=0}};class BulkWriteResult{static generateIdMap(n){const o={};for(const i of n)o[i.index]=i._id;return o}constructor(n,o){this.result=n,this.insertedCount=this.result.nInserted??0,this.matchedCount=this.result.nMatched??0,this.modifiedCount=this.result.nModified??0,this.deletedCount=this.result.nRemoved??0,this.upsertedCount=this.result.upserted.length??0,this.upsertedIds=BulkWriteResult.generateIdMap(this.result.upserted),this.insertedIds=BulkWriteResult.generateIdMap(this.getSuccessfullyInsertedIds(n,o)),Object.defineProperty(this,"result",{value:this.result,enumerable:!1})}get ok(){return this.result.ok}getSuccessfullyInsertedIds(n,o){return 0===n.writeErrors.length?n.insertedIds:o?n.insertedIds.slice(0,n.writeErrors[0].index):n.insertedIds.filter(({index:o})=>!n.writeErrors.some(n=>o===n.index))}getUpsertedIdAt(n){return this.result.upserted[n]}getRawResponse(){return this.result}hasWriteErrors(){return this.result.writeErrors.length>0}getWriteErrorCount(){return this.result.writeErrors.length}getWriteErrorAt(n){return n<this.result.writeErrors.length?this.result.writeErrors[n]:void 0}getWriteErrors(){return this.result.writeErrors}getWriteConcernError(){if(0!==this.result.writeConcernErrors.length){if(1===this.result.writeConcernErrors.length)return this.result.writeConcernErrors[0];{let n="";for(let o=0;o<this.result.writeConcernErrors.length;o++){n+=this.result.writeConcernErrors[o].errmsg,0===o&&(n+=" and ")}return new WriteConcernError({errmsg:n,code:c.MONGODB_ERROR_CODES.WriteConcernTimeout})}}}toString(){return`BulkWriteResult(${s.EJSON.stringify(this.result)})`}isOk(){return 1===this.result.ok}}o.BulkWriteResult=BulkWriteResult;class WriteConcernError{constructor(n){this.serverError=n}get code(){return this.serverError.code}get errmsg(){return this.serverError.errmsg}get errInfo(){return this.serverError.errInfo}toJSON(){return this.serverError}toString(){return`WriteConcernError(${this.errmsg})`}}o.WriteConcernError=WriteConcernError;class WriteError{constructor(n){this.err=n}get code(){return this.err.code}get index(){return this.err.index}get errmsg(){return this.err.errmsg}get errInfo(){return this.err.errInfo}getOperation(){return this.err.op}toJSON(){return{code:this.err.code,index:this.err.index,errmsg:this.err.errmsg,op:this.err.op}}toString(){return`WriteError(${JSON.stringify(this.toJSON())})`}}function mergeBatchResults(n,o,i,s){if(i?s=i:s&&s.result&&(s=s.result),null==s)return;if(0===s.ok&&1===o.ok){o.ok=0;const i={index:0,code:s.code||0,errmsg:s.message,errInfo:s.errInfo,op:n.operations[0]};return void o.writeErrors.push(new WriteError(i))}if(0===s.ok&&0===o.ok)return;isInsertBatch(n)&&s.n&&(o.nInserted=o.nInserted+s.n),isDeleteBatch(n)&&s.n&&(o.nRemoved=o.nRemoved+s.n);let c=0;if(Array.isArray(s.upserted)){c=s.upserted.length;for(let i=0;i<s.upserted.length;i++)o.upserted.push({index:s.upserted[i].index+n.originalZeroIndex,_id:s.upserted[i]._id})}else s.upserted&&(c=1,o.upserted.push({index:n.originalZeroIndex,_id:s.upserted}));if(isUpdateBatch(n)&&s.n){const n=s.nModified;o.nUpserted=o.nUpserted+c,o.nMatched=o.nMatched+(s.n-c),o.nModified="number"==typeof n?o.nModified+n:0}if(Array.isArray(s.writeErrors))for(let i=0;i<s.writeErrors.length;i++){const c={index:n.originalIndexes[s.writeErrors[i].index],code:s.writeErrors[i].code,errmsg:s.writeErrors[i].errmsg,errInfo:s.writeErrors[i].errInfo,op:n.operations[s.writeErrors[i].index]};o.writeErrors.push(new WriteError(c))}s.writeConcernError&&o.writeConcernErrors.push(new WriteConcernError(s.writeConcernError))}async function executeCommands(n,o){if(0===n.s.batches.length)return new BulkWriteResult(n.s.bulkResult,n.isOrdered);for(const i of n.s.batches){const s=(0,O.resolveOptions)(n,{...o,ordered:n.isOrdered});!0!==s.bypassDocumentValidation&&delete s.bypassDocumentValidation,!0===n.s.bypassDocumentValidation&&(s.bypassDocumentValidation=!0),!1===n.s.checkKeys&&(s.checkKeys=!1),s.retryWrites&&(isUpdateBatch(i)&&(s.retryWrites=s.retryWrites&&!i.operations.some(n=>n.multi)),isDeleteBatch(i)&&(s.retryWrites=s.retryWrites&&!i.operations.some(n=>0===n.limit)));const A=isInsertBatch(i)?new E.InsertOperation(n.s.namespace,i.operations,s):isUpdateBatch(i)?new S.UpdateOperation(n.s.namespace,i.operations,s):isDeleteBatch(i)?new h.DeleteOperation(n.s.namespace,i.operations,s):null;if(null==A)throw new c.MongoRuntimeError(`Unknown batchType: ${i.batchType}`);let T,_=null;try{T=await(0,f.executeOperation)(n.s.collection.client,A,s.timeoutContext)}catch(n){_=n}if(null!=_){if(_ instanceof c.MongoWriteConcernError){mergeBatchResults(i,n.s.bulkResult,_,T);const o=new BulkWriteResult(n.s.bulkResult,n.isOrdered);throw new MongoBulkWriteError({message:_.result.writeConcernError.errmsg,code:_.result.writeConcernError.code},o)}throw new MongoBulkWriteError(_,new BulkWriteResult(n.s.bulkResult,n.isOrdered))}mergeBatchResults(i,n.s.bulkResult,_,T);const D=new BulkWriteResult(n.s.bulkResult,n.isOrdered);n.handleWriteError(D)}n.s.batches.length=0;const i=new BulkWriteResult(n.s.bulkResult,n.isOrdered);return n.handleWriteError(i),i}o.WriteError=WriteError;class MongoBulkWriteError extends c.MongoServerError{constructor(n,o){super(n),this.writeErrors=[],n instanceof WriteConcernError?this.err=n:n instanceof Error||(this.message=n.message,this.code=n.code,this.writeErrors=n.writeErrors??[]),this.result=o,Object.assign(this,n)}get name(){return"MongoBulkWriteError"}get insertedCount(){return this.result.insertedCount}get matchedCount(){return this.result.matchedCount}get modifiedCount(){return this.result.modifiedCount}get deletedCount(){return this.result.deletedCount}get upsertedCount(){return this.result.upsertedCount}get insertedIds(){return this.result.insertedIds}get upsertedIds(){return this.result.upsertedIds}}o.MongoBulkWriteError=MongoBulkWriteError;class FindOperators{constructor(n){this.bulkOperation=n}update(n){const i=buildCurrentOp(this.bulkOperation);return this.bulkOperation.addToOperationsList(o.BatchType.UPDATE,(0,S.makeUpdateStatement)(i.selector,n,{...i,multi:!0}))}updateOne(n){if(!(0,O.hasAtomicOperators)(n,this.bulkOperation.bsonOptions))throw new c.MongoInvalidArgumentError("Update document requires atomic operators");const i=buildCurrentOp(this.bulkOperation);return this.bulkOperation.addToOperationsList(o.BatchType.UPDATE,(0,S.makeUpdateStatement)(i.selector,n,{...i,multi:!1}))}replaceOne(n){if((0,O.hasAtomicOperators)(n))throw new c.MongoInvalidArgumentError("Replacement document must not use atomic operators");const i=buildCurrentOp(this.bulkOperation);return this.bulkOperation.addToOperationsList(o.BatchType.UPDATE,(0,S.makeUpdateStatement)(i.selector,n,{...i,multi:!1}))}deleteOne(){const n=buildCurrentOp(this.bulkOperation);return this.bulkOperation.addToOperationsList(o.BatchType.DELETE,(0,h.makeDeleteStatement)(n.selector,{...n,limit:1}))}delete(){const n=buildCurrentOp(this.bulkOperation);return this.bulkOperation.addToOperationsList(o.BatchType.DELETE,(0,h.makeDeleteStatement)(n.selector,{...n,limit:0}))}upsert(){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.upsert=!0,this}collation(n){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.collation=n,this}arrayFilters(n){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.arrayFilters=n,this}hint(n){return this.bulkOperation.s.currentOp||(this.bulkOperation.s.currentOp={}),this.bulkOperation.s.currentOp.hint=n,this}}o.FindOperators=FindOperators;function isInsertBatch(n){return n.batchType===o.BatchType.INSERT}function isUpdateBatch(n){return n.batchType===o.BatchType.UPDATE}function isDeleteBatch(n){return n.batchType===o.BatchType.DELETE}function buildCurrentOp(n){let{currentOp:o}=n.s;return n.s.currentOp=void 0,o||(o={}),o}o.BulkOperationBase=class BulkOperationBase{constructor(n,o,i){this.collection=n,this.isOrdered=i;const c=(0,O.getTopology)(n);o=null==o?{}:o;const h=n.s.namespace,f=c.lastHello(),E=!(!c.s.options||!c.s.options.autoEncrypter),S=f&&f.maxBsonObjectSize?f.maxBsonObjectSize:16777216,A=E?2097152:S,_=f&&f.maxWriteBatchSize?f.maxWriteBatchSize:1e3,D=(_-1).toString(10).length+2;let N=Object.assign({},o);N=(0,O.applyRetryableWrites)(N,n.s.db);this.s={bulkResult:{ok:1,writeErrors:[],writeConcernErrors:[],insertedIds:[],nInserted:0,nUpserted:0,nMatched:0,nModified:0,nRemoved:0,upserted:[]},currentBatch:void 0,currentIndex:0,currentBatchSize:0,currentBatchSizeBytes:0,currentInsertBatch:void 0,currentUpdateBatch:void 0,currentRemoveBatch:void 0,batches:[],writeConcern:T.WriteConcern.fromOptions(o),maxBsonObjectSize:S,maxBatchSizeBytes:A,maxWriteBatchSize:_,maxKeySize:D,namespace:h,topology:c,options:N,bsonOptions:(0,s.resolveBSONOptions)(o),currentOp:undefined,executed:!1,collection:n,err:void 0,checkKeys:"boolean"==typeof o.checkKeys&&o.checkKeys},!0===o.bypassDocumentValidation&&(this.s.bypassDocumentValidation=!0)}insert(n){return(0,O.maybeAddIdToDocuments)(this.collection,n,{forceServerObjectId:this.shouldForceServerObjectId()}),this.addToOperationsList(o.BatchType.INSERT,n)}find(n){if(!n)throw new c.MongoInvalidArgumentError("Bulk find operation must specify a selector");return this.s.currentOp={selector:n},new FindOperators(this)}raw(n){if(null==n||"object"!=typeof n)throw new c.MongoInvalidArgumentError("Operation must be an object with an operation key");if("insertOne"in n){const i=this.shouldForceServerObjectId(),s=n.insertOne&&null==n.insertOne.document?n.insertOne:n.insertOne.document;return(0,O.maybeAddIdToDocuments)(this.collection,s,{forceServerObjectId:i}),this.addToOperationsList(o.BatchType.INSERT,s)}if("replaceOne"in n||"updateOne"in n||"updateMany"in n){if("replaceOne"in n){if("q"in n.replaceOne)throw new c.MongoInvalidArgumentError("Raw operations are not allowed");const i=(0,S.makeUpdateStatement)(n.replaceOne.filter,n.replaceOne.replacement,{...n.replaceOne,multi:!1});if((0,O.hasAtomicOperators)(i.u))throw new c.MongoInvalidArgumentError("Replacement document must not use atomic operators");return this.addToOperationsList(o.BatchType.UPDATE,i)}if("updateOne"in n){if("q"in n.updateOne)throw new c.MongoInvalidArgumentError("Raw operations are not allowed");const i=(0,S.makeUpdateStatement)(n.updateOne.filter,n.updateOne.update,{...n.updateOne,multi:!1});if(!(0,O.hasAtomicOperators)(i.u,this.bsonOptions))throw new c.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(o.BatchType.UPDATE,i)}if("updateMany"in n){if("q"in n.updateMany)throw new c.MongoInvalidArgumentError("Raw operations are not allowed");const i=(0,S.makeUpdateStatement)(n.updateMany.filter,n.updateMany.update,{...n.updateMany,multi:!0});if(!(0,O.hasAtomicOperators)(i.u,this.bsonOptions))throw new c.MongoInvalidArgumentError("Update document requires atomic operators");return this.addToOperationsList(o.BatchType.UPDATE,i)}}if("deleteOne"in n){if("q"in n.deleteOne)throw new c.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(o.BatchType.DELETE,(0,h.makeDeleteStatement)(n.deleteOne.filter,{...n.deleteOne,limit:1}))}if("deleteMany"in n){if("q"in n.deleteMany)throw new c.MongoInvalidArgumentError("Raw operations are not allowed");return this.addToOperationsList(o.BatchType.DELETE,(0,h.makeDeleteStatement)(n.deleteMany.filter,{...n.deleteMany,limit:0}))}throw new c.MongoInvalidArgumentError("bulkWrite only supports insertOne, updateOne, updateMany, deleteOne, deleteMany")}get length(){return this.s.currentIndex}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get batches(){const n=[...this.s.batches];return this.isOrdered?this.s.currentBatch&&n.push(this.s.currentBatch):(this.s.currentInsertBatch&&n.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&n.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&n.push(this.s.currentRemoveBatch)),n}async execute(n={}){if(this.s.executed)throw new c.MongoBatchReExecutionError;const o=T.WriteConcern.fromOptions(n);if(o&&(this.s.writeConcern=o),this.isOrdered?this.s.currentBatch&&this.s.batches.push(this.s.currentBatch):(this.s.currentInsertBatch&&this.s.batches.push(this.s.currentInsertBatch),this.s.currentUpdateBatch&&this.s.batches.push(this.s.currentUpdateBatch),this.s.currentRemoveBatch&&this.s.batches.push(this.s.currentRemoveBatch)),0===this.s.batches.length)throw new c.MongoInvalidArgumentError("Invalid BulkOperation, Batch cannot be empty");this.s.executed=!0;const i=(0,O.resolveOptions)(this.collection,{...this.s.options,...n});return i.timeoutContext??=A.TimeoutContext.create({session:i.session,timeoutMS:i.timeoutMS,serverSelectionTimeoutMS:this.collection.client.s.options.serverSelectionTimeoutMS,waitQueueTimeoutMS:this.collection.client.s.options.waitQueueTimeoutMS}),null==i.session?await this.collection.client.withSession({explicit:!1},async n=>await executeCommands(this,{...i,session:n})):await executeCommands(this,{...i})}handleWriteError(n){if(this.s.bulkResult.writeErrors.length>0){const o=this.s.bulkResult.writeErrors[0].errmsg?this.s.bulkResult.writeErrors[0].errmsg:"write operation failed";throw new MongoBulkWriteError({message:o,code:this.s.bulkResult.writeErrors[0].code,writeErrors:this.s.bulkResult.writeErrors},n)}const o=n.getWriteConcernError();if(o)throw new MongoBulkWriteError(o,n)}shouldForceServerObjectId(){return!0===this.s.options.forceServerObjectId||!0===this.s.collection.s.db.options?.forceServerObjectId}}},42795:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.OrderedBulkOperation=void 0;const s=i(63403),c=i(86947),h=i(53717);class OrderedBulkOperation extends h.BulkOperationBase{constructor(n,o){super(n,o,!0)}addToOperationsList(n,o){const i=s.calculateObjectSize(o,{checkKeys:!1,ignoreUndefined:!1});if(i>=this.s.maxBsonObjectSize)throw new c.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);null==this.s.currentBatch&&(this.s.currentBatch=new h.Batch(n,this.s.currentIndex));const f=this.s.maxKeySize;if((this.s.currentBatchSize+1>=this.s.maxWriteBatchSize||this.s.currentBatchSize>0&&this.s.currentBatchSizeBytes+f+i>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==n)&&(this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new h.Batch(n,this.s.currentIndex),this.s.currentBatchSize=0,this.s.currentBatchSizeBytes=0),n===h.BatchType.INSERT&&this.s.bulkResult.insertedIds.push({index:this.s.currentIndex,_id:o._id}),Array.isArray(o))throw new c.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentBatch.operations.push(o),this.s.currentBatchSize+=1,this.s.currentBatchSizeBytes+=f+i,this.s.currentIndex+=1,this}}o.OrderedBulkOperation=OrderedBulkOperation},5702:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.UnorderedBulkOperation=void 0;const s=i(63403),c=i(86947),h=i(53717);class UnorderedBulkOperation extends h.BulkOperationBase{constructor(n,o){super(n,o,!1)}handleWriteError(n){if(!this.s.batches.length)return super.handleWriteError(n)}addToOperationsList(n,o){const i=s.calculateObjectSize(o,{checkKeys:!1,ignoreUndefined:!1});if(i>=this.s.maxBsonObjectSize)throw new c.MongoInvalidArgumentError(`Document is larger than the maximum size ${this.s.maxBsonObjectSize}`);this.s.currentBatch=void 0,n===h.BatchType.INSERT?this.s.currentBatch=this.s.currentInsertBatch:n===h.BatchType.UPDATE?this.s.currentBatch=this.s.currentUpdateBatch:n===h.BatchType.DELETE&&(this.s.currentBatch=this.s.currentRemoveBatch);const f=this.s.maxKeySize;if(null==this.s.currentBatch&&(this.s.currentBatch=new h.Batch(n,this.s.currentIndex)),(this.s.currentBatch.size+1>=this.s.maxWriteBatchSize||this.s.currentBatch.size>0&&this.s.currentBatch.sizeBytes+f+i>=this.s.maxBatchSizeBytes||this.s.currentBatch.batchType!==n)&&(this.s.batches.push(this.s.currentBatch),this.s.currentBatch=new h.Batch(n,this.s.currentIndex)),Array.isArray(o))throw new c.MongoInvalidArgumentError("Operation passed in cannot be an Array");return this.s.currentBatch.operations.push(o),this.s.currentBatch.originalIndexes.push(this.s.currentIndex),this.s.currentIndex=this.s.currentIndex+1,n===h.BatchType.INSERT?(this.s.currentInsertBatch=this.s.currentBatch,this.s.bulkResult.insertedIds.push({index:this.s.bulkResult.insertedIds.length,_id:o._id})):n===h.BatchType.UPDATE?this.s.currentUpdateBatch=this.s.currentBatch:n===h.BatchType.DELETE&&(this.s.currentRemoveBatch=this.s.currentBatch),this.s.currentBatch.size+=1,this.s.currentBatch.sizeBytes+=f+i,this}}o.UnorderedBulkOperation=UnorderedBulkOperation},9272:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ChangeStream=void 0;const s=i(36653),c=i(32568),h=i(65017),f=i(22250),E=i(90263),S=i(86947),A=i(13139),O=i(96327),T=i(523),_=i(38286),D=i(52060),N=["resumeAfter","startAfter","startAtOperationTime","fullDocument","fullDocumentBeforeChange","showExpandedEvents"],R={COLLECTION:Symbol("Collection"),DATABASE:Symbol("Database"),CLUSTER:Symbol("Cluster")},x=[c.RESUME_TOKEN_CHANGED,c.END,c.CLOSE],P="ChangeStream is closed";class ChangeStream extends O.TypedEventEmitter{async asyncDispose(){await this.close()}constructor(n,o=[],i={}){let c;if(super(),this.pipeline=o,this.options={...i},delete this.options.writeConcern,n instanceof s.Collection)this.type=R.COLLECTION,c=n.s.db.client.options.serverSelectionTimeoutMS;else if(n instanceof E.Db)this.type=R.DATABASE,c=n.client.options.serverSelectionTimeoutMS;else{if(!(n instanceof A.MongoClient))throw new S.MongoChangeStreamError("Parent provided to ChangeStream constructor must be an instance of Collection, Db, or MongoClient");this.type=R.CLUSTER,c=n.options.serverSelectionTimeoutMS}this.contextOwner=Symbol(),this.parent=n,this.namespace=n.s.namespace,!this.options.readPreference&&n.readPreference&&(this.options.readPreference=n.readPreference),this.cursor=this._createChangeStreamCursor(i),this.isClosed=!1,this.mode=!1,this.on("newListener",n=>{"change"===n&&this.cursor&&0===this.listenerCount("change")&&this._streamEvents(this.cursor)}),this.on("removeListener",n=>{"change"===n&&0===this.listenerCount("change")&&this.cursor&&this.cursorStream?.removeAllListeners("data")}),null!=this.options.timeoutMS&&(this.timeoutContext=new _.CSOTTimeoutContext({timeoutMS:this.options.timeoutMS,serverSelectionTimeoutMS:c}))}get resumeToken(){return this.cursor?.resumeToken}async hasNext(){this._setIsIterator(),this.timeoutContext?.refresh();try{for(;;)try{return await this.cursor.hasNext()}catch(n){try{await this._processErrorIteratorMode(n,null!=this.cursor.id)}catch(n){if(n instanceof S.MongoOperationTimeoutError&&null==this.cursor.id)throw n;try{await this.close()}catch(n){(0,D.squashError)(n)}throw n}}}finally{this.timeoutContext?.clear()}}async next(){this._setIsIterator(),this.timeoutContext?.refresh();try{for(;;)try{const n=await this.cursor.next();return this._processChange(n??null)}catch(n){try{await this._processErrorIteratorMode(n,null!=this.cursor.id)}catch(n){if(n instanceof S.MongoOperationTimeoutError&&null==this.cursor.id)throw n;try{await this.close()}catch(n){(0,D.squashError)(n)}throw n}}}finally{this.timeoutContext?.clear()}}async tryNext(){this._setIsIterator(),this.timeoutContext?.refresh();try{for(;;)try{return await this.cursor.tryNext()??null}catch(n){try{await this._processErrorIteratorMode(n,null!=this.cursor.id)}catch(n){if(n instanceof S.MongoOperationTimeoutError&&null==this.cursor.id)throw n;try{await this.close()}catch(n){(0,D.squashError)(n)}throw n}}}finally{this.timeoutContext?.clear()}}async*[Symbol.asyncIterator](){if(!this.closed)try{for(;;)yield await this.next()}finally{try{await this.close()}catch(n){(0,D.squashError)(n)}}}get closed(){return this.isClosed||this.cursor.closed}async close(){this.timeoutContext?.clear(),this.timeoutContext=void 0,this.isClosed=!0;const n=this.cursor;try{await n.close()}finally{this._endStream()}}stream(n){if(this.closed)throw new S.MongoChangeStreamError(P);return this.streamOptions=n,this.cursor.stream(n)}_setIsEmitter(){if("iterator"===this.mode)throw new S.MongoAPIError("ChangeStream cannot be used as an EventEmitter after being used as an iterator");this.mode="emitter"}_setIsIterator(){if("emitter"===this.mode)throw new S.MongoAPIError("ChangeStream cannot be used as an iterator after being used as an EventEmitter");this.mode="iterator"}_createChangeStreamCursor(n){const o=(0,D.filterOptions)(n,N);this.type===R.CLUSTER&&(o.allChangesForCluster=!0);const i=[{$changeStream:o},...this.pipeline],s=this.type===R.CLUSTER?this.parent:this.type===R.DATABASE||this.type===R.COLLECTION?this.parent.client:null;if(null==s)throw new S.MongoRuntimeError(`Changestream type should only be one of cluster, database, collection. Found ${this.type.toString()}`);const c=new f.ChangeStreamCursor(s,this.namespace,i,{...n,timeoutContext:this.timeoutContext?new h.CursorTimeoutContext(this.timeoutContext,this.contextOwner):void 0});for(const n of x)c.on(n,o=>this.emit(n,o));return this.listenerCount(ChangeStream.CHANGE)>0&&this._streamEvents(c),c}_closeEmitterModeWithError(n){this.emit(ChangeStream.ERROR,n),this.close().then(void 0,D.squashError)}_streamEvents(n){this._setIsEmitter();const o=this.cursorStream??n.stream();this.cursorStream=o,o.on("data",n=>{try{const o=this._processChange(n);this.emit(ChangeStream.CHANGE,o)}catch(n){this.emit(ChangeStream.ERROR,n)}this.timeoutContext?.refresh()}),o.on("error",n=>this._processErrorStreamMode(n,null!=this.cursor.id))}_endStream(){this.cursorStream?.removeAllListeners("data"),this.cursorStream?.removeAllListeners("close"),this.cursorStream?.removeAllListeners("end"),this.cursorStream?.destroy(),this.cursorStream=void 0}_processChange(n){if(this.isClosed)throw new S.MongoAPIError(P);if(null==n)throw new S.MongoRuntimeError(P);if(n&&!n._id)throw new S.MongoChangeStreamError("A change stream document has been received that lacks a resume token (_id).");return this.cursor.cacheResumeToken(n._id),this.options.startAtOperationTime=void 0,n}_processErrorStreamMode(n,o){this.isClosed||(o&&((0,S.isResumableError)(n,this.cursor.maxWireVersion)||n instanceof S.MongoOperationTimeoutError)?(this._endStream(),this.cursor.close().then(()=>this._resume(n),o=>((0,D.squashError)(o),this._resume(n))).then(()=>{n instanceof S.MongoOperationTimeoutError&&this.emit(ChangeStream.ERROR,n)},()=>this._closeEmitterModeWithError(n))):this._closeEmitterModeWithError(n))}async _processErrorIteratorMode(n,o){if(this.isClosed)throw new S.MongoAPIError(P);if(!o||!((0,S.isResumableError)(n,this.cursor.maxWireVersion)||n instanceof S.MongoOperationTimeoutError)){try{await this.close()}catch(n){(0,D.squashError)(n)}throw n}try{await this.cursor.close()}catch(n){(0,D.squashError)(n)}if(await this._resume(n),n instanceof S.MongoOperationTimeoutError)throw n}async _resume(n){this.timeoutContext?.refresh();const o=(0,D.getTopology)(this.parent);try{await o.selectServer(this.cursor.readPreference,{operationName:"reconnect topology in change stream",timeoutContext:this.timeoutContext}),this.cursor=this._createChangeStreamCursor(this.cursor.resumeOptions)}catch{throw await this.close(),n}}}o.ChangeStream=ChangeStream,ChangeStream.RESPONSE=c.RESPONSE,ChangeStream.MORE=c.MORE,ChangeStream.INIT=c.INIT,ChangeStream.CLOSE=c.CLOSE,ChangeStream.CHANGE=c.CHANGE,ChangeStream.END=c.END,ChangeStream.ERROR=c.ERROR,ChangeStream.RESUME_TOKEN_CHANGED=c.RESUME_TOKEN_CHANGED,(0,T.configureResourceManagement)(ChangeStream.prototype)},72377:(n,o,i)=>{"use strict";var s;Object.defineProperty(o,"__esModule",{value:!0}),o.AutoEncrypter=o.AutoEncryptionLoggerLevel=void 0;const c=i(69278),h=i(63403),f=i(32568),E=i(33371),S=i(86947),A=i(13139),O=i(52060),T=i(24814),_=i(34185),D=i(61784),N=i(98199),R=i(86162),x=i(68272);o.AutoEncryptionLoggerLevel=Object.freeze({FatalError:0,Error:1,Warning:2,Info:3,Trace:4});class AutoEncrypter{static getMongoCrypt(){const n=(0,E.getMongoDBClientEncryption)();if("kModuleError"in n)throw n.kModuleError;return n.MongoCrypt}constructor(n,o){if(this[s]=!1,this._client=n,this._bypassEncryption=!0===o.bypassAutoEncryption,this._keyVaultNamespace=o.keyVaultNamespace||"admin.datakeys",this._keyVaultClient=o.keyVaultClient||n,this._metaDataClient=o.metadataClient||n,this._proxyOptions=o.proxyOptions||{},this._tlsOptions=o.tlsOptions||{},this._kmsProviders=o.kmsProviders||{},this._credentialProviders=o.credentialProviders,o.credentialProviders?.aws&&!(0,R.isEmptyCredentials)("aws",this._kmsProviders))throw new D.MongoCryptInvalidArgumentError("Can only provide a custom AWS credential provider when the state machine is configured for automatic AWS credential fetching");const i={enableMultipleCollinfo:!0,cryptoCallbacks:_};o.schemaMap&&(i.schemaMap=Buffer.isBuffer(o.schemaMap)?o.schemaMap:(0,h.serialize)(o.schemaMap)),o.encryptedFieldsMap&&(i.encryptedFieldsMap=Buffer.isBuffer(o.encryptedFieldsMap)?o.encryptedFieldsMap:(0,h.serialize)(o.encryptedFieldsMap)),i.kmsProviders=Buffer.isBuffer(this._kmsProviders)?this._kmsProviders:(0,h.serialize)(this._kmsProviders),o.options?.logger&&(i.logger=o.options.logger),o.extraOptions&&o.extraOptions.cryptSharedLibPath&&(i.cryptSharedLibPath=o.extraOptions.cryptSharedLibPath),o.bypassQueryAnalysis&&(i.bypassQueryAnalysis=o.bypassQueryAnalysis),null!=o.keyExpirationMS&&(i.keyExpirationMS=o.keyExpirationMS),this._bypassMongocryptdAndCryptShared=this._bypassEncryption||!!o.bypassQueryAnalysis,o.extraOptions&&o.extraOptions.cryptSharedLibSearchPaths?i.cryptSharedLibSearchPaths=o.extraOptions.cryptSharedLibSearchPaths:this._bypassMongocryptdAndCryptShared||(i.cryptSharedLibSearchPaths=["$SYSTEM"]);const f=AutoEncrypter.getMongoCrypt();if(this._mongocrypt=new f(i),this._contextCounter=0,o.extraOptions&&o.extraOptions.cryptSharedLibRequired&&!this.cryptSharedLibVersionInfo)throw new D.MongoCryptInvalidArgumentError("`cryptSharedLibRequired` set but no crypt_shared library loaded");if(!this._bypassMongocryptdAndCryptShared&&!this.cryptSharedLibVersionInfo){this._mongocryptdManager=new N.MongocryptdManager(o.extraOptions);const n={serverSelectionTimeoutMS:1e4};null!=o.extraOptions&&"string"==typeof o.extraOptions.mongocryptdURI||c.getDefaultAutoSelectFamily||(n.family=4),c.getDefaultAutoSelectFamily&&Object.assign(n,(0,T.autoSelectSocketOptions)(this._client.s?.options??{})),this._mongocryptdClient=new A.MongoClient(this._mongocryptdManager.uri,n)}}async init(){if(!this._bypassMongocryptdAndCryptShared&&!this.cryptSharedLibVersionInfo){if(!this._mongocryptdManager)throw new S.MongoRuntimeError("Reached impossible state: mongocryptdManager is undefined when neither bypassSpawn nor the shared lib are specified.");if(!this._mongocryptdClient)throw new S.MongoRuntimeError("Reached impossible state: mongocryptdClient is undefined when neither bypassSpawn nor the shared lib are specified.");this._mongocryptdManager.bypassSpawn||await this._mongocryptdManager.spawn();try{return await this._mongocryptdClient.connect()}catch(n){throw new S.MongoRuntimeError("Unable to connect to `mongocryptd`, please make sure it is running or in your PATH for auto-spawn",{cause:n})}}}async close(){await(this._mongocryptdClient?.close())}async encrypt(n,o,i={}){if(i.signal?.throwIfAborted(),this._bypassEncryption)return o;const s=Buffer.isBuffer(o)?o:(0,h.serialize)(o,i),c=this._mongocrypt.makeEncryptionContext(O.MongoDBCollectionNamespace.fromString(n).db,s);c.id=this._contextCounter++,c.ns=n,c.document=o;const f=new x.StateMachine({promoteValues:!1,promoteLongs:!1,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions,socketOptions:(0,T.autoSelectSocketOptions)(this._client.s.options)});return(0,h.deserialize)(await f.execute(this,c,i),{promoteValues:!1,promoteLongs:!1})}async decrypt(n,o={}){o.signal?.throwIfAborted();const i=this._mongocrypt.makeDecryptionContext(n);i.id=this._contextCounter++;const s=new x.StateMachine({...o,proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions,socketOptions:(0,T.autoSelectSocketOptions)(this._client.s.options)});return await s.execute(this,i,o)}async askForKMSCredentials(){return await(0,R.refreshKMSCredentials)(this._kmsProviders,this._credentialProviders)}get cryptSharedLibVersionInfo(){return this._mongocrypt.cryptSharedLibVersionInfo}static get libmongocryptVersion(){return AutoEncrypter.getMongoCrypt().libmongocryptVersion}}o.AutoEncrypter=AutoEncrypter,s=f.kDecorateResult},24814:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ClientEncryption=void 0,o.autoSelectSocketOptions=autoSelectSocketOptions;const s=i(63403),c=i(33371),h=i(38286),f=i(52060),E=i(34185),S=i(61784),A=i(86162),O=i(68272);class ClientEncryption{static getMongoCrypt(){const n=(0,c.getMongoDBClientEncryption)();if("kModuleError"in n)throw n.kModuleError;return n.MongoCrypt}constructor(n,o){this._client=n,this._proxyOptions=o.proxyOptions??{},this._tlsOptions=o.tlsOptions??{},this._kmsProviders=o.kmsProviders||{};const{timeoutMS:i}=(0,f.resolveTimeoutOptions)(n,o);if(this._timeoutMS=i,this._credentialProviders=o.credentialProviders,o.credentialProviders?.aws&&!(0,A.isEmptyCredentials)("aws",this._kmsProviders))throw new S.MongoCryptInvalidArgumentError("Can only provide a custom AWS credential provider when the state machine is configured for automatic AWS credential fetching");if(null==o.keyVaultNamespace)throw new S.MongoCryptInvalidArgumentError("Missing required option `keyVaultNamespace`");const c={...o,cryptoCallbacks:E,kmsProviders:Buffer.isBuffer(this._kmsProviders)?this._kmsProviders:(0,s.serialize)(this._kmsProviders)};this._keyVaultNamespace=o.keyVaultNamespace,this._keyVaultClient=o.keyVaultClient||n;const h=ClientEncryption.getMongoCrypt();this._mongoCrypt=new h(c)}async createDataKey(n,o={}){if(o.keyAltNames&&!Array.isArray(o.keyAltNames))throw new S.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but was of type ${typeof o.keyAltNames}.`);let i,c;o.keyAltNames&&o.keyAltNames.length>0&&(i=o.keyAltNames.map((n,o)=>{if("string"!=typeof n)throw new S.MongoCryptInvalidArgumentError(`Option "keyAltNames" must be an array of strings, but item at index ${o} was of type ${typeof n}`);return(0,s.serialize)({keyAltName:n})})),o.keyMaterial&&(c=(0,s.serialize)({keyMaterial:o.keyMaterial}));const E=(0,s.serialize)({provider:n,...o.masterKey}),A=this._mongoCrypt.makeDataKeyContext(E,{keyAltNames:i,keyMaterial:c}),T=new O.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions,socketOptions:autoSelectSocketOptions(this._client.s.options)}),_=o?.timeoutContext??h.TimeoutContext.create((0,f.resolveTimeoutOptions)(this._client,{timeoutMS:this._timeoutMS})),D=(0,s.deserialize)(await T.execute(this,A,{timeoutContext:_})),{db:N,collection:R}=f.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),{insertedId:x}=await this._keyVaultClient.db(N).collection(R).insertOne(D,{writeConcern:{w:"majority"},timeoutMS:_?.csotEnabled()?_?.getRemainingTimeMSOrThrow():void 0});return x}async rewrapManyDataKey(n,o){let i;if(o){const n=Object.assign({provider:o.provider},o.masterKey);i=(0,s.serialize)(n)}const c=(0,s.serialize)(n),E=this._mongoCrypt.makeRewrapManyDataKeyContext(c,i),S=new O.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions,socketOptions:autoSelectSocketOptions(this._client.s.options)}),A=h.TimeoutContext.create((0,f.resolveTimeoutOptions)(this._client,{timeoutMS:this._timeoutMS})),{v:T}=(0,s.deserialize)(await S.execute(this,E,{timeoutContext:A}));if(0===T.length)return{};const{db:_,collection:D}=f.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),N=T.map(n=>({updateOne:{filter:{_id:n._id},update:{$set:{masterKey:n.masterKey,keyMaterial:n.keyMaterial},$currentDate:{updateDate:!0}}}}));return{bulkWriteResult:await this._keyVaultClient.db(_).collection(D).bulkWrite(N,{writeConcern:{w:"majority"},timeoutMS:A.csotEnabled()?A?.remainingTimeMS:void 0})}}async deleteKey(n){const{db:o,collection:i}=f.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return await this._keyVaultClient.db(o).collection(i).deleteOne({_id:n},{writeConcern:{w:"majority"},timeoutMS:this._timeoutMS})}getKeys(){const{db:n,collection:o}=f.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return this._keyVaultClient.db(n).collection(o).find({},{readConcern:{level:"majority"},timeoutMS:this._timeoutMS})}async getKey(n){const{db:o,collection:i}=f.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return await this._keyVaultClient.db(o).collection(i).findOne({_id:n},{readConcern:{level:"majority"},timeoutMS:this._timeoutMS})}async getKeyByAltName(n){const{db:o,collection:i}=f.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return await this._keyVaultClient.db(o).collection(i).findOne({keyAltNames:n},{readConcern:{level:"majority"},timeoutMS:this._timeoutMS})}async addKeyAltName(n,o){const{db:i,collection:s}=f.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace);return await this._keyVaultClient.db(i).collection(s).findOneAndUpdate({_id:n},{$addToSet:{keyAltNames:o}},{writeConcern:{w:"majority"},returnDocument:"before",timeoutMS:this._timeoutMS})}async removeKeyAltName(n,o){const{db:i,collection:s}=f.MongoDBCollectionNamespace.fromString(this._keyVaultNamespace),c=[{$set:{keyAltNames:{$cond:[{$eq:["$keyAltNames",[o]]},"$$REMOVE",{$filter:{input:"$keyAltNames",cond:{$ne:["$$this",o]}}}]}}}];return await this._keyVaultClient.db(i).collection(s).findOneAndUpdate({_id:n},c,{writeConcern:{w:"majority"},returnDocument:"before",timeoutMS:this._timeoutMS})}async createEncryptedCollection(n,o,i){const{provider:s,masterKey:c,createCollectionOptions:{encryptedFields:{...E},...A}}=i,O=null!=this._timeoutMS?h.TimeoutContext.create((0,f.resolveTimeoutOptions)(this._client,{timeoutMS:this._timeoutMS})):void 0;if(Array.isArray(E.fields)){const n=E.fields.map(async n=>null==n||"object"!=typeof n||null!=n.keyId?n:{...n,keyId:await this.createDataKey(s,{masterKey:c,timeoutContext:O?.csotEnabled()?O?.clone():void 0})}),o=await Promise.allSettled(n);E.fields=o.map((n,o)=>"fulfilled"===n.status?n.value:E.fields[o]);const i=o.find(n=>"rejected"===n.status);if(null!=i)throw new S.MongoCryptCreateDataKeyError(E,{cause:i.reason})}try{return{collection:await n.createCollection(o,{...A,encryptedFields:E,timeoutMS:O?.csotEnabled()?O?.getRemainingTimeMSOrThrow():void 0}),encryptedFields:E}}catch(n){throw new S.MongoCryptCreateEncryptedCollectionError(E,{cause:n})}}async encrypt(n,o){return await this._encrypt(n,!1,o)}async encryptExpression(n,o){return await this._encrypt(n,!0,o)}async decrypt(n){const o=(0,s.serialize)({v:n}),i=this._mongoCrypt.makeExplicitDecryptionContext(o),c=new O.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions,socketOptions:autoSelectSocketOptions(this._client.s.options)}),E=null!=this._timeoutMS?h.TimeoutContext.create((0,f.resolveTimeoutOptions)(this._client,{timeoutMS:this._timeoutMS})):void 0,{v:S}=(0,s.deserialize)(await c.execute(this,i,{timeoutContext:E}));return S}async askForKMSCredentials(){return await(0,A.refreshKMSCredentials)(this._kmsProviders,this._credentialProviders)}static get libmongocryptVersion(){return ClientEncryption.getMongoCrypt().libmongocryptVersion}async _encrypt(n,o,i){const{algorithm:c,keyId:E,keyAltName:A,contentionFactor:T,queryType:_,rangeOptions:D,textOptions:N}=i,R={expressionMode:o,algorithm:c};if(E&&(R.keyId=E.buffer),A){if(E)throw new S.MongoCryptInvalidArgumentError('"options" cannot contain both "keyId" and "keyAltName"');if("string"!=typeof A)throw new S.MongoCryptInvalidArgumentError('"options.keyAltName" must be of type string, but was of type '+typeof A);R.keyAltName=(0,s.serialize)({keyAltName:A})}"number"!=typeof T&&"bigint"!=typeof T||(R.contentionFactor=T),"string"==typeof _&&(R.queryType=_),"object"==typeof D&&(R.rangeOptions=(0,s.serialize)(D)),"object"==typeof N&&(R.textOptions=(0,s.serialize)(N));const x=(0,s.serialize)({v:n}),P=new O.StateMachine({proxyOptions:this._proxyOptions,tlsOptions:this._tlsOptions,socketOptions:autoSelectSocketOptions(this._client.s.options)}),M=this._mongoCrypt.makeExplicitEncryptionContext(x,R),I=null!=this._timeoutMS?h.TimeoutContext.create((0,f.resolveTimeoutOptions)(this._client,{timeoutMS:this._timeoutMS})):void 0,{v:B}=(0,s.deserialize)(await P.execute(this,M,{timeoutContext:I}));return B}}function autoSelectSocketOptions(n){const o={autoSelectFamily:!0};return"autoSelectFamily"in n&&(o.autoSelectFamily=n.autoSelectFamily),"autoSelectFamilyAttemptTimeout"in n&&(o.autoSelectFamilyAttemptTimeout=n.autoSelectFamilyAttemptTimeout),o}o.ClientEncryption=ClientEncryption},34185:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.hmacSha256Hook=o.hmacSha512Hook=o.aes256CtrDecryptHook=o.aes256CtrEncryptHook=o.aes256CbcDecryptHook=o.aes256CbcEncryptHook=void 0,o.makeAES256Hook=makeAES256Hook,o.randomHook=function randomHook(n,o){try{s.randomFillSync(n,0,o)}catch(n){return n}return o},o.sha256Hook=function sha256Hook(n,o){let i;try{i=s.createHash("sha256").update(n).digest()}catch(n){return n}return i.copy(o),i.length},o.makeHmacHook=makeHmacHook,o.signRsaSha256Hook=function signRsaSha256Hook(n,o,i){let c;try{const i=s.createSign("sha256WithRSAEncryption"),h=Buffer.from(`-----BEGIN PRIVATE KEY-----\n${n.toString("base64")}\n-----END PRIVATE KEY-----\n`);c=i.update(o).end().sign(h)}catch(n){return n}return c.copy(i),c.length};const s=i(76982);function makeAES256Hook(n,o){return function(i,c,h,f){let E;try{const f=s[n](o,i,c);f.setAutoPadding(!1),E=f.update(h);const S=f.final();S.length>0&&(E=Buffer.concat([E,S]))}catch(n){return n}return E.copy(f),E.length}}function makeHmacHook(n){return(o,i,c)=>{let h;try{h=s.createHmac(n,o).update(i).digest()}catch(n){return n}return h.copy(c),h.length}}o.aes256CbcEncryptHook=makeAES256Hook("createCipheriv","aes-256-cbc"),o.aes256CbcDecryptHook=makeAES256Hook("createDecipheriv","aes-256-cbc"),o.aes256CtrEncryptHook=makeAES256Hook("createCipheriv","aes-256-ctr"),o.aes256CtrDecryptHook=makeAES256Hook("createDecipheriv","aes-256-ctr"),o.hmacSha512Hook=makeHmacHook("sha512"),o.hmacSha256Hook=makeHmacHook("sha256")},61784:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MongoCryptKMSRequestNetworkTimeoutError=o.MongoCryptAzureKMSRequestError=o.MongoCryptCreateEncryptedCollectionError=o.MongoCryptCreateDataKeyError=o.MongoCryptInvalidArgumentError=o.MongoCryptError=void 0;const s=i(86947);class MongoCryptError extends s.MongoError{constructor(n,o={}){super(n,o)}get name(){return"MongoCryptError"}}o.MongoCryptError=MongoCryptError;o.MongoCryptInvalidArgumentError=class MongoCryptInvalidArgumentError extends MongoCryptError{constructor(n){super(n)}get name(){return"MongoCryptInvalidArgumentError"}};o.MongoCryptCreateDataKeyError=class MongoCryptCreateDataKeyError extends MongoCryptError{constructor(n,{cause:o}){super(`Unable to complete creating data keys: ${o.message}`,{cause:o}),this.encryptedFields=n}get name(){return"MongoCryptCreateDataKeyError"}};o.MongoCryptCreateEncryptedCollectionError=class MongoCryptCreateEncryptedCollectionError extends MongoCryptError{constructor(n,{cause:o}){super(`Unable to create collection: ${o.message}`,{cause:o}),this.encryptedFields=n}get name(){return"MongoCryptCreateEncryptedCollectionError"}};o.MongoCryptAzureKMSRequestError=class MongoCryptAzureKMSRequestError extends MongoCryptError{constructor(n,o){super(n),this.body=o}get name(){return"MongoCryptAzureKMSRequestError"}};o.MongoCryptKMSRequestNetworkTimeoutError=class MongoCryptKMSRequestNetworkTimeoutError extends MongoCryptError{get name(){return"MongoCryptKMSRequestNetworkTimeoutError"}}},98199:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MongocryptdManager=void 0;const s=i(86947);class MongocryptdManager{constructor(n={}){this.spawnPath="",this.spawnArgs=[],this.uri="string"==typeof n.mongocryptdURI&&n.mongocryptdURI.length>0?n.mongocryptdURI:MongocryptdManager.DEFAULT_MONGOCRYPTD_URI,this.bypassSpawn=!!n.mongocryptdBypassSpawn,Object.hasOwn(n,"mongocryptdSpawnPath")&&n.mongocryptdSpawnPath&&(this.spawnPath=n.mongocryptdSpawnPath),Object.hasOwn(n,"mongocryptdSpawnArgs")&&Array.isArray(n.mongocryptdSpawnArgs)&&(this.spawnArgs=this.spawnArgs.concat(n.mongocryptdSpawnArgs)),this.spawnArgs.filter(n=>"string"==typeof n).every(n=>n.indexOf("--idleShutdownTimeoutSecs")<0)&&this.spawnArgs.push("--idleShutdownTimeoutSecs","60")}async spawn(){const n=this.spawnPath||"mongocryptd",{spawn:o}=i(35317);this._child=o(n,this.spawnArgs,{stdio:"ignore",detached:!0}),this._child.on("error",()=>{}),this._child.unref()}async withRespawn(n){try{return await n()}catch(n){if(!(n instanceof s.MongoNetworkTimeoutError&&!this.bypassSpawn))throw n}await this.spawn();return await n()}}o.MongocryptdManager=MongocryptdManager,MongocryptdManager.DEFAULT_MONGOCRYPTD_URI="mongodb://localhost:27020"},41407:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.loadAWSCredentials=async function loadAWSCredentials(n,o){const i=new s.AWSSDKCredentialProvider(o),{SecretAccessKey:c="",AccessKeyId:h="",Token:f}=await i.getCredentials(),E={secretAccessKey:c,accessKeyId:h};return null!=f&&(E.sessionToken=f),{...n,aws:E}};const s=i(35786)},42589:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.tokenCache=o.AzureCredentialCache=o.AZURE_BASE_URL=void 0,o.addAzureParams=addAzureParams,o.prepareRequest=prepareRequest,o.fetchAzureKMSToken=fetchAzureKMSToken,o.loadAzureCredentials=async function loadAzureCredentials(n){const i=await o.tokenCache.getToken();return{...n,azure:i}};const s=i(86947),c=i(52060),h=i(61784);o.AZURE_BASE_URL="http://169.254.169.254/metadata/identity/oauth2/token?";class AzureCredentialCache{constructor(){this.cachedToken=null}async getToken(){return(null==this.cachedToken||this.needsRefresh(this.cachedToken))&&(this.cachedToken=await this._getToken()),{accessToken:this.cachedToken.accessToken}}needsRefresh(n){return n.expiresOnTimestamp-Date.now()<=6e3}resetCache(){this.cachedToken=null}_getToken(){return fetchAzureKMSToken()}}function addAzureParams(n,o,i){return n.searchParams.append("api-version","2018-02-01"),n.searchParams.append("resource",o),i&&n.searchParams.append("client_id",i),n}function prepareRequest(n){const i=new URL(n.url?.toString()??o.AZURE_BASE_URL);addAzureParams(i,"https://vault.azure.net");return{headers:{...n.headers,"Content-Type":"application/json",Metadata:!0},url:i}}async function fetchAzureKMSToken(n={}){const{headers:o,url:i}=prepareRequest(n);try{const n=await(0,c.get)(i,{headers:o});return await async function parseResponse(n){const{status:o,body:i}=n,s=(()=>{try{return JSON.parse(i)}catch{throw new h.MongoCryptAzureKMSRequestError("Malformed JSON body in GET request.")}})();if(200!==o)throw new h.MongoCryptAzureKMSRequestError("Unable to complete request.",s);if(!s.access_token)throw new h.MongoCryptAzureKMSRequestError("Malformed response body - missing field `access_token`.");if(!s.expires_in)throw new h.MongoCryptAzureKMSRequestError("Malformed response body - missing field `expires_in`.");const c=1e3*Number(s.expires_in);if(Number.isNaN(c))throw new h.MongoCryptAzureKMSRequestError("Malformed response body - unable to parse int from `expires_in` field.");return{accessToken:s.access_token,expiresOnTimestamp:Date.now()+c}}(n)}catch(n){if(n instanceof s.MongoNetworkTimeoutError)throw new h.MongoCryptAzureKMSRequestError(`[Azure KMS] ${n.message}`);throw n}}o.AzureCredentialCache=AzureCredentialCache,o.tokenCache=new AzureCredentialCache},91828:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.loadGCPCredentials=async function loadGCPCredentials(n){const o=(0,s.getGcpMetadata)();if("kModuleError"in o)return n;const{access_token:i}=await o.instance({property:"service-accounts/default/token"});return{...n,gcp:{accessToken:i}}};const s=i(33371)},86162:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.isEmptyCredentials=isEmptyCredentials,o.refreshKMSCredentials=async function refreshKMSCredentials(n,o){let i=n;isEmptyCredentials("aws",n)&&(i=await(0,s.loadAWSCredentials)(i,o?.aws));isEmptyCredentials("gcp",n)&&(i=await(0,h.loadGCPCredentials)(i));isEmptyCredentials("azure",n)&&(i=await(0,c.loadAzureCredentials)(i));return i};const s=i(41407),c=i(42589),h=i(91828);function isEmptyCredentials(n,o){const i=o[n];return null!=i&&("object"==typeof i&&0===Object.keys(i).length)}},68272:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.StateMachine=void 0;const s=i(91943),c=i(69278),h=i(64756),f=i(63403),E=i(65017),S=i(33371),A=i(86947),O=i(38286),T=i(52060),_=i(24814),D=i(61784);let N=null;const R=new Map([[0,"MONGOCRYPT_CTX_ERROR"],[1,"MONGOCRYPT_CTX_NEED_MONGO_COLLINFO"],[2,"MONGOCRYPT_CTX_NEED_MONGO_MARKINGS"],[3,"MONGOCRYPT_CTX_NEED_MONGO_KEYS"],[7,"MONGOCRYPT_CTX_NEED_KMS_CREDENTIALS"],[4,"MONGOCRYPT_CTX_NEED_KMS"],[5,"MONGOCRYPT_CTX_READY"],[6,"MONGOCRYPT_CTX_DONE"]]),x=["tlsInsecure","tlsAllowInvalidCertificates","tlsAllowInvalidHostnames"];function debug(n){process.env.MONGODB_CRYPT_DEBUG&&console.error(n)}let P;o.StateMachine=class StateMachine{constructor(n,o=(0,f.pluckBSONSerializeOptions)(n)){this.options=n,this.bsonOptions=o}async execute(n,o,i){const s=n._keyVaultNamespace,c=n._keyVaultClient,h=n._metaDataClient,E=n._mongocryptdClient,S=n._mongocryptdManager;let A=null;const getStatus=()=>o.status,getState=()=>o.state;for(;6!==getState()&&0!==getState();)switch(i.signal?.throwIfAborted(),debug(`[context#${o.id}] ${R.get(getState())||getState()}`),getState()){case 1:{const n=(0,f.deserialize)(o.nextMongoOperation());if(!h)throw new D.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_COLLINFO but metadata client is undefined");const s=this.fetchCollectionInfo(h,o.ns,n,i);for await(const n of s)if(o.addMongoOperationResponse((0,f.serialize)(n)),0===getState())break;if(0===getState())break;o.finishMongoOperation();break}case 2:{const n=o.nextMongoOperation();if(0===getState())break;if(!E)throw new D.MongoCryptError("unreachable state machine state: entered MONGOCRYPT_CTX_NEED_MONGO_MARKINGS but mongocryptdClient is undefined");const s=S?await S.withRespawn(this.markCommand.bind(this,E,o.ns,n,i)):await this.markCommand(E,o.ns,n,i);o.addMongoOperationResponse(s),o.finishMongoOperation();break}case 3:{const n=o.nextMongoOperation(),h=await this.fetchKeys(c,s,n,i);0===h.length&&(A=P??=(0,f.serialize)({v:[]}));for(const n of h)o.addMongoOperationResponse((0,f.serialize)(n));o.finishMongoOperation();break}case 7:{const i=await n.askForKMSCredentials();o.provideKMSProviders((0,f.serialize)(i));break}case 4:await Promise.all(this.requests(o,i)),o.finishKMSRequests();break;case 5:{const n=o.finalize();if(0===getState()){const n=getStatus().message||"Finalization error";throw new D.MongoCryptError(n)}A=n;break}default:throw new D.MongoCryptError(`Unknown state: ${getState()}`)}if(0===getState()||null==A){const n=getStatus().message;throw n||debug("unidentifiable error in MongoCrypt - received an error status from `libmongocrypt` but received no error message."),new D.MongoCryptError(n??"unidentifiable error in MongoCrypt - received an error status from `libmongocrypt` but received no error message.")}return A}async kmsRequest(n,o){const i=n.endpoint.split(":"),s=null!=i[1]?Number.parseInt(i[1],10):443,f={host:i[0],servername:i[0],port:s,...(0,_.autoSelectSocketOptions)(this.options.socketOptions||{})},E=n.message,R=new T.BufferPool;let x,P;function destroySockets(){for(const n of[P,x])n&&n.destroy()}function onerror(n){return new D.MongoCryptError("KMS request failed",{cause:n})}function onclose(){return new D.MongoCryptError("KMS request closed")}const M=this.options.tlsOptions;if(M){const o=n.kmsProvider,i=M[o];if(i){const n=this.validateTlsOptions(o,i);if(n)throw n;try{await this.setTlsOptions(i,f)}catch(n){throw onerror(n)}}}let I;try{if(this.options.proxyOptions&&this.options.proxyOptions.proxyHost){x=new c.Socket;const{promise:n,reject:o,resolve:i}=(0,T.promiseWithResolvers)();x.once("error",n=>o(onerror(n))).once("close",()=>o(onclose())).once("connect",()=>i());const s={...f,host:this.options.proxyOptions.proxyHost,port:this.options.proxyOptions.proxyPort||1080};x.connect(s),await n;try{N??=function loadSocks(){if(null==N){const n=(0,S.getSocks)();if("kModuleError"in n)throw n.kModuleError;N=n}return N}(),f.socket=(await N.SocksClient.createConnection({existing_socket:x,command:"connect",destination:{host:f.host,port:f.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:this.options.proxyOptions.proxyUsername,password:this.options.proxyOptions.proxyPassword}})).socket}catch(n){throw onerror(n)}}P=h.connect(f,()=>{P.write(E)});const{promise:i,reject:s,resolve:A}=(0,T.promiseWithResolvers)();I=(0,T.addAbortListener)(o?.signal,function(){destroySockets(),s(this.reason)}),P.once("error",n=>s(onerror(n))).once("close",()=>s(onclose())).on("data",o=>{for(R.append(o);n.bytesNeeded>0&&R.length;){const o=Math.min(n.bytesNeeded,R.length);n.addResponse(R.read(o))}n.bytesNeeded<=0&&A()}),await(o?.timeoutContext?.csotEnabled()?Promise.all([i,O.Timeout.expires(o.timeoutContext?.remainingTimeMS)]):i)}catch(n){if(n instanceof O.TimeoutError)throw new A.MongoOperationTimeoutError("KMS request timed out");throw n}finally{destroySockets(),I?.[T.kDispose]()}}*requests(n,o){for(let i=n.nextKMSRequest();null!=i;i=n.nextKMSRequest())yield this.kmsRequest(i,o)}validateTlsOptions(n,o){const i=Object.keys(o);for(const o of x)if(i.includes(o))return new D.MongoCryptError(`Insecure TLS options prohibited for ${n}: ${o}`)}async setTlsOptions(n,o){if(n.secureContext&&(o.secureContext=n.secureContext),n.tlsCertificateKeyFile){const i=await s.readFile(n.tlsCertificateKeyFile);o.cert=o.key=i}n.tlsCAFile&&(o.ca=await s.readFile(n.tlsCAFile)),n.tlsCertificateKeyFilePassword&&(o.passphrase=n.tlsCertificateKeyFilePassword)}fetchCollectionInfo(n,o,i,s){const{db:c}=T.MongoDBCollectionNamespace.fromString(o);return n.db(c).listCollections(i,{promoteLongs:!1,promoteValues:!1,timeoutContext:s?.timeoutContext&&new E.CursorTimeoutContext(s?.timeoutContext,Symbol()),signal:s?.signal,nameOnly:!1})}async markCommand(n,o,i,s){const{db:c}=T.MongoDBCollectionNamespace.fromString(o),h={promoteLongs:!1,promoteValues:!1},E=(0,f.deserialize)(i,h),S={timeoutMS:void 0,signal:void 0};s?.timeoutContext?.csotEnabled()&&(S.timeoutMS=s.timeoutContext.remainingTimeMS),s?.signal&&(S.signal=s.signal);const A=await n.db(c).command(E,{...h,...S});return(0,f.serialize)(A,this.bsonOptions)}fetchKeys(n,o,i,s){const{db:c,collection:h}=T.MongoDBCollectionNamespace.fromString(o),S={timeoutContext:void 0,signal:void 0};return null!=s?.timeoutContext&&(S.timeoutContext=new E.CursorTimeoutContext(s.timeoutContext,Symbol())),null!=s?.signal&&(S.signal=s.signal),n.db(c).collection(h,{readConcern:{level:"majority"}}).find((0,f.deserialize)(i),S).toArray()}}},5644:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AuthProvider=o.AuthContext=void 0;const s=i(86947);o.AuthContext=class AuthContext{constructor(n,o,i){this.reauthenticating=!1,this.connection=n,this.credentials=o,this.options=i}};o.AuthProvider=class AuthProvider{async prepare(n,o){return n}async reauth(n){if(n.reauthenticating)throw new s.MongoRuntimeError("Reauthentication already in progress.");try{n.reauthenticating=!0,await this.auth(n)}finally{n.reauthenticating=!1}}}},35786:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.LegacyAWSTemporaryCredentialProvider=o.AWSSDKCredentialProvider=o.AWSTemporaryCredentialProvider=void 0;const s=i(33371),c=i(86947),h=i(52060),f="http://169.254.169.254",E="/latest/meta-data/iam/security-credentials";class AWSTemporaryCredentialProvider{static get awsSDK(){return AWSTemporaryCredentialProvider._awsSDK??=(0,s.getAwsCredentialProvider)(),AWSTemporaryCredentialProvider._awsSDK}static get isAWSSDKInstalled(){return!("kModuleError"in AWSTemporaryCredentialProvider.awsSDK)}}o.AWSTemporaryCredentialProvider=AWSTemporaryCredentialProvider;o.AWSSDKCredentialProvider=class AWSSDKCredentialProvider extends AWSTemporaryCredentialProvider{constructor(n){super(),n&&(this._provider=n)}get provider(){if("kModuleError"in AWSTemporaryCredentialProvider.awsSDK)throw AWSTemporaryCredentialProvider.awsSDK.kModuleError;if(this._provider)return this._provider;let{AWS_STS_REGIONAL_ENDPOINTS:n="",AWS_REGION:o=""}=process.env;n=n.toLowerCase(),o=o.toLowerCase();const i=0!==o.length&&0!==n.length,s=new Set(["ap-northeast-1","ap-south-1","ap-southeast-1","ap-southeast-2","aws-global","ca-central-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),c="regional"===n||"legacy"===n&&!s.has(o);return this._provider=i&&c?AWSTemporaryCredentialProvider.awsSDK.fromNodeProviderChain({clientConfig:{region:o}}):AWSTemporaryCredentialProvider.awsSDK.fromNodeProviderChain(),this._provider}async getCredentials(){try{const n=await this.provider();return{AccessKeyId:n.accessKeyId,SecretAccessKey:n.secretAccessKey,Token:n.sessionToken,Expiration:n.expiration}}catch(n){throw new c.MongoAWSError(n.message,{cause:n})}}};o.LegacyAWSTemporaryCredentialProvider=class LegacyAWSTemporaryCredentialProvider extends AWSTemporaryCredentialProvider{async getCredentials(){if(process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI)return await(0,h.request)(`http://169.254.170.2${process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI}`);const n=await(0,h.request)(`${f}/latest/api/token`,{method:"PUT",json:!1,headers:{"X-aws-ec2-metadata-token-ttl-seconds":30}}),o=await(0,h.request)(`${f}/${E}`,{json:!1,headers:{"X-aws-ec2-metadata-token":n}});return await(0,h.request)(`${f}/${E}/${o}`,{headers:{"X-aws-ec2-metadata-token":n}})}}},88573:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GSSAPI=o.GSSAPICanonicalizationValue=void 0,o.performGSSAPICanonicalizeHostName=performGSSAPICanonicalizeHostName,o.resolveCname=resolveCname;const s=i(72250),c=i(33371),h=i(86947),f=i(52060),E=i(5644);async function externalCommand(n,o){return await n.command((0,f.ns)("$external.$cmd"),o)}let S;o.GSSAPICanonicalizationValue=Object.freeze({on:!0,off:!1,none:"none",forward:"forward",forwardAndReverse:"forwardAndReverse"});class GSSAPI extends E.AuthProvider{async auth(n){const{connection:o,credentials:i}=n;if(null==i)throw new h.MongoMissingCredentialsError("Credentials required for GSSAPI authentication");const{username:s}=i,f=await async function makeKerberosClient(n){const{hostAddress:o}=n.options,{credentials:i}=n;if(!o||"string"!=typeof o.host||!i)throw new h.MongoInvalidArgumentError("Connection must have host and port and credentials defined.");if(function loadKrb(){S||(S=(0,c.getKerberos)())}(),"kModuleError"in S)throw S.kModuleError;const{initializeClient:s}=S,{username:f,password:E}=i,A=i.mechanismProperties,O=A.SERVICE_NAME??"mongodb",T=await performGSSAPICanonicalizeHostName(o.host,A),_={};null!=E&&Object.assign(_,{user:f,password:E});const D=A.SERVICE_HOST??T;let N=`${O}${"win32"===process.platform?"/":"@"}${D}`;"SERVICE_REALM"in A&&(N=`${N}@${A.SERVICE_REALM}`);return await s(N,_)}(n),E=await f.step(""),A=await externalCommand(o,function saslStart(n){return{saslStart:1,mechanism:"GSSAPI",payload:n,autoAuthorize:1}}(E)),O=await negotiate(f,10,A.payload),T=await externalCommand(o,function saslContinue(n,o){return{saslContinue:1,conversationId:o,payload:n}}(O,A.conversationId)),_=await async function finalize(n,o,i){const s=await n.unwrap(i);return await n.wrap(s||"",{user:o})}(f,s,T.payload);await externalCommand(o,{saslContinue:1,conversationId:T.conversationId,payload:_})}}async function negotiate(n,o,i){try{return await n.step(i)||""}catch(s){if(0===o)throw s;return await negotiate(n,o-1,i)}}async function performGSSAPICanonicalizeHostName(n,i){const c=i.CANONICALIZE_HOST_NAME;if(!c||c===o.GSSAPICanonicalizationValue.none)return n;if(c!==o.GSSAPICanonicalizationValue.on&&c!==o.GSSAPICanonicalizationValue.forwardAndReverse)return await resolveCname(n);{const{address:o}=await s.promises.lookup(n);try{const i=await s.promises.resolvePtr(o);return i.length>0?i[0]:n}catch{return await resolveCname(n)}}}async function resolveCname(n){try{const o=await s.promises.resolveCname(n);return o.length>0?o[0]:n}catch{return n}}o.GSSAPI=GSSAPI},37935:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MongoCredentials=o.DEFAULT_ALLOWED_HOSTS=void 0;const s=i(86947),c=i(88573),h=i(24380);function getDefaultAuthMechanism(n){return n&&Array.isArray(n.saslSupportedMechs)?n.saslSupportedMechs.includes(h.AuthMechanism.MONGODB_SCRAM_SHA256)?h.AuthMechanism.MONGODB_SCRAM_SHA256:h.AuthMechanism.MONGODB_SCRAM_SHA1:h.AuthMechanism.MONGODB_SCRAM_SHA256}const f=["test","azure","gcp","k8s"],E="Auth mechanism property ALLOWED_HOSTS must be an array of strings.";o.DEFAULT_ALLOWED_HOSTS=["*.mongodb.net","*.mongodb-qa.net","*.mongodb-dev.net","*.mongodbgov.net","localhost","127.0.0.1","::1"];class MongoCredentials{constructor(n){this.username=n.username??"",this.password=n.password,this.source=n.source,!this.source&&n.db&&(this.source=n.db),this.mechanism=n.mechanism||h.AuthMechanism.MONGODB_DEFAULT,this.mechanismProperties=n.mechanismProperties||{},this.mechanism.match(/MONGODB-AWS/i)&&(!this.username&&process.env.AWS_ACCESS_KEY_ID&&(this.username=process.env.AWS_ACCESS_KEY_ID),!this.password&&process.env.AWS_SECRET_ACCESS_KEY&&(this.password=process.env.AWS_SECRET_ACCESS_KEY),null==this.mechanismProperties.AWS_SESSION_TOKEN&&null!=process.env.AWS_SESSION_TOKEN&&(this.mechanismProperties={...this.mechanismProperties,AWS_SESSION_TOKEN:process.env.AWS_SESSION_TOKEN})),this.mechanism!==h.AuthMechanism.MONGODB_OIDC||this.mechanismProperties.ALLOWED_HOSTS||(this.mechanismProperties={...this.mechanismProperties,ALLOWED_HOSTS:o.DEFAULT_ALLOWED_HOSTS}),Object.freeze(this.mechanismProperties),Object.freeze(this)}equals(n){return this.mechanism===n.mechanism&&this.username===n.username&&this.password===n.password&&this.source===n.source}resolveAuthMechanism(n){return this.mechanism.match(/DEFAULT/i)?new MongoCredentials({username:this.username,password:this.password,source:this.source,mechanism:getDefaultAuthMechanism(n),mechanismProperties:this.mechanismProperties}):this}validate(){if((this.mechanism===h.AuthMechanism.MONGODB_GSSAPI||this.mechanism===h.AuthMechanism.MONGODB_PLAIN||this.mechanism===h.AuthMechanism.MONGODB_SCRAM_SHA1||this.mechanism===h.AuthMechanism.MONGODB_SCRAM_SHA256)&&!this.username)throw new s.MongoMissingCredentialsError(`Username required for mechanism '${this.mechanism}'`);if(this.mechanism===h.AuthMechanism.MONGODB_OIDC){if(this.username&&this.mechanismProperties.ENVIRONMENT&&"azure"!==this.mechanismProperties.ENVIRONMENT)throw new s.MongoInvalidArgumentError(`username and ENVIRONMENT '${this.mechanismProperties.ENVIRONMENT}' may not be used together for mechanism '${this.mechanism}'.`);if(this.username&&this.password)throw new s.MongoInvalidArgumentError(`No password is allowed in ENVIRONMENT '${this.mechanismProperties.ENVIRONMENT}' for '${this.mechanism}'.`);if(("azure"===this.mechanismProperties.ENVIRONMENT||"gcp"===this.mechanismProperties.ENVIRONMENT)&&!this.mechanismProperties.TOKEN_RESOURCE)throw new s.MongoInvalidArgumentError("TOKEN_RESOURCE must be set in the auth mechanism properties when ENVIRONMENT is azure or gcp.");if(this.mechanismProperties.ENVIRONMENT&&!f.includes(this.mechanismProperties.ENVIRONMENT))throw new s.MongoInvalidArgumentError(`Currently only a ENVIRONMENT in ${f.join(",")} is supported for mechanism '${this.mechanism}'.`);if(!this.mechanismProperties.ENVIRONMENT&&!this.mechanismProperties.OIDC_CALLBACK&&!this.mechanismProperties.OIDC_HUMAN_CALLBACK)throw new s.MongoInvalidArgumentError(`Either a ENVIRONMENT, OIDC_CALLBACK, or OIDC_HUMAN_CALLBACK must be specified for mechanism '${this.mechanism}'.`);if(this.mechanismProperties.ALLOWED_HOSTS){const n=this.mechanismProperties.ALLOWED_HOSTS;if(!Array.isArray(n))throw new s.MongoInvalidArgumentError(E);for(const o of n)if("string"!=typeof o)throw new s.MongoInvalidArgumentError(E)}}if(h.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(this.mechanism)&&null!=this.source&&"$external"!==this.source)throw new s.MongoAPIError(`Invalid source '${this.source}' for mechanism '${this.mechanism}' specified.`);if(this.mechanism===h.AuthMechanism.MONGODB_PLAIN&&null==this.source)throw new s.MongoAPIError("PLAIN Authentication Mechanism needs an auth source");if(this.mechanism===h.AuthMechanism.MONGODB_X509&&null!=this.password){if(""===this.password)return void Reflect.set(this,"password",void 0);throw new s.MongoAPIError("Password not allowed for mechanism MONGODB-X509")}const n=this.mechanismProperties.CANONICALIZE_HOST_NAME??!1;if(!Object.values(c.GSSAPICanonicalizationValue).includes(n))throw new s.MongoAPIError(`Invalid CANONICALIZE_HOST_NAME value: ${n}`)}static merge(n,o){return new MongoCredentials({username:o.username??n?.username??"",password:o.password??n?.password??"",mechanism:o.mechanism??n?.mechanism??h.AuthMechanism.MONGODB_DEFAULT,mechanismProperties:o.mechanismProperties??n?.mechanismProperties??{},source:o.source??o.db??n?.source??"admin"})}}o.MongoCredentials=MongoCredentials},88626:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MongoDBAWS=void 0;const s=i(63403),c=i(33371),h=i(86947),f=i(52060),E=i(5644),S=i(35786),A=i(37935),O=i(24380),T={useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1};class MongoDBAWS extends E.AuthProvider{constructor(n){super(),this.credentialProvider=n,this.credentialFetcher=S.AWSTemporaryCredentialProvider.isAWSSDKInstalled?new S.AWSSDKCredentialProvider(n):new S.LegacyAWSTemporaryCredentialProvider}async auth(n){const{connection:o}=n;if(!n.credentials)throw new h.MongoMissingCredentialsError("AuthContext must provide credentials.");if("kModuleError"in c.aws4)throw c.aws4.kModuleError;const{sign:i}=c.aws4;if((0,f.maxWireVersion)(o)<9)throw new h.MongoCompatibilityError("MONGODB-AWS authentication requires MongoDB version 4.4 or later");n.credentials.username||(n.credentials=await async function makeTempCredentials(n,o){function makeMongoCredentialsFromAWSTemp(o){if(!o.AccessKeyId||!o.SecretAccessKey)throw new h.MongoMissingCredentialsError("Could not obtain temporary MONGODB-AWS credentials");return new A.MongoCredentials({username:o.AccessKeyId,password:o.SecretAccessKey,source:n.source,mechanism:O.AuthMechanism.MONGODB_AWS,mechanismProperties:{AWS_SESSION_TOKEN:o.Token}})}return makeMongoCredentialsFromAWSTemp(await o.getCredentials())}(n.credentials,this.credentialFetcher));const{credentials:E}=n,S=E.username,_=E.password,D=E.mechanismProperties.AWS_SESSION_TOKEN,N=S&&_&&D?{accessKeyId:S,secretAccessKey:_,sessionToken:D}:S&&_?{accessKeyId:S,secretAccessKey:_}:void 0,R=E.source,x=await(0,f.randomBytes)(32),P={saslStart:1,mechanism:"MONGODB-AWS",payload:s.serialize({r:x,p:110},T)},M=await o.command((0,f.ns)(`${R}.$cmd`),P,void 0),I=s.deserialize(M.payload.buffer,T),B=I.h,F=I.s.buffer;if(64!==F.length)throw new h.MongoRuntimeError(`Invalid server nonce length ${F.length}, expected 64`);if(!f.ByteUtils.equals(F.subarray(0,x.byteLength),x))throw new h.MongoRuntimeError("Server nonce does not begin with client nonce");if(B.length<1||B.length>255||-1!==B.indexOf(".."))throw new h.MongoRuntimeError(`Server returned an invalid host: "${B}"`);const L="Action=GetCallerIdentity&Version=2011-06-15",k=i({method:"POST",host:B,region:deriveRegion(I.h),service:"sts",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":43,"X-MongoDB-Server-Nonce":f.ByteUtils.toBase64(F),"X-MongoDB-GS2-CB-Flag":"n"},path:"/",body:L},N),j={a:k.headers.Authorization,d:k.headers["X-Amz-Date"]};D&&(j.t=D);const U={saslContinue:1,conversationId:M.conversationId,payload:s.serialize(j,T)};await o.command((0,f.ns)(`${R}.$cmd`),U,void 0)}}function deriveRegion(n){const o=n.split(".");return 1===o.length||"amazonaws"===o[1]?"us-east-1":o[1]}o.MongoDBAWS=MongoDBAWS},68542:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MongoDBOIDC=o.OIDC_WORKFLOWS=o.OIDC_VERSION=void 0;const s=i(86947),c=i(5644),h=i(45693),f=i(96162),E=i(54405),S=i(64011),A=i(24257),O=i(5536);o.OIDC_VERSION=1,o.OIDC_WORKFLOWS=new Map,o.OIDC_WORKFLOWS.set("test",()=>new h.AutomatedCallbackWorkflow(new A.TokenCache,O.callback)),o.OIDC_WORKFLOWS.set("azure",()=>new h.AutomatedCallbackWorkflow(new A.TokenCache,f.callback)),o.OIDC_WORKFLOWS.set("gcp",()=>new h.AutomatedCallbackWorkflow(new A.TokenCache,E.callback)),o.OIDC_WORKFLOWS.set("k8s",()=>new h.AutomatedCallbackWorkflow(new A.TokenCache,S.callback));class MongoDBOIDC extends c.AuthProvider{constructor(n){if(super(),!n)throw new s.MongoInvalidArgumentError("No workflow provided to the OIDC auth provider.");this.workflow=n}async auth(n){const{connection:o,reauthenticating:i,response:s}=n;if(s?.speculativeAuthenticate?.done&&!i)return;const c=getCredentials(n);i?await this.workflow.reauthenticate(o,c):await this.workflow.execute(o,c,s)}async prepare(n,o){const{connection:i}=o,s=getCredentials(o);return{...n,...await this.workflow.speculativeAuth(i,s)}}}function getCredentials(n){const{credentials:o}=n;if(!o)throw new s.MongoMissingCredentialsError("AuthContext must provide credentials.");return o}o.MongoDBOIDC=MongoDBOIDC},45693:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AutomatedCallbackWorkflow=void 0;const s=i(86947),c=i(38286),h=i(68542),f=i(56872);class AutomatedCallbackWorkflow extends f.CallbackWorkflow{constructor(n,o){super(n,o)}async execute(n,o){if(this.cache.hasAccessToken){const i=this.cache.getAccessToken();n.accessToken||(n.accessToken=i);try{return await this.finishAuthentication(n,o,i)}catch(i){if(i instanceof s.MongoError&&i.code===s.MONGODB_ERROR_CODES.AuthenticationFailed)return this.cache.removeAccessToken(),await this.execute(n,o);throw i}}const i=await this.fetchAccessToken(o);this.cache.put(i),n.accessToken=i.accessToken,await this.finishAuthentication(n,o,i.accessToken)}async fetchAccessToken(n){const o=new AbortController,i={timeoutContext:o.signal,version:h.OIDC_VERSION};n.username&&(i.username=n.username),n.mechanismProperties.TOKEN_RESOURCE&&(i.tokenAudience=n.mechanismProperties.TOKEN_RESOURCE);const E=c.Timeout.expires(f.AUTOMATED_TIMEOUT_MS);try{return await Promise.race([this.executeAndValidateCallback(i),E])}catch(n){if(c.TimeoutError.is(n))throw o.abort(),new s.MongoOIDCError(`OIDC callback timed out after ${f.AUTOMATED_TIMEOUT_MS}ms.`);throw n}finally{E.clear()}}}o.AutomatedCallbackWorkflow=AutomatedCallbackWorkflow},96162:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.callback=void 0;const s=i(42589),c=i(86947),h=i(52060),f=Object.freeze({Metadata:"true",Accept:"application/json"});o.callback=async n=>{const o=n.tokenAudience,i=n.username;if(!o)throw new c.MongoAzureError("TOKEN_RESOURCE must be set in the auth mechanism properties when ENVIRONMENT is azure.");const E=await async function getAzureTokenData(n,o){const i=new URL(s.AZURE_BASE_URL);(0,s.addAzureParams)(i,n,o);const E=await(0,h.get)(i,{headers:f});if(200!==E.status)throw new c.MongoAzureError(`Status code ${E.status} returned from the Azure endpoint. Response body: ${E.body}`);const S=JSON.parse(E.body);return{accessToken:S.access_token,expiresInSeconds:Number(S.expires_in)}}(o,i);if(!function isEndpointResultValid(n){return null!=n&&"object"==typeof n&&("accessToken"in n&&"string"==typeof n.accessToken&&"expiresInSeconds"in n&&"number"==typeof n.expiresInSeconds)}(E))throw new c.MongoAzureError("Azure endpoint did not return a value with only access_token and expires_in properties");return E}},56872:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CallbackWorkflow=o.AUTOMATED_TIMEOUT_MS=o.HUMAN_TIMEOUT_MS=void 0;const s=i(16460),c=i(86947),h=i(52060),f=i(16987);o.HUMAN_TIMEOUT_MS=3e5,o.AUTOMATED_TIMEOUT_MS=6e4;const E=["accessToken","expiresInSeconds","refreshToken"];o.CallbackWorkflow=class CallbackWorkflow{constructor(n,o){this.cache=n,this.callback=this.withLock(o),this.lastExecutionTime=Date.now()-100}async speculativeAuth(n,o){if(this.cache.hasAccessToken){const i=this.cache.getAccessToken();n.accessToken=i;const s=(0,f.finishCommandDocument)(i);return s.db=o.source,{speculativeAuthenticate:s}}return{}}async reauthenticate(n,o){this.cache.hasAccessToken&&(n.accessToken===this.cache.getAccessToken()?(this.cache.removeAccessToken(),delete n.accessToken):n.accessToken=this.cache.getAccessToken()),await this.execute(n,o)}async startAuthentication(n,o,i){let s;return s=i?.speculativeAuthenticate?i.speculativeAuthenticate:await n.command((0,h.ns)(o.source),(0,f.startCommandDocument)(o),void 0),s}async finishAuthentication(n,o,i,s){await n.command((0,h.ns)(o.source),(0,f.finishCommandDocument)(i,s),void 0)}async executeAndValidateCallback(n){const o=await this.callback(n);if(function isCallbackResultInvalid(n){return null==n||"object"!=typeof n||(!("accessToken"in n)||!Object.getOwnPropertyNames(n).every(n=>E.includes(n)))}(o))throw new c.MongoMissingCredentialsError("User provided OIDC callbacks must return a valid object with an accessToken.");return o}withLock(n){let o=Promise.resolve();return async i=>(await o,o=o.catch(()=>null).then(async()=>{const o=Date.now()-this.lastExecutionTime;return o<=100&&await(0,s.setTimeout)(100-o,{signal:i.timeoutContext}),this.lastExecutionTime=Date.now(),await n(i)}),await o)}}},16987:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.finishCommandDocument=function finishCommandDocument(n,o){if(null!=o)return{saslContinue:1,conversationId:o,payload:new s.Binary(s.BSON.serialize({jwt:n}))};return{saslStart:1,mechanism:c.AuthMechanism.MONGODB_OIDC,payload:new s.Binary(s.BSON.serialize({jwt:n}))}},o.startCommandDocument=function startCommandDocument(n){const o={};n.username&&(o.n=n.username);return{saslStart:1,autoAuthorize:1,mechanism:c.AuthMechanism.MONGODB_OIDC,payload:new s.Binary(s.BSON.serialize(o))}};const s=i(63403),c=i(24380)},54405:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.callback=void 0;const s=i(86947),c=i(52060),h="http://metadata/computeMetadata/v1/instance/service-accounts/default/identity",f=Object.freeze({"Metadata-Flavor":"Google"});o.callback=async n=>{const o=n.tokenAudience;if(!o)throw new s.MongoGCPError("TOKEN_RESOURCE must be set in the auth mechanism properties when ENVIRONMENT is gcp.");return await async function getGcpTokenData(n){const o=new URL(h);o.searchParams.append("audience",n);const i=await(0,c.get)(o,{headers:f});if(200!==i.status)throw new s.MongoGCPError(`Status code ${i.status} returned from the GCP endpoint. Response body: ${i.body}`);return{accessToken:i.body}}(o)}},22362:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.HumanCallbackWorkflow=void 0;const s=i(63403),c=i(86947),h=i(38286),f=i(68542),E=i(56872);class HumanCallbackWorkflow extends E.CallbackWorkflow{constructor(n,o){super(n,o)}async execute(n,o){if(this.cache.hasAccessToken){const i=this.cache.getAccessToken();n.accessToken=i;try{return await this.finishAuthentication(n,o,i)}catch(i){if(i instanceof c.MongoError&&i.code===c.MONGODB_ERROR_CODES.AuthenticationFailed)return this.cache.removeAccessToken(),delete n.accessToken,await this.execute(n,o);throw i}}if(this.cache.hasRefreshToken){const i=this.cache.getRefreshToken(),s=await this.fetchAccessToken(this.cache.getIdpInfo(),o,i);this.cache.put(s),n.accessToken=s.accessToken;try{return await this.finishAuthentication(n,o,s.accessToken)}catch(i){if(i instanceof c.MongoError&&i.code===c.MONGODB_ERROR_CODES.AuthenticationFailed)return this.cache.removeRefreshToken(),delete n.accessToken,await this.execute(n,o);throw i}}const i=await this.startAuthentication(n,o),h=i.conversationId,f=s.BSON.deserialize(i.payload.buffer),E=await this.fetchAccessToken(f,o);return this.cache.put(E,f),n.accessToken=E.accessToken,await this.finishAuthentication(n,o,E.accessToken,h)}async fetchAccessToken(n,o,i){const s=new AbortController,S={timeoutContext:s.signal,version:f.OIDC_VERSION,idpInfo:n};o.username&&(S.username=o.username),i&&(S.refreshToken=i);const A=h.Timeout.expires(E.HUMAN_TIMEOUT_MS);try{return await Promise.race([this.executeAndValidateCallback(S),A])}catch(n){if(h.TimeoutError.is(n))throw s.abort(),new c.MongoOIDCError(`OIDC callback timed out after ${E.HUMAN_TIMEOUT_MS}ms.`);throw n}finally{A.clear()}}}o.HumanCallbackWorkflow=HumanCallbackWorkflow},64011:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.callback=void 0;const s=i(91943),c="AZURE_FEDERATED_TOKEN_FILE",h="AWS_WEB_IDENTITY_TOKEN_FILE";o.callback=async()=>{let n;n=process.env[c]?process.env[c]:process.env[h]?process.env[h]:"/var/run/secrets/kubernetes.io/serviceaccount/token";return{accessToken:await(0,s.readFile)(n,"utf8")}}},24257:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.TokenCache=void 0;const s=i(86947);class MongoOIDCError extends s.MongoDriverError{}o.TokenCache=class TokenCache{get hasAccessToken(){return!!this.accessToken}get hasRefreshToken(){return!!this.refreshToken}get hasIdpInfo(){return!!this.idpInfo}getAccessToken(){if(!this.accessToken)throw new MongoOIDCError("Attempted to get an access token when none exists.");return this.accessToken}getRefreshToken(){if(!this.refreshToken)throw new MongoOIDCError("Attempted to get a refresh token when none exists.");return this.refreshToken}getIdpInfo(){if(!this.idpInfo)throw new MongoOIDCError("Attempted to get IDP information when none exists.");return this.idpInfo}put(n,o){this.accessToken=n.accessToken,this.refreshToken=n.refreshToken,this.expiresInSeconds=n.expiresInSeconds,o&&(this.idpInfo=o)}removeAccessToken(){this.accessToken=void 0}removeRefreshToken(){this.refreshToken=void 0}}},5536:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.callback=void 0;const s=i(79896),c=i(86947);o.callback=async()=>{const n=process.env.OIDC_TOKEN_FILE;if(!n)throw new c.MongoAWSError("OIDC_TOKEN_FILE must be set in the environment.");return{accessToken:await s.promises.readFile(n,"utf8")}}},99626:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Plain=void 0;const s=i(63403),c=i(86947),h=i(52060),f=i(5644);class Plain extends f.AuthProvider{async auth(n){const{connection:o,credentials:i}=n;if(!i)throw new c.MongoMissingCredentialsError("AuthContext must provide credentials.");const{username:f,password:E}=i,S={saslStart:1,mechanism:"PLAIN",payload:new s.Binary(Buffer.from(`\0${f}\0${E}`)),autoAuthorize:1};await o.command((0,h.ns)("$external.$cmd"),S,void 0)}}o.Plain=Plain},24380:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AUTH_MECHS_AUTH_SRC_EXTERNAL=o.AuthMechanism=void 0,o.AuthMechanism=Object.freeze({MONGODB_AWS:"MONGODB-AWS",MONGODB_CR:"MONGODB-CR",MONGODB_DEFAULT:"DEFAULT",MONGODB_GSSAPI:"GSSAPI",MONGODB_PLAIN:"PLAIN",MONGODB_SCRAM_SHA1:"SCRAM-SHA-1",MONGODB_SCRAM_SHA256:"SCRAM-SHA-256",MONGODB_X509:"MONGODB-X509",MONGODB_OIDC:"MONGODB-OIDC"}),o.AUTH_MECHS_AUTH_SRC_EXTERNAL=new Set([o.AuthMechanism.MONGODB_GSSAPI,o.AuthMechanism.MONGODB_AWS,o.AuthMechanism.MONGODB_OIDC,o.AuthMechanism.MONGODB_X509])},9112:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ScramSHA256=o.ScramSHA1=void 0;const s=i(13767),c=i(76982),h=i(63403),f=i(86947),E=i(52060),S=i(5644),A=i(24380);class ScramSHA extends S.AuthProvider{constructor(n){super(),this.cryptoMethod=n||"sha1"}async prepare(n,o){const i=this.cryptoMethod,s=o.credentials;if(!s)throw new f.MongoMissingCredentialsError("AuthContext must provide credentials.");const c=await(0,E.randomBytes)(24);o.nonce=c;return{...n,speculativeAuthenticate:{...makeFirstMessage(i,s,c),db:s.source}}}async auth(n){const{reauthenticating:o,response:i}=n;return i?.speculativeAuthenticate&&!o?await continueScramConversation(this.cryptoMethod,i.speculativeAuthenticate,n):await async function executeScram(n,o){const{connection:i,credentials:s}=o;if(!s)throw new f.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!o.nonce)throw new f.MongoInvalidArgumentError("AuthContext must contain a valid nonce property");const c=o.nonce,h=s.source,S=makeFirstMessage(n,s,c),A=await i.command((0,E.ns)(`${h}.$cmd`),S,void 0);await continueScramConversation(n,A,o)}(this.cryptoMethod,n)}}function cleanUsername(n){return n.replace("=","=3D").replace(",","=2C")}function clientFirstMessageBare(n,o){return Buffer.concat([Buffer.from("n=","utf8"),Buffer.from(n,"utf8"),Buffer.from(",r=","utf8"),Buffer.from(o.toString("base64"),"utf8")])}function makeFirstMessage(n,o,i){const s=cleanUsername(o.username);return{saslStart:1,mechanism:"sha1"===n?A.AuthMechanism.MONGODB_SCRAM_SHA1:A.AuthMechanism.MONGODB_SCRAM_SHA256,payload:new h.Binary(Buffer.concat([Buffer.from("n,,","utf8"),clientFirstMessageBare(s,i)])),autoAuthorize:1,options:{skipEmptyExchange:!0}}}async function continueScramConversation(n,o,i){const S=i.connection,A=i.credentials;if(!A)throw new f.MongoMissingCredentialsError("AuthContext must provide credentials.");if(!i.nonce)throw new f.MongoInvalidArgumentError("Unable to continue SCRAM without valid nonce");const D=i.nonce,N=A.source,R=cleanUsername(A.username),x=A.password,P="sha256"===n?(0,s.saslprep)(x):function passwordDigest(n,o){if("string"!=typeof n)throw new f.MongoInvalidArgumentError("Username must be a string");if("string"!=typeof o)throw new f.MongoInvalidArgumentError("Password must be a string");if(0===o.length)throw new f.MongoInvalidArgumentError("Password cannot be empty");let i;try{i=c.createHash("md5")}catch(n){if(c.getFips())throw new Error("Auth mechanism SCRAM-SHA-1 is not supported in FIPS mode");throw n}return i.update(`${n}:mongo:${o}`,"utf8"),i.digest("hex")}(R,x),M=Buffer.isBuffer(o.payload)?new h.Binary(o.payload):o.payload,I=parsePayload(M),B=parseInt(I.i,10);if(B&&B<4096)throw new f.MongoRuntimeError(`Server returned an invalid iteration count ${B}`);const F=I.s,L=I.r;if(L.startsWith("nonce"))throw new f.MongoRuntimeError(`Server returned an invalid nonce: ${L}`);const k=`c=biws,r=${L}`,j=function HI(n,o,i,s){const h=[n,o.toString("base64"),i].join("_");if(null!=O[h])return O[h];const f=c.pbkdf2Sync(n,o,i,_[s],s);T>=200&&function _hiCachePurge(){O={},T=0}();return O[h]=f,T+=1,f}(P,Buffer.from(F,"base64"),B,n),U=HMAC(n,j,"Client Key"),z=HMAC(n,j,"Server Key"),q=function H(n,o){return c.createHash(n).update(o).digest()}(n,U),V=[clientFirstMessageBare(R,D),M.toString("utf8"),k].join(","),W=[k,`p=${function xor(n,o){Buffer.isBuffer(n)||(n=Buffer.from(n));Buffer.isBuffer(o)||(o=Buffer.from(o));const i=Math.max(n.length,o.length),s=[];for(let c=0;c<i;c+=1)s.push(n[c]^o[c]);return Buffer.from(s).toString("base64")}(U,HMAC(n,q,V))}`].join(","),$=HMAC(n,z,V),G={saslContinue:1,conversationId:o.conversationId,payload:new h.Binary(Buffer.from(W))},K=await S.command((0,E.ns)(`${N}.$cmd`),G,void 0),Y=parsePayload(K.payload);if(!function compareDigest(n,o){if(n.length!==o.length)return!1;if("function"==typeof c.timingSafeEqual)return c.timingSafeEqual(n,o);let i=0;for(let s=0;s<n.length;s++)i|=n[s]^o[s];return 0===i}(Buffer.from(Y.v,"base64"),$))throw new f.MongoRuntimeError("Server returned an invalid signature");if(!1!==K.done)return;const X={saslContinue:1,conversationId:K.conversationId,payload:Buffer.alloc(0)};await S.command((0,E.ns)(`${N}.$cmd`),X,void 0)}function parsePayload(n){const o={},i=n.toString("utf8").split(",");for(let n=0;n<i.length;n++){const s=(i[n].match(/^([^=]*)=(.*)$/)??[]).slice(1);o[s[0]]=s[1]}return o}function HMAC(n,o,i){return c.createHmac(n,o).update(i).digest()}let O={},T=0;const _={sha256:32,sha1:20};o.ScramSHA1=class ScramSHA1 extends ScramSHA{constructor(){super("sha1")}};o.ScramSHA256=class ScramSHA256 extends ScramSHA{constructor(){super("sha256")}}},95240:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.X509=void 0;const s=i(86947),c=i(52060),h=i(5644);class X509 extends h.AuthProvider{async prepare(n,o){const{credentials:i}=o;if(!i)throw new s.MongoMissingCredentialsError("AuthContext must provide credentials.");return{...n,speculativeAuthenticate:x509AuthenticateCommand(i)}}async auth(n){const o=n.connection,i=n.credentials;if(!i)throw new s.MongoMissingCredentialsError("AuthContext must provide credentials.");const h=n.response;h?.speculativeAuthenticate||await o.command((0,c.ns)("$external.$cmd"),x509AuthenticateCommand(i),void 0)}}function x509AuthenticateCommand(n){const o={authenticate:1,mechanism:"MONGODB-X509"};return n.username&&(o.user=n.username),o}o.X509=X509},61643:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SENSITIVE_COMMANDS=o.CommandFailedEvent=o.CommandSucceededEvent=o.CommandStartedEvent=void 0;const s=i(32568),c=i(52060),h=i(50045);o.CommandStartedEvent=class CommandStartedEvent{constructor(n,i,c){this.name=s.COMMAND_STARTED;const h=extractCommand(i),f=extractCommandName(h),{address:E,connectionId:S,serviceId:A}=extractConnectionDetails(n);o.SENSITIVE_COMMANDS.has(f)&&(this.commandObj={},this.commandObj[f]=!0),this.address=E,this.connectionId=S,this.serviceId=A,this.requestId=i.requestId,this.databaseName=i.databaseName,this.commandName=f,this.command=maybeRedact(f,h,h),this.serverConnectionId=c}get hasServiceId(){return!!this.serviceId}};o.CommandSucceededEvent=class CommandSucceededEvent{constructor(n,o,i,h,f){this.name=s.COMMAND_SUCCEEDED;const E=extractCommand(o),S=extractCommandName(E),{address:A,connectionId:O,serviceId:T}=extractConnectionDetails(n);this.address=A,this.connectionId=O,this.serviceId=T,this.requestId=o.requestId,this.commandName=S,this.duration=(0,c.calculateDurationInMs)(h),this.reply=maybeRedact(S,E,function extractReply(n){if(!n)return n;return n.result?n.result:n}(i)),this.serverConnectionId=f,this.databaseName=o.databaseName}get hasServiceId(){return!!this.serviceId}};o.CommandFailedEvent=class CommandFailedEvent{constructor(n,o,i,h,f){this.name=s.COMMAND_FAILED;const E=extractCommand(o),S=extractCommandName(E),{address:A,connectionId:O,serviceId:T}=extractConnectionDetails(n);this.address=A,this.connectionId=O,this.serviceId=T,this.requestId=o.requestId,this.commandName=S,this.duration=(0,c.calculateDurationInMs)(h),this.failure=maybeRedact(S,E,i),this.serverConnectionId=f,this.databaseName=o.databaseName}get hasServiceId(){return!!this.serviceId}},o.SENSITIVE_COMMANDS=new Set(["authenticate","saslStart","saslContinue","getnonce","createUser","updateUser","copydbgetnonce","copydbsaslstart","copydb"]);const f=new Set(["hello",s.LEGACY_HELLO_COMMAND,s.LEGACY_HELLO_COMMAND_CAMEL_CASE]),extractCommandName=n=>Object.keys(n)[0],collectionName=n=>n.ns.split(".")[1],maybeRedact=(n,i,s)=>o.SENSITIVE_COMMANDS.has(n)||f.has(n)&&i.speculativeAuthenticate?{}:s,E={$query:"filter",$orderby:"sort",$hint:"hint",$comment:"comment",$maxScan:"maxScan",$max:"max",$min:"min",$returnKey:"returnKey",$showDiskLoc:"showRecordId",$maxTimeMS:"maxTimeMS",$snapshot:"snapshot"},S={numberToSkip:"skip",numberToReturn:"batchSize",returnFieldSelector:"projection"};function extractCommand(n){if(n instanceof h.OpMsgRequest){const o={...n.command};return o.ops instanceof h.DocumentSequence&&(o.ops=o.ops.documents),o.nsInfo instanceof h.DocumentSequence&&(o.nsInfo=o.nsInfo.documents),o}if(n.query?.$query){let o;return"admin.$cmd"===n.ns?o=Object.assign({},n.query.$query):(o={find:collectionName(n)},Object.keys(E).forEach(i=>{null!=n.query[i]&&(o[E[i]]={...n.query[i]})})),Object.keys(S).forEach(i=>{const s=i;null!=n[s]&&(o[S[s]]=n[s])}),o}let o={};const i={...n};return n.query&&(o={...n.query},i.query=o),n.query?o:i}function extractConnectionDetails(n){let o;return"id"in n&&(o=n.id),{address:n.address,serviceId:n.serviceId,connectionId:o}}},50045:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.OpCompressedRequest=o.OpMsgResponse=o.OpMsgRequest=o.DocumentSequence=o.OpReply=o.OpQueryRequest=void 0;const s=i(63403),c=i(86947),h=i(3460),f=i(26447);let E=0;const S=s.BSON.onDemand.ByteUtils.encodeUTF8Into;class OpQueryRequest{constructor(n,o,i){this.moreToCome=!1;const s=`${n}.$cmd`;if("string"!=typeof n)throw new c.MongoRuntimeError("Database name must be a string for a query");if(null==o)throw new c.MongoRuntimeError("A query document must be specified for query");if(-1!==s.indexOf("\0"))throw new c.MongoRuntimeError("Namespace cannot contain a null character");this.databaseName=n,this.query=o,this.ns=s,this.numberToSkip=i.numberToSkip||0,this.numberToReturn=i.numberToReturn||0,this.returnFieldSelector=i.returnFieldSelector||void 0,this.requestId=i.requestId??OpQueryRequest.getRequestId(),this.pre32Limit=i.pre32Limit,this.serializeFunctions="boolean"==typeof i.serializeFunctions&&i.serializeFunctions,this.ignoreUndefined="boolean"==typeof i.ignoreUndefined&&i.ignoreUndefined,this.maxBsonSize=i.maxBsonSize||16777216,this.checkKeys="boolean"==typeof i.checkKeys&&i.checkKeys,this.batchSize=this.numberToReturn,this.tailable=!1,this.secondaryOk="boolean"==typeof i.secondaryOk&&i.secondaryOk,this.oplogReplay=!1,this.noCursorTimeout=!1,this.awaitData=!1,this.exhaust=!1,this.partial=!1}incRequestId(){this.requestId=E++}nextRequestId(){return E+1}static getRequestId(){return++E}toBin(){const n=[];let o=null,i=0;this.tailable&&(i|=2),this.secondaryOk&&(i|=4),this.oplogReplay&&(i|=8),this.noCursorTimeout&&(i|=16),this.awaitData&&(i|=32),this.exhaust&&(i|=64),this.partial&&(i|=128),this.batchSize!==this.numberToReturn&&(this.numberToReturn=this.batchSize);const c=Buffer.alloc(20+Buffer.byteLength(this.ns)+1+4+4);n.push(c);const h=s.serialize(this.query,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined});n.push(h),this.returnFieldSelector&&Object.keys(this.returnFieldSelector).length>0&&(o=s.serialize(this.returnFieldSelector,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined}),n.push(o));const E=c.length+h.length+(o?o.length:0);let S=4;return c[3]=E>>24&255,c[2]=E>>16&255,c[1]=E>>8&255,c[0]=255&E,c[S+3]=this.requestId>>24&255,c[S+2]=this.requestId>>16&255,c[S+1]=this.requestId>>8&255,c[S]=255&this.requestId,S+=4,c[S+3]=0,c[S+2]=0,c[S+1]=0,c[S]=0,S+=4,c[S+3]=f.OP_QUERY>>24&255,c[S+2]=f.OP_QUERY>>16&255,c[S+1]=f.OP_QUERY>>8&255,c[S]=255&f.OP_QUERY,S+=4,c[S+3]=i>>24&255,c[S+2]=i>>16&255,c[S+1]=i>>8&255,c[S]=255&i,S+=4,S=S+c.write(this.ns,S,"utf8")+1,c[S-1]=0,c[S+3]=this.numberToSkip>>24&255,c[S+2]=this.numberToSkip>>16&255,c[S+1]=this.numberToSkip>>8&255,c[S]=255&this.numberToSkip,S+=4,c[S+3]=this.numberToReturn>>24&255,c[S+2]=this.numberToReturn>>16&255,c[S+1]=this.numberToReturn>>8&255,c[S]=255&this.numberToReturn,S+=4,n}}o.OpQueryRequest=OpQueryRequest;o.OpReply=class OpReply{constructor(n,o,i,s){this.index=0,this.sections=[],this.moreToCome=!1,this.parsed=!1,this.raw=n,this.data=i,this.opts=s??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=o.length,this.requestId=o.requestId,this.responseTo=o.responseTo,this.opCode=o.opCode,this.fromCompressed=o.fromCompressed,this.useBigInt64="boolean"==typeof this.opts.useBigInt64&&this.opts.useBigInt64,this.promoteLongs="boolean"!=typeof this.opts.promoteLongs||this.opts.promoteLongs,this.promoteValues="boolean"!=typeof this.opts.promoteValues||this.opts.promoteValues,this.promoteBuffers="boolean"==typeof this.opts.promoteBuffers&&this.opts.promoteBuffers,this.bsonRegExp="boolean"==typeof this.opts.bsonRegExp&&this.opts.bsonRegExp}isParsed(){return this.parsed}parse(){if(this.parsed)return this.sections[0];if(this.index=20,this.responseFlags=this.data.readInt32LE(0),this.cursorId=new s.Long(this.data.readInt32LE(4),this.data.readInt32LE(8)),this.startingFrom=this.data.readInt32LE(12),this.numberReturned=this.data.readInt32LE(16),this.numberReturned<0||this.numberReturned>2**32-1)throw new RangeError(`OP_REPLY numberReturned is an invalid array length ${this.numberReturned}`);this.cursorNotFound=!!(1&this.responseFlags),this.queryFailure=!!(2&this.responseFlags),this.shardConfigStale=!!(4&this.responseFlags),this.awaitCapable=!!(8&this.responseFlags);for(let n=0;n<this.numberReturned;n++){const n=this.data[this.index]|this.data[this.index+1]<<8|this.data[this.index+2]<<16|this.data[this.index+3]<<24,o=this.data.subarray(this.index,this.index+n);this.sections.push(o),this.index=this.index+n}return this.parsed=!0,this.sections[0]}};class DocumentSequence{constructor(n,o){this.field=n,this.documents=[],this.chunks=[],this.serializedDocumentsLength=0;const i=Buffer.allocUnsafe(5+this.field.length+1);if(i[0]=1,S(i,`${this.field}\0`,5),this.chunks.push(i),this.header=i,o)for(const n of o)this.push(n,s.serialize(n))}push(n,o){return this.serializedDocumentsLength+=o.length,this.documents.push(n),this.chunks.push(o),this.header?.writeInt32LE(4+this.field.length+1+this.serializedDocumentsLength,1),this.serializedDocumentsLength+this.header.length}toBin(){return Buffer.concat(this.chunks)}}o.DocumentSequence=DocumentSequence;class OpMsgRequest{constructor(n,o,i){if(null==o)throw new c.MongoInvalidArgumentError("Query document must be specified for query");this.databaseName=n,this.command=o,this.command.$db=n,this.options=i??{},this.requestId=i.requestId?i.requestId:OpMsgRequest.getRequestId(),this.serializeFunctions="boolean"==typeof i.serializeFunctions&&i.serializeFunctions,this.ignoreUndefined="boolean"==typeof i.ignoreUndefined&&i.ignoreUndefined,this.checkKeys="boolean"==typeof i.checkKeys&&i.checkKeys,this.maxBsonSize=i.maxBsonSize||16777216,this.checksumPresent=!1,this.moreToCome=i.moreToCome??0===o.writeConcern?.w,this.exhaustAllowed="boolean"==typeof i.exhaustAllowed&&i.exhaustAllowed}toBin(){const n=[];let o=0;this.checksumPresent&&(o|=1),this.moreToCome&&(o|=2),this.exhaustAllowed&&(o|=65536);const i=Buffer.alloc(20);n.push(i);let s=i.length;const c=this.command;return s+=this.makeSections(n,c),i.writeInt32LE(s,0),i.writeInt32LE(this.requestId,4),i.writeInt32LE(0,8),i.writeInt32LE(f.OP_MSG,12),i.writeUInt32LE(o,16),n}makeSections(n,o){const i=this.extractDocumentSequences(o),s=Buffer.allocUnsafe(1);s[0]=0;const c=this.serializeBson(o);return n.push(s),n.push(c),n.push(i),s.length+c.length+i.length}extractDocumentSequences(n){const o=[];for(const[i,s]of Object.entries(n))s instanceof DocumentSequence&&(o.push(s.toBin()),delete n[i]);return o.length>0?Buffer.concat(o):Buffer.alloc(0)}serializeBson(n){return s.serialize(n,{checkKeys:this.checkKeys,serializeFunctions:this.serializeFunctions,ignoreUndefined:this.ignoreUndefined})}static getRequestId(){return E=E+1&2147483647,E}}o.OpMsgRequest=OpMsgRequest;o.OpMsgResponse=class OpMsgResponse{constructor(n,o,i,s){this.index=0,this.sections=[],this.parsed=!1,this.raw=n,this.data=i,this.opts=s??{useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!1,bsonRegExp:!1},this.length=o.length,this.requestId=o.requestId,this.responseTo=o.responseTo,this.opCode=o.opCode,this.fromCompressed=o.fromCompressed,this.responseFlags=i.readInt32LE(0),this.checksumPresent=!!(1&this.responseFlags),this.moreToCome=!!(2&this.responseFlags),this.exhaustAllowed=!!(65536&this.responseFlags),this.useBigInt64="boolean"==typeof this.opts.useBigInt64&&this.opts.useBigInt64,this.promoteLongs="boolean"!=typeof this.opts.promoteLongs||this.opts.promoteLongs,this.promoteValues="boolean"!=typeof this.opts.promoteValues||this.opts.promoteValues,this.promoteBuffers="boolean"==typeof this.opts.promoteBuffers&&this.opts.promoteBuffers,this.bsonRegExp="boolean"==typeof this.opts.bsonRegExp&&this.opts.bsonRegExp}isParsed(){return this.parsed}parse(){if(this.parsed)return this.sections[0];for(this.index=4;this.index<this.data.length;){const n=this.data.readUInt8(this.index++);if(0===n){const n=this.data.readUInt32LE(this.index),o=this.data.subarray(this.index,this.index+n);this.sections.push(o),this.index+=n}else if(1===n)throw new c.MongoRuntimeError("OP_MSG Payload Type 1 detected unsupported protocol")}return this.parsed=!0,this.sections[0]}};o.OpCompressedRequest=class OpCompressedRequest{constructor(n,o){this.command=n,this.options={zlibCompressionLevel:o.zlibCompressionLevel,agreedCompressor:o.agreedCompressor}}static canCompress(n){const o=n instanceof OpMsgRequest?n.command:n.query,i=Object.keys(o)[0];return!h.uncompressibleCommands.has(i)}async toBin(){const n=Buffer.concat(this.command.toBin()),o=n.slice(16),i=n.readInt32LE(12),s=await(0,h.compress)(this.options,o),c=Buffer.alloc(16);c.writeInt32LE(25+s.length,0),c.writeInt32LE(this.command.requestId,4),c.writeInt32LE(0,8),c.writeInt32LE(f.OP_COMPRESSED,12);const E=Buffer.alloc(9);return E.writeInt32LE(i,0),E.writeInt32LE(o.length,4),E.writeUInt8(h.Compressor[this.options.agreedCompressor],8),[c,E,s]}}},34469:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.LEGAL_TCP_SOCKET_OPTIONS=o.LEGAL_TLS_SOCKET_OPTIONS=void 0,o.connect=async function connect(n){let o=null;try{return o=makeConnection(n,await makeSocket(n)),await performInitialHandshake(o,n),o}catch(n){throw o?.destroy(),n}},o.makeConnection=makeConnection,o.performInitialHandshake=performInitialHandshake,o.prepareHandshakeDocument=prepareHandshakeDocument,o.makeSocket=makeSocket;const s=i(69278),c=i(64756),h=i(32568),f=i(33371),E=i(86947),S=i(52060),A=i(5644),O=i(24380),T=i(15307),_=i(26447);function makeConnection(n,o){let i=n.connectionType??T.Connection;return n.autoEncrypter&&(i=T.CryptoConnection),new i(o,n)}async function performInitialHandshake(n,o){const i=o.credentials;if(i&&i.mechanism!==O.AuthMechanism.MONGODB_DEFAULT&&!o.authProviders.getOrCreateProvider(i.mechanism,i.mechanismProperties))throw new E.MongoInvalidArgumentError(`AuthMechanism '${i.mechanism}' not supported`);const s=new A.AuthContext(n,i,o);n.authContext=s;const c=await prepareHandshakeDocument(s),f={...o,raw:!1};"number"==typeof o.connectTimeoutMS&&(f.socketTimeoutMS=o.connectTimeoutMS);const T=(new Date).getTime(),D=await async function executeHandshake(o,i){try{return await n.command((0,S.ns)("admin.$cmd"),o,i)}catch(n){throw n instanceof E.MongoError&&n.addErrorLabel(E.MongoErrorLabel.HandshakeError),n}}(c,f);"isWritablePrimary"in D||(D.isWritablePrimary=D[h.LEGACY_HELLO_COMMAND]),D.helloOk&&(n.helloOk=!0);const N=function checkSupportedServer(n,o){const i=Number(n.maxWireVersion),s=Number(n.minWireVersion),c=!Number.isNaN(i)&&i>=_.MIN_SUPPORTED_WIRE_VERSION,h=!Number.isNaN(s)&&s<=_.MAX_SUPPORTED_WIRE_VERSION;if(c){if(h)return null;const i=`Server at ${o.hostAddress} reports minimum wire version ${JSON.stringify(n.minWireVersion)}, but this version of the Node.js Driver requires at most ${_.MAX_SUPPORTED_WIRE_VERSION} (MongoDB ${_.MAX_SUPPORTED_SERVER_VERSION})`;return new E.MongoCompatibilityError(i)}const f=`Server at ${o.hostAddress} reports maximum wire version ${JSON.stringify(n.maxWireVersion)??0}, but this version of the Node.js Driver requires at least ${_.MIN_SUPPORTED_WIRE_VERSION} (MongoDB ${_.MIN_SUPPORTED_SERVER_VERSION})`;return new E.MongoCompatibilityError(f)}(D,o);if(N)throw N;if(o.loadBalanced&&!D.serviceId)throw new E.MongoCompatibilityError("Driver attempted to initialize in load balancing mode, but the server does not support this mode.");if(n.hello=D,n.lastHelloMS=(new Date).getTime()-T,!D.arbiterOnly&&i){s.response=D;const c=i.resolveAuthMechanism(D),h=o.authProviders.getOrCreateProvider(c.mechanism,c.mechanismProperties);if(!h)throw new E.MongoInvalidArgumentError(`No AuthProvider for ${c.mechanism} defined.`);try{await h.auth(s)}catch(o){throw o instanceof E.MongoError&&(o.addErrorLabel(E.MongoErrorLabel.HandshakeError),(0,E.needsRetryableWriteLabel)(o,D.maxWireVersion,n.description.type)&&o.addErrorLabel(E.MongoErrorLabel.RetryableWriteError)),o}}n.established=!0}async function prepareHandshakeDocument(n){const o=n.options,i=o.compressors?o.compressors:[],{serverApi:s}=n.connection,c=await o.extendedMetadata,f={[s?.version||!0===o.loadBalanced?"hello":h.LEGACY_HELLO_COMMAND]:1,helloOk:!0,client:c,compression:i};!0===o.loadBalanced&&(f.loadBalanced=!0);const S=n.credentials;if(S){if(S.mechanism===O.AuthMechanism.MONGODB_DEFAULT&&S.username){f.saslSupportedMechs=`${S.source}.${S.username}`;const o=n.options.authProviders.getOrCreateProvider(O.AuthMechanism.MONGODB_SCRAM_SHA256,S.mechanismProperties);if(!o)throw new E.MongoInvalidArgumentError(`No AuthProvider for ${O.AuthMechanism.MONGODB_SCRAM_SHA256} defined.`);return await o.prepare(f,n)}const o=n.options.authProviders.getOrCreateProvider(S.mechanism,S.mechanismProperties);if(!o)throw new E.MongoInvalidArgumentError(`No AuthProvider for ${S.mechanism} defined.`);return await o.prepare(f,n)}return f}function parseConnectOptions(n){const i=n.hostAddress;if(!i)throw new E.MongoInvalidArgumentError('Option "hostAddress" is required');const s={};for(const i of o.LEGAL_TCP_SOCKET_OPTIONS)null!=n[i]&&(s[i]=n[i]);if(s.keepAliveInitialDelay??=12e4,s.keepAlive=!0,s.noDelay=n.noDelay??!0,"string"==typeof i.socketPath)return s.path=i.socketPath,s;if("string"==typeof i.host)return s.host=i.host,s.port=i.port,s;throw new E.MongoRuntimeError(`Unexpected HostAddress ${JSON.stringify(i)}`)}async function makeSocket(n){const i=n.tls??!1,h=n.connectTimeoutMS??3e4,A=n.existingSocket;let O;if(null!=n.proxyHost)return await async function makeSocks5Connection(n){const o=S.HostAddress.fromHostPort(n.proxyHost??"",n.proxyPort??1080),i=await makeSocket({...n,hostAddress:o,tls:!1,proxyHost:void 0}),s=parseConnectOptions(n);if("string"!=typeof s.host||"number"!=typeof s.port)throw new E.MongoInvalidArgumentError("Can only make Socks5 connections to TCP hosts");let c;D??=function loadSocks(){if(null==D){const n=(0,f.getSocks)();if("kModuleError"in n)throw n.kModuleError;D=n}return D}();try{c=(await D.SocksClient.createConnection({existing_socket:i,timeout:n.connectTimeoutMS,command:"connect",destination:{host:s.host,port:s.port},proxy:{host:"iLoveJavaScript",port:0,type:5,userId:n.proxyUsername||void 0,password:n.proxyPassword||void 0}})).socket}catch(n){throw new E.MongoNetworkError(E.MongoError.buildErrorMessage(n),{cause:n})}return await makeSocket({...n,existingSocket:c,proxyHost:void 0})}({...n,connectTimeoutMS:h});if(i){const i=c.connect(function parseSslOptions(n){const i=parseConnectOptions(n);for(const s of o.LEGAL_TLS_SOCKET_OPTIONS)null!=n[s]&&(i[s]=n[s]);return n.existingSocket&&(i.socket=n.existingSocket),null==i.servername&&i.host&&!s.isIP(i.host)&&(i.servername=i.host),i}(n));"function"==typeof i.disableRenegotiation&&i.disableRenegotiation(),O=i}else O=A||s.createConnection(parseConnectOptions(n));O.setTimeout(h);let T=null;const{promise:_,resolve:N,reject:R}=(0,S.promiseWithResolvers)();if(A)N(O);else{const o=performance.now(),s=i?"secureConnect":"connect";O.once(s,()=>N(O)).once("error",n=>R(new E.MongoNetworkError(E.MongoError.buildErrorMessage(n),{cause:n}))).once("timeout",()=>{R(new E.MongoNetworkTimeoutError(`Socket '${s}' timed out after ${performance.now()-o|0}ms (connectTimeoutMS: ${h})`))}).once("close",()=>R(new E.MongoNetworkError(`Socket closed after ${performance.now()-o|0} during connection establishment`))),null!=n.cancellationToken&&(T=()=>R(new E.MongoNetworkError("Socket connection establishment was cancelled after "+(performance.now()-o|0))),n.cancellationToken.once("cancel",T))}try{return O=await _,O}catch(n){throw O.destroy(),n}finally{O.setTimeout(0),null!=T&&n.cancellationToken?.removeListener("cancel",T)}}o.LEGAL_TLS_SOCKET_OPTIONS=["allowPartialTrustChain","ALPNProtocols","ca","cert","checkServerIdentity","ciphers","crl","ecdhCurve","key","minDHSize","passphrase","pfx","rejectUnauthorized","secureContext","secureProtocol","servername","session"],o.LEGAL_TCP_SOCKET_OPTIONS=["autoSelectFamily","autoSelectFamilyAttemptTimeout","keepAliveInitialDelay","family","hints","localAddress","localPort","lookup"];let D=null},15307:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CryptoConnection=o.SizedMessageTransform=o.Connection=void 0,o.hasSessionSupport=function hasSessionSupport(n){return null!=n.description.logicalSessionTimeoutMinutes};const s=i(2203),c=i(75938),h=i(63403),f=i(32568),E=i(86947),S=i(60528),A=i(96327),O=i(50773),T=i(48446),_=i(94452),D=i(38286),N=i(52060),R=i(61643),x=i(50045),P=i(4382),M=i(3460),I=i(90268),B=i(89086),F=i(13193);class Connection extends A.TypedEventEmitter{constructor(n,o){super(),this.lastHelloMS=-1,this.helloOk=!1,this.delayedTimeoutId=null,this.closed=!1,this.clusterTime=null,this.error=null,this.dataEvents=null,this.on("error",N.noop),this.socket=n,this.id=o.id,this.address=function streamIdentifier(n,o){if(o.proxyHost)return o.hostAddress.toString();const{remoteAddress:i,remotePort:s}=n;return"string"==typeof i&&"number"==typeof s?N.HostAddress.fromHostPort(i,s).toString():(0,N.uuidV4)().toString("hex")}(n,o),this.socketTimeoutMS=o.socketTimeoutMS??0,this.monitorCommands=o.monitorCommands,this.serverApi=o.serverApi,this.mongoLogger=o.mongoLogger,this.established=!1,this.description=new P.StreamDescription(this.address,o),this.generation=o.generation,this.lastUseTime=(0,N.now)(),this.messageStream=this.socket.on("error",this.onSocketError.bind(this)).pipe(new SizedMessageTransform({connection:this})).on("error",this.onTransformError.bind(this)),this.socket.on("close",this.onClose.bind(this)),this.socket.on("timeout",this.onTimeout.bind(this)),this.messageStream.pause()}get hello(){return this.description.hello}set hello(n){this.description.receiveResponse(n),Object.freeze(this.description)}get serviceId(){return this.hello?.serviceId}get loadBalanced(){return this.description.loadBalanced}get idleTime(){return(0,N.calculateDurationInMs)(this.lastUseTime)}get hasSessionSupport(){return null!=this.description.logicalSessionTimeoutMinutes}get supportsOpMsg(){return null!=this.description&&(0,N.maxWireVersion)(this)>=6&&!this.description.__nodejs_mock_server__}get shouldEmitAndLogCommand(){return(this.monitorCommands||this.established&&!this.authContext?.reauthenticating&&this.mongoLogger?.willLog(S.MongoLoggableComponent.COMMAND,S.SeverityLevel.DEBUG))??!1}markAvailable(){this.lastUseTime=(0,N.now)()}onSocketError(n){this.onError(new E.MongoNetworkError(n.message,{cause:n}))}onTransformError(n){this.onError(n)}onError(n){this.cleanup(n)}onClose(){const n=`connection ${this.id} to ${this.address} closed`;this.cleanup(new E.MongoNetworkError(n))}onTimeout(){this.delayedTimeoutId=(0,c.setTimeout)(()=>{const n=`connection ${this.id} to ${this.address} timed out`,o=null==this.hello;this.cleanup(new E.MongoNetworkTimeoutError(n,{beforeHandshake:o}))},1).unref()}destroy(){if(this.closed)return;this.removeAllListeners(Connection.PINNED),this.removeAllListeners(Connection.UNPINNED);const n=`connection ${this.id} to ${this.address} closed`;this.cleanup(new E.MongoNetworkError(n))}cleanup(n){this.closed||(this.socket.destroy(),this.error=n,this.dataEvents?.throw(n).then(void 0,N.squashError),this.closed=!0,this.emit(Connection.CLOSE))}prepareCommand(n,o,i){let s={...o};const c=(0,F.getReadPreference)(i),h=i?.session;let f=this.clusterTime;if(this.serverApi){const{version:n,strict:o,deprecationErrors:i}=this.serverApi;s.apiVersion=n,null!=o&&(s.apiStrict=o),null!=i&&(s.apiDeprecationErrors=i)}if(this.hasSessionSupport&&h){h.clusterTime&&f&&h.clusterTime.clusterTime.greaterThan(f.clusterTime)&&(f=h.clusterTime);const n=(0,_.applySession)(h,s,i);if(n)throw n}else if(h?.explicit)throw new E.MongoCompatibilityError("Current topology does not support sessions");f&&(s.$clusterTime=f),this.description.type!==T.ServerType.Standalone&&((0,F.isSharded)(this)||this.description.loadBalanced||!this.supportsOpMsg||!0!==i.directConnection||"primary"!==c?.mode?(0,F.isSharded)(this)&&!this.supportsOpMsg&&"primary"!==c?.mode?s={$query:s,$readPreference:c.toJSON()}:"primary"!==c?.mode&&(s.$readPreference=c.toJSON()):s.$readPreference=O.ReadPreference.primaryPreferred.toJSON());const S={numberToSkip:0,numberToReturn:-1,checkKeys:!1,secondaryOk:c.secondaryOk(),...i};i.timeoutContext?.addMaxTimeMSToCommand(s,i);return this.supportsOpMsg?new x.OpMsgRequest(n,s,S):new x.OpQueryRequest(n,s,S)}async*sendWire(n,o,i){this.throwIfAborted();const s=o.socketTimeoutMS??o?.timeoutContext?.getSocketTimeoutMS()??this.socketTimeoutMS;this.socket.setTimeout(s);try{if(await this.writeCommand(n,{agreedCompressor:this.description.compressor??"none",zlibCompressionLevel:this.description.zlibCompressionLevel,timeoutContext:o.timeoutContext,signal:o.signal}),o.noResponse||n.moreToCome)return void(yield B.MongoDBResponse.empty);if(this.throwIfAborted(),o.timeoutContext?.csotEnabled()&&null!=o.timeoutContext.minRoundTripTime&&o.timeoutContext.remainingTimeMS<o.timeoutContext.minRoundTripTime)throw new E.MongoOperationTimeoutError("Server roundtrip time is greater than the time remaining");for await(const n of this.readMany(o)){this.socket.setTimeout(0);const o=n.parse(),c=(i??B.MongoDBResponse).make(o);yield c,this.throwIfAborted(),this.socket.setTimeout(s)}}finally{this.socket.setTimeout(0)}}async*sendCommand(n,o,i,s){i?.signal?.throwIfAborted();const c=this.prepareCommand(n.db,o,i);let h=0;this.shouldEmitAndLogCommand&&(h=(0,N.now)(),this.emitAndLogCommand(this.monitorCommands,Connection.COMMAND_STARTED,c.databaseName,this.established,new R.CommandStartedEvent(this,c,this.description.serverConnectionId)));const f=null!=i.documentsReturnedIn&&i.raw?{...i,raw:!1,fieldsAsRaw:{[i.documentsReturnedIn]:!0}}:i;let S,A;try{for await(S of(this.throwIfAborted(),this.sendWire(c,i,s))){if(A=void 0,null!=i.session&&(0,_.updateSessionFromResponse)(i.session,S),S.$clusterTime&&(this.clusterTime=S.$clusterTime,this.emit(Connection.CLUSTER_TIME_RECEIVED,S.$clusterTime)),0===S.ok){if(i.timeoutContext?.csotEnabled()&&S.isMaxTimeExpiredError)throw new E.MongoOperationTimeoutError("Server reported a timeout error",{cause:new E.MongoServerError(A??=S.toObject(f))});throw new E.MongoServerError(A??=S.toObject(f))}this.shouldEmitAndLogCommand&&this.emitAndLogCommand(this.monitorCommands,Connection.COMMAND_SUCCEEDED,c.databaseName,this.established,new R.CommandSucceededEvent(this,c,i.noResponse?void 0:c.moreToCome?{ok:1}:A??=S.toObject(f),h,this.description.serverConnectionId)),null==s?yield A??=S.toObject(f):yield S,this.throwIfAborted()}}catch(n){throw this.shouldEmitAndLogCommand&&this.emitAndLogCommand(this.monitorCommands,Connection.COMMAND_FAILED,c.databaseName,this.established,new R.CommandFailedEvent(this,c,n,h,this.description.serverConnectionId)),n}}async command(n,o,i={},s){this.throwIfAborted(),i.signal?.throwIfAborted();for await(const c of this.sendCommand(n,o,i,s)){if(i.timeoutContext?.csotEnabled())if(B.MongoDBResponse.is(c)){if(c.isMaxTimeExpiredError)throw new E.MongoOperationTimeoutError("Server reported a timeout error",{cause:new E.MongoServerError(c.toObject())})}else if(Array.isArray(c?.writeErrors)&&c.writeErrors.some(n=>n?.code===E.MONGODB_ERROR_CODES.MaxTimeMSExpired)||c?.writeConcernError?.code===E.MONGODB_ERROR_CODES.MaxTimeMSExpired)throw new E.MongoOperationTimeoutError("Server reported a timeout error",{cause:new E.MongoServerError(c)});return c}throw new E.MongoUnexpectedServerResponseError("Unable to get response from server")}exhaustCommand(n,o,i,s){(async()=>{this.throwIfAborted();for await(const c of this.sendCommand(n,o,i))s(void 0,c),this.throwIfAborted();throw new E.MongoUnexpectedServerResponseError("Server ended moreToCome unexpectedly")})().then(void 0,s)}throwIfAborted(){if(this.error)throw this.error}async writeCommand(n,o){const i="none"!==o.agreedCompressor&&x.OpCompressedRequest.canCompress(n)?new x.OpCompressedRequest(n,{agreedCompressor:o.agreedCompressor??"none",zlibCompressionLevel:o.zlibCompressionLevel??0}):n,s=Buffer.concat(await i.toBin());if(o.timeoutContext?.csotEnabled()&&null!=o.timeoutContext.minRoundTripTime&&o.timeoutContext.remainingTimeMS<o.timeoutContext.minRoundTripTime)throw new E.MongoOperationTimeoutError("Server roundtrip time is greater than the time remaining");if(this.socket.write(s))return;const c=(0,N.once)(this.socket,"drain",o),h=o?.timeoutContext?.timeoutForSocketWrite,f=h?Promise.race([c,h]):c;try{return await f}catch(n){if(D.TimeoutError.is(n)){const n=new E.MongoOperationTimeoutError("Timed out at socket write");throw this.onError(n),n}throw n===o.signal?.reason&&this.onError(n),n}finally{h?.clear()}}async*readMany(n){try{this.dataEvents=(0,I.onData)(this.messageStream,n),this.messageStream.resume();for await(const n of this.dataEvents){const o=await(0,M.decompressResponse)(n);if(yield o,!o.moreToCome)return}}catch(o){if(D.TimeoutError.is(o)){const n=new E.MongoOperationTimeoutError(`Timed out during socket read (${o.duration}ms)`);throw this.dataEvents=null,this.onError(n),n}throw o===n.signal?.reason&&this.onError(o),o}finally{this.dataEvents=null,this.messageStream.pause()}}}o.Connection=Connection,Connection.COMMAND_STARTED=f.COMMAND_STARTED,Connection.COMMAND_SUCCEEDED=f.COMMAND_SUCCEEDED,Connection.COMMAND_FAILED=f.COMMAND_FAILED,Connection.CLUSTER_TIME_RECEIVED=f.CLUSTER_TIME_RECEIVED,Connection.CLOSE=f.CLOSE,Connection.PINNED=f.PINNED,Connection.UNPINNED=f.UNPINNED;class SizedMessageTransform extends s.Transform{constructor({connection:n}){super({writableObjectMode:!1,readableObjectMode:!0}),this.bufferPool=new N.BufferPool,this.connection=n}_transform(n,o,i){for(null!=this.connection.delayedTimeoutId&&((0,c.clearTimeout)(this.connection.delayedTimeoutId),this.connection.delayedTimeoutId=null),this.bufferPool.append(n);this.bufferPool.length;){const n=this.bufferPool.getInt32();if(null==n)break;if(n<0)return i(new E.MongoParseError(`Message size cannot be negative: ${n}`));if(n>this.bufferPool.length)break;const o=this.bufferPool.read(n);if(!this.push(o))return i(new E.MongoRuntimeError("SizedMessageTransform does not support backpressure"))}i()}}o.SizedMessageTransform=SizedMessageTransform;o.CryptoConnection=class CryptoConnection extends Connection{constructor(n,o){super(n,o),this.autoEncrypter=o.autoEncrypter}async command(n,o,i,s){const{autoEncrypter:c}=this;if(!c)throw new E.MongoMissingDependencyError("No AutoEncrypter available for encryption",{dependencyName:"n/a"});const S=(0,N.maxWireVersion)(this);if(0===S)return await super.command(n,o,i,s);if(S<8)throw new E.MongoCompatibilityError("Auto-encryption requires a minimum MongoDB version of 4.2");const A=o.find||o.findAndModify?o.sort:null,O=o.createIndexes?o.indexes.map(n=>n.key):null,T=await c.encrypt(n.toString(),o,i);if(null!=A&&(o.find||o.findAndModify)&&(T.sort=A),null!=O&&o.createIndexes)for(const[n,o]of O.entries())T.indexes[n].key=o;const _=await super.command(n,T,i,s??B.MongoDBResponse),D=await c.decrypt(_.toBytes(),i),R=s?.make(D)??(0,h.deserialize)(D,i);return c[f.kDecorateResult]&&(null==s?(0,N.decorateDecryptionResult)(R,_.toObject(),!0):R instanceof B.CursorResponse&&(R.encryptedResponse=_)),R}}},49740:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ConnectionPool=o.PoolState=void 0;const s=i(75938),c=i(32568),h=i(86947),f=i(96327),E=i(38286),S=i(52060),A=i(34469),O=i(15307),T=i(99730),_=i(53216),D=i(86634);o.PoolState=Object.freeze({paused:"paused",ready:"ready",closed:"closed"});class ConnectionPool extends f.TypedEventEmitter{constructor(n,i){if(super(),this.on("error",S.noop),this.options=Object.freeze({connectionType:O.Connection,...i,maxPoolSize:i.maxPoolSize??100,minPoolSize:i.minPoolSize??0,maxConnecting:i.maxConnecting??2,maxIdleTimeMS:i.maxIdleTimeMS??0,waitQueueTimeoutMS:i.waitQueueTimeoutMS??0,minPoolSizeCheckFrequencyMS:i.minPoolSizeCheckFrequencyMS??100,autoEncrypter:i.autoEncrypter}),this.options.minPoolSize>this.options.maxPoolSize)throw new h.MongoInvalidArgumentError("Connection pool minimum size must not be greater than maximum pool size");this.poolState=o.PoolState.paused,this.server=n,this.connections=new S.List,this.pending=0,this.checkedOut=new Set,this.minPoolSizeTimer=void 0,this.generation=0,this.serviceGenerations=new Map,this.connectionCounter=(0,S.makeCounter)(1),this.cancellationToken=new f.CancellationToken,this.cancellationToken.setMaxListeners(1/0),this.waitQueue=new S.List,this.metrics=new D.ConnectionPoolMetrics,this.processingWaitQueue=!1,this.mongoLogger=this.server.topology.client?.mongoLogger,this.component="connection",process.nextTick(()=>{this.emitAndLog(ConnectionPool.CONNECTION_POOL_CREATED,new T.ConnectionPoolCreatedEvent(this))})}get address(){return this.options.hostAddress.toString()}get closed(){return this.poolState===o.PoolState.closed}get totalConnectionCount(){return this.availableConnectionCount+this.pendingConnectionCount+this.currentCheckedOutCount}get availableConnectionCount(){return this.connections.length}get pendingConnectionCount(){return this.pending}get currentCheckedOutCount(){return this.checkedOut.size}get waitQueueSize(){return this.waitQueue.length}get loadBalanced(){return this.options.loadBalanced}get serverError(){return this.server.description.error}get checkedOutConnections(){return this.checkedOut}waitQueueErrorMetrics(){return this.metrics.info(this.options.maxPoolSize)}ready(){this.poolState===o.PoolState.paused&&(this.poolState=o.PoolState.ready,this.emitAndLog(ConnectionPool.CONNECTION_POOL_READY,new T.ConnectionPoolReadyEvent(this)),(0,s.clearTimeout)(this.minPoolSizeTimer),this.ensureMinPoolSize())}async checkOut(n){const o=(0,S.now)();this.emitAndLog(ConnectionPool.CONNECTION_CHECK_OUT_STARTED,new T.ConnectionCheckOutStartedEvent(this));const{promise:i,resolve:s,reject:c}=(0,S.promiseWithResolvers)(),f=n.timeoutContext.connectionCheckoutTimeout,A={resolve:s,reject:c,cancelled:!1,checkoutTime:o},O=(0,S.addAbortListener)(n.signal,function(){A.cancelled=!0,c(this.reason)});this.waitQueue.push(A),process.nextTick(()=>this.processWaitQueue());try{return f?.throwIfExpired(),await(f?Promise.race([i,f]):i)}catch(o){if(E.TimeoutError.is(o)){f?.clear(),A.cancelled=!0,this.emitAndLog(ConnectionPool.CONNECTION_CHECK_OUT_FAILED,new T.ConnectionCheckOutFailedEvent(this,"timeout",A.checkoutTime));const o=new _.WaitQueueTimeoutError(this.loadBalanced?this.waitQueueErrorMetrics():"Timed out while checking out a connection from connection pool",this.address);if(n.timeoutContext.csotEnabled())throw new h.MongoOperationTimeoutError("Timed out during connection checkout",{cause:o});throw o}throw o}finally{O?.[S.kDispose](),f?.clear()}}checkIn(n){if(!this.checkedOut.has(n))return;const o=this.closed,i=this.connectionIsStale(n),s=!!(o||i||n.closed);if(s||(n.markAvailable(),this.connections.unshift(n)),this.checkedOut.delete(n),this.emitAndLog(ConnectionPool.CONNECTION_CHECKED_IN,new T.ConnectionCheckedInEvent(this,n)),s){const i=n.closed?"error":o?"poolClosed":"stale";this.destroyConnection(n,i)}process.nextTick(()=>this.processWaitQueue())}clear(n={}){if(this.closed)return;if(this.loadBalanced){const{serviceId:o}=n;if(!o)throw new h.MongoRuntimeError("ConnectionPool.clear() called in load balanced mode with no serviceId.");const i=o.toHexString(),s=this.serviceGenerations.get(i);if(null==s)throw new h.MongoRuntimeError("Service generations are required in load balancer mode.");return this.serviceGenerations.set(i,s+1),void this.emitAndLog(ConnectionPool.CONNECTION_POOL_CLEARED,new T.ConnectionPoolClearedEvent(this,{serviceId:o}))}const i=n.interruptInUseConnections??!1,s=this.generation;this.generation+=1;const c=this.poolState===o.PoolState.paused;this.poolState=o.PoolState.paused,this.clearMinPoolSizeTimer(),c||this.emitAndLog(ConnectionPool.CONNECTION_POOL_CLEARED,new T.ConnectionPoolClearedEvent(this,{interruptInUseConnections:i})),i&&process.nextTick(()=>this.interruptInUseConnections(s)),this.processWaitQueue()}interruptInUseConnections(n){for(const o of this.checkedOut)o.generation<=n&&o.onError(new _.PoolClearedOnNetworkError(this))}closeCheckedOutConnections(){for(const n of this.checkedOut)n.onError(new h.MongoClientClosedError)}close(){if(!this.closed){this.cancellationToken.emit("cancel"),"function"==typeof this.connectionCounter.return&&this.connectionCounter.return(void 0),this.poolState=o.PoolState.closed,this.clearMinPoolSizeTimer(),this.processWaitQueue();for(const n of this.connections)this.emitAndLog(ConnectionPool.CONNECTION_CLOSED,new T.ConnectionClosedEvent(this,n,"poolClosed")),n.destroy();this.connections.clear(),this.emitAndLog(ConnectionPool.CONNECTION_POOL_CLOSED,new T.ConnectionPoolClosedEvent(this))}}async reauthenticate(n){const o=n.authContext;if(!o)throw new h.MongoRuntimeError("No auth context found on connection.");const i=o.credentials;if(!i)throw new h.MongoMissingCredentialsError("Connection is missing credentials when asked to reauthenticate");const s=i.resolveAuthMechanism(n.hello),c=this.server.topology.client.s.authProviders.getOrCreateProvider(s.mechanism,s.mechanismProperties);if(!c)throw new h.MongoMissingCredentialsError(`Reauthenticate failed due to no auth provider for ${i.mechanism}`);await c.reauth(o)}clearMinPoolSizeTimer(){const n=this.minPoolSizeTimer;n&&(0,s.clearTimeout)(n)}destroyConnection(n,o){this.emitAndLog(ConnectionPool.CONNECTION_CLOSED,new T.ConnectionClosedEvent(this,n,o)),n.destroy()}connectionIsStale(n){const o=n.serviceId;if(this.loadBalanced&&o){const i=o.toHexString(),s=this.serviceGenerations.get(i);return n.generation!==s}return n.generation!==this.generation}connectionIsIdle(n){return!!(this.options.maxIdleTimeMS&&n.idleTime>this.options.maxIdleTimeMS)}destroyConnectionIfPerished(n){const o=this.connectionIsStale(n),i=this.connectionIsIdle(n);if(!o&&!i&&!n.closed)return!1;const s=n.closed?"error":o?"stale":"idle";return this.destroyConnection(n,s),!0}createConnection(n){const i={...this.options,id:this.connectionCounter.next().value,generation:this.generation,cancellationToken:this.cancellationToken,mongoLogger:this.mongoLogger,authProviders:this.server.topology.client.s.authProviders,extendedMetadata:this.server.topology.client.options.extendedMetadata};this.pending++;const s=(0,S.now)();this.emitAndLog(ConnectionPool.CONNECTION_CREATED,new T.ConnectionCreatedEvent(this,{id:i.id})),(0,A.connect)(i).then(i=>{if(this.poolState!==o.PoolState.ready)return this.pending--,i.destroy(),void n(this.closed?new _.PoolClosedError(this):new _.PoolClearedError(this));for(const n of[...c.APM_EVENTS,O.Connection.CLUSTER_TIME_RECEIVED])i.on(n,o=>this.emit(n,o));if(this.loadBalanced){i.on(O.Connection.PINNED,n=>this.metrics.markPinned(n)),i.on(O.Connection.UNPINNED,n=>this.metrics.markUnpinned(n));const n=i.serviceId;if(n){let o;const s=n.toHexString();(o=this.serviceGenerations.get(s))?i.generation=o:(this.serviceGenerations.set(s,0),i.generation=0)}}i.markAvailable(),this.emitAndLog(ConnectionPool.CONNECTION_READY,new T.ConnectionReadyEvent(this,i,s)),this.pending--,n(void 0,i)},o=>{this.pending--,this.server.handleError(o),this.emitAndLog(ConnectionPool.CONNECTION_CLOSED,new T.ConnectionClosedEvent(this,{id:i.id,serviceId:void 0},"error",o)),(o instanceof h.MongoNetworkError||o instanceof h.MongoServerError)&&(o.connectionGeneration=i.generation),n(o??new h.MongoRuntimeError("Connection creation failed without error"))})}ensureMinPoolSize(){const n=this.options.minPoolSize;this.poolState===o.PoolState.ready&&(this.connections.prune(n=>this.destroyConnectionIfPerished(n)),this.totalConnectionCount<n&&this.pendingConnectionCount<this.options.maxConnecting?this.createConnection((n,i)=>{!n&&i&&(this.connections.push(i),process.nextTick(()=>this.processWaitQueue())),this.poolState===o.PoolState.ready&&((0,s.clearTimeout)(this.minPoolSizeTimer),this.minPoolSizeTimer=(0,s.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS))}):((0,s.clearTimeout)(this.minPoolSizeTimer),this.minPoolSizeTimer=(0,s.setTimeout)(()=>this.ensureMinPoolSize(),this.options.minPoolSizeCheckFrequencyMS)))}processWaitQueue(){if(this.processingWaitQueue)return;for(this.processingWaitQueue=!0;this.waitQueueSize;){const n=this.waitQueue.first();if(!n){this.waitQueue.shift();continue}if(n.cancelled){this.waitQueue.shift();continue}if(this.poolState!==o.PoolState.ready){const o=this.closed?"poolClosed":"connectionError",i=this.closed?new _.PoolClosedError(this):new _.PoolClearedError(this);this.emitAndLog(ConnectionPool.CONNECTION_CHECK_OUT_FAILED,new T.ConnectionCheckOutFailedEvent(this,o,n.checkoutTime,i)),this.waitQueue.shift(),n.reject(i);continue}if(!this.availableConnectionCount)break;const i=this.connections.shift();if(!i)break;this.destroyConnectionIfPerished(i)||(this.checkedOut.add(i),this.emitAndLog(ConnectionPool.CONNECTION_CHECKED_OUT,new T.ConnectionCheckedOutEvent(this,i,n.checkoutTime)),this.waitQueue.shift(),n.resolve(i))}const{maxPoolSize:n,maxConnecting:i}=this.options;for(;this.waitQueueSize>0&&this.pendingConnectionCount<i&&(0===n||this.totalConnectionCount<n);){const n=this.waitQueue.shift();n&&!n.cancelled&&this.createConnection((o,i)=>{n.cancelled?!o&&i&&this.connections.push(i):o?(this.emitAndLog(ConnectionPool.CONNECTION_CHECK_OUT_FAILED,new T.ConnectionCheckOutFailedEvent(this,"connectionError",n.checkoutTime,o)),n.reject(o)):i&&(this.checkedOut.add(i),this.emitAndLog(ConnectionPool.CONNECTION_CHECKED_OUT,new T.ConnectionCheckedOutEvent(this,i,n.checkoutTime)),n.resolve(i)),process.nextTick(()=>this.processWaitQueue())})}this.processingWaitQueue=!1}}o.ConnectionPool=ConnectionPool,ConnectionPool.CONNECTION_POOL_CREATED=c.CONNECTION_POOL_CREATED,ConnectionPool.CONNECTION_POOL_CLOSED=c.CONNECTION_POOL_CLOSED,ConnectionPool.CONNECTION_POOL_CLEARED=c.CONNECTION_POOL_CLEARED,ConnectionPool.CONNECTION_POOL_READY=c.CONNECTION_POOL_READY,ConnectionPool.CONNECTION_CREATED=c.CONNECTION_CREATED,ConnectionPool.CONNECTION_READY=c.CONNECTION_READY,ConnectionPool.CONNECTION_CLOSED=c.CONNECTION_CLOSED,ConnectionPool.CONNECTION_CHECK_OUT_STARTED=c.CONNECTION_CHECK_OUT_STARTED,ConnectionPool.CONNECTION_CHECK_OUT_FAILED=c.CONNECTION_CHECK_OUT_FAILED,ConnectionPool.CONNECTION_CHECKED_OUT=c.CONNECTION_CHECKED_OUT,ConnectionPool.CONNECTION_CHECKED_IN=c.CONNECTION_CHECKED_IN},99730:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ConnectionPoolClearedEvent=o.ConnectionCheckedInEvent=o.ConnectionCheckedOutEvent=o.ConnectionCheckOutFailedEvent=o.ConnectionCheckOutStartedEvent=o.ConnectionClosedEvent=o.ConnectionReadyEvent=o.ConnectionCreatedEvent=o.ConnectionPoolClosedEvent=o.ConnectionPoolReadyEvent=o.ConnectionPoolCreatedEvent=o.ConnectionPoolMonitoringEvent=void 0;const s=i(32568),c=i(52060);class ConnectionPoolMonitoringEvent{constructor(n){this.time=new Date,this.address=n.address}}o.ConnectionPoolMonitoringEvent=ConnectionPoolMonitoringEvent;o.ConnectionPoolCreatedEvent=class ConnectionPoolCreatedEvent extends ConnectionPoolMonitoringEvent{constructor(n){super(n),this.name=s.CONNECTION_POOL_CREATED;const{maxConnecting:o,maxPoolSize:i,minPoolSize:c,maxIdleTimeMS:h,waitQueueTimeoutMS:f}=n.options;this.options={maxConnecting:o,maxPoolSize:i,minPoolSize:c,maxIdleTimeMS:h,waitQueueTimeoutMS:f}}};o.ConnectionPoolReadyEvent=class ConnectionPoolReadyEvent extends ConnectionPoolMonitoringEvent{constructor(n){super(n),this.name=s.CONNECTION_POOL_READY}};o.ConnectionPoolClosedEvent=class ConnectionPoolClosedEvent extends ConnectionPoolMonitoringEvent{constructor(n){super(n),this.name=s.CONNECTION_POOL_CLOSED}};o.ConnectionCreatedEvent=class ConnectionCreatedEvent extends ConnectionPoolMonitoringEvent{constructor(n,o){super(n),this.name=s.CONNECTION_CREATED,this.connectionId=o.id}};o.ConnectionReadyEvent=class ConnectionReadyEvent extends ConnectionPoolMonitoringEvent{constructor(n,o,i){super(n),this.name=s.CONNECTION_READY,this.durationMS=(0,c.now)()-i,this.connectionId=o.id}};o.ConnectionClosedEvent=class ConnectionClosedEvent extends ConnectionPoolMonitoringEvent{constructor(n,o,i,c){super(n),this.name=s.CONNECTION_CLOSED,this.connectionId=o.id,this.reason=i,this.serviceId=o.serviceId,this.error=c??null}};o.ConnectionCheckOutStartedEvent=class ConnectionCheckOutStartedEvent extends ConnectionPoolMonitoringEvent{constructor(n){super(n),this.name=s.CONNECTION_CHECK_OUT_STARTED}};o.ConnectionCheckOutFailedEvent=class ConnectionCheckOutFailedEvent extends ConnectionPoolMonitoringEvent{constructor(n,o,i,h){super(n),this.name=s.CONNECTION_CHECK_OUT_FAILED,this.durationMS=(0,c.now)()-i,this.reason=o,this.error=h}};o.ConnectionCheckedOutEvent=class ConnectionCheckedOutEvent extends ConnectionPoolMonitoringEvent{constructor(n,o,i){super(n),this.name=s.CONNECTION_CHECKED_OUT,this.durationMS=(0,c.now)()-i,this.connectionId=o.id}};o.ConnectionCheckedInEvent=class ConnectionCheckedInEvent extends ConnectionPoolMonitoringEvent{constructor(n,o){super(n),this.name=s.CONNECTION_CHECKED_IN,this.connectionId=o.id}};o.ConnectionPoolClearedEvent=class ConnectionPoolClearedEvent extends ConnectionPoolMonitoringEvent{constructor(n,o={}){super(n),this.name=s.CONNECTION_POOL_CLEARED,this.serviceId=o.serviceId,this.interruptInUseConnections=o.interruptInUseConnections}}},53216:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WaitQueueTimeoutError=o.PoolClearedOnNetworkError=o.PoolClearedError=o.PoolClosedError=void 0;const s=i(86947);class PoolClosedError extends s.MongoDriverError{constructor(n){super("Attempted to check out a connection from closed connection pool"),this.address=n.address}get name(){return"MongoPoolClosedError"}}o.PoolClosedError=PoolClosedError;class PoolClearedError extends s.MongoNetworkError{constructor(n,o){super(o||`Connection pool for ${n.address} was cleared because another operation failed with: "${n.serverError?.message}"`,n.serverError?{cause:n.serverError}:void 0),this.address=n.address,this.addErrorLabel(s.MongoErrorLabel.PoolRequstedRetry)}get name(){return"MongoPoolClearedError"}}o.PoolClearedError=PoolClearedError;o.PoolClearedOnNetworkError=class PoolClearedOnNetworkError extends PoolClearedError{constructor(n){super(n,`Connection to ${n.address} interrupted due to server monitor timeout`)}get name(){return"PoolClearedOnNetworkError"}};class WaitQueueTimeoutError extends s.MongoDriverError{constructor(n,o){super(n),this.address=o}get name(){return"MongoWaitQueueTimeoutError"}}o.WaitQueueTimeoutError=WaitQueueTimeoutError},96088:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.LimitedSizeDocument=void 0,o.makeClientMetadata=function makeClientMetadata(n){const o=new LimitedSizeDocument(512),{appName:i=""}=n;if(i.length>0){const s=Buffer.byteLength(i,"utf8")<=128?n.appName:Buffer.from(i,"utf8").subarray(0,128).toString("utf8");o.ifItFitsItSits("application",{name:s})}const{name:h="",version:E="",platform:A=""}=n.driverInfo,O={name:h.length>0?`nodejs|${h}`:"nodejs",version:E.length>0?`${S}|${E}`:S};if(null==n.additionalDriverInfo)throw new f.MongoRuntimeError("Client options `additionalDriverInfo` must always default to an empty array");for(const{name:o="",version:i=""}of n.additionalDriverInfo)o.length>0&&(O.name=`${O.name}|${o}`),i.length>0&&(O.version=`${O.version}|${i}`);if(!o.ifItFitsItSits("driver",O))throw new f.MongoInvalidArgumentError("Unable to include driverInfo name and version, metadata cannot exceed 512 bytes");let T=function getRuntimeInfo(){if("Deno"in globalThis){return`Deno v${"string"==typeof Deno?.version?.deno?Deno?.version?.deno:"0.0.0-unknown"}, ${s.endianness()}`}if("Bun"in globalThis){return`Bun v${"string"==typeof Bun?.version?Bun?.version:"0.0.0-unknown"}, ${s.endianness()}`}return`Node.js ${c.version}, ${s.endianness()}`}();A.length>0&&(T=`${T}|${A}`);for(const{platform:o=""}of n.additionalDriverInfo)o.length>0&&(T=`${T}|${o}`);if(!o.ifItFitsItSits("platform",T))throw new f.MongoInvalidArgumentError("Unable to include driverInfo platform, metadata cannot exceed 512 bytes");const _=(new Map).set("name",c.platform).set("architecture",c.arch).set("version",s.release()).set("type",s.type());if(!o.ifItFitsItSits("os",_))for(const n of _.keys()){if(_.delete(n),0===_.size)break;if(o.ifItFitsItSits("os",_))break}const D=getFAASEnv();if(null!=D&&!o.ifItFitsItSits("env",D))for(const n of D.keys()){if(D.delete(n),0===D.size)break;if(o.ifItFitsItSits("env",D))break}return o.toObject()},o.addContainerMetadata=async function addContainerMetadata(n){const o=await async function getContainerMetadata(){const n={};A??=(0,E.fileIsAccessible)("/.dockerenv");const o=await A,{KUBERNETES_SERVICE_HOST:i=""}=c.env,s=i.length>0;o&&(n.runtime="docker");s&&(n.orchestrator="kubernetes");return n}();if(0===Object.keys(o).length)return n;const i=new LimitedSizeDocument(512),s={...n?.env,container:o};for(const[o,c]of Object.entries(n))"env"!==o?i.ifItFitsItSits(o,c):i.ifItFitsItSits("env",s)||i.ifItFitsItSits("env",c);"env"in n||i.ifItFitsItSits("env",s);return i.toObject()},o.getFAASEnv=getFAASEnv;const s=i(70857),c=i(932),h=i(63403),f=i(86947),E=i(52060),S=i(78790).rE;class LimitedSizeDocument{constructor(n){this.document=new Map,this.documentSize=5,this.maxSize=n}ifItFitsItSits(n,o){const i=h.BSON.serialize((new Map).set(n,o)).byteLength-5;return!(i+this.documentSize>this.maxSize)&&(this.documentSize+=i,this.document.set(n,o),!0)}toObject(){return h.BSON.deserialize(h.BSON.serialize(this.document),{promoteLongs:!1,promoteBuffers:!1,promoteValues:!1,useBigInt64:!1})}}let A;function getFAASEnv(){const{AWS_EXECUTION_ENV:n="",AWS_LAMBDA_RUNTIME_API:o="",FUNCTIONS_WORKER_RUNTIME:i="",K_SERVICE:s="",FUNCTION_NAME:f="",VERCEL:E="",AWS_LAMBDA_FUNCTION_MEMORY_SIZE:S="",AWS_REGION:A="",FUNCTION_MEMORY_MB:O="",FUNCTION_REGION:T="",FUNCTION_TIMEOUT_SEC:_="",VERCEL_REGION:D=""}=c.env,N=n.startsWith("AWS_Lambda_")||o.length>0,R=i.length>0,x=s.length>0||f.length>0,P=E.length>0,M=new Map;return!P||R||x?N&&!(R||x||P)?(A.length>0&&M.set("region",A),S.length>0&&Number.isInteger(+S)&&M.set("memory_mb",new h.Int32(S)),M.set("name","aws.lambda"),M):R&&!(x||N||P)?(M.set("name","azure.func"),M):x&&!(R||N||P)?(T.length>0&&M.set("region",T),O.length>0&&Number.isInteger(+O)&&M.set("memory_mb",new h.Int32(O)),_.length>0&&Number.isInteger(+_)&&M.set("timeout_sec",new h.Int32(_)),M.set("name","gcp.func"),M):null:(D.length>0&&M.set("region",D),M.set("name","vercel"),M)}o.LimitedSizeDocument=LimitedSizeDocument},86634:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ConnectionPoolMetrics=void 0;class ConnectionPoolMetrics{constructor(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}markPinned(n){n===ConnectionPoolMetrics.TXN?this.txnConnections+=1:n===ConnectionPoolMetrics.CURSOR?this.cursorConnections+=1:this.otherConnections+=1}markUnpinned(n){n===ConnectionPoolMetrics.TXN?this.txnConnections-=1:n===ConnectionPoolMetrics.CURSOR?this.cursorConnections-=1:this.otherConnections-=1}info(n){return`Timed out while checking out a connection from connection pool: maxPoolSize: ${n}, connections in use by cursors: ${this.cursorConnections}, connections in use by transactions: ${this.txnConnections}, connections in use by other operations: ${this.otherConnections}`}reset(){this.txnConnections=0,this.cursorConnections=0,this.otherConnections=0}}o.ConnectionPoolMetrics=ConnectionPoolMetrics,ConnectionPoolMetrics.TXN="txn",ConnectionPoolMetrics.CURSOR="cursor",ConnectionPoolMetrics.OTHER="other"},4382:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.StreamDescription=void 0;const s=i(63403),c=i(48446),h=i(66029),f=["minWireVersion","maxWireVersion","maxBsonObjectSize","maxMessageSizeBytes","maxWriteBatchSize","logicalSessionTimeoutMinutes"];o.StreamDescription=class StreamDescription{constructor(n,o){this.hello=null,this.address=n,this.type=c.ServerType.Unknown,this.minWireVersion=void 0,this.maxWireVersion=void 0,this.maxBsonObjectSize=16777216,this.maxMessageSizeBytes=48e6,this.maxWriteBatchSize=1e5,this.logicalSessionTimeoutMinutes=o?.logicalSessionTimeoutMinutes,this.loadBalanced=!!o?.loadBalanced,this.compressors=o&&o.compressors&&Array.isArray(o.compressors)?o.compressors:[],this.serverConnectionId=null}receiveResponse(n){if(null!=n){this.hello=n,this.type=(0,h.parseServerType)(n),this.serverConnectionId="connectionId"in n?this.parseServerConnectionID(n.connectionId):null;for(const o of f)null!=n[o]&&(this[o]=n[o]),"__nodejs_mock_server__"in n&&(this.__nodejs_mock_server__=n.__nodejs_mock_server__);n.compression&&(this.compressor=this.compressors.filter(o=>n.compression?.includes(o))[0])}}parseServerConnectionID(n){return s.Long.isLong(n)?n.toBigInt():BigInt(n)}}},3460:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.uncompressibleCommands=o.Compressor=void 0,o.compress=async function compress(n,o){const i={};switch(n.agreedCompressor){case"snappy":return N??=loadSnappy(),await N.compress(o);case"zstd":if(loadZstd(),"kModuleError"in D)throw D.kModuleError;return await D.compress(o,O);case"zlib":return n.zlibCompressionLevel&&(i.level=n.zlibCompressionLevel),await _(o,i);default:throw new E.MongoInvalidArgumentError(`Unknown compressor ${n.agreedCompressor} failed to compress`)}},o.decompress=decompress,o.compressCommand=async function compressCommand(n,o){const i="none"!==o.agreedCompressor&&S.OpCompressedRequest.canCompress(n)?new S.OpCompressedRequest(n,{agreedCompressor:o.agreedCompressor??"none",zlibCompressionLevel:o.zlibCompressionLevel??0}):n,s=await i.toBin();return Buffer.concat(s)},o.decompressResponse=async function decompressResponse(n){const o={length:n.readInt32LE(0),requestId:n.readInt32LE(4),responseTo:n.readInt32LE(8),opCode:n.readInt32LE(12)};if(o.opCode!==A.OP_COMPRESSED){const i=o.opCode===A.OP_MSG?S.OpMsgResponse:S.OpReply,s=n.subarray(R);return new i(n,o,s)}const i={...o,fromCompressed:!0,opCode:n.readInt32LE(R),length:n.readInt32LE(R+4)},s=n[R+8],c=n.slice(R+9),h=i.opCode===A.OP_MSG?S.OpMsgResponse:S.OpReply,f=await decompress(s,c);if(f.length!==i.length)throw new E.MongoDecompressionError("Message body and message header must be the same length");return new h(n,i,f)};const s=i(39023),c=i(43106),h=i(32568),f=i(33371),E=i(86947),S=i(50045),A=i(26447);o.Compressor=Object.freeze({none:0,snappy:1,zlib:2,zstd:3}),o.uncompressibleCommands=new Set([h.LEGACY_HELLO_COMMAND,"saslStart","saslContinue","getnonce","authenticate","createUser","updateUser","copydbSaslStart","copydbgetnonce","copydb"]);const O=3,T=(0,s.promisify)(c.inflate.bind(c)),_=(0,s.promisify)(c.deflate.bind(c));let D,N=null;function loadSnappy(){if(null==N){const n=(0,f.getSnappy)();if("kModuleError"in n)throw n.kModuleError;N=n}return N}async function decompress(n,i){if(n!==o.Compressor.snappy&&n!==o.Compressor.zstd&&n!==o.Compressor.zlib&&n!==o.Compressor.none)throw new E.MongoDecompressionError(`Server sent message compressed using an unsupported compressor. (Received compressor ID ${n})`);switch(n){case o.Compressor.snappy:return N??=loadSnappy(),await N.uncompress(i,{asBuffer:!0});case o.Compressor.zstd:if(loadZstd(),"kModuleError"in D)throw D.kModuleError;return await D.decompress(i);case o.Compressor.zlib:return await T(i);default:return i}}function loadZstd(){D||(D=(0,f.getZstdLibrary)())}const R=16},26447:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.OP_MSG=o.OP_COMPRESSED=o.OP_DELETE=o.OP_QUERY=o.OP_INSERT=o.OP_UPDATE=o.OP_REPLY=o.MIN_SUPPORTED_QE_SERVER_VERSION=o.MIN_SUPPORTED_QE_WIRE_VERSION=o.MAX_SUPPORTED_WIRE_VERSION=o.MIN_SUPPORTED_WIRE_VERSION=o.MAX_SUPPORTED_SERVER_VERSION=o.MIN_SUPPORTED_SERVER_VERSION=void 0,o.MIN_SUPPORTED_SERVER_VERSION="4.2",o.MAX_SUPPORTED_SERVER_VERSION="8.0",o.MIN_SUPPORTED_WIRE_VERSION=8,o.MAX_SUPPORTED_WIRE_VERSION=25,o.MIN_SUPPORTED_QE_WIRE_VERSION=21,o.MIN_SUPPORTED_QE_SERVER_VERSION="7.0",o.OP_REPLY=1,o.OP_UPDATE=2001,o.OP_INSERT=2002,o.OP_QUERY=2004,o.OP_DELETE=2006,o.OP_COMPRESSED=2012,o.OP_MSG=2013},90268:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.onData=function onData(n,{timeoutContext:o,signal:i}){i?.throwIfAborted();const c=new s.List,h=new s.List;let f=null,E=!1;const S={next(){const n=c.shift();if(null!=n)return Promise.resolve({value:n,done:!1});if(null!=f){const n=Promise.reject(f);return f=null,n}if(E)return closeHandler();const{promise:o,resolve:i,reject:S}=(0,s.promiseWithResolvers)();return h.push({resolve:i,reject:S}),o},return:()=>closeHandler(),throw:n=>(errorHandler(n),Promise.resolve({value:void 0,done:!0})),[Symbol.asyncIterator](){return this},async[Symbol.asyncDispose](){await closeHandler()}};n.on("data",eventHandler),n.on("error",errorHandler);const A=(0,s.addAbortListener)(i,function(){errorHandler(this.reason)}),O=o?.timeoutForSocketRead;return O?.throwIfExpired(),O?.then(void 0,errorHandler),S;function eventHandler(n){const o=h.shift();null!=o?o.resolve({value:n,done:!1}):c.push(n)}function errorHandler(n){const o=h.shift();null!=o?o.reject(n):f=n,closeHandler()}function closeHandler(){n.off("data",eventHandler),n.off("error",errorHandler),A?.[s.kDispose](),E=!0,O?.clear();const o={value:void 0,done:E};for(const n of h)n.resolve(o);return Promise.resolve(o)}};const s=i(52060)},71359:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.OnDemandDocument=void 0;const s=i(63403),c=0,h=1,f=2,E=3,S=4;class OnDemandDocument{constructor(n,o=0,i=!1,c){this.cache=Object.create(null),this.indexFound=Object.create(null),this.bson=n,this.offset=o,this.isArray=i,this.elements=c??(0,s.parseToElementsToArray)(this.bson,o)}isElementName(n,o){const i=o[f],s=o[h];if(n.length!==i)return!1;const c=s+i;for(let o=s,i=0;i<n.length&&o<c;i++,o++)if(this.bson[o]!==n.charCodeAt(i))return!1;return!0}getElement(n){const o=this.cache[n];if(!1===o)return null;if(null!=o)return o;if("number"==typeof n){if(this.isArray){if(n<this.elements.length){const o={element:this.elements[n],value:void 0};return this.cache[n]=o,this.indexFound[n]=!0,o}return null}return null}for(let o=0;o<this.elements.length;o++){const i=this.elements[o];if(!(o in this.indexFound)&&this.isElementName(n,i)){const s={element:i,value:void 0};return this.cache[n]=s,this.indexFound[o]=!0,s}}return this.cache[n]=!1,null}toJSValue(n,o){const i=n[c],h=n[E],f=n[S];if(o!==i)return null;switch(o){case s.BSONType.null:case s.BSONType.undefined:return null;case s.BSONType.double:return(0,s.getFloat64LE)(this.bson,h);case s.BSONType.int:return(0,s.getInt32LE)(this.bson,h);case s.BSONType.long:return(0,s.getBigInt64LE)(this.bson,h);case s.BSONType.bool:return Boolean(this.bson[h]);case s.BSONType.objectId:return new s.ObjectId(this.bson.subarray(h,h+12));case s.BSONType.timestamp:return new s.Timestamp((0,s.getBigInt64LE)(this.bson,h));case s.BSONType.string:return(0,s.toUTF8)(this.bson,h+4,h+f-1,!1);case s.BSONType.binData:{const n=(0,s.getInt32LE)(this.bson,h),o=this.bson[h+4];if(2===o){const o=(0,s.getInt32LE)(this.bson,h+1+4);if(o<0)throw new s.BSONError("Negative binary type element size found for subtype 0x02");if(o>n-4)throw new s.BSONError("Binary type with subtype 0x02 contains too long binary size");if(o<n-4)throw new s.BSONError("Binary type with subtype 0x02 contains too short binary size");return new s.Binary(this.bson.subarray(h+1+4+4,h+1+4+4+o),2)}return new s.Binary(this.bson.subarray(h+1+4,h+1+4+n),o)}case s.BSONType.date:return new Date(Number((0,s.getBigInt64LE)(this.bson,h)));case s.BSONType.object:return new OnDemandDocument(this.bson,h);case s.BSONType.array:return new OnDemandDocument(this.bson,h,!0);default:throw new s.BSONError(`Unsupported BSON type: ${o}`)}}size(){return this.elements.length}has(n){const o=this.cache[n];return!1!==o&&(null!=o||null!=this.getElement(n))}get(n,o,i){const c=this.getElement(n);if(null==c){if(!0===i)throw new s.BSONError(`BSON element "${n}" is missing`);return null}if(null==c.value){const h=this.toJSValue(c.element,o);if(null==h){if(!0===i)throw new s.BSONError(`BSON element "${n}" is missing`);return null}c.value=h}return c.value}getNumber(n,o){const i=this.get(n,s.BSONType.bool),c=null==i?null:i?1:0,h=this.get(n,s.BSONType.long),f=null==h?null:Number(h),E=c??f??this.get(n,s.BSONType.int)??this.get(n,s.BSONType.double);if(!0===o&&null==E)throw new s.BSONError(`BSON element "${n}" is missing`);return E}toObject(n){return(0,s.deserialize)(this.bson,{...n,index:this.offset,allowObjectSmallerThanBufferSize:!0})}toBytes(){const n=(0,s.getInt32LE)(this.bson,this.offset);return this.bson.subarray(this.offset,this.offset+n)}}o.OnDemandDocument=OnDemandDocument},89086:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ClientBulkWriteCursorResponse=o.ExplainedCursorResponse=o.CursorResponse=o.MongoDBResponse=void 0,o.isErrorResponse=isErrorResponse;const s=i(63403),c=i(86947),h=i(52060),f=i(71359),E={type:0,nameOffset:1,nameLength:2,offset:3,length:4};function isErrorResponse(n,o){for(let i=0;i<o.length;i++){const s=o[i];if(2===s[E.nameLength]){const o=s[E.nameOffset];if(111===n[o]&&107===n[o+1]){const o=s[E.offset],i=s[E.length];for(let s=o;s<o+i;s++)if(0!==n[s])return!1;return!0}}}return!0}class MongoDBResponse extends f.OnDemandDocument{get(n,o,i){try{return super.get(n,o,i)}catch(n){throw new c.MongoUnexpectedServerResponseError(n.message,{cause:n})}}static is(n){return n instanceof MongoDBResponse}static make(n){const o=(0,s.parseToElementsToArray)(n,0);return isErrorResponse(n,o)?new MongoDBResponse(n,0,!1,o):new this(n,0,!1,o)}get isMaxTimeExpiredError(){if(0===this.ok&&this.code===c.MONGODB_ERROR_CODES.MaxTimeMSExpired)return!0;if(0===this.ok)return!1;if(this.get("writeConcernError",s.BSONType.object)?.getNumber("code")===c.MONGODB_ERROR_CODES.MaxTimeMSExpired)return!0;const n=this.get("writeErrors",s.BSONType.array);if(n?.size())for(let o=0;o<n.size();o++){if(n.get(o,s.BSONType.object)?.getNumber("code")===c.MONGODB_ERROR_CODES.MaxTimeMSExpired)return!0}return!1}get recoveryToken(){return this.get("recoveryToken",s.BSONType.object)?.toObject({promoteValues:!1,promoteLongs:!1,promoteBuffers:!1,validation:{utf8:!0}})??null}get atClusterTime(){return this.get("cursor",s.BSONType.object)?.get("atClusterTime",s.BSONType.timestamp)??this.get("atClusterTime",s.BSONType.timestamp)}get operationTime(){return this.get("operationTime",s.BSONType.timestamp)}get ok(){return this.getNumber("ok")?1:0}get $err(){return this.get("$err",s.BSONType.string)}get errmsg(){return this.get("errmsg",s.BSONType.string)}get code(){return this.getNumber("code")}get $clusterTime(){if(!("clusterTime"in this)){const n=this.get("$clusterTime",s.BSONType.object);if(null==n)return this.clusterTime=null,null;const o=n.get("clusterTime",s.BSONType.timestamp,!0),i=n.get("signature",s.BSONType.object)?.toObject();this.clusterTime={clusterTime:o,signature:i}}return this.clusterTime??null}toObject(n){const o={...(0,s.pluckBSONSerializeOptions)(n??{}),validation:(0,s.parseUtf8ValidationOption)(n)};return super.toObject(o)}}o.MongoDBResponse=MongoDBResponse,MongoDBResponse.empty=new MongoDBResponse(new Uint8Array([13,0,0,0,16,111,107,0,1,0,0,0,0]));class CursorResponse extends MongoDBResponse{constructor(){super(...arguments),this._batch=null,this.iterated=0,this._encryptedBatch=null}static get emptyGetMore(){return new CursorResponse((0,s.serialize)({ok:1,cursor:{id:0n,nextBatch:[]}}))}static is(n){return n instanceof CursorResponse||n===CursorResponse.emptyGetMore}get cursor(){return this.get("cursor",s.BSONType.object,!0)}get id(){try{return s.Long.fromBigInt(this.cursor.get("id",s.BSONType.long,!0))}catch(n){throw new c.MongoUnexpectedServerResponseError(n.message,{cause:n})}}get ns(){const n=this.cursor.get("ns",s.BSONType.string);return null!=n?(0,h.ns)(n):null}get length(){return Math.max(this.batchSize-this.iterated,0)}get encryptedBatch(){if(null==this.encryptedResponse)return null;if(null!=this._encryptedBatch)return this._encryptedBatch;const n=this.encryptedResponse?.get("cursor",s.BSONType.object);if(n?.has("firstBatch"))this._encryptedBatch=n.get("firstBatch",s.BSONType.array,!0);else{if(!n?.has("nextBatch"))throw new c.MongoUnexpectedServerResponseError("Cursor document did not contain a batch");this._encryptedBatch=n.get("nextBatch",s.BSONType.array,!0)}return this._encryptedBatch}get batch(){if(null!=this._batch)return this._batch;const n=this.cursor;if(n.has("firstBatch"))this._batch=n.get("firstBatch",s.BSONType.array,!0);else{if(!n.has("nextBatch"))throw new c.MongoUnexpectedServerResponseError("Cursor document did not contain a batch");this._batch=n.get("nextBatch",s.BSONType.array,!0)}return this._batch}get batchSize(){return this.batch?.size()}get postBatchResumeToken(){return this.cursor.get("postBatchResumeToken",s.BSONType.object)?.toObject({promoteValues:!1,promoteLongs:!1,promoteBuffers:!1,validation:{utf8:!0}})??null}shift(n){if(this.iterated>=this.batchSize)return null;const o=this.batch.get(this.iterated,s.BSONType.object,!0)??null,i=this.encryptedBatch?.get(this.iterated,s.BSONType.object,!0)??null;if(this.iterated+=1,n?.raw)return o.toBytes();{const s=o.toObject(n);return i&&(0,h.decorateDecryptionResult)(s,i.toObject(n),!0),s}}clear(){this.iterated=this.batchSize}}o.CursorResponse=CursorResponse;o.ExplainedCursorResponse=class ExplainedCursorResponse extends CursorResponse{constructor(){super(...arguments),this.isExplain=!0,this._length=1}get id(){return s.Long.fromBigInt(0n)}get batchSize(){return 0}get ns(){return null}get length(){return this._length}shift(n){return 0===this._length?null:(this._length-=1,this.toObject(n))}};o.ClientBulkWriteCursorResponse=class ClientBulkWriteCursorResponse extends CursorResponse{get insertedCount(){return this.get("nInserted",s.BSONType.int,!0)}get upsertedCount(){return this.get("nUpserted",s.BSONType.int,!0)}get matchedCount(){return this.get("nMatched",s.BSONType.int,!0)}get modifiedCount(){return this.get("nModified",s.BSONType.int,!0)}get deletedCount(){return this.get("nDeleted",s.BSONType.int,!0)}get writeConcernError(){return this.get("writeConcernError",s.BSONType.object,!1)}}},13193:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.getReadPreference=function getReadPreference(n){let o=n?.readPreference??c.ReadPreference.primary;"string"==typeof o&&(o=c.ReadPreference.fromString(o));if(!(o instanceof c.ReadPreference))throw new s.MongoInvalidArgumentError('Option "readPreference" must be a ReadPreference instance');return o},o.isSharded=function isSharded(n){if(null==n)return!1;if(n.description&&n.description.type===h.ServerType.Mongos)return!0;if(n.description&&n.description instanceof f.TopologyDescription){return Array.from(n.description.servers.values()).some(n=>n.type===h.ServerType.Mongos)}return!1};const s=i(86947),c=i(50773),h=i(48446),f=i(42027)},36653:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Collection=void 0;const s=i(63403),c=i(42795),h=i(5702),f=i(9272),E=i(24091),S=i(79614),A=i(5058),O=i(8159),T=i(86947),_=i(64303),D=i(20321),N=i(11042),R=i(99264),x=i(86437),P=i(31244),M=i(87988),I=i(42011),B=i(5964),F=i(38636),L=i(91793),k=i(74025),j=i(48703),U=i(38938),z=i(50773),q=i(52060),V=i(98349);o.Collection=class Collection{constructor(n,o,i){this.s={db:n,options:i,namespace:new q.MongoDBCollectionNamespace(n.databaseName,o),pkFactory:n.options?.pkFactory??q.DEFAULT_PK_FACTORY,readPreference:z.ReadPreference.fromOptions(i),bsonOptions:(0,s.resolveBSONOptions)(i,n),readConcern:U.ReadConcern.fromOptions(i),writeConcern:V.WriteConcern.fromOptions(i)},this.client=n.client}get dbName(){return this.s.namespace.db}get collectionName(){return this.s.namespace.collection}get namespace(){return this.fullNamespace.toString()}get fullNamespace(){return this.s.namespace}get readConcern(){return null==this.s.readConcern?this.s.db.readConcern:this.s.readConcern}get readPreference(){return null==this.s.readPreference?this.s.db.readPreference:this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return null==this.s.writeConcern?this.s.db.writeConcern:this.s.writeConcern}get hint(){return this.s.collectionHint}set hint(n){this.s.collectionHint=(0,q.normalizeHintField)(n)}get timeoutMS(){return this.s.options.timeoutMS}async insertOne(n,o){return await(0,x.executeOperation)(this.client,new I.InsertOneOperation(this,n,(0,q.resolveOptions)(this,o)))}async insertMany(n,o){if(!Array.isArray(n))throw new T.MongoInvalidArgumentError('Argument "docs" must be an array of documents');o=(0,q.resolveOptions)(this,o??{});const i=0!==V.WriteConcern.fromOptions(o)?.w;try{const s=await this.bulkWrite(n.map(n=>({insertOne:{document:n}})),o);return{acknowledged:i,insertedCount:s.insertedCount,insertedIds:s.insertedIds}}catch(n){if(n&&"Operation must be an object with an operation key"===n.message)throw new T.MongoInvalidArgumentError("Collection.insertMany() cannot be called with an array that has null/undefined values");throw n}}async bulkWrite(n,o){if(!Array.isArray(n))throw new T.MongoInvalidArgumentError('Argument "operations" must be an array of documents');o=(0,q.resolveOptions)(this,o??{});null!=this.client.topology||await(0,x.autoConnect)(this.client);const i=!1===o.ordered?this.initializeUnorderedBulkOp(o):this.initializeOrderedBulkOp(o);for(const o of n)i.raw(o);return await i.execute({...o})}async updateOne(n,o,i){return await(0,x.executeOperation)(this.client,new j.UpdateOneOperation(this.s.namespace,n,o,(0,q.resolveOptions)(this,i)))}async replaceOne(n,o,i){return await(0,x.executeOperation)(this.client,new j.ReplaceOneOperation(this.s.namespace,n,o,(0,q.resolveOptions)(this,i)))}async updateMany(n,o,i){return await(0,x.executeOperation)(this.client,new j.UpdateManyOperation(this.s.namespace,n,o,(0,q.resolveOptions)(this,i)))}async deleteOne(n={},o={}){return await(0,x.executeOperation)(this.client,new D.DeleteOneOperation(this.s.namespace,n,(0,q.resolveOptions)(this,o)))}async deleteMany(n={},o={}){return await(0,x.executeOperation)(this.client,new D.DeleteManyOperation(this.s.namespace,n,(0,q.resolveOptions)(this,o)))}async rename(n,o){return await(0,x.executeOperation)(this.client,new B.RenameOperation(this,n,(0,q.resolveOptions)(void 0,{...o,readPreference:z.ReadPreference.PRIMARY})))}async drop(n){return await this.s.db.dropCollection(this.collectionName,n)}async findOne(n={},o={}){const{batchSize:i,noCursorTimeout:s,...c}=o;c.singleBatch=!0;const h=this.find(n,c).limit(1),f=await h.next();return await h.close(),f}find(n={},o={}){return new S.FindCursor(this.client,this.s.namespace,n,(0,q.resolveOptions)(this,o))}async options(n){n=(0,q.resolveOptions)(this,n);const[o]=await this.s.db.listCollections({name:this.collectionName},{...n,nameOnly:!1}).toArray();if(null==o||null==o.options)throw new T.MongoAPIError(`collection ${this.namespace} not found`);return o.options}async isCapped(n){const{capped:o}=await this.options(n);return Boolean(o)}async createIndex(n,o){return(await(0,x.executeOperation)(this.client,M.CreateIndexesOperation.fromIndexSpecification(this,this.collectionName,n,(0,q.resolveOptions)(this,o))))[0]}async createIndexes(n,o){return await(0,x.executeOperation)(this.client,M.CreateIndexesOperation.fromIndexDescriptionArray(this,this.collectionName,n,(0,q.resolveOptions)(this,{...o,maxTimeMS:void 0})))}async dropIndex(n,o){return await(0,x.executeOperation)(this.client,new M.DropIndexOperation(this,n,{...(0,q.resolveOptions)(this,o),readPreference:z.ReadPreference.primary}))}async dropIndexes(n){try{return await(0,x.executeOperation)(this.client,new M.DropIndexOperation(this,"*",(0,q.resolveOptions)(this,n))),!0}catch(n){if(n instanceof T.MongoOperationTimeoutError)throw n;return!1}}listIndexes(n){return new A.ListIndexesCursor(this,(0,q.resolveOptions)(this,n))}async indexExists(n,o){const i=Array.isArray(n)?n:[n],s=new Set(await this.listIndexes(o).map(({name:n})=>n).toArray());return i.every(n=>s.has(n))}async indexInformation(n){return await this.indexes({...n,full:n?.full??!1})}async estimatedDocumentCount(n){return await(0,x.executeOperation)(this.client,new R.EstimatedDocumentCountOperation(this,(0,q.resolveOptions)(this,n)))}async countDocuments(n={},o={}){const i=[];i.push({$match:n}),"number"==typeof o.skip&&i.push({$skip:o.skip}),"number"==typeof o.limit&&i.push({$limit:o.limit}),i.push({$group:{_id:1,n:{$sum:1}}});const s=this.aggregate(i,o),c=await s.next();return await s.close(),c?.n??0}async distinct(n,o={},i={}){return await(0,x.executeOperation)(this.client,new N.DistinctOperation(this,n,o,(0,q.resolveOptions)(this,i)))}async indexes(n){const o=await this.listIndexes(n).toArray();if(n?.full??!0)return o;return Object.fromEntries(o.map(({name:n,key:o})=>[n,Object.entries(o)]))}async findOneAndDelete(n,o){return await(0,x.executeOperation)(this.client,new P.FindOneAndDeleteOperation(this,n,(0,q.resolveOptions)(this,o)))}async findOneAndReplace(n,o,i){return await(0,x.executeOperation)(this.client,new P.FindOneAndReplaceOperation(this,n,o,(0,q.resolveOptions)(this,i)))}async findOneAndUpdate(n,o,i){return await(0,x.executeOperation)(this.client,new P.FindOneAndUpdateOperation(this,n,o,(0,q.resolveOptions)(this,i)))}aggregate(n=[],o){if(!Array.isArray(n))throw new T.MongoInvalidArgumentError('Argument "pipeline" must be an array of aggregation stages');return new E.AggregationCursor(this.client,this.s.namespace,n,(0,q.resolveOptions)(this,o))}watch(n=[],o={}){return Array.isArray(n)||(o=n,n=[]),new f.ChangeStream(this,n,(0,q.resolveOptions)(this,o))}initializeUnorderedBulkOp(n){return new h.UnorderedBulkOperation(this,(0,q.resolveOptions)(this,n))}initializeOrderedBulkOp(n){return new c.OrderedBulkOperation(this,(0,q.resolveOptions)(this,n))}async count(n={},o={}){return await(0,x.executeOperation)(this.client,new _.CountOperation(this.fullNamespace,n,(0,q.resolveOptions)(this,o)))}listSearchIndexes(n,o){o="object"==typeof n?n:null==o?{}:o;const i=null==n||"object"==typeof n?null:n;return new O.ListSearchIndexesCursor(this,i,o)}async createSearchIndex(n){const[o]=await this.createSearchIndexes([n]);return o}async createSearchIndexes(n){return await(0,x.executeOperation)(this.client,new F.CreateSearchIndexesOperation(this,n))}async dropSearchIndex(n){return await(0,x.executeOperation)(this.client,new L.DropSearchIndexOperation(this,n))}async updateSearchIndex(n,o){return await(0,x.executeOperation)(this.client,new k.UpdateSearchIndexOperation(this,n,o))}}},77689:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_OPTIONS=o.OPTIONS=void 0,o.resolveSRVRecord=async function resolveSRVRecord(n){if("string"!=typeof n.srvHost)throw new T.MongoAPIError('Option "srvHost" must not be empty');const o=n.srvHost,i=j(o);i.then(void 0,P.squashError);const s=`_${n.srvServiceName}._tcp.${o}`,c=await k(s);if(0===c.length)throw new T.MongoAPIError("No addresses found at host");for(const{name:n}of c)(0,P.checkParentDomainMatch)(n,o);const S=c.map(n=>P.HostAddress.fromString(`${n.name}:${n.port??27017}`));let A;validateLoadBalancedOptions(S,n,!0);try{A=await i}catch(n){if("ENODATA"!==n.code&&"ENOTFOUND"!==n.code)throw n;return S}if(A.length>1)throw new T.MongoParseError("Multiple text records not allowed");const O=new h.URLSearchParams(A[0].join(""));if([...O.keys()].some(n=>!I.includes(n)))throw new T.MongoParseError(`Text record may only set any of: ${I.join(", ")}`);if(I.some(n=>""===O.get(n)))throw new T.MongoParseError("Cannot have empty URI params in DNS TXT Record");const _=O.get("authSource")??void 0,D=O.get("replicaSet")??void 0,N=O.get("loadBalanced")??void 0;!n.userSpecifiedAuthSource&&_&&n.credentials&&!E.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(n.credentials.mechanism)&&(n.credentials=f.MongoCredentials.merge(n.credentials,{source:_}));!n.userSpecifiedReplicaSet&&D&&(n.replicaSet=D);"true"===N&&(n.loadBalanced=!0);if(n.replicaSet&&n.srvMaxHosts>0)throw new T.MongoParseError("Cannot combine replicaSet option with srvMaxHosts");return validateLoadBalancedOptions(S,n,!0),S},o.parseOptions=function parseOptions(n,i=void 0,s={}){null==i||i instanceof _.MongoClient||(s=i,i=void 0);if(s.useBigInt64&&"boolean"==typeof s.promoteLongs&&!s.promoteLongs)throw new T.MongoAPIError("Must request either bigint or Long for int64 deserialization");if(s.useBigInt64&&"boolean"==typeof s.promoteValues&&!s.promoteValues)throw new T.MongoAPIError("Must request either bigint or Long for int64 deserialization");const h=new c.default(n),{hosts:A,isSRV:N}=h,R=Object.create(null);R.hosts=N?[]:A.map(P.HostAddress.fromString);const x=new CaseInsensitiveMap;if("/"!==h.pathname&&""!==h.pathname){const n=decodeURIComponent("/"===h.pathname[0]?h.pathname.slice(1):h.pathname);n&&x.set("dbName",[n])}if(""!==h.username){const n={username:decodeURIComponent(h.username)};"string"==typeof h.password&&(n.password=decodeURIComponent(h.password)),x.set("auth",[n])}for(const n of h.searchParams.keys()){const o=h.searchParams.getAll(n),i=/readPreferenceTags/i.test(n);if(!i&&o.length>1)throw new T.MongoInvalidArgumentError(`URI option "${n}" cannot appear more than once in the connection string`);if(!i&&o.includes(""))throw new T.MongoAPIError(`URI option "${n}" cannot be specified with no value`);x.has(n)||x.set(n,o)}const M=new CaseInsensitiveMap(Object.entries(s).filter(([,n])=>null!=n));if(x.has("serverApi"))throw new T.MongoParseError("URI cannot contain `serverApi`, it can only be passed to the client");const I=x.get("authMechanismProperties");if(I)for(const n of I)if(/(^|,)ALLOWED_HOSTS:/.test(n))throw new T.MongoParseError("Auth mechanism property ALLOWED_HOSTS is not allowed in the connection string.");if(M.has("loadBalanced"))throw new T.MongoParseError("loadBalanced is only a valid option in the URI");const B=new CaseInsensitiveMap,F=new Set([...x.keys(),...M.keys()]);for(const n of F){const o=[],i=M.get(n);null!=i&&o.push(i);const s=x.get(n)??[];o.push(...s),B.set(n,o)}if(B.has("tls")||B.has("ssl")){const n=(B.get("tls")||[]).concat(B.get("ssl")||[]).map(getBoolean.bind(null,"tls/ssl"));if(1!==new Set(n).size)throw new T.MongoParseError("All values of tls/ssl must be the same.")}!function checkTLSOptions(n){if(!n)return;const check=(o,i)=>{if(n.has(o)&&n.has(i))throw new T.MongoAPIError(`The '${o}' option cannot be used with the '${i}' option`)};check("tlsInsecure","tlsAllowInvalidCertificates"),check("tlsInsecure","tlsAllowInvalidHostnames")}(B);const L=(0,P.setDifference)(F,Array.from(Object.keys(o.OPTIONS)).map(n=>n.toLowerCase()));if(0!==L.size){const n=L.size>1?"options":"option",o=L.size>1?"are":"is";throw new T.MongoParseError(`${n} ${Array.from(L).join(", ")} ${o} not supported`)}for(const[n,i]of Object.entries(o.OPTIONS)){const s=B.get(n);if(s&&0!==s.length){const{deprecated:o}=i;if(o){const i="string"==typeof o?`: ${o}`:"";(0,P.emitWarning)(`${n} is a deprecated option${i}`)}setOption(R,n,i,s)}else o.DEFAULT_OPTIONS.has(n)&&setOption(R,n,i,[o.DEFAULT_OPTIONS.get(n)])}if(R.credentials){const n=R.credentials.mechanism===E.AuthMechanism.MONGODB_GSSAPI,o=R.credentials.mechanism===E.AuthMechanism.MONGODB_X509,i=R.credentials.mechanism===E.AuthMechanism.MONGODB_AWS,s=R.credentials.mechanism===E.AuthMechanism.MONGODB_OIDC;if((n||o)&&B.has("authSource")&&"$external"!==R.credentials.source)throw new T.MongoParseError(`authMechanism ${R.credentials.mechanism} requires an authSource of '$external'`);if(n||o||i||s||!R.dbName||B.has("authSource")||(R.credentials=f.MongoCredentials.merge(R.credentials,{source:R.dbName})),i&&R.credentials.username&&!R.credentials.password)throw new T.MongoMissingCredentialsError(`When using ${R.credentials.mechanism} password must be set when a username is specified`);R.credentials.validate(),""===R.credentials.password&&""===R.credentials.username&&R.credentials.mechanism===E.AuthMechanism.MONGODB_DEFAULT&&0===Object.keys(R.credentials.mechanismProperties).length&&delete R.credentials}R.dbName||(R.dbName="test");validateLoadBalancedOptions(A,R,N),i&&R.autoEncryption&&(O.Encrypter.checkForMongoCrypt(),R.encrypter=new O.Encrypter(i,n,s),R.autoEncrypter=R.encrypter.autoEncrypter);if(R.userSpecifiedAuthSource=M.has("authSource")||x.has("authSource"),R.userSpecifiedReplicaSet=M.has("replicaSet")||x.has("replicaSet"),N){if(R.srvHost=A[0],R.directConnection)throw new T.MongoAPIError("SRV URI does not support directConnection");if(R.srvMaxHosts>0&&"string"==typeof R.replicaSet)throw new T.MongoParseError("Cannot use srvMaxHosts option with replicaSet");const n=!M.has("tls")&&!x.has("tls"),o=!M.has("ssl")&&!x.has("ssl");n&&o&&(R.tls=!0)}else{if(x.has("srvMaxHosts")||M.has("srvMaxHosts")||x.has("srvServiceName")||M.has("srvServiceName"))throw new T.MongoParseError("Cannot use srvMaxHosts or srvServiceName with a non-srv connection string")}if(R.directConnection&&1!==R.hosts.length)throw new T.MongoParseError("directConnection option requires exactly one host");if(!R.proxyHost&&(R.proxyPort||R.proxyUsername||R.proxyPassword))throw new T.MongoParseError("Must specify proxyHost if other proxy options are passed");if(R.proxyUsername&&!R.proxyPassword||!R.proxyUsername&&R.proxyPassword)throw new T.MongoParseError("Can only specify both of proxy username/password or neither");if(["proxyHost","proxyPort","proxyUsername","proxyPassword"].map(n=>x.get(n)??[]).some(n=>n.length>1))throw new T.MongoParseError("Proxy options cannot be specified multiple times in the connection string");return R.mongoLoggerOptions=D.MongoLogger.resolveOptions({MONGODB_LOG_COMMAND:process.env.MONGODB_LOG_COMMAND,MONGODB_LOG_TOPOLOGY:process.env.MONGODB_LOG_TOPOLOGY,MONGODB_LOG_SERVER_SELECTION:process.env.MONGODB_LOG_SERVER_SELECTION,MONGODB_LOG_CONNECTION:process.env.MONGODB_LOG_CONNECTION,MONGODB_LOG_CLIENT:process.env.MONGODB_LOG_CLIENT,MONGODB_LOG_ALL:process.env.MONGODB_LOG_ALL,MONGODB_LOG_MAX_DOCUMENT_LENGTH:process.env.MONGODB_LOG_MAX_DOCUMENT_LENGTH,MONGODB_LOG_PATH:process.env.MONGODB_LOG_PATH},{mongodbLogPath:R.mongodbLogPath,mongodbLogComponentSeverities:R.mongodbLogComponentSeverities,mongodbLogMaxDocumentLength:R.mongodbLogMaxDocumentLength}),R.additionalDriverInfo=[],R.metadata=(0,S.makeClientMetadata)(R),R.extendedMetadata=(0,S.addContainerMetadata)(R.metadata).then(void 0,P.squashError),R};const s=i(72250),c=i(93858),h=i(87016),f=i(37935),E=i(24380),S=i(96088),A=i(3460),O=i(52831),T=i(86947),_=i(13139),D=i(60528),N=i(38938),R=i(50773),x=i(46445),P=i(52060),M=i(98349),I=["authSource","replicaSet","loadBalanced"],B="loadBalanced option only supported with a single host in the URI",F="loadBalanced option not supported with a replicaSet option",L="loadBalanced option not supported when directConnection is provided";function retryDNSTimeoutFor(n){return async function dnsReqRetryTimeout(o){try{return await s.promises[n](o)}catch(i){if(i.code===s.TIMEOUT)return await s.promises[n](o);throw i}}}const k=retryDNSTimeoutFor("resolveSrv"),j=retryDNSTimeoutFor("resolveTxt");function getBoolean(n,o){if("boolean"==typeof o)return o;switch(o){case"true":return!0;case"false":return!1;default:throw new T.MongoParseError(`${n} must be either "true" or "false"`)}}function getIntFromOptions(n,o){const i=(0,P.parseInteger)(o);if(null!=i)return i;throw new T.MongoParseError(`Expected ${n} to be stringified int value, got: ${o}`)}function getUIntFromOptions(n,o){const i=getIntFromOptions(n,o);if(i<0)throw new T.MongoParseError(`${n} can only be a positive int value, got: ${o}`);return i}function*entriesFromString(n){if(""===n)return;const o=n.split(",");for(const n of o){const[o,i]=n.split(/:(.*)/);if(null==i)throw new T.MongoParseError("Cannot have undefined values in key value pairs");yield[o,i]}}class CaseInsensitiveMap extends Map{constructor(n=[]){super(n.map(([n,o])=>[n.toLowerCase(),o]))}has(n){return super.has(n.toLowerCase())}get(n){return super.get(n.toLowerCase())}set(n,o){return super.set(n.toLowerCase(),o)}delete(n){return super.delete(n.toLowerCase())}}function validateLoadBalancedOptions(n,o,i){if(o.loadBalanced){if(n.length>1)throw new T.MongoParseError(B);if(o.replicaSet)throw new T.MongoParseError(F);if(o.directConnection)throw new T.MongoParseError(L);if(i&&o.srvMaxHosts>0)throw new T.MongoParseError("Cannot limit srv hosts with loadBalanced enabled")}}function setOption(n,o,i,s){const{target:c,type:h,transform:f}=i,E=c??o;switch(h){case"boolean":n[E]=getBoolean(E,s[0]);break;case"int":n[E]=getIntFromOptions(E,s[0]);break;case"uint":n[E]=getUIntFromOptions(E,s[0]);break;case"string":if(null==s[0])break;n[E]=String(s[0]);break;case"record":if(!(0,P.isRecord)(s[0]))throw new T.MongoParseError(`${E} must be an object`);n[E]=s[0];break;case"any":n[E]=s[0];break;default:{if(!f)throw new T.MongoParseError("Descriptors missing a type must define a transform");const o=f({name:E,options:n,values:s});n[E]=o;break}}}o.OPTIONS={appName:{type:"string"},auth:{target:"credentials",transform({name:n,options:o,values:[i]}){if(!(0,P.isRecord)(i,["username","password"]))throw new T.MongoParseError(`${n} must be an object with 'username' and 'password' properties`);return f.MongoCredentials.merge(o.credentials,{username:i.username,password:i.password})}},authMechanism:{target:"credentials",transform({options:n,values:[o]}){const i=Object.values(E.AuthMechanism),[s]=i.filter(n=>n.match(RegExp(String.raw`\b${o}\b`,"i")));if(!s)throw new T.MongoParseError(`authMechanism one of ${i}, got ${o}`);let c=n.credentials?.source;(s===E.AuthMechanism.MONGODB_PLAIN||E.AUTH_MECHS_AUTH_SRC_EXTERNAL.has(s))&&(c="$external");let h=n.credentials?.password;return s===E.AuthMechanism.MONGODB_X509&&""===h&&(h=void 0),f.MongoCredentials.merge(n.credentials,{mechanism:s,source:c,password:h})}},authMechanismProperties:{target:"credentials",transform({options:n,values:o}){let i=Object.create(null);for(const n of o)if("string"==typeof n)for(const[o,s]of entriesFromString(n))try{i[o]=getBoolean(o,s)}catch{i[o]=s}else{if(!(0,P.isRecord)(n))throw new T.MongoParseError("AuthMechanismProperties must be an object");i={...n}}return f.MongoCredentials.merge(n.credentials,{mechanismProperties:i})}},authSource:{target:"credentials",transform({options:n,values:[o]}){const i=String(o);return f.MongoCredentials.merge(n.credentials,{source:i})}},autoEncryption:{type:"record"},autoSelectFamily:{type:"boolean",default:!0},autoSelectFamilyAttemptTimeout:{type:"uint"},bsonRegExp:{type:"boolean"},serverApi:{target:"serverApi",transform({values:[n]}){const o="string"==typeof n?{version:n}:n,i=o&&o.version;if(!i)throw new T.MongoParseError(`Invalid \`serverApi\` property; must specify a version from the following enum: ["${Object.values(_.ServerApiVersion).join('", "')}"]`);if(!Object.values(_.ServerApiVersion).some(n=>n===i))throw new T.MongoParseError(`Invalid server API version=${i}; must be in the following enum: ["${Object.values(_.ServerApiVersion).join('", "')}"]`);return o}},checkKeys:{type:"boolean"},compressors:{default:"none",target:"compressors",transform({values:n}){const o=new Set;for(const i of n){const n="string"==typeof i?i.split(","):i;if(!Array.isArray(n))throw new T.MongoInvalidArgumentError("compressors must be an array or a comma-delimited list of strings");for(const i of n){if(!Object.keys(A.Compressor).includes(String(i)))throw new T.MongoInvalidArgumentError(`${i} is not a valid compression mechanism. Must be one of: ${Object.keys(A.Compressor)}.`);o.add(String(i))}}return[...o]}},connectTimeoutMS:{default:3e4,type:"uint"},dbName:{type:"string"},directConnection:{default:!1,type:"boolean"},driverInfo:{default:{},type:"record"},enableUtf8Validation:{type:"boolean",default:!0},family:{transform({name:n,values:[o]}){const i=getIntFromOptions(n,o);if(4===i||6===i)return i;throw new T.MongoParseError(`Option 'family' must be 4 or 6 got ${i}.`)}},fieldsAsRaw:{type:"record"},forceServerObjectId:{default:!1,type:"boolean"},fsync:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:n,options:o,values:[i]}){const s=M.WriteConcern.fromOptions({writeConcern:{...o.writeConcern,fsync:getBoolean(n,i)}});if(!s)throw new T.MongoParseError(`Unable to make a writeConcern from fsync=${i}`);return s}},heartbeatFrequencyMS:{default:1e4,type:"uint"},ignoreUndefined:{type:"boolean"},j:{deprecated:"Please use journal instead",target:"writeConcern",transform({name:n,options:o,values:[i]}){const s=M.WriteConcern.fromOptions({writeConcern:{...o.writeConcern,journal:getBoolean(n,i)}});if(!s)throw new T.MongoParseError(`Unable to make a writeConcern from journal=${i}`);return s}},journal:{target:"writeConcern",transform({name:n,options:o,values:[i]}){const s=M.WriteConcern.fromOptions({writeConcern:{...o.writeConcern,journal:getBoolean(n,i)}});if(!s)throw new T.MongoParseError(`Unable to make a writeConcern from journal=${i}`);return s}},loadBalanced:{default:!1,type:"boolean"},localThresholdMS:{default:15,type:"uint"},maxConnecting:{default:2,transform({name:n,values:[o]}){const i=getUIntFromOptions(n,o);if(0===i)throw new T.MongoInvalidArgumentError("maxConnecting must be > 0 if specified");return i}},maxIdleTimeMS:{default:0,type:"uint"},maxPoolSize:{default:100,type:"uint"},maxStalenessSeconds:{target:"readPreference",transform({name:n,options:o,values:[i]}){const s=getUIntFromOptions(n,i);return o.readPreference?R.ReadPreference.fromOptions({readPreference:{...o.readPreference,maxStalenessSeconds:s}}):new R.ReadPreference("secondary",void 0,{maxStalenessSeconds:s})}},minInternalBufferSize:{type:"uint"},minPoolSize:{default:0,type:"uint"},minHeartbeatFrequencyMS:{default:500,type:"uint"},monitorCommands:{default:!1,type:"boolean"},name:{target:"driverInfo",transform:({values:[n],options:o})=>({...o.driverInfo,name:String(n)})},noDelay:{default:!0,type:"boolean"},pkFactory:{default:P.DEFAULT_PK_FACTORY,transform({values:[n]}){if((0,P.isRecord)(n,["createPk"])&&"function"==typeof n.createPk)return n;throw new T.MongoParseError(`Option pkFactory must be an object with a createPk function, got ${n}`)}},promoteBuffers:{type:"boolean"},promoteLongs:{type:"boolean"},promoteValues:{type:"boolean"},useBigInt64:{type:"boolean"},proxyHost:{type:"string"},proxyPassword:{type:"string"},proxyPort:{type:"uint"},proxyUsername:{type:"string"},raw:{default:!1,type:"boolean"},readConcern:{transform({values:[n],options:o}){if(n instanceof N.ReadConcern||(0,P.isRecord)(n,["level"]))return N.ReadConcern.fromOptions({...o.readConcern,...n});throw new T.MongoParseError(`ReadConcern must be an object, got ${JSON.stringify(n)}`)}},readConcernLevel:{target:"readConcern",transform:({values:[n],options:o})=>N.ReadConcern.fromOptions({...o.readConcern,level:n})},readPreference:{default:R.ReadPreference.primary,transform({values:[n],options:o}){if(n instanceof R.ReadPreference)return R.ReadPreference.fromOptions({readPreference:{...o.readPreference,...n},...n});if((0,P.isRecord)(n,["mode"])){const i=R.ReadPreference.fromOptions({readPreference:{...o.readPreference,...n},...n});if(i)return i;throw new T.MongoParseError(`Cannot make read preference from ${JSON.stringify(n)}`)}if("string"==typeof n){const i={hedge:o.readPreference?.hedge,maxStalenessSeconds:o.readPreference?.maxStalenessSeconds};return new R.ReadPreference(n,o.readPreference?.tags,i)}throw new T.MongoParseError(`Unknown ReadPreference value: ${n}`)}},readPreferenceTags:{target:"readPreference",transform({values:n,options:o}){const i=Array.isArray(n[0])?n[0]:n,s=[];for(const n of i){const o=Object.create(null);if("string"==typeof n)for(const[i,s]of entriesFromString(n))o[i]=s;if((0,P.isRecord)(n))for(const[i,s]of Object.entries(n))o[i]=s;s.push(o)}return R.ReadPreference.fromOptions({readPreference:o.readPreference,readPreferenceTags:s})}},replicaSet:{type:"string"},retryReads:{default:!0,type:"boolean"},retryWrites:{default:!0,type:"boolean"},serializeFunctions:{type:"boolean"},serverMonitoringMode:{default:"auto",transform({values:[n]}){if(!Object.values(x.ServerMonitoringMode).includes(n))throw new T.MongoParseError("serverMonitoringMode must be one of `auto`, `poll`, or `stream`");return n}},serverSelectionTimeoutMS:{default:3e4,type:"uint"},servername:{type:"string"},socketTimeoutMS:{default:0,type:"uint"},srvMaxHosts:{type:"uint",default:0},srvServiceName:{type:"string",default:"mongodb"},ssl:{target:"tls",type:"boolean"},timeoutMS:{type:"uint"},tls:{type:"boolean"},tlsAllowInvalidCertificates:{target:"rejectUnauthorized",transform:({name:n,values:[o]})=>!getBoolean(n,o)},tlsAllowInvalidHostnames:{target:"checkServerIdentity",transform:({name:n,values:[o]})=>getBoolean(n,o)?()=>{}:void 0},tlsCAFile:{type:"string"},tlsCRLFile:{type:"string"},tlsCertificateKeyFile:{type:"string"},tlsCertificateKeyFilePassword:{target:"passphrase",type:"any"},tlsInsecure:{transform({name:n,options:o,values:[i]}){const s=getBoolean(n,i);return s?(o.checkServerIdentity=()=>{},o.rejectUnauthorized=!1):(o.checkServerIdentity=o.tlsAllowInvalidHostnames?()=>{}:void 0,o.rejectUnauthorized=!o.tlsAllowInvalidCertificates),s}},w:{target:"writeConcern",transform:({values:[n],options:o})=>M.WriteConcern.fromOptions({writeConcern:{...o.writeConcern,w:n}})},waitQueueTimeoutMS:{default:0,type:"uint"},writeConcern:{target:"writeConcern",transform({values:[n],options:o}){if((0,P.isRecord)(n)||n instanceof M.WriteConcern)return M.WriteConcern.fromOptions({writeConcern:{...o.writeConcern,...n}});if("majority"===n||"number"==typeof n)return M.WriteConcern.fromOptions({writeConcern:{...o.writeConcern,w:n}});throw new T.MongoParseError(`Invalid WriteConcern cannot parse: ${JSON.stringify(n)}`)}},wtimeout:{deprecated:"Please use wtimeoutMS instead",target:"writeConcern",transform({values:[n],options:o}){const i=M.WriteConcern.fromOptions({writeConcern:{...o.writeConcern,wtimeout:getUIntFromOptions("wtimeout",n)}});if(i)return i;throw new T.MongoParseError("Cannot make WriteConcern from wtimeout")}},wtimeoutMS:{target:"writeConcern",transform({values:[n],options:o}){const i=M.WriteConcern.fromOptions({writeConcern:{...o.writeConcern,wtimeoutMS:getUIntFromOptions("wtimeoutMS",n)}});if(i)return i;throw new T.MongoParseError("Cannot make WriteConcern from wtimeout")}},zlibCompressionLevel:{default:0,type:"int"},mongodbLogPath:{transform({values:[n]}){if(!("string"==typeof n&&["stderr","stdout"].includes(n)||n&&"object"==typeof n&&"write"in n&&"function"==typeof n.write))throw new T.MongoAPIError("Option 'mongodbLogPath' must be of type 'stderr' | 'stdout' | MongoDBLogWritable");return n}},mongodbLogComponentSeverities:{transform({values:[n]}){if("object"!=typeof n||!n)throw new T.MongoAPIError("Option 'mongodbLogComponentSeverities' must be a non-null object");for(const[o,i]of Object.entries(n)){if("string"!=typeof i||"string"!=typeof o)throw new T.MongoAPIError("User input for option 'mongodbLogComponentSeverities' object cannot include a non-string key or value");if(!Object.values(D.MongoLoggableComponent).some(n=>n===o)&&"default"!==o)throw new T.MongoAPIError(`User input for option 'mongodbLogComponentSeverities' contains invalid key: ${o}`);if(!Object.values(D.SeverityLevel).some(n=>n===i))throw new T.MongoAPIError(`Option 'mongodbLogComponentSeverities' does not support ${i} as a value for ${o}`)}return n}},mongodbLogMaxDocumentLength:{type:"uint"},connectionType:{type:"any"},srvPoller:{type:"any"},allowPartialTrustChain:{type:"any"},minDHSize:{type:"any"},pskCallback:{type:"any"},secureContext:{type:"any"},enableTrace:{type:"any"},requestCert:{type:"any"},rejectUnauthorized:{type:"any"},checkServerIdentity:{type:"any"},keepAliveInitialDelay:{type:"any"},ALPNProtocols:{type:"any"},SNICallback:{type:"any"},session:{type:"any"},requestOCSP:{type:"any"},localAddress:{type:"any"},localPort:{type:"any"},hints:{type:"any"},lookup:{type:"any"},ca:{type:"any"},cert:{type:"any"},ciphers:{type:"any"},crl:{type:"any"},ecdhCurve:{type:"any"},key:{type:"any"},passphrase:{type:"any"},pfx:{type:"any"},secureProtocol:{type:"any"},index:{type:"any"},useNewUrlParser:{type:"boolean",deprecated:"useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},useUnifiedTopology:{type:"boolean",deprecated:"useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"},__skipPingOnConnect:{type:"boolean"}},o.DEFAULT_OPTIONS=new CaseInsensitiveMap(Object.entries(o.OPTIONS).filter(([,n])=>null!=n.default).map(([n,o])=>[n,o.default]))},32568:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.END=o.CHANGE=o.INIT=o.MORE=o.RESPONSE=o.SERVER_HEARTBEAT_FAILED=o.SERVER_HEARTBEAT_SUCCEEDED=o.SERVER_HEARTBEAT_STARTED=o.COMMAND_FAILED=o.COMMAND_SUCCEEDED=o.COMMAND_STARTED=o.CLUSTER_TIME_RECEIVED=o.CONNECTION_CHECKED_IN=o.CONNECTION_CHECKED_OUT=o.CONNECTION_CHECK_OUT_FAILED=o.CONNECTION_CHECK_OUT_STARTED=o.CONNECTION_CLOSED=o.CONNECTION_READY=o.CONNECTION_CREATED=o.CONNECTION_POOL_READY=o.CONNECTION_POOL_CLEARED=o.CONNECTION_POOL_CLOSED=o.CONNECTION_POOL_CREATED=o.WAITING_FOR_SUITABLE_SERVER=o.SERVER_SELECTION_SUCCEEDED=o.SERVER_SELECTION_FAILED=o.SERVER_SELECTION_STARTED=o.TOPOLOGY_DESCRIPTION_CHANGED=o.TOPOLOGY_CLOSED=o.TOPOLOGY_OPENING=o.SERVER_DESCRIPTION_CHANGED=o.SERVER_CLOSED=o.SERVER_OPENING=o.DESCRIPTION_RECEIVED=o.UNPINNED=o.PINNED=o.MESSAGE=o.ENDED=o.CLOSED=o.CONNECT=o.OPEN=o.CLOSE=o.TIMEOUT=o.ERROR=o.SYSTEM_JS_COLLECTION=o.SYSTEM_COMMAND_COLLECTION=o.SYSTEM_USER_COLLECTION=o.SYSTEM_PROFILE_COLLECTION=o.SYSTEM_INDEX_COLLECTION=o.SYSTEM_NAMESPACE_COLLECTION=void 0,o.kDecoratedKeys=o.kDecorateResult=o.LEGACY_HELLO_COMMAND_CAMEL_CASE=o.LEGACY_HELLO_COMMAND=o.MONGO_CLIENT_EVENTS=o.LOCAL_SERVER_EVENTS=o.SERVER_RELAY_EVENTS=o.APM_EVENTS=o.TOPOLOGY_EVENTS=o.CMAP_EVENTS=o.HEARTBEAT_EVENTS=o.RESUME_TOKEN_CHANGED=void 0,o.SYSTEM_NAMESPACE_COLLECTION="system.namespaces",o.SYSTEM_INDEX_COLLECTION="system.indexes",o.SYSTEM_PROFILE_COLLECTION="system.profile",o.SYSTEM_USER_COLLECTION="system.users",o.SYSTEM_COMMAND_COLLECTION="$cmd",o.SYSTEM_JS_COLLECTION="system.js",o.ERROR="error",o.TIMEOUT="timeout",o.CLOSE="close",o.OPEN="open",o.CONNECT="connect",o.CLOSED="closed",o.ENDED="ended",o.MESSAGE="message",o.PINNED="pinned",o.UNPINNED="unpinned",o.DESCRIPTION_RECEIVED="descriptionReceived",o.SERVER_OPENING="serverOpening",o.SERVER_CLOSED="serverClosed",o.SERVER_DESCRIPTION_CHANGED="serverDescriptionChanged",o.TOPOLOGY_OPENING="topologyOpening",o.TOPOLOGY_CLOSED="topologyClosed",o.TOPOLOGY_DESCRIPTION_CHANGED="topologyDescriptionChanged",o.SERVER_SELECTION_STARTED="serverSelectionStarted",o.SERVER_SELECTION_FAILED="serverSelectionFailed",o.SERVER_SELECTION_SUCCEEDED="serverSelectionSucceeded",o.WAITING_FOR_SUITABLE_SERVER="waitingForSuitableServer",o.CONNECTION_POOL_CREATED="connectionPoolCreated",o.CONNECTION_POOL_CLOSED="connectionPoolClosed",o.CONNECTION_POOL_CLEARED="connectionPoolCleared",o.CONNECTION_POOL_READY="connectionPoolReady",o.CONNECTION_CREATED="connectionCreated",o.CONNECTION_READY="connectionReady",o.CONNECTION_CLOSED="connectionClosed",o.CONNECTION_CHECK_OUT_STARTED="connectionCheckOutStarted",o.CONNECTION_CHECK_OUT_FAILED="connectionCheckOutFailed",o.CONNECTION_CHECKED_OUT="connectionCheckedOut",o.CONNECTION_CHECKED_IN="connectionCheckedIn",o.CLUSTER_TIME_RECEIVED="clusterTimeReceived",o.COMMAND_STARTED="commandStarted",o.COMMAND_SUCCEEDED="commandSucceeded",o.COMMAND_FAILED="commandFailed",o.SERVER_HEARTBEAT_STARTED="serverHeartbeatStarted",o.SERVER_HEARTBEAT_SUCCEEDED="serverHeartbeatSucceeded",o.SERVER_HEARTBEAT_FAILED="serverHeartbeatFailed",o.RESPONSE="response",o.MORE="more",o.INIT="init",o.CHANGE="change",o.END="end",o.RESUME_TOKEN_CHANGED="resumeTokenChanged",o.HEARTBEAT_EVENTS=Object.freeze([o.SERVER_HEARTBEAT_STARTED,o.SERVER_HEARTBEAT_SUCCEEDED,o.SERVER_HEARTBEAT_FAILED]),o.CMAP_EVENTS=Object.freeze([o.CONNECTION_POOL_CREATED,o.CONNECTION_POOL_READY,o.CONNECTION_POOL_CLEARED,o.CONNECTION_POOL_CLOSED,o.CONNECTION_CREATED,o.CONNECTION_READY,o.CONNECTION_CLOSED,o.CONNECTION_CHECK_OUT_STARTED,o.CONNECTION_CHECK_OUT_FAILED,o.CONNECTION_CHECKED_OUT,o.CONNECTION_CHECKED_IN]),o.TOPOLOGY_EVENTS=Object.freeze([o.SERVER_OPENING,o.SERVER_CLOSED,o.SERVER_DESCRIPTION_CHANGED,o.TOPOLOGY_OPENING,o.TOPOLOGY_CLOSED,o.TOPOLOGY_DESCRIPTION_CHANGED,o.ERROR,o.TIMEOUT,o.CLOSE]),o.APM_EVENTS=Object.freeze([o.COMMAND_STARTED,o.COMMAND_SUCCEEDED,o.COMMAND_FAILED]),o.SERVER_RELAY_EVENTS=Object.freeze([o.SERVER_HEARTBEAT_STARTED,o.SERVER_HEARTBEAT_SUCCEEDED,o.SERVER_HEARTBEAT_FAILED,o.COMMAND_STARTED,o.COMMAND_SUCCEEDED,o.COMMAND_FAILED,...o.CMAP_EVENTS]),o.LOCAL_SERVER_EVENTS=Object.freeze([o.CONNECT,o.DESCRIPTION_RECEIVED,o.CLOSED,o.ENDED]),o.MONGO_CLIENT_EVENTS=Object.freeze([...o.CMAP_EVENTS,...o.APM_EVENTS,...o.TOPOLOGY_EVENTS,...o.HEARTBEAT_EVENTS]),o.LEGACY_HELLO_COMMAND="ismaster",o.LEGACY_HELLO_COMMAND_CAMEL_CASE="isMaster",o.kDecorateResult=Symbol.for("@@mdb.decorateDecryptionResult"),o.kDecoratedKeys=Symbol.for("@@mdb.decryptedKeys")},65017:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CursorTimeoutContext=o.AbstractCursor=o.CursorTimeoutMode=o.CURSOR_FLAGS=void 0;const s=i(2203),c=i(63403),h=i(86947),f=i(96327),E=i(86437),S=i(42326),A=i(53494),O=i(38938),T=i(50773),_=i(523),D=i(94452),N=i(38286),R=i(52060);function removeActiveCursor(){this.client.s.activeCursors.delete(this)}o.CURSOR_FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"],o.CursorTimeoutMode=Object.freeze({ITERATION:"iteration",LIFETIME:"cursorLifetime"});class AbstractCursor extends f.TypedEventEmitter{constructor(n,i,s={}){if(super(),this.documents=null,this.hasEmittedClose=!1,this.on("error",R.noop),!n.s.isMongoClient)throw new h.MongoRuntimeError("Cursor must be constructed with MongoClient");if(this.cursorClient=n,this.cursorNamespace=i,this.cursorId=null,this.initialized=!1,this.isClosed=!1,this.isKilled=!1,this.cursorOptions={readPreference:s.readPreference&&s.readPreference instanceof T.ReadPreference?s.readPreference:T.ReadPreference.primary,...(0,c.pluckBSONSerializeOptions)(s),timeoutMS:s?.timeoutContext?.csotEnabled()?s.timeoutContext.timeoutMS:s.timeoutMS,tailable:s.tailable,awaitData:s.awaitData},null!=this.cursorOptions.timeoutMS)if(null==s.timeoutMode)if(s.tailable){if(s.awaitData&&null!=s.maxAwaitTimeMS&&s.maxAwaitTimeMS>=this.cursorOptions.timeoutMS)throw new h.MongoInvalidArgumentError("Cannot specify maxAwaitTimeMS >= timeoutMS for a tailable awaitData cursor");this.cursorOptions.timeoutMode=o.CursorTimeoutMode.ITERATION}else this.cursorOptions.timeoutMode=o.CursorTimeoutMode.LIFETIME;else{if(s.tailable&&s.timeoutMode===o.CursorTimeoutMode.LIFETIME)throw new h.MongoInvalidArgumentError("Cannot set tailable cursor's timeoutMode to LIFETIME");this.cursorOptions.timeoutMode=s.timeoutMode}else if(null!=s.timeoutMode)throw new h.MongoInvalidArgumentError("Cannot set timeoutMode without setting timeoutMS");this.cursorOptions.omitMaxTimeMS=null!=this.cursorOptions.timeoutMS&&(this.cursorOptions.timeoutMode===o.CursorTimeoutMode.ITERATION&&!this.cursorOptions.tailable||this.cursorOptions.tailable&&!this.cursorOptions.awaitData);const f=O.ReadConcern.fromOptions(s);f&&(this.cursorOptions.readConcern=f),"number"==typeof s.batchSize&&(this.cursorOptions.batchSize=s.batchSize),void 0!==s.comment&&(this.cursorOptions.comment=s.comment),"number"==typeof s.maxTimeMS&&(this.cursorOptions.maxTimeMS=s.maxTimeMS),"number"==typeof s.maxAwaitTimeMS&&(this.cursorOptions.maxAwaitTimeMS=s.maxAwaitTimeMS),this.cursorSession=s.session??null,this.deserializationOptions={...this.cursorOptions,validation:{utf8:!1!==s?.enableUtf8Validation}},this.timeoutContext=s.timeoutContext,this.signal=s.signal,this.abortListener=(0,R.addAbortListener)(this.signal,()=>{this.close().then(void 0,R.squashError)}),this.trackCursor()}get id(){return this.cursorId??void 0}get isDead(){return(this.cursorId?.isZero()??!1)||this.isClosed||this.isKilled}get client(){return this.cursorClient}get server(){return this.selectedServer}get namespace(){return this.cursorNamespace}get readPreference(){return this.cursorOptions.readPreference}get readConcern(){return this.cursorOptions.readConcern}get session(){return this.cursorSession}set session(n){this.cursorSession=n}get closed(){return this.isClosed&&0===(this.documents?.length??0)}get killed(){return this.isKilled}get loadBalanced(){return!!this.cursorClient.topology?.loadBalanced}async asyncDispose(){await this.close()}trackCursor(){this.cursorClient.s.activeCursors.add(this),this.listeners("close").includes(removeActiveCursor)||this.once("close",removeActiveCursor)}bufferedCount(){return this.documents?.length??0}readBufferedDocuments(n){const o=[],i=Math.min(n??this.documents?.length??0,this.documents?.length??0);for(let n=0;n<i;n++){const n=this.documents?.shift(this.deserializationOptions);null!=n&&o.push(n)}return o}async*[Symbol.asyncIterator](){if(this.signal?.throwIfAborted(),!this.closed)try{for(;;){if(this.isKilled)return;if(this.closed)return;if(null!=this.cursorId&&this.isDead&&0===(this.documents?.length??0))return;const n=await this.next();if(null===n)return;yield n,this.signal?.throwIfAborted()}}finally{if(!this.isClosed)try{await this.close()}catch(n){(0,R.squashError)(n)}}}stream(n){const o=new ReadableCursorStream(this),i=(0,R.addAbortListener)(this.signal,function(){o.destroy(this.reason)});if(o.once("end",()=>{i?.[R.kDispose]()}),n?.transform){const i=n.transform,c=o.pipe(new s.Transform({objectMode:!0,highWaterMark:1,transform(n,o,s){try{s(void 0,i(n))}catch(n){s(n)}}}));return o.on("error",n=>c.emit("error",n)),c}return o}async hasNext(){if(this.signal?.throwIfAborted(),this.cursorId===c.Long.ZERO)return!1;this.cursorOptions.timeoutMode===o.CursorTimeoutMode.ITERATION&&null!=this.cursorId&&this.timeoutContext?.refresh();try{do{if(0!==(this.documents?.length??0))return!0;await this.fetchBatch()}while(!this.isDead||0!==(this.documents?.length??0))}finally{this.cursorOptions.timeoutMode===o.CursorTimeoutMode.ITERATION&&this.timeoutContext?.clear()}return!1}async next(){if(this.signal?.throwIfAborted(),this.cursorId===c.Long.ZERO)throw new h.MongoCursorExhaustedError;this.cursorOptions.timeoutMode===o.CursorTimeoutMode.ITERATION&&null!=this.cursorId&&this.timeoutContext?.refresh();try{do{const n=this.documents?.shift(this.deserializationOptions);if(null!=n)return null!=this.transform?await this.transformDocument(n):n;await this.fetchBatch()}while(!this.isDead||0!==(this.documents?.length??0))}finally{this.cursorOptions.timeoutMode===o.CursorTimeoutMode.ITERATION&&this.timeoutContext?.clear()}return null}async tryNext(){if(this.signal?.throwIfAborted(),this.cursorId===c.Long.ZERO)throw new h.MongoCursorExhaustedError;this.cursorOptions.timeoutMode===o.CursorTimeoutMode.ITERATION&&null!=this.cursorId&&this.timeoutContext?.refresh();try{let n=this.documents?.shift(this.deserializationOptions);if(null!=n)return null!=this.transform?await this.transformDocument(n):n;if(await this.fetchBatch(),n=this.documents?.shift(this.deserializationOptions),null!=n)return null!=this.transform?await this.transformDocument(n):n}finally{this.cursorOptions.timeoutMode===o.CursorTimeoutMode.ITERATION&&this.timeoutContext?.clear()}return null}async forEach(n){if(this.signal?.throwIfAborted(),"function"!=typeof n)throw new h.MongoInvalidArgumentError('Argument "iterator" must be a function');for await(const o of this){if(!1===n(o))break}}async close(n){await this.cleanup(n?.timeoutMS)}async toArray(){this.signal?.throwIfAborted();const n=[];for await(const o of this){n.push(o);const i=this.readBufferedDocuments();if(null!=this.transform)for(const o of i)n.push(await this.transformDocument(o));else n.push(...i)}return n}addCursorFlag(n,i){if(this.throwIfInitialized(),!o.CURSOR_FLAGS.includes(n))throw new h.MongoInvalidArgumentError(`Flag ${n} is not one of ${o.CURSOR_FLAGS}`);if("boolean"!=typeof i)throw new h.MongoInvalidArgumentError(`Flag ${n} must be a boolean value`);return this.cursorOptions[n]=i,this}map(n){this.throwIfInitialized();const o=this.transform;return this.transform=o?i=>n(o(i)):n,this}withReadPreference(n){if(this.throwIfInitialized(),n instanceof T.ReadPreference)this.cursorOptions.readPreference=n;else{if("string"!=typeof n)throw new h.MongoInvalidArgumentError(`Invalid read preference: ${n}`);this.cursorOptions.readPreference=T.ReadPreference.fromString(n)}return this}withReadConcern(n){this.throwIfInitialized();const o=O.ReadConcern.fromOptions({readConcern:n});return o&&(this.cursorOptions.readConcern=o),this}maxTimeMS(n){if(this.throwIfInitialized(),"number"!=typeof n)throw new h.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this.cursorOptions.maxTimeMS=n,this}batchSize(n){if(this.throwIfInitialized(),this.cursorOptions.tailable)throw new h.MongoTailableCursorError("Tailable cursor does not support batchSize");if("number"!=typeof n)throw new h.MongoInvalidArgumentError('Operation "batchSize" requires an integer');return this.cursorOptions.batchSize=n,this}rewind(){if(this.timeoutContext&&this.timeoutContext.owner!==this)throw new h.MongoAPIError("Cannot rewind cursor that does not own its timeout context.");this.initialized&&(this.cursorId=null,this.documents?.clear(),this.timeoutContext?.clear(),this.timeoutContext=void 0,this.isClosed=!1,this.isKilled=!1,this.initialized=!1,this.hasEmittedClose=!1,this.trackCursor(),!1===this.cursorSession?.explicit&&(this.cursorSession.hasEnded||this.cursorSession.endSession().then(void 0,R.squashError),this.cursorSession=null))}async getMore(n){if(null==this.cursorId)throw new h.MongoRuntimeError("Unexpected null cursor id. A cursor creating command should have set this");if(null==this.selectedServer)throw new h.MongoRuntimeError("Unexpected null selectedServer. A cursor creating command should have set this");if(null==this.cursorSession)throw new h.MongoRuntimeError("Unexpected null session. A cursor creating command should have set this");const o={...this.cursorOptions,session:this.cursorSession,batchSize:n},i=new S.GetMoreOperation(this.cursorNamespace,this.cursorId,this.selectedServer,o);return await(0,E.executeOperation)(this.cursorClient,i,this.timeoutContext)}async cursorInit(){null!=this.cursorOptions.timeoutMS&&(this.timeoutContext??=new CursorTimeoutContext(N.TimeoutContext.create({serverSelectionTimeoutMS:this.client.s.options.serverSelectionTimeoutMS,timeoutMS:this.cursorOptions.timeoutMS}),this));try{this.cursorSession??=this.cursorClient.startSession({owner:this,explicit:!1});const n=await this._initialize(this.cursorSession);this.cursorOptions.omitMaxTimeMS=null!=this.cursorOptions.timeoutMS;const o=n.response;this.selectedServer=n.server,this.cursorId=o.id,this.cursorNamespace=o.ns??this.namespace,this.documents=o,this.initialized=!0}catch(n){throw this.initialized=!0,await this.cleanup(void 0,n),n}this.isDead&&await this.cleanup()}async fetchBatch(){if(this.isClosed)return;if(this.isDead)return void await this.cleanup();if(null==this.cursorId&&(await this.cursorInit(),0!==(this.documents?.length??0)||this.isDead))return;const n=this.cursorOptions.batchSize||1e3;try{const o=await this.getMore(n);this.cursorId=o.id,this.documents=o}catch(n){try{await this.cleanup(void 0,n)}catch(n){(0,R.squashError)(n)}throw n}this.isDead&&await this.cleanup()}async cleanup(n,o){this.abortListener?.[R.kDispose](),this.isClosed=!0;const timeoutContextForKillCursors=()=>null!=n?(this.timeoutContext?.clear(),new CursorTimeoutContext(N.TimeoutContext.create({serverSelectionTimeoutMS:this.client.s.options.serverSelectionTimeoutMS,timeoutMS:n}),this)):this.timeoutContext?.refreshed();await(async n=>{try{await n()}finally{this.emitClose()}})(async()=>{const n=this.cursorSession;if(n)try{if(!this.isKilled&&this.cursorId&&!this.cursorId.isZero()&&this.cursorNamespace&&this.selectedServer&&!n.hasEnded){this.isKilled=!0;const o=this.cursorId;this.cursorId=c.Long.ZERO,await(0,E.executeOperation)(this.cursorClient,new A.KillCursorsOperation(o,this.cursorNamespace,this.selectedServer,{session:n}),timeoutContextForKillCursors())}}catch(n){(0,R.squashError)(n)}finally{n.owner===this&&await n.endSession({error:o}),n.inTransaction()||(0,D.maybeClearPinnedConnection)(n,{error:o})}})}emitClose(){try{this.hasEmittedClose||0!==(this.documents?.length??0)&&!this.isClosed||this.emit("close")}finally{this.hasEmittedClose=!0}}async transformDocument(n){if(null==this.transform)return n;try{const o=this.transform(n);if(null===o){const n="Cursor returned a `null` document, but the cursor is not exhausted.  Mapping documents to `null` is not supported in the cursor transform.";throw new h.MongoAPIError(n)}return o}catch(n){try{await this.close()}catch(n){(0,R.squashError)(n)}throw n}}throwIfInitialized(){if(this.initialized)throw new h.MongoCursorInUseError}}o.AbstractCursor=AbstractCursor,AbstractCursor.CLOSE="close";class ReadableCursorStream extends s.Readable{constructor(n){super({objectMode:!0,autoDestroy:!1,highWaterMark:1}),this._readInProgress=!1,this._cursor=n}_read(n){this._readInProgress||(this._readInProgress=!0,this._readNext())}_destroy(n,o){this._cursor.close().then(()=>o(n),n=>o(n))}_readNext(){this._cursor.id!==c.Long.ZERO?this._cursor.next().then(n=>{if(null==n)this.push(null);else if(this.destroyed)this._cursor.close().then(void 0,R.squashError);else{if(this.push(n))return this._readNext();this._readInProgress=!1}},n=>n.message.match(/server is closed/)?(this._cursor.close().then(void 0,R.squashError),this.push(null)):n.message.match(/operation was interrupted/)?this.push(null):this.destroy(n)).catch(n=>{this._readInProgress=!1,this.destroy(n)}):this.push(null)}}(0,_.configureResourceManagement)(AbstractCursor.prototype);class CursorTimeoutContext extends N.TimeoutContext{constructor(n,o){super(),this.timeoutContext=n,this.owner=o}get serverSelectionTimeout(){return this.timeoutContext.serverSelectionTimeout}get connectionCheckoutTimeout(){return this.timeoutContext.connectionCheckoutTimeout}get clearServerSelectionTimeout(){return this.timeoutContext.clearServerSelectionTimeout}get timeoutForSocketWrite(){return this.timeoutContext.timeoutForSocketWrite}get timeoutForSocketRead(){return this.timeoutContext.timeoutForSocketRead}csotEnabled(){return this.timeoutContext.csotEnabled()}refresh(){if("symbol"!=typeof this.owner)return this.timeoutContext.refresh()}clear(){if("symbol"!=typeof this.owner)return this.timeoutContext.clear()}get maxTimeMS(){return this.timeoutContext.maxTimeMS}get timeoutMS(){return this.timeoutContext.csotEnabled()?this.timeoutContext.timeoutMS:null}refreshed(){return new CursorTimeoutContext(this.timeoutContext.refreshed(),this.owner)}addMaxTimeMSToCommand(n,o){this.timeoutContext.addMaxTimeMSToCommand(n,o)}getSocketTimeoutMS(){return this.timeoutContext.getSocketTimeoutMS()}}o.CursorTimeoutContext=CursorTimeoutContext},24091:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AggregationCursor=void 0;const s=i(86947),c=i(8682),h=i(4651),f=i(86437),E=i(52060),S=i(65017),A=i(98408);class AggregationCursor extends A.ExplainableCursor{constructor(n,o,i=[],c={}){super(n,o,c),this.pipeline=i,this.aggregateOptions=c;const h=this.pipeline[this.pipeline.length-1];if(null!=this.cursorOptions.timeoutMS&&this.cursorOptions.timeoutMode===S.CursorTimeoutMode.ITERATION&&(null!=h?.$merge||null!=h?.$out))throw new s.MongoAPIError("Cannot use $out or $merge stage with ITERATION timeoutMode")}clone(){const n=(0,E.mergeOptions)({},this.aggregateOptions);return delete n.session,new AggregationCursor(this.client,this.namespace,this.pipeline,{...n})}map(n){return super.map(n)}async _initialize(n){const o={...this.aggregateOptions,...this.cursorOptions,session:n,signal:this.signal};if(o.explain)try{(0,c.validateExplainTimeoutOptions)(o,c.Explain.fromOptions(o))}catch{throw new s.MongoAPIError("timeoutMS cannot be used with explain when explain is specified in aggregateOptions")}const i=new h.AggregateOperation(this.namespace,this.pipeline,o),E=await(0,f.executeOperation)(this.client,i,this.timeoutContext);return{server:i.server,session:n,response:E}}async explain(n,o){const{explain:i,timeout:s}=this.resolveExplainTimeoutOptions(n,o);return(await(0,f.executeOperation)(this.client,new h.AggregateOperation(this.namespace,this.pipeline,{...this.aggregateOptions,...this.cursorOptions,...s,explain:i??!0}))).shift(this.deserializationOptions)}addStage(n){if(this.throwIfInitialized(),null!=this.cursorOptions.timeoutMS&&this.cursorOptions.timeoutMode===S.CursorTimeoutMode.ITERATION&&(null!=n.$out||null!=n.$merge))throw new s.MongoAPIError("Cannot use $out or $merge stage with ITERATION timeoutMode");return this.pipeline.push(n),this}group(n){return this.addStage({$group:n})}limit(n){return this.addStage({$limit:n})}match(n){return this.addStage({$match:n})}out(n){return this.addStage({$out:n})}project(n){return this.addStage({$project:n})}lookup(n){return this.addStage({$lookup:n})}redact(n){return this.addStage({$redact:n})}skip(n){return this.addStage({$skip:n})}sort(n){return this.addStage({$sort:n})}unwind(n){return this.addStage({$unwind:n})}geoNear(n){return this.addStage({$geoNear:n})}}o.AggregationCursor=AggregationCursor},22250:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ChangeStreamCursor=void 0;const s=i(9272),c=i(32568),h=i(4651),f=i(86437),E=i(52060),S=i(65017);class ChangeStreamCursor extends S.AbstractCursor{constructor(n,o,i=[],s={}){super(n,o,{...s,tailable:!0,awaitData:!0}),this.pipeline=i,this.changeStreamCursorOptions=s,this._resumeToken=null,this.startAtOperationTime=s.startAtOperationTime??null,s.startAfter?this.resumeToken=s.startAfter:s.resumeAfter&&(this.resumeToken=s.resumeAfter)}set resumeToken(n){this._resumeToken=n,this.emit(s.ChangeStream.RESUME_TOKEN_CHANGED,n)}get resumeToken(){return this._resumeToken}get resumeOptions(){const n={...this.changeStreamCursorOptions};for(const o of["resumeAfter","startAfter","startAtOperationTime"])delete n[o];return null!=this.resumeToken?this.changeStreamCursorOptions.startAfter&&!this.hasReceived?n.startAfter=this.resumeToken:n.resumeAfter=this.resumeToken:null!=this.startAtOperationTime&&(0,E.maxWireVersion)(this.server)>=7&&(n.startAtOperationTime=this.startAtOperationTime),n}cacheResumeToken(n){0===this.bufferedCount()&&this.postBatchResumeToken?this.resumeToken=this.postBatchResumeToken:this.resumeToken=n,this.hasReceived=!0}_processBatch(n){const{postBatchResumeToken:o}=n;o&&(this.postBatchResumeToken=o,0===n.batchSize&&(this.resumeToken=o))}clone(){return new ChangeStreamCursor(this.client,this.namespace,this.pipeline,{...this.cursorOptions})}async _initialize(n){const o=new h.AggregateOperation(this.namespace,this.pipeline,{...this.cursorOptions,...this.changeStreamCursorOptions,session:n}),i=await(0,f.executeOperation)(n.client,o,this.timeoutContext),s=o.server;return this.maxWireVersion=(0,E.maxWireVersion)(s),null==this.startAtOperationTime&&null==this.changeStreamCursorOptions.resumeAfter&&null==this.changeStreamCursorOptions.startAfter&&this.maxWireVersion>=7&&(this.startAtOperationTime=i.operationTime),this._processBatch(i),this.emit(c.INIT,i),this.emit(c.RESPONSE),{server:s,session:n,response:i}}async getMore(n){const o=await super.getMore(n);return this.maxWireVersion=(0,E.maxWireVersion)(this.server),this._processBatch(o),this.emit(s.ChangeStream.MORE,o),this.emit(s.ChangeStream.RESPONSE),o}}o.ChangeStreamCursor=ChangeStreamCursor},99385:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ClientBulkWriteCursor=void 0;const s=i(66143),c=i(86437),h=i(52060),f=i(65017);class ClientBulkWriteCursor extends f.AbstractCursor{constructor(n,o,i={}){super(n,new h.MongoDBNamespace("admin","$cmd"),i),this.commandBuilder=o,this.clientBulkWriteOptions=i}get response(){return this.cursorResponse?this.cursorResponse:null}get operations(){return this.commandBuilder.lastOperations}clone(){const n=(0,h.mergeOptions)({},this.clientBulkWriteOptions);return delete n.session,new ClientBulkWriteCursor(this.client,this.commandBuilder,{...n})}async _initialize(n){const o=new s.ClientBulkWriteOperation(this.commandBuilder,{...this.clientBulkWriteOptions,...this.cursorOptions,session:n}),i=await(0,c.executeOperation)(this.client,o,this.timeoutContext);return this.cursorResponse=i,{server:o.server,session:n,response:i}}}o.ClientBulkWriteCursor=ClientBulkWriteCursor},98408:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ExplainableCursor=void 0;const s=i(65017);class ExplainableCursor extends s.AbstractCursor{resolveExplainTimeoutOptions(n,o){let i,s;return null==n&&null==o?(i=void 0,s=void 0):null!=n&&null==o?(i="object"!=typeof n||"verbosity"in n?n:void 0,s="object"==typeof n&&"timeoutMS"in n?n:void 0):(i=n,s=o),{timeout:s,explain:i}}}o.ExplainableCursor=ExplainableCursor},79614:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FindCursor=o.FLAGS=void 0;const s=i(89086),c=i(86947),h=i(8682),f=i(64303),E=i(86437),S=i(93793),A=i(47781),O=i(52060),T=i(98408);o.FLAGS=["tailable","oplogReplay","noCursorTimeout","awaitData","exhaust","partial"];class FindCursor extends T.ExplainableCursor{constructor(n,o,i={},s={}){super(n,o,s),this.numReturned=0,this.cursorFilter=i,this.findOptions=s,null!=s.sort&&(this.findOptions.sort=(0,A.formatSort)(s.sort))}clone(){const n=(0,O.mergeOptions)({},this.findOptions);return delete n.session,new FindCursor(this.client,this.namespace,this.cursorFilter,{...n})}map(n){return super.map(n)}async _initialize(n){const o={...this.findOptions,...this.cursorOptions,session:n,signal:this.signal};if(o.explain)try{(0,h.validateExplainTimeoutOptions)(o,h.Explain.fromOptions(o))}catch{throw new c.MongoAPIError("timeoutMS cannot be used with explain when explain is specified in findOptions")}const i=new S.FindOperation(this.namespace,this.cursorFilter,o),s=await(0,E.executeOperation)(this.client,i,this.timeoutContext);return this.numReturned=s.batchSize,{server:i.server,session:n,response:s}}async getMore(n){const o=this.numReturned;if(o){const i=this.findOptions.limit;if((n=i&&i>0&&o+n>i?i-o:n)<=0){try{await this.close()}catch(n){(0,O.squashError)(n)}return s.CursorResponse.emptyGetMore}}const i=await super.getMore(n);return this.numReturned=this.numReturned+i.batchSize,i}async count(n){if((0,O.emitWarningOnce)("cursor.count is deprecated and will be removed in the next major version, please use `collection.estimatedDocumentCount` or `collection.countDocuments` instead "),"boolean"==typeof n)throw new c.MongoInvalidArgumentError("Invalid first parameter to count");return await(0,E.executeOperation)(this.client,new f.CountOperation(this.namespace,this.cursorFilter,{...this.findOptions,...this.cursorOptions,...n}))}async explain(n,o){const{explain:i,timeout:s}=this.resolveExplainTimeoutOptions(n,o);return(await(0,E.executeOperation)(this.client,new S.FindOperation(this.namespace,this.cursorFilter,{...this.findOptions,...this.cursorOptions,...s,explain:i??!0}))).shift(this.deserializationOptions)}filter(n){return this.throwIfInitialized(),this.cursorFilter=n,this}hint(n){return this.throwIfInitialized(),this.findOptions.hint=n,this}min(n){return this.throwIfInitialized(),this.findOptions.min=n,this}max(n){return this.throwIfInitialized(),this.findOptions.max=n,this}returnKey(n){return this.throwIfInitialized(),this.findOptions.returnKey=n,this}showRecordId(n){return this.throwIfInitialized(),this.findOptions.showRecordId=n,this}addQueryModifier(n,o){if(this.throwIfInitialized(),"$"!==n[0])throw new c.MongoInvalidArgumentError(`${n} is not a valid query modifier`);switch(n.substr(1)){case"comment":this.findOptions.comment=o;break;case"explain":this.findOptions.explain=o;break;case"hint":this.findOptions.hint=o;break;case"max":this.findOptions.max=o;break;case"maxTimeMS":this.findOptions.maxTimeMS=o;break;case"min":this.findOptions.min=o;break;case"orderby":this.findOptions.sort=(0,A.formatSort)(o);break;case"query":this.cursorFilter=o;break;case"returnKey":this.findOptions.returnKey=o;break;case"showDiskLoc":this.findOptions.showRecordId=o;break;default:throw new c.MongoInvalidArgumentError(`Invalid query modifier: ${n}`)}return this}comment(n){return this.throwIfInitialized(),this.findOptions.comment=n,this}maxAwaitTimeMS(n){if(this.throwIfInitialized(),"number"!=typeof n)throw new c.MongoInvalidArgumentError("Argument for maxAwaitTimeMS must be a number");return this.findOptions.maxAwaitTimeMS=n,this}maxTimeMS(n){if(this.throwIfInitialized(),"number"!=typeof n)throw new c.MongoInvalidArgumentError("Argument for maxTimeMS must be a number");return this.findOptions.maxTimeMS=n,this}project(n){return this.throwIfInitialized(),this.findOptions.projection=n,this}sort(n,o){if(this.throwIfInitialized(),this.findOptions.tailable)throw new c.MongoTailableCursorError("Tailable cursor does not support sorting");return this.findOptions.sort=(0,A.formatSort)(n,o),this}allowDiskUse(n=!0){if(this.throwIfInitialized(),!this.findOptions.sort)throw new c.MongoInvalidArgumentError('Option "allowDiskUse" requires a sort specification');return n?(this.findOptions.allowDiskUse=!0,this):(this.findOptions.allowDiskUse=!1,this)}collation(n){return this.throwIfInitialized(),this.findOptions.collation=n,this}limit(n){if(this.throwIfInitialized(),this.findOptions.tailable)throw new c.MongoTailableCursorError("Tailable cursor does not support limit");if("number"!=typeof n)throw new c.MongoInvalidArgumentError('Operation "limit" requires an integer');return this.findOptions.limit=n,this}skip(n){if(this.throwIfInitialized(),this.findOptions.tailable)throw new c.MongoTailableCursorError("Tailable cursor does not support skip");if("number"!=typeof n)throw new c.MongoInvalidArgumentError('Operation "skip" requires an integer');return this.findOptions.skip=n,this}}o.FindCursor=FindCursor},63537:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ListCollectionsCursor=void 0;const s=i(86437),c=i(65860),h=i(65017);class ListCollectionsCursor extends h.AbstractCursor{constructor(n,o,i){super(n.client,n.s.namespace,i),this.parent=n,this.filter=o,this.options=i}clone(){return new ListCollectionsCursor(this.parent,this.filter,{...this.options,...this.cursorOptions})}async _initialize(n){const o=new c.ListCollectionsOperation(this.parent,this.filter,{...this.cursorOptions,...this.options,session:n,signal:this.signal}),i=await(0,s.executeOperation)(this.parent.client,o,this.timeoutContext);return{server:o.server,session:n,response:i}}}o.ListCollectionsCursor=ListCollectionsCursor},5058:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ListIndexesCursor=void 0;const s=i(86437),c=i(87988),h=i(65017);class ListIndexesCursor extends h.AbstractCursor{constructor(n,o){super(n.client,n.s.namespace,o),this.parent=n,this.options=o}clone(){return new ListIndexesCursor(this.parent,{...this.options,...this.cursorOptions})}async _initialize(n){const o=new c.ListIndexesOperation(this.parent,{...this.cursorOptions,...this.options,session:n}),i=await(0,s.executeOperation)(this.parent.client,o,this.timeoutContext);return{server:o.server,session:n,response:i}}}o.ListIndexesCursor=ListIndexesCursor},8159:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ListSearchIndexesCursor=void 0;const s=i(24091);class ListSearchIndexesCursor extends s.AggregationCursor{constructor({fullNamespace:n,client:o},i,s={}){super(o,n,null==i?[{$listSearchIndexes:{}}]:[{$listSearchIndexes:{name:i}}],s)}}o.ListSearchIndexesCursor=ListSearchIndexesCursor},8328:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.RunCommandCursor=void 0;const s=i(86947),c=i(86437),h=i(42326),f=i(37639),E=i(52060),S=i(65017);class RunCommandCursor extends S.AbstractCursor{setComment(n){return this.getMoreOptions.comment=n,this}setMaxTimeMS(n){return this.getMoreOptions.maxAwaitTimeMS=n,this}setBatchSize(n){return this.getMoreOptions.batchSize=n,this}clone(){throw new s.MongoAPIError("Clone not supported, create a new cursor with db.runCursorCommand")}withReadConcern(n){throw new s.MongoAPIError("RunCommandCursor does not support readConcern it must be attached to the command being run")}addCursorFlag(n,o){throw new s.MongoAPIError("RunCommandCursor does not support cursor flags, they must be attached to the command being run")}maxTimeMS(n){throw new s.MongoAPIError("maxTimeMS must be configured on the command document directly, to configure getMore.maxTimeMS use cursor.setMaxTimeMS()")}batchSize(n){throw new s.MongoAPIError("batchSize must be configured on the command document directly, to configure getMore.batchSize use cursor.setBatchSize()")}constructor(n,o,i={}){super(n.client,(0,E.ns)(n.namespace),i),this.getMoreOptions={},this.db=n,this.command=Object.freeze({...o})}async _initialize(n){const o=new f.RunCursorCommandOperation(this.db.s.namespace,this.command,{...this.cursorOptions,session:n,readPreference:this.cursorOptions.readPreference}),i=await(0,c.executeOperation)(this.client,o,this.timeoutContext);return{server:o.server,session:n,response:i}}async getMore(n){if(!this.session)throw new s.MongoRuntimeError("Unexpected null session. A cursor creating command should have set this");const o=new h.GetMoreOperation(this.namespace,this.id,this.server,{...this.cursorOptions,session:this.session,...this.getMoreOptions});return await(0,c.executeOperation)(this.client,o,this.timeoutContext)}}o.RunCommandCursor=RunCommandCursor},90263:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Db=void 0;const s=i(47306),c=i(63403),h=i(9272),f=i(36653),E=i(32568),S=i(24091),A=i(63537),O=i(8328),T=i(86947),_=i(75629),D=i(5415),N=i(86437),R=i(87988),x=i(4867),P=i(67862),M=i(5964),I=i(37639),B=i(80008),F=i(35207),L=i(38938),k=i(50773),j=i(52060),U=i(98349),z=["writeConcern","readPreference","readPreferenceTags","native_parser","forceServerObjectId","pkFactory","serializeFunctions","raw","authSource","ignoreUndefined","readConcern","retryMiliSeconds","numberOfRetries","useBigInt64","promoteBuffers","promoteLongs","bsonRegExp","enableUtf8Validation","promoteValues","compression","retryWrites","timeoutMS"];class Db{constructor(n,o,i){if(i=i??{},i=(0,j.filterOptions)(i,z),"string"==typeof o&&o.includes("."))throw new T.MongoInvalidArgumentError("Database names cannot contain the character '.'");this.s={options:i,readPreference:k.ReadPreference.fromOptions(i),bsonOptions:(0,c.resolveBSONOptions)(i,n),pkFactory:i?.pkFactory??j.DEFAULT_PK_FACTORY,readConcern:L.ReadConcern.fromOptions(i),writeConcern:U.WriteConcern.fromOptions(i),namespace:new j.MongoDBNamespace(o)},this.client=n}get databaseName(){return this.s.namespace.db}get options(){return this.s.options}get secondaryOk(){return"primary"!==this.s.readPreference?.preference||!1}get readConcern(){return this.s.readConcern}get readPreference(){return null==this.s.readPreference?this.client.readPreference:this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get writeConcern(){return this.s.writeConcern}get namespace(){return this.s.namespace.toString()}get timeoutMS(){return this.s.options?.timeoutMS}async createCollection(n,o){return o=(0,j.resolveOptions)(this,o),await(0,_.createCollections)(this,n,o)}async command(n,o){return await(0,N.executeOperation)(this.client,new I.RunCommandOperation(this.s.namespace,n,(0,j.resolveOptions)(void 0,{...(0,c.resolveBSONOptions)(o),timeoutMS:o?.timeoutMS??this.timeoutMS,session:o?.session,readPreference:o?.readPreference,signal:o?.signal})))}aggregate(n=[],o){return new S.AggregationCursor(this.client,this.s.namespace,n,(0,j.resolveOptions)(this,o))}admin(){return new s.Admin(this)}collection(n,o={}){if("function"==typeof o)throw new T.MongoInvalidArgumentError("The callback form of this helper has been removed.");return new f.Collection(this,n,(0,j.resolveOptions)(this,o))}async stats(n){return await(0,N.executeOperation)(this.client,new F.DbStatsOperation(this,(0,j.resolveOptions)(this,n)))}listCollections(n={},o={}){return new A.ListCollectionsCursor(this,n,(0,j.resolveOptions)(this,o))}async renameCollection(n,o,i){return await(0,N.executeOperation)(this.client,new M.RenameOperation(this.collection(n),o,(0,j.resolveOptions)(void 0,{...i,new_collection:!0,readPreference:k.ReadPreference.primary})))}async dropCollection(n,o){return o=(0,j.resolveOptions)(this,o),await(0,D.dropCollections)(this,n,o)}async dropDatabase(n){return await(0,N.executeOperation)(this.client,new D.DropDatabaseOperation(this,(0,j.resolveOptions)(this,n)))}async collections(n){n=(0,j.resolveOptions)(this,n);return(await this.listCollections({},{...n,nameOnly:!0}).toArray()).filter(({name:n})=>!n.includes("$")).map(({name:n})=>new f.Collection(this,n,this.s.options))}async createIndex(n,o,i){return(await(0,N.executeOperation)(this.client,R.CreateIndexesOperation.fromIndexSpecification(this,n,o,i)))[0]}async removeUser(n,o){return await(0,N.executeOperation)(this.client,new P.RemoveUserOperation(this,n,(0,j.resolveOptions)(this,o)))}async setProfilingLevel(n,o){return await(0,N.executeOperation)(this.client,new B.SetProfilingLevelOperation(this,n,(0,j.resolveOptions)(this,o)))}async profilingLevel(n){return await(0,N.executeOperation)(this.client,new x.ProfilingLevelOperation(this,(0,j.resolveOptions)(this,n)))}async indexInformation(n,o){return await this.collection(n).indexInformation((0,j.resolveOptions)(this,o))}watch(n=[],o={}){return Array.isArray(n)||(o=n,n=[]),new h.ChangeStream(this,n,(0,j.resolveOptions)(this,o))}runCursorCommand(n,o){return new O.RunCommandCursor(this,n,o)}}o.Db=Db,Db.SYSTEM_NAMESPACE_COLLECTION=E.SYSTEM_NAMESPACE_COLLECTION,Db.SYSTEM_INDEX_COLLECTION=E.SYSTEM_INDEX_COLLECTION,Db.SYSTEM_PROFILE_COLLECTION=E.SYSTEM_PROFILE_COLLECTION,Db.SYSTEM_USER_COLLECTION=E.SYSTEM_USER_COLLECTION,Db.SYSTEM_COMMAND_COLLECTION=E.SYSTEM_COMMAND_COLLECTION,Db.SYSTEM_JS_COLLECTION=E.SYSTEM_JS_COLLECTION},33371:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.aws4=void 0,o.getKerberos=function getKerberos(){let n;try{n=i(85153)}catch(o){n=makeErrorModule(new s.MongoMissingDependencyError("Optional module `kerberos` not found. Please install it to enable kerberos authentication",{cause:o,dependencyName:"kerberos"}))}return n},o.getZstdLibrary=function getZstdLibrary(){let n;try{n=i(80316)}catch(o){n=makeErrorModule(new s.MongoMissingDependencyError("Optional module `@mongodb-js/zstd` not found. Please install it to enable zstd compression",{cause:o,dependencyName:"zstd"}))}return n},o.getAwsCredentialProvider=function getAwsCredentialProvider(){try{return i(72271)}catch(n){return makeErrorModule(new s.MongoMissingDependencyError("Optional module `@aws-sdk/credential-providers` not found. Please install it to enable getting aws credentials via the official sdk.",{cause:n,dependencyName:"@aws-sdk/credential-providers"}))}},o.getGcpMetadata=function getGcpMetadata(){try{return i(75220)}catch(n){return makeErrorModule(new s.MongoMissingDependencyError("Optional module `gcp-metadata` not found. Please install it to enable getting gcp credentials via the official sdk.",{cause:n,dependencyName:"gcp-metadata"}))}},o.getSnappy=function getSnappy(){try{return i(70995)}catch(n){return{kModuleError:new s.MongoMissingDependencyError("Optional module `snappy` not found. Please install it to enable snappy compression",{cause:n,dependencyName:"snappy"})}}},o.getSocks=function getSocks(){try{return i(7033)}catch(n){return{kModuleError:new s.MongoMissingDependencyError("Optional module `socks` not found. Please install it to connections over a SOCKS5 proxy",{cause:n,dependencyName:"socks"})}}},o.getMongoDBClientEncryption=function getMongoDBClientEncryption(){let n=null;try{n=i(92460)}catch(n){return{kModuleError:new s.MongoMissingDependencyError("Optional module `mongodb-client-encryption` not found. Please install it to use auto encryption or ClientEncryption.",{cause:n,dependencyName:"mongodb-client-encryption"})}}return n};const s=i(86947);function makeErrorModule(n){return new Proxy(n?{kModuleError:n}:{},{get:(o,i)=>{if("kModuleError"===i)return n;throw n},set:()=>{throw n}})}o.aws4=function loadAws4(){let n;try{n=i(9279)}catch(o){n=makeErrorModule(new s.MongoMissingDependencyError("Optional module `aws4` not found. Please install it to enable AWS authentication",{cause:o,dependencyName:"aws4"}))}return n}()},52831:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Encrypter=void 0;const s=i(72377),c=i(32568),h=i(33371),f=i(86947),E=i(13139);o.Encrypter=class Encrypter{constructor(n,o,i){if("object"!=typeof i.autoEncryption)throw new f.MongoInvalidArgumentError('Option "autoEncryption" must be specified');this.internalClient=null,this.bypassAutoEncryption=!!i.autoEncryption.bypassAutoEncryption,this.needsConnecting=!1,0===i.maxPoolSize&&null==i.autoEncryption.keyVaultClient?i.autoEncryption.keyVaultClient=n:null==i.autoEncryption.keyVaultClient&&(i.autoEncryption.keyVaultClient=this.getInternalClient(n,o,i)),this.bypassAutoEncryption?i.autoEncryption.metadataClient=void 0:0===i.maxPoolSize?i.autoEncryption.metadataClient=n:i.autoEncryption.metadataClient=this.getInternalClient(n,o,i),i.proxyHost&&(i.autoEncryption.proxyOptions={proxyHost:i.proxyHost,proxyPort:i.proxyPort,proxyUsername:i.proxyUsername,proxyPassword:i.proxyPassword}),this.autoEncrypter=new s.AutoEncrypter(n,i.autoEncryption)}getInternalClient(n,o,i){let s=this.internalClient;if(null==s){const h={};for(const n of[...Object.getOwnPropertyNames(i),...Object.getOwnPropertySymbols(i)])["autoEncryption","minPoolSize","servers","caseTranslate","dbName"].includes(n)||Reflect.set(h,n,Reflect.get(i,n));h.minPoolSize=0,s=new E.MongoClient(o,h),this.internalClient=s;for(const o of c.MONGO_CLIENT_EVENTS)for(const i of n.listeners(o))s.on(o,i);n.on("newListener",(n,o)=>{s?.on(n,o)}),this.needsConnecting=!0}return s}async connectInternalClient(){const n=this.internalClient;this.needsConnecting&&null!=n&&(this.needsConnecting=!1,await n.connect())}async close(n){let o;try{await this.autoEncrypter.close()}catch(n){o=n}const i=this.internalClient;if(null!=i&&n!==i)return await i.close();if(null!=o)throw o}static checkForMongoCrypt(){const n=(0,h.getMongoDBClientEncryption)();if("kModuleError"in n)throw new f.MongoMissingDependencyError("Auto-encryption requested, but the module is not installed. Please add `mongodb-client-encryption` as a dependency of your project",{cause:n.kModuleError,dependencyName:"mongodb-client-encryption"})}}},86947:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MongoWriteConcernError=o.MongoServerSelectionError=o.MongoSystemError=o.MongoMissingDependencyError=o.MongoMissingCredentialsError=o.MongoCompatibilityError=o.MongoInvalidArgumentError=o.MongoParseError=o.MongoNetworkTimeoutError=o.MongoNetworkError=o.MongoClientClosedError=o.MongoTopologyClosedError=o.MongoCursorExhaustedError=o.MongoServerClosedError=o.MongoCursorInUseError=o.MongoOperationTimeoutError=o.MongoUnexpectedServerResponseError=o.MongoGridFSChunkError=o.MongoGridFSStreamError=o.MongoTailableCursorError=o.MongoChangeStreamError=o.MongoClientBulkWriteExecutionError=o.MongoClientBulkWriteCursorError=o.MongoClientBulkWriteError=o.MongoGCPError=o.MongoAzureError=o.MongoOIDCError=o.MongoAWSError=o.MongoKerberosError=o.MongoExpiredSessionError=o.MongoTransactionError=o.MongoNotConnectedError=o.MongoDecompressionError=o.MongoBatchReExecutionError=o.MongoStalePrimaryError=o.MongoRuntimeError=o.MongoAPIError=o.MongoDriverError=o.MongoServerError=o.MongoError=o.MongoErrorLabel=o.GET_MORE_RESUMABLE_CODES=o.MONGODB_ERROR_CODES=o.NODE_IS_RECOVERING_ERROR_MESSAGE=o.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=o.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=void 0,o.needsRetryableWriteLabel=function needsRetryableWriteLabel(n,i,c){if(n instanceof MongoNetworkError)return!0;if(n instanceof MongoError&&(i>=9||isRetryableWriteError(n))&&!n.hasErrorLabel(o.MongoErrorLabel.HandshakeError))return!1;if(n instanceof MongoWriteConcernError){if("Mongos"===c&&i<9)return s.has(n.result.code??0);const o=n.result.writeConcernError.code??Number(n.code);return s.has(Number.isNaN(o)?0:o)}if(n instanceof MongoError)return s.has(Number(n.code));const h=o.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(n.message);if(h)return!0;if(o.NODE_IS_RECOVERING_ERROR_MESSAGE.test(n.message))return!0;return!1},o.isRetryableWriteError=isRetryableWriteError,o.isRetryableReadError=function isRetryableReadError(n){if("number"==typeof n.code&&i.has(n.code))return!0;if(n instanceof MongoNetworkError)return!0;const s=o.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(n.message);if(s)return!0;if(o.NODE_IS_RECOVERING_ERROR_MESSAGE.test(n.message))return!0;return!1},o.isNodeShuttingDownError=function isNodeShuttingDownError(n){return!("number"!=typeof n.code||!f.has(n.code))},o.isSDAMUnrecoverableError=function isSDAMUnrecoverableError(n){if(n instanceof MongoParseError||null==n)return!0;return isRecoveringError(n)||function isNotWritablePrimaryError(n){if("number"==typeof n.code)return h.has(n.code);if(isRecoveringError(n))return!1;return o.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE.test(n.message)}(n)},o.isNetworkTimeoutError=function isNetworkTimeoutError(n){return!!(n instanceof MongoNetworkError&&n.message.match(/timed out/))},o.isResumableError=function isResumableError(n,i){if(null==n||!(n instanceof MongoError))return!1;if(n instanceof MongoNetworkError)return!0;if(null!=i&&i>=9)return n.code===o.MONGODB_ERROR_CODES.CursorNotFound||n.hasErrorLabel(o.MongoErrorLabel.ResumableChangeStreamError);if("number"==typeof n.code)return o.GET_MORE_RESUMABLE_CODES.has(n.code);return!1},o.LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE=new RegExp("not master","i"),o.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE=new RegExp("not master or secondary","i"),o.NODE_IS_RECOVERING_ERROR_MESSAGE=new RegExp("node is recovering","i"),o.MONGODB_ERROR_CODES=Object.freeze({HostUnreachable:6,HostNotFound:7,AuthenticationFailed:18,NetworkTimeout:89,ShutdownInProgress:91,PrimarySteppedDown:189,ExceededTimeLimit:262,SocketException:9001,NotWritablePrimary:10107,InterruptedAtShutdown:11600,InterruptedDueToReplStateChange:11602,NotPrimaryNoSecondaryOk:13435,NotPrimaryOrSecondary:13436,StaleShardVersion:63,StaleEpoch:150,StaleConfig:13388,RetryChangeStream:234,FailedToSatisfyReadPreference:133,CursorNotFound:43,LegacyNotPrimary:10058,WriteConcernTimeout:64,NamespaceNotFound:26,IllegalOperation:20,MaxTimeMSExpired:50,UnknownReplWriteConcern:79,UnsatisfiableWriteConcern:100,Reauthenticate:391,ReadConcernMajorityNotAvailableYet:134}),o.GET_MORE_RESUMABLE_CODES=new Set([o.MONGODB_ERROR_CODES.HostUnreachable,o.MONGODB_ERROR_CODES.HostNotFound,o.MONGODB_ERROR_CODES.NetworkTimeout,o.MONGODB_ERROR_CODES.ShutdownInProgress,o.MONGODB_ERROR_CODES.PrimarySteppedDown,o.MONGODB_ERROR_CODES.ExceededTimeLimit,o.MONGODB_ERROR_CODES.SocketException,o.MONGODB_ERROR_CODES.NotWritablePrimary,o.MONGODB_ERROR_CODES.InterruptedAtShutdown,o.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,o.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,o.MONGODB_ERROR_CODES.NotPrimaryOrSecondary,o.MONGODB_ERROR_CODES.StaleShardVersion,o.MONGODB_ERROR_CODES.StaleEpoch,o.MONGODB_ERROR_CODES.StaleConfig,o.MONGODB_ERROR_CODES.RetryChangeStream,o.MONGODB_ERROR_CODES.FailedToSatisfyReadPreference,o.MONGODB_ERROR_CODES.CursorNotFound]),o.MongoErrorLabel=Object.freeze({RetryableWriteError:"RetryableWriteError",TransientTransactionError:"TransientTransactionError",UnknownTransactionCommitResult:"UnknownTransactionCommitResult",ResumableChangeStreamError:"ResumableChangeStreamError",HandshakeError:"HandshakeError",ResetPool:"ResetPool",PoolRequstedRetry:"PoolRequstedRetry",InterruptInUseConnections:"InterruptInUseConnections",NoWritesPerformed:"NoWritesPerformed"});class MongoError extends Error{get errorLabels(){return Array.from(this.errorLabelSet)}constructor(n,o){super(n,o),this.errorLabelSet=new Set}static buildErrorMessage(n){return"string"==typeof n?n:function isAggregateError(n){return null!=n&&"object"==typeof n&&"errors"in n&&Array.isArray(n.errors)}(n)&&0===n.message.length?0===n.errors.length?"AggregateError has an empty errors array. Please check the `cause` property for more information.":n.errors.map(({message:n})=>n).join(", "):null!=n&&"object"==typeof n&&"message"in n&&"string"==typeof n.message?n.message:"empty error message"}get name(){return"MongoError"}get errmsg(){return this.message}hasErrorLabel(n){return this.errorLabelSet.has(n)}addErrorLabel(n){this.errorLabelSet.add(n)}}o.MongoError=MongoError;class MongoServerError extends MongoError{constructor(n){if(super(n.message||n.errmsg||n.$err||"n/a"),n.errorLabels)for(const o of n.errorLabels)this.addErrorLabel(o);this.errorResponse=n;for(const o in n)"errorLabels"!==o&&"errmsg"!==o&&"message"!==o&&"errorResponse"!==o&&(this[o]=n[o])}get name(){return"MongoServerError"}}o.MongoServerError=MongoServerError;class MongoDriverError extends MongoError{constructor(n,o){super(n,o)}get name(){return"MongoDriverError"}}o.MongoDriverError=MongoDriverError;class MongoAPIError extends MongoDriverError{constructor(n,o){super(n,o)}get name(){return"MongoAPIError"}}o.MongoAPIError=MongoAPIError;class MongoRuntimeError extends MongoDriverError{constructor(n,o){super(n,o)}get name(){return"MongoRuntimeError"}}o.MongoRuntimeError=MongoRuntimeError;o.MongoStalePrimaryError=class MongoStalePrimaryError extends MongoRuntimeError{constructor(n,o){super(n,o)}get name(){return"MongoStalePrimaryError"}};o.MongoBatchReExecutionError=class MongoBatchReExecutionError extends MongoAPIError{constructor(n="This batch has already been executed, create new batch to execute"){super(n)}get name(){return"MongoBatchReExecutionError"}};o.MongoDecompressionError=class MongoDecompressionError extends MongoRuntimeError{constructor(n){super(n)}get name(){return"MongoDecompressionError"}};o.MongoNotConnectedError=class MongoNotConnectedError extends MongoAPIError{constructor(n){super(n)}get name(){return"MongoNotConnectedError"}};o.MongoTransactionError=class MongoTransactionError extends MongoAPIError{constructor(n){super(n)}get name(){return"MongoTransactionError"}};o.MongoExpiredSessionError=class MongoExpiredSessionError extends MongoAPIError{constructor(n="Cannot use a session that has ended"){super(n)}get name(){return"MongoExpiredSessionError"}};o.MongoKerberosError=class MongoKerberosError extends MongoRuntimeError{constructor(n){super(n)}get name(){return"MongoKerberosError"}};o.MongoAWSError=class MongoAWSError extends MongoRuntimeError{constructor(n,o){super(n,o)}get name(){return"MongoAWSError"}};class MongoOIDCError extends MongoRuntimeError{constructor(n){super(n)}get name(){return"MongoOIDCError"}}o.MongoOIDCError=MongoOIDCError;o.MongoAzureError=class MongoAzureError extends MongoOIDCError{constructor(n){super(n)}get name(){return"MongoAzureError"}};o.MongoGCPError=class MongoGCPError extends MongoOIDCError{constructor(n){super(n)}get name(){return"MongoGCPError"}};o.MongoClientBulkWriteError=class MongoClientBulkWriteError extends MongoServerError{constructor(n){super(n),this.writeConcernErrors=[],this.writeErrors=new Map}get name(){return"MongoClientBulkWriteError"}};o.MongoClientBulkWriteCursorError=class MongoClientBulkWriteCursorError extends MongoRuntimeError{constructor(n){super(n)}get name(){return"MongoClientBulkWriteCursorError"}};o.MongoClientBulkWriteExecutionError=class MongoClientBulkWriteExecutionError extends MongoRuntimeError{constructor(n){super(n)}get name(){return"MongoClientBulkWriteExecutionError"}};o.MongoChangeStreamError=class MongoChangeStreamError extends MongoRuntimeError{constructor(n){super(n)}get name(){return"MongoChangeStreamError"}};o.MongoTailableCursorError=class MongoTailableCursorError extends MongoAPIError{constructor(n="Tailable cursor does not support this operation"){super(n)}get name(){return"MongoTailableCursorError"}};o.MongoGridFSStreamError=class MongoGridFSStreamError extends MongoRuntimeError{constructor(n){super(n)}get name(){return"MongoGridFSStreamError"}};o.MongoGridFSChunkError=class MongoGridFSChunkError extends MongoRuntimeError{constructor(n){super(n)}get name(){return"MongoGridFSChunkError"}};o.MongoUnexpectedServerResponseError=class MongoUnexpectedServerResponseError extends MongoRuntimeError{constructor(n,o){super(n,o)}get name(){return"MongoUnexpectedServerResponseError"}};o.MongoOperationTimeoutError=class MongoOperationTimeoutError extends MongoDriverError{get name(){return"MongoOperationTimeoutError"}};o.MongoCursorInUseError=class MongoCursorInUseError extends MongoAPIError{constructor(n="Cursor is already initialized"){super(n)}get name(){return"MongoCursorInUseError"}};o.MongoServerClosedError=class MongoServerClosedError extends MongoAPIError{constructor(n="Server is closed"){super(n)}get name(){return"MongoServerClosedError"}};o.MongoCursorExhaustedError=class MongoCursorExhaustedError extends MongoAPIError{constructor(n){super(n||"Cursor is exhausted")}get name(){return"MongoCursorExhaustedError"}};o.MongoTopologyClosedError=class MongoTopologyClosedError extends MongoAPIError{constructor(n="Topology is closed"){super(n)}get name(){return"MongoTopologyClosedError"}};o.MongoClientClosedError=class MongoClientClosedError extends MongoAPIError{constructor(){super("Operation interrupted because client was closed")}get name(){return"MongoClientClosedError"}};class MongoNetworkError extends MongoError{constructor(n,o){super(n,{cause:o?.cause}),this.beforeHandshake=!!o?.beforeHandshake}get name(){return"MongoNetworkError"}}o.MongoNetworkError=MongoNetworkError;o.MongoNetworkTimeoutError=class MongoNetworkTimeoutError extends MongoNetworkError{constructor(n,o){super(n,o)}get name(){return"MongoNetworkTimeoutError"}};class MongoParseError extends MongoDriverError{constructor(n){super(n)}get name(){return"MongoParseError"}}o.MongoParseError=MongoParseError;o.MongoInvalidArgumentError=class MongoInvalidArgumentError extends MongoAPIError{constructor(n,o){super(n,o)}get name(){return"MongoInvalidArgumentError"}};o.MongoCompatibilityError=class MongoCompatibilityError extends MongoAPIError{constructor(n){super(n)}get name(){return"MongoCompatibilityError"}};o.MongoMissingCredentialsError=class MongoMissingCredentialsError extends MongoAPIError{constructor(n){super(n)}get name(){return"MongoMissingCredentialsError"}};o.MongoMissingDependencyError=class MongoMissingDependencyError extends MongoAPIError{constructor(n,o){super(n,o),this.dependencyName=o.dependencyName}get name(){return"MongoMissingDependencyError"}};class MongoSystemError extends MongoError{constructor(n,o){o&&o.error?super(MongoError.buildErrorMessage(o.error.message||o.error),{cause:o.error}):super(n),o&&(this.reason=o),this.code=o.error?.code}get name(){return"MongoSystemError"}}o.MongoSystemError=MongoSystemError;o.MongoServerSelectionError=class MongoServerSelectionError extends MongoSystemError{constructor(n,o){super(n,o)}get name(){return"MongoServerSelectionError"}};class MongoWriteConcernError extends MongoServerError{constructor(n){super({...n.writeConcernError,...n}),this.errInfo=n.writeConcernError.errInfo,this.result=n}get name(){return"MongoWriteConcernError"}}o.MongoWriteConcernError=MongoWriteConcernError;const i=new Set([o.MONGODB_ERROR_CODES.HostUnreachable,o.MONGODB_ERROR_CODES.HostNotFound,o.MONGODB_ERROR_CODES.NetworkTimeout,o.MONGODB_ERROR_CODES.ShutdownInProgress,o.MONGODB_ERROR_CODES.PrimarySteppedDown,o.MONGODB_ERROR_CODES.SocketException,o.MONGODB_ERROR_CODES.NotWritablePrimary,o.MONGODB_ERROR_CODES.InterruptedAtShutdown,o.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,o.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,o.MONGODB_ERROR_CODES.NotPrimaryOrSecondary,o.MONGODB_ERROR_CODES.ExceededTimeLimit,o.MONGODB_ERROR_CODES.ReadConcernMajorityNotAvailableYet]),s=i;function isRetryableWriteError(n){return n.hasErrorLabel(o.MongoErrorLabel.RetryableWriteError)||n.hasErrorLabel(o.MongoErrorLabel.PoolRequstedRetry)}const c=new Set([o.MONGODB_ERROR_CODES.ShutdownInProgress,o.MONGODB_ERROR_CODES.PrimarySteppedDown,o.MONGODB_ERROR_CODES.InterruptedAtShutdown,o.MONGODB_ERROR_CODES.InterruptedDueToReplStateChange,o.MONGODB_ERROR_CODES.NotPrimaryOrSecondary]),h=new Set([o.MONGODB_ERROR_CODES.NotWritablePrimary,o.MONGODB_ERROR_CODES.NotPrimaryNoSecondaryOk,o.MONGODB_ERROR_CODES.LegacyNotPrimary]),f=new Set([o.MONGODB_ERROR_CODES.InterruptedAtShutdown,o.MONGODB_ERROR_CODES.ShutdownInProgress]);function isRecoveringError(n){return"number"==typeof n.code?c.has(n.code):o.LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE.test(n.message)||o.NODE_IS_RECOVERING_ERROR_MESSAGE.test(n.message)}},8682:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Explain=o.ExplainVerbosity=void 0,o.validateExplainTimeoutOptions=function validateExplainTimeoutOptions(n,o){const{maxTimeMS:i,timeoutMS:c}=n;if(null!=c&&(null!=i||null!=o?.maxTimeMS))throw new s.MongoAPIError("Cannot use maxTimeMS with timeoutMS for explain commands.")},o.decorateWithExplain=function decorateWithExplain(n,o){const{verbosity:i,maxTimeMS:s}=o,c={explain:n,verbosity:i};"number"==typeof s&&(c.maxTimeMS=s);return c};const s=i(86947);o.ExplainVerbosity=Object.freeze({queryPlanner:"queryPlanner",queryPlannerExtended:"queryPlannerExtended",executionStats:"executionStats",allPlansExecution:"allPlansExecution"});class Explain{constructor(n,i){this.verbosity="boolean"==typeof n?n?o.ExplainVerbosity.allPlansExecution:o.ExplainVerbosity.queryPlanner:n,this.maxTimeMS=i}static fromOptions({explain:n}={}){if(null==n)return;if("boolean"==typeof n||"string"==typeof n)return new Explain(n);const{verbosity:o,maxTimeMS:i}=n;return new Explain(o,i)}}o.Explain=Explain},48433:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GridFSBucketReadStream=void 0;const s=i(2203),c=i(65017),h=i(86947),f=i(38286);class GridFSBucketReadStream extends s.Readable{constructor(n,o,i,s,c){super({emitClose:!0}),this.s={bytesToTrim:0,bytesToSkip:0,bytesRead:0,chunks:n,expected:0,files:o,filter:s,init:!1,expectedEnd:0,options:{start:0,end:0,...c},readPreference:i,timeoutContext:null!=c?.timeoutMS?new f.CSOTTimeoutContext({timeoutMS:c.timeoutMS,serverSelectionTimeoutMS:0}):void 0}}_read(){this.destroyed||function waitForFile(n,o){if(n.s.file)return o();n.s.init||(!function init(n){const o={};n.s.readPreference&&(o.readPreference=n.s.readPreference);n.s.options&&n.s.options.sort&&(o.sort=n.s.options.sort);n.s.options&&n.s.options.skip&&(o.skip=n.s.options.skip);const handleReadResult=o=>{if(n.destroyed)return;if(!o){const o=`FileNotFound: file ${n.s.filter._id?n.s.filter._id.toString():n.s.filter.filename} was not found`,i=new h.MongoRuntimeError(o);return i.code="ENOENT",n.destroy(i)}if(o.length<=0)return void n.push(null);if(n.destroyed)return void n.destroy();try{n.s.bytesToSkip=function handleStartOption(n,o,i){if(i&&null!=i.start){if(i.start>o.length)throw new h.MongoInvalidArgumentError(`Stream start (${i.start}) must not be more than the length of the file (${o.length})`);if(i.start<0)throw new h.MongoInvalidArgumentError(`Stream start (${i.start}) must not be negative`);if(null!=i.end&&i.end<i.start)throw new h.MongoInvalidArgumentError(`Stream start (${i.start}) must not be greater than stream end (${i.end})`);return n.s.bytesRead=Math.floor(i.start/o.chunkSize)*o.chunkSize,n.s.expected=Math.floor(i.start/o.chunkSize),i.start-n.s.bytesRead}throw new h.MongoInvalidArgumentError("Start option must be defined")}(n,o,n.s.options)}catch(o){return n.destroy(o)}const i={files_id:o._id};if(n.s.options&&null!=n.s.options.start){const s=Math.floor(n.s.options.start/o.chunkSize);s>0&&(i.n={$gte:s})}let s;try{s=n.s.timeoutContext?.getRemainingTimeMSOrThrow(`Download timed out after ${n.s.timeoutContext?.timeoutMS}ms`)}catch(o){return n.destroy(o)}n.s.cursor=n.s.chunks.find(i,{timeoutMode:null!=n.s.options.timeoutMS?c.CursorTimeoutMode.LIFETIME:void 0,timeoutMS:s}).sort({n:1}),n.s.readPreference&&n.s.cursor.withReadPreference(n.s.readPreference),n.s.expectedEnd=Math.ceil(o.length/o.chunkSize),n.s.file=o;try{n.s.bytesToTrim=function handleEndOption(n,o,i,s){if(s&&null!=s.end){if(s.end>o.length)throw new h.MongoInvalidArgumentError(`Stream end (${s.end}) must not be more than the length of the file (${o.length})`);if(null==s.start||s.start<0)throw new h.MongoInvalidArgumentError(`Stream end (${s.end}) must not be negative`);const c=null!=s.start?Math.floor(s.start/o.chunkSize):0;return i.limit(Math.ceil(s.end/o.chunkSize)-c),n.s.expectedEnd=Math.ceil(s.end/o.chunkSize),Math.ceil(s.end/o.chunkSize)*o.chunkSize-s.end}throw new h.MongoInvalidArgumentError("End option must be defined")}(n,o,n.s.cursor,n.s.options)}catch(o){return n.destroy(o)}n.emit(GridFSBucketReadStream.FILE,o)};let i;try{i=n.s.timeoutContext?.getRemainingTimeMSOrThrow(`Download timed out after ${n.s.timeoutContext?.timeoutMS}ms`)}catch(o){return void(n.destroyed||n.destroy(o))}o.timeoutMS=i,n.s.files.findOne(n.s.filter,o).then(handleReadResult,o=>{n.destroyed||n.destroy(o)})}(n),n.s.init=!0);n.once("file",()=>{o()})}(this,()=>function doRead(n){if(n.destroyed)return;if(!n.s.cursor)return;if(!n.s.file)return;const handleReadResult=o=>{if(n.destroyed)return;if(!o)return n.push(null),void n.s.cursor?.close().then(void 0,o=>n.destroy(o));if(!n.s.file)return;const i=n.s.file.length-n.s.bytesRead,s=n.s.expected++,c=Math.min(n.s.file.chunkSize,i);if(o.n>s)return n.destroy(new h.MongoGridFSChunkError(`ChunkIsMissing: Got unexpected n: ${o.n}, expected: ${s}`));if(o.n<s)return n.destroy(new h.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${o.n}, expected: ${s}`));let f=Buffer.isBuffer(o.data)?o.data:o.data.buffer;if(f.byteLength!==c)return i<=0?n.destroy(new h.MongoGridFSChunkError(`ExtraChunk: Got unexpected n: ${o.n}, expected file length ${n.s.file.length} bytes but already read ${n.s.bytesRead} bytes`)):n.destroy(new h.MongoGridFSChunkError(`ChunkIsWrongSize: Got unexpected length: ${f.byteLength}, expected: ${c}`));if(n.s.bytesRead+=f.byteLength,0===f.byteLength)return n.push(null);let E=null,S=null;null!=n.s.bytesToSkip&&(E=n.s.bytesToSkip,n.s.bytesToSkip=0);const A=s===n.s.expectedEnd-1,O=n.s.options.end-n.s.bytesToSkip;A&&null!=n.s.bytesToTrim?S=n.s.file.chunkSize-n.s.bytesToTrim:n.s.options.end&&O<o.data.byteLength&&(S=O),null==E&&null==S||(f=f.slice(E||0,S||f.byteLength)),n.push(f)};n.s.cursor.next().then(handleReadResult,o=>{n.destroyed||n.destroy(o)})}(this))}start(n=0){return throwIfInitialized(this),this.s.options.start=n,this}end(n=0){return throwIfInitialized(this),this.s.options.end=n,this}async abort(){this.push(null),this.destroy();const n=this.s.timeoutContext?.getRemainingTimeMSOrThrow();await(this.s.cursor?.close({timeoutMS:n}))}}function throwIfInitialized(n){if(n.s.init)throw new h.MongoGridFSStreamError("Options cannot be changed after the stream is initialized")}o.GridFSBucketReadStream=GridFSBucketReadStream,GridFSBucketReadStream.FILE="file"},35229:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GridFSBucket=void 0;const s=i(86947),c=i(96327),h=i(38286),f=i(52060),E=i(98349),S=i(48433),A=i(92880),O={bucketName:"fs",chunkSizeBytes:261120};class GridFSBucket extends c.TypedEventEmitter{constructor(n,o){super(),this.on("error",f.noop),this.setMaxListeners(0);const i=(0,f.resolveOptions)(n,{...O,...o,writeConcern:E.WriteConcern.fromOptions(o)});this.s={db:n,options:i,_chunksCollection:n.collection(i.bucketName+".chunks"),_filesCollection:n.collection(i.bucketName+".files"),checkedIndexes:!1,calledOpenUploadStream:!1}}openUploadStream(n,o){return new A.GridFSBucketWriteStream(this,n,{timeoutMS:this.s.options.timeoutMS,...o})}openUploadStreamWithId(n,o,i){return new A.GridFSBucketWriteStream(this,o,{timeoutMS:this.s.options.timeoutMS,...i,id:n})}openDownloadStream(n,o){return new S.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{_id:n},{timeoutMS:this.s.options.timeoutMS,...o})}async delete(n,o){const{timeoutMS:i}=(0,f.resolveOptions)(this.s.db,o);let c;i&&(c=new h.CSOTTimeoutContext({timeoutMS:i,serverSelectionTimeoutMS:this.s.db.client.s.options.serverSelectionTimeoutMS}));const{deletedCount:E}=await this.s._filesCollection.deleteOne({_id:n},{timeoutMS:c?.remainingTimeMS}),S=c?.remainingTimeMS;if(null!=S&&S<=0)throw new s.MongoOperationTimeoutError(`Timed out after ${i}ms`);if(await this.s._chunksCollection.deleteMany({files_id:n},{timeoutMS:S}),0===E)throw new s.MongoRuntimeError(`File not found for id ${n}`)}find(n={},o={}){return this.s._filesCollection.find(n,o)}openDownloadStreamByName(n,o){let i,s={uploadDate:-1};return o&&null!=o.revision&&(o.revision>=0?(s={uploadDate:1},i=o.revision):i=-o.revision-1),new S.GridFSBucketReadStream(this.s._chunksCollection,this.s._filesCollection,this.s.options.readPreference,{filename:n},{timeoutMS:this.s.options.timeoutMS,...o,sort:s,skip:i})}async rename(n,o,i){const c={_id:n},h={$set:{filename:o}},{matchedCount:f}=await this.s._filesCollection.updateOne(c,h,i);if(0===f)throw new s.MongoRuntimeError(`File with id ${n} not found`)}async drop(n){const{timeoutMS:o}=(0,f.resolveOptions)(this.s.db,n);let i;if(o&&(i=new h.CSOTTimeoutContext({timeoutMS:o,serverSelectionTimeoutMS:this.s.db.client.s.options.serverSelectionTimeoutMS})),i){await this.s._filesCollection.drop({timeoutMS:i.remainingTimeMS});const n=i.getRemainingTimeMSOrThrow(`Timed out after ${o}ms`);await this.s._chunksCollection.drop({timeoutMS:n})}else await this.s._filesCollection.drop(),await this.s._chunksCollection.drop()}}o.GridFSBucket=GridFSBucket,GridFSBucket.INDEX="index"},92880:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GridFSBucketWriteStream=void 0;const s=i(2203),c=i(63403),h=i(65017),f=i(86947),E=i(38286),S=i(52060),A=i(98349);class GridFSBucketWriteStream extends s.Writable{constructor(n,o,i){super(),this.gridFSFile=null,i=i??{},this.bucket=n,this.chunks=n.s._chunksCollection,this.filename=o,this.files=n.s._filesCollection,this.options=i,this.writeConcern=A.WriteConcern.fromOptions(i)||n.s.options.writeConcern,this.done=!1,this.id=i.id?i.id:new c.ObjectId,this.chunkSizeBytes=i.chunkSizeBytes||this.bucket.s.options.chunkSizeBytes,this.bufToStore=Buffer.alloc(this.chunkSizeBytes),this.length=0,this.n=0,this.pos=0,this.state={streamEnd:!1,outstandingRequests:0,errored:!1,aborted:!1},null!=i.timeoutMS&&(this.timeoutContext=new E.CSOTTimeoutContext({timeoutMS:i.timeoutMS,serverSelectionTimeoutMS:(0,S.resolveTimeoutOptions)(this.bucket.s.db.client,{}).serverSelectionTimeoutMS}))}_construct(n){if(this.bucket.s.calledOpenUploadStream)return process.nextTick(n);this.bucket.s.calledOpenUploadStream=!0,async function checkIndexes(n){let o=n.timeoutContext?.getRemainingTimeMSOrThrow(`Upload timed out after ${n.timeoutContext?.timeoutMS}ms`);if(null!=await n.files.findOne({},{projection:{_id:1},timeoutMS:o}))return;const i={filename:1,uploadDate:1};let s;o=n.timeoutContext?.getRemainingTimeMSOrThrow(`Upload timed out after ${n.timeoutContext?.timeoutMS}ms`);const c={timeoutMode:null!=o?h.CursorTimeoutMode.LIFETIME:void 0,timeoutMS:o};try{s=await n.files.listIndexes(c).toArray()}catch(n){if(!(n instanceof f.MongoError&&n.code===f.MONGODB_ERROR_CODES.NamespaceNotFound))throw n;s=[]}s.find(n=>2===Object.keys(n.key).length&&1===n.key.filename&&1===n.key.uploadDate)||(o=n.timeoutContext?.getRemainingTimeMSOrThrow(`Upload timed out after ${n.timeoutContext?.timeoutMS}ms`),await n.files.createIndex(i,{background:!1,timeoutMS:o}));await async function checkChunksIndex(n){const o={files_id:1,n:1};let i,s;i=n.timeoutContext?.getRemainingTimeMSOrThrow(`Upload timed out after ${n.timeoutContext?.timeoutMS}ms`);try{s=await n.chunks.listIndexes({timeoutMode:null!=i?h.CursorTimeoutMode.LIFETIME:void 0,timeoutMS:i}).toArray()}catch(n){if(!(n instanceof f.MongoError&&n.code===f.MONGODB_ERROR_CODES.NamespaceNotFound))throw n;s=[]}const c=!!s.find(n=>2===Object.keys(n.key).length&&1===n.key.files_id&&1===n.key.n);c||(i=n.timeoutContext?.getRemainingTimeMSOrThrow(`Upload timed out after ${n.timeoutContext?.timeoutMS}ms`),await n.chunks.createIndex(o,{...n.writeConcern,background:!0,unique:!0,timeoutMS:i}))}(n)}(this).then(()=>{this.bucket.s.checkedIndexes=!0,this.bucket.emit("index"),n()},o=>{if(o instanceof f.MongoOperationTimeoutError)return handleError(this,o,n);(0,S.squashError)(o),n()})}_write(n,o,i){!function doWrite(n,o,i,s){if(isAborted(n,s))return;const c=Buffer.isBuffer(o)?o:Buffer.from(o,i);if(n.length+=c.length,n.pos+c.length<n.chunkSizeBytes)return c.copy(n.bufToStore,n.pos),n.pos+=c.length,void process.nextTick(s);let h=c.length,E=n.chunkSizeBytes-n.pos,S=Math.min(E,c.length),A=0;for(;h>0;){const o=c.length-h;let i;if(c.copy(n.bufToStore,n.pos,o,o+S),n.pos+=S,E-=S,0===E){i=createChunkDoc(n.id,n.n,Buffer.from(n.bufToStore));const o=n.timeoutContext?.remainingTimeMS;if(null!=o&&o<=0)return handleError(n,new f.MongoOperationTimeoutError(`Upload timed out after ${n.timeoutContext?.timeoutMS}ms`),s);if(++n.state.outstandingRequests,++A,isAborted(n,s))return;n.chunks.insertOne(i,{writeConcern:n.writeConcern,timeoutMS:o}).then(()=>{--n.state.outstandingRequests,--A,A||checkDone(n,s)},o=>handleError(n,o,s)),E=n.chunkSizeBytes,n.pos=0,++n.n}h-=S,S=Math.min(E,h)}}(this,n,o,i)}_final(n){if(this.state.streamEnd)return process.nextTick(n);this.state.streamEnd=!0,function writeRemnant(n,o){if(0===n.pos)return checkDone(n,o);const i=Buffer.alloc(n.pos);n.bufToStore.copy(i,0,0,n.pos);const s=createChunkDoc(n.id,n.n,i);if(isAborted(n,o))return;const c=n.timeoutContext?.remainingTimeMS;if(null!=c&&c<=0)return handleError(n,new f.MongoOperationTimeoutError(`Upload timed out after ${n.timeoutContext?.timeoutMS}ms`),o);++n.state.outstandingRequests,n.chunks.insertOne(s,{writeConcern:n.writeConcern,timeoutMS:c}).then(()=>{--n.state.outstandingRequests,checkDone(n,o)},i=>handleError(n,i,o))}(this,n)}async abort(){if(this.state.streamEnd)throw new f.MongoAPIError("Cannot abort a stream that has already completed");if(this.state.aborted)throw new f.MongoAPIError("Cannot call abort() on a stream twice");this.state.aborted=!0;const n=this.timeoutContext?.getRemainingTimeMSOrThrow(`Upload timed out after ${this.timeoutContext?.timeoutMS}ms`);await this.chunks.deleteMany({files_id:this.id},{timeoutMS:n})}}function handleError(n,o,i){n.state.errored?process.nextTick(i):(n.state.errored=!0,process.nextTick(i,o))}function createChunkDoc(n,o,i){return{_id:new c.ObjectId,files_id:n,n:o,data:i}}function checkDone(n,o){if(n.done)return process.nextTick(o);if(n.state.streamEnd&&0===n.state.outstandingRequests&&!n.state.errored){n.done=!0;const i=function createFilesDoc(n,o,i,s,c,h,f){const E={_id:n,length:o,chunkSize:i,uploadDate:new Date,filename:s};c&&(E.contentType=c);h&&(E.aliases=h);f&&(E.metadata=f);return E}(n.id,n.length,n.chunkSizeBytes,n.filename,n.options.contentType,n.options.aliases,n.options.metadata);if(isAborted(n,o))return;const s=n.timeoutContext?.remainingTimeMS;return null!=s&&s<=0?handleError(n,new f.MongoOperationTimeoutError(`Upload timed out after ${n.timeoutContext?.timeoutMS}ms`),o):void n.files.insertOne(i,{writeConcern:n.writeConcern,timeoutMS:s}).then(()=>{n.gridFSFile=i,o()},i=>handleError(n,i,o))}process.nextTick(o)}function isAborted(n,o){return!!n.state.aborted&&(process.nextTick(o,new f.MongoAPIError("Stream has been aborted")),!0)}o.GridFSBucketWriteStream=GridFSBucketWriteStream},45009:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MongoRuntimeError=o.MongoParseError=o.MongoOperationTimeoutError=o.MongoOIDCError=o.MongoNotConnectedError=o.MongoNetworkTimeoutError=o.MongoNetworkError=o.MongoMissingDependencyError=o.MongoMissingCredentialsError=o.MongoKerberosError=o.MongoInvalidArgumentError=o.MongoGridFSStreamError=o.MongoGridFSChunkError=o.MongoGCPError=o.MongoExpiredSessionError=o.MongoError=o.MongoDriverError=o.MongoDecompressionError=o.MongoCursorInUseError=o.MongoCursorExhaustedError=o.MongoCompatibilityError=o.MongoClientClosedError=o.MongoClientBulkWriteExecutionError=o.MongoClientBulkWriteError=o.MongoClientBulkWriteCursorError=o.MongoChangeStreamError=o.MongoBatchReExecutionError=o.MongoAzureError=o.MongoAWSError=o.MongoAPIError=o.ExplainableCursor=o.ChangeStreamCursor=o.ClientEncryption=o.MongoBulkWriteError=o.UUID=o.Timestamp=o.ObjectId=o.MinKey=o.MaxKey=o.Long=o.Int32=o.Double=o.Decimal128=o.DBRef=o.Code=o.BSONType=o.BSONSymbol=o.BSONRegExp=o.Binary=o.BSON=void 0,o.CommandFailedEvent=o.WriteConcern=o.ReadPreference=o.ReadConcern=o.TopologyType=o.ServerType=o.ReadPreferenceMode=o.ReadConcernLevel=o.ProfilingLevel=o.ReturnDocument=o.SeverityLevel=o.MongoLoggableComponent=o.ServerApiVersion=o.ExplainVerbosity=o.MongoErrorLabel=o.CursorTimeoutMode=o.CURSOR_FLAGS=o.Compressor=o.AuthMechanism=o.GSSAPICanonicalizationValue=o.AutoEncryptionLoggerLevel=o.BatchType=o.UnorderedBulkOperation=o.OrderedBulkOperation=o.MongoClient=o.ListIndexesCursor=o.ListCollectionsCursor=o.GridFSBucketWriteStream=o.GridFSBucketReadStream=o.GridFSBucket=o.FindCursor=o.Db=o.Collection=o.ClientSession=o.ChangeStream=o.CancellationToken=o.AggregationCursor=o.Admin=o.AbstractCursor=o.configureExplicitResourceManagement=o.MongoWriteConcernError=o.MongoUnexpectedServerResponseError=o.MongoTransactionError=o.MongoTopologyClosedError=o.MongoTailableCursorError=o.MongoSystemError=o.MongoStalePrimaryError=o.MongoServerSelectionError=o.MongoServerError=o.MongoServerClosedError=void 0,o.MongoClientAuthProviders=o.MongoCryptKMSRequestNetworkTimeoutError=o.MongoCryptInvalidArgumentError=o.MongoCryptError=o.MongoCryptCreateEncryptedCollectionError=o.MongoCryptCreateDataKeyError=o.MongoCryptAzureKMSRequestError=o.SrvPollingEvent=o.WaitingForSuitableServerEvent=o.ServerSelectionSucceededEvent=o.ServerSelectionStartedEvent=o.ServerSelectionFailedEvent=o.ServerSelectionEvent=o.TopologyOpeningEvent=o.TopologyDescriptionChangedEvent=o.TopologyClosedEvent=o.ServerOpeningEvent=o.ServerHeartbeatSucceededEvent=o.ServerHeartbeatStartedEvent=o.ServerHeartbeatFailedEvent=o.ServerDescriptionChangedEvent=o.ServerClosedEvent=o.ConnectionReadyEvent=o.ConnectionPoolReadyEvent=o.ConnectionPoolMonitoringEvent=o.ConnectionPoolCreatedEvent=o.ConnectionPoolClosedEvent=o.ConnectionPoolClearedEvent=o.ConnectionCreatedEvent=o.ConnectionClosedEvent=o.ConnectionCheckOutStartedEvent=o.ConnectionCheckOutFailedEvent=o.ConnectionCheckedOutEvent=o.ConnectionCheckedInEvent=o.CommandSucceededEvent=o.CommandStartedEvent=void 0;const s=i(47306);Object.defineProperty(o,"Admin",{enumerable:!0,get:function(){return s.Admin}});const c=i(42795);Object.defineProperty(o,"OrderedBulkOperation",{enumerable:!0,get:function(){return c.OrderedBulkOperation}});const h=i(5702);Object.defineProperty(o,"UnorderedBulkOperation",{enumerable:!0,get:function(){return h.UnorderedBulkOperation}});const f=i(9272);Object.defineProperty(o,"ChangeStream",{enumerable:!0,get:function(){return f.ChangeStream}});const E=i(36653);Object.defineProperty(o,"Collection",{enumerable:!0,get:function(){return E.Collection}});const S=i(65017);Object.defineProperty(o,"AbstractCursor",{enumerable:!0,get:function(){return S.AbstractCursor}});const A=i(24091);Object.defineProperty(o,"AggregationCursor",{enumerable:!0,get:function(){return A.AggregationCursor}});const O=i(79614);Object.defineProperty(o,"FindCursor",{enumerable:!0,get:function(){return O.FindCursor}});const T=i(63537);Object.defineProperty(o,"ListCollectionsCursor",{enumerable:!0,get:function(){return T.ListCollectionsCursor}});const _=i(5058);Object.defineProperty(o,"ListIndexesCursor",{enumerable:!0,get:function(){return _.ListIndexesCursor}});const D=i(90263);Object.defineProperty(o,"Db",{enumerable:!0,get:function(){return D.Db}});const N=i(35229);Object.defineProperty(o,"GridFSBucket",{enumerable:!0,get:function(){return N.GridFSBucket}});const R=i(48433);Object.defineProperty(o,"GridFSBucketReadStream",{enumerable:!0,get:function(){return R.GridFSBucketReadStream}});const x=i(92880);Object.defineProperty(o,"GridFSBucketWriteStream",{enumerable:!0,get:function(){return x.GridFSBucketWriteStream}});const P=i(13139);Object.defineProperty(o,"MongoClient",{enumerable:!0,get:function(){return P.MongoClient}});const M=i(96327);Object.defineProperty(o,"CancellationToken",{enumerable:!0,get:function(){return M.CancellationToken}});const I=i(94452);Object.defineProperty(o,"ClientSession",{enumerable:!0,get:function(){return I.ClientSession}});var B=i(63403);Object.defineProperty(o,"BSON",{enumerable:!0,get:function(){return B.BSON}});var F=i(63403);Object.defineProperty(o,"Binary",{enumerable:!0,get:function(){return F.Binary}}),Object.defineProperty(o,"BSONRegExp",{enumerable:!0,get:function(){return F.BSONRegExp}}),Object.defineProperty(o,"BSONSymbol",{enumerable:!0,get:function(){return F.BSONSymbol}}),Object.defineProperty(o,"BSONType",{enumerable:!0,get:function(){return F.BSONType}}),Object.defineProperty(o,"Code",{enumerable:!0,get:function(){return F.Code}}),Object.defineProperty(o,"DBRef",{enumerable:!0,get:function(){return F.DBRef}}),Object.defineProperty(o,"Decimal128",{enumerable:!0,get:function(){return F.Decimal128}}),Object.defineProperty(o,"Double",{enumerable:!0,get:function(){return F.Double}}),Object.defineProperty(o,"Int32",{enumerable:!0,get:function(){return F.Int32}}),Object.defineProperty(o,"Long",{enumerable:!0,get:function(){return F.Long}}),Object.defineProperty(o,"MaxKey",{enumerable:!0,get:function(){return F.MaxKey}}),Object.defineProperty(o,"MinKey",{enumerable:!0,get:function(){return F.MinKey}}),Object.defineProperty(o,"ObjectId",{enumerable:!0,get:function(){return F.ObjectId}}),Object.defineProperty(o,"Timestamp",{enumerable:!0,get:function(){return F.Timestamp}}),Object.defineProperty(o,"UUID",{enumerable:!0,get:function(){return F.UUID}});var L=i(53717);Object.defineProperty(o,"MongoBulkWriteError",{enumerable:!0,get:function(){return L.MongoBulkWriteError}});var k=i(24814);Object.defineProperty(o,"ClientEncryption",{enumerable:!0,get:function(){return k.ClientEncryption}});var j=i(22250);Object.defineProperty(o,"ChangeStreamCursor",{enumerable:!0,get:function(){return j.ChangeStreamCursor}});var U=i(98408);Object.defineProperty(o,"ExplainableCursor",{enumerable:!0,get:function(){return U.ExplainableCursor}});var z=i(86947);Object.defineProperty(o,"MongoAPIError",{enumerable:!0,get:function(){return z.MongoAPIError}}),Object.defineProperty(o,"MongoAWSError",{enumerable:!0,get:function(){return z.MongoAWSError}}),Object.defineProperty(o,"MongoAzureError",{enumerable:!0,get:function(){return z.MongoAzureError}}),Object.defineProperty(o,"MongoBatchReExecutionError",{enumerable:!0,get:function(){return z.MongoBatchReExecutionError}}),Object.defineProperty(o,"MongoChangeStreamError",{enumerable:!0,get:function(){return z.MongoChangeStreamError}}),Object.defineProperty(o,"MongoClientBulkWriteCursorError",{enumerable:!0,get:function(){return z.MongoClientBulkWriteCursorError}}),Object.defineProperty(o,"MongoClientBulkWriteError",{enumerable:!0,get:function(){return z.MongoClientBulkWriteError}}),Object.defineProperty(o,"MongoClientBulkWriteExecutionError",{enumerable:!0,get:function(){return z.MongoClientBulkWriteExecutionError}}),Object.defineProperty(o,"MongoClientClosedError",{enumerable:!0,get:function(){return z.MongoClientClosedError}}),Object.defineProperty(o,"MongoCompatibilityError",{enumerable:!0,get:function(){return z.MongoCompatibilityError}}),Object.defineProperty(o,"MongoCursorExhaustedError",{enumerable:!0,get:function(){return z.MongoCursorExhaustedError}}),Object.defineProperty(o,"MongoCursorInUseError",{enumerable:!0,get:function(){return z.MongoCursorInUseError}}),Object.defineProperty(o,"MongoDecompressionError",{enumerable:!0,get:function(){return z.MongoDecompressionError}}),Object.defineProperty(o,"MongoDriverError",{enumerable:!0,get:function(){return z.MongoDriverError}}),Object.defineProperty(o,"MongoError",{enumerable:!0,get:function(){return z.MongoError}}),Object.defineProperty(o,"MongoExpiredSessionError",{enumerable:!0,get:function(){return z.MongoExpiredSessionError}}),Object.defineProperty(o,"MongoGCPError",{enumerable:!0,get:function(){return z.MongoGCPError}}),Object.defineProperty(o,"MongoGridFSChunkError",{enumerable:!0,get:function(){return z.MongoGridFSChunkError}}),Object.defineProperty(o,"MongoGridFSStreamError",{enumerable:!0,get:function(){return z.MongoGridFSStreamError}}),Object.defineProperty(o,"MongoInvalidArgumentError",{enumerable:!0,get:function(){return z.MongoInvalidArgumentError}}),Object.defineProperty(o,"MongoKerberosError",{enumerable:!0,get:function(){return z.MongoKerberosError}}),Object.defineProperty(o,"MongoMissingCredentialsError",{enumerable:!0,get:function(){return z.MongoMissingCredentialsError}}),Object.defineProperty(o,"MongoMissingDependencyError",{enumerable:!0,get:function(){return z.MongoMissingDependencyError}}),Object.defineProperty(o,"MongoNetworkError",{enumerable:!0,get:function(){return z.MongoNetworkError}}),Object.defineProperty(o,"MongoNetworkTimeoutError",{enumerable:!0,get:function(){return z.MongoNetworkTimeoutError}}),Object.defineProperty(o,"MongoNotConnectedError",{enumerable:!0,get:function(){return z.MongoNotConnectedError}}),Object.defineProperty(o,"MongoOIDCError",{enumerable:!0,get:function(){return z.MongoOIDCError}}),Object.defineProperty(o,"MongoOperationTimeoutError",{enumerable:!0,get:function(){return z.MongoOperationTimeoutError}}),Object.defineProperty(o,"MongoParseError",{enumerable:!0,get:function(){return z.MongoParseError}}),Object.defineProperty(o,"MongoRuntimeError",{enumerable:!0,get:function(){return z.MongoRuntimeError}}),Object.defineProperty(o,"MongoServerClosedError",{enumerable:!0,get:function(){return z.MongoServerClosedError}}),Object.defineProperty(o,"MongoServerError",{enumerable:!0,get:function(){return z.MongoServerError}}),Object.defineProperty(o,"MongoServerSelectionError",{enumerable:!0,get:function(){return z.MongoServerSelectionError}}),Object.defineProperty(o,"MongoStalePrimaryError",{enumerable:!0,get:function(){return z.MongoStalePrimaryError}}),Object.defineProperty(o,"MongoSystemError",{enumerable:!0,get:function(){return z.MongoSystemError}}),Object.defineProperty(o,"MongoTailableCursorError",{enumerable:!0,get:function(){return z.MongoTailableCursorError}}),Object.defineProperty(o,"MongoTopologyClosedError",{enumerable:!0,get:function(){return z.MongoTopologyClosedError}}),Object.defineProperty(o,"MongoTransactionError",{enumerable:!0,get:function(){return z.MongoTransactionError}}),Object.defineProperty(o,"MongoUnexpectedServerResponseError",{enumerable:!0,get:function(){return z.MongoUnexpectedServerResponseError}}),Object.defineProperty(o,"MongoWriteConcernError",{enumerable:!0,get:function(){return z.MongoWriteConcernError}});var q=i(523);Object.defineProperty(o,"configureExplicitResourceManagement",{enumerable:!0,get:function(){return q.configureExplicitResourceManagement}});var V=i(53717);Object.defineProperty(o,"BatchType",{enumerable:!0,get:function(){return V.BatchType}});var W=i(72377);Object.defineProperty(o,"AutoEncryptionLoggerLevel",{enumerable:!0,get:function(){return W.AutoEncryptionLoggerLevel}});var $=i(88573);Object.defineProperty(o,"GSSAPICanonicalizationValue",{enumerable:!0,get:function(){return $.GSSAPICanonicalizationValue}});var G=i(24380);Object.defineProperty(o,"AuthMechanism",{enumerable:!0,get:function(){return G.AuthMechanism}});var K=i(3460);Object.defineProperty(o,"Compressor",{enumerable:!0,get:function(){return K.Compressor}});var Y=i(65017);Object.defineProperty(o,"CURSOR_FLAGS",{enumerable:!0,get:function(){return Y.CURSOR_FLAGS}}),Object.defineProperty(o,"CursorTimeoutMode",{enumerable:!0,get:function(){return Y.CursorTimeoutMode}});var X=i(86947);Object.defineProperty(o,"MongoErrorLabel",{enumerable:!0,get:function(){return X.MongoErrorLabel}});var J=i(8682);Object.defineProperty(o,"ExplainVerbosity",{enumerable:!0,get:function(){return J.ExplainVerbosity}});var Q=i(13139);Object.defineProperty(o,"ServerApiVersion",{enumerable:!0,get:function(){return Q.ServerApiVersion}});var Z=i(60528);Object.defineProperty(o,"MongoLoggableComponent",{enumerable:!0,get:function(){return Z.MongoLoggableComponent}}),Object.defineProperty(o,"SeverityLevel",{enumerable:!0,get:function(){return Z.SeverityLevel}});var ee=i(31244);Object.defineProperty(o,"ReturnDocument",{enumerable:!0,get:function(){return ee.ReturnDocument}});var te=i(80008);Object.defineProperty(o,"ProfilingLevel",{enumerable:!0,get:function(){return te.ProfilingLevel}});var re=i(38938);Object.defineProperty(o,"ReadConcernLevel",{enumerable:!0,get:function(){return re.ReadConcernLevel}});var ne=i(50773);Object.defineProperty(o,"ReadPreferenceMode",{enumerable:!0,get:function(){return ne.ReadPreferenceMode}});var oe=i(48446);Object.defineProperty(o,"ServerType",{enumerable:!0,get:function(){return oe.ServerType}}),Object.defineProperty(o,"TopologyType",{enumerable:!0,get:function(){return oe.TopologyType}});var ie=i(38938);Object.defineProperty(o,"ReadConcern",{enumerable:!0,get:function(){return ie.ReadConcern}});var se=i(50773);Object.defineProperty(o,"ReadPreference",{enumerable:!0,get:function(){return se.ReadPreference}});var ae=i(98349);Object.defineProperty(o,"WriteConcern",{enumerable:!0,get:function(){return ae.WriteConcern}});var ue=i(61643);Object.defineProperty(o,"CommandFailedEvent",{enumerable:!0,get:function(){return ue.CommandFailedEvent}}),Object.defineProperty(o,"CommandStartedEvent",{enumerable:!0,get:function(){return ue.CommandStartedEvent}}),Object.defineProperty(o,"CommandSucceededEvent",{enumerable:!0,get:function(){return ue.CommandSucceededEvent}});var ce=i(99730);Object.defineProperty(o,"ConnectionCheckedInEvent",{enumerable:!0,get:function(){return ce.ConnectionCheckedInEvent}}),Object.defineProperty(o,"ConnectionCheckedOutEvent",{enumerable:!0,get:function(){return ce.ConnectionCheckedOutEvent}}),Object.defineProperty(o,"ConnectionCheckOutFailedEvent",{enumerable:!0,get:function(){return ce.ConnectionCheckOutFailedEvent}}),Object.defineProperty(o,"ConnectionCheckOutStartedEvent",{enumerable:!0,get:function(){return ce.ConnectionCheckOutStartedEvent}}),Object.defineProperty(o,"ConnectionClosedEvent",{enumerable:!0,get:function(){return ce.ConnectionClosedEvent}}),Object.defineProperty(o,"ConnectionCreatedEvent",{enumerable:!0,get:function(){return ce.ConnectionCreatedEvent}}),Object.defineProperty(o,"ConnectionPoolClearedEvent",{enumerable:!0,get:function(){return ce.ConnectionPoolClearedEvent}}),Object.defineProperty(o,"ConnectionPoolClosedEvent",{enumerable:!0,get:function(){return ce.ConnectionPoolClosedEvent}}),Object.defineProperty(o,"ConnectionPoolCreatedEvent",{enumerable:!0,get:function(){return ce.ConnectionPoolCreatedEvent}}),Object.defineProperty(o,"ConnectionPoolMonitoringEvent",{enumerable:!0,get:function(){return ce.ConnectionPoolMonitoringEvent}}),Object.defineProperty(o,"ConnectionPoolReadyEvent",{enumerable:!0,get:function(){return ce.ConnectionPoolReadyEvent}}),Object.defineProperty(o,"ConnectionReadyEvent",{enumerable:!0,get:function(){return ce.ConnectionReadyEvent}});var le=i(60838);Object.defineProperty(o,"ServerClosedEvent",{enumerable:!0,get:function(){return le.ServerClosedEvent}}),Object.defineProperty(o,"ServerDescriptionChangedEvent",{enumerable:!0,get:function(){return le.ServerDescriptionChangedEvent}}),Object.defineProperty(o,"ServerHeartbeatFailedEvent",{enumerable:!0,get:function(){return le.ServerHeartbeatFailedEvent}}),Object.defineProperty(o,"ServerHeartbeatStartedEvent",{enumerable:!0,get:function(){return le.ServerHeartbeatStartedEvent}}),Object.defineProperty(o,"ServerHeartbeatSucceededEvent",{enumerable:!0,get:function(){return le.ServerHeartbeatSucceededEvent}}),Object.defineProperty(o,"ServerOpeningEvent",{enumerable:!0,get:function(){return le.ServerOpeningEvent}}),Object.defineProperty(o,"TopologyClosedEvent",{enumerable:!0,get:function(){return le.TopologyClosedEvent}}),Object.defineProperty(o,"TopologyDescriptionChangedEvent",{enumerable:!0,get:function(){return le.TopologyDescriptionChangedEvent}}),Object.defineProperty(o,"TopologyOpeningEvent",{enumerable:!0,get:function(){return le.TopologyOpeningEvent}});var he=i(9089);Object.defineProperty(o,"ServerSelectionEvent",{enumerable:!0,get:function(){return he.ServerSelectionEvent}}),Object.defineProperty(o,"ServerSelectionFailedEvent",{enumerable:!0,get:function(){return he.ServerSelectionFailedEvent}}),Object.defineProperty(o,"ServerSelectionStartedEvent",{enumerable:!0,get:function(){return he.ServerSelectionStartedEvent}}),Object.defineProperty(o,"ServerSelectionSucceededEvent",{enumerable:!0,get:function(){return he.ServerSelectionSucceededEvent}}),Object.defineProperty(o,"WaitingForSuitableServerEvent",{enumerable:!0,get:function(){return he.WaitingForSuitableServerEvent}});var de=i(29246);Object.defineProperty(o,"SrvPollingEvent",{enumerable:!0,get:function(){return de.SrvPollingEvent}});var pe=i(61784);Object.defineProperty(o,"MongoCryptAzureKMSRequestError",{enumerable:!0,get:function(){return pe.MongoCryptAzureKMSRequestError}}),Object.defineProperty(o,"MongoCryptCreateDataKeyError",{enumerable:!0,get:function(){return pe.MongoCryptCreateDataKeyError}}),Object.defineProperty(o,"MongoCryptCreateEncryptedCollectionError",{enumerable:!0,get:function(){return pe.MongoCryptCreateEncryptedCollectionError}}),Object.defineProperty(o,"MongoCryptError",{enumerable:!0,get:function(){return pe.MongoCryptError}}),Object.defineProperty(o,"MongoCryptInvalidArgumentError",{enumerable:!0,get:function(){return pe.MongoCryptInvalidArgumentError}}),Object.defineProperty(o,"MongoCryptKMSRequestNetworkTimeoutError",{enumerable:!0,get:function(){return pe.MongoCryptKMSRequestNetworkTimeoutError}});var fe=i(51401);Object.defineProperty(o,"MongoClientAuthProviders",{enumerable:!0,get:function(){return fe.MongoClientAuthProviders}})},13139:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MongoClient=o.ServerApiVersion=void 0;const s=i(79896),c=i(63403),h=i(9272),f=i(37935),E=i(24380),S=i(96088),A=i(89086),O=i(77689),T=i(32568),_=i(90263),D=i(86947),N=i(51401),R=i(60528),x=i(96327),P=i(13158),M=i(86437),I=i(66181),B=i(50773),F=i(523),L=i(44289),k=i(80306),j=i(94452),U=i(52060);o.ServerApiVersion=Object.freeze({v1:"1"});class MongoClient extends x.TypedEventEmitter{constructor(n,o){super(),this.on("error",U.noop),this.options=(0,O.parseOptions)(n,this,o);const i=Object.values(this.options.mongoLoggerOptions.componentSeverities).some(n=>n!==R.SeverityLevel.OFF);this.mongoLogger=i?new R.MongoLogger(this.options.mongoLoggerOptions):void 0;const s=this;this.s={url:n,bsonOptions:(0,c.resolveBSONOptions)(this.options),namespace:(0,U.ns)("admin"),hasBeenClosed:!1,sessionPool:new j.ServerSessionPool(this),activeSessions:new Set,activeCursors:new Set,authProviders:new N.MongoClientAuthProviders,get options(){return s.options},get readConcern(){return s.options.readConcern},get writeConcern(){return s.options.writeConcern},get readPreference(){return s.options.readPreference},get isMongoClient(){return!0}},this.checkForNonGenuineHosts()}async asyncDispose(){await this.close()}appendMetadata(n){this.options.additionalDriverInfo.push(n),this.options.metadata=(0,S.makeClientMetadata)(this.options),this.options.extendedMetadata=(0,S.addContainerMetadata)(this.options.metadata).then(void 0,U.squashError).then(n=>n??{})}checkForNonGenuineHosts(){const n=this.options.hosts.filter(n=>(0,U.isHostMatch)(U.DOCUMENT_DB_CHECK,n.host)),o=(0,U.isHostMatch)(U.DOCUMENT_DB_CHECK,this.options.srvHost),i=this.options.hosts.filter(n=>(0,U.isHostMatch)(U.COSMOS_DB_CHECK,n.host)),s=(0,U.isHostMatch)(U.COSMOS_DB_CHECK,this.options.srvHost);0!==n.length||o?this.mongoLogger?.info("client",U.DOCUMENT_DB_MSG):(0!==i.length||s)&&this.mongoLogger?.info("client",U.COSMOS_DB_MSG)}get serverApi(){return this.options.serverApi&&Object.freeze({...this.options.serverApi})}get monitorCommands(){return this.options.monitorCommands}set monitorCommands(n){this.options.monitorCommands=n}get autoEncrypter(){return this.options.autoEncrypter}get readConcern(){return this.s.readConcern}get writeConcern(){return this.s.writeConcern}get readPreference(){return this.s.readPreference}get bsonOptions(){return this.s.bsonOptions}get timeoutMS(){return this.s.options.timeoutMS}async bulkWrite(n,o){if(this.autoEncrypter)throw new D.MongoInvalidArgumentError("MongoClient bulkWrite does not currently support automatic encryption.");return await new P.ClientBulkWriteExecutor(this,n,(0,U.resolveOptions)(this,o)).execute()}async connect(){if(this.connectionLock)return await this.connectionLock;try{this.connectionLock=this._connect(),await this.connectionLock}finally{this.connectionLock=void 0}return this}async _connect(){if(this.topology&&this.topology.isConnected())return this;const n=this.options;if(n.tls&&("string"==typeof n.tlsCAFile&&(n.ca??=await s.promises.readFile(n.tlsCAFile)),"string"==typeof n.tlsCRLFile&&(n.crl??=await s.promises.readFile(n.tlsCRLFile)),!("string"!=typeof n.tlsCertificateKeyFile||n.key&&n.cert))){const o=await s.promises.readFile(n.tlsCertificateKeyFile);n.key??=o,n.cert??=o}if("string"==typeof n.srvHost){const o=await(0,O.resolveSRVRecord)(n);for(const[i,s]of o.entries())n.hosts[i]=s}if(n.credentials?.mechanism===E.AuthMechanism.MONGODB_OIDC){const o=n.credentials?.mechanismProperties?.ALLOWED_HOSTS||f.DEFAULT_ALLOWED_HOSTS;if(!!!n.credentials?.mechanismProperties?.ENVIRONMENT)for(const i of n.hosts)if(!(0,U.hostMatchesWildcards)(i.toHostPort().host,o))throw new D.MongoInvalidArgumentError(`Host '${i}' is not valid for OIDC authentication with ALLOWED_HOSTS of '${o.join(",")}'`)}this.topology=new k.Topology(this,n.hosts,n),this.topology.once(k.Topology.OPEN,()=>this.emit("open",this));for(const n of T.MONGO_CLIENT_EVENTS)this.topology.on(n,(...o)=>this.emit(n,...o));const topologyConnect=async()=>{try{await(this.topology?.connect(n))}catch(n){throw this.topology?.close(),n}};return this.autoEncrypter?(await(this.autoEncrypter?.init()),await topologyConnect(),await n.encrypter.connectInternalClient()):await topologyConnect(),this}async close(n=!1){if(this.closeLock)return await this.closeLock;try{this.closeLock=this._close(),await this.closeLock}finally{this.closeLock=void 0}}async _close(){Object.defineProperty(this.s,"hasBeenClosed",{value:!0,enumerable:!0,configurable:!1,writable:!1}),this.topology?.closeCheckedOutConnections();const n=Array.from(this.s.activeCursors,n=>n.close());this.s.activeCursors.clear(),await Promise.all(n);const o=Array.from(this.s.activeSessions,n=>n.endSession());if(this.s.activeSessions.clear(),await Promise.all(o),null==this.topology)return;const i=(0,L.readPreferenceServerSelector)(B.ReadPreference.primaryPreferred),s=this.topology.description,c=Array.from(s.servers.values());if(0!==i(s,c).length){const n=Array.from(this.s.sessionPool.sessions,({id:n})=>n);if(0!==n.length)try{class EndSessionsOperation extends I.AbstractOperation{constructor(){super(...arguments),this.ns=U.MongoDBNamespace.fromString("admin.$cmd"),this.SERVER_COMMAND_RESPONSE_TYPE=A.MongoDBResponse}buildCommand(o,i){return{endSessions:n}}buildOptions(n){return{timeoutContext:n,readPreference:B.ReadPreference.primaryPreferred,noResponse:!0}}get commandName(){return"endSessions"}}await(0,M.executeOperation)(this,new EndSessionsOperation)}catch(n){(0,U.squashError)(n)}}const h=this.topology;this.topology=void 0,h.close();const{encrypter:f}=this.options;f&&await f.close(this)}db(n,o){o=o??{},n||(n=this.s.options.dbName);const i=Object.assign({},this.options,o);return new _.Db(this,n,i)}static async connect(n,o){const i=new this(n,o);return await i.connect()}startSession(n){const o=new j.ClientSession(this,this.s.sessionPool,{explicit:!0,...n},this.options);return this.s.activeSessions.add(o),o.once("ended",()=>{this.s.activeSessions.delete(o)}),o}async withSession(n,o){const i={owner:Symbol(),..."object"==typeof n?n:{}},s="function"==typeof n?n:o;if(null==s)throw new D.MongoInvalidArgumentError("Missing required callback parameter");const c=this.startSession(i);try{return await s(c)}finally{try{await c.endSession()}catch(n){(0,U.squashError)(n)}}}watch(n=[],o={}){return Array.isArray(n)||(o=n,n=[]),new h.ChangeStream(this,n,(0,U.resolveOptions)(this,o))}}o.MongoClient=MongoClient,(0,F.configureResourceManagement)(MongoClient.prototype)},51401:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MongoClientAuthProviders=void 0;const s=i(88573),c=i(88626),h=i(68542),f=i(45693),E=i(22362),S=i(24257),A=i(99626),O=i(24380),T=i(9112),_=i(95240),D=i(86947),N=new Map([[O.AuthMechanism.MONGODB_AWS,({AWS_CREDENTIAL_PROVIDER:n})=>new c.MongoDBAWS(n)],[O.AuthMechanism.MONGODB_CR,()=>{throw new D.MongoInvalidArgumentError("MONGODB-CR is no longer a supported auth mechanism in MongoDB 4.0+")}],[O.AuthMechanism.MONGODB_GSSAPI,()=>new s.GSSAPI],[O.AuthMechanism.MONGODB_OIDC,n=>new h.MongoDBOIDC(function getWorkflow(n){if(n.OIDC_HUMAN_CALLBACK)return new E.HumanCallbackWorkflow(new S.TokenCache,n.OIDC_HUMAN_CALLBACK);if(n.OIDC_CALLBACK)return new f.AutomatedCallbackWorkflow(new S.TokenCache,n.OIDC_CALLBACK);{const o=n.ENVIRONMENT,i=h.OIDC_WORKFLOWS.get(o)?.();if(!i)throw new D.MongoInvalidArgumentError(`Could not load workflow for environment ${n.ENVIRONMENT}`);return i}}(n))],[O.AuthMechanism.MONGODB_PLAIN,()=>new A.Plain],[O.AuthMechanism.MONGODB_SCRAM_SHA1,()=>new T.ScramSHA1],[O.AuthMechanism.MONGODB_SCRAM_SHA256,()=>new T.ScramSHA256],[O.AuthMechanism.MONGODB_X509,()=>new _.X509]]);o.MongoClientAuthProviders=class MongoClientAuthProviders{constructor(){this.existingProviders=new Map}getOrCreateProvider(n,o){const i=this.existingProviders.get(n);if(i)return i;const s=N.get(n);if(!s)throw new D.MongoInvalidArgumentError(`authMechanism ${n} not supported`);const c=s(o);return this.existingProviders.set(n,c),c}}},60528:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MongoLogger=o.MongoLoggableComponent=o.SEVERITY_LEVEL_MAP=o.DEFAULT_MAX_DOCUMENT_LENGTH=o.SeverityLevel=void 0,o.parseSeverityFromString=parseSeverityFromString,o.createStdioLogger=createStdioLogger,o.stringifyWithMaxLen=stringifyWithMaxLen,o.defaultLogTransform=defaultLogTransform;const s=i(39023),c=i(63403),h=i(32568),f=i(52060);o.SeverityLevel=Object.freeze({EMERGENCY:"emergency",ALERT:"alert",CRITICAL:"critical",ERROR:"error",WARNING:"warn",NOTICE:"notice",INFORMATIONAL:"info",DEBUG:"debug",TRACE:"trace",OFF:"off"}),o.DEFAULT_MAX_DOCUMENT_LENGTH=1e3;class SeverityLevelMap extends Map{constructor(n){const o=[];for(const[i,s]of n)o.push([s,i]);o.push(...n),super(o)}getNumericSeverityLevel(n){return this.get(n)}getSeverityLevelName(n){return this.get(n)}}function parseSeverityFromString(n){const i=Object.values(o.SeverityLevel),s=n?.toLowerCase();return null!=s&&i.includes(s)?s:null}function createStdioLogger(n){return{write:(0,s.promisify)((o,i)=>{const c=(0,s.inspect)(o,{compact:!0,breakLength:1/0});n.write(`${c}\n`,"utf-8",i)})}}function resolveSeverityConfiguration(n,o,i){return parseSeverityFromString(n)??parseSeverityFromString(o)??i}function compareSeverity(n,i){const s=o.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(n),c=o.SEVERITY_LEVEL_MAP.getNumericSeverityLevel(i);return s<c?-1:s>c?1:0}function stringifyWithMaxLen(n,o,i={}){let s="",h=0;const E=function maxDocumentLengthEnsurer(n,i){if(!(h>=o)){if(""===n)return h+=1,i;if(h+=n.length+4,null==i)return i;switch(typeof i){case"string":h+=i.length+2;break;case"number":case"bigint":h+=String(i).length;break;case"boolean":h+=i?4:5;break;case"object":if((0,f.isUint8Array)(i))h+=22+i.byteLength+.33*i.byteLength+18|0;else if("_bsontype"in i){const n=i;switch(n._bsontype){case"Int32":h+=String(n.value).length;break;case"Double":h+=(0|n.value)===n.value?String(n.value).length+2:String(n.value).length;break;case"Long":h+=n.toString().length;break;case"ObjectId":h+=35;break;case"MaxKey":case"MinKey":h+=13;break;case"Binary":h+=22+i.position+.33*i.position+18|0;break;case"Timestamp":h+=19+String(n.t).length+5+String(n.i).length+2;break;case"Code":null==n.scope?h+=n.code.length+10+2:h+=n.code.length+10+11;break;case"BSONRegExp":h+=34+n.pattern.length+13+n.options.length+3}}}return i}};if("string"==typeof n)s=n;else if("function"==typeof n)s=n.name;else try{s=0!==o?c.EJSON.stringify(n,E,0,i):c.EJSON.stringify(n,i)}catch(n){s=`Extended JSON serialization failed with: ${n.message}`}return 0!==o&&s.length>o&&s.charCodeAt(o-1)!==s.codePointAt(o-1)&&0===--o?"":0!==o&&s.length>o?`${s.slice(0,o)}...`:s}function attachServerSelectionFields(n,i,s=o.DEFAULT_MAX_DOCUMENT_LENGTH){const{selector:c,operation:h,topologyDescription:f,message:E}=i;return n.selector=stringifyWithMaxLen(c,s),n.operation=h,n.topologyDescription=stringifyWithMaxLen(f,s),n.message=E,n}function attachCommandFields(n,o){n.commandName=o.commandName,n.requestId=o.requestId,n.driverConnectionId=o.connectionId;const{host:i,port:s}=f.HostAddress.fromString(o.address).toHostPort();return n.serverHost=i,n.serverPort=s,o?.serviceId&&(n.serviceId=o.serviceId.toHexString()),n.databaseName=o.databaseName,n.serverConnectionId=o.serverConnectionId,n}function attachConnectionFields(n,o){const{host:i,port:s}=f.HostAddress.fromString(o.address).toHostPort();return n.serverHost=i,n.serverPort=s,n}function attachSDAMFields(n,o){return n.topologyId=o.topologyId,n}function attachServerHeartbeatFields(n,o){const{awaited:i,connectionId:s}=o;n.awaited=i,n.driverConnectionId=o.connectionId;const{host:c,port:h}=f.HostAddress.fromString(s).toHostPort();return n.serverHost=c,n.serverPort=h,n}function defaultLogTransform(n,i=o.DEFAULT_MAX_DOCUMENT_LENGTH){let s=Object.create(null);switch(n.name){case h.SERVER_SELECTION_STARTED:return s=attachServerSelectionFields(s,n,i),s;case h.SERVER_SELECTION_FAILED:return s=attachServerSelectionFields(s,n,i),s.failure=n.failure?.message,s;case h.SERVER_SELECTION_SUCCEEDED:return s=attachServerSelectionFields(s,n,i),s.serverHost=n.serverHost,s.serverPort=n.serverPort,s;case h.WAITING_FOR_SUITABLE_SERVER:return s=attachServerSelectionFields(s,n,i),s.remainingTimeMS=n.remainingTimeMS,s;case h.COMMAND_STARTED:return s=attachCommandFields(s,n),s.message="Command started",s.command=stringifyWithMaxLen(n.command,i,{relaxed:!0}),s.databaseName=n.databaseName,s;case h.COMMAND_SUCCEEDED:return s=attachCommandFields(s,n),s.message="Command succeeded",s.durationMS=n.duration,s.reply=stringifyWithMaxLen(n.reply,i,{relaxed:!0}),s;case h.COMMAND_FAILED:return s=attachCommandFields(s,n),s.message="Command failed",s.durationMS=n.duration,s.failure=n.failure?.message??"(redacted)",s;case h.CONNECTION_POOL_CREATED:if(s=attachConnectionFields(s,n),s.message="Connection pool created",n.options){const{maxIdleTimeMS:o,minPoolSize:i,maxPoolSize:c,maxConnecting:h,waitQueueTimeoutMS:f}=n.options;s={...s,maxIdleTimeMS:o,minPoolSize:i,maxPoolSize:c,maxConnecting:h,waitQueueTimeoutMS:f}}return s;case h.CONNECTION_POOL_READY:return s=attachConnectionFields(s,n),s.message="Connection pool ready",s;case h.CONNECTION_POOL_CLEARED:return s=attachConnectionFields(s,n),s.message="Connection pool cleared","ObjectId"===n.serviceId?._bsontype&&(s.serviceId=n.serviceId?.toHexString()),s;case h.CONNECTION_POOL_CLOSED:return s=attachConnectionFields(s,n),s.message="Connection pool closed",s;case h.CONNECTION_CREATED:return s=attachConnectionFields(s,n),s.message="Connection created",s.driverConnectionId=n.connectionId,s;case h.CONNECTION_READY:return s=attachConnectionFields(s,n),s.message="Connection ready",s.driverConnectionId=n.connectionId,s.durationMS=n.durationMS,s;case h.CONNECTION_CLOSED:switch(s=attachConnectionFields(s,n),s.message="Connection closed",s.driverConnectionId=n.connectionId,n.reason){case"stale":s.reason="Connection became stale because the pool was cleared";break;case"idle":s.reason="Connection has been available but unused for longer than the configured max idle time";break;case"error":s.reason="An error occurred while using the connection",n.error&&(s.error=n.error);break;case"poolClosed":s.reason="Connection pool was closed";break;default:s.reason=`Unknown close reason: ${n.reason}`}return s;case h.CONNECTION_CHECK_OUT_STARTED:return s=attachConnectionFields(s,n),s.message="Connection checkout started",s;case h.CONNECTION_CHECK_OUT_FAILED:switch(s=attachConnectionFields(s,n),s.message="Connection checkout failed",n.reason){case"poolClosed":s.reason="Connection pool was closed";break;case"timeout":s.reason="Wait queue timeout elapsed without a connection becoming available";break;case"connectionError":s.reason="An error occurred while trying to establish a new connection",n.error&&(s.error=n.error);break;default:s.reason=`Unknown close reason: ${n.reason}`}return s.durationMS=n.durationMS,s;case h.CONNECTION_CHECKED_OUT:return s=attachConnectionFields(s,n),s.message="Connection checked out",s.driverConnectionId=n.connectionId,s.durationMS=n.durationMS,s;case h.CONNECTION_CHECKED_IN:return s=attachConnectionFields(s,n),s.message="Connection checked in",s.driverConnectionId=n.connectionId,s;case h.SERVER_OPENING:return s=attachSDAMFields(s,n),s=attachConnectionFields(s,n),s.message="Starting server monitoring",s;case h.SERVER_CLOSED:return s=attachSDAMFields(s,n),s=attachConnectionFields(s,n),s.message="Stopped server monitoring",s;case h.SERVER_HEARTBEAT_STARTED:return s=attachSDAMFields(s,n),s=attachServerHeartbeatFields(s,n),s.message="Server heartbeat started",s;case h.SERVER_HEARTBEAT_SUCCEEDED:return s=attachSDAMFields(s,n),s=attachServerHeartbeatFields(s,n),s.message="Server heartbeat succeeded",s.durationMS=n.duration,s.serverConnectionId=n.serverConnectionId,s.reply=stringifyWithMaxLen(n.reply,i,{relaxed:!0}),s;case h.SERVER_HEARTBEAT_FAILED:return s=attachSDAMFields(s,n),s=attachServerHeartbeatFields(s,n),s.message="Server heartbeat failed",s.durationMS=n.duration,s.failure=n.failure?.message,s;case h.TOPOLOGY_OPENING:return s=attachSDAMFields(s,n),s.message="Starting topology monitoring",s;case h.TOPOLOGY_CLOSED:return s=attachSDAMFields(s,n),s.message="Stopped topology monitoring",s;case h.TOPOLOGY_DESCRIPTION_CHANGED:return s=attachSDAMFields(s,n),s.message="Topology description changed",s.previousDescription=s.reply=stringifyWithMaxLen(n.previousDescription,i),s.newDescription=s.reply=stringifyWithMaxLen(n.newDescription,i),s;default:for(const[o,i]of Object.entries(n))null!=i&&(s[o]=i)}return s}o.SEVERITY_LEVEL_MAP=new SeverityLevelMap([[o.SeverityLevel.OFF,-1/0],[o.SeverityLevel.EMERGENCY,0],[o.SeverityLevel.ALERT,1],[o.SeverityLevel.CRITICAL,2],[o.SeverityLevel.ERROR,3],[o.SeverityLevel.WARNING,4],[o.SeverityLevel.NOTICE,5],[o.SeverityLevel.INFORMATIONAL,6],[o.SeverityLevel.DEBUG,7],[o.SeverityLevel.TRACE,8]]),o.MongoLoggableComponent=Object.freeze({COMMAND:"command",TOPOLOGY:"topology",SERVER_SELECTION:"serverSelection",CONNECTION:"connection",CLIENT:"client"});o.MongoLogger=class MongoLogger{constructor(n){this.pendingLog=null,this.error=this.log.bind(this,"error"),this.warn=this.log.bind(this,"warn"),this.info=this.log.bind(this,"info"),this.debug=this.log.bind(this,"debug"),this.trace=this.log.bind(this,"trace"),this.componentSeverities=n.componentSeverities,this.maxDocumentLength=n.maxDocumentLength,this.logDestination=n.logDestination,this.logDestinationIsStdErr=n.logDestinationIsStdErr,this.severities=this.createLoggingSeverities()}createLoggingSeverities(){const n=Object();for(const i of Object.values(o.MongoLoggableComponent)){n[i]={};for(const s of Object.values(o.SeverityLevel))n[i][s]=compareSeverity(s,this.componentSeverities[i])<=0}return n}turnOffSeverities(){for(const n of Object.values(o.MongoLoggableComponent)){this.componentSeverities[n]=o.SeverityLevel.OFF;for(const i of Object.values(o.SeverityLevel))this.severities[n][i]=!1}}logWriteFailureHandler(n){if(this.logDestinationIsStdErr)return this.turnOffSeverities(),void this.clearPendingLog();this.logDestination=createStdioLogger(process.stderr),this.logDestinationIsStdErr=!0,this.clearPendingLog(),this.error(o.MongoLoggableComponent.CLIENT,{toLog:function(){return{message:"User input for mongodbLogPath is now invalid. Logging is halted.",error:n.message}}}),this.turnOffSeverities(),this.clearPendingLog()}clearPendingLog(){this.pendingLog=null}willLog(n,i){return i!==o.SeverityLevel.OFF&&this.severities[n][i]}log(n,o,i){if(!this.willLog(o,n))return;let s={t:new Date,c:o,s:n};if("string"==typeof i?s.message=i:"object"==typeof i&&(s=function isLogConvertible(n){const o=n;return void 0!==o.toLog&&"function"==typeof o.toLog}(i)?{...s,...i.toLog()}:{...s,...defaultLogTransform(i,this.maxDocumentLength)}),(0,f.isPromiseLike)(this.pendingLog))this.pendingLog=this.pendingLog.then(()=>this.logDestination.write(s)).then(this.clearPendingLog.bind(this),this.logWriteFailureHandler.bind(this));else try{const n=this.logDestination.write(s);(0,f.isPromiseLike)(n)&&(this.pendingLog=n.then(this.clearPendingLog.bind(this),this.logWriteFailureHandler.bind(this)))}catch(n){this.logWriteFailureHandler(n)}}static resolveOptions(n,i){const s=function resolveLogPath({MONGODB_LOG_PATH:n},{mongodbLogPath:o}){return"string"==typeof o&&/^stderr$/i.test(o)?{mongodbLogPath:createStdioLogger(process.stderr),mongodbLogPathIsStdErr:!0}:"string"==typeof o&&/^stdout$/i.test(o)?{mongodbLogPath:createStdioLogger(process.stdout),mongodbLogPathIsStdErr:!1}:"object"==typeof o&&"function"==typeof o?.write?{mongodbLogPath:o,mongodbLogPathIsStdErr:!1}:n&&/^stderr$/i.test(n)?{mongodbLogPath:createStdioLogger(process.stderr),mongodbLogPathIsStdErr:!0}:n&&/^stdout$/i.test(n)?{mongodbLogPath:createStdioLogger(process.stdout),mongodbLogPathIsStdErr:!1}:{mongodbLogPath:createStdioLogger(process.stderr),mongodbLogPathIsStdErr:!0}}(n,i),c={...n,...i,mongodbLogPath:s.mongodbLogPath,mongodbLogPathIsStdErr:s.mongodbLogPathIsStdErr},h=resolveSeverityConfiguration(c.mongodbLogComponentSeverities?.default,c.MONGODB_LOG_ALL,o.SeverityLevel.OFF);return{componentSeverities:{command:resolveSeverityConfiguration(c.mongodbLogComponentSeverities?.command,c.MONGODB_LOG_COMMAND,h),topology:resolveSeverityConfiguration(c.mongodbLogComponentSeverities?.topology,c.MONGODB_LOG_TOPOLOGY,h),serverSelection:resolveSeverityConfiguration(c.mongodbLogComponentSeverities?.serverSelection,c.MONGODB_LOG_SERVER_SELECTION,h),connection:resolveSeverityConfiguration(c.mongodbLogComponentSeverities?.connection,c.MONGODB_LOG_CONNECTION,h),client:resolveSeverityConfiguration(c.mongodbLogComponentSeverities?.client,c.MONGODB_LOG_CLIENT,h),default:h},maxDocumentLength:c.mongodbLogMaxDocumentLength??(0,f.parseUnsignedInteger)(c.MONGODB_LOG_MAX_DOCUMENT_LENGTH)??1e3,logDestination:c.mongodbLogPath,logDestinationIsStdErr:c.mongodbLogPathIsStdErr}}}},96327:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CancellationToken=o.TypedEventEmitter=void 0;const s=i(24434),c=i(60528),h=i(52060);class TypedEventEmitter extends s.EventEmitter{emitAndLog(n,...o){this.emit(n,...o),this.component&&this.mongoLogger?.debug(this.component,o[0])}emitAndLogHeartbeat(n,o,i,...s){if(this.emit(n,...s),this.component){const n={topologyId:o,serverConnectionId:i??null,...s[0]};this.mongoLogger?.debug(this.component,n)}}emitAndLogCommand(n,o,i,s,...h){if(n&&this.emit(o,...h),s){const n={databaseName:i,...h[0]};this.mongoLogger?.debug(c.MongoLoggableComponent.COMMAND,n)}}}o.TypedEventEmitter=TypedEventEmitter;o.CancellationToken=class CancellationToken extends TypedEventEmitter{constructor(...n){super(...n),this.on("error",h.noop)}}},4651:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AggregateOperation=o.DB_AGGREGATE_COLLECTION=void 0;const s=i(89086),c=i(86947),h=i(52060),f=i(98349),E=i(29097),S=i(66181);o.DB_AGGREGATE_COLLECTION=1;class AggregateOperation extends E.CommandOperation{constructor(n,i,h){if(super(void 0,{...h,dbName:n.db}),this.SERVER_COMMAND_RESPONSE_TYPE=s.CursorResponse,this.options={...h},this.target=n.collection||o.DB_AGGREGATE_COLLECTION,this.pipeline=i,this.hasWriteStage=!1,"string"==typeof h?.out)this.pipeline=this.pipeline.concat({$out:h.out}),this.hasWriteStage=!0;else if(i.length>0){const n=i[i.length-1];(n.$out||n.$merge)&&(this.hasWriteStage=!0)}if(this.hasWriteStage||delete this.options.writeConcern,this.explain&&this.writeConcern)throw new c.MongoInvalidArgumentError('Option "explain" cannot be used on an aggregate call with writeConcern');if(null!=h?.cursor&&"object"!=typeof h.cursor)throw new c.MongoInvalidArgumentError("Cursor options must be an object");this.SERVER_COMMAND_RESPONSE_TYPE=this.explain?s.ExplainedCursorResponse:s.CursorResponse}get commandName(){return"aggregate"}get canRetryRead(){return!this.hasWriteStage}addToPipeline(n){this.pipeline.push(n)}buildCommandDocument(n){const o=this.options,i=(0,h.maxWireVersion)(n),s={aggregate:this.target,pipeline:this.pipeline};return this.hasWriteStage&&i<8&&(this.readConcern=void 0),this.hasWriteStage&&this.writeConcern&&f.WriteConcern.apply(s,this.writeConcern),!0===o.bypassDocumentValidation&&(s.bypassDocumentValidation=o.bypassDocumentValidation),"boolean"==typeof o.allowDiskUse&&(s.allowDiskUse=o.allowDiskUse),o.hint&&(s.hint=o.hint),o.let&&(s.let=o.let),void 0!==o.comment&&(s.comment=o.comment),s.cursor=o.cursor||{},o.batchSize&&!this.hasWriteStage&&(s.cursor.batchSize=o.batchSize),s}handleOk(n){return n}}o.AggregateOperation=AggregateOperation,(0,S.defineAspects)(AggregateOperation,[S.Aspect.READ_OPERATION,S.Aspect.RETRYABLE,S.Aspect.EXPLAINABLE,S.Aspect.CURSOR_CREATING])},66143:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ClientBulkWriteOperation=void 0;const s=i(89086),c=i(52060),h=i(29097),f=i(66181);class ClientBulkWriteOperation extends h.CommandOperation{get commandName(){return"bulkWrite"}constructor(n,o){super(void 0,o),this.SERVER_COMMAND_RESPONSE_TYPE=s.ClientBulkWriteCursorResponse,this.commandBuilder=n,this.options=o,this.ns=new c.MongoDBNamespace("admin","$cmd")}resetBatch(){return this.commandBuilder.resetBatch()}get canRetryWrite(){return this.commandBuilder.isBatchRetryable}handleOk(n){return n}buildCommandDocument(n,o){const i=this.commandBuilder.buildBatch(n.description.maxMessageSizeBytes,n.description.maxWriteBatchSize,n.description.maxBsonObjectSize);return this.canRetryWrite||(this.options.willRetryWrite=!1),i}}o.ClientBulkWriteOperation=ClientBulkWriteOperation,(0,f.defineAspects)(ClientBulkWriteOperation,[f.Aspect.WRITE_OPERATION,f.Aspect.SKIP_COLLATION,f.Aspect.CURSOR_CREATING,f.Aspect.RETRYABLE,f.Aspect.COMMAND_BATCHING])},2998:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.buildReplaceOneOperation=o.buildUpdateManyOperation=o.buildUpdateOneOperation=o.buildDeleteManyOperation=o.buildDeleteOneOperation=o.buildInsertOneOperation=o.ClientBulkWriteCommandBuilder=void 0,o.buildOperation=buildOperation;const s=i(63403),c=i(50045),h=i(86947),f=i(47781),E=i(52060);function validateBufferSize(n,o,i){if(o.length>i)throw new h.MongoInvalidArgumentError(`Client bulk write operation ${n} of length ${o.length} exceeds the max bson object size of ${i}`)}o.ClientBulkWriteCommandBuilder=class ClientBulkWriteCommandBuilder{constructor(n,o,i){this.models=n,this.options=o,this.pkFactory=i??E.DEFAULT_PK_FACTORY,this.currentModelIndex=0,this.previousModelIndex=0,this.lastOperations=[],this.isBatchRetryable=!0}get errorsOnly(){return!("verboseResults"in this.options)||!this.options.verboseResults}hasNextBatch(){return this.currentModelIndex<this.models.length}resetBatch(){return this.currentModelIndex=this.previousModelIndex,!0}buildBatch(n,o,i){this.isBatchRetryable=!0;let c=0,f=0;const E=this.baseCommand(),S=new Map;for(this.previousModelIndex=this.currentModelIndex;this.currentModelIndex<this.models.length;){const A=this.models[this.currentModelIndex],O=A.namespace,T=S.get(O);if("deleteMany"!==A.name&&"updateMany"!==A.name||(this.isBatchRetryable=!1),null!=T){const f=buildOperation(A,T,this.pkFactory,this.options);let S;try{S=s.BSON.serialize(f)}catch(n){throw new h.MongoInvalidArgumentError("Could not serialize operation to BSON",{cause:n})}if(validateBufferSize("ops",S,i),!(c+S.length<n&&E.ops.documents.length<o))break;c=1e3+E.ops.push(f,S),this.currentModelIndex++}else{S.set(O,f);const T={ns:O},_=buildOperation(A,f,this.pkFactory,this.options);let D,N;try{D=s.BSON.serialize(T),N=s.BSON.serialize(_)}catch(n){throw new h.MongoInvalidArgumentError("Could not serialize ns info to BSON",{cause:n})}if(validateBufferSize("nsInfo",D,i),validateBufferSize("ops",N,i),!(c+D.length+N.length<n&&E.ops.documents.length<o))break;c=1e3+E.nsInfo.push(T,D)+E.ops.push(_,N),f++,this.currentModelIndex++}}return this.lastOperations=E.ops.documents,E}baseCommand(){const n={bulkWrite:1,errorsOnly:this.errorsOnly,ordered:this.options.ordered??!0,ops:new c.DocumentSequence("ops"),nsInfo:new c.DocumentSequence("nsInfo")};return null!=this.options.bypassDocumentValidation&&(n.bypassDocumentValidation=this.options.bypassDocumentValidation),this.options.let&&(n.let=this.options.let),void 0!==this.options.comment&&(n.comment=this.options.comment),n}};o.buildInsertOneOperation=(n,o,i)=>{const s={insert:o,document:n.document};return s.document._id=n.document._id??i.createPk(),s};o.buildDeleteOneOperation=(n,o)=>createDeleteOperation(n,o,!1);function createDeleteOperation(n,o,i){const s={delete:o,multi:i,filter:n.filter};return n.hint&&(s.hint=n.hint),n.collation&&(s.collation=n.collation),s}o.buildDeleteManyOperation=(n,o)=>createDeleteOperation(n,o,!0);o.buildUpdateOneOperation=(n,o,i)=>createUpdateOperation(n,o,!1,i);function createUpdateOperation(n,o,i,s){!function validateUpdate(n,o){if(!(0,E.hasAtomicOperators)(n,o))throw new h.MongoAPIError("Client bulk write update models must only contain atomic modifiers (start with $) and must not be empty.")}(n.update,s);const c={update:o,multi:i,filter:n.filter,updateMods:n.update};return n.hint&&(c.hint=n.hint),n.upsert&&(c.upsert=n.upsert),n.arrayFilters&&(c.arrayFilters=n.arrayFilters),n.collation&&(c.collation=n.collation),!i&&"sort"in n&&null!=n.sort&&(c.sort=(0,f.formatSort)(n.sort)),c}o.buildUpdateManyOperation=(n,o,i)=>createUpdateOperation(n,o,!0,i);function buildOperation(n,i,s,c){switch(n.name){case"insertOne":return(0,o.buildInsertOneOperation)(n,i,s);case"deleteOne":return(0,o.buildDeleteOneOperation)(n,i);case"deleteMany":return(0,o.buildDeleteManyOperation)(n,i);case"updateOne":return(0,o.buildUpdateOneOperation)(n,i,c);case"updateMany":return(0,o.buildUpdateManyOperation)(n,i,c);case"replaceOne":return(0,o.buildReplaceOneOperation)(n,i)}}o.buildReplaceOneOperation=(n,o)=>{if((0,E.hasAtomicOperators)(n.replacement))throw new h.MongoAPIError("Client bulk write replace models must not contain atomic modifiers (start with $) and must not be empty.");const i={update:o,multi:!1,filter:n.filter,updateMods:n.replacement};return n.hint&&(i.hint=n.hint),n.upsert&&(i.upsert=n.upsert),n.collation&&(i.collation=n.collation),null!=n.sort&&(i.sort=(0,f.formatSort)(n.sort)),i}},13158:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ClientBulkWriteExecutor=void 0;const s=i(65017),c=i(99385),h=i(86947),f=i(38286),E=i(52060),S=i(98349),A=i(86437),O=i(66143),T=i(2998),_=i(44394);o.ClientBulkWriteExecutor=class ClientBulkWriteExecutor{constructor(n,o,i){if(0===o.length)throw new h.MongoClientBulkWriteExecutionError("No client bulk write models were provided.");if(this.client=n,this.operations=o,this.options={ordered:!0,bypassDocumentValidation:!1,verboseResults:!1,...i},this.options.writeConcern||(this.options.writeConcern=S.WriteConcern.fromOptions(this.client.s.options)),0===this.options.writeConcern?.w){if(this.options.verboseResults)throw new h.MongoInvalidArgumentError("Cannot request unacknowledged write concern and verbose results");if(this.options.ordered)throw new h.MongoInvalidArgumentError("Cannot request unacknowledged write concern and ordered writes")}}async execute(){const n=this.client.s.options.pkFactory,o=new T.ClientBulkWriteCommandBuilder(this.operations,this.options,n),i=(0,E.resolveTimeoutOptions)(this.client,this.options),S=f.TimeoutContext.create(i);if(0===this.options.writeConcern?.w){for(;o.hasNextBatch();){const n=new O.ClientBulkWriteOperation(o,this.options);await(0,A.executeOperation)(this.client,n,S)}return _.ClientBulkWriteResultsMerger.unacknowledged()}{const n=new _.ClientBulkWriteResultsMerger(this.options);for(;o.hasNextBatch();){const f=new s.CursorTimeoutContext(S,Symbol()),E={...this.options,timeoutContext:f,...null!=i.timeoutMS&&{timeoutMode:s.CursorTimeoutMode.LIFETIME}},A=new c.ClientBulkWriteCursor(this.client,o,E);try{await n.merge(A)}catch(o){if(o instanceof h.MongoServerError&&!(o instanceof h.MongoClientBulkWriteError)){const i=new h.MongoClientBulkWriteError({message:"Mongo client bulk write encountered an error during execution"});throw i.cause=o,i.partialResult=n.bulkWriteResult,i}throw o}}if(n.writeConcernErrors.length>0||n.writeErrors.size>0){const o=new h.MongoClientBulkWriteError({message:"Mongo client bulk write encountered errors during execution."});throw o.writeConcernErrors=n.writeConcernErrors,o.writeErrors=n.writeErrors,o.partialResult=n.bulkWriteResult,o}return n.bulkWriteResult}}}},44394:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ClientBulkWriteResultsMerger=void 0;const s=i(45009),c=i(86947),h={acknowledged:!1,insertedCount:0,upsertedCount:0,matchedCount:0,modifiedCount:0,deletedCount:0,insertResults:void 0,updateResults:void 0,deleteResults:void 0};o.ClientBulkWriteResultsMerger=class ClientBulkWriteResultsMerger{static unacknowledged(){return h}constructor(n){this.options=n,this.currentBatchOffset=0,this.writeConcernErrors=[],this.writeErrors=new Map,this.result={acknowledged:!0,insertedCount:0,upsertedCount:0,matchedCount:0,modifiedCount:0,deletedCount:0,insertResults:void 0,updateResults:void 0,deleteResults:void 0},n.verboseResults&&(this.result.insertResults=new Map,this.result.updateResults=new Map,this.result.deleteResults=new Map)}get bulkWriteResult(){return{acknowledged:this.result.acknowledged,insertedCount:this.result.insertedCount,upsertedCount:this.result.upsertedCount,matchedCount:this.result.matchedCount,modifiedCount:this.result.modifiedCount,deletedCount:this.result.deletedCount,insertResults:this.result.insertResults,updateResults:this.result.updateResults,deleteResults:this.result.deleteResults}}async merge(n){let o;try{for await(const o of n)if(1===o.ok)this.options.verboseResults&&this.processDocument(n,o);else{if(this.options.ordered){const n=new c.MongoClientBulkWriteError({message:"Mongo client ordered bulk write encountered a write error."});throw n.writeErrors.set(o.idx+this.currentBatchOffset,{code:o.code,message:o.errmsg}),n.partialResult=this.result,n}this.writeErrors.set(o.idx+this.currentBatchOffset,{code:o.code,message:o.errmsg})}}catch(i){if(!(i instanceof s.MongoWriteConcernError))throw i;{const s=i.result;if(o={insertedCount:s.nInserted,upsertedCount:s.nUpserted,matchedCount:s.nMatched,modifiedCount:s.nModified,deletedCount:s.nDeleted,writeConcernError:s.writeConcernError},this.options.verboseResults&&s.cursor.firstBatch)for(const o of s.cursor.firstBatch)1===o.ok&&this.processDocument(n,o)}}finally{if(n.response){const o=n.response;this.incrementCounts(o)}this.currentBatchOffset+=n.operations.length}if(o){const n=o.writeConcernError;this.incrementCounts(o),this.writeConcernErrors.push({code:n.code,message:n.errmsg})}return this.result}processDocument(n,o){const i=n.operations[o.idx];if("insert"in i&&this.result.insertResults?.set(o.idx+this.currentBatchOffset,{insertedId:i.document._id}),"update"in i){const n={matchedCount:o.n,modifiedCount:o.nModified??0,didUpsert:null!=o.upserted};o.upserted&&(n.upsertedId=o.upserted._id),this.result.updateResults?.set(o.idx+this.currentBatchOffset,n)}"delete"in i&&this.result.deleteResults?.set(o.idx+this.currentBatchOffset,{deletedCount:o.n})}incrementCounts(n){this.result.insertedCount+=n.insertedCount,this.result.upsertedCount+=n.upsertedCount,this.result.matchedCount+=n.matchedCount,this.result.modifiedCount+=n.modifiedCount,this.result.deletedCount+=n.deletedCount}}},29097:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CommandOperation=void 0;const s=i(86947),c=i(8682),h=i(38938),f=i(52060),E=i(98349),S=i(66181);class CommandOperation extends S.AbstractOperation{constructor(n,o){super(o),this.options=o??{};const i=o?.dbName||o?.authdb;if(this.ns=i?new f.MongoDBNamespace(i,"$cmd"):n?n.s.namespace.withCollection("$cmd"):new f.MongoDBNamespace("admin","$cmd"),this.readConcern=h.ReadConcern.fromOptions(o),this.writeConcern=E.WriteConcern.fromOptions(o),this.hasAspect(S.Aspect.EXPLAINABLE))this.explain=c.Explain.fromOptions(o),this.explain&&(0,c.validateExplainTimeoutOptions)(this.options,this.explain);else if(null!=o?.explain)throw new s.MongoInvalidArgumentError('Option "explain" is not supported on this command')}get canRetryWrite(){return this.hasAspect(S.Aspect.EXPLAINABLE)?null==this.explain:super.canRetryWrite}buildOptions(n){return{...this.options,...this.bsonOptions,timeoutContext:n,readPreference:this.readPreference,session:this.session}}buildCommand(n,o){const i=this.buildCommandDocument(n,o),s=this.session&&this.session.inTransaction();return this.readConcern&&(0,f.commandSupportsReadConcern)(i)&&!s&&Object.assign(i,{readConcern:this.readConcern}),this.writeConcern&&this.hasAspect(S.Aspect.WRITE_OPERATION)&&!s&&E.WriteConcern.apply(i,this.writeConcern),this.options.collation&&"object"==typeof this.options.collation&&!this.hasAspect(S.Aspect.SKIP_COLLATION)&&Object.assign(i,{collation:this.options.collation}),"number"==typeof this.options.maxTimeMS&&(i.maxTimeMS=this.options.maxTimeMS),this.hasAspect(S.Aspect.EXPLAINABLE)&&this.explain?(0,c.decorateWithExplain)(i,this.explain):i}}o.CommandOperation=CommandOperation},64303:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CountOperation=void 0;const s=i(89086),c=i(29097),h=i(66181);class CountOperation extends c.CommandOperation{constructor(n,o,i){super({s:{namespace:n}},i),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=i,this.collectionName=n.collection,this.query=o}get commandName(){return"count"}buildCommandDocument(n,o){const i=this.options,s={count:this.collectionName,query:this.query};return"number"==typeof i.limit&&(s.limit=i.limit),"number"==typeof i.skip&&(s.skip=i.skip),null!=i.hint&&(s.hint=i.hint),"number"==typeof i.maxTimeMS&&(s.maxTimeMS=i.maxTimeMS),s}handleOk(n){return n.getNumber("n")??0}}o.CountOperation=CountOperation,(0,h.defineAspects)(CountOperation,[h.Aspect.READ_OPERATION,h.Aspect.RETRYABLE])},75629:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CreateCollectionOperation=void 0,o.createCollections=async function createCollections(n,o,i){const c=E.TimeoutContext.create({session:i.session,serverSelectionTimeoutMS:n.client.s.options.serverSelectionTimeoutMS,waitQueueTimeoutMS:n.client.s.options.waitQueueTimeoutMS,timeoutMS:i.timeoutMS}),h=i.encryptedFields??n.client.s.options.autoEncryption?.encryptedFieldsMap?.[`${n.databaseName}.${o}`];if(h){class CreateSupportingFLEv2CollectionOperation extends CreateCollectionOperation{buildCommandDocument(n,o){if(!n.description.loadBalanced&&(0,S.maxWireVersion)(n)<s.MIN_SUPPORTED_QE_WIRE_VERSION)throw new f.MongoCompatibilityError(`${N} The minimum server version required is ${s.MIN_SUPPORTED_QE_SERVER_VERSION}`);return super.buildCommandDocument(n,o)}}const E=h.escCollection??`enxcol_.${o}.esc`,A=h.ecocCollection??`enxcol_.${o}.ecoc`;for(const o of[E,A]){const s=new CreateSupportingFLEv2CollectionOperation(n,o,{clusteredIndex:{key:{_id:1},unique:!0},session:i.session});await(0,O.executeOperation)(n.client,s,c)}i.encryptedFields||(i={...i,encryptedFields:h})}const A=await(0,O.executeOperation)(n.client,new CreateCollectionOperation(n,o,i),c);if(h){const s=T.CreateIndexesOperation.fromIndexSpecification(n,o,{__safeContent__:1},{session:i.session});await(0,O.executeOperation)(n.client,s,c)}return A};const s=i(26447),c=i(89086),h=i(36653),f=i(86947),E=i(38286),S=i(52060),A=i(29097),O=i(86437),T=i(87988),_=i(66181),D=new Set(["w","wtimeout","timeoutMS","j","fsync","autoIndexId","pkFactory","raw","readPreference","session","readConcern","writeConcern","raw","fieldsAsRaw","useBigInt64","promoteLongs","promoteValues","promoteBuffers","bsonRegExp","serializeFunctions","ignoreUndefined","enableUtf8Validation"]),N="Driver support of Queryable Encryption is incompatible with server. Upgrade server to use Queryable Encryption.";class CreateCollectionOperation extends A.CommandOperation{constructor(n,o,i={}){super(n,i),this.SERVER_COMMAND_RESPONSE_TYPE=c.MongoDBResponse,this.options=i,this.db=n,this.name=o}get commandName(){return"create"}buildCommandDocument(n,o){return{create:this.name,...Object.fromEntries(Object.entries(this.options).filter(([n,o])=>null!=o&&"function"!=typeof o&&!D.has(n)))}}handleOk(n){return new h.Collection(this.db,this.name,this.options)}}o.CreateCollectionOperation=CreateCollectionOperation,(0,_.defineAspects)(CreateCollectionOperation,[_.Aspect.WRITE_OPERATION])},20321:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DeleteManyOperation=o.DeleteOneOperation=o.DeleteOperation=void 0,o.makeDeleteStatement=makeDeleteStatement;const s=i(89086),c=i(86947),h=i(29097),f=i(66181);class DeleteOperation extends h.CommandOperation{constructor(n,o,i){super(void 0,i),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=i,this.ns=n,this.statements=o}get commandName(){return"delete"}get canRetryWrite(){return!1!==super.canRetryWrite&&this.statements.every(n=>null==n.limit||n.limit>0)}buildCommandDocument(n,o){const i=this.options,s="boolean"!=typeof i.ordered||i.ordered,h={delete:this.ns.collection,deletes:this.statements,ordered:s};i.let&&(h.let=i.let),void 0!==i.comment&&(h.comment=i.comment);if(this.writeConcern&&0===this.writeConcern.w&&this.statements.find(n=>n.hint))throw new c.MongoCompatibilityError("hint is not supported with unacknowledged writes");return h}}o.DeleteOperation=DeleteOperation;class DeleteOneOperation extends DeleteOperation{constructor(n,o,i){super(n,[makeDeleteStatement(o,{...i,limit:1})],i)}handleOk(n){const o=super.handleOk(n);if(this.explain)return o;if(o.code)throw new c.MongoServerError(o);if(o.writeErrors)throw new c.MongoServerError(o.writeErrors[0]);return{acknowledged:0!==this.writeConcern?.w,deletedCount:o.n}}}o.DeleteOneOperation=DeleteOneOperation;class DeleteManyOperation extends DeleteOperation{constructor(n,o,i){super(n,[makeDeleteStatement(o,i)],i)}handleOk(n){const o=super.handleOk(n);if(this.explain)return o;if(o.code)throw new c.MongoServerError(o);if(o.writeErrors)throw new c.MongoServerError(o.writeErrors[0]);return{acknowledged:0!==this.writeConcern?.w,deletedCount:o.n}}}function makeDeleteStatement(n,o){const i={q:n,limit:"number"==typeof o.limit?o.limit:0};return o.collation&&(i.collation=o.collation),o.hint&&(i.hint=o.hint),i}o.DeleteManyOperation=DeleteManyOperation,(0,f.defineAspects)(DeleteOperation,[f.Aspect.RETRYABLE,f.Aspect.WRITE_OPERATION]),(0,f.defineAspects)(DeleteOneOperation,[f.Aspect.RETRYABLE,f.Aspect.WRITE_OPERATION,f.Aspect.EXPLAINABLE,f.Aspect.SKIP_COLLATION]),(0,f.defineAspects)(DeleteManyOperation,[f.Aspect.WRITE_OPERATION,f.Aspect.EXPLAINABLE,f.Aspect.SKIP_COLLATION])},11042:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DistinctOperation=void 0;const s=i(89086),c=i(29097),h=i(66181);class DistinctOperation extends c.CommandOperation{constructor(n,o,i,c){super(n,c),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=c??{},this.collection=n,this.key=o,this.query=i}get commandName(){return"distinct"}buildCommandDocument(n){const o={distinct:this.collection.collectionName,key:this.key,query:this.query};return void 0!==this.options.comment&&(o.comment=this.options.comment),null!=this.options.hint&&(o.hint=this.options.hint),o}handleOk(n){return this.explain?n.toObject(this.bsonOptions):n.toObject(this.bsonOptions).values}}o.DistinctOperation=DistinctOperation,(0,h.defineAspects)(DistinctOperation,[h.Aspect.READ_OPERATION,h.Aspect.RETRYABLE,h.Aspect.EXPLAINABLE])},5415:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DropDatabaseOperation=o.DropCollectionOperation=void 0,o.dropCollections=async function dropCollections(n,o,i){const c=E.TimeoutContext.create({session:i.session,serverSelectionTimeoutMS:n.client.s.options.serverSelectionTimeoutMS,waitQueueTimeoutMS:n.client.s.options.waitQueueTimeoutMS,timeoutMS:i.timeoutMS}),S=n.client.s.options.autoEncryption?.encryptedFieldsMap;let O=i.encryptedFields??S?.[`${n.databaseName}.${o}`];if(!O&&S){const s=await n.listCollections({name:o},{nameOnly:!1,session:i.session,timeoutContext:new h.CursorTimeoutContext(c,Symbol())}).toArray();O=s?.[0]?.options?.encryptedFields}if(O){const h=O.escCollection||`enxcol_.${o}.esc`,E=O.ecocCollection||`enxcol_.${o}.ecoc`;for(const o of[h,E]){const h=new DropCollectionOperation(n,o,i);try{await(0,A.executeOperation)(n.client,h,c)}catch(n){if(!(n instanceof s.MongoServerError)||n.code!==f.MONGODB_ERROR_CODES.NamespaceNotFound)throw n}}}return await(0,A.executeOperation)(n.client,new DropCollectionOperation(n,o,i),c)};const s=i(45009),c=i(89086),h=i(65017),f=i(86947),E=i(38286),S=i(29097),A=i(86437),O=i(66181);class DropCollectionOperation extends S.CommandOperation{constructor(n,o,i={}){super(n,i),this.SERVER_COMMAND_RESPONSE_TYPE=c.MongoDBResponse,this.options=i,this.name=o}get commandName(){return"drop"}buildCommandDocument(n,o){return{drop:this.name}}handleOk(n){return!0}}o.DropCollectionOperation=DropCollectionOperation;class DropDatabaseOperation extends S.CommandOperation{constructor(n,o){super(n,o),this.SERVER_COMMAND_RESPONSE_TYPE=c.MongoDBResponse,this.options=o}get commandName(){return"dropDatabase"}buildCommandDocument(n,o){return{dropDatabase:1}}handleOk(n){return!0}}o.DropDatabaseOperation=DropDatabaseOperation,(0,O.defineAspects)(DropCollectionOperation,[O.Aspect.WRITE_OPERATION]),(0,O.defineAspects)(DropDatabaseOperation,[O.Aspect.WRITE_OPERATION])},99264:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.EstimatedDocumentCountOperation=void 0;const s=i(89086),c=i(29097),h=i(66181);class EstimatedDocumentCountOperation extends c.CommandOperation{constructor(n,o={}){super(n,o),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=o,this.collectionName=n.collectionName}get commandName(){return"count"}buildCommandDocument(n,o){const i={count:this.collectionName};return"number"==typeof this.options.maxTimeMS&&(i.maxTimeMS=this.options.maxTimeMS),void 0!==this.options.comment&&(i.comment=this.options.comment),i}handleOk(n){return n.getNumber("n")??0}}o.EstimatedDocumentCountOperation=EstimatedDocumentCountOperation,(0,h.defineAspects)(EstimatedDocumentCountOperation,[h.Aspect.READ_OPERATION,h.Aspect.RETRYABLE,h.Aspect.CURSOR_CREATING])},86437:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.executeOperation=async function executeOperation(n,o,i){if(!(o instanceof A.AbstractOperation))throw new s.MongoRuntimeError("This method requires a valid operation instance");const _=null==n.topology?await(0,E.abortable)(autoConnect(n),o.options):n.topology;let D,N=o.session;if(null==N)D=Symbol(),N=n.startSession({owner:D,explicit:!1});else{if(N.hasEnded)throw new s.MongoExpiredSessionError("Use of expired sessions is not permitted");if(N.snapshotEnabled&&!_.capabilities.supportsSnapshotReads)throw new s.MongoCompatibilityError("Snapshot reads require MongoDB 5.0 or later");if(N.client!==n)throw new s.MongoInvalidArgumentError("ClientSession must be from the same MongoClient")}o.session??=N;const R=o.readPreference??c.ReadPreference.primary,x=!!N?.inTransaction(),P=o.hasAspect(A.Aspect.READ_OPERATION);if(x&&!R.equals(c.ReadPreference.primary)&&(P||"runCommand"===o.commandName))throw new s.MongoTransactionError(`Read preference in a transaction must be primary, not: ${R.mode}`);N?.isPinned&&N.transaction.isCommitted&&!o.bypassPinningCheck&&N.unpin();i??=f.TimeoutContext.create({session:N,serverSelectionTimeoutMS:n.s.options.serverSelectionTimeoutMS,waitQueueTimeoutMS:n.s.options.waitQueueTimeoutMS,timeoutMS:o.options.timeoutMS});try{return await async function tryOperation(n,{topology:o,timeoutContext:i,session:c,readPreference:f}){let _;_=n.hasAspect(A.Aspect.MUST_SELECT_SAME_SERVER)?(0,h.sameServerSelector)(n.server?.description):n instanceof S.AggregateOperation&&n.hasWriteStage?(0,h.secondaryWritableServerSelector)(o.commonWireVersion,f):f;let D=await o.selectServer(_,{session:c,operationName:n.commandName,timeoutContext:i,signal:n.options.signal});const N=n.hasAspect(A.Aspect.READ_OPERATION),R=n.hasAspect(A.Aspect.WRITE_OPERATION),x=c?.inTransaction()??!1,P=o.s.options.retryReads&&!x&&n.canRetryRead,M=o.s.options.retryWrites&&!x&&(0,E.supportsRetryableWrites)(D)&&n.canRetryWrite,I=n.hasAspect(A.Aspect.RETRYABLE)&&null!=c&&(N&&P||R&&M);R&&M&&null!=c&&(n.options.willRetryWrite=!0,c.incrementTransactionNumber());const B=I?i.csotEnabled()?1/0:2:1;let F,L;for(let h=0;h<B;h++){if(F){if(R&&F.code===O)throw new s.MongoServerError({message:T,errmsg:T,originalError:F});if(n.hasAspect(A.Aspect.COMMAND_BATCHING)&&!n.canRetryWrite)throw F;if(R&&!(0,s.isRetryableWriteError)(F))throw F;if(N&&!(0,s.isRetryableReadError)(F))throw F;if(F instanceof s.MongoNetworkError&&n.hasAspect(A.Aspect.CURSOR_CREATING)&&null!=c&&c.isPinned&&!c.inTransaction()&&c.unpin({force:!0,forceClear:!0}),D=await o.selectServer(_,{session:c,operationName:n.commandName,previousServer:L,signal:n.options.signal}),R&&!(0,E.supportsRetryableWrites)(D))throw new s.MongoUnexpectedServerResponseError("Selected server does not support retryable writes")}n.server=D;try{h>0&&n.hasAspect(A.Aspect.COMMAND_BATCHING)&&n.resetBatch();try{const o=await D.command(n,i);return n.handleOk(o)}catch(o){return n.handleError(o)}}catch(n){if(!(n instanceof s.MongoError))throw n;if(null!=F&&n.hasErrorLabel(s.MongoErrorLabel.NoWritesPerformed))throw F;L=D.description,F=n,i.clear()}}throw F??new s.MongoRuntimeError("Tried to propagate retryability error, but no error was found.")}(o,{topology:_,timeoutContext:i,session:N,readPreference:R})}finally{null!=N?.owner&&N.owner===D&&await N.endSession()}},o.autoConnect=autoConnect;const s=i(86947),c=i(50773),h=i(44289),f=i(38286),E=i(52060),S=i(4651),A=i(66181),O=s.MONGODB_ERROR_CODES.IllegalOperation,T="This MongoDB deployment does not support retryable writes. Please add retryWrites=false to your connection string.";async function autoConnect(n){if(null==n.topology){if(n.s.hasBeenClosed)throw new s.MongoNotConnectedError("Client must be connected before running operations");n.s.options.__skipPingOnConnect=!0;try{if(await n.connect(),null==n.topology)throw new s.MongoRuntimeError("client.connect did not create a topology but also did not throw");return n.topology}finally{delete n.s.options.__skipPingOnConnect}}return n.topology}},93793:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FindOperation=void 0;const s=i(89086),c=i(86947),h=i(47781),f=i(52060),E=i(29097),S=i(66181);class FindOperation extends E.CommandOperation{constructor(n,o={},i={}){if(super(void 0,i),this.SERVER_COMMAND_RESPONSE_TYPE=s.CursorResponse,this.options={...i},delete this.options.writeConcern,this.ns=n,"object"!=typeof o||Array.isArray(o))throw new c.MongoInvalidArgumentError("Query filter must be a plain object or ObjectId");this.filter=null!=o&&"ObjectId"===o._bsontype?{_id:o}:o,this.SERVER_COMMAND_RESPONSE_TYPE=this.explain?s.ExplainedCursorResponse:s.CursorResponse}get commandName(){return"find"}buildOptions(n){return{...this.options,...this.bsonOptions,documentsReturnedIn:"firstBatch",session:this.session,timeoutContext:n}}handleOk(n){return n}buildCommandDocument(){return function makeFindCommand(n,o,i){const s={find:n.collection,filter:o};i.sort&&(s.sort=(0,h.formatSort)(i.sort));if(i.projection){let n=i.projection;n&&Array.isArray(n)&&(n=n.length?n.reduce((n,o)=>(n[o]=1,n),{}):{_id:1}),s.projection=n}i.hint&&(s.hint=(0,f.normalizeHintField)(i.hint));"number"==typeof i.skip&&(s.skip=i.skip);"number"==typeof i.limit&&(i.limit<0?(s.limit=-i.limit,s.singleBatch=!0):s.limit=i.limit);"number"==typeof i.batchSize&&(i.batchSize<0?s.limit=-i.batchSize:i.batchSize===i.limit?s.batchSize=i.batchSize+1:s.batchSize=i.batchSize);"boolean"==typeof i.singleBatch&&(s.singleBatch=i.singleBatch);void 0!==i.comment&&(s.comment=i.comment);i.max&&(s.max=i.max);i.min&&(s.min=i.min);"boolean"==typeof i.returnKey&&(s.returnKey=i.returnKey);"boolean"==typeof i.showRecordId&&(s.showRecordId=i.showRecordId);"boolean"==typeof i.tailable&&(s.tailable=i.tailable);"boolean"==typeof i.oplogReplay&&(s.oplogReplay=i.oplogReplay);"boolean"==typeof i.timeout?s.noCursorTimeout=!i.timeout:"boolean"==typeof i.noCursorTimeout&&(s.noCursorTimeout=i.noCursorTimeout);"boolean"==typeof i.awaitData&&(s.awaitData=i.awaitData);"boolean"==typeof i.allowPartialResults&&(s.allowPartialResults=i.allowPartialResults);"boolean"==typeof i.allowDiskUse&&(s.allowDiskUse=i.allowDiskUse);i.let&&(s.let=i.let);return s}(this.ns,this.filter,this.options)}}o.FindOperation=FindOperation,(0,S.defineAspects)(FindOperation,[S.Aspect.READ_OPERATION,S.Aspect.RETRYABLE,S.Aspect.EXPLAINABLE,S.Aspect.CURSOR_CREATING])},31244:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FindOneAndUpdateOperation=o.FindOneAndReplaceOperation=o.FindOneAndDeleteOperation=o.FindAndModifyOperation=o.ReturnDocument=void 0;const s=i(89086),c=i(86947),h=i(50773),f=i(47781),E=i(52060),S=i(29097),A=i(66181);function configureFindAndModifyCmdBaseUpdateOpts(n,i){return n.new=i.returnDocument===o.ReturnDocument.AFTER,n.upsert=!0===i.upsert,!0===i.bypassDocumentValidation&&(n.bypassDocumentValidation=i.bypassDocumentValidation),n}o.ReturnDocument=Object.freeze({BEFORE:"before",AFTER:"after"});class FindAndModifyOperation extends S.CommandOperation{constructor(n,o,i){super(n,i),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=i,this.readPreference=h.ReadPreference.primary,this.collection=n,this.query=o}get commandName(){return"findAndModify"}buildCommandDocument(n,o){const i=this.options,s={findAndModify:this.collection.collectionName,query:this.query,remove:!1,new:!1,upsert:!1};i.includeResultMetadata??=!1;const h=(0,f.formatSort)(i.sort);if(h&&(s.sort=h),i.projection&&(s.fields=i.projection),i.maxTimeMS&&(s.maxTimeMS=i.maxTimeMS),i.writeConcern&&(s.writeConcern=i.writeConcern),i.let&&(s.let=i.let),void 0!==i.comment&&(s.comment=i.comment),(0,E.decorateWithCollation)(s,this.collection,i),i.hint){if(0===this.writeConcern?.w)throw new c.MongoCompatibilityError("The current topology does not support a hint on findAndModify commands");s.hint=i.hint}return s}handleOk(n){const o=super.handleOk(n);return this.options.includeResultMetadata?o:o.value??null}}o.FindAndModifyOperation=FindAndModifyOperation;o.FindOneAndDeleteOperation=class FindOneAndDeleteOperation extends FindAndModifyOperation{constructor(n,o,i){if(null==o||"object"!=typeof o)throw new c.MongoInvalidArgumentError('Argument "filter" must be an object');super(n,o,i)}buildCommandDocument(n,o){const i=super.buildCommandDocument(n,o);return i.remove=!0,i}};o.FindOneAndReplaceOperation=class FindOneAndReplaceOperation extends FindAndModifyOperation{constructor(n,o,i,s){if(null==o||"object"!=typeof o)throw new c.MongoInvalidArgumentError('Argument "filter" must be an object');if(null==i||"object"!=typeof i)throw new c.MongoInvalidArgumentError('Argument "replacement" must be an object');if((0,E.hasAtomicOperators)(i))throw new c.MongoInvalidArgumentError("Replacement document must not contain atomic operators");super(n,o,s),this.replacement=i}buildCommandDocument(n,o){const i=super.buildCommandDocument(n,o);return i.update=this.replacement,configureFindAndModifyCmdBaseUpdateOpts(i,this.options),i}};o.FindOneAndUpdateOperation=class FindOneAndUpdateOperation extends FindAndModifyOperation{constructor(n,o,i,s){if(null==o||"object"!=typeof o)throw new c.MongoInvalidArgumentError('Argument "filter" must be an object');if(null==i||"object"!=typeof i)throw new c.MongoInvalidArgumentError('Argument "update" must be an object');if(!(0,E.hasAtomicOperators)(i,s))throw new c.MongoInvalidArgumentError("Update document requires atomic operators");super(n,o,s),this.update=i,this.options=s}buildCommandDocument(n,o){const i=super.buildCommandDocument(n,o);return i.update=this.update,configureFindAndModifyCmdBaseUpdateOpts(i,this.options),this.options.arrayFilters&&(i.arrayFilters=this.options.arrayFilters),i}},(0,A.defineAspects)(FindAndModifyOperation,[A.Aspect.WRITE_OPERATION,A.Aspect.RETRYABLE,A.Aspect.EXPLAINABLE])},42326:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.GetMoreOperation=void 0;const s=i(89086),c=i(86947),h=i(52060),f=i(66181);class GetMoreOperation extends f.AbstractOperation{constructor(n,o,i,c){super(c),this.SERVER_COMMAND_RESPONSE_TYPE=s.CursorResponse,this.options=c,this.ns=n,this.cursorId=o,this.server=i}get commandName(){return"getMore"}buildCommand(n){if(null==this.cursorId||this.cursorId.isZero())throw new c.MongoRuntimeError("Unable to iterate cursor with no id");const o=this.ns.collection;if(null==o)throw new c.MongoRuntimeError("A collection name must be determined before getMore");const i={getMore:this.cursorId,collection:o};return"number"==typeof this.options.batchSize&&(i.batchSize=Math.abs(this.options.batchSize)),"number"==typeof this.options.maxAwaitTimeMS&&(i.maxTimeMS=this.options.maxAwaitTimeMS),void 0!==this.options.comment&&(0,h.maxWireVersion)(n)>=9&&(i.comment=this.options.comment),i}buildOptions(n){return{returnFieldSelector:null,documentsReturnedIn:"nextBatch",timeoutContext:n,...this.options}}handleOk(n){return n}}o.GetMoreOperation=GetMoreOperation,(0,f.defineAspects)(GetMoreOperation,[f.Aspect.READ_OPERATION,f.Aspect.MUST_SELECT_SAME_SERVER])},87988:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ListIndexesOperation=o.DropIndexOperation=o.CreateIndexesOperation=void 0;const s=i(89086),c=i(86947),h=i(52060),f=i(29097),E=i(66181),S=new Set(["background","unique","name","partialFilterExpression","sparse","hidden","expireAfterSeconds","storageEngine","collation","version","weights","default_language","language_override","textIndexVersion","2dsphereIndexVersion","bits","min","max","bucketSize","wildcardProjection"]);function constructIndexDescriptionMap(n){const o=new Map,i=!Array.isArray(n)||function isSingleIndexTuple(n){return Array.isArray(n)&&2===n.length&&function isIndexDirection(n){return"number"==typeof n||"2d"===n||"2dsphere"===n||"text"===n||"geoHaystack"===n}(n[1])}(n)?[n]:n;for(const n of i)if("string"==typeof n)o.set(n,1);else if(Array.isArray(n))o.set(n[0],n[1]??1);else if(n instanceof Map)for(const[i,s]of n)o.set(i,s);else if((0,h.isObject)(n))for(const[i,s]of Object.entries(n))o.set(i,s);return o}class CreateIndexesOperation extends f.CommandOperation{constructor(n,o,i,c){super(n,c),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=c??{},this.options.collation=void 0,this.collectionName=o,this.indexes=i.map(n=>{const o=n.key instanceof Map?n.key:new Map(Object.entries(n.key)),i=n.name??Array.from(o).flat().join("_"),s=function resolveIndexDescription(n){const o=Object.entries(n).filter(([n])=>S.has(n));return Object.fromEntries(o.map(([n,o])=>"version"===n?["v",o]:[n,o]))}(n);return{...s,name:i,key:o}}),this.ns=n.s.namespace}static fromIndexDescriptionArray(n,o,i,s){return new CreateIndexesOperation(n,o,i,s)}static fromIndexSpecification(n,o,i,s={}){const c=constructIndexDescriptionMap(i),h={...s,key:c};return new CreateIndexesOperation(n,o,[h],s)}get commandName(){return"createIndexes"}buildCommandDocument(n){const o=this.options,i=this.indexes,s=(0,h.maxWireVersion)(n),f={createIndexes:this.collectionName,indexes:i};if(null!=o.commitQuorum){if(s<9)throw new c.MongoCompatibilityError("Option `commitQuorum` for `createIndexes` not supported on servers < 4.4");f.commitQuorum=o.commitQuorum}return f}handleOk(n){return this.indexes.map(n=>n.name||"")}}o.CreateIndexesOperation=CreateIndexesOperation;class DropIndexOperation extends f.CommandOperation{constructor(n,o,i){super(n,i),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=i??{},this.collection=n,this.indexName=o,this.ns=n.fullNamespace}get commandName(){return"dropIndexes"}buildCommandDocument(n){return{dropIndexes:this.collection.collectionName,index:this.indexName}}}o.DropIndexOperation=DropIndexOperation;class ListIndexesOperation extends f.CommandOperation{constructor(n,o){super(n,o),this.SERVER_COMMAND_RESPONSE_TYPE=s.CursorResponse,this.options={...o},delete this.options.writeConcern,this.collectionNamespace=n.s.namespace}get commandName(){return"listIndexes"}buildCommandDocument(n){const o=(0,h.maxWireVersion)(n),i=this.options.batchSize?{batchSize:this.options.batchSize}:{},s={listIndexes:this.collectionNamespace.collection,cursor:i};return o>=9&&void 0!==this.options.comment&&(s.comment=this.options.comment),s}handleOk(n){return n}}o.ListIndexesOperation=ListIndexesOperation,(0,E.defineAspects)(ListIndexesOperation,[E.Aspect.READ_OPERATION,E.Aspect.RETRYABLE,E.Aspect.CURSOR_CREATING]),(0,E.defineAspects)(CreateIndexesOperation,[E.Aspect.WRITE_OPERATION]),(0,E.defineAspects)(DropIndexOperation,[E.Aspect.WRITE_OPERATION])},42011:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.InsertOneOperation=o.InsertOperation=void 0;const s=i(89086),c=i(86947),h=i(52060),f=i(29097),E=i(66181);class InsertOperation extends f.CommandOperation{constructor(n,o,i){super(void 0,i),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options={...i,checkKeys:i.checkKeys??!1},this.ns=n,this.documents=o}get commandName(){return"insert"}buildCommandDocument(n,o){const i=this.options??{},s="boolean"!=typeof i.ordered||i.ordered,c={insert:this.ns.collection,documents:this.documents,ordered:s};return"boolean"==typeof i.bypassDocumentValidation&&(c.bypassDocumentValidation=i.bypassDocumentValidation),void 0!==i.comment&&(c.comment=i.comment),c}}o.InsertOperation=InsertOperation;class InsertOneOperation extends InsertOperation{constructor(n,o,i){super(n.s.namespace,[(0,h.maybeAddIdToDocuments)(n,o,i)],i)}handleOk(n){const o=super.handleOk(n);if(o.code)throw new c.MongoServerError(o);if(o.writeErrors)throw new c.MongoServerError(o.writeErrors[0]);return{acknowledged:0!==this.writeConcern?.w,insertedId:this.documents[0]._id}}}o.InsertOneOperation=InsertOneOperation,(0,E.defineAspects)(InsertOperation,[E.Aspect.RETRYABLE,E.Aspect.WRITE_OPERATION]),(0,E.defineAspects)(InsertOneOperation,[E.Aspect.RETRYABLE,E.Aspect.WRITE_OPERATION])},53494:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.KillCursorsOperation=void 0;const s=i(89086),c=i(86947),h=i(66181);class KillCursorsOperation extends h.AbstractOperation{constructor(n,o,i,c){super(c),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.ns=o,this.cursorId=n,this.server=i}get commandName(){return"killCursors"}buildCommand(n,o){const i=this.ns.collection;if(null==i)throw new c.MongoRuntimeError("A collection name must be determined before killCursors");return{killCursors:i,cursors:[this.cursorId]}}buildOptions(n){return{session:this.session,timeoutContext:n}}handleError(n){}}o.KillCursorsOperation=KillCursorsOperation,(0,h.defineAspects)(KillCursorsOperation,[h.Aspect.MUST_SELECT_SAME_SERVER])},65860:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ListCollectionsOperation=void 0;const s=i(89086),c=i(52060),h=i(29097),f=i(66181);class ListCollectionsOperation extends h.CommandOperation{constructor(n,o,i){super(n,i),this.SERVER_COMMAND_RESPONSE_TYPE=s.CursorResponse,this.options={...i},delete this.options.writeConcern,this.db=n,this.filter=o,this.nameOnly=!!this.options.nameOnly,this.authorizedCollections=!!this.options.authorizedCollections,"number"==typeof this.options.batchSize&&(this.batchSize=this.options.batchSize),this.SERVER_COMMAND_RESPONSE_TYPE=this.explain?s.ExplainedCursorResponse:s.CursorResponse}get commandName(){return"listCollections"}buildCommandDocument(n){const o={listCollections:1,filter:this.filter,cursor:this.batchSize?{batchSize:this.batchSize}:{},nameOnly:this.nameOnly,authorizedCollections:this.authorizedCollections};return(0,c.maxWireVersion)(n)>=9&&void 0!==this.options.comment&&(o.comment=this.options.comment),o}handleOk(n){return n}}o.ListCollectionsOperation=ListCollectionsOperation,(0,f.defineAspects)(ListCollectionsOperation,[f.Aspect.READ_OPERATION,f.Aspect.RETRYABLE,f.Aspect.CURSOR_CREATING])},13463:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ListDatabasesOperation=void 0;const s=i(89086),c=i(52060),h=i(29097),f=i(66181);class ListDatabasesOperation extends h.CommandOperation{constructor(n,o){super(n,o),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=o??{},this.ns=new c.MongoDBNamespace("admin","$cmd")}get commandName(){return"listDatabases"}buildCommandDocument(n,o){const i={listDatabases:1};return"boolean"==typeof this.options.nameOnly&&(i.nameOnly=this.options.nameOnly),this.options.filter&&(i.filter=this.options.filter),"boolean"==typeof this.options.authorizedDatabases&&(i.authorizedDatabases=this.options.authorizedDatabases),(0,c.maxWireVersion)(n)>=9&&void 0!==this.options.comment&&(i.comment=this.options.comment),i}}o.ListDatabasesOperation=ListDatabasesOperation,(0,f.defineAspects)(ListDatabasesOperation,[f.Aspect.READ_OPERATION,f.Aspect.RETRYABLE])},66181:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AbstractOperation=o.Aspect=void 0,o.defineAspects=function defineAspects(n,o){Array.isArray(o)||o instanceof Set||(o=[o]);return o=new Set(o),Object.defineProperty(n,"aspects",{value:o,writable:!1}),o};const s=i(63403),c=i(50773);o.Aspect={READ_OPERATION:Symbol("READ_OPERATION"),WRITE_OPERATION:Symbol("WRITE_OPERATION"),RETRYABLE:Symbol("RETRYABLE"),EXPLAINABLE:Symbol("EXPLAINABLE"),SKIP_COLLATION:Symbol("SKIP_COLLATION"),CURSOR_CREATING:Symbol("CURSOR_CREATING"),MUST_SELECT_SAME_SERVER:Symbol("MUST_SELECT_SAME_SERVER"),COMMAND_BATCHING:Symbol("COMMAND_BATCHING")};o.AbstractOperation=class AbstractOperation{constructor(n={}){this.readPreference=this.hasAspect(o.Aspect.WRITE_OPERATION)?c.ReadPreference.primary:c.ReadPreference.fromOptions(n)??c.ReadPreference.primary,this.bsonOptions=(0,s.resolveBSONOptions)(n),this._session=null!=n.session?n.session:void 0,this.options=n,this.bypassPinningCheck=!!n.bypassPinningCheck}hasAspect(n){const o=this.constructor;return null!=o.aspects&&o.aspects.has(n)}get session(){return this._session}set session(n){this._session=n}clearSession(){this._session=void 0}resetBatch(){return!0}get canRetryRead(){return this.hasAspect(o.Aspect.RETRYABLE)&&this.hasAspect(o.Aspect.READ_OPERATION)}get canRetryWrite(){return this.hasAspect(o.Aspect.RETRYABLE)&&this.hasAspect(o.Aspect.WRITE_OPERATION)}handleOk(n){return n.toObject(this.bsonOptions)}handleError(n){throw n}}},4867:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ProfilingLevelOperation=void 0;const s=i(63403),c=i(89086),h=i(86947),f=i(29097);class ProfilingLevelResponse extends c.MongoDBResponse{get was(){return this.get("was",s.BSONType.int,!0)}}class ProfilingLevelOperation extends f.CommandOperation{constructor(n,o){super(n,o),this.SERVER_COMMAND_RESPONSE_TYPE=ProfilingLevelResponse,this.options=o}get commandName(){return"profile"}buildCommandDocument(n){return{profile:-1}}handleOk(n){if(1===n.ok){const o=n.was;if(0===o)return"off";if(1===o)return"slow_only";if(2===o)return"all";throw new h.MongoUnexpectedServerResponseError(`Illegal profiling level value ${o}`)}throw new h.MongoUnexpectedServerResponseError("Error with profile command")}}o.ProfilingLevelOperation=ProfilingLevelOperation},67862:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.RemoveUserOperation=void 0;const s=i(89086),c=i(29097),h=i(66181);class RemoveUserOperation extends c.CommandOperation{constructor(n,o,i){super(n,i),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=i,this.username=o}get commandName(){return"dropUser"}buildCommandDocument(n){return{dropUser:this.username}}handleOk(n){return!0}}o.RemoveUserOperation=RemoveUserOperation,(0,h.defineAspects)(RemoveUserOperation,[h.Aspect.WRITE_OPERATION])},5964:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.RenameOperation=void 0;const s=i(89086),c=i(36653),h=i(52060),f=i(29097),E=i(66181);class RenameOperation extends f.CommandOperation{constructor(n,o,i){super(n,i),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.collection=n,this.newName=o,this.options=i,this.ns=new h.MongoDBNamespace("admin","$cmd")}get commandName(){return"renameCollection"}buildCommandDocument(n,o){return{renameCollection:this.collection.namespace,to:this.collection.s.namespace.withCollection(this.newName).toString(),dropTarget:"boolean"==typeof this.options.dropTarget&&this.options.dropTarget}}handleOk(n){return new c.Collection(this.collection.s.db,this.newName,this.collection.s.options)}}o.RenameOperation=RenameOperation,(0,E.defineAspects)(RenameOperation,[E.Aspect.WRITE_OPERATION])},37639:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.RunCursorCommandOperation=o.RunCommandOperation=void 0;const s=i(89086),c=i(66181);class RunCommandOperation extends c.AbstractOperation{constructor(n,o,i){super(i),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.command=o,this.options=i,this.ns=n.withCollection("$cmd")}get commandName(){return"runCommand"}buildCommand(n,o){return this.command}buildOptions(n){return{...this.options,session:this.session,timeoutContext:n,signal:this.options.signal,readPreference:this.options.readPreference}}}o.RunCommandOperation=RunCommandOperation;o.RunCursorCommandOperation=class RunCursorCommandOperation extends RunCommandOperation{constructor(){super(...arguments),this.SERVER_COMMAND_RESPONSE_TYPE=s.CursorResponse}handleOk(n){return n}}},38636:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CreateSearchIndexesOperation=void 0;const s=i(89086),c=i(66181);class CreateSearchIndexesOperation extends c.AbstractOperation{constructor(n,o){super(),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.collection=n,this.descriptions=o,this.ns=n.fullNamespace}get commandName(){return"createSearchIndexes"}buildCommand(n,o){return{createSearchIndexes:this.collection.fullNamespace.collection,indexes:this.descriptions}}handleOk(n){return super.handleOk(n).indexesCreated.map(n=>n.name)}buildOptions(n){return{session:this.session,timeoutContext:n}}}o.CreateSearchIndexesOperation=CreateSearchIndexesOperation},91793:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DropSearchIndexOperation=void 0;const s=i(89086),c=i(86947),h=i(66181);class DropSearchIndexOperation extends h.AbstractOperation{constructor(n,o){super(),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.collection=n,this.name=o,this.ns=n.fullNamespace}get commandName(){return"dropSearchIndex"}buildCommand(n,o){const i={dropSearchIndex:this.collection.fullNamespace.collection};return"string"==typeof this.name&&(i.name=this.name),i}handleOk(n){}buildOptions(n){return{session:this.session,timeoutContext:n}}handleError(n){if(!(n instanceof c.MongoServerError&&n.code===c.MONGODB_ERROR_CODES.NamespaceNotFound))throw n}}o.DropSearchIndexOperation=DropSearchIndexOperation},74025:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.UpdateSearchIndexOperation=void 0;const s=i(89086),c=i(66181);class UpdateSearchIndexOperation extends c.AbstractOperation{constructor(n,o,i){super(),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.collection=n,this.name=o,this.definition=i,this.ns=n.fullNamespace}get commandName(){return"updateSearchIndex"}buildCommand(n,o){return{updateSearchIndex:this.collection.fullNamespace.collection,name:this.name,definition:this.definition}}handleOk(n){}buildOptions(n){return{session:this.session,timeoutContext:n}}}o.UpdateSearchIndexOperation=UpdateSearchIndexOperation},80008:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SetProfilingLevelOperation=o.ProfilingLevel=void 0;const s=i(89086),c=i(86947),h=i(52060),f=i(29097),E=new Set(["off","slow_only","all"]);o.ProfilingLevel=Object.freeze({off:"off",slowOnly:"slow_only",all:"all"});class SetProfilingLevelOperation extends f.CommandOperation{constructor(n,i,c){switch(super(n,c),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=c,i){case o.ProfilingLevel.off:this.profile=0;break;case o.ProfilingLevel.slowOnly:this.profile=1;break;case o.ProfilingLevel.all:this.profile=2;break;default:this.profile=0}this.level=i}get commandName(){return"profile"}buildCommandDocument(n){const i=this.level;if(!E.has(i))throw new c.MongoInvalidArgumentError(`Profiling level must be one of "${(0,h.enumToString)(o.ProfilingLevel)}"`);return{profile:this.profile}}handleOk(n){return this.level}}o.SetProfilingLevelOperation=SetProfilingLevelOperation},35207:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DbStatsOperation=void 0;const s=i(89086),c=i(29097),h=i(66181);class DbStatsOperation extends c.CommandOperation{constructor(n,o){super(n,o),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=o}get commandName(){return"dbStats"}buildCommandDocument(n){const o={dbStats:!0};return null!=this.options.scale&&(o.scale=this.options.scale),o}}o.DbStatsOperation=DbStatsOperation,(0,h.defineAspects)(DbStatsOperation,[h.Aspect.READ_OPERATION])},48703:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ReplaceOneOperation=o.UpdateManyOperation=o.UpdateOneOperation=o.UpdateOperation=void 0,o.makeUpdateStatement=makeUpdateStatement;const s=i(89086),c=i(86947),h=i(47781),f=i(52060),E=i(29097),S=i(66181);class UpdateOperation extends E.CommandOperation{constructor(n,o,i){super(void 0,i),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=i,this.ns=n,this.statements=o}get commandName(){return"update"}get canRetryWrite(){return!1!==super.canRetryWrite&&this.statements.every(n=>null==n.multi||!1===n.multi)}buildCommandDocument(n,o){const i=this.options,s={update:this.ns.collection,updates:this.statements,ordered:i.ordered??!0};"boolean"==typeof i.bypassDocumentValidation&&(s.bypassDocumentValidation=i.bypassDocumentValidation),i.let&&(s.let=i.let),void 0!==i.comment&&(s.comment=i.comment);if(0===this.writeConcern?.w&&this.statements.find(n=>n.hint))throw new c.MongoCompatibilityError("hint is not supported with unacknowledged writes");return s}}o.UpdateOperation=UpdateOperation;class UpdateOneOperation extends UpdateOperation{constructor(n,o,i,s){if(super(n,[makeUpdateStatement(o,i,{...s,multi:!1})],s),!(0,f.hasAtomicOperators)(i,s))throw new c.MongoInvalidArgumentError("Update document requires atomic operators")}handleOk(n){const o=super.handleOk(n);if(null!=this.explain)return o;if(o.code)throw new c.MongoServerError(o);if(o.writeErrors)throw new c.MongoServerError(o.writeErrors[0]);return{acknowledged:0!==this.writeConcern?.w,modifiedCount:o.nModified??o.n,upsertedId:Array.isArray(o.upserted)&&o.upserted.length>0?o.upserted[0]._id:null,upsertedCount:Array.isArray(o.upserted)&&o.upserted.length?o.upserted.length:0,matchedCount:Array.isArray(o.upserted)&&o.upserted.length>0?0:o.n}}}o.UpdateOneOperation=UpdateOneOperation;class UpdateManyOperation extends UpdateOperation{constructor(n,o,i,s){if(super(n,[makeUpdateStatement(o,i,{...s,multi:!0})],s),!(0,f.hasAtomicOperators)(i,s))throw new c.MongoInvalidArgumentError("Update document requires atomic operators")}handleOk(n){const o=super.handleOk(n);if(null!=this.explain)return o;if(o.code)throw new c.MongoServerError(o);if(o.writeErrors)throw new c.MongoServerError(o.writeErrors[0]);return{acknowledged:0!==this.writeConcern?.w,modifiedCount:o.nModified??o.n,upsertedId:Array.isArray(o.upserted)&&o.upserted.length>0?o.upserted[0]._id:null,upsertedCount:Array.isArray(o.upserted)&&o.upserted.length?o.upserted.length:0,matchedCount:Array.isArray(o.upserted)&&o.upserted.length>0?0:o.n}}}o.UpdateManyOperation=UpdateManyOperation;class ReplaceOneOperation extends UpdateOperation{constructor(n,o,i,s){if(super(n,[makeUpdateStatement(o,i,{...s,multi:!1})],s),(0,f.hasAtomicOperators)(i))throw new c.MongoInvalidArgumentError("Replacement document must not contain atomic operators")}handleOk(n){const o=super.handleOk(n);if(null!=this.explain)return o;if(o.code)throw new c.MongoServerError(o);if(o.writeErrors)throw new c.MongoServerError(o.writeErrors[0]);return{acknowledged:0!==this.writeConcern?.w,modifiedCount:o.nModified??o.n,upsertedId:Array.isArray(o.upserted)&&o.upserted.length>0?o.upserted[0]._id:null,upsertedCount:Array.isArray(o.upserted)&&o.upserted.length?o.upserted.length:0,matchedCount:Array.isArray(o.upserted)&&o.upserted.length>0?0:o.n}}}function makeUpdateStatement(n,o,i){if(null==n||"object"!=typeof n)throw new c.MongoInvalidArgumentError("Selector must be a valid JavaScript object");if(null==o||"object"!=typeof o)throw new c.MongoInvalidArgumentError("Document must be a valid JavaScript object");const s={q:n,u:o};return"boolean"==typeof i.upsert&&(s.upsert=i.upsert),i.multi&&(s.multi=i.multi),i.hint&&(s.hint=i.hint),i.arrayFilters&&(s.arrayFilters=i.arrayFilters),i.collation&&(s.collation=i.collation),i.multi||null==i.sort||(s.sort=(0,h.formatSort)(i.sort)),s}o.ReplaceOneOperation=ReplaceOneOperation,(0,S.defineAspects)(UpdateOperation,[S.Aspect.RETRYABLE,S.Aspect.WRITE_OPERATION,S.Aspect.SKIP_COLLATION]),(0,S.defineAspects)(UpdateOneOperation,[S.Aspect.RETRYABLE,S.Aspect.WRITE_OPERATION,S.Aspect.EXPLAINABLE,S.Aspect.SKIP_COLLATION]),(0,S.defineAspects)(UpdateManyOperation,[S.Aspect.WRITE_OPERATION,S.Aspect.EXPLAINABLE,S.Aspect.SKIP_COLLATION]),(0,S.defineAspects)(ReplaceOneOperation,[S.Aspect.RETRYABLE,S.Aspect.WRITE_OPERATION,S.Aspect.SKIP_COLLATION])},35571:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ValidateCollectionOperation=void 0;const s=i(89086),c=i(86947),h=i(29097);class ValidateCollectionOperation extends h.CommandOperation{constructor(n,o,i){super(n.s.db,i),this.SERVER_COMMAND_RESPONSE_TYPE=s.MongoDBResponse,this.options=i,this.collectionName=o}get commandName(){return"validate"}buildCommandDocument(n,o){return{validate:this.collectionName,...Object.fromEntries(Object.entries(this.options).filter(n=>"session"!==n[0]))}}handleOk(n){const o=super.handleOk(n);if(null!=o.result&&"string"!=typeof o.result)throw new c.MongoUnexpectedServerResponseError("Error with validation data");if(null!=o.result&&null!=o.result.match(/exception|corrupt/))throw new c.MongoUnexpectedServerResponseError(`Invalid collection ${this.collectionName}`);if(null!=o.valid&&!o.valid)throw new c.MongoUnexpectedServerResponseError(`Invalid collection ${this.collectionName}`);return n}}o.ValidateCollectionOperation=ValidateCollectionOperation},38938:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ReadConcern=o.ReadConcernLevel=void 0,o.ReadConcernLevel=Object.freeze({local:"local",majority:"majority",linearizable:"linearizable",available:"available",snapshot:"snapshot"});class ReadConcern{constructor(n){this.level=o.ReadConcernLevel[n]??n}static fromOptions(n){if(null!=n){if(n.readConcern){const{readConcern:o}=n;if(o instanceof ReadConcern)return o;if("string"==typeof o)return new ReadConcern(o);if("level"in o&&o.level)return new ReadConcern(o.level)}return n.level?new ReadConcern(n.level):void 0}}static get MAJORITY(){return o.ReadConcernLevel.majority}static get AVAILABLE(){return o.ReadConcernLevel.available}static get LINEARIZABLE(){return o.ReadConcernLevel.linearizable}static get SNAPSHOT(){return o.ReadConcernLevel.snapshot}toJSON(){return{level:this.level}}}o.ReadConcern=ReadConcern},50773:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ReadPreference=o.ReadPreferenceMode=void 0;const s=i(86947);o.ReadPreferenceMode=Object.freeze({primary:"primary",primaryPreferred:"primaryPreferred",secondary:"secondary",secondaryPreferred:"secondaryPreferred",nearest:"nearest"});class ReadPreference{constructor(n,o,i){if(!ReadPreference.isValid(n))throw new s.MongoInvalidArgumentError(`Invalid read preference mode ${JSON.stringify(n)}`);if(null!=i||"object"!=typeof o||Array.isArray(o)){if(o&&!Array.isArray(o))throw new s.MongoInvalidArgumentError("ReadPreference tags must be an array")}else i=o,o=void 0;if(this.mode=n,this.tags=o,this.hedge=i?.hedge,this.maxStalenessSeconds=void 0,this.minWireVersion=void 0,null!=(i=i??{}).maxStalenessSeconds){if(i.maxStalenessSeconds<=0)throw new s.MongoInvalidArgumentError("maxStalenessSeconds must be a positive integer");this.maxStalenessSeconds=i.maxStalenessSeconds,this.minWireVersion=5}if(this.mode===ReadPreference.PRIMARY){if(this.tags&&Array.isArray(this.tags)&&this.tags.length>0)throw new s.MongoInvalidArgumentError("Primary read preference cannot be combined with tags");if(this.maxStalenessSeconds)throw new s.MongoInvalidArgumentError("Primary read preference cannot be combined with maxStalenessSeconds");if(this.hedge)throw new s.MongoInvalidArgumentError("Primary read preference cannot be combined with hedge")}}get preference(){return this.mode}static fromString(n){return new ReadPreference(n)}static fromOptions(n){if(!n)return;const o=n.readPreference??n.session?.transaction.options.readPreference,i=n.readPreferenceTags;if(null!=o){if("string"==typeof o)return new ReadPreference(o,i,{maxStalenessSeconds:n.maxStalenessSeconds,hedge:n.hedge});if(!(o instanceof ReadPreference)&&"object"==typeof o){const s=o.mode||o.preference;if(s&&"string"==typeof s)return new ReadPreference(s,o.tags??i,{maxStalenessSeconds:o.maxStalenessSeconds,hedge:n.hedge})}return i&&(o.tags=i),o}}static translate(n){if(null==n.readPreference)return n;const o=n.readPreference;if("string"==typeof o)n.readPreference=new ReadPreference(o);else if(!o||o instanceof ReadPreference||"object"!=typeof o){if(!(o instanceof ReadPreference))throw new s.MongoInvalidArgumentError(`Invalid read preference: ${o}`)}else{const i=o.mode||o.preference;i&&"string"==typeof i&&(n.readPreference=new ReadPreference(i,o.tags,{maxStalenessSeconds:o.maxStalenessSeconds}))}return n}static isValid(n){return new Set([ReadPreference.PRIMARY,ReadPreference.PRIMARY_PREFERRED,ReadPreference.SECONDARY,ReadPreference.SECONDARY_PREFERRED,ReadPreference.NEAREST,null]).has(n)}isValid(n){return ReadPreference.isValid("string"==typeof n?n:this.mode)}secondaryOk(){return new Set([ReadPreference.PRIMARY_PREFERRED,ReadPreference.SECONDARY,ReadPreference.SECONDARY_PREFERRED,ReadPreference.NEAREST]).has(this.mode)}equals(n){return n.mode===this.mode}toJSON(){const n={mode:this.mode};return Array.isArray(this.tags)&&(n.tags=this.tags),this.maxStalenessSeconds&&(n.maxStalenessSeconds=this.maxStalenessSeconds),this.hedge&&(n.hedge=this.hedge),n}}o.ReadPreference=ReadPreference,ReadPreference.PRIMARY=o.ReadPreferenceMode.primary,ReadPreference.PRIMARY_PREFERRED=o.ReadPreferenceMode.primaryPreferred,ReadPreference.SECONDARY=o.ReadPreferenceMode.secondary,ReadPreference.SECONDARY_PREFERRED=o.ReadPreferenceMode.secondaryPreferred,ReadPreference.NEAREST=o.ReadPreferenceMode.nearest,ReadPreference.primary=new ReadPreference(o.ReadPreferenceMode.primary),ReadPreference.primaryPreferred=new ReadPreference(o.ReadPreferenceMode.primaryPreferred),ReadPreference.secondary=new ReadPreference(o.ReadPreferenceMode.secondary),ReadPreference.secondaryPreferred=new ReadPreference(o.ReadPreferenceMode.secondaryPreferred),ReadPreference.nearest=new ReadPreference(o.ReadPreferenceMode.nearest)},523:(n,o,i)=>{"use strict";function configureResourceManagement(n){Symbol.asyncDispose&&Object.defineProperty(n,Symbol.asyncDispose,{value:async function asyncDispose(){await this.asyncDispose()},enumerable:!1,configurable:!0,writable:!0})}Object.defineProperty(o,"__esModule",{value:!0}),o.configureResourceManagement=configureResourceManagement,o.configureExplicitResourceManagement=function configureExplicitResourceManagement(){const{MongoClient:n}=i(13139),{ClientSession:o}=i(94452),{AbstractCursor:s}=i(65017),{ChangeStream:c}=i(9272);configureResourceManagement(n.prototype),configureResourceManagement(o.prototype),configureResourceManagement(s.prototype),configureResourceManagement(c.prototype)}},48446:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ServerType=o.TopologyType=o.STATE_CONNECTED=o.STATE_CONNECTING=o.STATE_CLOSED=o.STATE_CLOSING=void 0,o._advanceClusterTime=function _advanceClusterTime(n,o){(null==n.clusterTime||o.clusterTime.greaterThan(n.clusterTime.clusterTime))&&(n.clusterTime=o)},o.STATE_CLOSING="closing",o.STATE_CLOSED="closed",o.STATE_CONNECTING="connecting",o.STATE_CONNECTED="connected",o.TopologyType=Object.freeze({Single:"Single",ReplicaSetNoPrimary:"ReplicaSetNoPrimary",ReplicaSetWithPrimary:"ReplicaSetWithPrimary",Sharded:"Sharded",Unknown:"Unknown",LoadBalanced:"LoadBalanced"}),o.ServerType=Object.freeze({Standalone:"Standalone",Mongos:"Mongos",PossiblePrimary:"PossiblePrimary",RSPrimary:"RSPrimary",RSSecondary:"RSSecondary",RSArbiter:"RSArbiter",RSOther:"RSOther",RSGhost:"RSGhost",Unknown:"Unknown",LoadBalancer:"LoadBalancer"})},60838:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ServerHeartbeatFailedEvent=o.ServerHeartbeatSucceededEvent=o.ServerHeartbeatStartedEvent=o.TopologyClosedEvent=o.TopologyOpeningEvent=o.TopologyDescriptionChangedEvent=o.ServerClosedEvent=o.ServerOpeningEvent=o.ServerDescriptionChangedEvent=void 0;const s=i(32568);o.ServerDescriptionChangedEvent=class ServerDescriptionChangedEvent{constructor(n,o,i,c){this.name=s.SERVER_DESCRIPTION_CHANGED,this.topologyId=n,this.address=o,this.previousDescription=i,this.newDescription=c}};o.ServerOpeningEvent=class ServerOpeningEvent{constructor(n,o){this.name=s.SERVER_OPENING,this.topologyId=n,this.address=o}};o.ServerClosedEvent=class ServerClosedEvent{constructor(n,o){this.name=s.SERVER_CLOSED,this.topologyId=n,this.address=o}};o.TopologyDescriptionChangedEvent=class TopologyDescriptionChangedEvent{constructor(n,o,i){this.name=s.TOPOLOGY_DESCRIPTION_CHANGED,this.topologyId=n,this.previousDescription=o,this.newDescription=i}};o.TopologyOpeningEvent=class TopologyOpeningEvent{constructor(n){this.name=s.TOPOLOGY_OPENING,this.topologyId=n}};o.TopologyClosedEvent=class TopologyClosedEvent{constructor(n){this.name=s.TOPOLOGY_CLOSED,this.topologyId=n}};o.ServerHeartbeatStartedEvent=class ServerHeartbeatStartedEvent{constructor(n,o){this.name=s.SERVER_HEARTBEAT_STARTED,this.connectionId=n,this.awaited=o}};o.ServerHeartbeatSucceededEvent=class ServerHeartbeatSucceededEvent{constructor(n,o,i,c){this.name=s.SERVER_HEARTBEAT_SUCCEEDED,this.connectionId=n,this.duration=o,this.reply=i??{},this.awaited=c}};o.ServerHeartbeatFailedEvent=class ServerHeartbeatFailedEvent{constructor(n,o,i,c){this.name=s.SERVER_HEARTBEAT_FAILED,this.connectionId=n,this.duration=o,this.failure=i,this.awaited=c}}},46445:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.RTTSampler=o.MonitorInterval=o.RTTPinger=o.Monitor=o.ServerMonitoringMode=void 0;const s=i(75938),c=i(63403),h=i(34469),f=i(96088),E=i(32568),S=i(86947),A=i(60528),O=i(96327),T=i(52060),_=i(48446),D=i(60838),N=i(51116),R="idle",x="monitoring",P=(0,T.makeStateMachine)({[_.STATE_CLOSING]:[_.STATE_CLOSING,R,_.STATE_CLOSED],[_.STATE_CLOSED]:[_.STATE_CLOSED,x],[R]:[R,x,_.STATE_CLOSING],[x]:[x,R,_.STATE_CLOSING]}),M=new Set([_.STATE_CLOSING,_.STATE_CLOSED,x]);function isInCloseState(n){return n.s.state===_.STATE_CLOSED||n.s.state===_.STATE_CLOSING}o.ServerMonitoringMode=Object.freeze({auto:"auto",poll:"poll",stream:"stream"});class Monitor extends O.TypedEventEmitter{constructor(n,o){super(),this.component=A.MongoLoggableComponent.TOPOLOGY,this.on("error",T.noop),this.server=n,this.connection=null,this.cancellationToken=new O.CancellationToken,this.cancellationToken.setMaxListeners(1/0),this.monitorId=void 0,this.s={state:_.STATE_CLOSED},this.address=n.description.address,this.options=Object.freeze({connectTimeoutMS:o.connectTimeoutMS??1e4,heartbeatFrequencyMS:o.heartbeatFrequencyMS??1e4,minHeartbeatFrequencyMS:o.minHeartbeatFrequencyMS??500,serverMonitoringMode:o.serverMonitoringMode}),this.isRunningInFaasEnv=null!=(0,f.getFAASEnv)(),this.mongoLogger=this.server.topology.client?.mongoLogger,this.rttSampler=new RTTSampler(10);const i=this.cancellationToken,s={id:"<monitor>",generation:n.pool.generation,cancellationToken:i,hostAddress:n.description.hostAddress,...o,raw:!1,useBigInt64:!1,promoteLongs:!0,promoteValues:!0,promoteBuffers:!0};delete s.credentials,s.autoEncrypter&&delete s.autoEncrypter,this.connectOptions=Object.freeze(s)}connect(){if(this.s.state!==_.STATE_CLOSED)return;const n=this.options.heartbeatFrequencyMS,o=this.options.minHeartbeatFrequencyMS;this.monitorId=new MonitorInterval(monitorServer(this),{heartbeatFrequencyMS:n,minHeartbeatFrequencyMS:o,immediate:!0})}requestCheck(){M.has(this.s.state)||this.monitorId?.wake()}reset(){const n=this.server.description.topologyVersion;if(isInCloseState(this)||null==n)return;P(this,_.STATE_CLOSING),resetMonitorState(this),P(this,R);const o=this.options.heartbeatFrequencyMS,i=this.options.minHeartbeatFrequencyMS;this.monitorId=new MonitorInterval(monitorServer(this),{heartbeatFrequencyMS:o,minHeartbeatFrequencyMS:i})}close(){isInCloseState(this)||(P(this,_.STATE_CLOSING),resetMonitorState(this),this.emit("close"),P(this,_.STATE_CLOSED))}get roundTripTime(){return this.rttSampler.average()}get minRoundTripTime(){return this.rttSampler.min()}get latestRtt(){return this.rttSampler.last}addRttSample(n){this.rttSampler.addSample(n)}clearRttSamples(){this.rttSampler.clear()}}function resetMonitorState(n){n.monitorId?.stop(),n.monitorId=void 0,n.rttPinger?.close(),n.rttPinger=void 0,n.cancellationToken.emit("cancel"),n.connection?.destroy(),n.connection=null,n.clearRttSamples()}function useStreamingProtocol(n,i){if(null==i)return!1;const s=n.options.serverMonitoringMode;return s!==o.ServerMonitoringMode.poll&&(s===o.ServerMonitoringMode.stream||!n.isRunningInFaasEnv)}function monitorServer(n){return o=>{function done(){isInCloseState(n)||P(n,R),o()}n.s.state!==x?(P(n,x),function checkServer(n,o){let i,s;const f=n.server.description.topologyVersion,A=useStreamingProtocol(n,f);function onHeartbeatFailed(c){n.connection?.destroy(),n.connection=null,n.emitAndLogHeartbeat(N.Server.SERVER_HEARTBEAT_FAILED,n.server.topology.s.id,void 0,new D.ServerHeartbeatFailedEvent(n.address,(0,T.calculateDurationInMs)(i),c,s));const h=c instanceof S.MongoError?c:new S.MongoError(S.MongoError.buildErrorMessage(c),{cause:c});h.addErrorLabel(S.MongoErrorLabel.ResetPool),h instanceof S.MongoNetworkTimeoutError&&h.addErrorLabel(S.MongoErrorLabel.InterruptInUseConnections),n.emit("resetServer",h),o(c)}function onHeartbeatSucceeded(s){"isWritablePrimary"in s||(s.isWritablePrimary=s[E.LEGACY_HELLO_COMMAND]);const c=A&&n.rttPinger?n.rttPinger.latestRtt??(0,T.calculateDurationInMs)(i):(0,T.calculateDurationInMs)(i);n.addRttSample(c),n.emitAndLogHeartbeat(N.Server.SERVER_HEARTBEAT_SUCCEEDED,n.server.topology.s.id,s.connectionId,new D.ServerHeartbeatSucceededEvent(n.address,c,s,A)),A?(n.emitAndLogHeartbeat(N.Server.SERVER_HEARTBEAT_STARTED,n.server.topology.s.id,void 0,new D.ServerHeartbeatStartedEvent(n.address,!0)),i=(0,T.now)()):(n.rttPinger?.close(),n.rttPinger=void 0,o(void 0,s))}n.emitAndLogHeartbeat(N.Server.SERVER_HEARTBEAT_STARTED,n.server.topology.s.id,void 0,new D.ServerHeartbeatStartedEvent(n.address,A));const{connection:O}=n;if(O&&!O.closed){const{serverApi:o,helloOk:h}=O,S=n.options.connectTimeoutMS,D=n.options.heartbeatFrequencyMS,N={[o?.version||h?"hello":E.LEGACY_HELLO_COMMAND]:1,...A&&f?{maxAwaitTimeMS:D,topologyVersion:(_=f,{processId:_.processId,counter:c.Long.isLong(_.counter)?_.counter:c.Long.fromNumber(_.counter)})}:{}},R=A?{socketTimeoutMS:S?S+D:0,exhaustAllowed:!0}:{socketTimeoutMS:S};return A&&null==n.rttPinger&&(n.rttPinger=new RTTPinger(n)),i=(0,T.now)(),A?(s=!0,O.exhaustCommand((0,T.ns)("admin.$cmd"),N,R,(n,o)=>n?onHeartbeatFailed(n):onHeartbeatSucceeded(o))):(s=!1,void O.command((0,T.ns)("admin.$cmd"),N,R).then(onHeartbeatSucceeded,onHeartbeatFailed))}var _;(async()=>{const o=await(0,h.makeSocket)(n.connectOptions),s=(0,h.makeConnection)(n.connectOptions,o);i=(0,T.now)();try{return await(0,h.performInitialHandshake)(s,n.connectOptions),s}catch(n){throw s.destroy(),n}})().then(s=>{if(isInCloseState(n))return void s.destroy();const c=(0,T.calculateDurationInMs)(i);n.addRttSample(c),n.connection=s,n.emitAndLogHeartbeat(N.Server.SERVER_HEARTBEAT_SUCCEEDED,n.server.topology.s.id,s.hello?.connectionId,new D.ServerHeartbeatSucceededEvent(n.address,c,s.hello,useStreamingProtocol(n,s.hello?.topologyVersion))),o(void 0,s.hello)},o=>{n.connection=null,s=!1,onHeartbeatFailed(o)})}(n,(o,i)=>{if(o&&n.server.description.type===_.ServerType.Unknown)return done();useStreamingProtocol(n,i?.topologyVersion)&&(0,s.setTimeout)(()=>{isInCloseState(n)||n.monitorId?.wake()},0),done()})):process.nextTick(o)}}o.Monitor=Monitor;class RTTPinger{constructor(n){this.connection=void 0,this.cancellationToken=n.cancellationToken,this.closed=!1,this.monitor=n,this.latestRtt=n.latestRtt??void 0;const o=n.options.heartbeatFrequencyMS;this.monitorId=(0,s.setTimeout)(()=>this.measureRoundTripTime(),o)}get roundTripTime(){return this.monitor.roundTripTime}get minRoundTripTime(){return this.monitor.minRoundTripTime}close(){this.closed=!0,(0,s.clearTimeout)(this.monitorId),this.connection?.destroy(),this.connection=void 0}measureAndReschedule(n,o){this.closed?o?.destroy():(null==this.connection&&(this.connection=o),this.latestRtt=(0,T.calculateDurationInMs)(n),this.monitorId=(0,s.setTimeout)(()=>this.measureRoundTripTime(),this.monitor.options.heartbeatFrequencyMS))}measureRoundTripTime(){const n=(0,T.now)();if(this.closed)return;const o=this.connection;if(null==o)return void(0,h.connect)(this.monitor.connectOptions).then(o=>{this.measureAndReschedule(n,o)},()=>{this.connection=void 0});const i=o.serverApi?.version||o.helloOk?"hello":E.LEGACY_HELLO_COMMAND;o.command((0,T.ns)("admin.$cmd"),{[i]:1},void 0).then(()=>this.measureAndReschedule(n),()=>{this.connection?.destroy(),this.connection=void 0})}}o.RTTPinger=RTTPinger;class MonitorInterval{constructor(n,o={}){this.isExpeditedCallToFnScheduled=!1,this.stopped=!1,this.isExecutionInProgress=!1,this.hasExecutedOnce=!1,this._executeAndReschedule=()=>{this.stopped||(this.timerId&&(0,s.clearTimeout)(this.timerId),this.isExpeditedCallToFnScheduled=!1,this.isExecutionInProgress=!0,this.fn(()=>{this.lastExecutionEnded=(0,T.now)(),this.isExecutionInProgress=!1,this._reschedule(this.heartbeatFrequencyMS)}))},this.fn=n,this.lastExecutionEnded=-1/0,this.heartbeatFrequencyMS=o.heartbeatFrequencyMS??1e3,this.minHeartbeatFrequencyMS=o.minHeartbeatFrequencyMS??500,o.immediate?this._executeAndReschedule():this._reschedule(void 0)}wake(){const n=(0,T.now)()-this.lastExecutionEnded;return n<0?this._executeAndReschedule():this.isExecutionInProgress||this.isExpeditedCallToFnScheduled?void 0:n<this.minHeartbeatFrequencyMS?(this.isExpeditedCallToFnScheduled=!0,void this._reschedule(this.minHeartbeatFrequencyMS-n)):void this._executeAndReschedule()}stop(){this.stopped=!0,this.timerId&&((0,s.clearTimeout)(this.timerId),this.timerId=void 0),this.lastExecutionEnded=-1/0,this.isExpeditedCallToFnScheduled=!1}toString(){return JSON.stringify(this)}toJSON(){const n=(0,T.now)(),o=n-this.lastExecutionEnded;return{timerId:null!=this.timerId?"set":"cleared",lastCallTime:this.lastExecutionEnded,isExpeditedCheckScheduled:this.isExpeditedCallToFnScheduled,stopped:this.stopped,heartbeatFrequencyMS:this.heartbeatFrequencyMS,minHeartbeatFrequencyMS:this.minHeartbeatFrequencyMS,currentTime:n,timeSinceLastCall:o}}_reschedule(n){this.stopped||(this.timerId&&(0,s.clearTimeout)(this.timerId),this.timerId=(0,s.setTimeout)(this._executeAndReschedule,n||this.heartbeatFrequencyMS))}}o.MonitorInterval=MonitorInterval;class RTTSampler{constructor(n=10){this.rttSamples=new Float64Array(n),this.length=0,this.writeIndex=0}addSample(n){this.rttSamples[this.writeIndex++]=n,this.length<this.rttSamples.length&&this.length++,this.writeIndex%=this.rttSamples.length}min(){if(this.length<2)return 0;let n=this.rttSamples[0];for(let o=1;o<this.length;o++)this.rttSamples[o]<n&&(n=this.rttSamples[o]);return n}average(){if(0===this.length)return 0;let n=0;for(let o=0;o<this.length;o++)n+=this.rttSamples[o];return n/this.length}get last(){return 0===this.length?null:this.rttSamples[0===this.writeIndex?this.length-1:this.writeIndex-1]}clear(){this.length=0,this.writeIndex=0}}o.RTTSampler=RTTSampler},51116:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Server=void 0;const s=i(15307),c=i(49740),h=i(53216),f=i(32568),E=i(86947),S=i(96327),A=i(4651),O=i(34716),T=i(52060),_=i(98349),D=i(48446),N=i(46445),R=i(66029),x=i(44289),P=(0,T.makeStateMachine)({[D.STATE_CLOSED]:[D.STATE_CLOSED,D.STATE_CONNECTING],[D.STATE_CONNECTING]:[D.STATE_CONNECTING,D.STATE_CLOSING,D.STATE_CONNECTED,D.STATE_CLOSED],[D.STATE_CONNECTED]:[D.STATE_CONNECTED,D.STATE_CLOSING,D.STATE_CLOSED],[D.STATE_CLOSING]:[D.STATE_CLOSING,D.STATE_CLOSED]});class Server extends S.TypedEventEmitter{constructor(n,o,i){super(),this.on("error",T.noop),this.serverApi=i.serverApi;const h={hostAddress:o.hostAddress,...i};this.topology=n,this.pool=new c.ConnectionPool(this,h),this.s={description:o,options:i,state:D.STATE_CLOSED,operationCount:0};for(const n of[...f.CMAP_EVENTS,...f.APM_EVENTS])this.pool.on(n,o=>this.emit(n,o));if(this.pool.on(s.Connection.CLUSTER_TIME_RECEIVED,n=>{this.clusterTime=n}),this.loadBalanced)this.monitor=null;else{this.monitor=new N.Monitor(this,this.s.options);for(const n of f.HEARTBEAT_EVENTS)this.monitor.on(n,o=>this.emit(n,o));this.monitor.on("resetServer",n=>markServerUnknown(this,n)),this.monitor.on(Server.SERVER_HEARTBEAT_SUCCEEDED,n=>{this.emit(Server.DESCRIPTION_RECEIVED,new R.ServerDescription(this.description.hostAddress,n.reply,{roundTripTime:this.monitor?.roundTripTime,minRoundTripTime:this.monitor?.minRoundTripTime})),this.s.state===D.STATE_CONNECTING&&(P(this,D.STATE_CONNECTED),this.emit(Server.CONNECT,this))})}}get clusterTime(){return this.topology.clusterTime}set clusterTime(n){this.topology.clusterTime=n}get description(){return this.s.description}get name(){return this.s.description.address}get autoEncrypter(){if(this.s.options&&this.s.options.autoEncrypter)return this.s.options.autoEncrypter}get loadBalanced(){return this.topology.description.type===D.TopologyType.LoadBalanced}connect(){this.s.state===D.STATE_CLOSED&&(P(this,D.STATE_CONNECTING),this.loadBalanced?(P(this,D.STATE_CONNECTED),this.emit(Server.CONNECT,this)):this.monitor?.connect())}closeCheckedOutConnections(){return this.pool.closeCheckedOutConnections()}close(){this.s.state!==D.STATE_CLOSED&&(P(this,D.STATE_CLOSING),this.loadBalanced||this.monitor?.close(),this.pool.close(),P(this,D.STATE_CLOSED),this.emit("closed"))}requestCheck(){this.loadBalanced||this.monitor?.requestCheck()}async command(n,o){if(this.s.state===D.STATE_CLOSING||this.s.state===D.STATE_CLOSED)throw new E.MongoServerClosedError;const i=n.session;let s=i?.pinnedConnection;if(this.incrementOperationCount(),null==s)try{s=await this.pool.checkOut({timeoutContext:o,signal:n.options.signal})}catch(n){throw this.decrementOperationCount(),n instanceof h.PoolClearedError||this.handleError(n),n}let c=null;const cleanup=()=>{if(this.decrementOperationCount(),i?.pinnedConnection!==s)if(null!=c){const checkBackIn=()=>{this.pool.checkIn(s)};c.then(checkBackIn,checkBackIn)}else this.pool.checkIn(s)};let f;try{f=n.buildCommand(s,i)}catch(n){throw cleanup(),n}const S=n.buildOptions(o),O=n.ns;this.loadBalanced&&function isPinnableCommand(n,o){if(o)return o.inTransaction()||o.transaction.isCommitted&&"commitTransaction"in n||"aggregate"in n||"find"in n||"getMore"in n||"listCollections"in n||"listIndexes"in n||"bulkWrite"in n;return!1}(f,i)&&!i?.pinnedConnection&&i?.pin(s),S.directConnection=this.topology.s.options.directConnection;n instanceof A.AggregateOperation&&n.hasWriteStage&&(0,T.maxWireVersion)(s)<x.MIN_SECONDARY_WRITE_WIRE_VERSION&&delete S.readPreference,this.description.iscryptd&&(S.omitMaxTimeMS=!0);try{try{const o=await s.command(O,f,S,n.SERVER_COMMAND_RESPONSE_TYPE);return(0,_.throwIfWriteConcernError)(o),o}catch(n){throw this.decorateCommandError(s,f,S,n)}}catch(o){if(!(o instanceof E.MongoError&&o.code===E.MONGODB_ERROR_CODES.Reauthenticate))throw o;c=this.pool.reauthenticate(s),c.then(void 0,n=>{c=null,(0,T.squashError)(n)}),await(0,T.abortable)(c,S),c=null;try{const o=await s.command(O,f,S,n.SERVER_COMMAND_RESPONSE_TYPE);return(0,_.throwIfWriteConcernError)(o),o}catch(n){throw this.decorateCommandError(s,f,S,n)}}finally{cleanup()}}handleError(n,o){if(!(n instanceof E.MongoError))return;if(n.connectionGeneration&&n.connectionGeneration<this.pool.generation)return;const i=n instanceof E.MongoNetworkError&&!(n instanceof E.MongoNetworkTimeoutError),s=n instanceof E.MongoNetworkError&&n.beforeHandshake,c=n.hasErrorLabel(E.MongoErrorLabel.HandshakeError);if(i||s||c)this.loadBalanced?o&&this.pool.clear({serviceId:o.serviceId}):(n.addErrorLabel(E.MongoErrorLabel.ResetPool),markServerUnknown(this,n));else if((0,E.isSDAMUnrecoverableError)(n)&&function shouldHandleStateChangeError(n,o){const i=o.topologyVersion,s=n.description.topologyVersion;return(0,R.compareTopologyVersion)(s,i)<0}(this,n)){const i=(0,T.maxWireVersion)(this)<=7||(0,E.isNodeShuttingDownError)(n);this.loadBalanced&&o&&i&&this.pool.clear({serviceId:o.serviceId}),this.loadBalanced||(i&&n.addErrorLabel(E.MongoErrorLabel.ResetPool),markServerUnknown(this,n),process.nextTick(()=>this.requestCheck()))}}decorateCommandError(n,o,i,s){if("object"!=typeof s||null==s||!("name"in s))throw new E.MongoRuntimeError("An unexpected error type: "+typeof s);if("AbortError"===s.name&&"cause"in s&&s.cause instanceof E.MongoError&&(s=s.cause),!(s instanceof E.MongoError))return s;if(function connectionIsStale(n,o){if(o.serviceId)return o.generation!==n.serviceGenerations.get(o.serviceId.toHexString());return o.generation!==n.generation}(this.pool,n))return s;const c=i?.session;return s instanceof E.MongoNetworkError?(c&&!c.hasEnded&&c.serverSession&&(c.serverSession.isDirty=!0),inActiveTransaction(c,o)&&!s.hasErrorLabel(E.MongoErrorLabel.TransientTransactionError)&&s.addErrorLabel(E.MongoErrorLabel.TransientTransactionError),(isRetryableWritesEnabled(this.topology)||(0,O.isTransactionCommand)(o))&&(0,T.supportsRetryableWrites)(this)&&!inActiveTransaction(c,o)&&s.addErrorLabel(E.MongoErrorLabel.RetryableWriteError)):(isRetryableWritesEnabled(this.topology)||(0,O.isTransactionCommand)(o))&&(0,E.needsRetryableWriteLabel)(s,(0,T.maxWireVersion)(this),this.description.type)&&!inActiveTransaction(c,o)&&s.addErrorLabel(E.MongoErrorLabel.RetryableWriteError),c&&c.isPinned&&s.hasErrorLabel(E.MongoErrorLabel.TransientTransactionError)&&c.unpin({force:!0}),this.handleError(s,n),s}decrementOperationCount(){return this.s.operationCount-=1}incrementOperationCount(){return this.s.operationCount+=1}}function markServerUnknown(n,o){n.loadBalanced||(o instanceof E.MongoNetworkError&&!(o instanceof E.MongoNetworkTimeoutError)&&n.monitor?.reset(),n.emit(Server.DESCRIPTION_RECEIVED,new R.ServerDescription(n.description.hostAddress,void 0,{error:o})))}function inActiveTransaction(n,o){return n&&n.inTransaction()&&!(0,O.isTransactionCommand)(o)}function isRetryableWritesEnabled(n){return!1!==n.s.options.retryWrites}o.Server=Server,Server.SERVER_HEARTBEAT_STARTED=f.SERVER_HEARTBEAT_STARTED,Server.SERVER_HEARTBEAT_SUCCEEDED=f.SERVER_HEARTBEAT_SUCCEEDED,Server.SERVER_HEARTBEAT_FAILED=f.SERVER_HEARTBEAT_FAILED,Server.CONNECT=f.CONNECT,Server.DESCRIPTION_RECEIVED=f.DESCRIPTION_RECEIVED,Server.CLOSED=f.CLOSED,Server.ENDED=f.ENDED},66029:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ServerDescription=void 0,o.parseServerType=parseServerType,o.compareTopologyVersion=compareTopologyVersion;const s=i(63403),c=i(86947),h=i(52060),f=i(48446),E=new Set([f.ServerType.RSPrimary,f.ServerType.Standalone,f.ServerType.Mongos,f.ServerType.LoadBalancer]),S=new Set([f.ServerType.RSPrimary,f.ServerType.RSSecondary,f.ServerType.Mongos,f.ServerType.Standalone,f.ServerType.LoadBalancer]);function parseServerType(n,o){return o?.loadBalanced?f.ServerType.LoadBalancer:n&&n.ok?n.isreplicaset?f.ServerType.RSGhost:n.msg&&"isdbgrid"===n.msg?f.ServerType.Mongos:n.setName?n.hidden?f.ServerType.RSOther:n.isWritablePrimary?f.ServerType.RSPrimary:n.secondary?f.ServerType.RSSecondary:n.arbiterOnly?f.ServerType.RSArbiter:f.ServerType.RSOther:f.ServerType.Standalone:f.ServerType.Unknown}function compareTopologyVersion(n,o){if(null==n||null==o)return-1;if(!n.processId.equals(o.processId))return-1;const i="bigint"==typeof n.counter?s.Long.fromBigInt(n.counter):s.Long.isLong(n.counter)?n.counter:s.Long.fromNumber(n.counter),c="bigint"==typeof o.counter?s.Long.fromBigInt(o.counter):s.Long.isLong(o.counter)?o.counter:s.Long.fromNumber(o.counter);return i.compare(c)}o.ServerDescription=class ServerDescription{constructor(n,o,i={}){if(null==n||""===n)throw new c.MongoRuntimeError("ServerDescription must be provided with a non-empty address");this.address="string"==typeof n?h.HostAddress.fromString(n).toString():n.toString(),this.type=parseServerType(o,i),this.hosts=o?.hosts?.map(n=>n.toLowerCase())??[],this.passives=o?.passives?.map(n=>n.toLowerCase())??[],this.arbiters=o?.arbiters?.map(n=>n.toLowerCase())??[],this.tags=o?.tags??{},this.minWireVersion=o?.minWireVersion??0,this.maxWireVersion=o?.maxWireVersion??0,this.roundTripTime=i?.roundTripTime??-1,this.minRoundTripTime=i?.minRoundTripTime??0,this.lastUpdateTime=(0,h.now)(),this.lastWriteDate=o?.lastWrite?.lastWriteDate??0,this.error=i.error??null,this.error,this.topologyVersion=this.error?.topologyVersion??o?.topologyVersion??null,this.setName=o?.setName??null,this.setVersion=o?.setVersion??null,this.electionId=o?.electionId??null,this.logicalSessionTimeoutMinutes=o?.logicalSessionTimeoutMinutes??null,this.maxMessageSizeBytes=o?.maxMessageSizeBytes??null,this.maxWriteBatchSize=o?.maxWriteBatchSize??null,this.maxBsonObjectSize=o?.maxBsonObjectSize??null,this.primary=o?.primary??null,this.me=o?.me?.toLowerCase()??null,this.$clusterTime=o?.$clusterTime??null,this.iscryptd=Boolean(o?.iscryptd)}get hostAddress(){return h.HostAddress.fromString(this.address)}get allHosts(){return this.hosts.concat(this.arbiters).concat(this.passives)}get isReadable(){return this.type===f.ServerType.RSSecondary||this.isWritable}get isDataBearing(){return S.has(this.type)}get isWritable(){return E.has(this.type)}get host(){const n=`:${this.port}`.length;return this.address.slice(0,-n)}get port(){const n=this.address.split(":").pop();return n?Number.parseInt(n,10):27017}equals(n){const o=this.topologyVersion===n?.topologyVersion||0===compareTopologyVersion(this.topologyVersion,n?.topologyVersion),i=null!=this.electionId&&null!=n?.electionId?0===(0,h.compareObjectId)(this.electionId,n.electionId):this.electionId===n?.electionId;return null!=n&&n.iscryptd===this.iscryptd&&(0,h.errorStrictEqual)(this.error,n.error)&&this.type===n.type&&this.minWireVersion===n.minWireVersion&&(0,h.arrayStrictEqual)(this.hosts,n.hosts)&&function tagsStrictEqual(n,o){const i=Object.keys(n),s=Object.keys(o);return i.length===s.length&&i.every(i=>o[i]===n[i])}(this.tags,n.tags)&&this.setName===n.setName&&this.setVersion===n.setVersion&&i&&this.primary===n.primary&&this.logicalSessionTimeoutMinutes===n.logicalSessionTimeoutMinutes&&o}}},44289:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MIN_SECONDARY_WRITE_WIRE_VERSION=void 0,o.writableServerSelector=function writableServerSelector(){return function writableServer(n,o){return latencyWindowReducer(n,o.filter(n=>n.isWritable))}},o.sameServerSelector=function sameServerSelector(n){return function sameServerSelector(o,i){return n?i.filter(o=>o.address===n.address&&o.type!==h.ServerType.Unknown):[]}},o.secondaryWritableServerSelector=function secondaryWritableServerSelector(n,i){if(!i||!n||n&&n<o.MIN_SECONDARY_WRITE_WIRE_VERSION)return readPreferenceServerSelector(c.ReadPreference.primary);return readPreferenceServerSelector(i)},o.readPreferenceServerSelector=readPreferenceServerSelector;const s=i(86947),c=i(50773),h=i(48446),f=1e4,E=90;function tagSetMatch(n,o){const i=Object.keys(n),s=Object.keys(o);for(let c=0;c<i.length;++c){const h=i[c];if(-1===s.indexOf(h)||o[h]!==n[h])return!1}return!0}function latencyWindowReducer(n,o){const i=o.reduce((n,o)=>Math.min(o.roundTripTime,n),1/0),s=i+n.localThresholdMS;return o.reduce((n,o)=>(o.roundTripTime<=s&&o.roundTripTime>=i&&n.push(o),n),[])}function primaryFilter(n){return n.type===h.ServerType.RSPrimary}function secondaryFilter(n){return n.type===h.ServerType.RSSecondary}function nearestFilter(n){return n.type===h.ServerType.RSSecondary||n.type===h.ServerType.RSPrimary}function knownFilter(n){return n.type!==h.ServerType.Unknown}function loadBalancerFilter(n){return n.type===h.ServerType.LoadBalancer}function readPreferenceServerSelector(n){if(!n.isValid())throw new s.MongoInvalidArgumentError("Invalid read preference specified");return function readPreferenceServers(o,i,S=[]){const A=o.commonWireVersion;if(A&&n.minWireVersion&&n.minWireVersion>A)throw new s.MongoCompatibilityError(`Minimum wire version '${n.minWireVersion}' required, but found '${A}'`);if(o.type===h.TopologyType.LoadBalanced)return i.filter(loadBalancerFilter);if(o.type===h.TopologyType.Unknown)return[];if(o.type===h.TopologyType.Single)return latencyWindowReducer(o,i.filter(knownFilter));if(o.type===h.TopologyType.Sharded){const n=i.filter(n=>!S.includes(n));return latencyWindowReducer(o,(n.length>0?n:S).filter(knownFilter))}const O=n.mode;if(O===c.ReadPreference.PRIMARY)return i.filter(primaryFilter);if(O===c.ReadPreference.PRIMARY_PREFERRED){const n=i.filter(primaryFilter);if(n.length)return n}const T=O===c.ReadPreference.NEAREST?nearestFilter:secondaryFilter,_=latencyWindowReducer(o,function tagSetReducer(n,o){if(null==n.tags||Array.isArray(n.tags)&&0===n.tags.length)return o;for(let i=0;i<n.tags.length;++i){const s=n.tags[i],c=o.reduce((n,o)=>(tagSetMatch(s,o.tags)&&n.push(o),n),[]);if(c.length)return c}return[]}(n,function maxStalenessReducer(n,o,i){if(null==n.maxStalenessSeconds||n.maxStalenessSeconds<0)return i;const c=n.maxStalenessSeconds,S=(o.heartbeatFrequencyMS+f)/1e3;if(c<S)throw new s.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${S} seconds`);if(c<E)throw new s.MongoInvalidArgumentError(`Option "maxStalenessSeconds" must be at least ${E} seconds`);if(o.type===h.TopologyType.ReplicaSetWithPrimary){const s=Array.from(o.servers.values()).filter(primaryFilter)[0];return i.reduce((i,c)=>((c.lastUpdateTime-c.lastWriteDate-(s.lastUpdateTime-s.lastWriteDate)+o.heartbeatFrequencyMS)/1e3<=(n.maxStalenessSeconds??0)&&i.push(c),i),[])}if(o.type===h.TopologyType.ReplicaSetNoPrimary){if(0===i.length)return i;const s=i.reduce((n,o)=>o.lastWriteDate>n.lastWriteDate?o:n);return i.reduce((i,c)=>((s.lastWriteDate-c.lastWriteDate+o.heartbeatFrequencyMS)/1e3<=(n.maxStalenessSeconds??0)&&i.push(c),i),[])}return i}(n,o,i.filter(T))));return O===c.ReadPreference.SECONDARY_PREFERRED&&0===_.length?i.filter(primaryFilter):_}}o.MIN_SECONDARY_WRITE_WIRE_VERSION=13},9089:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WaitingForSuitableServerEvent=o.ServerSelectionSucceededEvent=o.ServerSelectionFailedEvent=o.ServerSelectionStartedEvent=o.ServerSelectionEvent=void 0;const s=i(52060),c=i(32568);class ServerSelectionEvent{constructor(n,o,i){this.selector=n,this.operation=i,this.topologyDescription=o}}o.ServerSelectionEvent=ServerSelectionEvent;o.ServerSelectionStartedEvent=class ServerSelectionStartedEvent extends ServerSelectionEvent{constructor(n,o,i){super(n,o,i),this.name=c.SERVER_SELECTION_STARTED,this.message="Server selection started"}};o.ServerSelectionFailedEvent=class ServerSelectionFailedEvent extends ServerSelectionEvent{constructor(n,o,i,s){super(n,o,s),this.name=c.SERVER_SELECTION_FAILED,this.message="Server selection failed",this.failure=i}};o.ServerSelectionSucceededEvent=class ServerSelectionSucceededEvent extends ServerSelectionEvent{constructor(n,o,i,h){super(n,o,h),this.name=c.SERVER_SELECTION_SUCCEEDED,this.message="Server selection succeeded";const{host:f,port:E}=s.HostAddress.fromString(i).toHostPort();this.serverHost=f,this.serverPort=E}};o.WaitingForSuitableServerEvent=class WaitingForSuitableServerEvent extends ServerSelectionEvent{constructor(n,o,i,s){super(n,o,s),this.name=c.WAITING_FOR_SUITABLE_SERVER,this.message="Waiting for suitable server to become available",this.remainingTimeMS=i}}},29246:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SrvPoller=o.SrvPollingEvent=void 0;const s=i(72250),c=i(75938),h=i(86947),f=i(96327),E=i(52060);class SrvPollingEvent{constructor(n){this.srvRecords=n}hostnames(){return new Set(this.srvRecords.map(n=>E.HostAddress.fromSrvRecord(n).toString()))}}o.SrvPollingEvent=SrvPollingEvent;class SrvPoller extends f.TypedEventEmitter{constructor(n){if(super(),this.on("error",E.noop),!n||!n.srvHost)throw new h.MongoRuntimeError("Options for SrvPoller must exist and include srvHost");this.srvHost=n.srvHost,this.srvMaxHosts=n.srvMaxHosts??0,this.srvServiceName=n.srvServiceName??"mongodb",this.rescanSrvIntervalMS=6e4,this.heartbeatFrequencyMS=n.heartbeatFrequencyMS??1e4,this.haMode=!1,this.generation=0,this._timeout=void 0}get srvAddress(){return`_${this.srvServiceName}._tcp.${this.srvHost}`}get intervalMS(){return this.haMode?this.heartbeatFrequencyMS:this.rescanSrvIntervalMS}start(){this._timeout||this.schedule()}stop(){this._timeout&&((0,c.clearTimeout)(this._timeout),this.generation+=1,this._timeout=void 0)}schedule(){this._timeout&&(0,c.clearTimeout)(this._timeout),this._timeout=(0,c.setTimeout)(()=>{this._poll().then(void 0,E.squashError)},this.intervalMS)}success(n){this.haMode=!1,this.schedule(),this.emit(SrvPoller.SRV_RECORD_DISCOVERY,new SrvPollingEvent(n))}failure(){this.haMode=!0,this.schedule()}async _poll(){const n=this.generation;let o;try{o=await s.promises.resolveSrv(this.srvAddress)}catch{return void this.failure()}if(n!==this.generation)return;const i=[];for(const n of o)try{(0,E.checkParentDomainMatch)(n.name,this.srvHost),i.push(n)}catch(n){(0,E.squashError)(n)}i.length?this.success(i):this.failure()}}o.SrvPoller=SrvPoller,SrvPoller.SRV_RECORD_DISCOVERY="srvRecordDiscovery"},80306:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ServerCapabilities=o.Topology=void 0;const s=i(77689),c=i(32568),h=i(86947),f=i(60528),E=i(96327),S=i(50773),A=i(38286),O=i(52060),T=i(48446),_=i(60838),D=i(51116),N=i(66029),R=i(44289),x=i(9089),P=i(29246),M=i(42027);let I=0;const B=(0,O.makeStateMachine)({[T.STATE_CLOSED]:[T.STATE_CLOSED,T.STATE_CONNECTING],[T.STATE_CONNECTING]:[T.STATE_CONNECTING,T.STATE_CLOSING,T.STATE_CONNECTED,T.STATE_CLOSED],[T.STATE_CONNECTED]:[T.STATE_CONNECTED,T.STATE_CLOSING,T.STATE_CLOSED],[T.STATE_CLOSING]:[T.STATE_CLOSING,T.STATE_CLOSED]});class Topology extends E.TypedEventEmitter{constructor(n,o,i){super(),this.on("error",O.noop),this.client=n,i=i??{hosts:[O.HostAddress.fromString("localhost:27017")],...Object.fromEntries(s.DEFAULT_OPTIONS.entries())},"string"==typeof o?o=[O.HostAddress.fromString(o)]:Array.isArray(o)||(o=[o]);const c=[];for(const n of o)if("string"==typeof n)c.push(O.HostAddress.fromString(n));else{if(!(n instanceof O.HostAddress))throw new h.MongoRuntimeError(`Topology cannot be constructed from ${JSON.stringify(n)}`);c.push(n)}const f=function topologyTypeFromOptions(n){if(n?.directConnection)return T.TopologyType.Single;if(n?.replicaSet)return T.TopologyType.ReplicaSetNoPrimary;if(n?.loadBalanced)return T.TopologyType.LoadBalanced;return T.TopologyType.Unknown}(i),E=I++,S=null==i.srvMaxHosts||0===i.srvMaxHosts||i.srvMaxHosts>=c.length?c:(0,O.shuffle)(c,i.srvMaxHosts),A=new Map;for(const n of S)A.set(n.toString(),new N.ServerDescription(n));this.waitQueue=new O.List,this.s={id:E,options:i,seedlist:c,state:T.STATE_CLOSED,description:new M.TopologyDescription(f,A,i.replicaSet,void 0,void 0,void 0,i),serverSelectionTimeoutMS:i.serverSelectionTimeoutMS,heartbeatFrequencyMS:i.heartbeatFrequencyMS,minHeartbeatFrequencyMS:i.minHeartbeatFrequencyMS,servers:new Map,credentials:i?.credentials,clusterTime:void 0,detectShardedTopology:n=>this.detectShardedTopology(n),detectSrvRecords:n=>this.detectSrvRecords(n)},this.mongoLogger=n.mongoLogger,this.component="topology",i.srvHost&&!i.loadBalanced&&(this.s.srvPoller=i.srvPoller??new P.SrvPoller({heartbeatFrequencyMS:this.s.heartbeatFrequencyMS,srvHost:i.srvHost,srvMaxHosts:i.srvMaxHosts,srvServiceName:i.srvServiceName}),this.on(Topology.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology)),this.connectionLock=void 0}detectShardedTopology(n){const o=n.previousDescription.type,i=n.newDescription.type,s=o!==T.TopologyType.Sharded&&i===T.TopologyType.Sharded,c=this.s.srvPoller?.listeners(P.SrvPoller.SRV_RECORD_DISCOVERY),h=!!c?.includes(this.s.detectSrvRecords);s&&!h&&(this.s.srvPoller?.on(P.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords),this.s.srvPoller?.start())}detectSrvRecords(n){const o=this.s.description;this.s.description=this.s.description.updateFromSrvPollingEvent(n,this.s.options.srvMaxHosts),this.s.description!==o&&(updateServers(this),this.emitAndLog(Topology.TOPOLOGY_DESCRIPTION_CHANGED,new _.TopologyDescriptionChangedEvent(this.s.id,o,this.s.description)))}get description(){return this.s.description}get loadBalanced(){return this.s.options.loadBalanced}get serverApi(){return this.s.options.serverApi}get capabilities(){return new ServerCapabilities(this.lastHello())}async connect(n){this.connectionLock??=this._connect(n);try{return await this.connectionLock,this}finally{this.connectionLock=void 0}}async _connect(n){if(n=n??{},this.s.state===T.STATE_CONNECTED)return this;B(this,T.STATE_CONNECTING),this.emitAndLog(Topology.TOPOLOGY_OPENING,new _.TopologyOpeningEvent(this.s.id)),this.emitAndLog(Topology.TOPOLOGY_DESCRIPTION_CHANGED,new _.TopologyDescriptionChangedEvent(this.s.id,new M.TopologyDescription(T.TopologyType.Unknown),this.s.description));const o=Array.from(this.s.description.servers.values());if(this.s.servers=new Map(o.map(n=>[n.address,createAndConnectServer(this,n)])),this.s.options.loadBalanced)for(const n of o){const o=new N.ServerDescription(n.hostAddress,void 0,{loadBalanced:this.s.options.loadBalanced});this.serverUpdateHandler(o)}const i=this.client.s.options.serverSelectionTimeoutMS,s=n.readPreference??S.ReadPreference.primary,c=A.TimeoutContext.create({timeoutMS:void 0,serverSelectionTimeoutMS:i,waitQueueTimeoutMS:this.client.s.options.waitQueueTimeoutMS}),h={operationName:"handshake",...n,timeoutContext:c};try{const n=await this.selectServer((0,R.readPreferenceServerSelector)(s),h);if(!(!0===this.s.options.__skipPingOnConnect)&&this.s.credentials){const o=await n.pool.checkOut({timeoutContext:c});return n.pool.checkIn(o),B(this,T.STATE_CONNECTED),this.emit(Topology.OPEN,this),this.emit(Topology.CONNECT,this),this}return B(this,T.STATE_CONNECTED),this.emit(Topology.OPEN,this),this.emit(Topology.CONNECT,this),this}catch(n){throw this.close(),n}}closeCheckedOutConnections(){for(const n of this.s.servers.values())return n.closeCheckedOutConnections()}close(){if(this.s.state!==T.STATE_CLOSED&&this.s.state!==T.STATE_CLOSING){for(const n of this.s.servers.values())closeServer(n,this);this.s.servers.clear(),B(this,T.STATE_CLOSING),drainWaitQueue(this.waitQueue,new h.MongoTopologyClosedError),this.s.srvPoller&&(this.s.srvPoller.stop(),this.s.srvPoller.removeListener(P.SrvPoller.SRV_RECORD_DISCOVERY,this.s.detectSrvRecords)),this.removeListener(Topology.TOPOLOGY_DESCRIPTION_CHANGED,this.s.detectShardedTopology),B(this,T.STATE_CLOSED),this.emitAndLog(Topology.TOPOLOGY_CLOSED,new _.TopologyClosedEvent(this.s.id))}}async selectServer(n,o){let i,s;if("function"!=typeof n)if("string"==typeof n)i=(0,R.readPreferenceServerSelector)(S.ReadPreference.fromString(n));else{let s;n instanceof S.ReadPreference?s=n:(S.ReadPreference.translate(o),s=o.readPreference||S.ReadPreference.primary),i=(0,R.readPreferenceServerSelector)(s)}else i=n;o={serverSelectionTimeoutMS:this.s.serverSelectionTimeoutMS,...o},this.client.mongoLogger?.willLog(f.MongoLoggableComponent.SERVER_SELECTION,f.SeverityLevel.DEBUG)&&this.client.mongoLogger?.debug(f.MongoLoggableComponent.SERVER_SELECTION,new x.ServerSelectionStartedEvent(n,this.description,o.operationName)),s=o.timeoutContext?o.timeoutContext.serverSelectionTimeout:A.Timeout.expires(o.serverSelectionTimeoutMS??0);const c=this.description.type===T.TopologyType.Sharded,E=o.session,_=E&&E.transaction;if(c&&_&&_.server)return this.client.mongoLogger?.willLog(f.MongoLoggableComponent.SERVER_SELECTION,f.SeverityLevel.DEBUG)&&this.client.mongoLogger?.debug(f.MongoLoggableComponent.SERVER_SELECTION,new x.ServerSelectionSucceededEvent(n,this.description,_.server.pool.address,o.operationName)),o.timeoutContext?.clearServerSelectionTimeout&&s?.clear(),_.server;const{promise:D,resolve:N,reject:P}=(0,O.promiseWithResolvers)(),M={serverSelector:i,topologyDescription:this.description,mongoLogger:this.client.mongoLogger,transaction:_,resolve:N,reject:P,cancelled:!1,startTime:(0,O.now)(),operationName:o.operationName,waitingLogged:!1,previousServer:o.previousServer},I=(0,O.addAbortListener)(o.signal,function(){M.cancelled=!0,P(this.reason)});this.waitQueue.push(M),processWaitQueue(this);try{s?.throwIfExpired();const n=await(s?Promise.race([D,s]):D);return o.timeoutContext?.csotEnabled()&&0!==n.description.minRoundTripTime&&(o.timeoutContext.minRoundTripTime=n.description.minRoundTripTime),n}catch(i){if(A.TimeoutError.is(i)){M.cancelled=!0;const i=new h.MongoServerSelectionError(`Server selection timed out after ${s?.duration} ms`,this.description);if(this.client.mongoLogger?.willLog(f.MongoLoggableComponent.SERVER_SELECTION,f.SeverityLevel.DEBUG)&&this.client.mongoLogger?.debug(f.MongoLoggableComponent.SERVER_SELECTION,new x.ServerSelectionFailedEvent(n,this.description,i,o.operationName)),o.timeoutContext?.csotEnabled())throw new h.MongoOperationTimeoutError("Timed out during server selection",{cause:i});throw i}throw i}finally{I?.[O.kDispose](),o.timeoutContext?.clearServerSelectionTimeout&&s?.clear()}}serverUpdateHandler(n){if(!this.s.description.hasServer(n.address))return;if(function isStaleServerDescription(n,o){const i=n.servers.get(o.address),s=i?.topologyVersion;return(0,N.compareTopologyVersion)(s,o.topologyVersion)>0}(this.s.description,n))return;const o=this.s.description,i=this.s.description.servers.get(n.address);if(!i)return;const s=n.$clusterTime;s&&(0,T._advanceClusterTime)(this,s);const c=i&&i.equals(n);if(this.s.description=this.s.description.update(n),this.s.description.compatibilityError)this.emit(Topology.ERROR,new h.MongoCompatibilityError(this.s.description.compatibilityError));else{if(!c){const o=this.s.description.servers.get(n.address);o&&this.emit(Topology.SERVER_DESCRIPTION_CHANGED,new _.ServerDescriptionChangedEvent(this.s.id,n.address,i,o))}updateServers(this,n),this.waitQueue.length>0&&processWaitQueue(this),c||this.emitAndLog(Topology.TOPOLOGY_DESCRIPTION_CHANGED,new _.TopologyDescriptionChangedEvent(this.s.id,o,this.s.description))}}auth(n,o){"function"==typeof n&&(o=n,n=void 0),"function"==typeof o&&o(void 0,!0)}get clientMetadata(){return this.s.options.metadata}isConnected(){return this.s.state===T.STATE_CONNECTED}isDestroyed(){return this.s.state===T.STATE_CLOSED}lastHello(){const n=Array.from(this.description.servers.values());if(0===n.length)return{};return n.filter(n=>n.type!==T.ServerType.Unknown)[0]||{maxWireVersion:this.description.commonWireVersion}}get commonWireVersion(){return this.description.commonWireVersion}get logicalSessionTimeoutMinutes(){return this.description.logicalSessionTimeoutMinutes}get clusterTime(){return this.s.clusterTime}set clusterTime(n){this.s.clusterTime=n}}function closeServer(n,o){for(const o of c.LOCAL_SERVER_EVENTS)n.removeAllListeners(o);n.close(),o.emitAndLog(Topology.SERVER_CLOSED,new _.ServerClosedEvent(o.s.id,n.description.address));for(const o of c.SERVER_RELAY_EVENTS)n.removeAllListeners(o)}function createAndConnectServer(n,o){n.emitAndLog(Topology.SERVER_OPENING,new _.ServerOpeningEvent(n.s.id,o.address));const i=new D.Server(n,o,n.s.options);for(const o of c.SERVER_RELAY_EVENTS)i.on(o,i=>n.emit(o,i));return i.on(D.Server.DESCRIPTION_RECEIVED,o=>n.serverUpdateHandler(o)),i.connect(),i}function updateServers(n,o){if(o&&n.s.servers.has(o.address)){const i=n.s.servers.get(o.address);if(i)if(i.s.description=o,o.error instanceof h.MongoError&&o.error.hasErrorLabel(h.MongoErrorLabel.ResetPool)){const n=o.error.hasErrorLabel(h.MongoErrorLabel.InterruptInUseConnections);i.pool.clear({interruptInUseConnections:n})}else if(null==o.error){const s=n.s.description.type;(o.isDataBearing||o.type!==T.ServerType.Unknown&&s===T.TopologyType.Single)&&i.pool.ready()}}for(const o of n.description.servers.values())if(!n.s.servers.has(o.address)){const i=createAndConnectServer(n,o);n.s.servers.set(o.address,i)}for(const o of n.s.servers){const i=o[0];if(n.description.hasServer(i))continue;if(!n.s.servers.has(i))continue;const s=n.s.servers.get(i);n.s.servers.delete(i),s&&closeServer(s,n)}}function drainWaitQueue(n,o){for(;n.length;){const i=n.shift();i&&(i.cancelled||(i.mongoLogger?.willLog(f.MongoLoggableComponent.SERVER_SELECTION,f.SeverityLevel.DEBUG)&&i.mongoLogger?.debug(f.MongoLoggableComponent.SERVER_SELECTION,new x.ServerSelectionFailedEvent(i.serverSelector,i.topologyDescription,o,i.operationName)),i.reject(o)))}}function processWaitQueue(n){if(n.s.state===T.STATE_CLOSED)return void drainWaitQueue(n.waitQueue,new h.MongoTopologyClosedError);const o=n.description.type===T.TopologyType.Sharded,i=Array.from(n.description.servers.values()),s=n.waitQueue.length;for(let c=0;c<s;++c){const s=n.waitQueue.shift();if(!s)continue;if(s.cancelled)continue;let c,E;try{const o=s.serverSelector,h=s.previousServer;c=o?o(n.description,i,h?[h]:[]):i}catch(o){n.client.mongoLogger?.willLog(f.MongoLoggableComponent.SERVER_SELECTION,f.SeverityLevel.DEBUG)&&n.client.mongoLogger?.debug(f.MongoLoggableComponent.SERVER_SELECTION,new x.ServerSelectionFailedEvent(s.serverSelector,n.description,o,s.operationName)),s.reject(o);continue}if(0===c.length){s.waitingLogged||(n.client.mongoLogger?.willLog(f.MongoLoggableComponent.SERVER_SELECTION,f.SeverityLevel.INFORMATIONAL)&&n.client.mongoLogger?.info(f.MongoLoggableComponent.SERVER_SELECTION,new x.WaitingForSuitableServerEvent(s.serverSelector,n.description,0!==n.s.serverSelectionTimeoutMS?n.s.serverSelectionTimeoutMS-((0,O.now)()-s.startTime):-1,s.operationName)),s.waitingLogged=!0),n.waitQueue.push(s);continue}if(1===c.length)E=n.s.servers.get(c[0].address);else{const o=(0,O.shuffle)(c,2),i=n.s.servers.get(o[0].address),s=n.s.servers.get(o[1].address);E=i&&s&&i.s.operationCount<s.s.operationCount?i:s}if(!E){const o=new h.MongoServerSelectionError("server selection returned a server description but the server was not found in the topology",n.description);return n.client.mongoLogger?.willLog(f.MongoLoggableComponent.SERVER_SELECTION,f.SeverityLevel.DEBUG)&&n.client.mongoLogger?.debug(f.MongoLoggableComponent.SERVER_SELECTION,new x.ServerSelectionFailedEvent(s.serverSelector,n.description,o,s.operationName)),void s.reject(o)}const S=s.transaction;o&&S&&S.isActive&&E&&S.pinServer(E),n.client.mongoLogger?.willLog(f.MongoLoggableComponent.SERVER_SELECTION,f.SeverityLevel.DEBUG)&&n.client.mongoLogger?.debug(f.MongoLoggableComponent.SERVER_SELECTION,new x.ServerSelectionSucceededEvent(s.serverSelector,s.topologyDescription,E.pool.address,s.operationName)),s.resolve(E)}if(n.waitQueue.length>0)for(const[,o]of n.s.servers)process.nextTick(function scheduleServerCheck(){return o.requestCheck()})}o.Topology=Topology,Topology.SERVER_OPENING=c.SERVER_OPENING,Topology.SERVER_CLOSED=c.SERVER_CLOSED,Topology.SERVER_DESCRIPTION_CHANGED=c.SERVER_DESCRIPTION_CHANGED,Topology.TOPOLOGY_OPENING=c.TOPOLOGY_OPENING,Topology.TOPOLOGY_CLOSED=c.TOPOLOGY_CLOSED,Topology.TOPOLOGY_DESCRIPTION_CHANGED=c.TOPOLOGY_DESCRIPTION_CHANGED,Topology.ERROR=c.ERROR,Topology.OPEN=c.OPEN,Topology.CONNECT=c.CONNECT,Topology.CLOSE=c.CLOSE,Topology.TIMEOUT=c.TIMEOUT;class ServerCapabilities{constructor(n){this.minWireVersion=n.minWireVersion||0,this.maxWireVersion=n.maxWireVersion||0}get hasAggregationCursor(){return this.maxWireVersion>=1}get hasWriteCommands(){return this.maxWireVersion>=2}get hasTextSearch(){return this.minWireVersion>=0}get hasAuthCommands(){return this.maxWireVersion>=1}get hasListCollectionsCommand(){return this.maxWireVersion>=3}get hasListIndexesCommand(){return this.maxWireVersion>=3}get supportsSnapshotReads(){return this.maxWireVersion>=13}get commandsTakeWriteConcern(){return this.maxWireVersion>=5}get commandsTakeCollation(){return this.maxWireVersion>=5}}o.ServerCapabilities=ServerCapabilities},42027:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.TopologyDescription=void 0;const s=i(63403),c=i(26447),h=i(86947),f=i(52060),E=i(48446),S=i(66029),A=c.MIN_SUPPORTED_SERVER_VERSION,O=c.MAX_SUPPORTED_SERVER_VERSION,T=c.MIN_SUPPORTED_WIRE_VERSION,_=c.MAX_SUPPORTED_WIRE_VERSION,D=new Set([E.ServerType.Mongos,E.ServerType.Unknown]),N=new Set([E.ServerType.Mongos,E.ServerType.Standalone]),R=new Set([E.ServerType.RSSecondary,E.ServerType.RSArbiter,E.ServerType.RSOther]);class TopologyDescription{constructor(n,o=null,i=null,s=null,c=null,h=null,f=null){f=f??{},this.type=n??E.TopologyType.Unknown,this.servers=o??new Map,this.stale=!1,this.compatible=!0,this.heartbeatFrequencyMS=f.heartbeatFrequencyMS??0,this.localThresholdMS=f.localThresholdMS??15,this.setName=i??null,this.maxElectionId=c??null,this.maxSetVersion=s??null,this.commonWireVersion=h??0;for(const n of this.servers.values())if(n.type!==E.ServerType.Unknown&&n.type!==E.ServerType.LoadBalancer&&(n.minWireVersion>_&&(this.compatible=!1,this.compatibilityError=`Server at ${n.address} requires wire version ${n.minWireVersion}, but this version of the driver only supports up to ${_} (MongoDB ${O})`),n.maxWireVersion<T)){this.compatible=!1,this.compatibilityError=`Server at ${n.address} reports wire version ${n.maxWireVersion}, but this version of the driver requires at least ${T} (MongoDB ${A}).`;break}this.logicalSessionTimeoutMinutes=null;for(const[,n]of this.servers)if(n.isReadable){if(null==n.logicalSessionTimeoutMinutes){this.logicalSessionTimeoutMinutes=null;break}if(null==this.logicalSessionTimeoutMinutes){this.logicalSessionTimeoutMinutes=n.logicalSessionTimeoutMinutes;continue}this.logicalSessionTimeoutMinutes=Math.min(this.logicalSessionTimeoutMinutes,n.logicalSessionTimeoutMinutes)}}updateFromSrvPollingEvent(n,o=0){const i=n.hostnames(),s=new Set(this.servers.keys()),c=new Set(i),h=new Set;for(const n of s)c.delete(n),i.has(n)||h.add(n);if(0===c.size&&0===h.size)return this;const E=new Map(this.servers);for(const n of h)E.delete(n);if(c.size>0)if(0===o)for(const n of c)E.set(n,new S.ServerDescription(n));else if(E.size<o){const n=(0,f.shuffle)(c,o-E.size);for(const o of n)E.set(o,new S.ServerDescription(o))}return new TopologyDescription(this.type,E,this.setName,this.maxSetVersion,this.maxElectionId,this.commonWireVersion,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}update(n){const o=n.address;let{type:i,setName:s,maxSetVersion:c,maxElectionId:f,commonWireVersion:A}=this;const O=n.type,T=new Map(this.servers);if(0!==n.maxWireVersion&&(A=null==A?n.maxWireVersion:Math.min(A,n.maxWireVersion)),"string"==typeof n.setName&&"string"==typeof s&&n.setName!==s&&(i===E.TopologyType.Single?n=new S.ServerDescription(o):T.delete(o)),T.set(o,n),i===E.TopologyType.Single)return new TopologyDescription(E.TopologyType.Single,T,s,c,f,A,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS});if(i===E.TopologyType.Unknown&&(O===E.ServerType.Standalone&&1!==this.servers.size?T.delete(o):i=function topologyTypeForServerType(n){switch(n){case E.ServerType.Standalone:return E.TopologyType.Single;case E.ServerType.Mongos:return E.TopologyType.Sharded;case E.ServerType.RSPrimary:return E.TopologyType.ReplicaSetWithPrimary;case E.ServerType.RSOther:case E.ServerType.RSSecondary:return E.TopologyType.ReplicaSetNoPrimary;default:return E.TopologyType.Unknown}}(O)),i===E.TopologyType.Sharded&&(D.has(O)||T.delete(o)),i===E.TopologyType.ReplicaSetNoPrimary)if(N.has(O)&&T.delete(o),O===E.ServerType.RSPrimary){const o=updateRsFromPrimary(T,n,s,c,f);i=o[0],s=o[1],c=o[2],f=o[3]}else if(R.has(O)){const o=function updateRsNoPrimaryFromMember(n,o,i=null){const s=E.TopologyType.ReplicaSetNoPrimary;if(i=i??o.setName,i!==o.setName)return n.delete(o.address),[s,i];o.allHosts.forEach(o=>{n.has(o)||n.set(o,new S.ServerDescription(o))}),o.me&&o.address!==o.me&&n.delete(o.address);return[s,i]}(T,n,s);i=o[0],s=o[1]}if(i===E.TopologyType.ReplicaSetWithPrimary)if(N.has(O))T.delete(o),i=checkHasPrimary(T);else if(O===E.ServerType.RSPrimary){const o=updateRsFromPrimary(T,n,s,c,f);i=o[0],s=o[1],c=o[2],f=o[3]}else i=R.has(O)?function updateRsWithPrimaryFromMember(n,o,i=null){if(null==i)throw new h.MongoRuntimeError('Argument "setName" is required if connected to a replica set');(i!==o.setName||o.me&&o.address!==o.me)&&n.delete(o.address);return checkHasPrimary(n)}(T,n,s):checkHasPrimary(T);return new TopologyDescription(i,T,s,c,f,A,{heartbeatFrequencyMS:this.heartbeatFrequencyMS,localThresholdMS:this.localThresholdMS})}get error(){const n=Array.from(this.servers.values()).filter(n=>n.error);return n.length>0?n[0].error:null}get hasKnownServers(){return Array.from(this.servers.values()).some(n=>n.type!==E.ServerType.Unknown)}get hasDataBearingServers(){return Array.from(this.servers.values()).some(n=>n.isDataBearing)}hasServer(n){return this.servers.has(n)}toJSON(){return s.EJSON.serialize(this)}}function updateRsFromPrimary(n,o,i=null,s=null,c=null){const setVersionElectionIdMismatch=(n,o,i)=>`primary marked stale due to electionId/setVersion mismatch: server setVersion: ${n.setVersion}, server electionId: ${n.electionId}, topology setVersion: ${o}, topology electionId: ${i}`;if((i=i||o.setName)!==o.setName)return n.delete(o.address),[checkHasPrimary(n),i,s,c];if(o.maxWireVersion>=17){const E=(0,f.compareObjectId)(c,o.electionId),A=0===E,O=-1===E,T=(s??-1)<=(o.setVersion??-1);if(!(O||A&&T))return n.set(o.address,new S.ServerDescription(o.address,void 0,{error:new h.MongoStalePrimaryError(setVersionElectionIdMismatch(o,s,c))})),[checkHasPrimary(n),i,s,c];c=o.electionId,s=o.setVersion}else{const E=o.electionId?o.electionId:null;if(o.setVersion&&E){if(s&&c&&(s>o.setVersion||(0,f.compareObjectId)(c,E)>0))return n.set(o.address,new S.ServerDescription(o.address,void 0,{error:new h.MongoStalePrimaryError(setVersionElectionIdMismatch(o,s,c))})),[checkHasPrimary(n),i,s,c];c=o.electionId}null!=o.setVersion&&(null==s||o.setVersion>s)&&(s=o.setVersion)}for(const[i,s]of n)if(s.type===E.ServerType.RSPrimary&&s.address!==o.address){n.set(i,new S.ServerDescription(s.address,void 0,{error:new h.MongoStalePrimaryError("primary marked stale due to discovery of newer primary")}));break}o.allHosts.forEach(o=>{n.has(o)||n.set(o,new S.ServerDescription(o))});const A=Array.from(n.keys()),O=o.allHosts;return A.filter(n=>-1===O.indexOf(n)).forEach(o=>{n.delete(o)}),[checkHasPrimary(n),i,s,c]}function checkHasPrimary(n){for(const o of n.values())if(o.type===E.ServerType.RSPrimary)return E.TopologyType.ReplicaSetWithPrimary;return E.TopologyType.ReplicaSetNoPrimary}o.TopologyDescription=TopologyDescription},94452:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ServerSessionPool=o.ServerSession=o.ClientSession=void 0,o.maybeClearPinnedConnection=maybeClearPinnedConnection,o.applySession=function applySession(n,o,i){if(n.hasEnded)return new E.MongoExpiredSessionError;const c=n.serverSession;if(null==c)return new E.MongoRuntimeError("Unable to acquire server session");if(0===i.writeConcern?.w)return n&&n.explicit?new E.MongoAPIError("Cannot have explicit session with unacknowledged writes"):void 0;c.lastUse=(0,P.now)(),o.lsid=c.id;const h=n.inTransaction()||(0,x.isTransactionCommand)(o);(i.willRetryWrite||h)&&(c.txnNumber+=n.txnNumberIncrement,n.txnNumberIncrement=0,o.txnNumber=s.Long.fromNumber(c.txnNumber));if(!h)return n.transaction.state!==x.TxnState.NO_TRANSACTION&&n.transaction.transition(x.TxnState.NO_TRANSACTION),void(n.supports.causalConsistency&&n.operationTime&&(0,P.commandSupportsReadConcern)(o)?(o.readConcern=o.readConcern||{},Object.assign(o.readConcern,{afterClusterTime:n.operationTime})):n.snapshotEnabled&&(o.readConcern=o.readConcern||{level:T.ReadConcernLevel.snapshot},null!=n.snapshotTime&&Object.assign(o.readConcern,{atClusterTime:n.snapshotTime})));if(o.autocommit=!1,n.transaction.state===x.TxnState.STARTING_TRANSACTION){n.transaction.transition(x.TxnState.TRANSACTION_IN_PROGRESS),o.startTransaction=!0;const i=n.transaction.options.readConcern||n?.clientOptions?.readConcern;i&&(o.readConcern=i),n.supports.causalConsistency&&n.operationTime&&(o.readConcern=o.readConcern||{},Object.assign(o.readConcern,{afterClusterTime:n.operationTime}))}return},o.updateSessionFromResponse=function updateSessionFromResponse(n,o){o.$clusterTime&&(0,N._advanceClusterTime)(n,o.$clusterTime);o.operationTime&&n&&n.supports.causalConsistency&&n.advanceOperationTime(o.operationTime);o.recoveryToken&&n&&n.inTransaction()&&(n.transaction._recoveryToken=o.recoveryToken);if(n?.snapshotEnabled&&null==n.snapshotTime){const i=o.atClusterTime;i&&(n.snapshotTime=i)}};const s=i(63403),c=i(86634),h=i(13193),f=i(32568),E=i(86947),S=i(96327),A=i(86437),O=i(37639),T=i(38938),_=i(50773),D=i(523),N=i(48446),R=i(38286),x=i(34716),P=i(52060),M=i(98349);class ClientSession extends S.TypedEventEmitter{constructor(n,o,i,s){if(super(),this.timeoutContext=null,this.on("error",P.noop),null==n)throw new E.MongoRuntimeError("ClientSession requires a MongoClient");if(null==o||!(o instanceof ServerSessionPool))throw new E.MongoRuntimeError("ClientSession requires a ServerSessionPool");if(i=i??{},this.snapshotEnabled=!0===i.snapshot,!0===i.causalConsistency&&this.snapshotEnabled)throw new E.MongoInvalidArgumentError('Properties "causalConsistency" and "snapshot" are mutually exclusive');this.client=n,this.sessionPool=o,this.hasEnded=!1,this.clientOptions=s,this.timeoutMS=i.defaultTimeoutMS??n.s.options?.timeoutMS,this.explicit=!!i.explicit,this._serverSession=this.explicit?this.sessionPool.acquire():null,this.txnNumberIncrement=0;const c=this.explicit&&!0!==i.snapshot;this.supports={causalConsistency:i.causalConsistency??c},this.clusterTime=i.initialClusterTime,this.operationTime=void 0,this.owner=i.owner,this.defaultTransactionOptions={...i.defaultTransactionOptions},this.transaction=new x.Transaction}get id(){return this.serverSession?.id}get serverSession(){let n=this._serverSession;if(null==n){if(this.explicit)throw new E.MongoRuntimeError("Unexpected null serverSession for an explicit session");if(this.hasEnded)throw new E.MongoRuntimeError("Unexpected null serverSession for an ended implicit session");n=this.sessionPool.acquire(),this._serverSession=n}return n}get loadBalanced(){return this.client.topology?.description.type===N.TopologyType.LoadBalanced}pin(n){if(this.pinnedConnection)throw TypeError("Cannot pin multiple connections to the same session");this.pinnedConnection=n,n.emit(f.PINNED,this.inTransaction()?c.ConnectionPoolMetrics.TXN:c.ConnectionPoolMetrics.CURSOR)}unpin(n){if(this.loadBalanced)return maybeClearPinnedConnection(this,n);this.transaction.unpinServer()}get isPinned(){return this.loadBalanced?!!this.pinnedConnection:this.transaction.isPinned}async endSession(n){try{this.inTransaction()&&await this.abortTransaction({...n,throwTimeout:!0})}catch(n){if("MongoOperationTimeoutError"===n.name)throw n;(0,P.squashError)(n)}finally{if(!this.hasEnded){const n=this.serverSession;null!=n&&(this.sessionPool.release(n),this._serverSession=new ServerSession(n)),this.hasEnded=!0,this.emit("ended",this)}maybeClearPinnedConnection(this,{force:!0,...n})}}async asyncDispose(){await this.endSession({force:!0})}advanceOperationTime(n){null!=this.operationTime?n.greaterThan(this.operationTime)&&(this.operationTime=n):this.operationTime=n}advanceClusterTime(n){if(!n||"object"!=typeof n)throw new E.MongoInvalidArgumentError("input cluster time must be an object");if(!n.clusterTime||"Timestamp"!==n.clusterTime._bsontype)throw new E.MongoInvalidArgumentError('input cluster time "clusterTime" property must be a valid BSON Timestamp');if(!n.signature||"Binary"!==n.signature.hash?._bsontype||"bigint"!=typeof n.signature.keyId&&"number"!=typeof n.signature.keyId&&"Long"!==n.signature.keyId?._bsontype)throw new E.MongoInvalidArgumentError('input cluster time must have a valid "signature" property with BSON Binary hash and BSON Long keyId');(0,N._advanceClusterTime)(this,n)}equals(n){return n instanceof ClientSession&&(null!=this.id&&null!=n.id&&P.ByteUtils.equals(this.id.id.buffer,n.id.id.buffer))}incrementTransactionNumber(){this.txnNumberIncrement+=1}inTransaction(){return this.transaction.isActive}startTransaction(n){if(this.snapshotEnabled)throw new E.MongoCompatibilityError("Transactions are not supported in snapshot sessions");if(this.inTransaction())throw new E.MongoTransactionError("Transaction already in progress");this.isPinned&&this.transaction.isCommitted&&this.unpin();const o=(0,P.maxWireVersion)(this.client.topology);if((0,h.isSharded)(this.client.topology)&&null!=o&&o<8)throw new E.MongoCompatibilityError("Transactions are not supported on sharded clusters in MongoDB < 4.2.");this.commitAttempted=!1,this.incrementTransactionNumber(),this.transaction=new x.Transaction({readConcern:n?.readConcern??this.defaultTransactionOptions.readConcern??this.clientOptions?.readConcern,writeConcern:n?.writeConcern??this.defaultTransactionOptions.writeConcern??this.clientOptions?.writeConcern,readPreference:n?.readPreference??this.defaultTransactionOptions.readPreference??this.clientOptions?.readPreference,maxCommitTimeMS:n?.maxCommitTimeMS??this.defaultTransactionOptions.maxCommitTimeMS}),this.transaction.transition(x.TxnState.STARTING_TRANSACTION)}async commitTransaction(n){if(this.transaction.state===x.TxnState.NO_TRANSACTION)throw new E.MongoTransactionError("No transaction started");if(this.transaction.state===x.TxnState.STARTING_TRANSACTION||this.transaction.state===x.TxnState.TRANSACTION_COMMITTED_EMPTY)return void this.transaction.transition(x.TxnState.TRANSACTION_COMMITTED_EMPTY);if(this.transaction.state===x.TxnState.TRANSACTION_ABORTED)throw new E.MongoTransactionError("Cannot call commitTransaction after calling abortTransaction");const o={commitTransaction:1},i="number"==typeof n?.timeoutMS?n.timeoutMS:"number"==typeof this.timeoutMS?this.timeoutMS:null,s=this.transaction.options.writeConcern??this.clientOptions?.writeConcern;if(null!=s)if(null==i&&null==this.timeoutContext)M.WriteConcern.apply(o,{wtimeoutMS:1e4,w:"majority",...s});else{const n=Object.keys(s);(n.length>2||!n.includes("wtimeoutMS")&&!n.includes("wTimeoutMS"))&&M.WriteConcern.apply(o,{...s,wtimeoutMS:void 0})}(this.transaction.state===x.TxnState.TRANSACTION_COMMITTED||this.commitAttempted)&&(null==i&&null==this.timeoutContext?M.WriteConcern.apply(o,{wtimeoutMS:1e4,...s,w:"majority"}):M.WriteConcern.apply(o,{w:"majority",...s,wtimeoutMS:void 0})),"number"==typeof this.transaction.options.maxTimeMS&&(o.maxTimeMS=this.transaction.options.maxTimeMS),this.transaction.recoveryToken&&(o.recoveryToken=this.transaction.recoveryToken);const c=new O.RunCommandOperation(new P.MongoDBNamespace("admin"),o,{session:this,readPreference:_.ReadPreference.primary,bypassPinningCheck:!0}),h=this.timeoutContext??("number"==typeof i?R.TimeoutContext.create({serverSelectionTimeoutMS:this.clientOptions.serverSelectionTimeoutMS,socketTimeoutMS:this.clientOptions.socketTimeoutMS,timeoutMS:i}):null);try{return await(0,A.executeOperation)(this.client,c,h),void(this.commitAttempted=void 0)}catch(n){if(this.commitAttempted=!0,n instanceof E.MongoError&&(0,E.isRetryableWriteError)(n)){M.WriteConcern.apply(o,{wtimeoutMS:1e4,...s,w:"majority"}),this.unpin({force:!0});try{return void await(0,A.executeOperation)(this.client,new O.RunCommandOperation(new P.MongoDBNamespace("admin"),o,{session:this,readPreference:_.ReadPreference.primary,bypassPinningCheck:!0}),h)}catch(n){throw shouldAddUnknownTransactionCommitResultLabel(n)&&n.addErrorLabel(E.MongoErrorLabel.UnknownTransactionCommitResult),shouldUnpinAfterCommitError(n)&&this.unpin({error:n}),n}}throw shouldAddUnknownTransactionCommitResultLabel(n)&&n.addErrorLabel(E.MongoErrorLabel.UnknownTransactionCommitResult),shouldUnpinAfterCommitError(n)&&this.unpin({error:n}),n}finally{this.transaction.transition(x.TxnState.TRANSACTION_COMMITTED)}}async abortTransaction(n){if(this.transaction.state===x.TxnState.NO_TRANSACTION)throw new E.MongoTransactionError("No transaction started");if(this.transaction.state===x.TxnState.STARTING_TRANSACTION)return void this.transaction.transition(x.TxnState.TRANSACTION_ABORTED);if(this.transaction.state===x.TxnState.TRANSACTION_ABORTED)throw new E.MongoTransactionError("Cannot call abortTransaction twice");if(this.transaction.state===x.TxnState.TRANSACTION_COMMITTED||this.transaction.state===x.TxnState.TRANSACTION_COMMITTED_EMPTY)throw new E.MongoTransactionError("Cannot call abortTransaction after calling commitTransaction");const o={abortTransaction:1},i="number"==typeof n?.timeoutMS?n.timeoutMS:this.timeoutContext?.csotEnabled()?this.timeoutContext.timeoutMS:"number"==typeof this.timeoutMS?this.timeoutMS:null,s=null!=i?R.TimeoutContext.create({timeoutMS:i,serverSelectionTimeoutMS:this.clientOptions.serverSelectionTimeoutMS,socketTimeoutMS:this.clientOptions.socketTimeoutMS}):null,c=this.transaction.options.writeConcern??this.clientOptions?.writeConcern;null!=c&&null==i&&M.WriteConcern.apply(o,{wtimeoutMS:1e4,w:"majority",...c}),this.transaction.recoveryToken&&(o.recoveryToken=this.transaction.recoveryToken);const h=new O.RunCommandOperation(new P.MongoDBNamespace("admin"),o,{session:this,readPreference:_.ReadPreference.primary,bypassPinningCheck:!0});try{return await(0,A.executeOperation)(this.client,h,s),void this.unpin()}catch(o){if(this.unpin(),"MongoRuntimeError"===o.name)throw o;if(n?.throwTimeout&&"MongoOperationTimeoutError"===o.name)throw o;if(o instanceof E.MongoError&&(0,E.isRetryableWriteError)(o))try{return void await(0,A.executeOperation)(this.client,h,s)}catch(o){if("MongoRuntimeError"===o.name)throw o;if(n?.throwTimeout&&"MongoOperationTimeoutError"===o.name)throw o}}finally{this.transaction.transition(x.TxnState.TRANSACTION_ABORTED),this.loadBalanced&&maybeClearPinnedConnection(this,{force:!1})}}toBSON(){throw new E.MongoRuntimeError("ClientSession cannot be serialized to BSON.")}async withTransaction(n,o){const i=12e4,s=o?.timeoutMS??this.timeoutMS??null;this.timeoutContext=null!=s?R.TimeoutContext.create({timeoutMS:s,serverSelectionTimeoutMS:this.clientOptions.serverSelectionTimeoutMS,socketTimeoutMS:this.clientOptions.socketTimeoutMS}):null;const c=this.timeoutContext?.csotEnabled()?this.timeoutContext.start:(0,P.now)();let h,f=!1;try{for(;!f;){this.startTransaction(o);try{const o=n(this);if(!(0,P.isPromiseLike)(o))throw new E.MongoInvalidArgumentError("Function provided to `withTransaction` must return a Promise");if(h=await o,this.transaction.state===x.TxnState.NO_TRANSACTION||this.transaction.state===x.TxnState.TRANSACTION_COMMITTED||this.transaction.state===x.TxnState.TRANSACTION_ABORTED)return h}catch(n){if(!(n instanceof E.MongoError)||n instanceof E.MongoInvalidArgumentError)throw await this.abortTransaction(),n;if(this.transaction.state!==x.TxnState.STARTING_TRANSACTION&&this.transaction.state!==x.TxnState.TRANSACTION_IN_PROGRESS||await this.abortTransaction(),n.hasErrorLabel(E.MongoErrorLabel.TransientTransactionError)&&(null!=this.timeoutContext||(0,P.now)()-c<i))continue;throw n}for(;!f;)try{await this.commitTransaction(),f=!0}catch(n){if(!isMaxTimeMSExpiredError(n)&&n.hasErrorLabel(E.MongoErrorLabel.UnknownTransactionCommitResult)&&(null!=this.timeoutContext||(0,P.now)()-c<i))continue;if(n.hasErrorLabel(E.MongoErrorLabel.TransientTransactionError)&&(null!=this.timeoutContext||(0,P.now)()-c<i))break;throw n}}return h}finally{this.timeoutContext=null}}}o.ClientSession=ClientSession,(0,D.configureResourceManagement)(ClientSession.prototype);const I=new Set(["CannotSatisfyWriteConcern","UnknownReplWriteConcern","UnsatisfiableWriteConcern"]);function shouldUnpinAfterCommitError(n){if(n instanceof E.MongoError)if((0,E.isRetryableWriteError)(n)||n instanceof E.MongoWriteConcernError||isMaxTimeMSExpiredError(n)){if(isUnknownTransactionCommitResult(n))return!0}else if(n.hasErrorLabel(E.MongoErrorLabel.TransientTransactionError))return!0;return!1}function shouldAddUnknownTransactionCommitResultLabel(n){let o=(0,E.isRetryableWriteError)(n);return o||=n instanceof E.MongoWriteConcernError,o||=isMaxTimeMSExpiredError(n),o&&=isUnknownTransactionCommitResult(n),o}function isUnknownTransactionCommitResult(n){const o=n instanceof E.MongoServerError&&n.codeName&&I.has(n.codeName);return isMaxTimeMSExpiredError(n)||!o&&n.code!==E.MONGODB_ERROR_CODES.UnsatisfiableWriteConcern&&n.code!==E.MONGODB_ERROR_CODES.UnknownReplWriteConcern}function maybeClearPinnedConnection(n,o){const i=n.pinnedConnection,s=o?.error;if(n.inTransaction()&&s&&s instanceof E.MongoError&&s.hasErrorLabel(E.MongoErrorLabel.TransientTransactionError))return;const h=n.client.topology;if(i&&null!=h){const s=Array.from(h.s.servers.values())[0];(null==o?.error||o?.force)&&(s.pool.checkIn(i),n.pinnedConnection=void 0,i.emit(f.UNPINNED,n.transaction.state!==x.TxnState.NO_TRANSACTION?c.ConnectionPoolMetrics.TXN:c.ConnectionPoolMetrics.CURSOR),o?.forceClear&&s.pool.clear({serviceId:i.serviceId}))}}function isMaxTimeMSExpiredError(n){return null!=n&&n instanceof E.MongoServerError&&(n.code===E.MONGODB_ERROR_CODES.MaxTimeMSExpired||n.writeConcernError?.code===E.MONGODB_ERROR_CODES.MaxTimeMSExpired)}class ServerSession{constructor(n){if(null!=n){const o=Buffer.allocUnsafe(16);return o.set(n.id.id.buffer),this.id={id:new s.Binary(o,n.id.id.sub_type)},this.lastUse=n.lastUse,this.txnNumber=n.txnNumber,void(this.isDirty=n.isDirty)}this.id={id:new s.Binary((0,P.uuidV4)(),s.Binary.SUBTYPE_UUID)},this.lastUse=(0,P.now)(),this.txnNumber=0,this.isDirty=!1}hasTimedOut(n){return Math.round((0,P.calculateDurationInMs)(this.lastUse)%864e5%36e5/6e4)>n-1}}o.ServerSession=ServerSession;class ServerSessionPool{constructor(n){if(null==n)throw new E.MongoRuntimeError("ServerSessionPool requires a MongoClient");this.client=n,this.sessions=new P.List}acquire(){const n=this.client.topology?.logicalSessionTimeoutMinutes??10;let o=null;for(;this.sessions.length>0;){const i=this.sessions.shift();if(null!=i&&(this.client.topology?.loadBalanced||!i.hasTimedOut(n))){o=i;break}}return null==o&&(o=new ServerSession),o}release(n){const o=this.client.topology?.logicalSessionTimeoutMinutes??10;if(this.client.topology?.loadBalanced&&!o&&this.sessions.unshift(n),o&&(this.sessions.prune(n=>n.hasTimedOut(o)),!n.hasTimedOut(o))){if(n.isDirty)return;this.sessions.unshift(n)}}}o.ServerSessionPool=ServerSessionPool},47781:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.formatSort=function formatSort(n,o){if(null==n)return;if("string"==typeof n)return new Map([[n,prepareDirection(o)]]);if("object"!=typeof n)throw new s.MongoInvalidArgumentError(`Invalid sort format: ${JSON.stringify(n)} Sort must be a valid object`);if(!function isReadonlyArray(n){return Array.isArray(n)}(n))return function isMap(n){return n instanceof Map&&n.size>0}(n)?function mapToMap(n){const o=Array.from(n).map(([n,o])=>[`${n}`,prepareDirection(o)]);return new Map(o)}(n):Object.keys(n).length?function objectToMap(n){const o=Object.entries(n).map(([n,o])=>[`${n}`,prepareDirection(o)]);return new Map(o)}(n):void 0;return n.length?function isDeep(n){return Array.isArray(n)&&Array.isArray(n[0])}(n)?function deepToMap(n){const o=n.map(([n,o])=>[`${n}`,prepareDirection(o)]);return new Map(o)}(n):function isPair(n){if(Array.isArray(n)&&2===n.length)try{return prepareDirection(n[1]),!0}catch{return!1}return!1}(n)?function pairToMap(n){return new Map([[`${n[0]}`,prepareDirection([n[1]])]])}(n):function stringsToMap(n){const o=n.map(n=>[`${n}`,1]);return new Map(o)}(n):void 0};const s=i(86947);function prepareDirection(n=1){const o=`${n}`.toLowerCase();if(function isMeta(n){return"object"==typeof n&&null!=n&&"$meta"in n&&"string"==typeof n.$meta}(n))return n;switch(o){case"ascending":case"asc":case"1":return 1;case"descending":case"desc":case"-1":return-1;default:throw new s.MongoInvalidArgumentError(`Invalid sort direction: ${JSON.stringify(n)}`)}}},38286:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.LegacyTimeoutContext=o.CSOTTimeoutContext=o.TimeoutContext=o.Timeout=o.TimeoutError=void 0;const s=i(75938),c=i(86947),h=i(52060);class TimeoutError extends Error{get name(){return"TimeoutError"}constructor(n,o){super(n,o),this.duration=o.duration}static is(n){return null!=n&&"object"==typeof n&&"name"in n&&"TimeoutError"===n.name}}o.TimeoutError=TimeoutError;class Timeout extends Promise{get remainingTime(){return this.timedOut?0:0===this.duration?1/0:this.start+this.duration-Math.trunc(performance.now())}get timeElapsed(){return Math.trunc(performance.now())-this.start}constructor(n=()=>null,o){const i=o?.duration??0,f=!!o?.unref,E=o?.rejection;if(i<0)throw new c.MongoInvalidArgumentError("Cannot create a Timeout with a negative duration");let S;super((o,i)=>{S=i,n(h.noop,i)}),this.ended=null,this.timedOut=!1,this.cleared=!1,this.duration=i,this.start=Math.trunc(performance.now()),null==E&&this.duration>0?(this.id=(0,s.setTimeout)(()=>{this.ended=Math.trunc(performance.now()),this.timedOut=!0,S(new TimeoutError(`Expired after ${i}ms`,{duration:i}))},this.duration),"function"==typeof this.id.unref&&f&&this.id.unref()):null!=E&&(this.ended=Math.trunc(performance.now()),this.timedOut=!0,S(E))}clear(){(0,s.clearTimeout)(this.id),this.id=void 0,this.timedOut=!1,this.cleared=!0}throwIfExpired(){if(this.timedOut)throw this.then(void 0,h.squashError),new TimeoutError("Timed out",{duration:this.duration})}static expires(n,o){return new Timeout(void 0,{duration:n,unref:o})}static reject(n){return new Timeout(void 0,{duration:0,unref:!0,rejection:n})}}o.Timeout=Timeout;class TimeoutContext{static create(n){if(null!=n.session?.timeoutContext)return n.session?.timeoutContext;if(function isCSOTTimeoutContextOptions(n){return null!=n&&"object"==typeof n&&"serverSelectionTimeoutMS"in n&&"number"==typeof n.serverSelectionTimeoutMS&&"timeoutMS"in n&&"number"==typeof n.timeoutMS}(n))return new CSOTTimeoutContext(n);if(function isLegacyTimeoutContextOptions(n){return null!=n&&"object"==typeof n&&"serverSelectionTimeoutMS"in n&&"number"==typeof n.serverSelectionTimeoutMS&&"waitQueueTimeoutMS"in n&&"number"==typeof n.waitQueueTimeoutMS}(n))return new LegacyTimeoutContext(n);throw new c.MongoRuntimeError("Unrecognized options")}}o.TimeoutContext=TimeoutContext;class CSOTTimeoutContext extends TimeoutContext{constructor(n){super(),this.minRoundTripTime=0,this.start=Math.trunc(performance.now()),this.timeoutMS=n.timeoutMS,this.serverSelectionTimeoutMS=n.serverSelectionTimeoutMS,this.socketTimeoutMS=n.socketTimeoutMS,this.clearServerSelectionTimeout=!1}get maxTimeMS(){return this.remainingTimeMS-this.minRoundTripTime}get remainingTimeMS(){const n=Math.trunc(performance.now())-this.start;return this.timeoutMS<=0?1/0:this.timeoutMS-n}csotEnabled(){return!0}get serverSelectionTimeout(){if("object"!=typeof this._serverSelectionTimeout||this._serverSelectionTimeout?.cleared){const{remainingTimeMS:n,serverSelectionTimeoutMS:o}=this;if(n<=0)return Timeout.reject(new c.MongoOperationTimeoutError(`Timed out in server selection after ${this.timeoutMS}ms`));0!==o&&(0,h.csotMin)(n,o)===o?this._serverSelectionTimeout=Timeout.expires(o):n>0&&Number.isFinite(n)?this._serverSelectionTimeout=Timeout.expires(n):this._serverSelectionTimeout=null}return this._serverSelectionTimeout}get connectionCheckoutTimeout(){if("object"!=typeof this._connectionCheckoutTimeout||this._connectionCheckoutTimeout?.cleared){if("object"!=typeof this._serverSelectionTimeout)throw new c.MongoRuntimeError("Unreachable. If you are seeing this error, please file a ticket on the NODE driver project on Jira");this._connectionCheckoutTimeout=this._serverSelectionTimeout}return this._connectionCheckoutTimeout}get timeoutForSocketWrite(){const{remainingTimeMS:n}=this;return Number.isFinite(n)?n>0?Timeout.expires(n):Timeout.reject(new c.MongoOperationTimeoutError("Timed out before socket write")):null}get timeoutForSocketRead(){const{remainingTimeMS:n}=this;return Number.isFinite(n)?n>0?Timeout.expires(n):Timeout.reject(new c.MongoOperationTimeoutError("Timed out before socket read")):null}refresh(){this.start=Math.trunc(performance.now()),this.minRoundTripTime=0,this._serverSelectionTimeout?.clear(),this._connectionCheckoutTimeout?.clear()}clear(){this._serverSelectionTimeout?.clear(),this._connectionCheckoutTimeout?.clear()}getRemainingTimeMSOrThrow(n){const{remainingTimeMS:o}=this;if(o<=0)throw new c.MongoOperationTimeoutError(n??`Expired after ${this.timeoutMS}ms`);return o}clone(){const n=new CSOTTimeoutContext({timeoutMS:this.timeoutMS,serverSelectionTimeoutMS:this.serverSelectionTimeoutMS});return n.start=this.start,n}refreshed(){return new CSOTTimeoutContext(this)}addMaxTimeMSToCommand(n,o){if(o.omitMaxTimeMS)return;const i=this.remainingTimeMS-this.minRoundTripTime;i>0&&Number.isFinite(i)&&(n.maxTimeMS=i)}getSocketTimeoutMS(){return 0}}o.CSOTTimeoutContext=CSOTTimeoutContext;class LegacyTimeoutContext extends TimeoutContext{constructor(n){super(),this.options=n,this.clearServerSelectionTimeout=!0}csotEnabled(){return!1}get serverSelectionTimeout(){return null!=this.options.serverSelectionTimeoutMS&&this.options.serverSelectionTimeoutMS>0?Timeout.expires(this.options.serverSelectionTimeoutMS):null}get connectionCheckoutTimeout(){return null!=this.options.waitQueueTimeoutMS&&this.options.waitQueueTimeoutMS>0?Timeout.expires(this.options.waitQueueTimeoutMS):null}get timeoutForSocketWrite(){return null}get timeoutForSocketRead(){return null}refresh(){}clear(){}get maxTimeMS(){return null}refreshed(){return new LegacyTimeoutContext(this.options)}addMaxTimeMSToCommand(n,o){}getSocketTimeoutMS(){return this.options.socketTimeoutMS}}o.LegacyTimeoutContext=LegacyTimeoutContext},34716:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Transaction=o.TxnState=void 0,o.isTransactionCommand=function isTransactionCommand(n){return!(!n.commitTransaction&&!n.abortTransaction)};const s=i(86947),c=i(38938),h=i(50773),f=i(98349);o.TxnState=Object.freeze({NO_TRANSACTION:"NO_TRANSACTION",STARTING_TRANSACTION:"STARTING_TRANSACTION",TRANSACTION_IN_PROGRESS:"TRANSACTION_IN_PROGRESS",TRANSACTION_COMMITTED:"TRANSACTION_COMMITTED",TRANSACTION_COMMITTED_EMPTY:"TRANSACTION_COMMITTED_EMPTY",TRANSACTION_ABORTED:"TRANSACTION_ABORTED"});const E={[o.TxnState.NO_TRANSACTION]:[o.TxnState.NO_TRANSACTION,o.TxnState.STARTING_TRANSACTION],[o.TxnState.STARTING_TRANSACTION]:[o.TxnState.TRANSACTION_IN_PROGRESS,o.TxnState.TRANSACTION_COMMITTED,o.TxnState.TRANSACTION_COMMITTED_EMPTY,o.TxnState.TRANSACTION_ABORTED],[o.TxnState.TRANSACTION_IN_PROGRESS]:[o.TxnState.TRANSACTION_IN_PROGRESS,o.TxnState.TRANSACTION_COMMITTED,o.TxnState.TRANSACTION_ABORTED],[o.TxnState.TRANSACTION_COMMITTED]:[o.TxnState.TRANSACTION_COMMITTED,o.TxnState.TRANSACTION_COMMITTED_EMPTY,o.TxnState.STARTING_TRANSACTION,o.TxnState.NO_TRANSACTION],[o.TxnState.TRANSACTION_ABORTED]:[o.TxnState.STARTING_TRANSACTION,o.TxnState.NO_TRANSACTION],[o.TxnState.TRANSACTION_COMMITTED_EMPTY]:[o.TxnState.TRANSACTION_COMMITTED_EMPTY,o.TxnState.NO_TRANSACTION]},S=new Set([o.TxnState.STARTING_TRANSACTION,o.TxnState.TRANSACTION_IN_PROGRESS]),A=new Set([o.TxnState.TRANSACTION_COMMITTED,o.TxnState.TRANSACTION_COMMITTED_EMPTY,o.TxnState.TRANSACTION_ABORTED]);o.Transaction=class Transaction{constructor(n){n=n??{},this.state=o.TxnState.NO_TRANSACTION,this.options={};const i=f.WriteConcern.fromOptions(n);if(i){if(0===i.w)throw new s.MongoTransactionError("Transactions do not support unacknowledged write concern");this.options.writeConcern=i}n.readConcern&&(this.options.readConcern=c.ReadConcern.fromOptions(n)),n.readPreference&&(this.options.readPreference=h.ReadPreference.fromOptions(n)),n.maxCommitTimeMS&&(this.options.maxTimeMS=n.maxCommitTimeMS),this._pinnedServer=void 0,this._recoveryToken=void 0}get server(){return this._pinnedServer}get recoveryToken(){return this._recoveryToken}get isPinned(){return!!this.server}get isStarting(){return this.state===o.TxnState.STARTING_TRANSACTION}get isActive(){return S.has(this.state)}get isCommitted(){return A.has(this.state)}transition(n){const i=E[this.state];if(i&&i.includes(n))return this.state=n,void(this.state!==o.TxnState.NO_TRANSACTION&&this.state!==o.TxnState.STARTING_TRANSACTION&&this.state!==o.TxnState.TRANSACTION_ABORTED||this.unpinServer());throw new s.MongoRuntimeError(`Attempted illegal state transition from [${this.state}] to [${n}]`)}pinServer(n){this.isActive&&(this._pinnedServer=n)}unpinServer(){this._pinnedServer=void 0}}},52060:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.kDispose=o.randomBytes=o.COSMOS_DB_MSG=o.DOCUMENT_DB_MSG=o.COSMOS_DB_CHECK=o.DOCUMENT_DB_CHECK=o.MONGODB_WARNING_CODE=o.DEFAULT_PK_FACTORY=o.HostAddress=o.BufferPool=o.List=o.MongoDBCollectionNamespace=o.MongoDBNamespace=o.ByteUtils=void 0,o.isUint8Array=function isUint8Array(n){return null!=n&&"object"==typeof n&&Symbol.toStringTag in n&&"Uint8Array"===n[Symbol.toStringTag]},o.hostMatchesWildcards=function hostMatchesWildcards(n,o){for(const i of o)if(n===i||i.startsWith("*.")&&n?.endsWith(i.substring(2,i.length))||i.startsWith("*/")&&n?.endsWith(i.substring(2,i.length)))return!0;return!1},o.normalizeHintField=function normalizeHintField(n){let o;if("string"==typeof n)o=n;else if(Array.isArray(n))o={},n.forEach(n=>{o[n]=1});else if(null!=n&&"object"==typeof n){o={};for(const i in n)o[i]=n[i]}return o},o.isObject=isObject,o.mergeOptions=function mergeOptions(n,o){return{...n,...o}},o.filterOptions=function filterOptions(n,o){const i={};for(const s in n)o.includes(s)&&(i[s]=n[s]);return i},o.applyRetryableWrites=function applyRetryableWrites(n,o){o&&o.s.options?.retryWrites&&(n.retryWrites=!0);return n},o.isPromiseLike=function isPromiseLike(n){return null!=n&&"object"==typeof n&&"then"in n&&"function"==typeof n.then},o.decorateWithCollation=function decorateWithCollation(n,o,i){const s=getTopology(o).capabilities;if(i.collation&&"object"==typeof i.collation){if(!s||!s.commandsTakeCollation)throw new D.MongoCompatibilityError("Current topology does not support collation");n.collation=i.collation}},o.decorateWithReadConcern=function decorateWithReadConcern(n,o,i){if(i&&i.session&&i.session.inTransaction())return;const s=Object.assign({},n.readConcern||{});o.s.readConcern&&Object.assign(s,o.s.readConcern);Object.keys(s).length>0&&Object.assign(n,{readConcern:s})},o.getTopology=getTopology,o.ns=function ns(n){return MongoDBNamespace.fromString(n)},o.makeCounter=function*makeCounter(n=0){let o=n;for(;;){const n=o;o+=1,yield n}},o.uuidV4=function uuidV4(){const n=s.randomBytes(16);return n[6]=15&n[6]|64,n[8]=63&n[8]|128,n},o.maxWireVersion=function maxWireVersion(n){if(n){if(n.loadBalanced||n.serverApi?.version)return T.MAX_SUPPORTED_WIRE_VERSION;if(n.hello)return n.hello.maxWireVersion;if("lastHello"in n&&"function"==typeof n.lastHello){const o=n.lastHello();if(o)return o.maxWireVersion}if(n.description&&"maxWireVersion"in n.description&&null!=n.description.maxWireVersion)return n.description.maxWireVersion}return 0},o.arrayStrictEqual=function arrayStrictEqual(n,o){if(!Array.isArray(n)||!Array.isArray(o))return!1;return n.length===o.length&&n.every((n,i)=>n===o[i])},o.errorStrictEqual=function errorStrictEqual(n,o){if(n===o)return!0;if(!n||!o)return n===o;if(null==n&&null!=o||null!=n&&null==o)return!1;if(n.constructor.name!==o.constructor.name)return!1;if(n.message!==o.message)return!1;return!0},o.makeStateMachine=function makeStateMachine(n){return function stateTransition(o,i){const s=n[o.s.state];if(s&&s.indexOf(i)<0)throw new D.MongoRuntimeError(`illegal state transition from [${o.s.state}] => [${i}], allowed: [${s}]`);o.emit("stateChanged",o.s.state,i),o.s.state=i}},o.now=now,o.calculateDurationInMs=function calculateDurationInMs(n){if("number"!=typeof n)return-1;const o=now()-n;return o<0?0:o},o.hasAtomicOperators=function hasAtomicOperators(n,o){if(Array.isArray(n)){for(const o of n)if(hasAtomicOperators(o))return!0;return!1}const i=Object.keys(n);if(o?.ignoreUndefined){let o=!0;for(const s of i)if(void 0!==n[s]){o=!1;break}if(o)throw new D.MongoInvalidArgumentError("Update operations require that all atomic operators have defined values, but none were provided.")}return i.length>0&&"$"===i[0][0]},o.resolveTimeoutOptions=function resolveTimeoutOptions(n,o){const{socketTimeoutMS:i,serverSelectionTimeoutMS:s,waitQueueTimeoutMS:c,timeoutMS:h}=n.s.options;return{socketTimeoutMS:i,serverSelectionTimeoutMS:s,waitQueueTimeoutMS:c,timeoutMS:h,...o}},o.resolveOptions=function resolveOptions(n,o){const i=Object.assign({},o,(0,O.resolveBSONOptions)(o,n)),s=o?.timeoutMS??n?.timeoutMS,c=o?.session;if(!c?.inTransaction()){const c=N.ReadConcern.fromOptions(o)??n?.readConcern;c&&(i.readConcern=c);let h=P.WriteConcern.fromOptions(o)??n?.writeConcern;h&&(null!=s&&(h=P.WriteConcern.fromOptions({writeConcern:{...h,wtimeout:void 0,wtimeoutMS:void 0}})),i.writeConcern=h)}i.timeoutMS=s;const h=R.ReadPreference.fromOptions(o)??n?.readPreference;h&&(i.readPreference=h);if(c?.explicit&&null!=c?.timeoutContext&&null!=o?.timeoutMS)throw new D.MongoInvalidArgumentError("An operation cannot be given a timeoutMS setting when inside a withTransaction call that has a timeoutMS setting");return i},o.isSuperset=isSuperset,o.isHello=function isHello(n){return!(!n[_.LEGACY_HELLO_COMMAND]&&!n.hello)},o.setDifference=function setDifference(n,o){const i=new Set(n);for(const n of o)i.delete(n);return i},o.isRecord=function isRecord(n,o=void 0){if(!isObject(n))return!1;const i=n.constructor;if(i&&i.prototype){if(!isObject(i.prototype))return!1;if(!HAS_OWN(i.prototype,"isPrototypeOf"))return!1}if(o){return isSuperset(Object.keys(n),o)}return!0},o.emitWarning=emitWarning,o.emitWarningOnce=function emitWarningOnce(n){if(!M.has(n))return M.add(n),emitWarning(n)},o.enumToString=function enumToString(n){return Object.values(n).join(", ")},o.supportsRetryableWrites=function supportsRetryableWrites(n){if(!n)return!1;if(n.loadBalanced)return!0;if(null!=n.description.logicalSessionTimeoutMinutes&&n.description.type!==x.ServerType.Standalone)return!0;return!1},o.shuffle=function shuffle(n,o=0){const i=Array.from(n);if(o>i.length)throw new D.MongoRuntimeError("Limit must be less than the number of items");let s=i.length;const c=o%i.length===0?1:i.length-o;for(;s>c;){const n=Math.floor(Math.random()*s);s-=1;const o=i[s];i[s]=i[n],i[n]=o}return o%i.length===0?i:i.slice(c)},o.commandSupportsReadConcern=function commandSupportsReadConcern(n){if(n.aggregate||n.count||n.distinct||n.find||n.geoNear)return!0;return!1},o.compareObjectId=function compareObjectId(n,i){if(null==n&&null==i)return 0;if(null==n)return-1;if(null==i)return 1;return o.ByteUtils.compare(n.id,i.id)},o.parseInteger=parseInteger,o.parseUnsignedInteger=function parseUnsignedInteger(n){const o=parseInteger(n);return null!=o&&o>=0?o:null},o.checkParentDomainMatch=function checkParentDomainMatch(n,o){const i=n.endsWith(".")?n.slice(0,n.length-1):n,s=o.endsWith(".")?o.slice(0,o.length-1):o,c=/^.*?\./,h=s.split(".").length<3,f=`.${i.replace(c,"")}`;let E=h?s:`.${s.replace(c,"")}`;E.startsWith(".")||(E="."+E);if(h&&i.split(".").length<=s.split(".").length)throw new D.MongoAPIError("Server record does not have at least one more domain level than parent URI");if(!f.endsWith(E))throw new D.MongoAPIError("Server record does not share hostname with parent URI")},o.get=function get(n,o={}){return new Promise((i,s)=>{let c;const E=h.get(n,o,n=>{n.setEncoding("utf8");let o="";n.on("data",n=>o+=n),n.on("end",()=>{(0,f.clearTimeout)(c),i({status:n.statusCode,body:o})})}).on("error",n=>{(0,f.clearTimeout)(c),s(n)}).end();c=(0,f.setTimeout)(()=>{E.destroy(new D.MongoNetworkTimeoutError("request timed out after 10 seconds"))},1e4)})},o.request=async function request(n,o={}){return await new Promise((i,s)=>{const c={method:"GET",timeout:1e4,json:!0,...E.parse(n),...o},f=h.request(c,n=>{n.setEncoding("utf8");let c="";n.on("data",n=>{c+=n}),n.once("end",()=>{if(!1!==o.json)try{const n=JSON.parse(c);i(n)}catch{s(new D.MongoRuntimeError(`Invalid JSON response: "${c}"`))}else i(c)})});f.once("timeout",()=>f.destroy(new D.MongoNetworkTimeoutError(`Network request to ${n} timed out after ${o.timeout} ms`))),f.once("error",n=>s(n)),f.end()})},o.isHostMatch=function isHostMatch(n,o){return!(!o||!n.test(o.toLowerCase()))},o.promiseWithResolvers=promiseWithResolvers,o.squashError=function squashError(n){return},o.once=async function once(n,i,s){s?.signal?.throwIfAborted();const{promise:c,resolve:h,reject:f}=promiseWithResolvers(),onEvent=n=>h(n),onError=n=>f(n),E=addAbortListener(s?.signal,function(){f(this.reason)});n.once(i,onEvent).once("error",onError);try{return await c}finally{n.off(i,onEvent),n.off("error",onError),E?.[o.kDispose]()}},o.maybeAddIdToDocuments=function maybeAddIdToDocuments(n,o,i){if(i.forceServerObjectId??n.s.db.options?.forceServerObjectId)return o;null==o._id&&(o._id=n.s.pkFactory.createPk());return o},o.fileIsAccessible=async function fileIsAccessible(n,o){try{return await c.promises.access(n,o),!0}catch{return!1}},o.csotMin=function csotMin(n,o){return 0===n?o:0===o?n:Math.min(n,o)},o.noop=function noop(){return},o.decorateDecryptionResult=function decorateDecryptionResult(n,o,i=!0){if(i&&(Buffer.isBuffer(o)&&(o=(0,O.deserialize)(o)),Buffer.isBuffer(n)))throw new D.MongoRuntimeError("Expected result of decryption to be deserialized BSON object");if(!n||"object"!=typeof n)return;for(const i of Object.keys(n)){const s=o[i];s&&"Binary"===s._bsontype&&6===s.sub_type?(n[_.kDecoratedKeys]||Object.defineProperty(n,_.kDecoratedKeys,{value:[],configurable:!0,enumerable:!1,writable:!1}),n[_.kDecoratedKeys].push(i)):decorateDecryptionResult(n[i],s,!1)}},o.addAbortListener=addAbortListener,o.abortable=async function abortable(n,{signal:i}){if(null==i)return await n;const{promise:s,reject:c}=promiseWithResolvers(),h=i.aborted?c(i.reason):addAbortListener(i,function(){c(this.reason)});try{return await Promise.race([n,s])}finally{h?.[o.kDispose]()}};const s=i(76982),c=i(79896),h=i(58611),f=i(75938),E=i(87016),S=i(87016),A=i(39023),O=i(63403),T=i(26447),_=i(32568),D=i(86947),N=i(38938),R=i(50773),x=i(48446),P=i(98349);o.ByteUtils={toLocalBufferType:n=>Buffer.isBuffer(n)?n:Buffer.from(n.buffer,n.byteOffset,n.byteLength),equals:(n,i)=>o.ByteUtils.toLocalBufferType(n).equals(i),compare:(n,i)=>o.ByteUtils.toLocalBufferType(n).compare(i),toBase64:n=>o.ByteUtils.toLocalBufferType(n).toString("base64")};const TO_STRING=n=>Object.prototype.toString.call(n);function isObject(n){return"[object Object]"===TO_STRING(n)}function getTopology(n){if("topology"in n&&n.topology)return n.topology;if("client"in n&&n.client.topology)return n.client.topology;throw new D.MongoNotConnectedError("MongoClient must be connected to perform this operation")}class MongoDBNamespace{constructor(n,o){this.db=n,this.collection=""===o?void 0:o}toString(){return this.collection?`${this.db}.${this.collection}`:this.db}withCollection(n){return new MongoDBCollectionNamespace(this.db,n)}static fromString(n){if("string"!=typeof n||""===n)throw new D.MongoRuntimeError(`Cannot parse namespace from "${n}"`);const[o,...i]=n.split("."),s=i.join(".");return new MongoDBNamespace(o,""===s?void 0:s)}}o.MongoDBNamespace=MongoDBNamespace;class MongoDBCollectionNamespace extends MongoDBNamespace{constructor(n,o){super(n,o),this.collection=o}static fromString(n){return super.fromString(n)}}function now(){const n=process.hrtime();return Math.floor(1e3*n[0]+n[1]/1e6)}function isSuperset(n,o){n=Array.isArray(n)?new Set(n):n,o=Array.isArray(o)?new Set(o):o;for(const i of o)if(!n.has(i))return!1;return!0}o.MongoDBCollectionNamespace=MongoDBCollectionNamespace;const HAS_OWN=(n,o)=>Object.prototype.hasOwnProperty.call(n,o);class List{get length(){return this.count}get[Symbol.toStringTag](){return"List"}constructor(){this.count=0,this.head={next:null,prev:null,value:null},this.head.next=this.head,this.head.prev=this.head}toArray(){return Array.from(this)}toString(){return`head <=> ${this.toArray().join(" <=> ")} <=> head`}*[Symbol.iterator](){for(const n of this.nodes())yield n.value}*nodes(){let n=this.head.next;for(;n!==this.head;){const{next:o}=n;yield n,n=o}}push(n){this.count+=1;const o={next:this.head,prev:this.head.prev,value:n};this.head.prev.next=o,this.head.prev=o}pushMany(n){for(const o of n)this.push(o)}unshift(n){this.count+=1;const o={next:this.head.next,prev:this.head,value:n};this.head.next.prev=o,this.head.next=o}remove(n){if(n===this.head||0===this.length)return null;this.count-=1;const o=n.prev,i=n.next;return o.next=i,i.prev=o,n.value}shift(){return this.remove(this.head.next)}pop(){return this.remove(this.head.prev)}prune(n){for(const o of this.nodes())n(o.value)&&this.remove(o)}clear(){this.count=0,this.head.next=this.head,this.head.prev=this.head}first(){return this.head.next.value}last(){return this.head.prev.value}}o.List=List;o.BufferPool=class BufferPool{constructor(){this.buffers=new List,this.totalByteLength=0}get length(){return this.totalByteLength}append(n){this.buffers.push(n),this.totalByteLength+=n.length}getInt32(){if(this.totalByteLength<4)return null;const n=this.buffers.first();if(null!=n&&n.byteLength>=4)return n.readInt32LE(0);const o=this.read(4),i=o.readInt32LE(0);return this.totalByteLength+=4,this.buffers.unshift(o),i}read(n){if("number"!=typeof n||n<0)throw new D.MongoInvalidArgumentError('Argument "size" must be a non-negative number');if(n>this.totalByteLength)return Buffer.alloc(0);const o=Buffer.allocUnsafe(n);for(let i=0;i<n;){const s=this.buffers.shift();if(null==s)break;const c=n-i,h=Math.min(c,s.byteLength),f=s.subarray(0,h);o.set(f,i),i+=h,this.totalByteLength-=h,h<s.byteLength&&this.buffers.unshift(s.subarray(h))}return o}};class HostAddress{constructor(n){this.host=void 0,this.port=void 0,this.socketPath=void 0,this.isIPv6=!1;const o=n.split(" ").join("%20");if(o.endsWith(".sock"))return void(this.socketPath=decodeURIComponent(o));const i=`iLoveJS://${o}`;let s;try{s=new S.URL(i)}catch(n){const i=new D.MongoRuntimeError(`Unable to parse ${o} with URL`);throw i.cause=n,i}const c=s.hostname,h=s.port;let f=decodeURIComponent(c).toLowerCase();if(f.startsWith("[")&&f.endsWith("]")&&(this.isIPv6=!0,f=f.substring(1,c.length-1)),this.host=f.toLowerCase(),this.port="number"==typeof h?h:"string"==typeof h&&""!==h?Number.parseInt(h,10):27017,0===this.port)throw new D.MongoParseError("Invalid port (zero) with hostname");Object.freeze(this)}[Symbol.for("nodejs.util.inspect.custom")](){return this.inspect()}inspect(){return`new HostAddress('${this.toString()}')`}toString(){return"string"==typeof this.host?this.isIPv6?`[${this.host}]:${this.port}`:`${this.host}:${this.port}`:`${this.socketPath}`}static fromString(n){return new HostAddress(n)}static fromHostPort(n,o){return n.includes(":")&&(n=`[${n}]`),HostAddress.fromString(`${n}:${o}`)}static fromSrvRecord({name:n,port:o}){return HostAddress.fromHostPort(n,o)}toHostPort(){if(this.socketPath)return{host:this.socketPath,port:0};return{host:this.host??"",port:this.port??0}}}function emitWarning(n){return process.emitWarning(n,{code:o.MONGODB_WARNING_CODE})}o.HostAddress=HostAddress,o.DEFAULT_PK_FACTORY={createPk:()=>new O.ObjectId},o.MONGODB_WARNING_CODE="MONGODB DRIVER";const M=new Set;function parseInteger(n){if("number"==typeof n)return Math.trunc(n);const o=Number.parseInt(String(n),10);return Number.isNaN(o)?null:o}function promiseWithResolvers(){let n,o;return{promise:new Promise(function withResolversExecutor(i,s){n=i,o=s}),resolve:n,reject:o}}function addAbortListener(n,i){if(null!=n)return n.addEventListener("abort",i,{once:!0}),{[o.kDispose]:()=>n.removeEventListener("abort",i)}}o.DOCUMENT_DB_CHECK=/(\.docdb\.amazonaws\.com$)|(\.docdb-elastic\.amazonaws\.com$)/,o.COSMOS_DB_CHECK=/\.cosmos\.azure\.com$/,o.DOCUMENT_DB_MSG="You appear to be connected to a DocumentDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/documentdb",o.COSMOS_DB_MSG="You appear to be connected to a CosmosDB cluster. For more information regarding feature compatibility and support please visit https://www.mongodb.com/supportability/cosmosdb",o.randomBytes=(0,A.promisify)(s.randomBytes),o.kDispose=Symbol.dispose??Symbol("dispose")},98349:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WriteConcern=o.WRITE_CONCERN_KEYS=void 0,o.throwIfWriteConcernError=function throwIfWriteConcernError(n){if("object"==typeof n&&null!=n){const o=s.MongoDBResponse.is(n)&&n.has("writeConcernError")?n.toObject():!s.MongoDBResponse.is(n)&&"writeConcernError"in n?n:null;if(null!=o)throw new c.MongoWriteConcernError(o)}};const s=i(89086),c=i(86947);o.WRITE_CONCERN_KEYS=["w","wtimeout","j","journal","fsync"];class WriteConcern{constructor(n,o,i,s){null!=n&&(Number.isNaN(Number(n))?this.w=n:this.w=Number(n)),null!=o&&(this.wtimeoutMS=this.wtimeout=o),null!=i&&(this.journal=this.j=i),null!=s&&(this.journal=this.j=!!s)}static apply(n,o){const i={};return null!=o.w&&(i.w=o.w),null!=o.wtimeoutMS&&(i.wtimeout=o.wtimeoutMS),null!=o.journal&&(i.j=o.j),n.writeConcern=i,n}static fromOptions(n,o){if(null==n)return;let i;o=o??{},i="string"==typeof n||"number"==typeof n?{w:n}:n instanceof WriteConcern?n:n.writeConcern;const s={...o instanceof WriteConcern?o:o.writeConcern,...i},{w:c,wtimeout:h,j:f,fsync:E,journal:S,wtimeoutMS:A}=s;return null!=c||null!=h||null!=A||null!=f||null!=S||null!=E?new WriteConcern(c,h??A,f??S,E):void 0}}o.WriteConcern=WriteConcern},48379:(n,o,i)=>{"use strict";i.r(o),i.d(o,{decode:()=>decode,default:()=>T,encode:()=>encode,toASCII:()=>toASCII,toUnicode:()=>toUnicode,ucs2decode:()=>ucs2decode,ucs2encode:()=>ucs2encode});const s=2147483647,c=36,h=/^xn--/,f=/[^\0-\x7F]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=Math.floor,O=String.fromCharCode;function error(n){throw new RangeError(S[n])}function mapDomain(n,o){const i=n.split("@");let s="";i.length>1&&(s=i[0]+"@",n=i[1]);const c=function map(n,o){const i=[];let s=n.length;for(;s--;)i[s]=o(n[s]);return i}((n=n.replace(E,".")).split("."),o).join(".");return s+c}function ucs2decode(n){const o=[];let i=0;const s=n.length;for(;i<s;){const c=n.charCodeAt(i++);if(c>=55296&&c<=56319&&i<s){const s=n.charCodeAt(i++);56320==(64512&s)?o.push(((1023&c)<<10)+(1023&s)+65536):(o.push(c),i--)}else o.push(c)}return o}const ucs2encode=n=>String.fromCodePoint(...n),basicToDigit=function(n){return n>=48&&n<58?n-48+26:n>=65&&n<91?n-65:n>=97&&n<123?n-97:c},digitToBasic=function(n,o){return n+22+75*(n<26)-((0!=o)<<5)},adapt=function(n,o,i){let s=0;for(n=i?A(n/700):n>>1,n+=A(n/o);n>455;s+=c)n=A(n/35);return A(s+36*n/(n+38))},decode=function(n){const o=[],i=n.length;let h=0,f=128,E=72,S=n.lastIndexOf("-");S<0&&(S=0);for(let i=0;i<S;++i)n.charCodeAt(i)>=128&&error("not-basic"),o.push(n.charCodeAt(i));for(let O=S>0?S+1:0;O<i;){const S=h;for(let o=1,f=c;;f+=c){O>=i&&error("invalid-input");const S=basicToDigit(n.charCodeAt(O++));S>=c&&error("invalid-input"),S>A((s-h)/o)&&error("overflow"),h+=S*o;const T=f<=E?1:f>=E+26?26:f-E;if(S<T)break;const _=c-T;o>A(s/_)&&error("overflow"),o*=_}const T=o.length+1;E=adapt(h-S,T,0==S),A(h/T)>s-f&&error("overflow"),f+=A(h/T),h%=T,o.splice(h++,0,f)}return String.fromCodePoint(...o)},encode=function(n){const o=[],i=(n=ucs2decode(n)).length;let h=128,f=0,E=72;for(const i of n)i<128&&o.push(O(i));const S=o.length;let T=S;for(S&&o.push("-");T<i;){let i=s;for(const o of n)o>=h&&o<i&&(i=o);const _=T+1;i-h>A((s-f)/_)&&error("overflow"),f+=(i-h)*_,h=i;for(const i of n)if(i<h&&++f>s&&error("overflow"),i===h){let n=f;for(let i=c;;i+=c){const s=i<=E?1:i>=E+26?26:i-E;if(n<s)break;const h=n-s,f=c-s;o.push(O(digitToBasic(s+h%f,0))),n=A(h/f)}o.push(O(digitToBasic(n,0))),E=adapt(f,_,T===S),f=0,++T}++f,++h}return o.join("")},toUnicode=function(n){return mapDomain(n,function(n){return h.test(n)?decode(n.slice(4).toLowerCase()):n})},toASCII=function(n){return mapDomain(n,function(n){return f.test(n)?"xn--"+encode(n):n})},T={version:"2.3.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode,encode,toASCII,toUnicode}},18165:(n,o,i)=>{var s=i(44832);function Bitfield(n){if(!(this instanceof Bitfield))return new Bitfield(n);if(n||(n={}),Buffer.isBuffer(n)&&(n={buffer:n}),this.pageOffset=n.pageOffset||0,this.pageSize=n.pageSize||1024,this.pages=n.pages||s(this.pageSize),this.byteLength=this.pages.length*this.pageSize,this.length=8*this.byteLength,!function powerOfTwo(n){return!(n&n-1)}(this.pageSize))throw new Error("The page size should be a power of two");if(this._trackUpdates=!!n.trackUpdates,this._pageMask=this.pageSize-1,n.buffer){for(var o=0;o<n.buffer.length;o+=this.pageSize)this.pages.set(o/this.pageSize,n.buffer.slice(o,o+this.pageSize));this.byteLength=n.buffer.length,this.length=8*this.byteLength}}n.exports=Bitfield,Bitfield.prototype.get=function(n){var o=7&n,i=(n-o)/8;return!!(this.getByte(i)&128>>o)},Bitfield.prototype.getByte=function(n){var o=n&this._pageMask,i=(n-o)/this.pageSize,s=this.pages.get(i,!0);return s?s.buffer[o+this.pageOffset]:0},Bitfield.prototype.set=function(n,o){var i=7&n,s=(n-i)/8,c=this.getByte(s);return this.setByte(s,o?c|128>>i:c&(255^128>>i))},Bitfield.prototype.toBuffer=function(){for(var n=function alloc(n){if(Buffer.alloc)return Buffer.alloc(n);var o=new Buffer(n);return o.fill(0),o}(this.pages.length*this.pageSize),o=0;o<this.pages.length;o++){var i=this.pages.get(o,!0),s=o*this.pageSize;i&&i.buffer.copy(n,s,this.pageOffset,this.pageOffset+this.pageSize)}return n},Bitfield.prototype.setByte=function(n,o){var i=n&this._pageMask,s=(n-i)/this.pageSize,c=this.pages.get(s,!1);return i+=this.pageOffset,c.buffer[i]!==o&&(c.buffer[i]=o,n>=this.byteLength&&(this.byteLength=n+1,this.length=8*this.byteLength),this._trackUpdates&&this.pages.updated(c),!0)}},33653:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function _export(n,o){for(var i in o)Object.defineProperty(n,i,{enumerable:!0,get:Object.getOwnPropertyDescriptor(o,i).get})}(o,{get CosmosDBHiddenFields(){return q},get HttpStatusCodes(){return V},get Links(){return W},get SERVERLESS_CAPABILITY_NAME(){return k},get connectedPostgresKey(){return P},get databaseAccountType(){return j},get defaultStoredProcedure(){return _},get defaultTrigger(){return D},get doubleClickDebounceDelay(){return T},get getResourcesPath(){return getResourcesPath},get getThemeAgnosticIconPath(){return getThemeAgnosticIconPath},get getThemeAgnosticIconURI(){return getThemeAgnosticIconURI},get getThemedIconPath(){return getThemedIconPath},get isEmulatorSupported(){return R},get isLinux(){return A},get isMacOS(){return O},get isWindows(){return S},get postgresBaseFileName(){return B},get postgresDefaultDatabase(){return L},get postgresDefaultPort(){return F},get postgresFileExtension(){return I},get postgresFlexibleFilter(){return U},get postgresLanguageId(){return M},get postgresSingleFilter(){return z},get testDb(){return x},get wellKnownEmulatorPassword(){return N}});const s=_interop_require_wildcard(i(79896)),c=_interop_require_default(i(34589)),h=_interop_require_wildcard(i(16928)),f=i(48945),E=i(57935);function _interop_require_default(n){return n&&n.__esModule?n:{default:n}}function _getRequireWildcardCache(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,i=new WeakMap;return(_getRequireWildcardCache=function(n){return n?i:o})(n)}function _interop_require_wildcard(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var i=_getRequireWildcardCache(o);if(i&&i.has(n))return i.get(n);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if("default"!==h&&Object.prototype.hasOwnProperty.call(n,h)){var f=c?Object.getOwnPropertyDescriptor(n,h):null;f&&(f.get||f.set)?Object.defineProperty(s,h,f):s[h]=n[h]}return s.default=n,i&&i.set(n,s),s}const S=/^win/.test(process.platform),A=/^linux/.test(process.platform),O=/^darwin/.test(process.platform);function getThemedIconPath(n){const o={light:h.join(getResourcesPath(),"icons","light",n),dark:h.join(getResourcesPath(),"icons","dark",n)};return c.default.ok(s.existsSync(o.light)),o}function getThemeAgnosticIconPath(n){const o={light:h.join(getResourcesPath(),"icons","theme-agnostic",n),dark:h.join(getResourcesPath(),"icons","theme-agnostic",n)};return c.default.ok(s.existsSync(o.light)),o}function getThemeAgnosticIconURI(n){const o={light:f.Utils.joinPath(E.ext.context.extensionUri,"resources","icons","theme-agnostic",n),dark:f.Utils.joinPath(E.ext.context.extensionUri,"resources","icons","theme-agnostic",n)};return c.default.ok(s.existsSync(o.light.path)),o}function getResourcesPath(){return E.ext.context.asAbsolutePath("resources")}!function(n){n.LocalConnectionDebuggingTips="https://aka.ms/AA5zah5"}(W||(W={}));const T=500,_="function sample(prefix) {\n    var collection = getContext().getCollection();\n\n    // Query documents and take 1st item.\n    var isAccepted = collection.queryDocuments(\n        collection.getSelfLink(),\n        'SELECT * FROM root r',\n        function (err, feed, options) {\n            if (err) throw err;\n\n            // Check the feed and if empty, set the body to 'no docs found',\n            // else take 1st element from feed\n            if (!feed || !feed.length) {\n                var response = getContext().getResponse();\n                response.setBody('no docs found');\n            }\n\n            else {\n                var response = getContext().getResponse();\n                var body = { prefix: prefix, feed: feed[0] };\n                response.setBody(JSON.stringify(body));\n            }\n        });\n\n    if (!isAccepted) throw new Error('The query was not accepted by the server.');\n};",D="function trigger() {\n\n}",N="C2y6yDjf5/R+ob0N8A7Cgv30VRDJIWEHLM+4QDU5DE2nQ9nDuVTqobD4b8mGGyPMbIZnqyMsEcaGQy67XIw/Jw==",R=S||A||O&&"x64"===process.arch,x="test",P="ms-azuretools.vscode-azuredatabases.connectedPostgresDB",M="postgres",I=".psql",B="query",F="5432",L="postgres",k="EnableServerless",j="Microsoft.DocumentDB/databaseAccounts",U={type:"Microsoft.DBforPostgreSQL/flexibleServers"},z={type:"Microsoft.DBForPostgreSQL/servers"},q=["_rid","_self","_etag","_attachments","_ts"];let V=class HttpStatusCodes{static CONTINUE=100;static SWITCHING_PROTOCOLS=101;static PROCESSING=102;static EARLY_HINTS=103;static OK=200;static CREATED=201;static ACCEPTED=202;static NON_AUTHORITATIVE_INFORMATION=203;static NO_CONTENT=204;static RESET_CONTENT=205;static PARTIAL_CONTENT=206;static MULTI_STATUS=207;static MULTIPLE_CHOICES=300;static MOVED_PERMANENTLY=301;static MOVED_TEMPORARILY=302;static SEE_OTHER=303;static NOT_MODIFIED=304;static USE_PROXY=305;static TEMPORARY_REDIRECT=307;static PERMANENT_REDIRECT=308;static BAD_REQUEST=400;static UNAUTHORIZED=401;static PAYMENT_REQUIRED=402;static FORBIDDEN=403;static NOT_FOUND=404;static METHOD_NOT_ALLOWED=405;static NOT_ACCEPTABLE=406;static PROXY_AUTHENTICATION_REQUIRED=407;static REQUEST_TIMEOUT=408;static CONFLICT=409;static GONE=410;static LENGTH_REQUIRED=411;static PRECONDITION_FAILED=412;static REQUEST_TOO_LONG=413;static REQUEST_URI_TOO_LONG=414;static UNSUPPORTED_MEDIA_TYPE=415;static REQUESTED_RANGE_NOT_SATISFIABLE=416;static EXPECTATION_FAILED=417;static IM_A_TEAPOT=418;static INSUFFICIENT_SPACE_ON_RESOURCE=419;static METHOD_FAILURE=420;static MISDIRECTED_REQUEST=421;static UNPROCESSABLE_ENTITY=422;static LOCKED=423;static FAILED_DEPENDENCY=424;static UPGRADE_REQUIRED=426;static PRECONDITION_REQUIRED=428;static TOO_MANY_REQUESTS=429;static REQUEST_HEADER_FIELDS_TOO_LARGE=431;static UNAVAILABLE_FOR_LEGAL_REASONS=451;static INTERNAL_SERVER_ERROR=500;static NOT_IMPLEMENTED=501;static BAD_GATEWAY=502;static SERVICE_UNAVAILABLE=503;static GATEWAY_TIMEOUT=504;static HTTP_VERSION_NOT_SUPPORTED=505;static INSUFFICIENT_STORAGE=507;static NETWORK_AUTHENTICATION_REQUIRED=511};var W},4584:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"mongoLexer",{enumerable:!0,get:function(){return A}});const s=i(60493),c=i(21088),h=i(72399),f=i(22807),E=_interop_require_wildcard(i(40659)),S=i(67435);function _getRequireWildcardCache(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,i=new WeakMap;return(_getRequireWildcardCache=function(n){return n?i:o})(n)}function _interop_require_wildcard(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var i=_getRequireWildcardCache(o);if(i&&i.has(n))return i.get(n);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if("default"!==h&&Object.prototype.hasOwnProperty.call(n,h)){var f=c?Object.getOwnPropertyDescriptor(n,h):null;f&&(f.get||f.set)?Object.defineProperty(s,h,f):s[h]=n[h]}return s.default=n,i&&i.set(n,s),s}function _ts_decorate(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f}let A=class mongoLexer extends f.Lexer{static T__0=1;static T__1=2;static T__2=3;static T__3=4;static T__4=5;static T__5=6;static T__6=7;static T__7=8;static RegexLiteral=9;static SingleLineComment=10;static MultiLineComment=11;static StringLiteral=12;static NullLiteral=13;static BooleanLiteral=14;static NumericLiteral=15;static DecimalLiteral=16;static LineTerminator=17;static SEMICOLON=18;static DOT=19;static DB=20;static IDENTIFIER=21;static DOUBLE_QUOTED_STRING_LITERAL=22;static SINGLE_QUOTED_STRING_LITERAL=23;static WHITESPACE=24;static modeNames=["DEFAULT_MODE"];static ruleNames=["T__0","T__1","T__2","T__3","T__4","T__5","T__6","T__7","RegexLiteral","RegexFlag","SingleLineComment","MultiLineComment","StringLiteral","NullLiteral","BooleanLiteral","NumericLiteral","DecimalLiteral","LineTerminator","SEMICOLON","DOT","DB","IDENTIFIER","DOUBLE_QUOTED_STRING_LITERAL","SINGLE_QUOTED_STRING_LITERAL","STRING_ESCAPE","DecimalIntegerLiteral","ExponentPart","DecimalDigit","WHITESPACE"];static _LITERAL_NAMES=[void 0,"'('","','","')'","'{'","'}'","'['","']'","':'",void 0,void 0,void 0,void 0,"'null'",void 0,void 0,void 0,void 0,"';'","'.'","'db'"];static _SYMBOLIC_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"RegexLiteral","SingleLineComment","MultiLineComment","StringLiteral","NullLiteral","BooleanLiteral","NumericLiteral","DecimalLiteral","LineTerminator","SEMICOLON","DOT","DB","IDENTIFIER","DOUBLE_QUOTED_STRING_LITERAL","SINGLE_QUOTED_STRING_LITERAL","WHITESPACE"];static VOCABULARY=new S.VocabularyImpl(mongoLexer._LITERAL_NAMES,mongoLexer._SYMBOLIC_NAMES,[]);get vocabulary(){return mongoLexer.VOCABULARY}isExternalIdentifierText(n){return"db"===n}constructor(n){super(n),this._interp=new c.LexerATNSimulator(mongoLexer._ATN,this)}get grammarFileName(){return"mongo.g4"}get ruleNames(){return mongoLexer.ruleNames}get serializedATN(){return mongoLexer._serializedATN}get modeNames(){return mongoLexer.modeNames}sempred(n,o,i){return 21!==o||this.IDENTIFIER_sempred(n,i)}IDENTIFIER_sempred(n,o){return 0!==o||!this.isExternalIdentifierText(this.text)}static _serializedATN='\b\t\t\t\t\t\t\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f\r\t\r\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\b\b\t\t\n\n\n\n\nR\n\n\n\n\n\nW\n\n\f\n\nZ\v\n\n\n\n^\n\n\f\n\na\v\n\v\v\f\f\f\f\fi\n\f\f\f\fl\v\f\f\f\r\r\r\r\rt\n\r\f\r\rw\v\r\r\r\r\r\r\n\n\n\n\r\n\n\r\n\n\n\n\r\n\f\v\n\f\v\n\f\v\n\n\n\ru\t\v\r\b\t\n\v\f\r!#%\')+-/13579;\f\f,,11\f\f11iikkooww{{\f\f\f\v\f""$$)+.0<=]_}}$$^^))^^$$))^^3;GGgg--//2;\v\v""\t\v\r!#%\')+-/1;=?A\tC\vE\rGIKMbdo!#%\')+-/13579;=>*>?@.@AB+B\bCD}D\nEFF\fGH]HIJ_JKL<LMQ1NR\nOP^PR1QNQORXSW\nTU^UW1VSVTWZXVXYY[ZX[_1\\^\v]\\^a_]_``a_bc\tcde1ef1fjgi\nhgiljhjkkmljmn\b\fnop1pq,qurt\vsrtwuvusvxwuxy,yz1z{{|\b\r|}1~/}~pwnnvtwghcnug /#"509709757$\t\b&=(0*fd,\n3.$\n3$0)\n\b3)2^\t\t42\t\n96\t\v\t\f98\t\r:\t\b<QVX_ju\b';static __ATN;static get _ATN(){return mongoLexer.__ATN||(mongoLexer.__ATN=(new s.ATNDeserializer).deserialize(E.toCharArray(mongoLexer._serializedATN))),mongoLexer.__ATN}};_ts_decorate([h.Override,h.NotNull],A.prototype,"vocabulary",null),_ts_decorate([h.Override],A.prototype,"grammarFileName",null),_ts_decorate([h.Override],A.prototype,"ruleNames",null),_ts_decorate([h.Override],A.prototype,"serializedATN",null),_ts_decorate([h.Override],A.prototype,"modeNames",null),_ts_decorate([h.Override],A.prototype,"sempred",null)},84627:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function _export(n,o){for(var i in o)Object.defineProperty(n,i,{enumerable:!0,get:Object.getOwnPropertyDescriptor(o,i).get})}(o,{get ArgumentContext(){return k},get ArgumentsContext(){return L},get ArrayLiteralContext(){return U},get CollectionContext(){return B},get CommandContext(){return M},get CommandsContext(){return P},get CommentContext(){return K},get ElementListContext(){return z},get EmptyCommandContext(){return I},get FunctionCallContext(){return F},get LiteralContext(){return $},get MongoCommandsContext(){return x},get ObjectLiteralContext(){return j},get PropertyAssignmentContext(){return V},get PropertyNameAndValueListContext(){return q},get PropertyNameContext(){return G},get PropertyValueContext(){return W},get mongoParser(){return R}});const s=i(74274),c=i(60493),h=i(13161),f=i(72399),E=_interop_require_wildcard(i(40659)),S=i(40755),A=i(35922),O=i(41097),T=i(79449),_=i(74275),D=i(47760),N=i(67435);function _getRequireWildcardCache(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,i=new WeakMap;return(_getRequireWildcardCache=function(n){return n?i:o})(n)}function _interop_require_wildcard(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var i=_getRequireWildcardCache(o);if(i&&i.has(n))return i.get(n);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if("default"!==h&&Object.prototype.hasOwnProperty.call(n,h)){var f=c?Object.getOwnPropertyDescriptor(n,h):null;f&&(f.get||f.set)?Object.defineProperty(s,h,f):s[h]=n[h]}return s.default=n,i&&i.set(n,s),s}function _ts_decorate(n,o,i,s){var c,h=arguments.length,f=h<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(n,o,i,s);else for(var E=n.length-1;E>=0;E--)(c=n[E])&&(f=(h<3?c(f):h>3?c(o,i,f):c(o,i))||f);return h>3&&f&&Object.defineProperty(o,i,f),f}let R=class mongoParser extends A.Parser{static T__0=1;static T__1=2;static T__2=3;static T__3=4;static T__4=5;static T__5=6;static T__6=7;static T__7=8;static RegexLiteral=9;static SingleLineComment=10;static MultiLineComment=11;static StringLiteral=12;static NullLiteral=13;static BooleanLiteral=14;static NumericLiteral=15;static DecimalLiteral=16;static LineTerminator=17;static SEMICOLON=18;static DOT=19;static DB=20;static IDENTIFIER=21;static DOUBLE_QUOTED_STRING_LITERAL=22;static SINGLE_QUOTED_STRING_LITERAL=23;static WHITESPACE=24;static RULE_mongoCommands=0;static RULE_commands=1;static RULE_command=2;static RULE_emptyCommand=3;static RULE_collection=4;static RULE_functionCall=5;static RULE_arguments=6;static RULE_argument=7;static RULE_objectLiteral=8;static RULE_arrayLiteral=9;static RULE_elementList=10;static RULE_propertyNameAndValueList=11;static RULE_propertyAssignment=12;static RULE_propertyValue=13;static RULE_literal=14;static RULE_propertyName=15;static RULE_comment=16;static ruleNames=["mongoCommands","commands","command","emptyCommand","collection","functionCall","arguments","argument","objectLiteral","arrayLiteral","elementList","propertyNameAndValueList","propertyAssignment","propertyValue","literal","propertyName","comment"];static _LITERAL_NAMES=[void 0,"'('","','","')'","'{'","'}'","'['","']'","':'",void 0,void 0,void 0,void 0,"'null'",void 0,void 0,void 0,void 0,"';'","'.'","'db'"];static _SYMBOLIC_NAMES=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"RegexLiteral","SingleLineComment","MultiLineComment","StringLiteral","NullLiteral","BooleanLiteral","NumericLiteral","DecimalLiteral","LineTerminator","SEMICOLON","DOT","DB","IDENTIFIER","DOUBLE_QUOTED_STRING_LITERAL","SINGLE_QUOTED_STRING_LITERAL","WHITESPACE"];static VOCABULARY=new N.VocabularyImpl(mongoParser._LITERAL_NAMES,mongoParser._SYMBOLIC_NAMES,[]);get vocabulary(){return mongoParser.VOCABULARY}get grammarFileName(){return"mongo.g4"}get ruleNames(){return mongoParser.ruleNames}get serializedATN(){return mongoParser._serializedATN}constructor(n){super(n),this._interp=new h.ParserATNSimulator(mongoParser._ATN,this)}mongoCommands(){const n=new x(this._ctx,this.state);this.enterRule(n,0,mongoParser.RULE_mongoCommands);try{this.enterOuterAlt(n,1),this.state=34,this.commands(),this.state=35,this.match(mongoParser.EOF)}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}commands(){const n=new P(this._ctx,this.state);let o;this.enterRule(n,2,mongoParser.RULE_commands);try{for(this.enterOuterAlt(n,1),this.state=42,this._errHandler.sync(this),o=this._input.LA(1);!(-32&o)&&1<<o&(1<<mongoParser.SingleLineComment|1<<mongoParser.MultiLineComment|1<<mongoParser.SEMICOLON|1<<mongoParser.DB);){switch(this.state=40,this._errHandler.sync(this),this._input.LA(1)){case mongoParser.DB:this.state=37,this.command();break;case mongoParser.SEMICOLON:this.state=38,this.emptyCommand();break;case mongoParser.SingleLineComment:case mongoParser.MultiLineComment:this.state=39,this.comment();break;default:throw new S.NoViableAltException(this)}this.state=44,this._errHandler.sync(this),o=this._input.LA(1)}}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}command(){const n=new M(this._ctx,this.state);let o;this.enterRule(n,4,mongoParser.RULE_command);try{if(this.enterOuterAlt(n,1),this.state=45,this.match(mongoParser.DB),this.state=48,this._errHandler.sync(this),1===this.interpreter.adaptivePredict(this._input,2,this._ctx))this.state=46,this.match(mongoParser.DOT),this.state=47,this.collection();this.state=52,this._errHandler.sync(this),o=this._input.LA(1);do{this.state=50,this.match(mongoParser.DOT),this.state=51,this.functionCall(),this.state=54,this._errHandler.sync(this),o=this._input.LA(1)}while(o===mongoParser.DOT);if(this.state=57,this._errHandler.sync(this),1===this.interpreter.adaptivePredict(this._input,4,this._ctx))this.state=56,this.match(mongoParser.SEMICOLON)}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}emptyCommand(){const n=new I(this._ctx,this.state);this.enterRule(n,6,mongoParser.RULE_emptyCommand);try{this.enterOuterAlt(n,1),this.state=59,this.match(mongoParser.SEMICOLON)}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}collection(){const n=new B(this._ctx,this.state);this.enterRule(n,8,mongoParser.RULE_collection);try{let o;for(this.enterOuterAlt(n,1),this.state=61,this.match(mongoParser.IDENTIFIER),this.state=66,this._errHandler.sync(this),o=this.interpreter.adaptivePredict(this._input,5,this._ctx);2!==o&&o!==s.ATN.INVALID_ALT_NUMBER;)1===o&&(this.state=62,this.match(mongoParser.DOT),this.state=63,this.match(mongoParser.IDENTIFIER)),this.state=68,this._errHandler.sync(this),o=this.interpreter.adaptivePredict(this._input,5,this._ctx)}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}functionCall(){const n=new F(this._ctx,this.state);this.enterRule(n,10,mongoParser.RULE_functionCall);try{this.enterOuterAlt(n,1),this.state=69,n._FUNCTION_NAME=this.match(mongoParser.IDENTIFIER),this.state=70,this.arguments()}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}arguments(){const n=new L(this._ctx,this.state);let o;this.enterRule(n,12,mongoParser.RULE_arguments);try{if(this.enterOuterAlt(n,1),this.state=72,n._OPEN_PARENTHESIS=this.match(mongoParser.T__0),this.state=81,this._errHandler.sync(this),o=this._input.LA(1),!(-32&o)&&1<<o&(1<<mongoParser.T__3|1<<mongoParser.T__5|1<<mongoParser.RegexLiteral|1<<mongoParser.StringLiteral|1<<mongoParser.NullLiteral|1<<mongoParser.BooleanLiteral|1<<mongoParser.NumericLiteral))for(this.state=73,this.argument(),this.state=78,this._errHandler.sync(this),o=this._input.LA(1);o===mongoParser.T__1;)this.state=74,this.match(mongoParser.T__1),this.state=75,this.argument(),this.state=80,this._errHandler.sync(this),o=this._input.LA(1);this.state=83,n._CLOSED_PARENTHESIS=this.match(mongoParser.T__2)}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}argument(){const n=new k(this._ctx,this.state);this.enterRule(n,14,mongoParser.RULE_argument);try{switch(this.state=88,this._errHandler.sync(this),this._input.LA(1)){case mongoParser.RegexLiteral:case mongoParser.StringLiteral:case mongoParser.NullLiteral:case mongoParser.BooleanLiteral:case mongoParser.NumericLiteral:this.enterOuterAlt(n,1),this.state=85,this.literal();break;case mongoParser.T__3:this.enterOuterAlt(n,2),this.state=86,this.objectLiteral();break;case mongoParser.T__5:this.enterOuterAlt(n,3),this.state=87,this.arrayLiteral();break;default:throw new S.NoViableAltException(this)}}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}objectLiteral(){const n=new j(this._ctx,this.state);let o;this.enterRule(n,16,mongoParser.RULE_objectLiteral);try{this.enterOuterAlt(n,1),this.state=90,this.match(mongoParser.T__3),this.state=92,this._errHandler.sync(this),o=this._input.LA(1),o!==mongoParser.StringLiteral&&o!==mongoParser.IDENTIFIER||(this.state=91,this.propertyNameAndValueList()),this.state=95,this._errHandler.sync(this),o=this._input.LA(1),o===mongoParser.T__1&&(this.state=94,this.match(mongoParser.T__1)),this.state=97,this.match(mongoParser.T__4)}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}arrayLiteral(){const n=new U(this._ctx,this.state);let o;this.enterRule(n,18,mongoParser.RULE_arrayLiteral);try{this.enterOuterAlt(n,1),this.state=99,this.match(mongoParser.T__5),this.state=101,this._errHandler.sync(this),o=this._input.LA(1),!(-32&o)&&1<<o&(1<<mongoParser.T__3|1<<mongoParser.T__5|1<<mongoParser.RegexLiteral|1<<mongoParser.StringLiteral|1<<mongoParser.NullLiteral|1<<mongoParser.BooleanLiteral|1<<mongoParser.NumericLiteral|1<<mongoParser.IDENTIFIER)&&(this.state=100,this.elementList()),this.state=103,this.match(mongoParser.T__6)}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}elementList(){const n=new z(this._ctx,this.state);let o;this.enterRule(n,20,mongoParser.RULE_elementList);try{for(this.enterOuterAlt(n,1),this.state=105,this.propertyValue(),this.state=110,this._errHandler.sync(this),o=this._input.LA(1);o===mongoParser.T__1;)this.state=106,this.match(mongoParser.T__1),this.state=107,this.propertyValue(),this.state=112,this._errHandler.sync(this),o=this._input.LA(1)}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}propertyNameAndValueList(){const n=new q(this._ctx,this.state);this.enterRule(n,22,mongoParser.RULE_propertyNameAndValueList);try{let o;for(this.enterOuterAlt(n,1),this.state=113,this.propertyAssignment(),this.state=118,this._errHandler.sync(this),o=this.interpreter.adaptivePredict(this._input,13,this._ctx);2!==o&&o!==s.ATN.INVALID_ALT_NUMBER;)1===o&&(this.state=114,this.match(mongoParser.T__1),this.state=115,this.propertyAssignment()),this.state=120,this._errHandler.sync(this),o=this.interpreter.adaptivePredict(this._input,13,this._ctx)}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}propertyAssignment(){const n=new V(this._ctx,this.state);this.enterRule(n,24,mongoParser.RULE_propertyAssignment);try{this.enterOuterAlt(n,1),this.state=121,this.propertyName(),this.state=122,this.match(mongoParser.T__7),this.state=123,this.propertyValue()}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}propertyValue(){const n=new W(this._ctx,this.state);this.enterRule(n,26,mongoParser.RULE_propertyValue);try{switch(this.state=129,this._errHandler.sync(this),this._input.LA(1)){case mongoParser.RegexLiteral:case mongoParser.StringLiteral:case mongoParser.NullLiteral:case mongoParser.BooleanLiteral:case mongoParser.NumericLiteral:this.enterOuterAlt(n,1),this.state=125,this.literal();break;case mongoParser.T__3:this.enterOuterAlt(n,2),this.state=126,this.objectLiteral();break;case mongoParser.T__5:this.enterOuterAlt(n,3),this.state=127,this.arrayLiteral();break;case mongoParser.IDENTIFIER:this.enterOuterAlt(n,4),this.state=128,this.functionCall();break;default:throw new S.NoViableAltException(this)}}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}literal(){const n=new $(this._ctx,this.state);let o;this.enterRule(n,28,mongoParser.RULE_literal);try{switch(this.state=134,this._errHandler.sync(this),this._input.LA(1)){case mongoParser.StringLiteral:case mongoParser.NullLiteral:case mongoParser.BooleanLiteral:this.enterOuterAlt(n,1),this.state=131,o=this._input.LA(1),-32&o||!(1<<o&(1<<mongoParser.StringLiteral|1<<mongoParser.NullLiteral|1<<mongoParser.BooleanLiteral))?this._errHandler.recoverInline(this):(this._input.LA(1)===D.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume());break;case mongoParser.RegexLiteral:this.enterOuterAlt(n,2),this.state=132,this.match(mongoParser.RegexLiteral);break;case mongoParser.NumericLiteral:this.enterOuterAlt(n,3),this.state=133,this.match(mongoParser.NumericLiteral);break;default:throw new S.NoViableAltException(this)}}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}propertyName(){const n=new G(this._ctx,this.state);let o;this.enterRule(n,30,mongoParser.RULE_propertyName);try{this.enterOuterAlt(n,1),this.state=136,o=this._input.LA(1),o!==mongoParser.StringLiteral&&o!==mongoParser.IDENTIFIER?this._errHandler.recoverInline(this):(this._input.LA(1)===D.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}comment(){const n=new K(this._ctx,this.state);let o;this.enterRule(n,32,mongoParser.RULE_comment);try{this.enterOuterAlt(n,1),this.state=138,o=this._input.LA(1),o!==mongoParser.SingleLineComment&&o!==mongoParser.MultiLineComment?this._errHandler.recoverInline(this):(this._input.LA(1)===D.Token.EOF&&(this.matchedEOF=!0),this._errHandler.reportMatch(this),this.consume())}catch(o){if(!(o instanceof T.RecognitionException))throw o;n.exception=o,this._errHandler.reportError(this,o),this._errHandler.recover(this,o)}finally{this.exitRule()}return n}static _serializedATN='\t\t\t\t\t\t\b\t\b\t\t\t\n\t\n\v\t\v\f\t\f\r\t\r\t\t\t\t\t+\n\f.\v3\n7\n\r8<\nC\n\fF\v\b\b\b\b\bO\n\b\f\b\bR\v\b\bT\n\b\b\b\t\t\t\t[\n\t\n\n\n_\n\n\n\nb\n\n\n\n\v\v\vh\n\v\v\v\f\f\f\fo\n\f\f\f\fr\v\f\r\r\r\rw\n\r\f\r\rz\v\r\n\n\b\n\f "\f\r$,/\b=\n?\fGJZ\\eks{ "$%%&&\'+(+\b)+"*\'*(*)+.,*,--.,/20113\n2023364557\f647886899;:<;:;<<=>>\t?D@AACB@CFDBDEE\vFDGHHI\bI\rJSKP\tLMMO\tNLORPNPQQTRPSKSTTUUVVW[X[\nY[\vZWZXZY[\\^]_\r^]^__a`ba`abbccddeg\bfh\fgfghhiij\tjkplmmonlorpnpqqrpsxtuuwvtwzxvxyyzx{| |}\n}~~\n\v\f\t\v\t!\t#*,28;DPSZ^agpx';static __ATN;static get _ATN(){return mongoParser.__ATN||(mongoParser.__ATN=(new c.ATNDeserializer).deserialize(E.toCharArray(mongoParser._serializedATN))),mongoParser.__ATN}};_ts_decorate([f.Override,f.NotNull],R.prototype,"vocabulary",null),_ts_decorate([f.Override],R.prototype,"grammarFileName",null),_ts_decorate([f.Override],R.prototype,"ruleNames",null),_ts_decorate([f.Override],R.prototype,"serializedATN",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"mongoCommands",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"commands",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"command",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"emptyCommand",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"collection",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"functionCall",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"arguments",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"argument",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"objectLiteral",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"arrayLiteral",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"elementList",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"propertyNameAndValueList",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"propertyAssignment",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"propertyValue",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"literal",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"propertyName",null),_ts_decorate([(0,_.RuleVersion)(0)],R.prototype,"comment",null);let x=class MongoCommandsContext extends O.ParserRuleContext{commands(){return this.getRuleContext(0,P)}EOF(){return this.getToken(R.EOF,0)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_mongoCommands}enterRule(n){n.enterMongoCommands&&n.enterMongoCommands(this)}exitRule(n){n.exitMongoCommands&&n.exitMongoCommands(this)}accept(n){return n.visitMongoCommands?n.visitMongoCommands(this):n.visitChildren(this)}};_ts_decorate([f.Override],x.prototype,"ruleIndex",null),_ts_decorate([f.Override],x.prototype,"enterRule",null),_ts_decorate([f.Override],x.prototype,"exitRule",null),_ts_decorate([f.Override],x.prototype,"accept",null);let P=class CommandsContext extends O.ParserRuleContext{command(n){return void 0===n?this.getRuleContexts(M):this.getRuleContext(n,M)}emptyCommand(n){return void 0===n?this.getRuleContexts(I):this.getRuleContext(n,I)}comment(n){return void 0===n?this.getRuleContexts(K):this.getRuleContext(n,K)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_commands}enterRule(n){n.enterCommands&&n.enterCommands(this)}exitRule(n){n.exitCommands&&n.exitCommands(this)}accept(n){return n.visitCommands?n.visitCommands(this):n.visitChildren(this)}};_ts_decorate([f.Override],P.prototype,"ruleIndex",null),_ts_decorate([f.Override],P.prototype,"enterRule",null),_ts_decorate([f.Override],P.prototype,"exitRule",null),_ts_decorate([f.Override],P.prototype,"accept",null);let M=class CommandContext extends O.ParserRuleContext{DB(){return this.getToken(R.DB,0)}DOT(n){return void 0===n?this.getTokens(R.DOT):this.getToken(R.DOT,n)}collection(){return this.tryGetRuleContext(0,B)}functionCall(n){return void 0===n?this.getRuleContexts(F):this.getRuleContext(n,F)}SEMICOLON(){return this.tryGetToken(R.SEMICOLON,0)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_command}enterRule(n){n.enterCommand&&n.enterCommand(this)}exitRule(n){n.exitCommand&&n.exitCommand(this)}accept(n){return n.visitCommand?n.visitCommand(this):n.visitChildren(this)}};_ts_decorate([f.Override],M.prototype,"ruleIndex",null),_ts_decorate([f.Override],M.prototype,"enterRule",null),_ts_decorate([f.Override],M.prototype,"exitRule",null),_ts_decorate([f.Override],M.prototype,"accept",null);let I=class EmptyCommandContext extends O.ParserRuleContext{SEMICOLON(){return this.getToken(R.SEMICOLON,0)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_emptyCommand}enterRule(n){n.enterEmptyCommand&&n.enterEmptyCommand(this)}exitRule(n){n.exitEmptyCommand&&n.exitEmptyCommand(this)}accept(n){return n.visitEmptyCommand?n.visitEmptyCommand(this):n.visitChildren(this)}};_ts_decorate([f.Override],I.prototype,"ruleIndex",null),_ts_decorate([f.Override],I.prototype,"enterRule",null),_ts_decorate([f.Override],I.prototype,"exitRule",null),_ts_decorate([f.Override],I.prototype,"accept",null);let B=class CollectionContext extends O.ParserRuleContext{IDENTIFIER(n){return void 0===n?this.getTokens(R.IDENTIFIER):this.getToken(R.IDENTIFIER,n)}DOT(n){return void 0===n?this.getTokens(R.DOT):this.getToken(R.DOT,n)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_collection}enterRule(n){n.enterCollection&&n.enterCollection(this)}exitRule(n){n.exitCollection&&n.exitCollection(this)}accept(n){return n.visitCollection?n.visitCollection(this):n.visitChildren(this)}};_ts_decorate([f.Override],B.prototype,"ruleIndex",null),_ts_decorate([f.Override],B.prototype,"enterRule",null),_ts_decorate([f.Override],B.prototype,"exitRule",null),_ts_decorate([f.Override],B.prototype,"accept",null);let F=class FunctionCallContext extends O.ParserRuleContext{_FUNCTION_NAME;arguments(){return this.getRuleContext(0,L)}IDENTIFIER(){return this.getToken(R.IDENTIFIER,0)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_functionCall}enterRule(n){n.enterFunctionCall&&n.enterFunctionCall(this)}exitRule(n){n.exitFunctionCall&&n.exitFunctionCall(this)}accept(n){return n.visitFunctionCall?n.visitFunctionCall(this):n.visitChildren(this)}};_ts_decorate([f.Override],F.prototype,"ruleIndex",null),_ts_decorate([f.Override],F.prototype,"enterRule",null),_ts_decorate([f.Override],F.prototype,"exitRule",null),_ts_decorate([f.Override],F.prototype,"accept",null);let L=class ArgumentsContext extends O.ParserRuleContext{_OPEN_PARENTHESIS;_CLOSED_PARENTHESIS;argument(n){return void 0===n?this.getRuleContexts(k):this.getRuleContext(n,k)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_arguments}enterRule(n){n.enterArguments&&n.enterArguments(this)}exitRule(n){n.exitArguments&&n.exitArguments(this)}accept(n){return n.visitArguments?n.visitArguments(this):n.visitChildren(this)}};_ts_decorate([f.Override],L.prototype,"ruleIndex",null),_ts_decorate([f.Override],L.prototype,"enterRule",null),_ts_decorate([f.Override],L.prototype,"exitRule",null),_ts_decorate([f.Override],L.prototype,"accept",null);let k=class ArgumentContext extends O.ParserRuleContext{literal(){return this.tryGetRuleContext(0,$)}objectLiteral(){return this.tryGetRuleContext(0,j)}arrayLiteral(){return this.tryGetRuleContext(0,U)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_argument}enterRule(n){n.enterArgument&&n.enterArgument(this)}exitRule(n){n.exitArgument&&n.exitArgument(this)}accept(n){return n.visitArgument?n.visitArgument(this):n.visitChildren(this)}};_ts_decorate([f.Override],k.prototype,"ruleIndex",null),_ts_decorate([f.Override],k.prototype,"enterRule",null),_ts_decorate([f.Override],k.prototype,"exitRule",null),_ts_decorate([f.Override],k.prototype,"accept",null);let j=class ObjectLiteralContext extends O.ParserRuleContext{propertyNameAndValueList(){return this.tryGetRuleContext(0,q)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_objectLiteral}enterRule(n){n.enterObjectLiteral&&n.enterObjectLiteral(this)}exitRule(n){n.exitObjectLiteral&&n.exitObjectLiteral(this)}accept(n){return n.visitObjectLiteral?n.visitObjectLiteral(this):n.visitChildren(this)}};_ts_decorate([f.Override],j.prototype,"ruleIndex",null),_ts_decorate([f.Override],j.prototype,"enterRule",null),_ts_decorate([f.Override],j.prototype,"exitRule",null),_ts_decorate([f.Override],j.prototype,"accept",null);let U=class ArrayLiteralContext extends O.ParserRuleContext{elementList(){return this.tryGetRuleContext(0,z)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_arrayLiteral}enterRule(n){n.enterArrayLiteral&&n.enterArrayLiteral(this)}exitRule(n){n.exitArrayLiteral&&n.exitArrayLiteral(this)}accept(n){return n.visitArrayLiteral?n.visitArrayLiteral(this):n.visitChildren(this)}};_ts_decorate([f.Override],U.prototype,"ruleIndex",null),_ts_decorate([f.Override],U.prototype,"enterRule",null),_ts_decorate([f.Override],U.prototype,"exitRule",null),_ts_decorate([f.Override],U.prototype,"accept",null);let z=class ElementListContext extends O.ParserRuleContext{propertyValue(n){return void 0===n?this.getRuleContexts(W):this.getRuleContext(n,W)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_elementList}enterRule(n){n.enterElementList&&n.enterElementList(this)}exitRule(n){n.exitElementList&&n.exitElementList(this)}accept(n){return n.visitElementList?n.visitElementList(this):n.visitChildren(this)}};_ts_decorate([f.Override],z.prototype,"ruleIndex",null),_ts_decorate([f.Override],z.prototype,"enterRule",null),_ts_decorate([f.Override],z.prototype,"exitRule",null),_ts_decorate([f.Override],z.prototype,"accept",null);let q=class PropertyNameAndValueListContext extends O.ParserRuleContext{propertyAssignment(n){return void 0===n?this.getRuleContexts(V):this.getRuleContext(n,V)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_propertyNameAndValueList}enterRule(n){n.enterPropertyNameAndValueList&&n.enterPropertyNameAndValueList(this)}exitRule(n){n.exitPropertyNameAndValueList&&n.exitPropertyNameAndValueList(this)}accept(n){return n.visitPropertyNameAndValueList?n.visitPropertyNameAndValueList(this):n.visitChildren(this)}};_ts_decorate([f.Override],q.prototype,"ruleIndex",null),_ts_decorate([f.Override],q.prototype,"enterRule",null),_ts_decorate([f.Override],q.prototype,"exitRule",null),_ts_decorate([f.Override],q.prototype,"accept",null);let V=class PropertyAssignmentContext extends O.ParserRuleContext{propertyName(){return this.getRuleContext(0,G)}propertyValue(){return this.getRuleContext(0,W)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_propertyAssignment}enterRule(n){n.enterPropertyAssignment&&n.enterPropertyAssignment(this)}exitRule(n){n.exitPropertyAssignment&&n.exitPropertyAssignment(this)}accept(n){return n.visitPropertyAssignment?n.visitPropertyAssignment(this):n.visitChildren(this)}};_ts_decorate([f.Override],V.prototype,"ruleIndex",null),_ts_decorate([f.Override],V.prototype,"enterRule",null),_ts_decorate([f.Override],V.prototype,"exitRule",null),_ts_decorate([f.Override],V.prototype,"accept",null);let W=class PropertyValueContext extends O.ParserRuleContext{literal(){return this.tryGetRuleContext(0,$)}objectLiteral(){return this.tryGetRuleContext(0,j)}arrayLiteral(){return this.tryGetRuleContext(0,U)}functionCall(){return this.tryGetRuleContext(0,F)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_propertyValue}enterRule(n){n.enterPropertyValue&&n.enterPropertyValue(this)}exitRule(n){n.exitPropertyValue&&n.exitPropertyValue(this)}accept(n){return n.visitPropertyValue?n.visitPropertyValue(this):n.visitChildren(this)}};_ts_decorate([f.Override],W.prototype,"ruleIndex",null),_ts_decorate([f.Override],W.prototype,"enterRule",null),_ts_decorate([f.Override],W.prototype,"exitRule",null),_ts_decorate([f.Override],W.prototype,"accept",null);let $=class LiteralContext extends O.ParserRuleContext{NullLiteral(){return this.tryGetToken(R.NullLiteral,0)}BooleanLiteral(){return this.tryGetToken(R.BooleanLiteral,0)}StringLiteral(){return this.tryGetToken(R.StringLiteral,0)}RegexLiteral(){return this.tryGetToken(R.RegexLiteral,0)}NumericLiteral(){return this.tryGetToken(R.NumericLiteral,0)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_literal}enterRule(n){n.enterLiteral&&n.enterLiteral(this)}exitRule(n){n.exitLiteral&&n.exitLiteral(this)}accept(n){return n.visitLiteral?n.visitLiteral(this):n.visitChildren(this)}};_ts_decorate([f.Override],$.prototype,"ruleIndex",null),_ts_decorate([f.Override],$.prototype,"enterRule",null),_ts_decorate([f.Override],$.prototype,"exitRule",null),_ts_decorate([f.Override],$.prototype,"accept",null);let G=class PropertyNameContext extends O.ParserRuleContext{StringLiteral(){return this.tryGetToken(R.StringLiteral,0)}IDENTIFIER(){return this.tryGetToken(R.IDENTIFIER,0)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_propertyName}enterRule(n){n.enterPropertyName&&n.enterPropertyName(this)}exitRule(n){n.exitPropertyName&&n.exitPropertyName(this)}accept(n){return n.visitPropertyName?n.visitPropertyName(this):n.visitChildren(this)}};_ts_decorate([f.Override],G.prototype,"ruleIndex",null),_ts_decorate([f.Override],G.prototype,"enterRule",null),_ts_decorate([f.Override],G.prototype,"exitRule",null),_ts_decorate([f.Override],G.prototype,"accept",null);let K=class CommentContext extends O.ParserRuleContext{SingleLineComment(){return this.tryGetToken(R.SingleLineComment,0)}MultiLineComment(){return this.tryGetToken(R.MultiLineComment,0)}constructor(n,o){super(n,o)}get ruleIndex(){return R.RULE_comment}enterRule(n){n.enterComment&&n.enterComment(this)}exitRule(n){n.exitComment&&n.exitComment(this)}accept(n){return n.visitComment?n.visitComment(this):n.visitChildren(this)}};_ts_decorate([f.Override],K.prototype,"ruleIndex",null),_ts_decorate([f.Override],K.prototype,"enterRule",null),_ts_decorate([f.Override],K.prototype,"exitRule",null),_ts_decorate([f.Override],K.prototype,"accept",null)},99525:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"MongoVisitor",{enumerable:!0,get:function(){return i}});let i=class MongoVisitor{visitMongoCommands(n){return this.visitChildren(n)}visitCommands(n){return this.visitChildren(n)}visitCommand(n){return this.visitChildren(n)}visitCollection(n){return this.visitChildren(n)}visitFunctionCall(n){return this.visitChildren(n)}visitArgument(n){return this.visitChildren(n)}visitArguments(n){return this.visitChildren(n)}visit(n){return n.accept(this)}visitChildren(n){let o=this.defaultResult(n);const i=n.childCount;for(let s=0;s<i&&this.shouldVisitNextChild(n,o);s++){const i=n.getChild(s).accept(this);o=this.aggregateResult(o,i)}return o}visitTerminal(n){return this.defaultResult(n)}visitErrorNode(n){return this.defaultResult(n)}defaultResult(n){return null}aggregateResult(n,o){return o||n}shouldVisitNextChild(n,o){return!0}}},15705:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function _export(n,o){for(var i in o)Object.defineProperty(n,i,{enumerable:!0,get:Object.getOwnPropertyDescriptor(o,i).get})}(o,{get MongoConnectError(){return f},get connectToClient(){return connectToClient},get isCosmosEmulatorConnectionString(){return isCosmosEmulatorConnectionString}});const s=_interop_require_wildcard(i(15747)),c=i(45009),h=i(33653);function _getRequireWildcardCache(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,i=new WeakMap;return(_getRequireWildcardCache=function(n){return n?i:o})(n)}function _interop_require_wildcard(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var i=_getRequireWildcardCache(o);if(i&&i.has(n))return i.get(n);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if("default"!==h&&Object.prototype.hasOwnProperty.call(n,h)){var f=c?Object.getOwnPropertyDescriptor(n,h):null;f&&(f.get||f.set)?Object.defineProperty(s,h,f):s[h]=n[h]}return s.default=n,i&&i.set(n,s),s}async function connectToClient(n,o,i){const s={appName:`${o}[RU]`,useNewUrlParser:!0,useUnifiedTopology:!0};i&&i.isEmulator&&i.disableEmulatorSecurity&&(s.tlsAllowInvalidCertificates=!0);try{return await c.MongoClient.connect(n,s)}catch(n){const o=n,i=o&&o.message;if(i&&/ECONNREFUSED/.test(i)&&/(localhost|127\.0\.0\.1)/.test(i))throw new f;throw o}}let f=class MongoConnectError extends Error{constructor(){super(s.t("Unable to connect to local Mongo DB instance. Make sure it is started correctly. See {link} for tips.",{link:h.Links.LocalConnectionDebuggingTips}))}};function isCosmosEmulatorConnectionString(n){return n.includes(encodeURIComponent(h.wellKnownEmulatorPassword))}},46224:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"CompletionItemsVisitor",{enumerable:!0,get:function(){return T}});const s=i(41097),c=i(61964),h=i(30360),f=i(91327),E=i(55172),S=i(4584),A=_interop_require_wildcard(i(84627)),O=i(99525);function _getRequireWildcardCache(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,i=new WeakMap;return(_getRequireWildcardCache=function(n){return n?i:o})(n)}function _interop_require_wildcard(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var i=_getRequireWildcardCache(o);if(i&&i.has(n))return i.get(n);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if("default"!==h&&Object.prototype.hasOwnProperty.call(n,h)){var f=c?Object.getOwnPropertyDescriptor(n,h):null;f&&(f.get||f.set)?Object.defineProperty(s,h,f):s[h]=n[h]}return s.default=n,i&&i.set(n,s),s}let T=class CompletionItemsVisitor extends O.MongoVisitor{textDocument;db;offset;schemaService;jsonLanguageService;at;constructor(n,o,i,s,c){super(),this.textDocument=n,this.db=o,this.offset=i,this.schemaService=s,this.jsonLanguageService=c,this.at=this.textDocument.positionAt(this.offset)}visitCommands(n){return this.thenable(this.createDbKeywordCompletion(this.createRange(n)))}visitEmptyCommand(n){return this.thenable(this.createDbKeywordCompletion(this.createRangeAfter(n)))}visitCommand(n){if(0===n.childCount)return this.thenable(this.createDbKeywordCompletion(this.createRange(n)));const o=this.getLastTerminalNode(n);return o?this.getCompletionItemsFromTerminalNode(o):this.thenable()}visitCollection(n){return Promise.all([this.createCollectionCompletions(this.createRange(n)),this.createDbFunctionCompletions(this.createRange(n))]).then(([n,o])=>[...n,...o])}visitFunctionCall(n){const o=this.getPreviousNode(n);return o instanceof h.TerminalNode?this.getCompletionItemsFromTerminalNode(o):this.thenable()}visitArguments(n){const o=this.getLastTerminalNode(n);return o&&o.symbol===n._CLOSED_PARENTHESIS?this.thenable(this.createDbKeywordCompletion(this.createRangeAfter(o))):this.thenable()}visitArgument(n){return n.parent.accept(this)}visitObjectLiteral(n){const o=this.getFunctionName(n),i=this.getCollectionName(n);return i&&o&&-1!==["find","findOne","findOneAndDelete","findOneAndUpdate","findOneAndReplace","deleteOne","deleteMany","remove"].indexOf(o)?this.getArgumentCompletionItems(this.schemaService.queryDocumentUri(i),i,n):n.parent.accept(this)}visitArrayLiteral(n){const o=this.getFunctionName(n),i=this.getCollectionName(n);return i&&o&&-1!==["aggregate"].indexOf(o)?this.getArgumentCompletionItems(this.schemaService.aggregateDocumentUri(i),i,n):n.parent.accept(this)}visitElementList(n){return n.parent.accept(this)}visitPropertyNameAndValueList(n){return n.parent.accept(this)}visitPropertyAssignment(n){return n.parent.accept(this)}visitPropertyValue(n){return n.parent.accept(this)}visitPropertyName(n){return n.parent.accept(this)}visitLiteral(n){return n.parent.accept(this)}visitTerminal(n){return n.parent.accept(this)}visitErrorNode(n){return n.parent.accept(this)}async getArgumentCompletionItems(n,o,i){const s=this.textDocument.getText(),c=E.TextDocument.create(n,"json",1,s.substring(i.start.startIndex,i.stop.stopIndex+1)),h=this.textDocument.offsetAt(this.at),S=i.start.startIndex,A=c.positionAt(h-S),O=await this.jsonLanguageService.doComplete(c,A,this.jsonLanguageService.parseJSONDocument(c));return O?O.items.map(n=>{if(!n.textEdit)return n;const o="range"in n.textEdit?n.textEdit.range:n.textEdit.replace,i=c.offsetAt(o.start),s=c.offsetAt(o.end),h=f.Range.create(this.textDocument.positionAt(i+S),this.textDocument.positionAt(S+s));return"range"in n.textEdit?n.textEdit.range=h:n.textEdit.replace=h,n}):[]}getFunctionName(n){let o=n.parent;return o&&o instanceof A.ArgumentContext?(o=o.parent,o&&o instanceof A.ArgumentsContext?(o=o.parent,o&&o instanceof A.FunctionCallContext?o._FUNCTION_NAME.text:null):null):null}getCollectionName(n){let o=n.parent;if(!(o&&o instanceof A.ArgumentContext))return null;if(o=o.parent,!(o&&o instanceof A.ArgumentsContext))return null;if(o=o.parent,!(o&&o instanceof A.FunctionCallContext))return null;let i=this.getPreviousNode(o);return i&&i instanceof h.TerminalNode&&i.symbol.type===S.mongoLexer.DOT&&(i=this.getPreviousNode(i),i&&i instanceof A.CollectionContext)?i.text:null}getCompletionItemsFromTerminalNode(n){if(n._symbol.type===A.mongoParser.DB)return this.thenable(this.createDbKeywordCompletion(this.createRange(n)));if(n._symbol.type===A.mongoParser.SEMICOLON)return this.thenable(this.createDbKeywordCompletion(this.createRangeAfter(n)));if(n._symbol.type===A.mongoParser.DOT){const o=this.getPreviousNode(n);if(o&&o instanceof h.TerminalNode&&o._symbol.type===A.mongoParser.DB)return Promise.all([this.createCollectionCompletions(this.createRangeAfter(n)),this.createDbFunctionCompletions(this.createRangeAfter(n))]).then(([n,o])=>[...n,...o]);if(o instanceof A.CollectionContext)return this.createCollectionFunctionsCompletions(this.createRangeAfter(n))}if(n instanceof c.ErrorNode){const o=this.getPreviousNode(n);if(o)return o instanceof h.TerminalNode?this.getCompletionItemsFromTerminalNode(o):o.accept(this)}return this.thenable()}getLastTerminalNode(n){return n.children?n.children.slice().reverse().filter(n=>n instanceof h.TerminalNode&&n.symbol.stopIndex>-1&&n.symbol.stopIndex<this.offset)[0]:null}getPreviousNode(n){let o=null;const i=n.parent;for(let s=0;s<i.childCount;s++){const c=i.getChild(s);if(c===n)break;o=c}return o}createDbKeywordCompletion(n){return{textEdit:{newText:"db",range:n},kind:f.CompletionItemKind.Keyword,label:"db"}}createDbFunctionCompletions(n){return this.thenable(this.createFunctionCompletion("adminCommand",n),this.createFunctionCompletion("auth",n),this.createFunctionCompletion("cloneDatabase",n),this.createFunctionCompletion("commandHelp",n),this.createFunctionCompletion("copyDatabase",n),this.createFunctionCompletion("createCollection",n),this.createFunctionCompletion("createView",n),this.createFunctionCompletion("createUser",n),this.createFunctionCompletion("currentOp",n),this.createFunctionCompletion("dropDatabase",n),this.createFunctionCompletion("eval",n),this.createFunctionCompletion("fsyncLock",n),this.createFunctionCompletion("fsyncUnLock",n),this.createFunctionCompletion("getCollection",n),this.createFunctionCompletion("getCollectionInfos",n),this.createFunctionCompletion("getCollectionNames",n),this.createFunctionCompletion("getLastError",n),this.createFunctionCompletion("getLastErrorObj",n),this.createFunctionCompletion("getLogComponents",n),this.createFunctionCompletion("getMongo",n),this.createFunctionCompletion("getName",n),this.createFunctionCompletion("getPrevError",n),this.createFunctionCompletion("getProfilingLevel",n),this.createFunctionCompletion("getProfilingStatus",n),this.createFunctionCompletion("getReplicationInfo",n),this.createFunctionCompletion("getSiblingDB",n),this.createFunctionCompletion("getWriteConcern",n),this.createFunctionCompletion("hostInfo",n),this.createFunctionCompletion("isMaster",n),this.createFunctionCompletion("killOp",n),this.createFunctionCompletion("listCommands",n),this.createFunctionCompletion("loadServerScripts",n),this.createFunctionCompletion("logout",n),this.createFunctionCompletion("printCollectionStats",n),this.createFunctionCompletion("printReplicationInfo",n),this.createFunctionCompletion("printShardingStatus",n),this.createFunctionCompletion("printSlaveReplicationInfo",n),this.createFunctionCompletion("dropUser",n),this.createFunctionCompletion("repairDatabase",n),this.createFunctionCompletion("runCommand",n),this.createFunctionCompletion("serverStatus",n),this.createFunctionCompletion("setLogLevel",n),this.createFunctionCompletion("setProfilingLevel",n),this.createFunctionCompletion("setWriteConcern",n),this.createFunctionCompletion("unsetWriteConcern",n),this.createFunctionCompletion("setVerboseShell",n),this.createFunctionCompletion("shotdownServer",n),this.createFunctionCompletion("stats",n),this.createFunctionCompletion("version",n))}createCollectionCompletions(n){return this.db?this.db.collections().then(o=>o.map(o=>({textEdit:{newText:o.collectionName,range:n},label:o.collectionName,kind:f.CompletionItemKind.Property,filterText:o.collectionName,sortText:`1:${o.collectionName}`}))):Promise.resolve([])}createCollectionFunctionsCompletions(n){return this.thenable(this.createFunctionCompletion("bulkWrite",n),this.createFunctionCompletion("count",n),this.createFunctionCompletion("copyTo",n),this.createFunctionCompletion("convertToCapped",n),this.createFunctionCompletion("createIndex",n),this.createFunctionCompletion("createIndexes",n),this.createFunctionCompletion("dataSize",n),this.createFunctionCompletion("deleteOne",n),this.createFunctionCompletion("deleteMany",n),this.createFunctionCompletion("distinct",n),this.createFunctionCompletion("drop",n),this.createFunctionCompletion("dropIndex",n),this.createFunctionCompletion("dropIndexes",n),this.createFunctionCompletion("ensureIndex",n),this.createFunctionCompletion("explain",n),this.createFunctionCompletion("reIndex",n),this.createFunctionCompletion("find",n),this.createFunctionCompletion("findOne",n),this.createFunctionCompletion("findOneAndDelete",n),this.createFunctionCompletion("findOneAndReplace",n),this.createFunctionCompletion("findOneAndUpdate",n),this.createFunctionCompletion("getDB",n),this.createFunctionCompletion("getPlanCache",n),this.createFunctionCompletion("getIndexes",n),this.createFunctionCompletion("group",n),this.createFunctionCompletion("insert",n),this.createFunctionCompletion("insertOne",n),this.createFunctionCompletion("insertMany",n),this.createFunctionCompletion("mapReduce",n),this.createFunctionCompletion("aggregate",n),this.createFunctionCompletion("remove",n),this.createFunctionCompletion("replaceOne",n),this.createFunctionCompletion("renameCollection",n),this.createFunctionCompletion("runCommand",n),this.createFunctionCompletion("save",n),this.createFunctionCompletion("stats",n),this.createFunctionCompletion("storageSize",n),this.createFunctionCompletion("totalIndexSize",n),this.createFunctionCompletion("update",n),this.createFunctionCompletion("updateOne",n),this.createFunctionCompletion("updateMany",n),this.createFunctionCompletion("validate",n),this.createFunctionCompletion("getShardVersion",n),this.createFunctionCompletion("getShardDistribution",n),this.createFunctionCompletion("getSplitKeysForChunks",n),this.createFunctionCompletion("getWriteConcern",n),this.createFunctionCompletion("setWriteConcern",n),this.createFunctionCompletion("unsetWriteConcern",n),this.createFunctionCompletion("latencyStats",n))}createFunctionCompletion(n,o){return{textEdit:{newText:n,range:o},kind:f.CompletionItemKind.Function,label:n,sortText:`2:${n}`}}createRange(n){if(n instanceof s.ParserRuleContext){const o=n.start;let i=n.stop;i&&o.type!==A.mongoParser.EOF||(i=o);const s=i.stopIndex;return this._createRange(o.startIndex,s)}return n instanceof h.TerminalNode?this._createRange(n.symbol.startIndex,n.symbol.stopIndex):null}createRangeAfter(n){if(n instanceof s.ParserRuleContext){let o=n.stop;o||(o=n.start);const i=o.stopIndex;return this._createRange(i+1,i+1)}return n instanceof h.TerminalNode?this._createRange(n.symbol.stopIndex+1,n.symbol.stopIndex+1):null}_createRange(n,o){const i=this.textDocument.positionAt(o);if(i.line<this.at.line)return f.Range.create(f.Position.create(this.at.line,0),this.at);const s=this.textDocument.positionAt(n);return f.Range.create(s,i)}thenable(...n){return Promise.resolve(n||[])}}},13395:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"LanguageService",{enumerable:!0,get:function(){return A}});const s=i(2110),c=i(55172),h=i(5663),f=i(15705),E=i(12613),S=i(89376);let A=class LanguageService{textDocuments=new h.TextDocuments(c.TextDocument);mongoDocumentsManager;db=null;jsonLanguageService;schemaService;schemas;constructor(){const n=(0,h.createConnection)(h.ProposedFeatures.all);console.log=n.console.log.bind(n.console),console.error=n.console.error.bind(n.console),this.schemaService=new S.SchemaService,this.textDocuments.listen(n),n.listen(),n.onInitialize(n=>({capabilities:{textDocumentSync:h.TextDocumentSyncKind.Full,completionProvider:{triggerCharacters:["."]}}})),n.onCompletion(n=>this.provideCompletionItems(n)),n.onRequest("connect",n=>{(0,f.connectToClient)(n.connectionString,n.extensionUserAgent,n.emulatorConfiguration).then(o=>{this.db=o.db(n.databaseName),this.schemaService.registerSchemas(this.db).then(n=>{this.configureSchemas(n)})})}),n.onRequest("disconnect",()=>{this.db=null;for(const n of this.schemas)this.jsonLanguageService.resetSchema(n.uri)}),this.jsonLanguageService=(0,s.getLanguageService)({schemaRequestService:n=>this.schemaService.resolveSchema(n),contributions:[]}),this.mongoDocumentsManager=new E.MongoScriptDocumentManager(this.schemaService,this.jsonLanguageService)}provideCompletionItems(n){const o=this.textDocuments.get(n.textDocument.uri);if(!o||!this.db)return Promise.resolve([]);return this.mongoDocumentsManager.getDocument(o,this.db).provideCompletionItemsAt(n.position)}resetSchema(n){this.jsonLanguageService.resetSchema(n)}configureSchemas(n){this.jsonLanguageService.configure({schemas:n})}}},12613:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function _export(n,o){for(var i in o)Object.defineProperty(n,i,{enumerable:!0,get:Object.getOwnPropertyDescriptor(o,i).get})}(o,{get MongoScriptDocument(){return D},get MongoScriptDocumentManager(){return _}});const s=i(67404),c=i(95411),h=i(7477),f=i(41097),E=i(30360),S=i(4584),A=_interop_require_wildcard(i(84627)),O=i(99525),T=i(46224);function _getRequireWildcardCache(n){if("function"!=typeof WeakMap)return null;var o=new WeakMap,i=new WeakMap;return(_getRequireWildcardCache=function(n){return n?i:o})(n)}function _interop_require_wildcard(n,o){if(!o&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var i=_getRequireWildcardCache(o);if(i&&i.has(n))return i.get(n);var s={__proto__:null},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in n)if("default"!==h&&Object.prototype.hasOwnProperty.call(n,h)){var f=c?Object.getOwnPropertyDescriptor(n,h):null;f&&(f.get||f.set)?Object.defineProperty(s,h,f):s[h]=n[h]}return s.default=n,i&&i.set(n,s),s}let _=class MongoScriptDocumentManager{schemaService;jsonLanguageService;constructor(n,o){this.schemaService=n,this.jsonLanguageService=o}getDocument(n,o){return new D(n,o,this.schemaService,this.jsonLanguageService)}},D=class MongoScriptDocument{textDocument;db;schemaService;jsonLanguageService;_lexer;constructor(n,o,i,c){this.textDocument=n,this.db=o,this.schemaService=i,this.jsonLanguageService=c,this._lexer=new S.mongoLexer(new s.ANTLRInputStream(n.getText())),this._lexer.removeErrorListeners()}provideCompletionItemsAt(n){const o=new A.mongoParser(new c.CommonTokenStream(this._lexer));o.removeErrorListeners();const i=this.textDocument.offsetAt(n),s=new N(i).visit(o.commands());return s?new T.CompletionItemsVisitor(this.textDocument,this.db,i,this.schemaService,this.jsonLanguageService).visit(s):Promise.resolve([])}},N=class NodeFinder extends O.MongoVisitor{offset;constructor(n){super(),this.offset=n}defaultResult(n){if(n instanceof f.ParserRuleContext){return(n.stop?n.stop.stopIndex:n.start.stopIndex)<this.offset?n:null}return n instanceof E.TerminalNode&&n.symbol.stopIndex<this.offset?n:null}aggregateResult(n,o){if(n&&o){const i=n instanceof f.ParserRuleContext?n.start.startIndex:n.symbol.startIndex,s=n instanceof f.ParserRuleContext?n.start.stopIndex:n.symbol.stopIndex,c=o instanceof f.ParserRuleContext?o.start.startIndex:o.symbol.startIndex,E=o instanceof f.ParserRuleContext?o.start.stopIndex:o.symbol.stopIndex;return h.Interval.of(i,s).properlyContains(h.Interval.of(c,E))?n:o}return o||n}}},89376:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"SchemaService",{enumerable:!0,get:function(){return i}});let i=class SchemaService{_db;_schemasCache=new Map;registerSchemas(n){return this._db=n,this._schemasCache.clear(),this._db.collections().then(n=>{const o=[];for(const i of n)o.push({uri:this.queryCollectionSchema(i.collectionName),fileMatch:[this.queryDocumentUri(i.collectionName)]},{uri:this.aggregateCollectionSchema(i.collectionName),fileMatch:[this.aggregateDocumentUri(i.collectionName)]});return o})}queryCollectionSchema(n){return"mongo://query/"+n+".schema"}aggregateCollectionSchema(n){return"mongo://aggregate/"+n+".schema"}queryDocumentUri(n){return"mongo://query/"+n+".json"}aggregateDocumentUri(n){return"mongo://aggregate/"+n+".json"}resolveSchema(n){const o=this._schemasCache.get(n);return o?Promise.resolve(o):n.startsWith("mongo://query/")?this._resolveQueryCollectionSchema(n.substring(14,n.length-7),n).then(o=>(this._schemasCache.set(n,o),o)):n.startsWith("mongo://aggregate/")?this._resolveAggregateCollectionSchema(n.substring(18,n.length-7)).then(o=>(this._schemasCache.set(n,o),o)):Promise.resolve("")}_resolveQueryCollectionSchema(n,o){const i=this._db.collection(n).find();return new Promise((n,s)=>{this.readNext([],i,10,i=>{const s={type:"object",properties:{}};for(const n of i)this.setSchemaForDocument(null,n,s);this.setGlobalOperatorProperties(s),this.setLogicalOperatorProperties(s,o),n(JSON.stringify(s))})})}_resolveAggregateCollectionSchema(n){const o=this._db.collection(n).find();return new Promise((i,s)=>{this.readNext([],o,10,o=>{const s={type:"array",items:this.getAggregateStagePropertiesSchema(this.queryCollectionSchema(n))};i(JSON.stringify(s))})})}getMongoDocumentType(n){return Array.isArray(n)?"array":null===n?"null":typeof n}setSchemaForDocument(n,o,i){if("object"===this.getMongoDocumentType(o))for(const s of Object.keys(o))(n||-1===["_id"].indexOf(s))&&this.setSchemaForDocumentProperty(n,s,o,i)}setSchemaForDocumentProperty(n,o,i,s){const c=n?`${n}.${o}`:o,h=i[o],f=this.getMongoDocumentType(h),E={type:[f,"object"]};if(this.setOperatorProperties(f,E),s.properties[c]=E,"object"===f&&this.setSchemaForDocument(c,h,s),"array"===f)for(const n of h)this.setSchemaForDocument(c,n,s)}setGlobalOperatorProperties(n){n.properties.$text={type:"object",description:"Performs text search",properties:{$search:{type:"string",description:"A string of terms that MongoDB parses and uses to query the text index. MongoDB performs a logical OR search of the terms unless specified as a phrase"},$language:{type:"string",description:'Optional. The language that determines the list of stop words for the search and the rules for the stemmer and tokenizer. If not specified, the search uses the default language of the index.\nIf you specify a language value of "none", then the text search uses simple tokenization with no list of stop words and no stemming'},$caseSensitive:{type:"boolean",description:"Optional. A boolean flag to enable or disable case sensitive search. Defaults to false; i.e. the search defers to the case insensitivity of the text index"},$diacriticSensitive:{type:"boolean",description:"Optional. A boolean flag to enable or disable diacritic sensitive search against version 3 text indexes.Defaults to false; i.e.the search defers to the diacritic insensitivity of the text index\nText searches against earlier versions of the text index are inherently diacritic sensitive and cannot be diacritic insensitive. As such, the $diacriticSensitive option has no effect with earlier versions of the text index"}},required:["$search"]},n.properties.$where={type:"string",description:"Matches documents that satisfy a JavaScript expression.\nUse the $where operator to pass either a string containing a JavaScript expression or a full JavaScript function to the query system"},n.properties.$comment={type:"string",description:"Adds a comment to a query predicate"}}setLogicalOperatorProperties(n,o){n.properties.$or={type:"array",description:"Joins query clauses with a logical OR returns all documents that match the conditions of either clause",items:{$ref:o}},n.properties.$and={type:"array",description:"Joins query clauses with a logical AND returns all documents that match the conditions of both clauses",items:{$ref:o}},n.properties.$nor={type:"array",description:"Joins query clauses with a logical NOR returns all documents that fail to match both clauses",items:{$ref:o}}}setOperatorProperties(n,o){o.properties||(o.properties={});const i={properties:{}};i.properties.$eq={type:n,description:"Matches values that are equal to a specified value"},i.properties.$gt={type:n,description:"Matches values that are greater than a specified value"},i.properties.$gte={type:n,description:"Matches values that are greater than or equal to a specified value"},i.properties.$lt={type:n,description:"Matches values that are less than a specified value"},i.properties.$lte={type:n,description:"Matches values that are less than or equal to a specified value"},i.properties.$ne={type:n,description:"Matches all values that are not equal to a specified value"},i.properties.$in={type:"array",description:"Matches any of the values specified in an array"},i.properties.$nin={type:"array",description:"Matches none of the values specified in an array"},i.properties.$exists={type:"boolean",description:"Matches documents that have the specified field"},i.properties.$type={type:"string",description:"Selects documents if a field is of the specified type"},i.properties.$mod={type:"array",description:"Performs a modulo operation on the value of a field and selects documents with a specified result",maxItems:2,default:[2,0]},i.properties.$regex={type:"string",description:"Selects documents where values match a specified regular expression"};const s={type:"object",properties:{type:{type:"string",default:"GeoJSON object type"},coordinates:{type:"array"},crs:{type:"object",properties:{type:{type:"string"},properties:{type:"object"}}}}};i.properties.$geoWithin={type:"object",description:"Selects geometries within a bounding GeoJSON geometry. The 2dsphere and 2d indexes support $geoWithin",properties:{$geometry:s,$box:{type:"array"},$polygon:{type:"array"},$center:{type:"array"},$centerSphere:{type:"array"}}},i.properties.$geoIntersects={type:"object",description:"Selects geometries that intersect with a GeoJSON geometry. The 2dsphere index supports $geoIntersects",properties:{$geometry:s}},i.properties.$near={type:"object",description:"Returns geospatial objects in proximity to a point. Requires a geospatial index. The 2dsphere and 2d indexes support $near",properties:{$geometry:s,$maxDistance:{type:"number"},$minDistance:{type:"number"}}},i.properties.$nearSphere={type:"object",description:"Returns geospatial objects in proximity to a point. Requires a geospatial index. The 2dsphere and 2d indexes support $near",properties:{$geometry:s,$maxDistance:{type:"number"},$minDistance:{type:"number"}}},"array"===n&&(i.properties.$all={type:"array",description:"Matches arrays that contain all elements specified in the query"},i.properties.$size={type:"number",description:"Selects documents if the array field is a specified size"}),i.properties.$bitsAllSet={type:"array",description:"Matches numeric or binary values in which a set of bit positions all have a value of 1"},i.properties.$bitsAnySet={type:"array",description:"Matches numeric or binary values in which any bit from a set of bit positions has a value of 1"},i.properties.$bitsAllClear={type:"array",description:"Matches numeric or binary values in which a set of bit positions all have a value of 0"},i.properties.$bitsAnyClear={type:"array",description:"Matches numeric or binary values in which any bit from a set of bit positions has a value of 0"},o.properties={...i.properties},o.properties.$not={type:"object",description:"Inverts the effect of a query expression and returns documents that do not match the query expression",properties:{...i.properties}},o.properties.$elemMatch={type:"object"}}getAggregateStagePropertiesSchema(n){const o=[];return o.push({type:"object",properties:{$collStats:{type:"object",description:"Returns statistics regarding a collection or view"}}}),o.push({type:"object",properties:{$project:{type:"object",description:"Reshapes each document in the stream, such as by adding new fields or removing existing fields. For each input document, outputs one document"}}}),o.push({type:"object",properties:{$match:{type:"object",description:"Filters the document stream to allow only matching documents to pass unmodified into the next pipeline stage. $match uses standard MongoDB queries. For each input document, outputs either one document (a match) or zero documents (no match)",$ref:n}}}),o.push({type:"object",properties:{$redact:{type:"object",description:"Reshapes each document in the stream by restricting the content for each document based on information stored in the documents themselves. Incorporates the functionality of $project and $match. Can be used to implement field level redaction. For each input document, outputs either one or zero documents"}}}),o.push({type:"object",properties:{$limit:{type:"object",description:"Passes the first n documents unmodified to the pipeline where n is the specified limit. For each input document, outputs either one document (for the first n documents) or zero documents (after the first n documents)."}}}),o.push({type:"object",properties:{$skip:{type:"object",description:"Skips the first n documents where n is the specified skip number and passes the remaining documents unmodified to the pipeline. For each input document, outputs either zero documents (for the first n documents) or one document (if after the first n documents)"}}}),o.push({type:"object",properties:{$unwind:{type:"object",description:"Deconstructs an array field from the input documents to output a document for each element. Each output document replaces the array with an element value. For each input document, outputs n documents where n is the number of array elements and can be zero for an empty array"}}}),o.push({type:"object",properties:{$group:{type:"object",description:"Groups input documents by a specified identifier expression and applies the accumulator expression(s), if specified, to each group. Consumes all input documents and outputs one document per each distinct group. The output documents only contain the identifier field and, if specified, accumulated fields.",properties:{_id:{type:["string","object"]}},additionalProperties:{type:"object"}}}}),o.push({type:"object",properties:{$sample:{type:"object",description:"Randomly selects the specified number of documents from its input"}}}),o.push({type:"object",properties:{$sort:{type:"object",description:"Reorders the document stream by a specified sort key. Only the order changes; the documents remain unmodified. For each input document, outputs one document."}}}),o.push({type:"object",properties:{$geoNear:{type:"object",description:"Returns an ordered stream of documents based on the proximity to a geospatial point. Incorporates the functionality of $match, $sort, and $limit for geospatial data. The output documents include an additional distance field and can include a location identifier field."}}}),o.push({type:"object",properties:{$lookup:{type:"object",description:"Performs a left outer join to another collection in the same database to filter in documents from the joined collection for processing"}}}),o.push({type:"object",properties:{$out:{type:"object",description:"Writes the resulting documents of the aggregation pipeline to a collection. To use the $out stage, it must be the last stage in the pipeline"}}}),o.push({type:"object",properties:{$indexStats:{type:"object",description:"Returns statistics regarding the use of each index for the collection"}}}),o.push({type:"object",properties:{$facet:{type:"object",description:"Processes multiple aggregation pipelines within a single stage on the same set of input documents. Enables the creation of multi-faceted aggregations capable of characterizing data across multiple dimensions, or facets, in a single stage"}}}),o.push({type:"object",properties:{$bucket:{type:"object",description:"Categorizes incoming documents into groups, called buckets, based on a specified expression and bucket boundaries"}}}),o.push({type:"object",properties:{$bucketAuto:{type:"object",description:"Categorizes incoming documents into a specific number of groups, called buckets, based on a specified expression. Bucket boundaries are automatically determined in an attempt to evenly distribute the documents into the specified number of buckets"}}}),o.push({type:"object",properties:{$sortByCount:{type:"object",description:"Groups incoming documents based on the value of a specified expression, then computes the count of documents in each distinct group"}}}),o.push({type:"object",properties:{$addFields:{type:"object",description:"Adds new fields to documents. Outputs documents that contain all existing fields from the input documents and newly added fields"}}}),o.push({type:"object",properties:{$replaceRoot:{type:"object",description:"Replaces a document with the specified embedded document. The operation replaces all existing fields in the input document, including the _id field. Specify a document embedded in the input document to promote the embedded document to the top level"}}}),o.push({type:"object",properties:{$count:{type:"object",description:"Returns a count of the number of documents at this stage of the aggregation pipeline"}}}),o.push({type:"object",properties:{$graphLookup:{type:"object",description:"Performs a recursive search on a collection. To each output document, adds a new array field that contains the traversal results of the recursive search for that document"}}}),{type:"object",oneOf:o}}readNext(n,o,i,s){n.length!==i?o.hasNext().then(c=>{c?o.next().then(c=>{n.push(c),this.readNext(n,o,i,s)}):s(n)}):s(n)}}},57935:(n,o)=>{"use strict";var i;Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"ext",{enumerable:!0,get:function(){return i}}),function(n){var o;n.prefix="azureDatabases",(o=n.settingsKeys||(n.settingsKeys={})).mongoShellPath="mongo.shell.path",o.mongoShellArgs="mongo.shell.args",o.documentLabelFields="cosmosDB.documentLabelFields",o.enableEndpointDiscovery="cosmosDB.enableEndpointDiscovery",o.mongoShellTimeout="mongo.shell.timeout",o.batchSize="azureDatabases.batchSize",o.confirmationStyle="azureDatabases.confirmationStyle",o.showOperationSummaries="azureDatabases.showOperationSummaries",o.cosmosDbAuthentication="azureDatabases.cosmosDB.preferredAuthenticationMethod",o.authManagedIdentityClientId="azureDatabases.authentication.managedIdentity.clientID",(o.vsCode||(o.vsCode={})).proxyStrictSSL="http.proxyStrictSSL"}(i||(i={}))},36673:(n,o,i)=>{"use strict";const s=i(48379),c=i(80378),h=i(92472),{STATUS_MAPPING:f}=i(18445);function containsNonASCII(n){return/[^\x00-\x7F]/u.test(n)}function findStatus(n){let o=0,i=h.length-1;for(;o<=i;){const s=Math.floor((o+i)/2),c=h[s],f=Array.isArray(c[0])?c[0][0]:c[0],E=Array.isArray(c[0])?c[0][1]:c[0];if(f<=n&&E>=n)return c.slice(1);f>n?i=s-1:o=s+1}return null}function validateLabel(n,{checkHyphens:o,checkBidi:i,checkJoiners:s,transitionalProcessing:h,useSTD3ASCIIRules:E,isBidi:S}){if(0===n.length)return!0;if(n.normalize("NFC")!==n)return!1;const A=Array.from(n);if(o&&("-"===A[2]&&"-"===A[3]||n.startsWith("-")||n.endsWith("-")))return!1;if(!o&&n.startsWith("xn--"))return!1;if(n.includes("."))return!1;if(c.combiningMarks.test(A[0]))return!1;for(const n of A){const o=n.codePointAt(0),[i]=findStatus(o);if(h){if(i!==f.valid)return!1}else if(i!==f.valid&&i!==f.deviation)return!1;if(E&&o<=127&&!/^(?:[a-z]|[0-9]|-)$/u.test(n))return!1}if(s){let n=0;for(const[o,i]of A.entries())if(""===i||""===i){if(o>0){if(c.combiningClassVirama.test(A[o-1]))continue;if(""===i){const i=A.indexOf("",o+1),s=i<0?A.slice(n):A.slice(n,i);if(c.validZWNJ.test(s.join(""))){n=o+1;continue}}}return!1}}if(i&&S){let o;if(c.bidiS1LTR.test(A[0]))o=!1;else{if(!c.bidiS1RTL.test(A[0]))return!1;o=!0}if(o){if(!c.bidiS2.test(n)||!c.bidiS3.test(n)||c.bidiS4EN.test(n)&&c.bidiS4AN.test(n))return!1}else if(!c.bidiS5.test(n)||!c.bidiS6.test(n))return!1}return!0}function processing(n,o){let i=function mapChars(n,{transitionalProcessing:o}){let i="";for(const s of n){const[n,c]=findStatus(s.codePointAt(0));switch(n){case f.disallowed:i+=s;break;case f.ignored:break;case f.mapped:i+=o&&""===s?"ss":c;break;case f.deviation:i+=o?c:s;break;case f.valid:i+=s}}return i}(n,o);i=i.normalize("NFC");const h=i.split("."),E=function isBidiDomain(n){const o=n.map(n=>{if(n.startsWith("xn--"))try{return s.decode(n.substring(4))}catch{return""}return n}).join(".");return c.bidiDomain.test(o)}(h);let S=!1;for(const[n,i]of h.entries()){let c=i,f=o.transitionalProcessing;if(c.startsWith("xn--")){if(containsNonASCII(c)){S=!0;continue}try{c=s.decode(c.substring(4))}catch{if(!o.ignoreInvalidPunycode){S=!0;continue}}h[n]=c,""!==c&&containsNonASCII(c)||(S=!0),f=!1}if(S)continue;validateLabel(c,{...o,transitionalProcessing:f,isBidi:E})||(S=!0)}return{string:h.join("."),error:S}}n.exports={toASCII:function toASCII(n,{checkHyphens:o=!1,checkBidi:i=!1,checkJoiners:c=!1,useSTD3ASCIIRules:h=!1,verifyDNSLength:f=!1,transitionalProcessing:E=!1,ignoreInvalidPunycode:S=!1}={}){const A=processing(n,{checkHyphens:o,checkBidi:i,checkJoiners:c,useSTD3ASCIIRules:h,transitionalProcessing:E,ignoreInvalidPunycode:S});let O=A.string.split(".");if(O=O.map(n=>{if(containsNonASCII(n))try{return`xn--${s.encode(n)}`}catch{A.error=!0}return n}),f){const n=O.join(".").length;(n>253||0===n)&&(A.error=!0);for(let n=0;n<O.length;++n)if(O[n].length>63||0===O[n].length){A.error=!0;break}}return A.error?null:O.join(".")},toUnicode:function toUnicode(n,{checkHyphens:o=!1,checkBidi:i=!1,checkJoiners:s=!1,useSTD3ASCIIRules:c=!1,transitionalProcessing:h=!1,ignoreInvalidPunycode:f=!1}={}){const E=processing(n,{checkHyphens:o,checkBidi:i,checkJoiners:s,useSTD3ASCIIRules:c,transitionalProcessing:h,ignoreInvalidPunycode:f});return{domain:E.string,error:E.error}}}},80378:n=>{"use strict";n.exports={combiningMarks:/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10D69}-\u{10D6D}\u{10EAB}\u{10EAC}\u{10EFC}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{11002}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11082}\u{110B0}-\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{11134}\u{11145}\u{11146}\u{11173}\u{11180}-\u{11182}\u{111B3}-\u{111C0}\u{111C9}-\u{111CC}\u{111CE}\u{111CF}\u{1122C}-\u{11237}\u{1123E}\u{11241}\u{112DF}-\u{112EA}\u{11300}-\u{11303}\u{1133B}\u{1133C}\u{1133E}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11357}\u{11362}\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{113B8}-\u{113C0}\u{113C2}\u{113C5}\u{113C7}-\u{113CA}\u{113CC}-\u{113D0}\u{113D2}\u{113E1}\u{113E2}\u{11435}-\u{11446}\u{1145E}\u{114B0}-\u{114C3}\u{115AF}-\u{115B5}\u{115B8}-\u{115C0}\u{115DC}\u{115DD}\u{11630}-\u{11640}\u{116AB}-\u{116B7}\u{1171D}-\u{1172B}\u{1182C}-\u{1183A}\u{11930}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{1193E}\u{11940}\u{11942}\u{11943}\u{119D1}-\u{119D7}\u{119DA}-\u{119E0}\u{119E4}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A39}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A5B}\u{11A8A}-\u{11A99}\u{11C2F}-\u{11C36}\u{11C38}-\u{11C3F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D8A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D97}\u{11EF3}-\u{11EF6}\u{11F00}\u{11F01}\u{11F03}\u{11F34}-\u{11F3A}\u{11F3E}-\u{11F42}\u{11F5A}\u{13440}\u{13447}-\u{13455}\u{1611E}-\u{1612F}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F51}-\u{16F87}\u{16F8F}-\u{16F92}\u{16FE4}\u{16FF0}\u{16FF1}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D165}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E5EE}\u{1E5EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]/u,combiningClassVirama:/[\u094D\u09CD\u0A4D\u0ACD\u0B4D\u0BCD\u0C4D\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0EBA\u0F84\u1039\u103A\u1714\u1715\u1734\u17D2\u1A60\u1B44\u1BAA\u1BAB\u1BF2\u1BF3\u2D7F\uA806\uA82C\uA8C4\uA953\uA9C0\uAAF6\uABED\u{10A3F}\u{11046}\u{11070}\u{1107F}\u{110B9}\u{11133}\u{11134}\u{111C0}\u{11235}\u{112EA}\u{1134D}\u{113CE}-\u{113D0}\u{11442}\u{114C2}\u{115BF}\u{1163F}\u{116B6}\u{1172B}\u{11839}\u{1193D}\u{1193E}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D44}\u{11D45}\u{11D97}\u{11F41}\u{11F42}\u{1612F}]/u,validZWNJ:/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0848\u084A-\u0853\u0855\u0860\u0862-\u0865\u0868\u0886\u0889-\u088D\u08A0-\u08A9\u08AF\u08B0\u08B3-\u08B8\u08BA-\u08C8\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA872\u{10AC0}-\u{10AC4}\u{10ACD}\u{10AD3}-\u{10ADC}\u{10ADE}-\u{10AE0}\u{10AEB}-\u{10AEE}\u{10B80}\u{10B82}\u{10B86}-\u{10B88}\u{10B8A}\u{10B8B}\u{10B8D}\u{10B90}\u{10BAD}\u{10BAE}\u{10D00}-\u{10D21}\u{10D23}\u{10EC3}\u{10EC4}\u{10F30}-\u{10F32}\u{10F34}-\u{10F44}\u{10F51}-\u{10F53}\u{10F70}-\u{10F73}\u{10F76}-\u{10F81}\u{10FB0}\u{10FB2}\u{10FB3}\u{10FB8}\u{10FBB}\u{10FBC}\u{10FBE}\u{10FBF}\u{10FC1}\u{10FC4}\u{10FCA}\u{10FCB}\u{1E900}-\u{1E943}][\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10D69}-\u{10D6D}\u{10EAB}\u{10EAC}\u{10EFC}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{11241}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{113BB}-\u{113C0}\u{113CE}\u{113D0}\u{113D2}\u{113E1}\u{113E2}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11F00}\u{11F01}\u{11F36}-\u{11F3A}\u{11F40}\u{11F42}\u{11F5A}\u{13430}-\u{13440}\u{13447}-\u{13455}\u{1611E}-\u{16129}\u{1612D}-\u{1612F}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E5EE}\u{1E5EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*\u200C[\xAD\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u061C\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u070F\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200B\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFEFF\uFFF9-\uFFFB\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10D69}-\u{10D6D}\u{10EAB}\u{10EAC}\u{10EFC}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{11241}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{113BB}-\u{113C0}\u{113CE}\u{113D0}\u{113D2}\u{113E1}\u{113E2}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C3F}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11F00}\u{11F01}\u{11F36}-\u{11F3A}\u{11F40}\u{11F42}\u{11F5A}\u{13430}-\u{13440}\u{13447}-\u{13455}\u{1611E}-\u{16129}\u{1612D}-\u{1612F}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E5EE}\u{1E5EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94B}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0858\u0860\u0862-\u0865\u0867-\u086A\u0870-\u0882\u0886\u0889-\u088E\u08A0-\u08AC\u08AE-\u08C8\u1807\u1820-\u1878\u1887-\u18A8\u18AA\uA840-\uA871\u{10AC0}-\u{10AC5}\u{10AC7}\u{10AC9}\u{10ACA}\u{10ACE}-\u{10AD6}\u{10AD8}-\u{10AE1}\u{10AE4}\u{10AEB}-\u{10AEF}\u{10B80}-\u{10B91}\u{10BA9}-\u{10BAE}\u{10D01}-\u{10D23}\u{10EC2}-\u{10EC4}\u{10F30}-\u{10F44}\u{10F51}-\u{10F54}\u{10F70}-\u{10F81}\u{10FB0}\u{10FB2}-\u{10FB6}\u{10FB8}-\u{10FBF}\u{10FC1}-\u{10FC4}\u{10FC9}\u{10FCA}\u{1E900}-\u{1E943}]/u,bidiDomain:/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10D40}-\u{10D65}\u{10D6F}-\u{10D85}\u{10D8E}\u{10D8F}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10EC2}-\u{10EC4}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,bidiS1LTR:/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B4E-\u1B6A\u1B74-\u1B7F\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u249C-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{105C0}-\u{105F3}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11380}-\u{11389}\u{1138B}\u{1138E}\u{11390}-\u{113B5}\u{113B7}-\u{113BA}\u{113C2}\u{113C5}\u{113C7}-\u{113CA}\u{113CC}\u{113CD}\u{113CF}\u{113D1}\u{113D3}-\u{113D5}\u{113D7}\u{113D8}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{116D0}-\u{116E3}\u{11700}-\u{1171A}\u{1171E}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11B00}-\u{11B09}\u{11BC0}-\u{11BE1}\u{11BF0}-\u{11BF9}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11F02}-\u{11F10}\u{11F12}-\u{11F35}\u{11F3E}\u{11F3F}\u{11F41}\u{11F43}-\u{11F59}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1343F}\u{13441}-\u{13446}\u{13460}-\u{143FA}\u{14400}-\u{14646}\u{16100}-\u{1611D}\u{1612A}-\u{1612C}\u{16130}-\u{16139}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16D40}-\u{16D79}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18CFF}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CCD6}-\u{1CCEF}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2C0}-\u{1D2D3}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6C0}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6FA}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D734}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D76E}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D7A8}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D800}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E4D0}-\u{1E4EB}\u{1E4F0}-\u{1E4F9}\u{1E5D0}-\u{1E5ED}\u{1E5F0}-\u{1E5FA}\u{1E5FF}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2EBF0}-\u{2EE5D}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]/u,bidiS1RTL:/[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D4A}-\u{10D65}\u{10D6F}-\u{10D85}\u{10D8E}\u{10D8F}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10EC2}-\u{10EC4}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}]/u,bidiS2:/^[\0-\x08\x0E-\x1B!-@\[-`\{-\x84\x86-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02B9\u02BA\u02C2-\u02CF\u02D2-\u02DF\u02E5-\u02ED\u02EF-\u036F\u0374\u0375\u037E\u0384\u0385\u0387\u03F6\u0483-\u0489\u058A\u058D-\u058F\u0591-\u05C7\u05D0-\u05EA\u05EF-\u05F4\u0600-\u070D\u070F-\u074A\u074D-\u07B1\u07C0-\u07FA\u07FD-\u082D\u0830-\u083E\u0840-\u085B\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u0897-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09F2\u09F3\u09FB\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AF1\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0BF3-\u0BFA\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C78-\u0C7E\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E3F\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39-\u0F3D\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1390-\u1399\u1400\u169B\u169C\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DB\u17DD\u17F0-\u17F9\u1800-\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1940\u1944\u1945\u19DE-\u19FF\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u200B-\u200D\u200F-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2070\u2074-\u207E\u2080-\u208E\u20A0-\u20C0\u20D0-\u20F0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u2150-\u215F\u2189-\u218B\u2190-\u2335\u237B-\u2394\u2396-\u2429\u2440-\u244A\u2460-\u249B\u24EA-\u26AB\u26AD-\u27FF\u2900-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2CEF-\u2CF1\u2CF9-\u2CFF\u2D7F\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u3004\u3008-\u3020\u302A-\u302D\u3030\u3036\u3037\u303D-\u303F\u3099-\u309C\u30A0\u30FB\u31C0-\u31E5\u31EF\u321D\u321E\u3250-\u325F\u327C-\u327E\u32B1-\u32BF\u32CC-\u32CF\u3377-\u337A\u33DE\u33DF\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA60D-\uA60F\uA66F-\uA67F\uA69E\uA69F\uA6F0\uA6F1\uA700-\uA721\uA788\uA802\uA806\uA80B\uA825\uA826\uA828-\uA82C\uA838\uA839\uA874-\uA877\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uAB6A\uAB6B\uABE5\uABE8\uABED\uFB1D-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD8F\uFD92-\uFDC7\uFDCF\uFDF0-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF01-\uFF20\uFF3B-\uFF40\uFF5B-\uFF65\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10101}\u{10140}-\u{1018C}\u{10190}-\u{1019C}\u{101A0}\u{101FD}\u{102E0}-\u{102FB}\u{10376}-\u{1037A}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{1091F}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A38}-\u{10A3A}\u{10A3F}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE6}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B39}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D27}\u{10D30}-\u{10D39}\u{10D40}-\u{10D65}\u{10D69}-\u{10D85}\u{10D8E}\u{10D8F}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAB}-\u{10EAD}\u{10EB0}\u{10EB1}\u{10EC2}-\u{10EC4}\u{10EFC}-\u{10F27}\u{10F30}-\u{10F59}\u{10F70}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{11001}\u{11038}-\u{11046}\u{11052}-\u{11065}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{11241}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{113BB}-\u{113C0}\u{113CE}\u{113D0}\u{113D2}\u{113E1}\u{113E2}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{11660}-\u{1166C}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11F00}\u{11F01}\u{11F36}-\u{11F3A}\u{11F40}\u{11F42}\u{11F5A}\u{11FD5}-\u{11FF1}\u{13440}\u{13447}-\u{13455}\u{1611E}-\u{16129}\u{1612D}-\u{1612F}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE2}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1BCA0}-\u{1BCA3}\u{1CC00}-\u{1CCD5}\u{1CCF0}-\u{1CCF9}\u{1CD00}-\u{1CEB3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D173}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D1E9}\u{1D1EA}\u{1D200}-\u{1D245}\u{1D300}-\u{1D356}\u{1D6C1}\u{1D6DB}\u{1D6FB}\u{1D715}\u{1D735}\u{1D74F}\u{1D76F}\u{1D789}\u{1D7A9}\u{1D7C3}\u{1D7CE}-\u{1D7FF}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E2FF}\u{1E4EC}-\u{1E4EF}\u{1E5EE}\u{1E5EF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8D6}\u{1E900}-\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F10F}\u{1F12F}\u{1F16A}-\u{1F16F}\u{1F1AD}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DC}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F776}\u{1F77B}-\u{1F7D9}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}-\u{1F8BB}\u{1F8C0}\u{1F8C1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA89}\u{1FA8F}-\u{1FAC6}\u{1FACE}-\u{1FADC}\u{1FADF}-\u{1FAE9}\u{1FAF0}-\u{1FAF8}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBF9}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}]*$/u,bidiS3:/[0-9\xB2\xB3\xB9\u05BE\u05C0\u05C3\u05C6\u05D0-\u05EA\u05EF-\u05F4\u0600-\u0605\u0608\u060B\u060D\u061B-\u064A\u0660-\u0669\u066B-\u066F\u0671-\u06D5\u06DD\u06E5\u06E6\u06EE-\u070D\u070F\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u083E\u0840-\u0858\u085E\u0860-\u086A\u0870-\u088E\u0890\u0891\u08A0-\u08C9\u08E2\u200F\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBC2\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\u{102E1}-\u{102FB}\u{10800}-\u{10805}\u{10808}\u{1080A}-\u{10835}\u{10837}\u{10838}\u{1083C}\u{1083F}-\u{10855}\u{10857}-\u{1089E}\u{108A7}-\u{108AF}\u{108E0}-\u{108F2}\u{108F4}\u{108F5}\u{108FB}-\u{1091B}\u{10920}-\u{10939}\u{1093F}\u{10980}-\u{109B7}\u{109BC}-\u{109CF}\u{109D2}-\u{10A00}\u{10A10}-\u{10A13}\u{10A15}-\u{10A17}\u{10A19}-\u{10A35}\u{10A40}-\u{10A48}\u{10A50}-\u{10A58}\u{10A60}-\u{10A9F}\u{10AC0}-\u{10AE4}\u{10AEB}-\u{10AF6}\u{10B00}-\u{10B35}\u{10B40}-\u{10B55}\u{10B58}-\u{10B72}\u{10B78}-\u{10B91}\u{10B99}-\u{10B9C}\u{10BA9}-\u{10BAF}\u{10C00}-\u{10C48}\u{10C80}-\u{10CB2}\u{10CC0}-\u{10CF2}\u{10CFA}-\u{10D23}\u{10D30}-\u{10D39}\u{10D40}-\u{10D65}\u{10D6F}-\u{10D85}\u{10D8E}\u{10D8F}\u{10E60}-\u{10E7E}\u{10E80}-\u{10EA9}\u{10EAD}\u{10EB0}\u{10EB1}\u{10EC2}-\u{10EC4}\u{10F00}-\u{10F27}\u{10F30}-\u{10F45}\u{10F51}-\u{10F59}\u{10F70}-\u{10F81}\u{10F86}-\u{10F89}\u{10FB0}-\u{10FCB}\u{10FE0}-\u{10FF6}\u{1CCF0}-\u{1CCF9}\u{1D7CE}-\u{1D7FF}\u{1E800}-\u{1E8C4}\u{1E8C7}-\u{1E8CF}\u{1E900}-\u{1E943}\u{1E94B}\u{1E950}-\u{1E959}\u{1E95E}\u{1E95F}\u{1EC71}-\u{1ECB4}\u{1ED01}-\u{1ED3D}\u{1EE00}-\u{1EE03}\u{1EE05}-\u{1EE1F}\u{1EE21}\u{1EE22}\u{1EE24}\u{1EE27}\u{1EE29}-\u{1EE32}\u{1EE34}-\u{1EE37}\u{1EE39}\u{1EE3B}\u{1EE42}\u{1EE47}\u{1EE49}\u{1EE4B}\u{1EE4D}-\u{1EE4F}\u{1EE51}\u{1EE52}\u{1EE54}\u{1EE57}\u{1EE59}\u{1EE5B}\u{1EE5D}\u{1EE5F}\u{1EE61}\u{1EE62}\u{1EE64}\u{1EE67}-\u{1EE6A}\u{1EE6C}-\u{1EE72}\u{1EE74}-\u{1EE77}\u{1EE79}-\u{1EE7C}\u{1EE7E}\u{1EE80}-\u{1EE89}\u{1EE8B}-\u{1EE9B}\u{1EEA1}-\u{1EEA3}\u{1EEA5}-\u{1EEA9}\u{1EEAB}-\u{1EEBB}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10D69}-\u{10D6D}\u{10EAB}\u{10EAC}\u{10EFC}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{11241}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{113BB}-\u{113C0}\u{113CE}\u{113D0}\u{113D2}\u{113E1}\u{113E2}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11F00}\u{11F01}\u{11F36}-\u{11F3A}\u{11F40}\u{11F42}\u{11F5A}\u{13440}\u{13447}-\u{13455}\u{1611E}-\u{16129}\u{1612D}-\u{1612F}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E5EE}\u{1E5EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u,bidiS4EN:/[0-9\xB2\xB3\xB9\u06F0-\u06F9\u2070\u2074-\u2079\u2080-\u2089\u2488-\u249B\uFF10-\uFF19\u{102E1}-\u{102FB}\u{1CCF0}-\u{1CCF9}\u{1D7CE}-\u{1D7FF}\u{1F100}-\u{1F10A}\u{1FBF0}-\u{1FBF9}]/u,bidiS4AN:/[\u0600-\u0605\u0660-\u0669\u066B\u066C\u06DD\u0890\u0891\u08E2\u{10D30}-\u{10D39}\u{10D40}-\u{10D49}\u{10E60}-\u{10E7E}]/u,bidiS5:/^[\0-\x08\x0E-\x1B!-\x84\x86-\u0377\u037A-\u037F\u0384-\u038A\u038C\u038E-\u03A1\u03A3-\u052F\u0531-\u0556\u0559-\u058A\u058D-\u058F\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0606\u0607\u0609\u060A\u060C\u060E-\u061A\u064B-\u065F\u066A\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07F6-\u07F9\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A76\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AF1\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BFA\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3C-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C5D\u0C60-\u0C63\u0C66-\u0C6F\u0C77-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4F\u0D54-\u0D63\u0D66-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E3A\u0E3F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECE\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F47\u0F49-\u0F6C\u0F71-\u0F97\u0F99-\u0FBC\u0FBE-\u0FCC\u0FCE-\u0FDA\u1000-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u137C\u1380-\u1399\u13A0-\u13F5\u13F8-\u13FD\u1400-\u167F\u1681-\u169C\u16A0-\u16F8\u1700-\u1715\u171F-\u1736\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17DD\u17E0-\u17E9\u17F0-\u17F9\u1800-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1940\u1944-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u19DE-\u1A1B\u1A1E-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1AB0-\u1ACE\u1B00-\u1B4C\u1B4E-\u1BF3\u1BFC-\u1C37\u1C3B-\u1C49\u1C4D-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD0-\u1CFA\u1D00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FC4\u1FC6-\u1FD3\u1FD6-\u1FDB\u1FDD-\u1FEF\u1FF2-\u1FF4\u1FF6-\u1FFE\u200B-\u200E\u2010-\u2027\u202F-\u205E\u2060-\u2064\u206A-\u2071\u2074-\u208E\u2090-\u209C\u20A0-\u20C0\u20D0-\u20F0\u2100-\u218B\u2190-\u2429\u2440-\u244A\u2460-\u2B73\u2B76-\u2B95\u2B97-\u2CF3\u2CF9-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2E5D\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3001-\u303F\u3041-\u3096\u3099-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31E5\u31EF-\u321E\u3220-\uA48C\uA490-\uA4C6\uA4D0-\uA62B\uA640-\uA6F7\uA700-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA82C\uA830-\uA839\uA840-\uA877\uA880-\uA8C5\uA8CE-\uA8D9\uA8E0-\uA953\uA95F-\uA97C\uA980-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA5C-\uAAC2\uAADB-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB6B\uAB70-\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1E\uFB29\uFD3E-\uFD4F\uFDCF\uFDFD-\uFE19\uFE20-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFEFF\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFF9-\uFFFD\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}-\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1018E}\u{10190}-\u{1019C}\u{101A0}\u{101D0}-\u{101FD}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E0}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{1037A}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{105C0}-\u{105F3}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{1091F}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10B39}-\u{10B3F}\u{10D24}-\u{10D27}\u{10D69}-\u{10D6E}\u{10EAB}\u{10EAC}\u{10EFC}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11000}-\u{1104D}\u{11052}-\u{11075}\u{1107F}-\u{110C2}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11100}-\u{11134}\u{11136}-\u{11147}\u{11150}-\u{11176}\u{11180}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{11241}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112EA}\u{112F0}-\u{112F9}\u{11300}-\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133B}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{11380}-\u{11389}\u{1138B}\u{1138E}\u{11390}-\u{113B5}\u{113B7}-\u{113C0}\u{113C2}\u{113C5}\u{113C7}-\u{113CA}\u{113CC}-\u{113D5}\u{113D7}\u{113D8}\u{113E1}\u{113E2}\u{11400}-\u{1145B}\u{1145D}-\u{11461}\u{11480}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B5}\u{115B8}-\u{115DD}\u{11600}-\u{11644}\u{11650}-\u{11659}\u{11660}-\u{1166C}\u{11680}-\u{116B9}\u{116C0}-\u{116C9}\u{116D0}-\u{116E3}\u{11700}-\u{1171A}\u{1171D}-\u{1172B}\u{11730}-\u{11746}\u{11800}-\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193B}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D7}\u{119DA}-\u{119E4}\u{11A00}-\u{11A47}\u{11A50}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11B00}-\u{11B09}\u{11BC0}-\u{11BE1}\u{11BF0}-\u{11BF9}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C36}\u{11C38}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11C92}-\u{11CA7}\u{11CA9}-\u{11CB6}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D47}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D90}\u{11D91}\u{11D93}-\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF8}\u{11F00}-\u{11F10}\u{11F12}-\u{11F3A}\u{11F3E}-\u{11F5A}\u{11FB0}\u{11FC0}-\u{11FF1}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{13455}\u{13460}-\u{143FA}\u{14400}-\u{14646}\u{16100}-\u{16139}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF0}-\u{16AF5}\u{16B00}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16D40}-\u{16D79}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F4F}-\u{16F87}\u{16F8F}-\u{16F9F}\u{16FE0}-\u{16FE4}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18CFF}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}-\u{1BCA3}\u{1CC00}-\u{1CCF9}\u{1CD00}-\u{1CEB3}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D1EA}\u{1D200}-\u{1D245}\u{1D2C0}-\u{1D2D3}\u{1D2E0}-\u{1D2F3}\u{1D300}-\u{1D356}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D7CB}\u{1D7CE}-\u{1DA8B}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E030}-\u{1E06D}\u{1E08F}\u{1E100}-\u{1E12C}\u{1E130}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AE}\u{1E2C0}-\u{1E2F9}\u{1E2FF}\u{1E4D0}-\u{1E4F9}\u{1E5D0}-\u{1E5FA}\u{1E5FF}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{1EEF0}\u{1EEF1}\u{1F000}-\u{1F02B}\u{1F030}-\u{1F093}\u{1F0A0}-\u{1F0AE}\u{1F0B1}-\u{1F0BF}\u{1F0C1}-\u{1F0CF}\u{1F0D1}-\u{1F0F5}\u{1F100}-\u{1F1AD}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1F260}-\u{1F265}\u{1F300}-\u{1F6D7}\u{1F6DC}-\u{1F6EC}\u{1F6F0}-\u{1F6FC}\u{1F700}-\u{1F776}\u{1F77B}-\u{1F7D9}\u{1F7E0}-\u{1F7EB}\u{1F7F0}\u{1F800}-\u{1F80B}\u{1F810}-\u{1F847}\u{1F850}-\u{1F859}\u{1F860}-\u{1F887}\u{1F890}-\u{1F8AD}\u{1F8B0}-\u{1F8BB}\u{1F8C0}\u{1F8C1}\u{1F900}-\u{1FA53}\u{1FA60}-\u{1FA6D}\u{1FA70}-\u{1FA7C}\u{1FA80}-\u{1FA89}\u{1FA8F}-\u{1FAC6}\u{1FACE}-\u{1FADC}\u{1FADF}-\u{1FAE9}\u{1FAF0}-\u{1FAF8}\u{1FB00}-\u{1FB92}\u{1FB94}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2EBF0}-\u{2EE5D}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}\u{E0001}\u{E0020}-\u{E007F}\u{E0100}-\u{E01EF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}]*$/u,bidiS6:/[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u02BB-\u02C1\u02D0\u02D1\u02E0-\u02E4\u02EE\u0370-\u0373\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0482\u048A-\u052F\u0531-\u0556\u0559-\u0589\u06F0-\u06F9\u0903-\u0939\u093B\u093D-\u0940\u0949-\u094C\u094E-\u0950\u0958-\u0961\u0964-\u0980\u0982\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD-\u09C0\u09C7\u09C8\u09CB\u09CC\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09FA\u09FC\u09FD\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3E-\u0A40\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A76\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD-\u0AC0\u0AC9\u0ACB\u0ACC\u0AD0\u0AE0\u0AE1\u0AE6-\u0AF0\u0AF9\u0B02\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B3E\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0B57\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD0\u0BD7\u0BE6-\u0BF2\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C41-\u0C44\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C77\u0C7F\u0C80\u0C82-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD-\u0CC4\u0CC6-\u0CC8\u0CCA\u0CCB\u0CD5\u0CD6\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1-\u0CF3\u0D02-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D4E\u0D4F\u0D54-\u0D61\u0D66-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2-\u0DF4\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E4F-\u0E5B\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3E-\u0F47\u0F49-\u0F6C\u0F7F\u0F85\u0F88-\u0F8C\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE-\u0FDA\u1000-\u102C\u1031\u1038\u103B\u103C\u103F-\u1057\u105A-\u105D\u1061-\u1070\u1075-\u1081\u1083\u1084\u1087-\u108C\u108E-\u109C\u109E-\u10C5\u10C7\u10CD\u10D0-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1360-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u167F\u1681-\u169A\u16A0-\u16F8\u1700-\u1711\u1715\u171F-\u1731\u1734-\u1736\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17B6\u17BE-\u17C5\u17C7\u17C8\u17D4-\u17DA\u17DC\u17E0-\u17E9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A19\u1A1A\u1A1E-\u1A55\u1A57\u1A61\u1A63\u1A64\u1A6D-\u1A72\u1A80-\u1A89\u1A90-\u1A99\u1AA0-\u1AAD\u1B04-\u1B33\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B4C\u1B4E-\u1B6A\u1B74-\u1B7F\u1B82-\u1BA1\u1BA6\u1BA7\u1BAA\u1BAE-\u1BE5\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1BFC-\u1C2B\u1C34\u1C35\u1C3B-\u1C49\u1C4D-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CC7\u1CD3\u1CE1\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5-\u1CF7\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200E\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u214F\u2160-\u2188\u2336-\u237A\u2395\u2488-\u24E9\u26AC\u2800-\u28FF\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D70\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u302E\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\u31BF\u31F0-\u321C\u3220-\u324F\u3260-\u327B\u327F-\u32B0\u32C0-\u32CB\u32D0-\u3376\u337B-\u33DD\u33E0-\u33FE\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA60C\uA610-\uA62B\uA640-\uA66E\uA680-\uA69D\uA6A0-\uA6EF\uA6F2-\uA6F7\uA722-\uA787\uA789-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA824\uA827\uA830-\uA837\uA840-\uA873\uA880-\uA8C3\uA8CE-\uA8D9\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA952\uA953\uA95F-\uA97C\uA983-\uA9B2\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9CD\uA9CF-\uA9D9\uA9DE-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA2F\uAA30\uAA33\uAA34\uAA40-\uAA42\uAA44-\uAA4B\uAA4D\uAA50-\uAA59\uAA5C-\uAA7B\uAA7D-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAAEB\uAAEE-\uAAF5\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB69\uAB70-\uABE4\uABE6\uABE7\uABE9-\uABEC\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u{10000}-\u{1000B}\u{1000D}-\u{10026}\u{10028}-\u{1003A}\u{1003C}\u{1003D}\u{1003F}-\u{1004D}\u{10050}-\u{1005D}\u{10080}-\u{100FA}\u{10100}\u{10102}\u{10107}-\u{10133}\u{10137}-\u{1013F}\u{1018D}\u{1018E}\u{101D0}-\u{101FC}\u{10280}-\u{1029C}\u{102A0}-\u{102D0}\u{102E1}-\u{102FB}\u{10300}-\u{10323}\u{1032D}-\u{1034A}\u{10350}-\u{10375}\u{10380}-\u{1039D}\u{1039F}-\u{103C3}\u{103C8}-\u{103D5}\u{10400}-\u{1049D}\u{104A0}-\u{104A9}\u{104B0}-\u{104D3}\u{104D8}-\u{104FB}\u{10500}-\u{10527}\u{10530}-\u{10563}\u{1056F}-\u{1057A}\u{1057C}-\u{1058A}\u{1058C}-\u{10592}\u{10594}\u{10595}\u{10597}-\u{105A1}\u{105A3}-\u{105B1}\u{105B3}-\u{105B9}\u{105BB}\u{105BC}\u{105C0}-\u{105F3}\u{10600}-\u{10736}\u{10740}-\u{10755}\u{10760}-\u{10767}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{11000}\u{11002}-\u{11037}\u{11047}-\u{1104D}\u{11066}-\u{1106F}\u{11071}\u{11072}\u{11075}\u{11082}-\u{110B2}\u{110B7}\u{110B8}\u{110BB}-\u{110C1}\u{110CD}\u{110D0}-\u{110E8}\u{110F0}-\u{110F9}\u{11103}-\u{11126}\u{1112C}\u{11136}-\u{11147}\u{11150}-\u{11172}\u{11174}-\u{11176}\u{11182}-\u{111B5}\u{111BF}-\u{111C8}\u{111CD}\u{111CE}\u{111D0}-\u{111DF}\u{111E1}-\u{111F4}\u{11200}-\u{11211}\u{11213}-\u{1122E}\u{11232}\u{11233}\u{11235}\u{11238}-\u{1123D}\u{1123F}\u{11240}\u{11280}-\u{11286}\u{11288}\u{1128A}-\u{1128D}\u{1128F}-\u{1129D}\u{1129F}-\u{112A9}\u{112B0}-\u{112DE}\u{112E0}-\u{112E2}\u{112F0}-\u{112F9}\u{11302}\u{11303}\u{11305}-\u{1130C}\u{1130F}\u{11310}\u{11313}-\u{11328}\u{1132A}-\u{11330}\u{11332}\u{11333}\u{11335}-\u{11339}\u{1133D}-\u{1133F}\u{11341}-\u{11344}\u{11347}\u{11348}\u{1134B}-\u{1134D}\u{11350}\u{11357}\u{1135D}-\u{11363}\u{11380}-\u{11389}\u{1138B}\u{1138E}\u{11390}-\u{113B5}\u{113B7}-\u{113BA}\u{113C2}\u{113C5}\u{113C7}-\u{113CA}\u{113CC}\u{113CD}\u{113CF}\u{113D1}\u{113D3}-\u{113D5}\u{113D7}\u{113D8}\u{11400}-\u{11437}\u{11440}\u{11441}\u{11445}\u{11447}-\u{1145B}\u{1145D}\u{1145F}-\u{11461}\u{11480}-\u{114B2}\u{114B9}\u{114BB}-\u{114BE}\u{114C1}\u{114C4}-\u{114C7}\u{114D0}-\u{114D9}\u{11580}-\u{115B1}\u{115B8}-\u{115BB}\u{115BE}\u{115C1}-\u{115DB}\u{11600}-\u{11632}\u{1163B}\u{1163C}\u{1163E}\u{11641}-\u{11644}\u{11650}-\u{11659}\u{11680}-\u{116AA}\u{116AC}\u{116AE}\u{116AF}\u{116B6}\u{116B8}\u{116B9}\u{116C0}-\u{116C9}\u{116D0}-\u{116E3}\u{11700}-\u{1171A}\u{1171E}\u{11720}\u{11721}\u{11726}\u{11730}-\u{11746}\u{11800}-\u{1182E}\u{11838}\u{1183B}\u{118A0}-\u{118F2}\u{118FF}-\u{11906}\u{11909}\u{1190C}-\u{11913}\u{11915}\u{11916}\u{11918}-\u{11935}\u{11937}\u{11938}\u{1193D}\u{1193F}-\u{11942}\u{11944}-\u{11946}\u{11950}-\u{11959}\u{119A0}-\u{119A7}\u{119AA}-\u{119D3}\u{119DC}-\u{119DF}\u{119E1}-\u{119E4}\u{11A00}\u{11A07}\u{11A08}\u{11A0B}-\u{11A32}\u{11A39}\u{11A3A}\u{11A3F}-\u{11A46}\u{11A50}\u{11A57}\u{11A58}\u{11A5C}-\u{11A89}\u{11A97}\u{11A9A}-\u{11AA2}\u{11AB0}-\u{11AF8}\u{11B00}-\u{11B09}\u{11BC0}-\u{11BE1}\u{11BF0}-\u{11BF9}\u{11C00}-\u{11C08}\u{11C0A}-\u{11C2F}\u{11C3E}-\u{11C45}\u{11C50}-\u{11C6C}\u{11C70}-\u{11C8F}\u{11CA9}\u{11CB1}\u{11CB4}\u{11D00}-\u{11D06}\u{11D08}\u{11D09}\u{11D0B}-\u{11D30}\u{11D46}\u{11D50}-\u{11D59}\u{11D60}-\u{11D65}\u{11D67}\u{11D68}\u{11D6A}-\u{11D8E}\u{11D93}\u{11D94}\u{11D96}\u{11D98}\u{11DA0}-\u{11DA9}\u{11EE0}-\u{11EF2}\u{11EF5}-\u{11EF8}\u{11F02}-\u{11F10}\u{11F12}-\u{11F35}\u{11F3E}\u{11F3F}\u{11F41}\u{11F43}-\u{11F59}\u{11FB0}\u{11FC0}-\u{11FD4}\u{11FFF}-\u{12399}\u{12400}-\u{1246E}\u{12470}-\u{12474}\u{12480}-\u{12543}\u{12F90}-\u{12FF2}\u{13000}-\u{1343F}\u{13441}-\u{13446}\u{13460}-\u{143FA}\u{14400}-\u{14646}\u{16100}-\u{1611D}\u{1612A}-\u{1612C}\u{16130}-\u{16139}\u{16800}-\u{16A38}\u{16A40}-\u{16A5E}\u{16A60}-\u{16A69}\u{16A6E}-\u{16ABE}\u{16AC0}-\u{16AC9}\u{16AD0}-\u{16AED}\u{16AF5}\u{16B00}-\u{16B2F}\u{16B37}-\u{16B45}\u{16B50}-\u{16B59}\u{16B5B}-\u{16B61}\u{16B63}-\u{16B77}\u{16B7D}-\u{16B8F}\u{16D40}-\u{16D79}\u{16E40}-\u{16E9A}\u{16F00}-\u{16F4A}\u{16F50}-\u{16F87}\u{16F93}-\u{16F9F}\u{16FE0}\u{16FE1}\u{16FE3}\u{16FF0}\u{16FF1}\u{17000}-\u{187F7}\u{18800}-\u{18CD5}\u{18CFF}-\u{18D08}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1B000}-\u{1B122}\u{1B132}\u{1B150}-\u{1B152}\u{1B155}\u{1B164}-\u{1B167}\u{1B170}-\u{1B2FB}\u{1BC00}-\u{1BC6A}\u{1BC70}-\u{1BC7C}\u{1BC80}-\u{1BC88}\u{1BC90}-\u{1BC99}\u{1BC9C}\u{1BC9F}\u{1CCD6}-\u{1CCF9}\u{1CF50}-\u{1CFC3}\u{1D000}-\u{1D0F5}\u{1D100}-\u{1D126}\u{1D129}-\u{1D166}\u{1D16A}-\u{1D172}\u{1D183}\u{1D184}\u{1D18C}-\u{1D1A9}\u{1D1AE}-\u{1D1E8}\u{1D2C0}-\u{1D2D3}\u{1D2E0}-\u{1D2F3}\u{1D360}-\u{1D378}\u{1D400}-\u{1D454}\u{1D456}-\u{1D49C}\u{1D49E}\u{1D49F}\u{1D4A2}\u{1D4A5}\u{1D4A6}\u{1D4A9}-\u{1D4AC}\u{1D4AE}-\u{1D4B9}\u{1D4BB}\u{1D4BD}-\u{1D4C3}\u{1D4C5}-\u{1D505}\u{1D507}-\u{1D50A}\u{1D50D}-\u{1D514}\u{1D516}-\u{1D51C}\u{1D51E}-\u{1D539}\u{1D53B}-\u{1D53E}\u{1D540}-\u{1D544}\u{1D546}\u{1D54A}-\u{1D550}\u{1D552}-\u{1D6A5}\u{1D6A8}-\u{1D6C0}\u{1D6C2}-\u{1D6DA}\u{1D6DC}-\u{1D6FA}\u{1D6FC}-\u{1D714}\u{1D716}-\u{1D734}\u{1D736}-\u{1D74E}\u{1D750}-\u{1D76E}\u{1D770}-\u{1D788}\u{1D78A}-\u{1D7A8}\u{1D7AA}-\u{1D7C2}\u{1D7C4}-\u{1D7CB}\u{1D7CE}-\u{1D9FF}\u{1DA37}-\u{1DA3A}\u{1DA6D}-\u{1DA74}\u{1DA76}-\u{1DA83}\u{1DA85}-\u{1DA8B}\u{1DF00}-\u{1DF1E}\u{1DF25}-\u{1DF2A}\u{1E030}-\u{1E06D}\u{1E100}-\u{1E12C}\u{1E137}-\u{1E13D}\u{1E140}-\u{1E149}\u{1E14E}\u{1E14F}\u{1E290}-\u{1E2AD}\u{1E2C0}-\u{1E2EB}\u{1E2F0}-\u{1E2F9}\u{1E4D0}-\u{1E4EB}\u{1E4F0}-\u{1E4F9}\u{1E5D0}-\u{1E5ED}\u{1E5F0}-\u{1E5FA}\u{1E5FF}\u{1E7E0}-\u{1E7E6}\u{1E7E8}-\u{1E7EB}\u{1E7ED}\u{1E7EE}\u{1E7F0}-\u{1E7FE}\u{1F100}-\u{1F10A}\u{1F110}-\u{1F12E}\u{1F130}-\u{1F169}\u{1F170}-\u{1F1AC}\u{1F1E6}-\u{1F202}\u{1F210}-\u{1F23B}\u{1F240}-\u{1F248}\u{1F250}\u{1F251}\u{1FBF0}-\u{1FBF9}\u{20000}-\u{2A6DF}\u{2A700}-\u{2B739}\u{2B740}-\u{2B81D}\u{2B820}-\u{2CEA1}\u{2CEB0}-\u{2EBE0}\u{2EBF0}-\u{2EE5D}\u{2F800}-\u{2FA1D}\u{30000}-\u{3134A}\u{31350}-\u{323AF}\u{F0000}-\u{FFFFD}\u{100000}-\u{10FFFD}][\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B55\u0B56\u0B62\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CCC\u0CCD\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D41-\u0D44\u0D4D\u0D62\u0D63\u0D81\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\u{101FD}\u{102E0}\u{10376}-\u{1037A}\u{10A01}-\u{10A03}\u{10A05}\u{10A06}\u{10A0C}-\u{10A0F}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D24}-\u{10D27}\u{10D69}-\u{10D6D}\u{10EAB}\u{10EAC}\u{10EFC}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11001}\u{11038}-\u{11046}\u{11070}\u{11073}\u{11074}\u{1107F}-\u{11081}\u{110B3}-\u{110B6}\u{110B9}\u{110BA}\u{110C2}\u{11100}-\u{11102}\u{11127}-\u{1112B}\u{1112D}-\u{11134}\u{11173}\u{11180}\u{11181}\u{111B6}-\u{111BE}\u{111C9}-\u{111CC}\u{111CF}\u{1122F}-\u{11231}\u{11234}\u{11236}\u{11237}\u{1123E}\u{11241}\u{112DF}\u{112E3}-\u{112EA}\u{11300}\u{11301}\u{1133B}\u{1133C}\u{11340}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{113BB}-\u{113C0}\u{113CE}\u{113D0}\u{113D2}\u{113E1}\u{113E2}\u{11438}-\u{1143F}\u{11442}-\u{11444}\u{11446}\u{1145E}\u{114B3}-\u{114B8}\u{114BA}\u{114BF}\u{114C0}\u{114C2}\u{114C3}\u{115B2}-\u{115B5}\u{115BC}\u{115BD}\u{115BF}\u{115C0}\u{115DC}\u{115DD}\u{11633}-\u{1163A}\u{1163D}\u{1163F}\u{11640}\u{116AB}\u{116AD}\u{116B0}-\u{116B5}\u{116B7}\u{1171D}\u{1171F}\u{11722}-\u{11725}\u{11727}-\u{1172B}\u{1182F}-\u{11837}\u{11839}\u{1183A}\u{1193B}\u{1193C}\u{1193E}\u{11943}\u{119D4}-\u{119D7}\u{119DA}\u{119DB}\u{119E0}\u{11A01}-\u{11A06}\u{11A09}\u{11A0A}\u{11A33}-\u{11A38}\u{11A3B}-\u{11A3E}\u{11A47}\u{11A51}-\u{11A56}\u{11A59}-\u{11A5B}\u{11A8A}-\u{11A96}\u{11A98}\u{11A99}\u{11C30}-\u{11C36}\u{11C38}-\u{11C3D}\u{11C92}-\u{11CA7}\u{11CAA}-\u{11CB0}\u{11CB2}\u{11CB3}\u{11CB5}\u{11CB6}\u{11D31}-\u{11D36}\u{11D3A}\u{11D3C}\u{11D3D}\u{11D3F}-\u{11D45}\u{11D47}\u{11D90}\u{11D91}\u{11D95}\u{11D97}\u{11EF3}\u{11EF4}\u{11F00}\u{11F01}\u{11F36}-\u{11F3A}\u{11F40}\u{11F42}\u{11F5A}\u{13440}\u{13447}-\u{13455}\u{1611E}-\u{16129}\u{1612D}-\u{1612F}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16F4F}\u{16F8F}-\u{16F92}\u{16FE4}\u{1BC9D}\u{1BC9E}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1D242}-\u{1D244}\u{1DA00}-\u{1DA36}\u{1DA3B}-\u{1DA6C}\u{1DA75}\u{1DA84}\u{1DA9B}-\u{1DA9F}\u{1DAA1}-\u{1DAAF}\u{1E000}-\u{1E006}\u{1E008}-\u{1E018}\u{1E01B}-\u{1E021}\u{1E023}\u{1E024}\u{1E026}-\u{1E02A}\u{1E08F}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E4EC}-\u{1E4EF}\u{1E5EE}\u{1E5EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E94A}\u{E0100}-\u{E01EF}]*$/u}},18445:n=>{"use strict";n.exports.STATUS_MAPPING={mapped:1,valid:2,disallowed:3,deviation:6,ignored:7}},2110:(n,o,i)=>{"use strict";function createScanner(n,o=!1){const i=n.length;let s=0,c="",h=0,f=16,E=0,S=0,A=0,O=0,T=0;function scanHexDigits(o,i){let c=0,h=0;for(;c<o||!i;){let o=n.charCodeAt(s);if(o>=48&&o<=57)h=16*h+o-48;else if(o>=65&&o<=70)h=16*h+o-65+10;else{if(!(o>=97&&o<=102))break;h=16*h+o-97+10}s++,c++}return c<o&&(h=-1),h}function scanNext(){if(c="",T=0,h=s,S=E,O=A,s>=i)return h=i,f=17;let o=n.charCodeAt(s);if(isWhiteSpace(o)){do{s++,c+=String.fromCharCode(o),o=n.charCodeAt(s)}while(isWhiteSpace(o));return f=15}if(isLineBreak(o))return s++,c+=String.fromCharCode(o),13===o&&10===n.charCodeAt(s)&&(s++,c+="\n"),E++,A=s,f=14;switch(o){case 123:return s++,f=1;case 125:return s++,f=2;case 91:return s++,f=3;case 93:return s++,f=4;case 58:return s++,f=6;case 44:return s++,f=5;case 34:return s++,c=function scanString(){let o="",c=s;for(;;){if(s>=i){o+=n.substring(c,s),T=2;break}const h=n.charCodeAt(s);if(34===h){o+=n.substring(c,s),s++;break}if(92!==h){if(h>=0&&h<=31){if(isLineBreak(h)){o+=n.substring(c,s),T=2;break}T=6}s++}else{if(o+=n.substring(c,s),s++,s>=i){T=2;break}switch(n.charCodeAt(s++)){case 34:o+='"';break;case 92:o+="\\";break;case 47:o+="/";break;case 98:o+="\b";break;case 102:o+="\f";break;case 110:o+="\n";break;case 114:o+="\r";break;case 116:o+="\t";break;case 117:const n=scanHexDigits(4,!0);n>=0?o+=String.fromCharCode(n):T=4;break;default:T=5}c=s}}return o}(),f=10;case 47:const S=s-1;if(47===n.charCodeAt(s+1)){for(s+=2;s<i&&!isLineBreak(n.charCodeAt(s));)s++;return c=n.substring(S,s),f=12}if(42===n.charCodeAt(s+1)){s+=2;const o=i-1;let h=!1;for(;s<o;){const o=n.charCodeAt(s);if(42===o&&47===n.charCodeAt(s+1)){s+=2,h=!0;break}s++,isLineBreak(o)&&(13===o&&10===n.charCodeAt(s)&&s++,E++,A=s)}return h||(s++,T=1),c=n.substring(S,s),f=13}return c+=String.fromCharCode(o),s++,f=16;case 45:if(c+=String.fromCharCode(o),s++,s===i||!isDigit(n.charCodeAt(s)))return f=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return c+=function scanNumber(){let o=s;if(48===n.charCodeAt(s))s++;else for(s++;s<n.length&&isDigit(n.charCodeAt(s));)s++;if(s<n.length&&46===n.charCodeAt(s)){if(s++,!(s<n.length&&isDigit(n.charCodeAt(s))))return T=3,n.substring(o,s);for(s++;s<n.length&&isDigit(n.charCodeAt(s));)s++}let i=s;if(s<n.length&&(69===n.charCodeAt(s)||101===n.charCodeAt(s)))if(s++,(s<n.length&&43===n.charCodeAt(s)||45===n.charCodeAt(s))&&s++,s<n.length&&isDigit(n.charCodeAt(s))){for(s++;s<n.length&&isDigit(n.charCodeAt(s));)s++;i=s}else T=3;return n.substring(o,i)}(),f=11;default:for(;s<i&&isUnknownContentCharacter(o);)s++,o=n.charCodeAt(s);if(h!==s){switch(c=n.substring(h,s),c){case"true":return f=8;case"false":return f=9;case"null":return f=7}return f=16}return c+=String.fromCharCode(o),s++,f=16}}function isUnknownContentCharacter(n){if(isWhiteSpace(n)||isLineBreak(n))return!1;switch(n){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function setPosition(n){s=n,c="",h=0,f=16,T=0},getPosition:()=>s,scan:o?function scanNextNonTrivia(){let n;do{n=scanNext()}while(n>=12&&n<=15);return n}:scanNext,getToken:()=>f,getTokenValue:()=>c,getTokenOffset:()=>h,getTokenLength:()=>s-h,getTokenStartLine:()=>S,getTokenStartCharacter:()=>h-O,getTokenError:()=>T}}function isWhiteSpace(n){return 32===n||9===n}function isLineBreak(n){return 10===n||13===n}function isDigit(n){return n>=48&&n<=57}var s;i.r(o),i.d(o,{ClientCapabilities:()=>I,CodeAction:()=>F.CodeAction,CodeActionContext:()=>F.CodeActionContext,CodeActionKind:()=>F.CodeActionKind,Color:()=>F.Color,ColorInformation:()=>F.ColorInformation,ColorPresentation:()=>F.ColorPresentation,Command:()=>F.Command,CompletionItem:()=>F.CompletionItem,CompletionItemKind:()=>F.CompletionItemKind,CompletionItemTag:()=>F.CompletionItemTag,CompletionList:()=>F.CompletionList,Diagnostic:()=>F.Diagnostic,DiagnosticSeverity:()=>F.DiagnosticSeverity,DocumentHighlight:()=>F.DocumentHighlight,DocumentHighlightKind:()=>F.DocumentHighlightKind,DocumentLink:()=>F.DocumentLink,DocumentSymbol:()=>F.DocumentSymbol,DocumentUri:()=>F.DocumentUri,ErrorCode:()=>P,FoldingRange:()=>F.FoldingRange,FoldingRangeKind:()=>F.FoldingRangeKind,Hover:()=>F.Hover,InsertTextFormat:()=>F.InsertTextFormat,Location:()=>F.Location,MarkedString:()=>F.MarkedString,MarkupContent:()=>F.MarkupContent,MarkupKind:()=>F.MarkupKind,Position:()=>F.Position,Range:()=>F.Range,SchemaDraft:()=>M,SelectionRange:()=>F.SelectionRange,SymbolInformation:()=>F.SymbolInformation,SymbolKind:()=>F.SymbolKind,TextDocument:()=>L.TextDocument,TextDocumentEdit:()=>F.TextDocumentEdit,TextEdit:()=>F.TextEdit,VersionedTextDocumentIdentifier:()=>F.VersionedTextDocumentIdentifier,WorkspaceEdit:()=>F.WorkspaceEdit,getLanguageService:()=>getLanguageService}),function(n){n[n.lineFeed=10]="lineFeed",n[n.carriageReturn=13]="carriageReturn",n[n.space=32]="space",n[n._0=48]="_0",n[n._1=49]="_1",n[n._2=50]="_2",n[n._3=51]="_3",n[n._4=52]="_4",n[n._5=53]="_5",n[n._6=54]="_6",n[n._7=55]="_7",n[n._8=56]="_8",n[n._9=57]="_9",n[n.a=97]="a",n[n.b=98]="b",n[n.c=99]="c",n[n.d=100]="d",n[n.e=101]="e",n[n.f=102]="f",n[n.g=103]="g",n[n.h=104]="h",n[n.i=105]="i",n[n.j=106]="j",n[n.k=107]="k",n[n.l=108]="l",n[n.m=109]="m",n[n.n=110]="n",n[n.o=111]="o",n[n.p=112]="p",n[n.q=113]="q",n[n.r=114]="r",n[n.s=115]="s",n[n.t=116]="t",n[n.u=117]="u",n[n.v=118]="v",n[n.w=119]="w",n[n.x=120]="x",n[n.y=121]="y",n[n.z=122]="z",n[n.A=65]="A",n[n.B=66]="B",n[n.C=67]="C",n[n.D=68]="D",n[n.E=69]="E",n[n.F=70]="F",n[n.G=71]="G",n[n.H=72]="H",n[n.I=73]="I",n[n.J=74]="J",n[n.K=75]="K",n[n.L=76]="L",n[n.M=77]="M",n[n.N=78]="N",n[n.O=79]="O",n[n.P=80]="P",n[n.Q=81]="Q",n[n.R=82]="R",n[n.S=83]="S",n[n.T=84]="T",n[n.U=85]="U",n[n.V=86]="V",n[n.W=87]="W",n[n.X=88]="X",n[n.Y=89]="Y",n[n.Z=90]="Z",n[n.asterisk=42]="asterisk",n[n.backslash=92]="backslash",n[n.closeBrace=125]="closeBrace",n[n.closeBracket=93]="closeBracket",n[n.colon=58]="colon",n[n.comma=44]="comma",n[n.dot=46]="dot",n[n.doubleQuote=34]="doubleQuote",n[n.minus=45]="minus",n[n.openBrace=123]="openBrace",n[n.openBracket=91]="openBracket",n[n.plus=43]="plus",n[n.slash=47]="slash",n[n.formFeed=12]="formFeed",n[n.tab=9]="tab"}(s||(s={}));const c=new Array(20).fill(0).map((n,o)=>" ".repeat(o)),h=200,f={" ":{"\n":new Array(h).fill(0).map((n,o)=>"\n"+" ".repeat(o)),"\r":new Array(h).fill(0).map((n,o)=>"\r"+" ".repeat(o)),"\r\n":new Array(h).fill(0).map((n,o)=>"\r\n"+" ".repeat(o))},"\t":{"\n":new Array(h).fill(0).map((n,o)=>"\n"+"\t".repeat(o)),"\r":new Array(h).fill(0).map((n,o)=>"\r"+"\t".repeat(o)),"\r\n":new Array(h).fill(0).map((n,o)=>"\r\n"+"\t".repeat(o))}},E=["\n","\r","\r\n"];function format_format(n,o,i){let s,h,S,A,O;if(o){for(A=o.offset,O=A+o.length,S=A;S>0&&!format_isEOL(n,S-1);)S--;let f=O;for(;f<n.length&&!format_isEOL(n,f);)f++;h=n.substring(S,f),s=function computeIndentLevel(n,o){let i=0,s=0;const h=o.tabSize||4;for(;i<n.length;){let o=n.charAt(i);if(o===c[1])s++;else{if("\t"!==o)break;s+=h}i++}return Math.floor(s/h)}(h,i)}else h=n,s=0,S=0,A=0,O=n.length;const T=function getEOL(n,o){for(let n=0;n<o.length;n++){const i=o.charAt(n);if("\r"===i)return n+1<o.length&&"\n"===o.charAt(n+1)?"\r\n":"\r";if("\n"===i)return"\n"}return n&&n.eol||"\n"}(i,n),_=E.includes(T);let D,N=0,R=0;D=i.insertSpaces?c[i.tabSize||4]??repeat(c[1],i.tabSize||4):"\t";const x="\t"===D?"\t":" ";let P=createScanner(h,!1),M=!1;function newLinesAndIndent(){if(N>1)return repeat(T,N)+repeat(D,s+R);const n=D.length*(s+R);return!_||n>f[x][T].length?T+repeat(D,s+R):n<=0?T:f[x][T][n]}function scanNext(){let n=P.scan();for(N=0;15===n||14===n;)14===n&&i.keepLines?N+=1:14===n&&(N=1),n=P.scan();return M=16===n||0!==P.getTokenError(),n}const I=[];function addEdit(i,s,c){M||o&&!(s<O&&c>A)||n.substring(s,c)===i||I.push({offset:s,length:c-s,content:i})}let B=scanNext();if(i.keepLines&&N>0&&addEdit(repeat(T,N),0,0),17!==B){let n=P.getTokenOffset()+S;addEdit(D.length*s<20&&i.insertSpaces?c[D.length*s]:repeat(D,s),S,n)}for(;17!==B;){let n=P.getTokenOffset()+P.getTokenLength()+S,o=scanNext(),s="",h=!1;for(;0===N&&(12===o||13===o);){let i=P.getTokenOffset()+S;addEdit(c[1],n,i),n=P.getTokenOffset()+P.getTokenLength()+S,h=12===o,s=h?newLinesAndIndent():"",o=scanNext()}if(2===o)1!==B&&R--,i.keepLines&&N>0||!i.keepLines&&1!==B?s=newLinesAndIndent():i.keepLines&&(s=c[1]);else if(4===o)3!==B&&R--,i.keepLines&&N>0||!i.keepLines&&3!==B?s=newLinesAndIndent():i.keepLines&&(s=c[1]);else{switch(B){case 3:case 1:R++,s=i.keepLines&&N>0||!i.keepLines?newLinesAndIndent():c[1];break;case 5:s=i.keepLines&&N>0||!i.keepLines?newLinesAndIndent():c[1];break;case 12:s=newLinesAndIndent();break;case 13:N>0?s=newLinesAndIndent():h||(s=c[1]);break;case 6:i.keepLines&&N>0?s=newLinesAndIndent():h||(s=c[1]);break;case 10:i.keepLines&&N>0?s=newLinesAndIndent():6!==o||h||(s="");break;case 7:case 8:case 9:case 11:case 2:case 4:i.keepLines&&N>0?s=newLinesAndIndent():12!==o&&13!==o||h?5!==o&&17!==o&&(M=!0):s=c[1];break;case 16:M=!0}N>0&&(12===o||13===o)&&(s=newLinesAndIndent())}17===o&&(s=i.keepLines&&N>0?newLinesAndIndent():i.insertFinalNewline?T:"");addEdit(s,n,P.getTokenOffset()+S),B=o}return I}function repeat(n,o){let i="";for(let s=0;s<o;s++)i+=n;return i}function format_isEOL(n,o){return-1!=="\r\n".indexOf(n.charAt(o))}var S;function visit(n,o,i=S.DEFAULT){const s=createScanner(n,!1),c=[];let h=0;function toOneArgVisit(n){return n?o=>0===h&&n(o,s.getTokenOffset(),s.getTokenLength(),s.getTokenStartLine(),s.getTokenStartCharacter()):()=>!0}function toOneArgVisitWithPath(n){return n?o=>0===h&&n(o,s.getTokenOffset(),s.getTokenLength(),s.getTokenStartLine(),s.getTokenStartCharacter(),()=>c.slice()):()=>!0}function toBeginVisit(n){return n?()=>{if(h>0)h++;else{!1===n(s.getTokenOffset(),s.getTokenLength(),s.getTokenStartLine(),s.getTokenStartCharacter(),()=>c.slice())&&(h=1)}}:()=>!0}function toEndVisit(n){return n?()=>{h>0&&h--,0===h&&n(s.getTokenOffset(),s.getTokenLength(),s.getTokenStartLine(),s.getTokenStartCharacter())}:()=>!0}const f=toBeginVisit(o.onObjectBegin),E=toOneArgVisitWithPath(o.onObjectProperty),A=toEndVisit(o.onObjectEnd),O=toBeginVisit(o.onArrayBegin),T=toEndVisit(o.onArrayEnd),_=toOneArgVisitWithPath(o.onLiteralValue),D=toOneArgVisit(o.onSeparator),N=function toNoArgVisit(n){return n?()=>0===h&&n(s.getTokenOffset(),s.getTokenLength(),s.getTokenStartLine(),s.getTokenStartCharacter()):()=>!0}(o.onComment),R=toOneArgVisit(o.onError),x=i&&i.disallowComments,P=i&&i.allowTrailingComma;function scanNext(){for(;;){const n=s.scan();switch(s.getTokenError()){case 4:handleError(14);break;case 5:handleError(15);break;case 3:handleError(13);break;case 1:x||handleError(11);break;case 2:handleError(12);break;case 6:handleError(16)}switch(n){case 12:case 13:x?handleError(10):N();break;case 16:handleError(1);break;case 15:case 14:break;default:return n}}}function handleError(n,o=[],i=[]){if(R(n),o.length+i.length>0){let n=s.getToken();for(;17!==n;){if(-1!==o.indexOf(n)){scanNext();break}if(-1!==i.indexOf(n))break;n=scanNext()}}}function parseString(n){const o=s.getTokenValue();return n?_(o):(E(o),c.push(o)),scanNext(),!0}function parseProperty(){return 10!==s.getToken()?(handleError(3,[],[2,5]),!1):(parseString(!1),6===s.getToken()?(D(":"),scanNext(),parseValue()||handleError(4,[],[2,5])):handleError(5,[],[2,5]),c.pop(),!0)}function parseValue(){switch(s.getToken()){case 3:return function parseArray(){O(),scanNext();let n=!0,o=!1;for(;4!==s.getToken()&&17!==s.getToken();){if(5===s.getToken()){if(o||handleError(4,[],[]),D(","),scanNext(),4===s.getToken()&&P)break}else o&&handleError(6,[],[]);n?(c.push(0),n=!1):c[c.length-1]++,parseValue()||handleError(4,[],[4,5]),o=!0}return T(),n||c.pop(),4!==s.getToken()?handleError(8,[4],[]):scanNext(),!0}();case 1:return function parseObject(){f(),scanNext();let n=!1;for(;2!==s.getToken()&&17!==s.getToken();){if(5===s.getToken()){if(n||handleError(4,[],[]),D(","),scanNext(),2===s.getToken()&&P)break}else n&&handleError(6,[],[]);parseProperty()||handleError(4,[],[2,5]),n=!0}return A(),2!==s.getToken()?handleError(7,[2],[]):scanNext(),!0}();case 10:return parseString(!0);default:return function parseLiteral(){switch(s.getToken()){case 11:const n=s.getTokenValue();let o=Number(n);isNaN(o)&&(handleError(2),o=0),_(o);break;case 7:_(null);break;case 8:_(!0);break;case 9:_(!1);break;default:return!1}return scanNext(),!0}()}}return scanNext(),17===s.getToken()?!!i.allowEmptyContent||(handleError(4,[],[]),!1):parseValue()?(17!==s.getToken()&&handleError(9,[],[]),!0):(handleError(4,[],[]),!1)}!function(n){n.DEFAULT={allowTrailingComma:!1}}(S||(S={}));const A=createScanner;var O,T;!function(n){n[n.None=0]="None",n[n.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=2]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",n[n.InvalidUnicode=4]="InvalidUnicode",n[n.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",n[n.InvalidCharacter=6]="InvalidCharacter"}(O||(O={})),function(n){n[n.OpenBraceToken=1]="OpenBraceToken",n[n.CloseBraceToken=2]="CloseBraceToken",n[n.OpenBracketToken=3]="OpenBracketToken",n[n.CloseBracketToken=4]="CloseBracketToken",n[n.CommaToken=5]="CommaToken",n[n.ColonToken=6]="ColonToken",n[n.NullKeyword=7]="NullKeyword",n[n.TrueKeyword=8]="TrueKeyword",n[n.FalseKeyword=9]="FalseKeyword",n[n.StringLiteral=10]="StringLiteral",n[n.NumericLiteral=11]="NumericLiteral",n[n.LineCommentTrivia=12]="LineCommentTrivia",n[n.BlockCommentTrivia=13]="BlockCommentTrivia",n[n.LineBreakTrivia=14]="LineBreakTrivia",n[n.Trivia=15]="Trivia",n[n.Unknown=16]="Unknown",n[n.EOF=17]="EOF"}(T||(T={}));const _=function parse(n,o=[],i=S.DEFAULT){let s=null,c=[];const h=[];function onValue(n){Array.isArray(c)?c.push(n):null!==s&&(c[s]=n)}return visit(n,{onObjectBegin:()=>{const n={};onValue(n),h.push(c),c=n,s=null},onObjectProperty:n=>{s=n},onObjectEnd:()=>{c=h.pop()},onArrayBegin:()=>{const n=[];onValue(n),h.push(c),c=n,s=null},onArrayEnd:()=>{c=h.pop()},onLiteralValue:onValue,onError:(n,i,s)=>{o.push({error:n,offset:i,length:s})}},i),c[0]},D=function findNodeAtOffset(n,o,i=!1){if(function contains(n,o,i=!1){return o>=n.offset&&o<n.offset+n.length||i&&o===n.offset+n.length}(n,o,i)){const s=n.children;if(Array.isArray(s))for(let n=0;n<s.length&&s[n].offset<=o;n++){const c=findNodeAtOffset(s[n],o,i);if(c)return c}return n}},N=function getNodePath(n){if(!n.parent||!n.parent.children)return[];const o=getNodePath(n.parent);if("property"===n.parent.type){const i=n.parent.children[0].value;o.push(i)}else if("array"===n.parent.type){const i=n.parent.children.indexOf(n);-1!==i&&o.push(i)}return o},R=function getNodeValue(n){switch(n.type){case"array":return n.children.map(getNodeValue);case"object":const o=Object.create(null);for(let i of n.children){const n=i.children[1];n&&(o[i.children[0].value]=getNodeValue(n))}return o;case"null":case"string":case"number":case"boolean":return n.value;default:return}};var x;function equals(n,o){if(n===o)return!0;if(null==n||null==o)return!1;if(typeof n!=typeof o)return!1;if("object"!=typeof n)return!1;if(Array.isArray(n)!==Array.isArray(o))return!1;let i,s;if(Array.isArray(n)){if(n.length!==o.length)return!1;for(i=0;i<n.length;i++)if(!equals(n[i],o[i]))return!1}else{const c=[];for(s in n)c.push(s);c.sort();const h=[];for(s in o)h.push(s);if(h.sort(),!equals(c,h))return!1;for(i=0;i<c.length;i++)if(!equals(n[c[i]],o[c[i]]))return!1}return!0}function isNumber(n){return"number"==typeof n}function isDefined(n){return void 0!==n}function isBoolean(n){return"boolean"==typeof n}function isString(n){return"string"==typeof n}function isObject(n){return"object"==typeof n&&null!==n&&!Array.isArray(n)}function endsWith(n,o){const i=n.length-o.length;return i>0?n.lastIndexOf(o)===i:0===i&&n===o}function extendedRegExp(n){let o="";(function startsWith(n,o){if(n.length<o.length)return!1;for(let i=0;i<o.length;i++)if(n[i]!==o[i])return!1;return!0})(n,"(?i)")&&(n=n.substring(4),o="i");try{return new RegExp(n,o+"u")}catch(i){try{return new RegExp(n,o)}catch(n){return}}}function stringLength(n){let o=0;for(let i=0;i<n.length;i++){o++;const s=n.charCodeAt(i);55296<=s&&s<=56319&&i++}return o}!function(n){n[n.InvalidSymbol=1]="InvalidSymbol",n[n.InvalidNumberFormat=2]="InvalidNumberFormat",n[n.PropertyNameExpected=3]="PropertyNameExpected",n[n.ValueExpected=4]="ValueExpected",n[n.ColonExpected=5]="ColonExpected",n[n.CommaExpected=6]="CommaExpected",n[n.CloseBraceExpected=7]="CloseBraceExpected",n[n.CloseBracketExpected=8]="CloseBracketExpected",n[n.EndOfFileExpected=9]="EndOfFileExpected",n[n.InvalidCommentToken=10]="InvalidCommentToken",n[n.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=12]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",n[n.InvalidUnicode=14]="InvalidUnicode",n[n.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",n[n.InvalidCharacter=16]="InvalidCharacter"}(x||(x={}));var P,M,I,B,F=i(46203),L=i(55172);!function(n){n[n.Undefined=0]="Undefined",n[n.EnumValueMismatch=1]="EnumValueMismatch",n[n.Deprecated=2]="Deprecated",n[n.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",n[n.UnexpectedEndOfString=258]="UnexpectedEndOfString",n[n.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",n[n.InvalidUnicode=260]="InvalidUnicode",n[n.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",n[n.InvalidCharacter=262]="InvalidCharacter",n[n.PropertyExpected=513]="PropertyExpected",n[n.CommaExpected=514]="CommaExpected",n[n.ColonExpected=515]="ColonExpected",n[n.ValueExpected=516]="ValueExpected",n[n.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",n[n.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",n[n.TrailingComma=519]="TrailingComma",n[n.DuplicateKey=520]="DuplicateKey",n[n.CommentNotPermitted=521]="CommentNotPermitted",n[n.PropertyKeysMustBeDoublequoted=528]="PropertyKeysMustBeDoublequoted",n[n.SchemaResolveError=768]="SchemaResolveError",n[n.SchemaUnsupportedFeature=769]="SchemaUnsupportedFeature"}(P||(P={})),function(n){n[n.v3=3]="v3",n[n.v4=4]="v4",n[n.v6=6]="v6",n[n.v7=7]="v7",n[n.v2019_09=19]="v2019_09",n[n.v2020_12=20]="v2020_12"}(M||(M={})),function(n){n.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[F.MarkupKind.Markdown,F.MarkupKind.PlainText],commitCharactersSupport:!0,labelDetailsSupport:!0}}}}}(I||(I={})),(()=>{var n={975:n=>{function e(n){if("string"!=typeof n)throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function r(n,o){for(var i,s="",c=0,h=-1,f=0,E=0;E<=n.length;++E){if(E<n.length)i=n.charCodeAt(E);else{if(47===i)break;i=47}if(47===i){if(h===E-1||1===f);else if(h!==E-1&&2===f){if(s.length<2||2!==c||46!==s.charCodeAt(s.length-1)||46!==s.charCodeAt(s.length-2))if(s.length>2){var S=s.lastIndexOf("/");if(S!==s.length-1){-1===S?(s="",c=0):c=(s=s.slice(0,S)).length-1-s.lastIndexOf("/"),h=E,f=0;continue}}else if(2===s.length||1===s.length){s="",c=0,h=E,f=0;continue}o&&(s.length>0?s+="/..":s="..",c=2)}else s.length>0?s+="/"+n.slice(h+1,E):s=n.slice(h+1,E),c=E-h-1;h=E,f=0}else 46===i&&-1!==f?++f:f=-1}return s}var o={resolve:function(){for(var n,o="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var c;s>=0?c=arguments[s]:(void 0===n&&(n=process.cwd()),c=n),e(c),0!==c.length&&(o=c+"/"+o,i=47===c.charCodeAt(0))}return o=r(o,!i),i?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(n){if(e(n),0===n.length)return".";var o=47===n.charCodeAt(0),i=47===n.charCodeAt(n.length-1);return 0!==(n=r(n,!o)).length||o||(n="."),n.length>0&&i&&(n+="/"),o?"/"+n:n},isAbsolute:function(n){return e(n),n.length>0&&47===n.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var n,i=0;i<arguments.length;++i){var s=arguments[i];e(s),s.length>0&&(void 0===n?n=s:n+="/"+s)}return void 0===n?".":o.normalize(n)},relative:function(n,i){if(e(n),e(i),n===i)return"";if((n=o.resolve(n))===(i=o.resolve(i)))return"";for(var s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var c=n.length,h=c-s,f=1;f<i.length&&47===i.charCodeAt(f);++f);for(var E=i.length-f,S=h<E?h:E,A=-1,O=0;O<=S;++O){if(O===S){if(E>S){if(47===i.charCodeAt(f+O))return i.slice(f+O+1);if(0===O)return i.slice(f+O)}else h>S&&(47===n.charCodeAt(s+O)?A=O:0===O&&(A=0));break}var T=n.charCodeAt(s+O);if(T!==i.charCodeAt(f+O))break;47===T&&(A=O)}var _="";for(O=s+A+1;O<=c;++O)O!==c&&47!==n.charCodeAt(O)||(0===_.length?_+="..":_+="/..");return _.length>0?_+i.slice(f+A):(f+=A,47===i.charCodeAt(f)&&++f,i.slice(f))},_makeLong:function(n){return n},dirname:function(n){if(e(n),0===n.length)return".";for(var o=n.charCodeAt(0),i=47===o,s=-1,c=!0,h=n.length-1;h>=1;--h)if(47===(o=n.charCodeAt(h))){if(!c){s=h;break}}else c=!1;return-1===s?i?"/":".":i&&1===s?"//":n.slice(0,s)},basename:function(n,o){if(void 0!==o&&"string"!=typeof o)throw new TypeError('"ext" argument must be a string');e(n);var i,s=0,c=-1,h=!0;if(void 0!==o&&o.length>0&&o.length<=n.length){if(o.length===n.length&&o===n)return"";var f=o.length-1,E=-1;for(i=n.length-1;i>=0;--i){var S=n.charCodeAt(i);if(47===S){if(!h){s=i+1;break}}else-1===E&&(h=!1,E=i+1),f>=0&&(S===o.charCodeAt(f)?-1==--f&&(c=i):(f=-1,c=E))}return s===c?c=E:-1===c&&(c=n.length),n.slice(s,c)}for(i=n.length-1;i>=0;--i)if(47===n.charCodeAt(i)){if(!h){s=i+1;break}}else-1===c&&(h=!1,c=i+1);return-1===c?"":n.slice(s,c)},extname:function(n){e(n);for(var o=-1,i=0,s=-1,c=!0,h=0,f=n.length-1;f>=0;--f){var E=n.charCodeAt(f);if(47!==E)-1===s&&(c=!1,s=f+1),46===E?-1===o?o=f:1!==h&&(h=1):-1!==o&&(h=-1);else if(!c){i=f+1;break}}return-1===o||-1===s||0===h||1===h&&o===s-1&&o===i+1?"":n.slice(o,s)},format:function(n){if(null===n||"object"!=typeof n)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return function(n,o){var i=o.dir||o.root,s=o.base||(o.name||"")+(o.ext||"");return i?i===o.root?i+s:i+"/"+s:s}(0,n)},parse:function(n){e(n);var o={root:"",dir:"",base:"",ext:"",name:""};if(0===n.length)return o;var i,s=n.charCodeAt(0),c=47===s;c?(o.root="/",i=1):i=0;for(var h=-1,f=0,E=-1,S=!0,A=n.length-1,O=0;A>=i;--A)if(47!==(s=n.charCodeAt(A)))-1===E&&(S=!1,E=A+1),46===s?-1===h?h=A:1!==O&&(O=1):-1!==h&&(O=-1);else if(!S){f=A+1;break}return-1===h||-1===E||0===O||1===O&&h===E-1&&h===f+1?-1!==E&&(o.base=o.name=0===f&&c?n.slice(1,E):n.slice(f,E)):(0===f&&c?(o.name=n.slice(1,h),o.base=n.slice(1,E)):(o.name=n.slice(f,h),o.base=n.slice(f,E)),o.ext=n.slice(h,E)),f>0?o.dir=n.slice(0,f-1):c&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,n.exports=o}},o={};function r(i){var s=o[i];if(void 0!==s)return s.exports;var c=o[i]={exports:{}};return n[i](c,c.exports,r),c.exports}r.d=(n,o)=>{for(var i in o)r.o(o,i)&&!r.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:o[i]})},r.o=(n,o)=>Object.prototype.hasOwnProperty.call(n,o),r.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var i={};let s;if(r.r(i),r.d(i,{URI:()=>l,Utils:()=>x}),"object"==typeof process)s="win32"===process.platform;else if("object"==typeof navigator){let n=navigator.userAgent;s=n.indexOf("Windows")>=0}const c=/^\w[\w\d+.-]*$/,h=/^\//,f=/^\/\//;function a(n,o){if(!n.scheme&&o)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!c.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path)if(n.authority){if(!h.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(f.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const E="",S="/",A=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class l{static isUri(n){return n instanceof l||!!n&&"string"==typeof n.authority&&"string"==typeof n.fragment&&"string"==typeof n.path&&"string"==typeof n.query&&"string"==typeof n.scheme&&"string"==typeof n.fsPath&&"function"==typeof n.with&&"function"==typeof n.toString}scheme;authority;path;query;fragment;constructor(n,o,i,s,c,h=!1){"object"==typeof n?(this.scheme=n.scheme||E,this.authority=n.authority||E,this.path=n.path||E,this.query=n.query||E,this.fragment=n.fragment||E):(this.scheme=function(n,o){return n||o?n:"file"}(n,h),this.authority=o||E,this.path=function(n,o){switch(n){case"https":case"http":case"file":o?o[0]!==S&&(o=S+o):o=S}return o}(this.scheme,i||E),this.query=s||E,this.fragment=c||E,a(this,h))}get fsPath(){return v(this,!1)}with(n){if(!n)return this;let{scheme:o,authority:i,path:s,query:c,fragment:h}=n;return void 0===o?o=this.scheme:null===o&&(o=E),void 0===i?i=this.authority:null===i&&(i=E),void 0===s?s=this.path:null===s&&(s=E),void 0===c?c=this.query:null===c&&(c=E),void 0===h?h=this.fragment:null===h&&(h=E),o===this.scheme&&i===this.authority&&s===this.path&&c===this.query&&h===this.fragment?this:new d(o,i,s,c,h)}static parse(n,o=!1){const i=A.exec(n);return i?new d(i[2]||E,w(i[4]||E),w(i[5]||E),w(i[7]||E),w(i[9]||E),o):new d(E,E,E,E,E)}static file(n){let o=E;if(s&&(n=n.replace(/\\/g,S)),n[0]===S&&n[1]===S){const i=n.indexOf(S,2);-1===i?(o=n.substring(2),n=S):(o=n.substring(2,i),n=n.substring(i)||S)}return new d("file",o,n,E,E)}static from(n){const o=new d(n.scheme,n.authority,n.path,n.query,n.fragment);return a(o,!0),o}toString(n=!1){return b(this,n)}toJSON(){return this}static revive(n){if(n){if(n instanceof l)return n;{const o=new d(n);return o._formatted=n.external,o._fsPath=n._sep===O?n.fsPath:null,o}}return n}}const O=s?1:void 0;class d extends l{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=v(this,!1)),this._fsPath}toString(n=!1){return n?b(this,!0):(this._formatted||(this._formatted=b(this,!1)),this._formatted)}toJSON(){const n={$mid:1};return this._fsPath&&(n.fsPath=this._fsPath,n._sep=O),this._formatted&&(n.external=this._formatted),this.path&&(n.path=this.path),this.scheme&&(n.scheme=this.scheme),this.authority&&(n.authority=this.authority),this.query&&(n.query=this.query),this.fragment&&(n.fragment=this.fragment),n}}const T={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(n,o,i){let s,c=-1;for(let h=0;h<n.length;h++){const f=n.charCodeAt(h);if(f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||45===f||46===f||95===f||126===f||o&&47===f||i&&91===f||i&&93===f||i&&58===f)-1!==c&&(s+=encodeURIComponent(n.substring(c,h)),c=-1),void 0!==s&&(s+=n.charAt(h));else{void 0===s&&(s=n.substr(0,h));const o=T[f];void 0!==o?(-1!==c&&(s+=encodeURIComponent(n.substring(c,h)),c=-1),s+=o):-1===c&&(c=h)}}return-1!==c&&(s+=encodeURIComponent(n.substring(c))),void 0!==s?s:n}function y(n){let o;for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);35===s||63===s?(void 0===o&&(o=n.substr(0,i)),o+=T[s]):void 0!==o&&(o+=n[i])}return void 0!==o?o:n}function v(n,o){let i;return i=n.authority&&n.path.length>1&&"file"===n.scheme?`//${n.authority}${n.path}`:47===n.path.charCodeAt(0)&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&58===n.path.charCodeAt(2)?o?n.path.substr(1):n.path[1].toLowerCase()+n.path.substr(2):n.path,s&&(i=i.replace(/\//g,"\\")),i}function b(n,o){const i=o?y:m;let s="",{scheme:c,authority:h,path:f,query:E,fragment:A}=n;if(c&&(s+=c,s+=":"),(h||"file"===c)&&(s+=S,s+=S),h){let n=h.indexOf("@");if(-1!==n){const o=h.substr(0,n);h=h.substr(n+1),n=o.lastIndexOf(":"),-1===n?s+=i(o,!1,!1):(s+=i(o.substr(0,n),!1,!1),s+=":",s+=i(o.substr(n+1),!1,!0)),s+="@"}h=h.toLowerCase(),n=h.lastIndexOf(":"),-1===n?s+=i(h,!1,!0):(s+=i(h.substr(0,n),!1,!0),s+=h.substr(n))}if(f){if(f.length>=3&&47===f.charCodeAt(0)&&58===f.charCodeAt(2)){const n=f.charCodeAt(1);n>=65&&n<=90&&(f=`/${String.fromCharCode(n+32)}:${f.substr(3)}`)}else if(f.length>=2&&58===f.charCodeAt(1)){const n=f.charCodeAt(0);n>=65&&n<=90&&(f=`${String.fromCharCode(n+32)}:${f.substr(2)}`)}s+=i(f,!0,!1)}return E&&(s+="?",s+=i(E,!1,!1)),A&&(s+="#",s+=o?A:m(A,!1,!1)),s}function C(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+C(n.substr(3)):n}}const _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(n){return n.match(_)?n.replace(_,n=>C(n)):n}var D=r(975);const N=D.posix||D,R="/";var x;!function(n){n.joinPath=function(n,...o){return n.with({path:N.join(n.path,...o)})},n.resolvePath=function(n,...o){let i=n.path,s=!1;i[0]!==R&&(i=R+i,s=!0);let c=N.resolve(i,...o);return s&&c[0]===R&&!n.authority&&(c=c.substring(1)),n.with({path:c})},n.dirname=function(n){if(0===n.path.length||n.path===R)return n;let o=N.dirname(n.path);return 1===o.length&&46===o.charCodeAt(0)&&(o=""),n.with({path:o})},n.basename=function(n){return N.basename(n.path)},n.extname=function(n){return N.extname(n.path)}}(x||(x={})),B=i})();const{URI:k,Utils:j}=B;var U=i(15747);const z={"color-hex":{errorMessage:U.t("Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:U.t("String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:U.t("String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:U.t("String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:U.t("String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}))$/},hostname:{errorMessage:U.t("String is not a hostname."),pattern:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i},ipv4:{errorMessage:U.t("String is not an IPv4 address."),pattern:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/},ipv6:{errorMessage:U.t("String is not an IPv6 address."),pattern:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i}};class ASTNodeImpl{constructor(n,o,i=0){this.offset=o,this.length=i,this.parent=n}get children(){return[]}toString(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")}}class NullASTNodeImpl extends ASTNodeImpl{constructor(n,o){super(n,o),this.type="null",this.value=null}}class BooleanASTNodeImpl extends ASTNodeImpl{constructor(n,o,i){super(n,i),this.type="boolean",this.value=o}}class ArrayASTNodeImpl extends ASTNodeImpl{constructor(n,o){super(n,o),this.type="array",this.items=[]}get children(){return this.items}}class NumberASTNodeImpl extends ASTNodeImpl{constructor(n,o){super(n,o),this.type="number",this.isInteger=!0,this.value=Number.NaN}}class StringASTNodeImpl extends ASTNodeImpl{constructor(n,o,i){super(n,o,i),this.type="string",this.value=""}}class PropertyASTNodeImpl extends ASTNodeImpl{constructor(n,o,i){super(n,o),this.type="property",this.colonOffset=-1,this.keyNode=i}get children(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]}}class ObjectASTNodeImpl extends ASTNodeImpl{constructor(n,o){super(n,o),this.type="object",this.properties=[]}get children(){return this.properties}}function asSchema(n){return isBoolean(n)?n?{}:{not:{}}:n}var q;!function(n){n[n.Key=0]="Key",n[n.Enum=1]="Enum"}(q||(q={}));const V="http://json-schema.org/";function normalizeId(n){n.startsWith(V)&&(n="https://json-schema.org/"+n.substring(23));try{return k.parse(n).toString(!0)}catch(o){return n}}function getSchemaDraftFromId(n){return W[normalizeId(n)]??void 0}const W={"https://json-schema.org/draft-03/schema":M.v3,"https://json-schema.org/draft-04/schema":M.v4,"https://json-schema.org/draft-06/schema":M.v6,"https://json-schema.org/draft-07/schema":M.v7,"https://json-schema.org/draft/2019-09/schema":M.v2019_09,"https://json-schema.org/draft/2020-12/schema":M.v2020_12};class EvaluationContext{constructor(n){this.schemaDraft=n}}class SchemaCollector{constructor(n=-1,o){this.focusOffset=n,this.exclude=o,this.schemas=[]}add(n){this.schemas.push(n)}merge(n){Array.prototype.push.apply(this.schemas,n.schemas)}include(n){return(-1===this.focusOffset||jsonParser_contains(n,this.focusOffset))&&n!==this.exclude}newSub(){return new SchemaCollector(-1,this.exclude)}}class NoOpSchemaCollector{constructor(){}get schemas(){return[]}add(n){}merge(n){}include(n){return!0}newSub(){return this}}NoOpSchemaCollector.instance=new NoOpSchemaCollector;class ValidationResult{constructor(){this.problems=[],this.propertiesMatches=0,this.processedProperties=new Set,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=void 0}hasProblems(){return!!this.problems.length}merge(n){this.problems=this.problems.concat(n.problems),this.propertiesMatches+=n.propertiesMatches,this.propertiesValueMatches+=n.propertiesValueMatches,this.mergeProcessedProperties(n)}mergeEnumValues(n){!this.enumValueMatch&&!n.enumValueMatch&&this.enumValues&&n.enumValues&&(this.enumValues=this.enumValues.concat(n.enumValues))}updateEnumMismatchProblemMessages(){if(!this.enumValueMatch&&this.enumValues)for(const n of this.problems)n.code===P.EnumValueMismatch&&(n.message=U.t("Value is not accepted. Valid values: {0}.",this.enumValues.map(n=>JSON.stringify(n)).join(", ")))}mergePropertyMatch(n){this.problems=this.problems.concat(n.problems),this.propertiesMatches++,(n.enumValueMatch||!n.hasProblems()&&n.propertiesMatches)&&this.propertiesValueMatches++,n.enumValueMatch&&n.enumValues&&1===n.enumValues.length&&this.primaryValueMatches++}mergeProcessedProperties(n){n.processedProperties.forEach(n=>this.processedProperties.add(n))}compare(n){const o=this.hasProblems();return o!==n.hasProblems()?o?-1:1:this.enumValueMatch!==n.enumValueMatch?n.enumValueMatch?-1:1:this.primaryValueMatches!==n.primaryValueMatches?this.primaryValueMatches-n.primaryValueMatches:this.propertiesValueMatches!==n.propertiesValueMatches?this.propertiesValueMatches-n.propertiesValueMatches:this.propertiesMatches-n.propertiesMatches}}function jsonParser_getNodeValue(n){return R(n)}function jsonParser_getNodePath(n){return N(n)}function jsonParser_contains(n,o,i=!1){return o>=n.offset&&o<n.offset+n.length||i&&o===n.offset+n.length}class JSONDocument{constructor(n,o=[],i=[]){this.root=n,this.syntaxErrors=o,this.comments=i}getNodeFromOffset(n,o=!1){if(this.root)return D(this.root,n,o)}visit(n){if(this.root){const doVisit=o=>{let i=n(o);const s=o.children;if(Array.isArray(s))for(let n=0;n<s.length&&i;n++)i=doVisit(s[n]);return i};doVisit(this.root)}}validate(n,o,i=F.DiagnosticSeverity.Warning,s){if(this.root&&o){const c=new ValidationResult;return validate(this.root,o,c,NoOpSchemaCollector.instance,new EvaluationContext(s??getSchemaDraft(o))),c.problems.map(o=>{const s=F.Range.create(n.positionAt(o.location.offset),n.positionAt(o.location.offset+o.location.length));return F.Diagnostic.create(s,o.message,o.severity??i,o.code)})}}getMatchingSchemas(n,o=-1,i){if(this.root&&n){const s=new SchemaCollector(o,i),c=getSchemaDraft(n),h=new EvaluationContext(c);return validate(this.root,n,new ValidationResult,s,h),s.schemas}return[]}}function getSchemaDraft(n,o=M.v2020_12){let i=n.$schema;return i?getSchemaDraftFromId(i)??o:o}function validate(n,o,i,s,c){if(!n||!s.include(n))return;if("property"===n.type)return validate(n.valueNode,o,i,s,c);const h=n;switch(function _validateNode(){function matchesType(n){return h.type===n||"integer"===n&&"number"===h.type&&h.isInteger}Array.isArray(o.type)?o.type.some(matchesType)||i.problems.push({location:{offset:h.offset,length:h.length},message:o.errorMessage||U.t("Incorrect type. Expected one of {0}.",o.type.join(", "))}):o.type&&(matchesType(o.type)||i.problems.push({location:{offset:h.offset,length:h.length},message:o.errorMessage||U.t('Incorrect type. Expected "{0}".',o.type)}));if(Array.isArray(o.allOf))for(const n of o.allOf){const o=new ValidationResult,f=s.newSub();validate(h,asSchema(n),o,f,c),i.merge(o),s.merge(f)}const n=asSchema(o.not);if(n){const f=new ValidationResult,E=s.newSub();validate(h,n,f,E,c),f.hasProblems()||i.problems.push({location:{offset:h.offset,length:h.length},message:o.errorMessage||U.t("Matches a schema that is not allowed.")});for(const n of E.schemas)n.inverted=!n.inverted,s.add(n)}const testAlternatives=(n,o)=>{const f=[];let E;for(const i of n){const n=asSchema(i),S=new ValidationResult,A=s.newSub();if(validate(h,n,S,A,c),S.hasProblems()||f.push(n),E)if(o||S.hasProblems()||E.validationResult.hasProblems()){const o=S.compare(E.validationResult);o>0?E={schema:n,validationResult:S,matchingSchemas:A}:0===o&&(E.matchingSchemas.merge(A),E.validationResult.mergeEnumValues(S))}else E.matchingSchemas.merge(A),E.validationResult.propertiesMatches+=S.propertiesMatches,E.validationResult.propertiesValueMatches+=S.propertiesValueMatches,E.validationResult.mergeProcessedProperties(S);else E={schema:n,validationResult:S,matchingSchemas:A}}return f.length>1&&o&&i.problems.push({location:{offset:h.offset,length:1},message:U.t("Matches multiple schemas when only one must validate.")}),E&&(E.validationResult.updateEnumMismatchProblemMessages(),i.merge(E.validationResult),s.merge(E.matchingSchemas)),f.length};Array.isArray(o.anyOf)&&testAlternatives(o.anyOf,!1);Array.isArray(o.oneOf)&&testAlternatives(o.oneOf,!0);const testBranch=n=>{const o=new ValidationResult,f=s.newSub();validate(h,asSchema(n),o,f,c),i.merge(o),s.merge(f)},f=asSchema(o.if);f&&((n,o,f)=>{const E=asSchema(n),S=new ValidationResult,A=s.newSub();validate(h,E,S,A,c),s.merge(A),i.mergeProcessedProperties(S),S.hasProblems()?f&&testBranch(f):o&&testBranch(o)})(f,asSchema(o.then),asSchema(o.else));if(Array.isArray(o.enum)){const n=jsonParser_getNodeValue(h);let s=!1;for(const i of o.enum)if(equals(n,i)){s=!0;break}i.enumValues=o.enum,i.enumValueMatch=s,s||i.problems.push({location:{offset:h.offset,length:h.length},code:P.EnumValueMismatch,message:o.errorMessage||U.t("Value is not accepted. Valid values: {0}.",o.enum.map(n=>JSON.stringify(n)).join(", "))})}if(isDefined(o.const)){equals(jsonParser_getNodeValue(h),o.const)?i.enumValueMatch=!0:(i.problems.push({location:{offset:h.offset,length:h.length},code:P.EnumValueMismatch,message:o.errorMessage||U.t("Value must be {0}.",JSON.stringify(o.const))}),i.enumValueMatch=!1),i.enumValues=[o.const]}let E=o.deprecationMessage;if(E||o.deprecated){E=E||U.t("Value is deprecated");let n="property"===h.parent?.type?h.parent:h;i.problems.push({location:{offset:n.offset,length:n.length},severity:F.DiagnosticSeverity.Warning,message:E,code:P.Deprecated})}}(),h.type){case"object":!function _validateObjectNode(n){const h=Object.create(null),f=new Set;for(const o of n.properties){const n=o.keyNode.value;h[n]=o.valueNode,f.add(n)}if(Array.isArray(o.required))for(const s of o.required)if(!h[s]){const o=n.parent&&"property"===n.parent.type&&n.parent.keyNode,c=o?{offset:o.offset,length:o.length}:{offset:n.offset,length:1};i.problems.push({location:c,message:U.t('Missing property "{0}".',s)})}const propertyProcessed=n=>{f.delete(n),i.processedProperties.add(n)};if(o.properties)for(const n of Object.keys(o.properties)){propertyProcessed(n);const f=o.properties[n],E=h[n];if(E)if(isBoolean(f))if(f)i.propertiesMatches++,i.propertiesValueMatches++;else{const s=E.parent;i.problems.push({location:{offset:s.keyNode.offset,length:s.keyNode.length},message:o.errorMessage||U.t("Property {0} is not allowed.",n)})}else{const n=new ValidationResult;validate(E,f,n,s,c),i.mergePropertyMatch(n)}}if(o.patternProperties)for(const n of Object.keys(o.patternProperties)){const E=extendedRegExp(n);if(E){const S=[];for(const A of f)if(E.test(A)){S.push(A);const f=h[A];if(f){const h=o.patternProperties[n];if(isBoolean(h))if(h)i.propertiesMatches++,i.propertiesValueMatches++;else{const n=f.parent;i.problems.push({location:{offset:n.keyNode.offset,length:n.keyNode.length},message:o.errorMessage||U.t("Property {0} is not allowed.",A)})}else{const n=new ValidationResult;validate(f,h,n,s,c),i.mergePropertyMatch(n)}}}S.forEach(propertyProcessed)}}const E=o.additionalProperties;if(void 0!==E)for(const n of f){propertyProcessed(n);const f=h[n];if(f)if(!1===E){const s=f.parent;i.problems.push({location:{offset:s.keyNode.offset,length:s.keyNode.length},message:o.errorMessage||U.t("Property {0} is not allowed.",n)})}else if(!0!==E){const n=new ValidationResult;validate(f,E,n,s,c),i.mergePropertyMatch(n)}}const S=o.unevaluatedProperties;if(void 0!==S){const n=[];for(const E of f)if(!i.processedProperties.has(E)){n.push(E);const f=h[E];if(f)if(!1===S){const n=f.parent;i.problems.push({location:{offset:n.keyNode.offset,length:n.keyNode.length},message:o.errorMessage||U.t("Property {0} is not allowed.",E)})}else if(!0!==S){const n=new ValidationResult;validate(f,S,n,s,c),i.mergePropertyMatch(n)}}n.forEach(propertyProcessed)}isNumber(o.maxProperties)&&n.properties.length>o.maxProperties&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Object has more properties than limit of {0}.",o.maxProperties)});isNumber(o.minProperties)&&n.properties.length<o.minProperties&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Object has fewer properties than the required number of {0}",o.minProperties)});if(o.dependentRequired)for(const n in o.dependentRequired){const i=h[n],s=o.dependentRequired[n];i&&Array.isArray(s)&&_validatePropertyDependencies(n,s)}if(o.dependentSchemas)for(const n in o.dependentSchemas){const i=h[n],s=o.dependentSchemas[n];i&&isObject(s)&&_validatePropertyDependencies(n,s)}if(o.dependencies)for(const n in o.dependencies){h[n]&&_validatePropertyDependencies(n,o.dependencies[n])}const A=asSchema(o.propertyNames);if(A)for(const o of n.properties){const n=o.keyNode;n&&validate(n,A,i,NoOpSchemaCollector.instance,c)}function _validatePropertyDependencies(o,f){if(Array.isArray(f))for(const s of f)h[s]?i.propertiesValueMatches++:i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Object is missing property {0} required by property {1}.",s,o)});else{const o=asSchema(f);if(o){const h=new ValidationResult;validate(n,o,h,s,c),i.mergePropertyMatch(h)}}}}(h);break;case"array":!function _validateArrayNode(n){let h,f;c.schemaDraft>=M.v2020_12?(h=o.prefixItems,f=Array.isArray(o.items)?void 0:o.items):(h=Array.isArray(o.items)?o.items:void 0,f=Array.isArray(o.items)?o.additionalItems:o.items);let E=0;if(void 0!==h){const O=Math.min(h.length,n.items.length);for(;E<O;E++){const T=asSchema(h[E]),_=new ValidationResult,D=n.items[E];D&&(validate(D,T,_,s,c),i.mergePropertyMatch(_)),i.processedProperties.add(String(E))}}if(void 0!==f&&E<n.items.length)if("boolean"==typeof f)for(!1===f&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Array has too many items according to schema. Expected {0} or fewer.",E)});E<n.items.length;E++)i.processedProperties.add(String(E)),i.propertiesValueMatches++;else for(;E<n.items.length;E++){const N=new ValidationResult;validate(n.items[E],f,N,s,c),i.mergePropertyMatch(N),i.processedProperties.add(String(E))}const S=asSchema(o.contains);if(S){let R=0;for(let x=0;x<n.items.length;x++){const P=n.items[x],I=new ValidationResult;validate(P,S,I,NoOpSchemaCollector.instance,c),I.hasProblems()||(R++,c.schemaDraft>=M.v2020_12&&i.processedProperties.add(String(x)))}0!==R||isNumber(o.minContains)||i.problems.push({location:{offset:n.offset,length:n.length},message:o.errorMessage||U.t("Array does not contain required item.")}),isNumber(o.minContains)&&R<o.minContains&&i.problems.push({location:{offset:n.offset,length:n.length},message:o.errorMessage||U.t("Array has too few items that match the contains contraint. Expected {0} or more.",o.minContains)}),isNumber(o.maxContains)&&R>o.maxContains&&i.problems.push({location:{offset:n.offset,length:n.length},message:o.errorMessage||U.t("Array has too many items that match the contains contraint. Expected {0} or less.",o.maxContains)})}const A=o.unevaluatedItems;if(void 0!==A)for(let B=0;B<n.items.length;B++){if(!i.processedProperties.has(String(B)))if(!1===A)i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Item does not match any validation rule from the array.")});else{const F=new ValidationResult;validate(n.items[B],o.unevaluatedItems,F,s,c),i.mergePropertyMatch(F)}i.processedProperties.add(String(B)),i.propertiesValueMatches++}isNumber(o.minItems)&&n.items.length<o.minItems&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Array has too few items. Expected {0} or more.",o.minItems)});isNumber(o.maxItems)&&n.items.length>o.maxItems&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Array has too many items. Expected {0} or fewer.",o.maxItems)});if(!0===o.uniqueItems){const L=jsonParser_getNodeValue(n);function hasDuplicates(){for(let n=0;n<L.length-1;n++){const o=L[n];for(let i=n+1;i<L.length;i++)if(equals(o,L[i]))return!0}return!1}hasDuplicates()&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Array has duplicate items.")})}}(h);break;case"string":!function _validateStringNode(n){isNumber(o.minLength)&&stringLength(n.value)<o.minLength&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("String is shorter than the minimum length of {0}.",o.minLength)});isNumber(o.maxLength)&&stringLength(n.value)>o.maxLength&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("String is longer than the maximum length of {0}.",o.maxLength)});if(isString(o.pattern)){const s=extendedRegExp(o.pattern);s&&!s.test(n.value)&&i.problems.push({location:{offset:n.offset,length:n.length},message:o.patternErrorMessage||o.errorMessage||U.t('String does not match the pattern of "{0}".',o.pattern)})}if(o.format)switch(o.format){case"uri":case"uri-reference":{let s;if(n.value){const i=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(n.value);i?i[2]||"uri"!==o.format||(s=U.t("URI with a scheme is expected.")):s=U.t("URI is expected.")}else s=U.t("URI expected.");s&&i.problems.push({location:{offset:n.offset,length:n.length},message:o.patternErrorMessage||o.errorMessage||U.t("String is not a URI: {0}",s)})}break;case"color-hex":case"date-time":case"date":case"time":case"email":case"hostname":case"ipv4":case"ipv6":const s=z[o.format];n.value&&s.pattern.exec(n.value)||i.problems.push({location:{offset:n.offset,length:n.length},message:o.patternErrorMessage||o.errorMessage||s.errorMessage})}}(h);break;case"number":!function _validateNumberNode(n){const s=n.value;function normalizeFloats(n){const o=/^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(n.toString());return o&&{value:Number(o[1]+(o[2]||"")),multiplier:(o[2]?.length||0)-(parseInt(o[3])||0)}}if(isNumber(o.multipleOf)){let c=-1;if(Number.isInteger(o.multipleOf))c=s%o.multipleOf;else{let n=normalizeFloats(o.multipleOf),i=normalizeFloats(s);if(n&&i){const o=10**Math.abs(i.multiplier-n.multiplier);i.multiplier<n.multiplier?i.value*=o:n.value*=o,c=i.value%n.value}}0!==c&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Value is not divisible by {0}.",o.multipleOf)})}function getExclusiveLimit(n,o){return isNumber(o)?o:isBoolean(o)&&o?n:void 0}function getLimit(n,o){if(!isBoolean(o)||!o)return n}const c=getExclusiveLimit(o.minimum,o.exclusiveMinimum);isNumber(c)&&s<=c&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Value is below the exclusive minimum of {0}.",c)});const h=getExclusiveLimit(o.maximum,o.exclusiveMaximum);isNumber(h)&&s>=h&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Value is above the exclusive maximum of {0}.",h)});const f=getLimit(o.minimum,o.exclusiveMinimum);isNumber(f)&&s<f&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Value is below the minimum of {0}.",f)});const E=getLimit(o.maximum,o.exclusiveMaximum);isNumber(E)&&s>E&&i.problems.push({location:{offset:n.offset,length:n.length},message:U.t("Value is above the maximum of {0}.",E)})}(h)}s.add({node:h,schema:o})}function jsonParser_parse(n,o){const i=[];let s=-1;const c=n.getText(),h=A(c,!1),f=o&&o.collectComments?[]:void 0;function _scanNext(){for(;;){const o=h.scan();switch(_checkScanError(),o){case 12:case 13:Array.isArray(f)&&f.push(F.Range.create(n.positionAt(h.getTokenOffset()),n.positionAt(h.getTokenOffset()+h.getTokenLength())));break;case 15:case 14:break;default:return o}}}function _errorAtRange(o,c,h,f,E=F.DiagnosticSeverity.Error){if(0===i.length||h!==s){const S=F.Range.create(n.positionAt(h),n.positionAt(f));i.push(F.Diagnostic.create(S,o,E,c,n.languageId)),s=h}}function _error(n,o,i=void 0,s=[],f=[]){let E=h.getTokenOffset(),S=h.getTokenOffset()+h.getTokenLength();if(E===S&&E>0){for(E--;E>0&&/\s/.test(c.charAt(E));)E--;S=E+1}if(_errorAtRange(n,o,E,S),i&&_finalize(i,!1),s.length+f.length>0){let n=h.getToken();for(;17!==n;){if(-1!==s.indexOf(n)){_scanNext();break}if(-1!==f.indexOf(n))break;n=_scanNext()}}return i}function _checkScanError(){switch(h.getTokenError()){case 4:return _error(U.t("Invalid unicode sequence in string."),P.InvalidUnicode),!0;case 5:return _error(U.t("Invalid escape character in string."),P.InvalidEscapeCharacter),!0;case 3:return _error(U.t("Unexpected end of number."),P.UnexpectedEndOfNumber),!0;case 1:return _error(U.t("Unexpected end of comment."),P.UnexpectedEndOfComment),!0;case 2:return _error(U.t("Unexpected end of string."),P.UnexpectedEndOfString),!0;case 6:return _error(U.t("Invalid characters in string. Control characters must be escaped."),P.InvalidCharacter),!0}return!1}function _finalize(n,o){return n.length=h.getTokenOffset()+h.getTokenLength()-n.offset,o&&_scanNext(),n}const E=new StringASTNodeImpl(void 0,0,0);function _parseProperty(o,i){const s=new PropertyASTNodeImpl(o,h.getTokenOffset(),E);let c=_parseString(s);if(!c){if(16!==h.getToken())return;{_error(U.t("Property keys must be doublequoted"),P.PropertyKeysMustBeDoublequoted);const n=new StringASTNodeImpl(s,h.getTokenOffset(),h.getTokenLength());n.value=h.getTokenValue(),c=n,_scanNext()}}if(s.keyNode=c,"//"!==c.value){const n=i[c.value];n?(_errorAtRange(U.t("Duplicate object key"),P.DuplicateKey,s.keyNode.offset,s.keyNode.offset+s.keyNode.length,F.DiagnosticSeverity.Warning),isObject(n)&&_errorAtRange(U.t("Duplicate object key"),P.DuplicateKey,n.keyNode.offset,n.keyNode.offset+n.keyNode.length,F.DiagnosticSeverity.Warning),i[c.value]=!0):i[c.value]=s}if(6===h.getToken())s.colonOffset=h.getTokenOffset(),_scanNext();else if(_error(U.t("Colon expected"),P.ColonExpected),10===h.getToken()&&n.positionAt(c.offset+c.length).line<n.positionAt(h.getTokenOffset()).line)return s.length=c.length,s;const f=_parseValue(s);return f?(s.valueNode=f,s.length=f.offset+f.length-s.offset,s):_error(U.t("Value expected"),P.ValueExpected,s,[],[2,5])}function _parseString(n){if(10!==h.getToken())return;const o=new StringASTNodeImpl(n,h.getTokenOffset());return o.value=h.getTokenValue(),_finalize(o,!0)}function _parseValue(n){return function _parseArray(n){if(3!==h.getToken())return;const o=new ArrayASTNodeImpl(n,h.getTokenOffset());_scanNext();let i=!1;for(;4!==h.getToken()&&17!==h.getToken();){if(5===h.getToken()){i||_error(U.t("Value expected"),P.ValueExpected);const n=h.getTokenOffset();if(_scanNext(),4===h.getToken()){i&&_errorAtRange(U.t("Trailing comma"),P.TrailingComma,n,n+1);continue}}else i&&_error(U.t("Expected comma"),P.CommaExpected);const n=_parseValue(o);n?o.items.push(n):_error(U.t("Value expected"),P.ValueExpected,void 0,[],[4,5]),i=!0}return 4!==h.getToken()?_error(U.t("Expected comma or closing bracket"),P.CommaOrCloseBacketExpected,o):_finalize(o,!0)}(n)||function _parseObject(n){if(1!==h.getToken())return;const o=new ObjectASTNodeImpl(n,h.getTokenOffset()),i=Object.create(null);_scanNext();let s=!1;for(;2!==h.getToken()&&17!==h.getToken();){if(5===h.getToken()){s||_error(U.t("Property expected"),P.PropertyExpected);const n=h.getTokenOffset();if(_scanNext(),2===h.getToken()){s&&_errorAtRange(U.t("Trailing comma"),P.TrailingComma,n,n+1);continue}}else s&&_error(U.t("Expected comma"),P.CommaExpected);const n=_parseProperty(o,i);n?o.properties.push(n):_error(U.t("Property expected"),P.PropertyExpected,void 0,[],[2,5]),s=!0}return 2!==h.getToken()?_error(U.t("Expected comma or closing brace"),P.CommaOrCloseBraceExpected,o):_finalize(o,!0)}(n)||_parseString(n)||function _parseNumber(n){if(11!==h.getToken())return;const o=new NumberASTNodeImpl(n,h.getTokenOffset());if(0===h.getTokenError()){const n=h.getTokenValue();try{const i=JSON.parse(n);if(!isNumber(i))return _error(U.t("Invalid number format."),P.Undefined,o);o.value=i}catch(n){return _error(U.t("Invalid number format."),P.Undefined,o)}o.isInteger=-1===n.indexOf(".")}return _finalize(o,!0)}(n)||function _parseLiteral(n){switch(h.getToken()){case 7:return _finalize(new NullASTNodeImpl(n,h.getTokenOffset()),!0);case 8:return _finalize(new BooleanASTNodeImpl(n,!0,h.getTokenOffset()),!0);case 9:return _finalize(new BooleanASTNodeImpl(n,!1,h.getTokenOffset()),!0);default:return}}(n)}let S;return 17!==_scanNext()&&(S=_parseValue(S),S?17!==h.getToken()&&_error(U.t("End of file expected."),P.Undefined):_error(U.t("Expected a JSON object, array or literal."),P.Undefined)),new JSONDocument(S,i,f)}function stringifyObject(n,o,i){if(null!==n&&"object"==typeof n){const s=o+"\t";if(Array.isArray(n)){if(0===n.length)return"[]";let c="[\n";for(let o=0;o<n.length;o++)c+=s+stringifyObject(n[o],s,i),o<n.length-1&&(c+=","),c+="\n";return c+=o+"]",c}{const c=Object.keys(n);if(0===c.length)return"{}";let h="{\n";for(let o=0;o<c.length;o++){const f=c[o];h+=s+JSON.stringify(f)+": "+stringifyObject(n[f],s,i),o<c.length-1&&(h+=","),h+="\n"}return h+=o+"}",h}}return i(n)}class JSONCompletion{constructor(n,o=[],i=Promise,s={}){this.schemaService=n,this.contributions=o,this.promiseConstructor=i,this.clientCapabilities=s}doResolve(n){for(let o=this.contributions.length-1;o>=0;o--){const i=this.contributions[o].resolveCompletion;if(i){const o=i(n);if(o)return o}}return this.promiseConstructor.resolve(n)}doComplete(n,o,i){const s={items:[],isIncomplete:!1},c=n.getText(),h=n.offsetAt(o);let f=i.getNodeFromOffset(h,!0);if(this.isInComment(n,f?f.offset:0,h))return Promise.resolve(s);if(f&&h===f.offset+f.length&&h>0){const n=c[h-1];("object"===f.type&&"}"===n||"array"===f.type&&"]"===n)&&(f=f.parent)}const E=this.getCurrentWord(n,h);let S;if(!f||"string"!==f.type&&"number"!==f.type&&"boolean"!==f.type&&"null"!==f.type){let i=h-E.length;i>0&&'"'===c[i-1]&&i--,S=F.Range.create(n.positionAt(i),o)}else S=F.Range.create(n.positionAt(f.offset),n.positionAt(f.offset+f.length));const A=new Map,O={add:n=>{let o=n.label;const i=A.get(o);if(i)i.documentation||(i.documentation=n.documentation),i.detail||(i.detail=n.detail),i.labelDetails||(i.labelDetails=n.labelDetails);else{if(o=o.replace(/[\n]/g,""),o.length>60){const n=o.substr(0,57).trim()+"...";A.has(n)||(o=n)}n.textEdit=F.TextEdit.replace(S,n.insertText),n.label=o,A.set(o,n),s.items.push(n)}},setAsIncomplete:()=>{s.isIncomplete=!0},error:n=>{console.error(n)},getNumberOfProposals:()=>s.items.length};return this.schemaService.getSchemaForResource(n.uri,i).then(o=>{const T=[];let _,D=!0,N="";if(f&&"string"===f.type){const n=f.parent;n&&"property"===n.type&&n.keyNode===f&&(D=!n.valueNode,_=n,N=c.substr(f.offset+1,f.length-2),n&&(f=n.parent))}if(f&&"object"===f.type){if(f.offset===h)return s;f.properties.forEach(n=>{_&&_===n||A.set(n.keyNode.value,F.CompletionItem.create("__"))});let R="";D&&(R=this.evaluateSeparatorAfter(n,n.offsetAt(S.end))),o?this.getPropertyCompletions(o,i,f,D,R,O):this.getSchemaLessPropertyCompletions(i,f,N,O);const x=jsonParser_getNodePath(f);this.contributions.forEach(o=>{const i=o.collectPropertyCompletions(n.uri,x,E,D,""===R,O);i&&T.push(i)}),!o&&E.length>0&&'"'!==c.charAt(h-E.length-1)&&(O.add({kind:F.CompletionItemKind.Property,label:this.getLabelForValue(E),insertText:this.getInsertTextForProperty(E,void 0,!1,R),insertTextFormat:F.InsertTextFormat.Snippet,documentation:""}),O.setAsIncomplete())}const R={};return o?this.getValueCompletions(o,i,f,h,n,O,R):this.getSchemaLessValueCompletions(i,f,h,n,O),this.contributions.length>0&&this.getContributedValueCompletions(i,f,h,n,O,T),this.promiseConstructor.all(T).then(()=>{if(0===O.getNumberOfProposals()){let o=h;!f||"string"!==f.type&&"number"!==f.type&&"boolean"!==f.type&&"null"!==f.type||(o=f.offset+f.length);const i=this.evaluateSeparatorAfter(n,o);this.addFillerValueCompletions(R,i,O)}return s})})}getPropertyCompletions(n,o,i,s,c,h){o.getMatchingSchemas(n.schema,i.offset).forEach(n=>{if(n.node===i&&!n.inverted){const o=n.schema.properties;o&&Object.keys(o).forEach(n=>{const i=o[n];if("object"==typeof i&&!i.deprecationMessage&&!i.doNotSuggest){const o={kind:F.CompletionItemKind.Property,label:n,insertText:this.getInsertTextForProperty(n,i,s,c),insertTextFormat:F.InsertTextFormat.Snippet,filterText:this.getFilterTextForValue(n),documentation:this.fromMarkup(i.markdownDescription)||i.description||""};void 0!==i.completionDetail&&(o.detail=i.completionDetail),void 0!==i.suggestSortText&&(o.sortText=i.suggestSortText),o.insertText&&endsWith(o.insertText,`$1${c}`)&&(o.command={title:"Suggest",command:"editor.action.triggerSuggest"}),h.add(o)}});const i=n.schema.propertyNames;if("object"==typeof i&&!i.deprecationMessage&&!i.doNotSuggest){const propertyNameCompletionItem=(n,o,f,E)=>{const S={kind:F.CompletionItemKind.Property,label:n,insertText:this.getInsertTextForProperty(n,void 0,s,c),insertTextFormat:F.InsertTextFormat.Snippet,filterText:this.getFilterTextForValue(n),documentation:o||this.fromMarkup(i.markdownDescription)||i.description||"",sortText:E,detail:f};S.insertText&&endsWith(S.insertText,`$1${c}`)&&(S.command={title:"Suggest",command:"editor.action.triggerSuggest"}),h.add(S)};if(i.enum)for(let n=0;n<i.enum.length;n++){let o;i.markdownEnumDescriptions&&n<i.markdownEnumDescriptions.length?o=this.fromMarkup(i.markdownEnumDescriptions[n]):i.enumDescriptions&&n<i.enumDescriptions.length&&(o=i.enumDescriptions[n]);const s=i.enumSortTexts?.[n],c=i.enumDetails?.[n];propertyNameCompletionItem(i.enum[n],o,c,s)}i.const&&propertyNameCompletionItem(i.const,void 0,i.completionDetail,i.suggestSortText)}}})}getSchemaLessPropertyCompletions(n,o,i,s){const collectCompletionsForSimilarObject=n=>{n.properties.forEach(n=>{const o=n.keyNode.value;s.add({kind:F.CompletionItemKind.Property,label:o,insertText:this.getInsertTextForValue(o,""),insertTextFormat:F.InsertTextFormat.Snippet,filterText:this.getFilterTextForValue(o),documentation:""})})};if(o.parent)if("property"===o.parent.type){const i=o.parent.keyNode.value;n.visit(n=>("property"===n.type&&n!==o.parent&&n.keyNode.value===i&&n.valueNode&&"object"===n.valueNode.type&&collectCompletionsForSimilarObject(n.valueNode),!0))}else"array"===o.parent.type&&o.parent.items.forEach(n=>{"object"===n.type&&n!==o&&collectCompletionsForSimilarObject(n)});else"object"===o.type&&s.add({kind:F.CompletionItemKind.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",void 0,!0,""),insertTextFormat:F.InsertTextFormat.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})}getSchemaLessValueCompletions(n,o,i,s,c){let h=i;if(!o||"string"!==o.type&&"number"!==o.type&&"boolean"!==o.type&&"null"!==o.type||(h=o.offset+o.length,o=o.parent),!o)return c.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:F.InsertTextFormat.Snippet,documentation:""}),void c.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:F.InsertTextFormat.Snippet,documentation:""});const f=this.evaluateSeparatorAfter(s,h),collectSuggestionsForValues=n=>{n.parent&&!jsonParser_contains(n.parent,i,!0)&&c.add({kind:this.getSuggestionKind(n.type),label:this.getLabelTextForMatchingNode(n,s),insertText:this.getInsertTextForMatchingNode(n,s,f),insertTextFormat:F.InsertTextFormat.Snippet,documentation:""}),"boolean"===n.type&&this.addBooleanValueCompletion(!n.value,f,c)};if("property"===o.type&&i>(o.colonOffset||0)){const s=o.valueNode;if(s&&(i>s.offset+s.length||"object"===s.type||"array"===s.type))return;const h=o.keyNode.value;n.visit(n=>("property"===n.type&&n.keyNode.value===h&&n.valueNode&&collectSuggestionsForValues(n.valueNode),!0)),"$schema"===h&&o.parent&&!o.parent.parent&&this.addDollarSchemaCompletions(f,c)}if("array"===o.type)if(o.parent&&"property"===o.parent.type){const i=o.parent.keyNode.value;n.visit(n=>("property"===n.type&&n.keyNode.value===i&&n.valueNode&&"array"===n.valueNode.type&&n.valueNode.items.forEach(collectSuggestionsForValues),!0))}else o.items.forEach(collectSuggestionsForValues)}getValueCompletions(n,o,i,s,c,h,f){let E,S,A=s;if(!i||"string"!==i.type&&"number"!==i.type&&"boolean"!==i.type&&"null"!==i.type||(A=i.offset+i.length,S=i,i=i.parent),i){if("property"===i.type&&s>(i.colonOffset||0)){const n=i.valueNode;if(n&&s>n.offset+n.length)return;E=i.keyNode.value,i=i.parent}if(i&&(void 0!==E||"array"===i.type)){const O=this.evaluateSeparatorAfter(c,A),T=o.getMatchingSchemas(n.schema,i.offset,S);for(const n of T)if(n.node===i&&!n.inverted&&n.schema){if("array"===i.type&&n.schema.items){let o=h;if(n.schema.uniqueItems){const n=new Set;i.children.forEach(o=>{"array"!==o.type&&"object"!==o.type&&n.add(this.getLabelForValue(jsonParser_getNodeValue(o)))}),o={...h,add(o){n.has(o.label)||h.add(o)}}}if(Array.isArray(n.schema.items)){const h=this.findItemAtOffset(i,c,s);h<n.schema.items.length&&this.addSchemaValueCompletions(n.schema.items[h],O,o,f)}else this.addSchemaValueCompletions(n.schema.items,O,o,f)}if(void 0!==E){let o=!1;if(n.schema.properties){const i=n.schema.properties[E];i&&(o=!0,this.addSchemaValueCompletions(i,O,h,f))}if(n.schema.patternProperties&&!o)for(const i of Object.keys(n.schema.patternProperties)){const s=extendedRegExp(i);if(s?.test(E)){o=!0;const s=n.schema.patternProperties[i];this.addSchemaValueCompletions(s,O,h,f)}}if(n.schema.additionalProperties&&!o){const o=n.schema.additionalProperties;this.addSchemaValueCompletions(o,O,h,f)}}}"$schema"!==E||i.parent||this.addDollarSchemaCompletions(O,h),f.boolean&&(this.addBooleanValueCompletion(!0,O,h),this.addBooleanValueCompletion(!1,O,h)),f.null&&this.addNullValueCompletion(O,h)}}else this.addSchemaValueCompletions(n.schema,"",h,f)}getContributedValueCompletions(n,o,i,s,c,h){if(o){if("string"!==o.type&&"number"!==o.type&&"boolean"!==o.type&&"null"!==o.type||(o=o.parent),o&&"property"===o.type&&i>(o.colonOffset||0)){const n=o.keyNode.value,f=o.valueNode;if((!f||i<=f.offset+f.length)&&o.parent){const i=jsonParser_getNodePath(o.parent);this.contributions.forEach(o=>{const f=o.collectValueCompletions(s.uri,i,n,c);f&&h.push(f)})}}}else this.contributions.forEach(n=>{const o=n.collectDefaultCompletions(s.uri,c);o&&h.push(o)})}addSchemaValueCompletions(n,o,i,s){"object"==typeof n&&(this.addEnumValueCompletions(n,o,i),this.addDefaultValueCompletions(n,o,i),this.collectTypes(n,s),Array.isArray(n.allOf)&&n.allOf.forEach(n=>this.addSchemaValueCompletions(n,o,i,s)),Array.isArray(n.anyOf)&&n.anyOf.forEach(n=>this.addSchemaValueCompletions(n,o,i,s)),Array.isArray(n.oneOf)&&n.oneOf.forEach(n=>this.addSchemaValueCompletions(n,o,i,s)))}addDefaultValueCompletions(n,o,i,s=0){let c=!1;if(isDefined(n.default)){let h=n.type,f=n.default;for(let n=s;n>0;n--)f=[f],h="array";const E={kind:this.getSuggestionKind(h),label:this.getLabelForValue(f),insertText:this.getInsertTextForValue(f,o),insertTextFormat:F.InsertTextFormat.Snippet};this.doesSupportsLabelDetails()?E.labelDetails={description:U.t("Default value")}:E.detail=U.t("Default value"),i.add(E),c=!0}Array.isArray(n.examples)&&n.examples.forEach(h=>{let f=n.type,E=h;for(let n=s;n>0;n--)E=[E],f="array";i.add({kind:this.getSuggestionKind(f),label:this.getLabelForValue(E),insertText:this.getInsertTextForValue(E,o),insertTextFormat:F.InsertTextFormat.Snippet}),c=!0}),Array.isArray(n.defaultSnippets)&&n.defaultSnippets.forEach(h=>{let f,E,S=n.type,A=h.body,O=h.label;if(isDefined(A)){let i=n.type;for(let n=s;n>0;n--)A=[A],i="array";f=this.getInsertTextForSnippetValue(A,o),E=this.getFilterTextForSnippetValue(A),O=O||this.getLabelForSnippetValue(A)}else{if("string"!=typeof h.bodyText)return;{let n="",i="",c="";for(let o=s;o>0;o--)n=n+c+"[\n",i=i+"\n"+c+"]",c+="\t",S="array";f=n+c+h.bodyText.split("\n").join("\n"+c)+i+o,O=O||f,E=f.replace(/[\n]/g,"")}}i.add({kind:this.getSuggestionKind(S),label:O,documentation:this.fromMarkup(h.markdownDescription)||h.description,insertText:f,insertTextFormat:F.InsertTextFormat.Snippet,filterText:E}),c=!0}),!c&&"object"==typeof n.items&&!Array.isArray(n.items)&&s<5&&this.addDefaultValueCompletions(n.items,o,i,s+1)}addEnumValueCompletions(n,o,i){if(isDefined(n.const)&&i.add({kind:this.getSuggestionKind(n.type),label:this.getLabelForValue(n.const),insertText:this.getInsertTextForValue(n.const,o),insertTextFormat:F.InsertTextFormat.Snippet,documentation:this.fromMarkup(n.markdownDescription)||n.description}),Array.isArray(n.enum))for(let s=0,c=n.enum.length;s<c;s++){const c=n.enum[s];let h=this.fromMarkup(n.markdownDescription)||n.description;n.markdownEnumDescriptions&&s<n.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?h=this.fromMarkup(n.markdownEnumDescriptions[s]):n.enumDescriptions&&s<n.enumDescriptions.length&&(h=n.enumDescriptions[s]),i.add({kind:this.getSuggestionKind(n.type),label:this.getLabelForValue(c),insertText:this.getInsertTextForValue(c,o),insertTextFormat:F.InsertTextFormat.Snippet,sortText:n.enumSortTexts?.[s],detail:n.enumDetails?.[s],documentation:h})}}collectTypes(n,o){if(Array.isArray(n.enum)||isDefined(n.const))return;const i=n.type;Array.isArray(i)?i.forEach(n=>o[n]=!0):i&&(o[i]=!0)}addFillerValueCompletions(n,o,i){n.object&&i.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},o),insertTextFormat:F.InsertTextFormat.Snippet,detail:U.t("New object"),documentation:""}),n.array&&i.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],o),insertTextFormat:F.InsertTextFormat.Snippet,detail:U.t("New array"),documentation:""})}addBooleanValueCompletion(n,o,i){i.add({kind:this.getSuggestionKind("boolean"),label:n?"true":"false",insertText:this.getInsertTextForValue(n,o),insertTextFormat:F.InsertTextFormat.Snippet,documentation:""})}addNullValueCompletion(n,o){o.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+n,insertTextFormat:F.InsertTextFormat.Snippet,documentation:""})}addDollarSchemaCompletions(n,o){this.schemaService.getRegisteredSchemaIds(n=>"http"===n||"https"===n).forEach(i=>{i.startsWith("https://json-schema.org/draft-")&&(i+="#"),o.add({kind:F.CompletionItemKind.Module,label:this.getLabelForValue(i),filterText:this.getFilterTextForValue(i),insertText:this.getInsertTextForValue(i,n),insertTextFormat:F.InsertTextFormat.Snippet,documentation:""})})}getLabelForValue(n){return JSON.stringify(n)}getValueFromLabel(n){return JSON.parse(n)}getFilterTextForValue(n){return JSON.stringify(n)}getFilterTextForSnippetValue(n){return JSON.stringify(n).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getLabelForSnippetValue(n){return JSON.stringify(n).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getInsertTextForPlainText(n){return n.replace(/[\\\$\}]/g,"\\$&")}getInsertTextForValue(n,o){const i=JSON.stringify(n,null,"\t");return"{}"===i?"{$1}"+o:"[]"===i?"[$1]"+o:this.getInsertTextForPlainText(i+o)}getInsertTextForSnippetValue(n,o){return stringifyObject(n,"",n=>"string"==typeof n&&"^"===n[0]?n.substr(1):JSON.stringify(n))+o}getInsertTextForGuessedValue(n,o){switch(typeof n){case"object":return null===n?"${1:null}"+o:this.getInsertTextForValue(n,o);case"string":let i=JSON.stringify(n);return i=i.substr(1,i.length-2),i=this.getInsertTextForPlainText(i),'"${1:'+i+'}"'+o;case"number":case"boolean":return"${1:"+JSON.stringify(n)+"}"+o}return this.getInsertTextForValue(n,o)}getSuggestionKind(n){if(Array.isArray(n)){const o=n;n=o.length>0?o[0]:void 0}if(!n)return F.CompletionItemKind.Value;switch(n){case"string":default:return F.CompletionItemKind.Value;case"object":return F.CompletionItemKind.Module;case"property":return F.CompletionItemKind.Property}}getLabelTextForMatchingNode(n,o){switch(n.type){case"array":return"[]";case"object":return"{}";default:return o.getText().substr(n.offset,n.length)}}getInsertTextForMatchingNode(n,o,i){switch(n.type){case"array":return this.getInsertTextForValue([],i);case"object":return this.getInsertTextForValue({},i);default:const s=o.getText().substr(n.offset,n.length)+i;return this.getInsertTextForPlainText(s)}}getInsertTextForProperty(n,o,i,s){const c=this.getInsertTextForValue(n,"");if(!i)return c;const h=c+": ";let f,E=0;if(o){if(Array.isArray(o.defaultSnippets)){if(1===o.defaultSnippets.length){const n=o.defaultSnippets[0].body;isDefined(n)&&(f=this.getInsertTextForSnippetValue(n,""))}E+=o.defaultSnippets.length}if(o.enum&&(f||1!==o.enum.length||(f=this.getInsertTextForGuessedValue(o.enum[0],"")),E+=o.enum.length),isDefined(o.const)&&(f||(f=this.getInsertTextForGuessedValue(o.const,"")),E++),isDefined(o.default)&&(f||(f=this.getInsertTextForGuessedValue(o.default,"")),E++),Array.isArray(o.examples)&&o.examples.length&&(f||(f=this.getInsertTextForGuessedValue(o.examples[0],"")),E+=o.examples.length),0===E){let n=Array.isArray(o.type)?o.type[0]:o.type;switch(n||(o.properties?n="object":o.items&&(n="array")),n){case"boolean":f="$1";break;case"string":f='"$1"';break;case"object":f="{$1}";break;case"array":f="[$1]";break;case"number":case"integer":f="${1:0}";break;case"null":f="${1:null}";break;default:return c}}}return(!f||E>1)&&(f="$1"),h+f+s}getCurrentWord(n,o){let i=o-1;const s=n.getText();for(;i>=0&&-1===' \t\n\r\v":{[,]}'.indexOf(s.charAt(i));)i--;return s.substring(i+1,o)}evaluateSeparatorAfter(n,o){const i=A(n.getText(),!0);i.setPosition(o);switch(i.scan()){case 5:case 2:case 4:case 17:return"";default:return","}}findItemAtOffset(n,o,i){const s=A(o.getText(),!0),c=n.items;for(let n=c.length-1;n>=0;n--){const o=c[n];if(i>o.offset+o.length){s.setPosition(o.offset+o.length);return 5===s.scan()&&i>=s.getTokenOffset()+s.getTokenLength()?n+1:n}if(i>=o.offset)return n}return 0}isInComment(n,o,i){const s=A(n.getText(),!1);s.setPosition(o);let c=s.scan();for(;17!==c&&s.getTokenOffset()+s.getTokenLength()<i;)c=s.scan();return(12===c||13===c)&&s.getTokenOffset()<=i}fromMarkup(n){if(n&&this.doesSupportMarkdown())return{kind:F.MarkupKind.Markdown,value:n}}doesSupportMarkdown(){if(!isDefined(this.supportsMarkdown)){const n=this.clientCapabilities.textDocument?.completion?.completionItem?.documentationFormat;this.supportsMarkdown=Array.isArray(n)&&-1!==n.indexOf(F.MarkupKind.Markdown)}return this.supportsMarkdown}doesSupportsCommitCharacters(){return isDefined(this.supportsCommitCharacters)||(this.labelDetailsSupport=this.clientCapabilities.textDocument?.completion?.completionItem?.commitCharactersSupport),this.supportsCommitCharacters}doesSupportsLabelDetails(){return isDefined(this.labelDetailsSupport)||(this.labelDetailsSupport=this.clientCapabilities.textDocument?.completion?.completionItem?.labelDetailsSupport),this.labelDetailsSupport}}class JSONHover{constructor(n,o=[],i){this.schemaService=n,this.contributions=o,this.promise=i||Promise}doHover(n,o,i){const s=n.offsetAt(o);let c=i.getNodeFromOffset(s);if(!c||("object"===c.type||"array"===c.type)&&s>c.offset+1&&s<c.offset+c.length-1)return this.promise.resolve(null);const h=c;if("string"===c.type){const n=c.parent;if(n&&"property"===n.type&&n.keyNode===c&&(c=n.valueNode,!c))return this.promise.resolve(null)}const f=F.Range.create(n.positionAt(h.offset),n.positionAt(h.offset+h.length)),createHover=n=>({contents:n,range:f}),E=jsonParser_getNodePath(c);for(let o=this.contributions.length-1;o>=0;o--){const i=this.contributions[o].getInfoContribution(n.uri,E);if(i)return i.then(n=>createHover(n))}return this.schemaService.getSchemaForResource(n.uri,i).then(n=>{if(n&&c){let o,s,h,f;i.getMatchingSchemas(n.schema,c.offset).every(n=>{if(n.node===c&&!n.inverted&&n.schema&&(o=o||n.schema.title,s=s||n.schema.markdownDescription||toMarkdown(n.schema.description),n.schema.enum)){const o=n.schema.enum.indexOf(jsonParser_getNodeValue(c));n.schema.markdownEnumDescriptions?h=n.schema.markdownEnumDescriptions[o]:n.schema.enumDescriptions&&(h=toMarkdown(n.schema.enumDescriptions[o])),h&&(f=n.schema.enum[o],"string"!=typeof f&&(f=JSON.stringify(f)))}return!0});let E="";return o&&(E=toMarkdown(o)),s&&(E.length>0&&(E+="\n\n"),E+=s),h&&(E.length>0&&(E+="\n\n"),E+=`\`${function toMarkdownCodeBlock(n){if(-1!==n.indexOf("`"))return"`` "+n+" ``";return n}(f)}\`: ${h}`),createHover([E])}return null})}}function toMarkdown(n){if(n){return n.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,"$1\n\n$3").replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}}class JSONValidation{constructor(n,o){this.jsonSchemaService=n,this.promise=o,this.validationEnabled=!0}configure(n){n&&(this.validationEnabled=!1!==n.validate,this.commentSeverity=n.allowComments?void 0:F.DiagnosticSeverity.Error)}doValidation(n,o,i,s){if(!this.validationEnabled)return this.promise.resolve([]);const c=[],h={},addProblem=n=>{const o=n.range.start.line+" "+n.range.start.character+" "+n.message;h[o]||(h[o]=!0,c.push(n))},getDiagnostics=s=>{let h=i?.trailingCommas?toDiagnosticSeverity(i.trailingCommas):F.DiagnosticSeverity.Error,f=i?.comments?toDiagnosticSeverity(i.comments):this.commentSeverity,E=i?.schemaValidation?toDiagnosticSeverity(i.schemaValidation):F.DiagnosticSeverity.Warning,S=i?.schemaRequest?toDiagnosticSeverity(i.schemaRequest):F.DiagnosticSeverity.Warning;if(s){const addSchemaProblem=(i,s)=>{if(o.root&&S){const c=o.root,h="object"===c.type?c.properties[0]:void 0;if(h&&"$schema"===h.keyNode.value){const o=h.valueNode||h,c=F.Range.create(n.positionAt(o.offset),n.positionAt(o.offset+o.length));addProblem(F.Diagnostic.create(c,i,S,s))}else{const o=F.Range.create(n.positionAt(c.offset),n.positionAt(c.offset+1));addProblem(F.Diagnostic.create(o,i,S,s))}}};if(s.errors.length)addSchemaProblem(s.errors[0],P.SchemaResolveError);else if(E){for(const n of s.warnings)addSchemaProblem(n,P.SchemaUnsupportedFeature);const c=o.validate(n,s.schema,E,i?.schemaDraft);c&&c.forEach(addProblem)}schemaAllowsComments(s.schema)&&(f=void 0),schemaAllowsTrailingCommas(s.schema)&&(h=void 0)}for(const n of o.syntaxErrors){if(n.code===P.TrailingComma){if("number"!=typeof h)continue;n.severity=h}addProblem(n)}if("number"==typeof f){const n=U.t("Comments are not permitted in JSON.");o.comments.forEach(o=>{addProblem(F.Diagnostic.create(o,n,f,P.CommentNotPermitted))})}return c};if(s){const n=s.id||"schemaservice://untitled/"+$++;return this.jsonSchemaService.registerExternalSchema({uri:n,schema:s}).getResolvedSchema().then(n=>getDiagnostics(n))}return this.jsonSchemaService.getSchemaForResource(n.uri,o).then(n=>getDiagnostics(n))}getLanguageStatus(n,o){return{schemas:this.jsonSchemaService.getSchemaURIsForResource(n.uri,o)}}}let $=0;function schemaAllowsComments(n){if(n&&"object"==typeof n){if(isBoolean(n.allowComments))return n.allowComments;if(n.allOf)for(const o of n.allOf){const n=schemaAllowsComments(o);if(isBoolean(n))return n}}}function schemaAllowsTrailingCommas(n){if(n&&"object"==typeof n){if(isBoolean(n.allowTrailingCommas))return n.allowTrailingCommas;const o=n;if(isBoolean(o.allowsTrailingCommas))return o.allowsTrailingCommas;if(n.allOf)for(const o of n.allOf){const n=schemaAllowsTrailingCommas(o);if(isBoolean(n))return n}}}function toDiagnosticSeverity(n){switch(n){case"error":return F.DiagnosticSeverity.Error;case"warning":return F.DiagnosticSeverity.Warning;case"ignore":return}}function hexDigit(n){return n<48?0:n<=57?n-48:(n<97&&(n+=32),n>=97&&n<=102?n-97+10:0)}function colorFromHex(n){if("#"===n[0])switch(n.length){case 4:return{red:17*hexDigit(n.charCodeAt(1))/255,green:17*hexDigit(n.charCodeAt(2))/255,blue:17*hexDigit(n.charCodeAt(3))/255,alpha:1};case 5:return{red:17*hexDigit(n.charCodeAt(1))/255,green:17*hexDigit(n.charCodeAt(2))/255,blue:17*hexDigit(n.charCodeAt(3))/255,alpha:17*hexDigit(n.charCodeAt(4))/255};case 7:return{red:(16*hexDigit(n.charCodeAt(1))+hexDigit(n.charCodeAt(2)))/255,green:(16*hexDigit(n.charCodeAt(3))+hexDigit(n.charCodeAt(4)))/255,blue:(16*hexDigit(n.charCodeAt(5))+hexDigit(n.charCodeAt(6)))/255,alpha:1};case 9:return{red:(16*hexDigit(n.charCodeAt(1))+hexDigit(n.charCodeAt(2)))/255,green:(16*hexDigit(n.charCodeAt(3))+hexDigit(n.charCodeAt(4)))/255,blue:(16*hexDigit(n.charCodeAt(5))+hexDigit(n.charCodeAt(6)))/255,alpha:(16*hexDigit(n.charCodeAt(7))+hexDigit(n.charCodeAt(8)))/255}}}class JSONDocumentSymbols{constructor(n){this.schemaService=n}findDocumentSymbols(n,o,i={resultLimit:Number.MAX_VALUE}){const s=o.root;if(!s)return[];let c=i.resultLimit||Number.MAX_VALUE;const h=n.uri;if(("vscode://defaultsettings/keybindings.json"===h||endsWith(h.toLowerCase(),"/user/keybindings.json"))&&"array"===s.type){const o=[];for(const f of s.items)if("object"===f.type)for(const s of f.properties)if("key"===s.keyNode.value&&s.valueNode){const E=F.Location.create(n.uri,getRange(n,f));if(o.push({name:getName(s.valueNode),kind:F.SymbolKind.Function,location:E}),c--,c<=0)return i&&i.onResultLimitExceeded&&i.onResultLimitExceeded(h),o}return o}const f=[{node:s,containerName:""}];let E=0,S=!1;const A=[],collectOutlineEntries=(o,i)=>{"array"===o.type?o.items.forEach(n=>{n&&f.push({node:n,containerName:i})}):"object"===o.type&&o.properties.forEach(o=>{const s=o.valueNode;if(s)if(c>0){c--;const h=F.Location.create(n.uri,getRange(n,o)),E=i?i+"."+o.keyNode.value:o.keyNode.value;A.push({name:this.getKeyLabel(o),kind:this.getSymbolKind(s.type),location:h,containerName:i}),f.push({node:s,containerName:E})}else S=!0})};for(;E<f.length;){const n=f[E++];collectOutlineEntries(n.node,n.containerName)}return S&&i&&i.onResultLimitExceeded&&i.onResultLimitExceeded(h),A}findDocumentSymbols2(n,o,i={resultLimit:Number.MAX_VALUE}){const s=o.root;if(!s)return[];let c=i.resultLimit||Number.MAX_VALUE;const h=n.uri;if(("vscode://defaultsettings/keybindings.json"===h||endsWith(h.toLowerCase(),"/user/keybindings.json"))&&"array"===s.type){const o=[];for(const f of s.items)if("object"===f.type)for(const s of f.properties)if("key"===s.keyNode.value&&s.valueNode){const E=getRange(n,f),S=getRange(n,s.keyNode);if(o.push({name:getName(s.valueNode),kind:F.SymbolKind.Function,range:E,selectionRange:S}),c--,c<=0)return i&&i.onResultLimitExceeded&&i.onResultLimitExceeded(h),o}return o}const f=[],E=[{node:s,result:f}];let S=0,A=!1;const collectOutlineEntries=(o,i)=>{"array"===o.type?o.items.forEach((o,s)=>{if(o)if(c>0){c--;const h=getRange(n,o),f=h,S={name:String(s),kind:this.getSymbolKind(o.type),range:h,selectionRange:f,children:[]};i.push(S),E.push({result:S.children,node:o})}else A=!0}):"object"===o.type&&o.properties.forEach(o=>{const s=o.valueNode;if(s)if(c>0){c--;const h=getRange(n,o),f=getRange(n,o.keyNode),S=[],A={name:this.getKeyLabel(o),kind:this.getSymbolKind(s.type),range:h,selectionRange:f,children:S,detail:this.getDetail(s)};i.push(A),E.push({result:S,node:s})}else A=!0})};for(;S<E.length;){const n=E[S++];collectOutlineEntries(n.node,n.result)}return A&&i&&i.onResultLimitExceeded&&i.onResultLimitExceeded(h),f}getSymbolKind(n){switch(n){case"object":return F.SymbolKind.Module;case"string":return F.SymbolKind.String;case"number":return F.SymbolKind.Number;case"array":return F.SymbolKind.Array;case"boolean":return F.SymbolKind.Boolean;default:return F.SymbolKind.Variable}}getKeyLabel(n){let o=n.keyNode.value;return o&&(o=o.replace(/[\n]/g,"")),o&&o.trim()?o:`"${o}"`}getDetail(n){if(n)return"boolean"===n.type||"number"===n.type||"null"===n.type||"string"===n.type?String(n.value):"array"===n.type?n.children.length?void 0:"[]":"object"===n.type?n.children.length?void 0:"{}":void 0}findDocumentColors(n,o,i){return this.schemaService.getSchemaForResource(n.uri,o).then(s=>{const c=[];if(s){let h=i&&"number"==typeof i.resultLimit?i.resultLimit:Number.MAX_VALUE;const f=o.getMatchingSchemas(s.schema),E={};for(const o of f)if(!o.inverted&&o.schema&&("color"===o.schema.format||"color-hex"===o.schema.format)&&o.node&&"string"===o.node.type){const s=String(o.node.offset);if(!E[s]){const f=colorFromHex(jsonParser_getNodeValue(o.node));if(f){const i=getRange(n,o.node);c.push({color:f,range:i})}if(E[s]=!0,h--,h<=0)return i&&i.onResultLimitExceeded&&i.onResultLimitExceeded(n.uri),c}}}return c})}getColorPresentations(n,o,i,s){const c=[],h=Math.round(255*i.red),f=Math.round(255*i.green),E=Math.round(255*i.blue);function toTwoDigitHex(n){const o=n.toString(16);return 2!==o.length?"0"+o:o}let S;return S=1===i.alpha?`#${toTwoDigitHex(h)}${toTwoDigitHex(f)}${toTwoDigitHex(E)}`:`#${toTwoDigitHex(h)}${toTwoDigitHex(f)}${toTwoDigitHex(E)}${toTwoDigitHex(Math.round(255*i.alpha))}`,c.push({label:S,textEdit:F.TextEdit.replace(s,JSON.stringify(S))}),c}}function getRange(n,o){return F.Range.create(n.positionAt(o.offset),n.positionAt(o.offset+o.length))}function getName(n){return jsonParser_getNodeValue(n)||U.t("<empty>")}const G={schemaAssociations:[],schemas:{"https://json-schema.org/draft-04/schema":{definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"https://json-schema.org/draft-07/schema":{definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},K={id:U.t("A unique identifier for the schema."),$schema:U.t("The schema to verify this document against."),title:U.t("A descriptive title of the schema."),description:U.t("A long description of the schema. Used in hover menus and suggestions."),default:U.t("A default value. Used by suggestions."),multipleOf:U.t("A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:U.t("The maximum numerical value, inclusive by default."),exclusiveMaximum:U.t("Makes the maximum property exclusive."),minimum:U.t("The minimum numerical value, inclusive by default."),exclusiveMinimum:U.t("Makes the minimum property exclusive."),maxLength:U.t("The maximum length of a string."),minLength:U.t("The minimum length of a string."),pattern:U.t("A regular expression to match the string against. It is not implicitly anchored."),additionalItems:U.t("For arrays, only when items is set as an array. If items are a schema, this schema validates items after the ones specified by the items schema. If false, additional items will cause validation to fail."),items:U.t("For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:U.t("The maximum number of items that can be inside an array. Inclusive."),minItems:U.t("The minimum number of items that can be inside an array. Inclusive."),uniqueItems:U.t("If all of the items in the array must be unique. Defaults to false."),maxProperties:U.t("The maximum number of properties an object can have. Inclusive."),minProperties:U.t("The minimum number of properties an object can have. Inclusive."),required:U.t("An array of strings that lists the names of all properties required on this object."),additionalProperties:U.t("Either a schema or a boolean. If a schema, used to validate all properties not matched by 'properties', 'propertyNames', or 'patternProperties'. If false, any properties not defined by the adajacent keywords will cause this schema to fail."),definitions:U.t("Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:U.t("A map of property names to schemas for each property."),patternProperties:U.t("A map of regular expressions on property names to schemas for matching properties."),dependencies:U.t("A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:U.t("The set of literal values that are valid."),type:U.t("Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:U.t("Describes the format expected for the value. By default, not used for validation"),allOf:U.t("An array of schemas, all of which must match."),anyOf:U.t("An array of schemas, where at least one must match."),oneOf:U.t("An array of schemas, exactly one of which must match."),not:U.t("A schema which must not match."),$id:U.t("A unique identifier for the schema."),$ref:U.t("Reference a definition hosted on any location."),$comment:U.t("Comments from schema authors to readers or maintainers of the schema."),readOnly:U.t("Indicates that the value of the instance is managed exclusively by the owning authority."),examples:U.t("Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:U.t('An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:U.t("If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:U.t("An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:U.t("Describes the media type of a string property."),contentEncoding:U.t("Describes the content encoding of a string property."),if:U.t('The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:U.t('The "then" subschema is used for validation when the "if" subschema succeeds.'),else:U.t('The "else" subschema is used for validation when the "if" subschema fails.')};for(const n in G.schemas){const o=G.schemas[n];for(const n in o.properties){let i=o.properties[n];"boolean"==typeof i&&(i=o.properties[n]={});const s=K[n];s&&(i.description=s)}}function createRegex(n,o){if("string"!=typeof n)throw new TypeError("Expected a string");const i=String(n);let s="";const c=!!o&&!!o.extended,h=!!o&&!!o.globstar;let f=!1;const E=o&&"string"==typeof o.flags?o.flags:"";let S;for(let n=0,o=i.length;n<o;n++)switch(S=i[n],S){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":s+="\\"+S;break;case"?":if(c){s+=".";break}case"[":case"]":if(c){s+=S;break}case"{":if(c){f=!0,s+="(";break}case"}":if(c){f=!1,s+=")";break}case",":if(f){s+="|";break}s+="\\"+S;break;case"*":const o=i[n-1];let E=1;for(;"*"===i[n+1];)E++,n++;const A=i[n+1];if(h){E>1&&("/"===o||void 0===o||"{"===o||","===o)&&("/"===A||void 0===A||","===A||"}"===A)?("/"===A?n++:"/"===o&&s.endsWith("\\/")&&(s=s.substr(0,s.length-2)),s+="((?:[^/]*(?:/|$))*)"):s+="([^/]*)"}else s+=".*";break;default:s+=S}return E&&~E.indexOf("g")||(s="^"+s+"$"),new RegExp(s,E)}class FilePatternAssociation{constructor(n,o,i){this.folderUri=o,this.uris=i,this.globWrappers=[];try{for(let o of n){const n="!"!==o[0];n||(o=o.substring(1)),o.length>0&&("/"===o[0]&&(o=o.substring(1)),this.globWrappers.push({regexp:createRegex("**/"+o,{extended:!0,globstar:!0}),include:n}))}o&&((o=normalizeResourceForMatching(o)).endsWith("/")||(o+="/"),this.folderUri=o)}catch(n){this.globWrappers.length=0,this.uris=[]}}matchesPattern(n){if(this.folderUri&&!n.startsWith(this.folderUri))return!1;let o=!1;for(const{regexp:i,include:s}of this.globWrappers)i.test(n)&&(o=s);return o}getURIs(){return this.uris}}class SchemaHandle{constructor(n,o,i){this.service=n,this.uri=o,this.dependencies=new Set,this.anchors=void 0,i&&(this.unresolvedSchema=this.service.promise.resolve(new UnresolvedSchema(i)))}getUnresolvedSchema(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.uri)),this.unresolvedSchema}getResolvedSchema(){return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(n=>this.service.resolveSchemaContent(n,this))),this.resolvedSchema}clearSchema(){const n=!!this.unresolvedSchema;return this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies.clear(),this.anchors=void 0,n}}class UnresolvedSchema{constructor(n,o=[]){this.schema=n,this.errors=o}}class ResolvedSchema{constructor(n,o=[],i=[],s){this.schema=n,this.errors=o,this.warnings=i,this.schemaDraft=s}getSection(n){const o=this.getSectionRecursive(n,this.schema);if(o)return asSchema(o)}getSectionRecursive(n,o){if(!o||"boolean"==typeof o||0===n.length)return o;const i=n.shift();if(o.properties&&(o.properties[i],1))return this.getSectionRecursive(n,o.properties[i]);if(o.patternProperties)for(const s of Object.keys(o.patternProperties)){const c=extendedRegExp(s);if(c?.test(i))return this.getSectionRecursive(n,o.patternProperties[s])}else{if("object"==typeof o.additionalProperties)return this.getSectionRecursive(n,o.additionalProperties);if(i.match("[0-9]+"))if(Array.isArray(o.items)){const s=parseInt(i,10);if(!isNaN(s)&&o.items[s])return this.getSectionRecursive(n,o.items[s])}else if(o.items)return this.getSectionRecursive(n,o.items)}}}class JSONSchemaService{constructor(n,o,i){this.contextService=o,this.requestService=n,this.promiseConstructor=i||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}getRegisteredSchemaIds(n){return Object.keys(this.registeredSchemasIds).filter(o=>{const i=k.parse(o).scheme;return"schemaservice"!==i&&(!n||n(i))})}get promise(){return this.promiseConstructor}dispose(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()}onResourceChange(n){this.cachedSchemaForResource=void 0;let o=!1;const i=[n=normalizeId(n)],s=Object.keys(this.schemasById).map(n=>this.schemasById[n]);for(;i.length;){const n=i.pop();for(let c=0;c<s.length;c++){const h=s[c];h&&(h.uri===n||h.dependencies.has(n))&&(h.uri!==n&&i.push(h.uri),h.clearSchema()&&(o=!0),s[c]=void 0)}}return o}setSchemaContributions(n){if(n.schemas){const o=n.schemas;for(const n in o){const i=normalizeId(n);this.contributionSchemas[i]=this.addSchemaHandle(i,o[n])}}if(Array.isArray(n.schemaAssociations)){const o=n.schemaAssociations;for(let n of o){const o=n.uris.map(normalizeId),i=this.addFilePatternAssociation(n.pattern,n.folderUri,o);this.contributionAssociations.push(i)}}}addSchemaHandle(n,o){const i=new SchemaHandle(this,n,o);return this.schemasById[n]=i,i}getOrAddSchemaHandle(n,o){return this.schemasById[n]||this.addSchemaHandle(n,o)}addFilePatternAssociation(n,o,i){const s=new FilePatternAssociation(n,o,i);return this.filePatternAssociations.push(s),s}registerExternalSchema(n){const o=normalizeId(n.uri);return this.registeredSchemasIds[o]=!0,this.cachedSchemaForResource=void 0,n.fileMatch&&n.fileMatch.length&&this.addFilePatternAssociation(n.fileMatch,n.folderUri,[o]),n.schema?this.addSchemaHandle(o,n.schema):this.getOrAddSchemaHandle(o)}clearExternalSchemas(){this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0;for(const n in this.contributionSchemas)this.schemasById[n]=this.contributionSchemas[n],this.registeredSchemasIds[n]=!0;for(const n of this.contributionAssociations)this.filePatternAssociations.push(n)}getResolvedSchema(n){const o=normalizeId(n),i=this.schemasById[o];return i?i.getResolvedSchema():this.promise.resolve(void 0)}loadSchema(n){if(!this.requestService){const o=U.t("Unable to load schema from '{0}'. No schema request service available",toDisplayString(n));return this.promise.resolve(new UnresolvedSchema({},[o]))}return this.requestService(n).then(o=>{if(!o){const o=U.t("Unable to load schema from '{0}': No content.",toDisplayString(n));return new UnresolvedSchema({},[o])}const i=[];65279===o.charCodeAt(0)&&(i.push(U.t("Problem reading content from '{0}': UTF-8 with BOM detected, only UTF 8 is allowed.",toDisplayString(n))),o=o.trimStart());let s={};const c=[];return s=_(o,c),c.length&&i.push(U.t("Unable to parse content from '{0}': Parse error at offset {1}.",toDisplayString(n),c[0].offset)),new UnresolvedSchema(s,i)},o=>{let i=o.toString();const s=o.toString().split("Error: ");return s.length>1&&(i=s[1]),endsWith(i,".")&&(i=i.substr(0,i.length-1)),new UnresolvedSchema({},[U.t("Unable to load schema from '{0}': {1}.",toDisplayString(n),i)])})}resolveSchemaContent(n,o){const i=n.errors.slice(0),s=n.schema,c=s.$schema?getSchemaDraftFromId(s.$schema):void 0;if(c===M.v3)return this.promise.resolve(new ResolvedSchema({},[U.t("Draft-03 schemas are not supported.")],[],c));let h=new Set;const f=this.contextService,mergeRef=(n,o,s,c)=>{let h;h=void 0===c||0===c.length?o:"/"===c.charAt(0)?((n,o)=>{o=decodeURIComponent(o);let i=n;return"/"===o[0]&&(o=o.substring(1)),o.split("/").some(n=>(n=n.replace(/~1/g,"/").replace(/~0/g,"~"),i=i[n],!i)),i})(o,c):((n,o,i)=>(o.anchors||(o.anchors=collectAnchors(n)),o.anchors.get(i)))(o,s,c),h?((n,o)=>{for(const i in o)o.hasOwnProperty(i)&&"id"!==i&&"$id"!==i&&(n[i]=o[i])})(n,h):i.push(U.t("$ref '{0}' in '{1}' can not be resolved.",c||"",s.uri))},resolveExternalLink=(n,o,s,c)=>{f&&!/^[A-Za-z][A-Za-z0-9+\-.+]*:\/.*/.test(o)&&(o=f.resolveRelativePath(o,c.uri)),o=normalizeId(o);const h=this.getOrAddSchemaHandle(o);return h.getUnresolvedSchema().then(f=>{if(c.dependencies.add(o),f.errors.length){const n=s?o+"#"+s:o;i.push(U.t("Problems loading reference '{0}': {1}",n,f.errors[0]))}return mergeRef(n,f.schema,h,s),resolveRefs(n,f.schema,h)})},resolveRefs=(n,o,i)=>{const s=[];return this.traverseNodes(n,n=>{const c=new Set;for(;n.$ref;){const h=n.$ref,f=h.split("#",2);if(delete n.$ref,f[0].length>0)return void s.push(resolveExternalLink(n,f[0],f[1],i));if(!c.has(h)){const s=f[1];mergeRef(n,o,i,s),c.add(h)}}n.$recursiveRef&&h.add("$recursiveRef"),n.$dynamicRef&&h.add("$dynamicRef")}),this.promise.all(s)},collectAnchors=n=>{const o=new Map;return this.traverseNodes(n,n=>{const s=n.$id||n.id,c=isString(s)&&"#"===s.charAt(0)?s.substring(1):n.$anchor;c&&(o.has(c)?i.push(U.t("Duplicate anchor declaration: '{0}'",c)):o.set(c,n)),n.$recursiveAnchor&&h.add("$recursiveAnchor"),n.$dynamicAnchor&&h.add("$dynamicAnchor")}),o};return resolveRefs(s,s,o).then(n=>{let o=[];return h.size&&o.push(U.t("The schema uses meta-schema features ({0}) that are not yet supported by the validator.",Array.from(h.keys()).join(", "))),new ResolvedSchema(s,i,o,c)})}traverseNodes(n,o){if(!n||"object"!=typeof n)return Promise.resolve(null);const i=new Set,collectEntries=(...n)=>{for(const o of n)isObject(o)&&s.push(o)},collectMapEntries=(...n)=>{for(const o of n)if(isObject(o))for(const n in o){const i=o[n];isObject(i)&&s.push(i)}},collectArrayEntries=(...n)=>{for(const o of n)if(Array.isArray(o))for(const n of o)isObject(n)&&s.push(n)},collectEntryOrArrayEntries=n=>{if(Array.isArray(n))for(const o of n)isObject(o)&&s.push(o);else isObject(n)&&s.push(n)},s=[n];let c=s.pop();for(;c;)i.has(c)||(i.add(c),o(c),collectEntries(c.additionalItems,c.additionalProperties,c.not,c.contains,c.propertyNames,c.if,c.then,c.else,c.unevaluatedItems,c.unevaluatedProperties),collectMapEntries(c.definitions,c.$defs,c.properties,c.patternProperties,c.dependencies,c.dependentSchemas),collectArrayEntries(c.anyOf,c.allOf,c.oneOf,c.prefixItems),collectEntryOrArrayEntries(c.items)),c=s.pop()}getSchemaFromProperty(n,o){if("object"===o.root?.type)for(const i of o.root.properties)if("$schema"===i.keyNode.value&&"string"===i.valueNode?.type){let o=i.valueNode.value;return this.contextService&&!/^\w[\w\d+.-]*:/.test(o)&&(o=this.contextService.resolveRelativePath(o,n)),o}}getAssociatedSchemas(n){const o=Object.create(null),i=[],s=normalizeResourceForMatching(n);for(const n of this.filePatternAssociations)if(n.matchesPattern(s))for(const s of n.getURIs())o[s]||(i.push(s),o[s]=!0);return i}getSchemaURIsForResource(n,o){let i=o&&this.getSchemaFromProperty(n,o);return i?[i]:this.getAssociatedSchemas(n)}getSchemaForResource(n,o){if(o){let i=this.getSchemaFromProperty(n,o);if(i){const n=normalizeId(i);return this.getOrAddSchemaHandle(n).getResolvedSchema()}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===n)return this.cachedSchemaForResource.resolvedSchema;const i=this.getAssociatedSchemas(n),s=i.length>0?this.createCombinedSchema(n,i).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:n,resolvedSchema:s},s}createCombinedSchema(n,o){if(1===o.length)return this.getOrAddSchemaHandle(o[0]);{const i="schemaservice://combinedSchema/"+encodeURIComponent(n),s={allOf:o.map(n=>({$ref:n}))};return this.addSchemaHandle(i,s)}}getMatchingSchemas(n,o,i){if(i){const n=i.id||"schemaservice://untitled/matchingSchemas/"+Y++;return this.addSchemaHandle(n,i).getResolvedSchema().then(n=>o.getMatchingSchemas(n.schema).filter(n=>!n.inverted))}return this.getSchemaForResource(n.uri,o).then(n=>n?o.getMatchingSchemas(n.schema).filter(n=>!n.inverted):[])}}let Y=0;function normalizeResourceForMatching(n){try{return k.parse(n).with({fragment:null,query:null}).toString(!0)}catch(o){return n}}function toDisplayString(n){try{const o=k.parse(n);if("file"===o.scheme)return o.fsPath}catch(n){}return n}function getFoldingRanges(n,o){const i=[],s=[],c=[];let h=-1;const f=A(n.getText(),!1);let E=f.scan();function addRange(n){i.push(n),s.push(c.length)}for(;17!==E;){switch(E){case 1:case 3:{const o=n.positionAt(f.getTokenOffset()).line,i={startLine:o,endLine:o,kind:1===E?"object":"array"};c.push(i);break}case 2:case 4:{const o=2===E?"object":"array";if(c.length>0&&c[c.length-1].kind===o){const o=c.pop(),i=n.positionAt(f.getTokenOffset()).line;o&&i>o.startLine+1&&h!==o.startLine&&(o.endLine=i-1,addRange(o),h=o.startLine)}break}case 13:{const o=n.positionAt(f.getTokenOffset()).line,i=n.positionAt(f.getTokenOffset()+f.getTokenLength()).line;1===f.getTokenError()&&o+1<n.lineCount?f.setPosition(n.offsetAt(F.Position.create(o+1,0))):o<i&&(addRange({startLine:o,endLine:i,kind:F.FoldingRangeKind.Comment}),h=o);break}case 12:{const o=n.getText().substr(f.getTokenOffset(),f.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if(o){const i=n.positionAt(f.getTokenOffset()).line;if(o[1]){const n={startLine:i,endLine:i,kind:F.FoldingRangeKind.Region};c.push(n)}else{let n=c.length-1;for(;n>=0&&c[n].kind!==F.FoldingRangeKind.Region;)n--;if(n>=0){const o=c[n];c.length=n,i>o.startLine&&h!==o.startLine&&(o.endLine=i,addRange(o),h=o.startLine)}}}break}}E=f.scan()}const S=o&&o.rangeLimit;if("number"!=typeof S||i.length<=S)return i;o&&o.onRangeLimitExceeded&&o.onRangeLimitExceeded(n.uri);const O=[];for(let n of s)n<30&&(O[n]=(O[n]||0)+1);let T=0,_=0;for(let n=0;n<O.length;n++){const o=O[n];if(o){if(o+T>S){_=n;break}T+=o}}const D=[];for(let n=0;n<i.length;n++){const o=s[n];"number"==typeof o&&(o<_||o===_&&T++<S)&&D.push(i[n])}return D}function getSelectionRanges(n,o,i){function newRange(o,i){return F.Range.create(n.positionAt(o),n.positionAt(i))}const s=A(n.getText(),!0);function getOffsetAfterNextToken(n,o){return s.setPosition(n),s.scan()===o?s.getTokenOffset()+s.getTokenLength():-1}return o.map(function getSelectionRange(o){let s=n.offsetAt(o),c=i.getNodeFromOffset(s,!0);const h=[];for(;c;){switch(c.type){case"string":case"object":case"array":const n=c.offset+1,o=c.offset+c.length-1;n<o&&s>=n&&s<=o&&h.push(newRange(n,o)),h.push(newRange(c.offset,c.offset+c.length));break;case"number":case"boolean":case"null":case"property":h.push(newRange(c.offset,c.offset+c.length))}if("property"===c.type||c.parent&&"array"===c.parent.type){const n=getOffsetAfterNextToken(c.offset+c.length,5);-1!==n&&h.push(newRange(c.offset,n))}c=c.parent}let f;for(let n=h.length-1;n>=0;n--)f=F.SelectionRange.create(h[n],f);return f||(f=F.SelectionRange.create(F.Range.create(o,o))),f})}function utils_format_format(n,o,i){let s;if(i){const o=n.offsetAt(i.start);s={offset:o,length:n.offsetAt(i.end)-o}}const c={tabSize:o?o.tabSize:4,insertSpaces:!0===o?.insertSpaces,insertFinalNewline:!0===o?.insertFinalNewline,eol:"\n",keepLines:!0===o?.keepLines};return function main_format(n,o,i){return format_format(n,o,i)}(n.getText(),s,c).map(o=>F.TextEdit.replace(F.Range.create(n.positionAt(o.offset),n.positionAt(o.offset+o.length)),o.content))}var X;!function(n){n[n.Object=0]="Object",n[n.Array=1]="Array"}(X||(X={}));class PropertyTree{constructor(n,o){this.propertyName=n??"",this.beginningLineNumber=o,this.childrenProperties=[],this.lastProperty=!1,this.noKeyName=!1}addChildProperty(n){if(n.parent=this,this.childrenProperties.length>0){let o=0;o=n.noKeyName?this.childrenProperties.length:function binarySearchOnPropertyArray(n,o,i){const s=o.propertyName.toLowerCase(),c=n[0].propertyName.toLowerCase(),h=n[n.length-1].propertyName.toLowerCase();if(s<c)return 0;if(s>h)return n.length;let f=0,E=n.length-1;for(;f<=E;){let s=E+f>>1,c=i(o,n[s]);if(c>0)f=s+1;else{if(!(c<0))return s;E=s-1}}return-f-1}(this.childrenProperties,n,compareProperties),o<0&&(o=-1*o-1),this.childrenProperties.splice(o,0,n)}else this.childrenProperties.push(n);return n}}function compareProperties(n,o){const i=n.propertyName.toLowerCase(),s=o.propertyName.toLowerCase();return i<s?-1:i>s?1:0}function sort(n,o){const i={...o,keepLines:!1},s=L.TextDocument.applyEdits(n,utils_format_format(n,i,void 0)),c=L.TextDocument.create("test://test.json","json",0,s),h=function sortJsoncDocument(n,o){if(0===o.childrenProperties.length)return n;const i=L.TextDocument.create("test://test.json","json",0,n.getText()),s=[];updateSortingQueue(s,o,o.beginningLineNumber);for(;s.length>0;){const o=s.shift(),c=o.propertyTreeArray;let h=o.beginningLineNumber;for(let o=0;o<c.length;o++){const f=c[o],E=F.Range.create(F.Position.create(f.beginningLineNumber,0),F.Position.create(f.endLineNumber+1,0)),S=n.getText(E),A=L.TextDocument.create("test://test.json","json",0,S);if(!0===f.lastProperty&&o!==c.length-1){const n=f.lineWhereToAddComma-f.beginningLineNumber,o=f.indexWhereToAddComa,i={range:F.Range.create(F.Position.create(n,o),F.Position.create(n,o)),text:","};L.TextDocument.update(A,[i],1)}else if(!1===f.lastProperty&&o===c.length-1){const n=f.commaIndex,o=f.commaLine-f.beginningLineNumber,i={range:F.Range.create(F.Position.create(o,n),F.Position.create(o,n+1)),text:""};L.TextDocument.update(A,[i],1)}const O=f.endLineNumber-f.beginningLineNumber+1,T={range:F.Range.create(F.Position.create(h,0),F.Position.create(h+O,0)),text:A.getText()};L.TextDocument.update(i,[T],1),updateSortingQueue(s,f,h),h+=O}}return i}(c,function findJsoncPropertyTree(n){const o=n.getText(),i=A(o,!1);let s,c,h,f=new PropertyTree,E=f,S=f,O=f,T=0,_=0,D=-1,N=-1,R=0,x=0,P=[],M=!1,I=!1;for(;17!==(s=i.scan());){if(!0===M&&14!==s&&15!==s&&12!==s&&13!==s&&void 0===S.endLineNumber){let n=i.getTokenStartLine();2===h||4===h?O.endLineNumber=n-1:S.endLineNumber=n-1,R=n,M=!1}if(!0===I&&14!==s&&15!==s&&12!==s&&13!==s&&(R=i.getTokenStartLine(),I=!1),i.getTokenStartLine()!==T){for(let o=T;o<i.getTokenStartLine();o++){_+=n.getText(F.Range.create(F.Position.create(o,0),F.Position.create(o+1,0))).length}T=i.getTokenStartLine()}switch(s){case 10:if(void 0===c||1===c||5===c&&P[P.length-1]===X.Object){const n=new PropertyTree(i.getTokenValue(),R);O=S,S=E.addChildProperty(n)}break;case 3:if(void 0===f.beginningLineNumber&&(f.beginningLineNumber=i.getTokenStartLine()),P[P.length-1]===X.Object)E=S;else if(P[P.length-1]===X.Array){const n=new PropertyTree(i.getTokenValue(),R);n.noKeyName=!0,O=S,S=E.addChildProperty(n),E=S}P.push(X.Array),S.type=X.Array,R=i.getTokenStartLine(),R++;break;case 1:if(void 0===f.beginningLineNumber)f.beginningLineNumber=i.getTokenStartLine();else if(P[P.length-1]===X.Array){const n=new PropertyTree(i.getTokenValue(),R);n.noKeyName=!0,O=S,S=E.addChildProperty(n)}S.type=X.Object,P.push(X.Object),E=S,R=i.getTokenStartLine(),R++;break;case 4:x=i.getTokenStartLine(),P.pop(),void 0!==S.endLineNumber||2!==c&&4!==c||(S.endLineNumber=x-1,S.lastProperty=!0,S.lineWhereToAddComma=D,S.indexWhereToAddComa=N,O=S,S=S?S.parent:void 0,E=S),f.endLineNumber=x,R=x+1;break;case 2:x=i.getTokenStartLine(),P.pop(),1!==c&&(void 0===S.endLineNumber&&(S.endLineNumber=x-1,S.lastProperty=!0,S.lineWhereToAddComma=D,S.indexWhereToAddComa=N),O=S,S=S?S.parent:void 0,E=S),f.endLineNumber=i.getTokenStartLine(),R=x+1;break;case 5:x=i.getTokenStartLine(),void 0!==S.endLineNumber||P[P.length-1]!==X.Object&&(P[P.length-1]!==X.Array||2!==c&&4!==c)||(S.endLineNumber=x,S.commaIndex=i.getTokenOffset()-_,S.commaLine=x),2!==c&&4!==c||(O=S,S=S?S.parent:void 0,E=S),R=x+1;break;case 13:5!==c||D!==i.getTokenStartLine()||(P[P.length-1]!==X.Array||2!==h&&4!==h)&&P[P.length-1]!==X.Object||(P[P.length-1]!==X.Array||2!==h&&4!==h)&&P[P.length-1]!==X.Object||(S.endLineNumber=void 0,M=!0),1!==c&&3!==c||D!==i.getTokenStartLine()||(I=!0)}14!==s&&13!==s&&12!==s&&15!==s&&(h=c,c=s,D=i.getTokenStartLine(),N=i.getTokenOffset()+i.getTokenLength()-_)}return f}(c)),f=utils_format_format(h,i,void 0),E=L.TextDocument.applyEdits(h,f);return[F.TextEdit.replace(F.Range.create(F.Position.create(0,0),n.positionAt(n.getText().length)),E)]}function updateSortingQueue(n,o,i){if(0!==o.childrenProperties.length)if(o.type===X.Object){let s=1/0;for(const n of o.childrenProperties)n.beginningLineNumber<s&&(s=n.beginningLineNumber);i+=s-o.beginningLineNumber,function sortProperties(n){n.sort((n,o)=>n.propertyName.localeCompare(o.propertyName))}(o.childrenProperties),n.push(new SortingRange(i,o.childrenProperties))}else o.type===X.Array&&updateSortingQueueForArrayProperties(n,o,i)}function updateSortingQueueForArrayProperties(n,o,i){for(const s of o.childrenProperties){if(s.type===X.Object){let c=1/0;for(const n of s.childrenProperties)n.beginningLineNumber<c&&(c=n.beginningLineNumber);const h=c-s.beginningLineNumber;n.push(new SortingRange(i+s.beginningLineNumber-o.beginningLineNumber+h,s.childrenProperties))}s.type===X.Array&&updateSortingQueueForArrayProperties(n,s,i+s.beginningLineNumber-o.beginningLineNumber)}}class SortingRange{constructor(n,o){this.beginningLineNumber=n,this.propertyTreeArray=o}}function findLinks(n,o){const i=[];return o.visit(s=>{if("property"===s.type&&"$ref"===s.keyNode.value&&"string"===s.valueNode?.type){const c=s.valueNode.value,h=function findTargetNode(n,o){const i=function parseJSONPointer(n){if("#"===n)return[];if("#"!==n[0]||"/"!==n[1])return null;return n.substring(2).split(/\//).map(jsonLinks_unescape)}(o);if(!i)return null;return findNode(i,n.root)}(o,c);if(h){const o=n.positionAt(h.offset);i.push({target:`${n.uri}#${o.line+1},${o.character+1}`,range:createRange(n,s.valueNode)})}}return!0}),Promise.resolve(i)}function createRange(n,o){return F.Range.create(n.positionAt(o.offset+1),n.positionAt(o.offset+o.length-1))}function findNode(n,o){if(!o)return null;if(0===n.length)return o;const i=n.shift();if(o&&"object"===o.type){const s=o.properties.find(n=>n.keyNode.value===i);return s?findNode(n,s.valueNode):null}if(o&&"array"===o.type&&i.match(/^(0|[1-9][0-9]*)$/)){const s=Number.parseInt(i),c=o.items[s];return c?findNode(n,c):null}return null}function jsonLinks_unescape(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}function getLanguageService(n){const o=n.promiseConstructor||Promise,i=new JSONSchemaService(n.schemaRequestService,n.workspaceContext,o);i.setSchemaContributions(G);const s=new JSONCompletion(i,n.contributions,o,n.clientCapabilities),c=new JSONHover(i,n.contributions,o),h=new JSONDocumentSymbols(i),f=new JSONValidation(i,o);return{configure:n=>{i.clearExternalSchemas(),n.schemas?.forEach(i.registerExternalSchema.bind(i)),f.configure(n)},resetSchema:n=>i.onResourceChange(n),doValidation:f.doValidation.bind(f),getLanguageStatus:f.getLanguageStatus.bind(f),parseJSONDocument:n=>jsonParser_parse(n,{collectComments:!0}),newJSONDocument:(n,o,i)=>function newJSONDocument(n,o=[],i=[]){return new JSONDocument(n,o,i)}(n,o,i),getMatchingSchemas:i.getMatchingSchemas.bind(i),doResolve:s.doResolve.bind(s),doComplete:s.doComplete.bind(s),findDocumentSymbols:h.findDocumentSymbols.bind(h),findDocumentSymbols2:h.findDocumentSymbols2.bind(h),findDocumentColors:h.findDocumentColors.bind(h),getColorPresentations:h.getColorPresentations.bind(h),doHover:c.doHover.bind(c),getFoldingRanges,getSelectionRanges,findDefinition:()=>Promise.resolve([]),findLinks,format:(n,o,i)=>utils_format_format(n,i,o),sort:(n,o)=>sort(n,o)}}},53281:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ProgressType=o.ProgressToken=o.createMessageConnection=o.NullLogger=o.ConnectionOptions=o.ConnectionStrategy=o.AbstractMessageBuffer=o.WriteableStreamMessageWriter=o.AbstractMessageWriter=o.MessageWriter=o.ReadableStreamMessageReader=o.AbstractMessageReader=o.MessageReader=o.SharedArrayReceiverStrategy=o.SharedArraySenderStrategy=o.CancellationToken=o.CancellationTokenSource=o.Emitter=o.Event=o.Disposable=o.LRUCache=o.Touch=o.LinkedMap=o.ParameterStructures=o.NotificationType9=o.NotificationType8=o.NotificationType7=o.NotificationType6=o.NotificationType5=o.NotificationType4=o.NotificationType3=o.NotificationType2=o.NotificationType1=o.NotificationType0=o.NotificationType=o.ErrorCodes=o.ResponseError=o.RequestType9=o.RequestType8=o.RequestType7=o.RequestType6=o.RequestType5=o.RequestType4=o.RequestType3=o.RequestType2=o.RequestType1=o.RequestType0=o.RequestType=o.Message=o.RAL=void 0,o.MessageStrategy=o.CancellationStrategy=o.CancellationSenderStrategy=o.CancellationReceiverStrategy=o.ConnectionError=o.ConnectionErrors=o.LogTraceNotification=o.SetTraceNotification=o.TraceFormat=o.TraceValues=o.Trace=void 0;const s=i(96177);Object.defineProperty(o,"Message",{enumerable:!0,get:function(){return s.Message}}),Object.defineProperty(o,"RequestType",{enumerable:!0,get:function(){return s.RequestType}}),Object.defineProperty(o,"RequestType0",{enumerable:!0,get:function(){return s.RequestType0}}),Object.defineProperty(o,"RequestType1",{enumerable:!0,get:function(){return s.RequestType1}}),Object.defineProperty(o,"RequestType2",{enumerable:!0,get:function(){return s.RequestType2}}),Object.defineProperty(o,"RequestType3",{enumerable:!0,get:function(){return s.RequestType3}}),Object.defineProperty(o,"RequestType4",{enumerable:!0,get:function(){return s.RequestType4}}),Object.defineProperty(o,"RequestType5",{enumerable:!0,get:function(){return s.RequestType5}}),Object.defineProperty(o,"RequestType6",{enumerable:!0,get:function(){return s.RequestType6}}),Object.defineProperty(o,"RequestType7",{enumerable:!0,get:function(){return s.RequestType7}}),Object.defineProperty(o,"RequestType8",{enumerable:!0,get:function(){return s.RequestType8}}),Object.defineProperty(o,"RequestType9",{enumerable:!0,get:function(){return s.RequestType9}}),Object.defineProperty(o,"ResponseError",{enumerable:!0,get:function(){return s.ResponseError}}),Object.defineProperty(o,"ErrorCodes",{enumerable:!0,get:function(){return s.ErrorCodes}}),Object.defineProperty(o,"NotificationType",{enumerable:!0,get:function(){return s.NotificationType}}),Object.defineProperty(o,"NotificationType0",{enumerable:!0,get:function(){return s.NotificationType0}}),Object.defineProperty(o,"NotificationType1",{enumerable:!0,get:function(){return s.NotificationType1}}),Object.defineProperty(o,"NotificationType2",{enumerable:!0,get:function(){return s.NotificationType2}}),Object.defineProperty(o,"NotificationType3",{enumerable:!0,get:function(){return s.NotificationType3}}),Object.defineProperty(o,"NotificationType4",{enumerable:!0,get:function(){return s.NotificationType4}}),Object.defineProperty(o,"NotificationType5",{enumerable:!0,get:function(){return s.NotificationType5}}),Object.defineProperty(o,"NotificationType6",{enumerable:!0,get:function(){return s.NotificationType6}}),Object.defineProperty(o,"NotificationType7",{enumerable:!0,get:function(){return s.NotificationType7}}),Object.defineProperty(o,"NotificationType8",{enumerable:!0,get:function(){return s.NotificationType8}}),Object.defineProperty(o,"NotificationType9",{enumerable:!0,get:function(){return s.NotificationType9}}),Object.defineProperty(o,"ParameterStructures",{enumerable:!0,get:function(){return s.ParameterStructures}});const c=i(93352);Object.defineProperty(o,"LinkedMap",{enumerable:!0,get:function(){return c.LinkedMap}}),Object.defineProperty(o,"LRUCache",{enumerable:!0,get:function(){return c.LRUCache}}),Object.defineProperty(o,"Touch",{enumerable:!0,get:function(){return c.Touch}});const h=i(34019);Object.defineProperty(o,"Disposable",{enumerable:!0,get:function(){return h.Disposable}});const f=i(62676);Object.defineProperty(o,"Event",{enumerable:!0,get:function(){return f.Event}}),Object.defineProperty(o,"Emitter",{enumerable:!0,get:function(){return f.Emitter}});const E=i(59850);Object.defineProperty(o,"CancellationTokenSource",{enumerable:!0,get:function(){return E.CancellationTokenSource}}),Object.defineProperty(o,"CancellationToken",{enumerable:!0,get:function(){return E.CancellationToken}});const S=i(74996);Object.defineProperty(o,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return S.SharedArraySenderStrategy}}),Object.defineProperty(o,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return S.SharedArrayReceiverStrategy}});const A=i(59085);Object.defineProperty(o,"MessageReader",{enumerable:!0,get:function(){return A.MessageReader}}),Object.defineProperty(o,"AbstractMessageReader",{enumerable:!0,get:function(){return A.AbstractMessageReader}}),Object.defineProperty(o,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return A.ReadableStreamMessageReader}});const O=i(23193);Object.defineProperty(o,"MessageWriter",{enumerable:!0,get:function(){return O.MessageWriter}}),Object.defineProperty(o,"AbstractMessageWriter",{enumerable:!0,get:function(){return O.AbstractMessageWriter}}),Object.defineProperty(o,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return O.WriteableStreamMessageWriter}});const T=i(89244);Object.defineProperty(o,"AbstractMessageBuffer",{enumerable:!0,get:function(){return T.AbstractMessageBuffer}});const _=i(90577);Object.defineProperty(o,"ConnectionStrategy",{enumerable:!0,get:function(){return _.ConnectionStrategy}}),Object.defineProperty(o,"ConnectionOptions",{enumerable:!0,get:function(){return _.ConnectionOptions}}),Object.defineProperty(o,"NullLogger",{enumerable:!0,get:function(){return _.NullLogger}}),Object.defineProperty(o,"createMessageConnection",{enumerable:!0,get:function(){return _.createMessageConnection}}),Object.defineProperty(o,"ProgressToken",{enumerable:!0,get:function(){return _.ProgressToken}}),Object.defineProperty(o,"ProgressType",{enumerable:!0,get:function(){return _.ProgressType}}),Object.defineProperty(o,"Trace",{enumerable:!0,get:function(){return _.Trace}}),Object.defineProperty(o,"TraceValues",{enumerable:!0,get:function(){return _.TraceValues}}),Object.defineProperty(o,"TraceFormat",{enumerable:!0,get:function(){return _.TraceFormat}}),Object.defineProperty(o,"SetTraceNotification",{enumerable:!0,get:function(){return _.SetTraceNotification}}),Object.defineProperty(o,"LogTraceNotification",{enumerable:!0,get:function(){return _.LogTraceNotification}}),Object.defineProperty(o,"ConnectionErrors",{enumerable:!0,get:function(){return _.ConnectionErrors}}),Object.defineProperty(o,"ConnectionError",{enumerable:!0,get:function(){return _.ConnectionError}}),Object.defineProperty(o,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return _.CancellationReceiverStrategy}}),Object.defineProperty(o,"CancellationSenderStrategy",{enumerable:!0,get:function(){return _.CancellationSenderStrategy}}),Object.defineProperty(o,"CancellationStrategy",{enumerable:!0,get:function(){return _.CancellationStrategy}}),Object.defineProperty(o,"MessageStrategy",{enumerable:!0,get:function(){return _.MessageStrategy}});const D=i(69590);o.RAL=D.default},59850:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CancellationTokenSource=o.CancellationToken=void 0;const s=i(69590),c=i(78585),h=i(62676);var f;!function(n){n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:h.Event.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:h.Event.None}),n.is=function is(o){const i=o;return i&&(i===n.None||i===n.Cancelled||c.boolean(i.isCancellationRequested)&&!!i.onCancellationRequested)}}(f||(o.CancellationToken=f={}));const E=Object.freeze(function(n,o){const i=(0,s.default)().timer.setTimeout(n.bind(o),0);return{dispose(){i.dispose()}}});class MutableToken{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?E:(this._emitter||(this._emitter=new h.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}o.CancellationTokenSource=class CancellationTokenSource{get token(){return this._token||(this._token=new MutableToken),this._token}cancel(){this._token?this._token.cancel():this._token=f.Cancelled}dispose(){this._token?this._token instanceof MutableToken&&this._token.dispose():this._token=f.None}}},90577:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.createMessageConnection=o.ConnectionOptions=o.MessageStrategy=o.CancellationStrategy=o.CancellationSenderStrategy=o.CancellationReceiverStrategy=o.RequestCancellationReceiverStrategy=o.IdCancellationReceiverStrategy=o.ConnectionStrategy=o.ConnectionError=o.ConnectionErrors=o.LogTraceNotification=o.SetTraceNotification=o.TraceFormat=o.TraceValues=o.Trace=o.NullLogger=o.ProgressType=o.ProgressToken=void 0;const s=i(69590),c=i(78585),h=i(96177),f=i(93352),E=i(62676),S=i(59850);var A,O,T,_,D,N,R,x,P,M,I,B,F,L,k,j,U,z,q;!function(n){n.type=new h.NotificationType("$/cancelRequest")}(A||(A={})),function(n){n.is=function is(n){return"string"==typeof n||"number"==typeof n}}(O||(o.ProgressToken=O={})),function(n){n.type=new h.NotificationType("$/progress")}(T||(T={}));o.ProgressType=class ProgressType{constructor(){}},function(n){n.is=function is(n){return c.func(n)}}(_||(_={})),o.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(n){n[n.Off=0]="Off",n[n.Messages=1]="Messages",n[n.Compact=2]="Compact",n[n.Verbose=3]="Verbose"}(D||(o.Trace=D={})),function(n){n.Off="off",n.Messages="messages",n.Compact="compact",n.Verbose="verbose"}(N||(o.TraceValues=N={})),function(n){n.fromString=function fromString(o){if(!c.string(o))return n.Off;switch(o=o.toLowerCase()){case"off":default:return n.Off;case"messages":return n.Messages;case"compact":return n.Compact;case"verbose":return n.Verbose}},n.toString=function toString(o){switch(o){case n.Off:return"off";case n.Messages:return"messages";case n.Compact:return"compact";case n.Verbose:return"verbose";default:return"off"}}}(D||(o.Trace=D={})),function(n){n.Text="text",n.JSON="json"}(R||(o.TraceFormat=R={})),function(n){n.fromString=function fromString(o){return c.string(o)&&"json"===(o=o.toLowerCase())?n.JSON:n.Text}}(R||(o.TraceFormat=R={})),function(n){n.type=new h.NotificationType("$/setTrace")}(x||(o.SetTraceNotification=x={})),function(n){n.type=new h.NotificationType("$/logTrace")}(P||(o.LogTraceNotification=P={})),function(n){n[n.Closed=1]="Closed",n[n.Disposed=2]="Disposed",n[n.AlreadyListening=3]="AlreadyListening"}(M||(o.ConnectionErrors=M={}));class ConnectionError extends Error{constructor(n,o){super(o),this.code=n,Object.setPrototypeOf(this,ConnectionError.prototype)}}o.ConnectionError=ConnectionError,function(n){n.is=function is(n){const o=n;return o&&c.func(o.cancelUndispatched)}}(I||(o.ConnectionStrategy=I={})),function(n){n.is=function is(n){const o=n;return o&&(void 0===o.kind||"id"===o.kind)&&c.func(o.createCancellationTokenSource)&&(void 0===o.dispose||c.func(o.dispose))}}(B||(o.IdCancellationReceiverStrategy=B={})),function(n){n.is=function is(n){const o=n;return o&&"request"===o.kind&&c.func(o.createCancellationTokenSource)&&(void 0===o.dispose||c.func(o.dispose))}}(F||(o.RequestCancellationReceiverStrategy=F={})),function(n){n.Message=Object.freeze({createCancellationTokenSource:n=>new S.CancellationTokenSource}),n.is=function is(n){return B.is(n)||F.is(n)}}(L||(o.CancellationReceiverStrategy=L={})),function(n){n.Message=Object.freeze({sendCancellation:(n,o)=>n.sendNotification(A.type,{id:o}),cleanup(n){}}),n.is=function is(n){const o=n;return o&&c.func(o.sendCancellation)&&c.func(o.cleanup)}}(k||(o.CancellationSenderStrategy=k={})),function(n){n.Message=Object.freeze({receiver:L.Message,sender:k.Message}),n.is=function is(n){const o=n;return o&&L.is(o.receiver)&&k.is(o.sender)}}(j||(o.CancellationStrategy=j={})),function(n){n.is=function is(n){const o=n;return o&&c.func(o.handleMessage)}}(U||(o.MessageStrategy=U={})),function(n){n.is=function is(n){const o=n;return o&&(j.is(o.cancellationStrategy)||I.is(o.connectionStrategy)||U.is(o.messageStrategy))}}(z||(o.ConnectionOptions=z={})),function(n){n[n.New=1]="New",n[n.Listening=2]="Listening",n[n.Closed=3]="Closed",n[n.Disposed=4]="Disposed"}(q||(q={})),o.createMessageConnection=function createMessageConnection(n,i,N,I){const F=void 0!==N?N:o.NullLogger;let L=0,k=0,z=0;const V="2.0";let W;const $=new Map;let G;const K=new Map,Y=new Map;let X,J,Q=new f.LinkedMap,Z=new Map,ee=new Set,te=new Map,re=D.Off,ne=R.Text,oe=q.New;const ie=new E.Emitter,se=new E.Emitter,ae=new E.Emitter,ue=new E.Emitter,ce=new E.Emitter,le=I&&I.cancellationStrategy?I.cancellationStrategy:j.Message;function createRequestQueueKey(n){if(null===n)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+n.toString()}function addMessageToQueue(n,o){h.Message.isRequest(o)?n.set(createRequestQueueKey(o.id),o):h.Message.isResponse(o)?n.set(function createResponseQueueKey(n){return null===n?"res-unknown-"+(++z).toString():"res-"+n.toString()}(o.id),o):n.set(function createNotificationQueueKey(){return"not-"+(++k).toString()}(),o)}function cancelUndispatched(n){}function isListening(){return oe===q.Listening}function isClosed(){return oe===q.Closed}function isDisposed(){return oe===q.Disposed}function closeHandler(){oe!==q.New&&oe!==q.Listening||(oe=q.Closed,se.fire(void 0))}function triggerMessageQueue(){X||0===Q.size||(X=(0,s.default)().timer.setImmediate(()=>{X=void 0,function processMessageQueue(){if(0===Q.size)return;const n=Q.shift();try{const o=I?.messageStrategy;U.is(o)?o.handleMessage(n,handleMessage):handleMessage(n)}finally{triggerMessageQueue()}}()}))}function handleMessage(n){h.Message.isRequest(n)?function handleRequest(n){if(isDisposed())return;function reply(o,s,c){const f={jsonrpc:V,id:n.id};o instanceof h.ResponseError?f.error=o.toJson():f.result=void 0===o?null:o,traceSendingResponse(f,s,c),i.write(f).catch(()=>F.error("Sending response failed."))}function replyError(o,s,c){const h={jsonrpc:V,id:n.id,error:o.toJson()};traceSendingResponse(h,s,c),i.write(h).catch(()=>F.error("Sending response failed."))}function replySuccess(o,s,c){void 0===o&&(o=null);const h={jsonrpc:V,id:n.id,result:o};traceSendingResponse(h,s,c),i.write(h).catch(()=>F.error("Sending response failed."))}!function traceReceivedRequest(n){if(re===D.Off||!J)return;if(ne===R.Text){let o;re!==D.Verbose&&re!==D.Compact||!n.params||(o=`Params: ${stringifyTrace(n.params)}\n\n`),J.log(`Received request '${n.method} - (${n.id})'.`,o)}else logLSPMessage("receive-request",n)}(n);const o=$.get(n.method);let s,f;o&&(s=o.type,f=o.handler);const E=Date.now();if(f||W){const o=n.id??String(Date.now()),i=B.is(le.receiver)?le.receiver.createCancellationTokenSource(o):le.receiver.createCancellationTokenSource(n);null!==n.id&&ee.has(n.id)&&i.cancel(),null!==n.id&&te.set(o,i);try{let S;if(f)if(void 0===n.params){if(void 0!==s&&0!==s.numberOfParams)return void replyError(new h.ResponseError(h.ErrorCodes.InvalidParams,`Request ${n.method} defines ${s.numberOfParams} params but received none.`),n.method,E);S=f(i.token)}else if(Array.isArray(n.params)){if(void 0!==s&&s.parameterStructures===h.ParameterStructures.byName)return void replyError(new h.ResponseError(h.ErrorCodes.InvalidParams,`Request ${n.method} defines parameters by name but received parameters by position`),n.method,E);S=f(...n.params,i.token)}else{if(void 0!==s&&s.parameterStructures===h.ParameterStructures.byPosition)return void replyError(new h.ResponseError(h.ErrorCodes.InvalidParams,`Request ${n.method} defines parameters by position but received parameters by name`),n.method,E);S=f(n.params,i.token)}else W&&(S=W(n.method,n.params,i.token));const A=S;S?A.then?A.then(i=>{te.delete(o),reply(i,n.method,E)},i=>{te.delete(o),i instanceof h.ResponseError?replyError(i,n.method,E):i&&c.string(i.message)?replyError(new h.ResponseError(h.ErrorCodes.InternalError,`Request ${n.method} failed with message: ${i.message}`),n.method,E):replyError(new h.ResponseError(h.ErrorCodes.InternalError,`Request ${n.method} failed unexpectedly without providing any details.`),n.method,E)}):(te.delete(o),reply(S,n.method,E)):(te.delete(o),replySuccess(S,n.method,E))}catch(i){te.delete(o),i instanceof h.ResponseError?reply(i,n.method,E):i&&c.string(i.message)?replyError(new h.ResponseError(h.ErrorCodes.InternalError,`Request ${n.method} failed with message: ${i.message}`),n.method,E):replyError(new h.ResponseError(h.ErrorCodes.InternalError,`Request ${n.method} failed unexpectedly without providing any details.`),n.method,E)}}else replyError(new h.ResponseError(h.ErrorCodes.MethodNotFound,`Unhandled method ${n.method}`),n.method,E)}(n):h.Message.isNotification(n)?function handleNotification(n){if(isDisposed())return;let o,i;if(n.method===A.type.method){const o=n.params.id;return ee.delete(o),void traceReceivedNotification(n)}{const s=K.get(n.method);s&&(i=s.handler,o=s.type)}if(i||G)try{if(traceReceivedNotification(n),i)if(void 0===n.params)void 0!==o&&0!==o.numberOfParams&&o.parameterStructures!==h.ParameterStructures.byName&&F.error(`Notification ${n.method} defines ${o.numberOfParams} params but received none.`),i();else if(Array.isArray(n.params)){const s=n.params;n.method===T.type.method&&2===s.length&&O.is(s[0])?i({token:s[0],value:s[1]}):(void 0!==o&&(o.parameterStructures===h.ParameterStructures.byName&&F.error(`Notification ${n.method} defines parameters by name but received parameters by position`),o.numberOfParams!==n.params.length&&F.error(`Notification ${n.method} defines ${o.numberOfParams} params but received ${s.length} arguments`)),i(...s))}else void 0!==o&&o.parameterStructures===h.ParameterStructures.byPosition&&F.error(`Notification ${n.method} defines parameters by position but received parameters by name`),i(n.params);else G&&G(n.method,n.params)}catch(o){o.message?F.error(`Notification handler '${n.method}' failed with message: ${o.message}`):F.error(`Notification handler '${n.method}' failed unexpectedly.`)}else ae.fire(n)}(n):h.Message.isResponse(n)?function handleResponse(n){if(isDisposed())return;if(null===n.id)n.error?F.error(`Received response message without id: Error is: \n${JSON.stringify(n.error,void 0,4)}`):F.error("Received response message without id. No further error information provided.");else{const o=n.id,i=Z.get(o);if(function traceReceivedResponse(n,o){if(re===D.Off||!J)return;if(ne===R.Text){let i;if(re!==D.Verbose&&re!==D.Compact||(n.error&&n.error.data?i=`Error data: ${stringifyTrace(n.error.data)}\n\n`:n.result?i=`Result: ${stringifyTrace(n.result)}\n\n`:void 0===n.error&&(i="No result returned.\n\n")),o){const s=n.error?` Request failed: ${n.error.message} (${n.error.code}).`:"";J.log(`Received response '${o.method} - (${n.id})' in ${Date.now()-o.timerStart}ms.${s}`,i)}else J.log(`Received response ${n.id} without active response promise.`,i)}else logLSPMessage("receive-response",n)}(n,i),void 0!==i){Z.delete(o);try{if(n.error){const o=n.error;i.reject(new h.ResponseError(o.code,o.message,o.data))}else{if(void 0===n.result)throw new Error("Should never happen.");i.resolve(n.result)}}catch(n){n.message?F.error(`Response handler '${i.method}' failed with message: ${n.message}`):F.error(`Response handler '${i.method}' failed unexpectedly.`)}}}}(n):function handleInvalidMessage(n){if(!n)return void F.error("Received empty message.");F.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(n,null,4)}`);const o=n;if(c.string(o.id)||c.number(o.id)){const n=o.id,i=Z.get(n);i&&i.reject(new Error("The received response has neither a result nor an error property."))}}(n)}n.onClose(closeHandler),n.onError(function readErrorHandler(n){ie.fire([n,void 0,void 0])}),i.onClose(closeHandler),i.onError(function writeErrorHandler(n){ie.fire(n)});const callback=n=>{try{if(h.Message.isNotification(n)&&n.method===A.type.method){const o=n.params.id,s=createRequestQueueKey(o),c=Q.get(s);if(h.Message.isRequest(c)){const h=I?.connectionStrategy,f=h&&h.cancelUndispatched?h.cancelUndispatched(c,cancelUndispatched):void 0;if(f&&(void 0!==f.error||void 0!==f.result))return Q.delete(s),te.delete(o),f.id=c.id,traceSendingResponse(f,n.method,Date.now()),void i.write(f).catch(()=>F.error("Sending response for canceled message failed."))}const f=te.get(o);if(void 0!==f)return f.cancel(),void traceReceivedNotification(n);ee.add(o)}addMessageToQueue(Q,n)}finally{triggerMessageQueue()}};function stringifyTrace(n){if(null!=n)switch(re){case D.Verbose:return JSON.stringify(n,null,4);case D.Compact:return JSON.stringify(n);default:return}}function traceSendingResponse(n,o,i){if(re!==D.Off&&J)if(ne===R.Text){let s;re!==D.Verbose&&re!==D.Compact||(n.error&&n.error.data?s=`Error data: ${stringifyTrace(n.error.data)}\n\n`:n.result?s=`Result: ${stringifyTrace(n.result)}\n\n`:void 0===n.error&&(s="No result returned.\n\n")),J.log(`Sending response '${o} - (${n.id})'. Processing request took ${Date.now()-i}ms`,s)}else logLSPMessage("send-response",n)}function traceReceivedNotification(n){if(re!==D.Off&&J&&n.method!==P.type.method)if(ne===R.Text){let o;re!==D.Verbose&&re!==D.Compact||(o=n.params?`Params: ${stringifyTrace(n.params)}\n\n`:"No parameters provided.\n\n"),J.log(`Received notification '${n.method}'.`,o)}else logLSPMessage("receive-notification",n)}function logLSPMessage(n,o){if(!J||re===D.Off)return;const i={isLSPMessage:!0,type:n,message:o,timestamp:Date.now()};J.log(i)}function throwIfClosedOrDisposed(){if(isClosed())throw new ConnectionError(M.Closed,"Connection is closed.");if(isDisposed())throw new ConnectionError(M.Disposed,"Connection is disposed.")}function undefinedToNull(n){return void 0===n?null:n}function nullToUndefined(n){return null===n?void 0:n}function isNamedParam(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function computeSingleParam(n,o){switch(n){case h.ParameterStructures.auto:return isNamedParam(o)?nullToUndefined(o):[undefinedToNull(o)];case h.ParameterStructures.byName:if(!isNamedParam(o))throw new Error("Received parameters by name but param is not an object literal.");return nullToUndefined(o);case h.ParameterStructures.byPosition:return[undefinedToNull(o)];default:throw new Error(`Unknown parameter structure ${n.toString()}`)}}function computeMessageParams(n,o){let i;const s=n.numberOfParams;switch(s){case 0:i=void 0;break;case 1:i=computeSingleParam(n.parameterStructures,o[0]);break;default:i=[];for(let n=0;n<o.length&&n<s;n++)i.push(undefinedToNull(o[n]));if(o.length<s)for(let n=o.length;n<s;n++)i.push(null)}return i}const he={sendNotification:(n,...o)=>{let s,f;if(throwIfClosedOrDisposed(),c.string(n)){s=n;const i=o[0];let c=0,E=h.ParameterStructures.auto;h.ParameterStructures.is(i)&&(c=1,E=i);let S=o.length;const A=S-c;switch(A){case 0:f=void 0;break;case 1:f=computeSingleParam(E,o[c]);break;default:if(E===h.ParameterStructures.byName)throw new Error(`Received ${A} parameters for 'by Name' notification parameter structure.`);f=o.slice(c,S).map(n=>undefinedToNull(n))}}else{const i=o;s=n.method,f=computeMessageParams(n,i)}const E={jsonrpc:V,method:s,params:f};return function traceSendingNotification(n){if(re!==D.Off&&J)if(ne===R.Text){let o;re!==D.Verbose&&re!==D.Compact||(o=n.params?`Params: ${stringifyTrace(n.params)}\n\n`:"No parameters provided.\n\n"),J.log(`Sending notification '${n.method}'.`,o)}else logLSPMessage("send-notification",n)}(E),i.write(E).catch(n=>{throw F.error("Sending notification failed."),n})},onNotification:(n,o)=>{let i;return throwIfClosedOrDisposed(),c.func(n)?G=n:o&&(c.string(n)?(i=n,K.set(n,{type:void 0,handler:o})):(i=n.method,K.set(n.method,{type:n,handler:o}))),{dispose:()=>{void 0!==i?K.delete(i):G=void 0}}},onProgress:(n,o,i)=>{if(Y.has(o))throw new Error(`Progress handler for token ${o} already registered`);return Y.set(o,i),{dispose:()=>{Y.delete(o)}}},sendProgress:(n,o,i)=>he.sendNotification(T.type,{token:o,value:i}),onUnhandledProgress:ue.event,sendRequest:(n,...o)=>{let s,f,E;if(throwIfClosedOrDisposed(),function throwIfNotListening(){if(!isListening())throw new Error("Call listen() first.")}(),c.string(n)){s=n;const i=o[0],c=o[o.length-1];let A=0,O=h.ParameterStructures.auto;h.ParameterStructures.is(i)&&(A=1,O=i);let T=o.length;S.CancellationToken.is(c)&&(T-=1,E=c);const _=T-A;switch(_){case 0:f=void 0;break;case 1:f=computeSingleParam(O,o[A]);break;default:if(O===h.ParameterStructures.byName)throw new Error(`Received ${_} parameters for 'by Name' request parameter structure.`);f=o.slice(A,T).map(n=>undefinedToNull(n))}}else{const i=o;s=n.method,f=computeMessageParams(n,i);const c=n.numberOfParams;E=S.CancellationToken.is(i[c])?i[c]:void 0}const A=L++;let O;E&&(O=E.onCancellationRequested(()=>{const n=le.sender.sendCancellation(he,A);return void 0===n?(F.log(`Received no promise from cancellation strategy when cancelling id ${A}`),Promise.resolve()):n.catch(()=>{F.log(`Sending cancellation messages for id ${A} failed`)})}));const T={jsonrpc:V,id:A,method:s,params:f};return function traceSendingRequest(n){if(re!==D.Off&&J)if(ne===R.Text){let o;re!==D.Verbose&&re!==D.Compact||!n.params||(o=`Params: ${stringifyTrace(n.params)}\n\n`),J.log(`Sending request '${n.method} - (${n.id})'.`,o)}else logLSPMessage("send-request",n)}(T),"function"==typeof le.sender.enableCancellation&&le.sender.enableCancellation(T),new Promise(async(n,o)=>{const c={method:s,timerStart:Date.now(),resolve:o=>{n(o),le.sender.cleanup(A),O?.dispose()},reject:n=>{o(n),le.sender.cleanup(A),O?.dispose()}};try{await i.write(T),Z.set(A,c)}catch(n){throw F.error("Sending request failed."),c.reject(new h.ResponseError(h.ErrorCodes.MessageWriteError,n.message?n.message:"Unknown reason")),n}})},onRequest:(n,o)=>{throwIfClosedOrDisposed();let i=null;return _.is(n)?(i=void 0,W=n):c.string(n)?(i=null,void 0!==o&&(i=n,$.set(n,{handler:o,type:void 0}))):void 0!==o&&(i=n.method,$.set(n.method,{type:n,handler:o})),{dispose:()=>{null!==i&&(void 0!==i?$.delete(i):W=void 0)}}},hasPendingResponse:()=>Z.size>0,trace:async(n,o,i)=>{let s=!1,h=R.Text;void 0!==i&&(c.boolean(i)?s=i:(s=i.sendNotification||!1,h=i.traceFormat||R.Text)),re=n,ne=h,J=re===D.Off?void 0:o,!s||isClosed()||isDisposed()||await he.sendNotification(x.type,{value:D.toString(n)})},onError:ie.event,onClose:se.event,onUnhandledNotification:ae.event,onDispose:ce.event,end:()=>{i.end()},dispose:()=>{if(isDisposed())return;oe=q.Disposed,ce.fire(void 0);const o=new h.ResponseError(h.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const n of Z.values())n.reject(o);Z=new Map,te=new Map,ee=new Set,Q=new f.LinkedMap,c.func(i.dispose)&&i.dispose(),c.func(n.dispose)&&n.dispose()},listen:()=>{throwIfClosedOrDisposed(),function throwIfListening(){if(isListening())throw new ConnectionError(M.AlreadyListening,"Connection is already listening")}(),oe=q.Listening,n.listen(callback)},inspect:()=>{(0,s.default)().console.log("inspect")}};return he.onNotification(P.type,n=>{if(re===D.Off||!J)return;const o=re===D.Verbose||re===D.Compact;J.log(n.message,o?n.verbose:void 0)}),he.onNotification(T.type,n=>{const o=Y.get(n.token);o?o(n.value):ue.fire(n)}),he}},34019:(n,o)=>{"use strict";var i;Object.defineProperty(o,"__esModule",{value:!0}),o.Disposable=void 0,function(n){n.create=function create(n){return{dispose:n}}}(i||(o.Disposable=i={}))},62676:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Emitter=o.Event=void 0;const s=i(69590);var c;!function(n){const o={dispose(){}};n.None=function(){return o}}(c||(o.Event=c={}));class CallbackList{add(n,o=null,i){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(n),this._contexts.push(o),Array.isArray(i)&&i.push({dispose:()=>this.remove(n,o)})}remove(n,o=null){if(!this._callbacks)return;let i=!1;for(let s=0,c=this._callbacks.length;s<c;s++)if(this._callbacks[s]===n){if(this._contexts[s]===o)return this._callbacks.splice(s,1),void this._contexts.splice(s,1);i=!0}if(i)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...n){if(!this._callbacks)return[];const o=[],i=this._callbacks.slice(0),c=this._contexts.slice(0);for(let h=0,f=i.length;h<f;h++)try{o.push(i[h].apply(c[h],n))}catch(n){(0,s.default)().console.error(n)}return o}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class Emitter{constructor(n){this._options=n}get event(){return this._event||(this._event=(n,o,i)=>{this._callbacks||(this._callbacks=new CallbackList),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(n,o);const s={dispose:()=>{this._callbacks&&(this._callbacks.remove(n,o),s.dispose=Emitter._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(i)&&i.push(s),s}),this._event}fire(n){this._callbacks&&this._callbacks.invoke.call(this._callbacks,n)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}o.Emitter=Emitter,Emitter._noop=function(){}},78585:(n,o)=>{"use strict";function string(n){return"string"==typeof n||n instanceof String}function array(n){return Array.isArray(n)}Object.defineProperty(o,"__esModule",{value:!0}),o.stringArray=o.array=o.func=o.error=o.number=o.string=o.boolean=void 0,o.boolean=function boolean(n){return!0===n||!1===n},o.string=string,o.number=function number(n){return"number"==typeof n||n instanceof Number},o.error=function error(n){return n instanceof Error},o.func=function func(n){return"function"==typeof n},o.array=array,o.stringArray=function stringArray(n){return array(n)&&n.every(n=>string(n))}},93352:(n,o)=>{"use strict";var i,s;Object.defineProperty(o,"__esModule",{value:!0}),o.LRUCache=o.LinkedMap=o.Touch=void 0,function(n){n.None=0,n.First=1,n.AsOld=n.First,n.Last=2,n.AsNew=n.Last}(s||(o.Touch=s={}));class LinkedMap{constructor(){this[i]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(n){return this._map.has(n)}get(n,o=s.None){const i=this._map.get(n);if(i)return o!==s.None&&this.touch(i,o),i.value}set(n,o,i=s.None){let c=this._map.get(n);if(c)c.value=o,i!==s.None&&this.touch(c,i);else{switch(c={key:n,value:o,next:void 0,previous:void 0},i){case s.None:this.addItemLast(c);break;case s.First:this.addItemFirst(c);break;case s.Last:default:this.addItemLast(c)}this._map.set(n,c),this._size++}return this}delete(n){return!!this.remove(n)}remove(n){const o=this._map.get(n);if(o)return this._map.delete(n),this.removeItem(o),this._size--,o.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const n=this._head;return this._map.delete(n.key),this.removeItem(n),this._size--,n.value}forEach(n,o){const i=this._state;let s=this._head;for(;s;){if(o?n.bind(o)(s.value,s.key,this):n(s.value,s.key,this),this._state!==i)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){const n=this._state;let o=this._head;const i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==n)throw new Error("LinkedMap got modified during iteration.");if(o){const n={value:o.key,done:!1};return o=o.next,n}return{value:void 0,done:!0}}};return i}values(){const n=this._state;let o=this._head;const i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==n)throw new Error("LinkedMap got modified during iteration.");if(o){const n={value:o.value,done:!1};return o=o.next,n}return{value:void 0,done:!0}}};return i}entries(){const n=this._state;let o=this._head;const i={[Symbol.iterator]:()=>i,next:()=>{if(this._state!==n)throw new Error("LinkedMap got modified during iteration.");if(o){const n={value:[o.key,o.value],done:!1};return o=o.next,n}return{value:void 0,done:!0}}};return i}[(i=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(n){if(n>=this.size)return;if(0===n)return void this.clear();let o=this._head,i=this.size;for(;o&&i>n;)this._map.delete(o.key),o=o.next,i--;this._head=o,this._size=i,o&&(o.previous=void 0),this._state++}addItemFirst(n){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");n.next=this._head,this._head.previous=n}else this._tail=n;this._head=n,this._state++}addItemLast(n){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");n.previous=this._tail,this._tail.next=n}else this._head=n;this._tail=n,this._state++}removeItem(n){if(n===this._head&&n===this._tail)this._head=void 0,this._tail=void 0;else if(n===this._head){if(!n.next)throw new Error("Invalid list");n.next.previous=void 0,this._head=n.next}else if(n===this._tail){if(!n.previous)throw new Error("Invalid list");n.previous.next=void 0,this._tail=n.previous}else{const o=n.next,i=n.previous;if(!o||!i)throw new Error("Invalid list");o.previous=i,i.next=o}n.next=void 0,n.previous=void 0,this._state++}touch(n,o){if(!this._head||!this._tail)throw new Error("Invalid list");if(o===s.First||o===s.Last)if(o===s.First){if(n===this._head)return;const o=n.next,i=n.previous;n===this._tail?(i.next=void 0,this._tail=i):(o.previous=i,i.next=o),n.previous=void 0,n.next=this._head,this._head.previous=n,this._head=n,this._state++}else if(o===s.Last){if(n===this._tail)return;const o=n.next,i=n.previous;n===this._head?(o.previous=void 0,this._head=o):(o.previous=i,i.next=o),n.next=void 0,n.previous=this._tail,this._tail.next=n,this._tail=n,this._state++}}toJSON(){const n=[];return this.forEach((o,i)=>{n.push([i,o])}),n}fromJSON(n){this.clear();for(const[o,i]of n)this.set(o,i)}}o.LinkedMap=LinkedMap;o.LRUCache=class LRUCache extends LinkedMap{constructor(n,o=1){super(),this._limit=n,this._ratio=Math.min(Math.max(0,o),1)}get limit(){return this._limit}set limit(n){this._limit=n,this.checkTrim()}get ratio(){return this._ratio}set ratio(n){this._ratio=Math.min(Math.max(0,n),1),this.checkTrim()}get(n,o=s.AsNew){return super.get(n,o)}peek(n){return super.get(n,s.None)}set(n,o){return super.set(n,o,s.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},89244:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.AbstractMessageBuffer=void 0;o.AbstractMessageBuffer=class AbstractMessageBuffer{constructor(n="utf-8"){this._encoding=n,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(n){const o="string"==typeof n?this.fromString(n,this._encoding):n;this._chunks.push(o),this._totalLength+=o.byteLength}tryReadHeaders(n=!1){if(0===this._chunks.length)return;let o=0,i=0,s=0,c=0;e:for(;i<this._chunks.length;){const n=this._chunks[i];for(s=0;s<n.length;){switch(n[s]){case 13:switch(o){case 0:o=1;break;case 2:o=3;break;default:o=0}break;case 10:switch(o){case 1:o=2;break;case 3:o=4,s++;break e;default:o=0}break;default:o=0}s++}c+=n.byteLength,i++}if(4!==o)return;const h=this._read(c+s),f=new Map,E=this.toString(h,"ascii").split("\r\n");if(E.length<2)return f;for(let o=0;o<E.length-2;o++){const i=E[o],s=i.indexOf(":");if(-1===s)throw new Error(`Message header must separate key and value using ':'\n${i}`);const c=i.substr(0,s),h=i.substr(s+1).trim();f.set(n?c.toLowerCase():c,h)}return f}tryReadBody(n){if(!(this._totalLength<n))return this._read(n)}get numberOfBytes(){return this._totalLength}_read(n){if(0===n)return this.emptyBuffer();if(n>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===n){const o=this._chunks[0];return this._chunks.shift(),this._totalLength-=n,this.asNative(o)}if(this._chunks[0].byteLength>n){const o=this._chunks[0],i=this.asNative(o,n);return this._chunks[0]=o.slice(n),this._totalLength-=n,i}const o=this.allocNative(n);let i=0;for(;n>0;){const s=this._chunks[0];if(s.byteLength>n){const c=s.slice(0,n);o.set(c,i),i+=n,this._chunks[0]=s.slice(n),this._totalLength-=n,n-=n}else o.set(s,i),i+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,n-=s.byteLength}return o}}},59085:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ReadableStreamMessageReader=o.AbstractMessageReader=o.MessageReader=void 0;const s=i(69590),c=i(78585),h=i(62676),f=i(94323);var E,S;!function(n){n.is=function is(n){let o=n;return o&&c.func(o.listen)&&c.func(o.dispose)&&c.func(o.onError)&&c.func(o.onClose)&&c.func(o.onPartialMessage)}}(E||(o.MessageReader=E={}));class AbstractMessageReader{constructor(){this.errorEmitter=new h.Emitter,this.closeEmitter=new h.Emitter,this.partialMessageEmitter=new h.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(n){this.errorEmitter.fire(this.asError(n))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(n){this.partialMessageEmitter.fire(n)}asError(n){return n instanceof Error?n:new Error(`Reader received error. Reason: ${c.string(n.message)?n.message:"unknown"}`)}}o.AbstractMessageReader=AbstractMessageReader,function(n){n.fromOptions=function fromOptions(n){let o,i;const c=new Map;let h;const f=new Map;if(void 0===n||"string"==typeof n)o=n??"utf-8";else{if(o=n.charset??"utf-8",void 0!==n.contentDecoder&&(i=n.contentDecoder,c.set(i.name,i)),void 0!==n.contentDecoders)for(const o of n.contentDecoders)c.set(o.name,o);if(void 0!==n.contentTypeDecoder&&(h=n.contentTypeDecoder,f.set(h.name,h)),void 0!==n.contentTypeDecoders)for(const o of n.contentTypeDecoders)f.set(o.name,o)}return void 0===h&&(h=(0,s.default)().applicationJson.decoder,f.set(h.name,h)),{charset:o,contentDecoder:i,contentDecoders:c,contentTypeDecoder:h,contentTypeDecoders:f}}}(S||(S={}));o.ReadableStreamMessageReader=class ReadableStreamMessageReader extends AbstractMessageReader{constructor(n,o){super(),this.readable=n,this.options=S.fromOptions(o),this.buffer=(0,s.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new f.Semaphore(1)}set partialMessageTimeout(n){this._partialMessageTimeout=n}get partialMessageTimeout(){return this._partialMessageTimeout}listen(n){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=n;const o=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),o}onData(n){try{for(this.buffer.append(n);;){if(-1===this.nextMessageLength){const n=this.buffer.tryReadHeaders(!0);if(!n)return;const o=n.get("content-length");if(!o)return void this.fireError(new Error(`Header must provide a Content-Length property.\n${JSON.stringify(Object.fromEntries(n))}`));const i=parseInt(o);if(isNaN(i))return void this.fireError(new Error(`Content-Length value must be a number. Got ${o}`));this.nextMessageLength=i}const n=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===n)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const o=void 0!==this.options.contentDecoder?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(o,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,s.default)().timer.setTimeout((n,o)=>{this.partialMessageTimer=void 0,n===this.messageToken&&(this.firePartialMessage({messageToken:n,waitingTime:o}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},23193:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WriteableStreamMessageWriter=o.AbstractMessageWriter=o.MessageWriter=void 0;const s=i(69590),c=i(78585),h=i(94323),f=i(62676);var E,S;!function(n){n.is=function is(n){let o=n;return o&&c.func(o.dispose)&&c.func(o.onClose)&&c.func(o.onError)&&c.func(o.write)}}(E||(o.MessageWriter=E={}));class AbstractMessageWriter{constructor(){this.errorEmitter=new f.Emitter,this.closeEmitter=new f.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(n,o,i){this.errorEmitter.fire([this.asError(n),o,i])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(n){return n instanceof Error?n:new Error(`Writer received error. Reason: ${c.string(n.message)?n.message:"unknown"}`)}}o.AbstractMessageWriter=AbstractMessageWriter,function(n){n.fromOptions=function fromOptions(n){return void 0===n||"string"==typeof n?{charset:n??"utf-8",contentTypeEncoder:(0,s.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,s.default)().applicationJson.encoder}}}(S||(S={}));o.WriteableStreamMessageWriter=class WriteableStreamMessageWriter extends AbstractMessageWriter{constructor(n,o){super(),this.writable=n,this.options=S.fromOptions(o),this.errorCount=0,this.writeSemaphore=new h.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(n){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(n,this.options).then(n=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(n):n).then(o=>{const i=[];return i.push("Content-Length: ",o.byteLength.toString(),"\r\n"),i.push("\r\n"),this.doWrite(n,i,o)},n=>{throw this.fireError(n),n}))}async doWrite(n,o,i){try{return await this.writable.write(o.join(""),"ascii"),this.writable.write(i)}catch(o){return this.handleError(o,n),Promise.reject(o)}}handleError(n,o){this.errorCount++,this.fireError(n,o,this.errorCount)}end(){this.writable.end()}}},96177:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Message=o.NotificationType9=o.NotificationType8=o.NotificationType7=o.NotificationType6=o.NotificationType5=o.NotificationType4=o.NotificationType3=o.NotificationType2=o.NotificationType1=o.NotificationType0=o.NotificationType=o.RequestType9=o.RequestType8=o.RequestType7=o.RequestType6=o.RequestType5=o.RequestType4=o.RequestType3=o.RequestType2=o.RequestType1=o.RequestType=o.RequestType0=o.AbstractMessageSignature=o.ParameterStructures=o.ResponseError=o.ErrorCodes=void 0;const s=i(78585);var c,h;!function(n){n.ParseError=-32700,n.InvalidRequest=-32600,n.MethodNotFound=-32601,n.InvalidParams=-32602,n.InternalError=-32603,n.jsonrpcReservedErrorRangeStart=-32099,n.serverErrorStart=-32099,n.MessageWriteError=-32099,n.MessageReadError=-32098,n.PendingResponseRejected=-32097,n.ConnectionInactive=-32096,n.ServerNotInitialized=-32002,n.UnknownErrorCode=-32001,n.jsonrpcReservedErrorRangeEnd=-32e3,n.serverErrorEnd=-32e3}(c||(o.ErrorCodes=c={}));class ResponseError extends Error{constructor(n,o,i){super(o),this.code=s.number(n)?n:c.UnknownErrorCode,this.data=i,Object.setPrototypeOf(this,ResponseError.prototype)}toJson(){const n={code:this.code,message:this.message};return void 0!==this.data&&(n.data=this.data),n}}o.ResponseError=ResponseError;class ParameterStructures{constructor(n){this.kind=n}static is(n){return n===ParameterStructures.auto||n===ParameterStructures.byName||n===ParameterStructures.byPosition}toString(){return this.kind}}o.ParameterStructures=ParameterStructures,ParameterStructures.auto=new ParameterStructures("auto"),ParameterStructures.byPosition=new ParameterStructures("byPosition"),ParameterStructures.byName=new ParameterStructures("byName");class AbstractMessageSignature{constructor(n,o){this.method=n,this.numberOfParams=o}get parameterStructures(){return ParameterStructures.auto}}o.AbstractMessageSignature=AbstractMessageSignature;o.RequestType0=class RequestType0 extends AbstractMessageSignature{constructor(n){super(n,0)}};o.RequestType=class RequestType extends AbstractMessageSignature{constructor(n,o=ParameterStructures.auto){super(n,1),this._parameterStructures=o}get parameterStructures(){return this._parameterStructures}};o.RequestType1=class RequestType1 extends AbstractMessageSignature{constructor(n,o=ParameterStructures.auto){super(n,1),this._parameterStructures=o}get parameterStructures(){return this._parameterStructures}};o.RequestType2=class RequestType2 extends AbstractMessageSignature{constructor(n){super(n,2)}};o.RequestType3=class RequestType3 extends AbstractMessageSignature{constructor(n){super(n,3)}};o.RequestType4=class RequestType4 extends AbstractMessageSignature{constructor(n){super(n,4)}};o.RequestType5=class RequestType5 extends AbstractMessageSignature{constructor(n){super(n,5)}};o.RequestType6=class RequestType6 extends AbstractMessageSignature{constructor(n){super(n,6)}};o.RequestType7=class RequestType7 extends AbstractMessageSignature{constructor(n){super(n,7)}};o.RequestType8=class RequestType8 extends AbstractMessageSignature{constructor(n){super(n,8)}};o.RequestType9=class RequestType9 extends AbstractMessageSignature{constructor(n){super(n,9)}};o.NotificationType=class NotificationType extends AbstractMessageSignature{constructor(n,o=ParameterStructures.auto){super(n,1),this._parameterStructures=o}get parameterStructures(){return this._parameterStructures}};o.NotificationType0=class NotificationType0 extends AbstractMessageSignature{constructor(n){super(n,0)}};o.NotificationType1=class NotificationType1 extends AbstractMessageSignature{constructor(n,o=ParameterStructures.auto){super(n,1),this._parameterStructures=o}get parameterStructures(){return this._parameterStructures}};o.NotificationType2=class NotificationType2 extends AbstractMessageSignature{constructor(n){super(n,2)}};o.NotificationType3=class NotificationType3 extends AbstractMessageSignature{constructor(n){super(n,3)}};o.NotificationType4=class NotificationType4 extends AbstractMessageSignature{constructor(n){super(n,4)}};o.NotificationType5=class NotificationType5 extends AbstractMessageSignature{constructor(n){super(n,5)}};o.NotificationType6=class NotificationType6 extends AbstractMessageSignature{constructor(n){super(n,6)}};o.NotificationType7=class NotificationType7 extends AbstractMessageSignature{constructor(n){super(n,7)}};o.NotificationType8=class NotificationType8 extends AbstractMessageSignature{constructor(n){super(n,8)}};o.NotificationType9=class NotificationType9 extends AbstractMessageSignature{constructor(n){super(n,9)}},function(n){n.isRequest=function isRequest(n){const o=n;return o&&s.string(o.method)&&(s.string(o.id)||s.number(o.id))},n.isNotification=function isNotification(n){const o=n;return o&&s.string(o.method)&&void 0===n.id},n.isResponse=function isResponse(n){const o=n;return o&&(void 0!==o.result||!!o.error)&&(s.string(o.id)||s.number(o.id)||null===o.id)}}(h||(o.Message=h={}))},69590:(n,o)=>{"use strict";let i;function RAL(){if(void 0===i)throw new Error("No runtime abstraction layer installed");return i}Object.defineProperty(o,"__esModule",{value:!0}),function(n){n.install=function install(n){if(void 0===n)throw new Error("No runtime abstraction layer provided");i=n}}(RAL||(RAL={})),o.default=RAL},94323:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.Semaphore=void 0;const s=i(69590);o.Semaphore=class Semaphore{constructor(n=1){if(n<=0)throw new Error("Capacity must be greater than 0");this._capacity=n,this._active=0,this._waiting=[]}lock(n){return new Promise((o,i)=>{this._waiting.push({thunk:n,resolve:o,reject:i}),this.runNext()})}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,s.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const n=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const o=n.thunk();o instanceof Promise?o.then(o=>{this._active--,n.resolve(o),this.runNext()},o=>{this._active--,n.reject(o),this.runNext()}):(this._active--,n.resolve(o),this.runNext())}catch(o){this._active--,n.reject(o),this.runNext()}}}},74996:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SharedArrayReceiverStrategy=o.SharedArraySenderStrategy=void 0;const s=i(59850);var c;!function(n){n.Continue=0,n.Cancelled=1}(c||(c={}));o.SharedArraySenderStrategy=class SharedArraySenderStrategy{constructor(){this.buffers=new Map}enableCancellation(n){if(null===n.id)return;const o=new SharedArrayBuffer(4);new Int32Array(o,0,1)[0]=c.Continue,this.buffers.set(n.id,o),n.$cancellationData=o}async sendCancellation(n,o){const i=this.buffers.get(o);if(void 0===i)return;const s=new Int32Array(i,0,1);Atomics.store(s,0,c.Cancelled)}cleanup(n){this.buffers.delete(n)}dispose(){this.buffers.clear()}};class SharedArrayBufferCancellationToken{constructor(n){this.data=new Int32Array(n,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===c.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class SharedArrayBufferCancellationTokenSource{constructor(n){this.token=new SharedArrayBufferCancellationToken(n)}cancel(){}dispose(){}}o.SharedArrayReceiverStrategy=class SharedArrayReceiverStrategy{constructor(){this.kind="request"}createCancellationTokenSource(n){const o=n.$cancellationData;return void 0===o?new s.CancellationTokenSource:new SharedArrayBufferCancellationTokenSource(o)}}},77123:function(n,o,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(n,o,i,s){void 0===s&&(s=i);var c=Object.getOwnPropertyDescriptor(o,i);c&&!("get"in c?!o.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,c)}:function(n,o,i,s){void 0===s&&(s=i),n[s]=o[i]}),c=this&&this.__exportStar||function(n,o){for(var i in n)"default"===i||Object.prototype.hasOwnProperty.call(o,i)||s(o,n,i)};Object.defineProperty(o,"__esModule",{value:!0}),o.createMessageConnection=o.createServerSocketTransport=o.createClientSocketTransport=o.createServerPipeTransport=o.createClientPipeTransport=o.generateRandomPipeName=o.StreamMessageWriter=o.StreamMessageReader=o.SocketMessageWriter=o.SocketMessageReader=o.PortMessageWriter=o.PortMessageReader=o.IPCMessageWriter=o.IPCMessageReader=void 0;const h=i(9571);h.default.install();const f=i(16928),E=i(70857),S=i(76982),A=i(69278),O=i(53281);c(i(53281),o);class IPCMessageReader extends O.AbstractMessageReader{constructor(n){super(),this.process=n;let o=this.process;o.on("error",n=>this.fireError(n)),o.on("close",()=>this.fireClose())}listen(n){return this.process.on("message",n),O.Disposable.create(()=>this.process.off("message",n))}}o.IPCMessageReader=IPCMessageReader;class IPCMessageWriter extends O.AbstractMessageWriter{constructor(n){super(),this.process=n,this.errorCount=0;const o=this.process;o.on("error",n=>this.fireError(n)),o.on("close",()=>this.fireClose)}write(n){try{return"function"==typeof this.process.send&&this.process.send(n,void 0,void 0,o=>{o?(this.errorCount++,this.handleError(o,n)):this.errorCount=0}),Promise.resolve()}catch(o){return this.handleError(o,n),Promise.reject(o)}}handleError(n,o){this.errorCount++,this.fireError(n,o,this.errorCount)}end(){}}o.IPCMessageWriter=IPCMessageWriter;class PortMessageReader extends O.AbstractMessageReader{constructor(n){super(),this.onData=new O.Emitter,n.on("close",()=>this.fireClose),n.on("error",n=>this.fireError(n)),n.on("message",n=>{this.onData.fire(n)})}listen(n){return this.onData.event(n)}}o.PortMessageReader=PortMessageReader;class PortMessageWriter extends O.AbstractMessageWriter{constructor(n){super(),this.port=n,this.errorCount=0,n.on("close",()=>this.fireClose()),n.on("error",n=>this.fireError(n))}write(n){try{return this.port.postMessage(n),Promise.resolve()}catch(o){return this.handleError(o,n),Promise.reject(o)}}handleError(n,o){this.errorCount++,this.fireError(n,o,this.errorCount)}end(){}}o.PortMessageWriter=PortMessageWriter;class SocketMessageReader extends O.ReadableStreamMessageReader{constructor(n,o="utf-8"){super((0,h.default)().stream.asReadableStream(n),o)}}o.SocketMessageReader=SocketMessageReader;class SocketMessageWriter extends O.WriteableStreamMessageWriter{constructor(n,o){super((0,h.default)().stream.asWritableStream(n),o),this.socket=n}dispose(){super.dispose(),this.socket.destroy()}}o.SocketMessageWriter=SocketMessageWriter;class StreamMessageReader extends O.ReadableStreamMessageReader{constructor(n,o){super((0,h.default)().stream.asReadableStream(n),o)}}o.StreamMessageReader=StreamMessageReader;class StreamMessageWriter extends O.WriteableStreamMessageWriter{constructor(n,o){super((0,h.default)().stream.asWritableStream(n),o)}}o.StreamMessageWriter=StreamMessageWriter;const T=process.env.XDG_RUNTIME_DIR,_=new Map([["linux",107],["darwin",103]]);o.generateRandomPipeName=function generateRandomPipeName(){const n=(0,S.randomBytes)(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${n}-sock`;let o;o=T?f.join(T,`vscode-ipc-${n}.sock`):f.join(E.tmpdir(),`vscode-${n}.sock`);const i=_.get(process.platform);return void 0!==i&&o.length>i&&(0,h.default)().console.warn(`WARNING: IPC handle "${o}" is longer than ${i} characters.`),o},o.createClientPipeTransport=function createClientPipeTransport(n,o="utf-8"){let i;const s=new Promise((n,o)=>{i=n});return new Promise((c,h)=>{let f=(0,A.createServer)(n=>{f.close(),i([new SocketMessageReader(n,o),new SocketMessageWriter(n,o)])});f.on("error",h),f.listen(n,()=>{f.removeListener("error",h),c({onConnected:()=>s})})})},o.createServerPipeTransport=function createServerPipeTransport(n,o="utf-8"){const i=(0,A.createConnection)(n);return[new SocketMessageReader(i,o),new SocketMessageWriter(i,o)]},o.createClientSocketTransport=function createClientSocketTransport(n,o="utf-8"){let i;const s=new Promise((n,o)=>{i=n});return new Promise((c,h)=>{const f=(0,A.createServer)(n=>{f.close(),i([new SocketMessageReader(n,o),new SocketMessageWriter(n,o)])});f.on("error",h),f.listen(n,"127.0.0.1",()=>{f.removeListener("error",h),c({onConnected:()=>s})})})},o.createServerSocketTransport=function createServerSocketTransport(n,o="utf-8"){const i=(0,A.createConnection)(n,"127.0.0.1");return[new SocketMessageReader(i,o),new SocketMessageWriter(i,o)]},o.createMessageConnection=function createMessageConnection(n,o,i,s){i||(i=O.NullLogger);const c=function isReadableStream(n){const o=n;return void 0!==o.read&&void 0!==o.addListener}(n)?new StreamMessageReader(n):n,h=function isWritableStream(n){const o=n;return void 0!==o.write&&void 0!==o.addListener}(o)?new StreamMessageWriter(o):o;return O.ConnectionStrategy.is(s)&&(s={connectionStrategy:s}),(0,O.createMessageConnection)(c,h,i,s)}},9571:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=i(39023),c=i(53281);class MessageBuffer extends c.AbstractMessageBuffer{constructor(n="utf-8"){super(n)}emptyBuffer(){return MessageBuffer.emptyBuffer}fromString(n,o){return Buffer.from(n,o)}toString(n,o){return n instanceof Buffer?n.toString(o):new s.TextDecoder(o).decode(n)}asNative(n,o){return void 0===o?n instanceof Buffer?n:Buffer.from(n):n instanceof Buffer?n.slice(0,o):Buffer.from(n,0,o)}allocNative(n){return Buffer.allocUnsafe(n)}}MessageBuffer.emptyBuffer=Buffer.allocUnsafe(0);class ReadableStreamWrapper{constructor(n){this.stream=n}onClose(n){return this.stream.on("close",n),c.Disposable.create(()=>this.stream.off("close",n))}onError(n){return this.stream.on("error",n),c.Disposable.create(()=>this.stream.off("error",n))}onEnd(n){return this.stream.on("end",n),c.Disposable.create(()=>this.stream.off("end",n))}onData(n){return this.stream.on("data",n),c.Disposable.create(()=>this.stream.off("data",n))}}class WritableStreamWrapper{constructor(n){this.stream=n}onClose(n){return this.stream.on("close",n),c.Disposable.create(()=>this.stream.off("close",n))}onError(n){return this.stream.on("error",n),c.Disposable.create(()=>this.stream.off("error",n))}onEnd(n){return this.stream.on("end",n),c.Disposable.create(()=>this.stream.off("end",n))}write(n,o){return new Promise((i,s)=>{const callback=n=>{null==n?i():s(n)};"string"==typeof n?this.stream.write(n,o,callback):this.stream.write(n,callback)})}end(){this.stream.end()}}const h=Object.freeze({messageBuffer:Object.freeze({create:n=>new MessageBuffer(n)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(n,o)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(n,void 0,0),o.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(n,o)=>{try{return n instanceof Buffer?Promise.resolve(JSON.parse(n.toString(o.charset))):Promise.resolve(JSON.parse(new s.TextDecoder(o.charset).decode(n)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:n=>new ReadableStreamWrapper(n),asWritableStream:n=>new WritableStreamWrapper(n)}),console,timer:Object.freeze({setTimeout(n,o,...i){const s=setTimeout(n,o,...i);return{dispose:()=>clearTimeout(s)}},setImmediate(n,...o){const i=setImmediate(n,...o);return{dispose:()=>clearImmediate(i)}},setInterval(n,o,...i){const s=setInterval(n,o,...i);return{dispose:()=>clearInterval(s)}}})});function RIL(){return h}!function(n){n.install=function install(){c.RAL.install(h)}}(RIL||(RIL={})),o.default=RIL},52067:(n,o,i)=>{"use strict";n.exports=i(77123)},98766:function(n,o,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(n,o,i,s){void 0===s&&(s=i);var c=Object.getOwnPropertyDescriptor(o,i);c&&!("get"in c?!o.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,c)}:function(n,o,i,s){void 0===s&&(s=i),n[s]=o[i]}),c=this&&this.__exportStar||function(n,o){for(var i in n)"default"===i||Object.prototype.hasOwnProperty.call(o,i)||s(o,n,i)};Object.defineProperty(o,"__esModule",{value:!0}),o.LSPErrorCodes=o.createProtocolConnection=void 0,c(i(77123),o),c(i(46203),o),c(i(90372),o),c(i(91560),o);var h,f=i(41580);Object.defineProperty(o,"createProtocolConnection",{enumerable:!0,get:function(){return f.createProtocolConnection}}),function(n){n.lspReservedErrorRangeStart=-32899,n.RequestFailed=-32803,n.ServerCancelled=-32802,n.ContentModified=-32801,n.RequestCancelled=-32800,n.lspReservedErrorRangeEnd=-32800}(h||(o.LSPErrorCodes=h={}))},41580:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.createProtocolConnection=void 0;const s=i(77123);o.createProtocolConnection=function createProtocolConnection(n,o,i,c){return s.ConnectionStrategy.is(c)&&(c={connectionStrategy:c}),(0,s.createMessageConnection)(n,o,i,c)}},90372:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ProtocolNotificationType=o.ProtocolNotificationType0=o.ProtocolRequestType=o.ProtocolRequestType0=o.RegistrationType=o.MessageDirection=void 0;const s=i(77123);var c;!function(n){n.clientToServer="clientToServer",n.serverToClient="serverToClient",n.both="both"}(c||(o.MessageDirection=c={}));o.RegistrationType=class RegistrationType{constructor(n){this.method=n}};class ProtocolRequestType0 extends s.RequestType0{constructor(n){super(n)}}o.ProtocolRequestType0=ProtocolRequestType0;class ProtocolRequestType extends s.RequestType{constructor(n){super(n,s.ParameterStructures.byName)}}o.ProtocolRequestType=ProtocolRequestType;class ProtocolNotificationType0 extends s.NotificationType0{constructor(n){super(n)}}o.ProtocolNotificationType0=ProtocolNotificationType0;class ProtocolNotificationType extends s.NotificationType{constructor(n){super(n,s.ParameterStructures.byName)}}o.ProtocolNotificationType=ProtocolNotificationType},48765:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CallHierarchyOutgoingCallsRequest=o.CallHierarchyIncomingCallsRequest=o.CallHierarchyPrepareRequest=void 0;const s=i(90372);var c,h,f;!function(n){n.method="textDocument/prepareCallHierarchy",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.CallHierarchyPrepareRequest=c={})),function(n){n.method="callHierarchy/incomingCalls",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(h||(o.CallHierarchyIncomingCallsRequest=h={})),function(n){n.method="callHierarchy/outgoingCalls",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(f||(o.CallHierarchyOutgoingCallsRequest=f={}))},77672:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ColorPresentationRequest=o.DocumentColorRequest=void 0;const s=i(90372);var c,h;!function(n){n.method="textDocument/documentColor",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.DocumentColorRequest=c={})),function(n){n.method="textDocument/colorPresentation",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(h||(o.ColorPresentationRequest=h={}))},41660:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigurationRequest=void 0;const s=i(90372);var c;!function(n){n.method="workspace/configuration",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType(n.method)}(c||(o.ConfigurationRequest=c={}))},46914:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DeclarationRequest=void 0;const s=i(90372);var c;!function(n){n.method="textDocument/declaration",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.DeclarationRequest=c={}))},26011:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DiagnosticRefreshRequest=o.WorkspaceDiagnosticRequest=o.DocumentDiagnosticRequest=o.DocumentDiagnosticReportKind=o.DiagnosticServerCancellationData=void 0;const s=i(77123),c=i(38598),h=i(90372);var f,E,S,A,O;!function(n){n.is=function is(n){const o=n;return o&&c.boolean(o.retriggerRequest)}}(f||(o.DiagnosticServerCancellationData=f={})),function(n){n.Full="full",n.Unchanged="unchanged"}(E||(o.DocumentDiagnosticReportKind=E={})),function(n){n.method="textDocument/diagnostic",n.messageDirection=h.MessageDirection.clientToServer,n.type=new h.ProtocolRequestType(n.method),n.partialResult=new s.ProgressType}(S||(o.DocumentDiagnosticRequest=S={})),function(n){n.method="workspace/diagnostic",n.messageDirection=h.MessageDirection.clientToServer,n.type=new h.ProtocolRequestType(n.method),n.partialResult=new s.ProgressType}(A||(o.WorkspaceDiagnosticRequest=A={})),function(n){n.method="workspace/diagnostic/refresh",n.messageDirection=h.MessageDirection.serverToClient,n.type=new h.ProtocolRequestType0(n.method)}(O||(o.DiagnosticRefreshRequest=O={}))},69840:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WillDeleteFilesRequest=o.DidDeleteFilesNotification=o.DidRenameFilesNotification=o.WillRenameFilesRequest=o.DidCreateFilesNotification=o.WillCreateFilesRequest=o.FileOperationPatternKind=void 0;const s=i(90372);var c,h,f,E,S,A,O;!function(n){n.file="file",n.folder="folder"}(c||(o.FileOperationPatternKind=c={})),function(n){n.method="workspace/willCreateFiles",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(h||(o.WillCreateFilesRequest=h={})),function(n){n.method="workspace/didCreateFiles",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(f||(o.DidCreateFilesNotification=f={})),function(n){n.method="workspace/willRenameFiles",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(E||(o.WillRenameFilesRequest=E={})),function(n){n.method="workspace/didRenameFiles",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(S||(o.DidRenameFilesNotification=S={})),function(n){n.method="workspace/didDeleteFiles",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(A||(o.DidDeleteFilesNotification=A={})),function(n){n.method="workspace/willDeleteFiles",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(O||(o.WillDeleteFilesRequest=O={}))},2874:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FoldingRangeRefreshRequest=o.FoldingRangeRequest=void 0;const s=i(90372);var c,h;!function(n){n.method="textDocument/foldingRange",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.FoldingRangeRequest=c={})),function(n){n.method="workspace/foldingRange/refresh",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType0(n.method)}(h||(o.FoldingRangeRefreshRequest=h={}))},39574:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ImplementationRequest=void 0;const s=i(90372);var c;!function(n){n.method="textDocument/implementation",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.ImplementationRequest=c={}))},77752:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.InlayHintRefreshRequest=o.InlayHintResolveRequest=o.InlayHintRequest=void 0;const s=i(90372);var c,h,f;!function(n){n.method="textDocument/inlayHint",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.InlayHintRequest=c={})),function(n){n.method="inlayHint/resolve",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(h||(o.InlayHintResolveRequest=h={})),function(n){n.method="workspace/inlayHint/refresh",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType0(n.method)}(f||(o.InlayHintRefreshRequest=f={}))},13307:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.InlineCompletionRequest=void 0;const s=i(90372);var c;!function(n){n.method="textDocument/inlineCompletion",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.InlineCompletionRequest=c={}))},63124:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.InlineValueRefreshRequest=o.InlineValueRequest=void 0;const s=i(90372);var c,h;!function(n){n.method="textDocument/inlineValue",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.InlineValueRequest=c={})),function(n){n.method="workspace/inlineValue/refresh",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType0(n.method)}(h||(o.InlineValueRefreshRequest=h={}))},91560:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WorkspaceSymbolRequest=o.CodeActionResolveRequest=o.CodeActionRequest=o.DocumentSymbolRequest=o.DocumentHighlightRequest=o.ReferencesRequest=o.DefinitionRequest=o.SignatureHelpRequest=o.SignatureHelpTriggerKind=o.HoverRequest=o.CompletionResolveRequest=o.CompletionRequest=o.CompletionTriggerKind=o.PublishDiagnosticsNotification=o.WatchKind=o.RelativePattern=o.FileChangeType=o.DidChangeWatchedFilesNotification=o.WillSaveTextDocumentWaitUntilRequest=o.WillSaveTextDocumentNotification=o.TextDocumentSaveReason=o.DidSaveTextDocumentNotification=o.DidCloseTextDocumentNotification=o.DidChangeTextDocumentNotification=o.TextDocumentContentChangeEvent=o.DidOpenTextDocumentNotification=o.TextDocumentSyncKind=o.TelemetryEventNotification=o.LogMessageNotification=o.ShowMessageRequest=o.ShowMessageNotification=o.MessageType=o.DidChangeConfigurationNotification=o.ExitNotification=o.ShutdownRequest=o.InitializedNotification=o.InitializeErrorCodes=o.InitializeRequest=o.WorkDoneProgressOptions=o.TextDocumentRegistrationOptions=o.StaticRegistrationOptions=o.PositionEncodingKind=o.FailureHandlingKind=o.ResourceOperationKind=o.UnregistrationRequest=o.RegistrationRequest=o.DocumentSelector=o.NotebookCellTextDocumentFilter=o.NotebookDocumentFilter=o.TextDocumentFilter=void 0,o.MonikerRequest=o.MonikerKind=o.UniquenessLevel=o.WillDeleteFilesRequest=o.DidDeleteFilesNotification=o.WillRenameFilesRequest=o.DidRenameFilesNotification=o.WillCreateFilesRequest=o.DidCreateFilesNotification=o.FileOperationPatternKind=o.LinkedEditingRangeRequest=o.ShowDocumentRequest=o.SemanticTokensRegistrationType=o.SemanticTokensRefreshRequest=o.SemanticTokensRangeRequest=o.SemanticTokensDeltaRequest=o.SemanticTokensRequest=o.TokenFormat=o.CallHierarchyPrepareRequest=o.CallHierarchyOutgoingCallsRequest=o.CallHierarchyIncomingCallsRequest=o.WorkDoneProgressCancelNotification=o.WorkDoneProgressCreateRequest=o.WorkDoneProgress=o.SelectionRangeRequest=o.DeclarationRequest=o.FoldingRangeRefreshRequest=o.FoldingRangeRequest=o.ColorPresentationRequest=o.DocumentColorRequest=o.ConfigurationRequest=o.DidChangeWorkspaceFoldersNotification=o.WorkspaceFoldersRequest=o.TypeDefinitionRequest=o.ImplementationRequest=o.ApplyWorkspaceEditRequest=o.ExecuteCommandRequest=o.PrepareRenameRequest=o.RenameRequest=o.PrepareSupportDefaultBehavior=o.DocumentOnTypeFormattingRequest=o.DocumentRangesFormattingRequest=o.DocumentRangeFormattingRequest=o.DocumentFormattingRequest=o.DocumentLinkResolveRequest=o.DocumentLinkRequest=o.CodeLensRefreshRequest=o.CodeLensResolveRequest=o.CodeLensRequest=o.WorkspaceSymbolResolveRequest=void 0,o.InlineCompletionRequest=o.DidCloseNotebookDocumentNotification=o.DidSaveNotebookDocumentNotification=o.DidChangeNotebookDocumentNotification=o.NotebookCellArrayChange=o.DidOpenNotebookDocumentNotification=o.NotebookDocumentSyncRegistrationType=o.NotebookDocument=o.NotebookCell=o.ExecutionSummary=o.NotebookCellKind=o.DiagnosticRefreshRequest=o.WorkspaceDiagnosticRequest=o.DocumentDiagnosticRequest=o.DocumentDiagnosticReportKind=o.DiagnosticServerCancellationData=o.InlayHintRefreshRequest=o.InlayHintResolveRequest=o.InlayHintRequest=o.InlineValueRefreshRequest=o.InlineValueRequest=o.TypeHierarchySupertypesRequest=o.TypeHierarchySubtypesRequest=o.TypeHierarchyPrepareRequest=void 0;const s=i(90372),c=i(46203),h=i(38598),f=i(39574);Object.defineProperty(o,"ImplementationRequest",{enumerable:!0,get:function(){return f.ImplementationRequest}});const E=i(68461);Object.defineProperty(o,"TypeDefinitionRequest",{enumerable:!0,get:function(){return E.TypeDefinitionRequest}});const S=i(99935);Object.defineProperty(o,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return S.WorkspaceFoldersRequest}}),Object.defineProperty(o,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return S.DidChangeWorkspaceFoldersNotification}});const A=i(41660);Object.defineProperty(o,"ConfigurationRequest",{enumerable:!0,get:function(){return A.ConfigurationRequest}});const O=i(77672);Object.defineProperty(o,"DocumentColorRequest",{enumerable:!0,get:function(){return O.DocumentColorRequest}}),Object.defineProperty(o,"ColorPresentationRequest",{enumerable:!0,get:function(){return O.ColorPresentationRequest}});const T=i(2874);Object.defineProperty(o,"FoldingRangeRequest",{enumerable:!0,get:function(){return T.FoldingRangeRequest}}),Object.defineProperty(o,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return T.FoldingRangeRefreshRequest}});const _=i(46914);Object.defineProperty(o,"DeclarationRequest",{enumerable:!0,get:function(){return _.DeclarationRequest}});const D=i(33487);Object.defineProperty(o,"SelectionRangeRequest",{enumerable:!0,get:function(){return D.SelectionRangeRequest}});const N=i(32687);Object.defineProperty(o,"WorkDoneProgress",{enumerable:!0,get:function(){return N.WorkDoneProgress}}),Object.defineProperty(o,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return N.WorkDoneProgressCreateRequest}}),Object.defineProperty(o,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return N.WorkDoneProgressCancelNotification}});const R=i(48765);Object.defineProperty(o,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return R.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(o,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return R.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(o,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return R.CallHierarchyPrepareRequest}});const x=i(72478);Object.defineProperty(o,"TokenFormat",{enumerable:!0,get:function(){return x.TokenFormat}}),Object.defineProperty(o,"SemanticTokensRequest",{enumerable:!0,get:function(){return x.SemanticTokensRequest}}),Object.defineProperty(o,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return x.SemanticTokensDeltaRequest}}),Object.defineProperty(o,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return x.SemanticTokensRangeRequest}}),Object.defineProperty(o,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return x.SemanticTokensRefreshRequest}}),Object.defineProperty(o,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return x.SemanticTokensRegistrationType}});const P=i(80908);Object.defineProperty(o,"ShowDocumentRequest",{enumerable:!0,get:function(){return P.ShowDocumentRequest}});const M=i(35316);Object.defineProperty(o,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return M.LinkedEditingRangeRequest}});const I=i(69840);Object.defineProperty(o,"FileOperationPatternKind",{enumerable:!0,get:function(){return I.FileOperationPatternKind}}),Object.defineProperty(o,"DidCreateFilesNotification",{enumerable:!0,get:function(){return I.DidCreateFilesNotification}}),Object.defineProperty(o,"WillCreateFilesRequest",{enumerable:!0,get:function(){return I.WillCreateFilesRequest}}),Object.defineProperty(o,"DidRenameFilesNotification",{enumerable:!0,get:function(){return I.DidRenameFilesNotification}}),Object.defineProperty(o,"WillRenameFilesRequest",{enumerable:!0,get:function(){return I.WillRenameFilesRequest}}),Object.defineProperty(o,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return I.DidDeleteFilesNotification}}),Object.defineProperty(o,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return I.WillDeleteFilesRequest}});const B=i(9047);Object.defineProperty(o,"UniquenessLevel",{enumerable:!0,get:function(){return B.UniquenessLevel}}),Object.defineProperty(o,"MonikerKind",{enumerable:!0,get:function(){return B.MonikerKind}}),Object.defineProperty(o,"MonikerRequest",{enumerable:!0,get:function(){return B.MonikerRequest}});const F=i(50645);Object.defineProperty(o,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return F.TypeHierarchyPrepareRequest}}),Object.defineProperty(o,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return F.TypeHierarchySubtypesRequest}}),Object.defineProperty(o,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return F.TypeHierarchySupertypesRequest}});const L=i(63124);Object.defineProperty(o,"InlineValueRequest",{enumerable:!0,get:function(){return L.InlineValueRequest}}),Object.defineProperty(o,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return L.InlineValueRefreshRequest}});const k=i(77752);Object.defineProperty(o,"InlayHintRequest",{enumerable:!0,get:function(){return k.InlayHintRequest}}),Object.defineProperty(o,"InlayHintResolveRequest",{enumerable:!0,get:function(){return k.InlayHintResolveRequest}}),Object.defineProperty(o,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return k.InlayHintRefreshRequest}});const j=i(26011);Object.defineProperty(o,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return j.DiagnosticServerCancellationData}}),Object.defineProperty(o,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return j.DocumentDiagnosticReportKind}}),Object.defineProperty(o,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return j.DocumentDiagnosticRequest}}),Object.defineProperty(o,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return j.WorkspaceDiagnosticRequest}}),Object.defineProperty(o,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return j.DiagnosticRefreshRequest}});const U=i(53557);Object.defineProperty(o,"NotebookCellKind",{enumerable:!0,get:function(){return U.NotebookCellKind}}),Object.defineProperty(o,"ExecutionSummary",{enumerable:!0,get:function(){return U.ExecutionSummary}}),Object.defineProperty(o,"NotebookCell",{enumerable:!0,get:function(){return U.NotebookCell}}),Object.defineProperty(o,"NotebookDocument",{enumerable:!0,get:function(){return U.NotebookDocument}}),Object.defineProperty(o,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return U.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(o,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return U.DidOpenNotebookDocumentNotification}}),Object.defineProperty(o,"NotebookCellArrayChange",{enumerable:!0,get:function(){return U.NotebookCellArrayChange}}),Object.defineProperty(o,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return U.DidChangeNotebookDocumentNotification}}),Object.defineProperty(o,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return U.DidSaveNotebookDocumentNotification}}),Object.defineProperty(o,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return U.DidCloseNotebookDocumentNotification}});const z=i(13307);var q,V,W,$,G,K,Y,X,J,Q,Z,ee,te,re,ne,oe,ie,se,ae,ue,ce,le,he,de,pe,fe,me,ge,ye,Ee,Ce,Se,Ae,be,Oe,ve,Te,_e,De,Ne,we,Re,xe,Pe,Me,Ie,Be,Fe,Le,ke,je,Ue,ze,qe,Ve,We,He,$e,Ge,Ke,Ye,Xe,Je,Qe,Ze;Object.defineProperty(o,"InlineCompletionRequest",{enumerable:!0,get:function(){return z.InlineCompletionRequest}}),function(n){n.is=function is(n){const o=n;return h.string(o)||h.string(o.language)||h.string(o.scheme)||h.string(o.pattern)}}(q||(o.TextDocumentFilter=q={})),function(n){n.is=function is(n){const o=n;return h.objectLiteral(o)&&(h.string(o.notebookType)||h.string(o.scheme)||h.string(o.pattern))}}(V||(o.NotebookDocumentFilter=V={})),function(n){n.is=function is(n){const o=n;return h.objectLiteral(o)&&(h.string(o.notebook)||V.is(o.notebook))&&(void 0===o.language||h.string(o.language))}}(W||(o.NotebookCellTextDocumentFilter=W={})),function(n){n.is=function is(n){if(!Array.isArray(n))return!1;for(let o of n)if(!h.string(o)&&!q.is(o)&&!W.is(o))return!1;return!0}}($||(o.DocumentSelector=$={})),function(n){n.method="client/registerCapability",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType(n.method)}(G||(o.RegistrationRequest=G={})),function(n){n.method="client/unregisterCapability",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType(n.method)}(K||(o.UnregistrationRequest=K={})),function(n){n.Create="create",n.Rename="rename",n.Delete="delete"}(Y||(o.ResourceOperationKind=Y={})),function(n){n.Abort="abort",n.Transactional="transactional",n.TextOnlyTransactional="textOnlyTransactional",n.Undo="undo"}(X||(o.FailureHandlingKind=X={})),function(n){n.UTF8="utf-8",n.UTF16="utf-16",n.UTF32="utf-32"}(J||(o.PositionEncodingKind=J={})),function(n){n.hasId=function hasId(n){const o=n;return o&&h.string(o.id)&&o.id.length>0}}(Q||(o.StaticRegistrationOptions=Q={})),function(n){n.is=function is(n){const o=n;return o&&(null===o.documentSelector||$.is(o.documentSelector))}}(Z||(o.TextDocumentRegistrationOptions=Z={})),function(n){n.is=function is(n){const o=n;return h.objectLiteral(o)&&(void 0===o.workDoneProgress||h.boolean(o.workDoneProgress))},n.hasWorkDoneProgress=function hasWorkDoneProgress(n){const o=n;return o&&h.boolean(o.workDoneProgress)}}(ee||(o.WorkDoneProgressOptions=ee={})),function(n){n.method="initialize",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(te||(o.InitializeRequest=te={})),function(n){n.unknownProtocolVersion=1}(re||(o.InitializeErrorCodes=re={})),function(n){n.method="initialized",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(ne||(o.InitializedNotification=ne={})),function(n){n.method="shutdown",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType0(n.method)}(oe||(o.ShutdownRequest=oe={})),function(n){n.method="exit",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType0(n.method)}(ie||(o.ExitNotification=ie={})),function(n){n.method="workspace/didChangeConfiguration",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(se||(o.DidChangeConfigurationNotification=se={})),function(n){n.Error=1,n.Warning=2,n.Info=3,n.Log=4,n.Debug=5}(ae||(o.MessageType=ae={})),function(n){n.method="window/showMessage",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolNotificationType(n.method)}(ue||(o.ShowMessageNotification=ue={})),function(n){n.method="window/showMessageRequest",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType(n.method)}(ce||(o.ShowMessageRequest=ce={})),function(n){n.method="window/logMessage",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolNotificationType(n.method)}(le||(o.LogMessageNotification=le={})),function(n){n.method="telemetry/event",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolNotificationType(n.method)}(he||(o.TelemetryEventNotification=he={})),function(n){n.None=0,n.Full=1,n.Incremental=2}(de||(o.TextDocumentSyncKind=de={})),function(n){n.method="textDocument/didOpen",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(pe||(o.DidOpenTextDocumentNotification=pe={})),function(n){n.isIncremental=function isIncremental(n){let o=n;return null!=o&&"string"==typeof o.text&&void 0!==o.range&&(void 0===o.rangeLength||"number"==typeof o.rangeLength)},n.isFull=function isFull(n){let o=n;return null!=o&&"string"==typeof o.text&&void 0===o.range&&void 0===o.rangeLength}}(fe||(o.TextDocumentContentChangeEvent=fe={})),function(n){n.method="textDocument/didChange",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(me||(o.DidChangeTextDocumentNotification=me={})),function(n){n.method="textDocument/didClose",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(ge||(o.DidCloseTextDocumentNotification=ge={})),function(n){n.method="textDocument/didSave",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(ye||(o.DidSaveTextDocumentNotification=ye={})),function(n){n.Manual=1,n.AfterDelay=2,n.FocusOut=3}(Ee||(o.TextDocumentSaveReason=Ee={})),function(n){n.method="textDocument/willSave",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(Ce||(o.WillSaveTextDocumentNotification=Ce={})),function(n){n.method="textDocument/willSaveWaitUntil",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Se||(o.WillSaveTextDocumentWaitUntilRequest=Se={})),function(n){n.method="workspace/didChangeWatchedFiles",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(Ae||(o.DidChangeWatchedFilesNotification=Ae={})),function(n){n.Created=1,n.Changed=2,n.Deleted=3}(be||(o.FileChangeType=be={})),function(n){n.is=function is(n){const o=n;return h.objectLiteral(o)&&(c.URI.is(o.baseUri)||c.WorkspaceFolder.is(o.baseUri))&&h.string(o.pattern)}}(Oe||(o.RelativePattern=Oe={})),function(n){n.Create=1,n.Change=2,n.Delete=4}(ve||(o.WatchKind=ve={})),function(n){n.method="textDocument/publishDiagnostics",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolNotificationType(n.method)}(Te||(o.PublishDiagnosticsNotification=Te={})),function(n){n.Invoked=1,n.TriggerCharacter=2,n.TriggerForIncompleteCompletions=3}(_e||(o.CompletionTriggerKind=_e={})),function(n){n.method="textDocument/completion",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(De||(o.CompletionRequest=De={})),function(n){n.method="completionItem/resolve",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Ne||(o.CompletionResolveRequest=Ne={})),function(n){n.method="textDocument/hover",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(we||(o.HoverRequest=we={})),function(n){n.Invoked=1,n.TriggerCharacter=2,n.ContentChange=3}(Re||(o.SignatureHelpTriggerKind=Re={})),function(n){n.method="textDocument/signatureHelp",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(xe||(o.SignatureHelpRequest=xe={})),function(n){n.method="textDocument/definition",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Pe||(o.DefinitionRequest=Pe={})),function(n){n.method="textDocument/references",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Me||(o.ReferencesRequest=Me={})),function(n){n.method="textDocument/documentHighlight",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Ie||(o.DocumentHighlightRequest=Ie={})),function(n){n.method="textDocument/documentSymbol",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Be||(o.DocumentSymbolRequest=Be={})),function(n){n.method="textDocument/codeAction",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Fe||(o.CodeActionRequest=Fe={})),function(n){n.method="codeAction/resolve",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Le||(o.CodeActionResolveRequest=Le={})),function(n){n.method="workspace/symbol",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(ke||(o.WorkspaceSymbolRequest=ke={})),function(n){n.method="workspaceSymbol/resolve",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(je||(o.WorkspaceSymbolResolveRequest=je={})),function(n){n.method="textDocument/codeLens",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Ue||(o.CodeLensRequest=Ue={})),function(n){n.method="codeLens/resolve",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(ze||(o.CodeLensResolveRequest=ze={})),function(n){n.method="workspace/codeLens/refresh",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType0(n.method)}(qe||(o.CodeLensRefreshRequest=qe={})),function(n){n.method="textDocument/documentLink",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Ve||(o.DocumentLinkRequest=Ve={})),function(n){n.method="documentLink/resolve",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(We||(o.DocumentLinkResolveRequest=We={})),function(n){n.method="textDocument/formatting",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(He||(o.DocumentFormattingRequest=He={})),function(n){n.method="textDocument/rangeFormatting",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}($e||(o.DocumentRangeFormattingRequest=$e={})),function(n){n.method="textDocument/rangesFormatting",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Ge||(o.DocumentRangesFormattingRequest=Ge={})),function(n){n.method="textDocument/onTypeFormatting",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Ke||(o.DocumentOnTypeFormattingRequest=Ke={})),function(n){n.Identifier=1}(Ye||(o.PrepareSupportDefaultBehavior=Ye={})),function(n){n.method="textDocument/rename",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Xe||(o.RenameRequest=Xe={})),function(n){n.method="textDocument/prepareRename",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Je||(o.PrepareRenameRequest=Je={})),function(n){n.method="workspace/executeCommand",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(Qe||(o.ExecuteCommandRequest=Qe={})),function(n){n.method="workspace/applyEdit",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType("workspace/applyEdit")}(Ze||(o.ApplyWorkspaceEditRequest=Ze={}))},35316:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.LinkedEditingRangeRequest=void 0;const s=i(90372);var c;!function(n){n.method="textDocument/linkedEditingRange",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.LinkedEditingRangeRequest=c={}))},9047:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MonikerRequest=o.MonikerKind=o.UniquenessLevel=void 0;const s=i(90372);var c,h,f;!function(n){n.document="document",n.project="project",n.group="group",n.scheme="scheme",n.global="global"}(c||(o.UniquenessLevel=c={})),function(n){n.$import="import",n.$export="export",n.local="local"}(h||(o.MonikerKind=h={})),function(n){n.method="textDocument/moniker",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(f||(o.MonikerRequest=f={}))},53557:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DidCloseNotebookDocumentNotification=o.DidSaveNotebookDocumentNotification=o.DidChangeNotebookDocumentNotification=o.NotebookCellArrayChange=o.DidOpenNotebookDocumentNotification=o.NotebookDocumentSyncRegistrationType=o.NotebookDocument=o.NotebookCell=o.ExecutionSummary=o.NotebookCellKind=void 0;const s=i(46203),c=i(38598),h=i(90372);var f,E,S,A,O,T,_,D,N,R;!function(n){n.Markup=1,n.Code=2,n.is=function is(n){return 1===n||2===n}}(f||(o.NotebookCellKind=f={})),function(n){n.create=function create(n,o){const i={executionOrder:n};return!0!==o&&!1!==o||(i.success=o),i},n.is=function is(n){const o=n;return c.objectLiteral(o)&&s.uinteger.is(o.executionOrder)&&(void 0===o.success||c.boolean(o.success))},n.equals=function equals(n,o){return n===o||null!=n&&null!=o&&(n.executionOrder===o.executionOrder&&n.success===o.success)}}(E||(o.ExecutionSummary=E={})),function(n){function equalsMetadata(n,o){if(n===o)return!0;if(null==n||null==o)return!1;if(typeof n!=typeof o)return!1;if("object"!=typeof n)return!1;const i=Array.isArray(n),s=Array.isArray(o);if(i!==s)return!1;if(i&&s){if(n.length!==o.length)return!1;for(let i=0;i<n.length;i++)if(!equalsMetadata(n[i],o[i]))return!1}if(c.objectLiteral(n)&&c.objectLiteral(o)){const i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;if(i.sort(),s.sort(),!equalsMetadata(i,s))return!1;for(let s=0;s<i.length;s++){const c=i[s];if(!equalsMetadata(n[c],o[c]))return!1}}return!0}n.create=function create(n,o){return{kind:n,document:o}},n.is=function is(n){const o=n;return c.objectLiteral(o)&&f.is(o.kind)&&s.DocumentUri.is(o.document)&&(void 0===o.metadata||c.objectLiteral(o.metadata))},n.diff=function diff(n,o){const i=new Set;return n.document!==o.document&&i.add("document"),n.kind!==o.kind&&i.add("kind"),n.executionSummary!==o.executionSummary&&i.add("executionSummary"),void 0===n.metadata&&void 0===o.metadata||equalsMetadata(n.metadata,o.metadata)||i.add("metadata"),void 0===n.executionSummary&&void 0===o.executionSummary||E.equals(n.executionSummary,o.executionSummary)||i.add("executionSummary"),i}}(S||(o.NotebookCell=S={})),function(n){n.create=function create(n,o,i,s){return{uri:n,notebookType:o,version:i,cells:s}},n.is=function is(n){const o=n;return c.objectLiteral(o)&&c.string(o.uri)&&s.integer.is(o.version)&&c.typedArray(o.cells,S.is)}}(A||(o.NotebookDocument=A={})),function(n){n.method="notebookDocument/sync",n.messageDirection=h.MessageDirection.clientToServer,n.type=new h.RegistrationType(n.method)}(O||(o.NotebookDocumentSyncRegistrationType=O={})),function(n){n.method="notebookDocument/didOpen",n.messageDirection=h.MessageDirection.clientToServer,n.type=new h.ProtocolNotificationType(n.method),n.registrationMethod=O.method}(T||(o.DidOpenNotebookDocumentNotification=T={})),function(n){n.is=function is(n){const o=n;return c.objectLiteral(o)&&s.uinteger.is(o.start)&&s.uinteger.is(o.deleteCount)&&(void 0===o.cells||c.typedArray(o.cells,S.is))},n.create=function create(n,o,i){const s={start:n,deleteCount:o};return void 0!==i&&(s.cells=i),s}}(_||(o.NotebookCellArrayChange=_={})),function(n){n.method="notebookDocument/didChange",n.messageDirection=h.MessageDirection.clientToServer,n.type=new h.ProtocolNotificationType(n.method),n.registrationMethod=O.method}(D||(o.DidChangeNotebookDocumentNotification=D={})),function(n){n.method="notebookDocument/didSave",n.messageDirection=h.MessageDirection.clientToServer,n.type=new h.ProtocolNotificationType(n.method),n.registrationMethod=O.method}(N||(o.DidSaveNotebookDocumentNotification=N={})),function(n){n.method="notebookDocument/didClose",n.messageDirection=h.MessageDirection.clientToServer,n.type=new h.ProtocolNotificationType(n.method),n.registrationMethod=O.method}(R||(o.DidCloseNotebookDocumentNotification=R={}))},32687:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WorkDoneProgressCancelNotification=o.WorkDoneProgressCreateRequest=o.WorkDoneProgress=void 0;const s=i(77123),c=i(90372);var h,f,E;!function(n){n.type=new s.ProgressType,n.is=function is(o){return o===n.type}}(h||(o.WorkDoneProgress=h={})),function(n){n.method="window/workDoneProgress/create",n.messageDirection=c.MessageDirection.serverToClient,n.type=new c.ProtocolRequestType(n.method)}(f||(o.WorkDoneProgressCreateRequest=f={})),function(n){n.method="window/workDoneProgress/cancel",n.messageDirection=c.MessageDirection.clientToServer,n.type=new c.ProtocolNotificationType(n.method)}(E||(o.WorkDoneProgressCancelNotification=E={}))},33487:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionRangeRequest=void 0;const s=i(90372);var c;!function(n){n.method="textDocument/selectionRange",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.SelectionRangeRequest=c={}))},72478:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SemanticTokensRefreshRequest=o.SemanticTokensRangeRequest=o.SemanticTokensDeltaRequest=o.SemanticTokensRequest=o.SemanticTokensRegistrationType=o.TokenFormat=void 0;const s=i(90372);var c,h,f,E,S,A;!function(n){n.Relative="relative"}(c||(o.TokenFormat=c={})),function(n){n.method="textDocument/semanticTokens",n.type=new s.RegistrationType(n.method)}(h||(o.SemanticTokensRegistrationType=h={})),function(n){n.method="textDocument/semanticTokens/full",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method),n.registrationMethod=h.method}(f||(o.SemanticTokensRequest=f={})),function(n){n.method="textDocument/semanticTokens/full/delta",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method),n.registrationMethod=h.method}(E||(o.SemanticTokensDeltaRequest=E={})),function(n){n.method="textDocument/semanticTokens/range",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method),n.registrationMethod=h.method}(S||(o.SemanticTokensRangeRequest=S={})),function(n){n.method="workspace/semanticTokens/refresh",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType0(n.method)}(A||(o.SemanticTokensRefreshRequest=A={}))},80908:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ShowDocumentRequest=void 0;const s=i(90372);var c;!function(n){n.method="window/showDocument",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType(n.method)}(c||(o.ShowDocumentRequest=c={}))},68461:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.TypeDefinitionRequest=void 0;const s=i(90372);var c;!function(n){n.method="textDocument/typeDefinition",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.TypeDefinitionRequest=c={}))},50645:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.TypeHierarchySubtypesRequest=o.TypeHierarchySupertypesRequest=o.TypeHierarchyPrepareRequest=void 0;const s=i(90372);var c,h,f;!function(n){n.method="textDocument/prepareTypeHierarchy",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(c||(o.TypeHierarchyPrepareRequest=c={})),function(n){n.method="typeHierarchy/supertypes",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(h||(o.TypeHierarchySupertypesRequest=h={})),function(n){n.method="typeHierarchy/subtypes",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolRequestType(n.method)}(f||(o.TypeHierarchySubtypesRequest=f={}))},99935:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DidChangeWorkspaceFoldersNotification=o.WorkspaceFoldersRequest=void 0;const s=i(90372);var c,h;!function(n){n.method="workspace/workspaceFolders",n.messageDirection=s.MessageDirection.serverToClient,n.type=new s.ProtocolRequestType0(n.method)}(c||(o.WorkspaceFoldersRequest=c={})),function(n){n.method="workspace/didChangeWorkspaceFolders",n.messageDirection=s.MessageDirection.clientToServer,n.type=new s.ProtocolNotificationType(n.method)}(h||(o.DidChangeWorkspaceFoldersNotification=h={}))},38598:(n,o)=>{"use strict";function string(n){return"string"==typeof n||n instanceof String}function array(n){return Array.isArray(n)}Object.defineProperty(o,"__esModule",{value:!0}),o.objectLiteral=o.typedArray=o.stringArray=o.array=o.func=o.error=o.number=o.string=o.boolean=void 0,o.boolean=function boolean(n){return!0===n||!1===n},o.string=string,o.number=function number(n){return"number"==typeof n||n instanceof Number},o.error=function error(n){return n instanceof Error},o.func=function func(n){return"function"==typeof n},o.array=array,o.stringArray=function stringArray(n){return array(n)&&n.every(n=>string(n))},o.typedArray=function typedArray(n,o){return Array.isArray(n)&&n.every(o)},o.objectLiteral=function objectLiteral(n){return null!==n&&"object"==typeof n}},67354:function(n,o,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(n,o,i,s){void 0===s&&(s=i);var c=Object.getOwnPropertyDescriptor(o,i);c&&!("get"in c?!o.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,c)}:function(n,o,i,s){void 0===s&&(s=i),n[s]=o[i]}),c=this&&this.__exportStar||function(n,o){for(var i in n)"default"===i||Object.prototype.hasOwnProperty.call(o,i)||s(o,n,i)};Object.defineProperty(o,"__esModule",{value:!0}),o.createProtocolConnection=void 0;const h=i(52067);c(i(52067),o),c(i(98766),o),o.createProtocolConnection=function createProtocolConnection(n,o,i,s){return(0,h.createMessageConnection)(n,o,i,s)}},40948:(n,o,i)=>{"use strict";n.exports=i(67354)},92861:function(n,o,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(n,o,i,s){void 0===s&&(s=i);var c=Object.getOwnPropertyDescriptor(o,i);c&&!("get"in c?!o.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,c)}:function(n,o,i,s){void 0===s&&(s=i),n[s]=o[i]}),c=this&&this.__exportStar||function(n,o){for(var i in n)"default"===i||Object.prototype.hasOwnProperty.call(o,i)||s(o,n,i)};Object.defineProperty(o,"__esModule",{value:!0}),o.ProposedFeatures=o.NotebookDocuments=o.TextDocuments=o.SemanticTokensBuilder=void 0;const h=i(22655);Object.defineProperty(o,"SemanticTokensBuilder",{enumerable:!0,get:function(){return h.SemanticTokensBuilder}});const f=i(81276);c(i(67354),o);const E=i(21662);Object.defineProperty(o,"TextDocuments",{enumerable:!0,get:function(){return E.TextDocuments}});const S=i(50020);var A;Object.defineProperty(o,"NotebookDocuments",{enumerable:!0,get:function(){return S.NotebookDocuments}}),c(i(67874),o),function(n){n.all={__brand:"features",languages:f.InlineCompletionFeature}}(A||(o.ProposedFeatures=A={}))},3918:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.CallHierarchyFeature=void 0;const s=i(67354);o.CallHierarchyFeature=n=>class extends n{get callHierarchy(){return{onPrepare:n=>this.connection.onRequest(s.CallHierarchyPrepareRequest.type,(o,i)=>n(o,i,this.attachWorkDoneProgress(o),void 0)),onIncomingCalls:n=>{const o=s.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(o,(i,s)=>n(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(o,i)))},onOutgoingCalls:n=>{const o=s.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(o,(i,s)=>n(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(o,i)))}}}}},58491:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigurationFeature=void 0;const s=i(67354),c=i(68867);o.ConfigurationFeature=n=>class extends n{getConfiguration(n){return n?c.string(n)?this._getConfiguration({section:n}):this._getConfiguration(n):this._getConfiguration({})}_getConfiguration(n){let o={items:Array.isArray(n)?n:[n]};return this.connection.sendRequest(s.ConfigurationRequest.type,o).then(o=>Array.isArray(o)?Array.isArray(n)?o:o[0]:Array.isArray(n)?[]:null)}}},12874:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.DiagnosticFeature=void 0;const s=i(67354);o.DiagnosticFeature=n=>class extends n{get diagnostics(){return{refresh:()=>this.connection.sendRequest(s.DiagnosticRefreshRequest.type),on:n=>this.connection.onRequest(s.DocumentDiagnosticRequest.type,(o,i)=>n(o,i,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(s.DocumentDiagnosticRequest.partialResult,o))),onWorkspace:n=>this.connection.onRequest(s.WorkspaceDiagnosticRequest.type,(o,i)=>n(o,i,this.attachWorkDoneProgress(o),this.attachPartialResultProgress(s.WorkspaceDiagnosticRequest.partialResult,o)))}}}},12697:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FileOperationsFeature=void 0;const s=i(67354);o.FileOperationsFeature=n=>class extends n{onDidCreateFiles(n){return this.connection.onNotification(s.DidCreateFilesNotification.type,o=>{n(o)})}onDidRenameFiles(n){return this.connection.onNotification(s.DidRenameFilesNotification.type,o=>{n(o)})}onDidDeleteFiles(n){return this.connection.onNotification(s.DidDeleteFilesNotification.type,o=>{n(o)})}onWillCreateFiles(n){return this.connection.onRequest(s.WillCreateFilesRequest.type,(o,i)=>n(o,i))}onWillRenameFiles(n){return this.connection.onRequest(s.WillRenameFilesRequest.type,(o,i)=>n(o,i))}onWillDeleteFiles(n){return this.connection.onRequest(s.WillDeleteFilesRequest.type,(o,i)=>n(o,i))}}},46007:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.FoldingRangeFeature=void 0;const s=i(67354);o.FoldingRangeFeature=n=>class extends n{get foldingRange(){return{refresh:()=>this.connection.sendRequest(s.FoldingRangeRefreshRequest.type),on:n=>{const o=s.FoldingRangeRequest.type;return this.connection.onRequest(o,(i,s)=>n(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(o,i)))}}}}},44635:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.InlayHintFeature=void 0;const s=i(67354);o.InlayHintFeature=n=>class extends n{get inlayHint(){return{refresh:()=>this.connection.sendRequest(s.InlayHintRefreshRequest.type),on:n=>this.connection.onRequest(s.InlayHintRequest.type,(o,i)=>n(o,i,this.attachWorkDoneProgress(o))),resolve:n=>this.connection.onRequest(s.InlayHintResolveRequest.type,(o,i)=>n(o,i))}}}},81276:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.InlineCompletionFeature=void 0;const s=i(67354);o.InlineCompletionFeature=n=>class extends n{get inlineCompletion(){return{on:n=>this.connection.onRequest(s.InlineCompletionRequest.type,(o,i)=>n(o,i,this.attachWorkDoneProgress(o)))}}}},31815:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.InlineValueFeature=void 0;const s=i(67354);o.InlineValueFeature=n=>class extends n{get inlineValue(){return{refresh:()=>this.connection.sendRequest(s.InlineValueRefreshRequest.type),on:n=>this.connection.onRequest(s.InlineValueRequest.type,(o,i)=>n(o,i,this.attachWorkDoneProgress(o)))}}}},8517:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.LinkedEditingRangeFeature=void 0;const s=i(67354);o.LinkedEditingRangeFeature=n=>class extends n{onLinkedEditingRange(n){return this.connection.onRequest(s.LinkedEditingRangeRequest.type,(o,i)=>n(o,i,this.attachWorkDoneProgress(o),void 0))}}},52936:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.MonikerFeature=void 0;const s=i(67354);o.MonikerFeature=n=>class extends n{get moniker(){return{on:n=>{const o=s.MonikerRequest.type;return this.connection.onRequest(o,(i,s)=>n(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(o,i)))}}}}},50020:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.NotebookDocuments=o.NotebookSyncFeature=void 0;const s=i(67354),c=i(21662);o.NotebookSyncFeature=n=>class extends n{get synchronization(){return{onDidOpenNotebookDocument:n=>this.connection.onNotification(s.DidOpenNotebookDocumentNotification.type,o=>{n(o)}),onDidChangeNotebookDocument:n=>this.connection.onNotification(s.DidChangeNotebookDocumentNotification.type,o=>{n(o)}),onDidSaveNotebookDocument:n=>this.connection.onNotification(s.DidSaveNotebookDocumentNotification.type,o=>{n(o)}),onDidCloseNotebookDocument:n=>this.connection.onNotification(s.DidCloseNotebookDocumentNotification.type,o=>{n(o)})}}};class CellTextDocumentConnection{onDidOpenTextDocument(n){return this.openHandler=n,s.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(n){this.openHandler&&this.openHandler(n)}onDidChangeTextDocument(n){return this.changeHandler=n,s.Disposable.create(()=>{this.changeHandler=n})}changeTextDocument(n){this.changeHandler&&this.changeHandler(n)}onDidCloseTextDocument(n){return this.closeHandler=n,s.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(n){this.closeHandler&&this.closeHandler(n)}onWillSaveTextDocument(){return CellTextDocumentConnection.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return CellTextDocumentConnection.NULL_DISPOSE}onDidSaveTextDocument(){return CellTextDocumentConnection.NULL_DISPOSE}}CellTextDocumentConnection.NULL_DISPOSE=Object.freeze({dispose:()=>{}});o.NotebookDocuments=class NotebookDocuments{constructor(n){n instanceof c.TextDocuments?this._cellTextDocuments=n:this._cellTextDocuments=new c.TextDocuments(n),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new s.Emitter,this._onDidChange=new s.Emitter,this._onDidSave=new s.Emitter,this._onDidClose=new s.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(n){return this._cellTextDocuments.get(n.document)}getNotebookDocument(n){return this.notebookDocuments.get(n)}getNotebookCell(n){const o=this.notebookCellMap.get(n);return o&&o[0]}findNotebookDocumentForCell(n){const o="string"==typeof n?n:n.document,i=this.notebookCellMap.get(o);return i&&i[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(n){const o=new CellTextDocumentConnection,i=[];return i.push(this.cellTextDocuments.listen(o)),i.push(n.notebooks.synchronization.onDidOpenNotebookDocument(n=>{this.notebookDocuments.set(n.notebookDocument.uri,n.notebookDocument);for(const i of n.cellTextDocuments)o.openTextDocument({textDocument:i});this.updateCellMap(n.notebookDocument),this._onDidOpen.fire(n.notebookDocument)})),i.push(n.notebooks.synchronization.onDidChangeNotebookDocument(n=>{const i=this.notebookDocuments.get(n.notebookDocument.uri);if(void 0===i)return;i.version=n.notebookDocument.version;const s=i.metadata;let c=!1;const h=n.change;void 0!==h.metadata&&(c=!0,i.metadata=h.metadata);const f=[],E=[],S=[],A=[];if(void 0!==h.cells){const n=h.cells;if(void 0!==n.structure){const s=n.structure.array;if(i.cells.splice(s.start,s.deleteCount,...void 0!==s.cells?s.cells:[]),void 0!==n.structure.didOpen)for(const i of n.structure.didOpen)o.openTextDocument({textDocument:i}),f.push(i.uri);if(n.structure.didClose)for(const i of n.structure.didClose)o.closeTextDocument({textDocument:i}),E.push(i.uri)}if(void 0!==n.data){const o=new Map(n.data.map(n=>[n.document,n]));for(let n=0;n<=i.cells.length;n++){const s=o.get(i.cells[n].document);if(void 0!==s){const c=i.cells.splice(n,1,s);if(S.push({old:c[0],new:s}),o.delete(s.document),0===o.size)break}}}if(void 0!==n.textContent)for(const i of n.textContent)o.changeTextDocument({textDocument:i.document,contentChanges:i.changes}),A.push(i.document.uri)}this.updateCellMap(i);const O={notebookDocument:i};c&&(O.metadata={old:s,new:i.metadata});const T=[];for(const n of f)T.push(this.getNotebookCell(n));const _=[];for(const n of E)_.push(this.getNotebookCell(n));const D=[];for(const n of A)D.push(this.getNotebookCell(n));(T.length>0||_.length>0||S.length>0||D.length>0)&&(O.cells={added:T,removed:_,changed:{data:S,textContent:D}}),void 0===O.metadata&&void 0===O.cells||this._onDidChange.fire(O)})),i.push(n.notebooks.synchronization.onDidSaveNotebookDocument(n=>{const o=this.notebookDocuments.get(n.notebookDocument.uri);void 0!==o&&this._onDidSave.fire(o)})),i.push(n.notebooks.synchronization.onDidCloseNotebookDocument(n=>{const i=this.notebookDocuments.get(n.notebookDocument.uri);if(void 0!==i){this._onDidClose.fire(i);for(const i of n.cellTextDocuments)o.closeTextDocument({textDocument:i});this.notebookDocuments.delete(n.notebookDocument.uri);for(const n of i.cells)this.notebookCellMap.delete(n.document)}})),s.Disposable.create(()=>{i.forEach(n=>n.dispose())})}updateCellMap(n){for(const o of n.cells)this.notebookCellMap.set(o.document,[o,n])}}},92938:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.attachPartialResult=o.ProgressFeature=o.attachWorkDone=void 0;const s=i(67354),c=i(16116);class WorkDoneProgressReporterImpl{constructor(n,o){this._connection=n,this._token=o,WorkDoneProgressReporterImpl.Instances.set(this._token,this)}begin(n,o,i,c){let h={kind:"begin",title:n,percentage:o,message:i,cancellable:c};this._connection.sendProgress(s.WorkDoneProgress.type,this._token,h)}report(n,o){let i={kind:"report"};"number"==typeof n?(i.percentage=n,void 0!==o&&(i.message=o)):i.message=n,this._connection.sendProgress(s.WorkDoneProgress.type,this._token,i)}done(){WorkDoneProgressReporterImpl.Instances.delete(this._token),this._connection.sendProgress(s.WorkDoneProgress.type,this._token,{kind:"end"})}}WorkDoneProgressReporterImpl.Instances=new Map;class WorkDoneProgressServerReporterImpl extends WorkDoneProgressReporterImpl{constructor(n,o){super(n,o),this._source=new s.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class NullProgressReporter{constructor(){}begin(){}report(){}done(){}}class NullProgressServerReporter extends NullProgressReporter{constructor(){super(),this._source=new s.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}o.attachWorkDone=function attachWorkDone(n,o){if(void 0===o||void 0===o.workDoneToken)return new NullProgressReporter;const i=o.workDoneToken;return delete o.workDoneToken,new WorkDoneProgressReporterImpl(n,i)};var h;o.ProgressFeature=n=>class extends n{constructor(){super(),this._progressSupported=!1}initialize(n){super.initialize(n),!0===n?.window?.workDoneProgress&&(this._progressSupported=!0,this.connection.onNotification(s.WorkDoneProgressCancelNotification.type,n=>{let o=WorkDoneProgressReporterImpl.Instances.get(n.token);(o instanceof WorkDoneProgressServerReporterImpl||o instanceof NullProgressServerReporter)&&o.cancel()}))}attachWorkDoneProgress(n){return void 0===n?new NullProgressReporter:new WorkDoneProgressReporterImpl(this.connection,n)}createWorkDoneProgress(){if(this._progressSupported){const n=(0,c.generateUuid)();return this.connection.sendRequest(s.WorkDoneProgressCreateRequest.type,{token:n}).then(()=>new WorkDoneProgressServerReporterImpl(this.connection,n))}return Promise.resolve(new NullProgressServerReporter)}},function(n){n.type=new s.ProgressType}(h||(h={}));class ResultProgressReporterImpl{constructor(n,o){this._connection=n,this._token=o}report(n){this._connection.sendProgress(h.type,this._token,n)}}o.attachPartialResult=function attachPartialResult(n,o){if(void 0===o||void 0===o.partialResultToken)return;const i=o.partialResultToken;return delete o.partialResultToken,new ResultProgressReporterImpl(n,i)}},22655:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SemanticTokensBuilder=o.SemanticTokensDiff=o.SemanticTokensFeature=void 0;const s=i(67354);o.SemanticTokensFeature=n=>class extends n{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(s.SemanticTokensRefreshRequest.type),on:n=>{const o=s.SemanticTokensRequest.type;return this.connection.onRequest(o,(i,s)=>n(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(o,i)))},onDelta:n=>{const o=s.SemanticTokensDeltaRequest.type;return this.connection.onRequest(o,(i,s)=>n(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(o,i)))},onRange:n=>{const o=s.SemanticTokensRangeRequest.type;return this.connection.onRequest(o,(i,s)=>n(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(o,i)))}}}};class SemanticTokensDiff{constructor(n,o){this.originalSequence=n,this.modifiedSequence=o}computeDiff(){const n=this.originalSequence.length,o=this.modifiedSequence.length;let i=0;for(;i<o&&i<n&&this.originalSequence[i]===this.modifiedSequence[i];)i++;if(i<o&&i<n){let s=n-1,c=o-1;for(;s>=i&&c>=i&&this.originalSequence[s]===this.modifiedSequence[c];)s--,c--;(s<i||c<i)&&(s++,c++);const h=s-i+1,f=this.modifiedSequence.slice(i,c+1);return 1===f.length&&f[0]===this.originalSequence[s]?[{start:i,deleteCount:h-1}]:[{start:i,deleteCount:h,data:f}]}return i<o?[{start:i,deleteCount:0,data:this.modifiedSequence.slice(i)}]:i<n?[{start:i,deleteCount:n-i}]:[]}}o.SemanticTokensDiff=SemanticTokensDiff;o.SemanticTokensBuilder=class SemanticTokensBuilder{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(n,o,i,s,c){let h=n,f=o;this._dataLen>0&&(h-=this._prevLine,0===h&&(f-=this._prevChar)),this._data[this._dataLen++]=h,this._data[this._dataLen++]=f,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._data[this._dataLen++]=c,this._prevLine=n,this._prevChar=o}get id(){return this._id.toString()}previousResult(n){this.id===n&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return void 0!==this._prevData}buildEdits(){return void 0!==this._prevData?{resultId:this.id,edits:new SemanticTokensDiff(this._prevData,this._data).computeDiff()}:this.build()}}},67874:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.createConnection=o.combineFeatures=o.combineNotebooksFeatures=o.combineLanguagesFeatures=o.combineWorkspaceFeatures=o.combineWindowFeatures=o.combineClientFeatures=o.combineTracerFeatures=o.combineTelemetryFeatures=o.combineConsoleFeatures=o._NotebooksImpl=o._LanguagesImpl=o.BulkUnregistration=o.BulkRegistration=o.ErrorMessageTracker=void 0;const s=i(67354),c=i(68867),h=i(16116),f=i(92938),E=i(58491),S=i(32112),A=i(3918),O=i(22655),T=i(58817),_=i(12697),D=i(8517),N=i(65026),R=i(31815),x=i(46007),P=i(44635),M=i(12874),I=i(50020),B=i(52936);function null2Undefined(n){if(null!==n)return n}o.ErrorMessageTracker=class ErrorMessageTracker{constructor(){this._messages=Object.create(null)}add(n){let o=this._messages[n];o||(o=0),o++,this._messages[n]=o}sendErrors(n){Object.keys(this._messages).forEach(o=>{n.window.showErrorMessage(o)})}};class RemoteConsoleImpl{constructor(){}rawAttach(n){this._rawConnection=n}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(n){}initialize(n){}error(n){this.send(s.MessageType.Error,n)}warn(n){this.send(s.MessageType.Warning,n)}info(n){this.send(s.MessageType.Info,n)}log(n){this.send(s.MessageType.Log,n)}debug(n){this.send(s.MessageType.Debug,n)}send(n,o){this._rawConnection&&this._rawConnection.sendNotification(s.LogMessageNotification.type,{type:n,message:o}).catch(()=>{(0,s.RAL)().console.error("Sending log message failed")})}}const F=(0,T.ShowDocumentFeature)((0,f.ProgressFeature)(class _RemoteWindowImpl{constructor(){}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}showErrorMessage(n,...o){let i={type:s.MessageType.Error,message:n,actions:o};return this.connection.sendRequest(s.ShowMessageRequest.type,i).then(null2Undefined)}showWarningMessage(n,...o){let i={type:s.MessageType.Warning,message:n,actions:o};return this.connection.sendRequest(s.ShowMessageRequest.type,i).then(null2Undefined)}showInformationMessage(n,...o){let i={type:s.MessageType.Info,message:n,actions:o};return this.connection.sendRequest(s.ShowMessageRequest.type,i).then(null2Undefined)}}));var L,k;!function(n){n.create=function create(){return new BulkRegistrationImpl}}(L||(o.BulkRegistration=L={}));class BulkRegistrationImpl{constructor(){this._registrations=[],this._registered=new Set}add(n,o){const i=c.string(n)?n:n.method;if(this._registered.has(i))throw new Error(`${i} is already added to this registration`);const s=h.generateUuid();this._registrations.push({id:s,method:i,registerOptions:o||{}}),this._registered.add(i)}asRegistrationParams(){return{registrations:this._registrations}}}!function(n){n.create=function create(){return new BulkUnregistrationImpl(void 0,[])}}(k||(o.BulkUnregistration=k={}));class BulkUnregistrationImpl{constructor(n,o){this._connection=n,this._unregistrations=new Map,o.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(n){this._connection=n}add(n){this._unregistrations.set(n.method,n)}dispose(){let n=[];for(let o of this._unregistrations.values())n.push(o);let o={unregisterations:n};this._connection.sendRequest(s.UnregistrationRequest.type,o).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(n){const o=c.string(n)?n:n.method,i=this._unregistrations.get(o);if(!i)return!1;let h={unregisterations:[i]};return this._connection.sendRequest(s.UnregistrationRequest.type,h).then(()=>{this._unregistrations.delete(o)},n=>{this._connection.console.info(`Un-registering request handler for ${i.id} failed.`)}),!0}}class RemoteClientImpl{attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}register(n,o,i){return n instanceof BulkRegistrationImpl?this.registerMany(n):n instanceof BulkUnregistrationImpl?this.registerSingle1(n,o,i):this.registerSingle2(n,o)}registerSingle1(n,o,i){const f=c.string(o)?o:o.method,E=h.generateUuid();let S={registrations:[{id:E,method:f,registerOptions:i||{}}]};return n.isAttached||n.attach(this.connection),this.connection.sendRequest(s.RegistrationRequest.type,S).then(o=>(n.add({id:E,method:f}),n),n=>(this.connection.console.info(`Registering request handler for ${f} failed.`),Promise.reject(n)))}registerSingle2(n,o){const i=c.string(n)?n:n.method,f=h.generateUuid();let E={registrations:[{id:f,method:i,registerOptions:o||{}}]};return this.connection.sendRequest(s.RegistrationRequest.type,E).then(n=>s.Disposable.create(()=>{this.unregisterSingle(f,i).catch(()=>{this.connection.console.info(`Un-registering capability with id ${f} failed.`)})}),n=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(n)))}unregisterSingle(n,o){let i={unregisterations:[{id:n,method:o}]};return this.connection.sendRequest(s.UnregistrationRequest.type,i).catch(()=>{this.connection.console.info(`Un-registering request handler for ${n} failed.`)})}registerMany(n){let o=n.asRegistrationParams();return this.connection.sendRequest(s.RegistrationRequest.type,o).then(()=>new BulkUnregistrationImpl(this._connection,o.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}}const j=(0,_.FileOperationsFeature)((0,S.WorkspaceFoldersFeature)((0,E.ConfigurationFeature)(class _RemoteWorkspaceImpl{constructor(){}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}applyEdit(n){let o=function isApplyWorkspaceEditParams(n){return n&&!!n.edit}(n)?n:{edit:n};return this.connection.sendRequest(s.ApplyWorkspaceEditRequest.type,o)}})));class TracerImpl{constructor(){this._trace=s.Trace.Off}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}set trace(n){this._trace=n}log(n,o){this._trace!==s.Trace.Off&&this.connection.sendNotification(s.LogTraceNotification.type,{message:n,verbose:this._trace===s.Trace.Verbose?o:void 0}).catch(()=>{})}}class TelemetryImpl{constructor(){}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}logEvent(n){this.connection.sendNotification(s.TelemetryEventNotification.type,n).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class _LanguagesImpl{constructor(){}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}attachWorkDoneProgress(n){return(0,f.attachWorkDone)(this.connection,n)}attachPartialResultProgress(n,o){return(0,f.attachPartialResult)(this.connection,o)}}o._LanguagesImpl=_LanguagesImpl;const U=(0,x.FoldingRangeFeature)((0,B.MonikerFeature)((0,M.DiagnosticFeature)((0,P.InlayHintFeature)((0,R.InlineValueFeature)((0,N.TypeHierarchyFeature)((0,D.LinkedEditingRangeFeature)((0,O.SemanticTokensFeature)((0,A.CallHierarchyFeature)(_LanguagesImpl)))))))));class _NotebooksImpl{constructor(){}attach(n){this._connection=n}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(n){}fillServerCapabilities(n){}attachWorkDoneProgress(n){return(0,f.attachWorkDone)(this.connection,n)}attachPartialResultProgress(n,o){return(0,f.attachPartialResult)(this.connection,o)}}o._NotebooksImpl=_NotebooksImpl;const z=(0,I.NotebookSyncFeature)(_NotebooksImpl);function combineConsoleFeatures(n,o){return function(i){return o(n(i))}}function combineTelemetryFeatures(n,o){return function(i){return o(n(i))}}function combineTracerFeatures(n,o){return function(i){return o(n(i))}}function combineClientFeatures(n,o){return function(i){return o(n(i))}}function combineWindowFeatures(n,o){return function(i){return o(n(i))}}function combineWorkspaceFeatures(n,o){return function(i){return o(n(i))}}function combineLanguagesFeatures(n,o){return function(i){return o(n(i))}}function combineNotebooksFeatures(n,o){return function(i){return o(n(i))}}o.combineConsoleFeatures=combineConsoleFeatures,o.combineTelemetryFeatures=combineTelemetryFeatures,o.combineTracerFeatures=combineTracerFeatures,o.combineClientFeatures=combineClientFeatures,o.combineWindowFeatures=combineWindowFeatures,o.combineWorkspaceFeatures=combineWorkspaceFeatures,o.combineLanguagesFeatures=combineLanguagesFeatures,o.combineNotebooksFeatures=combineNotebooksFeatures,o.combineFeatures=function combineFeatures(n,o){function combine(n,o,i){return n&&o?i(n,o):n||o}return{__brand:"features",console:combine(n.console,o.console,combineConsoleFeatures),tracer:combine(n.tracer,o.tracer,combineTracerFeatures),telemetry:combine(n.telemetry,o.telemetry,combineTelemetryFeatures),client:combine(n.client,o.client,combineClientFeatures),window:combine(n.window,o.window,combineWindowFeatures),workspace:combine(n.workspace,o.workspace,combineWorkspaceFeatures),languages:combine(n.languages,o.languages,combineLanguagesFeatures),notebooks:combine(n.notebooks,o.notebooks,combineNotebooksFeatures)}},o.createConnection=function createConnection(n,o,i){const h=i&&i.console?new(i.console(RemoteConsoleImpl)):new RemoteConsoleImpl,E=n(h);h.rawAttach(E);const S=i&&i.tracer?new(i.tracer(TracerImpl)):new TracerImpl,A=i&&i.telemetry?new(i.telemetry(TelemetryImpl)):new TelemetryImpl,O=i&&i.client?new(i.client(RemoteClientImpl)):new RemoteClientImpl,T=i&&i.window?new(i.window(F)):new F,_=i&&i.workspace?new(i.workspace(j)):new j,D=i&&i.languages?new(i.languages(U)):new U,N=i&&i.notebooks?new(i.notebooks(z)):new z,R=[h,S,A,O,T,_,D,N];let x,P,M,I={listen:()=>E.listen(),sendRequest:(n,...o)=>E.sendRequest(c.string(n)?n:n.method,...o),onRequest:(n,o)=>E.onRequest(n,o),sendNotification:(n,o)=>{const i=c.string(n)?n:n.method;return E.sendNotification(i,o)},onNotification:(n,o)=>E.onNotification(n,o),onProgress:E.onProgress,sendProgress:E.sendProgress,onInitialize:n=>(P=n,{dispose:()=>{P=void 0}}),onInitialized:n=>E.onNotification(s.InitializedNotification.type,n),onShutdown:n=>(x=n,{dispose:()=>{x=void 0}}),onExit:n=>(M=n,{dispose:()=>{M=void 0}}),get console(){return h},get telemetry(){return A},get tracer(){return S},get client(){return O},get window(){return T},get workspace(){return _},get languages(){return D},get notebooks(){return N},onDidChangeConfiguration:n=>E.onNotification(s.DidChangeConfigurationNotification.type,n),onDidChangeWatchedFiles:n=>E.onNotification(s.DidChangeWatchedFilesNotification.type,n),__textDocumentSync:void 0,onDidOpenTextDocument:n=>E.onNotification(s.DidOpenTextDocumentNotification.type,n),onDidChangeTextDocument:n=>E.onNotification(s.DidChangeTextDocumentNotification.type,n),onDidCloseTextDocument:n=>E.onNotification(s.DidCloseTextDocumentNotification.type,n),onWillSaveTextDocument:n=>E.onNotification(s.WillSaveTextDocumentNotification.type,n),onWillSaveTextDocumentWaitUntil:n=>E.onRequest(s.WillSaveTextDocumentWaitUntilRequest.type,n),onDidSaveTextDocument:n=>E.onNotification(s.DidSaveTextDocumentNotification.type,n),sendDiagnostics:n=>E.sendNotification(s.PublishDiagnosticsNotification.type,n),onHover:n=>E.onRequest(s.HoverRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),void 0)),onCompletion:n=>E.onRequest(s.CompletionRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onCompletionResolve:n=>E.onRequest(s.CompletionResolveRequest.type,n),onSignatureHelp:n=>E.onRequest(s.SignatureHelpRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),void 0)),onDeclaration:n=>E.onRequest(s.DeclarationRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onDefinition:n=>E.onRequest(s.DefinitionRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onTypeDefinition:n=>E.onRequest(s.TypeDefinitionRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onImplementation:n=>E.onRequest(s.ImplementationRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onReferences:n=>E.onRequest(s.ReferencesRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onDocumentHighlight:n=>E.onRequest(s.DocumentHighlightRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onDocumentSymbol:n=>E.onRequest(s.DocumentSymbolRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onWorkspaceSymbol:n=>E.onRequest(s.WorkspaceSymbolRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onWorkspaceSymbolResolve:n=>E.onRequest(s.WorkspaceSymbolResolveRequest.type,n),onCodeAction:n=>E.onRequest(s.CodeActionRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onCodeActionResolve:n=>E.onRequest(s.CodeActionResolveRequest.type,(o,i)=>n(o,i)),onCodeLens:n=>E.onRequest(s.CodeLensRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onCodeLensResolve:n=>E.onRequest(s.CodeLensResolveRequest.type,(o,i)=>n(o,i)),onDocumentFormatting:n=>E.onRequest(s.DocumentFormattingRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),void 0)),onDocumentRangeFormatting:n=>E.onRequest(s.DocumentRangeFormattingRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),void 0)),onDocumentOnTypeFormatting:n=>E.onRequest(s.DocumentOnTypeFormattingRequest.type,(o,i)=>n(o,i)),onRenameRequest:n=>E.onRequest(s.RenameRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),void 0)),onPrepareRename:n=>E.onRequest(s.PrepareRenameRequest.type,(o,i)=>n(o,i)),onDocumentLinks:n=>E.onRequest(s.DocumentLinkRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onDocumentLinkResolve:n=>E.onRequest(s.DocumentLinkResolveRequest.type,(o,i)=>n(o,i)),onDocumentColor:n=>E.onRequest(s.DocumentColorRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onColorPresentation:n=>E.onRequest(s.ColorPresentationRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onFoldingRanges:n=>E.onRequest(s.FoldingRangeRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onSelectionRanges:n=>E.onRequest(s.SelectionRangeRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),(0,f.attachPartialResult)(E,o))),onExecuteCommand:n=>E.onRequest(s.ExecuteCommandRequest.type,(o,i)=>n(o,i,(0,f.attachWorkDone)(E,o),void 0)),dispose:()=>E.dispose()};for(let n of R)n.attach(I);return E.onRequest(s.InitializeRequest.type,n=>{o.initialize(n),c.string(n.trace)&&(S.trace=s.Trace.fromString(n.trace));for(let o of R)o.initialize(n.capabilities);if(P){return function asPromise(n){return n instanceof Promise?n:c.thenable(n)?new Promise((o,i)=>{n.then(n=>o(n),n=>i(n))}):Promise.resolve(n)}(P(n,(new s.CancellationTokenSource).token,(0,f.attachWorkDone)(E,n),void 0)).then(n=>{if(n instanceof s.ResponseError)return n;let o=n;o||(o={capabilities:{}});let i=o.capabilities;i||(i={},o.capabilities=i),void 0===i.textDocumentSync||null===i.textDocumentSync?i.textDocumentSync=c.number(I.__textDocumentSync)?I.__textDocumentSync:s.TextDocumentSyncKind.None:c.number(i.textDocumentSync)||c.number(i.textDocumentSync.change)||(i.textDocumentSync.change=c.number(I.__textDocumentSync)?I.__textDocumentSync:s.TextDocumentSyncKind.None);for(let n of R)n.fillServerCapabilities(i);return o})}{let n={capabilities:{textDocumentSync:s.TextDocumentSyncKind.None}};for(let o of R)o.fillServerCapabilities(n.capabilities);return n}}),E.onRequest(s.ShutdownRequest.type,()=>(o.shutdownReceived=!0,x?x((new s.CancellationTokenSource).token):void 0)),E.onNotification(s.ExitNotification.type,()=>{try{M&&M()}finally{o.shutdownReceived?o.exit(0):o.exit(1)}}),E.onNotification(s.SetTraceNotification.type,n=>{S.trace=s.Trace.fromString(n.value)}),I}},58817:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.ShowDocumentFeature=void 0;const s=i(67354);o.ShowDocumentFeature=n=>class extends n{showDocument(n){return this.connection.sendRequest(s.ShowDocumentRequest.type,n)}}},21662:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.TextDocuments=void 0;const s=i(67354);o.TextDocuments=class TextDocuments{constructor(n){this._configuration=n,this._syncedDocuments=new Map,this._onDidChangeContent=new s.Emitter,this._onDidOpen=new s.Emitter,this._onDidClose=new s.Emitter,this._onDidSave=new s.Emitter,this._onWillSave=new s.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(n){this._willSaveWaitUntil=n}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(n){return this._syncedDocuments.get(n)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(n){n.__textDocumentSync=s.TextDocumentSyncKind.Incremental;const o=[];return o.push(n.onDidOpenTextDocument(n=>{const o=n.textDocument,i=this._configuration.create(o.uri,o.languageId,o.version,o.text);this._syncedDocuments.set(o.uri,i);const s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),o.push(n.onDidChangeTextDocument(n=>{const o=n.textDocument,i=n.contentChanges;if(0===i.length)return;const{version:s}=o;if(null==s)throw new Error(`Received document change event for ${o.uri} without valid version identifier`);let c=this._syncedDocuments.get(o.uri);void 0!==c&&(c=this._configuration.update(c,i,s),this._syncedDocuments.set(o.uri,c),this._onDidChangeContent.fire(Object.freeze({document:c})))})),o.push(n.onDidCloseTextDocument(n=>{let o=this._syncedDocuments.get(n.textDocument.uri);void 0!==o&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:o})))})),o.push(n.onWillSaveTextDocument(n=>{let o=this._syncedDocuments.get(n.textDocument.uri);void 0!==o&&this._onWillSave.fire(Object.freeze({document:o,reason:n.reason}))})),o.push(n.onWillSaveTextDocumentWaitUntil((n,o)=>{let i=this._syncedDocuments.get(n.textDocument.uri);return void 0!==i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),o):[]})),o.push(n.onDidSaveTextDocument(n=>{let o=this._syncedDocuments.get(n.textDocument.uri);void 0!==o&&this._onDidSave.fire(Object.freeze({document:o}))})),s.Disposable.create(()=>{o.forEach(n=>n.dispose())})}}},65026:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.TypeHierarchyFeature=void 0;const s=i(67354);o.TypeHierarchyFeature=n=>class extends n{get typeHierarchy(){return{onPrepare:n=>this.connection.onRequest(s.TypeHierarchyPrepareRequest.type,(o,i)=>n(o,i,this.attachWorkDoneProgress(o),void 0)),onSupertypes:n=>{const o=s.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(o,(i,s)=>n(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(o,i)))},onSubtypes:n=>{const o=s.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(o,(i,s)=>n(i,s,this.attachWorkDoneProgress(i),this.attachPartialResultProgress(o,i)))}}}}},68867:(n,o)=>{"use strict";function string(n){return"string"==typeof n||n instanceof String}function func(n){return"function"==typeof n}function array(n){return Array.isArray(n)}Object.defineProperty(o,"__esModule",{value:!0}),o.thenable=o.typedArray=o.stringArray=o.array=o.func=o.error=o.number=o.string=o.boolean=void 0,o.boolean=function boolean(n){return!0===n||!1===n},o.string=string,o.number=function number(n){return"number"==typeof n||n instanceof Number},o.error=function error(n){return n instanceof Error},o.func=func,o.array=array,o.stringArray=function stringArray(n){return array(n)&&n.every(n=>string(n))},o.typedArray=function typedArray(n,o){return Array.isArray(n)&&n.every(o)},o.thenable=function thenable(n){return n&&func(n.then)}},16116:(n,o)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.generateUuid=o.parse=o.isUUID=o.v4=o.empty=void 0;class ValueUUID{constructor(n){this._value=n}asHex(){return this._value}equals(n){return this.asHex()===n.asHex()}}class V4UUID extends ValueUUID{static _oneOf(n){return n[Math.floor(n.length*Math.random())]}static _randomHex(){return V4UUID._oneOf(V4UUID._chars)}constructor(){super([V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-","4",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._oneOf(V4UUID._timeHighBits),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),"-",V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex(),V4UUID._randomHex()].join(""))}}function v4(){return new V4UUID}V4UUID._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],V4UUID._timeHighBits=["8","9","a","b"],o.empty=new ValueUUID("00000000-0000-0000-0000-000000000000"),o.v4=v4;const i=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function isUUID(n){return i.test(n)}o.isUUID=isUUID,o.parse=function parse(n){if(!isUUID(n))throw new Error("invalid uuid");return new ValueUUID(n)},o.generateUuid=function generateUuid(){return v4().asHex()}},32112:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.WorkspaceFoldersFeature=void 0;const s=i(67354);o.WorkspaceFoldersFeature=n=>class extends n{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(n){super.initialize(n);let o=n.workspace;o&&o.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new s.Emitter,this.connection.onNotification(s.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(n){super.fillServerCapabilities(n);const o=n.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=!0===o||"string"==typeof o}getWorkspaceFolders(){return this.connection.sendRequest(s.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._notificationIsAutoRegistered||this._unregistration||(this._unregistration=this.connection.client.register(s.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}}},53911:(n,o,i)=>{"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.resolveModulePath=o.FileSystem=o.resolveGlobalYarnPath=o.resolveGlobalNodePath=o.resolve=o.uriToFilePath=void 0;const s=i(87016),c=i(16928),h=i(79896),f=i(35317);function isWindows(){return"win32"===process.platform}function resolve(n,o,i,s){const E="NODE_PATH",S=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((A,O)=>{let T=process.env,_=Object.create(null);Object.keys(T).forEach(n=>_[n]=T[n]),o&&h.existsSync(o)&&(_[E]?_[E]=o+c.delimiter+_[E]:_[E]=o,s&&s(`NODE_PATH value is: ${_[E]}`)),_.ELECTRON_RUN_AS_NODE="1";try{let o=(0,f.fork)("",[],{cwd:i,env:_,execArgv:["-e",S]});if(void 0===o.pid)return void O(new Error(`Starting process to resolve node module  ${n} failed`));o.on("error",n=>{O(n)}),o.on("message",i=>{"r"===i.c&&(o.send({c:"e"}),i.s?A(i.r):O(new Error(`Failed to resolve module: ${n}`)))});let s={c:"rs",a:n};o.send(s)}catch(n){O(n)}})}function resolveGlobalNodePath(n){let o="npm";const i=Object.create(null);Object.keys(process.env).forEach(n=>i[n]=process.env[n]),i.NO_UPDATE_NOTIFIER="true";const s={encoding:"utf8",env:i};isWindows()&&(o="npm.cmd",s.shell=!0);let handler=()=>{};try{process.on("SIGPIPE",handler);let i=(0,f.spawnSync)(o,["config","get","prefix"],s).stdout;if(!i)return void(n&&n("'npm config get prefix' didn't return a value."));let h=i.trim();return n&&n(`'npm config get prefix' value is: ${h}`),h.length>0?isWindows()?c.join(h,"node_modules"):c.join(h,"lib","node_modules"):void 0}catch(n){return}finally{process.removeListener("SIGPIPE",handler)}}var E;o.uriToFilePath=function uriToFilePath(n){let o=s.parse(n);if("file:"!==o.protocol||!o.path)return;let i=o.path.split("/");for(var h=0,f=i.length;h<f;h++)i[h]=decodeURIComponent(i[h]);if("win32"===process.platform&&i.length>1){let n=i[0],o=i[1];0===n.length&&o.length>1&&":"===o[1]&&i.shift()}return c.normalize(i.join("/"))},o.resolve=resolve,o.resolveGlobalNodePath=resolveGlobalNodePath,o.resolveGlobalYarnPath=function resolveGlobalYarnPath(n){let o="yarn",i={encoding:"utf8"};isWindows()&&(o="yarn.cmd",i.shell=!0);let handler=()=>{};try{process.on("SIGPIPE",handler);let s=(0,f.spawnSync)(o,["global","dir","--json"],i),h=s.stdout;if(!h)return void(n&&(n("'yarn global dir' didn't return a value."),s.stderr&&n(s.stderr)));let E=h.trim().split(/\r?\n/);for(let n of E)try{let o=JSON.parse(n);if("log"===o.type)return c.join(o.data,"node_modules")}catch(n){}return}catch(n){return}finally{process.removeListener("SIGPIPE",handler)}},function(n){let o;function isCaseSensitive(){return void 0!==o||(o="win32"!==process.platform&&(!h.existsSync(__filename.toUpperCase())||!h.existsSync(__filename.toLowerCase()))),o}n.isCaseSensitive=isCaseSensitive,n.isParent=function isParent(n,o){return isCaseSensitive()?0===c.normalize(o).indexOf(c.normalize(n)):0===c.normalize(o).toLowerCase().indexOf(c.normalize(n).toLowerCase())}}(E||(o.FileSystem=E={})),o.resolveModulePath=function resolveModulePath(n,o,i,s){return i?(c.isAbsolute(i)||(i=c.join(n,i)),resolve(o,i,i,s).then(n=>E.isParent(i,n)?n:Promise.reject(new Error(`Failed to load ${o} from node path location.`))).then(void 0,i=>resolve(o,resolveGlobalNodePath(s),n,s))):resolve(o,resolveGlobalNodePath(s),n,s)}},91327:function(n,o,i){"use strict";var s=this&&this.__createBinding||(Object.create?function(n,o,i,s){void 0===s&&(s=i);var c=Object.getOwnPropertyDescriptor(o,i);c&&!("get"in c?!o.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,c)}:function(n,o,i,s){void 0===s&&(s=i),n[s]=o[i]}),c=this&&this.__exportStar||function(n,o){for(var i in n)"default"===i||Object.prototype.hasOwnProperty.call(o,i)||s(o,n,i)};Object.defineProperty(o,"__esModule",{value:!0}),o.createConnection=o.Files=void 0;const h=i(57975),f=i(68867),E=i(67874),S=i(53911),A=i(40948);var O;c(i(40948),o),c(i(92861),o),function(n){n.uriToFilePath=S.uriToFilePath,n.resolveGlobalNodePath=S.resolveGlobalNodePath,n.resolveGlobalYarnPath=S.resolveGlobalYarnPath,n.resolve=S.resolve,n.resolveModulePath=S.resolveModulePath}(O||(o.Files=O={}));let T,_=!1;!function setupExitTimer(){const n="--clientProcessId";function runTimer(n){try{let o=parseInt(n);isNaN(o)||(T=setInterval(()=>{try{process.kill(o,0)}catch(n){process.exit(_?0:1)}},3e3))}catch(n){}}for(let o=2;o<process.argv.length;o++){let i=process.argv[o];if(i===n&&o+1<process.argv.length)return void runTimer(process.argv[o+1]);{let o=i.split("=");o[0]===n&&runTimer(o[1])}}}();const D={initialize:n=>{const o=n.processId;f.number(o)&&void 0===T&&setInterval(()=>{try{process.kill(o,0)}catch(n){process.exit(_?0:1)}},3e3)},get shutdownReceived(){return _},set shutdownReceived(n){_=n},exit:n=>{process.exit(n)}};o.createConnection=function createConnection(n,o,i,s){let c,S,O,T;return void 0!==n&&"features"===n.__brand&&(c=n,n=o,o=i,i=s),A.ConnectionStrategy.is(n)||A.ConnectionOptions.is(n)?T=n:(S=n,O=o,T=i),function _createConnection(n,o,i,s){let c=!1;if(!n&&!o&&process.argv.length>2){let i,s,h=process.argv.slice(2);for(let f=0;f<h.length;f++){let E=h[f];if("--node-ipc"===E){n=new A.IPCMessageReader(process),o=new A.IPCMessageWriter(process);break}if("--stdio"===E){c=!0,n=process.stdin,o=process.stdout;break}if("--socket"===E){i=parseInt(h[f+1]);break}if("--pipe"===E){s=h[f+1];break}var S=E.split("=");if("--socket"===S[0]){i=parseInt(S[1]);break}if("--pipe"===S[0]){s=S[1];break}}if(i){let s=(0,A.createServerSocketTransport)(i);n=s[0],o=s[1]}else if(s){let i=(0,A.createServerPipeTransport)(s);n=i[0],o=i[1]}}var O="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!n)throw new Error("Connection input stream is not set. "+O);if(!o)throw new Error("Connection output stream is not set. "+O);if(f.func(n.read)&&f.func(n.on)){let o=n;o.on("end",()=>{process.exit(_?0:1)}),o.on("close",()=>{process.exit(_?0:1)})}const connectionFactory=s=>{const f=(0,A.createProtocolConnection)(n,o,s,i);return c&&function patchConsole(n){function serialize(n){return n.map(n=>"string"==typeof n?n:(0,h.inspect)(n)).join(" ")}const o=new Map;console.assert=function assert(o,...i){if(!o)if(0===i.length)n.error("Assertion failed");else{const[o,...s]=i;n.error(`Assertion failed: ${o} ${serialize(s)}`)}},console.count=function count(i="default"){const s=String(i);let c=o.get(s)??0;c+=1,o.set(s,c),n.log(`${s}: ${s}`)},console.countReset=function countReset(n){void 0===n?o.clear():o.delete(String(n))},console.debug=function debug(...o){n.log(serialize(o))},console.dir=function dir(o,i){n.log((0,h.inspect)(o,i))},console.log=function log(...o){n.log(serialize(o))},console.error=function error(...o){n.error(serialize(o))},console.trace=function trace(...o){const i=(new Error).stack.replace(/(.+\n){2}/,"");let s="Trace";0!==o.length&&(s+=`: ${serialize(o)}`),n.log(`${s}\n${i}`)},console.warn=function warn(...o){n.warn(serialize(o))}}(s),f};return(0,E.createConnection)(connectionFactory,D,s)}(S,O,T,c)}},5663:(n,o,i)=>{"use strict";n.exports=i(91327)},48945:function(n){var o;o=()=>(()=>{"use strict";var n={975:n=>{function e(n){if("string"!=typeof n)throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function r(n,o){for(var i,s="",c=0,h=-1,f=0,E=0;E<=n.length;++E){if(E<n.length)i=n.charCodeAt(E);else{if(47===i)break;i=47}if(47===i){if(h===E-1||1===f);else if(h!==E-1&&2===f){if(s.length<2||2!==c||46!==s.charCodeAt(s.length-1)||46!==s.charCodeAt(s.length-2))if(s.length>2){var S=s.lastIndexOf("/");if(S!==s.length-1){-1===S?(s="",c=0):c=(s=s.slice(0,S)).length-1-s.lastIndexOf("/"),h=E,f=0;continue}}else if(2===s.length||1===s.length){s="",c=0,h=E,f=0;continue}o&&(s.length>0?s+="/..":s="..",c=2)}else s.length>0?s+="/"+n.slice(h+1,E):s=n.slice(h+1,E),c=E-h-1;h=E,f=0}else 46===i&&-1!==f?++f:f=-1}return s}var o={resolve:function(){for(var n,o="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var c;s>=0?c=arguments[s]:(void 0===n&&(n=process.cwd()),c=n),e(c),0!==c.length&&(o=c+"/"+o,i=47===c.charCodeAt(0))}return o=r(o,!i),i?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(n){if(e(n),0===n.length)return".";var o=47===n.charCodeAt(0),i=47===n.charCodeAt(n.length-1);return 0!==(n=r(n,!o)).length||o||(n="."),n.length>0&&i&&(n+="/"),o?"/"+n:n},isAbsolute:function(n){return e(n),n.length>0&&47===n.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var n,i=0;i<arguments.length;++i){var s=arguments[i];e(s),s.length>0&&(void 0===n?n=s:n+="/"+s)}return void 0===n?".":o.normalize(n)},relative:function(n,i){if(e(n),e(i),n===i)return"";if((n=o.resolve(n))===(i=o.resolve(i)))return"";for(var s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var c=n.length,h=c-s,f=1;f<i.length&&47===i.charCodeAt(f);++f);for(var E=i.length-f,S=h<E?h:E,A=-1,O=0;O<=S;++O){if(O===S){if(E>S){if(47===i.charCodeAt(f+O))return i.slice(f+O+1);if(0===O)return i.slice(f+O)}else h>S&&(47===n.charCodeAt(s+O)?A=O:0===O&&(A=0));break}var T=n.charCodeAt(s+O);if(T!==i.charCodeAt(f+O))break;47===T&&(A=O)}var _="";for(O=s+A+1;O<=c;++O)O!==c&&47!==n.charCodeAt(O)||(0===_.length?_+="..":_+="/..");return _.length>0?_+i.slice(f+A):(f+=A,47===i.charCodeAt(f)&&++f,i.slice(f))},_makeLong:function(n){return n},dirname:function(n){if(e(n),0===n.length)return".";for(var o=n.charCodeAt(0),i=47===o,s=-1,c=!0,h=n.length-1;h>=1;--h)if(47===(o=n.charCodeAt(h))){if(!c){s=h;break}}else c=!1;return-1===s?i?"/":".":i&&1===s?"//":n.slice(0,s)},basename:function(n,o){if(void 0!==o&&"string"!=typeof o)throw new TypeError('"ext" argument must be a string');e(n);var i,s=0,c=-1,h=!0;if(void 0!==o&&o.length>0&&o.length<=n.length){if(o.length===n.length&&o===n)return"";var f=o.length-1,E=-1;for(i=n.length-1;i>=0;--i){var S=n.charCodeAt(i);if(47===S){if(!h){s=i+1;break}}else-1===E&&(h=!1,E=i+1),f>=0&&(S===o.charCodeAt(f)?-1==--f&&(c=i):(f=-1,c=E))}return s===c?c=E:-1===c&&(c=n.length),n.slice(s,c)}for(i=n.length-1;i>=0;--i)if(47===n.charCodeAt(i)){if(!h){s=i+1;break}}else-1===c&&(h=!1,c=i+1);return-1===c?"":n.slice(s,c)},extname:function(n){e(n);for(var o=-1,i=0,s=-1,c=!0,h=0,f=n.length-1;f>=0;--f){var E=n.charCodeAt(f);if(47!==E)-1===s&&(c=!1,s=f+1),46===E?-1===o?o=f:1!==h&&(h=1):-1!==o&&(h=-1);else if(!c){i=f+1;break}}return-1===o||-1===s||0===h||1===h&&o===s-1&&o===i+1?"":n.slice(o,s)},format:function(n){if(null===n||"object"!=typeof n)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return function(n,o){var i=o.dir||o.root,s=o.base||(o.name||"")+(o.ext||"");return i?i===o.root?i+s:i+"/"+s:s}(0,n)},parse:function(n){e(n);var o={root:"",dir:"",base:"",ext:"",name:""};if(0===n.length)return o;var i,s=n.charCodeAt(0),c=47===s;c?(o.root="/",i=1):i=0;for(var h=-1,f=0,E=-1,S=!0,A=n.length-1,O=0;A>=i;--A)if(47!==(s=n.charCodeAt(A)))-1===E&&(S=!1,E=A+1),46===s?-1===h?h=A:1!==O&&(O=1):-1!==h&&(O=-1);else if(!S){f=A+1;break}return-1===h||-1===E||0===O||1===O&&h===E-1&&h===f+1?-1!==E&&(o.base=o.name=0===f&&c?n.slice(1,E):n.slice(f,E)):(0===f&&c?(o.name=n.slice(1,h),o.base=n.slice(1,E)):(o.name=n.slice(f,h),o.base=n.slice(f,E)),o.ext=n.slice(h,E)),f>0?o.dir=n.slice(0,f-1):c&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};o.posix=o,n.exports=o},70:(n,o)=>{if(Object.defineProperty(o,"__esModule",{value:!0}),o.isWindows=void 0,"object"==typeof process)o.isWindows="win32"===process.platform;else if("object"==typeof navigator){let n=navigator.userAgent;o.isWindows=n.indexOf("Windows")>=0}},231:(n,o,i)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.uriToFsPath=o.URI=void 0;const s=i(70),c=/^\w[\w\d+.-]*$/,h=/^\//,f=/^\/\//;function a(n,o){if(!n.scheme&&o)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${n.authority}", path: "${n.path}", query: "${n.query}", fragment: "${n.fragment}"}`);if(n.scheme&&!c.test(n.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(n.path)if(n.authority){if(!h.test(n.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(f.test(n.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}const E="",S="/",A=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class u{static isUri(n){return n instanceof u||!!n&&"string"==typeof n.authority&&"string"==typeof n.fragment&&"string"==typeof n.path&&"string"==typeof n.query&&"string"==typeof n.scheme&&"string"==typeof n.fsPath&&"function"==typeof n.with&&"function"==typeof n.toString}scheme;authority;path;query;fragment;constructor(n,o,i,s,c,h=!1){"object"==typeof n?(this.scheme=n.scheme||E,this.authority=n.authority||E,this.path=n.path||E,this.query=n.query||E,this.fragment=n.fragment||E):(this.scheme=function(n,o){return n||o?n:"file"}(n,h),this.authority=o||E,this.path=function(n,o){switch(n){case"https":case"http":case"file":o?o[0]!==S&&(o=S+o):o=S}return o}(this.scheme,i||E),this.query=s||E,this.fragment=c||E,a(this,h))}get fsPath(){return v(this,!1)}with(n){if(!n)return this;let{scheme:o,authority:i,path:s,query:c,fragment:h}=n;return void 0===o?o=this.scheme:null===o&&(o=E),void 0===i?i=this.authority:null===i&&(i=E),void 0===s?s=this.path:null===s&&(s=E),void 0===c?c=this.query:null===c&&(c=E),void 0===h?h=this.fragment:null===h&&(h=E),o===this.scheme&&i===this.authority&&s===this.path&&c===this.query&&h===this.fragment?this:new d(o,i,s,c,h)}static parse(n,o=!1){const i=A.exec(n);return i?new d(i[2]||E,w(i[4]||E),w(i[5]||E),w(i[7]||E),w(i[9]||E),o):new d(E,E,E,E,E)}static file(n){let o=E;if(s.isWindows&&(n=n.replace(/\\/g,S)),n[0]===S&&n[1]===S){const i=n.indexOf(S,2);-1===i?(o=n.substring(2),n=S):(o=n.substring(2,i),n=n.substring(i)||S)}return new d("file",o,n,E,E)}static from(n){const o=new d(n.scheme,n.authority,n.path,n.query,n.fragment);return a(o,!0),o}toString(n=!1){return y(this,n)}toJSON(){return this}static revive(n){if(n){if(n instanceof u)return n;{const o=new d(n);return o._formatted=n.external,o._fsPath=n._sep===O?n.fsPath:null,o}}return n}}o.URI=u;const O=s.isWindows?1:void 0;class d extends u{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=v(this,!1)),this._fsPath}toString(n=!1){return n?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){const n={$mid:1};return this._fsPath&&(n.fsPath=this._fsPath,n._sep=O),this._formatted&&(n.external=this._formatted),this.path&&(n.path=this.path),this.scheme&&(n.scheme=this.scheme),this.authority&&(n.authority=this.authority),this.query&&(n.query=this.query),this.fragment&&(n.fragment=this.fragment),n}}const T={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function g(n,o,i){let s,c=-1;for(let h=0;h<n.length;h++){const f=n.charCodeAt(h);if(f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||45===f||46===f||95===f||126===f||o&&47===f||i&&91===f||i&&93===f||i&&58===f)-1!==c&&(s+=encodeURIComponent(n.substring(c,h)),c=-1),void 0!==s&&(s+=n.charAt(h));else{void 0===s&&(s=n.substr(0,h));const o=T[f];void 0!==o?(-1!==c&&(s+=encodeURIComponent(n.substring(c,h)),c=-1),s+=o):-1===c&&(c=h)}}return-1!==c&&(s+=encodeURIComponent(n.substring(c))),void 0!==s?s:n}function m(n){let o;for(let i=0;i<n.length;i++){const s=n.charCodeAt(i);35===s||63===s?(void 0===o&&(o=n.substr(0,i)),o+=T[s]):void 0!==o&&(o+=n[i])}return void 0!==o?o:n}function v(n,o){let i;return i=n.authority&&n.path.length>1&&"file"===n.scheme?`//${n.authority}${n.path}`:47===n.path.charCodeAt(0)&&(n.path.charCodeAt(1)>=65&&n.path.charCodeAt(1)<=90||n.path.charCodeAt(1)>=97&&n.path.charCodeAt(1)<=122)&&58===n.path.charCodeAt(2)?o?n.path.substr(1):n.path[1].toLowerCase()+n.path.substr(2):n.path,s.isWindows&&(i=i.replace(/\//g,"\\")),i}function y(n,o){const i=o?m:g;let s="",{scheme:c,authority:h,path:f,query:E,fragment:A}=n;if(c&&(s+=c,s+=":"),(h||"file"===c)&&(s+=S,s+=S),h){let n=h.indexOf("@");if(-1!==n){const o=h.substr(0,n);h=h.substr(n+1),n=o.lastIndexOf(":"),-1===n?s+=i(o,!1,!1):(s+=i(o.substr(0,n),!1,!1),s+=":",s+=i(o.substr(n+1),!1,!0)),s+="@"}h=h.toLowerCase(),n=h.lastIndexOf(":"),-1===n?s+=i(h,!1,!0):(s+=i(h.substr(0,n),!1,!0),s+=h.substr(n))}if(f){if(f.length>=3&&47===f.charCodeAt(0)&&58===f.charCodeAt(2)){const n=f.charCodeAt(1);n>=65&&n<=90&&(f=`/${String.fromCharCode(n+32)}:${f.substr(3)}`)}else if(f.length>=2&&58===f.charCodeAt(1)){const n=f.charCodeAt(0);n>=65&&n<=90&&(f=`${String.fromCharCode(n+32)}:${f.substr(2)}`)}s+=i(f,!0,!1)}return E&&(s+="?",s+=i(E,!1,!1)),A&&(s+="#",s+=o?A:g(A,!1,!1)),s}function b(n){try{return decodeURIComponent(n)}catch{return n.length>3?n.substr(0,3)+b(n.substr(3)):n}}o.uriToFsPath=v;const _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function w(n){return n.match(_)?n.replace(_,n=>b(n)):n}},552:function(n,o,i){var s=this&&this.__createBinding||(Object.create?function(n,o,i,s){void 0===s&&(s=i);var c=Object.getOwnPropertyDescriptor(o,i);c&&!("get"in c?!o.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,c)}:function(n,o,i,s){void 0===s&&(s=i),n[s]=o[i]}),c=this&&this.__setModuleDefault||(Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o}),h=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var o={};if(null!=n)for(var i in n)"default"!==i&&Object.prototype.hasOwnProperty.call(n,i)&&s(o,n,i);return c(o,n),o};Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;const f=h(i(975)),E=f.posix||f,S="/";var A;!function(n){n.joinPath=function(n,...o){return n.with({path:E.join(n.path,...o)})},n.resolvePath=function(n,...o){let i=n.path,s=!1;i[0]!==S&&(i=S+i,s=!0);let c=E.resolve(i,...o);return s&&c[0]===S&&!n.authority&&(c=c.substring(1)),n.with({path:c})},n.dirname=function(n){if(0===n.path.length||n.path===S)return n;let o=E.dirname(n.path);return 1===o.length&&46===o.charCodeAt(0)&&(o=""),n.with({path:o})},n.basename=function(n){return E.basename(n.path)},n.extname=function(n){return E.extname(n.path)}}(A||(o.Utils=A={}))}},o={};function r(i){var s=o[i];if(void 0!==s)return s.exports;var c=o[i]={exports:{}};return n[i].call(c.exports,c,c.exports,r),c.exports}var i={};return(()=>{var n=i;Object.defineProperty(n,"__esModule",{value:!0}),n.Utils=n.URI=void 0;const o=r(231);Object.defineProperty(n,"URI",{enumerable:!0,get:function(){return o.URI}});const s=r(552);Object.defineProperty(n,"Utils",{enumerable:!0,get:function(){return s.Utils}})})(),i})(),n.exports=o()},85616:(n,o)=>{"use strict";function makeException(n,o,i){return i.globals&&(n=i.globals[n.name]),new n(`${i.context?i.context:"Value"} ${o}.`)}function toNumber(n,o){if("bigint"==typeof n)throw makeException(TypeError,"is a BigInt which cannot be converted to a number",o);return o.globals?o.globals.Number(n):Number(n)}function evenRound(n){return censorNegativeZero(n>0&&n%1==.5&&!(1&n)||n<0&&n%1==-.5&&!(1&~n)?Math.floor(n):Math.round(n))}function integerPart(n){return censorNegativeZero(Math.trunc(n))}function sign(n){return n<0?-1:1}function censorNegativeZero(n){return 0===n?0:n}function createIntegerConversion(n,{unsigned:o}){let i,s;o?(i=0,s=2**n-1):(i=-(2**(n-1)),s=2**(n-1)-1);const c=2**n,h=2**(n-1);return(n,f={})=>{let E=toNumber(n,f);if(E=censorNegativeZero(E),f.enforceRange){if(!Number.isFinite(E))throw makeException(TypeError,"is not a finite number",f);if(E=integerPart(E),E<i||E>s)throw makeException(TypeError,`is outside the accepted range of ${i} to ${s}, inclusive`,f);return E}return!Number.isNaN(E)&&f.clamp?(E=Math.min(Math.max(E,i),s),E=evenRound(E),E):Number.isFinite(E)&&0!==E?(E=integerPart(E),E>=i&&E<=s?E:(E=function modulo(n,o){const i=n%o;return sign(o)!==sign(i)?i+o:i}(E,c),!o&&E>=h?E-c:E)):0}}function createLongLongConversion(n,{unsigned:o}){const i=Number.MAX_SAFE_INTEGER,s=o?0:Number.MIN_SAFE_INTEGER,c=o?BigInt.asUintN:BigInt.asIntN;return(o,h={})=>{let f=toNumber(o,h);if(f=censorNegativeZero(f),h.enforceRange){if(!Number.isFinite(f))throw makeException(TypeError,"is not a finite number",h);if(f=integerPart(f),f<s||f>i)throw makeException(TypeError,`is outside the accepted range of ${s} to ${i}, inclusive`,h);return f}if(!Number.isNaN(f)&&h.clamp)return f=Math.min(Math.max(f,s),i),f=evenRound(f),f;if(!Number.isFinite(f)||0===f)return 0;let E=BigInt(integerPart(f));return E=c(n,E),Number(E)}}o.any=n=>n,o.undefined=()=>{},o.boolean=n=>Boolean(n),o.byte=createIntegerConversion(8,{unsigned:!1}),o.octet=createIntegerConversion(8,{unsigned:!0}),o.short=createIntegerConversion(16,{unsigned:!1}),o["unsigned short"]=createIntegerConversion(16,{unsigned:!0}),o.long=createIntegerConversion(32,{unsigned:!1}),o["unsigned long"]=createIntegerConversion(32,{unsigned:!0}),o["long long"]=createLongLongConversion(64,{unsigned:!1}),o["unsigned long long"]=createLongLongConversion(64,{unsigned:!0}),o.double=(n,o={})=>{const i=toNumber(n,o);if(!Number.isFinite(i))throw makeException(TypeError,"is not a finite floating-point value",o);return i},o["unrestricted double"]=(n,o={})=>toNumber(n,o),o.float=(n,o={})=>{const i=toNumber(n,o);if(!Number.isFinite(i))throw makeException(TypeError,"is not a finite floating-point value",o);if(Object.is(i,-0))return i;const s=Math.fround(i);if(!Number.isFinite(s))throw makeException(TypeError,"is outside the range of a single-precision floating-point value",o);return s},o["unrestricted float"]=(n,o={})=>{const i=toNumber(n,o);return isNaN(i)||Object.is(i,-0)?i:Math.fround(i)},o.DOMString=(n,o={})=>{if(o.treatNullAsEmptyString&&null===n)return"";if("symbol"==typeof n)throw makeException(TypeError,"is a symbol, which cannot be converted to a string",o);return(o.globals?o.globals.String:String)(n)},o.ByteString=(n,i={})=>{const s=o.DOMString(n,i);let c;for(let n=0;void 0!==(c=s.codePointAt(n));++n)if(c>255)throw makeException(TypeError,"is not a valid ByteString",i);return s},o.USVString=(n,i={})=>{const s=o.DOMString(n,i),c=s.length,h=[];for(let n=0;n<c;++n){const o=s.charCodeAt(n);if(o<55296||o>57343)h.push(String.fromCodePoint(o));else if(56320<=o&&o<=57343)h.push(String.fromCodePoint(65533));else if(n===c-1)h.push(String.fromCodePoint(65533));else{const i=s.charCodeAt(n+1);if(56320<=i&&i<=57343){const s=1023&o,c=1023&i;h.push(String.fromCodePoint(65536+1024*s+c)),++n}else h.push(String.fromCodePoint(65533))}}return h.join("")},o.object=(n,o={})=>{if(null===n||"object"!=typeof n&&"function"!=typeof n)throw makeException(TypeError,"is not an object",o);return n};const i=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get,s="function"==typeof SharedArrayBuffer?Object.getOwnPropertyDescriptor(SharedArrayBuffer.prototype,"byteLength").get:null;function isNonSharedArrayBuffer(n){try{return i.call(n),!0}catch{return!1}}function isSharedArrayBuffer(n){try{return s.call(n),!0}catch{return!1}}function isArrayBufferDetached(n){try{return new Uint8Array(n),!1}catch{return!0}}o.ArrayBuffer=(n,o={})=>{if(!isNonSharedArrayBuffer(n)){if(o.allowShared&&!isSharedArrayBuffer(n))throw makeException(TypeError,"is not an ArrayBuffer or SharedArrayBuffer",o);throw makeException(TypeError,"is not an ArrayBuffer",o)}if(isArrayBufferDetached(n))throw makeException(TypeError,"is a detached ArrayBuffer",o);return n};const c=Object.getOwnPropertyDescriptor(DataView.prototype,"byteLength").get;o.DataView=(n,o={})=>{try{c.call(n)}catch(n){throw makeException(TypeError,"is not a DataView",o)}if(!o.allowShared&&isSharedArrayBuffer(n.buffer))throw makeException(TypeError,"is backed by a SharedArrayBuffer, which is not allowed",o);if(isArrayBufferDetached(n.buffer))throw makeException(TypeError,"is backed by a detached ArrayBuffer",o);return n};const h=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array).prototype,Symbol.toStringTag).get;[Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,Float32Array,Float64Array].forEach(n=>{const{name:i}=n,s=/^[AEIOU]/u.test(i)?"an":"a";o[i]=(n,o={})=>{if(!ArrayBuffer.isView(n)||h.call(n)!==i)throw makeException(TypeError,`is not ${s} ${i} object`,o);if(!o.allowShared&&isSharedArrayBuffer(n.buffer))throw makeException(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",o);if(isArrayBufferDetached(n.buffer))throw makeException(TypeError,"is a view on a detached ArrayBuffer",o);return n}}),o.ArrayBufferView=(n,o={})=>{if(!ArrayBuffer.isView(n))throw makeException(TypeError,"is not a view on an ArrayBuffer or SharedArrayBuffer",o);if(!o.allowShared&&isSharedArrayBuffer(n.buffer))throw makeException(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",o);if(isArrayBufferDetached(n.buffer))throw makeException(TypeError,"is a view on a detached ArrayBuffer",o);return n},o.BufferSource=(n,o={})=>{if(ArrayBuffer.isView(n)){if(!o.allowShared&&isSharedArrayBuffer(n.buffer))throw makeException(TypeError,"is a view on a SharedArrayBuffer, which is not allowed",o);if(isArrayBufferDetached(n.buffer))throw makeException(TypeError,"is a view on a detached ArrayBuffer",o);return n}if(!o.allowShared&&!isNonSharedArrayBuffer(n))throw makeException(TypeError,"is not an ArrayBuffer or a view on one",o);if(o.allowShared&&!isSharedArrayBuffer(n)&&!isNonSharedArrayBuffer(n))throw makeException(TypeError,"is not an ArrayBuffer, SharedArrayBuffer, or a view on one",o);if(isArrayBufferDetached(n))throw makeException(TypeError,"is a detached ArrayBuffer",o);return n},o.DOMTimeStamp=o["unsigned long long"]},75833:(n,o,i)=>{"use strict";const{URL:s,URLSearchParams:c}=i(3181),h=i(95484),f=i(41656),E={Array,Object,Promise,String,TypeError};s.install(E,["Window"]),c.install(E,["Window"]),o.URL=E.URL,o.URLSearchParams=E.URLSearchParams,o.parseURL=h.parseURL,o.basicURLParse=h.basicURLParse,o.serializeURL=h.serializeURL,o.serializePath=h.serializePath,o.serializeHost=h.serializeHost,o.serializeInteger=h.serializeInteger,o.serializeURLOrigin=h.serializeURLOrigin,o.setTheUsername=h.setTheUsername,o.setThePassword=h.setThePassword,o.cannotHaveAUsernamePasswordPort=h.cannotHaveAUsernamePasswordPort,o.hasAnOpaquePath=h.hasAnOpaquePath,o.percentDecodeString=f.percentDecodeString,o.percentDecodeBytes=f.percentDecodeBytes},44817:(n,o,i)=>{"use strict";const s=i(85616),c=i(46892);o.convert=(n,o,{context:i="The provided value"}={})=>{if("function"!=typeof o)throw new n.TypeError(i+" is not a function");function invokeTheCallbackFunction(...h){const f=c.tryWrapperForImpl(this);let E;for(let n=0;n<h.length;n++)h[n]=c.tryWrapperForImpl(h[n]);return E=Reflect.apply(o,f,h),E=s.any(E,{context:i,globals:n}),E}return invokeTheCallbackFunction.construct=(...h)=>{for(let n=0;n<h.length;n++)h[n]=c.tryWrapperForImpl(h[n]);let f=Reflect.construct(o,h);return f=s.any(f,{context:i,globals:n}),f},invokeTheCallbackFunction[c.wrapperSymbol]=o,invokeTheCallbackFunction.objectReference=o,invokeTheCallbackFunction}},67079:(n,o,i)=>{"use strict";const s=i(95484),c=i(85252),h=i(52682);o.implementation=class URLImpl{constructor(n,[o,i]){let c=null;if(void 0!==i&&(c=s.basicURLParse(i),null===c))throw new TypeError(`Invalid base URL: ${i}`);const f=s.basicURLParse(o,{baseURL:c});if(null===f)throw new TypeError(`Invalid URL: ${o}`);const E=null!==f.query?f.query:"";this._url=f,this._query=h.createImpl(n,[E],{doNotStripQMark:!0}),this._query._url=this}static parse(n,o,i){try{return new URLImpl(n,[o,i])}catch{return null}}static canParse(n,o){let i=null;if(void 0!==o&&(i=s.basicURLParse(o),null===i))return!1;return null!==s.basicURLParse(n,{baseURL:i})}get href(){return s.serializeURL(this._url)}set href(n){const o=s.basicURLParse(n);if(null===o)throw new TypeError(`Invalid URL: ${n}`);this._url=o,this._query._list.splice(0);const{query:i}=o;null!==i&&(this._query._list=c.parseUrlencodedString(i))}get origin(){return s.serializeURLOrigin(this._url)}get protocol(){return`${this._url.scheme}:`}set protocol(n){s.basicURLParse(`${n}:`,{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(n){s.cannotHaveAUsernamePasswordPort(this._url)||s.setTheUsername(this._url,n)}get password(){return this._url.password}set password(n){s.cannotHaveAUsernamePasswordPort(this._url)||s.setThePassword(this._url,n)}get host(){const n=this._url;return null===n.host?"":null===n.port?s.serializeHost(n.host):`${s.serializeHost(n.host)}:${s.serializeInteger(n.port)}`}set host(n){s.hasAnOpaquePath(this._url)||s.basicURLParse(n,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":s.serializeHost(this._url.host)}set hostname(n){s.hasAnOpaquePath(this._url)||s.basicURLParse(n,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":s.serializeInteger(this._url.port)}set port(n){s.cannotHaveAUsernamePasswordPort(this._url)||(""===n?this._url.port=null:s.basicURLParse(n,{url:this._url,stateOverride:"port"}))}get pathname(){return s.serializePath(this._url)}set pathname(n){s.hasAnOpaquePath(this._url)||(this._url.path=[],s.basicURLParse(n,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":`?${this._url.query}`}set search(n){const o=this._url;if(""===n)return o.query=null,void(this._query._list=[]);const i="?"===n[0]?n.substring(1):n;o.query="",s.basicURLParse(i,{url:o,stateOverride:"query"}),this._query._list=c.parseUrlencodedString(i)}get searchParams(){return this._query}get hash(){return null===this._url.fragment||""===this._url.fragment?"":`#${this._url.fragment}`}set hash(n){if(""===n)return void(this._url.fragment=null);const o="#"===n[0]?n.substring(1):n;this._url.fragment="",s.basicURLParse(o,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},76648:(n,o,i)=>{"use strict";const s=i(85616),c=i(46892),h=c.implSymbol,f=c.ctorRegistrySymbol;function makeWrapper(n,o){let i;return void 0!==o&&(i=o.prototype),c.isObject(i)||(i=n[f].URL.prototype),Object.create(i)}o.is=n=>c.isObject(n)&&c.hasOwn(n,h)&&n[h]instanceof S.implementation,o.isImpl=n=>c.isObject(n)&&n instanceof S.implementation,o.convert=(n,i,{context:s="The provided value"}={})=>{if(o.is(i))return c.implForWrapper(i);throw new n.TypeError(`${s} is not of type 'URL'.`)},o.create=(n,i,s)=>{const c=makeWrapper(n);return o.setup(c,n,i,s)},o.createImpl=(n,i,s)=>{const h=o.create(n,i,s);return c.implForWrapper(h)},o._internalSetup=(n,o)=>{},o.setup=(n,i,s=[],f={})=>(f.wrapper=n,o._internalSetup(n,i),Object.defineProperty(n,h,{value:new S.implementation(i,s,f),configurable:!0}),n[h][c.wrapperSymbol]=n,S.init&&S.init(n[h]),n),o.new=(n,i)=>{const s=makeWrapper(n,i);return o._internalSetup(s,n),Object.defineProperty(s,h,{value:Object.create(S.implementation.prototype),configurable:!0}),s[h][c.wrapperSymbol]=s,S.init&&S.init(s[h]),s[h]};const E=new Set(["Window","Worker"]);o.install=(n,i)=>{if(!i.some(n=>E.has(n)))return;const f=c.initCtorRegistry(n);class URL{constructor(i){if(arguments.length<1)throw new n.TypeError(`Failed to construct 'URL': 1 argument required, but only ${arguments.length} present.`);const c=[];{let o=arguments[0];o=s.USVString(o,{context:"Failed to construct 'URL': parameter 1",globals:n}),c.push(o)}{let o=arguments[1];void 0!==o&&(o=s.USVString(o,{context:"Failed to construct 'URL': parameter 2",globals:n})),c.push(o)}return o.setup(Object.create(new.target.prototype),n,c)}toJSON(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'toJSON' called on an object that is not a valid instance of URL.");return i[h].toJSON()}get href(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get href' called on an object that is not a valid instance of URL.");return i[h].href}set href(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'set href' called on an object that is not a valid instance of URL.");i=s.USVString(i,{context:"Failed to set the 'href' property on 'URL': The provided value",globals:n}),c[h].href=i}toString(){if(!o.is(this))throw new n.TypeError("'toString' called on an object that is not a valid instance of URL.");return this[h].href}get origin(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get origin' called on an object that is not a valid instance of URL.");return i[h].origin}get protocol(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get protocol' called on an object that is not a valid instance of URL.");return i[h].protocol}set protocol(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'set protocol' called on an object that is not a valid instance of URL.");i=s.USVString(i,{context:"Failed to set the 'protocol' property on 'URL': The provided value",globals:n}),c[h].protocol=i}get username(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get username' called on an object that is not a valid instance of URL.");return i[h].username}set username(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'set username' called on an object that is not a valid instance of URL.");i=s.USVString(i,{context:"Failed to set the 'username' property on 'URL': The provided value",globals:n}),c[h].username=i}get password(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get password' called on an object that is not a valid instance of URL.");return i[h].password}set password(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'set password' called on an object that is not a valid instance of URL.");i=s.USVString(i,{context:"Failed to set the 'password' property on 'URL': The provided value",globals:n}),c[h].password=i}get host(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get host' called on an object that is not a valid instance of URL.");return i[h].host}set host(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'set host' called on an object that is not a valid instance of URL.");i=s.USVString(i,{context:"Failed to set the 'host' property on 'URL': The provided value",globals:n}),c[h].host=i}get hostname(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get hostname' called on an object that is not a valid instance of URL.");return i[h].hostname}set hostname(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'set hostname' called on an object that is not a valid instance of URL.");i=s.USVString(i,{context:"Failed to set the 'hostname' property on 'URL': The provided value",globals:n}),c[h].hostname=i}get port(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get port' called on an object that is not a valid instance of URL.");return i[h].port}set port(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'set port' called on an object that is not a valid instance of URL.");i=s.USVString(i,{context:"Failed to set the 'port' property on 'URL': The provided value",globals:n}),c[h].port=i}get pathname(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get pathname' called on an object that is not a valid instance of URL.");return i[h].pathname}set pathname(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'set pathname' called on an object that is not a valid instance of URL.");i=s.USVString(i,{context:"Failed to set the 'pathname' property on 'URL': The provided value",globals:n}),c[h].pathname=i}get search(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get search' called on an object that is not a valid instance of URL.");return i[h].search}set search(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'set search' called on an object that is not a valid instance of URL.");i=s.USVString(i,{context:"Failed to set the 'search' property on 'URL': The provided value",globals:n}),c[h].search=i}get searchParams(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get searchParams' called on an object that is not a valid instance of URL.");return c.getSameObject(this,"searchParams",()=>c.tryWrapperForImpl(i[h].searchParams))}get hash(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get hash' called on an object that is not a valid instance of URL.");return i[h].hash}set hash(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'set hash' called on an object that is not a valid instance of URL.");i=s.USVString(i,{context:"Failed to set the 'hash' property on 'URL': The provided value",globals:n}),c[h].hash=i}static parse(o){if(arguments.length<1)throw new n.TypeError(`Failed to execute 'parse' on 'URL': 1 argument required, but only ${arguments.length} present.`);const i=[];{let o=arguments[0];o=s.USVString(o,{context:"Failed to execute 'parse' on 'URL': parameter 1",globals:n}),i.push(o)}{let o=arguments[1];void 0!==o&&(o=s.USVString(o,{context:"Failed to execute 'parse' on 'URL': parameter 2",globals:n})),i.push(o)}return c.tryWrapperForImpl(S.implementation.parse(n,...i))}static canParse(o){if(arguments.length<1)throw new n.TypeError(`Failed to execute 'canParse' on 'URL': 1 argument required, but only ${arguments.length} present.`);const i=[];{let o=arguments[0];o=s.USVString(o,{context:"Failed to execute 'canParse' on 'URL': parameter 1",globals:n}),i.push(o)}{let o=arguments[1];void 0!==o&&(o=s.USVString(o,{context:"Failed to execute 'canParse' on 'URL': parameter 2",globals:n})),i.push(o)}return S.implementation.canParse(...i)}}Object.defineProperties(URL.prototype,{toJSON:{enumerable:!0},href:{enumerable:!0},toString:{enumerable:!0},origin:{enumerable:!0},protocol:{enumerable:!0},username:{enumerable:!0},password:{enumerable:!0},host:{enumerable:!0},hostname:{enumerable:!0},port:{enumerable:!0},pathname:{enumerable:!0},search:{enumerable:!0},searchParams:{enumerable:!0},hash:{enumerable:!0},[Symbol.toStringTag]:{value:"URL",configurable:!0}}),Object.defineProperties(URL,{parse:{enumerable:!0},canParse:{enumerable:!0}}),f.URL=URL,Object.defineProperty(n,"URL",{configurable:!0,writable:!0,value:URL}),i.includes("Window")&&Object.defineProperty(n,"webkitURL",{configurable:!0,writable:!0,value:URL})};const S=i(67079)},68549:(n,o,i)=>{"use strict";const s=i(85252);o.implementation=class URLSearchParamsImpl{constructor(n,o,{doNotStripQMark:i=!1}){let c=o[0];if(this._list=[],this._url=null,i||"string"!=typeof c||"?"!==c[0]||(c=c.slice(1)),Array.isArray(c))for(const n of c){if(2!==n.length)throw new TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element does not contain exactly two elements.");this._list.push([n[0],n[1]])}else if("object"==typeof c&&null===Object.getPrototypeOf(c))for(const n of Object.keys(c)){const o=c[n];this._list.push([n,o])}else this._list=s.parseUrlencodedString(c)}_updateSteps(){if(null!==this._url){let n=s.serializeUrlencoded(this._list);""===n&&(n=null),this._url._url.query=n}}get size(){return this._list.length}append(n,o){this._list.push([n,o]),this._updateSteps()}delete(n,o){let i=0;for(;i<this._list.length;)this._list[i][0]!==n||void 0!==o&&this._list[i][1]!==o?i++:this._list.splice(i,1);this._updateSteps()}get(n){for(const o of this._list)if(o[0]===n)return o[1];return null}getAll(n){const o=[];for(const i of this._list)i[0]===n&&o.push(i[1]);return o}has(n,o){for(const i of this._list)if(i[0]===n&&(void 0===o||i[1]===o))return!0;return!1}set(n,o){let i=!1,s=0;for(;s<this._list.length;)this._list[s][0]===n?i?this._list.splice(s,1):(i=!0,this._list[s][1]=o,s++):s++;i||this._list.push([n,o]),this._updateSteps()}sort(){this._list.sort((n,o)=>n[0]<o[0]?-1:n[0]>o[0]?1:0),this._updateSteps()}[Symbol.iterator](){return this._list[Symbol.iterator]()}toString(){return s.serializeUrlencoded(this._list)}}},52682:(n,o,i)=>{"use strict";const s=i(85616),c=i(46892),h=i(44817),f=c.newObjectInRealm,E=c.implSymbol,S=c.ctorRegistrySymbol,A="URLSearchParams";function makeWrapper(n,o){let i;return void 0!==o&&(i=o.prototype),c.isObject(i)||(i=n[S].URLSearchParams.prototype),Object.create(i)}o.is=n=>c.isObject(n)&&c.hasOwn(n,E)&&n[E]instanceof T.implementation,o.isImpl=n=>c.isObject(n)&&n instanceof T.implementation,o.convert=(n,i,{context:s="The provided value"}={})=>{if(o.is(i))return c.implForWrapper(i);throw new n.TypeError(`${s} is not of type 'URLSearchParams'.`)},o.createDefaultIterator=(n,o,i)=>{const s=n[S]["URLSearchParams Iterator"],h=Object.create(s);return Object.defineProperty(h,c.iterInternalSymbol,{value:{target:o,kind:i,index:0},configurable:!0}),h},o.create=(n,i,s)=>{const c=makeWrapper(n);return o.setup(c,n,i,s)},o.createImpl=(n,i,s)=>{const h=o.create(n,i,s);return c.implForWrapper(h)},o._internalSetup=(n,o)=>{},o.setup=(n,i,s=[],h={})=>(h.wrapper=n,o._internalSetup(n,i),Object.defineProperty(n,E,{value:new T.implementation(i,s,h),configurable:!0}),n[E][c.wrapperSymbol]=n,T.init&&T.init(n[E]),n),o.new=(n,i)=>{const s=makeWrapper(n,i);return o._internalSetup(s,n),Object.defineProperty(s,E,{value:Object.create(T.implementation.prototype),configurable:!0}),s[E][c.wrapperSymbol]=s,T.init&&T.init(s[E]),s[E]};const O=new Set(["Window","Worker"]);o.install=(n,i)=>{if(!i.some(n=>O.has(n)))return;const S=c.initCtorRegistry(n);class URLSearchParams{constructor(){const i=[];{let o=arguments[0];if(void 0!==o)if(c.isObject(o))if(void 0!==o[Symbol.iterator]){if(!c.isObject(o))throw new n.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence is not an iterable object.");{const i=[],h=o;for(let o of h){if(!c.isObject(o))throw new n.TypeError("Failed to construct 'URLSearchParams': parameter 1 sequence's element is not an iterable object.");{const i=[],c=o;for(let o of c)o=s.USVString(o,{context:"Failed to construct 'URLSearchParams': parameter 1 sequence's element's element",globals:n}),i.push(o);o=i}i.push(o)}o=i}}else{if(!c.isObject(o))throw new n.TypeError("Failed to construct 'URLSearchParams': parameter 1 record is not an object.");{const i=Object.create(null);for(const c of Reflect.ownKeys(o)){const h=Object.getOwnPropertyDescriptor(o,c);if(h&&h.enumerable){let h=c;h=s.USVString(h,{context:"Failed to construct 'URLSearchParams': parameter 1 record's key",globals:n});let f=o[c];f=s.USVString(f,{context:"Failed to construct 'URLSearchParams': parameter 1 record's value",globals:n}),i[h]=f}}o=i}}else o=s.USVString(o,{context:"Failed to construct 'URLSearchParams': parameter 1",globals:n});else o="";i.push(o)}return o.setup(Object.create(new.target.prototype),n,i)}append(i,h){const f=null!=this?this:n;if(!o.is(f))throw new n.TypeError("'append' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new n.TypeError(`Failed to execute 'append' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const S=[];{let o=arguments[0];o=s.USVString(o,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 1",globals:n}),S.push(o)}{let o=arguments[1];o=s.USVString(o,{context:"Failed to execute 'append' on 'URLSearchParams': parameter 2",globals:n}),S.push(o)}return c.tryWrapperForImpl(f[E].append(...S))}delete(i){const h=null!=this?this:n;if(!o.is(h))throw new n.TypeError("'delete' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new n.TypeError(`Failed to execute 'delete' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const f=[];{let o=arguments[0];o=s.USVString(o,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 1",globals:n}),f.push(o)}{let o=arguments[1];void 0!==o&&(o=s.USVString(o,{context:"Failed to execute 'delete' on 'URLSearchParams': parameter 2",globals:n})),f.push(o)}return c.tryWrapperForImpl(h[E].delete(...f))}get(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'get' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new n.TypeError(`Failed to execute 'get' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const h=[];{let o=arguments[0];o=s.USVString(o,{context:"Failed to execute 'get' on 'URLSearchParams': parameter 1",globals:n}),h.push(o)}return c[E].get(...h)}getAll(i){const h=null!=this?this:n;if(!o.is(h))throw new n.TypeError("'getAll' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new n.TypeError(`Failed to execute 'getAll' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const f=[];{let o=arguments[0];o=s.USVString(o,{context:"Failed to execute 'getAll' on 'URLSearchParams': parameter 1",globals:n}),f.push(o)}return c.tryWrapperForImpl(h[E].getAll(...f))}has(i){const c=null!=this?this:n;if(!o.is(c))throw new n.TypeError("'has' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new n.TypeError(`Failed to execute 'has' on 'URLSearchParams': 1 argument required, but only ${arguments.length} present.`);const h=[];{let o=arguments[0];o=s.USVString(o,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 1",globals:n}),h.push(o)}{let o=arguments[1];void 0!==o&&(o=s.USVString(o,{context:"Failed to execute 'has' on 'URLSearchParams': parameter 2",globals:n})),h.push(o)}return c[E].has(...h)}set(i,h){const f=null!=this?this:n;if(!o.is(f))throw new n.TypeError("'set' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<2)throw new n.TypeError(`Failed to execute 'set' on 'URLSearchParams': 2 arguments required, but only ${arguments.length} present.`);const S=[];{let o=arguments[0];o=s.USVString(o,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 1",globals:n}),S.push(o)}{let o=arguments[1];o=s.USVString(o,{context:"Failed to execute 'set' on 'URLSearchParams': parameter 2",globals:n}),S.push(o)}return c.tryWrapperForImpl(f[E].set(...S))}sort(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'sort' called on an object that is not a valid instance of URLSearchParams.");return c.tryWrapperForImpl(i[E].sort())}toString(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'toString' called on an object that is not a valid instance of URLSearchParams.");return i[E].toString()}keys(){if(!o.is(this))throw new n.TypeError("'keys' called on an object that is not a valid instance of URLSearchParams.");return o.createDefaultIterator(n,this,"key")}values(){if(!o.is(this))throw new n.TypeError("'values' called on an object that is not a valid instance of URLSearchParams.");return o.createDefaultIterator(n,this,"value")}entries(){if(!o.is(this))throw new n.TypeError("'entries' called on an object that is not a valid instance of URLSearchParams.");return o.createDefaultIterator(n,this,"key+value")}forEach(i){if(!o.is(this))throw new n.TypeError("'forEach' called on an object that is not a valid instance of URLSearchParams.");if(arguments.length<1)throw new n.TypeError("Failed to execute 'forEach' on 'iterable': 1 argument required, but only 0 present.");i=h.convert(n,i,{context:"Failed to execute 'forEach' on 'iterable': The callback provided as parameter 1"});const s=arguments[1];let f=Array.from(this[E]),S=0;for(;S<f.length;){const[n,o]=f[S].map(c.tryWrapperForImpl);i.call(s,o,n,this),f=Array.from(this[E]),S++}}get size(){const i=null!=this?this:n;if(!o.is(i))throw new n.TypeError("'get size' called on an object that is not a valid instance of URLSearchParams.");return i[E].size}}Object.defineProperties(URLSearchParams.prototype,{append:{enumerable:!0},delete:{enumerable:!0},get:{enumerable:!0},getAll:{enumerable:!0},has:{enumerable:!0},set:{enumerable:!0},sort:{enumerable:!0},toString:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0},forEach:{enumerable:!0},size:{enumerable:!0},[Symbol.toStringTag]:{value:"URLSearchParams",configurable:!0},[Symbol.iterator]:{value:URLSearchParams.prototype.entries,configurable:!0,writable:!0}}),S[A]=URLSearchParams,S["URLSearchParams Iterator"]=Object.create(S["%IteratorPrototype%"],{[Symbol.toStringTag]:{configurable:!0,value:"URLSearchParams Iterator"}}),c.define(S["URLSearchParams Iterator"],{next(){const o=this&&this[c.iterInternalSymbol];if(!o)throw new n.TypeError("next() called on a value that is not a URLSearchParams iterator object");const{target:i,kind:s,index:h}=o,S=Array.from(i[E]);if(h>=S.length)return f(n,{value:void 0,done:!0});const A=S[h];return o.index=h+1,f(n,c.iteratorResult(A.map(c.tryWrapperForImpl),s))}}),Object.defineProperty(n,A,{configurable:!0,writable:!0,value:URLSearchParams})};const T=i(68549)},58408:n=>{"use strict";const o=new TextEncoder,i=new TextDecoder("utf-8",{ignoreBOM:!0});n.exports={utf8Encode:function utf8Encode(n){return o.encode(n)},utf8DecodeWithoutBOM:function utf8DecodeWithoutBOM(n){return i.decode(n)}}},47167:n=>{"use strict";function isASCIIDigit(n){return n>=48&&n<=57}function isASCIIAlpha(n){return n>=65&&n<=90||n>=97&&n<=122}n.exports={isASCIIDigit,isASCIIAlpha,isASCIIAlphanumeric:function isASCIIAlphanumeric(n){return isASCIIAlpha(n)||isASCIIDigit(n)},isASCIIHex:function isASCIIHex(n){return isASCIIDigit(n)||n>=65&&n<=70||n>=97&&n<=102}}},41656:(n,o,i)=>{"use strict";const{isASCIIHex:s}=i(47167),{utf8Encode:c}=i(58408);function p(n){return n.codePointAt(0)}function percentEncode(n){let o=n.toString(16).toUpperCase();return 1===o.length&&(o=`0${o}`),`%${o}`}function percentDecodeBytes(n){const o=new Uint8Array(n.byteLength);let i=0;for(let c=0;c<n.byteLength;++c){const h=n[c];if(37!==h)o[i++]=h;else if(37!==h||s(n[c+1])&&s(n[c+2])){const s=parseInt(String.fromCodePoint(n[c+1],n[c+2]),16);o[i++]=s,c+=2}else o[i++]=h}return o.slice(0,i)}function isC0ControlPercentEncode(n){return n<=31||n>126}const h=new Set([p(" "),p('"'),p("<"),p(">"),p("`")]);const f=new Set([p(" "),p('"'),p("#"),p("<"),p(">")]);function isQueryPercentEncode(n){return isC0ControlPercentEncode(n)||f.has(n)}const E=new Set([p("?"),p("`"),p("{"),p("}"),p("^")]);function isPathPercentEncode(n){return isQueryPercentEncode(n)||E.has(n)}const S=new Set([p("/"),p(":"),p(";"),p("="),p("@"),p("["),p("\\"),p("]"),p("|")]);function isUserinfoPercentEncode(n){return isPathPercentEncode(n)||S.has(n)}const A=new Set([p("$"),p("%"),p("&"),p("+"),p(",")]);const O=new Set([p("!"),p("'"),p("("),p(")"),p("~")]);function utf8PercentEncodeCodePointInternal(n,o){const i=c(n);let s="";for(const n of i)o(n)?s+=percentEncode(n):s+=String.fromCharCode(n);return s}n.exports={isC0ControlPercentEncode,isFragmentPercentEncode:function isFragmentPercentEncode(n){return isC0ControlPercentEncode(n)||h.has(n)},isQueryPercentEncode,isSpecialQueryPercentEncode:function isSpecialQueryPercentEncode(n){return isQueryPercentEncode(n)||n===p("'")},isPathPercentEncode,isUserinfoPercentEncode,isURLEncodedPercentEncode:function isURLEncodedPercentEncode(n){return function isComponentPercentEncode(n){return isUserinfoPercentEncode(n)||A.has(n)}(n)||O.has(n)},percentDecodeString:function percentDecodeString(n){return percentDecodeBytes(c(n))},percentDecodeBytes,utf8PercentEncodeString:function utf8PercentEncodeString(n,o,i=!1){let s="";for(const c of n)s+=i&&" "===c?"+":utf8PercentEncodeCodePointInternal(c,o);return s},utf8PercentEncodeCodePoint:function utf8PercentEncodeCodePoint(n,o){return utf8PercentEncodeCodePointInternal(String.fromCodePoint(n),o)}}},95484:(n,o,i)=>{"use strict";const s=i(36673),c=i(47167),{utf8DecodeWithoutBOM:h}=i(58408),{percentDecodeString:f,utf8PercentEncodeCodePoint:E,utf8PercentEncodeString:S,isC0ControlPercentEncode:A,isFragmentPercentEncode:O,isQueryPercentEncode:T,isSpecialQueryPercentEncode:_,isPathPercentEncode:D,isUserinfoPercentEncode:N}=i(41656);function p(n){return n.codePointAt(0)}const R={ftp:21,file:null,http:80,https:443,ws:80,wss:443},x=Symbol("failure");function countSymbols(n){return[...n].length}function at(n,o){const i=n[o];return isNaN(i)?void 0:String.fromCodePoint(i)}function isSingleDot(n){return"."===n||"%2e"===n.toLowerCase()}function isWindowsDriveLetterString(n){return 2===n.length&&c.isASCIIAlpha(n.codePointAt(0))&&(":"===n[1]||"|"===n[1])}function containsForbiddenHostCodePoint(n){return-1!==n.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|<|>|\?|@|\[|\\|\]|\^|\|/u)}function isSpecialScheme(n){return void 0!==R[n]}function isSpecial(n){return isSpecialScheme(n.scheme)}function isNotSpecial(n){return!isSpecialScheme(n.scheme)}function defaultPort(n){return R[n]}function parseIPv4Number(n){if(""===n)return x;let o=10;if(n.length>=2&&"0"===n.charAt(0)&&"x"===n.charAt(1).toLowerCase()?(n=n.substring(2),o=16):n.length>=2&&"0"===n.charAt(0)&&(n=n.substring(1),o=8),""===n)return 0;let i=/[^0-7]/u;return 10===o&&(i=/[^0-9]/u),16===o&&(i=/[^0-9A-Fa-f]/u),i.test(n)?x:parseInt(n,o)}function parseHost(n,o=!1){if("["===n[0])return"]"!==n[n.length-1]?x:function parseIPv6(n){const o=[0,0,0,0,0,0,0,0];let i=0,s=null,h=0;if((n=Array.from(n,n=>n.codePointAt(0)))[h]===p(":")){if(n[h+1]!==p(":"))return x;h+=2,++i,s=i}for(;h<n.length;){if(8===i)return x;if(n[h]===p(":")){if(null!==s)return x;++h,++i,s=i;continue}let f=0,E=0;for(;E<4&&c.isASCIIHex(n[h]);)f=16*f+parseInt(at(n,h),16),++h,++E;if(n[h]===p(".")){if(0===E)return x;if(h-=E,i>6)return x;let s=0;for(;void 0!==n[h];){let f=null;if(s>0){if(!(n[h]===p(".")&&s<4))return x;++h}if(!c.isASCIIDigit(n[h]))return x;for(;c.isASCIIDigit(n[h]);){const o=parseInt(at(n,h));if(null===f)f=o;else{if(0===f)return x;f=10*f+o}if(f>255)return x;++h}o[i]=256*o[i]+f,++s,2!==s&&4!==s||++i}if(4!==s)return x;break}if(n[h]===p(":")){if(++h,void 0===n[h])return x}else if(void 0!==n[h])return x;o[i]=f,++i}if(null!==s){let n=i-s;for(i=7;0!==i&&n>0;){const c=o[s+n-1];o[s+n-1]=o[i],o[i]=c,--i,--n}}else if(null===s&&8!==i)return x;return o}(n.substring(1,n.length-1));if(o)return function parseOpaqueHost(n){if(containsForbiddenHostCodePoint(n))return x;return S(n,A)}(n);const i=function domainToASCII(n,o=!1){const i=s.toASCII(n,{checkHyphens:o,checkBidi:!0,checkJoiners:!0,useSTD3ASCIIRules:o,transitionalProcessing:!1,verifyDNSLength:o,ignoreInvalidPunycode:!1});if(null===i)return x;if(!o){if(""===i)return x;if(function containsForbiddenDomainCodePoint(n){return containsForbiddenHostCodePoint(n)||-1!==n.search(/[\u0000-\u001F]|%|\u007F/u)}(i))return x}return i}(h(f(n)));return i===x?x:function endsInANumber(n){const o=n.split(".");if(""===o[o.length-1]){if(1===o.length)return!1;o.pop()}const i=o[o.length-1];if(parseIPv4Number(i)!==x)return!0;if(/^[0-9]+$/u.test(i))return!0;return!1}(i)?function parseIPv4(n){const o=n.split(".");if(""===o[o.length-1]&&o.length>1&&o.pop(),o.length>4)return x;const i=[];for(const n of o){const o=parseIPv4Number(n);if(o===x)return x;i.push(o)}for(let n=0;n<i.length-1;++n)if(i[n]>255)return x;if(i[i.length-1]>=256**(5-i.length))return x;let s=i.pop(),c=0;for(const n of i)s+=n*256**(3-c),++c;return s}(i):i}function serializeHost(n){return"number"==typeof n?function serializeIPv4(n){let o="",i=n;for(let n=1;n<=4;++n)o=String(i%256)+o,4!==n&&(o=`.${o}`),i=Math.floor(i/256);return o}(n):n instanceof Array?`[${function serializeIPv6(n){let o="";const i=function findTheIPv6AddressCompressedPieceIndex(n){let o=null,i=1,s=null,c=0;for(let h=0;h<n.length;++h)0!==n[h]?(c>i&&(o=s,i=c),s=null,c=0):(null===s&&(s=h),++c);return c>i?s:o}(n);let s=!1;for(let c=0;c<=7;++c)if(!s||0!==n[c]){if(s&&(s=!1),i===c){o+=0===c?"::":":",s=!0;continue}o+=n[c].toString(16),7!==c&&(o+=":")}return o}(n)}]`:n}function shortenPath(n){const{path:o}=n;0!==o.length&&("file"===n.scheme&&1===o.length&&function isNormalizedWindowsDriveLetter(n){return/^[A-Za-z]:$/u.test(n)}(o[0])||o.pop())}function includesCredentials(n){return""!==n.username||""!==n.password}function hasAnOpaquePath(n){return"string"==typeof n.path}function URLStateMachine(n,o,i,s,c){if(this.pointer=0,this.input=n,this.base=o||null,this.encodingOverride=i||"utf-8",this.stateOverride=c,this.url=s,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null};const n=function trimControlChars(n){let o=0,i=n.length;for(;o<i&&!(n.charCodeAt(o)>32);++o);for(;i>o&&!(n.charCodeAt(i-1)>32);--i);return n.substring(o,i)}(this.input);n!==this.input&&(this.parseError=!0),this.input=n}const h=function trimTabAndNewline(n){return n.replace(/\u0009|\u000A|\u000D/gu,"")}(this.input);for(h!==this.input&&(this.parseError=!0),this.input=h,this.state=c||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=Array.from(this.input,n=>n.codePointAt(0));this.pointer<=this.input.length;++this.pointer){const n=this.input[this.pointer],o=isNaN(n)?void 0:String.fromCodePoint(n),i=this[`parse ${this.state}`](n,o);if(!i)break;if(i===x){this.failure=!0;break}}}URLStateMachine.prototype["parse scheme start"]=function parseSchemeStart(n,o){if(c.isASCIIAlpha(n))this.buffer+=o.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,x;this.state="no scheme",--this.pointer}return!0},URLStateMachine.prototype["parse scheme"]=function parseScheme(n,o){if(c.isASCIIAlphanumeric(n)||n===p("+")||n===p("-")||n===p("."))this.buffer+=o.toLowerCase();else if(n===p(":")){if(this.stateOverride){if(isSpecial(this.url)&&!isSpecialScheme(this.buffer))return!1;if(!isSpecial(this.url)&&isSpecialScheme(this.buffer))return!1;if((includesCredentials(this.url)||null!==this.url.port)&&"file"===this.buffer)return!1;if("file"===this.url.scheme&&""===this.url.host)return!1}if(this.url.scheme=this.buffer,this.stateOverride)return this.url.port===defaultPort(this.url.scheme)&&(this.url.port=null),!1;this.buffer="","file"===this.url.scheme?(this.input[this.pointer+1]===p("/")&&this.input[this.pointer+2]===p("/")||(this.parseError=!0),this.state="file"):isSpecial(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":isSpecial(this.url)?this.state="special authority slashes":this.input[this.pointer+1]===p("/")?(this.state="path or authority",++this.pointer):(this.url.path="",this.state="opaque path")}else{if(this.stateOverride)return this.parseError=!0,x;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},URLStateMachine.prototype["parse no scheme"]=function parseNoScheme(n){return null===this.base||hasAnOpaquePath(this.base)&&n!==p("#")?x:(hasAnOpaquePath(this.base)&&n===p("#")?(this.url.scheme=this.base.scheme,this.url.path=this.base.path,this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):"file"===this.base.scheme?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},URLStateMachine.prototype["parse special relative or authority"]=function parseSpecialRelativeOrAuthority(n){return n===p("/")&&this.input[this.pointer+1]===p("/")?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},URLStateMachine.prototype["parse path or authority"]=function parsePathOrAuthority(n){return n===p("/")?this.state="authority":(this.state="path",--this.pointer),!0},URLStateMachine.prototype["parse relative"]=function parseRelative(n){return this.url.scheme=this.base.scheme,n===p("/")?this.state="relative slash":isSpecial(this.url)&&n===p("\\")?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,n===p("?")?(this.url.query="",this.state="query"):n===p("#")?(this.url.fragment="",this.state="fragment"):isNaN(n)||(this.url.query=null,this.url.path.pop(),this.state="path",--this.pointer)),!0},URLStateMachine.prototype["parse relative slash"]=function parseRelativeSlash(n){return!isSpecial(this.url)||n!==p("/")&&n!==p("\\")?n===p("/")?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer):(n===p("\\")&&(this.parseError=!0),this.state="special authority ignore slashes"),!0},URLStateMachine.prototype["parse special authority slashes"]=function parseSpecialAuthoritySlashes(n){return n===p("/")&&this.input[this.pointer+1]===p("/")?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},URLStateMachine.prototype["parse special authority ignore slashes"]=function parseSpecialAuthorityIgnoreSlashes(n){return n!==p("/")&&n!==p("\\")?(this.state="authority",--this.pointer):this.parseError=!0,!0},URLStateMachine.prototype["parse authority"]=function parseAuthority(n,o){if(n===p("@")){this.parseError=!0,this.atFlag&&(this.buffer=`%40${this.buffer}`),this.atFlag=!0;const n=countSymbols(this.buffer);for(let o=0;o<n;++o){const n=this.buffer.codePointAt(o);if(n===p(":")&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const i=E(n,N);this.passwordTokenSeenFlag?this.url.password+=i:this.url.username+=i}this.buffer=""}else if(isNaN(n)||n===p("/")||n===p("?")||n===p("#")||isSpecial(this.url)&&n===p("\\")){if(this.atFlag&&""===this.buffer)return this.parseError=!0,x;this.pointer-=countSymbols(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=o;return!0},URLStateMachine.prototype["parse hostname"]=URLStateMachine.prototype["parse host"]=function parseHostName(n,o){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(n!==p(":")||this.arrFlag)if(isNaN(n)||n===p("/")||n===p("?")||n===p("#")||isSpecial(this.url)&&n===p("\\")){if(--this.pointer,isSpecial(this.url)&&""===this.buffer)return this.parseError=!0,x;if(this.stateOverride&&""===this.buffer&&(includesCredentials(this.url)||null!==this.url.port))return this.parseError=!0,!1;const n=parseHost(this.buffer,isNotSpecial(this.url));if(n===x)return x;if(this.url.host=n,this.buffer="",this.state="path start",this.stateOverride)return!1}else n===p("[")?this.arrFlag=!0:n===p("]")&&(this.arrFlag=!1),this.buffer+=o;else{if(""===this.buffer)return this.parseError=!0,x;if("hostname"===this.stateOverride)return!1;const n=parseHost(this.buffer,isNotSpecial(this.url));if(n===x)return x;this.url.host=n,this.buffer="",this.state="port"}return!0},URLStateMachine.prototype["parse port"]=function parsePort(n,o){if(c.isASCIIDigit(n))this.buffer+=o;else{if(!(isNaN(n)||n===p("/")||n===p("?")||n===p("#")||isSpecial(this.url)&&n===p("\\")||this.stateOverride))return this.parseError=!0,x;if(""!==this.buffer){const n=parseInt(this.buffer);if(n>65535)return this.parseError=!0,x;this.url.port=n===defaultPort(this.url.scheme)?null:n,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};const P=new Set([p("/"),p("\\"),p("?"),p("#")]);function startsWithWindowsDriveLetter(n,o){const i=n.length-o;return i>=2&&function isWindowsDriveLetterCodePoints(n,o){return c.isASCIIAlpha(n)&&(o===p(":")||o===p("|"))}(n[o],n[o+1])&&(2===i||P.has(n[o+2]))}function serializePath(n){if(hasAnOpaquePath(n))return n.path;let o="";for(const i of n.path)o+=`/${i}`;return o}URLStateMachine.prototype["parse file"]=function parseFile(n){return this.url.scheme="file",this.url.host="",n===p("/")||n===p("\\")?(n===p("\\")&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,n===p("?")?(this.url.query="",this.state="query"):n===p("#")?(this.url.fragment="",this.state="fragment"):isNaN(n)||(this.url.query=null,startsWithWindowsDriveLetter(this.input,this.pointer)?(this.parseError=!0,this.url.path=[]):shortenPath(this.url),this.state="path",--this.pointer)):(this.state="path",--this.pointer),!0},URLStateMachine.prototype["parse file slash"]=function parseFileSlash(n){return n===p("/")||n===p("\\")?(n===p("\\")&&(this.parseError=!0),this.state="file host"):(null!==this.base&&"file"===this.base.scheme&&(!startsWithWindowsDriveLetter(this.input,this.pointer)&&function isNormalizedWindowsDriveLetterString(n){return 2===n.length&&c.isASCIIAlpha(n.codePointAt(0))&&":"===n[1]}(this.base.path[0])&&this.url.path.push(this.base.path[0]),this.url.host=this.base.host),this.state="path",--this.pointer),!0},URLStateMachine.prototype["parse file host"]=function parseFileHost(n,o){if(isNaN(n)||n===p("/")||n===p("\\")||n===p("?")||n===p("#"))if(--this.pointer,!this.stateOverride&&isWindowsDriveLetterString(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let n=parseHost(this.buffer,isNotSpecial(this.url));if(n===x)return x;if("localhost"===n&&(n=""),this.url.host=n,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=o;return!0},URLStateMachine.prototype["parse path start"]=function parsePathStart(n){return isSpecial(this.url)?(n===p("\\")&&(this.parseError=!0),this.state="path",n!==p("/")&&n!==p("\\")&&--this.pointer):this.stateOverride||n!==p("?")?this.stateOverride||n!==p("#")?void 0!==n?(this.state="path",n!==p("/")&&--this.pointer):this.stateOverride&&null===this.url.host&&this.url.path.push(""):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},URLStateMachine.prototype["parse path"]=function parsePath(n){return isNaN(n)||n===p("/")||isSpecial(this.url)&&n===p("\\")||!this.stateOverride&&(n===p("?")||n===p("#"))?(isSpecial(this.url)&&n===p("\\")&&(this.parseError=!0),!function isDoubleDot(n){return".."===(n=n.toLowerCase())||"%2e."===n||".%2e"===n||"%2e%2e"===n}(this.buffer)?!isSingleDot(this.buffer)||n===p("/")||isSpecial(this.url)&&n===p("\\")?isSingleDot(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&isWindowsDriveLetterString(this.buffer)&&(this.buffer=`${this.buffer[0]}:`),this.url.path.push(this.buffer)):this.url.path.push(""):(shortenPath(this.url),n===p("/")||isSpecial(this.url)&&n===p("\\")||this.url.path.push("")),this.buffer="",n===p("?")&&(this.url.query="",this.state="query"),n===p("#")&&(this.url.fragment="",this.state="fragment")):(n!==p("%")||c.isASCIIHex(this.input[this.pointer+1])&&c.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=E(n,D)),!0},URLStateMachine.prototype["parse opaque path"]=function parseOpaquePath(n){if(n===p("?"))this.url.query="",this.state="query";else if(n===p("#"))this.url.fragment="",this.state="fragment";else if(n===p(" ")){const n=this.input[this.pointer+1];n===p("?")||n===p("#")?this.url.path+="%20":this.url.path+=" "}else isNaN(n)||n===p("%")||(this.parseError=!0),n!==p("%")||c.isASCIIHex(this.input[this.pointer+1])&&c.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),isNaN(n)||(this.url.path+=E(n,A));return!0},URLStateMachine.prototype["parse query"]=function parseQuery(n,o){if(isSpecial(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8"),!this.stateOverride&&n===p("#")||isNaN(n)){const o=isSpecial(this.url)?_:T;this.url.query+=S(this.buffer,o),this.buffer="",n===p("#")&&(this.url.fragment="",this.state="fragment")}else isNaN(n)||(n!==p("%")||c.isASCIIHex(this.input[this.pointer+1])&&c.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=o);return!0},URLStateMachine.prototype["parse fragment"]=function parseFragment(n){return isNaN(n)||(n!==p("%")||c.isASCIIHex(this.input[this.pointer+1])&&c.isASCIIHex(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=E(n,O)),!0},n.exports.serializeURL=function serializeURL(n,o){let i=`${n.scheme}:`;return null!==n.host&&(i+="//",""===n.username&&""===n.password||(i+=n.username,""!==n.password&&(i+=`:${n.password}`),i+="@"),i+=serializeHost(n.host),null!==n.port&&(i+=`:${n.port}`)),null===n.host&&!hasAnOpaquePath(n)&&n.path.length>1&&""===n.path[0]&&(i+="/."),i+=serializePath(n),null!==n.query&&(i+=`?${n.query}`),o||null===n.fragment||(i+=`#${n.fragment}`),i},n.exports.serializePath=serializePath,n.exports.serializeURLOrigin=function(o){switch(o.scheme){case"blob":{const i=n.exports.parseURL(serializePath(o));return null===i||"http"!==i.scheme&&"https"!==i.scheme?"null":n.exports.serializeURLOrigin(i)}case"ftp":case"http":case"https":case"ws":case"wss":return function serializeOrigin(n){let o=`${n.scheme}://`;return o+=serializeHost(n.host),null!==n.port&&(o+=`:${n.port}`),o}({scheme:o.scheme,host:o.host,port:o.port});default:return"null"}},n.exports.basicURLParse=function(n,o){void 0===o&&(o={});const i=new URLStateMachine(n,o.baseURL,o.encodingOverride,o.url,o.stateOverride);return i.failure?null:i.url},n.exports.setTheUsername=function(n,o){n.username=S(o,N)},n.exports.setThePassword=function(n,o){n.password=S(o,N)},n.exports.serializeHost=serializeHost,n.exports.cannotHaveAUsernamePasswordPort=function cannotHaveAUsernamePasswordPort(n){return null===n.host||""===n.host||"file"===n.scheme},n.exports.hasAnOpaquePath=hasAnOpaquePath,n.exports.serializeInteger=function(n){return String(n)},n.exports.parseURL=function(o,i){return void 0===i&&(i={}),n.exports.basicURLParse(o,{baseURL:i.baseURL,encodingOverride:i.encodingOverride})}},85252:(n,o,i)=>{"use strict";const{utf8Encode:s,utf8DecodeWithoutBOM:c}=i(58408),{percentDecodeBytes:h,utf8PercentEncodeString:f,isURLEncodedPercentEncode:E}=i(41656);function p(n){return n.codePointAt(0)}function replaceByteInByteSequence(n,o,i){let s=n.indexOf(o);for(;s>=0;)n[s]=i,s=n.indexOf(o,s+1);return n}n.exports={parseUrlencodedString:function parseUrlencodedString(n){return function parseUrlencoded(n){const o=function strictlySplitByteSequence(n,o){const i=[];let s=0,c=n.indexOf(o);for(;c>=0;)i.push(n.slice(s,c)),s=c+1,c=n.indexOf(o,s);return s!==n.length&&i.push(n.slice(s)),i}(n,p("&")),i=[];for(const n of o){if(0===n.length)continue;let o,s;const f=n.indexOf(p("="));f>=0?(o=n.slice(0,f),s=n.slice(f+1)):(o=n,s=new Uint8Array(0)),o=replaceByteInByteSequence(o,43,32),s=replaceByteInByteSequence(s,43,32);const E=c(h(o)),S=c(h(s));i.push([E,S])}return i}(s(n))},serializeUrlencoded:function serializeUrlencoded(n){let o="";for(const[i,s]of n.entries()){0!==i&&(o+="&"),o+=`${f(s[0],E,!0)}=${f(s[1],E,!0)}`}return o}}},46892:(n,o)=>{"use strict";const i=Function.prototype.call.bind(Object.prototype.hasOwnProperty);const s=Symbol("wrapper"),c=Symbol("impl"),h=Symbol("SameObject caches"),f=Symbol.for("[webidl2js] constructor registry"),E=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);function initCtorRegistry(n){if(i(n,f))return n[f];const o=Object.create(null);o["%Object.prototype%"]=n.Object.prototype,o["%IteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf((new n.Array)[Symbol.iterator]()));try{o["%AsyncIteratorPrototype%"]=Object.getPrototypeOf(Object.getPrototypeOf(n.eval("(async function* () {})").prototype))}catch{o["%AsyncIteratorPrototype%"]=E}return n[f]=o,o}function wrapperForImpl(n){return n?n[s]:null}function implForWrapper(n){return n?n[c]:null}const S=Symbol("internal");const A=Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get;const O=Symbol("supports property index"),T=Symbol("supported property indices"),_=Symbol("supports property name"),D=Symbol("supported property names"),N=Symbol("indexed property get"),R=Symbol("indexed property set new"),x=Symbol("indexed property set existing"),P=Symbol("named property get"),M=Symbol("named property set new"),I=Symbol("named property set existing"),B=Symbol("named property delete"),F=Symbol("async iterator get the next iteration result"),L=Symbol("async iterator return steps"),k=Symbol("async iterator initialization steps"),j=Symbol("async iterator end of iteration");n.exports={isObject:function isObject(n){return"object"==typeof n&&null!==n||"function"==typeof n},hasOwn:i,define:function define(n,o){for(const i of Reflect.ownKeys(o)){const s=Reflect.getOwnPropertyDescriptor(o,i);if(s&&!Reflect.defineProperty(n,i,s))throw new TypeError(`Cannot redefine property: ${String(i)}`)}},newObjectInRealm:function newObjectInRealm(n,o){const i=initCtorRegistry(n);return Object.defineProperties(Object.create(i["%Object.prototype%"]),Object.getOwnPropertyDescriptors(o))},wrapperSymbol:s,implSymbol:c,getSameObject:function getSameObject(n,o,i){return n[h]||(n[h]=Object.create(null)),o in n[h]||(n[h][o]=i()),n[h][o]},ctorRegistrySymbol:f,initCtorRegistry,wrapperForImpl,implForWrapper,tryWrapperForImpl:function tryWrapperForImpl(n){const o=wrapperForImpl(n);return o||n},tryImplForWrapper:function tryImplForWrapper(n){const o=implForWrapper(n);return o||n},iterInternalSymbol:S,isArrayBuffer:function isArrayBuffer(n){try{return A.call(n),!0}catch(n){return!1}},isArrayIndexPropName:function isArrayIndexPropName(n){if("string"!=typeof n)return!1;const o=n>>>0;return o!==2**32-1&&n===`${o}`},supportsPropertyIndex:O,supportedPropertyIndices:T,supportsPropertyName:_,supportedPropertyNames:D,indexedGet:N,indexedSetNew:R,indexedSetExisting:x,namedGet:P,namedSetNew:M,namedSetExisting:I,namedDelete:B,asyncIteratorNext:F,asyncIteratorReturn:L,asyncIteratorInit:k,asyncIteratorEOI:j,iteratorResult:function iteratorResult([n,o],i){let s;switch(i){case"key":s=n;break;case"value":s=o;break;case"key+value":s=[n,o]}return{value:s,done:!1}}}},3181:(n,o,i)=>{"use strict";const s=i(76648),c=i(52682);o.URL=s,o.URLSearchParams=c},72271:n=>{"use strict";n.exports=require("@aws-sdk/credential-providers")},80316:n=>{"use strict";n.exports=require("@mongodb-js/zstd")},9279:n=>{"use strict";n.exports=require("aws4")},75220:n=>{"use strict";n.exports=require("gcp-metadata")},85153:n=>{"use strict";n.exports=require("kerberos")},92460:n=>{"use strict";n.exports=require("mongodb-client-encryption")},70995:n=>{"use strict";n.exports=require("snappy")},7033:n=>{"use strict";n.exports=require("socks")},42613:n=>{"use strict";n.exports=require("assert")},35317:n=>{"use strict";n.exports=require("child_process")},76982:n=>{"use strict";n.exports=require("crypto")},72250:n=>{"use strict";n.exports=require("dns")},24434:n=>{"use strict";n.exports=require("events")},79896:n=>{"use strict";n.exports=require("fs")},91943:n=>{"use strict";n.exports=require("fs/promises")},58611:n=>{"use strict";n.exports=require("http")},69278:n=>{"use strict";n.exports=require("net")},34589:n=>{"use strict";n.exports=require("node:assert")},57975:n=>{"use strict";n.exports=require("node:util")},70857:n=>{"use strict";n.exports=require("os")},16928:n=>{"use strict";n.exports=require("path")},932:n=>{"use strict";n.exports=require("process")},2203:n=>{"use strict";n.exports=require("stream")},75938:n=>{"use strict";n.exports=require("timers")},16460:n=>{"use strict";n.exports=require("timers/promises")},64756:n=>{"use strict";n.exports=require("tls")},87016:n=>{"use strict";n.exports=require("url")},39023:n=>{"use strict";n.exports=require("util")},43106:n=>{"use strict";n.exports=require("zlib")},83633:(n,o,i)=>{"use strict";const s=(()=>{const n=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array.prototype),Symbol.toStringTag).get;return o=>n.call(o)})();function isUint8Array(n){return"Uint8Array"===s(n)}function isAnyArrayBuffer(n){return"object"==typeof n&&null!=n&&Symbol.toStringTag in n&&("ArrayBuffer"===n[Symbol.toStringTag]||"SharedArrayBuffer"===n[Symbol.toStringTag])}function isRegExp(n){return n instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(n)}function isMap(n){return"object"==typeof n&&null!=n&&Symbol.toStringTag in n&&"Map"===n[Symbol.toStringTag]}function isDate(n){return n instanceof Date||"[object Date]"===Object.prototype.toString.call(n)}function defaultInspect(n,o){return JSON.stringify(n,(n,o)=>"bigint"==typeof o?{$numberLong:`${o}`}:isMap(o)?Object.fromEntries(o):o)}const c=Symbol.for("@@mdb.bson.version"),h=2147483647,f=-2147483648,E=Math.pow(2,63)-1,S=-Math.pow(2,63),A=Math.pow(2,53),O=-Math.pow(2,53),T=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class BSONError extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(n,o){super(n,o)}static isBSONError(n){return null!=n&&"object"==typeof n&&"bsonError"in n&&!0===n.bsonError&&"name"in n&&"message"in n&&"stack"in n}}class BSONVersionError extends BSONError{get name(){return"BSONVersionError"}constructor(){super("Unsupported BSON version, bson types must be from bson 6.x.x")}}class BSONRuntimeError extends BSONError{get name(){return"BSONRuntimeError"}constructor(n){super(n)}}class BSONOffsetError extends BSONError{get name(){return"BSONOffsetError"}constructor(n,o,i){super(`${n}. offset: ${o}`,i),this.offset=o}}let _,D;function parseUtf8(n,o,i,s){if(s){_??=new TextDecoder("utf8",{fatal:!0});try{return _.decode(n.subarray(o,i))}catch(n){throw new BSONError("Invalid UTF-8 string in BSON document",{cause:n})}}return D??=new TextDecoder("utf8",{fatal:!1}),D.decode(n.subarray(o,i))}function tryReadBasicLatin(n,o,i){if(0===n.length)return"";const s=i-o;if(0===s)return"";if(s>20)return null;if(1===s&&n[o]<128)return String.fromCharCode(n[o]);if(2===s&&n[o]<128&&n[o+1]<128)return String.fromCharCode(n[o])+String.fromCharCode(n[o+1]);if(3===s&&n[o]<128&&n[o+1]<128&&n[o+2]<128)return String.fromCharCode(n[o])+String.fromCharCode(n[o+1])+String.fromCharCode(n[o+2]);const c=[];for(let s=o;s<i;s++){const o=n[s];if(o>127)return null;c.push(o)}return String.fromCharCode(...c)}function nodejsMathRandomBytes(n){return R.fromNumberArray(Array.from({length:n},()=>Math.floor(256*Math.random())))}const N=(()=>{try{return i(76982).randomBytes}catch{return nodejsMathRandomBytes}})(),R={toLocalBufferType(n){if(Buffer.isBuffer(n))return n;if(ArrayBuffer.isView(n))return Buffer.from(n.buffer,n.byteOffset,n.byteLength);const o=n?.[Symbol.toStringTag]??Object.prototype.toString.call(n);if("ArrayBuffer"===o||"SharedArrayBuffer"===o||"[object ArrayBuffer]"===o||"[object SharedArrayBuffer]"===o)return Buffer.from(n);throw new BSONError("Cannot create Buffer from the passed potentialBuffer.")},allocate:n=>Buffer.alloc(n),allocateUnsafe:n=>Buffer.allocUnsafe(n),equals:(n,o)=>R.toLocalBufferType(n).equals(o),fromNumberArray:n=>Buffer.from(n),fromBase64:n=>Buffer.from(n,"base64"),toBase64:n=>R.toLocalBufferType(n).toString("base64"),fromISO88591:n=>Buffer.from(n,"binary"),toISO88591:n=>R.toLocalBufferType(n).toString("binary"),fromHex:n=>Buffer.from(n,"hex"),toHex:n=>R.toLocalBufferType(n).toString("hex"),toUTF8(n,o,i,s){const c=i-o<=20?tryReadBasicLatin(n,o,i):null;if(null!=c)return c;const h=R.toLocalBufferType(n).toString("utf8",o,i);if(s)for(let s=0;s<h.length;s++)if(65533===h.charCodeAt(s)){parseUtf8(n,o,i,!0);break}return h},utf8ByteLength:n=>Buffer.byteLength(n,"utf8"),encodeUTF8Into(n,o,i){const s=function tryWriteBasicLatin(n,o,i){if(0===o.length)return 0;if(o.length>25)return null;if(n.length-i<o.length)return null;for(let s=0,c=i;s<o.length;s++,c++){const i=o.charCodeAt(s);if(i>127)return null;n[c]=i}return o.length}(n,o,i);return null!=s?s:R.toLocalBufferType(n).write(o,i,void 0,"utf8")},randomBytes:N,swap32:n=>R.toLocalBufferType(n).swap32()};function webMathRandomBytes(n){if(n<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${n}`);return M.fromNumberArray(Array.from({length:n},()=>Math.floor(256*Math.random())))}const x=(()=>{const{crypto:n}=globalThis;if(null!=n&&"function"==typeof n.getRandomValues)return o=>n.getRandomValues(M.allocate(o));if(function isReactNative(){const{navigator:n}=globalThis;return"object"==typeof n&&"ReactNative"===n.product}()){const{console:n}=globalThis;n?.warn?.("BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return webMathRandomBytes})(),P=/(\d|[a-f])/i,M={toLocalBufferType(n){const o=n?.[Symbol.toStringTag]??Object.prototype.toString.call(n);if("Uint8Array"===o)return n;if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength));if("ArrayBuffer"===o||"SharedArrayBuffer"===o||"[object ArrayBuffer]"===o||"[object SharedArrayBuffer]"===o)return new Uint8Array(n);throw new BSONError("Cannot make a Uint8Array from passed potentialBuffer.")},allocate(n){if("number"!=typeof n)throw new TypeError(`The "size" argument must be of type number. Received ${String(n)}`);return new Uint8Array(n)},allocateUnsafe:n=>M.allocate(n),equals(n,o){if(n.byteLength!==o.byteLength)return!1;for(let i=0;i<n.byteLength;i++)if(n[i]!==o[i])return!1;return!0},fromNumberArray:n=>Uint8Array.from(n),fromBase64:n=>Uint8Array.from(atob(n),n=>n.charCodeAt(0)),toBase64:n=>btoa(M.toISO88591(n)),fromISO88591:n=>Uint8Array.from(n,n=>255&n.charCodeAt(0)),toISO88591:n=>Array.from(Uint16Array.from(n),n=>String.fromCharCode(n)).join(""),fromHex(n){const o=n.length%2==0?n:n.slice(0,n.length-1),i=[];for(let n=0;n<o.length;n+=2){const s=o[n],c=o[n+1];if(!P.test(s))break;if(!P.test(c))break;const h=Number.parseInt(`${s}${c}`,16);i.push(h)}return Uint8Array.from(i)},toHex:n=>Array.from(n,n=>n.toString(16).padStart(2,"0")).join(""),toUTF8(n,o,i,s){const c=i-o<=20?tryReadBasicLatin(n,o,i):null;return null!=c?c:parseUtf8(n,o,i,s)},utf8ByteLength:n=>(new TextEncoder).encode(n).byteLength,encodeUTF8Into(n,o,i){const s=(new TextEncoder).encode(o);return n.set(s,i),s.byteLength},randomBytes:x,swap32(n){if(n.length%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let o=0;o<n.length;o+=4){const i=n[o],s=n[o+1],c=n[o+2],h=n[o+3];n[o]=h,n[o+1]=c,n[o+2]=s,n[o+3]=i}return n}},I="function"==typeof Buffer&&!0!==Buffer.prototype?._isBuffer?R:M;class BSONValue{get[c](){return 6}[Symbol.for("nodejs.util.inspect.custom")](n,o,i){return this.inspect(n,o,i)}}const B=new Float64Array(1),F=new Uint8Array(B.buffer,0,8);B[0]=-1;const L=0===F[7],k={isBigEndian:L,getNonnegativeInt32LE(n,o){if(n[o+3]>127)throw new RangeError(`Size cannot be negative at offset: ${o}`);return n[o]|n[o+1]<<8|n[o+2]<<16|n[o+3]<<24},getInt32LE:(n,o)=>n[o]|n[o+1]<<8|n[o+2]<<16|n[o+3]<<24,getUint32LE:(n,o)=>n[o]+256*n[o+1]+65536*n[o+2]+16777216*n[o+3],getUint32BE:(n,o)=>n[o+3]+256*n[o+2]+65536*n[o+1]+16777216*n[o],getBigInt64LE(n,o){const i=BigInt(n[o+4]+256*n[o+5]+65536*n[o+6]+(n[o+7]<<24)),s=BigInt(n[o]+256*n[o+1]+65536*n[o+2]+16777216*n[o+3]);return(i<<BigInt(32))+s},getFloat64LE:L?(n,o)=>(F[7]=n[o],F[6]=n[o+1],F[5]=n[o+2],F[4]=n[o+3],F[3]=n[o+4],F[2]=n[o+5],F[1]=n[o+6],F[0]=n[o+7],B[0]):(n,o)=>(F[0]=n[o],F[1]=n[o+1],F[2]=n[o+2],F[3]=n[o+3],F[4]=n[o+4],F[5]=n[o+5],F[6]=n[o+6],F[7]=n[o+7],B[0]),setInt32BE:(n,o,i)=>(n[o+3]=i,i>>>=8,n[o+2]=i,i>>>=8,n[o+1]=i,i>>>=8,n[o]=i,4),setInt32LE:(n,o,i)=>(n[o]=i,i>>>=8,n[o+1]=i,i>>>=8,n[o+2]=i,i>>>=8,n[o+3]=i,4),setBigInt64LE(n,o,i){const s=BigInt(4294967295);let c=Number(i&s);n[o]=c,c>>=8,n[o+1]=c,c>>=8,n[o+2]=c,c>>=8,n[o+3]=c;let h=Number(i>>BigInt(32)&s);return n[o+4]=h,h>>=8,n[o+5]=h,h>>=8,n[o+6]=h,h>>=8,n[o+7]=h,8},setFloat64LE:L?(n,o,i)=>(B[0]=i,n[o]=F[7],n[o+1]=F[6],n[o+2]=F[5],n[o+3]=F[4],n[o+4]=F[3],n[o+5]=F[2],n[o+6]=F[1],n[o+7]=F[0],8):(n,o,i)=>(B[0]=i,n[o]=F[0],n[o+1]=F[1],n[o+2]=F[2],n[o+3]=F[3],n[o+4]=F[4],n[o+5]=F[5],n[o+6]=F[6],n[o+7]=F[7],8)};class Binary extends BSONValue{get _bsontype(){return"Binary"}constructor(n,o){if(super(),null!=n&&"string"==typeof n&&!ArrayBuffer.isView(n)&&!isAnyArrayBuffer(n)&&!Array.isArray(n))throw new BSONError("Binary can only be constructed from Uint8Array or number[]");this.sub_type=o??Binary.BSON_BINARY_SUBTYPE_DEFAULT,null==n?(this.buffer=I.allocate(Binary.BUFFER_SIZE),this.position=0):(this.buffer=Array.isArray(n)?I.fromNumberArray(n):I.toLocalBufferType(n),this.position=this.buffer.byteLength)}put(n){if("string"==typeof n&&1!==n.length)throw new BSONError("only accepts single character String");if("number"!=typeof n&&1!==n.length)throw new BSONError("only accepts single character Uint8Array or Array");let o;if(o="string"==typeof n?n.charCodeAt(0):"number"==typeof n?n:n[0],o<0||o>255)throw new BSONError("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=o;else{const n=I.allocate(Binary.BUFFER_SIZE+this.buffer.length);n.set(this.buffer,0),this.buffer=n,this.buffer[this.position++]=o}}write(n,o){if(o="number"==typeof o?o:this.position,this.buffer.byteLength<o+n.length){const o=I.allocate(this.buffer.byteLength+n.length);o.set(this.buffer,0),this.buffer=o}if(ArrayBuffer.isView(n))this.buffer.set(I.toLocalBufferType(n),o),this.position=o+n.byteLength>this.position?o+n.length:this.position;else if("string"==typeof n)throw new BSONError("input cannot be string")}read(n,o){const i=n+(o=o&&o>0?o:this.position);return this.buffer.subarray(n,i>this.position?this.position:i)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return I.toBase64(this.buffer.subarray(0,this.position))}toString(n){return"hex"===n?I.toHex(this.buffer.subarray(0,this.position)):"base64"===n?I.toBase64(this.buffer.subarray(0,this.position)):I.toUTF8(this.buffer,0,this.position,!1)}toExtendedJSON(n){n=n||{},this.sub_type===Binary.SUBTYPE_VECTOR&&validateBinaryVector(this);const o=I.toBase64(this.buffer),i=Number(this.sub_type).toString(16);return n.legacy?{$binary:o,$type:1===i.length?"0"+i:i}:{$binary:{base64:o,subType:1===i.length?"0"+i:i}}}toUUID(){if(this.sub_type===Binary.SUBTYPE_UUID)return new UUID(this.buffer.subarray(0,this.position));throw new BSONError(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${Binary.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(n,o){return new Binary(I.fromHex(n),o)}static createFromBase64(n,o){return new Binary(I.fromBase64(n),o)}static fromExtendedJSON(n,o){let i,s;if(o=o||{},"$binary"in n?o.legacy&&"string"==typeof n.$binary&&"$type"in n?(s=n.$type?parseInt(n.$type,16):0,i=I.fromBase64(n.$binary)):"string"!=typeof n.$binary&&(s=n.$binary.subType?parseInt(n.$binary.subType,16):0,i=I.fromBase64(n.$binary.base64)):"$uuid"in n&&(s=4,i=UUID.bytesFromString(n.$uuid)),!i)throw new BSONError(`Unexpected Binary Extended JSON format ${JSON.stringify(n)}`);return 4===s?new UUID(i):new Binary(i,s)}inspect(n,o,i){i??=defaultInspect;return`Binary.createFromBase64(${i(I.toBase64(this.buffer.subarray(0,this.position)),o)}, ${i(this.sub_type,o)})`}toInt8Array(){if(this.sub_type!==Binary.SUBTYPE_VECTOR)throw new BSONError("Binary sub_type is not Vector");if(this.buffer[0]!==Binary.VECTOR_TYPE.Int8)throw new BSONError("Binary datatype field is not Int8");return validateBinaryVector(this),new Int8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toFloat32Array(){if(this.sub_type!==Binary.SUBTYPE_VECTOR)throw new BSONError("Binary sub_type is not Vector");if(this.buffer[0]!==Binary.VECTOR_TYPE.Float32)throw new BSONError("Binary datatype field is not Float32");validateBinaryVector(this);const n=new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position));return k.isBigEndian&&I.swap32(n),new Float32Array(n.buffer)}toPackedBits(){if(this.sub_type!==Binary.SUBTYPE_VECTOR)throw new BSONError("Binary sub_type is not Vector");if(this.buffer[0]!==Binary.VECTOR_TYPE.PackedBit)throw new BSONError("Binary datatype field is not packed bit");return validateBinaryVector(this),new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toBits(){if(this.sub_type!==Binary.SUBTYPE_VECTOR)throw new BSONError("Binary sub_type is not Vector");if(this.buffer[0]!==Binary.VECTOR_TYPE.PackedBit)throw new BSONError("Binary datatype field is not packed bit");validateBinaryVector(this);const n=8*(this.length()-2)-this.buffer[1],o=new Int8Array(n);for(let n=0;n<o.length;n++){const i=n/8|0,s=this.buffer[i+2]>>7-n%8&1;o[n]=s}return o}static fromInt8Array(n){const o=I.allocate(n.byteLength+2);o[0]=Binary.VECTOR_TYPE.Int8,o[1]=0;const i=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);o.set(i,2);const s=new this(o,this.SUBTYPE_VECTOR);return validateBinaryVector(s),s}static fromFloat32Array(n){const o=I.allocate(n.byteLength+2);o[0]=Binary.VECTOR_TYPE.Float32,o[1]=0;const i=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);o.set(i,2),k.isBigEndian&&I.swap32(new Uint8Array(o.buffer,2));const s=new this(o,this.SUBTYPE_VECTOR);return validateBinaryVector(s),s}static fromPackedBits(n,o=0){const i=I.allocate(n.byteLength+2);i[0]=Binary.VECTOR_TYPE.PackedBit,i[1]=o,i.set(n,2);const s=new this(i,this.SUBTYPE_VECTOR);return validateBinaryVector(s),s}static fromBits(n){const o=n.length+7>>>3,i=new Uint8Array(o+2);i[0]=Binary.VECTOR_TYPE.PackedBit;const s=n.length%8;i[1]=0===s?0:8-s;for(let o=0;o<n.length;o++){const s=o>>>3,c=n[o];if(0!==c&&1!==c)throw new BSONError(`Invalid bit value at ${o}: must be 0 or 1, found ${n[o]}`);if(0===c)continue;const h=7-o%8;i[s+2]|=c<<h}return new this(i,Binary.SUBTYPE_VECTOR)}}function validateBinaryVector(n){if(n.sub_type!==Binary.SUBTYPE_VECTOR)return;const o=n.position,i=n.buffer[0],s=n.buffer[1];if((i===Binary.VECTOR_TYPE.Float32||i===Binary.VECTOR_TYPE.Int8)&&0!==s)throw new BSONError("Invalid Vector: padding must be zero for int8 and float32 vectors");if(i===Binary.VECTOR_TYPE.Float32&&0!==o&&o-2!=0&&(o-2)%4!=0)throw new BSONError("Invalid Vector: Float32 vector must contain a multiple of 4 bytes");if(i===Binary.VECTOR_TYPE.PackedBit&&0!==s&&2===o)throw new BSONError("Invalid Vector: padding must be zero for packed bit vectors that are empty");if(i===Binary.VECTOR_TYPE.PackedBit&&s>7)throw new BSONError(`Invalid Vector: padding must be a value between 0 and 7. found: ${s}`)}Binary.BSON_BINARY_SUBTYPE_DEFAULT=0,Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_ENCRYPTED=6,Binary.SUBTYPE_COLUMN=7,Binary.SUBTYPE_SENSITIVE=8,Binary.SUBTYPE_VECTOR=9,Binary.SUBTYPE_USER_DEFINED=128,Binary.VECTOR_TYPE=Object.freeze({Int8:3,Float32:39,PackedBit:16});const j=/^[0-9A-F]{32}$/i,U=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class UUID extends Binary{constructor(n){let o;if(null==n)o=UUID.generate();else if(n instanceof UUID)o=I.toLocalBufferType(new Uint8Array(n.buffer));else if(ArrayBuffer.isView(n)&&16===n.byteLength)o=I.toLocalBufferType(n);else{if("string"!=typeof n)throw new BSONError("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");o=UUID.bytesFromString(n)}super(o,4)}get id(){return this.buffer}set id(n){this.buffer=n}toHexString(n=!0){return n?[I.toHex(this.buffer.subarray(0,4)),I.toHex(this.buffer.subarray(4,6)),I.toHex(this.buffer.subarray(6,8)),I.toHex(this.buffer.subarray(8,10)),I.toHex(this.buffer.subarray(10,16))].join("-"):I.toHex(this.buffer)}toString(n){return"hex"===n?I.toHex(this.id):"base64"===n?I.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(n){if(!n)return!1;if(n instanceof UUID)return I.equals(n.id,this.id);try{return I.equals(new UUID(n).id,this.id)}catch{return!1}}toBinary(){return new Binary(this.id,Binary.SUBTYPE_UUID)}static generate(){const n=I.randomBytes(16);return n[6]=15&n[6]|64,n[8]=63&n[8]|128,n}static isValid(n){return!!n&&("string"==typeof n?UUID.isValidUUIDString(n):isUint8Array(n)?16===n.byteLength:"Binary"===n._bsontype&&n.sub_type===this.SUBTYPE_UUID&&16===n.buffer.byteLength)}static createFromHexString(n){const o=UUID.bytesFromString(n);return new UUID(o)}static createFromBase64(n){return new UUID(I.fromBase64(n))}static bytesFromString(n){if(!UUID.isValidUUIDString(n))throw new BSONError("UUID string representation must be 32 hex digits or canonical hyphenated representation");return I.fromHex(n.replace(/-/g,""))}static isValidUUIDString(n){return j.test(n)||U.test(n)}inspect(n,o,i){return i??=defaultInspect,`new UUID(${i(this.toHexString(),o)})`}}class Code extends BSONValue{get _bsontype(){return"Code"}constructor(n,o){super(),this.code=n.toString(),this.scope=o??null}toJSON(){return null!=this.scope?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(n){return new Code(n.$code,n.$scope)}inspect(n,o,i){i??=defaultInspect;let s=i(this.code,o);const c=s.includes("\n");null!=this.scope&&(s+=`,${c?"\n":" "}${i(this.scope,o)}`);return`new Code(${c?"\n":""}${s}${c&&null===this.scope?"\n":""})`}}function isDBRefLike(n){return null!=n&&"object"==typeof n&&"$id"in n&&null!=n.$id&&"$ref"in n&&"string"==typeof n.$ref&&(!("$db"in n)||"$db"in n&&"string"==typeof n.$db)}class DBRef extends BSONValue{get _bsontype(){return"DBRef"}constructor(n,o,i,s){super();const c=n.split(".");2===c.length&&(i=c.shift(),n=c.shift()),this.collection=n,this.oid=o,this.db=i,this.fields=s||{}}get namespace(){return this.collection}set namespace(n){this.collection=n}toJSON(){const n=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(n.$db=this.db),n}toExtendedJSON(n){n=n||{};let o={$ref:this.collection,$id:this.oid};return n.legacy||(this.db&&(o.$db=this.db),o=Object.assign(o,this.fields)),o}static fromExtendedJSON(n){const o=Object.assign({},n);return delete o.$ref,delete o.$id,delete o.$db,new DBRef(n.$ref,n.$id,n.$db,o)}inspect(n,o,i){i??=defaultInspect;const s=[i(this.namespace,o),i(this.oid,o),...this.db?[i(this.db,o)]:[],...Object.keys(this.fields).length>0?[i(this.fields,o)]:[]];return s[1]=i===defaultInspect?`new ObjectId(${s[1]})`:s[1],`new DBRef(${s.join(", ")})`}}function removeLeadingZerosAndExplicitPlus(n){if(""===n)return n;let o=0;const i="-"===n[o],s="+"===n[o];(s||i)&&(o+=1);let c=!1;for(;o<n.length&&"0"===n[o];++o)c=!0;return c?`${i?"-":""}${n.length===o?"0":n.slice(o)}`:s?n.slice(1):n}let z;try{z=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}const q=4294967296,V=0x10000000000000000,W=V/2,$={},G={},K=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class Long extends BSONValue{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(n=0,o,i){super();const s="boolean"==typeof o?o:Boolean(i),c="number"==typeof o?o:0,h="string"==typeof n?Long.fromString(n,s):"bigint"==typeof n?Long.fromBigInt(n,s):{low:0|n,high:0|c,unsigned:s};this.low=h.low,this.high=h.high,this.unsigned=h.unsigned}static fromBits(n,o,i){return new Long(n,o,i)}static fromInt(n,o){let i,s,c;return o?(c=0<=(n>>>=0)&&n<256)&&(s=G[n],s)?s:(i=Long.fromBits(n,(0|n)<0?-1:0,!0),c&&(G[n]=i),i):(c=-128<=(n|=0)&&n<128)&&(s=$[n],s)?s:(i=Long.fromBits(n,n<0?-1:0,!1),c&&($[n]=i),i)}static fromNumber(n,o){if(isNaN(n))return o?Long.UZERO:Long.ZERO;if(o){if(n<0)return Long.UZERO;if(n>=V)return Long.MAX_UNSIGNED_VALUE}else{if(n<=-0x8000000000000000)return Long.MIN_VALUE;if(n+1>=W)return Long.MAX_VALUE}return n<0?Long.fromNumber(-n,o).neg():Long.fromBits(n%q|0,n/q|0,o)}static fromBigInt(n,o){const i=BigInt(4294967295),s=BigInt(32);return new Long(Number(n&i),Number(n>>s&i),o)}static _fromString(n,o,i){if(0===n.length)throw new BSONError("empty string");if(i<2||36<i)throw new BSONError("radix");let s;if((s=n.indexOf("-"))>0)throw new BSONError("interior hyphen");if(0===s)return Long._fromString(n.substring(1),o,i).neg();const c=Long.fromNumber(Math.pow(i,8));let h=Long.ZERO;for(let o=0;o<n.length;o+=8){const s=Math.min(8,n.length-o),f=parseInt(n.substring(o,o+s),i);if(s<8){const n=Long.fromNumber(Math.pow(i,s));h=h.mul(n).add(Long.fromNumber(f))}else h=h.mul(c),h=h.add(Long.fromNumber(f))}return h.unsigned=o,h}static fromStringStrict(n,o,i){let s=!1;if("number"==typeof o?(i=o,o=!1):s=!!o,i??=10,n.trim()!==n)throw new BSONError(`Input: '${n}' contains leading and/or trailing whitespace`);if(!function validateStringCharacters(n,o){const i="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,o=o??10);return!new RegExp(`[^-+${i}]`,"i").test(n)&&n}(n,i))throw new BSONError(`Input: '${n}' contains invalid characters for radix: ${i}`);const c=removeLeadingZerosAndExplicitPlus(n),h=Long._fromString(c,s,i);if(h.toString(i).toLowerCase()!==c.toLowerCase())throw new BSONError(`Input: ${n} is not representable as ${h.unsigned?"an unsigned":"a signed"} 64-bit Long ${null!=i?`with radix: ${i}`:""}`);return h}static fromString(n,o,i){let s=!1;return"number"==typeof o?(i=o,o=!1):s=!!o,i??=10,"NaN"===n&&i<24||("Infinity"===n||"+Infinity"===n||"-Infinity"===n)&&i<35?Long.ZERO:Long._fromString(n,s,i)}static fromBytes(n,o,i){return i?Long.fromBytesLE(n,o):Long.fromBytesBE(n,o)}static fromBytesLE(n,o){return new Long(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,o)}static fromBytesBE(n,o){return new Long(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],o)}static isLong(n){return null!=n&&"object"==typeof n&&"__isLong__"in n&&!0===n.__isLong__}static fromValue(n,o){return"number"==typeof n?Long.fromNumber(n,o):"string"==typeof n?Long.fromString(n,o):Long.fromBits(n.low,n.high,"boolean"==typeof o?o:n.unsigned)}add(n){Long.isLong(n)||(n=Long.fromValue(n));const o=this.high>>>16,i=65535&this.high,s=this.low>>>16,c=65535&this.low,h=n.high>>>16,f=65535&n.high,E=n.low>>>16;let S=0,A=0,O=0,T=0;return T+=c+(65535&n.low),O+=T>>>16,T&=65535,O+=s+E,A+=O>>>16,O&=65535,A+=i+f,S+=A>>>16,A&=65535,S+=o+h,S&=65535,Long.fromBits(O<<16|T,S<<16|A,this.unsigned)}and(n){return Long.isLong(n)||(n=Long.fromValue(n)),Long.fromBits(this.low&n.low,this.high&n.high,this.unsigned)}compare(n){if(Long.isLong(n)||(n=Long.fromValue(n)),this.eq(n))return 0;const o=this.isNegative(),i=n.isNegative();return o&&!i?-1:!o&&i?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1}comp(n){return this.compare(n)}divide(n){if(Long.isLong(n)||(n=Long.fromValue(n)),n.isZero())throw new BSONError("division by zero");if(z){if(!this.unsigned&&-2147483648===this.high&&-1===n.low&&-1===n.high)return this;const o=(this.unsigned?z.div_u:z.div_s)(this.low,this.high,n.low,n.high);return Long.fromBits(o,z.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Long.UZERO:Long.ZERO;let o,i,s;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return Long.UZERO;if(n.gt(this.shru(1)))return Long.UONE;s=Long.UZERO}else{if(this.eq(Long.MIN_VALUE)){if(n.eq(Long.ONE)||n.eq(Long.NEG_ONE))return Long.MIN_VALUE;if(n.eq(Long.MIN_VALUE))return Long.ONE;return o=this.shr(1).div(n).shl(1),o.eq(Long.ZERO)?n.isNegative()?Long.ONE:Long.NEG_ONE:(i=this.sub(n.mul(o)),s=o.add(i.div(n)),s)}if(n.eq(Long.MIN_VALUE))return this.unsigned?Long.UZERO:Long.ZERO;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();s=Long.ZERO}for(i=this;i.gte(n);){o=Math.max(1,Math.floor(i.toNumber()/n.toNumber()));const c=Math.ceil(Math.log(o)/Math.LN2),h=c<=48?1:Math.pow(2,c-48);let f=Long.fromNumber(o),E=f.mul(n);for(;E.isNegative()||E.gt(i);)o-=h,f=Long.fromNumber(o,this.unsigned),E=f.mul(n);f.isZero()&&(f=Long.ONE),s=s.add(f),i=i.sub(E)}return s}div(n){return this.divide(n)}equals(n){return Long.isLong(n)||(n=Long.fromValue(n)),(this.unsigned===n.unsigned||this.high>>>31!=1||n.high>>>31!=1)&&(this.high===n.high&&this.low===n.low)}eq(n){return this.equals(n)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(Long.MIN_VALUE)?64:this.neg().getNumBitsAbs();const n=0!==this.high?this.high:this.low;let o;for(o=31;o>0&&!(n&1<<o);o--);return 0!==this.high?o+33:o+1}greaterThan(n){return this.comp(n)>0}gt(n){return this.greaterThan(n)}greaterThanOrEqual(n){return this.comp(n)>=0}gte(n){return this.greaterThanOrEqual(n)}ge(n){return this.greaterThanOrEqual(n)}isEven(){return!(1&this.low)}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return!(1&~this.low)}isPositive(){return this.unsigned||this.high>=0}isZero(){return 0===this.high&&0===this.low}lessThan(n){return this.comp(n)<0}lt(n){return this.lessThan(n)}lessThanOrEqual(n){return this.comp(n)<=0}lte(n){return this.lessThanOrEqual(n)}modulo(n){if(Long.isLong(n)||(n=Long.fromValue(n)),z){const o=(this.unsigned?z.rem_u:z.rem_s)(this.low,this.high,n.low,n.high);return Long.fromBits(o,z.get_high(),this.unsigned)}return this.sub(this.div(n).mul(n))}mod(n){return this.modulo(n)}rem(n){return this.modulo(n)}multiply(n){if(this.isZero())return Long.ZERO;if(Long.isLong(n)||(n=Long.fromValue(n)),z){const o=z.mul(this.low,this.high,n.low,n.high);return Long.fromBits(o,z.get_high(),this.unsigned)}if(n.isZero())return Long.ZERO;if(this.eq(Long.MIN_VALUE))return n.isOdd()?Long.MIN_VALUE:Long.ZERO;if(n.eq(Long.MIN_VALUE))return this.isOdd()?Long.MIN_VALUE:Long.ZERO;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(Long.TWO_PWR_24)&&n.lt(Long.TWO_PWR_24))return Long.fromNumber(this.toNumber()*n.toNumber(),this.unsigned);const o=this.high>>>16,i=65535&this.high,s=this.low>>>16,c=65535&this.low,h=n.high>>>16,f=65535&n.high,E=n.low>>>16,S=65535&n.low;let A=0,O=0,T=0,_=0;return _+=c*S,T+=_>>>16,_&=65535,T+=s*S,O+=T>>>16,T&=65535,T+=c*E,O+=T>>>16,T&=65535,O+=i*S,A+=O>>>16,O&=65535,O+=s*E,A+=O>>>16,O&=65535,O+=c*f,A+=O>>>16,O&=65535,A+=o*S+i*E+s*f+c*h,A&=65535,Long.fromBits(T<<16|_,A<<16|O,this.unsigned)}mul(n){return this.multiply(n)}negate(){return!this.unsigned&&this.eq(Long.MIN_VALUE)?Long.MIN_VALUE:this.not().add(Long.ONE)}neg(){return this.negate()}not(){return Long.fromBits(~this.low,~this.high,this.unsigned)}notEquals(n){return!this.equals(n)}neq(n){return this.notEquals(n)}ne(n){return this.notEquals(n)}or(n){return Long.isLong(n)||(n=Long.fromValue(n)),Long.fromBits(this.low|n.low,this.high|n.high,this.unsigned)}shiftLeft(n){return Long.isLong(n)&&(n=n.toInt()),0==(n&=63)?this:n<32?Long.fromBits(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):Long.fromBits(0,this.low<<n-32,this.unsigned)}shl(n){return this.shiftLeft(n)}shiftRight(n){return Long.isLong(n)&&(n=n.toInt()),0==(n&=63)?this:n<32?Long.fromBits(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):Long.fromBits(this.high>>n-32,this.high>=0?0:-1,this.unsigned)}shr(n){return this.shiftRight(n)}shiftRightUnsigned(n){if(Long.isLong(n)&&(n=n.toInt()),0===(n&=63))return this;{const o=this.high;if(n<32){const i=this.low;return Long.fromBits(i>>>n|o<<32-n,o>>>n,this.unsigned)}return 32===n?Long.fromBits(o,0,this.unsigned):Long.fromBits(o>>>n-32,0,this.unsigned)}}shr_u(n){return this.shiftRightUnsigned(n)}shru(n){return this.shiftRightUnsigned(n)}subtract(n){return Long.isLong(n)||(n=Long.fromValue(n)),this.add(n.neg())}sub(n){return this.subtract(n)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*q+(this.low>>>0):this.high*q+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(n){return n?this.toBytesLE():this.toBytesBE()}toBytesLE(){const n=this.high,o=this.low;return[255&o,o>>>8&255,o>>>16&255,o>>>24,255&n,n>>>8&255,n>>>16&255,n>>>24]}toBytesBE(){const n=this.high,o=this.low;return[n>>>24,n>>>16&255,n>>>8&255,255&n,o>>>24,o>>>16&255,o>>>8&255,255&o]}toSigned(){return this.unsigned?Long.fromBits(this.low,this.high,!1):this}toString(n){if((n=n||10)<2||36<n)throw new BSONError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Long.MIN_VALUE)){const o=Long.fromNumber(n),i=this.div(o),s=i.mul(o).sub(this);return i.toString(n)+s.toInt().toString(n)}return"-"+this.neg().toString(n)}const o=Long.fromNumber(Math.pow(n,6),this.unsigned);let i=this,s="";for(;;){const c=i.div(o);let h=(i.sub(c.mul(o)).toInt()>>>0).toString(n);if(i=c,i.isZero())return h+s;for(;h.length<6;)h="0"+h;s=""+h+s}}toUnsigned(){return this.unsigned?this:Long.fromBits(this.low,this.high,!0)}xor(n){return Long.isLong(n)||(n=Long.fromValue(n)),Long.fromBits(this.low^n.low,this.high^n.high,this.unsigned)}eqz(){return this.isZero()}le(n){return this.lessThanOrEqual(n)}toExtendedJSON(n){return n&&n.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(n,o){const{useBigInt64:i=!1,relaxed:s=!0}={...o};if(n.$numberLong.length>20)throw new BSONError("$numberLong string is too long");if(!K.test(n.$numberLong))throw new BSONError(`$numberLong string "${n.$numberLong}" is in an invalid format`);if(i){const o=BigInt(n.$numberLong);return BigInt.asIntN(64,o)}const c=Long.fromString(n.$numberLong);return s?c.toNumber():c}inspect(n,o,i){i??=defaultInspect;return`new Long(${i(this.toString(),o)}${this.unsigned?`, ${i(this.unsigned,o)}`:""})`}}Long.TWO_PWR_24=Long.fromInt(1<<24),Long.MAX_UNSIGNED_VALUE=Long.fromBits(-1,-1,!0),Long.ZERO=Long.fromInt(0),Long.UZERO=Long.fromInt(0,!0),Long.ONE=Long.fromInt(1),Long.UONE=Long.fromInt(1,!0),Long.NEG_ONE=Long.fromInt(-1),Long.MAX_VALUE=Long.fromBits(-1,2147483647,!1),Long.MIN_VALUE=Long.fromBits(0,-2147483648,!1);const Y=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,X=/^(\+|-)?(Infinity|inf)$/i,J=/^(\+|-)?NaN$/i,Q=6111,Z=-6176,ee=I.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),te=I.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),re=I.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),ne=/^([-+])?(\d+)?$/;function isDigit(n){return!isNaN(parseInt(n,10))}function divideu128(n){const o=Long.fromNumber(1e9);let i=Long.fromNumber(0);if(!(n.parts[0]||n.parts[1]||n.parts[2]||n.parts[3]))return{quotient:n,rem:i};for(let s=0;s<=3;s++)i=i.shiftLeft(32),i=i.add(new Long(n.parts[s],0)),n.parts[s]=i.div(o).low,i=i.modulo(o);return{quotient:n,rem:i}}function invalidErr(n,o){throw new BSONError(`"${n}" is not a valid Decimal128 string - ${o}`)}class Decimal128 extends BSONValue{get _bsontype(){return"Decimal128"}constructor(n){if(super(),"string"==typeof n)this.bytes=Decimal128.fromString(n).bytes;else{if(!(n instanceof Uint8Array||isUint8Array(n)))throw new BSONError("Decimal128 must take a Buffer or string");if(16!==n.byteLength)throw new BSONError("Decimal128 must take a Buffer of 16 bytes");this.bytes=n}}static fromString(n){return Decimal128._fromString(n,{allowRounding:!1})}static fromStringWithRounding(n){return Decimal128._fromString(n,{allowRounding:!0})}static _fromString(n,o){let i=!1,s=!1,c=!1,h=!1,f=0,E=0,S=0,A=0,O=0;const T=[0];let _=0,D=0,N=0,R=0,x=new Long(0,0),P=new Long(0,0),M=0,B=0;if(n.length>=7e3)throw new BSONError(n+" not a valid Decimal128 string");const F=n.match(Y),L=n.match(X),k=n.match(J);if(!F&&!L&&!k||0===n.length)throw new BSONError(n+" not a valid Decimal128 string");if(F){const o=F[2],i=F[4],s=F[5],c=F[6];i&&void 0===c&&invalidErr(n,"missing exponent power"),i&&void 0===o&&invalidErr(n,"missing exponent base"),void 0===i&&(s||c)&&invalidErr(n,"missing e before exponent")}if("+"!==n[B]&&"-"!==n[B]||(s=!0,i="-"===n[B++]),!isDigit(n[B])&&"."!==n[B]){if("i"===n[B]||"I"===n[B])return new Decimal128(i?te:re);if("N"===n[B])return new Decimal128(ee)}for(;isDigit(n[B])||"."===n[B];)"."!==n[B]?(_<34&&("0"!==n[B]||h)&&(h||(O=E),h=!0,T[D++]=parseInt(n[B],10),_+=1),h&&(S+=1),c&&(A+=1),E+=1,B+=1):(c&&invalidErr(n,"contains multiple periods"),c=!0,B+=1);if(c&&!E)throw new BSONError(n+" not a valid Decimal128 string");if("e"===n[B]||"E"===n[B]){const o=n.substr(++B).match(ne);if(!o||!o[2])return new Decimal128(ee);R=parseInt(o[0],10),B+=o[0].length}if(n[B])return new Decimal128(ee);if(_){if(N=_-1,f=S,1!==f)for(;"0"===n[O+f-1+Number(s)+Number(c)];)f-=1}else T[0]=0,S=1,_=1,f=0;for(R<=A&&A>R+16384?R=Z:R-=A;R>Q;){if(N+=1,N>=34){if(0===f){R=Q;break}invalidErr(n,"overflow")}R-=1}if(o.allowRounding){for(;R<Z||_<S;){if(0===N&&f<_){R=Z,f=0;break}if(_<S?S-=1:N-=1,R<Q)R+=1;else{if(T.join("").match(/^0+$/)){R=Q;break}invalidErr(n,"overflow")}}if(N+1<f){let o=E;c&&(O+=1,o+=1),s&&(O+=1,o+=1);const h=parseInt(n[O+N+1],10);let f=0;if(h>=5&&(f=1,5===h)){f=T[N]%2==1?1:0;for(let i=O+N+2;i<o;i++)if(parseInt(n[i],10)){f=1;break}}if(f){let n=N;for(;n>=0&&++T[n]>9;n--)if(T[n]=0,0===n){if(!(R<Q))return new Decimal128(i?te:re);R+=1,T[n]=1}}}}else{for(;R<Z||_<S;){if(0===N){if(0===f){R=Z;break}invalidErr(n,"exponent underflow")}_<S?("0"!==n[S-1+Number(s)+Number(c)]&&0!==f&&invalidErr(n,"inexact rounding"),S-=1):(0!==T[N]&&invalidErr(n,"inexact rounding"),N-=1),R<Q?R+=1:invalidErr(n,"overflow")}if(N+1<f){c&&(O+=1),s&&(O+=1);0!==parseInt(n[O+N+1],10)&&invalidErr(n,"inexact rounding")}}if(x=Long.fromNumber(0),P=Long.fromNumber(0),0===f)x=Long.fromNumber(0),P=Long.fromNumber(0);else if(N<17){let n=0;for(P=Long.fromNumber(T[n++]),x=new Long(0,0);n<=N;n++)P=P.multiply(Long.fromNumber(10)),P=P.add(Long.fromNumber(T[n]))}else{let n=0;for(x=Long.fromNumber(T[n++]);n<=N-17;n++)x=x.multiply(Long.fromNumber(10)),x=x.add(Long.fromNumber(T[n]));for(P=Long.fromNumber(T[n++]);n<=N;n++)P=P.multiply(Long.fromNumber(10)),P=P.add(Long.fromNumber(T[n]))}const j=function multiply64x2(n,o){if(!n&&!o)return{high:Long.fromNumber(0),low:Long.fromNumber(0)};const i=n.shiftRightUnsigned(32),s=new Long(n.getLowBits(),0),c=o.shiftRightUnsigned(32),h=new Long(o.getLowBits(),0);let f=i.multiply(c),E=i.multiply(h);const S=s.multiply(c);let A=s.multiply(h);return f=f.add(E.shiftRightUnsigned(32)),E=new Long(E.getLowBits(),0).add(S).add(A.shiftRightUnsigned(32)),f=f.add(E.shiftRightUnsigned(32)),A=E.shiftLeft(32).add(new Long(A.getLowBits(),0)),{high:f,low:A}}(x,Long.fromString("100000000000000000"));j.low=j.low.add(P),function lessThan(n,o){const i=n.high>>>0,s=o.high>>>0;if(i<s)return!0;if(i===s&&n.low>>>0<o.low>>>0)return!0;return!1}(j.low,P)&&(j.high=j.high.add(Long.fromNumber(1))),M=R+6176;const U={low:Long.fromNumber(0),high:Long.fromNumber(0)};j.high.shiftRightUnsigned(49).and(Long.fromNumber(1)).equals(Long.fromNumber(1))?(U.high=U.high.or(Long.fromNumber(3).shiftLeft(61)),U.high=U.high.or(Long.fromNumber(M).and(Long.fromNumber(16383).shiftLeft(47))),U.high=U.high.or(j.high.and(Long.fromNumber(0x7fffffffffff)))):(U.high=U.high.or(Long.fromNumber(16383&M).shiftLeft(49)),U.high=U.high.or(j.high.and(Long.fromNumber(562949953421311)))),U.low=j.low,i&&(U.high=U.high.or(Long.fromString("9223372036854775808")));const z=I.allocateUnsafe(16);return B=0,z[B++]=255&U.low.low,z[B++]=U.low.low>>8&255,z[B++]=U.low.low>>16&255,z[B++]=U.low.low>>24&255,z[B++]=255&U.low.high,z[B++]=U.low.high>>8&255,z[B++]=U.low.high>>16&255,z[B++]=U.low.high>>24&255,z[B++]=255&U.high.low,z[B++]=U.high.low>>8&255,z[B++]=U.high.low>>16&255,z[B++]=U.high.low>>24&255,z[B++]=255&U.high.high,z[B++]=U.high.high>>8&255,z[B++]=U.high.high>>16&255,z[B++]=U.high.high>>24&255,new Decimal128(z)}toString(){let n,o=0;const i=new Array(36);for(let n=0;n<i.length;n++)i[n]=0;let s,c,h,f=0,E=!1,S={parts:[0,0,0,0]};const A=[];f=0;const O=this.bytes,T=O[f++]|O[f++]<<8|O[f++]<<16|O[f++]<<24,_=O[f++]|O[f++]<<8|O[f++]<<16|O[f++]<<24,D=O[f++]|O[f++]<<8|O[f++]<<16|O[f++]<<24,N=O[f++]|O[f++]<<8|O[f++]<<16|O[f++]<<24;f=0;({low:new Long(T,_),high:new Long(D,N)}).high.lessThan(Long.ZERO)&&A.push("-");const R=N>>26&31;if(R>>3==3){if(30===R)return A.join("")+"Infinity";if(31===R)return"NaN";n=N>>15&16383,s=8+(N>>14&1)}else s=N>>14&7,n=N>>17&16383;const x=n-6176;if(S.parts[0]=(16383&N)+((15&s)<<14),S.parts[1]=D,S.parts[2]=_,S.parts[3]=T,0===S.parts[0]&&0===S.parts[1]&&0===S.parts[2]&&0===S.parts[3])E=!0;else for(h=3;h>=0;h--){let n=0;const o=divideu128(S);if(S=o.quotient,n=o.rem.low,n)for(c=8;c>=0;c--)i[9*h+c]=n%10,n=Math.floor(n/10)}if(E)o=1,i[f]=0;else for(o=36;!i[f];)o-=1,f+=1;const P=o-1+x;if(P>=34||P<=-7||x>0){if(o>34)return A.push("0"),x>0?A.push(`E+${x}`):x<0&&A.push(`E${x}`),A.join("");A.push(`${i[f++]}`),o-=1,o&&A.push(".");for(let n=0;n<o;n++)A.push(`${i[f++]}`);A.push("E"),P>0?A.push(`+${P}`):A.push(`${P}`)}else if(x>=0)for(let n=0;n<o;n++)A.push(`${i[f++]}`);else{let n=o+x;if(n>0)for(let o=0;o<n;o++)A.push(`${i[f++]}`);else A.push("0");for(A.push(".");n++<0;)A.push("0");for(let s=0;s<o-Math.max(n-1,0);s++)A.push(`${i[f++]}`)}return A.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(n){return Decimal128.fromString(n.$numberDecimal)}inspect(n,o,i){i??=defaultInspect;return`new Decimal128(${i(this.toString(),o)})`}}class Double extends BSONValue{get _bsontype(){return"Double"}constructor(n){super(),n instanceof Number&&(n=n.valueOf()),this.value=+n}static fromString(n){const o=Number(n);if("NaN"===n)return new Double(NaN);if("Infinity"===n)return new Double(1/0);if("-Infinity"===n)return new Double(-1/0);if(!Number.isFinite(o))throw new BSONError(`Input: ${n} is not representable as a Double`);if(n.trim()!==n)throw new BSONError(`Input: '${n}' contains whitespace`);if(""===n)throw new BSONError("Input is an empty string");if(/[^-0-9.+eE]/.test(n))throw new BSONError(`Input: '${n}' is not in decimal or exponential notation`);return new Double(o)}valueOf(){return this.value}toJSON(){return this.value}toString(n){return this.value.toString(n)}toExtendedJSON(n){return n&&(n.legacy||n.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(n,o){const i=parseFloat(n.$numberDouble);return o&&o.relaxed?i:new Double(i)}inspect(n,o,i){return i??=defaultInspect,`new Double(${i(this.value,o)})`}}class Int32 extends BSONValue{get _bsontype(){return"Int32"}constructor(n){super(),n instanceof Number&&(n=n.valueOf()),this.value=0|+n}static fromString(n){const o=removeLeadingZerosAndExplicitPlus(n),i=Number(n);if(h<i)throw new BSONError(`Input: '${n}' is larger than the maximum value for Int32`);if(f>i)throw new BSONError(`Input: '${n}' is smaller than the minimum value for Int32`);if(!Number.isSafeInteger(i))throw new BSONError(`Input: '${n}' is not a safe integer`);if(i.toString()!==o)throw new BSONError(`Input: '${n}' is not a valid Int32 string`);return new Int32(i)}valueOf(){return this.value}toString(n){return this.value.toString(n)}toJSON(){return this.value}toExtendedJSON(n){return n&&(n.relaxed||n.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(n,o){return o&&o.relaxed?parseInt(n.$numberInt,10):new Int32(n.$numberInt)}inspect(n,o,i){return i??=defaultInspect,`new Int32(${i(this.value,o)})`}}class MaxKey extends BSONValue{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new MaxKey}inspect(){return"new MaxKey()"}}class MinKey extends BSONValue{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new MinKey}inspect(){return"new MinKey()"}}let oe=null;const ie=new WeakMap;class ObjectId extends BSONValue{get _bsontype(){return"ObjectId"}constructor(n){let o;if(super(),"object"==typeof n&&n&&"id"in n){if("string"!=typeof n.id&&!ArrayBuffer.isView(n.id))throw new BSONError("Argument passed in must have an id that is of type string or Buffer");o="toHexString"in n&&"function"==typeof n.toHexString?I.fromHex(n.toHexString()):n.id}else o=n;if(null==o||"number"==typeof o)this.buffer=ObjectId.generate("number"==typeof o?o:void 0);else if(ArrayBuffer.isView(o)&&12===o.byteLength)this.buffer=I.toLocalBufferType(o);else{if("string"!=typeof o)throw new BSONError("Argument passed in does not match the accepted types");if(!ObjectId.validateHexString(o))throw new BSONError("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");this.buffer=I.fromHex(o),ObjectId.cacheHexString&&ie.set(this,o)}}get id(){return this.buffer}set id(n){this.buffer=n,ObjectId.cacheHexString&&ie.set(this,I.toHex(n))}static validateHexString(n){if(24!==n?.length)return!1;for(let o=0;o<24;o++){const i=n.charCodeAt(o);if(!(i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70))return!1}return!0}toHexString(){if(ObjectId.cacheHexString){const n=ie.get(this);if(n)return n}const n=I.toHex(this.id);return ObjectId.cacheHexString&&ie.set(this,n),n}static getInc(){return ObjectId.index=(ObjectId.index+1)%16777215}static generate(n){"number"!=typeof n&&(n=Math.floor(Date.now()/1e3));const o=ObjectId.getInc(),i=I.allocateUnsafe(12);return k.setInt32BE(i,0,n),null===oe&&(oe=I.randomBytes(5)),i[4]=oe[0],i[5]=oe[1],i[6]=oe[2],i[7]=oe[3],i[8]=oe[4],i[11]=255&o,i[10]=o>>8&255,i[9]=o>>16&255,i}toString(n){return"base64"===n?I.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}static is(n){return null!=n&&"object"==typeof n&&"_bsontype"in n&&"ObjectId"===n._bsontype}equals(n){if(null==n)return!1;if(ObjectId.is(n))return this.buffer[11]===n.buffer[11]&&I.equals(this.buffer,n.buffer);if("string"==typeof n)return n.toLowerCase()===this.toHexString();if("object"==typeof n&&"function"==typeof n.toHexString){const o=n.toHexString(),i=this.toHexString();return"string"==typeof o&&o.toLowerCase()===i}return!1}getTimestamp(){const n=new Date,o=k.getUint32BE(this.buffer,0);return n.setTime(1e3*Math.floor(o)),n}static createPk(){return new ObjectId}serializeInto(n,o){return n[o]=this.buffer[0],n[o+1]=this.buffer[1],n[o+2]=this.buffer[2],n[o+3]=this.buffer[3],n[o+4]=this.buffer[4],n[o+5]=this.buffer[5],n[o+6]=this.buffer[6],n[o+7]=this.buffer[7],n[o+8]=this.buffer[8],n[o+9]=this.buffer[9],n[o+10]=this.buffer[10],n[o+11]=this.buffer[11],12}static createFromTime(n){const o=I.allocate(12);for(let n=11;n>=4;n--)o[n]=0;return k.setInt32BE(o,0,n),new ObjectId(o)}static createFromHexString(n){if(24!==n?.length)throw new BSONError("hex string must be 24 characters");return new ObjectId(I.fromHex(n))}static createFromBase64(n){if(16!==n?.length)throw new BSONError("base64 string must be 16 characters");return new ObjectId(I.fromBase64(n))}static isValid(n){if(null==n)return!1;if("string"==typeof n)return ObjectId.validateHexString(n);try{return new ObjectId(n),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(n){return new ObjectId(n.$oid)}isCached(){return ObjectId.cacheHexString&&ie.has(this)}inspect(n,o,i){return i??=defaultInspect,`new ObjectId(${i(this.toHexString(),o)})`}}function internalCalculateObjectSize(n,o,i){let s=5;if(Array.isArray(n))for(let c=0;c<n.length;c++)s+=calculateElement(c.toString(),n[c],o,!0,i);else{"function"==typeof n?.toBSON&&(n=n.toBSON());for(const c of Object.keys(n))s+=calculateElement(c,n[c],o,!1,i)}return s}function calculateElement(n,o,i=!1,s=!1,E=!1){switch("function"==typeof o?.toBSON&&(o=o.toBSON()),typeof o){case"string":return 1+I.utf8ByteLength(n)+1+4+I.utf8ByteLength(o)+1;case"number":return Math.floor(o)===o&&o>=O&&o<=A&&o>=f&&o<=h?(null!=n?I.utf8ByteLength(n)+1:0)+5:(null!=n?I.utf8ByteLength(n)+1:0)+9;case"undefined":return s||!E?(null!=n?I.utf8ByteLength(n)+1:0)+1:0;case"boolean":return(null!=n?I.utf8ByteLength(n)+1:0)+2;case"object":if(null!=o&&"string"==typeof o._bsontype&&6!==o[c])throw new BSONVersionError;if(null==o||"MinKey"===o._bsontype||"MaxKey"===o._bsontype)return(null!=n?I.utf8ByteLength(n)+1:0)+1;if("ObjectId"===o._bsontype)return(null!=n?I.utf8ByteLength(n)+1:0)+13;if(o instanceof Date||isDate(o))return(null!=n?I.utf8ByteLength(n)+1:0)+9;if(ArrayBuffer.isView(o)||o instanceof ArrayBuffer||isAnyArrayBuffer(o))return(null!=n?I.utf8ByteLength(n)+1:0)+6+o.byteLength;if("Long"===o._bsontype||"Double"===o._bsontype||"Timestamp"===o._bsontype)return(null!=n?I.utf8ByteLength(n)+1:0)+9;if("Decimal128"===o._bsontype)return(null!=n?I.utf8ByteLength(n)+1:0)+17;if("Code"===o._bsontype)return null!=o.scope&&Object.keys(o.scope).length>0?(null!=n?I.utf8ByteLength(n)+1:0)+1+4+4+I.utf8ByteLength(o.code.toString())+1+internalCalculateObjectSize(o.scope,i,E):(null!=n?I.utf8ByteLength(n)+1:0)+1+4+I.utf8ByteLength(o.code.toString())+1;if("Binary"===o._bsontype){const i=o;return i.sub_type===Binary.SUBTYPE_BYTE_ARRAY?(null!=n?I.utf8ByteLength(n)+1:0)+(i.position+1+4+1+4):(null!=n?I.utf8ByteLength(n)+1:0)+(i.position+1+4+1)}if("Symbol"===o._bsontype)return(null!=n?I.utf8ByteLength(n)+1:0)+I.utf8ByteLength(o.value)+4+1+1;if("DBRef"===o._bsontype){const s=Object.assign({$ref:o.collection,$id:o.oid},o.fields);return null!=o.db&&(s.$db=o.db),(null!=n?I.utf8ByteLength(n)+1:0)+1+internalCalculateObjectSize(s,i,E)}return o instanceof RegExp||isRegExp(o)?(null!=n?I.utf8ByteLength(n)+1:0)+1+I.utf8ByteLength(o.source)+1+(o.global?1:0)+(o.ignoreCase?1:0)+(o.multiline?1:0)+1:"BSONRegExp"===o._bsontype?(null!=n?I.utf8ByteLength(n)+1:0)+1+I.utf8ByteLength(o.pattern)+1+I.utf8ByteLength(o.options)+1:(null!=n?I.utf8ByteLength(n)+1:0)+internalCalculateObjectSize(o,i,E)+1;case"function":return i?(null!=n?I.utf8ByteLength(n)+1:0)+1+4+I.utf8ByteLength(o.toString())+1:0;case"bigint":return(null!=n?I.utf8ByteLength(n)+1:0)+9;case"symbol":return 0;default:throw new BSONError("Unrecognized JS type: "+typeof o)}}ObjectId.index=Math.floor(16777215*Math.random());class BSONRegExp extends BSONValue{get _bsontype(){return"BSONRegExp"}constructor(n,o){if(super(),this.pattern=n,this.options=function alphabetize(n){return n.split("").sort().join("")}(o??""),-1!==this.pattern.indexOf("\0"))throw new BSONError(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(-1!==this.options.indexOf("\0"))throw new BSONError(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let n=0;n<this.options.length;n++)if("i"!==this.options[n]&&"m"!==this.options[n]&&"x"!==this.options[n]&&"l"!==this.options[n]&&"s"!==this.options[n]&&"u"!==this.options[n])throw new BSONError(`The regular expression option [${this.options[n]}] is not supported`)}static parseOptions(n){return n?n.split("").sort().join(""):""}toExtendedJSON(n){return(n=n||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(n){if("$regex"in n){if("string"==typeof n.$regex)return new BSONRegExp(n.$regex,BSONRegExp.parseOptions(n.$options));if("BSONRegExp"===n.$regex._bsontype)return n}if("$regularExpression"in n)return new BSONRegExp(n.$regularExpression.pattern,BSONRegExp.parseOptions(n.$regularExpression.options));throw new BSONError(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(n)}`)}inspect(n,o,i){const s=function getStylizeFunction(n){if(null!=n&&"object"==typeof n&&"stylize"in n&&"function"==typeof n.stylize)return n.stylize}(o)??(n=>n);i??=defaultInspect;return`new BSONRegExp(${s(i(this.pattern),"regexp")}, ${s(i(this.options),"regexp")})`}}class BSONSymbol extends BSONValue{get _bsontype(){return"BSONSymbol"}constructor(n){super(),this.value=n}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(n){return new BSONSymbol(n.$symbol)}inspect(n,o,i){return i??=defaultInspect,`new BSONSymbol(${i(this.value,o)})`}}const se=Long;class Timestamp extends se{get _bsontype(){return"Timestamp"}get i(){return this.low>>>0}get t(){return this.high>>>0}constructor(n){if(null==n)super(0,0,!0);else if("bigint"==typeof n)super(n,!0);else if(Long.isLong(n))super(n.low,n.high,!0);else{if("object"!=typeof n||!("t"in n)||!("i"in n))throw new BSONError("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }");{if("number"!=typeof n.t&&("object"!=typeof n.t||"Int32"!==n.t._bsontype))throw new BSONError("Timestamp constructed from { t, i } must provide t as a number");if("number"!=typeof n.i&&("object"!=typeof n.i||"Int32"!==n.i._bsontype))throw new BSONError("Timestamp constructed from { t, i } must provide i as a number");const o=Number(n.t),i=Number(n.i);if(o<0||Number.isNaN(o))throw new BSONError("Timestamp constructed from { t, i } must provide a positive t");if(i<0||Number.isNaN(i))throw new BSONError("Timestamp constructed from { t, i } must provide a positive i");if(o>4294967295)throw new BSONError("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(i>4294967295)throw new BSONError("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(i,o,!0)}}}toJSON(){return{$timestamp:this.toString()}}static fromInt(n){return new Timestamp(Long.fromInt(n,!0))}static fromNumber(n){return new Timestamp(Long.fromNumber(n,!0))}static fromBits(n,o){return new Timestamp({i:n,t:o})}static fromString(n,o){return new Timestamp(Long.fromString(n,!0,o))}toExtendedJSON(){return{$timestamp:{t:this.t,i:this.i}}}static fromExtendedJSON(n){const o=Long.isLong(n.$timestamp.i)?n.$timestamp.i.getLowBitsUnsigned():n.$timestamp.i,i=Long.isLong(n.$timestamp.t)?n.$timestamp.t.getLowBitsUnsigned():n.$timestamp.t;return new Timestamp({t:i,i:o})}inspect(n,o,i){i??=defaultInspect;return`new Timestamp({ t: ${i(this.t,o)}, i: ${i(this.i,o)} })`}}Timestamp.MAX_VALUE=Long.MAX_UNSIGNED_VALUE;const ae=Long.fromNumber(A),ue=Long.fromNumber(O);function internalDeserialize(n,o,i){const s=(o=null==o?{}:o)&&o.index?o.index:0,c=k.getInt32LE(n,s);if(c<5)throw new BSONError(`bson size must be >= 5, is ${c}`);if(o.allowObjectSmallerThanBufferSize&&n.length<c)throw new BSONError(`buffer length ${n.length} must be >= bson size ${c}`);if(!o.allowObjectSmallerThanBufferSize&&n.length!==c)throw new BSONError(`buffer length ${n.length} must === bson size ${c}`);if(c+s>n.byteLength)throw new BSONError(`(bson size ${c} + options.index ${s} must be <= buffer length ${n.byteLength})`);if(0!==n[s+c-1])throw new BSONError("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(n,s,o,i)}const ce=/^\$ref$|^\$id$|^\$db$/;function deserializeObject(n,o,i,s=!1){const c=null==i.fieldsAsRaw?null:i.fieldsAsRaw,h=null!=i.raw&&i.raw,f="boolean"==typeof i.bsonRegExp&&i.bsonRegExp,E=i.promoteBuffers??!1,S=i.promoteLongs??!0,A=i.promoteValues??!0,O=i.useBigInt64??!1;if(O&&!A)throw new BSONError("Must either request bigint or Long for int64 deserialization");if(O&&!S)throw new BSONError("Must either request bigint or Long for int64 deserialization");let T,_,D=!0;const N=(null==i.validation?{utf8:!0}:i.validation).utf8;if("boolean"==typeof N)T=N;else{D=!1;const n=Object.keys(N).map(function(n){return N[n]});if(0===n.length)throw new BSONError("UTF-8 validation setting cannot be empty");if("boolean"!=typeof n[0])throw new BSONError("Invalid UTF-8 validation option, must specify boolean values");if(T=n[0],!n.every(n=>n===T))throw new BSONError("Invalid UTF-8 validation option - keys must be all true or all false")}if(!D){_=new Set;for(const n of Object.keys(N))_.add(n)}const R=o;if(n.length<5)throw new BSONError("corrupt bson message < 5 bytes long");const x=k.getInt32LE(n,o);if(o+=4,x<5||x>n.length)throw new BSONError("corrupt bson message");const P=s?[]:{};let M=0,B=!s&&null;for(;;){const N=n[o++];if(0===N)break;let R=o;for(;0!==n[R]&&R<n.length;)R++;if(R>=n.byteLength)throw new BSONError("Bad BSON Document: illegal CString");const x=s?M++:I.toUTF8(n,o,R,!1);let F,L=!0;if(L=D||_?.has(x)?T:!T,!1!==B&&"$"===x[0]&&(B=ce.test(x)),o=R+1,2===N){const i=k.getInt32LE(n,o);if(o+=4,i<=0||i>n.length-o||0!==n[o+i-1])throw new BSONError("bad string length in bson");F=I.toUTF8(n,o,o+i-1,L),o+=i}else if(7===N){const i=I.allocateUnsafe(12);for(let s=0;s<12;s++)i[s]=n[o+s];F=new ObjectId(i),o+=12}else if(16===N&&!1===A)F=new Int32(k.getInt32LE(n,o)),o+=4;else if(16===N)F=k.getInt32LE(n,o),o+=4;else if(1===N)F=k.getFloat64LE(n,o),o+=8,!1===A&&(F=new Double(F));else if(9===N){const i=k.getInt32LE(n,o),s=k.getInt32LE(n,o+4);o+=8,F=new Date(new Long(i,s).toNumber())}else if(8===N){if(0!==n[o]&&1!==n[o])throw new BSONError("illegal boolean type value");F=1===n[o++]}else if(3===N){const s=o,c=k.getInt32LE(n,o);if(c<=0||c>n.length-o)throw new BSONError("bad embedded document length in bson");if(h)F=n.subarray(o,o+c);else{let o=i;D||(o={...i,validation:{utf8:L}}),F=deserializeObject(n,s,o,!1)}o+=c}else if(4===N){const s=o,h=k.getInt32LE(n,o);let f=i;const E=o+h;if(c&&c[x]&&(f={...i,raw:!0}),D||(f={...f,validation:{utf8:L}}),F=deserializeObject(n,s,f,!0),0!==n[(o+=h)-1])throw new BSONError("invalid array terminator byte");if(o!==E)throw new BSONError("corrupted array bson")}else if(6===N)F=void 0;else if(10===N)F=null;else if(18===N)if(O)F=k.getBigInt64LE(n,o),o+=8;else{const i=k.getInt32LE(n,o),s=k.getInt32LE(n,o+4);o+=8;const c=new Long(i,s);F=S&&!0===A&&c.lessThanOrEqual(ae)&&c.greaterThanOrEqual(ue)?c.toNumber():c}else if(19===N){const i=I.allocateUnsafe(16);for(let s=0;s<16;s++)i[s]=n[o+s];o+=16,F=new Decimal128(i)}else if(5===N){let i=k.getInt32LE(n,o);o+=4;const s=i,c=n[o++];if(i<0)throw new BSONError("Negative binary type element size found");if(i>n.byteLength)throw new BSONError("Binary type size larger than document size");if(c===Binary.SUBTYPE_BYTE_ARRAY){if(i=k.getInt32LE(n,o),o+=4,i<0)throw new BSONError("Negative binary type element size found for subtype 0x02");if(i>s-4)throw new BSONError("Binary type with subtype 0x02 contains too long binary size");if(i<s-4)throw new BSONError("Binary type with subtype 0x02 contains too short binary size")}E&&A?F=I.toLocalBufferType(n.subarray(o,o+i)):(F=new Binary(n.subarray(o,o+i),c),4===c&&UUID.isValid(F)&&(F=F.toUUID())),o+=i}else if(11===N&&!1===f){for(R=o;0!==n[R]&&R<n.length;)R++;if(R>=n.length)throw new BSONError("Bad BSON Document: illegal CString");const i=I.toUTF8(n,o,R,!1);for(R=o=R+1;0!==n[R]&&R<n.length;)R++;if(R>=n.length)throw new BSONError("Bad BSON Document: illegal CString");const s=I.toUTF8(n,o,R,!1);o=R+1;const c=new Array(s.length);for(R=0;R<s.length;R++)switch(s[R]){case"m":c[R]="m";break;case"s":c[R]="g";break;case"i":c[R]="i"}F=new RegExp(i,c.join(""))}else if(11===N&&!0===f){for(R=o;0!==n[R]&&R<n.length;)R++;if(R>=n.length)throw new BSONError("Bad BSON Document: illegal CString");const i=I.toUTF8(n,o,R,!1);for(R=o=R+1;0!==n[R]&&R<n.length;)R++;if(R>=n.length)throw new BSONError("Bad BSON Document: illegal CString");const s=I.toUTF8(n,o,R,!1);o=R+1,F=new BSONRegExp(i,s)}else if(14===N){const i=k.getInt32LE(n,o);if(o+=4,i<=0||i>n.length-o||0!==n[o+i-1])throw new BSONError("bad string length in bson");const s=I.toUTF8(n,o,o+i-1,L);F=A?s:new BSONSymbol(s),o+=i}else if(17===N)F=new Timestamp({i:k.getUint32LE(n,o),t:k.getUint32LE(n,o+4)}),o+=8;else if(255===N)F=new MinKey;else if(127===N)F=new MaxKey;else if(13===N){const i=k.getInt32LE(n,o);if(o+=4,i<=0||i>n.length-o||0!==n[o+i-1])throw new BSONError("bad string length in bson");const s=I.toUTF8(n,o,o+i-1,L);F=new Code(s),o+=i}else if(15===N){const s=k.getInt32LE(n,o);if(o+=4,s<13)throw new BSONError("code_w_scope total size shorter minimum expected length");const c=k.getInt32LE(n,o);if(o+=4,c<=0||c>n.length-o||0!==n[o+c-1])throw new BSONError("bad string length in bson");const h=I.toUTF8(n,o,o+c-1,L),f=o+=c,E=k.getInt32LE(n,o),S=deserializeObject(n,f,i,!1);if(o+=E,s<8+E+c)throw new BSONError("code_w_scope total size is too short, truncating scope");if(s>8+E+c)throw new BSONError("code_w_scope total size is too long, clips outer document");F=new Code(h,S)}else{if(12!==N)throw new BSONError(`Detected unknown BSON type ${N.toString(16)} for fieldname "${x}"`);{const i=k.getInt32LE(n,o);if(o+=4,i<=0||i>n.length-o||0!==n[o+i-1])throw new BSONError("bad string length in bson");const s=I.toUTF8(n,o,o+i-1,L);o+=i;const c=I.allocateUnsafe(12);for(let i=0;i<12;i++)c[i]=n[o+i];const h=new ObjectId(c);o+=12,F=new DBRef(s,h)}}"__proto__"===x?Object.defineProperty(P,x,{value:F,writable:!0,enumerable:!0,configurable:!0}):P[x]=F}if(x!==o-R){if(s)throw new BSONError("corrupt array bson");throw new BSONError("corrupt object bson")}if(!B)return P;if(isDBRefLike(P)){const n=Object.assign({},P);return delete n.$ref,delete n.$id,delete n.$db,new DBRef(P.$ref,P.$id,P.$db,n)}return P}const le=/\x00/,he=new Set(["$db","$ref","$id","$clusterTime"]);function serializeString(n,o,i,s){n[s++]=2;n[(s=s+I.encodeUTF8Into(n,o,s)+1)-1]=0;const c=I.encodeUTF8Into(n,i,s+4);return k.setInt32LE(n,s,c+1),s=s+4+c,n[s++]=0,s}function serializeNumber(n,o,i,s){const c=!Object.is(i,-0)&&Number.isSafeInteger(i)&&i<=h&&i>=f?16:1;n[s++]=c;return s+=I.encodeUTF8Into(n,o,s),n[s++]=0,s+=16===c?k.setInt32LE(n,s,i):k.setFloat64LE(n,s,i)}function serializeBigInt(n,o,i,s){n[s++]=18;return s+=I.encodeUTF8Into(n,o,s),n[s++]=0,s+=k.setBigInt64LE(n,s,i)}function serializeNull(n,o,i,s){n[s++]=10;return s+=I.encodeUTF8Into(n,o,s),n[s++]=0,s}function serializeBoolean(n,o,i,s){n[s++]=8;return s+=I.encodeUTF8Into(n,o,s),n[s++]=0,n[s++]=i?1:0,s}function serializeDate(n,o,i,s){n[s++]=9;s+=I.encodeUTF8Into(n,o,s),n[s++]=0;const c=Long.fromNumber(i.getTime()),h=c.getLowBits(),f=c.getHighBits();return s+=k.setInt32LE(n,s,h),s+=k.setInt32LE(n,s,f)}function serializeRegExp(n,o,i,s){n[s++]=11;if(s+=I.encodeUTF8Into(n,o,s),n[s++]=0,i.source&&null!=i.source.match(le))throw new BSONError("value "+i.source+" must not contain null bytes");return s+=I.encodeUTF8Into(n,i.source,s),n[s++]=0,i.ignoreCase&&(n[s++]=105),i.global&&(n[s++]=115),i.multiline&&(n[s++]=109),n[s++]=0,s}function serializeBSONRegExp(n,o,i,s){n[s++]=11;if(s+=I.encodeUTF8Into(n,o,s),n[s++]=0,null!=i.pattern.match(le))throw new BSONError("pattern "+i.pattern+" must not contain null bytes");s+=I.encodeUTF8Into(n,i.pattern,s),n[s++]=0;const c=i.options.split("").sort().join("");return s+=I.encodeUTF8Into(n,c,s),n[s++]=0,s}function serializeMinMax(n,o,i,s){null===i?n[s++]=10:"MinKey"===i._bsontype?n[s++]=255:n[s++]=127;return s+=I.encodeUTF8Into(n,o,s),n[s++]=0,s}function serializeObjectId(n,o,i,s){n[s++]=7;return s+=I.encodeUTF8Into(n,o,s),n[s++]=0,s+=i.serializeInto(n,s)}function serializeBuffer(n,o,i,s){n[s++]=5;s+=I.encodeUTF8Into(n,o,s),n[s++]=0;const c=i.length;if(s+=k.setInt32LE(n,s,c),n[s++]=0,c<=16)for(let o=0;o<c;o++)n[s+o]=i[o];else n.set(i,s);return s+=c}function serializeObject(n,o,i,s,c,h,f,E,S){if(S.has(i))throw new BSONError("Cannot convert circular structure to BSON");S.add(i),n[s++]=Array.isArray(i)?4:3;s+=I.encodeUTF8Into(n,o,s),n[s++]=0;const A=serializeInto(n,i,c,s,h+1,f,E,S);return S.delete(i),A}function serializeDecimal128(n,o,i,s){n[s++]=19;s+=I.encodeUTF8Into(n,o,s),n[s++]=0;for(let o=0;o<16;o++)n[s+o]=i.bytes[o];return s+16}function serializeLong(n,o,i,s){n[s++]="Long"===i._bsontype?18:17;s+=I.encodeUTF8Into(n,o,s),n[s++]=0;const c=i.getLowBits(),h=i.getHighBits();return s+=k.setInt32LE(n,s,c),s+=k.setInt32LE(n,s,h)}function serializeInt32(n,o,i,s){i=i.valueOf(),n[s++]=16;return s+=I.encodeUTF8Into(n,o,s),n[s++]=0,s+=k.setInt32LE(n,s,i)}function serializeDouble(n,o,i,s){n[s++]=1;return s+=I.encodeUTF8Into(n,o,s),n[s++]=0,s+=k.setFloat64LE(n,s,i.value)}function serializeFunction(n,o,i,s){n[s++]=13;s+=I.encodeUTF8Into(n,o,s),n[s++]=0;const c=i.toString(),h=I.encodeUTF8Into(n,c,s+4)+1;return k.setInt32LE(n,s,h),s=s+4+h-1,n[s++]=0,s}function serializeCode(n,o,i,s,c=!1,h=0,f=!1,E=!0,S){if(i.scope&&"object"==typeof i.scope){n[s++]=15;s+=I.encodeUTF8Into(n,o,s),n[s++]=0;let A=s;const O=i.code;s+=4;const T=I.encodeUTF8Into(n,O,s+4)+1;k.setInt32LE(n,s,T),n[s+4+T-1]=0,s=s+T+4;const _=serializeInto(n,i.scope,c,s,h+1,f,E,S);s=_-1;const D=_-A;A+=k.setInt32LE(n,A,D),n[s++]=0}else{n[s++]=13;s+=I.encodeUTF8Into(n,o,s),n[s++]=0;const c=i.code.toString(),h=I.encodeUTF8Into(n,c,s+4)+1;k.setInt32LE(n,s,h),s=s+4+h-1,n[s++]=0}return s}function serializeBinary(n,o,i,s){n[s++]=5;s+=I.encodeUTF8Into(n,o,s),n[s++]=0;const c=i.buffer;let h=i.position;if(i.sub_type===Binary.SUBTYPE_BYTE_ARRAY&&(h+=4),s+=k.setInt32LE(n,s,h),n[s++]=i.sub_type,i.sub_type===Binary.SUBTYPE_BYTE_ARRAY&&(h-=4,s+=k.setInt32LE(n,s,h)),i.sub_type===Binary.SUBTYPE_VECTOR&&validateBinaryVector(i),h<=16)for(let o=0;o<h;o++)n[s+o]=c[o];else n.set(c,s);return s+=i.position}function serializeSymbol(n,o,i,s){n[s++]=14;s+=I.encodeUTF8Into(n,o,s),n[s++]=0;const c=I.encodeUTF8Into(n,i.value,s+4)+1;return k.setInt32LE(n,s,c),s=s+4+c-1,n[s++]=0,s}function serializeDBRef(n,o,i,s,c,h,f){n[s++]=3;s+=I.encodeUTF8Into(n,o,s),n[s++]=0;let E=s,S={$ref:i.collection||i.namespace,$id:i.oid};null!=i.db&&(S.$db=i.db),S=Object.assign(S,i.fields);const A=serializeInto(n,S,!1,s,c+1,h,!0,f),O=A-E;return E+=k.setInt32LE(n,s,O),A}function serializeInto(n,o,i,s,h,f,E,S){if(null==S){if(null==o)return n[0]=5,n[1]=0,n[2]=0,n[3]=0,n[4]=0,5;if(Array.isArray(o))throw new BSONError("serialize does not support an array as the root input");if("object"!=typeof o)throw new BSONError("serialize does not support non-object as the root input");if("_bsontype"in o&&"string"==typeof o._bsontype)throw new BSONError("BSON types cannot be serialized as a document");if(isDate(o)||isRegExp(o)||isUint8Array(o)||isAnyArrayBuffer(o))throw new BSONError("date, regexp, typedarray, and arraybuffer cannot be BSON documents");S=new Set}S.add(o);let A=s+4;if(Array.isArray(o))for(let s=0;s<o.length;s++){const O=`${s}`;let T=o[s];"function"==typeof T?.toBSON&&(T=T.toBSON());const _=typeof T;if(void 0===T)A=serializeNull(n,O,0,A);else if(null===T)A=serializeNull(n,O,0,A);else if("string"===_)A=serializeString(n,O,T,A);else if("number"===_)A=serializeNumber(n,O,T,A);else if("bigint"===_)A=serializeBigInt(n,O,T,A);else if("boolean"===_)A=serializeBoolean(n,O,T,A);else if("object"===_&&null==T._bsontype)A=T instanceof Date||isDate(T)?serializeDate(n,O,T,A):T instanceof Uint8Array||isUint8Array(T)?serializeBuffer(n,O,T,A):T instanceof RegExp||isRegExp(T)?serializeRegExp(n,O,T,A):serializeObject(n,O,T,A,i,h,f,E,S);else if("object"===_){if(6!==T[c])throw new BSONVersionError;if("ObjectId"===T._bsontype)A=serializeObjectId(n,O,T,A);else if("Decimal128"===T._bsontype)A=serializeDecimal128(n,O,T,A);else if("Long"===T._bsontype||"Timestamp"===T._bsontype)A=serializeLong(n,O,T,A);else if("Double"===T._bsontype)A=serializeDouble(n,O,T,A);else if("Code"===T._bsontype)A=serializeCode(n,O,T,A,i,h,f,E,S);else if("Binary"===T._bsontype)A=serializeBinary(n,O,T,A);else if("BSONSymbol"===T._bsontype)A=serializeSymbol(n,O,T,A);else if("DBRef"===T._bsontype)A=serializeDBRef(n,O,T,A,h,f,S);else if("BSONRegExp"===T._bsontype)A=serializeBSONRegExp(n,O,T,A);else if("Int32"===T._bsontype)A=serializeInt32(n,O,T,A);else if("MinKey"===T._bsontype||"MaxKey"===T._bsontype)A=serializeMinMax(n,O,T,A);else if(void 0!==T._bsontype)throw new BSONError(`Unrecognized or invalid _bsontype: ${String(T._bsontype)}`)}else"function"===_&&f&&(A=serializeFunction(n,O,T,A))}else if(o instanceof Map||isMap(o)){const s=o.entries();let O=!1;for(;!O;){const o=s.next();if(O=!!o.done,O)continue;const T=o.value?o.value[0]:void 0;let _=o.value?o.value[1]:void 0;"function"==typeof _?.toBSON&&(_=_.toBSON());const D=typeof _;if("string"==typeof T&&!he.has(T)){if(null!=T.match(le))throw new BSONError("key "+T+" must not contain null bytes");if(i){if("$"===T[0])throw new BSONError("key "+T+" must not start with '$'");if(T.includes("."))throw new BSONError("key "+T+" must not contain '.'")}}if(void 0===_)!1===E&&(A=serializeNull(n,T,0,A));else if(null===_)A=serializeNull(n,T,0,A);else if("string"===D)A=serializeString(n,T,_,A);else if("number"===D)A=serializeNumber(n,T,_,A);else if("bigint"===D)A=serializeBigInt(n,T,_,A);else if("boolean"===D)A=serializeBoolean(n,T,_,A);else if("object"===D&&null==_._bsontype)A=_ instanceof Date||isDate(_)?serializeDate(n,T,_,A):_ instanceof Uint8Array||isUint8Array(_)?serializeBuffer(n,T,_,A):_ instanceof RegExp||isRegExp(_)?serializeRegExp(n,T,_,A):serializeObject(n,T,_,A,i,h,f,E,S);else if("object"===D){if(6!==_[c])throw new BSONVersionError;if("ObjectId"===_._bsontype)A=serializeObjectId(n,T,_,A);else if("Decimal128"===_._bsontype)A=serializeDecimal128(n,T,_,A);else if("Long"===_._bsontype||"Timestamp"===_._bsontype)A=serializeLong(n,T,_,A);else if("Double"===_._bsontype)A=serializeDouble(n,T,_,A);else if("Code"===_._bsontype)A=serializeCode(n,T,_,A,i,h,f,E,S);else if("Binary"===_._bsontype)A=serializeBinary(n,T,_,A);else if("BSONSymbol"===_._bsontype)A=serializeSymbol(n,T,_,A);else if("DBRef"===_._bsontype)A=serializeDBRef(n,T,_,A,h,f,S);else if("BSONRegExp"===_._bsontype)A=serializeBSONRegExp(n,T,_,A);else if("Int32"===_._bsontype)A=serializeInt32(n,T,_,A);else if("MinKey"===_._bsontype||"MaxKey"===_._bsontype)A=serializeMinMax(n,T,_,A);else if(void 0!==_._bsontype)throw new BSONError(`Unrecognized or invalid _bsontype: ${String(_._bsontype)}`)}else"function"===D&&f&&(A=serializeFunction(n,T,_,A))}}else{if("function"==typeof o?.toBSON&&null!=(o=o.toBSON())&&"object"!=typeof o)throw new BSONError("toBSON function did not return an object");for(const s of Object.keys(o)){let O=o[s];"function"==typeof O?.toBSON&&(O=O.toBSON());const T=typeof O;if("string"==typeof s&&!he.has(s)){if(null!=s.match(le))throw new BSONError("key "+s+" must not contain null bytes");if(i){if("$"===s[0])throw new BSONError("key "+s+" must not start with '$'");if(s.includes("."))throw new BSONError("key "+s+" must not contain '.'")}}if(void 0===O)!1===E&&(A=serializeNull(n,s,0,A));else if(null===O)A=serializeNull(n,s,0,A);else if("string"===T)A=serializeString(n,s,O,A);else if("number"===T)A=serializeNumber(n,s,O,A);else if("bigint"===T)A=serializeBigInt(n,s,O,A);else if("boolean"===T)A=serializeBoolean(n,s,O,A);else if("object"===T&&null==O._bsontype)A=O instanceof Date||isDate(O)?serializeDate(n,s,O,A):O instanceof Uint8Array||isUint8Array(O)?serializeBuffer(n,s,O,A):O instanceof RegExp||isRegExp(O)?serializeRegExp(n,s,O,A):serializeObject(n,s,O,A,i,h,f,E,S);else if("object"===T){if(6!==O[c])throw new BSONVersionError;if("ObjectId"===O._bsontype)A=serializeObjectId(n,s,O,A);else if("Decimal128"===O._bsontype)A=serializeDecimal128(n,s,O,A);else if("Long"===O._bsontype||"Timestamp"===O._bsontype)A=serializeLong(n,s,O,A);else if("Double"===O._bsontype)A=serializeDouble(n,s,O,A);else if("Code"===O._bsontype)A=serializeCode(n,s,O,A,i,h,f,E,S);else if("Binary"===O._bsontype)A=serializeBinary(n,s,O,A);else if("BSONSymbol"===O._bsontype)A=serializeSymbol(n,s,O,A);else if("DBRef"===O._bsontype)A=serializeDBRef(n,s,O,A,h,f,S);else if("BSONRegExp"===O._bsontype)A=serializeBSONRegExp(n,s,O,A);else if("Int32"===O._bsontype)A=serializeInt32(n,s,O,A);else if("MinKey"===O._bsontype||"MaxKey"===O._bsontype)A=serializeMinMax(n,s,O,A);else if(void 0!==O._bsontype)throw new BSONError(`Unrecognized or invalid _bsontype: ${String(O._bsontype)}`)}else"function"===T&&f&&(A=serializeFunction(n,s,O,A))}}S.delete(o),n[A++]=0;const O=A-s;return s+=k.setInt32LE(n,s,O),A}const de={$oid:ObjectId,$binary:Binary,$uuid:Binary,$symbol:BSONSymbol,$numberInt:Int32,$numberDecimal:Decimal128,$numberDouble:Double,$numberLong:Long,$minKey:MinKey,$maxKey:MaxKey,$regex:BSONRegExp,$regularExpression:BSONRegExp,$timestamp:Timestamp};function deserializeValue(n,o={}){if("number"==typeof n){const i=n<=h&&n>=f,s=n<=E&&n>=S;if(o.relaxed||o.legacy)return n;if(Number.isInteger(n)&&!Object.is(n,-0)){if(i)return new Int32(n);if(s)return o.useBigInt64?BigInt(n):Long.fromNumber(n)}return new Double(n)}if(null==n||"object"!=typeof n)return n;if(n.$undefined)return null;const i=Object.keys(n).filter(o=>o.startsWith("$")&&null!=n[o]);for(let s=0;s<i.length;s++){const c=de[i[s]];if(c)return c.fromExtendedJSON(n,o)}if(null!=n.$date){const i=n.$date,s=new Date;if(o.legacy)if("number"==typeof i)s.setTime(i);else if("string"==typeof i)s.setTime(Date.parse(i));else{if("bigint"!=typeof i)throw new BSONRuntimeError("Unrecognized type for EJSON date: "+typeof i);s.setTime(Number(i))}else if("string"==typeof i)s.setTime(Date.parse(i));else if(Long.isLong(i))s.setTime(i.toNumber());else if("number"==typeof i&&o.relaxed)s.setTime(i);else{if("bigint"!=typeof i)throw new BSONRuntimeError("Unrecognized type for EJSON date: "+typeof i);s.setTime(Number(i))}return s}if(null!=n.$code){const o=Object.assign({},n);return n.$scope&&(o.$scope=deserializeValue(n.$scope)),Code.fromExtendedJSON(n)}if(isDBRefLike(n)||n.$dbPointer){const o=n.$ref?n:n.$dbPointer;if(o instanceof DBRef)return o;const i=Object.keys(o).filter(n=>n.startsWith("$"));let s=!0;if(i.forEach(n=>{-1===["$ref","$id","$db"].indexOf(n)&&(s=!1)}),s)return DBRef.fromExtendedJSON(o)}return n}function getISOString(n){const o=n.toISOString();return 0!==n.getUTCMilliseconds()?o:o.slice(0,-5)+"Z"}function serializeValue(n,o){if(n instanceof Map||isMap(n)){const i=Object.create(null);for(const[o,s]of n){if("string"!=typeof o)throw new BSONError("Can only serialize maps with string keys");i[o]=s}return serializeValue(i,o)}if(("object"==typeof n||"function"==typeof n)&&null!==n){const i=o.seenObjects.findIndex(o=>o.obj===n);if(-1!==i){const n=o.seenObjects.map(n=>n.propertyName),s=n.slice(0,i).map(n=>`${n} -> `).join(""),c=n[i],h=" -> "+n.slice(i+1,n.length-1).map(n=>`${n} -> `).join(""),f=n[n.length-1],E=" ".repeat(s.length+c.length/2),S="-".repeat(h.length+(c.length+f.length)/2-1);throw new BSONError(`Converting circular structure to EJSON:\n    ${s}${c}${h}${f}\n    ${E}\\${S}/`)}o.seenObjects[o.seenObjects.length-1].obj=n}if(Array.isArray(n))return function serializeArray(n,o){return n.map((n,i)=>{o.seenObjects.push({propertyName:`index ${i}`,obj:null});try{return serializeValue(n,o)}finally{o.seenObjects.pop()}})}(n,o);if(void 0===n)return null;if(n instanceof Date||isDate(n)){const i=n.getTime(),s=i>-1&&i<2534023188e5;return o.legacy?o.relaxed&&s?{$date:n.getTime()}:{$date:getISOString(n)}:o.relaxed&&s?{$date:getISOString(n)}:{$date:{$numberLong:n.getTime().toString()}}}if(!("number"!=typeof n||o.relaxed&&isFinite(n))){if(Number.isInteger(n)&&!Object.is(n,-0)){if(n>=f&&n<=h)return{$numberInt:n.toString()};if(n>=S&&n<=E)return{$numberLong:n.toString()}}return{$numberDouble:Object.is(n,-0)?"-0.0":n.toString()}}if("bigint"==typeof n)return o.relaxed?Number(BigInt.asIntN(64,n)):{$numberLong:BigInt.asIntN(64,n).toString()};if(n instanceof RegExp||isRegExp(n)){let i=n.flags;if(void 0===i){const o=n.toString().match(/[gimuy]*$/);o&&(i=o[0])}return new BSONRegExp(n.source,i).toExtendedJSON(o)}return null!=n&&"object"==typeof n?function serializeDocument(n,o){if(null==n||"object"!=typeof n)throw new BSONError("not an object instance");const i=n._bsontype;if(void 0===i){const i={};for(const s of Object.keys(n)){o.seenObjects.push({propertyName:s,obj:null});try{const c=serializeValue(n[s],o);"__proto__"===s?Object.defineProperty(i,s,{value:c,writable:!0,enumerable:!0,configurable:!0}):i[s]=c}finally{o.seenObjects.pop()}}return i}if(null!=n&&"object"==typeof n&&"string"==typeof n._bsontype&&6!==n[c])throw new BSONVersionError;if(function isBSONType(n){return null!=n&&"object"==typeof n&&"_bsontype"in n&&"string"==typeof n._bsontype}(n)){let s=n;if("function"!=typeof s.toExtendedJSON){const o=pe[n._bsontype];if(!o)throw new BSONError("Unrecognized or invalid _bsontype: "+n._bsontype);s=o(s)}return"Code"===i&&s.scope?s=new Code(s.code,serializeValue(s.scope,o)):"DBRef"===i&&s.oid&&(s=new DBRef(serializeValue(s.collection,o),serializeValue(s.oid,o),serializeValue(s.db,o),serializeValue(s.fields,o))),s.toExtendedJSON(o)}throw new BSONError("_bsontype must be a string, but was: "+typeof i)}(n,o):n}const pe={Binary:n=>new Binary(n.value(),n.sub_type),Code:n=>new Code(n.code,n.scope),DBRef:n=>new DBRef(n.collection||n.namespace,n.oid,n.db,n.fields),Decimal128:n=>new Decimal128(n.bytes),Double:n=>new Double(n.value),Int32:n=>new Int32(n.value),Long:n=>Long.fromBits(null!=n.low?n.low:n.low_,null!=n.low?n.high:n.high_,null!=n.low?n.unsigned:n.unsigned_),MaxKey:()=>new MaxKey,MinKey:()=>new MinKey,ObjectId:n=>new ObjectId(n),BSONRegExp:n=>new BSONRegExp(n.pattern,n.options),BSONSymbol:n=>new BSONSymbol(n.value),Timestamp:n=>Timestamp.fromBits(n.low,n.high)};function parse(n,o){const i={useBigInt64:o?.useBigInt64??!1,relaxed:o?.relaxed??!0,legacy:o?.legacy??!1};return JSON.parse(n,(n,o)=>{if(-1!==n.indexOf("\0"))throw new BSONError(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(n)}`);return deserializeValue(o,i)})}function stringify(n,o,i,s){null!=i&&"object"==typeof i&&(s=i,i=0),null==o||"object"!=typeof o||Array.isArray(o)||(s=o,o=void 0,i=0);const c=serializeValue(n,Object.assign({relaxed:!0,legacy:!1},s,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify(c,o,i)}const fe=Object.create(null);fe.parse=parse,fe.stringify=stringify,fe.serialize=function EJSONserialize(n,o){return o=o||{},JSON.parse(stringify(n,o))},fe.deserialize=function EJSONdeserialize(n,o){return o=o||{},parse(JSON.stringify(n),o)},Object.freeze(fe);const me=1,ge=2,ye=3,Ee=4,Ce=5,Se=6,Ae=7,be=8,Oe=9,ve=10,Te=11,_e=12,De=13,Ne=14,we=15,Re=16,xe=17,Pe=18,Me=19,Ie=255,Be=127;function getSize(n,o){try{return k.getNonnegativeInt32LE(n,o)}catch(n){throw new BSONOffsetError("BSON size cannot be negative",o,{cause:n})}}function findNull(n,o){let i=o;for(;0!==n[i];i++);if(i===n.length-1)throw new BSONOffsetError("Null terminator not found",o);return i}const Fe=Object.create(null);Fe.parseToElements=function parseToElements(n,o=0){if(o??=0,n.length<5)throw new BSONOffsetError(`Input must be at least 5 bytes, got ${n.length} bytes`,o);const i=getSize(n,o);if(i>n.length-o)throw new BSONOffsetError(`Parsed documentSize (${i} bytes) does not match input length (${n.length} bytes)`,o);if(0!==n[o+i-1])throw new BSONOffsetError("BSON documents must end in 0x00",o+i);const s=[];let c=o+4;for(;c<=i+o;){const h=n[c];if(c+=1,0===h){if(c-o!==i)throw new BSONOffsetError("Invalid 0x00 type byte",c);break}const f=c,E=findNull(n,c)-f;let S;if(c+=E+1,h===me||h===Pe||h===Oe||h===xe)S=8;else if(h===Re)S=4;else if(h===Ae)S=12;else if(h===Me)S=16;else if(h===be)S=1;else if(h===ve||h===Se||h===Be||h===Ie)S=0;else if(h===Te)S=findNull(n,findNull(n,c)+1)+1-c;else if(h===ye||h===Ee||h===we)S=getSize(n,c);else{if(h!==ge&&h!==Ce&&h!==_e&&h!==De&&h!==Ne)throw new BSONOffsetError(`Invalid 0x${h.toString(16).padStart(2,"0")} type byte`,c);S=getSize(n,c)+4,h===Ce&&(S+=1),h===_e&&(S+=12)}if(S>i)throw new BSONOffsetError("value reports length larger than document",c);s.push([h,f,E,c,S]),c+=S}return s},Fe.ByteUtils=I,Fe.NumberUtils=k,Object.freeze(Fe);const Le=17825792;let ke=I.allocate(Le);function setInternalBufferSize(n){ke.length<n&&(ke=I.allocate(n))}function serialize(n,o={}){const i="boolean"==typeof o.checkKeys&&o.checkKeys,s="boolean"==typeof o.serializeFunctions&&o.serializeFunctions,c="boolean"!=typeof o.ignoreUndefined||o.ignoreUndefined,h="number"==typeof o.minInternalBufferSize?o.minInternalBufferSize:Le;ke.length<h&&(ke=I.allocate(h));const f=serializeInto(ke,n,i,0,0,s,c,null),E=I.allocateUnsafe(f);return E.set(ke.subarray(0,f),0),E}function serializeWithBufferAndIndex(n,o,i={}){const s="boolean"==typeof i.checkKeys&&i.checkKeys,c="boolean"==typeof i.serializeFunctions&&i.serializeFunctions,h="boolean"!=typeof i.ignoreUndefined||i.ignoreUndefined,f="number"==typeof i.index?i.index:0,E=serializeInto(ke,n,s,0,0,c,h,null);return o.set(ke.subarray(0,E),f),f+E-1}function deserialize(n,o={}){return internalDeserialize(I.toLocalBufferType(n),o)}function calculateObjectSize(n,o={}){return internalCalculateObjectSize(n,"boolean"==typeof(o=o||{}).serializeFunctions&&o.serializeFunctions,"boolean"!=typeof o.ignoreUndefined||o.ignoreUndefined)}function deserializeStream(n,o,i,s,c,h){const f=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},h),E=I.toLocalBufferType(n);let S=o;for(let n=0;n<i;n++){const o=k.getInt32LE(E,S);f.index=S,s[c+n]=internalDeserialize(E,f),S+=o}return S}var je=Object.freeze({__proto__:null,BSONError,BSONOffsetError,BSONRegExp,BSONRuntimeError,BSONSymbol,BSONType:T,BSONValue,BSONVersionError,Binary,Code,DBRef,Decimal128,Double,EJSON:fe,Int32,Long,MaxKey,MinKey,ObjectId,Timestamp,UUID,calculateObjectSize,deserialize,deserializeStream,onDemand:Fe,serialize,serializeWithBufferAndIndex,setInternalBufferSize});o.BSON=je,o.BSONError=BSONError,o.BSONOffsetError=BSONOffsetError,o.BSONRegExp=BSONRegExp,o.BSONRuntimeError=BSONRuntimeError,o.BSONSymbol=BSONSymbol,o.BSONType=T,o.BSONValue=BSONValue,o.BSONVersionError=BSONVersionError,o.Binary=Binary,o.Code=Code,o.DBRef=DBRef,o.Decimal128=Decimal128,o.Double=Double,o.EJSON=fe,o.Int32=Int32,o.Long=Long,o.MaxKey=MaxKey,o.MinKey=MinKey,o.ObjectId=ObjectId,o.Timestamp=Timestamp,o.UUID=UUID,o.calculateObjectSize=calculateObjectSize,o.deserialize=deserialize,o.deserializeStream=deserializeStream,o.onDemand=Fe,o.serialize=serialize,o.serializeWithBufferAndIndex=serializeWithBufferAndIndex,o.setInternalBufferSize=setInternalBufferSize},55172:(n,o,i)=>{"use strict";i.r(o),i.d(o,{TextDocument:()=>s});class FullTextDocument{constructor(n,o,i,s){this._uri=n,this._languageId=o,this._version=i,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(n){if(n){const o=this.offsetAt(n.start),i=this.offsetAt(n.end);return this._content.substring(o,i)}return this._content}update(n,o){for(const o of n)if(FullTextDocument.isIncremental(o)){const n=getWellformedRange(o.range),i=this.offsetAt(n.start),s=this.offsetAt(n.end);this._content=this._content.substring(0,i)+o.text+this._content.substring(s,this._content.length);const c=Math.max(n.start.line,0),h=Math.max(n.end.line,0);let f=this._lineOffsets;const E=computeLineOffsets(o.text,!1,i);if(h-c===E.length)for(let n=0,o=E.length;n<o;n++)f[n+c+1]=E[n];else E.length<1e4?f.splice(c+1,h-c,...E):this._lineOffsets=f=f.slice(0,c+1).concat(E,f.slice(h+1));const S=o.text.length-(s-i);if(0!==S)for(let n=c+1+E.length,o=f.length;n<o;n++)f[n]=f[n]+S}else{if(!FullTextDocument.isFull(o))throw new Error("Unknown change event received");this._content=o.text,this._lineOffsets=void 0}this._version=o}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=computeLineOffsets(this._content,!0)),this._lineOffsets}positionAt(n){n=Math.max(Math.min(n,this._content.length),0);const o=this.getLineOffsets();let i=0,s=o.length;if(0===s)return{line:0,character:n};for(;i<s;){const c=Math.floor((i+s)/2);o[c]>n?s=c:i=c+1}const c=i-1;return{line:c,character:(n=this.ensureBeforeEOL(n,o[c]))-o[c]}}offsetAt(n){const o=this.getLineOffsets();if(n.line>=o.length)return this._content.length;if(n.line<0)return 0;const i=o[n.line];if(n.character<=0)return i;const s=n.line+1<o.length?o[n.line+1]:this._content.length,c=Math.min(i+n.character,s);return this.ensureBeforeEOL(c,i)}ensureBeforeEOL(n,o){for(;n>o&&isEOL(this._content.charCodeAt(n-1));)n--;return n}get lineCount(){return this.getLineOffsets().length}static isIncremental(n){const o=n;return null!=o&&"string"==typeof o.text&&void 0!==o.range&&(void 0===o.rangeLength||"number"==typeof o.rangeLength)}static isFull(n){const o=n;return null!=o&&"string"==typeof o.text&&void 0===o.range&&void 0===o.rangeLength}}var s;function mergeSort(n,o){if(n.length<=1)return n;const i=n.length/2|0,s=n.slice(0,i),c=n.slice(i);mergeSort(s,o),mergeSort(c,o);let h=0,f=0,E=0;for(;h<s.length&&f<c.length;){const i=o(s[h],c[f]);n[E++]=i<=0?s[h++]:c[f++]}for(;h<s.length;)n[E++]=s[h++];for(;f<c.length;)n[E++]=c[f++];return n}function computeLineOffsets(n,o,i=0){const s=o?[i]:[];for(let o=0;o<n.length;o++){const c=n.charCodeAt(o);isEOL(c)&&(13===c&&o+1<n.length&&10===n.charCodeAt(o+1)&&o++,s.push(i+o+1))}return s}function isEOL(n){return 13===n||10===n}function getWellformedRange(n){const o=n.start,i=n.end;return o.line>i.line||o.line===i.line&&o.character>i.character?{start:i,end:o}:n}function getWellformedEdit(n){const o=getWellformedRange(n.range);return o!==n.range?{newText:n.newText,range:o}:n}!function(n){n.create=function create(n,o,i,s){return new FullTextDocument(n,o,i,s)},n.update=function update(n,o,i){if(n instanceof FullTextDocument)return n.update(o,i),n;throw new Error("TextDocument.update: document must be created by TextDocument.create")},n.applyEdits=function applyEdits(n,o){const i=n.getText(),s=mergeSort(o.map(getWellformedEdit),(n,o)=>{const i=n.range.start.line-o.range.start.line;return 0===i?n.range.start.character-o.range.start.character:i});let c=0;const h=[];for(const o of s){const s=n.offsetAt(o.range.start);if(s<c)throw new Error("Overlapping edit");s>c&&h.push(i.substring(c,s)),o.newText.length&&h.push(o.newText),c=n.offsetAt(o.range.end)}return h.push(i.substr(c)),h.join("")}}(s||(s={}))},46203:(n,o,i)=>{"use strict";var s,c,h,f,E,S,A,O,T,_,D,N,R,x,P,M,I,B,F,L,k,j,U,z,q,V,W,$,G,K,Y,X,J,Q,Z,ee,te,re,ne,oe,ie,se,ae,ue,ce,le,he,de,pe,fe,me,ge,ye,Ee,Ce,Se,Ae,be,Oe,ve,Te,_e,De,Ne,we,Re,xe,Pe,Me,Ie,Be,Fe,Le,ke,je,Ue,ze,qe;i.r(o),i.d(o,{AnnotatedTextEdit:()=>U,ChangeAnnotation:()=>k,ChangeAnnotationIdentifier:()=>j,CodeAction:()=>Ae,CodeActionContext:()=>Se,CodeActionKind:()=>Ee,CodeActionTriggerKind:()=>Ce,CodeDescription:()=>I,CodeLens:()=>be,Color:()=>T,ColorInformation:()=>_,ColorPresentation:()=>D,Command:()=>F,CompletionItem:()=>ie,CompletionItemKind:()=>Z,CompletionItemLabelDetails:()=>oe,CompletionItemTag:()=>te,CompletionList:()=>se,CreateFile:()=>q,DeleteFile:()=>W,Diagnostic:()=>B,DiagnosticRelatedInformation:()=>x,DiagnosticSeverity:()=>P,DiagnosticTag:()=>M,DocumentHighlight:()=>de,DocumentHighlightKind:()=>he,DocumentLink:()=>ve,DocumentSymbol:()=>ye,DocumentUri:()=>s,EOL:()=>Ve,FoldingRange:()=>R,FoldingRangeKind:()=>N,FormattingOptions:()=>Oe,Hover:()=>ue,InlayHint:()=>Be,InlayHintKind:()=>Me,InlayHintLabelPart:()=>Ie,InlineCompletionContext:()=>ze,InlineCompletionItem:()=>Le,InlineCompletionList:()=>ke,InlineCompletionTriggerKind:()=>je,InlineValueContext:()=>Pe,InlineValueEvaluatableExpression:()=>xe,InlineValueText:()=>we,InlineValueVariableLookup:()=>Re,InsertReplaceEdit:()=>re,InsertTextFormat:()=>ee,InsertTextMode:()=>ne,Location:()=>A,LocationLink:()=>O,MarkedString:()=>ae,MarkupContent:()=>Q,MarkupKind:()=>J,OptionalVersionedTextDocumentIdentifier:()=>Y,ParameterInformation:()=>ce,Position:()=>E,Range:()=>S,RenameFile:()=>V,SelectedCompletionInfo:()=>Ue,SelectionRange:()=>Te,SemanticTokenModifiers:()=>De,SemanticTokenTypes:()=>_e,SemanticTokens:()=>Ne,SignatureInformation:()=>le,StringValue:()=>Fe,SymbolInformation:()=>me,SymbolKind:()=>pe,SymbolTag:()=>fe,TextDocument:()=>We,TextDocumentEdit:()=>z,TextDocumentIdentifier:()=>G,TextDocumentItem:()=>X,TextEdit:()=>L,URI:()=>c,VersionedTextDocumentIdentifier:()=>K,WorkspaceChange:()=>WorkspaceChange,WorkspaceEdit:()=>$,WorkspaceFolder:()=>qe,WorkspaceSymbol:()=>ge,integer:()=>h,uinteger:()=>f}),function(n){n.is=function is(n){return"string"==typeof n}}(s||(s={})),function(n){n.is=function is(n){return"string"==typeof n}}(c||(c={})),function(n){n.MIN_VALUE=-2147483648,n.MAX_VALUE=2147483647,n.is=function is(o){return"number"==typeof o&&n.MIN_VALUE<=o&&o<=n.MAX_VALUE}}(h||(h={})),function(n){n.MIN_VALUE=0,n.MAX_VALUE=2147483647,n.is=function is(o){return"number"==typeof o&&n.MIN_VALUE<=o&&o<=n.MAX_VALUE}}(f||(f={})),function(n){n.create=function create(n,o){return n===Number.MAX_VALUE&&(n=f.MAX_VALUE),o===Number.MAX_VALUE&&(o=f.MAX_VALUE),{line:n,character:o}},n.is=function is(n){let o=n;return He.objectLiteral(o)&&He.uinteger(o.line)&&He.uinteger(o.character)}}(E||(E={})),function(n){n.create=function create(n,o,i,s){if(He.uinteger(n)&&He.uinteger(o)&&He.uinteger(i)&&He.uinteger(s))return{start:E.create(n,o),end:E.create(i,s)};if(E.is(n)&&E.is(o))return{start:n,end:o};throw new Error(`Range#create called with invalid arguments[${n}, ${o}, ${i}, ${s}]`)},n.is=function is(n){let o=n;return He.objectLiteral(o)&&E.is(o.start)&&E.is(o.end)}}(S||(S={})),function(n){n.create=function create(n,o){return{uri:n,range:o}},n.is=function is(n){let o=n;return He.objectLiteral(o)&&S.is(o.range)&&(He.string(o.uri)||He.undefined(o.uri))}}(A||(A={})),function(n){n.create=function create(n,o,i,s){return{targetUri:n,targetRange:o,targetSelectionRange:i,originSelectionRange:s}},n.is=function is(n){let o=n;return He.objectLiteral(o)&&S.is(o.targetRange)&&He.string(o.targetUri)&&S.is(o.targetSelectionRange)&&(S.is(o.originSelectionRange)||He.undefined(o.originSelectionRange))}}(O||(O={})),function(n){n.create=function create(n,o,i,s){return{red:n,green:o,blue:i,alpha:s}},n.is=function is(n){const o=n;return He.objectLiteral(o)&&He.numberRange(o.red,0,1)&&He.numberRange(o.green,0,1)&&He.numberRange(o.blue,0,1)&&He.numberRange(o.alpha,0,1)}}(T||(T={})),function(n){n.create=function create(n,o){return{range:n,color:o}},n.is=function is(n){const o=n;return He.objectLiteral(o)&&S.is(o.range)&&T.is(o.color)}}(_||(_={})),function(n){n.create=function create(n,o,i){return{label:n,textEdit:o,additionalTextEdits:i}},n.is=function is(n){const o=n;return He.objectLiteral(o)&&He.string(o.label)&&(He.undefined(o.textEdit)||L.is(o))&&(He.undefined(o.additionalTextEdits)||He.typedArray(o.additionalTextEdits,L.is))}}(D||(D={})),function(n){n.Comment="comment",n.Imports="imports",n.Region="region"}(N||(N={})),function(n){n.create=function create(n,o,i,s,c,h){const f={startLine:n,endLine:o};return He.defined(i)&&(f.startCharacter=i),He.defined(s)&&(f.endCharacter=s),He.defined(c)&&(f.kind=c),He.defined(h)&&(f.collapsedText=h),f},n.is=function is(n){const o=n;return He.objectLiteral(o)&&He.uinteger(o.startLine)&&He.uinteger(o.startLine)&&(He.undefined(o.startCharacter)||He.uinteger(o.startCharacter))&&(He.undefined(o.endCharacter)||He.uinteger(o.endCharacter))&&(He.undefined(o.kind)||He.string(o.kind))}}(R||(R={})),function(n){n.create=function create(n,o){return{location:n,message:o}},n.is=function is(n){let o=n;return He.defined(o)&&A.is(o.location)&&He.string(o.message)}}(x||(x={})),function(n){n.Error=1,n.Warning=2,n.Information=3,n.Hint=4}(P||(P={})),function(n){n.Unnecessary=1,n.Deprecated=2}(M||(M={})),function(n){n.is=function is(n){const o=n;return He.objectLiteral(o)&&He.string(o.href)}}(I||(I={})),function(n){n.create=function create(n,o,i,s,c,h){let f={range:n,message:o};return He.defined(i)&&(f.severity=i),He.defined(s)&&(f.code=s),He.defined(c)&&(f.source=c),He.defined(h)&&(f.relatedInformation=h),f},n.is=function is(n){var o;let i=n;return He.defined(i)&&S.is(i.range)&&He.string(i.message)&&(He.number(i.severity)||He.undefined(i.severity))&&(He.integer(i.code)||He.string(i.code)||He.undefined(i.code))&&(He.undefined(i.codeDescription)||He.string(null===(o=i.codeDescription)||void 0===o?void 0:o.href))&&(He.string(i.source)||He.undefined(i.source))&&(He.undefined(i.relatedInformation)||He.typedArray(i.relatedInformation,x.is))}}(B||(B={})),function(n){n.create=function create(n,o,...i){let s={title:n,command:o};return He.defined(i)&&i.length>0&&(s.arguments=i),s},n.is=function is(n){let o=n;return He.defined(o)&&He.string(o.title)&&He.string(o.command)}}(F||(F={})),function(n){n.replace=function replace(n,o){return{range:n,newText:o}},n.insert=function insert(n,o){return{range:{start:n,end:n},newText:o}},n.del=function del(n){return{range:n,newText:""}},n.is=function is(n){const o=n;return He.objectLiteral(o)&&He.string(o.newText)&&S.is(o.range)}}(L||(L={})),function(n){n.create=function create(n,o,i){const s={label:n};return void 0!==o&&(s.needsConfirmation=o),void 0!==i&&(s.description=i),s},n.is=function is(n){const o=n;return He.objectLiteral(o)&&He.string(o.label)&&(He.boolean(o.needsConfirmation)||void 0===o.needsConfirmation)&&(He.string(o.description)||void 0===o.description)}}(k||(k={})),function(n){n.is=function is(n){const o=n;return He.string(o)}}(j||(j={})),function(n){n.replace=function replace(n,o,i){return{range:n,newText:o,annotationId:i}},n.insert=function insert(n,o,i){return{range:{start:n,end:n},newText:o,annotationId:i}},n.del=function del(n,o){return{range:n,newText:"",annotationId:o}},n.is=function is(n){const o=n;return L.is(o)&&(k.is(o.annotationId)||j.is(o.annotationId))}}(U||(U={})),function(n){n.create=function create(n,o){return{textDocument:n,edits:o}},n.is=function is(n){let o=n;return He.defined(o)&&Y.is(o.textDocument)&&Array.isArray(o.edits)}}(z||(z={})),function(n){n.create=function create(n,o,i){let s={kind:"create",uri:n};return void 0===o||void 0===o.overwrite&&void 0===o.ignoreIfExists||(s.options=o),void 0!==i&&(s.annotationId=i),s},n.is=function is(n){let o=n;return o&&"create"===o.kind&&He.string(o.uri)&&(void 0===o.options||(void 0===o.options.overwrite||He.boolean(o.options.overwrite))&&(void 0===o.options.ignoreIfExists||He.boolean(o.options.ignoreIfExists)))&&(void 0===o.annotationId||j.is(o.annotationId))}}(q||(q={})),function(n){n.create=function create(n,o,i,s){let c={kind:"rename",oldUri:n,newUri:o};return void 0===i||void 0===i.overwrite&&void 0===i.ignoreIfExists||(c.options=i),void 0!==s&&(c.annotationId=s),c},n.is=function is(n){let o=n;return o&&"rename"===o.kind&&He.string(o.oldUri)&&He.string(o.newUri)&&(void 0===o.options||(void 0===o.options.overwrite||He.boolean(o.options.overwrite))&&(void 0===o.options.ignoreIfExists||He.boolean(o.options.ignoreIfExists)))&&(void 0===o.annotationId||j.is(o.annotationId))}}(V||(V={})),function(n){n.create=function create(n,o,i){let s={kind:"delete",uri:n};return void 0===o||void 0===o.recursive&&void 0===o.ignoreIfNotExists||(s.options=o),void 0!==i&&(s.annotationId=i),s},n.is=function is(n){let o=n;return o&&"delete"===o.kind&&He.string(o.uri)&&(void 0===o.options||(void 0===o.options.recursive||He.boolean(o.options.recursive))&&(void 0===o.options.ignoreIfNotExists||He.boolean(o.options.ignoreIfNotExists)))&&(void 0===o.annotationId||j.is(o.annotationId))}}(W||(W={})),function(n){n.is=function is(n){let o=n;return o&&(void 0!==o.changes||void 0!==o.documentChanges)&&(void 0===o.documentChanges||o.documentChanges.every(n=>He.string(n.kind)?q.is(n)||V.is(n)||W.is(n):z.is(n)))}}($||($={}));class TextEditChangeImpl{constructor(n,o){this.edits=n,this.changeAnnotations=o}insert(n,o,i){let s,c;if(void 0===i?s=L.insert(n,o):j.is(i)?(c=i,s=U.insert(n,o,i)):(this.assertChangeAnnotations(this.changeAnnotations),c=this.changeAnnotations.manage(i),s=U.insert(n,o,c)),this.edits.push(s),void 0!==c)return c}replace(n,o,i){let s,c;if(void 0===i?s=L.replace(n,o):j.is(i)?(c=i,s=U.replace(n,o,i)):(this.assertChangeAnnotations(this.changeAnnotations),c=this.changeAnnotations.manage(i),s=U.replace(n,o,c)),this.edits.push(s),void 0!==c)return c}delete(n,o){let i,s;if(void 0===o?i=L.del(n):j.is(o)?(s=o,i=U.del(n,o)):(this.assertChangeAnnotations(this.changeAnnotations),s=this.changeAnnotations.manage(o),i=U.del(n,s)),this.edits.push(i),void 0!==s)return s}add(n){this.edits.push(n)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(n){if(void 0===n)throw new Error("Text edit change is not configured to manage change annotations.")}}class ChangeAnnotations{constructor(n){this._annotations=void 0===n?Object.create(null):n,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(n,o){let i;if(j.is(n)?i=n:(i=this.nextId(),o=n),void 0!==this._annotations[i])throw new Error(`Id ${i} is already in use.`);if(void 0===o)throw new Error(`No annotation provided for id ${i}`);return this._annotations[i]=o,this._size++,i}nextId(){return this._counter++,this._counter.toString()}}class WorkspaceChange{constructor(n){this._textEditChanges=Object.create(null),void 0!==n?(this._workspaceEdit=n,n.documentChanges?(this._changeAnnotations=new ChangeAnnotations(n.changeAnnotations),n.changeAnnotations=this._changeAnnotations.all(),n.documentChanges.forEach(n=>{if(z.is(n)){const o=new TextEditChangeImpl(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=o}})):n.changes&&Object.keys(n.changes).forEach(o=>{const i=new TextEditChangeImpl(n.changes[o]);this._textEditChanges[o]=i})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(n){if(Y.is(n)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");const o={uri:n.uri,version:n.version};let i=this._textEditChanges[o.uri];if(!i){const n=[],s={textDocument:o,edits:n};this._workspaceEdit.documentChanges.push(s),i=new TextEditChangeImpl(n,this._changeAnnotations),this._textEditChanges[o.uri]=i}return i}{if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");let o=this._textEditChanges[n];if(!o){let i=[];this._workspaceEdit.changes[n]=i,o=new TextEditChangeImpl(i),this._textEditChanges[n]=o}return o}}initDocumentChanges(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new ChangeAnnotations,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))}createFile(n,o,i){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");let s,c,h;if(k.is(o)||j.is(o)?s=o:i=o,void 0===s?c=q.create(n,i):(h=j.is(s)?s:this._changeAnnotations.manage(s),c=q.create(n,i,h)),this._workspaceEdit.documentChanges.push(c),void 0!==h)return h}renameFile(n,o,i,s){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");let c,h,f;if(k.is(i)||j.is(i)?c=i:s=i,void 0===c?h=V.create(n,o,s):(f=j.is(c)?c:this._changeAnnotations.manage(c),h=V.create(n,o,s,f)),this._workspaceEdit.documentChanges.push(h),void 0!==f)return f}deleteFile(n,o,i){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");let s,c,h;if(k.is(o)||j.is(o)?s=o:i=o,void 0===s?c=W.create(n,i):(h=j.is(s)?s:this._changeAnnotations.manage(s),c=W.create(n,i,h)),this._workspaceEdit.documentChanges.push(c),void 0!==h)return h}}!function(n){n.create=function create(n){return{uri:n}},n.is=function is(n){let o=n;return He.defined(o)&&He.string(o.uri)}}(G||(G={})),function(n){n.create=function create(n,o){return{uri:n,version:o}},n.is=function is(n){let o=n;return He.defined(o)&&He.string(o.uri)&&He.integer(o.version)}}(K||(K={})),function(n){n.create=function create(n,o){return{uri:n,version:o}},n.is=function is(n){let o=n;return He.defined(o)&&He.string(o.uri)&&(null===o.version||He.integer(o.version))}}(Y||(Y={})),function(n){n.create=function create(n,o,i,s){return{uri:n,languageId:o,version:i,text:s}},n.is=function is(n){let o=n;return He.defined(o)&&He.string(o.uri)&&He.string(o.languageId)&&He.integer(o.version)&&He.string(o.text)}}(X||(X={})),function(n){n.PlainText="plaintext",n.Markdown="markdown",n.is=function is(o){const i=o;return i===n.PlainText||i===n.Markdown}}(J||(J={})),function(n){n.is=function is(n){const o=n;return He.objectLiteral(n)&&J.is(o.kind)&&He.string(o.value)}}(Q||(Q={})),function(n){n.Text=1,n.Method=2,n.Function=3,n.Constructor=4,n.Field=5,n.Variable=6,n.Class=7,n.Interface=8,n.Module=9,n.Property=10,n.Unit=11,n.Value=12,n.Enum=13,n.Keyword=14,n.Snippet=15,n.Color=16,n.File=17,n.Reference=18,n.Folder=19,n.EnumMember=20,n.Constant=21,n.Struct=22,n.Event=23,n.Operator=24,n.TypeParameter=25}(Z||(Z={})),function(n){n.PlainText=1,n.Snippet=2}(ee||(ee={})),function(n){n.Deprecated=1}(te||(te={})),function(n){n.create=function create(n,o,i){return{newText:n,insert:o,replace:i}},n.is=function is(n){const o=n;return o&&He.string(o.newText)&&S.is(o.insert)&&S.is(o.replace)}}(re||(re={})),function(n){n.asIs=1,n.adjustIndentation=2}(ne||(ne={})),function(n){n.is=function is(n){const o=n;return o&&(He.string(o.detail)||void 0===o.detail)&&(He.string(o.description)||void 0===o.description)}}(oe||(oe={})),function(n){n.create=function create(n){return{label:n}}}(ie||(ie={})),function(n){n.create=function create(n,o){return{items:n||[],isIncomplete:!!o}}}(se||(se={})),function(n){n.fromPlainText=function fromPlainText(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},n.is=function is(n){const o=n;return He.string(o)||He.objectLiteral(o)&&He.string(o.language)&&He.string(o.value)}}(ae||(ae={})),function(n){n.is=function is(n){let o=n;return!!o&&He.objectLiteral(o)&&(Q.is(o.contents)||ae.is(o.contents)||He.typedArray(o.contents,ae.is))&&(void 0===n.range||S.is(n.range))}}(ue||(ue={})),function(n){n.create=function create(n,o){return o?{label:n,documentation:o}:{label:n}}}(ce||(ce={})),function(n){n.create=function create(n,o,...i){let s={label:n};return He.defined(o)&&(s.documentation=o),He.defined(i)?s.parameters=i:s.parameters=[],s}}(le||(le={})),function(n){n.Text=1,n.Read=2,n.Write=3}(he||(he={})),function(n){n.create=function create(n,o){let i={range:n};return He.number(o)&&(i.kind=o),i}}(de||(de={})),function(n){n.File=1,n.Module=2,n.Namespace=3,n.Package=4,n.Class=5,n.Method=6,n.Property=7,n.Field=8,n.Constructor=9,n.Enum=10,n.Interface=11,n.Function=12,n.Variable=13,n.Constant=14,n.String=15,n.Number=16,n.Boolean=17,n.Array=18,n.Object=19,n.Key=20,n.Null=21,n.EnumMember=22,n.Struct=23,n.Event=24,n.Operator=25,n.TypeParameter=26}(pe||(pe={})),function(n){n.Deprecated=1}(fe||(fe={})),function(n){n.create=function create(n,o,i,s,c){let h={name:n,kind:o,location:{uri:s,range:i}};return c&&(h.containerName=c),h}}(me||(me={})),function(n){n.create=function create(n,o,i,s){return void 0!==s?{name:n,kind:o,location:{uri:i,range:s}}:{name:n,kind:o,location:{uri:i}}}}(ge||(ge={})),function(n){n.create=function create(n,o,i,s,c,h){let f={name:n,detail:o,kind:i,range:s,selectionRange:c};return void 0!==h&&(f.children=h),f},n.is=function is(n){let o=n;return o&&He.string(o.name)&&He.number(o.kind)&&S.is(o.range)&&S.is(o.selectionRange)&&(void 0===o.detail||He.string(o.detail))&&(void 0===o.deprecated||He.boolean(o.deprecated))&&(void 0===o.children||Array.isArray(o.children))&&(void 0===o.tags||Array.isArray(o.tags))}}(ye||(ye={})),function(n){n.Empty="",n.QuickFix="quickfix",n.Refactor="refactor",n.RefactorExtract="refactor.extract",n.RefactorInline="refactor.inline",n.RefactorRewrite="refactor.rewrite",n.Source="source",n.SourceOrganizeImports="source.organizeImports",n.SourceFixAll="source.fixAll"}(Ee||(Ee={})),function(n){n.Invoked=1,n.Automatic=2}(Ce||(Ce={})),function(n){n.create=function create(n,o,i){let s={diagnostics:n};return null!=o&&(s.only=o),null!=i&&(s.triggerKind=i),s},n.is=function is(n){let o=n;return He.defined(o)&&He.typedArray(o.diagnostics,B.is)&&(void 0===o.only||He.typedArray(o.only,He.string))&&(void 0===o.triggerKind||o.triggerKind===Ce.Invoked||o.triggerKind===Ce.Automatic)}}(Se||(Se={})),function(n){n.create=function create(n,o,i){let s={title:n},c=!0;return"string"==typeof o?(c=!1,s.kind=o):F.is(o)?s.command=o:s.edit=o,c&&void 0!==i&&(s.kind=i),s},n.is=function is(n){let o=n;return o&&He.string(o.title)&&(void 0===o.diagnostics||He.typedArray(o.diagnostics,B.is))&&(void 0===o.kind||He.string(o.kind))&&(void 0!==o.edit||void 0!==o.command)&&(void 0===o.command||F.is(o.command))&&(void 0===o.isPreferred||He.boolean(o.isPreferred))&&(void 0===o.edit||$.is(o.edit))}}(Ae||(Ae={})),function(n){n.create=function create(n,o){let i={range:n};return He.defined(o)&&(i.data=o),i},n.is=function is(n){let o=n;return He.defined(o)&&S.is(o.range)&&(He.undefined(o.command)||F.is(o.command))}}(be||(be={})),function(n){n.create=function create(n,o){return{tabSize:n,insertSpaces:o}},n.is=function is(n){let o=n;return He.defined(o)&&He.uinteger(o.tabSize)&&He.boolean(o.insertSpaces)}}(Oe||(Oe={})),function(n){n.create=function create(n,o,i){return{range:n,target:o,data:i}},n.is=function is(n){let o=n;return He.defined(o)&&S.is(o.range)&&(He.undefined(o.target)||He.string(o.target))}}(ve||(ve={})),function(n){n.create=function create(n,o){return{range:n,parent:o}},n.is=function is(o){let i=o;return He.objectLiteral(i)&&S.is(i.range)&&(void 0===i.parent||n.is(i.parent))}}(Te||(Te={})),function(n){n.namespace="namespace",n.type="type",n.class="class",n.enum="enum",n.interface="interface",n.struct="struct",n.typeParameter="typeParameter",n.parameter="parameter",n.variable="variable",n.property="property",n.enumMember="enumMember",n.event="event",n.function="function",n.method="method",n.macro="macro",n.keyword="keyword",n.modifier="modifier",n.comment="comment",n.string="string",n.number="number",n.regexp="regexp",n.operator="operator",n.decorator="decorator"}(_e||(_e={})),function(n){n.declaration="declaration",n.definition="definition",n.readonly="readonly",n.static="static",n.deprecated="deprecated",n.abstract="abstract",n.async="async",n.modification="modification",n.documentation="documentation",n.defaultLibrary="defaultLibrary"}(De||(De={})),function(n){n.is=function is(n){const o=n;return He.objectLiteral(o)&&(void 0===o.resultId||"string"==typeof o.resultId)&&Array.isArray(o.data)&&(0===o.data.length||"number"==typeof o.data[0])}}(Ne||(Ne={})),function(n){n.create=function create(n,o){return{range:n,text:o}},n.is=function is(n){const o=n;return null!=o&&S.is(o.range)&&He.string(o.text)}}(we||(we={})),function(n){n.create=function create(n,o,i){return{range:n,variableName:o,caseSensitiveLookup:i}},n.is=function is(n){const o=n;return null!=o&&S.is(o.range)&&He.boolean(o.caseSensitiveLookup)&&(He.string(o.variableName)||void 0===o.variableName)}}(Re||(Re={})),function(n){n.create=function create(n,o){return{range:n,expression:o}},n.is=function is(n){const o=n;return null!=o&&S.is(o.range)&&(He.string(o.expression)||void 0===o.expression)}}(xe||(xe={})),function(n){n.create=function create(n,o){return{frameId:n,stoppedLocation:o}},n.is=function is(n){const o=n;return He.defined(o)&&S.is(n.stoppedLocation)}}(Pe||(Pe={})),function(n){n.Type=1,n.Parameter=2,n.is=function is(n){return 1===n||2===n}}(Me||(Me={})),function(n){n.create=function create(n){return{value:n}},n.is=function is(n){const o=n;return He.objectLiteral(o)&&(void 0===o.tooltip||He.string(o.tooltip)||Q.is(o.tooltip))&&(void 0===o.location||A.is(o.location))&&(void 0===o.command||F.is(o.command))}}(Ie||(Ie={})),function(n){n.create=function create(n,o,i){const s={position:n,label:o};return void 0!==i&&(s.kind=i),s},n.is=function is(n){const o=n;return He.objectLiteral(o)&&E.is(o.position)&&(He.string(o.label)||He.typedArray(o.label,Ie.is))&&(void 0===o.kind||Me.is(o.kind))&&void 0===o.textEdits||He.typedArray(o.textEdits,L.is)&&(void 0===o.tooltip||He.string(o.tooltip)||Q.is(o.tooltip))&&(void 0===o.paddingLeft||He.boolean(o.paddingLeft))&&(void 0===o.paddingRight||He.boolean(o.paddingRight))}}(Be||(Be={})),function(n){n.createSnippet=function createSnippet(n){return{kind:"snippet",value:n}}}(Fe||(Fe={})),function(n){n.create=function create(n,o,i,s){return{insertText:n,filterText:o,range:i,command:s}}}(Le||(Le={})),function(n){n.create=function create(n){return{items:n}}}(ke||(ke={})),function(n){n.Invoked=0,n.Automatic=1}(je||(je={})),function(n){n.create=function create(n,o){return{range:n,text:o}}}(Ue||(Ue={})),function(n){n.create=function create(n,o){return{triggerKind:n,selectedCompletionInfo:o}}}(ze||(ze={})),function(n){n.is=function is(n){const o=n;return He.objectLiteral(o)&&c.is(o.uri)&&He.string(o.name)}}(qe||(qe={}));const Ve=["\n","\r\n","\r"];var We,He;!function(n){function mergeSort(n,o){if(n.length<=1)return n;const i=n.length/2|0,s=n.slice(0,i),c=n.slice(i);mergeSort(s,o),mergeSort(c,o);let h=0,f=0,E=0;for(;h<s.length&&f<c.length;){let i=o(s[h],c[f]);n[E++]=i<=0?s[h++]:c[f++]}for(;h<s.length;)n[E++]=s[h++];for(;f<c.length;)n[E++]=c[f++];return n}n.create=function create(n,o,i,s){return new FullTextDocument(n,o,i,s)},n.is=function is(n){let o=n;return!!(He.defined(o)&&He.string(o.uri)&&(He.undefined(o.languageId)||He.string(o.languageId))&&He.uinteger(o.lineCount)&&He.func(o.getText)&&He.func(o.positionAt)&&He.func(o.offsetAt))},n.applyEdits=function applyEdits(n,o){let i=n.getText(),s=mergeSort(o,(n,o)=>{let i=n.range.start.line-o.range.start.line;return 0===i?n.range.start.character-o.range.start.character:i}),c=i.length;for(let o=s.length-1;o>=0;o--){let h=s[o],f=n.offsetAt(h.range.start),E=n.offsetAt(h.range.end);if(!(E<=c))throw new Error("Overlapping edit");i=i.substring(0,f)+h.newText+i.substring(E,i.length),c=f}return i}}(We||(We={}));class FullTextDocument{constructor(n,o,i,s){this._uri=n,this._languageId=o,this._version=i,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(n){if(n){let o=this.offsetAt(n.start),i=this.offsetAt(n.end);return this._content.substring(o,i)}return this._content}update(n,o){this._content=n.text,this._version=o,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let n=[],o=this._content,i=!0;for(let s=0;s<o.length;s++){i&&(n.push(s),i=!1);let c=o.charAt(s);i="\r"===c||"\n"===c,"\r"===c&&s+1<o.length&&"\n"===o.charAt(s+1)&&s++}i&&o.length>0&&n.push(o.length),this._lineOffsets=n}return this._lineOffsets}positionAt(n){n=Math.max(Math.min(n,this._content.length),0);let o=this.getLineOffsets(),i=0,s=o.length;if(0===s)return E.create(0,n);for(;i<s;){let c=Math.floor((i+s)/2);o[c]>n?s=c:i=c+1}let c=i-1;return E.create(c,n-o[c])}offsetAt(n){let o=this.getLineOffsets();if(n.line>=o.length)return this._content.length;if(n.line<0)return 0;let i=o[n.line],s=n.line+1<o.length?o[n.line+1]:this._content.length;return Math.max(Math.min(i+n.character,s),i)}get lineCount(){return this.getLineOffsets().length}}!function(n){const o=Object.prototype.toString;n.defined=function defined(n){return void 0!==n},n.undefined=function undefined(n){return void 0===n},n.boolean=function boolean(n){return!0===n||!1===n},n.string=function string(n){return"[object String]"===o.call(n)},n.number=function number(n){return"[object Number]"===o.call(n)},n.numberRange=function numberRange(n,i,s){return"[object Number]"===o.call(n)&&i<=n&&n<=s},n.integer=function integer(n){return"[object Number]"===o.call(n)&&-2147483648<=n&&n<=2147483647},n.uinteger=function uinteger(n){return"[object Number]"===o.call(n)&&0<=n&&n<=2147483647},n.func=function func(n){return"[object Function]"===o.call(n)},n.objectLiteral=function objectLiteral(n){return null!==n&&"object"==typeof n},n.typedArray=function typedArray(n,o){return Array.isArray(n)&&n.every(o)}}(He||(He={}))},78790:n=>{"use strict";n.exports={rE:"6.19.0"}},92472:n=>{"use strict";n.exports=JSON.parse('[[[0,44],2],[[45,46],2],[47,2],[[48,57],2],[[58,64],2],[65,1,"a"],[66,1,"b"],[67,1,"c"],[68,1,"d"],[69,1,"e"],[70,1,"f"],[71,1,"g"],[72,1,"h"],[73,1,"i"],[74,1,"j"],[75,1,"k"],[76,1,"l"],[77,1,"m"],[78,1,"n"],[79,1,"o"],[80,1,"p"],[81,1,"q"],[82,1,"r"],[83,1,"s"],[84,1,"t"],[85,1,"u"],[86,1,"v"],[87,1,"w"],[88,1,"x"],[89,1,"y"],[90,1,"z"],[[91,96],2],[[97,122],2],[[123,127],2],[[128,159],3],[160,1," "],[[161,167],2],[168,1," "],[169,2],[170,1,"a"],[[171,172],2],[173,7],[174,2],[175,1," "],[[176,177],2],[178,1,"2"],[179,1,"3"],[180,1," "],[181,1,""],[182,2],[183,2],[184,1," "],[185,1,"1"],[186,1,"o"],[187,2],[188,1,"14"],[189,1,"12"],[190,1,"34"],[191,2],[192,1,""],[193,1,""],[194,1,""],[195,1,""],[196,1,""],[197,1,""],[198,1,""],[199,1,""],[200,1,""],[201,1,""],[202,1,""],[203,1,""],[204,1,""],[205,1,""],[206,1,""],[207,1,""],[208,1,""],[209,1,""],[210,1,""],[211,1,""],[212,1,""],[213,1,""],[214,1,""],[215,2],[216,1,""],[217,1,""],[218,1,""],[219,1,""],[220,1,""],[221,1,""],[222,1,""],[223,6,"ss"],[[224,246],2],[247,2],[[248,255],2],[256,1,""],[257,2],[258,1,""],[259,2],[260,1,""],[261,2],[262,1,""],[263,2],[264,1,""],[265,2],[266,1,""],[267,2],[268,1,""],[269,2],[270,1,""],[271,2],[272,1,""],[273,2],[274,1,""],[275,2],[276,1,""],[277,2],[278,1,""],[279,2],[280,1,""],[281,2],[282,1,""],[283,2],[284,1,""],[285,2],[286,1,""],[287,2],[288,1,""],[289,2],[290,1,""],[291,2],[292,1,""],[293,2],[294,1,""],[295,2],[296,1,""],[297,2],[298,1,""],[299,2],[300,1,""],[301,2],[302,1,""],[303,2],[304,1,"i"],[305,2],[[306,307],1,"ij"],[308,1,""],[309,2],[310,1,""],[[311,312],2],[313,1,""],[314,2],[315,1,""],[316,2],[317,1,""],[318,2],[[319,320],1,"l"],[321,1,""],[322,2],[323,1,""],[324,2],[325,1,""],[326,2],[327,1,""],[328,2],[329,1,"n"],[330,1,""],[331,2],[332,1,""],[333,2],[334,1,""],[335,2],[336,1,""],[337,2],[338,1,""],[339,2],[340,1,""],[341,2],[342,1,""],[343,2],[344,1,""],[345,2],[346,1,""],[347,2],[348,1,""],[349,2],[350,1,""],[351,2],[352,1,""],[353,2],[354,1,""],[355,2],[356,1,""],[357,2],[358,1,""],[359,2],[360,1,""],[361,2],[362,1,""],[363,2],[364,1,""],[365,2],[366,1,""],[367,2],[368,1,""],[369,2],[370,1,""],[371,2],[372,1,""],[373,2],[374,1,""],[375,2],[376,1,""],[377,1,""],[378,2],[379,1,""],[380,2],[381,1,""],[382,2],[383,1,"s"],[384,2],[385,1,""],[386,1,""],[387,2],[388,1,""],[389,2],[390,1,""],[391,1,""],[392,2],[393,1,""],[394,1,""],[395,1,""],[[396,397],2],[398,1,""],[399,1,""],[400,1,""],[401,1,""],[402,2],[403,1,""],[404,1,""],[405,2],[406,1,""],[407,1,""],[408,1,""],[[409,411],2],[412,1,""],[413,1,""],[414,2],[415,1,""],[416,1,""],[417,2],[418,1,""],[419,2],[420,1,""],[421,2],[422,1,""],[423,1,""],[424,2],[425,1,""],[[426,427],2],[428,1,""],[429,2],[430,1,""],[431,1,""],[432,2],[433,1,""],[434,1,""],[435,1,""],[436,2],[437,1,""],[438,2],[439,1,""],[440,1,""],[[441,443],2],[444,1,""],[[445,451],2],[[452,454],1,"d"],[[455,457],1,"lj"],[[458,460],1,"nj"],[461,1,""],[462,2],[463,1,""],[464,2],[465,1,""],[466,2],[467,1,""],[468,2],[469,1,""],[470,2],[471,1,""],[472,2],[473,1,""],[474,2],[475,1,""],[[476,477],2],[478,1,""],[479,2],[480,1,""],[481,2],[482,1,""],[483,2],[484,1,""],[485,2],[486,1,""],[487,2],[488,1,""],[489,2],[490,1,""],[491,2],[492,1,""],[493,2],[494,1,""],[[495,496],2],[[497,499],1,"dz"],[500,1,""],[501,2],[502,1,""],[503,1,""],[504,1,""],[505,2],[506,1,""],[507,2],[508,1,""],[509,2],[510,1,""],[511,2],[512,1,""],[513,2],[514,1,""],[515,2],[516,1,""],[517,2],[518,1,""],[519,2],[520,1,""],[521,2],[522,1,""],[523,2],[524,1,""],[525,2],[526,1,""],[527,2],[528,1,""],[529,2],[530,1,""],[531,2],[532,1,""],[533,2],[534,1,""],[535,2],[536,1,""],[537,2],[538,1,""],[539,2],[540,1,""],[541,2],[542,1,""],[543,2],[544,1,""],[545,2],[546,1,""],[547,2],[548,1,""],[549,2],[550,1,""],[551,2],[552,1,""],[553,2],[554,1,""],[555,2],[556,1,""],[557,2],[558,1,""],[559,2],[560,1,""],[561,2],[562,1,""],[563,2],[[564,566],2],[[567,569],2],[570,1,""],[571,1,""],[572,2],[573,1,""],[574,1,""],[[575,576],2],[577,1,""],[578,2],[579,1,""],[580,1,""],[581,1,""],[582,1,""],[583,2],[584,1,""],[585,2],[586,1,""],[587,2],[588,1,""],[589,2],[590,1,""],[591,2],[[592,680],2],[[681,685],2],[[686,687],2],[688,1,"h"],[689,1,""],[690,1,"j"],[691,1,"r"],[692,1,""],[693,1,""],[694,1,""],[695,1,"w"],[696,1,"y"],[[697,705],2],[[706,709],2],[[710,721],2],[[722,727],2],[728,1," "],[729,1," "],[730,1," "],[731,1," "],[732,1," "],[733,1," "],[734,2],[735,2],[736,1,""],[737,1,"l"],[738,1,"s"],[739,1,"x"],[740,1,""],[[741,745],2],[[746,747],2],[748,2],[749,2],[750,2],[[751,767],2],[[768,831],2],[832,1,""],[833,1,""],[834,2],[835,1,""],[836,1,""],[837,1,""],[[838,846],2],[847,7],[[848,855],2],[[856,860],2],[[861,863],2],[[864,865],2],[866,2],[[867,879],2],[880,1,""],[881,2],[882,1,""],[883,2],[884,1,""],[885,2],[886,1,""],[887,2],[[888,889],3],[890,1," "],[[891,893],2],[894,1,";"],[895,1,""],[[896,899],3],[900,1," "],[901,1," "],[902,1,""],[903,1,""],[904,1,""],[905,1,""],[906,1,""],[907,3],[908,1,""],[909,3],[910,1,""],[911,1,""],[912,2],[913,1,""],[914,1,""],[915,1,""],[916,1,""],[917,1,""],[918,1,""],[919,1,""],[920,1,""],[921,1,""],[922,1,""],[923,1,""],[924,1,""],[925,1,""],[926,1,""],[927,1,""],[928,1,""],[929,1,""],[930,3],[931,1,""],[932,1,""],[933,1,""],[934,1,""],[935,1,""],[936,1,""],[937,1,""],[938,1,""],[939,1,""],[[940,961],2],[962,6,""],[[963,974],2],[975,1,""],[976,1,""],[977,1,""],[978,1,""],[979,1,""],[980,1,""],[981,1,""],[982,1,""],[983,2],[984,1,""],[985,2],[986,1,""],[987,2],[988,1,""],[989,2],[990,1,""],[991,2],[992,1,""],[993,2],[994,1,""],[995,2],[996,1,""],[997,2],[998,1,""],[999,2],[1000,1,""],[1001,2],[1002,1,""],[1003,2],[1004,1,""],[1005,2],[1006,1,""],[1007,2],[1008,1,""],[1009,1,""],[1010,1,""],[1011,2],[1012,1,""],[1013,1,""],[1014,2],[1015,1,""],[1016,2],[1017,1,""],[1018,1,""],[1019,2],[1020,2],[1021,1,""],[1022,1,""],[1023,1,""],[1024,1,""],[1025,1,""],[1026,1,""],[1027,1,""],[1028,1,""],[1029,1,""],[1030,1,""],[1031,1,""],[1032,1,""],[1033,1,""],[1034,1,""],[1035,1,""],[1036,1,""],[1037,1,""],[1038,1,""],[1039,1,""],[1040,1,""],[1041,1,""],[1042,1,""],[1043,1,""],[1044,1,""],[1045,1,""],[1046,1,""],[1047,1,""],[1048,1,""],[1049,1,""],[1050,1,""],[1051,1,""],[1052,1,""],[1053,1,""],[1054,1,""],[1055,1,""],[1056,1,""],[1057,1,""],[1058,1,""],[1059,1,""],[1060,1,""],[1061,1,""],[1062,1,""],[1063,1,""],[1064,1,""],[1065,1,""],[1066,1,""],[1067,1,""],[1068,1,""],[1069,1,""],[1070,1,""],[1071,1,""],[[1072,1103],2],[1104,2],[[1105,1116],2],[1117,2],[[1118,1119],2],[1120,1,""],[1121,2],[1122,1,""],[1123,2],[1124,1,""],[1125,2],[1126,1,""],[1127,2],[1128,1,""],[1129,2],[1130,1,""],[1131,2],[1132,1,""],[1133,2],[1134,1,""],[1135,2],[1136,1,""],[1137,2],[1138,1,""],[1139,2],[1140,1,""],[1141,2],[1142,1,""],[1143,2],[1144,1,""],[1145,2],[1146,1,""],[1147,2],[1148,1,""],[1149,2],[1150,1,""],[1151,2],[1152,1,""],[1153,2],[1154,2],[[1155,1158],2],[1159,2],[[1160,1161],2],[1162,1,""],[1163,2],[1164,1,""],[1165,2],[1166,1,""],[1167,2],[1168,1,""],[1169,2],[1170,1,""],[1171,2],[1172,1,""],[1173,2],[1174,1,""],[1175,2],[1176,1,""],[1177,2],[1178,1,""],[1179,2],[1180,1,""],[1181,2],[1182,1,""],[1183,2],[1184,1,""],[1185,2],[1186,1,""],[1187,2],[1188,1,""],[1189,2],[1190,1,""],[1191,2],[1192,1,""],[1193,2],[1194,1,""],[1195,2],[1196,1,""],[1197,2],[1198,1,""],[1199,2],[1200,1,""],[1201,2],[1202,1,""],[1203,2],[1204,1,""],[1205,2],[1206,1,""],[1207,2],[1208,1,""],[1209,2],[1210,1,""],[1211,2],[1212,1,""],[1213,2],[1214,1,""],[1215,2],[1216,1,""],[1217,1,""],[1218,2],[1219,1,""],[1220,2],[1221,1,""],[1222,2],[1223,1,""],[1224,2],[1225,1,""],[1226,2],[1227,1,""],[1228,2],[1229,1,""],[1230,2],[1231,2],[1232,1,""],[1233,2],[1234,1,""],[1235,2],[1236,1,""],[1237,2],[1238,1,""],[1239,2],[1240,1,""],[1241,2],[1242,1,""],[1243,2],[1244,1,""],[1245,2],[1246,1,""],[1247,2],[1248,1,""],[1249,2],[1250,1,""],[1251,2],[1252,1,""],[1253,2],[1254,1,""],[1255,2],[1256,1,""],[1257,2],[1258,1,""],[1259,2],[1260,1,""],[1261,2],[1262,1,""],[1263,2],[1264,1,""],[1265,2],[1266,1,""],[1267,2],[1268,1,""],[1269,2],[1270,1,""],[1271,2],[1272,1,""],[1273,2],[1274,1,""],[1275,2],[1276,1,""],[1277,2],[1278,1,""],[1279,2],[1280,1,""],[1281,2],[1282,1,""],[1283,2],[1284,1,""],[1285,2],[1286,1,""],[1287,2],[1288,1,""],[1289,2],[1290,1,""],[1291,2],[1292,1,""],[1293,2],[1294,1,""],[1295,2],[1296,1,""],[1297,2],[1298,1,""],[1299,2],[1300,1,""],[1301,2],[1302,1,""],[1303,2],[1304,1,""],[1305,2],[1306,1,""],[1307,2],[1308,1,""],[1309,2],[1310,1,""],[1311,2],[1312,1,""],[1313,2],[1314,1,""],[1315,2],[1316,1,""],[1317,2],[1318,1,""],[1319,2],[1320,1,""],[1321,2],[1322,1,""],[1323,2],[1324,1,""],[1325,2],[1326,1,""],[1327,2],[1328,3],[1329,1,""],[1330,1,""],[1331,1,""],[1332,1,""],[1333,1,""],[1334,1,""],[1335,1,""],[1336,1,""],[1337,1,""],[1338,1,""],[1339,1,""],[1340,1,""],[1341,1,""],[1342,1,""],[1343,1,""],[1344,1,""],[1345,1,""],[1346,1,""],[1347,1,""],[1348,1,""],[1349,1,""],[1350,1,""],[1351,1,""],[1352,1,""],[1353,1,""],[1354,1,""],[1355,1,""],[1356,1,""],[1357,1,""],[1358,1,""],[1359,1,""],[1360,1,""],[1361,1,""],[1362,1,""],[1363,1,""],[1364,1,""],[1365,1,""],[1366,1,""],[[1367,1368],3],[1369,2],[[1370,1375],2],[1376,2],[[1377,1414],2],[1415,1,""],[1416,2],[1417,2],[1418,2],[[1419,1420],3],[[1421,1422],2],[1423,2],[1424,3],[[1425,1441],2],[1442,2],[[1443,1455],2],[[1456,1465],2],[1466,2],[[1467,1469],2],[1470,2],[1471,2],[1472,2],[[1473,1474],2],[1475,2],[1476,2],[1477,2],[1478,2],[1479,2],[[1480,1487],3],[[1488,1514],2],[[1515,1518],3],[1519,2],[[1520,1524],2],[[1525,1535],3],[[1536,1539],3],[1540,3],[1541,3],[[1542,1546],2],[1547,2],[1548,2],[[1549,1551],2],[[1552,1557],2],[[1558,1562],2],[1563,2],[1564,3],[1565,2],[1566,2],[1567,2],[1568,2],[[1569,1594],2],[[1595,1599],2],[1600,2],[[1601,1618],2],[[1619,1621],2],[[1622,1624],2],[[1625,1630],2],[1631,2],[[1632,1641],2],[[1642,1645],2],[[1646,1647],2],[[1648,1652],2],[1653,1,""],[1654,1,""],[1655,1,""],[1656,1,""],[[1657,1719],2],[[1720,1721],2],[[1722,1726],2],[1727,2],[[1728,1742],2],[1743,2],[[1744,1747],2],[1748,2],[[1749,1756],2],[1757,3],[1758,2],[[1759,1768],2],[1769,2],[[1770,1773],2],[[1774,1775],2],[[1776,1785],2],[[1786,1790],2],[1791,2],[[1792,1805],2],[1806,3],[1807,3],[[1808,1836],2],[[1837,1839],2],[[1840,1866],2],[[1867,1868],3],[[1869,1871],2],[[1872,1901],2],[[1902,1919],2],[[1920,1968],2],[1969,2],[[1970,1983],3],[[1984,2037],2],[[2038,2042],2],[[2043,2044],3],[2045,2],[[2046,2047],2],[[2048,2093],2],[[2094,2095],3],[[2096,2110],2],[2111,3],[[2112,2139],2],[[2140,2141],3],[2142,2],[2143,3],[[2144,2154],2],[[2155,2159],3],[[2160,2183],2],[2184,2],[[2185,2190],2],[2191,3],[[2192,2193],3],[[2194,2198],3],[2199,2],[[2200,2207],2],[2208,2],[2209,2],[[2210,2220],2],[[2221,2226],2],[[2227,2228],2],[2229,2],[[2230,2237],2],[[2238,2247],2],[[2248,2258],2],[2259,2],[[2260,2273],2],[2274,3],[2275,2],[[2276,2302],2],[2303,2],[2304,2],[[2305,2307],2],[2308,2],[[2309,2361],2],[[2362,2363],2],[[2364,2381],2],[2382,2],[2383,2],[[2384,2388],2],[2389,2],[[2390,2391],2],[2392,1,""],[2393,1,""],[2394,1,""],[2395,1,""],[2396,1,""],[2397,1,""],[2398,1,""],[2399,1,""],[[2400,2403],2],[[2404,2405],2],[[2406,2415],2],[2416,2],[[2417,2418],2],[[2419,2423],2],[2424,2],[[2425,2426],2],[[2427,2428],2],[2429,2],[[2430,2431],2],[2432,2],[[2433,2435],2],[2436,3],[[2437,2444],2],[[2445,2446],3],[[2447,2448],2],[[2449,2450],3],[[2451,2472],2],[2473,3],[[2474,2480],2],[2481,3],[2482,2],[[2483,2485],3],[[2486,2489],2],[[2490,2491],3],[2492,2],[2493,2],[[2494,2500],2],[[2501,2502],3],[[2503,2504],2],[[2505,2506],3],[[2507,2509],2],[2510,2],[[2511,2518],3],[2519,2],[[2520,2523],3],[2524,1,""],[2525,1,""],[2526,3],[2527,1,""],[[2528,2531],2],[[2532,2533],3],[[2534,2545],2],[[2546,2554],2],[2555,2],[2556,2],[2557,2],[2558,2],[[2559,2560],3],[2561,2],[2562,2],[2563,2],[2564,3],[[2565,2570],2],[[2571,2574],3],[[2575,2576],2],[[2577,2578],3],[[2579,2600],2],[2601,3],[[2602,2608],2],[2609,3],[2610,2],[2611,1,""],[2612,3],[2613,2],[2614,1,""],[2615,3],[[2616,2617],2],[[2618,2619],3],[2620,2],[2621,3],[[2622,2626],2],[[2627,2630],3],[[2631,2632],2],[[2633,2634],3],[[2635,2637],2],[[2638,2640],3],[2641,2],[[2642,2648],3],[2649,1,""],[2650,1,""],[2651,1,""],[2652,2],[2653,3],[2654,1,""],[[2655,2661],3],[[2662,2676],2],[2677,2],[2678,2],[[2679,2688],3],[[2689,2691],2],[2692,3],[[2693,2699],2],[2700,2],[2701,2],[2702,3],[[2703,2705],2],[2706,3],[[2707,2728],2],[2729,3],[[2730,2736],2],[2737,3],[[2738,2739],2],[2740,3],[[2741,2745],2],[[2746,2747],3],[[2748,2757],2],[2758,3],[[2759,2761],2],[2762,3],[[2763,2765],2],[[2766,2767],3],[2768,2],[[2769,2783],3],[2784,2],[[2785,2787],2],[[2788,2789],3],[[2790,2799],2],[2800,2],[2801,2],[[2802,2808],3],[2809,2],[[2810,2815],2],[2816,3],[[2817,2819],2],[2820,3],[[2821,2828],2],[[2829,2830],3],[[2831,2832],2],[[2833,2834],3],[[2835,2856],2],[2857,3],[[2858,2864],2],[2865,3],[[2866,2867],2],[2868,3],[2869,2],[[2870,2873],2],[[2874,2875],3],[[2876,2883],2],[2884,2],[[2885,2886],3],[[2887,2888],2],[[2889,2890],3],[[2891,2893],2],[[2894,2900],3],[2901,2],[[2902,2903],2],[[2904,2907],3],[2908,1,""],[2909,1,""],[2910,3],[[2911,2913],2],[[2914,2915],2],[[2916,2917],3],[[2918,2927],2],[2928,2],[2929,2],[[2930,2935],2],[[2936,2945],3],[[2946,2947],2],[2948,3],[[2949,2954],2],[[2955,2957],3],[[2958,2960],2],[2961,3],[[2962,2965],2],[[2966,2968],3],[[2969,2970],2],[2971,3],[2972,2],[2973,3],[[2974,2975],2],[[2976,2978],3],[[2979,2980],2],[[2981,2983],3],[[2984,2986],2],[[2987,2989],3],[[2990,2997],2],[2998,2],[[2999,3001],2],[[3002,3005],3],[[3006,3010],2],[[3011,3013],3],[[3014,3016],2],[3017,3],[[3018,3021],2],[[3022,3023],3],[3024,2],[[3025,3030],3],[3031,2],[[3032,3045],3],[3046,2],[[3047,3055],2],[[3056,3058],2],[[3059,3066],2],[[3067,3071],3],[3072,2],[[3073,3075],2],[3076,2],[[3077,3084],2],[3085,3],[[3086,3088],2],[3089,3],[[3090,3112],2],[3113,3],[[3114,3123],2],[3124,2],[[3125,3129],2],[[3130,3131],3],[3132,2],[3133,2],[[3134,3140],2],[3141,3],[[3142,3144],2],[3145,3],[[3146,3149],2],[[3150,3156],3],[[3157,3158],2],[3159,3],[[3160,3161],2],[3162,2],[[3163,3164],3],[3165,2],[[3166,3167],3],[[3168,3169],2],[[3170,3171],2],[[3172,3173],3],[[3174,3183],2],[[3184,3190],3],[3191,2],[[3192,3199],2],[3200,2],[3201,2],[[3202,3203],2],[3204,2],[[3205,3212],2],[3213,3],[[3214,3216],2],[3217,3],[[3218,3240],2],[3241,3],[[3242,3251],2],[3252,3],[[3253,3257],2],[[3258,3259],3],[[3260,3261],2],[[3262,3268],2],[3269,3],[[3270,3272],2],[3273,3],[[3274,3277],2],[[3278,3284],3],[[3285,3286],2],[[3287,3292],3],[3293,2],[3294,2],[3295,3],[[3296,3297],2],[[3298,3299],2],[[3300,3301],3],[[3302,3311],2],[3312,3],[[3313,3314],2],[3315,2],[[3316,3327],3],[3328,2],[3329,2],[[3330,3331],2],[3332,2],[[3333,3340],2],[3341,3],[[3342,3344],2],[3345,3],[[3346,3368],2],[3369,2],[[3370,3385],2],[3386,2],[[3387,3388],2],[3389,2],[[3390,3395],2],[3396,2],[3397,3],[[3398,3400],2],[3401,3],[[3402,3405],2],[3406,2],[3407,2],[[3408,3411],3],[[3412,3414],2],[3415,2],[[3416,3422],2],[3423,2],[[3424,3425],2],[[3426,3427],2],[[3428,3429],3],[[3430,3439],2],[[3440,3445],2],[[3446,3448],2],[3449,2],[[3450,3455],2],[3456,3],[3457,2],[[3458,3459],2],[3460,3],[[3461,3478],2],[[3479,3481],3],[[3482,3505],2],[3506,3],[[3507,3515],2],[3516,3],[3517,2],[[3518,3519],3],[[3520,3526],2],[[3527,3529],3],[3530,2],[[3531,3534],3],[[3535,3540],2],[3541,3],[3542,2],[3543,3],[[3544,3551],2],[[3552,3557],3],[[3558,3567],2],[[3568,3569],3],[[3570,3571],2],[3572,2],[[3573,3584],3],[[3585,3634],2],[3635,1,""],[[3636,3642],2],[[3643,3646],3],[3647,2],[[3648,3662],2],[3663,2],[[3664,3673],2],[[3674,3675],2],[[3676,3712],3],[[3713,3714],2],[3715,3],[3716,2],[3717,3],[3718,2],[[3719,3720],2],[3721,2],[3722,2],[3723,3],[3724,2],[3725,2],[[3726,3731],2],[[3732,3735],2],[3736,2],[[3737,3743],2],[3744,2],[[3745,3747],2],[3748,3],[3749,2],[3750,3],[3751,2],[[3752,3753],2],[[3754,3755],2],[3756,2],[[3757,3762],2],[3763,1,""],[[3764,3769],2],[3770,2],[[3771,3773],2],[[3774,3775],3],[[3776,3780],2],[3781,3],[3782,2],[3783,3],[[3784,3789],2],[3790,2],[3791,3],[[3792,3801],2],[[3802,3803],3],[3804,1,""],[3805,1,""],[[3806,3807],2],[[3808,3839],3],[3840,2],[[3841,3850],2],[3851,2],[3852,1,""],[[3853,3863],2],[[3864,3865],2],[[3866,3871],2],[[3872,3881],2],[[3882,3892],2],[3893,2],[3894,2],[3895,2],[3896,2],[3897,2],[[3898,3901],2],[[3902,3906],2],[3907,1,""],[[3908,3911],2],[3912,3],[[3913,3916],2],[3917,1,""],[[3918,3921],2],[3922,1,""],[[3923,3926],2],[3927,1,""],[[3928,3931],2],[3932,1,""],[[3933,3944],2],[3945,1,""],[3946,2],[[3947,3948],2],[[3949,3952],3],[[3953,3954],2],[3955,1,""],[3956,2],[3957,1,""],[3958,1,""],[3959,1,""],[3960,1,""],[3961,1,""],[[3962,3968],2],[3969,1,""],[[3970,3972],2],[3973,2],[[3974,3979],2],[[3980,3983],2],[[3984,3986],2],[3987,1,""],[[3988,3989],2],[3990,2],[3991,2],[3992,3],[[3993,3996],2],[3997,1,""],[[3998,4001],2],[4002,1,""],[[4003,4006],2],[4007,1,""],[[4008,4011],2],[4012,1,""],[4013,2],[[4014,4016],2],[[4017,4023],2],[4024,2],[4025,1,""],[[4026,4028],2],[4029,3],[[4030,4037],2],[4038,2],[[4039,4044],2],[4045,3],[4046,2],[4047,2],[[4048,4049],2],[[4050,4052],2],[[4053,4056],2],[[4057,4058],2],[[4059,4095],3],[[4096,4129],2],[4130,2],[[4131,4135],2],[4136,2],[[4137,4138],2],[4139,2],[[4140,4146],2],[[4147,4149],2],[[4150,4153],2],[[4154,4159],2],[[4160,4169],2],[[4170,4175],2],[[4176,4185],2],[[4186,4249],2],[[4250,4253],2],[[4254,4255],2],[4256,1,""],[4257,1,""],[4258,1,""],[4259,1,""],[4260,1,""],[4261,1,""],[4262,1,""],[4263,1,""],[4264,1,""],[4265,1,""],[4266,1,""],[4267,1,""],[4268,1,""],[4269,1,""],[4270,1,""],[4271,1,""],[4272,1,""],[4273,1,""],[4274,1,""],[4275,1,""],[4276,1,""],[4277,1,""],[4278,1,""],[4279,1,""],[4280,1,""],[4281,1,""],[4282,1,""],[4283,1,""],[4284,1,""],[4285,1,""],[4286,1,""],[4287,1,""],[4288,1,""],[4289,1,""],[4290,1,""],[4291,1,""],[4292,1,""],[4293,1,""],[4294,3],[4295,1,""],[[4296,4300],3],[4301,1,""],[[4302,4303],3],[[4304,4342],2],[[4343,4344],2],[[4345,4346],2],[4347,2],[4348,1,""],[[4349,4351],2],[[4352,4441],2],[[4442,4446],2],[[4447,4448],7],[[4449,4514],2],[[4515,4519],2],[[4520,4601],2],[[4602,4607],2],[[4608,4614],2],[4615,2],[[4616,4678],2],[4679,2],[4680,2],[4681,3],[[4682,4685],2],[[4686,4687],3],[[4688,4694],2],[4695,3],[4696,2],[4697,3],[[4698,4701],2],[[4702,4703],3],[[4704,4742],2],[4743,2],[4744,2],[4745,3],[[4746,4749],2],[[4750,4751],3],[[4752,4782],2],[4783,2],[4784,2],[4785,3],[[4786,4789],2],[[4790,4791],3],[[4792,4798],2],[4799,3],[4800,2],[4801,3],[[4802,4805],2],[[4806,4807],3],[[4808,4814],2],[4815,2],[[4816,4822],2],[4823,3],[[4824,4846],2],[4847,2],[[4848,4878],2],[4879,2],[4880,2],[4881,3],[[4882,4885],2],[[4886,4887],3],[[4888,4894],2],[4895,2],[[4896,4934],2],[4935,2],[[4936,4954],2],[[4955,4956],3],[[4957,4958],2],[4959,2],[4960,2],[[4961,4988],2],[[4989,4991],3],[[4992,5007],2],[[5008,5017],2],[[5018,5023],3],[[5024,5108],2],[5109,2],[[5110,5111],3],[5112,1,""],[5113,1,""],[5114,1,""],[5115,1,""],[5116,1,""],[5117,1,""],[[5118,5119],3],[5120,2],[[5121,5740],2],[[5741,5742],2],[[5743,5750],2],[[5751,5759],2],[5760,3],[[5761,5786],2],[[5787,5788],2],[[5789,5791],3],[[5792,5866],2],[[5867,5872],2],[[5873,5880],2],[[5881,5887],3],[[5888,5900],2],[5901,2],[[5902,5908],2],[5909,2],[[5910,5918],3],[5919,2],[[5920,5940],2],[[5941,5942],2],[[5943,5951],3],[[5952,5971],2],[[5972,5983],3],[[5984,5996],2],[5997,3],[[5998,6000],2],[6001,3],[[6002,6003],2],[[6004,6015],3],[[6016,6067],2],[[6068,6069],7],[[6070,6099],2],[[6100,6102],2],[6103,2],[[6104,6107],2],[6108,2],[6109,2],[[6110,6111],3],[[6112,6121],2],[[6122,6127],3],[[6128,6137],2],[[6138,6143],3],[[6144,6154],2],[[6155,6158],7],[6159,7],[[6160,6169],2],[[6170,6175],3],[[6176,6263],2],[6264,2],[[6265,6271],3],[[6272,6313],2],[6314,2],[[6315,6319],3],[[6320,6389],2],[[6390,6399],3],[[6400,6428],2],[[6429,6430],2],[6431,3],[[6432,6443],2],[[6444,6447],3],[[6448,6459],2],[[6460,6463],3],[6464,2],[[6465,6467],3],[[6468,6469],2],[[6470,6509],2],[[6510,6511],3],[[6512,6516],2],[[6517,6527],3],[[6528,6569],2],[[6570,6571],2],[[6572,6575],3],[[6576,6601],2],[[6602,6607],3],[[6608,6617],2],[6618,2],[[6619,6621],3],[[6622,6623],2],[[6624,6655],2],[[6656,6683],2],[[6684,6685],3],[[6686,6687],2],[[6688,6750],2],[6751,3],[[6752,6780],2],[[6781,6782],3],[[6783,6793],2],[[6794,6799],3],[[6800,6809],2],[[6810,6815],3],[[6816,6822],2],[6823,2],[[6824,6829],2],[[6830,6831],3],[[6832,6845],2],[6846,2],[[6847,6848],2],[[6849,6862],2],[[6863,6911],3],[[6912,6987],2],[6988,2],[6989,3],[[6990,6991],2],[[6992,7001],2],[[7002,7018],2],[[7019,7027],2],[[7028,7036],2],[[7037,7038],2],[7039,2],[[7040,7082],2],[[7083,7085],2],[[7086,7097],2],[[7098,7103],2],[[7104,7155],2],[[7156,7163],3],[[7164,7167],2],[[7168,7223],2],[[7224,7226],3],[[7227,7231],2],[[7232,7241],2],[[7242,7244],3],[[7245,7293],2],[[7294,7295],2],[7296,1,""],[7297,1,""],[7298,1,""],[7299,1,""],[[7300,7301],1,""],[7302,1,""],[7303,1,""],[7304,1,""],[7305,1,""],[7306,2],[[7307,7311],3],[7312,1,""],[7313,1,""],[7314,1,""],[7315,1,""],[7316,1,""],[7317,1,""],[7318,1,""],[7319,1,""],[7320,1,""],[7321,1,""],[7322,1,""],[7323,1,""],[7324,1,""],[7325,1,""],[7326,1,""],[7327,1,""],[7328,1,""],[7329,1,""],[7330,1,""],[7331,1,""],[7332,1,""],[7333,1,""],[7334,1,""],[7335,1,""],[7336,1,""],[7337,1,""],[7338,1,""],[7339,1,""],[7340,1,""],[7341,1,""],[7342,1,""],[7343,1,""],[7344,1,""],[7345,1,""],[7346,1,""],[7347,1,""],[7348,1,""],[7349,1,""],[7350,1,""],[7351,1,""],[7352,1,""],[7353,1,""],[7354,1,""],[[7355,7356],3],[7357,1,""],[7358,1,""],[7359,1,""],[[7360,7367],2],[[7368,7375],3],[[7376,7378],2],[7379,2],[[7380,7410],2],[[7411,7414],2],[7415,2],[[7416,7417],2],[7418,2],[[7419,7423],3],[[7424,7467],2],[7468,1,"a"],[7469,1,""],[7470,1,"b"],[7471,2],[7472,1,"d"],[7473,1,"e"],[7474,1,""],[7475,1,"g"],[7476,1,"h"],[7477,1,"i"],[7478,1,"j"],[7479,1,"k"],[7480,1,"l"],[7481,1,"m"],[7482,1,"n"],[7483,2],[7484,1,"o"],[7485,1,""],[7486,1,"p"],[7487,1,"r"],[7488,1,"t"],[7489,1,"u"],[7490,1,"w"],[7491,1,"a"],[7492,1,""],[7493,1,""],[7494,1,""],[7495,1,"b"],[7496,1,"d"],[7497,1,"e"],[7498,1,""],[7499,1,""],[7500,1,""],[7501,1,"g"],[7502,2],[7503,1,"k"],[7504,1,"m"],[7505,1,""],[7506,1,"o"],[7507,1,""],[7508,1,""],[7509,1,""],[7510,1,"p"],[7511,1,"t"],[7512,1,"u"],[7513,1,""],[7514,1,""],[7515,1,"v"],[7516,1,""],[7517,1,""],[7518,1,""],[7519,1,""],[7520,1,""],[7521,1,""],[7522,1,"i"],[7523,1,"r"],[7524,1,"u"],[7525,1,"v"],[7526,1,""],[7527,1,""],[7528,1,""],[7529,1,""],[7530,1,""],[7531,2],[[7532,7543],2],[7544,1,""],[[7545,7578],2],[7579,1,""],[7580,1,"c"],[7581,1,""],[7582,1,""],[7583,1,""],[7584,1,"f"],[7585,1,""],[7586,1,""],[7587,1,""],[7588,1,""],[7589,1,""],[7590,1,""],[7591,1,""],[7592,1,""],[7593,1,""],[7594,1,""],[7595,1,""],[7596,1,""],[7597,1,""],[7598,1,""],[7599,1,""],[7600,1,""],[7601,1,""],[7602,1,""],[7603,1,""],[7604,1,""],[7605,1,""],[7606,1,""],[7607,1,""],[7608,1,""],[7609,1,""],[7610,1,""],[7611,1,"z"],[7612,1,""],[7613,1,""],[7614,1,""],[7615,1,""],[[7616,7619],2],[[7620,7626],2],[[7627,7654],2],[[7655,7669],2],[[7670,7673],2],[7674,2],[7675,2],[7676,2],[7677,2],[[7678,7679],2],[7680,1,""],[7681,2],[7682,1,""],[7683,2],[7684,1,""],[7685,2],[7686,1,""],[7687,2],[7688,1,""],[7689,2],[7690,1,""],[7691,2],[7692,1,""],[7693,2],[7694,1,""],[7695,2],[7696,1,""],[7697,2],[7698,1,""],[7699,2],[7700,1,""],[7701,2],[7702,1,""],[7703,2],[7704,1,""],[7705,2],[7706,1,""],[7707,2],[7708,1,""],[7709,2],[7710,1,""],[7711,2],[7712,1,""],[7713,2],[7714,1,""],[7715,2],[7716,1,""],[7717,2],[7718,1,""],[7719,2],[7720,1,""],[7721,2],[7722,1,""],[7723,2],[7724,1,""],[7725,2],[7726,1,""],[7727,2],[7728,1,""],[7729,2],[7730,1,""],[7731,2],[7732,1,""],[7733,2],[7734,1,""],[7735,2],[7736,1,""],[7737,2],[7738,1,""],[7739,2],[7740,1,""],[7741,2],[7742,1,""],[7743,2],[7744,1,""],[7745,2],[7746,1,""],[7747,2],[7748,1,""],[7749,2],[7750,1,""],[7751,2],[7752,1,""],[7753,2],[7754,1,""],[7755,2],[7756,1,""],[7757,2],[7758,1,""],[7759,2],[7760,1,""],[7761,2],[7762,1,""],[7763,2],[7764,1,""],[7765,2],[7766,1,""],[7767,2],[7768,1,""],[7769,2],[7770,1,""],[7771,2],[7772,1,""],[7773,2],[7774,1,""],[7775,2],[7776,1,""],[7777,2],[7778,1,""],[7779,2],[7780,1,""],[7781,2],[7782,1,""],[7783,2],[7784,1,""],[7785,2],[7786,1,""],[7787,2],[7788,1,""],[7789,2],[7790,1,""],[7791,2],[7792,1,""],[7793,2],[7794,1,""],[7795,2],[7796,1,""],[7797,2],[7798,1,""],[7799,2],[7800,1,""],[7801,2],[7802,1,""],[7803,2],[7804,1,""],[7805,2],[7806,1,""],[7807,2],[7808,1,""],[7809,2],[7810,1,""],[7811,2],[7812,1,""],[7813,2],[7814,1,""],[7815,2],[7816,1,""],[7817,2],[7818,1,""],[7819,2],[7820,1,""],[7821,2],[7822,1,""],[7823,2],[7824,1,""],[7825,2],[7826,1,""],[7827,2],[7828,1,""],[[7829,7833],2],[7834,1,"a"],[7835,1,""],[[7836,7837],2],[7838,1,""],[7839,2],[7840,1,""],[7841,2],[7842,1,""],[7843,2],[7844,1,""],[7845,2],[7846,1,""],[7847,2],[7848,1,""],[7849,2],[7850,1,""],[7851,2],[7852,1,""],[7853,2],[7854,1,""],[7855,2],[7856,1,""],[7857,2],[7858,1,""],[7859,2],[7860,1,""],[7861,2],[7862,1,""],[7863,2],[7864,1,""],[7865,2],[7866,1,""],[7867,2],[7868,1,""],[7869,2],[7870,1,""],[7871,2],[7872,1,""],[7873,2],[7874,1,""],[7875,2],[7876,1,""],[7877,2],[7878,1,""],[7879,2],[7880,1,""],[7881,2],[7882,1,""],[7883,2],[7884,1,""],[7885,2],[7886,1,""],[7887,2],[7888,1,""],[7889,2],[7890,1,""],[7891,2],[7892,1,""],[7893,2],[7894,1,""],[7895,2],[7896,1,""],[7897,2],[7898,1,""],[7899,2],[7900,1,""],[7901,2],[7902,1,""],[7903,2],[7904,1,""],[7905,2],[7906,1,""],[7907,2],[7908,1,""],[7909,2],[7910,1,""],[7911,2],[7912,1,""],[7913,2],[7914,1,""],[7915,2],[7916,1,""],[7917,2],[7918,1,""],[7919,2],[7920,1,""],[7921,2],[7922,1,""],[7923,2],[7924,1,""],[7925,2],[7926,1,""],[7927,2],[7928,1,""],[7929,2],[7930,1,""],[7931,2],[7932,1,""],[7933,2],[7934,1,""],[7935,2],[[7936,7943],2],[7944,1,""],[7945,1,""],[7946,1,""],[7947,1,""],[7948,1,""],[7949,1,""],[7950,1,""],[7951,1,""],[[7952,7957],2],[[7958,7959],3],[7960,1,""],[7961,1,""],[7962,1,""],[7963,1,""],[7964,1,""],[7965,1,""],[[7966,7967],3],[[7968,7975],2],[7976,1,""],[7977,1,""],[7978,1,""],[7979,1,""],[7980,1,""],[7981,1,""],[7982,1,""],[7983,1,""],[[7984,7991],2],[7992,1,""],[7993,1,""],[7994,1,""],[7995,1,""],[7996,1,""],[7997,1,""],[7998,1,""],[7999,1,""],[[8000,8005],2],[[8006,8007],3],[8008,1,""],[8009,1,""],[8010,1,""],[8011,1,""],[8012,1,""],[8013,1,""],[[8014,8015],3],[[8016,8023],2],[8024,3],[8025,1,""],[8026,3],[8027,1,""],[8028,3],[8029,1,""],[8030,3],[8031,1,""],[[8032,8039],2],[8040,1,""],[8041,1,""],[8042,1,""],[8043,1,""],[8044,1,""],[8045,1,""],[8046,1,""],[8047,1,""],[8048,2],[8049,1,""],[8050,2],[8051,1,""],[8052,2],[8053,1,""],[8054,2],[8055,1,""],[8056,2],[8057,1,""],[8058,2],[8059,1,""],[8060,2],[8061,1,""],[[8062,8063],3],[8064,1,""],[8065,1,""],[8066,1,""],[8067,1,""],[8068,1,""],[8069,1,""],[8070,1,""],[8071,1,""],[8072,1,""],[8073,1,""],[8074,1,""],[8075,1,""],[8076,1,""],[8077,1,""],[8078,1,""],[8079,1,""],[8080,1,""],[8081,1,""],[8082,1,""],[8083,1,""],[8084,1,""],[8085,1,""],[8086,1,""],[8087,1,""],[8088,1,""],[8089,1,""],[8090,1,""],[8091,1,""],[8092,1,""],[8093,1,""],[8094,1,""],[8095,1,""],[8096,1,""],[8097,1,""],[8098,1,""],[8099,1,""],[8100,1,""],[8101,1,""],[8102,1,""],[8103,1,""],[8104,1,""],[8105,1,""],[8106,1,""],[8107,1,""],[8108,1,""],[8109,1,""],[8110,1,""],[8111,1,""],[[8112,8113],2],[8114,1,""],[8115,1,""],[8116,1,""],[8117,3],[8118,2],[8119,1,""],[8120,1,""],[8121,1,""],[8122,1,""],[8123,1,""],[8124,1,""],[8125,1," "],[8126,1,""],[8127,1," "],[8128,1," "],[8129,1," "],[8130,1,""],[8131,1,""],[8132,1,""],[8133,3],[8134,2],[8135,1,""],[8136,1,""],[8137,1,""],[8138,1,""],[8139,1,""],[8140,1,""],[8141,1," "],[8142,1," "],[8143,1," "],[[8144,8146],2],[8147,1,""],[[8148,8149],3],[[8150,8151],2],[8152,1,""],[8153,1,""],[8154,1,""],[8155,1,""],[8156,3],[8157,1," "],[8158,1," "],[8159,1," "],[[8160,8162],2],[8163,1,""],[[8164,8167],2],[8168,1,""],[8169,1,""],[8170,1,""],[8171,1,""],[8172,1,""],[8173,1," "],[8174,1," "],[8175,1,"`"],[[8176,8177],3],[8178,1,""],[8179,1,""],[8180,1,""],[8181,3],[8182,2],[8183,1,""],[8184,1,""],[8185,1,""],[8186,1,""],[8187,1,""],[8188,1,""],[8189,1," "],[8190,1," "],[8191,3],[[8192,8202],1," "],[8203,7],[[8204,8205],6,""],[[8206,8207],3],[8208,2],[8209,1,""],[[8210,8214],2],[8215,1," "],[[8216,8227],2],[[8228,8230],3],[8231,2],[[8232,8238],3],[8239,1," "],[[8240,8242],2],[8243,1,""],[8244,1,""],[8245,2],[8246,1,""],[8247,1,""],[[8248,8251],2],[8252,1,"!!"],[8253,2],[8254,1," "],[[8255,8262],2],[8263,1,"??"],[8264,1,"?!"],[8265,1,"!?"],[[8266,8269],2],[[8270,8274],2],[[8275,8276],2],[[8277,8278],2],[8279,1,""],[[8280,8286],2],[8287,1," "],[[8288,8291],7],[8292,7],[8293,3],[[8294,8297],3],[[8298,8303],7],[8304,1,"0"],[8305,1,"i"],[[8306,8307],3],[8308,1,"4"],[8309,1,"5"],[8310,1,"6"],[8311,1,"7"],[8312,1,"8"],[8313,1,"9"],[8314,1,"+"],[8315,1,""],[8316,1,"="],[8317,1,"("],[8318,1,")"],[8319,1,"n"],[8320,1,"0"],[8321,1,"1"],[8322,1,"2"],[8323,1,"3"],[8324,1,"4"],[8325,1,"5"],[8326,1,"6"],[8327,1,"7"],[8328,1,"8"],[8329,1,"9"],[8330,1,"+"],[8331,1,""],[8332,1,"="],[8333,1,"("],[8334,1,")"],[8335,3],[8336,1,"a"],[8337,1,"e"],[8338,1,"o"],[8339,1,"x"],[8340,1,""],[8341,1,"h"],[8342,1,"k"],[8343,1,"l"],[8344,1,"m"],[8345,1,"n"],[8346,1,"p"],[8347,1,"s"],[8348,1,"t"],[[8349,8351],3],[[8352,8359],2],[8360,1,"rs"],[[8361,8362],2],[8363,2],[8364,2],[[8365,8367],2],[[8368,8369],2],[[8370,8373],2],[[8374,8376],2],[8377,2],[8378,2],[[8379,8381],2],[8382,2],[8383,2],[8384,2],[[8385,8399],3],[[8400,8417],2],[[8418,8419],2],[[8420,8426],2],[8427,2],[[8428,8431],2],[8432,2],[[8433,8447],3],[8448,1,"a/c"],[8449,1,"a/s"],[8450,1,"c"],[8451,1,"c"],[8452,2],[8453,1,"c/o"],[8454,1,"c/u"],[8455,1,""],[8456,2],[8457,1,"f"],[8458,1,"g"],[[8459,8462],1,"h"],[8463,1,""],[[8464,8465],1,"i"],[[8466,8467],1,"l"],[8468,2],[8469,1,"n"],[8470,1,"no"],[[8471,8472],2],[8473,1,"p"],[8474,1,"q"],[[8475,8477],1,"r"],[[8478,8479],2],[8480,1,"sm"],[8481,1,"tel"],[8482,1,"tm"],[8483,2],[8484,1,"z"],[8485,2],[8486,1,""],[8487,2],[8488,1,"z"],[8489,2],[8490,1,"k"],[8491,1,""],[8492,1,"b"],[8493,1,"c"],[8494,2],[[8495,8496],1,"e"],[8497,1,"f"],[8498,1,""],[8499,1,"m"],[8500,1,"o"],[8501,1,""],[8502,1,""],[8503,1,""],[8504,1,""],[8505,1,"i"],[8506,2],[8507,1,"fax"],[8508,1,""],[[8509,8510],1,""],[8511,1,""],[8512,1,""],[[8513,8516],2],[[8517,8518],1,"d"],[8519,1,"e"],[8520,1,"i"],[8521,1,"j"],[[8522,8523],2],[8524,2],[8525,2],[8526,2],[8527,2],[8528,1,"17"],[8529,1,"19"],[8530,1,"110"],[8531,1,"13"],[8532,1,"23"],[8533,1,"15"],[8534,1,"25"],[8535,1,"35"],[8536,1,"45"],[8537,1,"16"],[8538,1,"56"],[8539,1,"18"],[8540,1,"38"],[8541,1,"58"],[8542,1,"78"],[8543,1,"1"],[8544,1,"i"],[8545,1,"ii"],[8546,1,"iii"],[8547,1,"iv"],[8548,1,"v"],[8549,1,"vi"],[8550,1,"vii"],[8551,1,"viii"],[8552,1,"ix"],[8553,1,"x"],[8554,1,"xi"],[8555,1,"xii"],[8556,1,"l"],[8557,1,"c"],[8558,1,"d"],[8559,1,"m"],[8560,1,"i"],[8561,1,"ii"],[8562,1,"iii"],[8563,1,"iv"],[8564,1,"v"],[8565,1,"vi"],[8566,1,"vii"],[8567,1,"viii"],[8568,1,"ix"],[8569,1,"x"],[8570,1,"xi"],[8571,1,"xii"],[8572,1,"l"],[8573,1,"c"],[8574,1,"d"],[8575,1,"m"],[[8576,8578],2],[8579,1,""],[8580,2],[[8581,8584],2],[8585,1,"03"],[[8586,8587],2],[[8588,8591],3],[[8592,8682],2],[[8683,8691],2],[[8692,8703],2],[[8704,8747],2],[8748,1,""],[8749,1,""],[8750,2],[8751,1,""],[8752,1,""],[[8753,8945],2],[[8946,8959],2],[8960,2],[8961,2],[[8962,9000],2],[9001,1,""],[9002,1,""],[[9003,9082],2],[9083,2],[9084,2],[[9085,9114],2],[[9115,9166],2],[[9167,9168],2],[[9169,9179],2],[[9180,9191],2],[9192,2],[[9193,9203],2],[[9204,9210],2],[[9211,9214],2],[9215,2],[[9216,9252],2],[[9253,9254],2],[[9255,9257],2],[[9258,9279],3],[[9280,9290],2],[[9291,9311],3],[9312,1,"1"],[9313,1,"2"],[9314,1,"3"],[9315,1,"4"],[9316,1,"5"],[9317,1,"6"],[9318,1,"7"],[9319,1,"8"],[9320,1,"9"],[9321,1,"10"],[9322,1,"11"],[9323,1,"12"],[9324,1,"13"],[9325,1,"14"],[9326,1,"15"],[9327,1,"16"],[9328,1,"17"],[9329,1,"18"],[9330,1,"19"],[9331,1,"20"],[9332,1,"(1)"],[9333,1,"(2)"],[9334,1,"(3)"],[9335,1,"(4)"],[9336,1,"(5)"],[9337,1,"(6)"],[9338,1,"(7)"],[9339,1,"(8)"],[9340,1,"(9)"],[9341,1,"(10)"],[9342,1,"(11)"],[9343,1,"(12)"],[9344,1,"(13)"],[9345,1,"(14)"],[9346,1,"(15)"],[9347,1,"(16)"],[9348,1,"(17)"],[9349,1,"(18)"],[9350,1,"(19)"],[9351,1,"(20)"],[[9352,9371],3],[9372,1,"(a)"],[9373,1,"(b)"],[9374,1,"(c)"],[9375,1,"(d)"],[9376,1,"(e)"],[9377,1,"(f)"],[9378,1,"(g)"],[9379,1,"(h)"],[9380,1,"(i)"],[9381,1,"(j)"],[9382,1,"(k)"],[9383,1,"(l)"],[9384,1,"(m)"],[9385,1,"(n)"],[9386,1,"(o)"],[9387,1,"(p)"],[9388,1,"(q)"],[9389,1,"(r)"],[9390,1,"(s)"],[9391,1,"(t)"],[9392,1,"(u)"],[9393,1,"(v)"],[9394,1,"(w)"],[9395,1,"(x)"],[9396,1,"(y)"],[9397,1,"(z)"],[9398,1,"a"],[9399,1,"b"],[9400,1,"c"],[9401,1,"d"],[9402,1,"e"],[9403,1,"f"],[9404,1,"g"],[9405,1,"h"],[9406,1,"i"],[9407,1,"j"],[9408,1,"k"],[9409,1,"l"],[9410,1,"m"],[9411,1,"n"],[9412,1,"o"],[9413,1,"p"],[9414,1,"q"],[9415,1,"r"],[9416,1,"s"],[9417,1,"t"],[9418,1,"u"],[9419,1,"v"],[9420,1,"w"],[9421,1,"x"],[9422,1,"y"],[9423,1,"z"],[9424,1,"a"],[9425,1,"b"],[9426,1,"c"],[9427,1,"d"],[9428,1,"e"],[9429,1,"f"],[9430,1,"g"],[9431,1,"h"],[9432,1,"i"],[9433,1,"j"],[9434,1,"k"],[9435,1,"l"],[9436,1,"m"],[9437,1,"n"],[9438,1,"o"],[9439,1,"p"],[9440,1,"q"],[9441,1,"r"],[9442,1,"s"],[9443,1,"t"],[9444,1,"u"],[9445,1,"v"],[9446,1,"w"],[9447,1,"x"],[9448,1,"y"],[9449,1,"z"],[9450,1,"0"],[[9451,9470],2],[9471,2],[[9472,9621],2],[[9622,9631],2],[[9632,9711],2],[[9712,9719],2],[[9720,9727],2],[[9728,9747],2],[[9748,9749],2],[[9750,9751],2],[9752,2],[9753,2],[[9754,9839],2],[[9840,9841],2],[[9842,9853],2],[[9854,9855],2],[[9856,9865],2],[[9866,9873],2],[[9874,9884],2],[9885,2],[[9886,9887],2],[[9888,9889],2],[[9890,9905],2],[9906,2],[[9907,9916],2],[[9917,9919],2],[[9920,9923],2],[[9924,9933],2],[9934,2],[[9935,9953],2],[9954,2],[9955,2],[[9956,9959],2],[[9960,9983],2],[9984,2],[[9985,9988],2],[9989,2],[[9990,9993],2],[[9994,9995],2],[[9996,10023],2],[10024,2],[[10025,10059],2],[10060,2],[10061,2],[10062,2],[[10063,10066],2],[[10067,10069],2],[10070,2],[10071,2],[[10072,10078],2],[[10079,10080],2],[[10081,10087],2],[[10088,10101],2],[[10102,10132],2],[[10133,10135],2],[[10136,10159],2],[10160,2],[[10161,10174],2],[10175,2],[[10176,10182],2],[[10183,10186],2],[10187,2],[10188,2],[10189,2],[[10190,10191],2],[[10192,10219],2],[[10220,10223],2],[[10224,10239],2],[[10240,10495],2],[[10496,10763],2],[10764,1,""],[[10765,10867],2],[10868,1,"::="],[10869,1,"=="],[10870,1,"==="],[[10871,10971],2],[10972,1,""],[[10973,11007],2],[[11008,11021],2],[[11022,11027],2],[[11028,11034],2],[[11035,11039],2],[[11040,11043],2],[[11044,11084],2],[[11085,11087],2],[[11088,11092],2],[[11093,11097],2],[[11098,11123],2],[[11124,11125],3],[[11126,11157],2],[11158,3],[11159,2],[[11160,11193],2],[[11194,11196],2],[[11197,11208],2],[11209,2],[[11210,11217],2],[11218,2],[[11219,11243],2],[[11244,11247],2],[[11248,11262],2],[11263,2],[11264,1,""],[11265,1,""],[11266,1,""],[11267,1,""],[11268,1,""],[11269,1,""],[11270,1,""],[11271,1,""],[11272,1,""],[11273,1,""],[11274,1,""],[11275,1,""],[11276,1,""],[11277,1,""],[11278,1,""],[11279,1,""],[11280,1,""],[11281,1,""],[11282,1,""],[11283,1,""],[11284,1,""],[11285,1,""],[11286,1,""],[11287,1,""],[11288,1,""],[11289,1,""],[11290,1,""],[11291,1,""],[11292,1,""],[11293,1,""],[11294,1,""],[11295,1,""],[11296,1,""],[11297,1,""],[11298,1,""],[11299,1,""],[11300,1,""],[11301,1,""],[11302,1,""],[11303,1,""],[11304,1,""],[11305,1,""],[11306,1,""],[11307,1,""],[11308,1,""],[11309,1,""],[11310,1,""],[11311,1,""],[[11312,11358],2],[11359,2],[11360,1,""],[11361,2],[11362,1,""],[11363,1,""],[11364,1,""],[[11365,11366],2],[11367,1,""],[11368,2],[11369,1,""],[11370,2],[11371,1,""],[11372,2],[11373,1,""],[11374,1,""],[11375,1,""],[11376,1,""],[11377,2],[11378,1,""],[11379,2],[11380,2],[11381,1,""],[[11382,11383],2],[[11384,11387],2],[11388,1,"j"],[11389,1,"v"],[11390,1,""],[11391,1,""],[11392,1,""],[11393,2],[11394,1,""],[11395,2],[11396,1,""],[11397,2],[11398,1,""],[11399,2],[11400,1,""],[11401,2],[11402,1,""],[11403,2],[11404,1,""],[11405,2],[11406,1,""],[11407,2],[11408,1,""],[11409,2],[11410,1,""],[11411,2],[11412,1,""],[11413,2],[11414,1,""],[11415,2],[11416,1,""],[11417,2],[11418,1,""],[11419,2],[11420,1,""],[11421,2],[11422,1,""],[11423,2],[11424,1,""],[11425,2],[11426,1,""],[11427,2],[11428,1,""],[11429,2],[11430,1,""],[11431,2],[11432,1,""],[11433,2],[11434,1,""],[11435,2],[11436,1,""],[11437,2],[11438,1,""],[11439,2],[11440,1,""],[11441,2],[11442,1,""],[11443,2],[11444,1,""],[11445,2],[11446,1,""],[11447,2],[11448,1,""],[11449,2],[11450,1,""],[11451,2],[11452,1,""],[11453,2],[11454,1,""],[11455,2],[11456,1,""],[11457,2],[11458,1,""],[11459,2],[11460,1,""],[11461,2],[11462,1,""],[11463,2],[11464,1,""],[11465,2],[11466,1,""],[11467,2],[11468,1,""],[11469,2],[11470,1,""],[11471,2],[11472,1,""],[11473,2],[11474,1,""],[11475,2],[11476,1,""],[11477,2],[11478,1,""],[11479,2],[11480,1,""],[11481,2],[11482,1,""],[11483,2],[11484,1,""],[11485,2],[11486,1,""],[11487,2],[11488,1,""],[11489,2],[11490,1,""],[[11491,11492],2],[[11493,11498],2],[11499,1,""],[11500,2],[11501,1,""],[[11502,11505],2],[11506,1,""],[11507,2],[[11508,11512],3],[[11513,11519],2],[[11520,11557],2],[11558,3],[11559,2],[[11560,11564],3],[11565,2],[[11566,11567],3],[[11568,11621],2],[[11622,11623],2],[[11624,11630],3],[11631,1,""],[11632,2],[[11633,11646],3],[11647,2],[[11648,11670],2],[[11671,11679],3],[[11680,11686],2],[11687,3],[[11688,11694],2],[11695,3],[[11696,11702],2],[11703,3],[[11704,11710],2],[11711,3],[[11712,11718],2],[11719,3],[[11720,11726],2],[11727,3],[[11728,11734],2],[11735,3],[[11736,11742],2],[11743,3],[[11744,11775],2],[[11776,11799],2],[[11800,11803],2],[[11804,11805],2],[[11806,11822],2],[11823,2],[11824,2],[11825,2],[[11826,11835],2],[[11836,11842],2],[[11843,11844],2],[[11845,11849],2],[[11850,11854],2],[11855,2],[[11856,11858],2],[[11859,11869],2],[[11870,11903],3],[[11904,11929],2],[11930,3],[[11931,11934],2],[11935,1,""],[[11936,12018],2],[12019,1,""],[[12020,12031],3],[12032,1,""],[12033,1,""],[12034,1,""],[12035,1,""],[12036,1,""],[12037,1,""],[12038,1,""],[12039,1,""],[12040,1,""],[12041,1,""],[12042,1,""],[12043,1,""],[12044,1,""],[12045,1,""],[12046,1,""],[12047,1,""],[12048,1,""],[12049,1,""],[12050,1,""],[12051,1,""],[12052,1,""],[12053,1,""],[12054,1,""],[12055,1,""],[12056,1,""],[12057,1,""],[12058,1,""],[12059,1,""],[12060,1,""],[12061,1,""],[12062,1,""],[12063,1,""],[12064,1,""],[12065,1,""],[12066,1,""],[12067,1,""],[12068,1,""],[12069,1,""],[12070,1,""],[12071,1,""],[12072,1,""],[12073,1,""],[12074,1,""],[12075,1,""],[12076,1,""],[12077,1,""],[12078,1,""],[12079,1,""],[12080,1,""],[12081,1,""],[12082,1,""],[12083,1,""],[12084,1,""],[12085,1,""],[12086,1,""],[12087,1,""],[12088,1,""],[12089,1,""],[12090,1,""],[12091,1,""],[12092,1,""],[12093,1,""],[12094,1,""],[12095,1,""],[12096,1,""],[12097,1,""],[12098,1,""],[12099,1,""],[12100,1,""],[12101,1,""],[12102,1,""],[12103,1,""],[12104,1,""],[12105,1,""],[12106,1,""],[12107,1,""],[12108,1,""],[12109,1,""],[12110,1,""],[12111,1,""],[12112,1,""],[12113,1,""],[12114,1,""],[12115,1,""],[12116,1,""],[12117,1,""],[12118,1,""],[12119,1,""],[12120,1,""],[12121,1,""],[12122,1,""],[12123,1,""],[12124,1,""],[12125,1,""],[12126,1,""],[12127,1,""],[12128,1,""],[12129,1,""],[12130,1,""],[12131,1,""],[12132,1,""],[12133,1,""],[12134,1,""],[12135,1,""],[12136,1,""],[12137,1,""],[12138,1,""],[12139,1,""],[12140,1,""],[12141,1,""],[12142,1,""],[12143,1,""],[12144,1,""],[12145,1,""],[12146,1,""],[12147,1,""],[12148,1,""],[12149,1,""],[12150,1,""],[12151,1,""],[12152,1,""],[12153,1,""],[12154,1,""],[12155,1,""],[12156,1,""],[12157,1,""],[12158,1,""],[12159,1,""],[12160,1,""],[12161,1,""],[12162,1,""],[12163,1,""],[12164,1,""],[12165,1,""],[12166,1,""],[12167,1,""],[12168,1,""],[12169,1,""],[12170,1,""],[12171,1,""],[12172,1,""],[12173,1,""],[12174,1,""],[12175,1,""],[12176,1,""],[12177,1,""],[12178,1,""],[12179,1,""],[12180,1,""],[12181,1,""],[12182,1,""],[12183,1,""],[12184,1,""],[12185,1,""],[12186,1,""],[12187,1,""],[12188,1,""],[12189,1,""],[12190,1,""],[12191,1,""],[12192,1,""],[12193,1,""],[12194,1,""],[12195,1,""],[12196,1,""],[12197,1,""],[12198,1,""],[12199,1,""],[12200,1,""],[12201,1,""],[12202,1,""],[12203,1,""],[12204,1,""],[12205,1,""],[12206,1,""],[12207,1,""],[12208,1,""],[12209,1,""],[12210,1,""],[12211,1,""],[12212,1,""],[12213,1,""],[12214,1,""],[12215,1,""],[12216,1,""],[12217,1,""],[12218,1,""],[12219,1,""],[12220,1,""],[12221,1,""],[12222,1,""],[12223,1,""],[12224,1,""],[12225,1,""],[12226,1,""],[12227,1,""],[12228,1,""],[12229,1,""],[12230,1,""],[12231,1,""],[12232,1,""],[12233,1,""],[12234,1,""],[12235,1,""],[12236,1,""],[12237,1,""],[12238,1,""],[12239,1,""],[12240,1,""],[12241,1,""],[12242,1,""],[12243,1,""],[12244,1,""],[12245,1,""],[[12246,12271],3],[[12272,12283],3],[[12284,12287],3],[12288,1," "],[12289,2],[12290,1,"."],[[12291,12292],2],[[12293,12295],2],[[12296,12329],2],[[12330,12333],2],[[12334,12341],2],[12342,1,""],[12343,2],[12344,1,""],[12345,1,""],[12346,1,""],[12347,2],[12348,2],[12349,2],[12350,2],[12351,2],[12352,3],[[12353,12436],2],[[12437,12438],2],[[12439,12440],3],[[12441,12442],2],[12443,1," "],[12444,1," "],[[12445,12446],2],[12447,1,""],[12448,2],[[12449,12542],2],[12543,1,""],[[12544,12548],3],[[12549,12588],2],[12589,2],[12590,2],[12591,2],[12592,3],[12593,1,""],[12594,1,""],[12595,1,""],[12596,1,""],[12597,1,""],[12598,1,""],[12599,1,""],[12600,1,""],[12601,1,""],[12602,1,""],[12603,1,""],[12604,1,""],[12605,1,""],[12606,1,""],[12607,1,""],[12608,1,""],[12609,1,""],[12610,1,""],[12611,1,""],[12612,1,""],[12613,1,""],[12614,1,""],[12615,1,""],[12616,1,""],[12617,1,""],[12618,1,""],[12619,1,""],[12620,1,""],[12621,1,""],[12622,1,""],[12623,1,""],[12624,1,""],[12625,1,""],[12626,1,""],[12627,1,""],[12628,1,""],[12629,1,""],[12630,1,""],[12631,1,""],[12632,1,""],[12633,1,""],[12634,1,""],[12635,1,""],[12636,1,""],[12637,1,""],[12638,1,""],[12639,1,""],[12640,1,""],[12641,1,""],[12642,1,""],[12643,1,""],[12644,7],[12645,1,""],[12646,1,""],[12647,1,""],[12648,1,""],[12649,1,""],[12650,1,""],[12651,1,""],[12652,1,""],[12653,1,""],[12654,1,""],[12655,1,""],[12656,1,""],[12657,1,""],[12658,1,""],[12659,1,""],[12660,1,""],[12661,1,""],[12662,1,""],[12663,1,""],[12664,1,""],[12665,1,""],[12666,1,""],[12667,1,""],[12668,1,""],[12669,1,""],[12670,1,""],[12671,1,""],[12672,1,""],[12673,1,""],[12674,1,""],[12675,1,""],[12676,1,""],[12677,1,""],[12678,1,""],[12679,1,""],[12680,1,""],[12681,1,""],[12682,1,""],[12683,1,""],[12684,1,""],[12685,1,""],[12686,1,""],[12687,3],[[12688,12689],2],[12690,1,""],[12691,1,""],[12692,1,""],[12693,1,""],[12694,1,""],[12695,1,""],[12696,1,""],[12697,1,""],[12698,1,""],[12699,1,""],[12700,1,""],[12701,1,""],[12702,1,""],[12703,1,""],[[12704,12727],2],[[12728,12730],2],[[12731,12735],2],[[12736,12751],2],[[12752,12771],2],[[12772,12773],2],[[12774,12782],3],[12783,3],[[12784,12799],2],[12800,1,"()"],[12801,1,"()"],[12802,1,"()"],[12803,1,"()"],[12804,1,"()"],[12805,1,"()"],[12806,1,"()"],[12807,1,"()"],[12808,1,"()"],[12809,1,"()"],[12810,1,"()"],[12811,1,"()"],[12812,1,"()"],[12813,1,"()"],[12814,1,"()"],[12815,1,"()"],[12816,1,"()"],[12817,1,"()"],[12818,1,"()"],[12819,1,"()"],[12820,1,"()"],[12821,1,"()"],[12822,1,"()"],[12823,1,"()"],[12824,1,"()"],[12825,1,"()"],[12826,1,"()"],[12827,1,"()"],[12828,1,"()"],[12829,1,"()"],[12830,1,"()"],[12831,3],[12832,1,"()"],[12833,1,"()"],[12834,1,"()"],[12835,1,"()"],[12836,1,"()"],[12837,1,"()"],[12838,1,"()"],[12839,1,"()"],[12840,1,"()"],[12841,1,"()"],[12842,1,"()"],[12843,1,"()"],[12844,1,"()"],[12845,1,"()"],[12846,1,"()"],[12847,1,"()"],[12848,1,"()"],[12849,1,"()"],[12850,1,"()"],[12851,1,"()"],[12852,1,"()"],[12853,1,"()"],[12854,1,"()"],[12855,1,"()"],[12856,1,"()"],[12857,1,"()"],[12858,1,"()"],[12859,1,"()"],[12860,1,"()"],[12861,1,"()"],[12862,1,"()"],[12863,1,"()"],[12864,1,"()"],[12865,1,"()"],[12866,1,"()"],[12867,1,"()"],[12868,1,""],[12869,1,""],[12870,1,""],[12871,1,""],[[12872,12879],2],[12880,1,"pte"],[12881,1,"21"],[12882,1,"22"],[12883,1,"23"],[12884,1,"24"],[12885,1,"25"],[12886,1,"26"],[12887,1,"27"],[12888,1,"28"],[12889,1,"29"],[12890,1,"30"],[12891,1,"31"],[12892,1,"32"],[12893,1,"33"],[12894,1,"34"],[12895,1,"35"],[12896,1,""],[12897,1,""],[12898,1,""],[12899,1,""],[12900,1,""],[12901,1,""],[12902,1,""],[12903,1,""],[12904,1,""],[12905,1,""],[12906,1,""],[12907,1,""],[12908,1,""],[12909,1,""],[12910,1,""],[12911,1,""],[12912,1,""],[12913,1,""],[12914,1,""],[12915,1,""],[12916,1,""],[12917,1,""],[12918,1,""],[12919,1,""],[12920,1,""],[12921,1,""],[12922,1,""],[12923,1,""],[12924,1,""],[12925,1,""],[12926,1,""],[12927,2],[12928,1,""],[12929,1,""],[12930,1,""],[12931,1,""],[12932,1,""],[12933,1,""],[12934,1,""],[12935,1,""],[12936,1,""],[12937,1,""],[12938,1,""],[12939,1,""],[12940,1,""],[12941,1,""],[12942,1,""],[12943,1,""],[12944,1,""],[12945,1,""],[12946,1,""],[12947,1,""],[12948,1,""],[12949,1,""],[12950,1,""],[12951,1,""],[12952,1,""],[12953,1,""],[12954,1,""],[12955,1,""],[12956,1,""],[12957,1,""],[12958,1,""],[12959,1,""],[12960,1,""],[12961,1,""],[12962,1,""],[12963,1,""],[12964,1,""],[12965,1,""],[12966,1,""],[12967,1,""],[12968,1,""],[12969,1,""],[12970,1,""],[12971,1,""],[12972,1,""],[12973,1,""],[12974,1,""],[12975,1,""],[12976,1,""],[12977,1,"36"],[12978,1,"37"],[12979,1,"38"],[12980,1,"39"],[12981,1,"40"],[12982,1,"41"],[12983,1,"42"],[12984,1,"43"],[12985,1,"44"],[12986,1,"45"],[12987,1,"46"],[12988,1,"47"],[12989,1,"48"],[12990,1,"49"],[12991,1,"50"],[12992,1,"1"],[12993,1,"2"],[12994,1,"3"],[12995,1,"4"],[12996,1,"5"],[12997,1,"6"],[12998,1,"7"],[12999,1,"8"],[13000,1,"9"],[13001,1,"10"],[13002,1,"11"],[13003,1,"12"],[13004,1,"hg"],[13005,1,"erg"],[13006,1,"ev"],[13007,1,"ltd"],[13008,1,""],[13009,1,""],[13010,1,""],[13011,1,""],[13012,1,""],[13013,1,""],[13014,1,""],[13015,1,""],[13016,1,""],[13017,1,""],[13018,1,""],[13019,1,""],[13020,1,""],[13021,1,""],[13022,1,""],[13023,1,""],[13024,1,""],[13025,1,""],[13026,1,""],[13027,1,""],[13028,1,""],[13029,1,""],[13030,1,""],[13031,1,""],[13032,1,""],[13033,1,""],[13034,1,""],[13035,1,""],[13036,1,""],[13037,1,""],[13038,1,""],[13039,1,""],[13040,1,""],[13041,1,""],[13042,1,""],[13043,1,""],[13044,1,""],[13045,1,""],[13046,1,""],[13047,1,""],[13048,1,""],[13049,1,""],[13050,1,""],[13051,1,""],[13052,1,""],[13053,1,""],[13054,1,""],[13055,1,""],[13056,1,""],[13057,1,""],[13058,1,""],[13059,1,""],[13060,1,""],[13061,1,""],[13062,1,""],[13063,1,""],[13064,1,""],[13065,1,""],[13066,1,""],[13067,1,""],[13068,1,""],[13069,1,""],[13070,1,""],[13071,1,""],[13072,1,""],[13073,1,""],[13074,1,""],[13075,1,""],[13076,1,""],[13077,1,""],[13078,1,""],[13079,1,""],[13080,1,""],[13081,1,""],[13082,1,""],[13083,1,""],[13084,1,""],[13085,1,""],[13086,1,""],[13087,1,""],[13088,1,""],[13089,1,""],[13090,1,""],[13091,1,""],[13092,1,""],[13093,1,""],[13094,1,""],[13095,1,""],[13096,1,""],[13097,1,""],[13098,1,""],[13099,1,""],[13100,1,""],[13101,1,""],[13102,1,""],[13103,1,""],[13104,1,""],[13105,1,""],[13106,1,""],[13107,1,""],[13108,1,""],[13109,1,""],[13110,1,""],[13111,1,""],[13112,1,""],[13113,1,""],[13114,1,""],[13115,1,""],[13116,1,""],[13117,1,""],[13118,1,""],[13119,1,""],[13120,1,""],[13121,1,""],[13122,1,""],[13123,1,""],[13124,1,""],[13125,1,""],[13126,1,""],[13127,1,""],[13128,1,""],[13129,1,""],[13130,1,""],[13131,1,""],[13132,1,""],[13133,1,""],[13134,1,""],[13135,1,""],[13136,1,""],[13137,1,""],[13138,1,""],[13139,1,""],[13140,1,""],[13141,1,""],[13142,1,""],[13143,1,""],[13144,1,"0"],[13145,1,"1"],[13146,1,"2"],[13147,1,"3"],[13148,1,"4"],[13149,1,"5"],[13150,1,"6"],[13151,1,"7"],[13152,1,"8"],[13153,1,"9"],[13154,1,"10"],[13155,1,"11"],[13156,1,"12"],[13157,1,"13"],[13158,1,"14"],[13159,1,"15"],[13160,1,"16"],[13161,1,"17"],[13162,1,"18"],[13163,1,"19"],[13164,1,"20"],[13165,1,"21"],[13166,1,"22"],[13167,1,"23"],[13168,1,"24"],[13169,1,"hpa"],[13170,1,"da"],[13171,1,"au"],[13172,1,"bar"],[13173,1,"ov"],[13174,1,"pc"],[13175,1,"dm"],[13176,1,"dm2"],[13177,1,"dm3"],[13178,1,"iu"],[13179,1,""],[13180,1,""],[13181,1,""],[13182,1,""],[13183,1,""],[13184,1,"pa"],[13185,1,"na"],[13186,1,"a"],[13187,1,"ma"],[13188,1,"ka"],[13189,1,"kb"],[13190,1,"mb"],[13191,1,"gb"],[13192,1,"cal"],[13193,1,"kcal"],[13194,1,"pf"],[13195,1,"nf"],[13196,1,"f"],[13197,1,"g"],[13198,1,"mg"],[13199,1,"kg"],[13200,1,"hz"],[13201,1,"khz"],[13202,1,"mhz"],[13203,1,"ghz"],[13204,1,"thz"],[13205,1,"l"],[13206,1,"ml"],[13207,1,"dl"],[13208,1,"kl"],[13209,1,"fm"],[13210,1,"nm"],[13211,1,"m"],[13212,1,"mm"],[13213,1,"cm"],[13214,1,"km"],[13215,1,"mm2"],[13216,1,"cm2"],[13217,1,"m2"],[13218,1,"km2"],[13219,1,"mm3"],[13220,1,"cm3"],[13221,1,"m3"],[13222,1,"km3"],[13223,1,"ms"],[13224,1,"ms2"],[13225,1,"pa"],[13226,1,"kpa"],[13227,1,"mpa"],[13228,1,"gpa"],[13229,1,"rad"],[13230,1,"rads"],[13231,1,"rads2"],[13232,1,"ps"],[13233,1,"ns"],[13234,1,"s"],[13235,1,"ms"],[13236,1,"pv"],[13237,1,"nv"],[13238,1,"v"],[13239,1,"mv"],[13240,1,"kv"],[13241,1,"mv"],[13242,1,"pw"],[13243,1,"nw"],[13244,1,"w"],[13245,1,"mw"],[13246,1,"kw"],[13247,1,"mw"],[13248,1,"k"],[13249,1,"m"],[13250,3],[13251,1,"bq"],[13252,1,"cc"],[13253,1,"cd"],[13254,1,"ckg"],[13255,3],[13256,1,"db"],[13257,1,"gy"],[13258,1,"ha"],[13259,1,"hp"],[13260,1,"in"],[13261,1,"kk"],[13262,1,"km"],[13263,1,"kt"],[13264,1,"lm"],[13265,1,"ln"],[13266,1,"log"],[13267,1,"lx"],[13268,1,"mb"],[13269,1,"mil"],[13270,1,"mol"],[13271,1,"ph"],[13272,3],[13273,1,"ppm"],[13274,1,"pr"],[13275,1,"sr"],[13276,1,"sv"],[13277,1,"wb"],[13278,1,"vm"],[13279,1,"am"],[13280,1,"1"],[13281,1,"2"],[13282,1,"3"],[13283,1,"4"],[13284,1,"5"],[13285,1,"6"],[13286,1,"7"],[13287,1,"8"],[13288,1,"9"],[13289,1,"10"],[13290,1,"11"],[13291,1,"12"],[13292,1,"13"],[13293,1,"14"],[13294,1,"15"],[13295,1,"16"],[13296,1,"17"],[13297,1,"18"],[13298,1,"19"],[13299,1,"20"],[13300,1,"21"],[13301,1,"22"],[13302,1,"23"],[13303,1,"24"],[13304,1,"25"],[13305,1,"26"],[13306,1,"27"],[13307,1,"28"],[13308,1,"29"],[13309,1,"30"],[13310,1,"31"],[13311,1,"gal"],[[13312,19893],2],[[19894,19903],2],[[19904,19967],2],[[19968,40869],2],[[40870,40891],2],[[40892,40899],2],[[40900,40907],2],[40908,2],[[40909,40917],2],[[40918,40938],2],[[40939,40943],2],[[40944,40956],2],[[40957,40959],2],[[40960,42124],2],[[42125,42127],3],[[42128,42145],2],[[42146,42147],2],[[42148,42163],2],[42164,2],[[42165,42176],2],[42177,2],[[42178,42180],2],[42181,2],[42182,2],[[42183,42191],3],[[42192,42237],2],[[42238,42239],2],[[42240,42508],2],[[42509,42511],2],[[42512,42539],2],[[42540,42559],3],[42560,1,""],[42561,2],[42562,1,""],[42563,2],[42564,1,""],[42565,2],[42566,1,""],[42567,2],[42568,1,""],[42569,2],[42570,1,""],[42571,2],[42572,1,""],[42573,2],[42574,1,""],[42575,2],[42576,1,""],[42577,2],[42578,1,""],[42579,2],[42580,1,""],[42581,2],[42582,1,""],[42583,2],[42584,1,""],[42585,2],[42586,1,""],[42587,2],[42588,1,""],[42589,2],[42590,1,""],[42591,2],[42592,1,""],[42593,2],[42594,1,""],[42595,2],[42596,1,""],[42597,2],[42598,1,""],[42599,2],[42600,1,""],[42601,2],[42602,1,""],[42603,2],[42604,1,""],[[42605,42607],2],[[42608,42611],2],[[42612,42619],2],[[42620,42621],2],[42622,2],[42623,2],[42624,1,""],[42625,2],[42626,1,""],[42627,2],[42628,1,""],[42629,2],[42630,1,""],[42631,2],[42632,1,""],[42633,2],[42634,1,""],[42635,2],[42636,1,""],[42637,2],[42638,1,""],[42639,2],[42640,1,""],[42641,2],[42642,1,""],[42643,2],[42644,1,""],[42645,2],[42646,1,""],[42647,2],[42648,1,""],[42649,2],[42650,1,""],[42651,2],[42652,1,""],[42653,1,""],[42654,2],[42655,2],[[42656,42725],2],[[42726,42735],2],[[42736,42737],2],[[42738,42743],2],[[42744,42751],3],[[42752,42774],2],[[42775,42778],2],[[42779,42783],2],[[42784,42785],2],[42786,1,""],[42787,2],[42788,1,""],[42789,2],[42790,1,""],[42791,2],[42792,1,""],[42793,2],[42794,1,""],[42795,2],[42796,1,""],[42797,2],[42798,1,""],[[42799,42801],2],[42802,1,""],[42803,2],[42804,1,""],[42805,2],[42806,1,""],[42807,2],[42808,1,""],[42809,2],[42810,1,""],[42811,2],[42812,1,""],[42813,2],[42814,1,""],[42815,2],[42816,1,""],[42817,2],[42818,1,""],[42819,2],[42820,1,""],[42821,2],[42822,1,""],[42823,2],[42824,1,""],[42825,2],[42826,1,""],[42827,2],[42828,1,""],[42829,2],[42830,1,""],[42831,2],[42832,1,""],[42833,2],[42834,1,""],[42835,2],[42836,1,""],[42837,2],[42838,1,""],[42839,2],[42840,1,""],[42841,2],[42842,1,""],[42843,2],[42844,1,""],[42845,2],[42846,1,""],[42847,2],[42848,1,""],[42849,2],[42850,1,""],[42851,2],[42852,1,""],[42853,2],[42854,1,""],[42855,2],[42856,1,""],[42857,2],[42858,1,""],[42859,2],[42860,1,""],[42861,2],[42862,1,""],[42863,2],[42864,1,""],[[42865,42872],2],[42873,1,""],[42874,2],[42875,1,""],[42876,2],[42877,1,""],[42878,1,""],[42879,2],[42880,1,""],[42881,2],[42882,1,""],[42883,2],[42884,1,""],[42885,2],[42886,1,""],[[42887,42888],2],[[42889,42890],2],[42891,1,""],[42892,2],[42893,1,""],[42894,2],[42895,2],[42896,1,""],[42897,2],[42898,1,""],[42899,2],[[42900,42901],2],[42902,1,""],[42903,2],[42904,1,""],[42905,2],[42906,1,""],[42907,2],[42908,1,""],[42909,2],[42910,1,""],[42911,2],[42912,1,""],[42913,2],[42914,1,""],[42915,2],[42916,1,""],[42917,2],[42918,1,""],[42919,2],[42920,1,""],[42921,2],[42922,1,""],[42923,1,""],[42924,1,""],[42925,1,""],[42926,1,""],[42927,2],[42928,1,""],[42929,1,""],[42930,1,""],[42931,1,""],[42932,1,""],[42933,2],[42934,1,""],[42935,2],[42936,1,""],[42937,2],[42938,1,""],[42939,2],[42940,1,""],[42941,2],[42942,1,""],[42943,2],[42944,1,""],[42945,2],[42946,1,""],[42947,2],[42948,1,""],[42949,1,""],[42950,1,""],[42951,1,""],[42952,2],[42953,1,""],[42954,2],[42955,1,""],[42956,1,""],[42957,2],[[42958,42959],3],[42960,1,""],[42961,2],[42962,3],[42963,2],[42964,3],[42965,2],[42966,1,""],[42967,2],[42968,1,""],[42969,2],[42970,1,""],[42971,2],[42972,1,""],[[42973,42993],3],[42994,1,"c"],[42995,1,"f"],[42996,1,"q"],[42997,1,""],[42998,2],[42999,2],[43000,1,""],[43001,1,""],[43002,2],[[43003,43007],2],[[43008,43047],2],[[43048,43051],2],[43052,2],[[43053,43055],3],[[43056,43065],2],[[43066,43071],3],[[43072,43123],2],[[43124,43127],2],[[43128,43135],3],[[43136,43204],2],[43205,2],[[43206,43213],3],[[43214,43215],2],[[43216,43225],2],[[43226,43231],3],[[43232,43255],2],[[43256,43258],2],[43259,2],[43260,2],[43261,2],[[43262,43263],2],[[43264,43309],2],[[43310,43311],2],[[43312,43347],2],[[43348,43358],3],[43359,2],[[43360,43388],2],[[43389,43391],3],[[43392,43456],2],[[43457,43469],2],[43470,3],[[43471,43481],2],[[43482,43485],3],[[43486,43487],2],[[43488,43518],2],[43519,3],[[43520,43574],2],[[43575,43583],3],[[43584,43597],2],[[43598,43599],3],[[43600,43609],2],[[43610,43611],3],[[43612,43615],2],[[43616,43638],2],[[43639,43641],2],[[43642,43643],2],[[43644,43647],2],[[43648,43714],2],[[43715,43738],3],[[43739,43741],2],[[43742,43743],2],[[43744,43759],2],[[43760,43761],2],[[43762,43766],2],[[43767,43776],3],[[43777,43782],2],[[43783,43784],3],[[43785,43790],2],[[43791,43792],3],[[43793,43798],2],[[43799,43807],3],[[43808,43814],2],[43815,3],[[43816,43822],2],[43823,3],[[43824,43866],2],[43867,2],[43868,1,""],[43869,1,""],[43870,1,""],[43871,1,""],[[43872,43875],2],[[43876,43877],2],[[43878,43879],2],[43880,2],[43881,1,""],[[43882,43883],2],[[43884,43887],3],[43888,1,""],[43889,1,""],[43890,1,""],[43891,1,""],[43892,1,""],[43893,1,""],[43894,1,""],[43895,1,""],[43896,1,""],[43897,1,""],[43898,1,""],[43899,1,""],[43900,1,""],[43901,1,""],[43902,1,""],[43903,1,""],[43904,1,""],[43905,1,""],[43906,1,""],[43907,1,""],[43908,1,""],[43909,1,""],[43910,1,""],[43911,1,""],[43912,1,""],[43913,1,""],[43914,1,""],[43915,1,""],[43916,1,""],[43917,1,""],[43918,1,""],[43919,1,""],[43920,1,""],[43921,1,""],[43922,1,""],[43923,1,""],[43924,1,""],[43925,1,""],[43926,1,""],[43927,1,""],[43928,1,""],[43929,1,""],[43930,1,""],[43931,1,""],[43932,1,""],[43933,1,""],[43934,1,""],[43935,1,""],[43936,1,""],[43937,1,""],[43938,1,""],[43939,1,""],[43940,1,""],[43941,1,""],[43942,1,""],[43943,1,""],[43944,1,""],[43945,1,""],[43946,1,""],[43947,1,""],[43948,1,""],[43949,1,""],[43950,1,""],[43951,1,""],[43952,1,""],[43953,1,""],[43954,1,""],[43955,1,""],[43956,1,""],[43957,1,""],[43958,1,""],[43959,1,""],[43960,1,""],[43961,1,""],[43962,1,""],[43963,1,""],[43964,1,""],[43965,1,""],[43966,1,""],[43967,1,""],[[43968,44010],2],[44011,2],[[44012,44013],2],[[44014,44015],3],[[44016,44025],2],[[44026,44031],3],[[44032,55203],2],[[55204,55215],3],[[55216,55238],2],[[55239,55242],3],[[55243,55291],2],[[55292,55295],3],[[55296,57343],3],[[57344,63743],3],[63744,1,""],[63745,1,""],[63746,1,""],[63747,1,""],[63748,1,""],[63749,1,""],[63750,1,""],[[63751,63752],1,""],[63753,1,""],[63754,1,""],[63755,1,""],[63756,1,""],[63757,1,""],[63758,1,""],[63759,1,""],[63760,1,""],[63761,1,""],[63762,1,""],[63763,1,""],[63764,1,""],[63765,1,""],[63766,1,""],[63767,1,""],[63768,1,""],[63769,1,""],[63770,1,""],[63771,1,""],[63772,1,""],[63773,1,""],[63774,1,""],[63775,1,""],[63776,1,""],[63777,1,""],[63778,1,""],[63779,1,""],[63780,1,""],[63781,1,""],[63782,1,""],[63783,1,""],[63784,1,""],[63785,1,""],[63786,1,""],[63787,1,""],[63788,1,""],[63789,1,""],[63790,1,""],[63791,1,""],[63792,1,""],[63793,1,""],[63794,1,""],[63795,1,""],[63796,1,""],[63797,1,""],[63798,1,""],[63799,1,""],[63800,1,""],[63801,1,""],[63802,1,""],[63803,1,""],[63804,1,""],[63805,1,""],[63806,1,""],[63807,1,""],[63808,1,""],[63809,1,""],[63810,1,""],[63811,1,""],[63812,1,""],[63813,1,""],[63814,1,""],[63815,1,""],[63816,1,""],[63817,1,""],[63818,1,""],[63819,1,""],[63820,1,""],[63821,1,""],[63822,1,""],[63823,1,""],[63824,1,""],[63825,1,""],[63826,1,""],[63827,1,""],[63828,1,""],[63829,1,""],[63830,1,""],[63831,1,""],[63832,1,""],[63833,1,""],[63834,1,""],[63835,1,""],[63836,1,""],[63837,1,""],[63838,1,""],[63839,1,""],[63840,1,""],[63841,1,""],[63842,1,""],[63843,1,""],[63844,1,""],[63845,1,""],[63846,1,""],[63847,1,""],[63848,1,""],[63849,1,""],[63850,1,""],[63851,1,""],[63852,1,""],[63853,1,""],[63854,1,""],[63855,1,""],[63856,1,""],[63857,1,""],[63858,1,""],[63859,1,""],[63860,1,""],[63861,1,""],[63862,1,""],[63863,1,""],[63864,1,""],[63865,1,""],[63866,1,""],[63867,1,""],[63868,1,""],[63869,1,""],[63870,1,""],[63871,1,""],[63872,1,""],[63873,1,""],[63874,1,""],[63875,1,""],[63876,1,""],[63877,1,""],[63878,1,""],[63879,1,""],[63880,1,""],[63881,1,""],[63882,1,""],[63883,1,""],[63884,1,""],[63885,1,""],[63886,1,""],[63887,1,""],[63888,1,""],[63889,1,""],[63890,1,""],[63891,1,""],[63892,1,""],[63893,1,""],[63894,1,""],[63895,1,""],[63896,1,""],[63897,1,""],[63898,1,""],[63899,1,""],[63900,1,""],[63901,1,""],[63902,1,""],[63903,1,""],[63904,1,""],[63905,1,""],[63906,1,""],[63907,1,""],[63908,1,""],[63909,1,""],[63910,1,""],[63911,1,""],[63912,1,""],[63913,1,""],[63914,1,""],[63915,1,""],[63916,1,""],[63917,1,""],[63918,1,""],[63919,1,""],[63920,1,""],[63921,1,""],[63922,1,""],[63923,1,""],[63924,1,""],[63925,1,""],[63926,1,""],[63927,1,""],[63928,1,""],[63929,1,""],[63930,1,""],[63931,1,""],[63932,1,""],[63933,1,""],[63934,1,""],[63935,1,""],[63936,1,""],[63937,1,""],[63938,1,""],[63939,1,""],[63940,1,""],[63941,1,""],[63942,1,""],[63943,1,""],[63944,1,""],[63945,1,""],[63946,1,""],[63947,1,""],[63948,1,""],[63949,1,""],[63950,1,""],[63951,1,""],[63952,1,""],[63953,1,""],[63954,1,""],[63955,1,""],[63956,1,""],[63957,1,""],[63958,1,""],[63959,1,""],[63960,1,""],[63961,1,""],[63962,1,""],[63963,1,""],[63964,1,""],[63965,1,""],[63966,1,""],[63967,1,""],[63968,1,""],[63969,1,""],[63970,1,""],[63971,1,""],[63972,1,""],[63973,1,""],[63974,1,""],[63975,1,""],[63976,1,""],[63977,1,""],[63978,1,""],[63979,1,""],[63980,1,""],[63981,1,""],[63982,1,""],[63983,1,""],[63984,1,""],[63985,1,""],[63986,1,""],[63987,1,""],[63988,1,""],[63989,1,""],[63990,1,""],[63991,1,""],[63992,1,""],[63993,1,""],[63994,1,""],[63995,1,""],[63996,1,""],[63997,1,""],[63998,1,""],[63999,1,""],[64000,1,""],[64001,1,""],[64002,1,""],[64003,1,""],[64004,1,""],[64005,1,""],[64006,1,""],[64007,1,""],[64008,1,""],[64009,1,""],[64010,1,""],[64011,1,""],[64012,1,""],[64013,1,""],[[64014,64015],2],[64016,1,""],[64017,2],[64018,1,""],[[64019,64020],2],[64021,1,""],[64022,1,""],[64023,1,""],[64024,1,""],[64025,1,""],[64026,1,""],[64027,1,""],[64028,1,""],[64029,1,""],[64030,1,""],[64031,2],[64032,1,""],[64033,2],[64034,1,""],[[64035,64036],2],[64037,1,""],[64038,1,""],[[64039,64041],2],[64042,1,""],[64043,1,""],[64044,1,""],[64045,1,""],[64046,1,""],[64047,1,""],[64048,1,""],[64049,1,""],[64050,1,""],[64051,1,""],[64052,1,""],[64053,1,""],[64054,1,""],[64055,1,""],[64056,1,""],[64057,1,""],[64058,1,""],[64059,1,""],[64060,1,""],[64061,1,""],[64062,1,""],[64063,1,""],[64064,1,""],[64065,1,""],[64066,1,""],[64067,1,""],[64068,1,""],[64069,1,""],[64070,1,""],[64071,1,""],[64072,1,""],[64073,1,""],[64074,1,""],[64075,1,""],[64076,1,""],[64077,1,""],[64078,1,""],[64079,1,""],[64080,1,""],[64081,1,""],[64082,1,""],[64083,1,""],[64084,1,""],[64085,1,""],[64086,1,""],[64087,1,""],[64088,1,""],[64089,1,""],[64090,1,""],[64091,1,""],[64092,1,""],[[64093,64094],1,""],[64095,1,""],[64096,1,""],[64097,1,""],[64098,1,""],[64099,1,""],[64100,1,""],[64101,1,""],[64102,1,""],[64103,1,""],[64104,1,""],[64105,1,""],[64106,1,""],[64107,1,""],[64108,1,""],[64109,1,""],[[64110,64111],3],[64112,1,""],[64113,1,""],[64114,1,""],[64115,1,""],[64116,1,""],[64117,1,""],[64118,1,""],[64119,1,""],[64120,1,""],[64121,1,""],[64122,1,""],[64123,1,""],[64124,1,""],[64125,1,""],[64126,1,""],[64127,1,""],[64128,1,""],[64129,1,""],[64130,1,""],[64131,1,""],[64132,1,""],[64133,1,""],[64134,1,""],[64135,1,""],[64136,1,""],[64137,1,""],[64138,1,""],[64139,1,""],[64140,1,""],[64141,1,""],[64142,1,""],[64143,1,""],[64144,1,""],[64145,1,""],[64146,1,""],[64147,1,""],[64148,1,""],[64149,1,""],[64150,1,""],[64151,1,""],[64152,1,""],[64153,1,""],[64154,1,""],[64155,1,""],[64156,1,""],[64157,1,""],[64158,1,""],[64159,1,""],[64160,1,""],[64161,1,""],[64162,1,""],[64163,1,""],[64164,1,""],[64165,1,""],[64166,1,""],[64167,1,""],[64168,1,""],[64169,1,""],[64170,1,""],[64171,1,""],[64172,1,""],[64173,1,""],[64174,1,""],[64175,1,""],[64176,1,""],[64177,1,""],[64178,1,""],[64179,1,""],[64180,1,""],[64181,1,""],[64182,1,""],[64183,1,""],[64184,1,""],[64185,1,""],[64186,1,""],[64187,1,""],[64188,1,""],[64189,1,""],[64190,1,""],[64191,1,""],[64192,1,""],[64193,1,""],[64194,1,""],[64195,1,""],[64196,1,""],[64197,1,""],[64198,1,""],[64199,1,""],[64200,1,""],[64201,1,""],[64202,1,""],[64203,1,""],[64204,1,""],[64205,1,""],[64206,1,""],[64207,1,""],[64208,1,""],[64209,1,""],[64210,1,""],[64211,1,""],[64212,1,""],[64213,1,""],[64214,1,""],[64215,1,""],[64216,1,""],[64217,1,""],[[64218,64255],3],[64256,1,"ff"],[64257,1,"fi"],[64258,1,"fl"],[64259,1,"ffi"],[64260,1,"ffl"],[[64261,64262],1,"st"],[[64263,64274],3],[64275,1,""],[64276,1,""],[64277,1,""],[64278,1,""],[64279,1,""],[[64280,64284],3],[64285,1,""],[64286,2],[64287,1,""],[64288,1,""],[64289,1,""],[64290,1,""],[64291,1,""],[64292,1,""],[64293,1,""],[64294,1,""],[64295,1,""],[64296,1,""],[64297,1,"+"],[64298,1,""],[64299,1,""],[64300,1,""],[64301,1,""],[64302,1,""],[64303,1,""],[64304,1,""],[64305,1,""],[64306,1,""],[64307,1,""],[64308,1,""],[64309,1,""],[64310,1,""],[64311,3],[64312,1,""],[64313,1,""],[64314,1,""],[64315,1,""],[64316,1,""],[64317,3],[64318,1,""],[64319,3],[64320,1,""],[64321,1,""],[64322,3],[64323,1,""],[64324,1,""],[64325,3],[64326,1,""],[64327,1,""],[64328,1,""],[64329,1,""],[64330,1,""],[64331,1,""],[64332,1,""],[64333,1,""],[64334,1,""],[64335,1,""],[[64336,64337],1,""],[[64338,64341],1,""],[[64342,64345],1,""],[[64346,64349],1,""],[[64350,64353],1,""],[[64354,64357],1,""],[[64358,64361],1,""],[[64362,64365],1,""],[[64366,64369],1,""],[[64370,64373],1,""],[[64374,64377],1,""],[[64378,64381],1,""],[[64382,64385],1,""],[[64386,64387],1,""],[[64388,64389],1,""],[[64390,64391],1,""],[[64392,64393],1,""],[[64394,64395],1,""],[[64396,64397],1,""],[[64398,64401],1,""],[[64402,64405],1,""],[[64406,64409],1,""],[[64410,64413],1,""],[[64414,64415],1,""],[[64416,64419],1,""],[[64420,64421],1,""],[[64422,64425],1,""],[[64426,64429],1,""],[[64430,64431],1,""],[[64432,64433],1,""],[[64434,64449],2],[64450,2],[[64451,64466],3],[[64467,64470],1,""],[[64471,64472],1,""],[[64473,64474],1,""],[[64475,64476],1,""],[64477,1,""],[[64478,64479],1,""],[[64480,64481],1,""],[[64482,64483],1,""],[[64484,64487],1,""],[[64488,64489],1,""],[[64490,64491],1,""],[[64492,64493],1,""],[[64494,64495],1,""],[[64496,64497],1,""],[[64498,64499],1,""],[[64500,64501],1,""],[[64502,64504],1,""],[[64505,64507],1,""],[[64508,64511],1,""],[64512,1,""],[64513,1,""],[64514,1,""],[64515,1,""],[64516,1,""],[64517,1,""],[64518,1,""],[64519,1,""],[64520,1,""],[64521,1,""],[64522,1,""],[64523,1,""],[64524,1,""],[64525,1,""],[64526,1,""],[64527,1,""],[64528,1,""],[64529,1,""],[64530,1,""],[64531,1,""],[64532,1,""],[64533,1,""],[64534,1,""],[64535,1,""],[64536,1,""],[64537,1,""],[64538,1,""],[64539,1,""],[64540,1,""],[64541,1,""],[64542,1,""],[64543,1,""],[64544,1,""],[64545,1,""],[64546,1,""],[64547,1,""],[64548,1,""],[64549,1,""],[64550,1,""],[64551,1,""],[64552,1,""],[64553,1,""],[64554,1,""],[64555,1,""],[64556,1,""],[64557,1,""],[64558,1,""],[64559,1,""],[64560,1,""],[64561,1,""],[64562,1,""],[64563,1,""],[64564,1,""],[64565,1,""],[64566,1,""],[64567,1,""],[64568,1,""],[64569,1,""],[64570,1,""],[64571,1,""],[64572,1,""],[64573,1,""],[64574,1,""],[64575,1,""],[64576,1,""],[64577,1,""],[64578,1,""],[64579,1,""],[64580,1,""],[64581,1,""],[64582,1,""],[64583,1,""],[64584,1,""],[64585,1,""],[64586,1,""],[64587,1,""],[64588,1,""],[64589,1,""],[64590,1,""],[64591,1,""],[64592,1,""],[64593,1,""],[64594,1,""],[64595,1,""],[64596,1,""],[64597,1,""],[64598,1,""],[64599,1,""],[64600,1,""],[64601,1,""],[64602,1,""],[64603,1,""],[64604,1,""],[64605,1,""],[64606,1," "],[64607,1," "],[64608,1," "],[64609,1," "],[64610,1," "],[64611,1," "],[64612,1,""],[64613,1,""],[64614,1,""],[64615,1,""],[64616,1,""],[64617,1,""],[64618,1,""],[64619,1,""],[64620,1,""],[64621,1,""],[64622,1,""],[64623,1,""],[64624,1,""],[64625,1,""],[64626,1,""],[64627,1,""],[64628,1,""],[64629,1,""],[64630,1,""],[64631,1,""],[64632,1,""],[64633,1,""],[64634,1,""],[64635,1,""],[64636,1,""],[64637,1,""],[64638,1,""],[64639,1,""],[64640,1,""],[64641,1,""],[64642,1,""],[64643,1,""],[64644,1,""],[64645,1,""],[64646,1,""],[64647,1,""],[64648,1,""],[64649,1,""],[64650,1,""],[64651,1,""],[64652,1,""],[64653,1,""],[64654,1,""],[64655,1,""],[64656,1,""],[64657,1,""],[64658,1,""],[64659,1,""],[64660,1,""],[64661,1,""],[64662,1,""],[64663,1,""],[64664,1,""],[64665,1,""],[64666,1,""],[64667,1,""],[64668,1,""],[64669,1,""],[64670,1,""],[64671,1,""],[64672,1,""],[64673,1,""],[64674,1,""],[64675,1,""],[64676,1,""],[64677,1,""],[64678,1,""],[64679,1,""],[64680,1,""],[64681,1,""],[64682,1,""],[64683,1,""],[64684,1,""],[64685,1,""],[64686,1,""],[64687,1,""],[64688,1,""],[64689,1,""],[64690,1,""],[64691,1,""],[64692,1,""],[64693,1,""],[64694,1,""],[64695,1,""],[64696,1,""],[64697,1,""],[64698,1,""],[64699,1,""],[64700,1,""],[64701,1,""],[64702,1,""],[64703,1,""],[64704,1,""],[64705,1,""],[64706,1,""],[64707,1,""],[64708,1,""],[64709,1,""],[64710,1,""],[64711,1,""],[64712,1,""],[64713,1,""],[64714,1,""],[64715,1,""],[64716,1,""],[64717,1,""],[64718,1,""],[64719,1,""],[64720,1,""],[64721,1,""],[64722,1,""],[64723,1,""],[64724,1,""],[64725,1,""],[64726,1,""],[64727,1,""],[64728,1,""],[64729,1,""],[64730,1,""],[64731,1,""],[64732,1,""],[64733,1,""],[64734,1,""],[64735,1,""],[64736,1,""],[64737,1,""],[64738,1,""],[64739,1,""],[64740,1,""],[64741,1,""],[64742,1,""],[64743,1,""],[64744,1,""],[64745,1,""],[64746,1,""],[64747,1,""],[64748,1,""],[64749,1,""],[64750,1,""],[64751,1,""],[64752,1,""],[64753,1,""],[64754,1,""],[64755,1,""],[64756,1,""],[64757,1,""],[64758,1,""],[64759,1,""],[64760,1,""],[64761,1,""],[64762,1,""],[64763,1,""],[64764,1,""],[64765,1,""],[64766,1,""],[64767,1,""],[64768,1,""],[64769,1,""],[64770,1,""],[64771,1,""],[64772,1,""],[64773,1,""],[64774,1,""],[64775,1,""],[64776,1,""],[64777,1,""],[64778,1,""],[64779,1,""],[64780,1,""],[64781,1,""],[64782,1,""],[64783,1,""],[64784,1,""],[64785,1,""],[64786,1,""],[64787,1,""],[64788,1,""],[64789,1,""],[64790,1,""],[64791,1,""],[64792,1,""],[64793,1,""],[64794,1,""],[64795,1,""],[64796,1,""],[64797,1,""],[64798,1,""],[64799,1,""],[64800,1,""],[64801,1,""],[64802,1,""],[64803,1,""],[64804,1,""],[64805,1,""],[64806,1,""],[64807,1,""],[64808,1,""],[64809,1,""],[64810,1,""],[64811,1,""],[64812,1,""],[64813,1,""],[64814,1,""],[64815,1,""],[64816,1,""],[64817,1,""],[64818,1,""],[64819,1,""],[64820,1,""],[64821,1,""],[64822,1,""],[64823,1,""],[64824,1,""],[64825,1,""],[64826,1,""],[64827,1,""],[[64828,64829],1,""],[[64830,64831],2],[[64832,64847],2],[64848,1,""],[[64849,64850],1,""],[64851,1,""],[64852,1,""],[64853,1,""],[64854,1,""],[64855,1,""],[[64856,64857],1,""],[64858,1,""],[64859,1,""],[64860,1,""],[64861,1,""],[64862,1,""],[[64863,64864],1,""],[64865,1,""],[[64866,64867],1,""],[[64868,64869],1,""],[64870,1,""],[[64871,64872],1,""],[64873,1,""],[[64874,64875],1,""],[[64876,64877],1,""],[64878,1,""],[[64879,64880],1,""],[[64881,64882],1,""],[64883,1,""],[64884,1,""],[64885,1,""],[[64886,64887],1,""],[64888,1,""],[64889,1,""],[64890,1,""],[64891,1,""],[[64892,64893],1,""],[64894,1,""],[64895,1,""],[64896,1,""],[64897,1,""],[64898,1,""],[[64899,64900],1,""],[[64901,64902],1,""],[[64903,64904],1,""],[64905,1,""],[64906,1,""],[64907,1,""],[64908,1,""],[64909,1,""],[64910,1,""],[64911,1,""],[[64912,64913],3],[64914,1,""],[64915,1,""],[64916,1,""],[64917,1,""],[64918,1,""],[[64919,64920],1,""],[64921,1,""],[64922,1,""],[64923,1,""],[[64924,64925],1,""],[64926,1,""],[64927,1,""],[64928,1,""],[64929,1,""],[64930,1,""],[64931,1,""],[64932,1,""],[64933,1,""],[64934,1,""],[64935,1,""],[64936,1,""],[64937,1,""],[64938,1,""],[64939,1,""],[64940,1,""],[64941,1,""],[64942,1,""],[64943,1,""],[64944,1,""],[64945,1,""],[64946,1,""],[64947,1,""],[64948,1,""],[64949,1,""],[64950,1,""],[64951,1,""],[64952,1,""],[64953,1,""],[64954,1,""],[64955,1,""],[64956,1,""],[64957,1,""],[64958,1,""],[64959,1,""],[64960,1,""],[64961,1,""],[64962,1,""],[64963,1,""],[64964,1,""],[64965,1,""],[64966,1,""],[64967,1,""],[[64968,64974],3],[64975,2],[[64976,65007],3],[65008,1,""],[65009,1,""],[65010,1,""],[65011,1,""],[65012,1,""],[65013,1,""],[65014,1,""],[65015,1,""],[65016,1,""],[65017,1,""],[65018,1,"   "],[65019,1," "],[65020,1,""],[65021,2],[[65022,65023],2],[[65024,65039],7],[65040,1,","],[65041,1,""],[65042,3],[65043,1,":"],[65044,1,";"],[65045,1,"!"],[65046,1,"?"],[65047,1,""],[65048,1,""],[65049,3],[[65050,65055],3],[[65056,65059],2],[[65060,65062],2],[[65063,65069],2],[[65070,65071],2],[65072,3],[65073,1,""],[65074,1,""],[[65075,65076],1,"_"],[65077,1,"("],[65078,1,")"],[65079,1,"{"],[65080,1,"}"],[65081,1,""],[65082,1,""],[65083,1,""],[65084,1,""],[65085,1,""],[65086,1,""],[65087,1,""],[65088,1,""],[65089,1,""],[65090,1,""],[65091,1,""],[65092,1,""],[[65093,65094],2],[65095,1,"["],[65096,1,"]"],[[65097,65100],1," "],[[65101,65103],1,"_"],[65104,1,","],[65105,1,""],[65106,3],[65107,3],[65108,1,";"],[65109,1,":"],[65110,1,"?"],[65111,1,"!"],[65112,1,""],[65113,1,"("],[65114,1,")"],[65115,1,"{"],[65116,1,"}"],[65117,1,""],[65118,1,""],[65119,1,"#"],[65120,1,"&"],[65121,1,"*"],[65122,1,"+"],[65123,1,"-"],[65124,1,"<"],[65125,1,">"],[65126,1,"="],[65127,3],[65128,1,"\\\\"],[65129,1,"$"],[65130,1,"%"],[65131,1,"@"],[[65132,65135],3],[65136,1," "],[65137,1,""],[65138,1," "],[65139,2],[65140,1," "],[65141,3],[65142,1," "],[65143,1,""],[65144,1," "],[65145,1,""],[65146,1," "],[65147,1,""],[65148,1," "],[65149,1,""],[65150,1," "],[65151,1,""],[65152,1,""],[[65153,65154],1,""],[[65155,65156],1,""],[[65157,65158],1,""],[[65159,65160],1,""],[[65161,65164],1,""],[[65165,65166],1,""],[[65167,65170],1,""],[[65171,65172],1,""],[[65173,65176],1,""],[[65177,65180],1,""],[[65181,65184],1,""],[[65185,65188],1,""],[[65189,65192],1,""],[[65193,65194],1,""],[[65195,65196],1,""],[[65197,65198],1,""],[[65199,65200],1,""],[[65201,65204],1,""],[[65205,65208],1,""],[[65209,65212],1,""],[[65213,65216],1,""],[[65217,65220],1,""],[[65221,65224],1,""],[[65225,65228],1,""],[[65229,65232],1,""],[[65233,65236],1,""],[[65237,65240],1,""],[[65241,65244],1,""],[[65245,65248],1,""],[[65249,65252],1,""],[[65253,65256],1,""],[[65257,65260],1,""],[[65261,65262],1,""],[[65263,65264],1,""],[[65265,65268],1,""],[[65269,65270],1,""],[[65271,65272],1,""],[[65273,65274],1,""],[[65275,65276],1,""],[[65277,65278],3],[65279,7],[65280,3],[65281,1,"!"],[65282,1,"\\""],[65283,1,"#"],[65284,1,"$"],[65285,1,"%"],[65286,1,"&"],[65287,1,"\'"],[65288,1,"("],[65289,1,")"],[65290,1,"*"],[65291,1,"+"],[65292,1,","],[65293,1,"-"],[65294,1,"."],[65295,1,"/"],[65296,1,"0"],[65297,1,"1"],[65298,1,"2"],[65299,1,"3"],[65300,1,"4"],[65301,1,"5"],[65302,1,"6"],[65303,1,"7"],[65304,1,"8"],[65305,1,"9"],[65306,1,":"],[65307,1,";"],[65308,1,"<"],[65309,1,"="],[65310,1,">"],[65311,1,"?"],[65312,1,"@"],[65313,1,"a"],[65314,1,"b"],[65315,1,"c"],[65316,1,"d"],[65317,1,"e"],[65318,1,"f"],[65319,1,"g"],[65320,1,"h"],[65321,1,"i"],[65322,1,"j"],[65323,1,"k"],[65324,1,"l"],[65325,1,"m"],[65326,1,"n"],[65327,1,"o"],[65328,1,"p"],[65329,1,"q"],[65330,1,"r"],[65331,1,"s"],[65332,1,"t"],[65333,1,"u"],[65334,1,"v"],[65335,1,"w"],[65336,1,"x"],[65337,1,"y"],[65338,1,"z"],[65339,1,"["],[65340,1,"\\\\"],[65341,1,"]"],[65342,1,"^"],[65343,1,"_"],[65344,1,"`"],[65345,1,"a"],[65346,1,"b"],[65347,1,"c"],[65348,1,"d"],[65349,1,"e"],[65350,1,"f"],[65351,1,"g"],[65352,1,"h"],[65353,1,"i"],[65354,1,"j"],[65355,1,"k"],[65356,1,"l"],[65357,1,"m"],[65358,1,"n"],[65359,1,"o"],[65360,1,"p"],[65361,1,"q"],[65362,1,"r"],[65363,1,"s"],[65364,1,"t"],[65365,1,"u"],[65366,1,"v"],[65367,1,"w"],[65368,1,"x"],[65369,1,"y"],[65370,1,"z"],[65371,1,"{"],[65372,1,"|"],[65373,1,"}"],[65374,1,"~"],[65375,1,""],[65376,1,""],[65377,1,"."],[65378,1,""],[65379,1,""],[65380,1,""],[65381,1,""],[65382,1,""],[65383,1,""],[65384,1,""],[65385,1,""],[65386,1,""],[65387,1,""],[65388,1,""],[65389,1,""],[65390,1,""],[65391,1,""],[65392,1,""],[65393,1,""],[65394,1,""],[65395,1,""],[65396,1,""],[65397,1,""],[65398,1,""],[65399,1,""],[65400,1,""],[65401,1,""],[65402,1,""],[65403,1,""],[65404,1,""],[65405,1,""],[65406,1,""],[65407,1,""],[65408,1,""],[65409,1,""],[65410,1,""],[65411,1,""],[65412,1,""],[65413,1,""],[65414,1,""],[65415,1,""],[65416,1,""],[65417,1,""],[65418,1,""],[65419,1,""],[65420,1,""],[65421,1,""],[65422,1,""],[65423,1,""],[65424,1,""],[65425,1,""],[65426,1,""],[65427,1,""],[65428,1,""],[65429,1,""],[65430,1,""],[65431,1,""],[65432,1,""],[65433,1,""],[65434,1,""],[65435,1,""],[65436,1,""],[65437,1,""],[65438,1,""],[65439,1,""],[65440,7],[65441,1,""],[65442,1,""],[65443,1,""],[65444,1,""],[65445,1,""],[65446,1,""],[65447,1,""],[65448,1,""],[65449,1,""],[65450,1,""],[65451,1,""],[65452,1,""],[65453,1,""],[65454,1,""],[65455,1,""],[65456,1,""],[65457,1,""],[65458,1,""],[65459,1,""],[65460,1,""],[65461,1,""],[65462,1,""],[65463,1,""],[65464,1,""],[65465,1,""],[65466,1,""],[65467,1,""],[65468,1,""],[65469,1,""],[65470,1,""],[[65471,65473],3],[65474,1,""],[65475,1,""],[65476,1,""],[65477,1,""],[65478,1,""],[65479,1,""],[[65480,65481],3],[65482,1,""],[65483,1,""],[65484,1,""],[65485,1,""],[65486,1,""],[65487,1,""],[[65488,65489],3],[65490,1,""],[65491,1,""],[65492,1,""],[65493,1,""],[65494,1,""],[65495,1,""],[[65496,65497],3],[65498,1,""],[65499,1,""],[65500,1,""],[[65501,65503],3],[65504,1,""],[65505,1,""],[65506,1,""],[65507,1," "],[65508,1,""],[65509,1,""],[65510,1,""],[65511,3],[65512,1,""],[65513,1,""],[65514,1,""],[65515,1,""],[65516,1,""],[65517,1,""],[65518,1,""],[[65519,65528],3],[[65529,65531],3],[65532,3],[65533,3],[[65534,65535],3],[[65536,65547],2],[65548,3],[[65549,65574],2],[65575,3],[[65576,65594],2],[65595,3],[[65596,65597],2],[65598,3],[[65599,65613],2],[[65614,65615],3],[[65616,65629],2],[[65630,65663],3],[[65664,65786],2],[[65787,65791],3],[[65792,65794],2],[[65795,65798],3],[[65799,65843],2],[[65844,65846],3],[[65847,65855],2],[[65856,65930],2],[[65931,65932],2],[[65933,65934],2],[65935,3],[[65936,65947],2],[65948,2],[[65949,65951],3],[65952,2],[[65953,65999],3],[[66000,66044],2],[66045,2],[[66046,66175],3],[[66176,66204],2],[[66205,66207],3],[[66208,66256],2],[[66257,66271],3],[66272,2],[[66273,66299],2],[[66300,66303],3],[[66304,66334],2],[66335,2],[[66336,66339],2],[[66340,66348],3],[[66349,66351],2],[[66352,66368],2],[66369,2],[[66370,66377],2],[66378,2],[[66379,66383],3],[[66384,66426],2],[[66427,66431],3],[[66432,66461],2],[66462,3],[66463,2],[[66464,66499],2],[[66500,66503],3],[[66504,66511],2],[[66512,66517],2],[[66518,66559],3],[66560,1,""],[66561,1,""],[66562,1,""],[66563,1,""],[66564,1,""],[66565,1,""],[66566,1,""],[66567,1,""],[66568,1,""],[66569,1,""],[66570,1,""],[66571,1,""],[66572,1,""],[66573,1,""],[66574,1,""],[66575,1,""],[66576,1,""],[66577,1,""],[66578,1,""],[66579,1,""],[66580,1,""],[66581,1,""],[66582,1,""],[66583,1,""],[66584,1,""],[66585,1,""],[66586,1,""],[66587,1,""],[66588,1,""],[66589,1,""],[66590,1,""],[66591,1,""],[66592,1,""],[66593,1,""],[66594,1,""],[66595,1,""],[66596,1,""],[66597,1,""],[66598,1,""],[66599,1,""],[[66600,66637],2],[[66638,66717],2],[[66718,66719],3],[[66720,66729],2],[[66730,66735],3],[66736,1,""],[66737,1,""],[66738,1,""],[66739,1,""],[66740,1,""],[66741,1,""],[66742,1,""],[66743,1,""],[66744,1,""],[66745,1,""],[66746,1,""],[66747,1,""],[66748,1,""],[66749,1,""],[66750,1,""],[66751,1,""],[66752,1,""],[66753,1,""],[66754,1,""],[66755,1,""],[66756,1,""],[66757,1,""],[66758,1,""],[66759,1,""],[66760,1,""],[66761,1,""],[66762,1,""],[66763,1,""],[66764,1,""],[66765,1,""],[66766,1,""],[66767,1,""],[66768,1,""],[66769,1,""],[66770,1,""],[66771,1,""],[[66772,66775],3],[[66776,66811],2],[[66812,66815],3],[[66816,66855],2],[[66856,66863],3],[[66864,66915],2],[[66916,66926],3],[66927,2],[66928,1,""],[66929,1,""],[66930,1,""],[66931,1,""],[66932,1,""],[66933,1,""],[66934,1,""],[66935,1,""],[66936,1,""],[66937,1,""],[66938,1,""],[66939,3],[66940,1,""],[66941,1,""],[66942,1,""],[66943,1,""],[66944,1,""],[66945,1,""],[66946,1,""],[66947,1,""],[66948,1,""],[66949,1,""],[66950,1,""],[66951,1,""],[66952,1,""],[66953,1,""],[66954,1,""],[66955,3],[66956,1,""],[66957,1,""],[66958,1,""],[66959,1,""],[66960,1,""],[66961,1,""],[66962,1,""],[66963,3],[66964,1,""],[66965,1,""],[66966,3],[[66967,66977],2],[66978,3],[[66979,66993],2],[66994,3],[[66995,67001],2],[67002,3],[[67003,67004],2],[[67005,67007],3],[[67008,67059],2],[[67060,67071],3],[[67072,67382],2],[[67383,67391],3],[[67392,67413],2],[[67414,67423],3],[[67424,67431],2],[[67432,67455],3],[67456,2],[67457,1,""],[67458,1,""],[67459,1,""],[67460,1,""],[67461,1,""],[67462,3],[67463,1,""],[67464,1,""],[67465,1,""],[67466,1,""],[67467,1,""],[67468,1,""],[67469,1,""],[67470,1,""],[67471,1,""],[67472,1,""],[67473,1,""],[67474,1,""],[67475,1,""],[67476,1,""],[67477,1,""],[67478,1,""],[67479,1,""],[67480,1,""],[67481,1,""],[67482,1,""],[67483,1,""],[67484,1,""],[67485,1,""],[67486,1,""],[67487,1,""],[67488,1,""],[67489,1,""],[67490,1,""],[67491,1,""],[67492,1,""],[67493,1,"q"],[67494,1,""],[67495,1,""],[67496,1,""],[67497,1,""],[67498,1,""],[67499,1,""],[67500,1,""],[67501,1,""],[67502,1,""],[67503,1,""],[67504,1,""],[67505,3],[67506,1,""],[67507,1,""],[67508,1,""],[67509,1,""],[67510,1,""],[67511,1,""],[67512,1,""],[67513,1,""],[67514,1,""],[[67515,67583],3],[[67584,67589],2],[[67590,67591],3],[67592,2],[67593,3],[[67594,67637],2],[67638,3],[[67639,67640],2],[[67641,67643],3],[67644,2],[[67645,67646],3],[67647,2],[[67648,67669],2],[67670,3],[[67671,67679],2],[[67680,67702],2],[[67703,67711],2],[[67712,67742],2],[[67743,67750],3],[[67751,67759],2],[[67760,67807],3],[[67808,67826],2],[67827,3],[[67828,67829],2],[[67830,67834],3],[[67835,67839],2],[[67840,67861],2],[[67862,67865],2],[[67866,67867],2],[[67868,67870],3],[67871,2],[[67872,67897],2],[[67898,67902],3],[67903,2],[[67904,67967],3],[[67968,68023],2],[[68024,68027],3],[[68028,68029],2],[[68030,68031],2],[[68032,68047],2],[[68048,68049],3],[[68050,68095],2],[[68096,68099],2],[68100,3],[[68101,68102],2],[[68103,68107],3],[[68108,68115],2],[68116,3],[[68117,68119],2],[68120,3],[[68121,68147],2],[[68148,68149],2],[[68150,68151],3],[[68152,68154],2],[[68155,68158],3],[68159,2],[[68160,68167],2],[68168,2],[[68169,68175],3],[[68176,68184],2],[[68185,68191],3],[[68192,68220],2],[[68221,68223],2],[[68224,68252],2],[[68253,68255],2],[[68256,68287],3],[[68288,68295],2],[68296,2],[[68297,68326],2],[[68327,68330],3],[[68331,68342],2],[[68343,68351],3],[[68352,68405],2],[[68406,68408],3],[[68409,68415],2],[[68416,68437],2],[[68438,68439],3],[[68440,68447],2],[[68448,68466],2],[[68467,68471],3],[[68472,68479],2],[[68480,68497],2],[[68498,68504],3],[[68505,68508],2],[[68509,68520],3],[[68521,68527],2],[[68528,68607],3],[[68608,68680],2],[[68681,68735],3],[68736,1,""],[68737,1,""],[68738,1,""],[68739,1,""],[68740,1,""],[68741,1,""],[68742,1,""],[68743,1,""],[68744,1,""],[68745,1,""],[68746,1,""],[68747,1,""],[68748,1,""],[68749,1,""],[68750,1,""],[68751,1,""],[68752,1,""],[68753,1,""],[68754,1,""],[68755,1,""],[68756,1,""],[68757,1,""],[68758,1,""],[68759,1,""],[68760,1,""],[68761,1,""],[68762,1,""],[68763,1,""],[68764,1,""],[68765,1,""],[68766,1,""],[68767,1,""],[68768,1,""],[68769,1,""],[68770,1,""],[68771,1,""],[68772,1,""],[68773,1,""],[68774,1,""],[68775,1,""],[68776,1,""],[68777,1,""],[68778,1,""],[68779,1,""],[68780,1,""],[68781,1,""],[68782,1,""],[68783,1,""],[68784,1,""],[68785,1,""],[68786,1,""],[[68787,68799],3],[[68800,68850],2],[[68851,68857],3],[[68858,68863],2],[[68864,68903],2],[[68904,68911],3],[[68912,68921],2],[[68922,68927],3],[[68928,68943],2],[68944,1,""],[68945,1,""],[68946,1,""],[68947,1,""],[68948,1,""],[68949,1,""],[68950,1,""],[68951,1,""],[68952,1,""],[68953,1,""],[68954,1,""],[68955,1,""],[68956,1,""],[68957,1,""],[68958,1,""],[68959,1,""],[68960,1,""],[68961,1,""],[68962,1,""],[68963,1,""],[68964,1,""],[68965,1,""],[[68966,68968],3],[[68969,68973],2],[68974,2],[[68975,68997],2],[[68998,69005],3],[[69006,69007],2],[[69008,69215],3],[[69216,69246],2],[69247,3],[[69248,69289],2],[69290,3],[[69291,69292],2],[69293,2],[[69294,69295],3],[[69296,69297],2],[[69298,69313],3],[[69314,69316],2],[[69317,69371],3],[69372,2],[[69373,69375],2],[[69376,69404],2],[[69405,69414],2],[69415,2],[[69416,69423],3],[[69424,69456],2],[[69457,69465],2],[[69466,69487],3],[[69488,69509],2],[[69510,69513],2],[[69514,69551],3],[[69552,69572],2],[[69573,69579],2],[[69580,69599],3],[[69600,69622],2],[[69623,69631],3],[[69632,69702],2],[[69703,69709],2],[[69710,69713],3],[[69714,69733],2],[[69734,69743],2],[[69744,69749],2],[[69750,69758],3],[69759,2],[[69760,69818],2],[[69819,69820],2],[69821,3],[[69822,69825],2],[69826,2],[[69827,69836],3],[69837,3],[[69838,69839],3],[[69840,69864],2],[[69865,69871],3],[[69872,69881],2],[[69882,69887],3],[[69888,69940],2],[69941,3],[[69942,69951],2],[[69952,69955],2],[[69956,69958],2],[69959,2],[[69960,69967],3],[[69968,70003],2],[[70004,70005],2],[70006,2],[[70007,70015],3],[[70016,70084],2],[[70085,70088],2],[[70089,70092],2],[70093,2],[[70094,70095],2],[[70096,70105],2],[70106,2],[70107,2],[70108,2],[[70109,70111],2],[70112,3],[[70113,70132],2],[[70133,70143],3],[[70144,70161],2],[70162,3],[[70163,70199],2],[[70200,70205],2],[70206,2],[[70207,70209],2],[[70210,70271],3],[[70272,70278],2],[70279,3],[70280,2],[70281,3],[[70282,70285],2],[70286,3],[[70287,70301],2],[70302,3],[[70303,70312],2],[70313,2],[[70314,70319],3],[[70320,70378],2],[[70379,70383],3],[[70384,70393],2],[[70394,70399],3],[70400,2],[[70401,70403],2],[70404,3],[[70405,70412],2],[[70413,70414],3],[[70415,70416],2],[[70417,70418],3],[[70419,70440],2],[70441,3],[[70442,70448],2],[70449,3],[[70450,70451],2],[70452,3],[[70453,70457],2],[70458,3],[70459,2],[[70460,70468],2],[[70469,70470],3],[[70471,70472],2],[[70473,70474],3],[[70475,70477],2],[[70478,70479],3],[70480,2],[[70481,70486],3],[70487,2],[[70488,70492],3],[[70493,70499],2],[[70500,70501],3],[[70502,70508],2],[[70509,70511],3],[[70512,70516],2],[[70517,70527],3],[[70528,70537],2],[70538,3],[70539,2],[[70540,70541],3],[70542,2],[70543,3],[[70544,70581],2],[70582,3],[[70583,70592],2],[70593,3],[70594,2],[[70595,70596],3],[70597,2],[70598,3],[[70599,70602],2],[70603,3],[[70604,70611],2],[[70612,70613],2],[70614,3],[[70615,70616],2],[[70617,70624],3],[[70625,70626],2],[[70627,70655],3],[[70656,70730],2],[[70731,70735],2],[[70736,70745],2],[70746,2],[70747,2],[70748,3],[70749,2],[70750,2],[70751,2],[[70752,70753],2],[[70754,70783],3],[[70784,70853],2],[70854,2],[70855,2],[[70856,70863],3],[[70864,70873],2],[[70874,71039],3],[[71040,71093],2],[[71094,71095],3],[[71096,71104],2],[[71105,71113],2],[[71114,71127],2],[[71128,71133],2],[[71134,71167],3],[[71168,71232],2],[[71233,71235],2],[71236,2],[[71237,71247],3],[[71248,71257],2],[[71258,71263],3],[[71264,71276],2],[[71277,71295],3],[[71296,71351],2],[71352,2],[71353,2],[[71354,71359],3],[[71360,71369],2],[[71370,71375],3],[[71376,71395],2],[[71396,71423],3],[[71424,71449],2],[71450,2],[[71451,71452],3],[[71453,71467],2],[[71468,71471],3],[[71472,71481],2],[[71482,71487],2],[[71488,71494],2],[[71495,71679],3],[[71680,71738],2],[71739,2],[[71740,71839],3],[71840,1,""],[71841,1,""],[71842,1,""],[71843,1,""],[71844,1,""],[71845,1,""],[71846,1,""],[71847,1,""],[71848,1,""],[71849,1,""],[71850,1,""],[71851,1,""],[71852,1,""],[71853,1,""],[71854,1,""],[71855,1,""],[71856,1,""],[71857,1,""],[71858,1,""],[71859,1,""],[71860,1,""],[71861,1,""],[71862,1,""],[71863,1,""],[71864,1,""],[71865,1,""],[71866,1,""],[71867,1,""],[71868,1,""],[71869,1,""],[71870,1,""],[71871,1,""],[[71872,71913],2],[[71914,71922],2],[[71923,71934],3],[71935,2],[[71936,71942],2],[[71943,71944],3],[71945,2],[[71946,71947],3],[[71948,71955],2],[71956,3],[[71957,71958],2],[71959,3],[[71960,71989],2],[71990,3],[[71991,71992],2],[[71993,71994],3],[[71995,72003],2],[[72004,72006],2],[[72007,72015],3],[[72016,72025],2],[[72026,72095],3],[[72096,72103],2],[[72104,72105],3],[[72106,72151],2],[[72152,72153],3],[[72154,72161],2],[72162,2],[[72163,72164],2],[[72165,72191],3],[[72192,72254],2],[[72255,72262],2],[72263,2],[[72264,72271],3],[[72272,72323],2],[[72324,72325],2],[[72326,72345],2],[[72346,72348],2],[72349,2],[[72350,72354],2],[[72355,72367],3],[[72368,72383],2],[[72384,72440],2],[[72441,72447],3],[[72448,72457],2],[[72458,72639],3],[[72640,72672],2],[72673,2],[[72674,72687],3],[[72688,72697],2],[[72698,72703],3],[[72704,72712],2],[72713,3],[[72714,72758],2],[72759,3],[[72760,72768],2],[[72769,72773],2],[[72774,72783],3],[[72784,72793],2],[[72794,72812],2],[[72813,72815],3],[[72816,72817],2],[[72818,72847],2],[[72848,72849],3],[[72850,72871],2],[72872,3],[[72873,72886],2],[[72887,72959],3],[[72960,72966],2],[72967,3],[[72968,72969],2],[72970,3],[[72971,73014],2],[[73015,73017],3],[73018,2],[73019,3],[[73020,73021],2],[73022,3],[[73023,73031],2],[[73032,73039],3],[[73040,73049],2],[[73050,73055],3],[[73056,73061],2],[73062,3],[[73063,73064],2],[73065,3],[[73066,73102],2],[73103,3],[[73104,73105],2],[73106,3],[[73107,73112],2],[[73113,73119],3],[[73120,73129],2],[[73130,73439],3],[[73440,73462],2],[[73463,73464],2],[[73465,73471],3],[[73472,73488],2],[73489,3],[[73490,73530],2],[[73531,73533],3],[[73534,73538],2],[[73539,73551],2],[[73552,73561],2],[73562,2],[[73563,73647],3],[73648,2],[[73649,73663],3],[[73664,73713],2],[[73714,73726],3],[73727,2],[[73728,74606],2],[[74607,74648],2],[74649,2],[[74650,74751],3],[[74752,74850],2],[[74851,74862],2],[74863,3],[[74864,74867],2],[74868,2],[[74869,74879],3],[[74880,75075],2],[[75076,77711],3],[[77712,77808],2],[[77809,77810],2],[[77811,77823],3],[[77824,78894],2],[78895,2],[[78896,78904],3],[[78905,78911],3],[[78912,78933],2],[[78934,78943],3],[[78944,82938],2],[[82939,82943],3],[[82944,83526],2],[[83527,90367],3],[[90368,90425],2],[[90426,92159],3],[[92160,92728],2],[[92729,92735],3],[[92736,92766],2],[92767,3],[[92768,92777],2],[[92778,92781],3],[[92782,92783],2],[[92784,92862],2],[92863,3],[[92864,92873],2],[[92874,92879],3],[[92880,92909],2],[[92910,92911],3],[[92912,92916],2],[92917,2],[[92918,92927],3],[[92928,92982],2],[[92983,92991],2],[[92992,92995],2],[[92996,92997],2],[[92998,93007],3],[[93008,93017],2],[93018,3],[[93019,93025],2],[93026,3],[[93027,93047],2],[[93048,93052],3],[[93053,93071],2],[[93072,93503],3],[[93504,93548],2],[[93549,93551],2],[[93552,93561],2],[[93562,93759],3],[93760,1,""],[93761,1,""],[93762,1,""],[93763,1,""],[93764,1,""],[93765,1,""],[93766,1,""],[93767,1,""],[93768,1,""],[93769,1,""],[93770,1,""],[93771,1,""],[93772,1,""],[93773,1,""],[93774,1,""],[93775,1,""],[93776,1,""],[93777,1,""],[93778,1,""],[93779,1,""],[93780,1,""],[93781,1,""],[93782,1,""],[93783,1,""],[93784,1,""],[93785,1,""],[93786,1,""],[93787,1,""],[93788,1,""],[93789,1,""],[93790,1,""],[93791,1,""],[[93792,93823],2],[[93824,93850],2],[[93851,93951],3],[[93952,94020],2],[[94021,94026],2],[[94027,94030],3],[94031,2],[[94032,94078],2],[[94079,94087],2],[[94088,94094],3],[[94095,94111],2],[[94112,94175],3],[94176,2],[94177,2],[94178,2],[94179,2],[94180,2],[[94181,94191],3],[[94192,94193],2],[[94194,94207],3],[[94208,100332],2],[[100333,100337],2],[[100338,100343],2],[[100344,100351],3],[[100352,101106],2],[[101107,101589],2],[[101590,101630],3],[101631,2],[[101632,101640],2],[[101641,110575],3],[[110576,110579],2],[110580,3],[[110581,110587],2],[110588,3],[[110589,110590],2],[110591,3],[[110592,110593],2],[[110594,110878],2],[[110879,110882],2],[[110883,110897],3],[110898,2],[[110899,110927],3],[[110928,110930],2],[[110931,110932],3],[110933,2],[[110934,110947],3],[[110948,110951],2],[[110952,110959],3],[[110960,111355],2],[[111356,113663],3],[[113664,113770],2],[[113771,113775],3],[[113776,113788],2],[[113789,113791],3],[[113792,113800],2],[[113801,113807],3],[[113808,113817],2],[[113818,113819],3],[113820,2],[[113821,113822],2],[113823,2],[[113824,113827],7],[[113828,117759],3],[[117760,117973],2],[117974,1,"a"],[117975,1,"b"],[117976,1,"c"],[117977,1,"d"],[117978,1,"e"],[117979,1,"f"],[117980,1,"g"],[117981,1,"h"],[117982,1,"i"],[117983,1,"j"],[117984,1,"k"],[117985,1,"l"],[117986,1,"m"],[117987,1,"n"],[117988,1,"o"],[117989,1,"p"],[117990,1,"q"],[117991,1,"r"],[117992,1,"s"],[117993,1,"t"],[117994,1,"u"],[117995,1,"v"],[117996,1,"w"],[117997,1,"x"],[117998,1,"y"],[117999,1,"z"],[118000,1,"0"],[118001,1,"1"],[118002,1,"2"],[118003,1,"3"],[118004,1,"4"],[118005,1,"5"],[118006,1,"6"],[118007,1,"7"],[118008,1,"8"],[118009,1,"9"],[[118010,118015],3],[[118016,118451],2],[[118452,118527],3],[[118528,118573],2],[[118574,118575],3],[[118576,118598],2],[[118599,118607],3],[[118608,118723],2],[[118724,118783],3],[[118784,119029],2],[[119030,119039],3],[[119040,119078],2],[[119079,119080],3],[119081,2],[[119082,119133],2],[119134,1,""],[119135,1,""],[119136,1,""],[119137,1,""],[119138,1,""],[119139,1,""],[119140,1,""],[[119141,119154],2],[[119155,119162],7],[[119163,119226],2],[119227,1,""],[119228,1,""],[119229,1,""],[119230,1,""],[119231,1,""],[119232,1,""],[[119233,119261],2],[[119262,119272],2],[[119273,119274],2],[[119275,119295],3],[[119296,119365],2],[[119366,119487],3],[[119488,119507],2],[[119508,119519],3],[[119520,119539],2],[[119540,119551],3],[[119552,119638],2],[[119639,119647],3],[[119648,119665],2],[[119666,119672],2],[[119673,119807],3],[119808,1,"a"],[119809,1,"b"],[119810,1,"c"],[119811,1,"d"],[119812,1,"e"],[119813,1,"f"],[119814,1,"g"],[119815,1,"h"],[119816,1,"i"],[119817,1,"j"],[119818,1,"k"],[119819,1,"l"],[119820,1,"m"],[119821,1,"n"],[119822,1,"o"],[119823,1,"p"],[119824,1,"q"],[119825,1,"r"],[119826,1,"s"],[119827,1,"t"],[119828,1,"u"],[119829,1,"v"],[119830,1,"w"],[119831,1,"x"],[119832,1,"y"],[119833,1,"z"],[119834,1,"a"],[119835,1,"b"],[119836,1,"c"],[119837,1,"d"],[119838,1,"e"],[119839,1,"f"],[119840,1,"g"],[119841,1,"h"],[119842,1,"i"],[119843,1,"j"],[119844,1,"k"],[119845,1,"l"],[119846,1,"m"],[119847,1,"n"],[119848,1,"o"],[119849,1,"p"],[119850,1,"q"],[119851,1,"r"],[119852,1,"s"],[119853,1,"t"],[119854,1,"u"],[119855,1,"v"],[119856,1,"w"],[119857,1,"x"],[119858,1,"y"],[119859,1,"z"],[119860,1,"a"],[119861,1,"b"],[119862,1,"c"],[119863,1,"d"],[119864,1,"e"],[119865,1,"f"],[119866,1,"g"],[119867,1,"h"],[119868,1,"i"],[119869,1,"j"],[119870,1,"k"],[119871,1,"l"],[119872,1,"m"],[119873,1,"n"],[119874,1,"o"],[119875,1,"p"],[119876,1,"q"],[119877,1,"r"],[119878,1,"s"],[119879,1,"t"],[119880,1,"u"],[119881,1,"v"],[119882,1,"w"],[119883,1,"x"],[119884,1,"y"],[119885,1,"z"],[119886,1,"a"],[119887,1,"b"],[119888,1,"c"],[119889,1,"d"],[119890,1,"e"],[119891,1,"f"],[119892,1,"g"],[119893,3],[119894,1,"i"],[119895,1,"j"],[119896,1,"k"],[119897,1,"l"],[119898,1,"m"],[119899,1,"n"],[119900,1,"o"],[119901,1,"p"],[119902,1,"q"],[119903,1,"r"],[119904,1,"s"],[119905,1,"t"],[119906,1,"u"],[119907,1,"v"],[119908,1,"w"],[119909,1,"x"],[119910,1,"y"],[119911,1,"z"],[119912,1,"a"],[119913,1,"b"],[119914,1,"c"],[119915,1,"d"],[119916,1,"e"],[119917,1,"f"],[119918,1,"g"],[119919,1,"h"],[119920,1,"i"],[119921,1,"j"],[119922,1,"k"],[119923,1,"l"],[119924,1,"m"],[119925,1,"n"],[119926,1,"o"],[119927,1,"p"],[119928,1,"q"],[119929,1,"r"],[119930,1,"s"],[119931,1,"t"],[119932,1,"u"],[119933,1,"v"],[119934,1,"w"],[119935,1,"x"],[119936,1,"y"],[119937,1,"z"],[119938,1,"a"],[119939,1,"b"],[119940,1,"c"],[119941,1,"d"],[119942,1,"e"],[119943,1,"f"],[119944,1,"g"],[119945,1,"h"],[119946,1,"i"],[119947,1,"j"],[119948,1,"k"],[119949,1,"l"],[119950,1,"m"],[119951,1,"n"],[119952,1,"o"],[119953,1,"p"],[119954,1,"q"],[119955,1,"r"],[119956,1,"s"],[119957,1,"t"],[119958,1,"u"],[119959,1,"v"],[119960,1,"w"],[119961,1,"x"],[119962,1,"y"],[119963,1,"z"],[119964,1,"a"],[119965,3],[119966,1,"c"],[119967,1,"d"],[[119968,119969],3],[119970,1,"g"],[[119971,119972],3],[119973,1,"j"],[119974,1,"k"],[[119975,119976],3],[119977,1,"n"],[119978,1,"o"],[119979,1,"p"],[119980,1,"q"],[119981,3],[119982,1,"s"],[119983,1,"t"],[119984,1,"u"],[119985,1,"v"],[119986,1,"w"],[119987,1,"x"],[119988,1,"y"],[119989,1,"z"],[119990,1,"a"],[119991,1,"b"],[119992,1,"c"],[119993,1,"d"],[119994,3],[119995,1,"f"],[119996,3],[119997,1,"h"],[119998,1,"i"],[119999,1,"j"],[120000,1,"k"],[120001,1,"l"],[120002,1,"m"],[120003,1,"n"],[120004,3],[120005,1,"p"],[120006,1,"q"],[120007,1,"r"],[120008,1,"s"],[120009,1,"t"],[120010,1,"u"],[120011,1,"v"],[120012,1,"w"],[120013,1,"x"],[120014,1,"y"],[120015,1,"z"],[120016,1,"a"],[120017,1,"b"],[120018,1,"c"],[120019,1,"d"],[120020,1,"e"],[120021,1,"f"],[120022,1,"g"],[120023,1,"h"],[120024,1,"i"],[120025,1,"j"],[120026,1,"k"],[120027,1,"l"],[120028,1,"m"],[120029,1,"n"],[120030,1,"o"],[120031,1,"p"],[120032,1,"q"],[120033,1,"r"],[120034,1,"s"],[120035,1,"t"],[120036,1,"u"],[120037,1,"v"],[120038,1,"w"],[120039,1,"x"],[120040,1,"y"],[120041,1,"z"],[120042,1,"a"],[120043,1,"b"],[120044,1,"c"],[120045,1,"d"],[120046,1,"e"],[120047,1,"f"],[120048,1,"g"],[120049,1,"h"],[120050,1,"i"],[120051,1,"j"],[120052,1,"k"],[120053,1,"l"],[120054,1,"m"],[120055,1,"n"],[120056,1,"o"],[120057,1,"p"],[120058,1,"q"],[120059,1,"r"],[120060,1,"s"],[120061,1,"t"],[120062,1,"u"],[120063,1,"v"],[120064,1,"w"],[120065,1,"x"],[120066,1,"y"],[120067,1,"z"],[120068,1,"a"],[120069,1,"b"],[120070,3],[120071,1,"d"],[120072,1,"e"],[120073,1,"f"],[120074,1,"g"],[[120075,120076],3],[120077,1,"j"],[120078,1,"k"],[120079,1,"l"],[120080,1,"m"],[120081,1,"n"],[120082,1,"o"],[120083,1,"p"],[120084,1,"q"],[120085,3],[120086,1,"s"],[120087,1,"t"],[120088,1,"u"],[120089,1,"v"],[120090,1,"w"],[120091,1,"x"],[120092,1,"y"],[120093,3],[120094,1,"a"],[120095,1,"b"],[120096,1,"c"],[120097,1,"d"],[120098,1,"e"],[120099,1,"f"],[120100,1,"g"],[120101,1,"h"],[120102,1,"i"],[120103,1,"j"],[120104,1,"k"],[120105,1,"l"],[120106,1,"m"],[120107,1,"n"],[120108,1,"o"],[120109,1,"p"],[120110,1,"q"],[120111,1,"r"],[120112,1,"s"],[120113,1,"t"],[120114,1,"u"],[120115,1,"v"],[120116,1,"w"],[120117,1,"x"],[120118,1,"y"],[120119,1,"z"],[120120,1,"a"],[120121,1,"b"],[120122,3],[120123,1,"d"],[120124,1,"e"],[120125,1,"f"],[120126,1,"g"],[120127,3],[120128,1,"i"],[120129,1,"j"],[120130,1,"k"],[120131,1,"l"],[120132,1,"m"],[120133,3],[120134,1,"o"],[[120135,120137],3],[120138,1,"s"],[120139,1,"t"],[120140,1,"u"],[120141,1,"v"],[120142,1,"w"],[120143,1,"x"],[120144,1,"y"],[120145,3],[120146,1,"a"],[120147,1,"b"],[120148,1,"c"],[120149,1,"d"],[120150,1,"e"],[120151,1,"f"],[120152,1,"g"],[120153,1,"h"],[120154,1,"i"],[120155,1,"j"],[120156,1,"k"],[120157,1,"l"],[120158,1,"m"],[120159,1,"n"],[120160,1,"o"],[120161,1,"p"],[120162,1,"q"],[120163,1,"r"],[120164,1,"s"],[120165,1,"t"],[120166,1,"u"],[120167,1,"v"],[120168,1,"w"],[120169,1,"x"],[120170,1,"y"],[120171,1,"z"],[120172,1,"a"],[120173,1,"b"],[120174,1,"c"],[120175,1,"d"],[120176,1,"e"],[120177,1,"f"],[120178,1,"g"],[120179,1,"h"],[120180,1,"i"],[120181,1,"j"],[120182,1,"k"],[120183,1,"l"],[120184,1,"m"],[120185,1,"n"],[120186,1,"o"],[120187,1,"p"],[120188,1,"q"],[120189,1,"r"],[120190,1,"s"],[120191,1,"t"],[120192,1,"u"],[120193,1,"v"],[120194,1,"w"],[120195,1,"x"],[120196,1,"y"],[120197,1,"z"],[120198,1,"a"],[120199,1,"b"],[120200,1,"c"],[120201,1,"d"],[120202,1,"e"],[120203,1,"f"],[120204,1,"g"],[120205,1,"h"],[120206,1,"i"],[120207,1,"j"],[120208,1,"k"],[120209,1,"l"],[120210,1,"m"],[120211,1,"n"],[120212,1,"o"],[120213,1,"p"],[120214,1,"q"],[120215,1,"r"],[120216,1,"s"],[120217,1,"t"],[120218,1,"u"],[120219,1,"v"],[120220,1,"w"],[120221,1,"x"],[120222,1,"y"],[120223,1,"z"],[120224,1,"a"],[120225,1,"b"],[120226,1,"c"],[120227,1,"d"],[120228,1,"e"],[120229,1,"f"],[120230,1,"g"],[120231,1,"h"],[120232,1,"i"],[120233,1,"j"],[120234,1,"k"],[120235,1,"l"],[120236,1,"m"],[120237,1,"n"],[120238,1,"o"],[120239,1,"p"],[120240,1,"q"],[120241,1,"r"],[120242,1,"s"],[120243,1,"t"],[120244,1,"u"],[120245,1,"v"],[120246,1,"w"],[120247,1,"x"],[120248,1,"y"],[120249,1,"z"],[120250,1,"a"],[120251,1,"b"],[120252,1,"c"],[120253,1,"d"],[120254,1,"e"],[120255,1,"f"],[120256,1,"g"],[120257,1,"h"],[120258,1,"i"],[120259,1,"j"],[120260,1,"k"],[120261,1,"l"],[120262,1,"m"],[120263,1,"n"],[120264,1,"o"],[120265,1,"p"],[120266,1,"q"],[120267,1,"r"],[120268,1,"s"],[120269,1,"t"],[120270,1,"u"],[120271,1,"v"],[120272,1,"w"],[120273,1,"x"],[120274,1,"y"],[120275,1,"z"],[120276,1,"a"],[120277,1,"b"],[120278,1,"c"],[120279,1,"d"],[120280,1,"e"],[120281,1,"f"],[120282,1,"g"],[120283,1,"h"],[120284,1,"i"],[120285,1,"j"],[120286,1,"k"],[120287,1,"l"],[120288,1,"m"],[120289,1,"n"],[120290,1,"o"],[120291,1,"p"],[120292,1,"q"],[120293,1,"r"],[120294,1,"s"],[120295,1,"t"],[120296,1,"u"],[120297,1,"v"],[120298,1,"w"],[120299,1,"x"],[120300,1,"y"],[120301,1,"z"],[120302,1,"a"],[120303,1,"b"],[120304,1,"c"],[120305,1,"d"],[120306,1,"e"],[120307,1,"f"],[120308,1,"g"],[120309,1,"h"],[120310,1,"i"],[120311,1,"j"],[120312,1,"k"],[120313,1,"l"],[120314,1,"m"],[120315,1,"n"],[120316,1,"o"],[120317,1,"p"],[120318,1,"q"],[120319,1,"r"],[120320,1,"s"],[120321,1,"t"],[120322,1,"u"],[120323,1,"v"],[120324,1,"w"],[120325,1,"x"],[120326,1,"y"],[120327,1,"z"],[120328,1,"a"],[120329,1,"b"],[120330,1,"c"],[120331,1,"d"],[120332,1,"e"],[120333,1,"f"],[120334,1,"g"],[120335,1,"h"],[120336,1,"i"],[120337,1,"j"],[120338,1,"k"],[120339,1,"l"],[120340,1,"m"],[120341,1,"n"],[120342,1,"o"],[120343,1,"p"],[120344,1,"q"],[120345,1,"r"],[120346,1,"s"],[120347,1,"t"],[120348,1,"u"],[120349,1,"v"],[120350,1,"w"],[120351,1,"x"],[120352,1,"y"],[120353,1,"z"],[120354,1,"a"],[120355,1,"b"],[120356,1,"c"],[120357,1,"d"],[120358,1,"e"],[120359,1,"f"],[120360,1,"g"],[120361,1,"h"],[120362,1,"i"],[120363,1,"j"],[120364,1,"k"],[120365,1,"l"],[120366,1,"m"],[120367,1,"n"],[120368,1,"o"],[120369,1,"p"],[120370,1,"q"],[120371,1,"r"],[120372,1,"s"],[120373,1,"t"],[120374,1,"u"],[120375,1,"v"],[120376,1,"w"],[120377,1,"x"],[120378,1,"y"],[120379,1,"z"],[120380,1,"a"],[120381,1,"b"],[120382,1,"c"],[120383,1,"d"],[120384,1,"e"],[120385,1,"f"],[120386,1,"g"],[120387,1,"h"],[120388,1,"i"],[120389,1,"j"],[120390,1,"k"],[120391,1,"l"],[120392,1,"m"],[120393,1,"n"],[120394,1,"o"],[120395,1,"p"],[120396,1,"q"],[120397,1,"r"],[120398,1,"s"],[120399,1,"t"],[120400,1,"u"],[120401,1,"v"],[120402,1,"w"],[120403,1,"x"],[120404,1,"y"],[120405,1,"z"],[120406,1,"a"],[120407,1,"b"],[120408,1,"c"],[120409,1,"d"],[120410,1,"e"],[120411,1,"f"],[120412,1,"g"],[120413,1,"h"],[120414,1,"i"],[120415,1,"j"],[120416,1,"k"],[120417,1,"l"],[120418,1,"m"],[120419,1,"n"],[120420,1,"o"],[120421,1,"p"],[120422,1,"q"],[120423,1,"r"],[120424,1,"s"],[120425,1,"t"],[120426,1,"u"],[120427,1,"v"],[120428,1,"w"],[120429,1,"x"],[120430,1,"y"],[120431,1,"z"],[120432,1,"a"],[120433,1,"b"],[120434,1,"c"],[120435,1,"d"],[120436,1,"e"],[120437,1,"f"],[120438,1,"g"],[120439,1,"h"],[120440,1,"i"],[120441,1,"j"],[120442,1,"k"],[120443,1,"l"],[120444,1,"m"],[120445,1,"n"],[120446,1,"o"],[120447,1,"p"],[120448,1,"q"],[120449,1,"r"],[120450,1,"s"],[120451,1,"t"],[120452,1,"u"],[120453,1,"v"],[120454,1,"w"],[120455,1,"x"],[120456,1,"y"],[120457,1,"z"],[120458,1,"a"],[120459,1,"b"],[120460,1,"c"],[120461,1,"d"],[120462,1,"e"],[120463,1,"f"],[120464,1,"g"],[120465,1,"h"],[120466,1,"i"],[120467,1,"j"],[120468,1,"k"],[120469,1,"l"],[120470,1,"m"],[120471,1,"n"],[120472,1,"o"],[120473,1,"p"],[120474,1,"q"],[120475,1,"r"],[120476,1,"s"],[120477,1,"t"],[120478,1,"u"],[120479,1,"v"],[120480,1,"w"],[120481,1,"x"],[120482,1,"y"],[120483,1,"z"],[120484,1,""],[120485,1,""],[[120486,120487],3],[120488,1,""],[120489,1,""],[120490,1,""],[120491,1,""],[120492,1,""],[120493,1,""],[120494,1,""],[120495,1,""],[120496,1,""],[120497,1,""],[120498,1,""],[120499,1,""],[120500,1,""],[120501,1,""],[120502,1,""],[120503,1,""],[120504,1,""],[120505,1,""],[120506,1,""],[120507,1,""],[120508,1,""],[120509,1,""],[120510,1,""],[120511,1,""],[120512,1,""],[120513,1,""],[120514,1,""],[120515,1,""],[120516,1,""],[120517,1,""],[120518,1,""],[120519,1,""],[120520,1,""],[120521,1,""],[120522,1,""],[120523,1,""],[120524,1,""],[120525,1,""],[120526,1,""],[120527,1,""],[120528,1,""],[120529,1,""],[120530,1,""],[[120531,120532],1,""],[120533,1,""],[120534,1,""],[120535,1,""],[120536,1,""],[120537,1,""],[120538,1,""],[120539,1,""],[120540,1,""],[120541,1,""],[120542,1,""],[120543,1,""],[120544,1,""],[120545,1,""],[120546,1,""],[120547,1,""],[120548,1,""],[120549,1,""],[120550,1,""],[120551,1,""],[120552,1,""],[120553,1,""],[120554,1,""],[120555,1,""],[120556,1,""],[120557,1,""],[120558,1,""],[120559,1,""],[120560,1,""],[120561,1,""],[120562,1,""],[120563,1,""],[120564,1,""],[120565,1,""],[120566,1,""],[120567,1,""],[120568,1,""],[120569,1,""],[120570,1,""],[120571,1,""],[120572,1,""],[120573,1,""],[120574,1,""],[120575,1,""],[120576,1,""],[120577,1,""],[120578,1,""],[120579,1,""],[120580,1,""],[120581,1,""],[120582,1,""],[120583,1,""],[120584,1,""],[120585,1,""],[120586,1,""],[120587,1,""],[120588,1,""],[[120589,120590],1,""],[120591,1,""],[120592,1,""],[120593,1,""],[120594,1,""],[120595,1,""],[120596,1,""],[120597,1,""],[120598,1,""],[120599,1,""],[120600,1,""],[120601,1,""],[120602,1,""],[120603,1,""],[120604,1,""],[120605,1,""],[120606,1,""],[120607,1,""],[120608,1,""],[120609,1,""],[120610,1,""],[120611,1,""],[120612,1,""],[120613,1,""],[120614,1,""],[120615,1,""],[120616,1,""],[120617,1,""],[120618,1,""],[120619,1,""],[120620,1,""],[120621,1,""],[120622,1,""],[120623,1,""],[120624,1,""],[120625,1,""],[120626,1,""],[120627,1,""],[120628,1,""],[120629,1,""],[120630,1,""],[120631,1,""],[120632,1,""],[120633,1,""],[120634,1,""],[120635,1,""],[120636,1,""],[120637,1,""],[120638,1,""],[120639,1,""],[120640,1,""],[120641,1,""],[120642,1,""],[120643,1,""],[120644,1,""],[120645,1,""],[120646,1,""],[[120647,120648],1,""],[120649,1,""],[120650,1,""],[120651,1,""],[120652,1,""],[120653,1,""],[120654,1,""],[120655,1,""],[120656,1,""],[120657,1,""],[120658,1,""],[120659,1,""],[120660,1,""],[120661,1,""],[120662,1,""],[120663,1,""],[120664,1,""],[120665,1,""],[120666,1,""],[120667,1,""],[120668,1,""],[120669,1,""],[120670,1,""],[120671,1,""],[120672,1,""],[120673,1,""],[120674,1,""],[120675,1,""],[120676,1,""],[120677,1,""],[120678,1,""],[120679,1,""],[120680,1,""],[120681,1,""],[120682,1,""],[120683,1,""],[120684,1,""],[120685,1,""],[120686,1,""],[120687,1,""],[120688,1,""],[120689,1,""],[120690,1,""],[120691,1,""],[120692,1,""],[120693,1,""],[120694,1,""],[120695,1,""],[120696,1,""],[120697,1,""],[120698,1,""],[120699,1,""],[120700,1,""],[120701,1,""],[120702,1,""],[120703,1,""],[120704,1,""],[[120705,120706],1,""],[120707,1,""],[120708,1,""],[120709,1,""],[120710,1,""],[120711,1,""],[120712,1,""],[120713,1,""],[120714,1,""],[120715,1,""],[120716,1,""],[120717,1,""],[120718,1,""],[120719,1,""],[120720,1,""],[120721,1,""],[120722,1,""],[120723,1,""],[120724,1,""],[120725,1,""],[120726,1,""],[120727,1,""],[120728,1,""],[120729,1,""],[120730,1,""],[120731,1,""],[120732,1,""],[120733,1,""],[120734,1,""],[120735,1,""],[120736,1,""],[120737,1,""],[120738,1,""],[120739,1,""],[120740,1,""],[120741,1,""],[120742,1,""],[120743,1,""],[120744,1,""],[120745,1,""],[120746,1,""],[120747,1,""],[120748,1,""],[120749,1,""],[120750,1,""],[120751,1,""],[120752,1,""],[120753,1,""],[120754,1,""],[120755,1,""],[120756,1,""],[120757,1,""],[120758,1,""],[120759,1,""],[120760,1,""],[120761,1,""],[120762,1,""],[[120763,120764],1,""],[120765,1,""],[120766,1,""],[120767,1,""],[120768,1,""],[120769,1,""],[120770,1,""],[120771,1,""],[120772,1,""],[120773,1,""],[120774,1,""],[120775,1,""],[120776,1,""],[120777,1,""],[[120778,120779],1,""],[[120780,120781],3],[120782,1,"0"],[120783,1,"1"],[120784,1,"2"],[120785,1,"3"],[120786,1,"4"],[120787,1,"5"],[120788,1,"6"],[120789,1,"7"],[120790,1,"8"],[120791,1,"9"],[120792,1,"0"],[120793,1,"1"],[120794,1,"2"],[120795,1,"3"],[120796,1,"4"],[120797,1,"5"],[120798,1,"6"],[120799,1,"7"],[120800,1,"8"],[120801,1,"9"],[120802,1,"0"],[120803,1,"1"],[120804,1,"2"],[120805,1,"3"],[120806,1,"4"],[120807,1,"5"],[120808,1,"6"],[120809,1,"7"],[120810,1,"8"],[120811,1,"9"],[120812,1,"0"],[120813,1,"1"],[120814,1,"2"],[120815,1,"3"],[120816,1,"4"],[120817,1,"5"],[120818,1,"6"],[120819,1,"7"],[120820,1,"8"],[120821,1,"9"],[120822,1,"0"],[120823,1,"1"],[120824,1,"2"],[120825,1,"3"],[120826,1,"4"],[120827,1,"5"],[120828,1,"6"],[120829,1,"7"],[120830,1,"8"],[120831,1,"9"],[[120832,121343],2],[[121344,121398],2],[[121399,121402],2],[[121403,121452],2],[[121453,121460],2],[121461,2],[[121462,121475],2],[121476,2],[[121477,121483],2],[[121484,121498],3],[[121499,121503],2],[121504,3],[[121505,121519],2],[[121520,122623],3],[[122624,122654],2],[[122655,122660],3],[[122661,122666],2],[[122667,122879],3],[[122880,122886],2],[122887,3],[[122888,122904],2],[[122905,122906],3],[[122907,122913],2],[122914,3],[[122915,122916],2],[122917,3],[[122918,122922],2],[[122923,122927],3],[122928,1,""],[122929,1,""],[122930,1,""],[122931,1,""],[122932,1,""],[122933,1,""],[122934,1,""],[122935,1,""],[122936,1,""],[122937,1,""],[122938,1,""],[122939,1,""],[122940,1,""],[122941,1,""],[122942,1,""],[122943,1,""],[122944,1,""],[122945,1,""],[122946,1,""],[122947,1,""],[122948,1,""],[122949,1,""],[122950,1,""],[122951,1,""],[122952,1,""],[122953,1,""],[122954,1,""],[122955,1,""],[122956,1,""],[122957,1,""],[122958,1,""],[122959,1,""],[122960,1,""],[122961,1,""],[122962,1,""],[122963,1,""],[122964,1,""],[122965,1,""],[122966,1,""],[122967,1,""],[122968,1,""],[122969,1,""],[122970,1,""],[122971,1,""],[122972,1,""],[122973,1,""],[122974,1,""],[122975,1,""],[122976,1,""],[122977,1,""],[122978,1,""],[122979,1,""],[122980,1,""],[122981,1,""],[122982,1,""],[122983,1,""],[122984,1,""],[122985,1,""],[122986,1,""],[122987,1,""],[122988,1,""],[122989,1,""],[[122990,123022],3],[123023,2],[[123024,123135],3],[[123136,123180],2],[[123181,123183],3],[[123184,123197],2],[[123198,123199],3],[[123200,123209],2],[[123210,123213],3],[123214,2],[123215,2],[[123216,123535],3],[[123536,123566],2],[[123567,123583],3],[[123584,123641],2],[[123642,123646],3],[123647,2],[[123648,124111],3],[[124112,124153],2],[[124154,124367],3],[[124368,124410],2],[[124411,124414],3],[124415,2],[[124416,124895],3],[[124896,124902],2],[124903,3],[[124904,124907],2],[124908,3],[[124909,124910],2],[124911,3],[[124912,124926],2],[124927,3],[[124928,125124],2],[[125125,125126],3],[[125127,125135],2],[[125136,125142],2],[[125143,125183],3],[125184,1,""],[125185,1,""],[125186,1,""],[125187,1,""],[125188,1,""],[125189,1,""],[125190,1,""],[125191,1,""],[125192,1,""],[125193,1,""],[125194,1,""],[125195,1,""],[125196,1,""],[125197,1,""],[125198,1,""],[125199,1,""],[125200,1,""],[125201,1,""],[125202,1,""],[125203,1,""],[125204,1,""],[125205,1,""],[125206,1,""],[125207,1,""],[125208,1,""],[125209,1,""],[125210,1,""],[125211,1,""],[125212,1,""],[125213,1,""],[125214,1,""],[125215,1,""],[125216,1,""],[125217,1,""],[[125218,125258],2],[125259,2],[[125260,125263],3],[[125264,125273],2],[[125274,125277],3],[[125278,125279],2],[[125280,126064],3],[[126065,126132],2],[[126133,126208],3],[[126209,126269],2],[[126270,126463],3],[126464,1,""],[126465,1,""],[126466,1,""],[126467,1,""],[126468,3],[126469,1,""],[126470,1,""],[126471,1,""],[126472,1,""],[126473,1,""],[126474,1,""],[126475,1,""],[126476,1,""],[126477,1,""],[126478,1,""],[126479,1,""],[126480,1,""],[126481,1,""],[126482,1,""],[126483,1,""],[126484,1,""],[126485,1,""],[126486,1,""],[126487,1,""],[126488,1,""],[126489,1,""],[126490,1,""],[126491,1,""],[126492,1,""],[126493,1,""],[126494,1,""],[126495,1,""],[126496,3],[126497,1,""],[126498,1,""],[126499,3],[126500,1,""],[[126501,126502],3],[126503,1,""],[126504,3],[126505,1,""],[126506,1,""],[126507,1,""],[126508,1,""],[126509,1,""],[126510,1,""],[126511,1,""],[126512,1,""],[126513,1,""],[126514,1,""],[126515,3],[126516,1,""],[126517,1,""],[126518,1,""],[126519,1,""],[126520,3],[126521,1,""],[126522,3],[126523,1,""],[[126524,126529],3],[126530,1,""],[[126531,126534],3],[126535,1,""],[126536,3],[126537,1,""],[126538,3],[126539,1,""],[126540,3],[126541,1,""],[126542,1,""],[126543,1,""],[126544,3],[126545,1,""],[126546,1,""],[126547,3],[126548,1,""],[[126549,126550],3],[126551,1,""],[126552,3],[126553,1,""],[126554,3],[126555,1,""],[126556,3],[126557,1,""],[126558,3],[126559,1,""],[126560,3],[126561,1,""],[126562,1,""],[126563,3],[126564,1,""],[[126565,126566],3],[126567,1,""],[126568,1,""],[126569,1,""],[126570,1,""],[126571,3],[126572,1,""],[126573,1,""],[126574,1,""],[126575,1,""],[126576,1,""],[126577,1,""],[126578,1,""],[126579,3],[126580,1,""],[126581,1,""],[126582,1,""],[126583,1,""],[126584,3],[126585,1,""],[126586,1,""],[126587,1,""],[126588,1,""],[126589,3],[126590,1,""],[126591,3],[126592,1,""],[126593,1,""],[126594,1,""],[126595,1,""],[126596,1,""],[126597,1,""],[126598,1,""],[126599,1,""],[126600,1,""],[126601,1,""],[126602,3],[126603,1,""],[126604,1,""],[126605,1,""],[126606,1,""],[126607,1,""],[126608,1,""],[126609,1,""],[126610,1,""],[126611,1,""],[126612,1,""],[126613,1,""],[126614,1,""],[126615,1,""],[126616,1,""],[126617,1,""],[126618,1,""],[126619,1,""],[[126620,126624],3],[126625,1,""],[126626,1,""],[126627,1,""],[126628,3],[126629,1,""],[126630,1,""],[126631,1,""],[126632,1,""],[126633,1,""],[126634,3],[126635,1,""],[126636,1,""],[126637,1,""],[126638,1,""],[126639,1,""],[126640,1,""],[126641,1,""],[126642,1,""],[126643,1,""],[126644,1,""],[126645,1,""],[126646,1,""],[126647,1,""],[126648,1,""],[126649,1,""],[126650,1,""],[126651,1,""],[[126652,126703],3],[[126704,126705],2],[[126706,126975],3],[[126976,127019],2],[[127020,127023],3],[[127024,127123],2],[[127124,127135],3],[[127136,127150],2],[[127151,127152],3],[[127153,127166],2],[127167,2],[127168,3],[[127169,127183],2],[127184,3],[[127185,127199],2],[[127200,127221],2],[[127222,127231],3],[127232,3],[127233,1,"0,"],[127234,1,"1,"],[127235,1,"2,"],[127236,1,"3,"],[127237,1,"4,"],[127238,1,"5,"],[127239,1,"6,"],[127240,1,"7,"],[127241,1,"8,"],[127242,1,"9,"],[[127243,127244],2],[[127245,127247],2],[127248,1,"(a)"],[127249,1,"(b)"],[127250,1,"(c)"],[127251,1,"(d)"],[127252,1,"(e)"],[127253,1,"(f)"],[127254,1,"(g)"],[127255,1,"(h)"],[127256,1,"(i)"],[127257,1,"(j)"],[127258,1,"(k)"],[127259,1,"(l)"],[127260,1,"(m)"],[127261,1,"(n)"],[127262,1,"(o)"],[127263,1,"(p)"],[127264,1,"(q)"],[127265,1,"(r)"],[127266,1,"(s)"],[127267,1,"(t)"],[127268,1,"(u)"],[127269,1,"(v)"],[127270,1,"(w)"],[127271,1,"(x)"],[127272,1,"(y)"],[127273,1,"(z)"],[127274,1,"s"],[127275,1,"c"],[127276,1,"r"],[127277,1,"cd"],[127278,1,"wz"],[127279,2],[127280,1,"a"],[127281,1,"b"],[127282,1,"c"],[127283,1,"d"],[127284,1,"e"],[127285,1,"f"],[127286,1,"g"],[127287,1,"h"],[127288,1,"i"],[127289,1,"j"],[127290,1,"k"],[127291,1,"l"],[127292,1,"m"],[127293,1,"n"],[127294,1,"o"],[127295,1,"p"],[127296,1,"q"],[127297,1,"r"],[127298,1,"s"],[127299,1,"t"],[127300,1,"u"],[127301,1,"v"],[127302,1,"w"],[127303,1,"x"],[127304,1,"y"],[127305,1,"z"],[127306,1,"hv"],[127307,1,"mv"],[127308,1,"sd"],[127309,1,"ss"],[127310,1,"ppv"],[127311,1,"wc"],[[127312,127318],2],[127319,2],[[127320,127326],2],[127327,2],[[127328,127337],2],[127338,1,"mc"],[127339,1,"md"],[127340,1,"mr"],[[127341,127343],2],[[127344,127352],2],[127353,2],[127354,2],[[127355,127356],2],[[127357,127358],2],[127359,2],[[127360,127369],2],[[127370,127373],2],[[127374,127375],2],[127376,1,"dj"],[[127377,127386],2],[[127387,127404],2],[127405,2],[[127406,127461],3],[[127462,127487],2],[127488,1,""],[127489,1,""],[127490,1,""],[[127491,127503],3],[127504,1,""],[127505,1,""],[127506,1,""],[127507,1,""],[127508,1,""],[127509,1,""],[127510,1,""],[127511,1,""],[127512,1,""],[127513,1,""],[127514,1,""],[127515,1,""],[127516,1,""],[127517,1,""],[127518,1,""],[127519,1,""],[127520,1,""],[127521,1,""],[127522,1,""],[127523,1,""],[127524,1,""],[127525,1,""],[127526,1,""],[127527,1,""],[127528,1,""],[127529,1,""],[127530,1,""],[127531,1,""],[127532,1,""],[127533,1,""],[127534,1,""],[127535,1,""],[127536,1,""],[127537,1,""],[127538,1,""],[127539,1,""],[127540,1,""],[127541,1,""],[127542,1,""],[127543,1,""],[127544,1,""],[127545,1,""],[127546,1,""],[127547,1,""],[[127548,127551],3],[127552,1,""],[127553,1,""],[127554,1,""],[127555,1,""],[127556,1,""],[127557,1,""],[127558,1,""],[127559,1,""],[127560,1,""],[[127561,127567],3],[127568,1,""],[127569,1,""],[[127570,127583],3],[[127584,127589],2],[[127590,127743],3],[[127744,127776],2],[[127777,127788],2],[[127789,127791],2],[[127792,127797],2],[127798,2],[[127799,127868],2],[127869,2],[[127870,127871],2],[[127872,127891],2],[[127892,127903],2],[[127904,127940],2],[127941,2],[[127942,127946],2],[[127947,127950],2],[[127951,127955],2],[[127956,127967],2],[[127968,127984],2],[[127985,127991],2],[[127992,127999],2],[[128000,128062],2],[128063,2],[128064,2],[128065,2],[[128066,128247],2],[128248,2],[[128249,128252],2],[[128253,128254],2],[128255,2],[[128256,128317],2],[[128318,128319],2],[[128320,128323],2],[[128324,128330],2],[[128331,128335],2],[[128336,128359],2],[[128360,128377],2],[128378,2],[[128379,128419],2],[128420,2],[[128421,128506],2],[[128507,128511],2],[128512,2],[[128513,128528],2],[128529,2],[[128530,128532],2],[128533,2],[128534,2],[128535,2],[128536,2],[128537,2],[128538,2],[128539,2],[[128540,128542],2],[128543,2],[[128544,128549],2],[[128550,128551],2],[[128552,128555],2],[128556,2],[128557,2],[[128558,128559],2],[[128560,128563],2],[128564,2],[[128565,128576],2],[[128577,128578],2],[[128579,128580],2],[[128581,128591],2],[[128592,128639],2],[[128640,128709],2],[[128710,128719],2],[128720,2],[[128721,128722],2],[[128723,128724],2],[128725,2],[[128726,128727],2],[[128728,128731],3],[128732,2],[[128733,128735],2],[[128736,128748],2],[[128749,128751],3],[[128752,128755],2],[[128756,128758],2],[[128759,128760],2],[128761,2],[128762,2],[[128763,128764],2],[[128765,128767],3],[[128768,128883],2],[[128884,128886],2],[[128887,128890],3],[[128891,128895],2],[[128896,128980],2],[[128981,128984],2],[128985,2],[[128986,128991],3],[[128992,129003],2],[[129004,129007],3],[129008,2],[[129009,129023],3],[[129024,129035],2],[[129036,129039],3],[[129040,129095],2],[[129096,129103],3],[[129104,129113],2],[[129114,129119],3],[[129120,129159],2],[[129160,129167],3],[[129168,129197],2],[[129198,129199],3],[[129200,129201],2],[[129202,129211],2],[[129212,129215],3],[[129216,129217],2],[[129218,129279],3],[[129280,129291],2],[129292,2],[[129293,129295],2],[[129296,129304],2],[[129305,129310],2],[129311,2],[[129312,129319],2],[[129320,129327],2],[129328,2],[[129329,129330],2],[[129331,129342],2],[129343,2],[[129344,129355],2],[129356,2],[[129357,129359],2],[[129360,129374],2],[[129375,129387],2],[[129388,129392],2],[129393,2],[129394,2],[[129395,129398],2],[[129399,129400],2],[129401,2],[129402,2],[129403,2],[[129404,129407],2],[[129408,129412],2],[[129413,129425],2],[[129426,129431],2],[[129432,129442],2],[[129443,129444],2],[[129445,129450],2],[[129451,129453],2],[[129454,129455],2],[[129456,129465],2],[[129466,129471],2],[129472,2],[[129473,129474],2],[[129475,129482],2],[129483,2],[129484,2],[[129485,129487],2],[[129488,129510],2],[[129511,129535],2],[[129536,129619],2],[[129620,129631],3],[[129632,129645],2],[[129646,129647],3],[[129648,129651],2],[129652,2],[[129653,129655],2],[[129656,129658],2],[[129659,129660],2],[[129661,129663],3],[[129664,129666],2],[[129667,129670],2],[[129671,129672],2],[129673,2],[[129674,129678],3],[129679,2],[[129680,129685],2],[[129686,129704],2],[[129705,129708],2],[[129709,129711],2],[[129712,129718],2],[[129719,129722],2],[[129723,129725],2],[129726,2],[129727,2],[[129728,129730],2],[[129731,129733],2],[129734,2],[[129735,129741],3],[[129742,129743],2],[[129744,129750],2],[[129751,129753],2],[[129754,129755],2],[129756,2],[[129757,129758],3],[129759,2],[[129760,129767],2],[129768,2],[129769,2],[[129770,129775],3],[[129776,129782],2],[[129783,129784],2],[[129785,129791],3],[[129792,129938],2],[129939,3],[[129940,129994],2],[[129995,130031],2],[130032,1,"0"],[130033,1,"1"],[130034,1,"2"],[130035,1,"3"],[130036,1,"4"],[130037,1,"5"],[130038,1,"6"],[130039,1,"7"],[130040,1,"8"],[130041,1,"9"],[[130042,131069],3],[[131070,131071],3],[[131072,173782],2],[[173783,173789],2],[[173790,173791],2],[[173792,173823],3],[[173824,177972],2],[[177973,177976],2],[177977,2],[[177978,177983],3],[[177984,178205],2],[[178206,178207],3],[[178208,183969],2],[[183970,183983],3],[[183984,191456],2],[[191457,191471],3],[[191472,192093],2],[[192094,194559],3],[194560,1,""],[194561,1,""],[194562,1,""],[194563,1,""],[194564,1,""],[194565,1,""],[194566,1,""],[194567,1,""],[194568,1,""],[194569,1,""],[194570,1,""],[194571,1,""],[194572,1,""],[194573,1,""],[194574,1,""],[194575,1,""],[194576,1,""],[194577,1,""],[194578,1,""],[194579,1,""],[194580,1,""],[194581,1,""],[194582,1,""],[194583,1,""],[194584,1,""],[194585,1,""],[194586,1,""],[194587,1,""],[194588,1,""],[194589,1,""],[194590,1,""],[194591,1,""],[194592,1,""],[194593,1,""],[194594,1,""],[194595,1,""],[194596,1,""],[194597,1,""],[194598,1,""],[194599,1,""],[194600,1,""],[194601,1,""],[194602,1,""],[194603,1,""],[194604,1,""],[194605,1,""],[194606,1,""],[194607,1,""],[194608,1,""],[[194609,194611],1,""],[194612,1,""],[194613,1,""],[194614,1,""],[194615,1,""],[194616,1,""],[194617,1,""],[194618,1,""],[194619,1,""],[194620,1,""],[194621,1,""],[194622,1,""],[194623,1,""],[194624,1,""],[194625,1,""],[194626,1,""],[194627,1,""],[194628,1,""],[[194629,194630],1,""],[194631,1,""],[194632,1,""],[194633,1,""],[194634,1,""],[194635,1,""],[194636,1,""],[194637,1,""],[194638,1,""],[194639,1,""],[194640,1,""],[194641,1,""],[194642,1,""],[194643,1,""],[194644,1,""],[194645,1,""],[194646,1,""],[194647,1,""],[194648,1,""],[194649,1,""],[194650,1,""],[194651,1,""],[194652,1,""],[194653,1,""],[194654,1,""],[194655,1,""],[194656,1,""],[194657,1,""],[194658,1,""],[194659,1,""],[194660,1,""],[194661,1,""],[194662,1,""],[194663,1,""],[194664,1,""],[194665,1,""],[[194666,194667],1,""],[194668,1,""],[194669,1,""],[194670,1,""],[194671,1,""],[194672,1,""],[194673,1,""],[194674,1,""],[194675,1,""],[194676,1,""],[194677,1,""],[194678,1,""],[194679,1,""],[194680,1,""],[194681,1,""],[194682,1,""],[194683,1,""],[194684,1,""],[194685,1,""],[194686,1,""],[194687,1,""],[194688,1,""],[194689,1,""],[194690,1,""],[194691,1,""],[194692,1,""],[194693,1,""],[194694,1,""],[194695,1,""],[194696,1,""],[194697,1,""],[194698,1,""],[194699,1,""],[194700,1,""],[194701,1,""],[194702,1,""],[194703,1,""],[194704,1,""],[[194705,194706],1,""],[194707,1,""],[[194708,194709],1,""],[194710,1,""],[194711,1,""],[194712,1,""],[194713,1,""],[194714,1,""],[194715,1,""],[194716,1,""],[194717,1,""],[194718,1,""],[194719,1,""],[194720,1,""],[194721,1,""],[194722,1,""],[194723,1,""],[194724,1,""],[194725,1,""],[194726,1,""],[194727,1,""],[194728,1,""],[194729,1,""],[194730,1,""],[194731,1,""],[194732,1,""],[194733,1,""],[194734,1,""],[194735,1,""],[194736,1,""],[194737,1,""],[194738,1,""],[194739,1,""],[194740,1,""],[194741,1,""],[194742,1,""],[194743,1,""],[194744,1,""],[194745,1,""],[194746,1,""],[194747,1,""],[194748,1,""],[194749,1,""],[194750,1,""],[194751,1,""],[194752,1,""],[194753,1,""],[194754,1,""],[194755,1,""],[194756,1,""],[194757,1,""],[194758,1,""],[194759,1,""],[194760,1,""],[194761,1,""],[194762,1,""],[194763,1,""],[194764,1,""],[194765,1,""],[194766,1,""],[194767,1,""],[194768,1,""],[194769,1,""],[194770,1,""],[194771,1,""],[194772,1,""],[194773,1,""],[194774,1,""],[194775,1,""],[194776,1,""],[194777,1,""],[194778,1,""],[194779,1,""],[194780,1,""],[194781,1,""],[194782,1,""],[194783,1,""],[194784,1,""],[194785,1,""],[194786,1,""],[194787,1,""],[194788,1,""],[194789,1,""],[194790,1,""],[194791,1,""],[194792,1,""],[194793,1,""],[194794,1,""],[194795,1,""],[194796,1,""],[194797,1,""],[194798,1,""],[194799,1,""],[194800,1,""],[194801,1,""],[194802,1,""],[194803,1,""],[194804,1,""],[194805,1,""],[194806,1,""],[194807,1,""],[194808,1,""],[194809,1,""],[194810,1,""],[194811,1,""],[194812,1,""],[194813,1,""],[194814,1,""],[194815,1,""],[194816,1,""],[194817,1,""],[194818,1,""],[194819,1,""],[194820,1,""],[194821,1,""],[194822,1,""],[194823,1,""],[194824,1,""],[194825,1,""],[194826,1,""],[194827,1,""],[194828,1,""],[194829,1,""],[194830,1,""],[194831,1,""],[194832,1,""],[194833,1,""],[194834,1,""],[194835,1,""],[194836,1,""],[194837,1,""],[194838,1,""],[194839,1,""],[194840,1,""],[194841,1,""],[194842,1,""],[194843,1,""],[194844,1,""],[194845,1,""],[194846,1,""],[194847,1,""],[194848,1,""],[194849,1,""],[194850,1,""],[194851,1,""],[194852,1,""],[194853,1,""],[194854,1,""],[194855,1,""],[194856,1,""],[194857,1,""],[194858,1,""],[194859,1,""],[[194860,194861],1,""],[194862,1,""],[194863,1,""],[194864,1,""],[194865,1,""],[194866,1,""],[194867,1,""],[194868,1,""],[194869,1,""],[194870,1,""],[194871,1,""],[194872,1,""],[194873,1,""],[194874,1,""],[194875,1,""],[194876,1,""],[194877,1,""],[194878,1,""],[194879,1,""],[194880,1,""],[194881,1,""],[194882,1,""],[194883,1,""],[194884,1,""],[194885,1,""],[[194886,194887],1,""],[194888,1,""],[194889,1,""],[194890,1,""],[194891,1,""],[194892,1,""],[194893,1,""],[194894,1,""],[194895,1,""],[194896,1,""],[194897,1,""],[194898,1,""],[194899,1,""],[194900,1,""],[194901,1,""],[194902,1,""],[194903,1,""],[194904,1,""],[194905,1,""],[194906,1,""],[194907,1,""],[194908,1,""],[[194909,194910],1,""],[194911,1,""],[194912,1,""],[194913,1,""],[194914,1,""],[194915,1,""],[194916,1,""],[194917,1,""],[194918,1,""],[194919,1,""],[194920,1,""],[194921,1,""],[194922,1,""],[194923,1,""],[194924,1,""],[194925,1,""],[194926,1,""],[194927,1,""],[194928,1,""],[194929,1,""],[194930,1,""],[194931,1,""],[194932,1,""],[194933,1,""],[194934,1,""],[194935,1,""],[194936,1,""],[194937,1,""],[194938,1,""],[194939,1,""],[194940,1,""],[194941,1,""],[194942,1,""],[194943,1,""],[194944,1,""],[194945,1,""],[194946,1,""],[194947,1,""],[194948,1,""],[194949,1,""],[194950,1,""],[194951,1,""],[194952,1,""],[194953,1,""],[194954,1,""],[194955,1,""],[194956,1,""],[194957,1,""],[194958,1,""],[194959,1,""],[194960,1,""],[194961,1,""],[194962,1,""],[194963,1,""],[194964,1,""],[194965,1,""],[194966,1,""],[194967,1,""],[194968,1,""],[194969,1,""],[194970,1,""],[194971,1,""],[194972,1,""],[194973,1,""],[194974,1,""],[194975,1,""],[194976,1,""],[194977,1,""],[194978,1,""],[194979,1,""],[194980,1,""],[194981,1,""],[194982,1,""],[194983,1,""],[194984,1,""],[194985,1,""],[194986,1,""],[194987,1,""],[194988,1,""],[194989,1,""],[194990,1,""],[194991,1,""],[194992,1,""],[194993,1,""],[194994,1,""],[194995,1,""],[194996,1,""],[194997,1,""],[194998,1,""],[194999,1,""],[195000,1,""],[195001,1,""],[195002,1,""],[195003,1,""],[195004,1,""],[195005,1,""],[195006,1,""],[195007,1,""],[195008,1,""],[195009,1,""],[195010,1,""],[195011,1,""],[195012,1,""],[195013,1,""],[195014,1,""],[195015,1,""],[195016,1,""],[195017,1,""],[195018,1,""],[195019,1,""],[195020,1,""],[195021,1,""],[195022,1,""],[195023,1,""],[195024,1,""],[195025,1,""],[195026,1,""],[195027,1,""],[195028,1,""],[195029,1,""],[195030,1,""],[195031,1,""],[195032,1,""],[195033,1,""],[195034,1,""],[195035,1,""],[195036,1,""],[195037,1,""],[195038,1,""],[195039,1,""],[195040,1,""],[195041,1,""],[195042,1,""],[195043,1,""],[195044,1,""],[195045,1,""],[195046,1,""],[195047,1,""],[195048,1,""],[195049,1,""],[195050,1,""],[195051,1,""],[195052,1,""],[195053,1,""],[195054,1,""],[195055,1,""],[195056,1,""],[195057,1,""],[195058,1,""],[195059,1,""],[195060,1,""],[195061,1,""],[195062,1,""],[195063,1,""],[195064,1,""],[195065,1,""],[195066,1,""],[195067,1,""],[195068,1,""],[195069,1,""],[[195070,195071],1,""],[195072,1,""],[195073,1,""],[195074,1,""],[195075,1,""],[195076,1,""],[195077,1,""],[195078,1,""],[195079,1,""],[195080,1,""],[195081,1,""],[195082,1,""],[195083,1,""],[195084,1,""],[195085,1,""],[195086,1,""],[195087,1,""],[195088,1,""],[195089,1,""],[195090,1,""],[195091,1,""],[195092,1,""],[195093,1,""],[195094,1,""],[195095,1,""],[195096,1,""],[195097,1,""],[195098,1,""],[195099,1,""],[195100,1,""],[195101,1,""],[[195102,196605],3],[[196606,196607],3],[[196608,201546],2],[[201547,201551],3],[[201552,205743],2],[[205744,262141],3],[[262142,262143],3],[[262144,327677],3],[[327678,327679],3],[[327680,393213],3],[[393214,393215],3],[[393216,458749],3],[[458750,458751],3],[[458752,524285],3],[[524286,524287],3],[[524288,589821],3],[[589822,589823],3],[[589824,655357],3],[[655358,655359],3],[[655360,720893],3],[[720894,720895],3],[[720896,786429],3],[[786430,786431],3],[[786432,851965],3],[[851966,851967],3],[[851968,917501],3],[[917502,917503],3],[917504,3],[917505,3],[[917506,917535],3],[[917536,917631],3],[[917632,917759],3],[[917760,917999],7],[[918000,983037],3],[[983038,983039],3],[[983040,1048573],3],[[1048574,1048575],3],[[1048576,1114109],3],[[1114110,1114111],3]]')}},o={};function __webpack_require__(i){var s=o[i];if(void 0!==s)return s.exports;var c=o[i]={exports:{}};return n[i].call(c.exports,c,c.exports,__webpack_require__),c.exports}__webpack_require__.d=(n,o)=>{for(var i in o)__webpack_require__.o(o,i)&&!__webpack_require__.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:o[i]})},__webpack_require__.o=(n,o)=>Object.prototype.hasOwnProperty.call(n,o),__webpack_require__.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var i={};(()=>{"use strict";var n=i;Object.defineProperty(n,"__esModule",{value:!0});new(__webpack_require__(13395).LanguageService)})(),module.exports=i})();