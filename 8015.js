"use strict";var xt=Object.defineProperty;var gt=(g,p,o)=>p in g?xt(g,p,{enumerable:!0,configurable:!0,writable:!0,value:o}):g[p]=o;var s=(g,p,o)=>(gt(g,typeof p!="symbol"?p+"":p,o),o);exports.id=8015,exports.ids=[8015],exports.modules={303975:(g,p,o)=>{o.d(p,{CG:()=>O,Y2:()=>b,cJ:()=>D});var I=o(716834);const b=(h,u)=>(0,I.w)(h,u).then(m=>{if(m.length)try{return JSON.parse(m)}catch(E){throw E?.name==="SyntaxError"&&Object.defineProperty(E,"$responseBodyText",{value:m}),E}return{}}),O=async(h,u)=>{const m=await b(h,u);return m.message=m.message??m.Message,m},D=(h,u)=>{const m=(S,d)=>Object.keys(S).find(r=>r.toLowerCase()===d.toLowerCase()),E=S=>{let d=S;return typeof d=="number"&&(d=d.toString()),d.indexOf(",")>=0&&(d=d.split(",")[0]),d.indexOf(":")>=0&&(d=d.split(":")[0]),d.indexOf("#")>=0&&(d=d.split("#")[1]),d},R=m(h.headers,"x-amzn-errortype");if(R!==void 0)return E(h.headers[R]);if(u&&typeof u=="object"){const S=m(u,"code");if(S&&u[S]!==void 0)return E(u[S]);if(u.__type!==void 0)return E(u.__type)}}},28015:(g,p,o)=>{o.d(p,{CreateTokenCommand:()=>ve,SSOOIDCClient:()=>fe});var I=o(952111),b=o(446903),O=o(175377),D=o(12841),h=o(698122),u=o(840380),m=o(149980),E=o(854204),R=o(542577),S=o(818090),d=o(225762),r=o(313814),xe=o(622963),j=o(741175);const ge=async(e,n,t)=>({operation:(0,j.u)(n).operation,region:await(0,j.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function Se(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function Ee(e){return{schemeId:"smithy.api#noAuth"}}const we=e=>{const n=[];switch(e.operation){case"CreateToken":{n.push(Ee(e));break}default:n.push(Se(e))}return n},Pe=e=>{const n=(0,xe.h)(e);return Object.assign(n,{authSchemePreference:(0,j.t)(e.authSchemePreference??[])})},Ie=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),Ce={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var Ae=o(313659),Te=o(63866),be=o(669152),_=o(3871),Oe=o(235629),P=o(584747),X=o(278007),De=o(833625),$e=o(336995),Re=o(277708),je=o(288056),ze=o(260105),Q=o(833652),q=o(366821),Ke=o(754779),z=o(45833);const ee="required",y="fn",f="argv",C="ref",te=!0,re="isSet",$="booleanEquals",A="error",T="endpoint",w="tree",K="PartitionResult",k="getAttr",ne={[ee]:!1,type:"String"},oe={[ee]:!0,default:!1,type:"Boolean"},se={[C]:"Endpoint"},ie={[y]:$,[f]:[{[C]:"UseFIPS"},!0]},ae={[y]:$,[f]:[{[C]:"UseDualStack"},!0]},v={},ce={[y]:k,[f]:[{[C]:K},"supportsFIPS"]},de={[C]:K},le={[y]:$,[f]:[!0,{[y]:k,[f]:[de,"supportsDualStack"]}]},pe=[ie],he=[ae],ue=[{[C]:"Region"}],ke={version:"1.0",parameters:{Region:ne,UseDualStack:oe,UseFIPS:oe,Endpoint:ne},rules:[{conditions:[{[y]:re,[f]:[se]}],rules:[{conditions:pe,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:A},{conditions:he,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:A},{endpoint:{url:se,properties:v,headers:v},type:T}],type:w},{conditions:[{[y]:re,[f]:ue}],rules:[{conditions:[{[y]:"aws.partition",[f]:ue,assign:K}],rules:[{conditions:[ie,ae],rules:[{conditions:[{[y]:$,[f]:[te,ce]},le],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},type:T}],type:w},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:A}],type:w},{conditions:pe,rules:[{conditions:[{[y]:$,[f]:[ce,te]}],rules:[{conditions:[{[y]:"stringEquals",[f]:[{[y]:k,[f]:[de,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:v,headers:v},type:T},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:v,headers:v},type:T}],type:w},{error:"FIPS is enabled but this partition does not support FIPS",type:A}],type:w},{conditions:he,rules:[{conditions:[le],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:v,headers:v},type:T}],type:w},{error:"DualStack is enabled but this partition does not support DualStack",type:A}],type:w},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:v,headers:v},type:T}],type:w}],type:w},{error:"Invalid Configuration: Missing Region",type:A}]},Ue=new z.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),He=(e,n={})=>Ue.get(e,()=>(0,z.sO)(ke,{endpointParams:e,logger:n.logger}));z.mw.aws=Ke.UF;const Me=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Q.E,base64Encoder:e?.base64Encoder??Q.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??He,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??we,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new Re.f2},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new je.m}],logger:e?.logger??new r.N4,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??ze.D,utf8Decoder:e?.utf8Decoder??q.ar,utf8Encoder:e?.utf8Encoder??q.Pq});var Fe=o(613849);const Ge=e=>{(0,r.I9)(process.version);const n=(0,Fe.I)(e),t=()=>n().then(r.lT),a=Me(e);(0,Te.I)(process.version);const i={profile:e?.profile,logger:a.logger};return{...a,...e,runtime:"node",defaultsMode:n,authSchemePreference:e?.authSchemePreference??(0,P.Z)(be.$,i),bodyLengthChecker:e?.bodyLengthChecker??De.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,_.pf)({serviceId:a.serviceId,clientVersion:Ae.rE}),maxAttempts:e?.maxAttempts??(0,P.Z)(d.qs,e),region:e?.region??(0,P.Z)(h.GG,{...h.zH,...i}),requestHandler:X.$c.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,P.Z)({...d.kN,default:async()=>(await t()).retryMode||$e.L0},e),sha256:e?.sha256??Oe.V.bind(null,"sha256"),streamCollector:e?.streamCollector??X.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,P.Z)(h.e$,i),useFipsEndpoint:e?.useFipsEndpoint??(0,P.Z)(h.Ko,i),userAgentAppId:e?.userAgentAppId??(0,P.Z)(_.hV,i)}};var me=o(610312),ye=o(517583);const Ve=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,a=e.credentials;return{setHttpAuthScheme(i){const c=n.findIndex(W=>W.schemeId===i.schemeId);c===-1?n.push(i):n.splice(c,1,i)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(i){t=i},httpAuthSchemeProvider(){return t},setCredentials(i){a=i},credentials(){return a}}},Be=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Je=(e,n)=>{const t=Object.assign((0,me.Rq)(e),(0,r.xA)(e),(0,ye.eS)(e),Ve(e));return n.forEach(a=>a.configure(t)),Object.assign(e,(0,me.$3)(t),(0,r.uv)(t),(0,ye.jt)(t),Be(t))};class fe extends r.Kj{constructor(...[t]){const a=Ge(t||{});super(a);s(this,"config");this.initConfig=a;const i=Ie(a),c=(0,D.Dc)(i),W=(0,d.$z)(c),ht=(0,h.TD)(W),ut=(0,I.OV)(ht),mt=(0,S.Co)(ut),yt=Pe(mt),ft=Je(yt,t?.extensions||[]);this.config=ft,this.middlewareStack.use((0,D.sM)(this.config)),this.middlewareStack.use((0,d.ey)(this.config)),this.middlewareStack.use((0,R.vK)(this.config)),this.middlewareStack.use((0,I.TC)(this.config)),this.middlewareStack.use((0,b.Y7)(this.config)),this.middlewareStack.use((0,O.n4)(this.config)),this.middlewareStack.use((0,u.w)(this.config,{httpAuthSchemeParametersProvider:ge,identityProviderConfigProvider:async vt=>new m.h({"aws.auth#sigv4":vt.credentials})})),this.middlewareStack.use((0,E.l)(this.config))}destroy(){super.destroy()}}var Ne=o(948416);class l extends r.TJ{constructor(n){super(n),Object.setPrototypeOf(this,l.prototype)}}class U extends l{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t});s(this,"name","AccessDeniedException");s(this,"$fault","client");s(this,"error");s(this,"error_description");Object.setPrototypeOf(this,U.prototype),this.error=t.error,this.error_description=t.error_description}}class H extends l{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t});s(this,"name","AuthorizationPendingException");s(this,"$fault","client");s(this,"error");s(this,"error_description");Object.setPrototypeOf(this,H.prototype),this.error=t.error,this.error_description=t.error_description}}const Le=e=>({...e,...e.clientSecret&&{clientSecret:r.$H},...e.refreshToken&&{refreshToken:r.$H},...e.codeVerifier&&{codeVerifier:r.$H}}),Ze=e=>({...e,...e.accessToken&&{accessToken:r.$H},...e.refreshToken&&{refreshToken:r.$H},...e.idToken&&{idToken:r.$H}});class M extends l{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t});s(this,"name","ExpiredTokenException");s(this,"$fault","client");s(this,"error");s(this,"error_description");Object.setPrototypeOf(this,M.prototype),this.error=t.error,this.error_description=t.error_description}}class F extends l{constructor(t){super({name:"InternalServerException",$fault:"server",...t});s(this,"name","InternalServerException");s(this,"$fault","server");s(this,"error");s(this,"error_description");Object.setPrototypeOf(this,F.prototype),this.error=t.error,this.error_description=t.error_description}}class G extends l{constructor(t){super({name:"InvalidClientException",$fault:"client",...t});s(this,"name","InvalidClientException");s(this,"$fault","client");s(this,"error");s(this,"error_description");Object.setPrototypeOf(this,G.prototype),this.error=t.error,this.error_description=t.error_description}}class V extends l{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t});s(this,"name","InvalidGrantException");s(this,"$fault","client");s(this,"error");s(this,"error_description");Object.setPrototypeOf(this,V.prototype),this.error=t.error,this.error_description=t.error_description}}class B extends l{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t});s(this,"name","InvalidRequestException");s(this,"$fault","client");s(this,"error");s(this,"error_description");Object.setPrototypeOf(this,B.prototype),this.error=t.error,this.error_description=t.error_description}}class J extends l{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t});s(this,"name","InvalidScopeException");s(this,"$fault","client");s(this,"error");s(this,"error_description");Object.setPrototypeOf(this,J.prototype),this.error=t.error,this.error_description=t.error_description}}class N extends l{constructor(t){super({name:"SlowDownException",$fault:"client",...t});s(this,"name","SlowDownException");s(this,"$fault","client");s(this,"error");s(this,"error_description");Object.setPrototypeOf(this,N.prototype),this.error=t.error,this.error_description=t.error_description}}class L extends l{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t});s(this,"name","UnauthorizedClientException");s(this,"$fault","client");s(this,"error");s(this,"error_description");Object.setPrototypeOf(this,L.prototype),this.error=t.error,this.error_description=t.error_description}}class Z extends l{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t});s(this,"name","UnsupportedGrantTypeException");s(this,"$fault","client");s(this,"error");s(this,"error_description");Object.setPrototypeOf(this,Z.prototype),this.error=t.error,this.error_description=t.error_description}}var Y=o(303975),Ye=o(353156);const We=async(e,n)=>{const t=(0,Ye.l)(e,n),a={"content-type":"application/json"};t.bp("/token");let i;return i=JSON.stringify((0,r.s)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:c=>(0,r.Ss)(c)})),t.m("POST").h(a).b(i),t.build()},_e=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return Xe(e,n);const t=(0,r.Tj)({$metadata:x(e)}),a=(0,r.Y0)((0,r.Xk)(await(0,Y.Y2)(e.body,n)),"body"),i=(0,r.s)(a,{accessToken:r.lK,expiresIn:r.ET,idToken:r.lK,refreshToken:r.lK,tokenType:r.lK});return Object.assign(t,i),t},Xe=async(e,n)=>{const t={...e,body:await(0,Y.CG)(e.body,n)},a=(0,Y.cJ)(e,t.body);switch(a){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await qe(t,n);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await et(t,n);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await tt(t,n);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await rt(t,n);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await nt(t,n);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await ot(t,n);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await st(t,n);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await it(t,n);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await at(t,n);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await ct(t,n);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await dt(t,n);default:const i=t.body;return Qe({output:e,parsedBody:i,errorCode:a})}},Qe=(0,r.jr)(l),qe=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new U({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},et=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new H({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},tt=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new M({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},rt=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new F({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},nt=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new G({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},ot=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new V({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},st=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new B({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},it=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new J({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},at=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new N({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},ct=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new L({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},dt=async(e,n)=>{const t=(0,r.Tj)({}),a=e.body,i=(0,r.s)(a,{error:r.lK,error_description:r.lK});Object.assign(t,i);const c=new Z({$metadata:x(e),...t});return(0,r.Mw)(c,e.body)},x=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Et=(e,n)=>collectBody(e,n).then(t=>n.utf8Encoder(t));class ve extends r.uB.classBuilder().ep(Ce).m(function(n,t,a,i){return[(0,Ne.TM)(a,this.serialize,this.deserialize),(0,S.rD)(a,n.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Le,Ze).ser(We).de(_e).build(){}const lt={CreateTokenCommand:ve};class pt extends fe{}(0,r.J1)(lt,pt)},288056:(g,p,o)=>{o.d(p,{m:()=>I});class I{async sign(O,D,h){return O}}},313659:g=>{g.exports={rE:"3.858.0"}}};
