"use strict";exports.id=4680,exports.ids=[4680],exports.modules={634680:(ut,pe,a)=>{a.d(pe,{GetRoleCredentialsCommand:()=>Te,SSOClient:()=>at});var $=a(334546),he=a(408029),n=a(323007);const ye=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),fe={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class p extends n.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,p.prototype)}}class w extends p{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,w.prototype)}}class T extends p{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,T.prototype)}}class N extends p{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,N.prototype)}}class O extends p{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,O.prototype)}}const ge=e=>({...e,...e.accessToken&&{accessToken:n.SENSITIVE_STRING}}),Se=e=>({...e,...e.secretAccessKey&&{secretAccessKey:n.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:n.SENSITIVE_STRING}}),ve=e=>({...e,...e.roleCredentials&&{roleCredentials:Se(e.roleCredentials)}}),mt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),pt=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}}),ht=e=>({...e,...e.accessToken&&{accessToken:SENSITIVE_STRING}});var L=a(81830),g=a(125158);const Ee=async(e,t)=>{const s=(0,g.lI)(e,t),o=(0,n.map)({},b,{[I]:e[R]});s.bp("/federation/credentials");const r=(0,n.map)({[we]:[,(0,n.expectNonNull)(e[Pe],"roleName")],[B]:[,(0,n.expectNonNull)(e[z],"accountId")]});let i;return s.m("GET").h(o).q(r).b(i),s.build()},yt=async(e,t)=>{const s=rb(e,t),o=map({},b,{[I]:e[R]});s.bp("/assignment/roles");const r=map({[V]:[,e[j]],[G]:[()=>e.maxResults!==void 0,()=>e[_].toString()],[B]:[,__expectNonNull(e[z],"accountId")]});let i;return s.m("GET").h(o).q(r).b(i),s.build()},ft=async(e,t)=>{const s=rb(e,t),o=map({},b,{[I]:e[R]});s.bp("/assignment/accounts");const r=map({[V]:[,e[j]],[G]:[()=>e.maxResults!==void 0,()=>e[_].toString()]});let i;return s.m("GET").h(o).q(r).b(i),s.build()},gt=async(e,t)=>{const s=rb(e,t),o=map({},b,{[I]:e[R]});s.bp("/logout");let r;return s.m("POST").h(o).b(r),s.build()},xe=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return x(e,t);const s=(0,n.map)({$metadata:m(e)}),o=(0,n.expectNonNull)((0,n.expectObject)(await(0,L.Y2)(e.body,t)),"body"),r=(0,n.take)(o,{roleCredentials:n._json});return Object.assign(s,r),s},St=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return x(e,t);const s=map({$metadata:m(e)}),o=__expectNonNull(__expectObject(await parseBody(e.body,t)),"body"),r=take(o,{nextToken:__expectString,roleList:_json});return Object.assign(s,r),s},vt=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return x(e,t);const s=map({$metadata:m(e)}),o=__expectNonNull(__expectObject(await parseBody(e.body,t)),"body"),r=take(o,{accountList:_json,nextToken:__expectString});return Object.assign(s,r),s},Et=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return x(e,t);const s=map({$metadata:m(e)});return await collectBody(e.body,t),s},x=async(e,t)=>{const s={...e,body:await(0,L.CG)(e.body,t)},o=(0,L.cJ)(e,s.body);switch(o){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await Re(s,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Ie(s,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Ce(s,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Ae(s,t);default:const r=s.body;return be({output:e,parsedBody:r,errorCode:o})}},be=(0,n.withBaseException)(p),Re=async(e,t)=>{const s=(0,n.map)({}),o=e.body,r=(0,n.take)(o,{message:n.expectString});Object.assign(s,r);const i=new w({$metadata:m(e),...s});return(0,n.decorateServiceException)(i,e.body)},Ie=async(e,t)=>{const s=(0,n.map)({}),o=e.body,r=(0,n.take)(o,{message:n.expectString});Object.assign(s,r);const i=new T({$metadata:m(e),...s});return(0,n.decorateServiceException)(i,e.body)},Ce=async(e,t)=>{const s=(0,n.map)({}),o=e.body,r=(0,n.take)(o,{message:n.expectString});Object.assign(s,r);const i=new N({$metadata:m(e),...s});return(0,n.decorateServiceException)(i,e.body)},Ae=async(e,t)=>{const s=(0,n.map)({}),o=e.body,r=(0,n.take)(o,{message:n.expectString});Object.assign(s,r);const i=new O({$metadata:m(e),...s});return(0,n.decorateServiceException)(i,e.body)},m=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xt=(e,t)=>collectBody(e,t).then(s=>t.utf8Encoder(s)),b=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),z="accountId",R="accessToken",B="account_id",_="maxResults",G="max_result",j="nextToken",V="next_token",Pe="roleName",we="role_name",I="x-amz-sso_bearer_token";class Te extends n.Command.classBuilder().ep({...fe}).m(function(t,s,o,r){return[(0,he.TM)(o,this.serialize,this.deserialize),(0,$.rD)(o,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(ge,ve).ser(Ee).de(xe).build(){}var M=a(731758),Ne=a(146170),Oe=a(196692),H=a(633202),S=a(57801),Le=a(251320),C=a(425263),ke=a(250784),Z=a(442952);const Ue=async(e,t,s)=>({operation:(0,Z.u)(t).operation,region:await(0,Z.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function De(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,s)=>({signingProperties:{config:t,context:s}})}}function A(e){return{schemeId:"smithy.api#noAuth"}}const Fe=e=>{const t=[];switch(e.operation){case"GetRoleCredentials":{t.push(A(e));break}case"ListAccountRoles":{t.push(A(e));break}case"ListAccounts":{t.push(A(e));break}case"Logout":{t.push(A(e));break}default:t.push(De(e))}return t},$e=e=>({...(0,ke.h)(e)}),ze={rE:"3.637.0"};var Be=a(668227),_e=a(62438),Ge=a(951461),v=a(75854),K=a(132117),je=a(788226),Ve=a(994134),Me=a(59065),He=a(142640),W=a(361821);const Ze=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var k=a(320181);const Ke=(e,t=0,s=e.byteLength-t)=>{if(!Ze(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return k.Buffer.from(e,t,s)},We=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?k.Buffer.from(e,t):k.Buffer.from(e)},Ye=e=>{const t=We(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},bt=e=>typeof e=="string"?fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),qe=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return Ke(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};var Je=a(206775),Y=a(405332);const q="required",c="fn",d="argv",h="ref",J=!0,Q="isSet",E="booleanEquals",y="error",f="endpoint",u="tree",U="PartitionResult",D="getAttr",X={[q]:!1,type:"String"},ee={[q]:!0,default:!1,type:"Boolean"},te={[h]:"Endpoint"},se={[c]:E,[d]:[{[h]:"UseFIPS"},!0]},ne={[c]:E,[d]:[{[h]:"UseDualStack"},!0]},l={},oe={[c]:D,[d]:[{[h]:U},"supportsFIPS"]},re={[h]:U},ae={[c]:E,[d]:[!0,{[c]:D,[d]:[re,"supportsDualStack"]}]},ie=[se],ce=[ne],de=[{[h]:"Region"}],Qe={version:"1.0",parameters:{Region:X,UseDualStack:ee,UseFIPS:ee,Endpoint:X},rules:[{conditions:[{[c]:Q,[d]:[te]}],rules:[{conditions:ie,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:y},{conditions:ce,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:y},{endpoint:{url:te,properties:l,headers:l},type:f}],type:u},{conditions:[{[c]:Q,[d]:de}],rules:[{conditions:[{[c]:"aws.partition",[d]:de,assign:U}],rules:[{conditions:[se,ne],rules:[{conditions:[{[c]:E,[d]:[J,oe]},ae],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:f}],type:u},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:y}],type:u},{conditions:ie,rules:[{conditions:[{[c]:E,[d]:[oe,J]}],rules:[{conditions:[{[c]:"stringEquals",[d]:[{[c]:D,[d]:[re,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:l,headers:l},type:f},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:f}],type:u},{error:"FIPS is enabled but this partition does not support FIPS",type:y}],type:u},{conditions:ce,rules:[{conditions:[ae],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:l,headers:l},type:f}],type:u},{error:"DualStack is enabled but this partition does not support DualStack",type:y}],type:u},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:l,headers:l},type:f}],type:u}],type:u},{error:"Invalid Configuration: Missing Region",type:y}]},Xe=(e,t={})=>(0,Y.sO)(Qe,{endpointParams:e,logger:t.logger});Y.mw.aws=Je.UF;const et=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??W.E,base64Encoder:e?.base64Encoder??W.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Xe,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??Fe,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new Me.f2},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new g.mR}],logger:e?.logger??new n.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??He.D,utf8Decoder:e?.utf8Decoder??Ye,utf8Encoder:e?.utf8Encoder??qe});var tt=a(534546);const st=e=>{(0,n.emitWarningIfUnsupportedVersion)(process.version);const t=(0,tt.I)(e),s=()=>t().then(n.loadConfigsForDefaultMode),o=et(e);return(0,Be.I)(process.version),{...o,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??je.n,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,_e.mJ)({serviceId:o.serviceId,clientVersion:ze.rE}),maxAttempts:e?.maxAttempts??(0,v.Z)(C.qs),region:e?.region??(0,v.Z)(S.GG,S.zH),requestHandler:K.$c.create(e?.requestHandler??s),retryMode:e?.retryMode??(0,v.Z)({...C.kN,default:async()=>(await s()).retryMode||Ve.L0}),sha256:e?.sha256??Ge.V.bind(null,"sha256"),streamCollector:e?.streamCollector??K.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,v.Z)(S.e$),useFipsEndpoint:e?.useFipsEndpoint??(0,v.Z)(S.Ko)}};var le=a(303119),ue=a(890130);const nt=e=>{const t=e.httpAuthSchemes;let s=e.httpAuthSchemeProvider,o=e.credentials;return{setHttpAuthScheme(r){const i=t.findIndex(F=>F.schemeId===r.schemeId);i===-1?t.push(r):t.splice(i,1,r)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(r){s=r},httpAuthSchemeProvider(){return s},setCredentials(r){o=r},credentials(){return o}}},ot=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),P=e=>e,rt=(e,t)=>{const s={...P((0,le.Rq)(e)),...P((0,n.getDefaultExtensionConfiguration)(e)),...P((0,ue.eS)(e)),...P(nt(e))};return t.forEach(o=>o.configure(s)),{...e,...(0,le.$3)(s),...(0,n.resolveDefaultRuntimeConfig)(s),...(0,ue.jt)(s),...ot(s)}};class at extends n.Client{constructor(...[t]){const s=st(t||{}),o=ye(s),r=(0,H.Dc)(o),i=(0,C.$z)(r),F=(0,S.TD)(i),it=(0,M.OV)(F),ct=(0,$.Co)(it),dt=$e(ct),me=rt(dt,t?.extensions||[]);super(me),this.config=me,this.middlewareStack.use((0,H.sM)(this.config)),this.middlewareStack.use((0,C.ey)(this.config)),this.middlewareStack.use((0,Le.vK)(this.config)),this.middlewareStack.use((0,M.TC)(this.config)),this.middlewareStack.use((0,Ne.Y7)(this.config)),this.middlewareStack.use((0,Oe.n4)(this.config)),this.middlewareStack.use((0,g.wB)(this.config,{httpAuthSchemeParametersProvider:Ue,identityProviderConfigProvider:async lt=>new g.h$({"aws.auth#sigv4":lt.credentials})})),this.middlewareStack.use((0,g.lW)(this.config))}destroy(){super.destroy()}}}};
